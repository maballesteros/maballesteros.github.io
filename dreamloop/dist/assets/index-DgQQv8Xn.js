(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function n(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=n(r);fetch(r.href,f)}})();function eg(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Ju={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function qv(){if(dp)return Fl;dp=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,r,f){var m=null;if(f!==void 0&&(m=""+f),r.key!==void 0&&(m=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:o,type:a,key:m,ref:r!==void 0?r:null,props:f}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var mp;function zv(){return mp||(mp=1,Ju.exports=qv()),Ju.exports}var E=zv(),Xu={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function Bv(){if(pp)return Ce;pp=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,G={};function z(x,P,K){this.props=x,this.context=P,this.refs=G,this.updater=K||N}z.prototype.isReactComponent={},z.prototype.setState=function(x,P){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,P,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function W(){}W.prototype=z.prototype;function j(x,P,K){this.props=x,this.context=P,this.refs=G,this.updater=K||N}var J=j.prototype=new W;J.constructor=j,U(J,z.prototype),J.isPureReactComponent=!0;var le=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function he(x,P,K,H,ne,Se){return K=Se.ref,{$$typeof:o,type:x,key:P,ref:K!==void 0?K:null,props:Se}}function we(x,P){return he(x.type,P,void 0,void 0,void 0,x.props)}function ie(x){return typeof x=="object"&&x!==null&&x.$$typeof===o}function _e(x){var P={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(K){return P[K]})}var Je=/\/+/g;function lt(x,P){return typeof x=="object"&&x!==null&&x.key!=null?_e(""+x.key):P.toString(36)}function Vt(){}function ct(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Vt,Vt):(x.status="pending",x.then(function(P){x.status==="pending"&&(x.status="fulfilled",x.value=P)},function(P){x.status==="pending"&&(x.status="rejected",x.reason=P)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function et(x,P,K,H,ne){var Se=typeof x;(Se==="undefined"||Se==="boolean")&&(x=null);var de=!1;if(x===null)de=!0;else switch(Se){case"bigint":case"string":case"number":de=!0;break;case"object":switch(x.$$typeof){case o:case e:de=!0;break;case v:return de=x._init,et(de(x._payload),P,K,H,ne)}}if(de)return ne=ne(x),de=H===""?"."+lt(x,0):H,le(ne)?(K="",de!=null&&(K=de.replace(Je,"$&/")+"/"),et(ne,P,K,"",function(it){return it})):ne!=null&&(ie(ne)&&(ne=we(ne,K+(ne.key==null||x&&x.key===ne.key?"":(""+ne.key).replace(Je,"$&/")+"/")+de)),P.push(ne)),1;de=0;var vt=H===""?".":H+":";if(le(x))for(var Ge=0;Ge<x.length;Ge++)H=x[Ge],Se=vt+lt(H,Ge),de+=et(H,P,K,Se,ne);else if(Ge=S(x),typeof Ge=="function")for(x=Ge.call(x),Ge=0;!(H=x.next()).done;)H=H.value,Se=vt+lt(H,Ge++),de+=et(H,P,K,Se,ne);else if(Se==="object"){if(typeof x.then=="function")return et(ct(x),P,K,H,ne);throw P=String(x),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return de}function L(x,P,K){if(x==null)return x;var H=[],ne=0;return et(x,H,"","",function(Se){return P.call(K,Se,ne++)}),H}function F(x){if(x._status===-1){var P=x._result;P=P(),P.then(function(K){(x._status===0||x._status===-1)&&(x._status=1,x._result=K)},function(K){(x._status===0||x._status===-1)&&(x._status=2,x._result=K)}),x._status===-1&&(x._status=0,x._result=P)}if(x._status===1)return x._result.default;throw x._result}var oe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ze(){}return Ce.Children={map:L,forEach:function(x,P,K){L(x,function(){P.apply(this,arguments)},K)},count:function(x){var P=0;return L(x,function(){P++}),P},toArray:function(x){return L(x,function(P){return P})||[]},only:function(x){if(!ie(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ce.Component=z,Ce.Fragment=n,Ce.Profiler=r,Ce.PureComponent=j,Ce.StrictMode=a,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Y.H.useMemoCache(x)}},Ce.cache=function(x){return function(){return x.apply(null,arguments)}},Ce.cloneElement=function(x,P,K){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var H=U({},x.props),ne=x.key,Se=void 0;if(P!=null)for(de in P.ref!==void 0&&(Se=void 0),P.key!==void 0&&(ne=""+P.key),P)!re.call(P,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&P.ref===void 0||(H[de]=P[de]);var de=arguments.length-2;if(de===1)H.children=K;else if(1<de){for(var vt=Array(de),Ge=0;Ge<de;Ge++)vt[Ge]=arguments[Ge+2];H.children=vt}return he(x.type,ne,void 0,void 0,Se,H)},Ce.createContext=function(x){return x={$$typeof:m,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},Ce.createElement=function(x,P,K){var H,ne={},Se=null;if(P!=null)for(H in P.key!==void 0&&(Se=""+P.key),P)re.call(P,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(ne[H]=P[H]);var de=arguments.length-2;if(de===1)ne.children=K;else if(1<de){for(var vt=Array(de),Ge=0;Ge<de;Ge++)vt[Ge]=arguments[Ge+2];ne.children=vt}if(x&&x.defaultProps)for(H in de=x.defaultProps,de)ne[H]===void 0&&(ne[H]=de[H]);return he(x,Se,void 0,void 0,null,ne)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(x){return{$$typeof:g,render:x}},Ce.isValidElement=ie,Ce.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:F}},Ce.memo=function(x,P){return{$$typeof:h,type:x,compare:P===void 0?null:P}},Ce.startTransition=function(x){var P=Y.T,K={};Y.T=K;try{var H=x(),ne=Y.S;ne!==null&&ne(K,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ze,oe)}catch(Se){oe(Se)}finally{Y.T=P}},Ce.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ce.use=function(x){return Y.H.use(x)},Ce.useActionState=function(x,P,K){return Y.H.useActionState(x,P,K)},Ce.useCallback=function(x,P){return Y.H.useCallback(x,P)},Ce.useContext=function(x){return Y.H.useContext(x)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(x,P){return Y.H.useDeferredValue(x,P)},Ce.useEffect=function(x,P,K){var H=Y.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(x,P)},Ce.useId=function(){return Y.H.useId()},Ce.useImperativeHandle=function(x,P,K){return Y.H.useImperativeHandle(x,P,K)},Ce.useInsertionEffect=function(x,P){return Y.H.useInsertionEffect(x,P)},Ce.useLayoutEffect=function(x,P){return Y.H.useLayoutEffect(x,P)},Ce.useMemo=function(x,P){return Y.H.useMemo(x,P)},Ce.useOptimistic=function(x,P){return Y.H.useOptimistic(x,P)},Ce.useReducer=function(x,P,K){return Y.H.useReducer(x,P,K)},Ce.useRef=function(x){return Y.H.useRef(x)},Ce.useState=function(x){return Y.H.useState(x)},Ce.useSyncExternalStore=function(x,P,K){return Y.H.useSyncExternalStore(x,P,K)},Ce.useTransition=function(){return Y.H.useTransition()},Ce.version="19.1.0",Ce}var hp;function Ec(){return hp||(hp=1,Xu.exports=Bv()),Xu.exports}var De=Ec();const Hv=eg(De);var Qu={exports:{}},Yl={},Wu={exports:{}},ju={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Fv(){return gp||(gp=1,function(o){function e(L,F){var oe=L.length;L.push(F);e:for(;0<oe;){var ze=oe-1>>>1,x=L[ze];if(0<r(x,F))L[ze]=F,L[oe]=x,oe=ze;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var F=L[0],oe=L.pop();if(oe!==F){L[0]=oe;e:for(var ze=0,x=L.length,P=x>>>1;ze<P;){var K=2*(ze+1)-1,H=L[K],ne=K+1,Se=L[ne];if(0>r(H,oe))ne<x&&0>r(Se,H)?(L[ze]=Se,L[ne]=oe,ze=ne):(L[ze]=H,L[K]=oe,ze=K);else if(ne<x&&0>r(Se,oe))L[ze]=Se,L[ne]=oe,ze=ne;else break e}}return F}function r(L,F){var oe=L.sortIndex-F.sortIndex;return oe!==0?oe:L.id-F.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();o.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,_=null,S=3,N=!1,U=!1,G=!1,z=!1,W=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function le(L){for(var F=n(h);F!==null;){if(F.callback===null)a(h);else if(F.startTime<=L)a(h),F.sortIndex=F.expirationTime,e(y,F);else break;F=n(h)}}function Y(L){if(G=!1,le(L),!U)if(n(y)!==null)U=!0,re||(re=!0,lt());else{var F=n(h);F!==null&&et(Y,F.startTime-L)}}var re=!1,he=-1,we=5,ie=-1;function _e(){return z?!0:!(o.unstable_now()-ie<we)}function Je(){if(z=!1,re){var L=o.unstable_now();ie=L;var F=!0;try{e:{U=!1,G&&(G=!1,j(he),he=-1),N=!0;var oe=S;try{t:{for(le(L),_=n(y);_!==null&&!(_.expirationTime>L&&_e());){var ze=_.callback;if(typeof ze=="function"){_.callback=null,S=_.priorityLevel;var x=ze(_.expirationTime<=L);if(L=o.unstable_now(),typeof x=="function"){_.callback=x,le(L),F=!0;break t}_===n(y)&&a(y),le(L)}else a(y);_=n(y)}if(_!==null)F=!0;else{var P=n(h);P!==null&&et(Y,P.startTime-L),F=!1}}break e}finally{_=null,S=oe,N=!1}F=void 0}}finally{F?lt():re=!1}}}var lt;if(typeof J=="function")lt=function(){J(Je)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,ct=Vt.port2;Vt.port1.onmessage=Je,lt=function(){ct.postMessage(null)}}else lt=function(){W(Je,0)};function et(L,F){he=W(function(){L(o.unstable_now())},F)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(L){L.callback=null},o.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<L?Math.floor(1e3/L):5},o.unstable_getCurrentPriorityLevel=function(){return S},o.unstable_next=function(L){switch(S){case 1:case 2:case 3:var F=3;break;default:F=S}var oe=S;S=F;try{return L()}finally{S=oe}},o.unstable_requestPaint=function(){z=!0},o.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var oe=S;S=L;try{return F()}finally{S=oe}},o.unstable_scheduleCallback=function(L,F,oe){var ze=o.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ze+oe:ze):oe=ze,L){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=oe+x,L={id:v++,callback:F,priorityLevel:L,startTime:oe,expirationTime:x,sortIndex:-1},oe>ze?(L.sortIndex=oe,e(h,L),n(y)===null&&L===n(h)&&(G?(j(he),he=-1):G=!0,et(Y,oe-ze))):(L.sortIndex=x,e(y,L),U||N||(U=!0,re||(re=!0,lt()))),L},o.unstable_shouldYield=_e,o.unstable_wrapCallback=function(L){var F=S;return function(){var oe=S;S=F;try{return L.apply(this,arguments)}finally{S=oe}}}}(ju)),ju}var yp;function Yv(){return yp||(yp=1,Wu.exports=Fv()),Wu.exports}var ec={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function $v(){if(vp)return Rt;vp=1;var o=Ec();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:y,containerInfo:h,implementation:v}}var m=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Rt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return f(y,h,null,v)},Rt.flushSync=function(y){var h=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=v,a.d.f()}},Rt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},Rt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Rt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,_=g(v,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,N=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:N}):v==="script"&&a.d.X(y,{crossOrigin:_,integrity:S,fetchPriority:N,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Rt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},Rt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,_=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Rt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},Rt.requestFormReset=function(y){a.d.r(y)},Rt.unstable_batchedUpdates=function(y,h){return y(h)},Rt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},Rt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Rt.version="19.1.0",Rt}var Tp;function Zv(){if(Tp)return ec.exports;Tp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),ec.exports=$v(),ec.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function Kv(){if(Cp)return Yl;Cp=1;var o=Yv(),e=Ec(),n=Zv();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(a(188));return i!==t?null:t}for(var l=t,s=i;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return g(d),t;if(p===s)return g(d),i;p=p.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=p;else{for(var T=!1,C=d.child;C;){if(C===l){T=!0,l=d,s=p;break}if(C===s){T=!0,s=d,l=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===l){T=!0,l=p,s=d;break}if(C===s){T=!0,s=p,l=d;break}C=C.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?t:i}function h(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=h(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),J=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),Je=Symbol.iterator;function lt(t){return t===null||typeof t!="object"?null:(t=Je&&t[Je]||t["@@iterator"],typeof t=="function"?t:null)}var Vt=Symbol.for("react.client.reference");function ct(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Vt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case z:return"Profiler";case G:return"StrictMode";case Y:return"Suspense";case re:return"SuspenseList";case ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case J:return(t.displayName||"Context")+".Provider";case j:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case he:return i=t.displayName||null,i!==null?i:ct(t.type)||"Memo";case we:i=t._payload,t=t._init;try{return ct(t(i))}catch{}}return null}var et=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ze=[],x=-1;function P(t){return{current:t}}function K(t){0>x||(t.current=ze[x],ze[x]=null,x--)}function H(t,i){x++,ze[x]=t.current,t.current=i}var ne=P(null),Se=P(null),de=P(null),vt=P(null);function Ge(t,i){switch(H(de,i),H(Se,t),H(ne,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?qm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=qm(i),t=zm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ne),H(ne,t)}function it(){K(ne),K(Se),K(de)}function Xa(t){t.memoizedState!==null&&H(vt,t);var i=ne.current,l=zm(i,t.type);i!==l&&(H(Se,t),H(ne,l))}function In(t){Se.current===t&&(K(ne),K(Se)),vt.current===t&&(K(vt),Pl._currentValue=oe)}var Dt=Object.prototype.hasOwnProperty,Mt=o.unstable_scheduleCallback,Xi=o.unstable_cancelCallback,Be=o.unstable_shouldYield,ke=o.unstable_requestPaint,Gt=o.unstable_now,Gr=o.unstable_getCurrentPriorityLevel,eo=o.unstable_ImmediatePriority,Qa=o.unstable_UserBlockingPriority,wn=o.unstable_NormalPriority,kr=o.unstable_LowPriority,to=o.unstable_IdlePriority,Un=o.log,no=o.unstable_setDisableYieldValue,ei=null,bt=null;function Cn(t){if(typeof Un=="function"&&no(t),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(ei,t)}catch{}}var It=Math.clz32?Math.clz32:zr,Pr=Math.log,qr=Math.LN2;function zr(t){return t>>>=0,t===0?32:31-(Pr(t)/qr|0)|0}var Qi=256,Wi=4194304;function Ln(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ji(t,i,l){var s=t.pendingLanes;if(s===0)return 0;var d=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=s&134217727;return C!==0?(s=C&~p,s!==0?d=Ln(s):(T&=C,T!==0?d=Ln(T):l||(l=C&~t,l!==0&&(d=Ln(l))))):(C=s&~p,C!==0?d=Ln(C):T!==0?d=Ln(T):l||(l=s&~t,l!==0&&(d=Ln(l)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,l=i&-i,p>=l||p===32&&(l&4194048)!==0)?i:d}function Di(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Br(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var t=Qi;return Qi<<=1,(Qi&4194048)===0&&(Qi=256),t}function kt(){var t=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),t}function Pt(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function dn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function B(t,i,l,s,d,p){var T=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var C=t.entanglements,A=t.expirationTimes,b=t.hiddenUpdates;for(l=T&~l;0<l;){var O=31-It(l),k=1<<O;C[O]=0,A[O]=-1;var I=b[O];if(I!==null)for(b[O]=null,O=0;O<I.length;O++){var w=I[O];w!==null&&(w.lane&=-536870913)}l&=~k}s!==0&&Z(t,s,0),p!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~i))}function Z(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var s=31-It(i);t.entangledLanes|=i,t.entanglements[s]=t.entanglements[s]|1073741824|l&4194090}function me(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var s=31-It(l),d=1<<s;d&i|t[s]&i&&(t[s]|=i),l&=~d}}function be(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ae(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ge(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:op(t.type))}function ft(t,i){var l=F.p;try{return F.p=t,i()}finally{F.p=l}}var Oe=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Oe,Ue="__reactProps$"+Oe,Tt="__reactContainer$"+Oe,ve="__reactEvents$"+Oe,wt="__reactListeners$"+Oe,_n="__reactHandles$"+Oe,mn="__reactResources$"+Oe,$t="__reactMarker$"+Oe;function ea(t){delete t[Ee],delete t[Ue],delete t[ve],delete t[wt],delete t[_n]}function On(t){var i=t[Ee];if(i)return i;for(var l=t.parentNode;l;){if(i=l[Tt]||l[Ee]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Ym(t);t!==null;){if(l=t[Ee])return l;t=Ym(t)}return i}t=l,l=t.parentNode}return null}function ht(t){if(t=t[Ee]||t[Tt]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ti(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function tt(t){var i=t[mn];return i||(i=t[mn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(t){t[$t]=!0}var qt=new Set,ni={};function pn(t,i){ta(t,i),ta(t+"Capture",i)}function ta(t,i){for(ni[t]=i,t=0;t<i.length;t++)qt.add(i[t])}var wg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bc={},Ic={};function Ug(t){return Dt.call(Ic,t)?!0:Dt.call(bc,t)?!1:wg.test(t)?Ic[t]=!0:(bc[t]=!0,!1)}function ao(t,i,l){if(Ug(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function lo(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function Vn(t,i,l,s){if(s===null)t.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+s)}}var Hr,wc;function na(t){if(Hr===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Hr=i&&i[1]||"",wc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+t+wc}var Fr=!1;function Yr(t,i){if(!t||Fr)return"";Fr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(w){var I=w}Reflect.construct(t,[],k)}else{try{k.call()}catch(w){I=w}t.call(k.prototype)}}else{try{throw Error()}catch(w){I=w}(k=t())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(w){if(w&&I&&typeof w.stack=="string")return[w.stack,I.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var A=T.split(`
`),b=C.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<b.length&&!b[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===b.length)for(s=A.length-1,d=b.length-1;1<=s&&0<=d&&A[s]!==b[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==b[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==b[d]){var O=`
`+A[s].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=s&&0<=d);break}}}finally{Fr=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?na(l):""}function Lg(t){switch(t.tag){case 26:case 27:case 5:return na(t.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 15:return Yr(t.type,!1);case 11:return Yr(t.type.render,!1);case 1:return Yr(t.type,!0);case 31:return na("Activity");default:return""}}function Uc(t){try{var i="";do i+=Lg(t),t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Og(t){var i=Lc(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),s=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,p=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){s=""+T,p.call(this,T)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function oo(t){t._valueTracker||(t._valueTracker=Og(t))}function Oc(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),s="";return t&&(s=Lc(t)?t.checked?"true":"false":t.value),t=s,t!==l?(i.setValue(t),!0):!1}function ro(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vg=/[\n"\\]/g;function tn(t){return t.replace(Vg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $r(t,i,l,s,d,p,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Zr(t,T,en(i)):l!=null?Zr(t,T,en(l)):s!=null&&t.removeAttribute("value"),d==null&&p!=null&&(t.defaultChecked=!!p),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+en(C):t.removeAttribute("name")}function Vc(t,i,l,s,d,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;l=l!=null?""+en(l):"",i=i!=null?""+en(i):l,C||i===t.value||(t.value=i),t.defaultValue=i}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=C?t.checked:!!s,t.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Zr(t,i,l){i==="number"&&ro(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ia(t,i,l,s){if(t=t.options,i){i={};for(var d=0;d<l.length;d++)i["$"+l[d]]=!0;for(l=0;l<t.length;l++)d=i.hasOwnProperty("$"+t[l].value),t[l].selected!==d&&(t[l].selected=d),d&&s&&(t[l].defaultSelected=!0)}else{for(l=""+en(l),i=null,d=0;d<t.length;d++){if(t[d].value===l){t[d].selected=!0,s&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Gc(t,i,l){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+en(l):""}function kc(t,i,l,s){if(i==null){if(s!=null){if(l!=null)throw Error(a(92));if(et(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),i=l}l=en(i),t.defaultValue=l,s=t.textContent,s===l&&s!==""&&s!==null&&(t.value=s)}function aa(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var Gg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pc(t,i,l){var s=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":s?t.setProperty(i,l):typeof l!="number"||l===0||Gg.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function qc(t,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var d in i)s=i[d],i.hasOwnProperty(d)&&l[d]!==s&&Pc(t,d,s)}else for(var p in i)i.hasOwnProperty(p)&&Pc(t,p,i[p])}function Kr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(t){return Pg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Jr=null;function Xr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,oa=null;function zc(t){var i=ht(t);if(i&&(t=i.stateNode)){var l=t[Ue]||null;e:switch(t=i.stateNode,i.type){case"input":if($r(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+tn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var s=l[i];if(s!==t&&s.form===t.form){var d=s[Ue]||null;if(!d)throw Error(a(90));$r(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<l.length;i++)s=l[i],s.form===t.form&&Oc(s)}break e;case"textarea":Gc(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ia(t,!!l.multiple,i,!1)}}}var Qr=!1;function Bc(t,i,l){if(Qr)return t(i,l);Qr=!0;try{var s=t(i);return s}finally{if(Qr=!1,(la!==null||oa!==null)&&(Ko(),la&&(i=la,t=oa,oa=la=null,zc(i),t)))for(i=0;i<t.length;i++)zc(t[i])}}function Wa(t,i){var l=t.stateNode;if(l===null)return null;var s=l[Ue]||null;if(s===null)return null;l=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(Gn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{Wr=!1}var ii=null,jr=null,uo=null;function Hc(){if(uo)return uo;var t,i=jr,l=i.length,s,d="value"in ii?ii.value:ii.textContent,p=d.length;for(t=0;t<l&&i[t]===d[t];t++);var T=l-t;for(s=1;s<=T&&i[l-s]===d[p-s];s++);return uo=d.slice(t,1<s?1-s:void 0)}function co(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function fo(){return!0}function Fc(){return!1}function zt(t){function i(l,s,d,p,T){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(l=t[C],this[C]=l?l(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fo:Fc,this.isPropagationStopped=Fc,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),i}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=zt(bi),el=v({},bi,{view:0,detail:0}),qg=zt(el),es,ts,tl,po=v({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tl&&(tl&&t.type==="mousemove"?(es=t.screenX-tl.screenX,ts=t.screenY-tl.screenY):ts=es=0,tl=t),es)},movementY:function(t){return"movementY"in t?t.movementY:ts}}),Yc=zt(po),zg=v({},po,{dataTransfer:0}),Bg=zt(zg),Hg=v({},el,{relatedTarget:0}),ns=zt(Hg),Fg=v({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yg=zt(Fg),$g=v({},bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zg=zt($g),Kg=v({},bi,{data:0}),$c=zt(Kg),Jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Qg[t])?!!i[t]:!1}function is(){return Wg}var jg=v({},el,{key:function(t){if(t.key){var i=Jg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=co(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(t){return t.type==="keypress"?co(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?co(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ey=zt(jg),ty=v({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=zt(ty),ny=v({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),iy=zt(ny),ay=v({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ly=zt(ay),oy=v({},po,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ry=zt(oy),sy=v({},bi,{newState:0,oldState:0}),uy=zt(sy),cy=[9,13,27,32],as=Gn&&"CompositionEvent"in window,nl=null;Gn&&"documentMode"in document&&(nl=document.documentMode);var fy=Gn&&"TextEvent"in window&&!nl,Kc=Gn&&(!as||nl&&8<nl&&11>=nl),Jc=" ",Xc=!1;function Qc(t,i){switch(t){case"keyup":return cy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ra=!1;function dy(t,i){switch(t){case"compositionend":return Wc(i);case"keypress":return i.which!==32?null:(Xc=!0,Jc);case"textInput":return t=i.data,t===Jc&&Xc?null:t;default:return null}}function my(t,i){if(ra)return t==="compositionend"||!as&&Qc(t,i)?(t=Hc(),uo=jr=ii=null,ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Kc&&i.locale!=="ko"?null:i.data;default:return null}}var py={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!py[t.type]:i==="textarea"}function ef(t,i,l,s){la?oa?oa.push(s):oa=[s]:la=s,i=er(i,"onChange"),0<i.length&&(l=new mo("onChange","change",null,l,s),t.push({event:l,listeners:i}))}var il=null,al=null;function hy(t){Om(t,0)}function ho(t){var i=ti(t);if(Oc(i))return t}function tf(t,i){if(t==="change")return i}var nf=!1;if(Gn){var ls;if(Gn){var os="oninput"in document;if(!os){var af=document.createElement("div");af.setAttribute("oninput","return;"),os=typeof af.oninput=="function"}ls=os}else ls=!1;nf=ls&&(!document.documentMode||9<document.documentMode)}function lf(){il&&(il.detachEvent("onpropertychange",of),al=il=null)}function of(t){if(t.propertyName==="value"&&ho(al)){var i=[];ef(i,al,t,Xr(t)),Bc(hy,i)}}function gy(t,i,l){t==="focusin"?(lf(),il=i,al=l,il.attachEvent("onpropertychange",of)):t==="focusout"&&lf()}function yy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ho(al)}function vy(t,i){if(t==="click")return ho(i)}function Ty(t,i){if(t==="input"||t==="change")return ho(i)}function Cy(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Zt=typeof Object.is=="function"?Object.is:Cy;function ll(t,i){if(Zt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),s=Object.keys(i);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!Dt.call(i,d)||!Zt(t[d],i[d]))return!1}return!0}function rf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sf(t,i){var l=rf(t);t=0;for(var s;l;){if(l.nodeType===3){if(s=t+l.textContent.length,t<=i&&s>=i)return{node:l,offset:i-t};t=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=rf(l)}}function uf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?uf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function cf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ro(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=ro(t.document)}return i}function rs(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var _y=Gn&&"documentMode"in document&&11>=document.documentMode,sa=null,ss=null,ol=null,us=!1;function ff(t,i,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;us||sa==null||sa!==ro(s)||(s=sa,"selectionStart"in s&&rs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ol&&ll(ol,s)||(ol=s,s=er(ss,"onSelect"),0<s.length&&(i=new mo("onSelect","select",null,i,l),t.push({event:i,listeners:s}),i.target=sa)))}function Ii(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var ua={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},cs={},df={};Gn&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function wi(t){if(cs[t])return cs[t];if(!ua[t])return t;var i=ua[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in df)return cs[t]=i[l];return t}var mf=wi("animationend"),pf=wi("animationiteration"),hf=wi("animationstart"),Sy=wi("transitionrun"),Ey=wi("transitionstart"),Ay=wi("transitioncancel"),gf=wi("transitionend"),yf=new Map,fs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fs.push("scrollEnd");function hn(t,i){yf.set(t,i),pn(i,[t])}var vf=new WeakMap;function nn(t,i){if(typeof t=="object"&&t!==null){var l=vf.get(t);return l!==void 0?l:(i={value:t,source:i,stack:Uc(i)},vf.set(t,i),i)}return{value:t,source:i,stack:Uc(i)}}var an=[],ca=0,ds=0;function go(){for(var t=ca,i=ds=ca=0;i<t;){var l=an[i];an[i++]=null;var s=an[i];an[i++]=null;var d=an[i];an[i++]=null;var p=an[i];if(an[i++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}p!==0&&Tf(l,d,p)}}function yo(t,i,l,s){an[ca++]=t,an[ca++]=i,an[ca++]=l,an[ca++]=s,ds|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function ms(t,i,l,s){return yo(t,i,l,s),vo(t)}function fa(t,i){return yo(t,null,null,i),vo(t)}function Tf(t,i,l){t.lanes|=l;var s=t.alternate;s!==null&&(s.lanes|=l);for(var d=!1,p=t.return;p!==null;)p.childLanes|=l,s=p.alternate,s!==null&&(s.childLanes|=l),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(d=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,d&&i!==null&&(d=31-It(l),t=p.hiddenUpdates,s=t[d],s===null?t[d]=[i]:s.push(i),i.lane=l|536870912),p):null}function vo(t){if(50<Il)throw Il=0,Tu=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var da={};function xy(t,i,l,s){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,i,l,s){return new xy(t,i,l,s)}function ps(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kn(t,i){var l=t.alternate;return l===null?(l=Kt(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Cf(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function To(t,i,l,s,d,p){var T=0;if(s=t,typeof t=="function")ps(t)&&(T=1);else if(typeof t=="string")T=Nv(t,l,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ie:return t=Kt(31,l,i,d),t.elementType=ie,t.lanes=p,t;case U:return Ui(l.children,d,p,i);case G:T=8,d|=24;break;case z:return t=Kt(12,l,i,d|2),t.elementType=z,t.lanes=p,t;case Y:return t=Kt(13,l,i,d),t.elementType=Y,t.lanes=p,t;case re:return t=Kt(19,l,i,d),t.elementType=re,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case J:T=10;break e;case j:T=9;break e;case le:T=11;break e;case he:T=14;break e;case we:T=16,s=null;break e}T=29,l=Error(a(130,t===null?"null":typeof t,"")),s=null}return i=Kt(T,l,i,d),i.elementType=t,i.type=s,i.lanes=p,i}function Ui(t,i,l,s){return t=Kt(7,t,s,i),t.lanes=l,t}function hs(t,i,l){return t=Kt(6,t,null,i),t.lanes=l,t}function gs(t,i,l){return i=Kt(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ma=[],pa=0,Co=null,_o=0,ln=[],on=0,Li=null,Pn=1,qn="";function Oi(t,i){ma[pa++]=_o,ma[pa++]=Co,Co=t,_o=i}function _f(t,i,l){ln[on++]=Pn,ln[on++]=qn,ln[on++]=Li,Li=t;var s=Pn;t=qn;var d=32-It(s)-1;s&=~(1<<d),l+=1;var p=32-It(i)+d;if(30<p){var T=d-d%5;p=(s&(1<<T)-1).toString(32),s>>=T,d-=T,Pn=1<<32-It(i)+d|l<<d|s,qn=p+t}else Pn=1<<p|l<<d|s,qn=t}function ys(t){t.return!==null&&(Oi(t,1),_f(t,1,0))}function vs(t){for(;t===Co;)Co=ma[--pa],ma[pa]=null,_o=ma[--pa],ma[pa]=null;for(;t===Li;)Li=ln[--on],ln[on]=null,qn=ln[--on],ln[on]=null,Pn=ln[--on],ln[on]=null}var Ut=null,ot=null,He=!1,Vi=null,Sn=!1,Ts=Error(a(519));function Gi(t){var i=Error(a(418,""));throw ul(nn(i,t)),Ts}function Sf(t){var i=t.stateNode,l=t.type,s=t.memoizedProps;switch(i[Ee]=t,i[Ue]=s,l){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Re(Ul[l],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":Re("invalid",i),Vc(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),oo(i);break;case"select":Re("invalid",i);break;case"textarea":Re("invalid",i),kc(i,s.value,s.defaultValue,s.children),oo(i)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||s.suppressHydrationWarning===!0||Pm(i.textContent,l)?(s.popover!=null&&(Re("beforetoggle",i),Re("toggle",i)),s.onScroll!=null&&Re("scroll",i),s.onScrollEnd!=null&&Re("scrollend",i),s.onClick!=null&&(i.onclick=tr),i=!0):i=!1,i||Gi(t)}function Ef(t){for(Ut=t.return;Ut;)switch(Ut.tag){case 5:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Ut=Ut.return}}function rl(t){if(t!==Ut)return!1;if(!He)return Ef(t),He=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Ou(t.type,t.memoizedProps)),l=!l),l&&ot&&Gi(t),Ef(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(i===0){ot=yn(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;t=t.nextSibling}ot=null}}else i===27?(i=ot,Ti(t.type)?(t=Pu,Pu=null,ot=t):ot=i):ot=Ut?yn(t.stateNode.nextSibling):null;return!0}function sl(){ot=Ut=null,He=!1}function Af(){var t=Vi;return t!==null&&(Ft===null?Ft=t:Ft.push.apply(Ft,t),Vi=null),t}function ul(t){Vi===null?Vi=[t]:Vi.push(t)}var Cs=P(null),ki=null,zn=null;function ai(t,i,l){H(Cs,i._currentValue),i._currentValue=l}function Bn(t){t._currentValue=Cs.current,K(Cs)}function _s(t,i,l){for(;t!==null;){var s=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),t===l)break;t=t.return}}function Ss(t,i,l,s){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=d;for(var A=0;A<i.length;A++)if(C.context===i[A]){p.lanes|=l,C=p.alternate,C!==null&&(C.lanes|=l),_s(p.return,l,t),s||(T=null);break e}p=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),_s(T,l,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function cl(t,i,l,s){t=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=d.type;Zt(d.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(d===vt.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}d=d.return}t!==null&&Ss(i,t,l,s),i.flags|=262144}function So(t){for(t=t.firstContext;t!==null;){if(!Zt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pi(t){ki=t,zn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nt(t){return xf(ki,t)}function Eo(t,i){return ki===null&&Pi(t),xf(t,i)}function xf(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},zn===null){if(t===null)throw Error(a(308));zn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zn=zn.next=i;return l}var My=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,s){t.push(s)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},Ny=o.unstable_scheduleCallback,Ry=o.unstable_NormalPriority,gt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Es(){return{controller:new My,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&Ny(Ry,function(){t.controller.abort()})}var dl=null,As=0,ha=0,ga=null;function Dy(t,i){if(dl===null){var l=dl=[];As=0,ha=Mu(),ga={status:"pending",value:void 0,then:function(s){l.push(s)}}}return As++,i.then(Mf,Mf),i}function Mf(){if(--As===0&&dl!==null){ga!==null&&(ga.status="fulfilled");var t=dl;dl=null,ha=0,ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function by(t,i){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return t.then(function(){s.status="fulfilled",s.value=i;for(var d=0;d<l.length;d++)(0,l[d])(i)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var Nf=L.S;L.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Dy(t,i),Nf!==null&&Nf(t,i)};var qi=P(null);function xs(){var t=qi.current;return t!==null?t:Qe.pooledCache}function Ao(t,i){i===null?H(qi,qi.current):H(qi,i.pool)}function Rf(){var t=xs();return t===null?null:{parent:gt._currentValue,pool:t}}var ml=Error(a(460)),Df=Error(a(474)),xo=Error(a(542)),Ms={then:function(){}};function bf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mo(){}function If(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(Mo,Mo),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Uf(t),t;default:if(typeof i.status=="string")i.then(Mo,Mo);else{if(t=Qe,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(s){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=s}},function(s){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Uf(t),t}throw pl=i,ml}}var pl=null;function wf(){if(pl===null)throw Error(a(459));var t=pl;return pl=null,t}function Uf(t){if(t===ml||t===xo)throw Error(a(483))}var li=!1;function Ns(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rs(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ri(t,i,l){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Fe&2)!==0){var d=s.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),s.pending=i,i=vo(t),Tf(t,null,l),i}return yo(t,s,i,l),vo(t)}function hl(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var s=i.lanes;s&=t.pendingLanes,l|=s,i.lanes=l,me(t,l)}}function Ds(t,i){var l=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?d=p=i:p=p.next=i}else d=p=i;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var bs=!1;function gl(){if(bs){var t=ga;if(t!==null)throw t}}function yl(t,i,l,s){bs=!1;var d=t.updateQueue;li=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var A=C,b=A.next;A.next=null,T===null?p=b:T.next=b,T=A;var O=t.alternate;O!==null&&(O=O.updateQueue,C=O.lastBaseUpdate,C!==T&&(C===null?O.firstBaseUpdate=b:C.next=b,O.lastBaseUpdate=A))}if(p!==null){var k=d.baseState;T=0,O=b=A=null,C=p;do{var I=C.lane&-536870913,w=I!==C.lane;if(w?(Ve&I)===I:(s&I)===I){I!==0&&I===ha&&(bs=!0),O!==null&&(O=O.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ce=t,se=C;I=i;var Ke=l;switch(se.tag){case 1:if(ce=se.payload,typeof ce=="function"){k=ce.call(Ke,k,I);break e}k=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=se.payload,I=typeof ce=="function"?ce.call(Ke,k,I):ce,I==null)break e;k=v({},k,I);break e;case 2:li=!0}}I=C.callback,I!==null&&(t.flags|=64,w&&(t.flags|=8192),w=d.callbacks,w===null?d.callbacks=[I]:w.push(I))}else w={lane:I,tag:C.tag,payload:C.payload,callback:C.callback,next:null},O===null?(b=O=w,A=k):O=O.next=w,T|=I;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;w=C,C=w.next,w.next=null,d.lastBaseUpdate=w,d.shared.pending=null}}while(!0);O===null&&(A=k),d.baseState=A,d.firstBaseUpdate=b,d.lastBaseUpdate=O,p===null&&(d.shared.lanes=0),hi|=T,t.lanes=T,t.memoizedState=k}}function Lf(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Of(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Lf(l[t],i)}var ya=P(null),No=P(0);function Vf(t,i){t=Jn,H(No,t),H(ya,i),Jn=t|i.baseLanes}function Is(){H(No,Jn),H(ya,ya.current)}function ws(){Jn=No.current,K(ya),K(No)}var si=0,xe=null,$e=null,dt=null,Ro=!1,va=!1,zi=!1,Do=0,vl=0,Ta=null,Iy=0;function st(){throw Error(a(321))}function Us(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!Zt(t[l],i[l]))return!1;return!0}function Ls(t,i,l,s,d,p){return si=p,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?Td:Cd,zi=!1,p=l(s,d),zi=!1,va&&(p=kf(i,l,s,d)),Gf(t),p}function Gf(t){L.H=Oo;var i=$e!==null&&$e.next!==null;if(si=0,dt=$e=xe=null,Ro=!1,vl=0,Ta=null,i)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&So(t)&&(Ct=!0))}function kf(t,i,l,s){xe=t;var d=0;do{if(va&&(Ta=null),vl=0,va=!1,25<=d)throw Error(a(301));if(d+=1,dt=$e=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=ky,p=i(l,s)}while(va);return p}function wy(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?Tl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(xe.flags|=1024),i}function Os(){var t=Do!==0;return Do=0,t}function Vs(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function Gs(t){if(Ro){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ro=!1}si=0,dt=$e=xe=null,va=!1,vl=Do=0,Ta=null}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?xe.memoizedState=dt=t:dt=dt.next=t,dt}function mt(){if($e===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=dt===null?xe.memoizedState:dt.next;if(i!==null)dt=i,$e=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},dt===null?xe.memoizedState=dt=t:dt=dt.next=t}return dt}function ks(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var i=vl;return vl+=1,Ta===null&&(Ta=[]),t=If(Ta,t,i),i=xe,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?Td:Cd),t}function bo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===J)return Nt(t)}throw Error(a(438,String(t)))}function Ps(t){var i=null,l=xe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var s=xe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=ks(),xe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),s=0;s<t;s++)l[s]=_e;return i.index++,l}function Hn(t,i){return typeof i=="function"?i(t):i}function Io(t){var i=mt();return qs(i,$e,t)}function qs(t,i,l){var s=t.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=t.baseQueue,p=s.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}i.baseQueue=d=p,s.pending=null}if(p=t.baseState,d===null)t.memoizedState=p;else{i=d.next;var C=T=null,A=null,b=i,O=!1;do{var k=b.lane&-536870913;if(k!==b.lane?(Ve&k)===k:(si&k)===k){var I=b.revertLane;if(I===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),k===ha&&(O=!0);else if((si&I)===I){b=b.next,I===ha&&(O=!0);continue}else k={lane:0,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(C=A=k,T=p):A=A.next=k,xe.lanes|=I,hi|=I;k=b.action,zi&&l(p,k),p=b.hasEagerState?b.eagerState:l(p,k)}else I={lane:k,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(C=A=I,T=p):A=A.next=I,xe.lanes|=k,hi|=k;b=b.next}while(b!==null&&b!==i);if(A===null?T=p:A.next=C,!Zt(p,t.memoizedState)&&(Ct=!0,O&&(l=ga,l!==null)))throw l;t.memoizedState=p,t.baseState=T,t.baseQueue=A,s.lastRenderedState=p}return d===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function zs(t){var i=mt(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var s=l.dispatch,d=l.pending,p=i.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do p=t(p,T.action),T=T.next;while(T!==d);Zt(p,i.memoizedState)||(Ct=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),l.lastRenderedState=p}return[p,s]}function Pf(t,i,l){var s=xe,d=mt(),p=He;if(p){if(l===void 0)throw Error(a(407));l=l()}else l=i();var T=!Zt(($e||d).memoizedState,l);T&&(d.memoizedState=l,Ct=!0),d=d.queue;var C=Bf.bind(null,s,d,t);if(Cl(2048,8,C,[t]),d.getSnapshot!==i||T||dt!==null&&dt.memoizedState.tag&1){if(s.flags|=2048,Ca(9,wo(),zf.bind(null,s,d,l,i),null),Qe===null)throw Error(a(349));p||(si&124)!==0||qf(s,i,l)}return l}function qf(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=xe.updateQueue,i===null?(i=ks(),xe.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function zf(t,i,l,s){i.value=l,i.getSnapshot=s,Hf(i)&&Ff(t)}function Bf(t,i,l){return l(function(){Hf(i)&&Ff(t)})}function Hf(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!Zt(t,l)}catch{return!0}}function Ff(t){var i=fa(t,2);i!==null&&jt(i,t,2)}function Bs(t){var i=Bt();if(typeof t=="function"){var l=t;if(t=l(),zi){Cn(!0);try{l()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:t},i}function Yf(t,i,l,s){return t.baseState=l,qs(t,$e,typeof s=="function"?s:Hn)}function Uy(t,i,l,s,d){if(Lo(t))throw Error(a(485));if(t=i.action,t!==null){var p={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};L.T!==null?l(!0):p.isTransition=!1,s(p),l=i.pending,l===null?(p.next=i.pending=p,$f(i,p)):(p.next=l.next,i.pending=l.next=p)}}function $f(t,i){var l=i.action,s=i.payload,d=t.state;if(i.isTransition){var p=L.T,T={};L.T=T;try{var C=l(d,s),A=L.S;A!==null&&A(T,C),Zf(t,i,C)}catch(b){Hs(t,i,b)}finally{L.T=p}}else try{p=l(d,s),Zf(t,i,p)}catch(b){Hs(t,i,b)}}function Zf(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Kf(t,i,s)},function(s){return Hs(t,i,s)}):Kf(t,i,l)}function Kf(t,i,l){i.status="fulfilled",i.value=l,Jf(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,$f(t,l)))}function Hs(t,i,l){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=l,Jf(i),i=i.next;while(i!==s)}t.action=null}function Jf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xf(t,i){return i}function Qf(t,i){if(He){var l=Qe.formState;if(l!==null){e:{var s=xe;if(He){if(ot){t:{for(var d=ot,p=Sn;d.nodeType!==8;){if(!p){d=null;break t}if(d=yn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){ot=yn(d.nextSibling),s=d.data==="F!";break e}}Gi(s)}s=!1}s&&(i=l[0])}}return l=Bt(),l.memoizedState=l.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:i},l.queue=s,l=gd.bind(null,xe,s),s.dispatch=l,s=Bs(!1),p=Ks.bind(null,xe,!1,s.queue),s=Bt(),d={state:i,dispatch:null,action:t,pending:null},s.queue=d,l=Uy.bind(null,xe,d,p,l),d.dispatch=l,s.memoizedState=t,[i,l,!1]}function Wf(t){var i=mt();return jf(i,$e,t)}function jf(t,i,l){if(i=qs(t,i,Xf)[0],t=Io(Hn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=Tl(i)}catch(T){throw T===ml?xo:T}else s=i;i=mt();var d=i.queue,p=d.dispatch;return l!==i.memoizedState&&(xe.flags|=2048,Ca(9,wo(),Ly.bind(null,d,l),null)),[s,p,t]}function Ly(t,i){t.action=i}function ed(t){var i=mt(),l=$e;if(l!==null)return jf(i,l,t);mt(),i=i.memoizedState,l=mt();var s=l.queue.dispatch;return l.memoizedState=t,[i,s,!1]}function Ca(t,i,l,s){return t={tag:t,create:l,deps:s,inst:i,next:null},i=xe.updateQueue,i===null&&(i=ks(),xe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(s=l.next,l.next=t,t.next=s,i.lastEffect=t),t}function wo(){return{destroy:void 0,resource:void 0}}function td(){return mt().memoizedState}function Uo(t,i,l,s){var d=Bt();s=s===void 0?null:s,xe.flags|=t,d.memoizedState=Ca(1|i,wo(),l,s)}function Cl(t,i,l,s){var d=mt();s=s===void 0?null:s;var p=d.memoizedState.inst;$e!==null&&s!==null&&Us(s,$e.memoizedState.deps)?d.memoizedState=Ca(i,p,l,s):(xe.flags|=t,d.memoizedState=Ca(1|i,p,l,s))}function nd(t,i){Uo(8390656,8,t,i)}function id(t,i){Cl(2048,8,t,i)}function ad(t,i){return Cl(4,2,t,i)}function ld(t,i){return Cl(4,4,t,i)}function od(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function rd(t,i,l){l=l!=null?l.concat([t]):null,Cl(4,4,od.bind(null,i,t),l)}function Fs(){}function sd(t,i){var l=mt();i=i===void 0?null:i;var s=l.memoizedState;return i!==null&&Us(i,s[1])?s[0]:(l.memoizedState=[t,i],t)}function ud(t,i){var l=mt();i=i===void 0?null:i;var s=l.memoizedState;if(i!==null&&Us(i,s[1]))return s[0];if(s=t(),zi){Cn(!0);try{t()}finally{Cn(!1)}}return l.memoizedState=[s,i],s}function Ys(t,i,l){return l===void 0||(si&1073741824)!==0?t.memoizedState=i:(t.memoizedState=l,t=dm(),xe.lanes|=t,hi|=t,l)}function cd(t,i,l,s){return Zt(l,i)?l:ya.current!==null?(t=Ys(t,l,s),Zt(t,i)||(Ct=!0),t):(si&42)===0?(Ct=!0,t.memoizedState=l):(t=dm(),xe.lanes|=t,hi|=t,i)}function fd(t,i,l,s,d){var p=F.p;F.p=p!==0&&8>p?p:8;var T=L.T,C={};L.T=C,Ks(t,!1,i,l);try{var A=d(),b=L.S;if(b!==null&&b(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var O=by(A,s);_l(t,i,O,Wt(t))}else _l(t,i,s,Wt(t))}catch(k){_l(t,i,{then:function(){},status:"rejected",reason:k},Wt())}finally{F.p=p,L.T=T}}function Oy(){}function $s(t,i,l,s){if(t.tag!==5)throw Error(a(476));var d=dd(t).queue;fd(t,d,i,oe,l===null?Oy:function(){return md(t),l(s)})}function dd(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function md(t){var i=dd(t).next.queue;_l(t,i,{},Wt())}function Zs(){return Nt(Pl)}function pd(){return mt().memoizedState}function hd(){return mt().memoizedState}function Vy(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=Wt();t=oi(l);var s=ri(i,t,l);s!==null&&(jt(s,i,l),hl(s,i,l)),i={cache:Es()},t.payload=i;return}i=i.return}}function Gy(t,i,l){var s=Wt();l={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Lo(t)?yd(i,l):(l=ms(t,i,l,s),l!==null&&(jt(l,t,s),vd(l,i,s)))}function gd(t,i,l){var s=Wt();_l(t,i,l,s)}function _l(t,i,l,s){var d={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lo(t))yd(i,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,C=p(T,l);if(d.hasEagerState=!0,d.eagerState=C,Zt(C,T))return yo(t,i,d,0),Qe===null&&go(),!1}catch{}finally{}if(l=ms(t,i,d,s),l!==null)return jt(l,t,s),vd(l,i,s),!0}return!1}function Ks(t,i,l,s){if(s={lane:2,revertLane:Mu(),action:s,hasEagerState:!1,eagerState:null,next:null},Lo(t)){if(i)throw Error(a(479))}else i=ms(t,l,s,2),i!==null&&jt(i,t,2)}function Lo(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function yd(t,i){va=Ro=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function vd(t,i,l){if((l&4194048)!==0){var s=i.lanes;s&=t.pendingLanes,l|=s,i.lanes=l,me(t,l)}}var Oo={readContext:Nt,use:bo,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},Td={readContext:Nt,use:bo,useCallback:function(t,i){return Bt().memoizedState=[t,i===void 0?null:i],t},useContext:Nt,useEffect:nd,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,Uo(4194308,4,od.bind(null,i,t),l)},useLayoutEffect:function(t,i){return Uo(4194308,4,t,i)},useInsertionEffect:function(t,i){Uo(4,2,t,i)},useMemo:function(t,i){var l=Bt();i=i===void 0?null:i;var s=t();if(zi){Cn(!0);try{t()}finally{Cn(!1)}}return l.memoizedState=[s,i],s},useReducer:function(t,i,l){var s=Bt();if(l!==void 0){var d=l(i);if(zi){Cn(!0);try{l(i)}finally{Cn(!1)}}}else d=i;return s.memoizedState=s.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},s.queue=t,t=t.dispatch=Gy.bind(null,xe,t),[s.memoizedState,t]},useRef:function(t){var i=Bt();return t={current:t},i.memoizedState=t},useState:function(t){t=Bs(t);var i=t.queue,l=gd.bind(null,xe,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:Fs,useDeferredValue:function(t,i){var l=Bt();return Ys(l,t,i)},useTransition:function(){var t=Bs(!1);return t=fd.bind(null,xe,t.queue,!0,!1),Bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var s=xe,d=Bt();if(He){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),Qe===null)throw Error(a(349));(Ve&124)!==0||qf(s,i,l)}d.memoizedState=l;var p={value:l,getSnapshot:i};return d.queue=p,nd(Bf.bind(null,s,p,t),[t]),s.flags|=2048,Ca(9,wo(),zf.bind(null,s,p,l,i),null),l},useId:function(){var t=Bt(),i=Qe.identifierPrefix;if(He){var l=qn,s=Pn;l=(s&~(1<<32-It(s)-1)).toString(32)+l,i="«"+i+"R"+l,l=Do++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=Iy++,i="«"+i+"r"+l.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Zs,useFormState:Qf,useActionState:Qf,useOptimistic:function(t){var i=Bt();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Ks.bind(null,xe,!0,l),l.dispatch=i,[t,i]},useMemoCache:Ps,useCacheRefresh:function(){return Bt().memoizedState=Vy.bind(null,xe)}},Cd={readContext:Nt,use:bo,useCallback:sd,useContext:Nt,useEffect:id,useImperativeHandle:rd,useInsertionEffect:ad,useLayoutEffect:ld,useMemo:ud,useReducer:Io,useRef:td,useState:function(){return Io(Hn)},useDebugValue:Fs,useDeferredValue:function(t,i){var l=mt();return cd(l,$e.memoizedState,t,i)},useTransition:function(){var t=Io(Hn)[0],i=mt().memoizedState;return[typeof t=="boolean"?t:Tl(t),i]},useSyncExternalStore:Pf,useId:pd,useHostTransitionStatus:Zs,useFormState:Wf,useActionState:Wf,useOptimistic:function(t,i){var l=mt();return Yf(l,$e,t,i)},useMemoCache:Ps,useCacheRefresh:hd},ky={readContext:Nt,use:bo,useCallback:sd,useContext:Nt,useEffect:id,useImperativeHandle:rd,useInsertionEffect:ad,useLayoutEffect:ld,useMemo:ud,useReducer:zs,useRef:td,useState:function(){return zs(Hn)},useDebugValue:Fs,useDeferredValue:function(t,i){var l=mt();return $e===null?Ys(l,t,i):cd(l,$e.memoizedState,t,i)},useTransition:function(){var t=zs(Hn)[0],i=mt().memoizedState;return[typeof t=="boolean"?t:Tl(t),i]},useSyncExternalStore:Pf,useId:pd,useHostTransitionStatus:Zs,useFormState:ed,useActionState:ed,useOptimistic:function(t,i){var l=mt();return $e!==null?Yf(l,$e,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Ps,useCacheRefresh:hd},_a=null,Sl=0;function Vo(t){var i=Sl;return Sl+=1,_a===null&&(_a=[]),If(_a,t,i)}function El(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Go(t,i){throw i.$$typeof===_?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function _d(t){var i=t._init;return i(t._payload)}function Sd(t){function i(R,M){if(t){var D=R.deletions;D===null?(R.deletions=[M],R.flags|=16):D.push(M)}}function l(R,M){if(!t)return null;for(;M!==null;)i(R,M),M=M.sibling;return null}function s(R){for(var M=new Map;R!==null;)R.key!==null?M.set(R.key,R):M.set(R.index,R),R=R.sibling;return M}function d(R,M){return R=kn(R,M),R.index=0,R.sibling=null,R}function p(R,M,D){return R.index=D,t?(D=R.alternate,D!==null?(D=D.index,D<M?(R.flags|=67108866,M):D):(R.flags|=67108866,M)):(R.flags|=1048576,M)}function T(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function C(R,M,D,V){return M===null||M.tag!==6?(M=hs(D,R.mode,V),M.return=R,M):(M=d(M,D),M.return=R,M)}function A(R,M,D,V){var X=D.type;return X===U?O(R,M,D.props.children,V,D.key):M!==null&&(M.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===we&&_d(X)===M.type)?(M=d(M,D.props),El(M,D),M.return=R,M):(M=To(D.type,D.key,D.props,null,R.mode,V),El(M,D),M.return=R,M)}function b(R,M,D,V){return M===null||M.tag!==4||M.stateNode.containerInfo!==D.containerInfo||M.stateNode.implementation!==D.implementation?(M=gs(D,R.mode,V),M.return=R,M):(M=d(M,D.children||[]),M.return=R,M)}function O(R,M,D,V,X){return M===null||M.tag!==7?(M=Ui(D,R.mode,V,X),M.return=R,M):(M=d(M,D),M.return=R,M)}function k(R,M,D){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=hs(""+M,R.mode,D),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return D=To(M.type,M.key,M.props,null,R.mode,D),El(D,M),D.return=R,D;case N:return M=gs(M,R.mode,D),M.return=R,M;case we:var V=M._init;return M=V(M._payload),k(R,M,D)}if(et(M)||lt(M))return M=Ui(M,R.mode,D,null),M.return=R,M;if(typeof M.then=="function")return k(R,Vo(M),D);if(M.$$typeof===J)return k(R,Eo(R,M),D);Go(R,M)}return null}function I(R,M,D,V){var X=M!==null?M.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return X!==null?null:C(R,M,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return D.key===X?A(R,M,D,V):null;case N:return D.key===X?b(R,M,D,V):null;case we:return X=D._init,D=X(D._payload),I(R,M,D,V)}if(et(D)||lt(D))return X!==null?null:O(R,M,D,V,null);if(typeof D.then=="function")return I(R,M,Vo(D),V);if(D.$$typeof===J)return I(R,M,Eo(R,D),V);Go(R,D)}return null}function w(R,M,D,V,X){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(D)||null,C(M,R,""+V,X);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return R=R.get(V.key===null?D:V.key)||null,A(M,R,V,X);case N:return R=R.get(V.key===null?D:V.key)||null,b(M,R,V,X);case we:var Me=V._init;return V=Me(V._payload),w(R,M,D,V,X)}if(et(V)||lt(V))return R=R.get(D)||null,O(M,R,V,X,null);if(typeof V.then=="function")return w(R,M,D,Vo(V),X);if(V.$$typeof===J)return w(R,M,D,Eo(M,V),X);Go(M,V)}return null}function ce(R,M,D,V){for(var X=null,Me=null,te=M,ue=M=0,St=null;te!==null&&ue<D.length;ue++){te.index>ue?(St=te,te=null):St=te.sibling;var Pe=I(R,te,D[ue],V);if(Pe===null){te===null&&(te=St);break}t&&te&&Pe.alternate===null&&i(R,te),M=p(Pe,M,ue),Me===null?X=Pe:Me.sibling=Pe,Me=Pe,te=St}if(ue===D.length)return l(R,te),He&&Oi(R,ue),X;if(te===null){for(;ue<D.length;ue++)te=k(R,D[ue],V),te!==null&&(M=p(te,M,ue),Me===null?X=te:Me.sibling=te,Me=te);return He&&Oi(R,ue),X}for(te=s(te);ue<D.length;ue++)St=w(te,R,ue,D[ue],V),St!==null&&(t&&St.alternate!==null&&te.delete(St.key===null?ue:St.key),M=p(St,M,ue),Me===null?X=St:Me.sibling=St,Me=St);return t&&te.forEach(function(Ai){return i(R,Ai)}),He&&Oi(R,ue),X}function se(R,M,D,V){if(D==null)throw Error(a(151));for(var X=null,Me=null,te=M,ue=M=0,St=null,Pe=D.next();te!==null&&!Pe.done;ue++,Pe=D.next()){te.index>ue?(St=te,te=null):St=te.sibling;var Ai=I(R,te,Pe.value,V);if(Ai===null){te===null&&(te=St);break}t&&te&&Ai.alternate===null&&i(R,te),M=p(Ai,M,ue),Me===null?X=Ai:Me.sibling=Ai,Me=Ai,te=St}if(Pe.done)return l(R,te),He&&Oi(R,ue),X;if(te===null){for(;!Pe.done;ue++,Pe=D.next())Pe=k(R,Pe.value,V),Pe!==null&&(M=p(Pe,M,ue),Me===null?X=Pe:Me.sibling=Pe,Me=Pe);return He&&Oi(R,ue),X}for(te=s(te);!Pe.done;ue++,Pe=D.next())Pe=w(te,R,ue,Pe.value,V),Pe!==null&&(t&&Pe.alternate!==null&&te.delete(Pe.key===null?ue:Pe.key),M=p(Pe,M,ue),Me===null?X=Pe:Me.sibling=Pe,Me=Pe);return t&&te.forEach(function(Pv){return i(R,Pv)}),He&&Oi(R,ue),X}function Ke(R,M,D,V){if(typeof D=="object"&&D!==null&&D.type===U&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case S:e:{for(var X=D.key;M!==null;){if(M.key===X){if(X=D.type,X===U){if(M.tag===7){l(R,M.sibling),V=d(M,D.props.children),V.return=R,R=V;break e}}else if(M.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===we&&_d(X)===M.type){l(R,M.sibling),V=d(M,D.props),El(V,D),V.return=R,R=V;break e}l(R,M);break}else i(R,M);M=M.sibling}D.type===U?(V=Ui(D.props.children,R.mode,V,D.key),V.return=R,R=V):(V=To(D.type,D.key,D.props,null,R.mode,V),El(V,D),V.return=R,R=V)}return T(R);case N:e:{for(X=D.key;M!==null;){if(M.key===X)if(M.tag===4&&M.stateNode.containerInfo===D.containerInfo&&M.stateNode.implementation===D.implementation){l(R,M.sibling),V=d(M,D.children||[]),V.return=R,R=V;break e}else{l(R,M);break}else i(R,M);M=M.sibling}V=gs(D,R.mode,V),V.return=R,R=V}return T(R);case we:return X=D._init,D=X(D._payload),Ke(R,M,D,V)}if(et(D))return ce(R,M,D,V);if(lt(D)){if(X=lt(D),typeof X!="function")throw Error(a(150));return D=X.call(D),se(R,M,D,V)}if(typeof D.then=="function")return Ke(R,M,Vo(D),V);if(D.$$typeof===J)return Ke(R,M,Eo(R,D),V);Go(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,M!==null&&M.tag===6?(l(R,M.sibling),V=d(M,D),V.return=R,R=V):(l(R,M),V=hs(D,R.mode,V),V.return=R,R=V),T(R)):l(R,M)}return function(R,M,D,V){try{Sl=0;var X=Ke(R,M,D,V);return _a=null,X}catch(te){if(te===ml||te===xo)throw te;var Me=Kt(29,te,null,R.mode);return Me.lanes=V,Me.return=R,Me}finally{}}}var Sa=Sd(!0),Ed=Sd(!1),rn=P(null),En=null;function ui(t){var i=t.alternate;H(yt,yt.current&1),H(rn,t),En===null&&(i===null||ya.current!==null||i.memoizedState!==null)&&(En=t)}function Ad(t){if(t.tag===22){if(H(yt,yt.current),H(rn,t),En===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(En=t)}}else ci()}function ci(){H(yt,yt.current),H(rn,rn.current)}function Fn(t){K(rn),En===t&&(En=null),K(yt)}var yt=P(0);function ko(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ku(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Js(t,i,l,s){i=t.memoizedState,l=l(s,i),l=l==null?i:v({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Xs={enqueueSetState:function(t,i,l){t=t._reactInternals;var s=Wt(),d=oi(s);d.payload=i,l!=null&&(d.callback=l),i=ri(t,d,s),i!==null&&(jt(i,t,s),hl(i,t,s))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var s=Wt(),d=oi(s);d.tag=1,d.payload=i,l!=null&&(d.callback=l),i=ri(t,d,s),i!==null&&(jt(i,t,s),hl(i,t,s))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Wt(),s=oi(l);s.tag=2,i!=null&&(s.callback=i),i=ri(t,s,l),i!==null&&(jt(i,t,l),hl(i,t,l))}};function xd(t,i,l,s,d,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,p,T):i.prototype&&i.prototype.isPureReactComponent?!ll(l,s)||!ll(d,p):!0}function Md(t,i,l,s){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,s),i.state!==t&&Xs.enqueueReplaceState(i,i.state,null)}function Bi(t,i){var l=i;if("ref"in i){l={};for(var s in i)s!=="ref"&&(l[s]=i[s])}if(t=t.defaultProps){l===i&&(l=v({},l));for(var d in t)l[d]===void 0&&(l[d]=t[d])}return l}var Po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Nd(t){Po(t)}function Rd(t){console.error(t)}function Dd(t){Po(t)}function qo(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function bd(t,i,l){try{var s=t.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Qs(t,i,l){return l=oi(l),l.tag=3,l.payload={element:null},l.callback=function(){qo(t,i)},l}function Id(t){return t=oi(t),t.tag=3,t}function wd(t,i,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;t.payload=function(){return d(p)},t.callback=function(){bd(i,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){bd(i,l,s),typeof d!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function Py(t,i,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=l.alternate,i!==null&&cl(i,l,d,!0),l=rn.current,l!==null){switch(l.tag){case 13:return En===null?_u():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Ms?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([s]):i.add(s),Eu(t,s,d)),!1;case 22:return l.flags|=65536,s===Ms?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([s]):l.add(s)),Eu(t,s,d)),!1}throw Error(a(435,l.tag))}return Eu(t,s,d),_u(),!1}if(He)return i=rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,s!==Ts&&(t=Error(a(422),{cause:s}),ul(nn(t,l)))):(s!==Ts&&(i=Error(a(423),{cause:s}),ul(nn(i,l))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,s=nn(s,l),d=Qs(t.stateNode,s,d),Ds(t,d),rt!==4&&(rt=2)),!1;var p=Error(a(520),{cause:s});if(p=nn(p,l),bl===null?bl=[p]:bl.push(p),rt!==4&&(rt=2),i===null)return!0;s=nn(s,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=d&-d,l.lanes|=t,t=Qs(l.stateNode,s,t),Ds(l,t),!1;case 1:if(i=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(gi===null||!gi.has(p))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Id(d),wd(d,t,l,s),Ds(l,d),!1}l=l.return}while(l!==null);return!1}var Ud=Error(a(461)),Ct=!1;function Et(t,i,l,s){i.child=t===null?Ed(i,null,l,s):Sa(i,t.child,l,s)}function Ld(t,i,l,s,d){l=l.render;var p=i.ref;if("ref"in s){var T={};for(var C in s)C!=="ref"&&(T[C]=s[C])}else T=s;return Pi(i),s=Ls(t,i,l,T,p,d),C=Os(),t!==null&&!Ct?(Vs(t,i,d),Yn(t,i,d)):(He&&C&&ys(i),i.flags|=1,Et(t,i,s,d),i.child)}function Od(t,i,l,s,d){if(t===null){var p=l.type;return typeof p=="function"&&!ps(p)&&p.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=p,Vd(t,i,p,s,d)):(t=To(l.type,null,s,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!lu(t,d)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:ll,l(T,s)&&t.ref===i.ref)return Yn(t,i,d)}return i.flags|=1,t=kn(p,s),t.ref=i.ref,t.return=i,i.child=t}function Vd(t,i,l,s,d){if(t!==null){var p=t.memoizedProps;if(ll(p,s)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=s=p,lu(t,d))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Yn(t,i,d)}return Ws(t,i,l,s,d)}function Gd(t,i,l){var s=i.pendingProps,d=s.children,p=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if((i.flags&128)!==0){if(s=p!==null?p.baseLanes|l:l,t!==null){for(d=i.child=t.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~s}else i.childLanes=0,i.child=null;return kd(t,i,s,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ao(i,p!==null?p.cachePool:null),p!==null?Vf(i,p):Is(),Ad(i);else return i.lanes=i.childLanes=536870912,kd(t,i,p!==null?p.baseLanes|l:l,l)}else p!==null?(Ao(i,p.cachePool),Vf(i,p),ci(),i.memoizedState=null):(t!==null&&Ao(i,null),Is(),ci());return Et(t,i,d,l),i.child}function kd(t,i,l,s){var d=xs();return d=d===null?null:{parent:gt._currentValue,pool:d},i.memoizedState={baseLanes:l,cachePool:d},t!==null&&Ao(i,null),Is(),Ad(i),t!==null&&cl(t,i,s,!0),null}function zo(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function Ws(t,i,l,s,d){return Pi(i),l=Ls(t,i,l,s,void 0,d),s=Os(),t!==null&&!Ct?(Vs(t,i,d),Yn(t,i,d)):(He&&s&&ys(i),i.flags|=1,Et(t,i,l,d),i.child)}function Pd(t,i,l,s,d,p){return Pi(i),i.updateQueue=null,l=kf(i,s,l,d),Gf(t),s=Os(),t!==null&&!Ct?(Vs(t,i,p),Yn(t,i,p)):(He&&s&&ys(i),i.flags|=1,Et(t,i,l,p),i.child)}function qd(t,i,l,s,d){if(Pi(i),i.stateNode===null){var p=da,T=l.contextType;typeof T=="object"&&T!==null&&(p=Nt(T)),p=new l(s,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Xs,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=s,p.state=i.memoizedState,p.refs={},Ns(i),T=l.contextType,p.context=typeof T=="object"&&T!==null?Nt(T):da,p.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Js(i,l,T,s),p.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Xs.enqueueReplaceState(p,p.state,null),yl(i,s,p,d),gl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(t===null){p=i.stateNode;var C=i.memoizedProps,A=Bi(l,C);p.props=A;var b=p.context,O=l.contextType;T=da,typeof O=="object"&&O!==null&&(T=Nt(O));var k=l.getDerivedStateFromProps;O=typeof k=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||b!==T)&&Md(i,p,s,T),li=!1;var I=i.memoizedState;p.state=I,yl(i,s,p,d),gl(),b=i.memoizedState,C||I!==b||li?(typeof k=="function"&&(Js(i,l,k,s),b=i.memoizedState),(A=li||xd(i,l,A,s,I,b,T))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=b),p.props=s,p.state=b,p.context=T,s=A):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{p=i.stateNode,Rs(t,i),T=i.memoizedProps,O=Bi(l,T),p.props=O,k=i.pendingProps,I=p.context,b=l.contextType,A=da,typeof b=="object"&&b!==null&&(A=Nt(b)),C=l.getDerivedStateFromProps,(b=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==k||I!==A)&&Md(i,p,s,A),li=!1,I=i.memoizedState,p.state=I,yl(i,s,p,d),gl();var w=i.memoizedState;T!==k||I!==w||li||t!==null&&t.dependencies!==null&&So(t.dependencies)?(typeof C=="function"&&(Js(i,l,C,s),w=i.memoizedState),(O=li||xd(i,l,O,s,I,w,A)||t!==null&&t.dependencies!==null&&So(t.dependencies))?(b||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,w,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,w,A)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=w),p.props=s,p.state=w,p.context=A,s=O):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),s=!1)}return p=s,zo(t,i),s=(i.flags&128)!==0,p||s?(p=i.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&s?(i.child=Sa(i,t.child,null,d),i.child=Sa(i,null,l,d)):Et(t,i,l,d),i.memoizedState=p.state,t=i.child):t=Yn(t,i,d),t}function zd(t,i,l,s){return sl(),i.flags|=256,Et(t,i,l,s),i.child}var js={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eu(t){return{baseLanes:t,cachePool:Rf()}}function tu(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=sn),t}function Bd(t,i,l){var s=i.pendingProps,d=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(d?ui(i):ci(),He){var C=ot,A;if(A=C){e:{for(A=C,C=Sn;A.nodeType!==8;){if(!C){C=null;break e}if(A=yn(A.nextSibling),A===null){C=null;break e}}C=A}C!==null?(i.memoizedState={dehydrated:C,treeContext:Li!==null?{id:Pn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},A=Kt(18,null,null,0),A.stateNode=C,A.return=i,i.child=A,Ut=i,ot=null,A=!0):A=!1}A||Gi(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ku(C)?i.lanes=32:i.lanes=536870912,null;Fn(i)}return C=s.children,s=s.fallback,d?(ci(),d=i.mode,C=Bo({mode:"hidden",children:C},d),s=Ui(s,d,l,null),C.return=i,s.return=i,C.sibling=s,i.child=C,d=i.child,d.memoizedState=eu(l),d.childLanes=tu(t,T,l),i.memoizedState=js,s):(ui(i),nu(i,C))}if(A=t.memoizedState,A!==null&&(C=A.dehydrated,C!==null)){if(p)i.flags&256?(ui(i),i.flags&=-257,i=iu(t,i,l)):i.memoizedState!==null?(ci(),i.child=t.child,i.flags|=128,i=null):(ci(),d=s.fallback,C=i.mode,s=Bo({mode:"visible",children:s.children},C),d=Ui(d,C,l,null),d.flags|=2,s.return=i,d.return=i,s.sibling=d,i.child=s,Sa(i,t.child,null,l),s=i.child,s.memoizedState=eu(l),s.childLanes=tu(t,T,l),i.memoizedState=js,i=d);else if(ui(i),ku(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var b=T.dgst;T=b,s=Error(a(419)),s.stack="",s.digest=T,ul({value:s,source:null,stack:null}),i=iu(t,i,l)}else if(Ct||cl(t,i,l,!1),T=(l&t.childLanes)!==0,Ct||T){if(T=Qe,T!==null&&(s=l&-l,s=(s&42)!==0?1:be(s),s=(s&(T.suspendedLanes|l))!==0?0:s,s!==0&&s!==A.retryLane))throw A.retryLane=s,fa(t,s),jt(T,t,s),Ud;C.data==="$?"||_u(),i=iu(t,i,l)}else C.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,ot=yn(C.nextSibling),Ut=i,He=!0,Vi=null,Sn=!1,t!==null&&(ln[on++]=Pn,ln[on++]=qn,ln[on++]=Li,Pn=t.id,qn=t.overflow,Li=i),i=nu(i,s.children),i.flags|=4096);return i}return d?(ci(),d=s.fallback,C=i.mode,A=t.child,b=A.sibling,s=kn(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,b!==null?d=kn(b,d):(d=Ui(d,C,l,null),d.flags|=2),d.return=i,s.return=i,s.sibling=d,i.child=s,s=d,d=i.child,C=t.child.memoizedState,C===null?C=eu(l):(A=C.cachePool,A!==null?(b=gt._currentValue,A=A.parent!==b?{parent:b,pool:b}:A):A=Rf(),C={baseLanes:C.baseLanes|l,cachePool:A}),d.memoizedState=C,d.childLanes=tu(t,T,l),i.memoizedState=js,s):(ui(i),l=t.child,t=l.sibling,l=kn(l,{mode:"visible",children:s.children}),l.return=i,l.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=l,i.memoizedState=null,l)}function nu(t,i){return i=Bo({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Bo(t,i){return t=Kt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function iu(t,i,l){return Sa(i,t.child,null,l),t=nu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Hd(t,i,l){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i),_s(t.return,i,l)}function au(t,i,l,s,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=l,p.tailMode=d)}function Fd(t,i,l){var s=i.pendingProps,d=s.revealOrder,p=s.tail;if(Et(t,i,s.children,l),s=yt.current,(s&2)!==0)s=s&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hd(t,l,i);else if(t.tag===19)Hd(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(H(yt,s),d){case"forwards":for(l=i.child,d=null;l!==null;)t=l.alternate,t!==null&&ko(t)===null&&(d=l),l=l.sibling;l=d,l===null?(d=i.child,i.child=null):(d=l.sibling,l.sibling=null),au(i,!1,d,l,p);break;case"backwards":for(l=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&ko(t)===null){i.child=d;break}t=d.sibling,d.sibling=l,l=d,d=t}au(i,!0,l,null,p);break;case"together":au(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yn(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),hi|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(cl(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,l=kn(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=kn(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function lu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&So(t)))}function qy(t,i,l){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),ai(i,gt,t.memoizedState.cache),sl();break;case 27:case 5:Xa(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:ai(i,i.type,i.memoizedProps.value);break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(ui(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Bd(t,i,l):(ui(i),t=Yn(t,i,l),t!==null?t.sibling:null);ui(i);break;case 19:var d=(t.flags&128)!==0;if(s=(l&i.childLanes)!==0,s||(cl(t,i,l,!1),s=(l&i.childLanes)!==0),d){if(s)return Fd(t,i,l);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),H(yt,yt.current),s)break;return null;case 22:case 23:return i.lanes=0,Gd(t,i,l);case 24:ai(i,gt,t.memoizedState.cache)}return Yn(t,i,l)}function Yd(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!lu(t,l)&&(i.flags&128)===0)return Ct=!1,qy(t,i,l);Ct=(t.flags&131072)!==0}else Ct=!1,He&&(i.flags&1048576)!==0&&_f(i,_o,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var s=i.elementType,d=s._init;if(s=d(s._payload),i.type=s,typeof s=="function")ps(s)?(t=Bi(s,t),i.tag=1,i=qd(null,i,s,t,l)):(i.tag=0,i=Ws(null,i,s,t,l));else{if(s!=null){if(d=s.$$typeof,d===le){i.tag=11,i=Ld(null,i,s,t,l);break e}else if(d===he){i.tag=14,i=Od(null,i,s,t,l);break e}}throw i=ct(s)||s,Error(a(306,i,""))}}return i;case 0:return Ws(t,i,i.type,i.pendingProps,l);case 1:return s=i.type,d=Bi(s,i.pendingProps),qd(t,i,s,d,l);case 3:e:{if(Ge(i,i.stateNode.containerInfo),t===null)throw Error(a(387));s=i.pendingProps;var p=i.memoizedState;d=p.element,Rs(t,i),yl(i,s,null,l);var T=i.memoizedState;if(s=T.cache,ai(i,gt,s),s!==p.cache&&Ss(i,[gt],l,!0),gl(),s=T.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=zd(t,i,s,l);break e}else if(s!==d){d=nn(Error(a(424)),i),ul(d),i=zd(t,i,s,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=yn(t.firstChild),Ut=i,He=!0,Vi=null,Sn=!0,l=Ed(i,null,s,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(sl(),s===d){i=Yn(t,i,l);break e}Et(t,i,s,l)}i=i.child}return i;case 26:return zo(t,i),t===null?(l=Jm(i.type,null,i.pendingProps,null))?i.memoizedState=l:He||(l=i.type,t=i.pendingProps,s=nr(de.current).createElement(l),s[Ee]=i,s[Ue]=t,xt(s,l,t),Ie(s),i.stateNode=s):i.memoizedState=Jm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Xa(i),t===null&&He&&(s=i.stateNode=$m(i.type,i.pendingProps,de.current),Ut=i,Sn=!0,d=ot,Ti(i.type)?(Pu=d,ot=yn(s.firstChild)):ot=d),Et(t,i,i.pendingProps.children,l),zo(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((d=s=ot)&&(s=pv(s,i.type,i.pendingProps,Sn),s!==null?(i.stateNode=s,Ut=i,ot=yn(s.firstChild),Sn=!1,d=!0):d=!1),d||Gi(i)),Xa(i),d=i.type,p=i.pendingProps,T=t!==null?t.memoizedProps:null,s=p.children,Ou(d,p)?s=null:T!==null&&Ou(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=Ls(t,i,wy,null,null,l),Pl._currentValue=d),zo(t,i),Et(t,i,s,l),i.child;case 6:return t===null&&He&&((t=l=ot)&&(l=hv(l,i.pendingProps,Sn),l!==null?(i.stateNode=l,Ut=i,ot=null,t=!0):t=!1),t||Gi(i)),null;case 13:return Bd(t,i,l);case 4:return Ge(i,i.stateNode.containerInfo),s=i.pendingProps,t===null?i.child=Sa(i,null,s,l):Et(t,i,s,l),i.child;case 11:return Ld(t,i,i.type,i.pendingProps,l);case 7:return Et(t,i,i.pendingProps,l),i.child;case 8:return Et(t,i,i.pendingProps.children,l),i.child;case 12:return Et(t,i,i.pendingProps.children,l),i.child;case 10:return s=i.pendingProps,ai(i,i.type,s.value),Et(t,i,s.children,l),i.child;case 9:return d=i.type._context,s=i.pendingProps.children,Pi(i),d=Nt(d),s=s(d),i.flags|=1,Et(t,i,s,l),i.child;case 14:return Od(t,i,i.type,i.pendingProps,l);case 15:return Vd(t,i,i.type,i.pendingProps,l);case 19:return Fd(t,i,l);case 31:return s=i.pendingProps,l=i.mode,s={mode:s.mode,children:s.children},t===null?(l=Bo(s,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=kn(t.child,s),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return Gd(t,i,l);case 24:return Pi(i),s=Nt(gt),t===null?(d=xs(),d===null&&(d=Qe,p=Es(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=l),d=p),i.memoizedState={parent:s,cache:d},Ns(i),ai(i,gt,d)):((t.lanes&l)!==0&&(Rs(t,i),yl(i,null,null,l),gl()),d=t.memoizedState,p=i.memoizedState,d.parent!==s?(d={parent:s,cache:s},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),ai(i,gt,s)):(s=p.cache,ai(i,gt,s),s!==d.cache&&Ss(i,[gt],l,!0))),Et(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function $n(t){t.flags|=4}function $d(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ep(i)){if(i=rn.current,i!==null&&((Ve&4194048)===Ve?En!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||i!==En))throw pl=Ms,Df;t.flags|=8192}}function Ho(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?kt():536870912,t.lanes|=i,Ma|=i)}function Al(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,s=0;if(i)for(var d=t.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=s,t.childLanes=l,i}function zy(t,i,l){var s=i.pendingProps;switch(vs(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return l=i.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Bn(gt),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(rl(i)?$n(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Af())),at(i),null;case 26:return l=i.memoizedState,t===null?($n(i),l!==null?(at(i),$d(i,l)):(at(i),i.flags&=-16777217)):l?l!==t.memoizedState?($n(i),at(i),$d(i,l)):(at(i),i.flags&=-16777217):(t.memoizedProps!==s&&$n(i),at(i),i.flags&=-16777217),null;case 27:In(i),l=de.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==s&&$n(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return at(i),null}t=ne.current,rl(i)?Sf(i):(t=$m(d,s,l),i.stateNode=t,$n(i))}return at(i),null;case 5:if(In(i),l=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==s&&$n(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return at(i),null}if(t=ne.current,rl(i))Sf(i);else{switch(d=nr(de.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?d.createElement(l,{is:s.is}):d.createElement(l)}}t[Ee]=i,t[Ue]=s;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(xt(t,l,s),l){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$n(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==s&&$n(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(a(166));if(t=de.current,rl(i)){if(t=i.stateNode,l=i.memoizedProps,s=null,d=Ut,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}t[Ee]=i,t=!!(t.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Pm(t.nodeValue,l)),t||Gi(i)}else t=nr(t).createTextNode(s),t[Ee]=i,i.stateNode=t}return at(i),null;case 13:if(s=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=rl(i),s!==null&&s.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Ee]=i}else sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),d=!1}else d=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Fn(i),i):(Fn(i),null)}if(Fn(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=s!==null,t=t!==null&&t.memoizedState!==null,l){s=i.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool);var p=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==d&&(s.flags|=2048)}return l!==t&&l&&(i.child.flags|=8192),Ho(i,i.updateQueue),at(i),null;case 4:return it(),t===null&&bu(i.stateNode.containerInfo),at(i),null;case 10:return Bn(i.type),at(i),null;case 19:if(K(yt),d=i.memoizedState,d===null)return at(i),null;if(s=(i.flags&128)!==0,p=d.rendering,p===null)if(s)Al(d,!1);else{if(rt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=ko(t),p!==null){for(i.flags|=128,Al(d,!1),t=p.updateQueue,i.updateQueue=t,Ho(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)Cf(l,t),l=l.sibling;return H(yt,yt.current&1|2),i.child}t=t.sibling}d.tail!==null&&Gt()>$o&&(i.flags|=128,s=!0,Al(d,!1),i.lanes=4194304)}else{if(!s)if(t=ko(p),t!==null){if(i.flags|=128,s=!0,t=t.updateQueue,i.updateQueue=t,Ho(i,t),Al(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!He)return at(i),null}else 2*Gt()-d.renderingStartTime>$o&&l!==536870912&&(i.flags|=128,s=!0,Al(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(t=d.last,t!==null?t.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Gt(),i.sibling=null,t=yt.current,H(yt,s?t&1|2:t&1),i):(at(i),null);case 22:case 23:return Fn(i),ws(),s=i.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(l&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),l=i.updateQueue,l!==null&&Ho(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(i.flags|=2048),t!==null&&K(qi),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bn(gt),at(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function By(t,i){switch(vs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bn(gt),it(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return In(i),null;case 13:if(Fn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));sl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(yt),null;case 4:return it(),null;case 10:return Bn(i.type),null;case 22:case 23:return Fn(i),ws(),t!==null&&K(qi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bn(gt),null;case 25:return null;default:return null}}function Zd(t,i){switch(vs(i),i.tag){case 3:Bn(gt),it();break;case 26:case 27:case 5:In(i);break;case 4:it();break;case 13:Fn(i);break;case 19:K(yt);break;case 10:Bn(i.type);break;case 22:case 23:Fn(i),ws(),t!==null&&K(qi);break;case 24:Bn(gt)}}function xl(t,i){try{var l=i.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&t)===t){s=void 0;var p=l.create,T=l.inst;s=p(),T.destroy=s}l=l.next}while(l!==d)}}catch(C){Xe(i,i.return,C)}}function fi(t,i,l){try{var s=i.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var p=d.next;s=p;do{if((s.tag&t)===t){var T=s.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=i;var A=l,b=C;try{b()}catch(O){Xe(d,A,O)}}}s=s.next}while(s!==p)}}catch(O){Xe(i,i.return,O)}}function Kd(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{Of(i,l)}catch(s){Xe(t,t.return,s)}}}function Jd(t,i,l){l.props=Bi(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(s){Xe(t,i,s)}}function Ml(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof l=="function"?t.refCleanup=l(s):l.current=s}}catch(d){Xe(t,i,d)}}function An(t,i){var l=t.ref,s=t.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){Xe(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Xe(t,i,d)}else l.current=null}function Xd(t){var i=t.type,l=t.memoizedProps,s=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){Xe(t,t.return,d)}}function ou(t,i,l){try{var s=t.stateNode;uv(s,t.type,l,i),s[Ue]=i}catch(d){Xe(t,t.return,d)}}function Qd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ti(t.type)||t.tag===4}function ru(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ti(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function su(t,i,l){var s=t.tag;if(s===5||s===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=tr));else if(s!==4&&(s===27&&Ti(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(su(t,i,l),t=t.sibling;t!==null;)su(t,i,l),t=t.sibling}function Fo(t,i,l){var s=t.tag;if(s===5||s===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(s!==4&&(s===27&&Ti(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Fo(t,i,l),t=t.sibling;t!==null;)Fo(t,i,l),t=t.sibling}function Wd(t){var i=t.stateNode,l=t.memoizedProps;try{for(var s=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);xt(i,s,l),i[Ee]=t,i[Ue]=l}catch(p){Xe(t,t.return,p)}}var Zn=!1,ut=!1,uu=!1,jd=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Hy(t,i){if(t=t.containerInfo,Uu=sr,t=cf(t),rs(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var T=0,C=-1,A=-1,b=0,O=0,k=t,I=null;t:for(;;){for(var w;k!==l||d!==0&&k.nodeType!==3||(C=T+d),k!==p||s!==0&&k.nodeType!==3||(A=T+s),k.nodeType===3&&(T+=k.nodeValue.length),(w=k.firstChild)!==null;)I=k,k=w;for(;;){if(k===t)break t;if(I===l&&++b===d&&(C=T),I===p&&++O===s&&(A=T),(w=k.nextSibling)!==null)break;k=I,I=k.parentNode}k=w}l=C===-1||A===-1?null:{start:C,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lu={focusedElem:t,selectionRange:l},sr=!1,_t=i;_t!==null;)if(i=_t,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,_t=t;else for(;_t!==null;){switch(i=_t,p=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,l=i,d=p.memoizedProps,p=p.memoizedState,s=l.stateNode;try{var ce=Bi(l.type,d,l.elementType===l.type);t=s.getSnapshotBeforeUpdate(ce,p),s.__reactInternalSnapshotBeforeUpdate=t}catch(se){Xe(l,l.return,se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)Gu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,_t=t;break}_t=i.return}}function em(t,i,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:di(t,l),s&4&&xl(5,l);break;case 1:if(di(t,l),s&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(T){Xe(l,l.return,T)}else{var d=Bi(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Xe(l,l.return,T)}}s&64&&Kd(l),s&512&&Ml(l,l.return);break;case 3:if(di(t,l),s&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Of(t,i)}catch(T){Xe(l,l.return,T)}}break;case 27:i===null&&s&4&&Wd(l);case 26:case 5:di(t,l),i===null&&s&4&&Xd(l),s&512&&Ml(l,l.return);break;case 12:di(t,l);break;case 13:di(t,l),s&4&&im(t,l),s&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=Wy.bind(null,l),gv(t,l))));break;case 22:if(s=l.memoizedState!==null||Zn,!s){i=i!==null&&i.memoizedState!==null||ut,d=Zn;var p=ut;Zn=s,(ut=i)&&!p?mi(t,l,(l.subtreeFlags&8772)!==0):di(t,l),Zn=d,ut=p}break;case 30:break;default:di(t,l)}}function tm(t){var i=t.alternate;i!==null&&(t.alternate=null,tm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ea(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,Ht=!1;function Kn(t,i,l){for(l=l.child;l!==null;)nm(t,i,l),l=l.sibling}function nm(t,i,l){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(ei,l)}catch{}switch(l.tag){case 26:ut||An(l,i),Kn(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ut||An(l,i);var s=nt,d=Ht;Ti(l.type)&&(nt=l.stateNode,Ht=!1),Kn(t,i,l),Ol(l.stateNode),nt=s,Ht=d;break;case 5:ut||An(l,i);case 6:if(s=nt,d=Ht,nt=null,Kn(t,i,l),nt=s,Ht=d,nt!==null)if(Ht)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(l.stateNode)}catch(p){Xe(l,i,p)}else try{nt.removeChild(l.stateNode)}catch(p){Xe(l,i,p)}break;case 18:nt!==null&&(Ht?(t=nt,Fm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Hl(t)):Fm(nt,l.stateNode));break;case 4:s=nt,d=Ht,nt=l.stateNode.containerInfo,Ht=!0,Kn(t,i,l),nt=s,Ht=d;break;case 0:case 11:case 14:case 15:ut||fi(2,l,i),ut||fi(4,l,i),Kn(t,i,l);break;case 1:ut||(An(l,i),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Jd(l,i,s)),Kn(t,i,l);break;case 21:Kn(t,i,l);break;case 22:ut=(s=ut)||l.memoizedState!==null,Kn(t,i,l),ut=s;break;default:Kn(t,i,l)}}function im(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hl(t)}catch(l){Xe(i,i.return,l)}}function Fy(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new jd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new jd),i;default:throw Error(a(435,t.tag))}}function cu(t,i){var l=Fy(t);i.forEach(function(s){var d=jy.bind(null,t,s);l.has(s)||(l.add(s),s.then(d,d))})}function Jt(t,i){var l=i.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],p=t,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Ti(C.type)){nt=C.stateNode,Ht=!1;break e}break;case 5:nt=C.stateNode,Ht=!1;break e;case 3:case 4:nt=C.stateNode.containerInfo,Ht=!0;break e}C=C.return}if(nt===null)throw Error(a(160));nm(p,T,d),nt=null,Ht=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)am(i,t),i=i.sibling}var gn=null;function am(t,i){var l=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Jt(i,t),Xt(t),s&4&&(fi(3,t,t.return),xl(3,t),fi(5,t,t.return));break;case 1:Jt(i,t),Xt(t),s&512&&(ut||l===null||An(l,l.return)),s&64&&Zn&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=gn;if(Jt(i,t),Xt(t),s&512&&(ut||l===null||An(l,l.return)),s&4){var p=l!==null?l.memoizedState:null;if(s=t.memoizedState,l===null)if(s===null)if(t.stateNode===null){e:{s=t.type,l=t.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":p=d.getElementsByTagName("title")[0],(!p||p[$t]||p[Ee]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(s),d.head.insertBefore(p,d.querySelector("head > title"))),xt(p,s,l),p[Ee]=t,Ie(p),s=p;break e;case"link":var T=Wm("link","href",d).get(s+(l.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(C,1);break t}}p=d.createElement(s),xt(p,s,l),d.head.appendChild(p);break;case"meta":if(T=Wm("meta","content",d).get(s+(l.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(C,1);break t}}p=d.createElement(s),xt(p,s,l),d.head.appendChild(p);break;default:throw Error(a(468,s))}p[Ee]=t,Ie(p),s=p}t.stateNode=s}else jm(d,t.type,t.stateNode);else t.stateNode=Qm(d,s,t.memoizedProps);else p!==s?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,s===null?jm(d,t.type,t.stateNode):Qm(d,s,t.memoizedProps)):s===null&&t.stateNode!==null&&ou(t,t.memoizedProps,l.memoizedProps)}break;case 27:Jt(i,t),Xt(t),s&512&&(ut||l===null||An(l,l.return)),l!==null&&s&4&&ou(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Jt(i,t),Xt(t),s&512&&(ut||l===null||An(l,l.return)),t.flags&32){d=t.stateNode;try{aa(d,"")}catch(w){Xe(t,t.return,w)}}s&4&&t.stateNode!=null&&(d=t.memoizedProps,ou(t,d,l!==null?l.memoizedProps:d)),s&1024&&(uu=!0);break;case 6:if(Jt(i,t),Xt(t),s&4){if(t.stateNode===null)throw Error(a(162));s=t.memoizedProps,l=t.stateNode;try{l.nodeValue=s}catch(w){Xe(t,t.return,w)}}break;case 3:if(lr=null,d=gn,gn=ir(i.containerInfo),Jt(i,t),gn=d,Xt(t),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(w){Xe(t,t.return,w)}uu&&(uu=!1,lm(t));break;case 4:s=gn,gn=ir(t.stateNode.containerInfo),Jt(i,t),Xt(t),gn=s;break;case 12:Jt(i,t),Xt(t);break;case 13:Jt(i,t),Xt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gu=Gt()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,cu(t,s)));break;case 22:d=t.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,b=Zn,O=ut;if(Zn=b||d,ut=O||A,Jt(i,t),ut=O,Zn=b,Xt(t),s&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(l===null||A||Zn||ut||Hi(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){A=l=i;try{if(p=A.stateNode,d)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=A.stateNode;var k=A.memoizedProps.style,I=k!=null&&k.hasOwnProperty("display")?k.display:null;C.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(w){Xe(A,A.return,w)}}}else if(i.tag===6){if(l===null){A=i;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(w){Xe(A,A.return,w)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=t.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,cu(t,l))));break;case 19:Jt(i,t),Xt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,cu(t,s)));break;case 30:break;case 21:break;default:Jt(i,t),Xt(t)}}function Xt(t){var i=t.flags;if(i&2){try{for(var l,s=t.return;s!==null;){if(Qd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,p=ru(t);Fo(t,p,d);break;case 5:var T=l.stateNode;l.flags&32&&(aa(T,""),l.flags&=-33);var C=ru(t);Fo(t,C,T);break;case 3:case 4:var A=l.stateNode.containerInfo,b=ru(t);su(t,b,A);break;default:throw Error(a(161))}}catch(O){Xe(t,t.return,O)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function lm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;lm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function di(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)em(t,i.alternate,i),i=i.sibling}function Hi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:fi(4,i,i.return),Hi(i);break;case 1:An(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Jd(i,i.return,l),Hi(i);break;case 27:Ol(i.stateNode);case 26:case 5:An(i,i.return),Hi(i);break;case 22:i.memoizedState===null&&Hi(i);break;case 30:Hi(i);break;default:Hi(i)}t=t.sibling}}function mi(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,d=t,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:mi(d,p,l),xl(4,p);break;case 1:if(mi(d,p,l),s=p,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(b){Xe(s,s.return,b)}if(s=p,d=s.updateQueue,d!==null){var C=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Lf(A[d],C)}catch(b){Xe(s,s.return,b)}}l&&T&64&&Kd(p),Ml(p,p.return);break;case 27:Wd(p);case 26:case 5:mi(d,p,l),l&&s===null&&T&4&&Xd(p),Ml(p,p.return);break;case 12:mi(d,p,l);break;case 13:mi(d,p,l),l&&T&4&&im(d,p);break;case 22:p.memoizedState===null&&mi(d,p,l),Ml(p,p.return);break;case 30:break;default:mi(d,p,l)}i=i.sibling}}function fu(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&fl(l))}function du(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function xn(t,i,l,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)om(t,i,l,s),i=i.sibling}function om(t,i,l,s){var d=i.flags;switch(i.tag){case 0:case 11:case 15:xn(t,i,l,s),d&2048&&xl(9,i);break;case 1:xn(t,i,l,s);break;case 3:xn(t,i,l,s),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(d&2048){xn(t,i,l,s),t=i.stateNode;try{var p=i.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Xe(i,i.return,A)}}else xn(t,i,l,s);break;case 13:xn(t,i,l,s);break;case 23:break;case 22:p=i.stateNode,T=i.alternate,i.memoizedState!==null?p._visibility&2?xn(t,i,l,s):Nl(t,i):p._visibility&2?xn(t,i,l,s):(p._visibility|=2,Ea(t,i,l,s,(i.subtreeFlags&10256)!==0)),d&2048&&fu(T,i);break;case 24:xn(t,i,l,s),d&2048&&du(i.alternate,i);break;default:xn(t,i,l,s)}}function Ea(t,i,l,s,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=t,T=i,C=l,A=s,b=T.flags;switch(T.tag){case 0:case 11:case 15:Ea(p,T,C,A,d),xl(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?Ea(p,T,C,A,d):Nl(p,T):(O._visibility|=2,Ea(p,T,C,A,d)),d&&b&2048&&fu(T.alternate,T);break;case 24:Ea(p,T,C,A,d),d&&b&2048&&du(T.alternate,T);break;default:Ea(p,T,C,A,d)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,s=i,d=s.flags;switch(s.tag){case 22:Nl(l,s),d&2048&&fu(s.alternate,s);break;case 24:Nl(l,s),d&2048&&du(s.alternate,s);break;default:Nl(l,s)}i=i.sibling}}var Rl=8192;function Aa(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)rm(t),t=t.sibling}function rm(t){switch(t.tag){case 26:Aa(t),t.flags&Rl&&t.memoizedState!==null&&Dv(gn,t.memoizedState,t.memoizedProps);break;case 5:Aa(t);break;case 3:case 4:var i=gn;gn=ir(t.stateNode.containerInfo),Aa(t),gn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Rl,Rl=16777216,Aa(t),Rl=i):Aa(t));break;default:Aa(t)}}function sm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var s=i[l];_t=s,cm(s,t)}sm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)um(t),t=t.sibling}function um(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&fi(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Yo(t)):Dl(t);break;default:Dl(t)}}function Yo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var s=i[l];_t=s,cm(s,t)}sm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:fi(8,i,i.return),Yo(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Yo(i));break;default:Yo(i)}t=t.sibling}}function cm(t,i){for(;_t!==null;){var l=_t;switch(l.tag){case 0:case 11:case 15:fi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:fl(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,_t=s;else e:for(l=t;_t!==null;){s=_t;var d=s.sibling,p=s.return;if(tm(s),s===l){_t=null;break e}if(d!==null){d.return=p,_t=d;break e}_t=p}}}var Yy={getCacheForType:function(t){var i=Nt(gt),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l}},$y=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Qe=null,Ne=null,Ve=0,Ye=0,Qt=null,pi=!1,xa=!1,mu=!1,Jn=0,rt=0,hi=0,Fi=0,pu=0,sn=0,Ma=0,bl=null,Ft=null,hu=!1,gu=0,$o=1/0,Zo=null,gi=null,At=0,yi=null,Na=null,Ra=0,yu=0,vu=null,fm=null,Il=0,Tu=null;function Wt(){if((Fe&2)!==0&&Ve!==0)return Ve&-Ve;if(L.T!==null){var t=ha;return t!==0?t:Mu()}return ge()}function dm(){sn===0&&(sn=(Ve&536870912)===0||He?io():536870912);var t=rn.current;return t!==null&&(t.flags|=32),sn}function jt(t,i,l){(t===Qe&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Da(t,0),vi(t,Ve,sn,!1)),dn(t,l),((Fe&2)===0||t!==Qe)&&(t===Qe&&((Fe&2)===0&&(Fi|=l),rt===4&&vi(t,Ve,sn,!1)),Mn(t))}function mm(t,i,l){if((Fe&6)!==0)throw Error(a(327));var s=!l&&(i&124)===0&&(i&t.expiredLanes)===0||Di(t,i),d=s?Jy(t,i):Su(t,i,!0),p=s;do{if(d===0){xa&&!s&&vi(t,i,0,!1);break}else{if(l=t.current.alternate,p&&!Zy(l)){d=Su(t,i,!1),p=!1;continue}if(d===2){if(p=i,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=t;d=bl;var A=C.current.memoizedState.isDehydrated;if(A&&(Da(C,T).flags|=256),T=Su(C,T,!1),T!==2){if(mu&&!A){C.errorRecoveryDisabledLanes|=p,Fi|=p,d=4;break e}p=Ft,Ft=d,p!==null&&(Ft===null?Ft=p:Ft.push.apply(Ft,p))}d=T}if(p=!1,d!==2)continue}}if(d===1){Da(t,0),vi(t,i,0,!0);break}e:{switch(s=t,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:vi(s,i,sn,!pi);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(d=gu+300-Gt(),10<d)){if(vi(s,i,sn,!pi),ji(s,0,!0)!==0)break e;s.timeoutHandle=Bm(pm.bind(null,s,l,Ft,Zo,hu,i,sn,Fi,Ma,pi,p,2,-0,0),d);break e}pm(s,l,Ft,Zo,hu,i,sn,Fi,Ma,pi,p,0,-0,0)}}break}while(!0);Mn(t)}function pm(t,i,l,s,d,p,T,C,A,b,O,k,I,w){if(t.timeoutHandle=-1,k=i.subtreeFlags,(k&8192||(k&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:Rv},rm(i),k=bv(),k!==null)){t.cancelPendingCommit=k(_m.bind(null,t,i,p,l,s,d,T,C,A,O,1,I,w)),vi(t,p,T,!b);return}_m(t,i,p,l,s,d,T,C,A)}function Zy(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],p=d.getSnapshot;d=d.value;try{if(!Zt(p(),d))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vi(t,i,l,s){i&=~pu,i&=~Fi,t.suspendedLanes|=i,t.pingedLanes&=~i,s&&(t.warmLanes|=i),s=t.expirationTimes;for(var d=i;0<d;){var p=31-It(d),T=1<<p;s[p]=-1,d&=~T}l!==0&&Z(t,l,i)}function Ko(){return(Fe&6)===0?(wl(0),!1):!0}function Cu(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,zn=ki=null,Gs(t),_a=null,Sl=0,t=Ne;for(;t!==null;)Zd(t.alternate,t),t=t.return;Ne=null}}function Da(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,fv(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Cu(),Qe=t,Ne=l=kn(t.current,null),Ve=i,Ye=0,Qt=null,pi=!1,xa=Di(t,i),mu=!1,Ma=sn=pu=Fi=hi=rt=0,Ft=bl=null,hu=!1,(i&8)!==0&&(i|=i&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=i;0<s;){var d=31-It(s),p=1<<d;i|=t[d],s&=~p}return Jn=i,go(),l}function hm(t,i){xe=null,L.H=Oo,i===ml||i===xo?(i=wf(),Ye=3):i===Df?(i=wf(),Ye=4):Ye=i===Ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qt=i,Ne===null&&(rt=1,qo(t,nn(i,t.current)))}function gm(){var t=L.H;return L.H=Oo,t===null?Oo:t}function ym(){var t=L.A;return L.A=Yy,t}function _u(){rt=4,pi||(Ve&4194048)!==Ve&&rn.current!==null||(xa=!0),(hi&134217727)===0&&(Fi&134217727)===0||Qe===null||vi(Qe,Ve,sn,!1)}function Su(t,i,l){var s=Fe;Fe|=2;var d=gm(),p=ym();(Qe!==t||Ve!==i)&&(Zo=null,Da(t,i)),i=!1;var T=rt;e:do try{if(Ye!==0&&Ne!==null){var C=Ne,A=Qt;switch(Ye){case 8:Cu(),T=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(i=!0);var b=Ye;if(Ye=0,Qt=null,ba(t,C,A,b),l&&xa){T=0;break e}break;default:b=Ye,Ye=0,Qt=null,ba(t,C,A,b)}}Ky(),T=rt;break}catch(O){hm(t,O)}while(!0);return i&&t.shellSuspendCounter++,zn=ki=null,Fe=s,L.H=d,L.A=p,Ne===null&&(Qe=null,Ve=0,go()),T}function Ky(){for(;Ne!==null;)vm(Ne)}function Jy(t,i){var l=Fe;Fe|=2;var s=gm(),d=ym();Qe!==t||Ve!==i?(Zo=null,$o=Gt()+500,Da(t,i)):xa=Di(t,i);e:do try{if(Ye!==0&&Ne!==null){i=Ne;var p=Qt;t:switch(Ye){case 1:Ye=0,Qt=null,ba(t,i,p,1);break;case 2:case 9:if(bf(p)){Ye=0,Qt=null,Tm(i);break}i=function(){Ye!==2&&Ye!==9||Qe!==t||(Ye=7),Mn(t)},p.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:bf(p)?(Ye=0,Qt=null,Tm(i)):(Ye=0,Qt=null,ba(t,i,p,7));break;case 5:var T=null;switch(Ne.tag){case 26:T=Ne.memoizedState;case 5:case 27:var C=Ne;if(!T||ep(T)){Ye=0,Qt=null;var A=C.sibling;if(A!==null)Ne=A;else{var b=C.return;b!==null?(Ne=b,Jo(b)):Ne=null}break t}}Ye=0,Qt=null,ba(t,i,p,5);break;case 6:Ye=0,Qt=null,ba(t,i,p,6);break;case 8:Cu(),rt=6;break e;default:throw Error(a(462))}}Xy();break}catch(O){hm(t,O)}while(!0);return zn=ki=null,L.H=s,L.A=d,Fe=l,Ne!==null?0:(Qe=null,Ve=0,go(),rt)}function Xy(){for(;Ne!==null&&!Be();)vm(Ne)}function vm(t){var i=Yd(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,i===null?Jo(t):Ne=i}function Tm(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=Pd(l,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Pd(l,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Gs(i);default:Zd(l,i),i=Ne=Cf(i,Jn),i=Yd(l,i,Jn)}t.memoizedProps=t.pendingProps,i===null?Jo(t):Ne=i}function ba(t,i,l,s){zn=ki=null,Gs(i),_a=null,Sl=0;var d=i.return;try{if(Py(t,d,i,l,Ve)){rt=1,qo(t,nn(l,t.current)),Ne=null;return}}catch(p){if(d!==null)throw Ne=d,p;rt=1,qo(t,nn(l,t.current)),Ne=null;return}i.flags&32768?(He||s===1?t=!0:xa||(Ve&536870912)!==0?t=!1:(pi=t=!0,(s===2||s===9||s===3||s===6)&&(s=rn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Cm(i,t)):Jo(i)}function Jo(t){var i=t;do{if((i.flags&32768)!==0){Cm(i,pi);return}t=i.return;var l=zy(i.alternate,i,Jn);if(l!==null){Ne=l;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);rt===0&&(rt=5)}function Cm(t,i){do{var l=By(t.alternate,t);if(l!==null){l.flags&=32767,Ne=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=l}while(t!==null);rt=6,Ne=null}function _m(t,i,l,s,d,p,T,C,A){t.cancelPendingCommit=null;do Xo();while(At!==0);if((Fe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=ds,B(t,l,p,T,C,A),t===Qe&&(Ne=Qe=null,Ve=0),Na=i,yi=t,Ra=l,yu=p,vu=d,fm=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ev(wn,function(){return Mm(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=L.T,L.T=null,d=F.p,F.p=2,T=Fe,Fe|=4;try{Hy(t,i,l)}finally{Fe=T,F.p=d,L.T=s}}At=1,Sm(),Em(),Am()}}function Sm(){if(At===1){At=0;var t=yi,i=Na,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var s=F.p;F.p=2;var d=Fe;Fe|=4;try{am(i,t);var p=Lu,T=cf(t.containerInfo),C=p.focusedElem,A=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&uf(C.ownerDocument.documentElement,C)){if(A!==null&&rs(C)){var b=A.start,O=A.end;if(O===void 0&&(O=b),"selectionStart"in C)C.selectionStart=b,C.selectionEnd=Math.min(O,C.value.length);else{var k=C.ownerDocument||document,I=k&&k.defaultView||window;if(I.getSelection){var w=I.getSelection(),ce=C.textContent.length,se=Math.min(A.start,ce),Ke=A.end===void 0?se:Math.min(A.end,ce);!w.extend&&se>Ke&&(T=Ke,Ke=se,se=T);var R=sf(C,se),M=sf(C,Ke);if(R&&M&&(w.rangeCount!==1||w.anchorNode!==R.node||w.anchorOffset!==R.offset||w.focusNode!==M.node||w.focusOffset!==M.offset)){var D=k.createRange();D.setStart(R.node,R.offset),w.removeAllRanges(),se>Ke?(w.addRange(D),w.extend(M.node,M.offset)):(D.setEnd(M.node,M.offset),w.addRange(D))}}}}for(k=[],w=C;w=w.parentNode;)w.nodeType===1&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<k.length;C++){var V=k[C];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}sr=!!Uu,Lu=Uu=null}finally{Fe=d,F.p=s,L.T=l}}t.current=i,At=2}}function Em(){if(At===2){At=0;var t=yi,i=Na,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var s=F.p;F.p=2;var d=Fe;Fe|=4;try{em(t,i.alternate,i)}finally{Fe=d,F.p=s,L.T=l}}At=3}}function Am(){if(At===4||At===3){At=0,ke();var t=yi,i=Na,l=Ra,s=fm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?At=5:(At=0,Na=yi=null,xm(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(gi=null),ae(l),i=i.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(ei,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=L.T,d=F.p,F.p=2,L.T=null;try{for(var p=t.onRecoverableError,T=0;T<s.length;T++){var C=s[T];p(C.value,{componentStack:C.stack})}}finally{L.T=i,F.p=d}}(Ra&3)!==0&&Xo(),Mn(t),d=t.pendingLanes,(l&4194090)!==0&&(d&42)!==0?t===Tu?Il++:(Il=0,Tu=t):Il=0,wl(0)}}function xm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function Xo(t){return Sm(),Em(),Am(),Mm()}function Mm(){if(At!==5)return!1;var t=yi,i=yu;yu=0;var l=ae(Ra),s=L.T,d=F.p;try{F.p=32>l?32:l,L.T=null,l=vu,vu=null;var p=yi,T=Ra;if(At=0,Na=yi=null,Ra=0,(Fe&6)!==0)throw Error(a(331));var C=Fe;if(Fe|=4,um(p.current),om(p,p.current,T,l),Fe=C,wl(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(ei,p)}catch{}return!0}finally{F.p=d,L.T=s,xm(t,i)}}function Nm(t,i,l){i=nn(l,i),i=Qs(t.stateNode,i,2),t=ri(t,i,2),t!==null&&(dn(t,2),Mn(t))}function Xe(t,i,l){if(t.tag===3)Nm(t,t,l);else for(;i!==null;){if(i.tag===3){Nm(i,t,l);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(gi===null||!gi.has(s))){t=nn(l,t),l=Id(2),s=ri(i,l,2),s!==null&&(wd(l,s,i,t),dn(s,2),Mn(s));break}}i=i.return}}function Eu(t,i,l){var s=t.pingCache;if(s===null){s=t.pingCache=new $y;var d=new Set;s.set(i,d)}else d=s.get(i),d===void 0&&(d=new Set,s.set(i,d));d.has(l)||(mu=!0,d.add(l),t=Qy.bind(null,t,i,l),i.then(t,t))}function Qy(t,i,l){var s=t.pingCache;s!==null&&s.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Qe===t&&(Ve&l)===l&&(rt===4||rt===3&&(Ve&62914560)===Ve&&300>Gt()-gu?(Fe&2)===0&&Da(t,0):pu|=l,Ma===Ve&&(Ma=0)),Mn(t)}function Rm(t,i){i===0&&(i=kt()),t=fa(t,i),t!==null&&(dn(t,i),Mn(t))}function Wy(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),Rm(t,l)}function jy(t,i){var l=0;switch(t.tag){case 13:var s=t.stateNode,d=t.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(i),Rm(t,l)}function ev(t,i){return Mt(t,i)}var Qo=null,Ia=null,Au=!1,Wo=!1,xu=!1,Yi=0;function Mn(t){t!==Ia&&t.next===null&&(Ia===null?Qo=Ia=t:Ia=Ia.next=t),Wo=!0,Au||(Au=!0,nv())}function wl(t,i){if(!xu&&Wo){xu=!0;do for(var l=!1,s=Qo;s!==null;){if(t!==0){var d=s.pendingLanes;if(d===0)var p=0;else{var T=s.suspendedLanes,C=s.pingedLanes;p=(1<<31-It(42|t)+1)-1,p&=d&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,wm(s,p))}else p=Ve,p=ji(s,s===Qe?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||Di(s,p)||(l=!0,wm(s,p));s=s.next}while(l);xu=!1}}function tv(){Dm()}function Dm(){Wo=Au=!1;var t=0;Yi!==0&&(cv()&&(t=Yi),Yi=0);for(var i=Gt(),l=null,s=Qo;s!==null;){var d=s.next,p=bm(s,i);p===0?(s.next=null,l===null?Qo=d:l.next=d,d===null&&(Ia=l)):(l=s,(t!==0||(p&3)!==0)&&(Wo=!0)),s=d}wl(t)}function bm(t,i){for(var l=t.suspendedLanes,s=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-It(p),C=1<<T,A=d[T];A===-1?((C&l)===0||(C&s)!==0)&&(d[T]=Br(C,i)):A<=i&&(t.expiredLanes|=C),p&=~C}if(i=Qe,l=Ve,l=ji(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,l===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Xi(s),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Di(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(s!==null&&Xi(s),ae(l)){case 2:case 8:l=Qa;break;case 32:l=wn;break;case 268435456:l=to;break;default:l=wn}return s=Im.bind(null,t),l=Mt(l,s),t.callbackPriority=i,t.callbackNode=l,i}return s!==null&&s!==null&&Xi(s),t.callbackPriority=2,t.callbackNode=null,2}function Im(t,i){if(At!==0&&At!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Xo()&&t.callbackNode!==l)return null;var s=Ve;return s=ji(t,t===Qe?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(mm(t,s,i),bm(t,Gt()),t.callbackNode!=null&&t.callbackNode===l?Im.bind(null,t):null)}function wm(t,i){if(Xo())return null;mm(t,i,!0)}function nv(){dv(function(){(Fe&6)!==0?Mt(eo,tv):Dm()})}function Mu(){return Yi===0&&(Yi=io()),Yi}function Um(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:so(""+t)}function Lm(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function iv(t,i,l,s,d){if(i==="submit"&&l&&l.stateNode===d){var p=Um((d[Ue]||null).action),T=s.submitter;T&&(i=(i=T[Ue]||null)?Um(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var C=new mo("action","action",null,s,d);t.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Yi!==0){var A=T?Lm(d,T):new FormData(d);$s(l,{pending:!0,data:A,method:d.method,action:p},null,A)}}else typeof p=="function"&&(C.preventDefault(),A=T?Lm(d,T):new FormData(d),$s(l,{pending:!0,data:A,method:d.method,action:p},p,A))},currentTarget:d}]})}}for(var Nu=0;Nu<fs.length;Nu++){var Ru=fs[Nu],av=Ru.toLowerCase(),lv=Ru[0].toUpperCase()+Ru.slice(1);hn(av,"on"+lv)}hn(mf,"onAnimationEnd"),hn(pf,"onAnimationIteration"),hn(hf,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(Sy,"onTransitionRun"),hn(Ey,"onTransitionStart"),hn(Ay,"onTransitionCancel"),hn(gf,"onTransitionEnd"),ta("onMouseEnter",["mouseout","mouseover"]),ta("onMouseLeave",["mouseout","mouseover"]),ta("onPointerEnter",["pointerout","pointerover"]),ta("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ov=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Om(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var s=t[l],d=s.event;s=s.listeners;e:{var p=void 0;if(i)for(var T=s.length-1;0<=T;T--){var C=s[T],A=C.instance,b=C.currentTarget;if(C=C.listener,A!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=b;try{p(d)}catch(O){Po(O)}d.currentTarget=null,p=A}else for(T=0;T<s.length;T++){if(C=s[T],A=C.instance,b=C.currentTarget,C=C.listener,A!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=b;try{p(d)}catch(O){Po(O)}d.currentTarget=null,p=A}}}}function Re(t,i){var l=i[ve];l===void 0&&(l=i[ve]=new Set);var s=t+"__bubble";l.has(s)||(Vm(i,t,2,!1),l.add(s))}function Du(t,i,l){var s=0;i&&(s|=4),Vm(l,t,s,i)}var jo="_reactListening"+Math.random().toString(36).slice(2);function bu(t){if(!t[jo]){t[jo]=!0,qt.forEach(function(l){l!=="selectionchange"&&(ov.has(l)||Du(l,!1,t),Du(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[jo]||(i[jo]=!0,Du("selectionchange",!1,i))}}function Vm(t,i,l,s){switch(op(i)){case 2:var d=Uv;break;case 8:d=Lv;break;default:d=Fu}l=d.bind(null,i,l,t),d=void 0,!Wr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),s?d!==void 0?t.addEventListener(i,l,{capture:!0,passive:d}):t.addEventListener(i,l,!0):d!==void 0?t.addEventListener(i,l,{passive:d}):t.addEventListener(i,l,!1)}function Iu(t,i,l,s,d){var p=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var C=s.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=s.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=On(C),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){s=p=T;continue e}C=C.parentNode}}s=s.return}Bc(function(){var b=p,O=Xr(l),k=[];e:{var I=yf.get(t);if(I!==void 0){var w=mo,ce=t;switch(t){case"keypress":if(co(l)===0)break e;case"keydown":case"keyup":w=ey;break;case"focusin":ce="focus",w=ns;break;case"focusout":ce="blur",w=ns;break;case"beforeblur":case"afterblur":w=ns;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=iy;break;case mf:case pf:case hf:w=Yg;break;case gf:w=ly;break;case"scroll":case"scrollend":w=qg;break;case"wheel":w=ry;break;case"copy":case"cut":case"paste":w=Zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Zc;break;case"toggle":case"beforetoggle":w=uy}var se=(i&4)!==0,Ke=!se&&(t==="scroll"||t==="scrollend"),R=se?I!==null?I+"Capture":null:I;se=[];for(var M=b,D;M!==null;){var V=M;if(D=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||D===null||R===null||(V=Wa(M,R),V!=null&&se.push(Ll(M,V,D))),Ke)break;M=M.return}0<se.length&&(I=new w(I,ce,null,l,O),k.push({event:I,listeners:se}))}}if((i&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",I&&l!==Jr&&(ce=l.relatedTarget||l.fromElement)&&(On(ce)||ce[Tt]))break e;if((w||I)&&(I=O.window===O?O:(I=O.ownerDocument)?I.defaultView||I.parentWindow:window,w?(ce=l.relatedTarget||l.toElement,w=b,ce=ce?On(ce):null,ce!==null&&(Ke=f(ce),se=ce.tag,ce!==Ke||se!==5&&se!==27&&se!==6)&&(ce=null)):(w=null,ce=b),w!==ce)){if(se=Yc,V="onMouseLeave",R="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(se=Zc,V="onPointerLeave",R="onPointerEnter",M="pointer"),Ke=w==null?I:ti(w),D=ce==null?I:ti(ce),I=new se(V,M+"leave",w,l,O),I.target=Ke,I.relatedTarget=D,V=null,On(O)===b&&(se=new se(R,M+"enter",ce,l,O),se.target=D,se.relatedTarget=Ke,V=se),Ke=V,w&&ce)t:{for(se=w,R=ce,M=0,D=se;D;D=wa(D))M++;for(D=0,V=R;V;V=wa(V))D++;for(;0<M-D;)se=wa(se),M--;for(;0<D-M;)R=wa(R),D--;for(;M--;){if(se===R||R!==null&&se===R.alternate)break t;se=wa(se),R=wa(R)}se=null}else se=null;w!==null&&Gm(k,I,w,se,!1),ce!==null&&Ke!==null&&Gm(k,Ke,ce,se,!0)}}e:{if(I=b?ti(b):window,w=I.nodeName&&I.nodeName.toLowerCase(),w==="select"||w==="input"&&I.type==="file")var X=tf;else if(jc(I))if(nf)X=Ty;else{X=yy;var Me=gy}else w=I.nodeName,!w||w.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?b&&Kr(b.elementType)&&(X=tf):X=vy;if(X&&(X=X(t,b))){ef(k,X,l,O);break e}Me&&Me(t,I,b),t==="focusout"&&b&&I.type==="number"&&b.memoizedProps.value!=null&&Zr(I,"number",I.value)}switch(Me=b?ti(b):window,t){case"focusin":(jc(Me)||Me.contentEditable==="true")&&(sa=Me,ss=b,ol=null);break;case"focusout":ol=ss=sa=null;break;case"mousedown":us=!0;break;case"contextmenu":case"mouseup":case"dragend":us=!1,ff(k,l,O);break;case"selectionchange":if(_y)break;case"keydown":case"keyup":ff(k,l,O)}var te;if(as)e:{switch(t){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else ra?Qc(t,l)&&(ue="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ue="onCompositionStart");ue&&(Kc&&l.locale!=="ko"&&(ra||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&ra&&(te=Hc()):(ii=O,jr="value"in ii?ii.value:ii.textContent,ra=!0)),Me=er(b,ue),0<Me.length&&(ue=new $c(ue,t,null,l,O),k.push({event:ue,listeners:Me}),te?ue.data=te:(te=Wc(l),te!==null&&(ue.data=te)))),(te=fy?dy(t,l):my(t,l))&&(ue=er(b,"onBeforeInput"),0<ue.length&&(Me=new $c("onBeforeInput","beforeinput",null,l,O),k.push({event:Me,listeners:ue}),Me.data=te)),iv(k,t,b,l,O)}Om(k,i)})}function Ll(t,i,l){return{instance:t,listener:i,currentTarget:l}}function er(t,i){for(var l=i+"Capture",s=[];t!==null;){var d=t,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Wa(t,l),d!=null&&s.unshift(Ll(t,d,p)),d=Wa(t,i),d!=null&&s.push(Ll(t,d,p))),t.tag===3)return s;t=t.return}return[]}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gm(t,i,l,s,d){for(var p=i._reactName,T=[];l!==null&&l!==s;){var C=l,A=C.alternate,b=C.stateNode;if(C=C.tag,A!==null&&A===s)break;C!==5&&C!==26&&C!==27||b===null||(A=b,d?(b=Wa(l,p),b!=null&&T.unshift(Ll(l,b,A))):d||(b=Wa(l,p),b!=null&&T.push(Ll(l,b,A)))),l=l.return}T.length!==0&&t.push({event:i,listeners:T})}var rv=/\r\n?/g,sv=/\u0000|\uFFFD/g;function km(t){return(typeof t=="string"?t:""+t).replace(rv,`
`).replace(sv,"")}function Pm(t,i){return i=km(i),km(t)===i}function tr(){}function Ze(t,i,l,s,d,p){switch(l){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||aa(t,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&aa(t,""+s);break;case"className":lo(t,"class",s);break;case"tabIndex":lo(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":lo(t,l,s);break;case"style":qc(t,s,p);break;case"data":if(i!=="object"){lo(t,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(l);break}s=so(""+s),t.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(i!=="input"&&Ze(t,i,"name",d.name,d,null),Ze(t,i,"formEncType",d.formEncType,d,null),Ze(t,i,"formMethod",d.formMethod,d,null),Ze(t,i,"formTarget",d.formTarget,d,null)):(Ze(t,i,"encType",d.encType,d,null),Ze(t,i,"method",d.method,d,null),Ze(t,i,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(l);break}s=so(""+s),t.setAttribute(l,s);break;case"onClick":s!=null&&(t.onclick=tr);break;case"onScroll":s!=null&&Re("scroll",t);break;case"onScrollEnd":s!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}l=so(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,""+s):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":s===!0?t.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,s):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(l,s):t.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(l):t.setAttribute(l,s);break;case"popover":Re("beforetoggle",t),Re("toggle",t),ao(t,"popover",s);break;case"xlinkActuate":Vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Vn(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Vn(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Vn(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Vn(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ao(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kg.get(l)||l,ao(t,l,s))}}function wu(t,i,l,s,d,p){switch(l){case"style":qc(t,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"children":typeof s=="string"?aa(t,s):(typeof s=="number"||typeof s=="bigint")&&aa(t,""+s);break;case"onScroll":s!=null&&Re("scroll",t);break;case"onScrollEnd":s!=null&&Re("scrollend",t);break;case"onClick":s!=null&&(t.onclick=tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ni.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),i=l.slice(2,d?l.length-7:void 0),p=t[Ue]||null,p=p!=null?p[l]:null,typeof p=="function"&&t.removeEventListener(i,p,d),typeof s=="function")){typeof p!="function"&&p!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,s,d);break e}l in t?t[l]=s:s===!0?t.setAttribute(l,""):ao(t,l,s)}}}function xt(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var s=!1,d=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,p,T,l,null)}}d&&Ze(t,i,"srcSet",l.srcSet,l,null),s&&Ze(t,i,"src",l.src,l,null);return;case"input":Re("invalid",t);var C=p=T=d=null,A=null,b=null;for(s in l)if(l.hasOwnProperty(s)){var O=l[s];if(O!=null)switch(s){case"name":d=O;break;case"type":T=O;break;case"checked":A=O;break;case"defaultChecked":b=O;break;case"value":p=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,i));break;default:Ze(t,i,s,O,l,null)}}Vc(t,p,C,A,b,T,d,!1),oo(t);return;case"select":Re("invalid",t),s=T=p=null;for(d in l)if(l.hasOwnProperty(d)&&(C=l[d],C!=null))switch(d){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":s=C;default:Ze(t,i,d,C,l,null)}i=p,l=T,t.multiple=!!s,i!=null?ia(t,!!s,i,!1):l!=null&&ia(t,!!s,l,!0);return;case"textarea":Re("invalid",t),p=d=s=null;for(T in l)if(l.hasOwnProperty(T)&&(C=l[T],C!=null))switch(T){case"value":s=C;break;case"defaultValue":d=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Ze(t,i,T,C,l,null)}kc(t,s,d,p),oo(t);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ze(t,i,A,s,l,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(s=0;s<Ul.length;s++)Re(Ul[s],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in l)if(l.hasOwnProperty(b)&&(s=l[b],s!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,b,s,l,null)}return;default:if(Kr(i)){for(O in l)l.hasOwnProperty(O)&&(s=l[O],s!==void 0&&wu(t,i,O,s,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(s=l[C],s!=null&&Ze(t,i,C,s,l,null))}function uv(t,i,l,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,C=null,A=null,b=null,O=null;for(w in l){var k=l[w];if(l.hasOwnProperty(w)&&k!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":A=k;default:s.hasOwnProperty(w)||Ze(t,i,w,null,s,k)}}for(var I in s){var w=s[I];if(k=l[I],s.hasOwnProperty(I)&&(w!=null||k!=null))switch(I){case"type":p=w;break;case"name":d=w;break;case"checked":b=w;break;case"defaultChecked":O=w;break;case"value":T=w;break;case"defaultValue":C=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,i));break;default:w!==k&&Ze(t,i,I,w,s,k)}}$r(t,T,C,A,b,O,p,d);return;case"select":w=T=C=I=null;for(p in l)if(A=l[p],l.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":w=A;default:s.hasOwnProperty(p)||Ze(t,i,p,null,s,A)}for(d in s)if(p=s[d],A=l[d],s.hasOwnProperty(d)&&(p!=null||A!=null))switch(d){case"value":I=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==A&&Ze(t,i,d,p,s,A)}i=C,l=T,s=w,I!=null?ia(t,!!l,I,!1):!!s!=!!l&&(i!=null?ia(t,!!l,i,!0):ia(t,!!l,l?[]:"",!1));return;case"textarea":w=I=null;for(C in l)if(d=l[C],l.hasOwnProperty(C)&&d!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ze(t,i,C,null,s,d)}for(T in s)if(d=s[T],p=l[T],s.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":I=d;break;case"defaultValue":w=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&Ze(t,i,T,d,s,p)}Gc(t,I,w);return;case"option":for(var ce in l)if(I=l[ce],l.hasOwnProperty(ce)&&I!=null&&!s.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Ze(t,i,ce,null,s,I)}for(A in s)if(I=s[A],w=l[A],s.hasOwnProperty(A)&&I!==w&&(I!=null||w!=null))switch(A){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ze(t,i,A,I,s,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in l)I=l[se],l.hasOwnProperty(se)&&I!=null&&!s.hasOwnProperty(se)&&Ze(t,i,se,null,s,I);for(b in s)if(I=s[b],w=l[b],s.hasOwnProperty(b)&&I!==w&&(I!=null||w!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,i));break;default:Ze(t,i,b,I,s,w)}return;default:if(Kr(i)){for(var Ke in l)I=l[Ke],l.hasOwnProperty(Ke)&&I!==void 0&&!s.hasOwnProperty(Ke)&&wu(t,i,Ke,void 0,s,I);for(O in s)I=s[O],w=l[O],!s.hasOwnProperty(O)||I===w||I===void 0&&w===void 0||wu(t,i,O,I,s,w);return}}for(var R in l)I=l[R],l.hasOwnProperty(R)&&I!=null&&!s.hasOwnProperty(R)&&Ze(t,i,R,null,s,I);for(k in s)I=s[k],w=l[k],!s.hasOwnProperty(k)||I===w||I==null&&w==null||Ze(t,i,k,I,s,w)}var Uu=null,Lu=null;function nr(t){return t.nodeType===9?t:t.ownerDocument}function qm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ou(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vu=null;function cv(){var t=window.event;return t&&t.type==="popstate"?t===Vu?!1:(Vu=t,!0):(Vu=null,!1)}var Bm=typeof setTimeout=="function"?setTimeout:void 0,fv=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,dv=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(t){return Hm.resolve(null).then(t).catch(mv)}:Bm;function mv(t){setTimeout(function(){throw t})}function Ti(t){return t==="head"}function Fm(t,i){var l=i,s=0,d=0;do{var p=l.nextSibling;if(t.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<s&&8>s){l=s;var T=t.ownerDocument;if(l&1&&Ol(T.documentElement),l&2&&Ol(T.body),l&4)for(l=T.head,Ol(l),T=l.firstChild;T;){var C=T.nextSibling,A=T.nodeName;T[$t]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=C}}if(d===0){t.removeChild(p),Hl(i);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:s=l.charCodeAt(0)-48;else s=0;l=p}while(l);Hl(i)}function Gu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Gu(l),ea(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function pv(t,i,l,s){for(;t.nodeType===1;){var d=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[$t])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=yn(t.nextSibling),t===null)break}return null}function hv(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=yn(t.nextSibling),t===null))return null;return t}function ku(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function gv(t,i){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")i();else{var s=function(){i(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function yn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Pu=null;function Ym(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}function $m(t,i,l){switch(i=nr(l),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ea(t)}var un=new Map,Zm=new Set;function ir(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xn=F.d;F.d={f:yv,r:vv,D:Tv,C:Cv,L:_v,m:Sv,X:Av,S:Ev,M:xv};function yv(){var t=Xn.f(),i=Ko();return t||i}function vv(t){var i=ht(t);i!==null&&i.tag===5&&i.type==="form"?md(i):Xn.r(t)}var Ua=typeof document>"u"?null:document;function Km(t,i,l){var s=Ua;if(s&&typeof i=="string"&&i){var d=tn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Zm.has(d)||(Zm.add(d),t={rel:t,crossOrigin:l,href:i},s.querySelector(d)===null&&(i=s.createElement("link"),xt(i,"link",t),Ie(i),s.head.appendChild(i)))}}function Tv(t){Xn.D(t),Km("dns-prefetch",t,null)}function Cv(t,i){Xn.C(t,i),Km("preconnect",t,i)}function _v(t,i,l){Xn.L(t,i,l);var s=Ua;if(s&&t&&i){var d='link[rel="preload"][as="'+tn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+tn(l.imageSizes)+'"]')):d+='[href="'+tn(t)+'"]';var p=d;switch(i){case"style":p=La(t);break;case"script":p=Oa(t)}un.has(p)||(t=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),un.set(p,t),s.querySelector(d)!==null||i==="style"&&s.querySelector(Vl(p))||i==="script"&&s.querySelector(Gl(p))||(i=s.createElement("link"),xt(i,"link",t),Ie(i),s.head.appendChild(i)))}}function Sv(t,i){Xn.m(t,i);var l=Ua;if(l&&t){var s=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+tn(s)+'"][href="'+tn(t)+'"]',p=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Oa(t)}if(!un.has(p)&&(t=v({rel:"modulepreload",href:t},i),un.set(p,t),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Gl(p)))return}s=l.createElement("link"),xt(s,"link",t),Ie(s),l.head.appendChild(s)}}}function Ev(t,i,l){Xn.S(t,i,l);var s=Ua;if(s&&t){var d=tt(s).hoistableStyles,p=La(t);i=i||"default";var T=d.get(p);if(!T){var C={loading:0,preload:null};if(T=s.querySelector(Vl(p)))C.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},l),(l=un.get(p))&&qu(t,l);var A=T=s.createElement("link");Ie(A),xt(A,"link",t),A._p=new Promise(function(b,O){A.onload=b,A.onerror=O}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ar(T,i,s)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(p,T)}}}function Av(t,i){Xn.X(t,i);var l=Ua;if(l&&t){var s=tt(l).hoistableScripts,d=Oa(t),p=s.get(d);p||(p=l.querySelector(Gl(d)),p||(t=v({src:t,async:!0},i),(i=un.get(d))&&zu(t,i),p=l.createElement("script"),Ie(p),xt(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function xv(t,i){Xn.M(t,i);var l=Ua;if(l&&t){var s=tt(l).hoistableScripts,d=Oa(t),p=s.get(d);p||(p=l.querySelector(Gl(d)),p||(t=v({src:t,async:!0,type:"module"},i),(i=un.get(d))&&zu(t,i),p=l.createElement("script"),Ie(p),xt(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function Jm(t,i,l,s){var d=(d=de.current)?ir(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=La(l.href),l=tt(d).hoistableStyles,s=l.get(i),s||(s={type:"style",instance:null,count:0,state:null},l.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=La(l.href);var p=tt(d).hoistableStyles,T=p.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=d.querySelector(Vl(t)))&&!p._p&&(T.instance=p,T.state.loading=5),un.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},un.set(t,l),p||Mv(d,t,l,T.state))),i&&s===null)throw Error(a(528,""));return T}if(i&&s!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(l),l=tt(d).hoistableScripts,s=l.get(i),s||(s={type:"script",instance:null,count:0,state:null},l.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function La(t){return'href="'+tn(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Xm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Mv(t,i,l,s){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=t.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),xt(i,"link",l),Ie(i),t.head.appendChild(i))}function Oa(t){return'[src="'+tn(t)+'"]'}function Gl(t){return"script[async]"+t}function Qm(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var s=t.querySelector('style[data-href~="'+tn(l.href)+'"]');if(s)return i.instance=s,Ie(s),s;var d=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),Ie(s),xt(s,"style",d),ar(s,l.precedence,t),i.instance=s;case"stylesheet":d=La(l.href);var p=t.querySelector(Vl(d));if(p)return i.state.loading|=4,i.instance=p,Ie(p),p;s=Xm(l),(d=un.get(d))&&qu(s,d),p=(t.ownerDocument||t).createElement("link"),Ie(p);var T=p;return T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),xt(p,"link",s),i.state.loading|=4,ar(p,l.precedence,t),i.instance=p;case"script":return p=Oa(l.src),(d=t.querySelector(Gl(p)))?(i.instance=d,Ie(d),d):(s=l,(d=un.get(p))&&(s=v({},l),zu(s,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ie(d),xt(d,"link",s),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,ar(s,l.precedence,t));return i.instance}function ar(t,i,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,p=d,T=0;T<s.length;T++){var C=s[T];if(C.dataset.precedence===i)p=C;else if(p!==d)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function qu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function zu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var lr=null;function Wm(t,i,l){if(lr===null){var s=new Map,d=lr=new Map;d.set(l,s)}else d=lr,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(t))return s;for(s.set(t,null),l=l.getElementsByTagName(t),d=0;d<l.length;d++){var p=l[d];if(!(p[$t]||p[Ee]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=t+T;var C=s.get(T);C?C.push(p):s.set(T,[p])}}return s}function jm(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function Nv(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ep(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kl=null;function Rv(){}function Dv(t,i,l){if(kl===null)throw Error(a(475));var s=kl;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=La(l.href),p=t.querySelector(Vl(d));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=or.bind(s),t.then(s,s)),i.state.loading|=4,i.instance=p,Ie(p);return}p=t.ownerDocument||t,l=Xm(l),(d=un.get(d))&&qu(l,d),p=p.createElement("link"),Ie(p);var T=p;T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),xt(p,"link",l),i.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(s.count++,i=or.bind(s),t.addEventListener("load",i),t.addEventListener("error",i))}}function bv(){if(kl===null)throw Error(a(475));var t=kl;return t.stylesheets&&t.count===0&&Bu(t,t.stylesheets),0<t.count?function(i){var l=setTimeout(function(){if(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l)}}:null}function or(){if(this.count--,this.count===0){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rr=null;function Bu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rr=new Map,i.forEach(Iv,t),rr=null,or.call(t))}function Iv(t,i){if(!(i.state.loading&4)){var l=rr.get(t);if(l)var s=l.get(null);else{l=new Map,rr.set(t,l);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}d=i.instance,T=d.getAttribute("data-precedence"),p=l.get(T)||s,p===s&&l.set(null,d),l.set(T,d),this.count++,s=or.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),p?p.parentNode.insertBefore(d,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:J,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function wv(t,i,l,s,d,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function tp(t,i,l,s,d,p,T,C,A,b,O,k){return t=new wv(t,i,l,T,C,A,b,k),i=1,p===!0&&(i|=24),p=Kt(3,null,null,i),t.current=p,p.stateNode=t,i=Es(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:s,isDehydrated:l,cache:i},Ns(p),t}function np(t){return t?(t=da,t):da}function ip(t,i,l,s,d,p){d=np(d),s.context===null?s.context=d:s.pendingContext=d,s=oi(i),s.payload={element:l},p=p===void 0?null:p,p!==null&&(s.callback=p),l=ri(t,s,i),l!==null&&(jt(l,t,i),hl(l,t,i))}function ap(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function Hu(t,i){ap(t,i),(t=t.alternate)&&ap(t,i)}function lp(t){if(t.tag===13){var i=fa(t,67108864);i!==null&&jt(i,t,67108864),Hu(t,67108864)}}var sr=!0;function Uv(t,i,l,s){var d=L.T;L.T=null;var p=F.p;try{F.p=2,Fu(t,i,l,s)}finally{F.p=p,L.T=d}}function Lv(t,i,l,s){var d=L.T;L.T=null;var p=F.p;try{F.p=8,Fu(t,i,l,s)}finally{F.p=p,L.T=d}}function Fu(t,i,l,s){if(sr){var d=Yu(s);if(d===null)Iu(t,i,s,ur,l),rp(t,s);else if(Vv(d,t,i,l,s))s.stopPropagation();else if(rp(t,s),i&4&&-1<Ov.indexOf(t)){for(;d!==null;){var p=ht(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Ln(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var A=1<<31-It(T);C.entanglements[1]|=A,T&=~A}Mn(p),(Fe&6)===0&&($o=Gt()+500,wl(0))}}break;case 13:C=fa(p,2),C!==null&&jt(C,p,2),Ko(),Hu(p,2)}if(p=Yu(s),p===null&&Iu(t,i,s,ur,l),p===d)break;d=p}d!==null&&s.stopPropagation()}else Iu(t,i,s,null,l)}}function Yu(t){return t=Xr(t),$u(t)}var ur=null;function $u(t){if(ur=null,t=On(t),t!==null){var i=f(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=m(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ur=t,null}function op(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case eo:return 2;case Qa:return 8;case wn:case kr:return 32;case to:return 268435456;default:return 32}default:return 32}}var Zu=!1,Ci=null,_i=null,Si=null,ql=new Map,zl=new Map,Ei=[],Ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rp(t,i){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(t,i,l,s,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:l,eventSystemFlags:s,nativeEvent:p,targetContainers:[d]},i!==null&&(i=ht(i),i!==null&&lp(i)),t):(t.eventSystemFlags|=s,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function Vv(t,i,l,s,d){switch(i){case"focusin":return Ci=Bl(Ci,t,i,l,s,d),!0;case"dragenter":return _i=Bl(_i,t,i,l,s,d),!0;case"mouseover":return Si=Bl(Si,t,i,l,s,d),!0;case"pointerover":var p=d.pointerId;return ql.set(p,Bl(ql.get(p)||null,t,i,l,s,d)),!0;case"gotpointercapture":return p=d.pointerId,zl.set(p,Bl(zl.get(p)||null,t,i,l,s,d)),!0}return!1}function sp(t){var i=On(t.target);if(i!==null){var l=f(i);if(l!==null){if(i=l.tag,i===13){if(i=m(l),i!==null){t.blockedOn=i,ft(t.priority,function(){if(l.tag===13){var s=Wt();s=be(s);var d=fa(l,s);d!==null&&jt(d,l,s),Hu(l,s)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=Yu(t.nativeEvent);if(l===null){l=t.nativeEvent;var s=new l.constructor(l.type,l);Jr=s,l.target.dispatchEvent(s),Jr=null}else return i=ht(l),i!==null&&lp(i),t.blockedOn=l,!1;i.shift()}return!0}function up(t,i,l){cr(t)&&l.delete(i)}function Gv(){Zu=!1,Ci!==null&&cr(Ci)&&(Ci=null),_i!==null&&cr(_i)&&(_i=null),Si!==null&&cr(Si)&&(Si=null),ql.forEach(up),zl.forEach(up)}function fr(t,i){t.blockedOn===i&&(t.blockedOn=null,Zu||(Zu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Gv)))}var dr=null;function cp(t){dr!==t&&(dr=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){dr===t&&(dr=null);for(var i=0;i<t.length;i+=3){var l=t[i],s=t[i+1],d=t[i+2];if(typeof s!="function"){if($u(s||l)===null)continue;break}var p=ht(l);p!==null&&(t.splice(i,3),i-=3,$s(p,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function Hl(t){function i(A){return fr(A,t)}Ci!==null&&fr(Ci,t),_i!==null&&fr(_i,t),Si!==null&&fr(Si,t),ql.forEach(i),zl.forEach(i);for(var l=0;l<Ei.length;l++){var s=Ei[l];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Ei.length&&(l=Ei[0],l.blockedOn===null);)sp(l),l.blockedOn===null&&Ei.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],p=l[s+1],T=d[Ue]||null;if(typeof p=="function")T||cp(l);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[Ue]||null)C=T.formAction;else if($u(d)!==null)continue}else C=T.action;typeof C=="function"?l[s+1]=C:(l.splice(s,3),s-=3),cp(l)}}}function Ku(t){this._internalRoot=t}mr.prototype.render=Ku.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,s=Wt();ip(l,s,t,i,null,null)},mr.prototype.unmount=Ku.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;ip(t.current,2,null,t,null,null),Ko(),i[Tt]=null}};function mr(t){this._internalRoot=t}mr.prototype.unstable_scheduleHydration=function(t){if(t){var i=ge();t={blockedOn:null,target:t,priority:i};for(var l=0;l<Ei.length&&i!==0&&i<Ei[l].priority;l++);Ei.splice(l,0,t),l===0&&sp(t)}};var fp=e.version;if(fp!=="19.1.0")throw Error(a(527,fp,"19.1.0"));F.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var kv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pr.isDisabled&&pr.supportsFiber)try{ei=pr.inject(kv),bt=pr}catch{}}return Yl.createRoot=function(t,i){if(!r(t))throw Error(a(299));var l=!1,s="",d=Nd,p=Rd,T=Dd,C=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=tp(t,1,!1,null,null,l,s,d,p,T,C,null),t[Tt]=i.current,bu(t),new Ku(i)},Yl.hydrateRoot=function(t,i,l){if(!r(t))throw Error(a(299));var s=!1,d="",p=Nd,T=Rd,C=Dd,A=null,b=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(b=l.formState)),i=tp(t,1,!0,i,l??null,s,d,p,T,C,A,b),i.context=np(null),l=i.current,s=Wt(),s=be(s),d=oi(s),d.callback=null,ri(l,d,s),l=s,i.current.lanes=l,dn(i,l),Mn(i),t[Tt]=i.current,bu(t),new mr(i)},Yl.version="19.1.0",Yl}var _p;function Jv(){if(_p)return Qu.exports;_p=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Qu.exports=Kv(),Qu.exports}var Xv=Jv();const Qv=eg(Xv);var Te=(o=>(o[o.HOME=0]="HOME",o[o.WORLD_SELECTION=1]="WORLD_SELECTION",o[o.CUSTOM_WORLD_INPUT=2]="CUSTOM_WORLD_INPUT",o[o.ONBOARDING_QUESTIONS_GENERATION_LOADING=3]="ONBOARDING_QUESTIONS_GENERATION_LOADING",o[o.ONBOARDING_QUESTIONS=4]="ONBOARDING_QUESTIONS",o[o.PROTAGONIST_GENDER_SELECTION=5]="PROTAGONIST_GENDER_SELECTION",o[o.SETUP_GENERATION_LOADING=6]="SETUP_GENERATION_LOADING",o[o.SETUP_DISPLAY=7]="SETUP_DISPLAY",o[o.STORY_DETAIL=8]="STORY_DETAIL",o[o.CHAPTER_GENERATION_LOADING=9]="CHAPTER_GENERATION_LOADING",o[o.CHAPTER_VIEW=10]="CHAPTER_VIEW",o[o.SETTINGS=11]="SETTINGS",o))(Te||{});const Wv=()=>E.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"1em",height:"1em",display:"block"},children:E.jsx("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})}),jv=({onNavigateHome:o,onNavigateSettings:e})=>E.jsxs("header",{className:"app-global-header",children:[E.jsx("button",{onClick:o,className:"header-title-button","aria-label":"Volver a la página de inicio",children:E.jsx("h1",{children:"DreamLoop"})}),E.jsx("div",{className:"header-actions",children:E.jsx("button",{onClick:e,className:"header-action-button","aria-label":"Abrir configuración de la aplicación",children:E.jsx(Wv,{})})})]}),eT=({isOpen:o,title:e,message:n,type:a,confirmText:r="Confirmar",onConfirm:f,cancelText:m="Cancelar",onCancel:g,onClose:y})=>{if(!o)return null;const h=()=>{f&&f()},v=()=>{g&&g()};return E.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:y,children:E.jsxs("div",{className:"modal-container",onClick:_=>_.stopPropagation(),children:[E.jsxs("header",{className:"modal-header",children:[E.jsx("h3",{id:"modal-title",children:e}),E.jsx("button",{onClick:y,className:"modal-close-button","aria-label":"Cerrar modal",children:"×"})]}),E.jsx("div",{className:"modal-body",children:typeof n=="string"?E.jsx("p",{children:n}):n}),E.jsxs("footer",{className:"modal-actions",children:[a==="confirm"&&g&&E.jsx("button",{onClick:v,className:"modal-button modal-button-cancel",children:m}),(a==="alert"||a==="confirm"&&f)&&E.jsx("button",{onClick:h,className:"modal-button modal-button-confirm",children:a==="alert"?r||"OK":r})]})]})})},tT=({story:o,onSelect:e})=>E.jsxs("article",{className:"story-card",onClick:()=>e(o.id),role:"button",tabIndex:0,"aria-labelledby":`story-title-${o.id}`,onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&e(o.id)},children:[o.dreamImageUrl?E.jsx("img",{src:o.dreamImageUrl,alt:`Imagen del sueño inicial para ${o.title}`,className:"story-card-image"}):E.jsx("div",{className:"story-card-image-placeholder",children:E.jsx("span",{children:o.worldName?o.worldName.substring(0,1).toUpperCase():"S"})}),E.jsxs("div",{className:"story-card-content",children:[E.jsx("h3",{id:`story-title-${o.id}`,className:"story-card-title",children:o.title}),E.jsx("p",{className:"story-card-world",children:o.worldName}),E.jsxs("p",{className:"story-card-details",children:["Capítulos Generados: ",o.chapters.length," | Próximo/Actual: ",o.completedChaptersCount+1]}),E.jsxs("p",{className:"story-card-date",children:["Creado: ",new Date(o.creationDate).toLocaleDateString()]})]})]}),nT=({stories:o,onCreateNew:e,onSelectStory:n})=>E.jsxs("section",{className:"home-screen","aria-labelledby":"home-heading",children:[E.jsx("h2",{id:"home-heading",children:"Mis Sueños"}),o.length===0?E.jsxs("div",{className:"no-stories-message",children:[E.jsx("p",{children:"Aún no has tejido ningún sueño para tus héroes."}),E.jsx("p",{children:"¡Es hora de empezar una nueva aventura!"})]}):E.jsxs("p",{children:["Explora las aventuras que has iniciado y los mundos que esperan a tus héroes (",o.length," en total)."]}),E.jsxs("div",{className:"story-gallery",children:[E.jsxs("button",{onClick:e,className:"create-new-story-card","aria-label":"Crear nuevo sueño o historia",children:[E.jsx("div",{className:"plus-icon",children:"+"}),E.jsx("p",{children:"Crear Nuevo Sueño"})]}),o.map(a=>E.jsx(tT,{story:a,onSelect:n},a.id))]})]}),Sp=[{id:"fantasy_urban",name:"Fantasía urbana"},{id:"space_opera_punk",name:"Space-opera punk"},{id:"mystery_historical",name:"Misterio histórico"},{id:"high_school_secrets",name:"Instituto: Pasillos y Secretos"},{id:"digital_maze",name:"Laberinto Digital (Redes y Realidad)"},{id:"finding_my_voice",name:"Encontrando Mi Voz (Desafíos Personales)"},{id:"custom",name:"Crea tu propio mundo...",isCustom:!0}],Za="gemini-2.5-pro",Sr="imagen-3.0-generate-002",iT=({onSelectWorld:o,onCustomWorldSubmit:e,selectedWorldId:n})=>{var y;const[a,r]=De.useState(""),f=h=>{o(h),h.isCustom||r("")},m=h=>{h.preventDefault(),a.trim()&&e(a.trim())},g=(y=Sp.find(h=>h.id===n))==null?void 0:y.isCustom;return E.jsxs("section",{className:"world-selection-screen","aria-labelledby":"world-select-heading",children:[E.jsx("h2",{id:"world-select-heading",children:"Elige el Mundo para el Héroe"}),E.jsx("p",{children:"Tu elección inicial definirá el lienzo de su historia. Puedes elegir un mundo predefinido o crear el tuyo."}),E.jsx("div",{className:"world-options",children:Sp.map(h=>E.jsx("button",{onClick:()=>f(h),className:`world-button ${n===h.id?"selected":""} ${h.isCustom?"custom-world-button":""}`,"aria-pressed":n===h.id,"aria-label":`Seleccionar el mundo: ${h.name}`,children:h.name},h.id))}),g&&E.jsxs("form",{onSubmit:m,className:"custom-world-form",children:[E.jsx("label",{htmlFor:"custom-world-name-input",className:"custom-world-label",children:"Describe tu mundo personalizado:"}),E.jsx("input",{type:"text",id:"custom-world-name-input",value:a,onChange:h=>r(h.target.value),placeholder:"Ej: Una ciudad flotante post-apocalíptica...",className:"custom-world-input",required:!0,maxLength:100}),E.jsx("button",{type:"submit",className:"cta-button",disabled:!a.trim(),children:"Continuar con este Mundo"})]})]})},Ql=({ariaLabel:o="Cargando..."})=>E.jsx("div",{className:"spinner",role:"status","aria-label":o}),aT=({worldName:o})=>E.jsxs("section",{className:"loading-screen","aria-labelledby":"loading-heading-onboarding-q",children:[E.jsx("h2",{id:"loading-heading-onboarding-q",children:"Descubriendo las Preguntas Clave..."}),E.jsxs("p",{children:["Estamos consultando a los oráculos de la narrativa para forjar las preguntas que definirán el inicio de tu aventura en ",o,"."]}),E.jsx(Ql,{ariaLabel:"Generando preguntas de onboarding..."}),E.jsx("p",{children:E.jsx("em",{children:"Un camino único se está revelando... Esto puede tardar un momento."})})]}),Ac=({title:o,message:e})=>E.jsxs("div",{className:"error-message",role:"alert",children:[E.jsx("h3",{children:o}),typeof e=="string"?E.jsx("p",{children:e}):e]}),lT=({worldName:o,questions:e,onSubmit:n,error:a,onRetry:r})=>{const[f,m]=De.useState({});De.useEffect(()=>{m({})},[e]);const g=(v,_)=>{m(S=>({...S,[v]:_}))},y=e.length>0&&Object.keys(f).length===e.length,h=()=>{y&&n(f)};return a?E.jsxs("section",{className:"onboarding-questions-screen","aria-live":"assertive",children:[E.jsxs("h2",{id:"onboarding-q-heading",children:["Problemas al Definir la Aventura en ",o]}),E.jsx(Ac,{title:"No pudimos generar las preguntas iniciales",message:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:a}),r&&E.jsx("p",{children:"Puedes intentar generar las preguntas de nuevo."})]})}),r&&E.jsx("button",{onClick:r,className:"cta-button",children:"Reintentar Generación"})]}):!e||e.length===0?E.jsxs("section",{className:"onboarding-questions-screen",children:[E.jsxs("h2",{id:"onboarding-q-heading",children:["Preparando Preguntas para ",o,"..."]}),E.jsx("p",{children:"Un momento mientras se cargan las preguntas..."})]}):E.jsxs("section",{className:"onboarding-questions-screen","aria-labelledby":"onboarding-q-heading",children:[E.jsxs("h2",{id:"onboarding-q-heading",children:["Define los Cimientos de la Aventura en ",o]}),E.jsx("p",{children:"Tus respuestas ayudarán a dar forma al protagonista y al inicio de su viaje."}),E.jsxs("form",{onSubmit:v=>{v.preventDefault(),h()},children:[e.map(v=>E.jsxs("fieldset",{className:"question-block",children:[E.jsx("legend",{className:"question-text",children:v.text}),E.jsx("div",{className:"answer-options",children:v.answers.map(_=>E.jsx("button",{type:"button",onClick:()=>g(v.id,_.value),className:`answer-button ${f[v.id]===_.value?"selected":""}`,"aria-pressed":f[v.id]===_.value,"aria-label":`Respuesta: ${_.text}`,children:_.text},_.value))})]},v.id)),E.jsx("button",{type:"submit",className:"cta-button",disabled:!y,"aria-label":"Finalizar configuración y generar la aventura del héroe",children:"Finalizar y Configurar Aventura"})]})]})},oT=[{label:"Masculino",value:"Masculino"},{label:"Femenino",value:"Femenino"},{label:"Otro",value:"Otro"}],rT=({worldName:o,onSubmit:e})=>{const[n,a]=De.useState(""),[r,f]=De.useState(""),m=h=>{a(h),h!=="Otro"&&f("")},g=h=>{h.preventDefault(),n==="Otro"?r.trim()?e(r.trim()):alert("Por favor, especifica el género personalizado."):n&&e(n)},y=n&&(n!=="Otro"||n==="Otro"&&r.trim()!=="");return E.jsxs("section",{className:"gender-selection-screen","aria-labelledby":"gender-select-heading",children:[E.jsx("h2",{id:"gender-select-heading",children:"Define el Género del Protagonista"}),E.jsxs("p",{children:["Esta elección ayudará a dar forma a la identidad de tu héroe en el mundo de ",o,"."]}),E.jsxs("form",{onSubmit:g,children:[E.jsx("div",{className:"gender-options",role:"radiogroup","aria-labelledby":"gender-select-heading",children:oT.map(h=>E.jsx("button",{type:"button",onClick:()=>m(h.value),className:`gender-button ${n===h.value?"selected":""}`,"aria-pressed":n===h.value,role:"radio","aria-checked":n===h.value,children:h.label},h.value))}),n==="Otro"&&E.jsxs("div",{className:"gender-custom-input-container",children:[E.jsx("label",{htmlFor:"custom-gender-input",className:"custom-world-label",style:{marginBottom:"5px"},children:"Por favor, especifica:"}),E.jsx("input",{type:"text",id:"custom-gender-input",value:r,onChange:h=>f(h.target.value),placeholder:"Ej: No binario, Agénero...",className:"gender-custom-input",maxLength:50})]}),E.jsx("button",{type:"submit",className:"cta-button",disabled:!y,"aria-label":"Confirmar género y continuar",children:"Confirmar Género y Continuar"})]})]})},sT=({worldName:o})=>E.jsxs("section",{className:"loading-screen","aria-labelledby":"loading-heading-setup",children:[E.jsx("h2",{id:"loading-heading-setup",children:"Tejiendo tu Nuevo Sueño..."}),E.jsxs("p",{children:["Estamos consultando a las musas, generando el título, el primer sueño, forjando el arquetipo del héroe en ",o," y escribiendo el inicio de su saga."]}),E.jsx(Ql,{ariaLabel:"Cargando configuración de la aventura..."}),E.jsx("p",{children:E.jsx("em",{children:"La inspiración está en camino... Un momento."})})]}),uT=({storyTitle:o,worldName:e,imageUrl:n,initialDreamImageCaption:a,protagonistName:r,archetype:f,theme:m,preambleText:g,error:y,onContinue:h,onRegenerateInitialDreamImage:v,isGenerating:_,canSave:S})=>{const N=!!n||!!r||!!f||!!m||!!g||!!o||!!a,U=v&&(!n||y&&(y.toLowerCase().includes("imagen")||y.toLowerCase().includes("image"))),G=a||`Representación onírica para ${o||e}`;return E.jsxs("section",{className:"setup-display-screen","aria-labelledby":"setup-heading",children:[E.jsx("h2",{id:"setup-heading",children:o||`Configuración para ${e}`}),_&&E.jsxs("div",{className:"loading-screen minimal-loading","aria-live":"polite",children:[E.jsx(Ql,{ariaLabel:"Generando detalles de la aventura..."}),E.jsx("p",{children:"Ajustando los últimos detalles..."}),y&&y.toLowerCase().startsWith("regenerando imagen")&&E.jsx("p",{children:y})]}),y&&!_&&E.jsx(Ac,{title:"¡Vaya! Contratiempos en el Reino de los Sueños",message:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:y}),N&&E.jsx("p",{children:"A pesar del contratiempo, algunos elementos pudieron ser revelados. Puedes intentar guardar o regenerar la imagen si es el problema."})]})}),!_&&!N&&!y&&E.jsx("p",{children:"No se han podido mostrar los detalles de la configuración en este momento. Intenta recargar o verifica la consola."}),!_&&N&&E.jsxs(E.Fragment,{children:[o&&E.jsxs("h3",{className:"story-title-display",children:["Título: ",o]}),n?E.jsxs("div",{className:"dream-image-section",children:[E.jsx("h4",{children:"El Primer Sueño Inspirador del Héroe:"}),E.jsx("div",{className:"dream-image-container",children:E.jsx("img",{src:n,alt:G})}),a&&E.jsx("p",{className:"image-caption",children:a})]}):E.jsxs("div",{className:"dream-image-section",children:[E.jsx("h4",{children:"El Primer Sueño Inspirador del Héroe:"}),E.jsx("p",{children:"La imagen del sueño no pudo ser generada o no está disponible."}),a&&E.jsxs("p",{className:"image-caption fallback-caption",children:["Concepto del sueño: ",a]})]}),(r||f||m)&&E.jsxs("div",{className:"profile-details-section",children:[E.jsx("h4",{children:"Perfil del Héroe:"}),E.jsxs("div",{className:"profile-details",children:[r&&E.jsxs(E.Fragment,{children:[E.jsx("h5",{children:"Nombre:"}),E.jsx("p",{className:"profile-name",children:r})]}),f&&E.jsxs(E.Fragment,{children:[E.jsx("h5",{children:"Arquetipo:"}),E.jsx("p",{className:"profile-archetype",children:f})]}),m&&E.jsxs(E.Fragment,{children:[E.jsx("h5",{children:"Tema Central:"}),E.jsx("p",{className:"profile-theme",children:m})]})]})]}),g&&E.jsxs("div",{className:"preamble-section",children:[E.jsxs("h4",{children:["El Inicio de su Viaje (narrado por ",r||"el héroe","):"]}),E.jsx("div",{className:"preamble-text",children:g.split(`
`).map((z,W)=>E.jsx("p",{children:z.trim()||E.jsx(E.Fragment,{children:" "})},W))})]})]}),U&&!_&&E.jsx("div",{className:"regenerate-action-container",children:E.jsx("button",{onClick:v,className:"secondary-action-button regenerate-button",disabled:_,"aria-label":"Intentar generar la imagen del sueño inicial de nuevo",children:"Regenerar Imagen del Sueño"})}),E.jsx("button",{onClick:h,className:"cta-button main-cta-button","aria-label":"Guardar sueño y volver al inicio",disabled:_||!S,children:"Guardar Sueño y Volver al Inicio"})]})},cT=o=>{if(o<1||o>3999)return o.toString();const e={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};let n="";for(const a in e)for(;o>=e[a];)n+=a,o-=e[a];return n},vr=(o,e)=>{const n=cT(e);let a=o?o.replace(/^Capítulo \d+:\s*/i,"").replace(/^Capítulo \d+\s*/i,""):"";return a.trim()||(a=`Entrada ${e}`),`Capítulo ${n}: ${a}`},fT=({story:o,onNavigateHome:e,onContinueChapter:n,onViewChapter:a})=>{if(!o)return E.jsxs("section",{className:"story-detail-screen","aria-labelledby":"story-detail-error-heading",children:[E.jsx("h2",{id:"story-detail-error-heading",children:"Sueño Perdido"}),E.jsx("p",{children:"No se pudo encontrar la historia seleccionada. Puede que haya sido un espejismo."}),E.jsx("button",{onClick:e,className:"cta-button",children:"Volver a Mis Sueños"})]});const r=o.completedChaptersCount;let f="",m="";const g=vr("",r+1).split(":")[0];if(r>=30?(f="Fin de la Aventura (Ver Epílogo Próximamente)",m="Has completado todos los capítulos de esta saga. El epílogo estará disponible pronto."):r<o.chapters.length?(f=`Continuar con ${g} (Reflexión Pendiente)`,m=`Abrir ${g} para leer y añadir tu reflexión.`):(f=`Comenzar ${g}`,m=`Generar y comenzar ${g}.`),o.chapters.length===0&&r===0){const h=vr("",1).split(":")[0];f=`Comenzar ${h} para ${o.protagonistName||"el Héroe"}`,m=`Generar y comenzar ${h} para ${o.protagonistName||"el Héroe"}.`}const y=h=>{a(o.id,h.entryNumber-1)};return E.jsxs("section",{className:"story-detail-screen","aria-labelledby":`story-detail-title-${o.id}`,children:[E.jsx("h2",{id:`story-detail-title-${o.id}`,children:o.title}),o.protagonistName&&E.jsxs("p",{className:"protagonist-info",children:["Protagonista: ",E.jsx("strong",{children:o.protagonistName})," (",o.protagonistGender||"Género no especificado",")"]}),o.dreamImageUrl&&E.jsx(E.Fragment,{children:E.jsx("figure",{className:"story-detail-dream-figure",children:E.jsx("img",{src:o.dreamImageUrl,alt:`Representación onírica para ${o.title}`})})}),o.preambleText&&E.jsx(E.Fragment,{children:E.jsx("div",{className:"story-detail-preamble-text",children:o.preambleText.split(`
`).map((h,v)=>E.jsx("p",{children:h.trim()||E.jsx(E.Fragment,{children:" "})},v))})}),o.chapters.length>0?E.jsx("ul",{className:"story-detail-chapters-list","aria-label":`Lista de capítulos generados para ${o.title}`,children:o.chapters.sort((h,v)=>h.entryNumber-v.entryNumber).map(h=>{const v=vr(h.chapterTitle,h.entryNumber),_=`${v}: ${h.chapterText.substring(0,70)}...`,S=h.chapterContentImageUrl?`Imagen representativa para ${v}`:`Placeholder para ${v}`;return E.jsxs("li",{className:"story-detail-chapter-item",onClick:()=>y(h),onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&y(h)},role:"button",tabIndex:0,"aria-label":`Ver ${_}`,children:[h.chapterContentImageUrl?E.jsx("img",{src:h.chapterContentImageUrl,alt:S,className:"story-detail-chapter-item-image"}):E.jsx("div",{className:"story-detail-chapter-item-image-placeholder",children:E.jsx("span",{children:h.entryNumber})}),E.jsxs("div",{className:"story-detail-chapter-item-content",children:[E.jsx("strong",{children:v}),E.jsxs("p",{className:"chapter-text-preview",children:[h.chapterText.substring(0,250),"..."]}),E.jsxs("em",{children:["(",h.playerReflectionForNextChapter&&h.entryNumber<=o.completedChaptersCount?"Reflexión guardada":h.entryNumber===o.completedChaptersCount+1&&!h.playerReflectionForNextChapter?"Reflexión pendiente":"Reflexión guardada",")"]}),E.jsxs("span",{className:"chapter-date",children:["(",new Date(h.date).toLocaleDateString(),")"]})]})]},h.id)})}):E.jsxs("p",{className:"no-chapters-message",children:["La historia de ",o.protagonistName||"este héroe"," aún no ha comenzado a escribirse. ¡El primer capítulo aguarda ser soñado!"]}),E.jsxs("div",{className:"story-detail-actions",children:[E.jsx("button",{onClick:()=>n(o.id),className:"cta-button","aria-label":m,disabled:r>=30,children:f}),E.jsx("button",{onClick:e,className:"modal-button modal-button-cancel","aria-label":"Volver a la pantalla de Mis Sueños",children:"Volver a Mis Sueños"})]})]})},dT=({storyTitle:o,chapterNumber:e})=>E.jsxs("section",{className:"loading-screen chapter-loading","aria-labelledby":"loading-heading-chapter",children:[E.jsxs("h2",{id:"loading-heading-chapter",children:["Tejiendo el Capítulo ",e,"..."]}),E.jsxs("p",{children:['Las hebras del destino se entrelazan para "',o,'". El héroe aguarda tu influencia para su próximo despertar.']}),E.jsx(Ql,{ariaLabel:`Generando capítulo ${e}...`}),E.jsx("p",{children:E.jsx("em",{children:"Un nuevo fragmento del sueño está tomando forma..."})})]}),mT=({story:o,chapter:e,chapterIndex:n,imageCaption:a,onSaveReflection:r,onNavigateBack:f,isLoading:m,error:g,onRegenerateChapterContentImage:y})=>{const[h,v]=De.useState(e.playerReflectionForNextChapter||""),_=n<o.completedChaptersCount,S=n===o.completedChaptersCount,N=_,U=()=>{h.trim()&&!N?r(o.id,n,h.trim()):!h.trim()&&!N&&alert("Por favor, escribe una reflexión para el héroe antes de continuar.")},G=vr(e.chapterTitle,e.entryNumber);let z=null;_?z=E.jsx("p",{className:"reflection-notice",children:"Esta reflexión ya fue guardada y forma parte de la historia."}):S&&e.playerReflectionForNextChapter&&(e.playerReflectionForNextChapter!==h||(z=E.jsx("p",{className:"reflection-notice",children:"Ya has guardado una reflexión para este capítulo. Puedes modificarla y guardarla de nuevo."})));const W=y&&e.imageDescription&&(!e.chapterContentImageUrl||g&&(g.toLowerCase().includes("imagen")||g.toLowerCase().includes("image")));return E.jsxs("section",{className:"chapter-view-screen","aria-labelledby":"chapter-main-title",children:[E.jsx("h2",{id:"chapter-main-title",children:G}),E.jsx("p",{className:"story-context-title",children:E.jsxs("em",{children:["Para la historia: ",o.title]})}),g&&E.jsx(Ac,{title:"Error al Cargar el Capítulo",message:g}),m&&E.jsxs("div",{className:"loading-screen minimal-loading","aria-live":"polite",children:[E.jsx(Ql,{ariaLabel:"Cargando detalles del capítulo..."}),E.jsx("p",{children:"Cargando..."})]}),!m&&!g&&E.jsxs(E.Fragment,{children:[e.chapterContentImageUrl?E.jsxs("figure",{className:"chapter-image-figure",children:[E.jsx("img",{src:e.chapterContentImageUrl,alt:`Imagen del contenido del ${G}`}),a&&E.jsx("figcaption",{className:"image-caption",children:a})]}):E.jsxs("div",{className:"chapter-no-dream-message","aria-label":"Sin imagen de contenido para este capítulo",children:[E.jsx("p",{children:"La imagen para representar el contenido de este capítulo no pudo ser generada o no está disponible."}),a&&E.jsx("p",{className:"image-caption fallback-caption",children:E.jsxs("em",{children:["La descripción para la imagen era: ",a]})})]}),W&&y&&e.imageDescription&&!m&&E.jsx("div",{className:"regenerate-action-container",children:E.jsx("button",{onClick:()=>y(o.id,n,e.imageDescription),className:"secondary-action-button regenerate-button",disabled:m,"aria-label":`Intentar generar de nuevo la imagen de contenido para ${G}`,children:"Regenerar Imagen del Capítulo"})}),E.jsx("div",{className:"chapter-text-content",tabIndex:0,"aria-label":`Texto del ${G}`,children:e.chapterText.split(`
`).map((j,J)=>E.jsx("p",{children:j||E.jsx(E.Fragment,{children:" "})},J))}),E.jsxs("div",{className:"reflection-section",children:[E.jsx("h4",{children:"Susurra tu Próximo Sueño al Héroe:"}),z,E.jsx("textarea",{value:h,onChange:j=>v(j.target.value),placeholder:N?"Reflexión guardada.":"Escribe aquí tus pensamientos, consejos o visiones para el héroe... (max 280 caracteres)",maxLength:280,rows:5,className:"reflection-textarea","aria-label":"Mensaje para el próximo sueño del héroe",disabled:m||N,readOnly:N}),E.jsx("button",{onClick:U,className:"cta-button",disabled:m||!h.trim()||N,"aria-label":N?"Reflexión guardada":e.playerReflectionForNextChapter&&S?"Actualizar Reflexión":"Guardar Reflexión y Concluir Capítulo",children:N?"Reflexión Guardada":e.playerReflectionForNextChapter&&S?"Actualizar Reflexión":"Guardar Reflexión y Concluir Capítulo"})]})]}),E.jsx("button",{onClick:f,className:"modal-button modal-button-cancel",children:"Volver al Detalle de la Historia"})]})},pT=({currentApiKey:o,onApiKeySubmit:e,onApiKeyClear:n,onExport:a,onImportTrigger:r,onNavigateHome:f})=>{const[m,g]=De.useState("");De.useEffect(()=>{g(o||"")},[o]);const y=S=>{S.preventDefault(),e(m.trim())},h=()=>{n(),g("")},v=o&&o.trim()!==""?"loaded":"missing",_=v==="loaded"?"Clave API cargada y activa.":"Clave API no configurada o no válida.";return E.jsxs("section",{className:"settings-screen","aria-labelledby":"settings-heading",children:[E.jsx("h2",{id:"settings-heading",children:"Configuración de DreamLoop"}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{children:"Gestión de API Key de Gemini"}),E.jsxs("form",{onSubmit:y,className:"api-key-form",children:[E.jsx("label",{htmlFor:"api-key-input",children:"Tu API Key de Google Gemini:"}),E.jsx("input",{type:"password",id:"api-key-input",className:"api-key-input",value:m,onChange:S=>g(S.target.value),placeholder:"Introduce tu API Key aquí","aria-describedby":"api-key-status-message"}),E.jsx("div",{id:"api-key-status-message",className:`api-key-status ${v}`,role:"status",children:_}),E.jsxs("div",{className:"api-key-actions",children:[E.jsx("button",{type:"submit",className:"cta-button",disabled:m.trim()===(o||""),children:o&&o.trim()!==""&&m.trim()===o.trim()?"Clave Guardada":"Guardar Clave API"}),o&&o.trim()!==""&&E.jsx("button",{type:"button",onClick:h,className:"modal-button modal-button-cancel",children:"Limpiar Clave Guardada"})]})]}),E.jsxs("p",{style:{fontSize:"0.9em",color:"#b0a0d0",marginTop:"15px"},children:["La API Key se guarda localmente en tu navegador. Si no proporcionas una aquí, la aplicación intentará usar una configurada globalmente (vía ",E.jsx("code",{children:"env.js"}),", si existe). Puedes obtener una API Key desde ",E.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",style:{color:"#c0b0ff"},children:"Google AI Studio"}),"."]})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{children:"Gestión de Datos de Historias"}),E.jsxs("div",{className:"data-actions",children:[E.jsx("button",{onClick:r,className:"header-action-button","aria-label":"Importar historias desde un archivo JSON",children:"Importar Historias (.json)"}),E.jsx("button",{onClick:a,className:"header-action-button","aria-label":"Exportar todas las historias a un archivo JSON",children:"Exportar Historias (.json)"})]}),E.jsx("p",{style:{fontSize:"0.9em",color:"#b0a0d0",marginTop:"15px"},children:"Guarda tus aventuras o transfiérelas a otro navegador."})]}),E.jsx("button",{onClick:f,className:"modal-button modal-button-cancel",style:{marginTop:"30px",display:"block",marginLeft:"auto",marginRight:"auto"},"aria-label":"Volver a la pantalla de Mis Sueños",children:"Volver a Mis Sueños"})]})},tg="dreamloop_stories",lc=o=>({id:o.id||Date.now().toString(),title:o.title||"Historia sin título",worldName:o.worldName||"Mundo desconocido",worldId:o.worldId||"unknown",onboardingAnswers:o.onboardingAnswers||{},initialDreamDescriptor:o.initialDreamDescriptor||null,initialDreamImageDescription:o.initialDreamImageDescription||null,initialDreamImageCaption:o.initialDreamImageCaption||null,dreamImageUrl:o.dreamImageUrl||null,protagonistName:o.protagonistName||null,protagonistGender:o.protagonistGender||null,protagonistArchetype:o.protagonistArchetype||null,centralTheme:o.centralTheme||null,preambleText:o.preambleText||null,creationDate:o.creationDate||new Date().toISOString(),chapters:Array.isArray(o.chapters)?o.chapters.map(e=>({id:e.id||Date.now().toString()+Math.random(),entryNumber:typeof e.entryNumber=="number"?e.entryNumber:0,date:e.date||new Date().toISOString(),chapterTitle:e.chapterTitle||void 0,dreamImageForThisChapter:e.dreamImageForThisChapter||null,chapterContentImageUrl:e.chapterContentImageUrl||null,imageDescription:e.imageDescription||null,imageCaption:e.imageCaption||null,chapterText:e.chapterText||"",playerReflectionForNextChapter:e.playerReflectionForNextChapter||null})):[],completedChaptersCount:typeof o.completedChaptersCount=="number"?o.completedChaptersCount:0}),hT=()=>{const o=localStorage.getItem(tg);if(o)try{return JSON.parse(o).map(lc)}catch(e){return console.error("Error parsing stories from localStorage:",e),[]}return[]},gT=o=>{localStorage.setItem(tg,JSON.stringify(o))};var qe;(function(o){o.assertEqual=r=>{};function e(r){}o.assertIs=e;function n(r){throw new Error}o.assertNever=n,o.arrayToEnum=r=>{const f={};for(const m of r)f[m]=m;return f},o.getValidEnumValues=r=>{const f=o.objectKeys(r).filter(g=>typeof r[r[g]]!="number"),m={};for(const g of f)m[g]=r[g];return o.objectValues(m)},o.objectValues=r=>o.objectKeys(r).map(function(f){return r[f]}),o.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const f=[];for(const m in r)Object.prototype.hasOwnProperty.call(r,m)&&f.push(m);return f},o.find=(r,f)=>{for(const m of r)if(f(m))return m},o.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function a(r,f=" | "){return r.map(m=>typeof m=="string"?`'${m}'`:m).join(f)}o.joinValues=a,o.jsonStringifyReplacer=(r,f)=>typeof f=="bigint"?f.toString():f})(qe||(qe={}));var Ep;(function(o){o.mergeShapes=(e,n)=>({...e,...n})})(Ep||(Ep={}));const Q=qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xi=o=>{switch(typeof o){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return Number.isNaN(o)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(o)?Q.array:o===null?Q.null:o.then&&typeof o.then=="function"&&o.catch&&typeof o.catch=="function"?Q.promise:typeof Map<"u"&&o instanceof Map?Q.map:typeof Set<"u"&&o instanceof Set?Q.set:typeof Date<"u"&&o instanceof Date?Q.date:Q.object;default:return Q.unknown}},q=qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(f){return f.message},a={_errors:[]},r=f=>{for(const m of f.issues)if(m.code==="invalid_union")m.unionErrors.map(r);else if(m.code==="invalid_return_type")r(m.returnTypeError);else if(m.code==="invalid_arguments")r(m.argumentsError);else if(m.path.length===0)a._errors.push(n(m));else{let g=a,y=0;for(;y<m.path.length;){const h=m.path[y];y===m.path.length-1?(g[h]=g[h]||{_errors:[]},g[h]._errors.push(n(m))):g[h]=g[h]||{_errors:[]},g=g[h],y++}}};return r(this),a}static assert(e){if(!(e instanceof Wn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},a=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):a.push(e(r));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}Wn.create=o=>new Wn(o);const oc=(o,e)=>{let n;switch(o.code){case q.invalid_type:o.received===Q.undefined?n="Required":n=`Expected ${o.expected}, received ${o.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(o.expected,qe.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${qe.joinValues(o.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${qe.joinValues(o.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${qe.joinValues(o.options)}, received '${o.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof o.validation=="object"?"includes"in o.validation?(n=`Invalid input: must include "${o.validation.includes}"`,typeof o.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${o.validation.position}`)):"startsWith"in o.validation?n=`Invalid input: must start with "${o.validation.startsWith}"`:"endsWith"in o.validation?n=`Invalid input: must end with "${o.validation.endsWith}"`:qe.assertNever(o.validation):o.validation!=="regex"?n=`Invalid ${o.validation}`:n="Invalid";break;case q.too_small:o.type==="array"?n=`Array must contain ${o.exact?"exactly":o.inclusive?"at least":"more than"} ${o.minimum} element(s)`:o.type==="string"?n=`String must contain ${o.exact?"exactly":o.inclusive?"at least":"over"} ${o.minimum} character(s)`:o.type==="number"?n=`Number must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${o.minimum}`:o.type==="date"?n=`Date must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(o.minimum))}`:n="Invalid input";break;case q.too_big:o.type==="array"?n=`Array must contain ${o.exact?"exactly":o.inclusive?"at most":"less than"} ${o.maximum} element(s)`:o.type==="string"?n=`String must contain ${o.exact?"exactly":o.inclusive?"at most":"under"} ${o.maximum} character(s)`:o.type==="number"?n=`Number must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="bigint"?n=`BigInt must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="date"?n=`Date must be ${o.exact?"exactly":o.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(o.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${o.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,qe.assertNever(o)}return{message:n}};let yT=oc;function vT(){return yT}const TT=o=>{const{data:e,path:n,errorMaps:a,issueData:r}=o,f=[...n,...r.path||[]],m={...r,path:f};if(r.message!==void 0)return{...r,path:f,message:r.message};let g="";const y=a.filter(h=>!!h).slice().reverse();for(const h of y)g=h(m,{data:e,defaultError:g}).message;return{...r,path:f,message:g}};function $(o,e){const n=vT(),a=TT({issueData:e,data:o.data,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,n,n===oc?void 0:oc].filter(r=>!!r)});o.common.issues.push(a)}class Ot{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const a=[];for(const r of n){if(r.status==="aborted")return ye;r.status==="dirty"&&e.dirty(),a.push(r.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,n){const a=[];for(const r of n){const f=await r.key,m=await r.value;a.push({key:f,value:m})}return Ot.mergeObjectSync(e,a)}static mergeObjectSync(e,n){const a={};for(const r of n){const{key:f,value:m}=r;if(f.status==="aborted"||m.status==="aborted")return ye;f.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),f.value!=="__proto__"&&(typeof m.value<"u"||r.alwaysSet)&&(a[f.value]=m.value)}return{status:e.value,value:a}}}const ye=Object.freeze({status:"aborted"}),Zl=o=>({status:"dirty",value:o}),fn=o=>({status:"valid",value:o}),Ap=o=>o.status==="aborted",xp=o=>o.status==="dirty",za=o=>o.status==="valid",Er=o=>typeof Promise<"u"&&o instanceof Promise;var ee;(function(o){o.errToObj=e=>typeof e=="string"?{message:e}:e||{},o.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ee||(ee={}));class bn{constructor(e,n,a,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=a,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Mp=(o,e)=>{if(za(e))return{success:!0,data:e.value};if(!o.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wn(o.common.issues);return this._error=n,this._error}}};function Ae(o){if(!o)return{};const{errorMap:e,invalid_type_error:n,required_error:a,description:r}=o;if(e&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(m,g)=>{const{message:y}=o;return m.code==="invalid_enum_value"?{message:y??g.defaultError}:typeof g.data>"u"?{message:y??a??g.defaultError}:m.code!=="invalid_type"?{message:g.defaultError}:{message:y??n??g.defaultError}},description:r}}class Le{get description(){return this._def.description}_getType(e){return xi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ot,ctx:{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Er(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const a=this.safeParse(e,n);if(a.success)return a.data;throw a.error}safeParse(e,n){const a={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},r=this._parseSync({data:e,path:a.path,parent:a});return Mp(a,r)}"~validate"(e){var a,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)};if(!this["~standard"].async)try{const f=this._parseSync({data:e,path:[],parent:n});return za(f)?{value:f.value}:{issues:n.common.issues}}catch(f){(r=(a=f==null?void 0:f.message)==null?void 0:a.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(f=>za(f)?{value:f.value}:{issues:n.common.issues})}async parseAsync(e,n){const a=await this.safeParseAsync(e,n);if(a.success)return a.data;throw a.error}async safeParseAsync(e,n){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},r=this._parse({data:e,path:a.path,parent:a}),f=await(Er(r)?r:Promise.resolve(r));return Mp(a,f)}refine(e,n){const a=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,f)=>{const m=e(r),g=()=>f.addIssue({code:q.custom,...a(r)});return typeof Promise<"u"&&m instanceof Promise?m.then(y=>y?!0:(g(),!1)):m?!0:(g(),!1)})}refinement(e,n){return this._refinement((a,r)=>e(a)?!0:(r.addIssue(typeof n=="function"?n(a,r):n),!1))}_refinement(e){return new Fa({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Mi.create(this,this._def)}nullable(){return Ya.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dn.create(this)}promise(){return Rr.create(this,this._def)}or(e){return xr.create([this,e],this._def)}and(e){return Mr.create(this,e,this._def)}transform(e){return new Fa({...Ae(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new cc({...Ae(this._def),innerType:this,defaultValue:n,typeName:pe.ZodDefault})}brand(){return new BT({typeName:pe.ZodBranded,type:this,...Ae(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new fc({...Ae(this._def),innerType:this,catchValue:n,typeName:pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return xc.create(this,e)}readonly(){return dc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const CT=/^c[^\s-]{8,}$/i,_T=/^[0-9a-z]+$/,ST=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ET=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AT=/^[a-z0-9_-]{21}$/i,xT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,MT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,NT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tc;const DT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,IT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ng="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",OT=new RegExp(`^${ng}$`);function ig(o){let e="[0-5]\\d";o.precision?e=`${e}\\.\\d{${o.precision}}`:o.precision==null&&(e=`${e}(\\.\\d+)?`);const n=o.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function VT(o){return new RegExp(`^${ig(o)}$`)}function GT(o){let e=`${ng}T${ig(o)}`;const n=[];return n.push(o.local?"Z?":"Z"),o.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function kT(o,e){return!!((e==="v4"||!e)&&DT.test(o)||(e==="v6"||!e)&&IT.test(o))}function PT(o,e){if(!xT.test(o))return!1;try{const[n]=o.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(a));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function qT(o,e){return!!((e==="v4"||!e)&&bT.test(o)||(e==="v6"||!e)&&wT.test(o))}class Nn extends Le{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Q.string){const f=this._getOrReturnCtx(e);return $(f,{code:q.invalid_type,expected:Q.string,received:f.parsedType}),ye}const a=new Ot;let r;for(const f of this._def.checks)if(f.kind==="min")e.data.length<f.value&&(r=this._getOrReturnCtx(e,r),$(r,{code:q.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),a.dirty());else if(f.kind==="max")e.data.length>f.value&&(r=this._getOrReturnCtx(e,r),$(r,{code:q.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),a.dirty());else if(f.kind==="length"){const m=e.data.length>f.value,g=e.data.length<f.value;(m||g)&&(r=this._getOrReturnCtx(e,r),m?$(r,{code:q.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):g&&$(r,{code:q.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),a.dirty())}else if(f.kind==="email")NT.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"email",code:q.invalid_string,message:f.message}),a.dirty());else if(f.kind==="emoji")tc||(tc=new RegExp(RT,"u")),tc.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"emoji",code:q.invalid_string,message:f.message}),a.dirty());else if(f.kind==="uuid")ET.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"uuid",code:q.invalid_string,message:f.message}),a.dirty());else if(f.kind==="nanoid")AT.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"nanoid",code:q.invalid_string,message:f.message}),a.dirty());else if(f.kind==="cuid")CT.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"cuid",code:q.invalid_string,message:f.message}),a.dirty());else if(f.kind==="cuid2")_T.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"cuid2",code:q.invalid_string,message:f.message}),a.dirty());else if(f.kind==="ulid")ST.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"ulid",code:q.invalid_string,message:f.message}),a.dirty());else if(f.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),$(r,{validation:"url",code:q.invalid_string,message:f.message}),a.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"regex",code:q.invalid_string,message:f.message}),a.dirty())):f.kind==="trim"?e.data=e.data.trim():f.kind==="includes"?e.data.includes(f.value,f.position)||(r=this._getOrReturnCtx(e,r),$(r,{code:q.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),a.dirty()):f.kind==="toLowerCase"?e.data=e.data.toLowerCase():f.kind==="toUpperCase"?e.data=e.data.toUpperCase():f.kind==="startsWith"?e.data.startsWith(f.value)||(r=this._getOrReturnCtx(e,r),$(r,{code:q.invalid_string,validation:{startsWith:f.value},message:f.message}),a.dirty()):f.kind==="endsWith"?e.data.endsWith(f.value)||(r=this._getOrReturnCtx(e,r),$(r,{code:q.invalid_string,validation:{endsWith:f.value},message:f.message}),a.dirty()):f.kind==="datetime"?GT(f).test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{code:q.invalid_string,validation:"datetime",message:f.message}),a.dirty()):f.kind==="date"?OT.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{code:q.invalid_string,validation:"date",message:f.message}),a.dirty()):f.kind==="time"?VT(f).test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{code:q.invalid_string,validation:"time",message:f.message}),a.dirty()):f.kind==="duration"?MT.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"duration",code:q.invalid_string,message:f.message}),a.dirty()):f.kind==="ip"?kT(e.data,f.version)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"ip",code:q.invalid_string,message:f.message}),a.dirty()):f.kind==="jwt"?PT(e.data,f.alg)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"jwt",code:q.invalid_string,message:f.message}),a.dirty()):f.kind==="cidr"?qT(e.data,f.version)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"cidr",code:q.invalid_string,message:f.message}),a.dirty()):f.kind==="base64"?UT.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"base64",code:q.invalid_string,message:f.message}),a.dirty()):f.kind==="base64url"?LT.test(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{validation:"base64url",code:q.invalid_string,message:f.message}),a.dirty()):qe.assertNever(f);return{status:a.value,value:e.data}}_regex(e,n,a){return this.refinement(r=>e.test(r),{validation:n,code:q.invalid_string,...ee.errToObj(a)})}_addCheck(e){return new Nn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ee.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ee.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ee.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ee.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ee.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ee.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ee.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ee.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ee.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ee.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ee.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ee.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ee.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ee.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ee.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ee.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ee.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ee.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ee.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ee.errToObj(n)})}nonempty(e){return this.min(1,ee.errToObj(e))}trim(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Nn.create=o=>new Nn({checks:[],typeName:pe.ZodString,coerce:(o==null?void 0:o.coerce)??!1,...Ae(o)});function zT(o,e){const n=(o.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,r=n>a?n:a,f=Number.parseInt(o.toFixed(r).replace(".","")),m=Number.parseInt(e.toFixed(r).replace(".",""));return f%m/10**r}class Zi extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Q.number){const f=this._getOrReturnCtx(e);return $(f,{code:q.invalid_type,expected:Q.number,received:f.parsedType}),ye}let a;const r=new Ot;for(const f of this._def.checks)f.kind==="int"?qe.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),$(a,{code:q.invalid_type,expected:"integer",received:"float",message:f.message}),r.dirty()):f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(a=this._getOrReturnCtx(e,a),$(a,{code:q.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),r.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(a=this._getOrReturnCtx(e,a),$(a,{code:q.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),r.dirty()):f.kind==="multipleOf"?zT(e.data,f.value)!==0&&(a=this._getOrReturnCtx(e,a),$(a,{code:q.not_multiple_of,multipleOf:f.value,message:f.message}),r.dirty()):f.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),$(a,{code:q.not_finite,message:f.message}),r.dirty()):qe.assertNever(f);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ee.toString(n))}setLimit(e,n,a,r){return new Zi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:a,message:ee.toString(r)}]})}_addCheck(e){return new Zi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ee.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Zi.create=o=>new Zi({checks:[],typeName:pe.ZodNumber,coerce:(o==null?void 0:o.coerce)||!1,...Ae(o)});class Ki extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Q.bigint)return this._getInvalidInput(e);let a;const r=new Ot;for(const f of this._def.checks)f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(a=this._getOrReturnCtx(e,a),$(a,{code:q.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),r.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(a=this._getOrReturnCtx(e,a),$(a,{code:q.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),r.dirty()):f.kind==="multipleOf"?e.data%f.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),$(a,{code:q.not_multiple_of,multipleOf:f.value,message:f.message}),r.dirty()):qe.assertNever(f);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return $(n,{code:q.invalid_type,expected:Q.bigint,received:n.parsedType}),ye}gte(e,n){return this.setLimit("min",e,!0,ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ee.toString(n))}setLimit(e,n,a,r){return new Ki({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:a,message:ee.toString(r)}]})}_addCheck(e){return new Ki({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ki.create=o=>new Ki({checks:[],typeName:pe.ZodBigInt,coerce:(o==null?void 0:o.coerce)??!1,...Ae(o)});class Ar extends Le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Q.boolean){const a=this._getOrReturnCtx(e);return $(a,{code:q.invalid_type,expected:Q.boolean,received:a.parsedType}),ye}return fn(e.data)}}Ar.create=o=>new Ar({typeName:pe.ZodBoolean,coerce:(o==null?void 0:o.coerce)||!1,...Ae(o)});class Ba extends Le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Q.date){const f=this._getOrReturnCtx(e);return $(f,{code:q.invalid_type,expected:Q.date,received:f.parsedType}),ye}if(Number.isNaN(e.data.getTime())){const f=this._getOrReturnCtx(e);return $(f,{code:q.invalid_date}),ye}const a=new Ot;let r;for(const f of this._def.checks)f.kind==="min"?e.data.getTime()<f.value&&(r=this._getOrReturnCtx(e,r),$(r,{code:q.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),a.dirty()):f.kind==="max"?e.data.getTime()>f.value&&(r=this._getOrReturnCtx(e,r),$(r,{code:q.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),a.dirty()):qe.assertNever(f);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ba({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ee.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ee.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ba.create=o=>new Ba({checks:[],coerce:(o==null?void 0:o.coerce)||!1,typeName:pe.ZodDate,...Ae(o)});class Np extends Le{_parse(e){if(this._getType(e)!==Q.symbol){const a=this._getOrReturnCtx(e);return $(a,{code:q.invalid_type,expected:Q.symbol,received:a.parsedType}),ye}return fn(e.data)}}Np.create=o=>new Np({typeName:pe.ZodSymbol,...Ae(o)});class Rp extends Le{_parse(e){if(this._getType(e)!==Q.undefined){const a=this._getOrReturnCtx(e);return $(a,{code:q.invalid_type,expected:Q.undefined,received:a.parsedType}),ye}return fn(e.data)}}Rp.create=o=>new Rp({typeName:pe.ZodUndefined,...Ae(o)});class Dp extends Le{_parse(e){if(this._getType(e)!==Q.null){const a=this._getOrReturnCtx(e);return $(a,{code:q.invalid_type,expected:Q.null,received:a.parsedType}),ye}return fn(e.data)}}Dp.create=o=>new Dp({typeName:pe.ZodNull,...Ae(o)});class bp extends Le{constructor(){super(...arguments),this._any=!0}_parse(e){return fn(e.data)}}bp.create=o=>new bp({typeName:pe.ZodAny,...Ae(o)});class rc extends Le{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fn(e.data)}}rc.create=o=>new rc({typeName:pe.ZodUnknown,...Ae(o)});class Ni extends Le{_parse(e){const n=this._getOrReturnCtx(e);return $(n,{code:q.invalid_type,expected:Q.never,received:n.parsedType}),ye}}Ni.create=o=>new Ni({typeName:pe.ZodNever,...Ae(o)});class Ip extends Le{_parse(e){if(this._getType(e)!==Q.undefined){const a=this._getOrReturnCtx(e);return $(a,{code:q.invalid_type,expected:Q.void,received:a.parsedType}),ye}return fn(e.data)}}Ip.create=o=>new Ip({typeName:pe.ZodVoid,...Ae(o)});class Dn extends Le{_parse(e){const{ctx:n,status:a}=this._processInputParams(e),r=this._def;if(n.parsedType!==Q.array)return $(n,{code:q.invalid_type,expected:Q.array,received:n.parsedType}),ye;if(r.exactLength!==null){const m=n.data.length>r.exactLength.value,g=n.data.length<r.exactLength.value;(m||g)&&($(n,{code:m?q.too_big:q.too_small,minimum:g?r.exactLength.value:void 0,maximum:m?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),a.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&($(n,{code:q.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),a.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&($(n,{code:q.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((m,g)=>r.type._parseAsync(new bn(n,m,n.path,g)))).then(m=>Ot.mergeArray(a,m));const f=[...n.data].map((m,g)=>r.type._parseSync(new bn(n,m,n.path,g)));return Ot.mergeArray(a,f)}get element(){return this._def.type}min(e,n){return new Dn({...this._def,minLength:{value:e,message:ee.toString(n)}})}max(e,n){return new Dn({...this._def,maxLength:{value:e,message:ee.toString(n)}})}length(e,n){return new Dn({...this._def,exactLength:{value:e,message:ee.toString(n)}})}nonempty(e){return this.min(1,e)}}Dn.create=(o,e)=>new Dn({type:o,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...Ae(e)});function Ga(o){if(o instanceof pt){const e={};for(const n in o.shape){const a=o.shape[n];e[n]=Mi.create(Ga(a))}return new pt({...o._def,shape:()=>e})}else return o instanceof Dn?new Dn({...o._def,type:Ga(o.element)}):o instanceof Mi?Mi.create(Ga(o.unwrap())):o instanceof Ya?Ya.create(Ga(o.unwrap())):o instanceof Ji?Ji.create(o.items.map(e=>Ga(e))):o}class pt extends Le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=qe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Q.object){const h=this._getOrReturnCtx(e);return $(h,{code:q.invalid_type,expected:Q.object,received:h.parsedType}),ye}const{status:a,ctx:r}=this._processInputParams(e),{shape:f,keys:m}=this._getCached(),g=[];if(!(this._def.catchall instanceof Ni&&this._def.unknownKeys==="strip"))for(const h in r.data)m.includes(h)||g.push(h);const y=[];for(const h of m){const v=f[h],_=r.data[h];y.push({key:{status:"valid",value:h},value:v._parse(new bn(r,_,r.path,h)),alwaysSet:h in r.data})}if(this._def.catchall instanceof Ni){const h=this._def.unknownKeys;if(h==="passthrough")for(const v of g)y.push({key:{status:"valid",value:v},value:{status:"valid",value:r.data[v]}});else if(h==="strict")g.length>0&&($(r,{code:q.unrecognized_keys,keys:g}),a.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const v of g){const _=r.data[v];y.push({key:{status:"valid",value:v},value:h._parse(new bn(r,_,r.path,v)),alwaysSet:v in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const h=[];for(const v of y){const _=await v.key,S=await v.value;h.push({key:_,value:S,alwaysSet:v.alwaysSet})}return h}).then(h=>Ot.mergeObjectSync(a,h)):Ot.mergeObjectSync(a,y)}get shape(){return this._def.shape()}strict(e){return ee.errToObj,new pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,a)=>{var f,m;const r=((m=(f=this._def).errorMap)==null?void 0:m.call(f,n,a).message)??a.defaultError;return n.code==="unrecognized_keys"?{message:ee.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new pt({...this._def,unknownKeys:"strip"})}passthrough(){return new pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new pt({...this._def,catchall:e})}pick(e){const n={};for(const a of qe.objectKeys(e))e[a]&&this.shape[a]&&(n[a]=this.shape[a]);return new pt({...this._def,shape:()=>n})}omit(e){const n={};for(const a of qe.objectKeys(this.shape))e[a]||(n[a]=this.shape[a]);return new pt({...this._def,shape:()=>n})}deepPartial(){return Ga(this)}partial(e){const n={};for(const a of qe.objectKeys(this.shape)){const r=this.shape[a];e&&!e[a]?n[a]=r:n[a]=r.optional()}return new pt({...this._def,shape:()=>n})}required(e){const n={};for(const a of qe.objectKeys(this.shape))if(e&&!e[a])n[a]=this.shape[a];else{let f=this.shape[a];for(;f instanceof Mi;)f=f._def.innerType;n[a]=f}return new pt({...this._def,shape:()=>n})}keyof(){return ag(qe.objectKeys(this.shape))}}pt.create=(o,e)=>new pt({shape:()=>o,unknownKeys:"strip",catchall:Ni.create(),typeName:pe.ZodObject,...Ae(e)});pt.strictCreate=(o,e)=>new pt({shape:()=>o,unknownKeys:"strict",catchall:Ni.create(),typeName:pe.ZodObject,...Ae(e)});pt.lazycreate=(o,e)=>new pt({shape:o,unknownKeys:"strip",catchall:Ni.create(),typeName:pe.ZodObject,...Ae(e)});class xr extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),a=this._def.options;function r(f){for(const g of f)if(g.result.status==="valid")return g.result;for(const g of f)if(g.result.status==="dirty")return n.common.issues.push(...g.ctx.common.issues),g.result;const m=f.map(g=>new Wn(g.ctx.common.issues));return $(n,{code:q.invalid_union,unionErrors:m}),ye}if(n.common.async)return Promise.all(a.map(async f=>{const m={...n,common:{...n.common,issues:[]},parent:null};return{result:await f._parseAsync({data:n.data,path:n.path,parent:m}),ctx:m}})).then(r);{let f;const m=[];for(const y of a){const h={...n,common:{...n.common,issues:[]},parent:null},v=y._parseSync({data:n.data,path:n.path,parent:h});if(v.status==="valid")return v;v.status==="dirty"&&!f&&(f={result:v,ctx:h}),h.common.issues.length&&m.push(h.common.issues)}if(f)return n.common.issues.push(...f.ctx.common.issues),f.result;const g=m.map(y=>new Wn(y));return $(n,{code:q.invalid_union,unionErrors:g}),ye}}get options(){return this._def.options}}xr.create=(o,e)=>new xr({options:o,typeName:pe.ZodUnion,...Ae(e)});function sc(o,e){const n=xi(o),a=xi(e);if(o===e)return{valid:!0,data:o};if(n===Q.object&&a===Q.object){const r=qe.objectKeys(e),f=qe.objectKeys(o).filter(g=>r.indexOf(g)!==-1),m={...o,...e};for(const g of f){const y=sc(o[g],e[g]);if(!y.valid)return{valid:!1};m[g]=y.data}return{valid:!0,data:m}}else if(n===Q.array&&a===Q.array){if(o.length!==e.length)return{valid:!1};const r=[];for(let f=0;f<o.length;f++){const m=o[f],g=e[f],y=sc(m,g);if(!y.valid)return{valid:!1};r.push(y.data)}return{valid:!0,data:r}}else return n===Q.date&&a===Q.date&&+o==+e?{valid:!0,data:o}:{valid:!1}}class Mr extends Le{_parse(e){const{status:n,ctx:a}=this._processInputParams(e),r=(f,m)=>{if(Ap(f)||Ap(m))return ye;const g=sc(f.value,m.value);return g.valid?((xp(f)||xp(m))&&n.dirty(),{status:n.value,value:g.data}):($(a,{code:q.invalid_intersection_types}),ye)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([f,m])=>r(f,m)):r(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Mr.create=(o,e,n)=>new Mr({left:o,right:e,typeName:pe.ZodIntersection,...Ae(n)});class Ji extends Le{_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==Q.array)return $(a,{code:q.invalid_type,expected:Q.array,received:a.parsedType}),ye;if(a.data.length<this._def.items.length)return $(a,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye;!this._def.rest&&a.data.length>this._def.items.length&&($(a,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const f=[...a.data].map((m,g)=>{const y=this._def.items[g]||this._def.rest;return y?y._parse(new bn(a,m,a.path,g)):null}).filter(m=>!!m);return a.common.async?Promise.all(f).then(m=>Ot.mergeArray(n,m)):Ot.mergeArray(n,f)}get items(){return this._def.items}rest(e){return new Ji({...this._def,rest:e})}}Ji.create=(o,e)=>{if(!Array.isArray(o))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ji({items:o,typeName:pe.ZodTuple,rest:null,...Ae(e)})};class Nr extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==Q.object)return $(a,{code:q.invalid_type,expected:Q.object,received:a.parsedType}),ye;const r=[],f=this._def.keyType,m=this._def.valueType;for(const g in a.data)r.push({key:f._parse(new bn(a,g,a.path,g)),value:m._parse(new bn(a,a.data[g],a.path,g)),alwaysSet:g in a.data});return a.common.async?Ot.mergeObjectAsync(n,r):Ot.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,a){return n instanceof Le?new Nr({keyType:e,valueType:n,typeName:pe.ZodRecord,...Ae(a)}):new Nr({keyType:Nn.create(),valueType:e,typeName:pe.ZodRecord,...Ae(n)})}}class wp extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==Q.map)return $(a,{code:q.invalid_type,expected:Q.map,received:a.parsedType}),ye;const r=this._def.keyType,f=this._def.valueType,m=[...a.data.entries()].map(([g,y],h)=>({key:r._parse(new bn(a,g,a.path,[h,"key"])),value:f._parse(new bn(a,y,a.path,[h,"value"]))}));if(a.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const y of m){const h=await y.key,v=await y.value;if(h.status==="aborted"||v.status==="aborted")return ye;(h.status==="dirty"||v.status==="dirty")&&n.dirty(),g.set(h.value,v.value)}return{status:n.value,value:g}})}else{const g=new Map;for(const y of m){const h=y.key,v=y.value;if(h.status==="aborted"||v.status==="aborted")return ye;(h.status==="dirty"||v.status==="dirty")&&n.dirty(),g.set(h.value,v.value)}return{status:n.value,value:g}}}}wp.create=(o,e,n)=>new wp({valueType:e,keyType:o,typeName:pe.ZodMap,...Ae(n)});class Xl extends Le{_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==Q.set)return $(a,{code:q.invalid_type,expected:Q.set,received:a.parsedType}),ye;const r=this._def;r.minSize!==null&&a.data.size<r.minSize.value&&($(a,{code:q.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&a.data.size>r.maxSize.value&&($(a,{code:q.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const f=this._def.valueType;function m(y){const h=new Set;for(const v of y){if(v.status==="aborted")return ye;v.status==="dirty"&&n.dirty(),h.add(v.value)}return{status:n.value,value:h}}const g=[...a.data.values()].map((y,h)=>f._parse(new bn(a,y,a.path,h)));return a.common.async?Promise.all(g).then(y=>m(y)):m(g)}min(e,n){return new Xl({...this._def,minSize:{value:e,message:ee.toString(n)}})}max(e,n){return new Xl({...this._def,maxSize:{value:e,message:ee.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Xl.create=(o,e)=>new Xl({valueType:o,minSize:null,maxSize:null,typeName:pe.ZodSet,...Ae(e)});class uc extends Le{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}uc.create=(o,e)=>new uc({getter:o,typeName:pe.ZodLazy,...Ae(e)});class Up extends Le{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return $(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}Up.create=(o,e)=>new Up({value:o,typeName:pe.ZodLiteral,...Ae(e)});function ag(o,e){return new Ha({values:o,typeName:pe.ZodEnum,...Ae(e)})}class Ha extends Le{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),a=this._def.values;return $(n,{expected:qe.joinValues(a),received:n.parsedType,code:q.invalid_type}),ye}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),a=this._def.values;return $(n,{received:n.data,code:q.invalid_enum_value,options:a}),ye}return fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ha.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ha.create(this.options.filter(a=>!e.includes(a)),{...this._def,...n})}}Ha.create=ag;class Lp extends Le{_parse(e){const n=qe.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==Q.string&&a.parsedType!==Q.number){const r=qe.objectValues(n);return $(a,{expected:qe.joinValues(r),received:a.parsedType,code:q.invalid_type}),ye}if(this._cache||(this._cache=new Set(qe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=qe.objectValues(n);return $(a,{received:a.data,code:q.invalid_enum_value,options:r}),ye}return fn(e.data)}get enum(){return this._def.values}}Lp.create=(o,e)=>new Lp({values:o,typeName:pe.ZodNativeEnum,...Ae(e)});class Rr extends Le{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.promise&&n.common.async===!1)return $(n,{code:q.invalid_type,expected:Q.promise,received:n.parsedType}),ye;const a=n.parsedType===Q.promise?n.data:Promise.resolve(n.data);return fn(a.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Rr.create=(o,e)=>new Rr({type:o,typeName:pe.ZodPromise,...Ae(e)});class Fa extends Le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:a}=this._processInputParams(e),r=this._def.effect||null,f={addIssue:m=>{$(a,m),m.fatal?n.abort():n.dirty()},get path(){return a.path}};if(f.addIssue=f.addIssue.bind(f),r.type==="preprocess"){const m=r.transform(a.data,f);if(a.common.async)return Promise.resolve(m).then(async g=>{if(n.value==="aborted")return ye;const y=await this._def.schema._parseAsync({data:g,path:a.path,parent:a});return y.status==="aborted"?ye:y.status==="dirty"||n.value==="dirty"?Zl(y.value):y});{if(n.value==="aborted")return ye;const g=this._def.schema._parseSync({data:m,path:a.path,parent:a});return g.status==="aborted"?ye:g.status==="dirty"||n.value==="dirty"?Zl(g.value):g}}if(r.type==="refinement"){const m=g=>{const y=r.refinement(g,f);if(a.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(a.common.async===!1){const g=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return g.status==="aborted"?ye:(g.status==="dirty"&&n.dirty(),m(g.value),{status:n.value,value:g.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(g=>g.status==="aborted"?ye:(g.status==="dirty"&&n.dirty(),m(g.value).then(()=>({status:n.value,value:g.value}))))}if(r.type==="transform")if(a.common.async===!1){const m=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!za(m))return ye;const g=r.transform(m.value,f);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:g}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(m=>za(m)?Promise.resolve(r.transform(m.value,f)).then(g=>({status:n.value,value:g})):ye);qe.assertNever(r)}}Fa.create=(o,e,n)=>new Fa({schema:o,typeName:pe.ZodEffects,effect:e,...Ae(n)});Fa.createWithPreprocess=(o,e,n)=>new Fa({schema:e,effect:{type:"preprocess",transform:o},typeName:pe.ZodEffects,...Ae(n)});class Mi extends Le{_parse(e){return this._getType(e)===Q.undefined?fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mi.create=(o,e)=>new Mi({innerType:o,typeName:pe.ZodOptional,...Ae(e)});class Ya extends Le{_parse(e){return this._getType(e)===Q.null?fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ya.create=(o,e)=>new Ya({innerType:o,typeName:pe.ZodNullable,...Ae(e)});class cc extends Le{_parse(e){const{ctx:n}=this._processInputParams(e);let a=n.data;return n.parsedType===Q.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}cc.create=(o,e)=>new cc({innerType:o,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ae(e)});class fc extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),a={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Er(r)?r.then(f=>({status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new Wn(a.common.issues)},input:a.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Wn(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}fc.create=(o,e)=>new fc({innerType:o,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ae(e)});class Op extends Le{_parse(e){if(this._getType(e)!==Q.nan){const a=this._getOrReturnCtx(e);return $(a,{code:q.invalid_type,expected:Q.nan,received:a.parsedType}),ye}return{status:"valid",value:e.data}}}Op.create=o=>new Op({typeName:pe.ZodNaN,...Ae(o)});class BT extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class xc extends Le{_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const f=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return f.status==="aborted"?ye:f.status==="dirty"?(n.dirty(),Zl(f.value)):this._def.out._parseAsync({data:f.value,path:a.path,parent:a})})();{const r=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return r.status==="aborted"?ye:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:a.path,parent:a})}}static create(e,n){return new xc({in:e,out:n,typeName:pe.ZodPipeline})}}class dc extends Le{_parse(e){const n=this._def.innerType._parse(e),a=r=>(za(r)&&(r.value=Object.freeze(r.value)),r);return Er(n)?n.then(r=>a(r)):a(n)}unwrap(){return this._def.innerType}}dc.create=(o,e)=>new dc({innerType:o,typeName:pe.ZodReadonly,...Ae(e)});var pe;(function(o){o.ZodString="ZodString",o.ZodNumber="ZodNumber",o.ZodNaN="ZodNaN",o.ZodBigInt="ZodBigInt",o.ZodBoolean="ZodBoolean",o.ZodDate="ZodDate",o.ZodSymbol="ZodSymbol",o.ZodUndefined="ZodUndefined",o.ZodNull="ZodNull",o.ZodAny="ZodAny",o.ZodUnknown="ZodUnknown",o.ZodNever="ZodNever",o.ZodVoid="ZodVoid",o.ZodArray="ZodArray",o.ZodObject="ZodObject",o.ZodUnion="ZodUnion",o.ZodDiscriminatedUnion="ZodDiscriminatedUnion",o.ZodIntersection="ZodIntersection",o.ZodTuple="ZodTuple",o.ZodRecord="ZodRecord",o.ZodMap="ZodMap",o.ZodSet="ZodSet",o.ZodFunction="ZodFunction",o.ZodLazy="ZodLazy",o.ZodLiteral="ZodLiteral",o.ZodEnum="ZodEnum",o.ZodEffects="ZodEffects",o.ZodNativeEnum="ZodNativeEnum",o.ZodOptional="ZodOptional",o.ZodNullable="ZodNullable",o.ZodDefault="ZodDefault",o.ZodCatch="ZodCatch",o.ZodPromise="ZodPromise",o.ZodBranded="ZodBranded",o.ZodPipeline="ZodPipeline",o.ZodReadonly="ZodReadonly"})(pe||(pe={}));const $i=Nn.create,Vp=Zi.create;Ki.create;const HT=Ar.create;Ba.create;const Gp=rc.create;Ni.create;const Kl=Dn.create,FT=pt.create,YT=xr.create;Mr.create;Ji.create;const $T=Nr.create,ZT=uc.create,KT=Ha.create;Rr.create;Mi.create;Ya.create;const Va={string:o=>Nn.create({...o,coerce:!0}),number:o=>Zi.create({...o,coerce:!0}),boolean:o=>Ar.create({...o,coerce:!0}),bigint:o=>Ki.create({...o,coerce:!0}),date:o=>Ba.create({...o,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let JT,XT;function QT(){return{geminiUrl:JT,vertexUrl:XT}}function WT(o,e,n){var a,r,f;if(!(!((a=o.httpOptions)===null||a===void 0)&&a.baseUrl)){const m=QT();return o.vertexai?(r=m.vertexUrl)!==null&&r!==void 0?r:e:(f=m.geminiUrl)!==null&&f!==void 0?f:n}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ka{}function fe(o,e){const n=/\{([^}]+)\}/g;return o.replace(n,(a,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const f=e[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(o,e,n){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in o))if(Array.isArray(n))o[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(o[g])){const y=o[g];if(Array.isArray(n))for(let h=0;h<y.length;h++){const v=y[h];c(v,e.slice(f+1),n[h])}else for(const h of y)c(h,e.slice(f+1),n)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in o||(o[g]=[{}]);const y=o[g];c(y[0],e.slice(f+1),n);return}(!o[m]||typeof o[m]!="object")&&(o[m]={}),o=o[m]}const a=e[e.length-1],r=o[a];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else o[a]=n}function u(o,e){try{if(e.length===1&&e[0]==="_self")return o;for(let n=0;n<e.length;n++){if(typeof o!="object"||o===null)return;const a=e[n];if(a.endsWith("[]")){const r=a.slice(0,-2);if(r in o){const f=o[r];return Array.isArray(f)?f.map(m=>u(m,e.slice(n+1))):void 0}else return}else o=o[a]}return o}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kp;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(kp||(kp={}));var Pp;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Pp||(Pp={}));var Rn;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})(Rn||(Rn={}));var qp;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(qp||(qp={}));var zp;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(zp||(zp={}));var Bp;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Bp||(Bp={}));var Hp;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Hp||(Hp={}));var Fp;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(Fp||(Fp={}));var Yp;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Yp||(Yp={}));var $p;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})($p||($p={}));var Zp;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Zp||(Zp={}));var Kp;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Kp||(Kp={}));var Jp;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Jp||(Jp={}));var Dr;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Dr||(Dr={}));var Xp;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xp||(Xp={}));var mc;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mc||(mc={}));var Qp;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Qp||(Qp={}));var Wp;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(Wp||(Wp={}));var jp;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(jp||(jp={}));var eh;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(eh||(eh={}));var th;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(th||(th={}));var nh;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(nh||(nh={}));var ih;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(ih||(ih={}));var ah;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(ah||(ah={}));var lh;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(lh||(lh={}));var oh;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(oh||(oh={}));var rh;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(rh||(rh={}));var sh;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sh||(sh={}));var uh;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(uh||(uh={}));var ch;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(ch||(ch={}));var fh;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(fh||(fh={}));var dh;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(dh||(dh={}));var mh;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mh||(mh={}));var ph;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ph||(ph={}));var hh;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(hh||(hh={}));var gh;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gh||(gh={}));var yh;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(yh||(yh={}));var vh;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(vh||(vh={}));var ka;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(ka||(ka={}));class $l{get text(){var e,n,a,r,f,m,g,y;if(((r=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const _=[];for(const S of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[N,U]of Object.entries(S))N!=="text"&&N!=="thought"&&(U!==null||U!==void 0)&&_.push(N);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,n,a,r,f,m,g,y;if(((r=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const _ of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,N]of Object.entries(_))S!=="inlineData"&&(N!==null||N!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,a,r,f,m,g,y;if(((r=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,a,r,f,m,g,y,h;if(((r=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,a,r,f,m,g,y,h;if(((r=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Th{}class Ch{}class jT{}class eC{}class _h{}class Sh{}class Eh{}class tC{}class Ah{}class xh{}class Mh{}class nC{}class pc{constructor(e){const n={};for(const a of e.headers.entries())n[a[0]]=a[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class iC{}class aC{}class lC{get text(){var e,n,a;let r="",f=!1;const m=[];for(const g of(a=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var e,n,a;let r="";const f=[];for(const m of(a=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class oC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(o,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function lg(o,e){const n=We(o,e);return n?n.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:n.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${n}`:n:""}function og(o,e){return Array.isArray(e)?e.map(n=>br(o,n)):[br(o,e)]}function br(o,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function rC(o,e){const n=br(o,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function sC(o,e){const n=br(o,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Nh(o,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function rg(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>Nh(o,n)):[Nh(o,e)]}function hc(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function Rh(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Dh(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function Lt(o,e){if(e==null)throw new Error("ContentUnion is required");return hc(e)?e:{role:"user",parts:rg(o,e)}}function sg(o,e){if(!e)return[];if(o.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const a=Lt(o,n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(o.isVertexAI()){const n=Lt(o,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Lt(o,n)):[Lt(o,e)]}function Tn(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Rh(e)||Dh(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Lt(o,e)]}const n=[],a=[],r=hc(e[0]);for(const f of e){const m=hc(f);if(m!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(m)n.push(f);else{if(Rh(f)||Dh(f))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(f)}}return r||n.push({role:"user",parts:rg(o,a)}),n}const uC=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),bh=KT(["string","number","integer","object","array","boolean","null"]),cC=YT([bh,Kl(bh)]);function fC(o=!0){const e=ZT(()=>{const n=FT({type:cC.optional(),format:$i().optional(),title:$i().optional(),description:$i().optional(),default:Gp().optional(),items:e.optional(),minItems:Va.string().optional(),maxItems:Va.string().optional(),enum:Kl(Gp()).optional(),properties:$T($i(),e).optional(),required:Kl($i()).optional(),minProperties:Va.string().optional(),maxProperties:Va.string().optional(),propertyOrdering:Kl($i()).optional(),minimum:Vp().optional(),maximum:Vp().optional(),minLength:Va.string().optional(),maxLength:Va.string().optional(),pattern:$i().optional(),anyOf:Kl(e).optional(),additionalProperties:HT().optional()});return o?n.strict():n});return e}function dC(o,e){o.includes("null")&&(e.nullable=!0);const n=o.filter(a=>a!=="null");if(n.length===1)e.type=Object.values(Rn).includes(n[0].toUpperCase())?n[0].toUpperCase():Rn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of n)e.anyOf.push({type:Object.values(Rn).includes(a.toUpperCase())?a.toUpperCase():Rn.TYPE_UNSPECIFIED})}}function Pa(o){const e={},n=["items"],a=["anyOf"],r=["properties"];if(o.type&&o.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=o.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,o=f[1]):f[1].type==="null"&&(e.nullable=!0,o=f[0])),o.type instanceof Array&&dC(o.type,e);for(const[m,g]of Object.entries(o))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Rn).includes(g.toUpperCase())?g.toUpperCase():Rn.TYPE_UNSPECIFIED}else if(n.includes(m))e[m]=Pa(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}y.push(Pa(h))}e[m]=y}else if(r.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=Pa(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function Ir(o,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=fC().parse(e);return Pa(n)}else return Pa(e)}function ug(o,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Mc(o,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Wl(o,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=Ir(o,n.parameters)),n.response&&(n.response=Ir(o,n.response));return e}function jl(o,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const a of e)n.push(a);return n}function mC(o,e,n,a=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===a;return o.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${o.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}`:r?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Ri(o,e){if(typeof e!="string")throw new Error("name must be a string");return mC(o,e,"cachedContents")}function cg(o,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function jn(o,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function pC(o){return o!=null&&typeof o=="object"&&"name"in o}function hC(o){return o!=null&&typeof o=="object"&&"video"in o}function gC(o){return o!=null&&typeof o=="object"&&"uri"in o}function fg(o,e){var n;let a;if(pC(e)&&(a=e.name),!(gC(e)&&(a=e.uri,a===void 0))&&!(hC(e)&&(a=(n=e.video)===null||n===void 0?void 0:n.uri,a===void 0))){if(typeof e=="string"&&(a=e),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const f=a.split("files/")[1].match(/[a-z0-9]+/);if(f===null)throw new Error(`Could not extract file name from URI ${a}`);a=f[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function dg(o,e){let n;return o.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function mg(o,e){for(const n of["models","tunedModels","publisherModels"])if(yC(e,n))return e[n];return[]}function yC(o,e){return o!==null&&typeof o=="object"&&e in o}function vC(o,e={}){const n=o,a={name:n.name,description:n.description,parameters:Pa(Ur(n.inputSchema))};return e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function TC(o,e={}){const n=[],a=new Set;for(const r of o){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const m=vC(r,e);m.functionDeclarations&&n.push(...m.functionDeclarations)}return{functionDeclarations:n}}function CC(o){const e=[];for(const n of o)e.push(Ur(n));return e}function _C(o){const e={};for(const[n,a]of Object.entries(o)){const r=a;e[n]=Ur(r)}return e}function Ur(o){const e=new Set(["items"]),n=new Set(["anyOf"]),a=new Set(["properties"]),r={};for(const[f,m]of Object.entries(o))if(e.has(f))r[f]=Ur(m);else if(n.has(f))r[f]=CC(m);else if(a.has(f))r[f]=_C(m);else if(f==="type"){const g=m.toUpperCase();r[f]=Object.values(Rn).includes(g)?g:Rn.TYPE_UNSPECIFIED}else uC.has(f)&&(r[f]=m);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SC(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function EC(o,e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(e,["data"]);a!=null&&c(n,["data"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function AC(o,e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(e,["fileUri"]);a!=null&&c(n,["fileUri"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function xC(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],SC(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],EC(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],AC(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function Ih(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>xC(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function MC(o,e){const n={},a=u(e,["behavior"]);a!=null&&c(n,["behavior"],a);const r=u(e,["description"]);r!=null&&c(n,["description"],r);const f=u(e,["name"]);f!=null&&c(n,["name"],f);const m=u(e,["parameters"]);m!=null&&c(n,["parameters"],m);const g=u(e,["response"]);return g!=null&&c(n,["response"],g),n}function NC(o,e){const n={},a=u(e,["startTime"]);a!=null&&c(n,["startTime"],a);const r=u(e,["endTime"]);return r!=null&&c(n,["endTime"],r),n}function RC(o,e){const n={},a=u(e,["timeRangeFilter"]);return a!=null&&c(n,["timeRangeFilter"],NC(o,a)),n}function DC(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["dynamicThreshold"]);return r!=null&&c(n,["dynamicThreshold"],r),n}function bC(o,e){const n={},a=u(e,["dynamicRetrievalConfig"]);return a!=null&&c(n,["dynamicRetrievalConfig"],DC(o,a)),n}function IC(){return{}}function wC(o,e){const n={},a=u(e,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>MC(o,h))),c(n,["functionDeclarations"],y)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearch"]);r!=null&&c(n,["googleSearch"],RC(o,r));const f=u(e,["googleSearchRetrieval"]);if(f!=null&&c(n,["googleSearchRetrieval"],bC(o,f)),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(e,["urlContext"])!=null&&c(n,["urlContext"],IC());const g=u(e,["codeExecution"]);return g!=null&&c(n,["codeExecution"],g),n}function UC(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["allowedFunctionNames"]);return r!=null&&c(n,["allowedFunctionNames"],r),n}function LC(o,e){const n={},a=u(e,["latitude"]);a!=null&&c(n,["latitude"],a);const r=u(e,["longitude"]);return r!=null&&c(n,["longitude"],r),n}function OC(o,e){const n={},a=u(e,["latLng"]);a!=null&&c(n,["latLng"],LC(o,a));const r=u(e,["languageCode"]);return r!=null&&c(n,["languageCode"],r),n}function VC(o,e){const n={},a=u(e,["functionCallingConfig"]);a!=null&&c(n,["functionCallingConfig"],UC(o,a));const r=u(e,["retrievalConfig"]);return r!=null&&c(n,["retrievalConfig"],OC(o,r)),n}function GC(o,e,n){const a={},r=u(e,["ttl"]);n!==void 0&&r!=null&&c(n,["ttl"],r);const f=u(e,["expireTime"]);n!==void 0&&f!=null&&c(n,["expireTime"],f);const m=u(e,["displayName"]);n!==void 0&&m!=null&&c(n,["displayName"],m);const g=u(e,["contents"]);if(n!==void 0&&g!=null){let _=Tn(o,g);Array.isArray(_)&&(_=_.map(S=>Ih(o,S))),c(n,["contents"],_)}const y=u(e,["systemInstruction"]);n!==void 0&&y!=null&&c(n,["systemInstruction"],Ih(o,Lt(o,y)));const h=u(e,["tools"]);if(n!==void 0&&h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>wC(o,S))),c(n,["tools"],_)}const v=u(e,["toolConfig"]);if(n!==void 0&&v!=null&&c(n,["toolConfig"],VC(o,v)),u(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function kC(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["model"],lg(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],GC(o,r,n)),n}function PC(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","name"],Ri(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function qC(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","name"],Ri(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function zC(o,e,n){const a={},r=u(e,["ttl"]);n!==void 0&&r!=null&&c(n,["ttl"],r);const f=u(e,["expireTime"]);return n!==void 0&&f!=null&&c(n,["expireTime"],f),a}function BC(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","name"],Ri(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],zC(o,r,n)),n}function HC(o,e,n){const a={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(e,["pageToken"]);return n!==void 0&&f!=null&&c(n,["_query","pageToken"],f),a}function FC(o,e){const n={},a=u(e,["config"]);return a!=null&&c(n,["config"],HC(o,a,n)),n}function YC(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function $C(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["data"]);r!=null&&c(n,["data"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function ZC(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["fileUri"]);r!=null&&c(n,["fileUri"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function KC(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],YC(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],$C(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],ZC(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function wh(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>KC(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function JC(o,e){const n={};if(u(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=u(e,["description"]);a!=null&&c(n,["description"],a);const r=u(e,["name"]);r!=null&&c(n,["name"],r);const f=u(e,["parameters"]);f!=null&&c(n,["parameters"],f);const m=u(e,["response"]);return m!=null&&c(n,["response"],m),n}function XC(o,e){const n={},a=u(e,["startTime"]);a!=null&&c(n,["startTime"],a);const r=u(e,["endTime"]);return r!=null&&c(n,["endTime"],r),n}function QC(o,e){const n={},a=u(e,["timeRangeFilter"]);return a!=null&&c(n,["timeRangeFilter"],XC(o,a)),n}function WC(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["dynamicThreshold"]);return r!=null&&c(n,["dynamicThreshold"],r),n}function jC(o,e){const n={},a=u(e,["dynamicRetrievalConfig"]);return a!=null&&c(n,["dynamicRetrievalConfig"],WC(o,a)),n}function e_(){return{}}function t_(o,e){const n={},a=u(e,["apiKeyString"]);return a!=null&&c(n,["apiKeyString"],a),n}function n_(o,e){const n={},a=u(e,["apiKeyConfig"]);a!=null&&c(n,["apiKeyConfig"],t_(o,a));const r=u(e,["authType"]);r!=null&&c(n,["authType"],r);const f=u(e,["googleServiceAccountConfig"]);f!=null&&c(n,["googleServiceAccountConfig"],f);const m=u(e,["httpBasicAuthConfig"]);m!=null&&c(n,["httpBasicAuthConfig"],m);const g=u(e,["oauthConfig"]);g!=null&&c(n,["oauthConfig"],g);const y=u(e,["oidcConfig"]);return y!=null&&c(n,["oidcConfig"],y),n}function i_(o,e){const n={},a=u(e,["authConfig"]);return a!=null&&c(n,["authConfig"],n_(o,a)),n}function a_(){return{}}function l_(o,e){const n={},a=u(e,["functionDeclarations"]);if(a!=null){let _=a;Array.isArray(_)&&(_=_.map(S=>JC(o,S))),c(n,["functionDeclarations"],_)}const r=u(e,["retrieval"]);r!=null&&c(n,["retrieval"],r);const f=u(e,["googleSearch"]);f!=null&&c(n,["googleSearch"],QC(o,f));const m=u(e,["googleSearchRetrieval"]);m!=null&&c(n,["googleSearchRetrieval"],jC(o,m)),u(e,["enterpriseWebSearch"])!=null&&c(n,["enterpriseWebSearch"],e_());const y=u(e,["googleMaps"]);y!=null&&c(n,["googleMaps"],i_(o,y)),u(e,["urlContext"])!=null&&c(n,["urlContext"],a_());const v=u(e,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}function o_(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["allowedFunctionNames"]);return r!=null&&c(n,["allowedFunctionNames"],r),n}function r_(o,e){const n={},a=u(e,["latitude"]);a!=null&&c(n,["latitude"],a);const r=u(e,["longitude"]);return r!=null&&c(n,["longitude"],r),n}function s_(o,e){const n={},a=u(e,["latLng"]);a!=null&&c(n,["latLng"],r_(o,a));const r=u(e,["languageCode"]);return r!=null&&c(n,["languageCode"],r),n}function u_(o,e){const n={},a=u(e,["functionCallingConfig"]);a!=null&&c(n,["functionCallingConfig"],o_(o,a));const r=u(e,["retrievalConfig"]);return r!=null&&c(n,["retrievalConfig"],s_(o,r)),n}function c_(o,e,n){const a={},r=u(e,["ttl"]);n!==void 0&&r!=null&&c(n,["ttl"],r);const f=u(e,["expireTime"]);n!==void 0&&f!=null&&c(n,["expireTime"],f);const m=u(e,["displayName"]);n!==void 0&&m!=null&&c(n,["displayName"],m);const g=u(e,["contents"]);if(n!==void 0&&g!=null){let S=Tn(o,g);Array.isArray(S)&&(S=S.map(N=>wh(o,N))),c(n,["contents"],S)}const y=u(e,["systemInstruction"]);n!==void 0&&y!=null&&c(n,["systemInstruction"],wh(o,Lt(o,y)));const h=u(e,["tools"]);if(n!==void 0&&h!=null){let S=h;Array.isArray(S)&&(S=S.map(N=>l_(o,N))),c(n,["tools"],S)}const v=u(e,["toolConfig"]);n!==void 0&&v!=null&&c(n,["toolConfig"],u_(o,v));const _=u(e,["kmsKeyName"]);return n!==void 0&&_!=null&&c(n,["encryption_spec","kmsKeyName"],_),a}function f_(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["model"],lg(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],c_(o,r,n)),n}function d_(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","name"],Ri(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function m_(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","name"],Ri(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function p_(o,e,n){const a={},r=u(e,["ttl"]);n!==void 0&&r!=null&&c(n,["ttl"],r);const f=u(e,["expireTime"]);return n!==void 0&&f!=null&&c(n,["expireTime"],f),a}function h_(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","name"],Ri(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],p_(o,r,n)),n}function g_(o,e,n){const a={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(e,["pageToken"]);return n!==void 0&&f!=null&&c(n,["_query","pageToken"],f),a}function y_(o,e){const n={},a=u(e,["config"]);return a!=null&&c(n,["config"],g_(o,a,n)),n}function Tr(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["displayName"]);r!=null&&c(n,["displayName"],r);const f=u(e,["model"]);f!=null&&c(n,["model"],f);const m=u(e,["createTime"]);m!=null&&c(n,["createTime"],m);const g=u(e,["updateTime"]);g!=null&&c(n,["updateTime"],g);const y=u(e,["expireTime"]);y!=null&&c(n,["expireTime"],y);const h=u(e,["usageMetadata"]);return h!=null&&c(n,["usageMetadata"],h),n}function v_(){return{}}function T_(o,e){const n={},a=u(e,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(e,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Tr(o,m))),c(n,["cachedContents"],f)}return n}function Cr(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["displayName"]);r!=null&&c(n,["displayName"],r);const f=u(e,["model"]);f!=null&&c(n,["model"],f);const m=u(e,["createTime"]);m!=null&&c(n,["createTime"],m);const g=u(e,["updateTime"]);g!=null&&c(n,["updateTime"],g);const y=u(e,["expireTime"]);y!=null&&c(n,["expireTime"],y);const h=u(e,["usageMetadata"]);return h!=null&&c(n,["usageMetadata"],h),n}function C_(){return{}}function __(o,e){const n={},a=u(e,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(e,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Cr(o,m))),c(n,["cachedContents"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $a;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})($a||($a={}));class Lr{constructor(e,n,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,a,r)}init(e,n,a){var r,f;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};a?typeof a=="object"?m=Object.assign({},a):m=a:m={config:{}},m.config&&(m.config.pageToken=n.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S_ extends Ka{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lr($a.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(n),n)}async create(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=f_(this.apiClient,e);return g=fe("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Cr(this.apiClient,v))}else{const h=kC(this.apiClient,e);return g=fe("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Tr(this.apiClient,v))}}async get(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=d_(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Cr(this.apiClient,v))}else{const h=PC(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Tr(this.apiClient,v))}}async delete(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=m_(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(()=>{const v=C_(),_=new xh;return Object.assign(_,v),_})}else{const h=qC(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=v_(),_=new xh;return Object.assign(_,v),_})}}async update(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=h_(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Cr(this.apiClient,v))}else{const h=BC(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Tr(this.apiClient,v))}}async listInternal(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=y_(this.apiClient,e);return g=fe("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const _=__(this.apiClient,v),S=new Mh;return Object.assign(S,_),S})}else{const h=FC(this.apiClient,e);return g=fe("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const _=T_(this.apiClient,v),S=new Mh;return Object.assign(S,_),S})}}}function Uh(o){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&o[e],a=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(o){return this instanceof je?(this.v=o,this):new je(o)}function qa(o,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(o,e||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(N){return function(U){return Promise.resolve(U).then(N,_)}}function g(N,U){a[N]&&(r[N]=function(G){return new Promise(function(z,W){f.push([N,G,z,W])>1||y(N,G)})},U&&(r[N]=U(r[N])))}function y(N,U){try{h(a[N](U))}catch(G){S(f[0][3],G)}}function h(N){N.value instanceof je?Promise.resolve(N.value.v).then(v,_):S(f[0][2],N)}function v(N){y("next",N)}function _(N){y("throw",N)}function S(N,U){N(U),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Jl(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],n;return e?e.call(o):(o=typeof Uh=="function"?Uh(o):o[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(f){n[f]=o[f]&&function(m){return new Promise(function(g,y){m=o[f](m),r(g,y,m.done,m.value)})}}function r(f,m,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E_(o){var e;if(o.candidates==null||o.candidates.length===0)return!1;const n=(e=o.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:pg(n)}function pg(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const e of o.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function A_(o){if(o.length!==0){for(const e of o)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Lh(o){if(o===void 0||o.length===0)return[];const e=[],n=o.length;let a=0;for(;a<n;)if(o[a].role==="user")e.push(o[a]),a++;else{const r=[];let f=!0;for(;a<n&&o[a].role==="model";)r.push(o[a]),f&&!pg(o[a])&&(f=!1),a++;f?e.push(...r):e.pop()}return e}class x_{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new M_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class M_{constructor(e,n,a,r={},f=[]){this.apiClient=e,this.modelsModule=n,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),A_(f)}async sendMessage(e){var n;await this.sendPromise;const a=Lt(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await r,h=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(_))!==null&&g!==void 0?g:[]);const N=h?[h]:[];this.recordHistory(a,N,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const a=Lt(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(e=!1){const n=e?Lh(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var a,r;return qa(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var _=!0,S=Jl(e),N;N=yield je(S.next()),m=N.done,!m;_=!0){h=N.value,_=!1;const U=h;if(E_(U)){const G=(r=(a=U.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;G!==void 0&&v.push(G)}yield yield je(U)}}catch(U){g={error:U}}finally{try{!_&&!m&&(y=S.return)&&(yield je(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(n,v)})}recordHistory(e,n,a){let r=[];n.length>0&&n.every(f=>f.role!==void 0)?r=n:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Lh(a)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N_(o,e,n){const a={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(e,["pageToken"]);return n!==void 0&&f!=null&&c(n,["_query","pageToken"],f),a}function R_(o,e){const n={},a=u(e,["config"]);return a!=null&&c(n,["config"],N_(o,a,n)),n}function D_(o,e){const n={},a=u(e,["details"]);a!=null&&c(n,["details"],a);const r=u(e,["message"]);r!=null&&c(n,["message"],r);const f=u(e,["code"]);return f!=null&&c(n,["code"],f),n}function b_(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["displayName"]);r!=null&&c(n,["displayName"],r);const f=u(e,["mimeType"]);f!=null&&c(n,["mimeType"],f);const m=u(e,["sizeBytes"]);m!=null&&c(n,["sizeBytes"],m);const g=u(e,["createTime"]);g!=null&&c(n,["createTime"],g);const y=u(e,["expirationTime"]);y!=null&&c(n,["expirationTime"],y);const h=u(e,["updateTime"]);h!=null&&c(n,["updateTime"],h);const v=u(e,["sha256Hash"]);v!=null&&c(n,["sha256Hash"],v);const _=u(e,["uri"]);_!=null&&c(n,["uri"],_);const S=u(e,["downloadUri"]);S!=null&&c(n,["downloadUri"],S);const N=u(e,["state"]);N!=null&&c(n,["state"],N);const U=u(e,["source"]);U!=null&&c(n,["source"],U);const G=u(e,["videoMetadata"]);G!=null&&c(n,["videoMetadata"],G);const z=u(e,["error"]);return z!=null&&c(n,["error"],D_(o,z)),n}function I_(o,e){const n={},a=u(e,["file"]);a!=null&&c(n,["file"],b_(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function w_(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","file"],fg(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function U_(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","file"],fg(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function L_(o,e){const n={},a=u(e,["details"]);a!=null&&c(n,["details"],a);const r=u(e,["message"]);r!=null&&c(n,["message"],r);const f=u(e,["code"]);return f!=null&&c(n,["code"],f),n}function gc(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["displayName"]);r!=null&&c(n,["displayName"],r);const f=u(e,["mimeType"]);f!=null&&c(n,["mimeType"],f);const m=u(e,["sizeBytes"]);m!=null&&c(n,["sizeBytes"],m);const g=u(e,["createTime"]);g!=null&&c(n,["createTime"],g);const y=u(e,["expirationTime"]);y!=null&&c(n,["expirationTime"],y);const h=u(e,["updateTime"]);h!=null&&c(n,["updateTime"],h);const v=u(e,["sha256Hash"]);v!=null&&c(n,["sha256Hash"],v);const _=u(e,["uri"]);_!=null&&c(n,["uri"],_);const S=u(e,["downloadUri"]);S!=null&&c(n,["downloadUri"],S);const N=u(e,["state"]);N!=null&&c(n,["state"],N);const U=u(e,["source"]);U!=null&&c(n,["source"],U);const G=u(e,["videoMetadata"]);G!=null&&c(n,["videoMetadata"],G);const z=u(e,["error"]);return z!=null&&c(n,["error"],L_(o,z)),n}function O_(o,e){const n={},a=u(e,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(e,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>gc(o,m))),c(n,["files"],f)}return n}function V_(){return{}}function G_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_ extends Ka{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lr($a.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>gc(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=R_(this.apiClient,e);return f=fe("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=O_(this.apiClient,y),v=new nC;return Object.assign(v,h),v})}}async createInternal(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=I_(this.apiClient,e);return f=fe("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(()=>{const y=V_(),h=new iC;return Object.assign(h,y),h})}}async get(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=w_(this.apiClient,e);return f=fe("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>gc(this.apiClient,y))}}async delete(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=U_(this.apiClient,e);return f=fe("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(()=>{const y=G_(),h=new aC;return Object.assign(h,y),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P_(o,e){const n={},a=u(e,["voiceName"]);return a!=null&&c(n,["voiceName"],a),n}function q_(o,e){const n={},a=u(e,["voiceName"]);return a!=null&&c(n,["voiceName"],a),n}function hg(o,e){const n={},a=u(e,["prebuiltVoiceConfig"]);return a!=null&&c(n,["prebuiltVoiceConfig"],P_(o,a)),n}function z_(o,e){const n={},a=u(e,["prebuiltVoiceConfig"]);return a!=null&&c(n,["prebuiltVoiceConfig"],q_(o,a)),n}function B_(o,e){const n={},a=u(e,["speaker"]);a!=null&&c(n,["speaker"],a);const r=u(e,["voiceConfig"]);return r!=null&&c(n,["voiceConfig"],hg(o,r)),n}function H_(o,e){const n={},a=u(e,["speakerVoiceConfigs"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>B_(o,f))),c(n,["speakerVoiceConfigs"],r)}return n}function F_(o,e){const n={},a=u(e,["voiceConfig"]);a!=null&&c(n,["voiceConfig"],hg(o,a));const r=u(e,["multiSpeakerVoiceConfig"]);r!=null&&c(n,["multiSpeakerVoiceConfig"],H_(o,r));const f=u(e,["languageCode"]);return f!=null&&c(n,["languageCode"],f),n}function Y_(o,e){const n={},a=u(e,["voiceConfig"]);if(a!=null&&c(n,["voiceConfig"],z_(o,a)),u(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=u(e,["languageCode"]);return r!=null&&c(n,["languageCode"],r),n}function $_(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function Z_(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function K_(o,e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(e,["data"]);a!=null&&c(n,["data"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function J_(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["data"]);r!=null&&c(n,["data"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function X_(o,e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(e,["fileUri"]);a!=null&&c(n,["fileUri"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function Q_(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["fileUri"]);r!=null&&c(n,["fileUri"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function W_(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],$_(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],K_(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],X_(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function j_(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],Z_(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],J_(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],Q_(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function eS(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>W_(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function tS(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>j_(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function nS(o,e){const n={},a=u(e,["behavior"]);a!=null&&c(n,["behavior"],a);const r=u(e,["description"]);r!=null&&c(n,["description"],r);const f=u(e,["name"]);f!=null&&c(n,["name"],f);const m=u(e,["parameters"]);m!=null&&c(n,["parameters"],m);const g=u(e,["response"]);return g!=null&&c(n,["response"],g),n}function iS(o,e){const n={};if(u(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=u(e,["description"]);a!=null&&c(n,["description"],a);const r=u(e,["name"]);r!=null&&c(n,["name"],r);const f=u(e,["parameters"]);f!=null&&c(n,["parameters"],f);const m=u(e,["response"]);return m!=null&&c(n,["response"],m),n}function aS(o,e){const n={},a=u(e,["startTime"]);a!=null&&c(n,["startTime"],a);const r=u(e,["endTime"]);return r!=null&&c(n,["endTime"],r),n}function lS(o,e){const n={},a=u(e,["startTime"]);a!=null&&c(n,["startTime"],a);const r=u(e,["endTime"]);return r!=null&&c(n,["endTime"],r),n}function oS(o,e){const n={},a=u(e,["timeRangeFilter"]);return a!=null&&c(n,["timeRangeFilter"],aS(o,a)),n}function rS(o,e){const n={},a=u(e,["timeRangeFilter"]);return a!=null&&c(n,["timeRangeFilter"],lS(o,a)),n}function sS(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["dynamicThreshold"]);return r!=null&&c(n,["dynamicThreshold"],r),n}function uS(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["dynamicThreshold"]);return r!=null&&c(n,["dynamicThreshold"],r),n}function cS(o,e){const n={},a=u(e,["dynamicRetrievalConfig"]);return a!=null&&c(n,["dynamicRetrievalConfig"],sS(o,a)),n}function fS(o,e){const n={},a=u(e,["dynamicRetrievalConfig"]);return a!=null&&c(n,["dynamicRetrievalConfig"],uS(o,a)),n}function dS(){return{}}function mS(o,e){const n={},a=u(e,["apiKeyString"]);return a!=null&&c(n,["apiKeyString"],a),n}function pS(o,e){const n={},a=u(e,["apiKeyConfig"]);a!=null&&c(n,["apiKeyConfig"],mS(o,a));const r=u(e,["authType"]);r!=null&&c(n,["authType"],r);const f=u(e,["googleServiceAccountConfig"]);f!=null&&c(n,["googleServiceAccountConfig"],f);const m=u(e,["httpBasicAuthConfig"]);m!=null&&c(n,["httpBasicAuthConfig"],m);const g=u(e,["oauthConfig"]);g!=null&&c(n,["oauthConfig"],g);const y=u(e,["oidcConfig"]);return y!=null&&c(n,["oidcConfig"],y),n}function hS(o,e){const n={},a=u(e,["authConfig"]);return a!=null&&c(n,["authConfig"],pS(o,a)),n}function gS(){return{}}function yS(){return{}}function vS(o,e){const n={},a=u(e,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>nS(o,h))),c(n,["functionDeclarations"],y)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearch"]);r!=null&&c(n,["googleSearch"],oS(o,r));const f=u(e,["googleSearchRetrieval"]);if(f!=null&&c(n,["googleSearchRetrieval"],cS(o,f)),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(e,["urlContext"])!=null&&c(n,["urlContext"],gS());const g=u(e,["codeExecution"]);return g!=null&&c(n,["codeExecution"],g),n}function TS(o,e){const n={},a=u(e,["functionDeclarations"]);if(a!=null){let _=a;Array.isArray(_)&&(_=_.map(S=>iS(o,S))),c(n,["functionDeclarations"],_)}const r=u(e,["retrieval"]);r!=null&&c(n,["retrieval"],r);const f=u(e,["googleSearch"]);f!=null&&c(n,["googleSearch"],rS(o,f));const m=u(e,["googleSearchRetrieval"]);m!=null&&c(n,["googleSearchRetrieval"],fS(o,m)),u(e,["enterpriseWebSearch"])!=null&&c(n,["enterpriseWebSearch"],dS());const y=u(e,["googleMaps"]);y!=null&&c(n,["googleMaps"],hS(o,y)),u(e,["urlContext"])!=null&&c(n,["urlContext"],yS());const v=u(e,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}function CS(o,e){const n={},a=u(e,["handle"]);if(a!=null&&c(n,["handle"],a),u(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function _S(o,e){const n={},a=u(e,["handle"]);a!=null&&c(n,["handle"],a);const r=u(e,["transparent"]);return r!=null&&c(n,["transparent"],r),n}function Oh(){return{}}function Vh(){return{}}function SS(o,e){const n={},a=u(e,["disabled"]);a!=null&&c(n,["disabled"],a);const r=u(e,["startOfSpeechSensitivity"]);r!=null&&c(n,["startOfSpeechSensitivity"],r);const f=u(e,["endOfSpeechSensitivity"]);f!=null&&c(n,["endOfSpeechSensitivity"],f);const m=u(e,["prefixPaddingMs"]);m!=null&&c(n,["prefixPaddingMs"],m);const g=u(e,["silenceDurationMs"]);return g!=null&&c(n,["silenceDurationMs"],g),n}function ES(o,e){const n={},a=u(e,["disabled"]);a!=null&&c(n,["disabled"],a);const r=u(e,["startOfSpeechSensitivity"]);r!=null&&c(n,["startOfSpeechSensitivity"],r);const f=u(e,["endOfSpeechSensitivity"]);f!=null&&c(n,["endOfSpeechSensitivity"],f);const m=u(e,["prefixPaddingMs"]);m!=null&&c(n,["prefixPaddingMs"],m);const g=u(e,["silenceDurationMs"]);return g!=null&&c(n,["silenceDurationMs"],g),n}function AS(o,e){const n={},a=u(e,["automaticActivityDetection"]);a!=null&&c(n,["automaticActivityDetection"],SS(o,a));const r=u(e,["activityHandling"]);r!=null&&c(n,["activityHandling"],r);const f=u(e,["turnCoverage"]);return f!=null&&c(n,["turnCoverage"],f),n}function xS(o,e){const n={},a=u(e,["automaticActivityDetection"]);a!=null&&c(n,["automaticActivityDetection"],ES(o,a));const r=u(e,["activityHandling"]);r!=null&&c(n,["activityHandling"],r);const f=u(e,["turnCoverage"]);return f!=null&&c(n,["turnCoverage"],f),n}function MS(o,e){const n={},a=u(e,["targetTokens"]);return a!=null&&c(n,["targetTokens"],a),n}function NS(o,e){const n={},a=u(e,["targetTokens"]);return a!=null&&c(n,["targetTokens"],a),n}function RS(o,e){const n={},a=u(e,["triggerTokens"]);a!=null&&c(n,["triggerTokens"],a);const r=u(e,["slidingWindow"]);return r!=null&&c(n,["slidingWindow"],MS(o,r)),n}function DS(o,e){const n={},a=u(e,["triggerTokens"]);a!=null&&c(n,["triggerTokens"],a);const r=u(e,["slidingWindow"]);return r!=null&&c(n,["slidingWindow"],NS(o,r)),n}function bS(o,e){const n={},a=u(e,["proactiveAudio"]);return a!=null&&c(n,["proactiveAudio"],a),n}function IS(o,e){const n={},a=u(e,["proactiveAudio"]);return a!=null&&c(n,["proactiveAudio"],a),n}function wS(o,e,n){const a={},r=u(e,["generationConfig"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig"],r);const f=u(e,["responseModalities"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","responseModalities"],f);const m=u(e,["temperature"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","temperature"],m);const g=u(e,["topP"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topP"],g);const y=u(e,["topK"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","topK"],y);const h=u(e,["maxOutputTokens"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","maxOutputTokens"],h);const v=u(e,["mediaResolution"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","mediaResolution"],v);const _=u(e,["seed"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","seed"],_);const S=u(e,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],F_(o,Mc(o,S)));const N=u(e,["enableAffectiveDialog"]);n!==void 0&&N!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],N);const U=u(e,["systemInstruction"]);n!==void 0&&U!=null&&c(n,["setup","systemInstruction"],eS(o,Lt(o,U)));const G=u(e,["tools"]);if(n!==void 0&&G!=null){let re=jl(o,G);Array.isArray(re)&&(re=re.map(he=>vS(o,Wl(o,he)))),c(n,["setup","tools"],re)}const z=u(e,["sessionResumption"]);n!==void 0&&z!=null&&c(n,["setup","sessionResumption"],CS(o,z));const W=u(e,["inputAudioTranscription"]);n!==void 0&&W!=null&&c(n,["setup","inputAudioTranscription"],Oh());const j=u(e,["outputAudioTranscription"]);n!==void 0&&j!=null&&c(n,["setup","outputAudioTranscription"],Oh());const J=u(e,["realtimeInputConfig"]);n!==void 0&&J!=null&&c(n,["setup","realtimeInputConfig"],AS(o,J));const le=u(e,["contextWindowCompression"]);n!==void 0&&le!=null&&c(n,["setup","contextWindowCompression"],RS(o,le));const Y=u(e,["proactivity"]);return n!==void 0&&Y!=null&&c(n,["setup","proactivity"],bS(o,Y)),a}function US(o,e,n){const a={},r=u(e,["generationConfig"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig"],r);const f=u(e,["responseModalities"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","responseModalities"],f);const m=u(e,["temperature"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","temperature"],m);const g=u(e,["topP"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topP"],g);const y=u(e,["topK"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","topK"],y);const h=u(e,["maxOutputTokens"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","maxOutputTokens"],h);const v=u(e,["mediaResolution"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","mediaResolution"],v);const _=u(e,["seed"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","seed"],_);const S=u(e,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],Y_(o,Mc(o,S)));const N=u(e,["enableAffectiveDialog"]);n!==void 0&&N!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],N);const U=u(e,["systemInstruction"]);n!==void 0&&U!=null&&c(n,["setup","systemInstruction"],tS(o,Lt(o,U)));const G=u(e,["tools"]);if(n!==void 0&&G!=null){let re=jl(o,G);Array.isArray(re)&&(re=re.map(he=>TS(o,Wl(o,he)))),c(n,["setup","tools"],re)}const z=u(e,["sessionResumption"]);n!==void 0&&z!=null&&c(n,["setup","sessionResumption"],_S(o,z));const W=u(e,["inputAudioTranscription"]);n!==void 0&&W!=null&&c(n,["setup","inputAudioTranscription"],Vh());const j=u(e,["outputAudioTranscription"]);n!==void 0&&j!=null&&c(n,["setup","outputAudioTranscription"],Vh());const J=u(e,["realtimeInputConfig"]);n!==void 0&&J!=null&&c(n,["setup","realtimeInputConfig"],xS(o,J));const le=u(e,["contextWindowCompression"]);n!==void 0&&le!=null&&c(n,["setup","contextWindowCompression"],DS(o,le));const Y=u(e,["proactivity"]);return n!==void 0&&Y!=null&&c(n,["setup","proactivity"],IS(o,Y)),a}function LS(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["setup","model"],We(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],wS(o,r,n)),n}function OS(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["setup","model"],We(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],US(o,r,n)),n}function VS(){return{}}function GS(){return{}}function kS(){return{}}function PS(){return{}}function qS(o,e){const n={},a=u(e,["media"]);a!=null&&c(n,["mediaChunks"],og(o,a));const r=u(e,["audio"]);r!=null&&c(n,["audio"],sC(o,r));const f=u(e,["audioStreamEnd"]);f!=null&&c(n,["audioStreamEnd"],f);const m=u(e,["video"]);m!=null&&c(n,["video"],rC(o,m));const g=u(e,["text"]);return g!=null&&c(n,["text"],g),u(e,["activityStart"])!=null&&c(n,["activityStart"],VS()),u(e,["activityEnd"])!=null&&c(n,["activityEnd"],kS()),n}function zS(o,e){const n={},a=u(e,["media"]);if(a!=null&&c(n,["mediaChunks"],og(o,a)),u(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=u(e,["audioStreamEnd"]);if(r!=null&&c(n,["audioStreamEnd"],r),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(e,["activityStart"])!=null&&c(n,["activityStart"],GS()),u(e,["activityEnd"])!=null&&c(n,["activityEnd"],PS()),n}function gg(o,e){const n={},a=u(e,["text"]);a!=null&&c(n,["text"],a);const r=u(e,["weight"]);return r!=null&&c(n,["weight"],r),n}function BS(o,e){const n={},a=u(e,["weightedPrompts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>gg(o,f))),c(n,["weightedPrompts"],r)}return n}function yg(o,e){const n={},a=u(e,["temperature"]);a!=null&&c(n,["temperature"],a);const r=u(e,["topK"]);r!=null&&c(n,["topK"],r);const f=u(e,["seed"]);f!=null&&c(n,["seed"],f);const m=u(e,["guidance"]);m!=null&&c(n,["guidance"],m);const g=u(e,["bpm"]);g!=null&&c(n,["bpm"],g);const y=u(e,["density"]);y!=null&&c(n,["density"],y);const h=u(e,["brightness"]);h!=null&&c(n,["brightness"],h);const v=u(e,["scale"]);v!=null&&c(n,["scale"],v);const _=u(e,["muteBass"]);_!=null&&c(n,["muteBass"],_);const S=u(e,["muteDrums"]);S!=null&&c(n,["muteDrums"],S);const N=u(e,["onlyBassAndDrums"]);return N!=null&&c(n,["onlyBassAndDrums"],N),n}function HS(o,e){const n={},a=u(e,["musicGenerationConfig"]);return a!=null&&c(n,["musicGenerationConfig"],yg(o,a)),n}function vg(o,e){const n={},a=u(e,["model"]);return a!=null&&c(n,["model"],a),n}function Tg(o,e){const n={},a=u(e,["weightedPrompts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>gg(o,f))),c(n,["weightedPrompts"],r)}return n}function yc(o,e){const n={},a=u(e,["setup"]);a!=null&&c(n,["setup"],vg(o,a));const r=u(e,["clientContent"]);r!=null&&c(n,["clientContent"],Tg(o,r));const f=u(e,["musicGenerationConfig"]);f!=null&&c(n,["musicGenerationConfig"],yg(o,f));const m=u(e,["playbackControl"]);return m!=null&&c(n,["playbackControl"],m),n}function FS(){return{}}function YS(){return{}}function $S(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function ZS(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function KS(o,e){const n={},a=u(e,["data"]);a!=null&&c(n,["data"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function JS(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["data"]);r!=null&&c(n,["data"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function XS(o,e){const n={},a=u(e,["fileUri"]);a!=null&&c(n,["fileUri"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function QS(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["fileUri"]);r!=null&&c(n,["fileUri"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function WS(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],$S(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],KS(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],XS(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function jS(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],ZS(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],JS(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],QS(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function eE(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>WS(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function tE(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>jS(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function Gh(o,e){const n={},a=u(e,["text"]);a!=null&&c(n,["text"],a);const r=u(e,["finished"]);return r!=null&&c(n,["finished"],r),n}function kh(o,e){const n={},a=u(e,["text"]);a!=null&&c(n,["text"],a);const r=u(e,["finished"]);return r!=null&&c(n,["finished"],r),n}function nE(o,e){const n={},a=u(e,["retrievedUrl"]);a!=null&&c(n,["retrievedUrl"],a);const r=u(e,["urlRetrievalStatus"]);return r!=null&&c(n,["urlRetrievalStatus"],r),n}function iE(o,e){const n={},a=u(e,["urlMetadata"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>nE(o,f))),c(n,["urlMetadata"],r)}return n}function aE(o,e){const n={},a=u(e,["modelTurn"]);a!=null&&c(n,["modelTurn"],eE(o,a));const r=u(e,["turnComplete"]);r!=null&&c(n,["turnComplete"],r);const f=u(e,["interrupted"]);f!=null&&c(n,["interrupted"],f);const m=u(e,["groundingMetadata"]);m!=null&&c(n,["groundingMetadata"],m);const g=u(e,["generationComplete"]);g!=null&&c(n,["generationComplete"],g);const y=u(e,["inputTranscription"]);y!=null&&c(n,["inputTranscription"],Gh(o,y));const h=u(e,["outputTranscription"]);h!=null&&c(n,["outputTranscription"],Gh(o,h));const v=u(e,["urlContextMetadata"]);return v!=null&&c(n,["urlContextMetadata"],iE(o,v)),n}function lE(o,e){const n={},a=u(e,["modelTurn"]);a!=null&&c(n,["modelTurn"],tE(o,a));const r=u(e,["turnComplete"]);r!=null&&c(n,["turnComplete"],r);const f=u(e,["interrupted"]);f!=null&&c(n,["interrupted"],f);const m=u(e,["groundingMetadata"]);m!=null&&c(n,["groundingMetadata"],m);const g=u(e,["generationComplete"]);g!=null&&c(n,["generationComplete"],g);const y=u(e,["inputTranscription"]);y!=null&&c(n,["inputTranscription"],kh(o,y));const h=u(e,["outputTranscription"]);return h!=null&&c(n,["outputTranscription"],kh(o,h)),n}function oE(o,e){const n={},a=u(e,["id"]);a!=null&&c(n,["id"],a);const r=u(e,["args"]);r!=null&&c(n,["args"],r);const f=u(e,["name"]);return f!=null&&c(n,["name"],f),n}function rE(o,e){const n={},a=u(e,["args"]);a!=null&&c(n,["args"],a);const r=u(e,["name"]);return r!=null&&c(n,["name"],r),n}function sE(o,e){const n={},a=u(e,["functionCalls"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>oE(o,f))),c(n,["functionCalls"],r)}return n}function uE(o,e){const n={},a=u(e,["functionCalls"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>rE(o,f))),c(n,["functionCalls"],r)}return n}function cE(o,e){const n={},a=u(e,["ids"]);return a!=null&&c(n,["ids"],a),n}function fE(o,e){const n={},a=u(e,["ids"]);return a!=null&&c(n,["ids"],a),n}function hr(o,e){const n={},a=u(e,["modality"]);a!=null&&c(n,["modality"],a);const r=u(e,["tokenCount"]);return r!=null&&c(n,["tokenCount"],r),n}function gr(o,e){const n={},a=u(e,["modality"]);a!=null&&c(n,["modality"],a);const r=u(e,["tokenCount"]);return r!=null&&c(n,["tokenCount"],r),n}function dE(o,e){const n={},a=u(e,["promptTokenCount"]);a!=null&&c(n,["promptTokenCount"],a);const r=u(e,["cachedContentTokenCount"]);r!=null&&c(n,["cachedContentTokenCount"],r);const f=u(e,["responseTokenCount"]);f!=null&&c(n,["responseTokenCount"],f);const m=u(e,["toolUsePromptTokenCount"]);m!=null&&c(n,["toolUsePromptTokenCount"],m);const g=u(e,["thoughtsTokenCount"]);g!=null&&c(n,["thoughtsTokenCount"],g);const y=u(e,["totalTokenCount"]);y!=null&&c(n,["totalTokenCount"],y);const h=u(e,["promptTokensDetails"]);if(h!=null){let N=h;Array.isArray(N)&&(N=N.map(U=>hr(o,U))),c(n,["promptTokensDetails"],N)}const v=u(e,["cacheTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(U=>hr(o,U))),c(n,["cacheTokensDetails"],N)}const _=u(e,["responseTokensDetails"]);if(_!=null){let N=_;Array.isArray(N)&&(N=N.map(U=>hr(o,U))),c(n,["responseTokensDetails"],N)}const S=u(e,["toolUsePromptTokensDetails"]);if(S!=null){let N=S;Array.isArray(N)&&(N=N.map(U=>hr(o,U))),c(n,["toolUsePromptTokensDetails"],N)}return n}function mE(o,e){const n={},a=u(e,["promptTokenCount"]);a!=null&&c(n,["promptTokenCount"],a);const r=u(e,["cachedContentTokenCount"]);r!=null&&c(n,["cachedContentTokenCount"],r);const f=u(e,["candidatesTokenCount"]);f!=null&&c(n,["responseTokenCount"],f);const m=u(e,["toolUsePromptTokenCount"]);m!=null&&c(n,["toolUsePromptTokenCount"],m);const g=u(e,["thoughtsTokenCount"]);g!=null&&c(n,["thoughtsTokenCount"],g);const y=u(e,["totalTokenCount"]);y!=null&&c(n,["totalTokenCount"],y);const h=u(e,["promptTokensDetails"]);if(h!=null){let U=h;Array.isArray(U)&&(U=U.map(G=>gr(o,G))),c(n,["promptTokensDetails"],U)}const v=u(e,["cacheTokensDetails"]);if(v!=null){let U=v;Array.isArray(U)&&(U=U.map(G=>gr(o,G))),c(n,["cacheTokensDetails"],U)}const _=u(e,["candidatesTokensDetails"]);if(_!=null){let U=_;Array.isArray(U)&&(U=U.map(G=>gr(o,G))),c(n,["responseTokensDetails"],U)}const S=u(e,["toolUsePromptTokensDetails"]);if(S!=null){let U=S;Array.isArray(U)&&(U=U.map(G=>gr(o,G))),c(n,["toolUsePromptTokensDetails"],U)}const N=u(e,["trafficType"]);return N!=null&&c(n,["trafficType"],N),n}function pE(o,e){const n={},a=u(e,["timeLeft"]);return a!=null&&c(n,["timeLeft"],a),n}function hE(o,e){const n={},a=u(e,["timeLeft"]);return a!=null&&c(n,["timeLeft"],a),n}function gE(o,e){const n={},a=u(e,["newHandle"]);a!=null&&c(n,["newHandle"],a);const r=u(e,["resumable"]);r!=null&&c(n,["resumable"],r);const f=u(e,["lastConsumedClientMessageIndex"]);return f!=null&&c(n,["lastConsumedClientMessageIndex"],f),n}function yE(o,e){const n={},a=u(e,["newHandle"]);a!=null&&c(n,["newHandle"],a);const r=u(e,["resumable"]);r!=null&&c(n,["resumable"],r);const f=u(e,["lastConsumedClientMessageIndex"]);return f!=null&&c(n,["lastConsumedClientMessageIndex"],f),n}function vE(o,e){const n={};u(e,["setupComplete"])!=null&&c(n,["setupComplete"],FS());const r=u(e,["serverContent"]);r!=null&&c(n,["serverContent"],aE(o,r));const f=u(e,["toolCall"]);f!=null&&c(n,["toolCall"],sE(o,f));const m=u(e,["toolCallCancellation"]);m!=null&&c(n,["toolCallCancellation"],cE(o,m));const g=u(e,["usageMetadata"]);g!=null&&c(n,["usageMetadata"],dE(o,g));const y=u(e,["goAway"]);y!=null&&c(n,["goAway"],pE(o,y));const h=u(e,["sessionResumptionUpdate"]);return h!=null&&c(n,["sessionResumptionUpdate"],gE(o,h)),n}function TE(o,e){const n={};u(e,["setupComplete"])!=null&&c(n,["setupComplete"],YS());const r=u(e,["serverContent"]);r!=null&&c(n,["serverContent"],lE(o,r));const f=u(e,["toolCall"]);f!=null&&c(n,["toolCall"],uE(o,f));const m=u(e,["toolCallCancellation"]);m!=null&&c(n,["toolCallCancellation"],fE(o,m));const g=u(e,["usageMetadata"]);g!=null&&c(n,["usageMetadata"],mE(o,g));const y=u(e,["goAway"]);y!=null&&c(n,["goAway"],hE(o,y));const h=u(e,["sessionResumptionUpdate"]);return h!=null&&c(n,["sessionResumptionUpdate"],yE(o,h)),n}function CE(){return{}}function _E(o,e){const n={},a=u(e,["text"]);a!=null&&c(n,["text"],a);const r=u(e,["weight"]);return r!=null&&c(n,["weight"],r),n}function SE(o,e){const n={},a=u(e,["weightedPrompts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>_E(o,f))),c(n,["weightedPrompts"],r)}return n}function EE(o,e){const n={},a=u(e,["temperature"]);a!=null&&c(n,["temperature"],a);const r=u(e,["topK"]);r!=null&&c(n,["topK"],r);const f=u(e,["seed"]);f!=null&&c(n,["seed"],f);const m=u(e,["guidance"]);m!=null&&c(n,["guidance"],m);const g=u(e,["bpm"]);g!=null&&c(n,["bpm"],g);const y=u(e,["density"]);y!=null&&c(n,["density"],y);const h=u(e,["brightness"]);h!=null&&c(n,["brightness"],h);const v=u(e,["scale"]);v!=null&&c(n,["scale"],v);const _=u(e,["muteBass"]);_!=null&&c(n,["muteBass"],_);const S=u(e,["muteDrums"]);S!=null&&c(n,["muteDrums"],S);const N=u(e,["onlyBassAndDrums"]);return N!=null&&c(n,["onlyBassAndDrums"],N),n}function AE(o,e){const n={},a=u(e,["clientContent"]);a!=null&&c(n,["clientContent"],SE(o,a));const r=u(e,["musicGenerationConfig"]);return r!=null&&c(n,["musicGenerationConfig"],EE(o,r)),n}function xE(o,e){const n={},a=u(e,["data"]);a!=null&&c(n,["data"],a);const r=u(e,["mimeType"]);r!=null&&c(n,["mimeType"],r);const f=u(e,["sourceMetadata"]);return f!=null&&c(n,["sourceMetadata"],AE(o,f)),n}function ME(o,e){const n={},a=u(e,["audioChunks"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>xE(o,f))),c(n,["audioChunks"],r)}return n}function NE(o,e){const n={},a=u(e,["text"]);a!=null&&c(n,["text"],a);const r=u(e,["filteredReason"]);return r!=null&&c(n,["filteredReason"],r),n}function RE(o,e){const n={};u(e,["setupComplete"])!=null&&c(n,["setupComplete"],CE());const r=u(e,["serverContent"]);r!=null&&c(n,["serverContent"],ME(o,r));const f=u(e,["filteredPrompt"]);return f!=null&&c(n,["filteredPrompt"],NE(o,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DE(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function bE(o,e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(e,["data"]);a!=null&&c(n,["data"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function IE(o,e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(e,["fileUri"]);a!=null&&c(n,["fileUri"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function wE(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],DE(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],bE(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],IE(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function Or(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>wE(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function UE(o,e){const n={},a=u(e,["anyOf"]);a!=null&&c(n,["anyOf"],a);const r=u(e,["default"]);r!=null&&c(n,["default"],r);const f=u(e,["description"]);f!=null&&c(n,["description"],f);const m=u(e,["enum"]);m!=null&&c(n,["enum"],m);const g=u(e,["example"]);g!=null&&c(n,["example"],g);const y=u(e,["format"]);y!=null&&c(n,["format"],y);const h=u(e,["items"]);h!=null&&c(n,["items"],h);const v=u(e,["maxItems"]);v!=null&&c(n,["maxItems"],v);const _=u(e,["maxLength"]);_!=null&&c(n,["maxLength"],_);const S=u(e,["maxProperties"]);S!=null&&c(n,["maxProperties"],S);const N=u(e,["maximum"]);N!=null&&c(n,["maximum"],N);const U=u(e,["minItems"]);U!=null&&c(n,["minItems"],U);const G=u(e,["minLength"]);G!=null&&c(n,["minLength"],G);const z=u(e,["minProperties"]);z!=null&&c(n,["minProperties"],z);const W=u(e,["minimum"]);W!=null&&c(n,["minimum"],W);const j=u(e,["nullable"]);j!=null&&c(n,["nullable"],j);const J=u(e,["pattern"]);J!=null&&c(n,["pattern"],J);const le=u(e,["properties"]);le!=null&&c(n,["properties"],le);const Y=u(e,["propertyOrdering"]);Y!=null&&c(n,["propertyOrdering"],Y);const re=u(e,["required"]);re!=null&&c(n,["required"],re);const he=u(e,["title"]);he!=null&&c(n,["title"],he);const we=u(e,["type"]);return we!=null&&c(n,["type"],we),n}function LE(o,e){const n={};if(u(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(e,["category"]);a!=null&&c(n,["category"],a);const r=u(e,["threshold"]);return r!=null&&c(n,["threshold"],r),n}function OE(o,e){const n={},a=u(e,["behavior"]);a!=null&&c(n,["behavior"],a);const r=u(e,["description"]);r!=null&&c(n,["description"],r);const f=u(e,["name"]);f!=null&&c(n,["name"],f);const m=u(e,["parameters"]);m!=null&&c(n,["parameters"],m);const g=u(e,["response"]);return g!=null&&c(n,["response"],g),n}function VE(o,e){const n={},a=u(e,["startTime"]);a!=null&&c(n,["startTime"],a);const r=u(e,["endTime"]);return r!=null&&c(n,["endTime"],r),n}function GE(o,e){const n={},a=u(e,["timeRangeFilter"]);return a!=null&&c(n,["timeRangeFilter"],VE(o,a)),n}function kE(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["dynamicThreshold"]);return r!=null&&c(n,["dynamicThreshold"],r),n}function PE(o,e){const n={},a=u(e,["dynamicRetrievalConfig"]);return a!=null&&c(n,["dynamicRetrievalConfig"],kE(o,a)),n}function qE(){return{}}function zE(o,e){const n={},a=u(e,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>OE(o,h))),c(n,["functionDeclarations"],y)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearch"]);r!=null&&c(n,["googleSearch"],GE(o,r));const f=u(e,["googleSearchRetrieval"]);if(f!=null&&c(n,["googleSearchRetrieval"],PE(o,f)),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(e,["urlContext"])!=null&&c(n,["urlContext"],qE());const g=u(e,["codeExecution"]);return g!=null&&c(n,["codeExecution"],g),n}function BE(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["allowedFunctionNames"]);return r!=null&&c(n,["allowedFunctionNames"],r),n}function HE(o,e){const n={},a=u(e,["latitude"]);a!=null&&c(n,["latitude"],a);const r=u(e,["longitude"]);return r!=null&&c(n,["longitude"],r),n}function FE(o,e){const n={},a=u(e,["latLng"]);a!=null&&c(n,["latLng"],HE(o,a));const r=u(e,["languageCode"]);return r!=null&&c(n,["languageCode"],r),n}function YE(o,e){const n={},a=u(e,["functionCallingConfig"]);a!=null&&c(n,["functionCallingConfig"],BE(o,a));const r=u(e,["retrievalConfig"]);return r!=null&&c(n,["retrievalConfig"],FE(o,r)),n}function $E(o,e){const n={},a=u(e,["voiceName"]);return a!=null&&c(n,["voiceName"],a),n}function Cg(o,e){const n={},a=u(e,["prebuiltVoiceConfig"]);return a!=null&&c(n,["prebuiltVoiceConfig"],$E(o,a)),n}function ZE(o,e){const n={},a=u(e,["speaker"]);a!=null&&c(n,["speaker"],a);const r=u(e,["voiceConfig"]);return r!=null&&c(n,["voiceConfig"],Cg(o,r)),n}function KE(o,e){const n={},a=u(e,["speakerVoiceConfigs"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>ZE(o,f))),c(n,["speakerVoiceConfigs"],r)}return n}function JE(o,e){const n={},a=u(e,["voiceConfig"]);a!=null&&c(n,["voiceConfig"],Cg(o,a));const r=u(e,["multiSpeakerVoiceConfig"]);r!=null&&c(n,["multiSpeakerVoiceConfig"],KE(o,r));const f=u(e,["languageCode"]);return f!=null&&c(n,["languageCode"],f),n}function XE(o,e){const n={},a=u(e,["includeThoughts"]);a!=null&&c(n,["includeThoughts"],a);const r=u(e,["thinkingBudget"]);return r!=null&&c(n,["thinkingBudget"],r),n}function QE(o,e,n){const a={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Or(o,Lt(o,r)));const f=u(e,["temperature"]);f!=null&&c(a,["temperature"],f);const m=u(e,["topP"]);m!=null&&c(a,["topP"],m);const g=u(e,["topK"]);g!=null&&c(a,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(e,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(e,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const _=u(e,["responseLogprobs"]);_!=null&&c(a,["responseLogprobs"],_);const S=u(e,["logprobs"]);S!=null&&c(a,["logprobs"],S);const N=u(e,["presencePenalty"]);N!=null&&c(a,["presencePenalty"],N);const U=u(e,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const G=u(e,["seed"]);G!=null&&c(a,["seed"],G);const z=u(e,["responseMimeType"]);z!=null&&c(a,["responseMimeType"],z);const W=u(e,["responseSchema"]);if(W!=null&&c(a,["responseSchema"],UE(o,Ir(o,W))),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=u(e,["safetySettings"]);if(n!==void 0&&j!=null){let _e=j;Array.isArray(_e)&&(_e=_e.map(Je=>LE(o,Je))),c(n,["safetySettings"],_e)}const J=u(e,["tools"]);if(n!==void 0&&J!=null){let _e=jl(o,J);Array.isArray(_e)&&(_e=_e.map(Je=>zE(o,Wl(o,Je)))),c(n,["tools"],_e)}const le=u(e,["toolConfig"]);if(n!==void 0&&le!=null&&c(n,["toolConfig"],YE(o,le)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=u(e,["cachedContent"]);n!==void 0&&Y!=null&&c(n,["cachedContent"],Ri(o,Y));const re=u(e,["responseModalities"]);re!=null&&c(a,["responseModalities"],re);const he=u(e,["mediaResolution"]);he!=null&&c(a,["mediaResolution"],he);const we=u(e,["speechConfig"]);if(we!=null&&c(a,["speechConfig"],JE(o,ug(o,we))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=u(e,["thinkingConfig"]);return ie!=null&&c(a,["thinkingConfig"],XE(o,ie)),a}function Ph(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["contents"]);if(r!=null){let m=Tn(o,r);Array.isArray(m)&&(m=m.map(g=>Or(o,g))),c(n,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(n,["generationConfig"],QE(o,f,n)),n}function WE(o,e,n){const a={},r=u(e,["taskType"]);n!==void 0&&r!=null&&c(n,["requests[]","taskType"],r);const f=u(e,["title"]);n!==void 0&&f!=null&&c(n,["requests[]","title"],f);const m=u(e,["outputDimensionality"]);if(n!==void 0&&m!=null&&c(n,["requests[]","outputDimensionality"],m),u(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function jE(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["contents"]);r!=null&&c(n,["requests[]","content"],sg(o,r));const f=u(e,["config"]);f!=null&&c(n,["config"],WE(o,f,n));const m=u(e,["model"]);return m!==void 0&&c(n,["requests[]","model"],We(o,m)),n}function e0(o,e,n){const a={};if(u(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(e,["numberOfImages"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const f=u(e,["aspectRatio"]);n!==void 0&&f!=null&&c(n,["parameters","aspectRatio"],f);const m=u(e,["guidanceScale"]);if(n!==void 0&&m!=null&&c(n,["parameters","guidanceScale"],m),u(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(e,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const y=u(e,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const h=u(e,["includeSafetyAttributes"]);n!==void 0&&h!=null&&c(n,["parameters","includeSafetyAttributes"],h);const v=u(e,["includeRaiReason"]);n!==void 0&&v!=null&&c(n,["parameters","includeRaiReason"],v);const _=u(e,["language"]);n!==void 0&&_!=null&&c(n,["parameters","language"],_);const S=u(e,["outputMimeType"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","mimeType"],S);const N=u(e,["outputCompressionQuality"]);if(n!==void 0&&N!=null&&c(n,["parameters","outputOptions","compressionQuality"],N),u(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function t0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const f=u(e,["config"]);return f!=null&&c(n,["config"],e0(o,f,n)),n}function n0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","name"],We(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function i0(o,e,n){const a={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(e,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const m=u(e,["filter"]);n!==void 0&&m!=null&&c(n,["_query","filter"],m);const g=u(e,["queryBase"]);return n!==void 0&&g!=null&&c(n,["_url","models_url"],dg(o,g)),a}function a0(o,e){const n={},a=u(e,["config"]);return a!=null&&c(n,["config"],i0(o,a,n)),n}function l0(o,e,n){const a={},r=u(e,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(e,["description"]);n!==void 0&&f!=null&&c(n,["description"],f);const m=u(e,["defaultCheckpointId"]);return n!==void 0&&m!=null&&c(n,["defaultCheckpointId"],m),a}function o0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","name"],We(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],l0(o,r,n)),n}function r0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","name"],We(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function s0(o,e){const n={};if(u(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function u0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["contents"]);if(r!=null){let m=Tn(o,r);Array.isArray(m)&&(m=m.map(g=>Or(o,g))),c(n,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(n,["config"],s0(o,f)),n}function c0(o,e){const n={};if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(e,["imageBytes"]);a!=null&&c(n,["bytesBase64Encoded"],jn(o,a));const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function f0(o,e,n){const a={},r=u(e,["numberOfVideos"]);if(n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r),u(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const f=u(e,["durationSeconds"]);if(n!==void 0&&f!=null&&c(n,["parameters","durationSeconds"],f),u(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(e,["aspectRatio"]);if(n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m),u(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=u(e,["personGeneration"]);if(n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g),u(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(e,["negativePrompt"]);n!==void 0&&y!=null&&c(n,["parameters","negativePrompt"],y);const h=u(e,["enhancePrompt"]);if(n!==void 0&&h!=null&&c(n,["parameters","enhancePrompt"],h),u(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return a}function d0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const f=u(e,["image"]);if(f!=null&&c(n,["instances[0]","image"],c0(o,f)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=u(e,["config"]);return m!=null&&c(n,["config"],f0(o,m,n)),n}function m0(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function p0(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["data"]);r!=null&&c(n,["data"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function h0(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["fileUri"]);r!=null&&c(n,["fileUri"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function g0(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],m0(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],p0(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],h0(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function Ja(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>g0(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function y0(o,e){const n={},a=u(e,["anyOf"]);a!=null&&c(n,["anyOf"],a);const r=u(e,["default"]);r!=null&&c(n,["default"],r);const f=u(e,["description"]);f!=null&&c(n,["description"],f);const m=u(e,["enum"]);m!=null&&c(n,["enum"],m);const g=u(e,["example"]);g!=null&&c(n,["example"],g);const y=u(e,["format"]);y!=null&&c(n,["format"],y);const h=u(e,["items"]);h!=null&&c(n,["items"],h);const v=u(e,["maxItems"]);v!=null&&c(n,["maxItems"],v);const _=u(e,["maxLength"]);_!=null&&c(n,["maxLength"],_);const S=u(e,["maxProperties"]);S!=null&&c(n,["maxProperties"],S);const N=u(e,["maximum"]);N!=null&&c(n,["maximum"],N);const U=u(e,["minItems"]);U!=null&&c(n,["minItems"],U);const G=u(e,["minLength"]);G!=null&&c(n,["minLength"],G);const z=u(e,["minProperties"]);z!=null&&c(n,["minProperties"],z);const W=u(e,["minimum"]);W!=null&&c(n,["minimum"],W);const j=u(e,["nullable"]);j!=null&&c(n,["nullable"],j);const J=u(e,["pattern"]);J!=null&&c(n,["pattern"],J);const le=u(e,["properties"]);le!=null&&c(n,["properties"],le);const Y=u(e,["propertyOrdering"]);Y!=null&&c(n,["propertyOrdering"],Y);const re=u(e,["required"]);re!=null&&c(n,["required"],re);const he=u(e,["title"]);he!=null&&c(n,["title"],he);const we=u(e,["type"]);return we!=null&&c(n,["type"],we),n}function v0(o,e){const n={},a=u(e,["featureSelectionPreference"]);return a!=null&&c(n,["featureSelectionPreference"],a),n}function T0(o,e){const n={},a=u(e,["method"]);a!=null&&c(n,["method"],a);const r=u(e,["category"]);r!=null&&c(n,["category"],r);const f=u(e,["threshold"]);return f!=null&&c(n,["threshold"],f),n}function C0(o,e){const n={};if(u(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=u(e,["description"]);a!=null&&c(n,["description"],a);const r=u(e,["name"]);r!=null&&c(n,["name"],r);const f=u(e,["parameters"]);f!=null&&c(n,["parameters"],f);const m=u(e,["response"]);return m!=null&&c(n,["response"],m),n}function _0(o,e){const n={},a=u(e,["startTime"]);a!=null&&c(n,["startTime"],a);const r=u(e,["endTime"]);return r!=null&&c(n,["endTime"],r),n}function S0(o,e){const n={},a=u(e,["timeRangeFilter"]);return a!=null&&c(n,["timeRangeFilter"],_0(o,a)),n}function E0(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["dynamicThreshold"]);return r!=null&&c(n,["dynamicThreshold"],r),n}function A0(o,e){const n={},a=u(e,["dynamicRetrievalConfig"]);return a!=null&&c(n,["dynamicRetrievalConfig"],E0(o,a)),n}function x0(){return{}}function M0(o,e){const n={},a=u(e,["apiKeyString"]);return a!=null&&c(n,["apiKeyString"],a),n}function N0(o,e){const n={},a=u(e,["apiKeyConfig"]);a!=null&&c(n,["apiKeyConfig"],M0(o,a));const r=u(e,["authType"]);r!=null&&c(n,["authType"],r);const f=u(e,["googleServiceAccountConfig"]);f!=null&&c(n,["googleServiceAccountConfig"],f);const m=u(e,["httpBasicAuthConfig"]);m!=null&&c(n,["httpBasicAuthConfig"],m);const g=u(e,["oauthConfig"]);g!=null&&c(n,["oauthConfig"],g);const y=u(e,["oidcConfig"]);return y!=null&&c(n,["oidcConfig"],y),n}function R0(o,e){const n={},a=u(e,["authConfig"]);return a!=null&&c(n,["authConfig"],N0(o,a)),n}function D0(){return{}}function _g(o,e){const n={},a=u(e,["functionDeclarations"]);if(a!=null){let _=a;Array.isArray(_)&&(_=_.map(S=>C0(o,S))),c(n,["functionDeclarations"],_)}const r=u(e,["retrieval"]);r!=null&&c(n,["retrieval"],r);const f=u(e,["googleSearch"]);f!=null&&c(n,["googleSearch"],S0(o,f));const m=u(e,["googleSearchRetrieval"]);m!=null&&c(n,["googleSearchRetrieval"],A0(o,m)),u(e,["enterpriseWebSearch"])!=null&&c(n,["enterpriseWebSearch"],x0());const y=u(e,["googleMaps"]);y!=null&&c(n,["googleMaps"],R0(o,y)),u(e,["urlContext"])!=null&&c(n,["urlContext"],D0());const v=u(e,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}function b0(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["allowedFunctionNames"]);return r!=null&&c(n,["allowedFunctionNames"],r),n}function I0(o,e){const n={},a=u(e,["latitude"]);a!=null&&c(n,["latitude"],a);const r=u(e,["longitude"]);return r!=null&&c(n,["longitude"],r),n}function w0(o,e){const n={},a=u(e,["latLng"]);a!=null&&c(n,["latLng"],I0(o,a));const r=u(e,["languageCode"]);return r!=null&&c(n,["languageCode"],r),n}function U0(o,e){const n={},a=u(e,["functionCallingConfig"]);a!=null&&c(n,["functionCallingConfig"],b0(o,a));const r=u(e,["retrievalConfig"]);return r!=null&&c(n,["retrievalConfig"],w0(o,r)),n}function L0(o,e){const n={},a=u(e,["voiceName"]);return a!=null&&c(n,["voiceName"],a),n}function O0(o,e){const n={},a=u(e,["prebuiltVoiceConfig"]);return a!=null&&c(n,["prebuiltVoiceConfig"],L0(o,a)),n}function V0(o,e){const n={},a=u(e,["voiceConfig"]);if(a!=null&&c(n,["voiceConfig"],O0(o,a)),u(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=u(e,["languageCode"]);return r!=null&&c(n,["languageCode"],r),n}function G0(o,e){const n={},a=u(e,["includeThoughts"]);a!=null&&c(n,["includeThoughts"],a);const r=u(e,["thinkingBudget"]);return r!=null&&c(n,["thinkingBudget"],r),n}function k0(o,e,n){const a={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Ja(o,Lt(o,r)));const f=u(e,["temperature"]);f!=null&&c(a,["temperature"],f);const m=u(e,["topP"]);m!=null&&c(a,["topP"],m);const g=u(e,["topK"]);g!=null&&c(a,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(e,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(e,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const _=u(e,["responseLogprobs"]);_!=null&&c(a,["responseLogprobs"],_);const S=u(e,["logprobs"]);S!=null&&c(a,["logprobs"],S);const N=u(e,["presencePenalty"]);N!=null&&c(a,["presencePenalty"],N);const U=u(e,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const G=u(e,["seed"]);G!=null&&c(a,["seed"],G);const z=u(e,["responseMimeType"]);z!=null&&c(a,["responseMimeType"],z);const W=u(e,["responseSchema"]);W!=null&&c(a,["responseSchema"],y0(o,Ir(o,W)));const j=u(e,["routingConfig"]);j!=null&&c(a,["routingConfig"],j);const J=u(e,["modelSelectionConfig"]);J!=null&&c(a,["modelConfig"],v0(o,J));const le=u(e,["safetySettings"]);if(n!==void 0&&le!=null){let ct=le;Array.isArray(ct)&&(ct=ct.map(et=>T0(o,et))),c(n,["safetySettings"],ct)}const Y=u(e,["tools"]);if(n!==void 0&&Y!=null){let ct=jl(o,Y);Array.isArray(ct)&&(ct=ct.map(et=>_g(o,Wl(o,et)))),c(n,["tools"],ct)}const re=u(e,["toolConfig"]);n!==void 0&&re!=null&&c(n,["toolConfig"],U0(o,re));const he=u(e,["labels"]);n!==void 0&&he!=null&&c(n,["labels"],he);const we=u(e,["cachedContent"]);n!==void 0&&we!=null&&c(n,["cachedContent"],Ri(o,we));const ie=u(e,["responseModalities"]);ie!=null&&c(a,["responseModalities"],ie);const _e=u(e,["mediaResolution"]);_e!=null&&c(a,["mediaResolution"],_e);const Je=u(e,["speechConfig"]);Je!=null&&c(a,["speechConfig"],V0(o,ug(o,Je)));const lt=u(e,["audioTimestamp"]);lt!=null&&c(a,["audioTimestamp"],lt);const Vt=u(e,["thinkingConfig"]);return Vt!=null&&c(a,["thinkingConfig"],G0(o,Vt)),a}function qh(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["contents"]);if(r!=null){let m=Tn(o,r);Array.isArray(m)&&(m=m.map(g=>Ja(o,g))),c(n,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(n,["generationConfig"],k0(o,f,n)),n}function P0(o,e,n){const a={},r=u(e,["taskType"]);n!==void 0&&r!=null&&c(n,["instances[]","task_type"],r);const f=u(e,["title"]);n!==void 0&&f!=null&&c(n,["instances[]","title"],f);const m=u(e,["outputDimensionality"]);n!==void 0&&m!=null&&c(n,["parameters","outputDimensionality"],m);const g=u(e,["mimeType"]);n!==void 0&&g!=null&&c(n,["instances[]","mimeType"],g);const y=u(e,["autoTruncate"]);return n!==void 0&&y!=null&&c(n,["parameters","autoTruncate"],y),a}function q0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["contents"]);r!=null&&c(n,["instances[]","content"],sg(o,r));const f=u(e,["config"]);return f!=null&&c(n,["config"],P0(o,f,n)),n}function z0(o,e,n){const a={},r=u(e,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(e,["negativePrompt"]);n!==void 0&&f!=null&&c(n,["parameters","negativePrompt"],f);const m=u(e,["numberOfImages"]);n!==void 0&&m!=null&&c(n,["parameters","sampleCount"],m);const g=u(e,["aspectRatio"]);n!==void 0&&g!=null&&c(n,["parameters","aspectRatio"],g);const y=u(e,["guidanceScale"]);n!==void 0&&y!=null&&c(n,["parameters","guidanceScale"],y);const h=u(e,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const v=u(e,["safetyFilterLevel"]);n!==void 0&&v!=null&&c(n,["parameters","safetySetting"],v);const _=u(e,["personGeneration"]);n!==void 0&&_!=null&&c(n,["parameters","personGeneration"],_);const S=u(e,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const N=u(e,["includeRaiReason"]);n!==void 0&&N!=null&&c(n,["parameters","includeRaiReason"],N);const U=u(e,["language"]);n!==void 0&&U!=null&&c(n,["parameters","language"],U);const G=u(e,["outputMimeType"]);n!==void 0&&G!=null&&c(n,["parameters","outputOptions","mimeType"],G);const z=u(e,["outputCompressionQuality"]);n!==void 0&&z!=null&&c(n,["parameters","outputOptions","compressionQuality"],z);const W=u(e,["addWatermark"]);n!==void 0&&W!=null&&c(n,["parameters","addWatermark"],W);const j=u(e,["enhancePrompt"]);return n!==void 0&&j!=null&&c(n,["parameters","enhancePrompt"],j),a}function B0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const f=u(e,["config"]);return f!=null&&c(n,["config"],z0(o,f,n)),n}function Vr(o,e){const n={},a=u(e,["gcsUri"]);a!=null&&c(n,["gcsUri"],a);const r=u(e,["imageBytes"]);r!=null&&c(n,["bytesBase64Encoded"],jn(o,r));const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function H0(o,e){const n={},a=u(e,["maskMode"]);a!=null&&c(n,["maskMode"],a);const r=u(e,["segmentationClasses"]);r!=null&&c(n,["maskClasses"],r);const f=u(e,["maskDilation"]);return f!=null&&c(n,["dilation"],f),n}function F0(o,e){const n={},a=u(e,["controlType"]);a!=null&&c(n,["controlType"],a);const r=u(e,["enableControlImageComputation"]);return r!=null&&c(n,["computeControl"],r),n}function Y0(o,e){const n={},a=u(e,["styleDescription"]);return a!=null&&c(n,["styleDescription"],a),n}function $0(o,e){const n={},a=u(e,["subjectType"]);a!=null&&c(n,["subjectType"],a);const r=u(e,["subjectDescription"]);return r!=null&&c(n,["subjectDescription"],r),n}function Z0(o,e){const n={},a=u(e,["referenceImage"]);a!=null&&c(n,["referenceImage"],Vr(o,a));const r=u(e,["referenceId"]);r!=null&&c(n,["referenceId"],r);const f=u(e,["referenceType"]);f!=null&&c(n,["referenceType"],f);const m=u(e,["maskImageConfig"]);m!=null&&c(n,["maskImageConfig"],H0(o,m));const g=u(e,["controlImageConfig"]);g!=null&&c(n,["controlImageConfig"],F0(o,g));const y=u(e,["styleImageConfig"]);y!=null&&c(n,["styleImageConfig"],Y0(o,y));const h=u(e,["subjectImageConfig"]);return h!=null&&c(n,["subjectImageConfig"],$0(o,h)),n}function K0(o,e,n){const a={},r=u(e,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(e,["negativePrompt"]);n!==void 0&&f!=null&&c(n,["parameters","negativePrompt"],f);const m=u(e,["numberOfImages"]);n!==void 0&&m!=null&&c(n,["parameters","sampleCount"],m);const g=u(e,["aspectRatio"]);n!==void 0&&g!=null&&c(n,["parameters","aspectRatio"],g);const y=u(e,["guidanceScale"]);n!==void 0&&y!=null&&c(n,["parameters","guidanceScale"],y);const h=u(e,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const v=u(e,["safetyFilterLevel"]);n!==void 0&&v!=null&&c(n,["parameters","safetySetting"],v);const _=u(e,["personGeneration"]);n!==void 0&&_!=null&&c(n,["parameters","personGeneration"],_);const S=u(e,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const N=u(e,["includeRaiReason"]);n!==void 0&&N!=null&&c(n,["parameters","includeRaiReason"],N);const U=u(e,["language"]);n!==void 0&&U!=null&&c(n,["parameters","language"],U);const G=u(e,["outputMimeType"]);n!==void 0&&G!=null&&c(n,["parameters","outputOptions","mimeType"],G);const z=u(e,["outputCompressionQuality"]);n!==void 0&&z!=null&&c(n,["parameters","outputOptions","compressionQuality"],z);const W=u(e,["editMode"]);n!==void 0&&W!=null&&c(n,["parameters","editMode"],W);const j=u(e,["baseSteps"]);return n!==void 0&&j!=null&&c(n,["parameters","editConfig","baseSteps"],j),a}function J0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const f=u(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>Z0(o,y))),c(n,["instances[0]","referenceImages"],g)}const m=u(e,["config"]);return m!=null&&c(n,["config"],K0(o,m,n)),n}function X0(o,e,n){const a={},r=u(e,["includeRaiReason"]);n!==void 0&&r!=null&&c(n,["parameters","includeRaiReason"],r);const f=u(e,["outputMimeType"]);n!==void 0&&f!=null&&c(n,["parameters","outputOptions","mimeType"],f);const m=u(e,["outputCompressionQuality"]);n!==void 0&&m!=null&&c(n,["parameters","outputOptions","compressionQuality"],m);const g=u(e,["numberOfImages"]);n!==void 0&&g!=null&&c(n,["parameters","sampleCount"],g);const y=u(e,["mode"]);return n!==void 0&&y!=null&&c(n,["parameters","mode"],y),a}function Q0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["image"]);r!=null&&c(n,["instances[0]","image"],Vr(o,r));const f=u(e,["upscaleFactor"]);f!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],f);const m=u(e,["config"]);return m!=null&&c(n,["config"],X0(o,m,n)),n}function W0(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","name"],We(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function j0(o,e,n){const a={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(e,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const m=u(e,["filter"]);n!==void 0&&m!=null&&c(n,["_query","filter"],m);const g=u(e,["queryBase"]);return n!==void 0&&g!=null&&c(n,["_url","models_url"],dg(o,g)),a}function eA(o,e){const n={},a=u(e,["config"]);return a!=null&&c(n,["config"],j0(o,a,n)),n}function tA(o,e,n){const a={},r=u(e,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(e,["description"]);n!==void 0&&f!=null&&c(n,["description"],f);const m=u(e,["defaultCheckpointId"]);return n!==void 0&&m!=null&&c(n,["defaultCheckpointId"],m),a}function nA(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],tA(o,r,n)),n}function iA(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","name"],We(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function aA(o,e,n){const a={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Ja(o,Lt(o,r)));const f=u(e,["tools"]);if(n!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>_g(o,y))),c(n,["tools"],g)}const m=u(e,["generationConfig"]);return n!==void 0&&m!=null&&c(n,["generationConfig"],m),a}function lA(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["contents"]);if(r!=null){let m=Tn(o,r);Array.isArray(m)&&(m=m.map(g=>Ja(o,g))),c(n,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(n,["config"],aA(o,f,n)),n}function oA(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["contents"]);if(r!=null){let m=Tn(o,r);Array.isArray(m)&&(m=m.map(g=>Ja(o,g))),c(n,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(n,["config"],f),n}function rA(o,e){const n={},a=u(e,["uri"]);a!=null&&c(n,["gcsUri"],a);const r=u(e,["videoBytes"]);r!=null&&c(n,["bytesBase64Encoded"],jn(o,r));const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function sA(o,e,n){const a={},r=u(e,["numberOfVideos"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const f=u(e,["outputGcsUri"]);n!==void 0&&f!=null&&c(n,["parameters","storageUri"],f);const m=u(e,["fps"]);n!==void 0&&m!=null&&c(n,["parameters","fps"],m);const g=u(e,["durationSeconds"]);n!==void 0&&g!=null&&c(n,["parameters","durationSeconds"],g);const y=u(e,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(e,["aspectRatio"]);n!==void 0&&h!=null&&c(n,["parameters","aspectRatio"],h);const v=u(e,["resolution"]);n!==void 0&&v!=null&&c(n,["parameters","resolution"],v);const _=u(e,["personGeneration"]);n!==void 0&&_!=null&&c(n,["parameters","personGeneration"],_);const S=u(e,["pubsubTopic"]);n!==void 0&&S!=null&&c(n,["parameters","pubsubTopic"],S);const N=u(e,["negativePrompt"]);n!==void 0&&N!=null&&c(n,["parameters","negativePrompt"],N);const U=u(e,["enhancePrompt"]);n!==void 0&&U!=null&&c(n,["parameters","enhancePrompt"],U);const G=u(e,["generateAudio"]);n!==void 0&&G!=null&&c(n,["parameters","generateAudio"],G);const z=u(e,["lastFrame"]);return n!==void 0&&z!=null&&c(n,["instances[0]","lastFrame"],Vr(o,z)),a}function uA(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["_url","model"],We(o,a));const r=u(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const f=u(e,["image"]);f!=null&&c(n,["instances[0]","image"],Vr(o,f));const m=u(e,["video"]);m!=null&&c(n,["instances[0]","video"],rA(o,m));const g=u(e,["config"]);return g!=null&&c(n,["config"],sA(o,g,n)),n}function cA(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function fA(o,e){const n={},a=u(e,["data"]);a!=null&&c(n,["data"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function dA(o,e){const n={},a=u(e,["fileUri"]);a!=null&&c(n,["fileUri"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function mA(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],cA(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],fA(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],dA(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function pA(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>mA(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function hA(o,e){const n={},a=u(e,["citationSources"]);return a!=null&&c(n,["citations"],a),n}function gA(o,e){const n={},a=u(e,["retrievedUrl"]);a!=null&&c(n,["retrievedUrl"],a);const r=u(e,["urlRetrievalStatus"]);return r!=null&&c(n,["urlRetrievalStatus"],r),n}function yA(o,e){const n={},a=u(e,["urlMetadata"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>gA(o,f))),c(n,["urlMetadata"],r)}return n}function vA(o,e){const n={},a=u(e,["content"]);a!=null&&c(n,["content"],pA(o,a));const r=u(e,["citationMetadata"]);r!=null&&c(n,["citationMetadata"],hA(o,r));const f=u(e,["tokenCount"]);f!=null&&c(n,["tokenCount"],f);const m=u(e,["finishReason"]);m!=null&&c(n,["finishReason"],m);const g=u(e,["urlContextMetadata"]);g!=null&&c(n,["urlContextMetadata"],yA(o,g));const y=u(e,["avgLogprobs"]);y!=null&&c(n,["avgLogprobs"],y);const h=u(e,["groundingMetadata"]);h!=null&&c(n,["groundingMetadata"],h);const v=u(e,["index"]);v!=null&&c(n,["index"],v);const _=u(e,["logprobsResult"]);_!=null&&c(n,["logprobsResult"],_);const S=u(e,["safetyRatings"]);return S!=null&&c(n,["safetyRatings"],S),n}function zh(o,e){const n={},a=u(e,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(y=>vA(o,y))),c(n,["candidates"],g)}const r=u(e,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const f=u(e,["promptFeedback"]);f!=null&&c(n,["promptFeedback"],f);const m=u(e,["usageMetadata"]);return m!=null&&c(n,["usageMetadata"],m),n}function TA(o,e){const n={},a=u(e,["values"]);return a!=null&&c(n,["values"],a),n}function CA(){return{}}function _A(o,e){const n={},a=u(e,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>TA(o,m))),c(n,["embeddings"],f)}return u(e,["metadata"])!=null&&c(n,["metadata"],CA()),n}function SA(o,e){const n={},a=u(e,["bytesBase64Encoded"]);a!=null&&c(n,["imageBytes"],jn(o,a));const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function Sg(o,e){const n={},a=u(e,["safetyAttributes","categories"]);a!=null&&c(n,["categories"],a);const r=u(e,["safetyAttributes","scores"]);r!=null&&c(n,["scores"],r);const f=u(e,["contentType"]);return f!=null&&c(n,["contentType"],f),n}function EA(o,e){const n={},a=u(e,["_self"]);a!=null&&c(n,["image"],SA(o,a));const r=u(e,["raiFilteredReason"]);r!=null&&c(n,["raiFilteredReason"],r);const f=u(e,["_self"]);return f!=null&&c(n,["safetyAttributes"],Sg(o,f)),n}function AA(o,e){const n={},a=u(e,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>EA(o,m))),c(n,["generatedImages"],f)}const r=u(e,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],Sg(o,r)),n}function xA(o,e){const n={},a=u(e,["baseModel"]);a!=null&&c(n,["baseModel"],a);const r=u(e,["createTime"]);r!=null&&c(n,["createTime"],r);const f=u(e,["updateTime"]);return f!=null&&c(n,["updateTime"],f),n}function vc(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["displayName"]);r!=null&&c(n,["displayName"],r);const f=u(e,["description"]);f!=null&&c(n,["description"],f);const m=u(e,["version"]);m!=null&&c(n,["version"],m);const g=u(e,["_self"]);g!=null&&c(n,["tunedModelInfo"],xA(o,g));const y=u(e,["inputTokenLimit"]);y!=null&&c(n,["inputTokenLimit"],y);const h=u(e,["outputTokenLimit"]);h!=null&&c(n,["outputTokenLimit"],h);const v=u(e,["supportedGenerationMethods"]);return v!=null&&c(n,["supportedActions"],v),n}function MA(o,e){const n={},a=u(e,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(e,["_self"]);if(r!=null){let f=mg(o,r);Array.isArray(f)&&(f=f.map(m=>vc(o,m))),c(n,["models"],f)}return n}function NA(){return{}}function RA(o,e){const n={},a=u(e,["totalTokens"]);a!=null&&c(n,["totalTokens"],a);const r=u(e,["cachedContentTokenCount"]);return r!=null&&c(n,["cachedContentTokenCount"],r),n}function DA(o,e){const n={},a=u(e,["video","uri"]);a!=null&&c(n,["uri"],a);const r=u(e,["video","encodedVideo"]);r!=null&&c(n,["videoBytes"],jn(o,r));const f=u(e,["encoding"]);return f!=null&&c(n,["mimeType"],f),n}function bA(o,e){const n={},a=u(e,["_self"]);return a!=null&&c(n,["video"],DA(o,a)),n}function IA(o,e){const n={},a=u(e,["generatedSamples"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(g=>bA(o,g))),c(n,["generatedVideos"],m)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&c(n,["raiMediaFilteredCount"],r);const f=u(e,["raiMediaFilteredReasons"]);return f!=null&&c(n,["raiMediaFilteredReasons"],f),n}function wA(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["metadata"]);r!=null&&c(n,["metadata"],r);const f=u(e,["done"]);f!=null&&c(n,["done"],f);const m=u(e,["error"]);m!=null&&c(n,["error"],m);const g=u(e,["response","generateVideoResponse"]);return g!=null&&c(n,["response"],IA(o,g)),n}function UA(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function LA(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["data"]);r!=null&&c(n,["data"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function OA(o,e){const n={},a=u(e,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(e,["fileUri"]);r!=null&&c(n,["fileUri"],r);const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function VA(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],UA(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],LA(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],OA(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function GA(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>VA(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function kA(o,e){const n={},a=u(e,["citations"]);return a!=null&&c(n,["citations"],a),n}function PA(o,e){const n={},a=u(e,["retrievedUrl"]);a!=null&&c(n,["retrievedUrl"],a);const r=u(e,["urlRetrievalStatus"]);return r!=null&&c(n,["urlRetrievalStatus"],r),n}function qA(o,e){const n={},a=u(e,["urlMetadata"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>PA(o,f))),c(n,["urlMetadata"],r)}return n}function zA(o,e){const n={},a=u(e,["content"]);a!=null&&c(n,["content"],GA(o,a));const r=u(e,["citationMetadata"]);r!=null&&c(n,["citationMetadata"],kA(o,r));const f=u(e,["finishMessage"]);f!=null&&c(n,["finishMessage"],f);const m=u(e,["finishReason"]);m!=null&&c(n,["finishReason"],m);const g=u(e,["urlContextMetadata"]);g!=null&&c(n,["urlContextMetadata"],qA(o,g));const y=u(e,["avgLogprobs"]);y!=null&&c(n,["avgLogprobs"],y);const h=u(e,["groundingMetadata"]);h!=null&&c(n,["groundingMetadata"],h);const v=u(e,["index"]);v!=null&&c(n,["index"],v);const _=u(e,["logprobsResult"]);_!=null&&c(n,["logprobsResult"],_);const S=u(e,["safetyRatings"]);return S!=null&&c(n,["safetyRatings"],S),n}function Bh(o,e){const n={},a=u(e,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>zA(o,v))),c(n,["candidates"],h)}const r=u(e,["createTime"]);r!=null&&c(n,["createTime"],r);const f=u(e,["responseId"]);f!=null&&c(n,["responseId"],f);const m=u(e,["modelVersion"]);m!=null&&c(n,["modelVersion"],m);const g=u(e,["promptFeedback"]);g!=null&&c(n,["promptFeedback"],g);const y=u(e,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function BA(o,e){const n={},a=u(e,["truncated"]);a!=null&&c(n,["truncated"],a);const r=u(e,["token_count"]);return r!=null&&c(n,["tokenCount"],r),n}function HA(o,e){const n={},a=u(e,["values"]);a!=null&&c(n,["values"],a);const r=u(e,["statistics"]);return r!=null&&c(n,["statistics"],BA(o,r)),n}function FA(o,e){const n={},a=u(e,["billableCharacterCount"]);return a!=null&&c(n,["billableCharacterCount"],a),n}function YA(o,e){const n={},a=u(e,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>HA(o,m))),c(n,["embeddings"],f)}const r=u(e,["metadata"]);return r!=null&&c(n,["metadata"],FA(o,r)),n}function $A(o,e){const n={},a=u(e,["gcsUri"]);a!=null&&c(n,["gcsUri"],a);const r=u(e,["bytesBase64Encoded"]);r!=null&&c(n,["imageBytes"],jn(o,r));const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function Eg(o,e){const n={},a=u(e,["safetyAttributes","categories"]);a!=null&&c(n,["categories"],a);const r=u(e,["safetyAttributes","scores"]);r!=null&&c(n,["scores"],r);const f=u(e,["contentType"]);return f!=null&&c(n,["contentType"],f),n}function Nc(o,e){const n={},a=u(e,["_self"]);a!=null&&c(n,["image"],$A(o,a));const r=u(e,["raiFilteredReason"]);r!=null&&c(n,["raiFilteredReason"],r);const f=u(e,["_self"]);f!=null&&c(n,["safetyAttributes"],Eg(o,f));const m=u(e,["prompt"]);return m!=null&&c(n,["enhancedPrompt"],m),n}function ZA(o,e){const n={},a=u(e,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>Nc(o,m))),c(n,["generatedImages"],f)}const r=u(e,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],Eg(o,r)),n}function KA(o,e){const n={},a=u(e,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Nc(o,f))),c(n,["generatedImages"],r)}return n}function JA(o,e){const n={},a=u(e,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Nc(o,f))),c(n,["generatedImages"],r)}return n}function XA(o,e){const n={},a=u(e,["endpoint"]);a!=null&&c(n,["name"],a);const r=u(e,["deployedModelId"]);return r!=null&&c(n,["deployedModelId"],r),n}function QA(o,e){const n={},a=u(e,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&c(n,["baseModel"],a);const r=u(e,["createTime"]);r!=null&&c(n,["createTime"],r);const f=u(e,["updateTime"]);return f!=null&&c(n,["updateTime"],f),n}function WA(o,e){const n={},a=u(e,["checkpointId"]);a!=null&&c(n,["checkpointId"],a);const r=u(e,["epoch"]);r!=null&&c(n,["epoch"],r);const f=u(e,["step"]);return f!=null&&c(n,["step"],f),n}function Tc(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["displayName"]);r!=null&&c(n,["displayName"],r);const f=u(e,["description"]);f!=null&&c(n,["description"],f);const m=u(e,["versionId"]);m!=null&&c(n,["version"],m);const g=u(e,["deployedModels"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(N=>XA(o,N))),c(n,["endpoints"],S)}const y=u(e,["labels"]);y!=null&&c(n,["labels"],y);const h=u(e,["_self"]);h!=null&&c(n,["tunedModelInfo"],QA(o,h));const v=u(e,["defaultCheckpointId"]);v!=null&&c(n,["defaultCheckpointId"],v);const _=u(e,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(N=>WA(o,N))),c(n,["checkpoints"],S)}return n}function jA(o,e){const n={},a=u(e,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(e,["_self"]);if(r!=null){let f=mg(o,r);Array.isArray(f)&&(f=f.map(m=>Tc(o,m))),c(n,["models"],f)}return n}function ex(){return{}}function tx(o,e){const n={},a=u(e,["totalTokens"]);return a!=null&&c(n,["totalTokens"],a),n}function nx(o,e){const n={},a=u(e,["tokensInfo"]);return a!=null&&c(n,["tokensInfo"],a),n}function ix(o,e){const n={},a=u(e,["gcsUri"]);a!=null&&c(n,["uri"],a);const r=u(e,["bytesBase64Encoded"]);r!=null&&c(n,["videoBytes"],jn(o,r));const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function ax(o,e){const n={},a=u(e,["_self"]);return a!=null&&c(n,["video"],ix(o,a)),n}function lx(o,e){const n={},a=u(e,["videos"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(g=>ax(o,g))),c(n,["generatedVideos"],m)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&c(n,["raiMediaFilteredCount"],r);const f=u(e,["raiMediaFilteredReasons"]);return f!=null&&c(n,["raiMediaFilteredReasons"],f),n}function ox(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["metadata"]);r!=null&&c(n,["metadata"],r);const f=u(e,["done"]);f!=null&&c(n,["done"],f);const m=u(e,["error"]);m!=null&&c(n,["error"],m);const g=u(e,["response"]);return g!=null&&c(n,["response"],lx(o,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rx="Content-Type",sx="X-Server-Timeout",ux="User-Agent",Cc="x-goog-api-client",cx="1.5.1",fx=`google-genai-sdk/${cx}`,dx="v1beta1",mx="v1beta",Hh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ag extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class _c extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class px{constructor(e){var n,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:dx,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:mx,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,a){const r=[this.getRequestUrlInternal(n)];return a&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,a);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))r.searchParams.append(m,String(g));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,n,e.abortSignal),this.unaryApiCall(r,f,e.httpMethod)}patchHttpOptions(e,n){const a=JSON.parse(JSON.stringify(e));for(const[r,f]of Object.entries(n))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,n,e.abortSignal),this.streamApiCall(r,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,a){if(n&&n.timeout||a){const r=new AbortController,f=r.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>r.abort(),n.timeout),a&&a.addEventListener("abort",()=>{r.abort()}),e.signal=f}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:a})).then(async r=>(await Fh(r),new pc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:a})).then(async r=>(await Fh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return qa(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield je(r.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=f.decode(y);try{const _=JSON.parse(h);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),N=S.status,U=S.code,G=`got status: ${N}. ${JSON.stringify(_)}`;if(U>=400&&U<500)throw new Ag(G);if(U>=500&&U<600)throw new _c(G)}}catch(_){const S=_;if(S.name==="ClientError"||S.name==="ServerError")throw _}m+=h;let v=m.match(Hh);for(;v;){const _=v[1];try{const S=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield je(new pc(S)),m=m.slice(v[0].length),v=m.match(Hh)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},n=fx+" "+this.clientOptions.userAgentExtra;return e[ux]=n,e[Cc]=n,e[rx]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[a,r]of Object.entries(e.headers))n.append(a,r);e.timeout&&e.timeout>0&&n.append(sx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var a;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);r.sizeBytes=String(m.size);const g=(a=n==null?void 0:n.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y=await this.fetchUploadUrl(r,n);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var a;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:fe("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:r});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(a=m==null?void 0:m.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Fh(o){var e;if(o===void 0)throw new _c("response is undefined");if(!o.ok){const n=o.status,a=o.statusText;let r;!((e=o.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await o.json():r={error:{message:await o.text(),code:o.status,status:o.statusText}};const f=`got status: ${n} ${a}. ${JSON.stringify(r)}`;throw n>=400&&n<500?new Ag(f):n>=500&&n<600?new _c(f):new Error(f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hx="mcp_used/unknown";function xg(o){for(const e of o)if(Rc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Mg(o){var e;const n=(e=o[Cc])!==null&&e!==void 0?e:"";o[Cc]=(n+` ${hx}`).trimStart()}function gx(o){var e,n,a;return(a=(n=(e=o.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Rc(r)))!==null&&a!==void 0?a:!1}function yx(o){var e,n,a;return(a=(n=(e=o.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!Rc(r)))!==null&&a!==void 0?a:!1}function Rc(o){return o!==null&&typeof o=="object"&&o instanceof Dc}function vx(o,e=100){return qa(this,arguments,function*(){let a,r=0;for(;r<e;){const f=yield je(o.listTools({cursor:a}));for(const m of f.tools)yield yield je(m),r++;if(!f.nextCursor)break;a=f.nextCursor}})}class Dc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Dc(e,n)}async initialize(){var e,n,a,r;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(n=void 0,Jl(vx(v))),h;h=await y.next(),e=h.done,!e;g=!0){r=h.value,g=!1;const _=r;m.push(_);const S=_.name;if(f[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);f[S]=v}}catch(_){n={error:_}}finally{try{!g&&!e&&(a=y.return)&&await a.call(y)}finally{if(n)throw n.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),TC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await r.callTool({name:a.name,arguments:a.args},void 0,f);n.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Tx(o,e,n){const a=new oC;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data);const f=RE(o,r);Object.assign(a,f),e(a)}class Cx{constructor(e,n,a){this.apiClient=e,this.auth=n,this.webSocketFactory=a}async connect(e){var n,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=Ex(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(J=>{h=J}),_=e.callbacks,S=function(){h({})},N=this.apiClient,U={onopen:S,onmessage:J=>{Tx(N,_.onmessage,J)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(J){},onclose:(a=_==null?void 0:_.onclose)!==null&&a!==void 0?a:function(J){}},G=this.webSocketFactory.create(y,Sx(m),U);G.connect(),await v;const z=We(this.apiClient,e.model),W=vg(this.apiClient,{model:z}),j=yc(this.apiClient,{setup:W});return G.send(JSON.stringify(j)),new _x(G,this.apiClient)}}class _x{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=BS(this.apiClient,e),a=Tg(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=HS(this.apiClient,e),a=yc(this.apiClient,n);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const n=yc(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ka.PLAY)}pause(){this.sendPlaybackControl(ka.PAUSE)}stop(){this.sendPlaybackControl(ka.STOP)}resetContext(){this.sendPlaybackControl(ka.RESET_CONTEXT)}close(){this.conn.close()}}function Sx(o){const e={};return o.forEach((n,a)=>{e[a]=n}),e}function Ex(o){const e=new Headers;for(const[n,a]of Object.entries(o))e.append(n,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ax="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xx(o,e,n){const a=new lC;let r;if(n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),o.isVertexAI()){const f=TE(o,r);Object.assign(a,f)}else{const f=vE(o,r);Object.assign(a,f)}e(a)}class Mx{constructor(e,n,a){this.apiClient=e,this.auth=n,this.webSocketFactory=a,this.music=new Cx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,a,r,f,m,g;const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const _=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&xg(e.config.tools)&&Mg(_);const S=bx(_);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const ie=this.apiClient.getApiKey();let _e="BidiGenerateContent",Je="key";ie!=null&&ie.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),_e="BidiGenerateContentConstrained",Je="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${_e}?${Je}=${ie}`}let N=()=>{};const U=new Promise(ie=>{N=ie}),G=e.callbacks,z=function(){var ie;(ie=G==null?void 0:G.onopen)===null||ie===void 0||ie.call(G),N({})},W=this.apiClient,j={onopen:z,onmessage:ie=>{xx(W,G.onmessage,ie)},onerror:(n=G==null?void 0:G.onerror)!==null&&n!==void 0?n:function(ie){},onclose:(a=G==null?void 0:G.onclose)!==null&&a!==void 0?a:function(ie){}},J=this.webSocketFactory.create(v,Dx(S),j);J.connect(),await U;let le=We(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const ie=this.apiClient.getProject(),_e=this.apiClient.getLocation();le=`projects/${ie}/locations/${_e}/`+le}let Y={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Dr.AUDIO]}:e.config.responseModalities=[Dr.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const re=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],he=[];for(const ie of re)if(this.isCallableTool(ie)){const _e=ie;he.push(await _e.tool())}else he.push(ie);he.length>0&&(e.config.tools=he);const we={model:le,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=OS(this.apiClient,we):Y=LS(this.apiClient,we),delete Y.config,J.send(JSON.stringify(Y)),new Rx(J,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Nx={turnComplete:!0};class Rx{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let a=[];try{a=Tn(e,n.turns),e.isVertexAI()?a=a.map(r=>Ja(e,r)):a=a.map(r=>Or(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:a,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let a=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?a=n.functionResponses:a=[n.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(Ax)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},Nx),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:zS(this.apiClient,e)}:n={realtimeInput:qS(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Dx(o){const e={};return o.forEach((n,a)=>{e[a]=n}),e}function bx(o){const e=new Headers;for(const[n,a]of Object.entries(o))e.append(n,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yh=10;function $h(o){var e,n,a;if(!((e=o==null?void 0:o.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const m of(n=o==null?void 0:o.tools)!==null&&n!==void 0?n:[])if(_r(m)){r=!0;break}if(!r)return!0;const f=(a=o==null?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function _r(o){return"callTool"in o&&typeof o.callTool=="function"}function Zh(o){var e;return!(!((e=o==null?void 0:o.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ix extends Ka{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var a,r,f,m,g;const y=await this.processParamsForMcpUsage(n);if(!gx(n)||$h(n.config))return await this.generateContentInternal(y);if(yx(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const _=Tn(this.apiClient,y.contents),S=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Yh;let N=0;for(;N<S&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const U=h.candidates[0].content,G=[];for(const z of(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(_r(z)){const j=await z.callTool(h.functionCalls);G.push(...j)}N++,v={role:"user",parts:G},y.contents=Tn(this.apiClient,y.contents),y.contents.push(U),y.contents.push(v),Zh(y.config)&&(_.push(U),_.push(v))}return Zh(y.config)&&(h.automaticFunctionCallingHistory=_),h},this.generateContentStream=async n=>{if($h(n.config)){const a=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(a=>{var r;let f;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f}:g={generatedImages:m},g}),this.list=async n=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Lr($a.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async n=>{const a={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(a.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async n=>{let a={numberOfImages:1,mode:"upscale"};n.config&&(a=Object.assign(Object.assign({},a),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:a};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var n,a,r;const f=(n=e.config)===null||n===void 0?void 0:n.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>_r(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&xg(e.config.tools)){const y=(r=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Mg(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var n,a,r;const f=new Map;for(const m of(a=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&a!==void 0?a:[])if(_r(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(e){var n,a,r;const f=(r=(a=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Yh;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return function(h,v,_){var S,N;return qa(this,arguments,function*(){for(var U,G,z,W;g<f;){m&&(g++,m=!1);const Y=yield je(h.processParamsForMcpUsage(_)),re=yield je(h.generateContentStreamInternal(Y)),he=[],we=[];try{for(var j=!0,J=(G=void 0,Jl(re)),le;le=yield je(J.next()),U=le.done,!U;j=!0){W=le.value,j=!1;const ie=W;if(yield yield je(ie),ie.candidates&&(!((S=ie.candidates[0])===null||S===void 0)&&S.content)){we.push(ie.candidates[0].content);for(const _e of(N=ie.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(g<f&&_e.functionCall){if(!_e.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(_e.functionCall.name)){const Je=yield je(v.get(_e.functionCall.name).callTool([_e.functionCall]));he.push(...Je)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${_e.functionCall.name}`)}}}}catch(ie){G={error:ie}}finally{try{!j&&!U&&(z=J.return)&&(yield je(z.call(J)))}finally{if(G)throw G.error}}if(he.length>0){m=!0;const ie=new $l;ie.candidates=[{content:{role:"user",parts:he}}],yield yield je(ie);const _e=[];_e.push(...we),_e.push({role:"user",parts:he});const Je=Tn(h.apiClient,_.contents).concat(_e);_.contents=Je}else break}})}(this,y,e)}async generateContentInternal(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=qh(this.apiClient,e);return g=fe("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const _=Bh(this.apiClient,v),S=new $l;return Object.assign(S,_),S})}else{const h=Ph(this.apiClient,e);return g=fe("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const _=zh(this.apiClient,v),S=new $l;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=qh(this.apiClient,e);g=fe("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(_){return qa(this,arguments,function*(){var S,N,U,G;try{for(var z=!0,W=Jl(_),j;j=yield je(W.next()),S=j.done,!S;z=!0){G=j.value,z=!1;const le=Bh(v,yield je(G.json())),Y=new $l;Object.assign(Y,le),yield yield je(Y)}}catch(J){N={error:J}}finally{try{!z&&!S&&(U=W.return)&&(yield je(U.call(W)))}finally{if(N)throw N.error}}})})}else{const h=Ph(this.apiClient,e);g=fe("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(_){return qa(this,arguments,function*(){var S,N,U,G;try{for(var z=!0,W=Jl(_),j;j=yield je(W.next()),S=j.done,!S;z=!0){G=j.value,z=!1;const le=zh(v,yield je(G.json())),Y=new $l;Object.assign(Y,le),yield yield je(Y)}}catch(J){N={error:J}}finally{try{!z&&!S&&(U=W.return)&&(yield je(U.call(W)))}finally{if(N)throw N.error}}})})}}async embedContent(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=q0(this.apiClient,e);return g=fe("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const _=YA(this.apiClient,v),S=new Th;return Object.assign(S,_),S})}else{const h=jE(this.apiClient,e);return g=fe("{model}:batchEmbedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const _=_A(this.apiClient,v),S=new Th;return Object.assign(S,_),S})}}async generateImagesInternal(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=B0(this.apiClient,e);return g=fe("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const _=ZA(this.apiClient,v),S=new Ch;return Object.assign(S,_),S})}else{const h=t0(this.apiClient,e);return g=fe("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const _=AA(this.apiClient,v),S=new Ch;return Object.assign(S,_),S})}}async editImageInternal(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=J0(this.apiClient,e);return f=fe("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=KA(this.apiClient,y),v=new jT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=Q0(this.apiClient,e);return f=fe("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=JA(this.apiClient,y),v=new eC;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=W0(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Tc(this.apiClient,v))}else{const h=n0(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>vc(this.apiClient,v))}}async listInternal(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eA(this.apiClient,e);return g=fe("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const _=jA(this.apiClient,v),S=new _h;return Object.assign(S,_),S})}else{const h=a0(this.apiClient,e);return g=fe("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const _=MA(this.apiClient,v),S=new _h;return Object.assign(S,_),S})}}async update(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nA(this.apiClient,e);return g=fe("{model}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Tc(this.apiClient,v))}else{const h=o0(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>vc(this.apiClient,v))}}async delete(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=iA(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(()=>{const v=ex(),_=new Sh;return Object.assign(_,v),_})}else{const h=r0(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=NA(),_=new Sh;return Object.assign(_,v),_})}}async countTokens(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=lA(this.apiClient,e);return g=fe("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const _=tx(this.apiClient,v),S=new Eh;return Object.assign(S,_),S})}else{const h=u0(this.apiClient,e);return g=fe("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const _=RA(this.apiClient,v),S=new Eh;return Object.assign(S,_),S})}}async computeTokens(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=oA(this.apiClient,e);return f=fe("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=nx(this.apiClient,y),v=new tC;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=uA(this.apiClient,e);return g=fe("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>ox(this.apiClient,v))}else{const h=d0(this.apiClient,e);return g=fe("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>wA(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wx(o,e){const n={},a=u(e,["operationName"]);a!=null&&c(n,["_url","operationName"],a);const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function Ux(o,e){const n={},a=u(e,["operationName"]);a!=null&&c(n,["_url","operationName"],a);const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function Lx(o,e){const n={},a=u(e,["operationName"]);a!=null&&c(n,["operationName"],a);const r=u(e,["resourceName"]);r!=null&&c(n,["_url","resourceName"],r);const f=u(e,["config"]);return f!=null&&c(n,["config"],f),n}function Ox(o,e){const n={},a=u(e,["video","uri"]);a!=null&&c(n,["uri"],a);const r=u(e,["video","encodedVideo"]);r!=null&&c(n,["videoBytes"],jn(o,r));const f=u(e,["encoding"]);return f!=null&&c(n,["mimeType"],f),n}function Vx(o,e){const n={},a=u(e,["_self"]);return a!=null&&c(n,["video"],Ox(o,a)),n}function Gx(o,e){const n={},a=u(e,["generatedSamples"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(g=>Vx(o,g))),c(n,["generatedVideos"],m)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&c(n,["raiMediaFilteredCount"],r);const f=u(e,["raiMediaFilteredReasons"]);return f!=null&&c(n,["raiMediaFilteredReasons"],f),n}function kx(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["metadata"]);r!=null&&c(n,["metadata"],r);const f=u(e,["done"]);f!=null&&c(n,["done"],f);const m=u(e,["error"]);m!=null&&c(n,["error"],m);const g=u(e,["response","generateVideoResponse"]);return g!=null&&c(n,["response"],Gx(o,g)),n}function Px(o,e){const n={},a=u(e,["gcsUri"]);a!=null&&c(n,["uri"],a);const r=u(e,["bytesBase64Encoded"]);r!=null&&c(n,["videoBytes"],jn(o,r));const f=u(e,["mimeType"]);return f!=null&&c(n,["mimeType"],f),n}function qx(o,e){const n={},a=u(e,["_self"]);return a!=null&&c(n,["video"],Px(o,a)),n}function zx(o,e){const n={},a=u(e,["videos"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(g=>qx(o,g))),c(n,["generatedVideos"],m)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&c(n,["raiMediaFilteredCount"],r);const f=u(e,["raiMediaFilteredReasons"]);return f!=null&&c(n,["raiMediaFilteredReasons"],f),n}function Kh(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["metadata"]);r!=null&&c(n,["metadata"],r);const f=u(e,["done"]);f!=null&&c(n,["done"],f);const m=u(e,["error"]);m!=null&&c(n,["error"],m);const g=u(e,["response"]);return g!=null&&c(n,["response"],zx(o,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bx extends Ka{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,a=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let f;return a&&"httpOptions"in a&&(f=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:f}})}else return this.getVideosOperationInternal({operationName:n.name,config:a})}async getVideosOperationInternal(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Ux(this.apiClient,e);return g=fe("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Kh(this.apiClient,v))}else{const h=wx(this.apiClient,e);return g=fe("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>kx(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=Lx(this.apiClient,e);return f=fe("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Kh(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hx(o,e){const n={},a=u(e,["voiceName"]);return a!=null&&c(n,["voiceName"],a),n}function Ng(o,e){const n={},a=u(e,["prebuiltVoiceConfig"]);return a!=null&&c(n,["prebuiltVoiceConfig"],Hx(o,a)),n}function Fx(o,e){const n={},a=u(e,["speaker"]);a!=null&&c(n,["speaker"],a);const r=u(e,["voiceConfig"]);return r!=null&&c(n,["voiceConfig"],Ng(o,r)),n}function Yx(o,e){const n={},a=u(e,["speakerVoiceConfigs"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Fx(o,f))),c(n,["speakerVoiceConfigs"],r)}return n}function $x(o,e){const n={},a=u(e,["voiceConfig"]);a!=null&&c(n,["voiceConfig"],Ng(o,a));const r=u(e,["multiSpeakerVoiceConfig"]);r!=null&&c(n,["multiSpeakerVoiceConfig"],Yx(o,r));const f=u(e,["languageCode"]);return f!=null&&c(n,["languageCode"],f),n}function Zx(o,e){const n={},a=u(e,["fps"]);a!=null&&c(n,["fps"],a);const r=u(e,["endOffset"]);r!=null&&c(n,["endOffset"],r);const f=u(e,["startOffset"]);return f!=null&&c(n,["startOffset"],f),n}function Kx(o,e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(e,["data"]);a!=null&&c(n,["data"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function Jx(o,e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(e,["fileUri"]);a!=null&&c(n,["fileUri"],a);const r=u(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function Xx(o,e){const n={},a=u(e,["videoMetadata"]);a!=null&&c(n,["videoMetadata"],Zx(o,a));const r=u(e,["thought"]);r!=null&&c(n,["thought"],r);const f=u(e,["inlineData"]);f!=null&&c(n,["inlineData"],Kx(o,f));const m=u(e,["fileData"]);m!=null&&c(n,["fileData"],Jx(o,m));const g=u(e,["thoughtSignature"]);g!=null&&c(n,["thoughtSignature"],g);const y=u(e,["codeExecutionResult"]);y!=null&&c(n,["codeExecutionResult"],y);const h=u(e,["executableCode"]);h!=null&&c(n,["executableCode"],h);const v=u(e,["functionCall"]);v!=null&&c(n,["functionCall"],v);const _=u(e,["functionResponse"]);_!=null&&c(n,["functionResponse"],_);const S=u(e,["text"]);return S!=null&&c(n,["text"],S),n}function Qx(o,e){const n={},a=u(e,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>Xx(o,m))),c(n,["parts"],f)}const r=u(e,["role"]);return r!=null&&c(n,["role"],r),n}function Wx(o,e){const n={},a=u(e,["behavior"]);a!=null&&c(n,["behavior"],a);const r=u(e,["description"]);r!=null&&c(n,["description"],r);const f=u(e,["name"]);f!=null&&c(n,["name"],f);const m=u(e,["parameters"]);m!=null&&c(n,["parameters"],m);const g=u(e,["response"]);return g!=null&&c(n,["response"],g),n}function jx(o,e){const n={},a=u(e,["startTime"]);a!=null&&c(n,["startTime"],a);const r=u(e,["endTime"]);return r!=null&&c(n,["endTime"],r),n}function eM(o,e){const n={},a=u(e,["timeRangeFilter"]);return a!=null&&c(n,["timeRangeFilter"],jx(o,a)),n}function tM(o,e){const n={},a=u(e,["mode"]);a!=null&&c(n,["mode"],a);const r=u(e,["dynamicThreshold"]);return r!=null&&c(n,["dynamicThreshold"],r),n}function nM(o,e){const n={},a=u(e,["dynamicRetrievalConfig"]);return a!=null&&c(n,["dynamicRetrievalConfig"],tM(o,a)),n}function iM(){return{}}function aM(o,e){const n={},a=u(e,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>Wx(o,h))),c(n,["functionDeclarations"],y)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearch"]);r!=null&&c(n,["googleSearch"],eM(o,r));const f=u(e,["googleSearchRetrieval"]);if(f!=null&&c(n,["googleSearchRetrieval"],nM(o,f)),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(e,["urlContext"])!=null&&c(n,["urlContext"],iM());const g=u(e,["codeExecution"]);return g!=null&&c(n,["codeExecution"],g),n}function lM(o,e){const n={},a=u(e,["handle"]);if(a!=null&&c(n,["handle"],a),u(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Jh(){return{}}function oM(o,e){const n={},a=u(e,["disabled"]);a!=null&&c(n,["disabled"],a);const r=u(e,["startOfSpeechSensitivity"]);r!=null&&c(n,["startOfSpeechSensitivity"],r);const f=u(e,["endOfSpeechSensitivity"]);f!=null&&c(n,["endOfSpeechSensitivity"],f);const m=u(e,["prefixPaddingMs"]);m!=null&&c(n,["prefixPaddingMs"],m);const g=u(e,["silenceDurationMs"]);return g!=null&&c(n,["silenceDurationMs"],g),n}function rM(o,e){const n={},a=u(e,["automaticActivityDetection"]);a!=null&&c(n,["automaticActivityDetection"],oM(o,a));const r=u(e,["activityHandling"]);r!=null&&c(n,["activityHandling"],r);const f=u(e,["turnCoverage"]);return f!=null&&c(n,["turnCoverage"],f),n}function sM(o,e){const n={},a=u(e,["targetTokens"]);return a!=null&&c(n,["targetTokens"],a),n}function uM(o,e){const n={},a=u(e,["triggerTokens"]);a!=null&&c(n,["triggerTokens"],a);const r=u(e,["slidingWindow"]);return r!=null&&c(n,["slidingWindow"],sM(o,r)),n}function cM(o,e){const n={},a=u(e,["proactiveAudio"]);return a!=null&&c(n,["proactiveAudio"],a),n}function fM(o,e,n){const a={},r=u(e,["generationConfig"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig"],r);const f=u(e,["responseModalities"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","responseModalities"],f);const m=u(e,["temperature"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","temperature"],m);const g=u(e,["topP"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topP"],g);const y=u(e,["topK"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","topK"],y);const h=u(e,["maxOutputTokens"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","maxOutputTokens"],h);const v=u(e,["mediaResolution"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","mediaResolution"],v);const _=u(e,["seed"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","seed"],_);const S=u(e,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],$x(o,Mc(o,S)));const N=u(e,["enableAffectiveDialog"]);n!==void 0&&N!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],N);const U=u(e,["systemInstruction"]);n!==void 0&&U!=null&&c(n,["setup","systemInstruction"],Qx(o,Lt(o,U)));const G=u(e,["tools"]);if(n!==void 0&&G!=null){let re=jl(o,G);Array.isArray(re)&&(re=re.map(he=>aM(o,Wl(o,he)))),c(n,["setup","tools"],re)}const z=u(e,["sessionResumption"]);n!==void 0&&z!=null&&c(n,["setup","sessionResumption"],lM(o,z));const W=u(e,["inputAudioTranscription"]);n!==void 0&&W!=null&&c(n,["setup","inputAudioTranscription"],Jh());const j=u(e,["outputAudioTranscription"]);n!==void 0&&j!=null&&c(n,["setup","outputAudioTranscription"],Jh());const J=u(e,["realtimeInputConfig"]);n!==void 0&&J!=null&&c(n,["setup","realtimeInputConfig"],rM(o,J));const le=u(e,["contextWindowCompression"]);n!==void 0&&le!=null&&c(n,["setup","contextWindowCompression"],uM(o,le));const Y=u(e,["proactivity"]);return n!==void 0&&Y!=null&&c(n,["setup","proactivity"],cM(o,Y)),a}function dM(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["setup","model"],We(o,a));const r=u(e,["config"]);return r!=null&&c(n,["config"],fM(o,r,n)),n}function mM(o,e,n){const a={},r=u(e,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const f=u(e,["newSessionExpireTime"]);n!==void 0&&f!=null&&c(n,["newSessionExpireTime"],f);const m=u(e,["uses"]);n!==void 0&&m!=null&&c(n,["uses"],m);const g=u(e,["liveConnectConstraints"]);n!==void 0&&g!=null&&c(n,["bidiGenerateContentSetup"],dM(o,g));const y=u(e,["lockAdditionalFields"]);return n!==void 0&&y!=null&&c(n,["fieldMask"],y),a}function pM(o,e){const n={},a=u(e,["config"]);return a!=null&&c(n,["config"],mM(o,a,n)),n}function hM(o,e){const n={},a=u(e,["name"]);return a!=null&&c(n,["name"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gM(o){const e=[];for(const n in o)if(Object.prototype.hasOwnProperty.call(o,n)){const a=o[n];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${n}.${f}`);e.push(...r)}else e.push(n)}return e.join(",")}function yM(o,e){let n=null;const a=o.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(o.bidiGenerateContentSetup=f,n=f):delete o.bidiGenerateContentSetup}else a!==void 0&&delete o.bidiGenerateContentSetup;const r=o.fieldMask;if(n){const f=gM(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?o.fieldMask=f:delete o.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?o.fieldMask=y.join(","):delete o.fieldMask}else delete o.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?o.fieldMask=r.join(","):delete o.fieldMask;return o}class vM extends Ka{constructor(e){super(),this.apiClient=e}async create(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=pM(this.apiClient,e);f=fe("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=yM(g,e.config);return r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>hM(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TM(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","name"],a);const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function CM(o,e,n){const a={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(e,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const m=u(e,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),a}function _M(o,e){const n={},a=u(e,["config"]);return a!=null&&c(n,["config"],CM(o,a,n)),n}function SM(o,e){const n={},a=u(e,["textInput"]);a!=null&&c(n,["textInput"],a);const r=u(e,["output"]);return r!=null&&c(n,["output"],r),n}function EM(o,e){const n={};if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(e,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>SM(o,f))),c(n,["examples","examples"],r)}return n}function AM(o,e,n){const a={};if(u(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(e,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&c(n,["displayName"],r),u(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(e,["epochCount"]);n!==void 0&&f!=null&&c(n,["tuningTask","hyperparameters","epochCount"],f);const m=u(e,["learningRateMultiplier"]);if(m!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(e,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const y=u(e,["learningRate"]);return n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),a}function xM(o,e){const n={},a=u(e,["baseModel"]);a!=null&&c(n,["baseModel"],a);const r=u(e,["trainingDataset"]);r!=null&&c(n,["tuningTask","trainingData"],EM(o,r));const f=u(e,["config"]);return f!=null&&c(n,["config"],AM(o,f,n)),n}function MM(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["_url","name"],a);const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function NM(o,e,n){const a={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(e,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const m=u(e,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),a}function RM(o,e){const n={},a=u(e,["config"]);return a!=null&&c(n,["config"],NM(o,a,n)),n}function DM(o,e,n){const a={},r=u(e,["gcsUri"]);if(n!==void 0&&r!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],r),u(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function bM(o,e){const n={},a=u(e,["gcsUri"]);return a!=null&&c(n,["validationDatasetUri"],a),n}function IM(o,e,n){const a={},r=u(e,["validationDataset"]);n!==void 0&&r!=null&&c(n,["supervisedTuningSpec"],bM(o,r));const f=u(e,["tunedModelDisplayName"]);n!==void 0&&f!=null&&c(n,["tunedModelDisplayName"],f);const m=u(e,["description"]);n!==void 0&&m!=null&&c(n,["description"],m);const g=u(e,["epochCount"]);n!==void 0&&g!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],g);const y=u(e,["learningRateMultiplier"]);n!==void 0&&y!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const h=u(e,["exportLastCheckpointOnly"]);n!==void 0&&h!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const v=u(e,["adapterSize"]);if(n!==void 0&&v!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],v),u(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function wM(o,e){const n={},a=u(e,["baseModel"]);a!=null&&c(n,["baseModel"],a);const r=u(e,["trainingDataset"]);r!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],DM(o,r,n));const f=u(e,["config"]);return f!=null&&c(n,["config"],IM(o,f,n)),n}function UM(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["model"],a);const r=u(e,["name"]);return r!=null&&c(n,["endpoint"],r),n}function Rg(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["state"]);r!=null&&c(n,["state"],cg(o,r));const f=u(e,["createTime"]);f!=null&&c(n,["createTime"],f);const m=u(e,["tuningTask","startTime"]);m!=null&&c(n,["startTime"],m);const g=u(e,["tuningTask","completeTime"]);g!=null&&c(n,["endTime"],g);const y=u(e,["updateTime"]);y!=null&&c(n,["updateTime"],y);const h=u(e,["description"]);h!=null&&c(n,["description"],h);const v=u(e,["baseModel"]);v!=null&&c(n,["baseModel"],v);const _=u(e,["_self"]);_!=null&&c(n,["tunedModel"],UM(o,_));const S=u(e,["distillationSpec"]);S!=null&&c(n,["distillationSpec"],S);const N=u(e,["experiment"]);N!=null&&c(n,["experiment"],N);const U=u(e,["labels"]);U!=null&&c(n,["labels"],U);const G=u(e,["pipelineJob"]);G!=null&&c(n,["pipelineJob"],G);const z=u(e,["serviceAccount"]);z!=null&&c(n,["serviceAccount"],z);const W=u(e,["tunedModelDisplayName"]);return W!=null&&c(n,["tunedModelDisplayName"],W),n}function LM(o,e){const n={},a=u(e,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(e,["tunedModels"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Rg(o,m))),c(n,["tuningJobs"],f)}return n}function OM(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["metadata"]);r!=null&&c(n,["metadata"],r);const f=u(e,["done"]);f!=null&&c(n,["done"],f);const m=u(e,["error"]);return m!=null&&c(n,["error"],m),n}function VM(o,e){const n={},a=u(e,["checkpointId"]);a!=null&&c(n,["checkpointId"],a);const r=u(e,["epoch"]);r!=null&&c(n,["epoch"],r);const f=u(e,["step"]);f!=null&&c(n,["step"],f);const m=u(e,["endpoint"]);return m!=null&&c(n,["endpoint"],m),n}function GM(o,e){const n={},a=u(e,["model"]);a!=null&&c(n,["model"],a);const r=u(e,["endpoint"]);r!=null&&c(n,["endpoint"],r);const f=u(e,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>VM(o,g))),c(n,["checkpoints"],m)}return n}function Sc(o,e){const n={},a=u(e,["name"]);a!=null&&c(n,["name"],a);const r=u(e,["state"]);r!=null&&c(n,["state"],cg(o,r));const f=u(e,["createTime"]);f!=null&&c(n,["createTime"],f);const m=u(e,["startTime"]);m!=null&&c(n,["startTime"],m);const g=u(e,["endTime"]);g!=null&&c(n,["endTime"],g);const y=u(e,["updateTime"]);y!=null&&c(n,["updateTime"],y);const h=u(e,["error"]);h!=null&&c(n,["error"],h);const v=u(e,["description"]);v!=null&&c(n,["description"],v);const _=u(e,["baseModel"]);_!=null&&c(n,["baseModel"],_);const S=u(e,["tunedModel"]);S!=null&&c(n,["tunedModel"],GM(o,S));const N=u(e,["supervisedTuningSpec"]);N!=null&&c(n,["supervisedTuningSpec"],N);const U=u(e,["tuningDataStats"]);U!=null&&c(n,["tuningDataStats"],U);const G=u(e,["encryptionSpec"]);G!=null&&c(n,["encryptionSpec"],G);const z=u(e,["partnerModelTuningSpec"]);z!=null&&c(n,["partnerModelTuningSpec"],z);const W=u(e,["distillationSpec"]);W!=null&&c(n,["distillationSpec"],W);const j=u(e,["experiment"]);j!=null&&c(n,["experiment"],j);const J=u(e,["labels"]);J!=null&&c(n,["labels"],J);const le=u(e,["pipelineJob"]);le!=null&&c(n,["pipelineJob"],le);const Y=u(e,["serviceAccount"]);Y!=null&&c(n,["serviceAccount"],Y);const re=u(e,["tunedModelDisplayName"]);return re!=null&&c(n,["tunedModelDisplayName"],re),n}function kM(o,e){const n={},a=u(e,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(e,["tuningJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Sc(o,m))),c(n,["tuningJobs"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PM extends Ka{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Lr($a.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const a=await this.tuneMldevInternal(n);let r="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?r=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(r=a.name.split("/operations/")[0]),{name:r,state:mc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=MM(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Sc(this.apiClient,v))}else{const h=TM(this.apiClient,e);return g=fe("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Rg(this.apiClient,v))}}async listInternal(e){var n,a,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=RM(this.apiClient,e);return g=fe("tuningJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const _=kM(this.apiClient,v),S=new Ah;return Object.assign(S,_),S})}else{const h=_M(this.apiClient,e);return g=fe("tunedModels",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const _=LM(this.apiClient,v),S=new Ah;return Object.assign(S,_),S})}}async tuneInternal(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=wM(this.apiClient,e);return f=fe("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Sc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xM(this.apiClient,e);return f=fe("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>OM(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zM=1024*1024*8,BM=3,HM=1e3,FM=2,nc="x-goog-upload-status";async function YM(o,e,n){var a,r,f;let m=0,g=0,y=new pc(new Response),h="upload";for(m=o.size;g<m;){const _=Math.min(zM,m-g),S=o.slice(g,g+_);g+_>=m&&(h+=", finalize");let N=0,U=HM;for(;N<BM&&(y=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(_)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[nc]));)N++,await ZM(U),U=U*FM;if(g+=_,((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[nc])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[nc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function $M(o){return{size:o.size,type:o.type}}function ZM(o){return new Promise(e=>setTimeout(e,o))}class KM{async upload(e,n,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YM(e,n,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $M(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JM{create(e,n,a){return new XM(e,n,a)}}class XM{constructor(e,n,a){this.url=e,this.headers=n,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xh="x-goog-api-key";class QM{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Xh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Xh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WM="gl-node/";class Dg{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const a=WT(e,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const r=new QM(this.apiKey);this.apiClient=new px({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:WM+"web",uploader:new KM,downloader:new qM}),this.models=new Ix(this.apiClient),this.live=new Mx(this.apiClient,r,new JM),this.chats=new x_(this.models,this.apiClient),this.caches=new S_(this.apiClient),this.files=new k_(this.apiClient),this.operations=new Bx(this.apiClient),this.authTokens=new vM(this.apiClient),this.tunings=new PM(this.apiClient)}}let Yt=null;const ic=o=>{if(o&&o.trim()!=="")try{return Yt=new Dg({apiKey:o}),console.log("GeminiTextService inicializado con API Key."),!0}catch(e){return console.error("Error al inicializar GeminiTextService con API Key:",e),Yt=null,!1}else return console.warn("GeminiTextService: API Key no proporcionada o vacía. El servicio no se inicializará."),Yt=null,!1},vn=()=>!!Yt,Qh=async(o,e)=>{if(!vn()||!Yt)throw new Error("API de Gemini (texto) no inicializada o no disponible.");const n=`
Eres un diseñador de juegos narrativos especializado en crear experiencias para adolescentes (13-18 años). Tu tarea es generar 3 preguntas de opción múltiple para un juego interactivo. Estas preguntas ayudarán a definir los cimientos de la historia del protagonista en un mundo específico.

El mundo es: "${o}".
${e?`Contexto adicional sobre este mundo (definido por el usuario): "${e}"`:""}

Instrucciones para las preguntas:
1.  Genera EXACTAMENTE 3 preguntas.
2.  Cada pregunta debe ofrecer 3 respuestas posibles.
3.  Las preguntas y respuestas deben ser relevantes para adolescentes, explorando temas como identidad, amistad, presiones sociales, dilemas éticos, sueños, miedos, desafíos en el contexto de "${o}". Evita ser condescendiente. Usa un lenguaje que resuene con jóvenes.
4.  El tono debe ser intrigante, empático y provocar reflexión.
5.  PARA LA TERCERA PREGUNTA (Y SOLO PARA LA TERCERA), cada una de sus 3 respuestas DEBE incluir un campo "descriptor" (string). Este descriptor será una frase corta (3-7 palabras) que capture la esencia o el valor fundamental de esa respuesta específica (ej: "la búsqueda de la autenticidad", "la fuerza de los lazos inesperados", "el coraje de alzar la voz", "la sabiduría de la discreción", "la rebeldía con causa"). Este descriptor se usará para generar una imagen de un sueño.

Formato de salida OBLIGATORIO:
Devuelve SOLAMENTE un array de objetos JSON. Cada objeto representa una pregunta y debe tener la siguiente estructura:
{
  "id": "qN", // N es el número de pregunta (q1, q2, q3)
  "text": "Texto de la pregunta...",
  "answers": [
    // Para q1 y q2, la estructura es:
    // { "text": "Texto de la respuesta 1", "value": "qNa1_identificador_unico" },
    // { "text": "Texto de la respuesta 2", "value": "qNa2_identificador_unico" },
    // { "text": "Texto de la respuesta 3", "value": "qNa3_identificador_unico" }
    // Para q3, CADA respuesta DEBE tener "descriptor":
    { "text": "Texto de la respuesta 1 para q3", "value": "q3a1_identificador_unico", "descriptor": "Descriptor para q3a1" },
    { "text": "Texto de la respuesta 2 para q3", "value": "q3a2_identificador_unico", "descriptor": "Descriptor para q3a2" },
    { "text": "Texto de la respuesta 3 para q3", "value": "q3a3_identificador_unico", "descriptor": "Descriptor para q3a3" }
  ]
}

Asegúrate de que los "value" de las respuestas sean únicos y descriptivos (puedes usar el formato q[NumPregunta]a[NumRespuesta]_palabraClave).
No incluyas explicaciones adicionales, comentarios, ni la palabra "json" o los delimitadores \`\`\`json \`\`\` fuera del array JSON. Solo el array.`;try{const a=await Yt.models.generateContent({model:Za,contents:n,config:{responseMimeType:"application/json"}});let r=String(a.text).trim();const f=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,m=r.match(f);m&&m[2]&&(r=m[2].trim());const g=JSON.parse(r);if(Array.isArray(g)&&g.length===3&&g.every(y=>y.id&&y.text&&Array.isArray(y.answers)&&y.answers.length===3&&y.answers.every(h=>h.text&&h.value))){const y=g[2];if(!y.answers.every(h=>typeof h.descriptor=="string"&&h.descriptor.length>0))throw console.error("Error: Descriptors faltantes o inválidos en la última pregunta generada por IA.",y.answers),new Error("La IA no generó los descriptores requeridos para la última pregunta.");return g}throw console.error("Respuesta JSON de preguntas de onboarding incompleta o mal formada:",g),new Error("La IA no generó las preguntas en el formato esperado.")}catch(a){throw console.error("Error generando preguntas de onboarding:",a),a instanceof Error?a:new Error("Error desconocido al generar preguntas de onboarding.")}},jM=async(o,e,n,a)=>{if(!vn()||!Yt)throw new Error("API de Gemini (texto) no inicializada o no disponible.");const r=e.map(m=>`- Pregunta: "${m.questionText}"
  Respuesta del jugador: "${m.answerText}"`).join(`
`),f=`
Eres un diseñador narrativo experto creando historias para adolescentes. Basado en las siguientes elecciones de un jugador, genera un nombre de protagonista, un breve arquetipo de protagonista, un tema central para su aventura, un texto de preámbulo, y una descripción y leyenda para su sueño inicial.

Mundo elegido para la historia: "${o}"
Género del protagonista elegido por el jugador: "${a}"

El jugador respondió a las siguientes preguntas iniciales de la siguiente manera:
${r}

La elección clave del jugador que inspirará su primer sueño se resume en esta idea o valor: "${n}".

Basado en todo esto, define:
1.  **Nombre del protagonista**: Un nombre (solo el nombre, sin apellidos) adecuado para un personaje adolescente de género '${a}' en el contexto del mundo de "${o}". Asegúrate de que el nombre sea coherente con el género proporcionado.
2.  **Arquetipo del protagonista**: Describe al protagonista (considerando su nombre y género '${a}') en 10-20 palabras (ej: "Alex, artista idealista en busca de su lugar", "Sam, detective cínique con un secreto", "Elena, líder reticente con gran potencial"). Debe resonar con un público adolescente y el mundo de '${o}'.
3.  **Tema central**: Resume el núcleo temático de la aventura en 5-15 palabras (ej: "La lucha por la autenticidad en un mundo de apariencias", "El poder de la amistad contra la adversidad", "Descubrir quién eres cuando todo cambia").
4.  **Texto de Preámbulo**: Escribe un párrafo de 100-150 palabras que introduzca al protagonista. Este preámbulo debe estar escrito en PRIMERA PERSONA por el protagonista (usando "yo", "mi", etc.), utilizando su nombre generado y refiriéndose a sí mismo con el género '${a}' de forma natural en la narración. Debe conectar con su arquetipo, el tema, y las respuestas del jugador, y ajustarse al tono del mundo de '${o}'.
5.  **Descripción para la Imagen del Sueño Inicial (initialDreamImageDescription)**: Una descripción concisa (1-2 frases, 30-50 palabras) para una IMAGEN que represente el sueño inicial del protagonista. Esta imagen debe estar inspirada principalmente por '${n}' y ambientada en el mundo de '${o}'. Esta descripción es para un generador de imágenes, así que debe ser visualmente rica y evocadora, evitando mostrar directamente al protagonista si es posible (más simbólico).
6.  **Leyenda para la Imagen del Sueño Inicial (initialDreamImageCaption)**: Una LEYENDA CORTA Y ATRACTIVA (1 frase, MÁXIMO 15 palabras) para la imagen del sueño inicial. Esta leyenda SÍ se mostrará al usuario. Debe ser poética o intrigante y complementar la imagen.

Devuelve la respuesta SOLAMENTE como un objeto JSON con las claves "protagonistName" (string), "protagonistArchetype" (string), "centralTheme" (string), "preambleText" (string), "initialDreamImageDescription" (string), y "initialDreamImageCaption" (string). No incluyas explicaciones adicionales fuera del JSON. Asegúrate que "protagonistName" solo contenga el nombre.`;try{const m=await Yt.models.generateContent({model:Za,contents:f,config:{responseMimeType:"application/json"}});let g=String(m.text).trim();const y=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,h=g.match(y);h&&h[2]&&(g=h[2].trim());const v=JSON.parse(g);if(v.protagonistName&&v.protagonistArchetype&&v.centralTheme&&v.preambleText&&v.initialDreamImageDescription&&v.initialDreamImageCaption)return v;throw console.error("Respuesta JSON del perfil incompleta:",v),new Error("La IA no generó el perfil narrativo completo (incluyendo descripción/leyenda de imagen inicial) en el formato esperado.")}catch(m){throw console.error("Error generando perfil narrativo y preámbulo:",m),m instanceof Error?m:new Error("Error desconocido al generar perfil narrativo.")}},eN=async(o,e,n)=>{if(!vn()||!Yt)throw new Error("API de Gemini (texto) no inicializada o no disponible.");const a=`Eres un escritor creativo experto en generar títulos llamativos para historias adolescentes.
Dado el mundo de la historia: '${o}'
El arquetipo del protagonista: '${e}'
Y el tema central de la aventura: '${n}'

Por favor, genera 1 (UN SOLO) título conciso, evocador y atractivo para esta historia. El título debe tener entre 3 y 7 palabras. Debe ser intrigante para un público adolescente.
Devuelve SOLAMENTE el string del título, sin comillas adicionales ni texto explicativo.`;try{const f=(await Yt.models.generateContent({model:Za,contents:a})).text.trim();if(f)return f.replace(/^["']|["']$/g,"");throw console.error("No se generó el título."),new Error("La IA no generó un título para la historia.")}catch(r){throw console.error("Error generando el título de la historia:",r),r instanceof Error?r:new Error("Error desconocido al generar título de la historia.")}},tN=async o=>{if(!vn()||!Yt)throw new Error("API de Gemini (texto) no inicializada o no disponible.");if(!o.protagonistName||!o.protagonistGender||!o.protagonistArchetype||!o.centralTheme||!o.preambleText)throw console.error("Faltan datos de la historia para generar primer capítulo (nombre, género, arquetipo, tema o preámbulo)."),new Error("Datos insuficientes para generar el primer capítulo.");const e=`
Eres un novelista de ficción interactiva para un público adolescente. Escribe el primer capítulo (aproximadamente 1000-1500 palabras) de una historia ambientada en '${o.worldName}'.
Título de la historia: '${o.title}'
Nombre del protagonista: '${o.protagonistName}'
Género del protagonista: '${o.protagonistGender}'
Arquetipo del protagonista: '${o.protagonistArchetype}'
Tema central: '${o.centralTheme}'
Preámbulo/Introducción ya establecida (narrada en primera persona por ${o.protagonistName}): '${o.preambleText}'

El capítulo debe ser narrado en PRIMERA PERSONA por ${o.protagonistName} (género: ${o.protagonistGender}), usando un lenguaje y tono que conecten con adolescentes. Desarrolla la escena inicial, establece su personalidad basada en el arquetipo y el preámbulo, e introduce los primeros elementos del tema central. Haz que ${o.protagonistName} reflexione o actúe de manera coherente con el preámbulo y su género. El tono debe ser inmersivo y capturar la atmósfera de '${o.worldName}'.
Concluye el capítulo dejando una ligera intriga o un punto de partida para el siguiente.

Devuelve SOLAMENTE un objeto JSON con las siguientes claves:
- "title": (string) un título evocador y único para este capítulo (3-8 palabras, NO incluyas "Capítulo N").
- "text": (string) el texto completo del capítulo.
- "imageDescription": (string) una descripción concisa (1-2 frases) para una IMAGEN que represente una escena clave o el ambiente general de este capítulo. Esta descripción es para generar una imagen, así que debe ser visualmente descriptiva.
- "imageCaption": (string) una LEYENDA CORTA Y ATRACTIVA (1-2 frases, MÁXIMO 20 palabras) para la imagen generada a partir de "imageDescription". Esta leyenda SÍ se mostrará al usuario junto a la imagen. Debe ser intrigante y complementar la imagen y el texto del capítulo.

No incluyas explicaciones adicionales fuera del JSON ni la palabra "json" o los delimitadores \`\`\`json \`\`\`.`;try{const n=await Yt.models.generateContent({model:Za,contents:e,config:{responseMimeType:"application/json"}});let a=String(n.text).trim();const r=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,f=a.match(r);f&&f[2]&&(a=f[2].trim());const m=JSON.parse(a);if(m&&m.title&&m.text&&m.imageDescription&&m.imageCaption)return m;throw console.error("AI no devolvió el título, texto, descripción de imagen y/o leyenda de imagen del primer capítulo en el formato esperado:",m),new Error("La IA no generó el título, texto, descripción de imagen y/o leyenda de imagen del primer capítulo en el formato esperado.")}catch(n){throw console.error("Error generando contenido del primer capítulo:",n),n instanceof Error?n:new Error("Error desconocido al generar contenido del primer capítulo.")}},nN=async(o,e,n,a)=>{if(!vn()||!Yt)throw new Error("API de Gemini (texto) no inicializada o no disponible.");if(!o.protagonistName||!o.protagonistGender||!o.protagonistArchetype||!o.centralTheme)throw console.error("Faltan datos de la historia para generar capítulo subsiguiente (nombre, género, arquetipo o tema)."),new Error("Datos insuficientes para generar el capítulo.");const r=`
Eres un novelista de ficción interactiva para adolescentes, continuando una historia.
Mundo de la historia: '${o.worldName}'
Nombre del protagonista: '${o.protagonistName}'
Género del protagonista: '${o.protagonistGender}'
Protagonista (Arquetipo): '${o.protagonistArchetype}'
Tema Central: '${o.centralTheme}'

Contexto de la historia hasta ahora (resumen de capítulos anteriores en orden, narrados por ${o.protagonistName}):
${a}
---
Al final del capítulo anterior, ${o.protagonistName} recibió un "sueño" o consejo del lector que es: "${n||`${o.protagonistName} reflexionó por su cuenta.`}"

Escribe el siguiente capítulo (Capítulo ${e+1}, aproximadamente 1000-1500 palabras) narrado en PRIMERA PERSONA por ${o.protagonistName} (género: ${o.protagonistGender}), con un tono adolescente.
${o.protagonistName} debe recordar o ser influenciado sutilmente por el "sueño" o consejo recibido ("${n||"sus propias meditaciones nocturnas"}") en momentos clave de este capítulo. Sus acciones, pensamientos o diálogos deben reflejar esta influencia y ser coherentes con su género.
Continúa la trama, desarrolla al personaje (${o.protagonistName}) y el tema central. Mantén la coherencia con los eventos previos y el tono de '${o.worldName}'.
Concluye el capítulo dejando una ligera intriga o un punto de partida para el siguiente.

Devuelve SOLAMENTE un objeto JSON con las siguientes claves:
- "title": (string) un título evocador y único para este capítulo (3-8 palabras, NO incluyas "Capítulo N"). Debe reflejar su contenido y la influencia del sueño.
- "text": (string) el texto completo del capítulo.
- "imageDescription": (string) una descripción concisa (1-2 frases) para una IMAGEN que represente una escena clave o el ambiente general de este capítulo, influenciada también por el sueño/consejo. Esta descripción es para generar una imagen, así que debe ser visualmente descriptiva.
- "imageCaption": (string) una LEYENDA CORTA Y ATRACTIVA (1-2 frases, MÁXIMO 20 palabras) para la imagen generada a partir de "imageDescription". Esta leyenda SÍ se mostrará al usuario junto a la imagen. Debe ser intrigante y complementar la imagen y el texto del capítulo.

No incluyas explicaciones adicionales fuera del JSON ni la palabra "json" o los delimitadores \`\`\`json \`\`\`.`;try{const f=await Yt.models.generateContent({model:Za,contents:r,config:{responseMimeType:"application/json"}});let m=String(f.text).trim();const g=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,y=m.match(g);y&&y[2]&&(m=y[2].trim());const h=JSON.parse(m);if(h&&h.title&&h.text&&h.imageDescription&&h.imageCaption)return h;throw console.error(`AI no devolvió el título, texto, descripción de imagen y/o leyenda de imagen del capítulo ${e+1} en el formato esperado:`,h),new Error(`La IA no generó el título, texto, descripción de imagen y/o leyenda de imagen del capítulo ${e+1} en el formato esperado.`)}catch(f){throw console.error(`Error generando contenido del capítulo ${e+1}:`,f),f instanceof Error?f:new Error(`Error desconocido al generar contenido del capítulo ${e+1}.`)}};let cn=null;const ac=o=>{if(o&&o.trim()!=="")try{return cn=new Dg({apiKey:o}),console.log("GeminiImageService inicializado con API Key."),!0}catch(e){return console.error("Error al inicializar GeminiImageService con API Key:",e),cn=null,!1}else return console.warn("GeminiImageService: API Key no proporcionada o vacía. El servicio no se inicializará."),cn=null,!1},Qn=()=>!!cn,bg=async(o,e)=>{if(!Qn()||!cn)throw new Error("API de Gemini no inicializada para obtener prompt más seguro (necesario para la funcionalidad de texto).");const n=`El siguiente prompt para generación de imágenes fue bloqueado o causó un error (razón: ${e}). Prompt original: "${o}". 
Por favor, reescribe este prompt para que sea más seguro y cumpla con las políticas de contenido para generación de imágenes. 
Evita explícitamente cualquier tema relacionado con "Adolescent themes implied" o cualquier contenido que pueda ser interpretado como tal, incluso si esto significa desviar ligeramente la intención artística original hacia algo más simbólico, abstracto o neutral.
Mantén la intención artística y el tema central originales lo más posible, pero modifica cualquier elemento que pudiera ser problemático. 
Enfócate en la estética y el concepto de forma más abstracta, simbólica o metafórica si es necesario para evitar problemas.
Devuelve SOLAMENTE el prompt modificado como un string. No añadas explicaciones ni ningún otro texto.`;try{console.log(`[GeminiImageService] Solicitando prompt más seguro para: "${o}" (Fallo: ${e})`);const r=(await cn.models.generateContent({model:Za,contents:n,config:{temperature:.5}})).text.trim().replace(/^["']|["']$/g,"");if(!r)throw new Error("La IA no generó un prompt modificado.");return console.log(`[GeminiImageService] Original prompt: "${o}". Safer prompt generado: "${r}"`),r}catch(a){throw console.error("[GeminiImageService] Error generando prompt más seguro:",a),new Error(`No se pudo generar un prompt modificado. ${a instanceof Error?a.message:String(a)}`)}},yr=async(o,e,n)=>{var m,g,y,h,v,_;if(!Qn()||!cn)throw console.error(`[GeminiImageService generateImageFromDescription - ${n}] API de Gemini no inicializada o no disponible.`),new Error("API de Gemini (imágenes) no inicializada o no disponible.");const a=`Una imagen evocadora y artística que represente: "${o}". Estilo: digital painting, adecuado al mundo de '${e}'. Contexto: ${n}. Temática adolescente si es relevante. Evita primeros planos de rostros si es sobre un personaje, enfócate en la escena o simbolismo.`;let r=a,f="";try{console.log(`[GeminiImageService] Attempt 1 (${n}). Prompt: "${r}"`);const S=await cn.models.generateImages({model:Sr,prompt:r,config:{numberOfImages:1,outputMimeType:"image/jpeg"}}),N=(y=(g=(m=S==null?void 0:S.generatedImages)==null?void 0:m[0])==null?void 0:g.image)==null?void 0:y.imageBytes;if(N&&N.trim()!=="")return`data:image/jpeg;base64,${N}`;f=`La primera generación de imagen para "${n}" no produjo datos válidos o fue bloqueada.`,console.warn(`[GeminiImageService] ${n} (Attempt 1) failed: ${f}. Prompt: "${a}".`)}catch(S){f=S instanceof Error?S.message:String(S),console.warn(`[GeminiImageService] ${n} (Attempt 1) THREW: ${f}. Prompt: "${a}".`)}console.warn(`[GeminiImageService] ${n} (Attempt 1) failed. Reason: ${f}. Attempting safer prompt.`);try{r=await bg(a,f)}catch(S){const N=S instanceof Error?S.message:String(S);return console.error(`[GeminiImageService ${n}] Attempt 1 failed, and failed to get safer prompt: ${N}. Original prompt: "${a}"`),null}try{console.log(`[GeminiImageService] Attempt 2 (${n} - Safer). Prompt: "${r}"`);const S=await cn.models.generateImages({model:Sr,prompt:r,config:{numberOfImages:1,outputMimeType:"image/jpeg"}}),N=(_=(v=(h=S==null?void 0:S.generatedImages)==null?void 0:h[0])==null?void 0:v.image)==null?void 0:_.imageBytes;if(N&&N.trim()!=="")return`data:image/jpeg;base64,${N}`;const U=`La segunda generación de imagen para "${n}" (con prompt seguro) tampoco produjo datos válidos.`;return console.error(`[GeminiImageService ${n}] Attempt 2 (Safer) also failed: ${U}. Original Prompt: "${a}", Safer Prompt: "${r}"`),null}catch(S){const N=S instanceof Error?S.message:String(S);return console.error(`[GeminiImageService ${n}] Attempt 2 (Safer) THREW: ${N}. Original Prompt: "${a}", Safer Prompt: "${r}"`),null}},iN=async(o,e)=>{var f,m,g,y,h,v;if(!Qn()||!cn)throw console.error("[GeminiImageService generateChapterDreamImage] API de Gemini no inicializada o no disponible."),new Error("API de Gemini (imágenes) no inicializada o no disponible.");const n=`Una imagen evocadora y onírica que capture la esencia de este consejo o reflexión para un héroe adolescente: "${o}". Estilo artístico: surrealista, etéreo, digital painting, conectado al mundo de '${e}'. Evita primeros planos de rostros si es sobre un personaje, enfócate en la escena o simbolismo.`;let a=n,r="";try{console.log(`[GeminiImageService] Attempt 1 (Chapter Dream). Prompt: "${a}"`);const _=await cn.models.generateImages({model:Sr,prompt:a,config:{numberOfImages:1,outputMimeType:"image/jpeg"}}),S=(g=(m=(f=_==null?void 0:_.generatedImages)==null?void 0:f[0])==null?void 0:m.image)==null?void 0:g.imageBytes;if(S&&S.trim()!=="")return`data:image/jpeg;base64,${S}`;r="La primera generación de imagen de capítulo no produjo datos válidos o fue bloqueada.",console.warn(`[GeminiImageService] Chapter Dream (Attempt 1) failed: ${r}. Prompt: "${n}".`)}catch(_){r=_ instanceof Error?_.message:String(_),console.warn(`[GeminiImageService] Chapter Dream (Attempt 1) THREW: ${r}. Prompt: "${n}".`)}console.warn(`[GeminiImageService] Chapter Dream (Attempt 1) failed. Reason: ${r}. Attempting safer prompt.`);try{a=await bg(n,r)}catch(_){const S=_ instanceof Error?_.message:String(_);return console.error(`[GeminiImageService Chapter Dream] Attempt 1 failed, and failed to get safer prompt: ${S}. Original prompt: "${n}"`),null}try{console.log(`[GeminiImageService] Attempt 2 (Chapter Dream - Safer). Prompt: "${a}"`);const _=await cn.models.generateImages({model:Sr,prompt:a,config:{numberOfImages:1,outputMimeType:"image/jpeg"}}),S=(v=(h=(y=_==null?void 0:_.generatedImages)==null?void 0:y[0])==null?void 0:h.image)==null?void 0:v.imageBytes;return S&&S.trim()!==""?`data:image/jpeg;base64,${S}`:(console.error(`[GeminiImageService Chapter Dream] Attempt 2 (Safer) also failed: La segunda generación de imagen de capítulo (con prompt seguro) tampoco produjo datos válidos.. Original Prompt: "${n}", Safer Prompt: "${a}"`),null)}catch(_){const S=_ instanceof Error?_.message:String(_);return console.error(`[GeminiImageService Chapter Dream] Attempt 2 (Safer) THREW: ${S}. Original Prompt: "${n}", Safer Prompt: "${a}"`),null}},wr="dreamloop_gemini_api_key",Wh=o=>{o&&o.trim()!==""?localStorage.setItem(wr,o.trim()):localStorage.removeItem(wr)},aN=()=>localStorage.getItem(wr),lN=()=>{localStorage.removeItem(wr)},oN=()=>typeof window<"u"&&window.process&&window.process.env&&window.process.env.API_KEY?window.process.env.API_KEY:null,jh={isOpen:!1,title:"",message:"",type:"alert",onConfirm:()=>{},onCancel:()=>{}};function rN(){const[o,e]=De.useState(Te.HOME),[n,a]=De.useState(hT()),[r,f]=De.useState(jh),[m,g]=De.useState(null),[y,h]=De.useState(null),[v,_]=De.useState(""),[S,N]=De.useState([]),[U,G]=De.useState(null),[z,W]=De.useState({}),[j,J]=De.useState(null),[le,Y]=De.useState(null),[re,he]=De.useState(null),[we,ie]=De.useState(null),[_e,Je]=De.useState(null),[lt,Vt]=De.useState(null),[ct,et]=De.useState(null),[L,F]=De.useState(null),[oe,ze]=De.useState(null),[x,P]=De.useState(null),[K,H]=De.useState(null),[ne,Se]=De.useState(null),[de,vt]=De.useState(!1),[Ge,it]=De.useState(null),[Xa,In]=De.useState(!1),[Dt,Mt]=De.useState(null),Xi=De.useRef(null),Be=B=>{f({...jh,...B,isOpen:!0})},ke=()=>{f(B=>({...B,isOpen:!1}))},Gt=B=>{if(B&&B.trim()!==""){const Z=ic(B),me=ac(B);return Z&&me?(g(B),console.log("Servicios Gemini inicializados con API Key."),!0):(console.error("Fallo al inicializar uno o ambos servicios Gemini con la API Key."),ic(""),ac(""),g(null),!1)}else return ic(""),ac(""),g(null),console.log("Servicios Gemini desinicializados (sin API Key)."),!1};De.useEffect(()=>{let B=aN();B||(B=oN(),B&&Wh(B)),Gt(B)||Be({title:"Advertencia de API Key",message:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"No se ha encontrado o configurado una API Key de Gemini válida."}),E.jsxs("p",{children:["La generación de contenido no funcionará hasta que se configure una API Key en la pantalla de ",E.jsx("strong",{children:"Configuración"}),"."]})]}),type:"alert",confirmText:"Ir a Configuración",onConfirm:()=>{ke(),e(Te.SETTINGS)}})},[]),De.useEffect(()=>{gT(n)},[n]);const Gr=B=>{const Z=B.trim();Wh(Z);const me=Gt(Z);Be(Z&&me?{title:"API Key Guardada",message:"La API Key se ha guardado y los servicios de IA se han actualizado.",type:"alert",confirmText:"OK",onConfirm:ke}:Z&&!me?{title:"Error de API Key",message:"La API Key proporcionada no es válida o no se pudieron inicializar los servicios. Verifica la clave.",type:"alert",confirmText:"OK",onConfirm:ke}:{title:"API Key Limpiada",message:"La API Key guardada ha sido eliminada. Los servicios de IA están desactivados.",type:"alert",confirmText:"OK",onConfirm:ke})},eo=()=>{lN(),Gt(null),Be({title:"API Key Limpiada",message:"La API Key guardada ha sido eliminada. Los servicios de IA están desactivados.",type:"alert",confirmText:"OK",onConfirm:ke})},Qa=()=>{h(null),_(""),N([]),G(null),W({}),J(null),he(null),Y(null),ie(null),F(null),ze(null),P(null),Je(null),Vt(null),et(null),it(null)},wn=()=>{e(Te.HOME),Qa(),H(null),Se(null),Mt(null)},kr=()=>{e(Te.SETTINGS)},to=()=>{if(!vn()||!Qn()){Be({title:"API no disponible",message:"La creación de nuevas historias no está disponible. Por favor, configura tu API Key en la pantalla de Configuración.",type:"alert",confirmText:"Ir a Configuración",onConfirm:()=>{ke(),e(Te.SETTINGS)}});return}Qa(),e(Te.WORLD_SELECTION)},Un=y!=null&&y.isCustom?v:y==null?void 0:y.name,no=async B=>{if(h(B),_(""),G(null),N([]),!B.isCustom){if(!vn()){G("La API de Gemini para texto no está disponible (verifica API Key en Configuración)."),e(Te.ONBOARDING_QUESTIONS);return}e(Te.ONBOARDING_QUESTIONS_GENERATION_LOADING);try{const Z=await Qh(B.name);N(Z||[]),e(Te.ONBOARDING_QUESTIONS)}catch(Z){console.error("Error generando preguntas de onboarding:",Z),G(Z instanceof Error?Z.message:"Error desconocido al generar preguntas."),e(Te.ONBOARDING_QUESTIONS)}}},ei=async B=>{if(_(B),y&&y.isCustom){if(!vn()){G("La API de Gemini para texto no está disponible (verifica API Key en Configuración)."),e(Te.ONBOARDING_QUESTIONS);return}e(Te.ONBOARDING_QUESTIONS_GENERATION_LOADING);try{const Z=await Qh(B,B);N(Z||[]),e(Te.ONBOARDING_QUESTIONS)}catch(Z){console.error("Error generando preguntas para mundo personalizado:",Z),G(Z instanceof Error?Z.message:"Error desconocido al generar preguntas personalizadas."),e(Te.ONBOARDING_QUESTIONS)}}},bt=B=>{W(B),e(Te.PROTAGONIST_GENDER_SELECTION)},Cn=B=>{J(B),y&&z?It(y,v,z,B):(it("Faltan datos de mundo o respuestas para continuar con la selección de género."),e(Te.SETUP_DISPLAY))},It=async(B,Z,me,be)=>{if(!vn()||!Qn()){it("La API de Gemini no está configurada o disponible. Revisa la Configuración."),e(Te.SETUP_DISPLAY);return}vt(!0),it(null);let ae=null,ge=null,ft=null,Oe=null,Ee=null,Ue=null,Tt=null,ve=null,wt=null;Y(null),he(null),ie(null),F(null),ze(null),P(null),Je(null),Vt(null),et(null),e(Te.SETUP_GENERATION_LOADING);const _n=B.isCustom?Z:B.name;let mn=null,$t=!1,ea=!1,On=!1,ht="";if(S.length>0){const tt=S[S.length-1],Ie=me[tt.id],qt=tt.answers.find(ni=>ni.value===Ie);qt!=null&&qt.descriptor?Tt=qt.descriptor:Tt="un misterio profundo"}else Tt="un misterio profundo";Je(Tt);const ti=Object.entries(me).map(([tt,Ie])=>{const qt=S.find(pn=>pn.id===tt),ni=qt==null?void 0:qt.answers.find(pn=>pn.value===Ie);return{questionText:(qt==null?void 0:qt.text)||"",answerText:(ni==null?void 0:ni.text)||""}}).filter(tt=>tt.questionText&&tt.answerText);try{try{if(ti.length>0&&_n&&Tt)if(mn=await jM(_n,ti,Tt,be),mn)ft=mn.protagonistName,Oe=mn.protagonistArchetype,Ee=mn.centralTheme,Ue=mn.preambleText,ve=mn.initialDreamImageDescription,wt=mn.initialDreamImageCaption,$t=!0;else throw new Error("La generación de perfil no devolvió datos completos.");else console.warn("No hay respuestas/datos suficientes para generar el perfil narrativo completo."),ht+="Faltan datos para perfil completo (respuestas, mundo o descriptor). "}catch(Ie){console.error("Error generando perfil narrativo, descripción/leyenda de imagen inicial:",Ie),ht+=`Error perfil/img_desc: ${Ie instanceof Error?Ie.message:"Desconocido"}. `}if($t&&ve&&_n)try{ge=await yr(ve,_n,"sueño inicial para la historia"),ge?ea=!0:(console.warn("[App generateSetupDetails] La generación de imagen inicial devolvió null."),ht+="Error imagen: No se pudo generar la imagen del sueño inicial a partir de su descripción. ")}catch(Ie){console.error("[App generateSetupDetails] Error generando imagen del sueño inicial:",Ie),ht+=`Error imagen: ${Ie instanceof Error?Ie.message:"Desconocido"}. `}else $t&&!ve&&(ht+="Advertencia imagen: No se generó descripción para la imagen inicial en el perfil, por lo tanto no se puede generar la imagen. ");if($t&&Oe&&Ee&&_n)try{if(ae=await eN(_n,Oe,Ee),ae)On=!0;else throw new Error("La generación de título no devolvió texto.")}catch(Ie){console.error("Error generando título:",Ie),ht+=`Error título: ${Ie instanceof Error?Ie.message:"Desconocido"}. `}!ae&&_n&&(ae=`Aventura en ${_n}`),ie(ge),Vt(ve),et(wt),he(ft),F(Oe),ze(Ee),P(Ue),Y(ae);let tt=[];$t||tt.push("No se pudo generar el perfil del héroe (nombre, arquetipo, descripción de sueño, etc)."),$t&&!ea&&tt.push("No se pudo generar la imagen del sueño inicial."),$t&&!On&&ae&&ae.startsWith("Aventura en")&&tt.push("No se pudo generar un título único (se usó uno por defecto)."),tt.length>0?it(tt.join(" ")+(ht.trim()?" Detalles: "+ht.trim():"")):ht.trim()&&it("Algunos elementos no se generaron correctamente o faltaban datos. Detalles: "+ht.trim())}catch(tt){console.error("Error mayor en generateSetupDetails:",tt);const Ie=tt instanceof Error?tt.message:"Error desconocido.";it(Ie+(ht.trim()?" Detalles adicionales: "+ht.trim():""))}finally{vt(!1),e(Te.SETUP_DISPLAY)}},Pr=async()=>{const B=Un,Z=lt;if(!B||!Z){Be({title:"Faltan Datos para Regenerar",message:"No se puede regenerar la imagen porque falta información esencial (mundo o la descripción generada para la imagen).",type:"alert",confirmText:"Entendido",onConfirm:ke});return}if(!Qn()){it("La API de Gemini para imágenes no está configurada o disponible. Revisa la Configuración.");return}vt(!0);let me=Ge&&(Ge.toLowerCase().includes("imagen")||Ge.toLowerCase().includes("image"));if(me){const ae=(Ge||"").split(".").map(ge=>ge.trim()).filter(Boolean).filter(ge=>!ge.toLowerCase().includes("imagen")&&!ge.toLowerCase().includes("image"));it(ae.length>0?ae.join(". ")+".":null)}ie(null);try{const be=await yr(Z,B,"sueño inicial para la historia (regenerado)");if(ie(be),be)me&&(!Ge||Ge.trim()==="")&&it(null);else{const ae="No se pudo regenerar la imagen del sueño inicial.";it(ge=>ge?`${ge} ${ae}`:ae)}}catch(be){const ae=`Error al regenerar la imagen del sueño: ${be instanceof Error?be.message:"Desconocido"}.`;ie(null),it(ge=>ge?`${ge} ${ae}`:ae)}finally{vt(!1)}},qr=()=>{const B=Un;if(!B||!y){it("Faltan datos del mundo para guardar la historia."),e(Te.SETUP_DISPLAY);return}if(!j){it("Falta el género del protagonista para guardar la historia."),e(Te.SETUP_DISPLAY);return}const Z=lc({id:Date.now().toString(),title:le||`Aventura en ${B}`,worldName:B,worldId:y.id,onboardingAnswers:z,initialDreamDescriptor:_e,initialDreamImageDescription:lt,initialDreamImageCaption:ct,dreamImageUrl:we,protagonistName:re,protagonistGender:j,protagonistArchetype:L,centralTheme:oe,preambleText:x,creationDate:new Date().toISOString(),chapters:[],completedChaptersCount:0});a(me=>[Z,...me]),wn()},zr=B=>{H(B),e(Te.STORY_DETAIL),Se(null),Mt(null)},Qi=(B,Z)=>{if(!n.find(be=>be.id===B)){Be({title:"Error",message:"Historia no encontrada.",type:"alert",confirmText:"OK",onConfirm:ke});return}H(B),Se(Z),Mt(null),e(Te.CHAPTER_VIEW)},Wi=async(B,Z)=>{if(!vn()||!Qn())return Mt("La API de Gemini no está configurada o disponible. Revisa la Configuración."),!1;In(!0),Mt(null),e(Te.CHAPTER_GENERATION_LOADING);let me=null,be=null,ae=null,ge="",ft=!1;try{if(Z===0){me=B.dreamImageUrl;try{if(ae=await tN(B),ae&&ae.text&&ae.title&&ae.imageDescription&&ae.imageCaption)ft=!0;else throw new Error("La IA no devolvió el contenido completo (título, texto, descripción de imagen, leyenda) para el primer capítulo.")}catch(Ee){console.error("Error generando contenido del primer capítulo:",Ee),ge+=`Error contenido Cap 1: ${Ee instanceof Error?Ee.message:"Desconocido"}. `}}else{const Ee=B.chapters[Z-1],Ue=Ee==null?void 0:Ee.playerReflectionForNextChapter;Ue?(me=await iN(Ue,B.worldName),me||(console.warn(`[App generateChapterContent] La generación de imagen de sueño para Cap ${Z+1} devolvió null.`),ge+=`Error imagen sueño Cap ${Z+1}: No se pudo generar. `,me=B.dreamImageUrl)):(ge+="No se encontró la reflexión del jugador para generar el sueño de este capítulo. ",me=B.dreamImageUrl);const Tt=B.chapters.slice(0,Z).map((ve,wt)=>`--- Inicio Capítulo ${wt+1} (${ve.chapterTitle||"Sin título"}) ---
${ve.chapterText}
--- Fin Capítulo ${wt+1} ---
Reflexión del jugador que llevó a este capítulo (Cap ${wt+1}): ${ve.playerReflectionForNextChapter||"Sin reflexión específica."}

`).join(`
`);try{if(ae=await nN(B,Z,Ue,Tt),ae&&ae.text&&ae.title&&ae.imageDescription&&ae.imageCaption)ft=!0;else throw new Error(`La IA no devolvió el contenido completo (título, texto, descripción de imagen, leyenda) para el capítulo ${Z+1}.`)}catch(ve){console.error(`Error generando contenido del capítulo ${Z+1}:`,ve),ge+=`Error contenido Cap ${Z+1}: ${ve instanceof Error?ve.message:"Desconocido"}. `}}if(!ft||!ae)throw new Error("No se pudo generar el texto, título, descripción de imagen o leyenda del capítulo. "+(ge||"Razón desconocida."));ae.imageDescription?(be=await yr(ae.imageDescription,B.worldName,`contenido del Capítulo ${Z+1}`),be||(console.warn(`[App generateChapterContent] La generación de imagen de contenido para Cap ${Z+1} devolvió null.`),ge+=`Error imagen contenido Cap ${Z+1}: No se pudo generar. `)):ge+=`Advertencia: No se generó descripción de imagen para Cap ${Z+1}, por lo tanto no se generó imagen de contenido. `;const Oe={id:Date.now().toString()+Math.random().toString(36).substring(2),entryNumber:Z+1,date:new Date().toISOString(),chapterTitle:ae.title||`Capítulo ${Z+1}`,dreamImageForThisChapter:me,chapterContentImageUrl:be,imageDescription:ae.imageDescription,imageCaption:ae.imageCaption,chapterText:ae.text,playerReflectionForNextChapter:null};return a(Ee=>Ee.map(Ue=>Ue.id===B.id?{...Ue,chapters:[...Ue.chapters.slice(0,Z),Oe,...Ue.chapters.slice(Z+1)]}:Ue)),ge.trim()&&Mt("El contenido principal del capítulo se generó, pero algunos elementos (como imágenes) pueden haber fallado: "+ge.trim()),!0}catch(Oe){console.error("Error catastrófico en generateChapterContent:",Oe);const Ee=Oe instanceof Error?Oe.message:"Error desconocido al generar capítulo.";return Mt(Ee+(ge.trim()?" Detalles adicionales: "+ge.trim():"")),!1}finally{In(!1)}},Ln=async B=>{const Z=n.find(be=>be.id===B);if(!Z){Be({title:"Error",message:"Historia no encontrada.",type:"alert",confirmText:"OK",onConfirm:ke});return}if(!vn()||!Qn()){Be({title:"API no disponible",message:"La generación de capítulos no está disponible. Revisa la Configuración.",type:"alert",confirmText:"Ir a Configuración",onConfirm:()=>{ke(),e(Te.SETTINGS)}});return}const me=Z.completedChaptersCount;if(me>=30){Be({title:"Fin de la Aventura",message:"¡Has completado todos los capítulos! Próximamente: Epílogo.",type:"alert",confirmText:"Genial",onConfirm:ke});return}H(B),me<Z.chapters.length||await Wi(Z,me)?(Se(me),e(Te.CHAPTER_VIEW)):(e(Te.STORY_DETAIL),Be({title:"Error de Generación",message:`No se pudo generar el capítulo ${me+1}. ${Dt||"Inténtalo de nuevo."}`,type:"alert",confirmText:"Entendido",onConfirm:ke}))},ji=async(B,Z,me)=>{const be=n.find(ge=>ge.id===B);if(!be){Be({title:"Error",message:"Historia no encontrada para regenerar imagen.",type:"alert",confirmText:"OK",onConfirm:ke});return}if(!Qn()){const ge="La API de Gemini para imágenes no está configurada o disponible. Revisa la Configuración.";Mt(ge),Be({title:"API no disponible",message:ge,type:"alert",confirmText:"OK",onConfirm:ke});return}if(!me){Be({title:"Falta Descripción de Imagen",message:"No se puede regenerar la imagen del contenido del capítulo porque falta la descripción original.",type:"alert",confirmText:"Entendido",onConfirm:ke});return}In(!0);let ae=Dt&&(Dt.toLowerCase().includes("imagen")||Dt.toLowerCase().includes("image"));ae&&(Dt!=null&&Dt.includes(`Cap ${Z+1}`))&&Mt(null);try{const ge=await yr(me,be.worldName,`contenido del Capítulo ${Z+1} (regenerada)`);if(a(ft=>ft.map(Oe=>{if(Oe.id===B){const Ee=Oe.chapters.map((Ue,Tt)=>Tt===Z?{...Ue,chapterContentImageUrl:ge}:Ue);return{...Oe,chapters:Ee}}return Oe})),ge)ae&&(Dt!=null&&Dt.includes(`Cap ${Z+1}`))&&Mt(null),Be({title:"Imagen Regenerada",message:`La imagen de contenido para el Capítulo ${Z+1} se ha ${ge?"regenerado":"intentado regenerar (pero falló)"}.`,type:"alert",confirmText:"OK",onConfirm:ke});else{const ft=`No se pudo regenerar la imagen de contenido para Cap. ${Z+1}. Descripción usada: "${me}"`;Mt(ft),Be({title:"Fallo al Regenerar Imagen",message:ft,type:"alert",confirmText:"OK",onConfirm:ke})}}catch(ge){const ft=`Error extremo regenerando imagen de contenido para Cap. ${Z+1}: ${ge instanceof Error?ge.message:"Desconocido"}.`;Mt(ft)}finally{In(!1)}},Di=(B,Z,me)=>{a(be=>be.map(ae=>{if(ae.id===B){const ge=ae.chapters.map((Oe,Ee)=>Ee===Z?{...Oe,playerReflectionForNextChapter:me}:Oe),ft=Z===ae.completedChaptersCount?ae.completedChaptersCount+1:ae.completedChaptersCount;return{...ae,chapters:ge,completedChaptersCount:ft}}return ae})),Be({title:"Reflexión Guardada",message:"Tu sueño ha sido enviado al héroe.",type:"alert",confirmText:"Continuar",onConfirm:()=>{ke(),e(Te.STORY_DETAIL),Se(null)}})},Br=()=>{if(n.length===0){Be({title:"Sin Historias",message:"No hay historias para exportar.",type:"alert",confirmText:"OK",onConfirm:ke});return}try{const B=JSON.stringify(n,null,2),Z=new Blob([B],{type:"application/json"}),me=URL.createObjectURL(Z),be=document.createElement("a");be.href=me,be.download=`dreamloop_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(me),Be({title:"Exportación Exitosa",message:"Historias exportadas.",type:"alert",confirmText:"OK",onConfirm:ke})}catch(B){console.error("Error exportando historias:",B),Be({title:"Error de Exportación",message:`Error al exportar: ${B instanceof Error?B.message:"Desconocido"}`,type:"alert",confirmText:"OK",onConfirm:ke})}},io=B=>{var ae;const Z=(ae=B.target.files)==null?void 0:ae[0],me=B.target;if(!Z){me&&(me.value="");return}const be=new FileReader;be.onload=ge=>{var ft;try{const Oe=(ft=ge.target)==null?void 0:ft.result;if(!Oe||Oe.trim()===""){Be({title:"Error de Importación",message:"El archivo parece estar vacío.",type:"alert",confirmText:"OK",onConfirm:ke});return}let Ee;try{Ee=JSON.parse(Oe)}catch(ve){Be({title:"Error de Importación",message:`El archivo no contiene JSON válido. ${ve instanceof Error?ve.message:""}`,type:"alert",confirmText:"OK",onConfirm:ke});return}const Ue=Ee;if(!Array.isArray(Ue)){Be({title:"Error de Importación",message:"El JSON no es un array de historias.",type:"alert",confirmText:"OK",onConfirm:ke});return}if(!Ue.every(ve=>typeof ve.id=="string"&&typeof ve.title=="string"&&typeof ve.worldName=="string"&&typeof ve.worldId=="string"&&(typeof ve.initialDreamDescriptor=="string"||ve.initialDreamDescriptor===null)&&(typeof ve.initialDreamImageDescription=="string"||ve.initialDreamImageDescription===null)&&(typeof ve.initialDreamImageCaption=="string"||ve.initialDreamImageCaption===null)&&(typeof ve.protagonistName=="string"||ve.protagonistName===null)&&(typeof ve.protagonistGender=="string"||ve.protagonistGender===null)&&Array.isArray(ve.chapters)&&typeof ve.completedChaptersCount=="number"&&(!ve.chapters||ve.chapters.every(wt=>(typeof wt.chapterContentImageUrl=="string"||wt.chapterContentImageUrl===null)&&(typeof wt.imageDescription=="string"||wt.imageDescription===null)&&(typeof wt.imageCaption=="string"||wt.imageCaption===null))))){Be({title:"Error de Importación",message:"Algunas historias en el archivo no tienen el formato esperado o faltan campos esenciales (incluyendo nombre/género del protagonista, descripciones/leyendas de imagen inicial, y datos de capítulo como imageCaption).",type:"alert",confirmText:"OK",onConfirm:ke});return}Be({title:"Confirmar Importación",message:`¿Reemplazar ${n.length} historia(s) con ${Ue.length} del archivo?`,type:"confirm",confirmText:"Reemplazar",onConfirm:()=>{const ve=Ue.map(lc);a(ve),ke(),Be({title:"Importación Exitosa",message:`Se importaron ${ve.length} historias.`,type:"alert",confirmText:"OK",onConfirm:ke})},cancelText:"Cancelar",onCancel:ke})}catch(Oe){Be({title:"Error Inesperado",message:`Error al importar: ${Oe instanceof Error?Oe.message:"Desconocido"}`,type:"alert",confirmText:"OK",onConfirm:ke})}finally{me&&(me.value="")}},be.onerror=()=>{Be({title:"Error de Lectura",message:"No se pudo leer el archivo.",type:"alert",confirmText:"OK",onConfirm:ke}),me&&(me.value="")},be.readAsText(Z)},kt=n.find(B=>B.id===K),Pt=kt&&typeof ne=="number"?kt.chapters[ne]:null;let dn=null;return Pt&&(Pt.imageCaption?dn=Pt.imageCaption:Pt.imageDescription?dn=Pt.imageDescription:Pt.chapterTitle?dn=`Visualización para: ${Pt.chapterTitle}`:dn=`Visualización para el Capítulo ${Pt.entryNumber}`),E.jsxs(E.Fragment,{children:[E.jsx(jv,{onNavigateHome:wn,onNavigateSettings:kr}),E.jsx("input",{type:"file",ref:Xi,style:{display:"none"},accept:".json",onChange:io,"aria-hidden":"true"}),E.jsx(eT,{...r,onClose:ke}),E.jsxs("div",{className:"app-container",role:"application",children:[E.jsxs("main",{className:"app-main",children:[o===Te.HOME&&E.jsx(nT,{stories:n,onCreateNew:to,onSelectStory:zr}),o===Te.SETTINGS&&E.jsx(pT,{currentApiKey:m,onApiKeySubmit:Gr,onApiKeyClear:eo,onExport:Br,onImportTrigger:()=>{var B;return(B=Xi.current)==null?void 0:B.click()},onNavigateHome:wn}),o===Te.WORLD_SELECTION&&E.jsx(iT,{onSelectWorld:no,onCustomWorldSubmit:ei,selectedWorldId:y==null?void 0:y.id}),o===Te.ONBOARDING_QUESTIONS_GENERATION_LOADING&&E.jsx(aT,{worldName:Un||"el mundo elegido"}),o===Te.ONBOARDING_QUESTIONS&&E.jsx(lT,{worldName:Un||"este mundo",questions:S,onSubmit:bt,error:U,onRetry:()=>y&&(y.isCustom&&v?ei(v):no(y))}),o===Te.PROTAGONIST_GENDER_SELECTION&&E.jsx(rT,{worldName:Un||"este mundo",onSubmit:Cn}),o===Te.SETUP_GENERATION_LOADING&&E.jsx(sT,{worldName:Un||"este mundo"}),o===Te.SETUP_DISPLAY&&E.jsx(uT,{storyTitle:le,worldName:Un||"este mundo",imageUrl:we,initialDreamImageCaption:ct,protagonistName:re,archetype:L,theme:oe,preambleText:x,error:Ge,onContinue:qr,onRegenerateInitialDreamImage:Pr,isGenerating:de,canSave:!!y&&!!j&&(!!le||!!Ge||!!we||!!x||!!re||!!_e)}),o===Te.STORY_DETAIL&&kt&&E.jsx(fT,{story:kt,onNavigateHome:wn,onContinueChapter:Ln,onViewChapter:Qi}),o===Te.CHAPTER_GENERATION_LOADING&&kt&&E.jsx(dT,{storyTitle:kt.title,chapterNumber:((kt==null?void 0:kt.completedChaptersCount)??0)+1}),o===Te.CHAPTER_VIEW&&kt&&Pt&&typeof ne=="number"&&E.jsx(mT,{story:kt,chapter:Pt,chapterIndex:ne,imageCaption:dn,onSaveReflection:Di,onNavigateBack:()=>{e(Te.STORY_DETAIL),Se(null)},isLoading:Xa,error:Dt,onRegenerateChapterContentImage:ji})]}),E.jsx("footer",{className:"app-footer",children:E.jsxs("p",{children:["© ",new Date().getFullYear()," DreamLoop. La aventura de tu héroe te espera."]})})]})]})}const Ig=document.getElementById("root");if(!Ig)throw new Error("Could not find root element to mount to");const sN=Qv.createRoot(Ig);sN.render(E.jsx(Hv.StrictMode,{children:E.jsx(rN,{})}));
