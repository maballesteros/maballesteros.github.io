body{margin:0;font-family:Quicksand,sans-serif;background:linear-gradient(-45deg,#0a0514,#1a0f2c,#2c1a4b,#4b2a6b);background-size:400% 400%;animation:gradientBG 25s ease infinite;color:#e0e8ff;min-height:100vh;box-sizing:border-box;overflow-x:hidden}@keyframes gradientBG{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}#root{width:100%;display:flex;flex-direction:column;align-items:center;position:relative}.app-container{background-color:#12121f4d;padding:25px clamp(15px,4vw,40px);border-radius:12px;width:100%;max-width:960px;box-sizing:border-box;margin-top:20px;margin-bottom:20px;box-shadow:0 0 30px #0000004d,inset 0 0 15px #2c1a4b33}.app-main{margin-top:20px;margin-bottom:40px;min-height:300px;text-align:center}section h2{font-family:Cinzel Decorative,serif;font-weight:400;font-size:clamp(1.8em,4.5vw,2.5em);color:#c0b0ff;margin-bottom:25px;text-align:center;text-shadow:0 0 8px rgba(192,176,255,.5)}section p{font-size:clamp(1.05em,2.5vw,1.15em);line-height:1.7;margin-bottom:25px;color:#d0d8f0;max-width:700px;margin-left:auto;margin-right:auto;text-align:center;font-weight:400}button{background:linear-gradient(145deg,#8e44ad,#3498db);color:#fff;border:none;padding:14px 28px;font-size:clamp(1em,2.5vw,1.05em);font-family:Quicksand,sans-serif;font-weight:700;border-radius:25px;cursor:pointer;transition:all .3s ease-out;margin:12px 6px;box-shadow:0 4px 15px #0003,0 2px 5px #8e44ad4d;text-transform:uppercase;letter-spacing:.5px}button:hover:not(:disabled){background:linear-gradient(145deg,#9b59b6,#2980b9);transform:translateY(-3px) scale(1.03);box-shadow:0 6px 20px #00000040,0 3px 8px #9b59b666}button:focus-visible{outline:3px solid #8e44ad80;outline-offset:3px}button:active:not(:disabled){transform:translateY(-1px) scale(1.01);box-shadow:0 2px 10px #0003,0 1px 3px #8e44ad33}button:disabled{background:linear-gradient(145deg,#5a5a7a,#4a4a6a);cursor:not-allowed;opacity:.6;box-shadow:none;transform:none}.cta-button,.main-cta-button{background:linear-gradient(145deg,#f39c12,#e67e22);font-size:clamp(1.15em,3vw,1.2em);padding:16px 32px;box-shadow:0 4px 15px #0003,0 2px 5px #f39c1266}.cta-button:hover:not(:disabled),.main-cta-button:hover:not(:disabled){background:linear-gradient(145deg,#f1c40f,#d35400);box-shadow:0 6px 20px #00000040,0 3px 8px #f1c40f80}.secondary-action-button{background:linear-gradient(145deg,#6c757d,#495057);color:#e0e8ff;font-size:clamp(.95em,2.3vw,1em);padding:12px 24px;text-transform:none;letter-spacing:normal}.secondary-action-button:hover:not(:disabled){background:linear-gradient(145deg,#868e96,#5a6268);color:#fff;box-shadow:0 5px 18px #00000038,0 2px 7px #6c757d59}.app-footer{margin-top:50px;font-size:.95em;color:#8070a0;border-top:1px solid rgba(171,130,255,.15);padding-top:25px;width:100%;max-width:960px;text-align:center;box-sizing:border-box;font-weight:400}.app-global-header{width:100%;background-color:#0a051499;padding:15px 30px;box-shadow:0 5px 25px #2c1a4bb3;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:1000;border-bottom:1px solid rgba(171,130,255,.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.header-title-button{background:none;border:none;padding:0;cursor:pointer;margin-right:auto}.app-global-header h1{font-family:Cinzel Decorative,serif;font-size:clamp(2em,5vw,2.8em);color:#f0d0ff;margin:0;text-shadow:0 0 10px rgba(220,180,255,.8),0 0 20px rgba(220,180,255,.5);transition:color .4s ease,text-shadow .4s ease;font-weight:700}.header-title-button:hover h1{color:#fff0ff;text-shadow:0 0 15px rgba(240,200,255,1),0 0 30px rgba(240,200,255,.7)}.header-actions{display:flex;gap:12px}.header-action-button{background:linear-gradient(145deg,#4b2a6bcc,#321c47cc);color:#e0d8ff;padding:8px;font-size:1.25rem;line-height:1;font-family:Quicksand,sans-serif;font-weight:500;border-radius:8px;border:1px solid rgba(171,130,255,.4);box-shadow:0 2px 8px #0000004d;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}.header-action-button:hover:not(:disabled){background:linear-gradient(145deg,#5f3e89e6,#46305be6);border-color:#c8aaff99;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #4b2a6b80}.header-action-button svg{display:block}@media (max-width: 600px){.app-global-header{padding:12px 15px}.app-global-header h1{font-size:clamp(1.7em,4.5vw,2.2em)}.header-actions{gap:8px}.header-action-button{padding:6px;font-size:1.1rem}}@media (max-width: 400px){.app-global-header h1{font-size:clamp(1.5em,4vw,2em)}.header-action-button{padding:5px;font-size:1rem}.header-actions{gap:5px}}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#0a0514d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:2000;padding:20px;animation:fadeInModal .3s ease-out}@keyframes fadeInModal{0%{opacity:0}to{opacity:1}}.modal-container{background:linear-gradient(170deg,#23193cf2,#372855e6);padding:30px 35px;border-radius:18px;box-shadow:0 10px 40px #0009,0 0 20px #ab82ff4d inset;width:100%;max-width:550px;border:1px solid rgba(171,130,255,.4);text-align:left;animation:slideInModal .4s ease-out;position:relative}@keyframes slideInModal{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid rgba(171,130,255,.2)}.modal-header #modal-title{font-family:Cinzel Decorative,serif;font-weight:700;font-size:clamp(1.5em,4vw,1.9em);color:#f0d0ff;margin:0;text-shadow:0 0 8px rgba(220,180,255,.6)}.modal-close-button{background:none!important;border:none!important;color:#b0a0d0!important;font-size:2.2em!important;font-weight:300!important;padding:0 5px!important;line-height:1!important;cursor:pointer!important;transition:color .3s ease,transform .3s ease!important;margin:0!important;text-transform:none!important;box-shadow:none!important;border-radius:0!important;letter-spacing:normal!important}.modal-close-button:hover{color:#e8e0ff!important;transform:rotate(90deg) scale(1.1)!important;background:none!important;box-shadow:none!important}.modal-body{margin-bottom:30px;max-height:60vh;overflow-y:auto}.modal-body p{font-family:Quicksand,sans-serif;font-size:clamp(1.05em,2.5vw,1.15em);line-height:1.75;color:#e0e8ff;text-align:left;font-weight:400;max-width:none;margin:0}.modal-actions{display:flex;justify-content:flex-end;gap:15px;padding-top:15px;border-top:1px solid rgba(171,130,255,.2)}.modal-button{padding:12px 25px;font-size:clamp(.95em,2.2vw,1em);border-radius:20px;font-weight:700}.modal-button-confirm{background:linear-gradient(145deg,#f39c12,#e67e22)}.modal-button-confirm:hover:not(:disabled){background:linear-gradient(145deg,#f1c40f,#d35400)}.modal-button-cancel{background:linear-gradient(145deg,#6c757d,#495057);color:#e0e8ff}.modal-button-cancel:hover:not(:disabled){background:linear-gradient(145deg,#868e96,#5a6268);color:#fff}.story-card{background:linear-gradient(160deg,#1e1432d9,#2d1e46bf);border-radius:15px;padding:25px;box-shadow:0 8px 30px #00000080,0 0 10px #ab82ff33 inset;border:1px solid rgba(171,130,255,.3);transition:transform .3s ease-out,box-shadow .3s ease-out;text-align:left;display:flex;flex-direction:column;overflow:hidden;position:relative;cursor:pointer}.story-card:focus-visible{outline:3px solid rgba(171,130,255,.6);outline-offset:2px;box-shadow:0 10px 35px #0000008c,0 0 12px #c8aaff59 inset,0 0 18px #c8aaff26}.story-card:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 40px #0009,0 0 15px #c8aaff66 inset,0 0 20px #c8aaff33}.story-card:before{content:"";position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(to right,transparent 0%,rgba(255,255,255,.1) 50%,transparent 100%);transform:skew(-25deg);transition:left .7s ease-in-out}.story-card:hover:before{left:150%}.story-card-image{width:100%;height:200px;object-fit:cover;border-radius:10px;margin-bottom:18px;background-color:#151020;border:1px solid rgba(171,130,255,.2);box-shadow:0 3px 10px #0000004d}.story-card-image-placeholder{width:100%;height:200px;border-radius:10px;margin-bottom:18px;background:linear-gradient(135deg,#281e3c,#3c285a);display:flex;align-items:center;justify-content:center;border:1px solid rgba(171,130,255,.2)}.story-card-image-placeholder span{font-family:Cinzel Decorative,serif;font-size:3.5em;color:#ab82ff66;font-weight:700;text-shadow:0 0 5px rgba(171,130,255,.2)}.story-card-content{flex-grow:1}.story-card-title{font-family:Cinzel Decorative,serif;font-weight:400;font-size:1.6em;color:#e8e0ff;margin:0 0 10px;text-shadow:0 0 5px rgba(232,224,255,.4)}.story-card-world,.story-card-date,.story-card-details{font-size:.95em;color:#b0a0d0;margin-bottom:6px;font-weight:400}.story-card-details{color:#c8b8e8;font-style:normal;font-weight:500}@media (min-width: 768px){.story-card{padding:30px}}.home-screen{padding:15px 0}.no-stories-message{margin:40px auto;padding:30px;background-color:#1a0f2cb3;border-radius:12px;border:1px solid rgba(171,130,255,.2);max-width:550px;box-shadow:0 5px 20px #0000004d}.no-stories-message p{font-size:1.15em;color:#e0d8ff;margin-bottom:12px;font-weight:500;max-width:none;text-align:center}.story-gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:30px;margin-top:35px;padding:0 15px}.create-new-story-card{background:linear-gradient(160deg,#1e1432d9,#2d1e46bf);border-radius:15px;padding:25px;box-shadow:0 8px 30px #00000080,0 0 10px #ab82ff33 inset;border:2px dashed rgba(171,130,255,.5);transition:transform .3s ease-out,box-shadow .3s ease-out;text-align:center;display:flex;flex-direction:column;overflow:hidden;position:relative;align-items:center;justify-content:center;cursor:pointer;min-height:250px;color:#d8c8ff;font-family:Quicksand,sans-serif;font-weight:500;text-transform:none;letter-spacing:normal;margin:0}.create-new-story-card:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 40px #0009,0 0 15px #c8aaff66 inset,0 0 20px #c8aaff33;border-color:#c8aaffb3}.create-new-story-card:before{content:"";position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(to right,transparent 0%,rgba(255,255,255,.1) 50%,transparent 100%);transform:skew(-25deg);transition:left .7s ease-in-out}.create-new-story-card:hover:before{left:150%}.create-new-story-card .plus-icon{font-size:3.5em;font-weight:300;color:#c0b0ff;margin-bottom:15px;line-height:1;text-shadow:0 0 15px rgba(192,176,255,.7);animation:pulseIcon 2s infinite ease-in-out}@keyframes pulseIcon{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.1);opacity:1}}.create-new-story-card p{font-size:1.3em;color:#d8c8ff;font-weight:500;margin:0;max-width:none;line-height:normal}@media (min-width: 768px){.story-gallery{grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:35px;padding:0 25px}.create-new-story-card{padding:30px}}.world-selection-screen{padding:15px 0}.world-options{display:flex;flex-wrap:wrap;gap:18px;margin-top:30px;justify-content:center}.world-button{background:linear-gradient(145deg,#5d3d7c,#4a235a);padding:18px;width:100%;max-width:300px;font-family:Quicksand,sans-serif;font-weight:700;border-radius:12px;box-shadow:0 3px 10px #0000004d,inset 0 0 5px #ffffff0d;flex-grow:1;text-transform:none;letter-spacing:normal;border:1px solid transparent;margin:0}.world-button.selected{background:linear-gradient(145deg,#8e44ad,#c39bd3);color:#fff;box-shadow:0 0 15px #8e44ad99;border-color:#dcb4ffb3!important}.world-button.custom-world-button{border:2px dashed rgba(171,130,255,.5);background:linear-gradient(145deg,#4a235a,#3b1c47)}.world-button.custom-world-button.selected{border:2px solid #c39bd3!important}.world-button:hover:not(:disabled){background:linear-gradient(145deg,#6c4a8c,#5a336a);box-shadow:0 5px 15px #0006,inset 0 0 8px #ffffff1a;transform:translateY(-2px) scale(1.02);border-color:#ab82ff4d}.world-button.selected:hover:not(:disabled){background:linear-gradient(145deg,#9b59b6,#d369e0);transform:translateY(-2px) scale(1.02)}.custom-world-form{margin-top:30px;padding:25px;background-color:#1a0f2cb3;border-radius:12px;border:1px solid rgba(171,130,255,.25);display:flex;flex-direction:column;align-items:center;gap:15px;max-width:600px;margin-left:auto;margin-right:auto}.custom-world-label{font-size:1.1em;color:#d8c8ff;font-weight:500;margin-bottom:5px;text-align:center;width:100%}.custom-world-input{width:100%;padding:12px 15px;font-family:Quicksand,sans-serif;font-size:1em;color:#1c102c;background-color:#e6dcffe6;border:1px solid rgba(171,130,255,.5);border-radius:8px;box-shadow:inset 0 1px 3px #0000001a;box-sizing:border-box}.custom-world-input:focus{outline:none;border-color:#8e44ad;box-shadow:inset 0 1px 3px #0000001a,0 0 0 3px #8e44ad4d;background-color:#f0e6ff}@media (min-width: 600px){.world-button{width:auto;min-width:200px;flex-basis:calc(33.333% - 18px)}}@media (max-width: 599px){.world-button{flex-basis:calc(50% - 9px)}}.spinner{width:60px;height:60px;border:4px solid rgba(171,130,255,.2);border-top-color:#f0d0ff;border-radius:50%;animation:spin 1.2s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.loading-screen{padding:50px 25px;text-align:center}.loading-screen .spinner{margin:35px auto}.loading-screen em{color:#b0a0d0;display:block;margin-top:18px;font-style:normal;font-weight:500}.loading-screen.minimal-loading{padding:25px}.loading-screen.minimal-loading .spinner{width:35px;height:35px;border-width:3px;margin:18px auto}.loading-screen.minimal-loading p{font-size:1em;color:#b8a8d8;margin-bottom:0}.error-message{background-color:#422c;border:1px solid rgba(255,107,107,.7);color:#ffcdd2;padding:20px 25px;border-radius:10px;margin:25px auto;max-width:90%;text-align:left;box-shadow:0 3px 15px #44222280}.error-message h3{font-family:Quicksand,sans-serif;font-weight:700;color:#ff9a9a;margin-top:0;margin-bottom:12px;font-size:1.25em}.error-message p{margin-bottom:10px;font-size:1em;color:#f8d0d0;text-align:left}.error-message p:last-child{margin-bottom:0}@media (min-width: 600px){.error-message{max-width:650px}}.onboarding-questions-screen{padding:15px 0}.onboarding-questions-screen form{display:flex;flex-direction:column;gap:30px}.question-block{border:1px solid rgba(171,130,255,.25);padding:25px;border-radius:12px;background-color:#1a0f2c99;box-shadow:0 4px 15px #0000004d;margin:0}.question-text{font-size:clamp(1.15em,3vw,1.3em);color:#d8c8ff;margin-bottom:18px;padding:0 5px;font-weight:500;width:100%;text-align:left;line-height:1.5;display:block}.answer-options{display:flex;flex-direction:column;gap:12px}.answer-button{background:#4a4a6a80;color:#e0e8ff;text-align:left;padding:14px 20px;width:100%;box-sizing:border-box;border-radius:8px;border:1px solid rgba(171,130,255,.2);transition:all .25s ease;font-weight:500;text-transform:none;letter-spacing:normal;margin:0}.answer-button:hover:not(:disabled){background:#5a5a82b3;border-color:#ab82ff66;transform:translate(5px);box-shadow:0 2px 8px #00000026}.answer-button.selected{background:linear-gradient(145deg,#8e44ad,#c39bd3);color:#fff;box-shadow:0 0 15px #8e44ad99;border-color:#dcb4ffb3;transform:translate(0)}.answer-button.selected:hover:not(:disabled){transform:translate(0) scale(1.02);background:linear-gradient(145deg,#9b59b6,#d369e0)}.gender-selection-screen{padding:15px 0}.gender-selection-screen form{display:flex;flex-direction:column;align-items:center;gap:20px;margin-top:20px}.gender-options{display:flex;flex-wrap:wrap;justify-content:center;gap:15px;margin-bottom:15px}.gender-button{background:#4a4a6a80;color:#e0e8ff;text-align:center;padding:14px 25px;min-width:150px;border-radius:8px;border:1px solid rgba(171,130,255,.2);transition:all .25s ease;font-weight:500;text-transform:none;letter-spacing:normal;margin:0}.gender-button:hover:not(:disabled){background:#5a5a82b3;border-color:#ab82ff66;transform:translateY(-1px);box-shadow:0 1px 5px #0000001a}.gender-button.selected{background:linear-gradient(145deg,#8e44ad,#c39bd3);color:#fff;box-shadow:0 0 15px #8e44ad99;border-color:#dcb4ffb3}.gender-button.selected:hover:not(:disabled){background:linear-gradient(145deg,#9b59b6,#d369e0);transform:scale(1.02)}.gender-custom-input-container{display:flex;flex-direction:column;align-items:center;gap:10px;width:100%;max-width:400px;margin-top:10px}.gender-custom-input{width:100%;padding:12px 15px;font-family:Quicksand,sans-serif;font-size:1em;color:#1c102c;background-color:#e6dcffe6;border:1px solid rgba(171,130,255,.5);border-radius:8px;box-shadow:inset 0 1px 3px #0000001a;box-sizing:border-box}.gender-custom-input:focus{outline:none;border-color:#8e44ad;box-shadow:inset 0 1px 3px #0000001a,0 0 0 3px #8e44ad4d;background-color:#f0e6ff}@media (min-width: 600px){.gender-options{flex-direction:row}.gender-button{min-width:180px}}@media (max-width: 599px){.gender-options{flex-direction:column;align-items:center}.gender-button{width:100%;max-width:300px}}.setup-display-screen{padding:25px 0}.setup-display-screen>h2{margin-bottom:30px}.story-title-display{font-family:Cinzel Decorative,serif;font-weight:700;font-size:clamp(1.6em,4vw,2.2em);color:#f0d0ff;margin-bottom:25px;text-shadow:0 0 10px rgba(220,180,255,.7),0 0 5px rgba(220,180,255,.5);text-align:center}.setup-display-screen .dream-image-section{margin-bottom:40px;border-radius:12px;padding:15px 0;text-align:center}.setup-display-screen .dream-image-section h4{font-family:Quicksand,sans-serif;font-weight:700;font-size:clamp(1.35em,3.5vw,1.6em);color:#d8c8ff;margin-top:0;margin-bottom:18px;text-shadow:0 0 6px rgba(216,200,255,.3)}.setup-display-screen .dream-image-container{margin:0 auto 25px;max-width:100%;width:clamp(300px,80vw,550px);aspect-ratio:16 / 9;display:flex;justify-content:center;align-items:center;background-color:#100818;border-radius:10px;overflow:hidden;border:1px solid rgba(171,130,255,.3);box-shadow:0 5px 20px #0006}.setup-display-screen .dream-image-container img{width:100%;height:100%;object-fit:cover;display:block;opacity:.9;transition:opacity .3s ease}.setup-display-screen .dream-image-container:hover img{opacity:1}.setup-display-screen .image-caption{font-style:italic;color:#c8b8e8;text-align:center;margin-top:-15px;margin-bottom:25px;font-size:clamp(.9em,2vw,1em);line-height:1.5}.setup-display-screen .image-caption.fallback-caption{font-size:.95em;color:#b0a0d0;margin-top:8px}.setup-display-screen .profile-details-section,.setup-display-screen .preamble-section{margin-bottom:40px;border-radius:12px;padding:15px;text-align:left}.setup-display-screen .profile-details-section h4,.setup-display-screen .preamble-section h4{font-family:Quicksand,sans-serif;font-weight:700;font-size:clamp(1.35em,3.5vw,1.6em);color:#d8c8ff;margin-top:0;margin-bottom:18px;text-shadow:0 0 6px rgba(216,200,255,.3);border-bottom:1px solid rgba(171,130,255,.15);padding-bottom:10px}.setup-display-screen .profile-details-section h5{color:#c8b8e8;font-size:clamp(1.15em,3vw,1.25em);margin-top:12px;margin-bottom:6px;font-weight:700}.setup-display-screen .profile-details{background-color:#ffffff05;border:1px solid rgba(171,130,255,.15);border-radius:10px;padding:25px;margin-top:12px}.setup-display-screen .profile-details p{color:#d8e0f8;margin-bottom:12px;font-size:clamp(1.05em,2.5vw,1.1em);font-weight:400;max-width:none;text-align:left;margin-left:0;margin-right:0}.setup-display-screen .profile-details p:last-of-type{margin-bottom:0}.setup-display-screen .profile-name,.setup-display-screen .profile-archetype,.setup-display-screen .profile-theme{font-weight:500;color:#e8f0ff}.setup-display-screen .preamble-text{font-size:clamp(1.05em,2.8vw,1.15em);line-height:1.8;color:#e0e8ff;white-space:pre-wrap;text-align:justify;background-color:#ffffff05;padding:20px;border-radius:8px;border-left:4px solid #ab82ff}.setup-display-screen .preamble-text p{font-size:inherit;line-height:inherit;color:inherit;margin-bottom:1em;text-align:inherit;max-width:none}.setup-display-screen .preamble-text p:last-child{margin-bottom:0}.regenerate-action-container{margin-top:20px;margin-bottom:20px;text-align:center}.regenerate-button{background:linear-gradient(145deg,#785a9b,#5f3f7c);color:#f0e8ff}.regenerate-button:hover:not(:disabled){background:linear-gradient(145deg,#8c6fb3,#725291);color:#fff}.setup-display-screen .main-cta-button{margin-top:10px}.story-detail-screen{padding:25px 0;text-align:center}.story-detail-screen>h2:first-of-type{font-family:Cinzel Decorative,serif;font-weight:700;font-size:clamp(1.6em,4vw,2.2em);color:#f0d0ff;margin-bottom:15px;text-shadow:0 0 10px rgba(220,180,255,.7),0 0 5px rgba(220,180,255,.5)}.protagonist-info{font-size:1.1em;color:#d8c8ff;margin-bottom:30px;text-align:center;background-color:#1a0f2c80;padding:10px 15px;border-radius:8px;border:1px solid rgba(171,130,255,.2);display:inline-block}.protagonist-info strong{color:#f0d0ff;font-weight:700}.story-detail-section-title{font-family:Quicksand,sans-serif;font-weight:700;font-size:clamp(1.4em,3.8vw,1.7em);color:#d8c8ff;margin-top:45px;margin-bottom:20px;text-align:center;text-shadow:0 0 6px rgba(216,200,255,.3)}.story-detail-dream-figure{margin:0 auto 35px;max-width:100%;width:clamp(300px,80vw,600px);background-color:#100818;border-radius:10px;overflow:hidden;border:1px solid rgba(171,130,255,.2);box-shadow:0 5px 20px #0000004d}.story-detail-dream-figure img{width:100%;height:auto;max-height:70vh;object-fit:contain;display:block;border-radius:10px}.story-detail-preamble-text{font-family:Georgia,Times New Roman,serif;font-size:clamp(1.1em,2.5vw,1.25em);line-height:1.85;color:#e8f0ff;text-align:justify;max-width:720px;margin:0 auto 40px;padding:0 15px}.story-detail-preamble-text p{margin-bottom:1.4em;white-space:normal;text-align:justify;color:#e8f0ff;font-family:inherit;font-size:inherit;line-height:inherit;max-width:none;margin-left:0;margin-right:0}.story-detail-preamble-text p:last-child{margin-bottom:0}.story-detail-preamble-text p:empty,.story-detail-preamble-text p>br:only-child{display:none}.story-detail-preamble-text p>.nbsp:only-child{display:none}.story-detail-chapters-list{list-style-type:none;padding-left:0;margin-top:10px;max-width:750px;margin-left:auto;margin-right:auto}.story-detail-chapter-item{background-color:#1e143299;border-radius:10px;margin-bottom:20px;border:1px solid rgba(171,130,255,.2);transition:background-color .3s,border-color .3s,transform .2s;box-shadow:0 3px 10px #0003;overflow:hidden;padding:0;display:flex;flex-direction:column;cursor:pointer}.story-detail-chapter-item:hover,.story-detail-chapter-item:focus-visible{background-color:#2d1e46bf;border-color:#ab82ff66;transform:translateY(-3px);outline:none;box-shadow:0 6px 15px #0000004d}.story-detail-chapter-item:focus-visible{box-shadow:0 0 0 2px #ab82ff80,0 6px 15px #0000004d}.story-detail-chapter-item-image,.story-detail-chapter-item-image-placeholder{width:100%;height:180px;object-fit:cover;background-color:#2a1f3d;border-bottom:1px solid rgba(171,130,255,.15);margin-bottom:0}.story-detail-chapter-item-image-placeholder{display:flex;align-items:center;justify-content:center;font-family:Cinzel Decorative,serif;font-size:3em;color:#ab82ff66}.story-detail-chapter-item-content{padding:15px 20px;display:flex;flex-direction:column;gap:6px;text-align:left}.story-detail-chapter-item-content strong{color:#e0d0ff;display:block;font-weight:600;font-size:1.15em;font-family:Quicksand,sans-serif;text-align:left;line-height:1.3}.story-detail-chapter-item-content .chapter-text-preview{margin:0;font-size:.95em;color:#c8b8e8;line-height:1.6;text-align:left;font-weight:400;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-height:6.4em}.story-detail-chapter-item-content em{font-size:.9em;color:#b0a0d0;font-weight:500;text-align:left;font-style:normal}.story-detail-chapter-item-content .chapter-date{font-size:.85em;color:#9888b8;font-style:italic;font-weight:400;text-align:left}.no-chapters-message{font-size:1.1em;color:#c8b8e8;margin-top:15px;font-style:italic;text-align:center}.story-detail-actions{margin-top:40px;display:flex;flex-wrap:wrap;justify-content:center;gap:15px}.chapter-view-screen{padding:25px 0}.chapter-view-screen>h2#chapter-main-title{font-family:Cinzel Decorative,serif;font-weight:700;font-size:clamp(2em,5vw,2.8em);color:#f0d0ff;margin-bottom:10px;text-shadow:0 0 12px rgba(220,180,255,.7);line-height:1.3}.chapter-view-screen .story-context-title{font-size:1em;color:#b0a0d0;margin-top:0;margin-bottom:25px;text-align:center;font-style:italic}.chapter-image-figure{margin:0 auto 30px;max-width:100%;width:clamp(300px,80vw,600px);background-color:#100818;border-radius:10px;overflow:hidden;border:1px solid rgba(171,130,255,.2);box-shadow:0 5px 20px #0000004d;text-align:center}.chapter-image-figure img{width:100%;height:auto;max-height:70vh;object-fit:contain;display:block;border-radius:10px}.image-caption{padding:10px 15px;font-size:clamp(.9em,2vw,1em);font-style:italic;color:#c8b8e8;line-height:1.5;background-color:#0a05144d}.chapter-no-dream-message{text-align:center;margin:20px auto 30px;padding:20px;background-color:#1a0f2c80;border:1px dashed rgba(171,130,255,.3);border-radius:8px;max-width:80%}.chapter-no-dream-message p{color:#c8b8e8;font-style:italic;margin-bottom:8px;max-width:none;text-align:center}.image-caption.fallback-caption{font-size:.95em;color:#b0a0d0;margin-top:8px;background-color:transparent;padding:5px}.chapter-text-content{font-family:Georgia,Times New Roman,serif;font-size:clamp(1.1em,2.5vw,1.25em);line-height:1.85;color:#e8f0ff;text-align:justify;white-space:normal;max-width:720px;margin:20px auto 40px;padding:0 15px}.chapter-text-content p{margin-bottom:1.4em;white-space:normal;text-align:justify;color:#e8f0ff;font-family:inherit;font-size:inherit;line-height:inherit;max-width:none;margin-left:0;margin-right:0}.chapter-text-content p:last-child{margin-bottom:0}.chapter-text-content p:empty,.chapter-text-content p>br:only-child{display:none}.chapter-text-content p>.nbsp:only-child{display:none}.reflection-section{margin-top:40px;background-color:#1a0f2cbf;border-radius:12px;padding:30px;border:1px solid rgba(171,130,255,.3);box-shadow:0 5px 20px #0006;text-align:center;max-width:720px;margin-left:auto;margin-right:auto}.reflection-section h4{font-family:Quicksand,sans-serif;font-weight:700;font-size:clamp(1.35em,3.5vw,1.6em);color:#d8c8ff;margin-top:0;margin-bottom:20px;text-shadow:0 0 6px rgba(216,200,255,.3);border-bottom:1px solid rgba(171,130,255,.15);padding-bottom:10px}.reflection-notice{font-size:.9em;color:#f0c0ff;margin-bottom:10px;font-style:italic}.reflection-textarea{width:100%;max-width:600px;padding:15px;font-family:Quicksand,sans-serif;font-size:1.05em;color:#1c102c;background-color:#e6dcffe6;border:1px solid rgba(171,130,255,.5);border-radius:8px;box-shadow:inset 0 2px 5px #0000001a;margin-bottom:20px;box-sizing:border-box;resize:vertical;min-height:100px}.reflection-textarea:focus{outline:none;border-color:#8e44ad;box-shadow:inset 0 2px 5px #0000001a,0 0 0 3px #8e44ad4d;background-color:#f0e6ff}.reflection-textarea:disabled,.reflection-textarea[readOnly]{background-color:#c8bee1b3;color:#4a3a5a;cursor:not-allowed;opacity:.8}.chapter-view-screen .regenerate-action-container{margin-bottom:20px;text-align:center}.chapter-view-screen .regenerate-button{background:linear-gradient(145deg,#785a9b,#5f3f7c);color:#f0e8ff}.chapter-view-screen .regenerate-button:hover:not(:disabled){background:linear-gradient(145deg,#8c6fb3,#725291);color:#fff}.chapter-view-screen>.modal-button.modal-button-cancel{margin-top:20px}.settings-screen{padding:25px 0;max-width:700px;margin:0 auto}.settings-screen h2{margin-bottom:30px}.settings-section{background-color:#1a0f2cb3;border:1px solid rgba(171,130,255,.25);border-radius:12px;padding:25px 30px;margin-bottom:30px;box-shadow:0 5px 20px #0000004d}.settings-section h3{font-family:Quicksand,sans-serif;font-weight:700;font-size:clamp(1.3em,3.5vw,1.6em);color:#d8c8ff;margin-top:0;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid rgba(171,130,255,.2)}.api-key-form label{display:block;font-size:1.05em;color:#c8b8e8;margin-bottom:8px;font-weight:500}.api-key-input{width:100%;padding:12px 15px;font-family:Quicksand,sans-serif;font-size:1em;color:#1c102c;background-color:#e6dcffe6;border:1px solid rgba(171,130,255,.5);border-radius:8px;box-shadow:inset 0 1px 3px #0000001a;box-sizing:border-box;margin-bottom:15px}.api-key-input:focus{outline:none;border-color:#8e44ad;box-shadow:inset 0 1px 3px #0000001a,0 0 0 3px #8e44ad4d;background-color:#f0e6ff}.api-key-actions{display:flex;gap:15px;flex-wrap:wrap;margin-top:10px;justify-content:flex-start}.api-key-status{margin-top:15px;font-size:.95em;padding:10px 15px;border-radius:6px;display:inline-block}.api-key-status.loaded{background-color:#43a04733;color:#c8e6c9;border:1px solid rgba(102,187,106,.4)}.api-key-status.missing{background-color:#d32f2f26;color:#ffcdd2;border:1px solid rgba(239,83,80,.3)}.data-actions{display:flex;gap:15px;flex-wrap:wrap;justify-content:flex-start}.settings-screen .modal-button-cancel{background:linear-gradient(145deg,#b71c1c,#d32f2f);color:#ffebee}.settings-screen .modal-button-cancel:hover:not(:disabled){background:linear-gradient(145deg,#c62828,#e53935);color:#fff}
