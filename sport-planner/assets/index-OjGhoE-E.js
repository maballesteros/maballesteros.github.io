function NE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function jo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var _f={exports:{}},ya={},Cf={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function IE(){if(Jv)return Ke;Jv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function S($,z,P){this.props=$,this.context=z,this.refs=b,this.updater=P||y}S.prototype.isReactComponent={},S.prototype.setState=function($,z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,z,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=S.prototype;function N($,z,P){this.props=$,this.context=z,this.refs=b,this.updater=P||y}var j=N.prototype=new _;j.constructor=N,w(j,S.prototype),j.isPureReactComponent=!0;var O=Array.isArray,D=Object.prototype.hasOwnProperty,R={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function te($,z,P){var oe,me={},he=null,Se=null;if(z!=null)for(oe in z.ref!==void 0&&(Se=z.ref),z.key!==void 0&&(he=""+z.key),z)D.call(z,oe)&&!L.hasOwnProperty(oe)&&(me[oe]=z[oe]);var ue=arguments.length-2;if(ue===1)me.children=P;else if(1<ue){for(var Ee=Array(ue),xe=0;xe<ue;xe++)Ee[xe]=arguments[xe+2];me.children=Ee}if($&&$.defaultProps)for(oe in ue=$.defaultProps,ue)me[oe]===void 0&&(me[oe]=ue[oe]);return{$$typeof:e,type:$,key:he,ref:Se,props:me,_owner:R.current}}function re($,z){return{$$typeof:e,type:$.type,key:z,ref:$.ref,props:$.props,_owner:$._owner}}function A($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function C($){var z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(P){return z[P]})}var q=/\/+/g;function W($,z){return typeof $=="object"&&$!==null&&$.key!=null?C(""+$.key):z.toString(36)}function B($,z,P,oe,me){var he=typeof $;(he==="undefined"||he==="boolean")&&($=null);var Se=!1;if($===null)Se=!0;else switch(he){case"string":case"number":Se=!0;break;case"object":switch($.$$typeof){case e:case t:Se=!0}}if(Se)return Se=$,me=me(Se),$=oe===""?"."+W(Se,0):oe,O(me)?(P="",$!=null&&(P=$.replace(q,"$&/")+"/"),B(me,z,P,"",function(xe){return xe})):me!=null&&(A(me)&&(me=re(me,P+(!me.key||Se&&Se.key===me.key?"":(""+me.key).replace(q,"$&/")+"/")+$)),z.push(me)),1;if(Se=0,oe=oe===""?".":oe+":",O($))for(var ue=0;ue<$.length;ue++){he=$[ue];var Ee=oe+W(he,ue);Se+=B(he,z,P,Ee,me)}else if(Ee=v($),typeof Ee=="function")for($=Ee.call($),ue=0;!(he=$.next()).done;)he=he.value,Ee=oe+W(he,ue++),Se+=B(he,z,P,Ee,me);else if(he==="object")throw z=String($),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Se}function U($,z,P){if($==null)return $;var oe=[],me=0;return B($,oe,"","",function(he){return z.call(P,he,me++)}),oe}function K($){if($._status===-1){var z=$._result;z=z(),z.then(function(P){($._status===0||$._status===-1)&&($._status=1,$._result=P)},function(P){($._status===0||$._status===-1)&&($._status=2,$._result=P)}),$._status===-1&&($._status=0,$._result=z)}if($._status===1)return $._result.default;throw $._result}var X={current:null},M={transition:null},J={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:M,ReactCurrentOwner:R};function I(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:U,forEach:function($,z,P){U($,function(){z.apply(this,arguments)},P)},count:function($){var z=0;return U($,function(){z++}),z},toArray:function($){return U($,function(z){return z})||[]},only:function($){if(!A($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ke.Component=S,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=N,Ke.StrictMode=r,Ke.Suspense=c,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Ke.act=I,Ke.cloneElement=function($,z,P){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var oe=w({},$.props),me=$.key,he=$.ref,Se=$._owner;if(z!=null){if(z.ref!==void 0&&(he=z.ref,Se=R.current),z.key!==void 0&&(me=""+z.key),$.type&&$.type.defaultProps)var ue=$.type.defaultProps;for(Ee in z)D.call(z,Ee)&&!L.hasOwnProperty(Ee)&&(oe[Ee]=z[Ee]===void 0&&ue!==void 0?ue[Ee]:z[Ee])}var Ee=arguments.length-2;if(Ee===1)oe.children=P;else if(1<Ee){ue=Array(Ee);for(var xe=0;xe<Ee;xe++)ue[xe]=arguments[xe+2];oe.children=ue}return{$$typeof:e,type:$.type,key:me,ref:he,props:oe,_owner:Se}},Ke.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Ke.createElement=te,Ke.createFactory=function($){var z=te.bind(null,$);return z.type=$,z},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function($){return{$$typeof:u,render:$}},Ke.isValidElement=A,Ke.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:K}},Ke.memo=function($,z){return{$$typeof:f,type:$,compare:z===void 0?null:z}},Ke.startTransition=function($){var z=M.transition;M.transition={};try{$()}finally{M.transition=z}},Ke.unstable_act=I,Ke.useCallback=function($,z){return X.current.useCallback($,z)},Ke.useContext=function($){return X.current.useContext($)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function($){return X.current.useDeferredValue($)},Ke.useEffect=function($,z){return X.current.useEffect($,z)},Ke.useId=function(){return X.current.useId()},Ke.useImperativeHandle=function($,z,P){return X.current.useImperativeHandle($,z,P)},Ke.useInsertionEffect=function($,z){return X.current.useInsertionEffect($,z)},Ke.useLayoutEffect=function($,z){return X.current.useLayoutEffect($,z)},Ke.useMemo=function($,z){return X.current.useMemo($,z)},Ke.useReducer=function($,z,P){return X.current.useReducer($,z,P)},Ke.useRef=function($){return X.current.useRef($)},Ke.useState=function($){return X.current.useState($)},Ke.useSyncExternalStore=function($,z,P){return X.current.useSyncExternalStore($,z,P)},Ke.useTransition=function(){return X.current.useTransition()},Ke.version="18.3.1",Ke}var Qv;function hc(){return Qv||(Qv=1,Cf.exports=IE()),Cf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function PE(){if(Xv)return ya;Xv=1;var e=hc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var h,p={},v=null,y=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:t,type:u,key:v,ref:y,props:p,_owner:i.current}}return ya.Fragment=n,ya.jsx=l,ya.jsxs=l,ya}var Zv;function AE(){return Zv||(Zv=1,_f.exports=PE()),_f.exports}var g=AE(),E=hc();const Ce=jo(E),Wu=NE({__proto__:null,default:Ce},[E]);var vu={},jf={exports:{}},jn={},Nf={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function RE(){return ey||(ey=1,(function(e){function t(M,J){var I=M.length;M.push(J);e:for(;0<I;){var $=I-1>>>1,z=M[$];if(0<i(z,J))M[$]=J,M[I]=z,I=$;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var J=M[0],I=M.pop();if(I!==J){M[0]=I;e:for(var $=0,z=M.length,P=z>>>1;$<P;){var oe=2*($+1)-1,me=M[oe],he=oe+1,Se=M[he];if(0>i(me,I))he<z&&0>i(Se,me)?(M[$]=Se,M[he]=I,$=he):(M[$]=me,M[oe]=I,$=oe);else if(he<z&&0>i(Se,I))M[$]=Se,M[he]=I,$=he;else break e}}return J}function i(M,J){var I=M.sortIndex-J.sortIndex;return I!==0?I:M.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],f=[],h=1,p=null,v=3,y=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(M){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=M)r(f),J.sortIndex=J.expirationTime,t(c,J);else break;J=n(f)}}function O(M){if(b=!1,j(M),!w)if(n(c)!==null)w=!0,K(D);else{var J=n(f);J!==null&&X(O,J.startTime-M)}}function D(M,J){w=!1,b&&(b=!1,_(te),te=-1),y=!0;var I=v;try{for(j(J),p=n(c);p!==null&&(!(p.expirationTime>J)||M&&!C());){var $=p.callback;if(typeof $=="function"){p.callback=null,v=p.priorityLevel;var z=$(p.expirationTime<=J);J=e.unstable_now(),typeof z=="function"?p.callback=z:p===n(c)&&r(c),j(J)}else r(c);p=n(c)}if(p!==null)var P=!0;else{var oe=n(f);oe!==null&&X(O,oe.startTime-J),P=!1}return P}finally{p=null,v=I,y=!1}}var R=!1,L=null,te=-1,re=5,A=-1;function C(){return!(e.unstable_now()-A<re)}function q(){if(L!==null){var M=e.unstable_now();A=M;var J=!0;try{J=L(!0,M)}finally{J?W():(R=!1,L=null)}}else R=!1}var W;if(typeof N=="function")W=function(){N(q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=q,W=function(){U.postMessage(null)}}else W=function(){S(q,0)};function K(M){L=M,R||(R=!0,W())}function X(M,J){te=S(function(){M(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,K(D))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var I=v;v=J;try{return M()}finally{v=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,J){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var I=v;v=M;try{return J()}finally{v=I}},e.unstable_scheduleCallback=function(M,J,I){var $=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?$+I:$):I=$,M){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=I+z,M={id:h++,callback:J,priorityLevel:M,startTime:I,expirationTime:z,sortIndex:-1},I>$?(M.sortIndex=I,t(f,M),n(c)===null&&M===n(f)&&(b?(_(te),te=-1):b=!0,X(O,I-$))):(M.sortIndex=z,t(c,M),w||y||(w=!0,K(D))),M},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(M){var J=v;return function(){var I=v;v=J;try{return M.apply(this,arguments)}finally{v=I}}}})(Tf)),Tf}var ty;function OE(){return ty||(ty=1,Nf.exports=RE()),Nf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function ME(){if(ny)return jn;ny=1;var e=hc(),t=OE();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(s){return c.call(p,s)?!0:c.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function y(s,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,a,d,m){if(a===null||typeof a>"u"||y(s,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,d,m,x,k,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=k,this.removeEmptyString=T}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(_,N);S[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(_,N);S[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(_,N);S[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,a,d,m){var x=S.hasOwnProperty(a)?S[a]:null;(x!==null?x.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,d,x,m)&&(d=null),m||x===null?v(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):x.mustUseProperty?s[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,m=x.attributeNamespace,d===null?s.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?s.setAttributeNS(m,a,d):s.setAttribute(a,d))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),R=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),M=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var I=Object.assign,$;function z(s){if($===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var P=!1;function oe(s,a){if(!s||P)return"";P=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ie){var m=ie}Reflect.construct(s,[],a)}else{try{a.call()}catch(ie){m=ie}s.call(a.prototype)}else{try{throw Error()}catch(ie){m=ie}s()}}catch(ie){if(ie&&m&&typeof ie.stack=="string"){for(var x=ie.stack.split(`
`),k=m.stack.split(`
`),T=x.length-1,F=k.length-1;1<=T&&0<=F&&x[T]!==k[F];)F--;for(;1<=T&&0<=F;T--,F--)if(x[T]!==k[F]){if(T!==1||F!==1)do if(T--,F--,0>F||x[T]!==k[F]){var V=`
`+x[T].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=T&&0<=F);break}}}finally{P=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?z(s):""}function me(s){switch(s.tag){case 5:return z(s.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case R:return"Portal";case re:return"Profiler";case te:return"StrictMode";case W:return"Suspense";case B:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case C:return(s.displayName||"Context")+".Consumer";case A:return(s._context.displayName||"Context")+".Provider";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return a=s.displayName||null,a!==null?a:he(s.type)||"Memo";case K:a=s._payload,s=s._init;try{return he(s(a))}catch{}}return null}function Se(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(a);case 8:return a===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ee(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xe(s){var a=Ee(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,k=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,k.call(this,T)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Je(s){s._valueTracker||(s._valueTracker=xe(s))}function rt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return s&&(m=Ee(s)?s.checked?"true":"false":s.value),s=m,s!==d?(a.setValue(s),!0):!1}function Qe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function G(s,a){var d=a.checked;return I({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function le(s,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=ue(a.value!=null?a.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ae(s,a){a=a.checked,a!=null&&j(s,"checked",a,!1)}function be(s,a){ae(s,a);var d=ue(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?se(s,a.type,d):a.hasOwnProperty("defaultValue")&&se(s,a.type,ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ve(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function se(s,a,d){(a!=="number"||Qe(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var ke=Array.isArray;function qe(s,a,d,m){if(s=s.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=a.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&m&&(s[d].defaultSelected=!0)}else{for(d=""+ue(d),a=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}a!==null||s[x].disabled||(a=s[x])}a!==null&&(a.selected=!0)}}function Xe(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return I({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _t(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(ke(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:ue(d)}}function Q(s,a){var d=ue(a.value),m=ue(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function ce(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function H(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ne(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?H(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var we,_e=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,x){MSApp.execUnsafeLocalFunction(function(){return s(a,d,m,x)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(we=we||document.createElement("div"),we.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=we.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Oe(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(s){yt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),We[a]=We[s]})});function dt(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||We.hasOwnProperty(s)&&We[s]?(""+a).trim():a+"px"}function Pt(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=dt(d,a[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,x):s[d]=x}}var Ye=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tt(s,a){if(a){if(Ye[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Wt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function lt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ot=null,Jt=null,wt=null;function en(s){if(s=ra(s)){if(typeof ot!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Al(a),ot(s.stateNode,s.type,a))}}function tn(s){Jt?wt?wt.push(s):wt=[s]:Jt=s}function ir(){if(Jt){var s=Jt,a=wt;if(wt=Jt=null,en(s),a)for(s=0;s<a.length;s++)en(a[s])}}function hn(s,a){return s(a)}function nn(){}var bn=!1;function zr(s,a,d){if(bn)return s(a,d);bn=!0;try{return hn(s,a,d)}finally{bn=!1,(Jt!==null||wt!==null)&&(nn(),ir())}}function bt(s,a){var d=s.stateNode;if(d===null)return null;var m=Al(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Yn=!1;if(u)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{Yn=!1}function sr(s,a,d,m,x,k,T,F,V){var ie=Array.prototype.slice.call(arguments,3);try{a.apply(d,ie)}catch(fe){this.onError(fe)}}var or=!1,kr=null,Dn=!1,Br=null,$o={onError:function(s){or=!0,kr=s}};function D1(s,a,d,m,x,k,T,F,V){or=!1,kr=null,sr.apply($o,arguments)}function L1(s,a,d,m,x,k,T,F,V){if(D1.apply(this,arguments),or){if(or){var ie=kr;or=!1,kr=null}else throw Error(n(198));Dn||(Dn=!0,Br=ie)}}function Fi(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function xm(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function wm(s){if(Fi(s)!==s)throw Error(n(188))}function $1(s){var a=s.alternate;if(!a){if(a=Fi(s),a===null)throw Error(n(188));return a!==s?null:s}for(var d=s,m=a;;){var x=d.return;if(x===null)break;var k=x.alternate;if(k===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===k.child){for(k=x.child;k;){if(k===d)return wm(x),s;if(k===m)return wm(x),a;k=k.sibling}throw Error(n(188))}if(d.return!==m.return)d=x,m=k;else{for(var T=!1,F=x.child;F;){if(F===d){T=!0,d=x,m=k;break}if(F===m){T=!0,m=x,d=k;break}F=F.sibling}if(!T){for(F=k.child;F;){if(F===d){T=!0,d=k,m=x;break}if(F===m){T=!0,m=k,d=x;break}F=F.sibling}if(!T)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:a}function bm(s){return s=$1(s),s!==null?km(s):null}function km(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=km(s);if(a!==null)return a;s=s.sibling}return null}var Sm=t.unstable_scheduleCallback,Em=t.unstable_cancelCallback,F1=t.unstable_shouldYield,z1=t.unstable_requestPaint,Tt=t.unstable_now,B1=t.unstable_getCurrentPriorityLevel,Hc=t.unstable_ImmediatePriority,_m=t.unstable_UserBlockingPriority,fl=t.unstable_NormalPriority,U1=t.unstable_LowPriority,Cm=t.unstable_IdlePriority,hl=null,Sr=null;function W1(s){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(hl,s,void 0,(s.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:q1,H1=Math.log,V1=Math.LN2;function q1(s){return s>>>=0,s===0?32:31-(H1(s)/V1|0)|0}var pl=64,ml=4194304;function Fo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function gl(s,a){var d=s.pendingLanes;if(d===0)return 0;var m=0,x=s.suspendedLanes,k=s.pingedLanes,T=d&268435455;if(T!==0){var F=T&~x;F!==0?m=Fo(F):(k&=T,k!==0&&(m=Fo(k)))}else T=d&~x,T!==0?m=Fo(T):k!==0&&(m=Fo(k));if(m===0)return 0;if(a!==0&&a!==m&&(a&x)===0&&(x=m&-m,k=a&-a,x>=k||x===16&&(k&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)d=31-ar(a),x=1<<d,m|=s[d],a&=~x;return m}function Y1(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K1(s,a){for(var d=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,k=s.pendingLanes;0<k;){var T=31-ar(k),F=1<<T,V=x[T];V===-1?((F&d)===0||(F&m)!==0)&&(x[T]=Y1(F,a)):V<=a&&(s.expiredLanes|=F),k&=~F}}function Vc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function jm(){var s=pl;return pl<<=1,(pl&4194240)===0&&(pl=64),s}function qc(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function zo(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ar(a),s[a]=d}function G1(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var x=31-ar(d),k=1<<x;a[x]=0,m[x]=-1,s[x]=-1,d&=~k}}function Yc(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var m=31-ar(d),x=1<<m;x&a|s[m]&a&&(s[m]|=a),d&=~x}}var at=0;function Nm(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Tm,Kc,Im,Pm,Am,Gc=!1,vl=[],ii=null,si=null,oi=null,Bo=new Map,Uo=new Map,ai=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(s,a){switch(s){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Bo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(a.pointerId)}}function Wo(s,a,d,m,x,k){return s===null||s.nativeEvent!==k?(s={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:k,targetContainers:[x]},a!==null&&(a=ra(a),a!==null&&Kc(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),s)}function Q1(s,a,d,m,x){switch(a){case"focusin":return ii=Wo(ii,s,a,d,m,x),!0;case"dragenter":return si=Wo(si,s,a,d,m,x),!0;case"mouseover":return oi=Wo(oi,s,a,d,m,x),!0;case"pointerover":var k=x.pointerId;return Bo.set(k,Wo(Bo.get(k)||null,s,a,d,m,x)),!0;case"gotpointercapture":return k=x.pointerId,Uo.set(k,Wo(Uo.get(k)||null,s,a,d,m,x)),!0}return!1}function Om(s){var a=zi(s.target);if(a!==null){var d=Fi(a);if(d!==null){if(a=d.tag,a===13){if(a=xm(d),a!==null){s.blockedOn=a,Am(s.priority,function(){Im(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=Qc(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);Ue=m,d.target.dispatchEvent(m),Ue=null}else return a=ra(d),a!==null&&Kc(a),s.blockedOn=d,!1;a.shift()}return!0}function Mm(s,a,d){yl(s)&&d.delete(a)}function X1(){Gc=!1,ii!==null&&yl(ii)&&(ii=null),si!==null&&yl(si)&&(si=null),oi!==null&&yl(oi)&&(oi=null),Bo.forEach(Mm),Uo.forEach(Mm)}function Ho(s,a){s.blockedOn===a&&(s.blockedOn=null,Gc||(Gc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,X1)))}function Vo(s){function a(x){return Ho(x,s)}if(0<vl.length){Ho(vl[0],s);for(var d=1;d<vl.length;d++){var m=vl[d];m.blockedOn===s&&(m.blockedOn=null)}}for(ii!==null&&Ho(ii,s),si!==null&&Ho(si,s),oi!==null&&Ho(oi,s),Bo.forEach(a),Uo.forEach(a),d=0;d<ai.length;d++)m=ai[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<ai.length&&(d=ai[0],d.blockedOn===null);)Om(d),d.blockedOn===null&&ai.shift()}var _s=O.ReactCurrentBatchConfig,xl=!0;function Z1(s,a,d,m){var x=at,k=_s.transition;_s.transition=null;try{at=1,Jc(s,a,d,m)}finally{at=x,_s.transition=k}}function eS(s,a,d,m){var x=at,k=_s.transition;_s.transition=null;try{at=4,Jc(s,a,d,m)}finally{at=x,_s.transition=k}}function Jc(s,a,d,m){if(xl){var x=Qc(s,a,d,m);if(x===null)pd(s,a,m,wl,d),Rm(s,m);else if(Q1(x,s,a,d,m))m.stopPropagation();else if(Rm(s,m),a&4&&-1<J1.indexOf(s)){for(;x!==null;){var k=ra(x);if(k!==null&&Tm(k),k=Qc(s,a,d,m),k===null&&pd(s,a,m,wl,d),k===x)break;x=k}x!==null&&m.stopPropagation()}else pd(s,a,m,null,d)}}var wl=null;function Qc(s,a,d,m){if(wl=null,s=lt(m),s=zi(s),s!==null)if(a=Fi(s),a===null)s=null;else if(d=a.tag,d===13){if(s=xm(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return wl=s,null}function Dm(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B1()){case Hc:return 1;case _m:return 4;case fl:case U1:return 16;case Cm:return 536870912;default:return 16}default:return 16}}var li=null,Xc=null,bl=null;function Lm(){if(bl)return bl;var s,a=Xc,d=a.length,m,x="value"in li?li.value:li.textContent,k=x.length;for(s=0;s<d&&a[s]===x[s];s++);var T=d-s;for(m=1;m<=T&&a[d-m]===x[k-m];m++);return bl=x.slice(s,1<m?1-m:void 0)}function kl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Sl(){return!0}function $m(){return!1}function Ln(s){function a(d,m,x,k,T){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=k,this.target=T,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(d=s[F],this[F]=d?d(k):k[F]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Sl:$m,this.isPropagationStopped=$m,this}return I(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),a}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=Ln(Cs),qo=I({},Cs,{view:0,detail:0}),tS=Ln(qo),ed,td,Yo,El=I({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yo&&(Yo&&s.type==="mousemove"?(ed=s.screenX-Yo.screenX,td=s.screenY-Yo.screenY):td=ed=0,Yo=s),ed)},movementY:function(s){return"movementY"in s?s.movementY:td}}),Fm=Ln(El),nS=I({},El,{dataTransfer:0}),rS=Ln(nS),iS=I({},qo,{relatedTarget:0}),nd=Ln(iS),sS=I({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),oS=Ln(sS),aS=I({},Cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),lS=Ln(aS),uS=I({},Cs,{data:0}),zm=Ln(uS),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=fS[s])?!!a[s]:!1}function rd(){return hS}var pS=I({},qo,{key:function(s){if(s.key){var a=cS[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=kl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rd,charCode:function(s){return s.type==="keypress"?kl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?kl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),mS=Ln(pS),gS=I({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bm=Ln(gS),vS=I({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rd}),yS=Ln(vS),xS=I({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),wS=Ln(xS),bS=I({},El,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),kS=Ln(bS),SS=[9,13,27,32],id=u&&"CompositionEvent"in window,Ko=null;u&&"documentMode"in document&&(Ko=document.documentMode);var ES=u&&"TextEvent"in window&&!Ko,Um=u&&(!id||Ko&&8<Ko&&11>=Ko),Wm=" ",Hm=!1;function Vm(s,a){switch(s){case"keyup":return SS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var js=!1;function _S(s,a){switch(s){case"compositionend":return qm(a);case"keypress":return a.which!==32?null:(Hm=!0,Wm);case"textInput":return s=a.data,s===Wm&&Hm?null:s;default:return null}}function CS(s,a){if(js)return s==="compositionend"||!id&&Vm(s,a)?(s=Lm(),bl=Xc=li=null,js=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Um&&a.locale!=="ko"?null:a.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!jS[s.type]:a==="textarea"}function Km(s,a,d,m){tn(m),a=Tl(a,"onChange"),0<a.length&&(d=new Zc("onChange","change",null,d,m),s.push({event:d,listeners:a}))}var Go=null,Jo=null;function NS(s){fg(s,0)}function _l(s){var a=As(s);if(rt(a))return s}function TS(s,a){if(s==="change")return a}var Gm=!1;if(u){var sd;if(u){var od="oninput"in document;if(!od){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),od=typeof Jm.oninput=="function"}sd=od}else sd=!1;Gm=sd&&(!document.documentMode||9<document.documentMode)}function Qm(){Go&&(Go.detachEvent("onpropertychange",Xm),Jo=Go=null)}function Xm(s){if(s.propertyName==="value"&&_l(Jo)){var a=[];Km(a,Jo,s,lt(s)),zr(NS,a)}}function IS(s,a,d){s==="focusin"?(Qm(),Go=a,Jo=d,Go.attachEvent("onpropertychange",Xm)):s==="focusout"&&Qm()}function PS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _l(Jo)}function AS(s,a){if(s==="click")return _l(a)}function RS(s,a){if(s==="input"||s==="change")return _l(a)}function OS(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var lr=typeof Object.is=="function"?Object.is:OS;function Qo(s,a){if(lr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!c.call(a,x)||!lr(s[x],a[x]))return!1}return!0}function Zm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function eg(s,a){var d=Zm(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=a&&m>=a)return{node:d,offset:a-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Zm(d)}}function tg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?tg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ng(){for(var s=window,a=Qe();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=Qe(s.document)}return a}function ad(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function MS(s){var a=ng(),d=s.focusedElem,m=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&tg(d.ownerDocument.documentElement,d)){if(m!==null&&ad(d)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var x=d.textContent.length,k=Math.min(m.start,x);m=m.end===void 0?k:Math.min(m.end,x),!s.extend&&k>m&&(x=m,m=k,k=x),x=eg(d,k);var T=eg(d,m);x&&T&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),s.removeAllRanges(),k>m?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var DS=u&&"documentMode"in document&&11>=document.documentMode,Ns=null,ld=null,Xo=null,ud=!1;function rg(s,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ud||Ns==null||Ns!==Qe(m)||(m=Ns,"selectionStart"in m&&ad(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Xo&&Qo(Xo,m)||(Xo=m,m=Tl(ld,"onSelect"),0<m.length&&(a=new Zc("onSelect","select",null,a,d),s.push({event:a,listeners:m}),a.target=Ns)))}function Cl(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var Ts={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},cd={},ig={};u&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function jl(s){if(cd[s])return cd[s];if(!Ts[s])return s;var a=Ts[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in ig)return cd[s]=a[d];return s}var sg=jl("animationend"),og=jl("animationiteration"),ag=jl("animationstart"),lg=jl("transitionend"),ug=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(s,a){ug.set(s,a),o(a,[s])}for(var dd=0;dd<cg.length;dd++){var fd=cg[dd],LS=fd.toLowerCase(),$S=fd[0].toUpperCase()+fd.slice(1);ui(LS,"on"+$S)}ui(sg,"onAnimationEnd"),ui(og,"onAnimationIteration"),ui(ag,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(lg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function dg(s,a,d){var m=s.type||"unknown-event";s.currentTarget=d,L1(m,a,void 0,s),s.currentTarget=null}function fg(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],x=m.event;m=m.listeners;e:{var k=void 0;if(a)for(var T=m.length-1;0<=T;T--){var F=m[T],V=F.instance,ie=F.currentTarget;if(F=F.listener,V!==k&&x.isPropagationStopped())break e;dg(x,F,ie),k=V}else for(T=0;T<m.length;T++){if(F=m[T],V=F.instance,ie=F.currentTarget,F=F.listener,V!==k&&x.isPropagationStopped())break e;dg(x,F,ie),k=V}}}if(Dn)throw s=Br,Dn=!1,Br=null,s}function mt(s,a){var d=a[wd];d===void 0&&(d=a[wd]=new Set);var m=s+"__bubble";d.has(m)||(hg(a,s,2,!1),d.add(m))}function hd(s,a,d){var m=0;a&&(m|=4),hg(d,s,m,a)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function ea(s){if(!s[Nl]){s[Nl]=!0,r.forEach(function(d){d!=="selectionchange"&&(FS.has(d)||hd(d,!1,s),hd(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Nl]||(a[Nl]=!0,hd("selectionchange",!1,a))}}function hg(s,a,d,m){switch(Dm(a)){case 1:var x=Z1;break;case 4:x=eS;break;default:x=Jc}d=x.bind(null,a,d,s),x=void 0,!Yn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(a,d,{capture:!0,passive:x}):s.addEventListener(a,d,!0):x!==void 0?s.addEventListener(a,d,{passive:x}):s.addEventListener(a,d,!1)}function pd(s,a,d,m,x){var k=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var F=m.stateNode.containerInfo;if(F===x||F.nodeType===8&&F.parentNode===x)break;if(T===4)for(T=m.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===x||V.nodeType===8&&V.parentNode===x))return;T=T.return}for(;F!==null;){if(T=zi(F),T===null)return;if(V=T.tag,V===5||V===6){m=k=T;continue e}F=F.parentNode}}m=m.return}zr(function(){var ie=k,fe=lt(d),pe=[];e:{var de=ug.get(s);if(de!==void 0){var je=Zc,Te=s;switch(s){case"keypress":if(kl(d)===0)break e;case"keydown":case"keyup":je=mS;break;case"focusin":Te="focus",je=nd;break;case"focusout":Te="blur",je=nd;break;case"beforeblur":case"afterblur":je=nd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=yS;break;case sg:case og:case ag:je=oS;break;case lg:je=wS;break;case"scroll":je=tS;break;case"wheel":je=kS;break;case"copy":case"cut":case"paste":je=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Bm}var Pe=(a&4)!==0,It=!Pe&&s==="scroll",Z=Pe?de!==null?de+"Capture":null:de;Pe=[];for(var Y=ie,ee;Y!==null;){ee=Y;var ye=ee.stateNode;if(ee.tag===5&&ye!==null&&(ee=ye,Z!==null&&(ye=bt(Y,Z),ye!=null&&Pe.push(ta(Y,ye,ee)))),It)break;Y=Y.return}0<Pe.length&&(de=new je(de,Te,null,d,fe),pe.push({event:de,listeners:Pe}))}}if((a&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",je=s==="mouseout"||s==="pointerout",de&&d!==Ue&&(Te=d.relatedTarget||d.fromElement)&&(zi(Te)||Te[Ur]))break e;if((je||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,je?(Te=d.relatedTarget||d.toElement,je=ie,Te=Te?zi(Te):null,Te!==null&&(It=Fi(Te),Te!==It||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(je=null,Te=ie),je!==Te)){if(Pe=Fm,ye="onMouseLeave",Z="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=Bm,ye="onPointerLeave",Z="onPointerEnter",Y="pointer"),It=je==null?de:As(je),ee=Te==null?de:As(Te),de=new Pe(ye,Y+"leave",je,d,fe),de.target=It,de.relatedTarget=ee,ye=null,zi(fe)===ie&&(Pe=new Pe(Z,Y+"enter",Te,d,fe),Pe.target=ee,Pe.relatedTarget=It,ye=Pe),It=ye,je&&Te)t:{for(Pe=je,Z=Te,Y=0,ee=Pe;ee;ee=Is(ee))Y++;for(ee=0,ye=Z;ye;ye=Is(ye))ee++;for(;0<Y-ee;)Pe=Is(Pe),Y--;for(;0<ee-Y;)Z=Is(Z),ee--;for(;Y--;){if(Pe===Z||Z!==null&&Pe===Z.alternate)break t;Pe=Is(Pe),Z=Is(Z)}Pe=null}else Pe=null;je!==null&&pg(pe,de,je,Pe,!1),Te!==null&&It!==null&&pg(pe,It,Te,Pe,!0)}}e:{if(de=ie?As(ie):window,je=de.nodeName&&de.nodeName.toLowerCase(),je==="select"||je==="input"&&de.type==="file")var Ae=TS;else if(Ym(de))if(Gm)Ae=RS;else{Ae=PS;var Me=IS}else(je=de.nodeName)&&je.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ae=AS);if(Ae&&(Ae=Ae(s,ie))){Km(pe,Ae,d,fe);break e}Me&&Me(s,de,ie),s==="focusout"&&(Me=de._wrapperState)&&Me.controlled&&de.type==="number"&&se(de,"number",de.value)}switch(Me=ie?As(ie):window,s){case"focusin":(Ym(Me)||Me.contentEditable==="true")&&(Ns=Me,ld=ie,Xo=null);break;case"focusout":Xo=ld=Ns=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,rg(pe,d,fe);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":rg(pe,d,fe)}var De;if(id)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else js?Vm(s,d)&&(ze="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(ze="onCompositionStart");ze&&(Um&&d.locale!=="ko"&&(js||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&js&&(De=Lm()):(li=fe,Xc="value"in li?li.value:li.textContent,js=!0)),Me=Tl(ie,ze),0<Me.length&&(ze=new zm(ze,s,null,d,fe),pe.push({event:ze,listeners:Me}),De?ze.data=De:(De=qm(d),De!==null&&(ze.data=De)))),(De=ES?_S(s,d):CS(s,d))&&(ie=Tl(ie,"onBeforeInput"),0<ie.length&&(fe=new zm("onBeforeInput","beforeinput",null,d,fe),pe.push({event:fe,listeners:ie}),fe.data=De))}fg(pe,a)})}function ta(s,a,d){return{instance:s,listener:a,currentTarget:d}}function Tl(s,a){for(var d=a+"Capture",m=[];s!==null;){var x=s,k=x.stateNode;x.tag===5&&k!==null&&(x=k,k=bt(s,d),k!=null&&m.unshift(ta(s,k,x)),k=bt(s,a),k!=null&&m.push(ta(s,k,x))),s=s.return}return m}function Is(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function pg(s,a,d,m,x){for(var k=a._reactName,T=[];d!==null&&d!==m;){var F=d,V=F.alternate,ie=F.stateNode;if(V!==null&&V===m)break;F.tag===5&&ie!==null&&(F=ie,x?(V=bt(d,k),V!=null&&T.unshift(ta(d,V,F))):x||(V=bt(d,k),V!=null&&T.push(ta(d,V,F)))),d=d.return}T.length!==0&&s.push({event:a,listeners:T})}var zS=/\r\n?/g,BS=/\u0000|\uFFFD/g;function mg(s){return(typeof s=="string"?s:""+s).replace(zS,`
`).replace(BS,"")}function Il(s,a,d){if(a=mg(a),mg(s)!==a&&d)throw Error(n(425))}function Pl(){}var md=null,gd=null;function vd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(s){return gg.resolve(null).then(s).catch(HS)}:yd;function HS(s){setTimeout(function(){throw s})}function xd(s,a){var d=a,m=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){s.removeChild(x),Vo(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);Vo(a)}function ci(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function vg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Er="__reactFiber$"+Ps,na="__reactProps$"+Ps,Ur="__reactContainer$"+Ps,wd="__reactEvents$"+Ps,VS="__reactListeners$"+Ps,qS="__reactHandles$"+Ps;function zi(s){var a=s[Er];if(a)return a;for(var d=s.parentNode;d;){if(a=d[Ur]||d[Er]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=vg(s);s!==null;){if(d=s[Er])return d;s=vg(s)}return a}s=d,d=s.parentNode}return null}function ra(s){return s=s[Er]||s[Ur],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function As(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Al(s){return s[na]||null}var bd=[],Rs=-1;function di(s){return{current:s}}function gt(s){0>Rs||(s.current=bd[Rs],bd[Rs]=null,Rs--)}function ft(s,a){Rs++,bd[Rs]=s.current,s.current=a}var fi={},sn=di(fi),kn=di(!1),Bi=fi;function Os(s,a){var d=s.type.contextTypes;if(!d)return fi;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var x={},k;for(k in d)x[k]=a[k];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=x),x}function Sn(s){return s=s.childContextTypes,s!=null}function Rl(){gt(kn),gt(sn)}function yg(s,a,d){if(sn.current!==fi)throw Error(n(168));ft(sn,a),ft(kn,d)}function xg(s,a,d){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in a))throw Error(n(108,Se(s)||"Unknown",x));return I({},d,m)}function Ol(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fi,Bi=sn.current,ft(sn,s),ft(kn,kn.current),!0}function wg(s,a,d){var m=s.stateNode;if(!m)throw Error(n(169));d?(s=xg(s,a,Bi),m.__reactInternalMemoizedMergedChildContext=s,gt(kn),gt(sn),ft(sn,s)):gt(kn),ft(kn,d)}var Wr=null,Ml=!1,kd=!1;function bg(s){Wr===null?Wr=[s]:Wr.push(s)}function YS(s){Ml=!0,bg(s)}function hi(){if(!kd&&Wr!==null){kd=!0;var s=0,a=at;try{var d=Wr;for(at=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}Wr=null,Ml=!1}catch(x){throw Wr!==null&&(Wr=Wr.slice(s+1)),Sm(Hc,hi),x}finally{at=a,kd=!1}}return null}var Ms=[],Ds=0,Dl=null,Ll=0,Kn=[],Gn=0,Ui=null,Hr=1,Vr="";function Wi(s,a){Ms[Ds++]=Ll,Ms[Ds++]=Dl,Dl=s,Ll=a}function kg(s,a,d){Kn[Gn++]=Hr,Kn[Gn++]=Vr,Kn[Gn++]=Ui,Ui=s;var m=Hr;s=Vr;var x=32-ar(m)-1;m&=~(1<<x),d+=1;var k=32-ar(a)+x;if(30<k){var T=x-x%5;k=(m&(1<<T)-1).toString(32),m>>=T,x-=T,Hr=1<<32-ar(a)+x|d<<x|m,Vr=k+s}else Hr=1<<k|d<<x|m,Vr=s}function Sd(s){s.return!==null&&(Wi(s,1),kg(s,1,0))}function Ed(s){for(;s===Dl;)Dl=Ms[--Ds],Ms[Ds]=null,Ll=Ms[--Ds],Ms[Ds]=null;for(;s===Ui;)Ui=Kn[--Gn],Kn[Gn]=null,Vr=Kn[--Gn],Kn[Gn]=null,Hr=Kn[--Gn],Kn[Gn]=null}var $n=null,Fn=null,xt=!1,ur=null;function Sg(s,a){var d=Zn(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function Eg(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,$n=s,Fn=ci(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,$n=s,Fn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Ui!==null?{id:Hr,overflow:Vr}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Zn(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,$n=s,Fn=null,!0):!1;default:return!1}}function _d(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Cd(s){if(xt){var a=Fn;if(a){var d=a;if(!Eg(s,a)){if(_d(s))throw Error(n(418));a=ci(d.nextSibling);var m=$n;a&&Eg(s,a)?Sg(m,d):(s.flags=s.flags&-4097|2,xt=!1,$n=s)}}else{if(_d(s))throw Error(n(418));s.flags=s.flags&-4097|2,xt=!1,$n=s}}}function _g(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;$n=s}function $l(s){if(s!==$n)return!1;if(!xt)return _g(s),xt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!vd(s.type,s.memoizedProps)),a&&(a=Fn)){if(_d(s))throw Cg(),Error(n(418));for(;a;)Sg(s,a),a=ci(a.nextSibling)}if(_g(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){Fn=ci(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}Fn=null}}else Fn=$n?ci(s.stateNode.nextSibling):null;return!0}function Cg(){for(var s=Fn;s;)s=ci(s.nextSibling)}function Ls(){Fn=$n=null,xt=!1}function jd(s){ur===null?ur=[s]:ur.push(s)}var KS=O.ReactCurrentBatchConfig;function ia(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,s));var x=m,k=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===k?a.ref:(a=function(T){var F=x.refs;T===null?delete F[k]:F[k]=T},a._stringRef=k,a)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function Fl(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function jg(s){var a=s._init;return a(s._payload)}function Ng(s){function a(Z,Y){if(s){var ee=Z.deletions;ee===null?(Z.deletions=[Y],Z.flags|=16):ee.push(Y)}}function d(Z,Y){if(!s)return null;for(;Y!==null;)a(Z,Y),Y=Y.sibling;return null}function m(Z,Y){for(Z=new Map;Y!==null;)Y.key!==null?Z.set(Y.key,Y):Z.set(Y.index,Y),Y=Y.sibling;return Z}function x(Z,Y){return Z=bi(Z,Y),Z.index=0,Z.sibling=null,Z}function k(Z,Y,ee){return Z.index=ee,s?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<Y?(Z.flags|=2,Y):ee):(Z.flags|=2,Y)):(Z.flags|=1048576,Y)}function T(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function F(Z,Y,ee,ye){return Y===null||Y.tag!==6?(Y=xf(ee,Z.mode,ye),Y.return=Z,Y):(Y=x(Y,ee),Y.return=Z,Y)}function V(Z,Y,ee,ye){var Ae=ee.type;return Ae===L?fe(Z,Y,ee.props.children,ye,ee.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===K&&jg(Ae)===Y.type)?(ye=x(Y,ee.props),ye.ref=ia(Z,Y,ee),ye.return=Z,ye):(ye=uu(ee.type,ee.key,ee.props,null,Z.mode,ye),ye.ref=ia(Z,Y,ee),ye.return=Z,ye)}function ie(Z,Y,ee,ye){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=wf(ee,Z.mode,ye),Y.return=Z,Y):(Y=x(Y,ee.children||[]),Y.return=Z,Y)}function fe(Z,Y,ee,ye,Ae){return Y===null||Y.tag!==7?(Y=Qi(ee,Z.mode,ye,Ae),Y.return=Z,Y):(Y=x(Y,ee),Y.return=Z,Y)}function pe(Z,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=xf(""+Y,Z.mode,ee),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return ee=uu(Y.type,Y.key,Y.props,null,Z.mode,ee),ee.ref=ia(Z,null,Y),ee.return=Z,ee;case R:return Y=wf(Y,Z.mode,ee),Y.return=Z,Y;case K:var ye=Y._init;return pe(Z,ye(Y._payload),ee)}if(ke(Y)||J(Y))return Y=Qi(Y,Z.mode,ee,null),Y.return=Z,Y;Fl(Z,Y)}return null}function de(Z,Y,ee,ye){var Ae=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ae!==null?null:F(Z,Y,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case D:return ee.key===Ae?V(Z,Y,ee,ye):null;case R:return ee.key===Ae?ie(Z,Y,ee,ye):null;case K:return Ae=ee._init,de(Z,Y,Ae(ee._payload),ye)}if(ke(ee)||J(ee))return Ae!==null?null:fe(Z,Y,ee,ye,null);Fl(Z,ee)}return null}function je(Z,Y,ee,ye,Ae){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Z=Z.get(ee)||null,F(Y,Z,""+ye,Ae);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case D:return Z=Z.get(ye.key===null?ee:ye.key)||null,V(Y,Z,ye,Ae);case R:return Z=Z.get(ye.key===null?ee:ye.key)||null,ie(Y,Z,ye,Ae);case K:var Me=ye._init;return je(Z,Y,ee,Me(ye._payload),Ae)}if(ke(ye)||J(ye))return Z=Z.get(ee)||null,fe(Y,Z,ye,Ae,null);Fl(Y,ye)}return null}function Te(Z,Y,ee,ye){for(var Ae=null,Me=null,De=Y,ze=Y=0,qt=null;De!==null&&ze<ee.length;ze++){De.index>ze?(qt=De,De=null):qt=De.sibling;var nt=de(Z,De,ee[ze],ye);if(nt===null){De===null&&(De=qt);break}s&&De&&nt.alternate===null&&a(Z,De),Y=k(nt,Y,ze),Me===null?Ae=nt:Me.sibling=nt,Me=nt,De=qt}if(ze===ee.length)return d(Z,De),xt&&Wi(Z,ze),Ae;if(De===null){for(;ze<ee.length;ze++)De=pe(Z,ee[ze],ye),De!==null&&(Y=k(De,Y,ze),Me===null?Ae=De:Me.sibling=De,Me=De);return xt&&Wi(Z,ze),Ae}for(De=m(Z,De);ze<ee.length;ze++)qt=je(De,Z,ze,ee[ze],ye),qt!==null&&(s&&qt.alternate!==null&&De.delete(qt.key===null?ze:qt.key),Y=k(qt,Y,ze),Me===null?Ae=qt:Me.sibling=qt,Me=qt);return s&&De.forEach(function(ki){return a(Z,ki)}),xt&&Wi(Z,ze),Ae}function Pe(Z,Y,ee,ye){var Ae=J(ee);if(typeof Ae!="function")throw Error(n(150));if(ee=Ae.call(ee),ee==null)throw Error(n(151));for(var Me=Ae=null,De=Y,ze=Y=0,qt=null,nt=ee.next();De!==null&&!nt.done;ze++,nt=ee.next()){De.index>ze?(qt=De,De=null):qt=De.sibling;var ki=de(Z,De,nt.value,ye);if(ki===null){De===null&&(De=qt);break}s&&De&&ki.alternate===null&&a(Z,De),Y=k(ki,Y,ze),Me===null?Ae=ki:Me.sibling=ki,Me=ki,De=qt}if(nt.done)return d(Z,De),xt&&Wi(Z,ze),Ae;if(De===null){for(;!nt.done;ze++,nt=ee.next())nt=pe(Z,nt.value,ye),nt!==null&&(Y=k(nt,Y,ze),Me===null?Ae=nt:Me.sibling=nt,Me=nt);return xt&&Wi(Z,ze),Ae}for(De=m(Z,De);!nt.done;ze++,nt=ee.next())nt=je(De,Z,ze,nt.value,ye),nt!==null&&(s&&nt.alternate!==null&&De.delete(nt.key===null?ze:nt.key),Y=k(nt,Y,ze),Me===null?Ae=nt:Me.sibling=nt,Me=nt);return s&&De.forEach(function(jE){return a(Z,jE)}),xt&&Wi(Z,ze),Ae}function It(Z,Y,ee,ye){if(typeof ee=="object"&&ee!==null&&ee.type===L&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case D:e:{for(var Ae=ee.key,Me=Y;Me!==null;){if(Me.key===Ae){if(Ae=ee.type,Ae===L){if(Me.tag===7){d(Z,Me.sibling),Y=x(Me,ee.props.children),Y.return=Z,Z=Y;break e}}else if(Me.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===K&&jg(Ae)===Me.type){d(Z,Me.sibling),Y=x(Me,ee.props),Y.ref=ia(Z,Me,ee),Y.return=Z,Z=Y;break e}d(Z,Me);break}else a(Z,Me);Me=Me.sibling}ee.type===L?(Y=Qi(ee.props.children,Z.mode,ye,ee.key),Y.return=Z,Z=Y):(ye=uu(ee.type,ee.key,ee.props,null,Z.mode,ye),ye.ref=ia(Z,Y,ee),ye.return=Z,Z=ye)}return T(Z);case R:e:{for(Me=ee.key;Y!==null;){if(Y.key===Me)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){d(Z,Y.sibling),Y=x(Y,ee.children||[]),Y.return=Z,Z=Y;break e}else{d(Z,Y);break}else a(Z,Y);Y=Y.sibling}Y=wf(ee,Z.mode,ye),Y.return=Z,Z=Y}return T(Z);case K:return Me=ee._init,It(Z,Y,Me(ee._payload),ye)}if(ke(ee))return Te(Z,Y,ee,ye);if(J(ee))return Pe(Z,Y,ee,ye);Fl(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,Y!==null&&Y.tag===6?(d(Z,Y.sibling),Y=x(Y,ee),Y.return=Z,Z=Y):(d(Z,Y),Y=xf(ee,Z.mode,ye),Y.return=Z,Z=Y),T(Z)):d(Z,Y)}return It}var $s=Ng(!0),Tg=Ng(!1),zl=di(null),Bl=null,Fs=null,Nd=null;function Td(){Nd=Fs=Bl=null}function Id(s){var a=zl.current;gt(zl),s._currentValue=a}function Pd(s,a,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===d)break;s=s.return}}function zs(s,a){Bl=s,Nd=Fs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(En=!0),s.firstContext=null)}function Jn(s){var a=s._currentValue;if(Nd!==s)if(s={context:s,memoizedValue:a,next:null},Fs===null){if(Bl===null)throw Error(n(308));Fs=s,Bl.dependencies={lanes:0,firstContext:s}}else Fs=Fs.next=s;return a}var Hi=null;function Ad(s){Hi===null?Hi=[s]:Hi.push(s)}function Ig(s,a,d,m){var x=a.interleaved;return x===null?(d.next=d,Ad(a)):(d.next=x.next,x.next=d),a.interleaved=d,qr(s,m)}function qr(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var pi=!1;function Rd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Yr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function mi(s,a,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(et&2)!==0){var x=m.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),m.pending=a,qr(s,d)}return x=m.interleaved,x===null?(a.next=a,Ad(m)):(a.next=x.next,x.next=a),m.interleaved=a,qr(s,d)}function Ul(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Yc(s,d)}}function Ag(s,a){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,k=null;if(d=d.firstBaseUpdate,d!==null){do{var T={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};k===null?x=k=T:k=k.next=T,d=d.next}while(d!==null);k===null?x=k=a:k=k.next=a}else x=k=a;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:k,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function Wl(s,a,d,m){var x=s.updateQueue;pi=!1;var k=x.firstBaseUpdate,T=x.lastBaseUpdate,F=x.shared.pending;if(F!==null){x.shared.pending=null;var V=F,ie=V.next;V.next=null,T===null?k=ie:T.next=ie,T=V;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,F=fe.lastBaseUpdate,F!==T&&(F===null?fe.firstBaseUpdate=ie:F.next=ie,fe.lastBaseUpdate=V))}if(k!==null){var pe=x.baseState;T=0,fe=ie=V=null,F=k;do{var de=F.lane,je=F.eventTime;if((m&de)===de){fe!==null&&(fe=fe.next={eventTime:je,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Te=s,Pe=F;switch(de=a,je=d,Pe.tag){case 1:if(Te=Pe.payload,typeof Te=="function"){pe=Te.call(je,pe,de);break e}pe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Pe.payload,de=typeof Te=="function"?Te.call(je,pe,de):Te,de==null)break e;pe=I({},pe,de);break e;case 2:pi=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,de=x.effects,de===null?x.effects=[F]:de.push(F))}else je={eventTime:je,lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},fe===null?(ie=fe=je,V=pe):fe=fe.next=je,T|=de;if(F=F.next,F===null){if(F=x.shared.pending,F===null)break;de=F,F=de.next,de.next=null,x.lastBaseUpdate=de,x.shared.pending=null}}while(!0);if(fe===null&&(V=pe),x.baseState=V,x.firstBaseUpdate=ie,x.lastBaseUpdate=fe,a=x.shared.interleaved,a!==null){x=a;do T|=x.lane,x=x.next;while(x!==a)}else k===null&&(x.shared.lanes=0);Yi|=T,s.lanes=T,s.memoizedState=pe}}function Rg(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var sa={},_r=di(sa),oa=di(sa),aa=di(sa);function Vi(s){if(s===sa)throw Error(n(174));return s}function Od(s,a){switch(ft(aa,a),ft(oa,s),ft(_r,sa),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ne(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ne(a,s)}gt(_r),ft(_r,a)}function Bs(){gt(_r),gt(oa),gt(aa)}function Og(s){Vi(aa.current);var a=Vi(_r.current),d=ne(a,s.type);a!==d&&(ft(oa,s),ft(_r,d))}function Md(s){oa.current===s&&(gt(_r),gt(oa))}var kt=di(0);function Hl(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dd=[];function Ld(){for(var s=0;s<Dd.length;s++)Dd[s]._workInProgressVersionPrimary=null;Dd.length=0}var Vl=O.ReactCurrentDispatcher,$d=O.ReactCurrentBatchConfig,qi=0,St=null,Ft=null,Ht=null,ql=!1,la=!1,ua=0,GS=0;function on(){throw Error(n(321))}function Fd(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!lr(s[d],a[d]))return!1;return!0}function zd(s,a,d,m,x,k){if(qi=k,St=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Vl.current=s===null||s.memoizedState===null?ZS:eE,s=d(m,x),la){k=0;do{if(la=!1,ua=0,25<=k)throw Error(n(301));k+=1,Ht=Ft=null,a.updateQueue=null,Vl.current=tE,s=d(m,x)}while(la)}if(Vl.current=Gl,a=Ft!==null&&Ft.next!==null,qi=0,Ht=Ft=St=null,ql=!1,a)throw Error(n(300));return s}function Bd(){var s=ua!==0;return ua=0,s}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?St.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function Qn(){if(Ft===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=Ft.next;var a=Ht===null?St.memoizedState:Ht.next;if(a!==null)Ht=a,Ft=s;else{if(s===null)throw Error(n(310));Ft=s,s={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ht===null?St.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function ca(s,a){return typeof a=="function"?a(s):a}function Ud(s){var a=Qn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=Ft,x=m.baseQueue,k=d.pending;if(k!==null){if(x!==null){var T=x.next;x.next=k.next,k.next=T}m.baseQueue=x=k,d.pending=null}if(x!==null){k=x.next,m=m.baseState;var F=T=null,V=null,ie=k;do{var fe=ie.lane;if((qi&fe)===fe)V!==null&&(V=V.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),m=ie.hasEagerState?ie.eagerState:s(m,ie.action);else{var pe={lane:fe,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};V===null?(F=V=pe,T=m):V=V.next=pe,St.lanes|=fe,Yi|=fe}ie=ie.next}while(ie!==null&&ie!==k);V===null?T=m:V.next=F,lr(m,a.memoizedState)||(En=!0),a.memoizedState=m,a.baseState=T,a.baseQueue=V,d.lastRenderedState=m}if(s=d.interleaved,s!==null){x=s;do k=x.lane,St.lanes|=k,Yi|=k,x=x.next;while(x!==s)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Wd(s){var a=Qn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=d.dispatch,x=d.pending,k=a.memoizedState;if(x!==null){d.pending=null;var T=x=x.next;do k=s(k,T.action),T=T.next;while(T!==x);lr(k,a.memoizedState)||(En=!0),a.memoizedState=k,a.baseQueue===null&&(a.baseState=k),d.lastRenderedState=k}return[k,m]}function Mg(){}function Dg(s,a){var d=St,m=Qn(),x=a(),k=!lr(m.memoizedState,x);if(k&&(m.memoizedState=x,En=!0),m=m.queue,Hd(Fg.bind(null,d,m,s),[s]),m.getSnapshot!==a||k||Ht!==null&&Ht.memoizedState.tag&1){if(d.flags|=2048,da(9,$g.bind(null,d,m,x,a),void 0,null),Vt===null)throw Error(n(349));(qi&30)!==0||Lg(d,a,x)}return x}function Lg(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function $g(s,a,d,m){a.value=d,a.getSnapshot=m,zg(a)&&Bg(s)}function Fg(s,a,d){return d(function(){zg(a)&&Bg(s)})}function zg(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!lr(s,d)}catch{return!0}}function Bg(s){var a=qr(s,1);a!==null&&hr(a,s,1,-1)}function Ug(s){var a=Cr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:s},a.queue=s,s=s.dispatch=XS.bind(null,St,s),[a.memoizedState,s]}function da(s,a,d,m){return s={tag:s,create:a,destroy:d,deps:m,next:null},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,a.lastEffect=s)),s}function Wg(){return Qn().memoizedState}function Yl(s,a,d,m){var x=Cr();St.flags|=s,x.memoizedState=da(1|a,d,void 0,m===void 0?null:m)}function Kl(s,a,d,m){var x=Qn();m=m===void 0?null:m;var k=void 0;if(Ft!==null){var T=Ft.memoizedState;if(k=T.destroy,m!==null&&Fd(m,T.deps)){x.memoizedState=da(a,d,k,m);return}}St.flags|=s,x.memoizedState=da(1|a,d,k,m)}function Hg(s,a){return Yl(8390656,8,s,a)}function Hd(s,a){return Kl(2048,8,s,a)}function Vg(s,a){return Kl(4,2,s,a)}function qg(s,a){return Kl(4,4,s,a)}function Yg(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Kg(s,a,d){return d=d!=null?d.concat([s]):null,Kl(4,4,Yg.bind(null,a,s),d)}function Vd(){}function Gg(s,a){var d=Qn();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Fd(a,m[1])?m[0]:(d.memoizedState=[s,a],s)}function Jg(s,a){var d=Qn();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Fd(a,m[1])?m[0]:(s=s(),d.memoizedState=[s,a],s)}function Qg(s,a,d){return(qi&21)===0?(s.baseState&&(s.baseState=!1,En=!0),s.memoizedState=d):(lr(d,a)||(d=jm(),St.lanes|=d,Yi|=d,s.baseState=!0),a)}function JS(s,a){var d=at;at=d!==0&&4>d?d:4,s(!0);var m=$d.transition;$d.transition={};try{s(!1),a()}finally{at=d,$d.transition=m}}function Xg(){return Qn().memoizedState}function QS(s,a,d){var m=xi(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Zg(s))ev(a,d);else if(d=Ig(s,a,d,m),d!==null){var x=mn();hr(d,s,m,x),tv(d,a,m)}}function XS(s,a,d){var m=xi(s),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Zg(s))ev(a,x);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=a.lastRenderedReducer,k!==null))try{var T=a.lastRenderedState,F=k(T,d);if(x.hasEagerState=!0,x.eagerState=F,lr(F,T)){var V=a.interleaved;V===null?(x.next=x,Ad(a)):(x.next=V.next,V.next=x),a.interleaved=x;return}}catch{}finally{}d=Ig(s,a,x,m),d!==null&&(x=mn(),hr(d,s,m,x),tv(d,a,m))}}function Zg(s){var a=s.alternate;return s===St||a!==null&&a===St}function ev(s,a){la=ql=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function tv(s,a,d){if((d&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Yc(s,d)}}var Gl={readContext:Jn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},ZS={readContext:Jn,useCallback:function(s,a){return Cr().memoizedState=[s,a===void 0?null:a],s},useContext:Jn,useEffect:Hg,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,Yl(4194308,4,Yg.bind(null,a,s),d)},useLayoutEffect:function(s,a){return Yl(4194308,4,s,a)},useInsertionEffect:function(s,a){return Yl(4,2,s,a)},useMemo:function(s,a){var d=Cr();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var m=Cr();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=QS.bind(null,St,s),[m.memoizedState,s]},useRef:function(s){var a=Cr();return s={current:s},a.memoizedState=s},useState:Ug,useDebugValue:Vd,useDeferredValue:function(s){return Cr().memoizedState=s},useTransition:function(){var s=Ug(!1),a=s[0];return s=JS.bind(null,s[1]),Cr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var m=St,x=Cr();if(xt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),Vt===null)throw Error(n(349));(qi&30)!==0||Lg(m,a,d)}x.memoizedState=d;var k={value:d,getSnapshot:a};return x.queue=k,Hg(Fg.bind(null,m,k,s),[s]),m.flags|=2048,da(9,$g.bind(null,m,k,d,a),void 0,null),d},useId:function(){var s=Cr(),a=Vt.identifierPrefix;if(xt){var d=Vr,m=Hr;d=(m&~(1<<32-ar(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=ua++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=GS++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},eE={readContext:Jn,useCallback:Gg,useContext:Jn,useEffect:Hd,useImperativeHandle:Kg,useInsertionEffect:Vg,useLayoutEffect:qg,useMemo:Jg,useReducer:Ud,useRef:Wg,useState:function(){return Ud(ca)},useDebugValue:Vd,useDeferredValue:function(s){var a=Qn();return Qg(a,Ft.memoizedState,s)},useTransition:function(){var s=Ud(ca)[0],a=Qn().memoizedState;return[s,a]},useMutableSource:Mg,useSyncExternalStore:Dg,useId:Xg,unstable_isNewReconciler:!1},tE={readContext:Jn,useCallback:Gg,useContext:Jn,useEffect:Hd,useImperativeHandle:Kg,useInsertionEffect:Vg,useLayoutEffect:qg,useMemo:Jg,useReducer:Wd,useRef:Wg,useState:function(){return Wd(ca)},useDebugValue:Vd,useDeferredValue:function(s){var a=Qn();return Ft===null?a.memoizedState=s:Qg(a,Ft.memoizedState,s)},useTransition:function(){var s=Wd(ca)[0],a=Qn().memoizedState;return[s,a]},useMutableSource:Mg,useSyncExternalStore:Dg,useId:Xg,unstable_isNewReconciler:!1};function cr(s,a){if(s&&s.defaultProps){a=I({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function qd(s,a,d,m){a=s.memoizedState,d=d(m,a),d=d==null?a:I({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Jl={isMounted:function(s){return(s=s._reactInternals)?Fi(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var m=mn(),x=xi(s),k=Yr(m,x);k.payload=a,d!=null&&(k.callback=d),a=mi(s,k,x),a!==null&&(hr(a,s,x,m),Ul(a,s,x))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var m=mn(),x=xi(s),k=Yr(m,x);k.tag=1,k.payload=a,d!=null&&(k.callback=d),a=mi(s,k,x),a!==null&&(hr(a,s,x,m),Ul(a,s,x))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=mn(),m=xi(s),x=Yr(d,m);x.tag=2,a!=null&&(x.callback=a),a=mi(s,x,m),a!==null&&(hr(a,s,m,d),Ul(a,s,m))}};function nv(s,a,d,m,x,k,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,k,T):a.prototype&&a.prototype.isPureReactComponent?!Qo(d,m)||!Qo(x,k):!0}function rv(s,a,d){var m=!1,x=fi,k=a.contextType;return typeof k=="object"&&k!==null?k=Jn(k):(x=Sn(a)?Bi:sn.current,m=a.contextTypes,k=(m=m!=null)?Os(s,x):fi),a=new a(d,k),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Jl,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=k),a}function iv(s,a,d,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==s&&Jl.enqueueReplaceState(a,a.state,null)}function Yd(s,a,d,m){var x=s.stateNode;x.props=d,x.state=s.memoizedState,x.refs={},Rd(s);var k=a.contextType;typeof k=="object"&&k!==null?x.context=Jn(k):(k=Sn(a)?Bi:sn.current,x.context=Os(s,k)),x.state=s.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&(qd(s,a,k,d),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Jl.enqueueReplaceState(x,x.state,null),Wl(s,d,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Us(s,a){try{var d="",m=a;do d+=me(m),m=m.return;while(m);var x=d}catch(k){x=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:a,stack:x,digest:null}}function Kd(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function Gd(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var nE=typeof WeakMap=="function"?WeakMap:Map;function sv(s,a,d){d=Yr(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){ru||(ru=!0,df=m),Gd(s,a)},d}function ov(s,a,d){d=Yr(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=a.value;d.payload=function(){return m(x)},d.callback=function(){Gd(s,a)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(d.callback=function(){Gd(s,a),typeof m!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),d}function av(s,a,d){var m=s.pingCache;if(m===null){m=s.pingCache=new nE;var x=new Set;m.set(a,x)}else x=m.get(a),x===void 0&&(x=new Set,m.set(a,x));x.has(d)||(x.add(d),s=gE.bind(null,s,a,d),a.then(s,s))}function lv(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function uv(s,a,d,m,x){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Yr(-1,1),a.tag=2,mi(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var rE=O.ReactCurrentOwner,En=!1;function pn(s,a,d,m){a.child=s===null?Tg(a,null,d,m):$s(a,s.child,d,m)}function cv(s,a,d,m,x){d=d.render;var k=a.ref;return zs(a,x),m=zd(s,a,d,m,k,x),d=Bd(),s!==null&&!En?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Kr(s,a,x)):(xt&&d&&Sd(a),a.flags|=1,pn(s,a,m,x),a.child)}function dv(s,a,d,m,x){if(s===null){var k=d.type;return typeof k=="function"&&!yf(k)&&k.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=k,fv(s,a,k,m,x)):(s=uu(d.type,null,m,a,a.mode,x),s.ref=a.ref,s.return=a,a.child=s)}if(k=s.child,(s.lanes&x)===0){var T=k.memoizedProps;if(d=d.compare,d=d!==null?d:Qo,d(T,m)&&s.ref===a.ref)return Kr(s,a,x)}return a.flags|=1,s=bi(k,m),s.ref=a.ref,s.return=a,a.child=s}function fv(s,a,d,m,x){if(s!==null){var k=s.memoizedProps;if(Qo(k,m)&&s.ref===a.ref)if(En=!1,a.pendingProps=m=k,(s.lanes&x)!==0)(s.flags&131072)!==0&&(En=!0);else return a.lanes=s.lanes,Kr(s,a,x)}return Jd(s,a,d,m,x)}function hv(s,a,d){var m=a.pendingProps,x=m.children,k=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Hs,zn),zn|=d;else{if((d&1073741824)===0)return s=k!==null?k.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ft(Hs,zn),zn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:d,ft(Hs,zn),zn|=m}else k!==null?(m=k.baseLanes|d,a.memoizedState=null):m=d,ft(Hs,zn),zn|=m;return pn(s,a,x,d),a.child}function pv(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Jd(s,a,d,m,x){var k=Sn(d)?Bi:sn.current;return k=Os(a,k),zs(a,x),d=zd(s,a,d,m,k,x),m=Bd(),s!==null&&!En?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Kr(s,a,x)):(xt&&m&&Sd(a),a.flags|=1,pn(s,a,d,x),a.child)}function mv(s,a,d,m,x){if(Sn(d)){var k=!0;Ol(a)}else k=!1;if(zs(a,x),a.stateNode===null)Xl(s,a),rv(a,d,m),Yd(a,d,m,x),m=!0;else if(s===null){var T=a.stateNode,F=a.memoizedProps;T.props=F;var V=T.context,ie=d.contextType;typeof ie=="object"&&ie!==null?ie=Jn(ie):(ie=Sn(d)?Bi:sn.current,ie=Os(a,ie));var fe=d.getDerivedStateFromProps,pe=typeof fe=="function"||typeof T.getSnapshotBeforeUpdate=="function";pe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F!==m||V!==ie)&&iv(a,T,m,ie),pi=!1;var de=a.memoizedState;T.state=de,Wl(a,m,T,x),V=a.memoizedState,F!==m||de!==V||kn.current||pi?(typeof fe=="function"&&(qd(a,d,fe,m),V=a.memoizedState),(F=pi||nv(a,d,F,m,de,V,ie))?(pe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=V),T.props=m,T.state=V,T.context=ie,m=F):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{T=a.stateNode,Pg(s,a),F=a.memoizedProps,ie=a.type===a.elementType?F:cr(a.type,F),T.props=ie,pe=a.pendingProps,de=T.context,V=d.contextType,typeof V=="object"&&V!==null?V=Jn(V):(V=Sn(d)?Bi:sn.current,V=Os(a,V));var je=d.getDerivedStateFromProps;(fe=typeof je=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F!==pe||de!==V)&&iv(a,T,m,V),pi=!1,de=a.memoizedState,T.state=de,Wl(a,m,T,x);var Te=a.memoizedState;F!==pe||de!==Te||kn.current||pi?(typeof je=="function"&&(qd(a,d,je,m),Te=a.memoizedState),(ie=pi||nv(a,d,ie,m,de,Te,V)||!1)?(fe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,Te,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,Te,V)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||F===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Te),T.props=m,T.state=Te,T.context=V,m=ie):(typeof T.componentDidUpdate!="function"||F===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),m=!1)}return Qd(s,a,d,m,k,x)}function Qd(s,a,d,m,x,k){pv(s,a);var T=(a.flags&128)!==0;if(!m&&!T)return x&&wg(a,d,!1),Kr(s,a,k);m=a.stateNode,rE.current=a;var F=T&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&T?(a.child=$s(a,s.child,null,k),a.child=$s(a,null,F,k)):pn(s,a,F,k),a.memoizedState=m.state,x&&wg(a,d,!0),a.child}function gv(s){var a=s.stateNode;a.pendingContext?yg(s,a.pendingContext,a.pendingContext!==a.context):a.context&&yg(s,a.context,!1),Od(s,a.containerInfo)}function vv(s,a,d,m,x){return Ls(),jd(x),a.flags|=256,pn(s,a,d,m),a.child}var Xd={dehydrated:null,treeContext:null,retryLane:0};function Zd(s){return{baseLanes:s,cachePool:null,transitions:null}}function yv(s,a,d){var m=a.pendingProps,x=kt.current,k=!1,T=(a.flags&128)!==0,F;if((F=T)||(F=s!==null&&s.memoizedState===null?!1:(x&2)!==0),F?(k=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),ft(kt,x&1),s===null)return Cd(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=m.children,s=m.fallback,k?(m=a.mode,k=a.child,T={mode:"hidden",children:T},(m&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=T):k=cu(T,m,0,null),s=Qi(s,m,d,null),k.return=a,s.return=a,k.sibling=s,a.child=k,a.child.memoizedState=Zd(d),a.memoizedState=Xd,s):ef(a,T));if(x=s.memoizedState,x!==null&&(F=x.dehydrated,F!==null))return iE(s,a,T,m,F,x,d);if(k){k=m.fallback,T=a.mode,x=s.child,F=x.sibling;var V={mode:"hidden",children:m.children};return(T&1)===0&&a.child!==x?(m=a.child,m.childLanes=0,m.pendingProps=V,a.deletions=null):(m=bi(x,V),m.subtreeFlags=x.subtreeFlags&14680064),F!==null?k=bi(F,k):(k=Qi(k,T,d,null),k.flags|=2),k.return=a,m.return=a,m.sibling=k,a.child=m,m=k,k=a.child,T=s.child.memoizedState,T=T===null?Zd(d):{baseLanes:T.baseLanes|d,cachePool:null,transitions:T.transitions},k.memoizedState=T,k.childLanes=s.childLanes&~d,a.memoizedState=Xd,m}return k=s.child,s=k.sibling,m=bi(k,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=m,a.memoizedState=null,m}function ef(s,a){return a=cu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ql(s,a,d,m){return m!==null&&jd(m),$s(a,s.child,null,d),s=ef(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function iE(s,a,d,m,x,k,T){if(d)return a.flags&256?(a.flags&=-257,m=Kd(Error(n(422))),Ql(s,a,T,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(k=m.fallback,x=a.mode,m=cu({mode:"visible",children:m.children},x,0,null),k=Qi(k,x,T,null),k.flags|=2,m.return=a,k.return=a,m.sibling=k,a.child=m,(a.mode&1)!==0&&$s(a,s.child,null,T),a.child.memoizedState=Zd(T),a.memoizedState=Xd,k);if((a.mode&1)===0)return Ql(s,a,T,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var F=m.dgst;return m=F,k=Error(n(419)),m=Kd(k,m,void 0),Ql(s,a,T,m)}if(F=(T&s.childLanes)!==0,En||F){if(m=Vt,m!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|T))!==0?0:x,x!==0&&x!==k.retryLane&&(k.retryLane=x,qr(s,x),hr(m,s,x,-1))}return vf(),m=Kd(Error(n(421))),Ql(s,a,T,m)}return x.data==="$?"?(a.flags|=128,a.child=s.child,a=vE.bind(null,s),x._reactRetry=a,null):(s=k.treeContext,Fn=ci(x.nextSibling),$n=a,xt=!0,ur=null,s!==null&&(Kn[Gn++]=Hr,Kn[Gn++]=Vr,Kn[Gn++]=Ui,Hr=s.id,Vr=s.overflow,Ui=a),a=ef(a,m.children),a.flags|=4096,a)}function xv(s,a,d){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Pd(s.return,a,d)}function tf(s,a,d,m,x){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=d,k.tailMode=x)}function wv(s,a,d){var m=a.pendingProps,x=m.revealOrder,k=m.tail;if(pn(s,a,m.children,d),m=kt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xv(s,d,a);else if(s.tag===19)xv(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(ft(kt,m),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)s=d.alternate,s!==null&&Hl(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),tf(a,!1,x,d,k);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(s=x.alternate,s!==null&&Hl(s)===null){a.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}tf(a,!0,d,null,k);break;case"together":tf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Xl(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Kr(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),Yi|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,d=bi(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=bi(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function sE(s,a,d){switch(a.tag){case 3:gv(a),Ls();break;case 5:Og(a);break;case 1:Sn(a.type)&&Ol(a);break;case 4:Od(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,x=a.memoizedProps.value;ft(zl,m._currentValue),m._currentValue=x;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ft(kt,kt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?yv(s,a,d):(ft(kt,kt.current&1),s=Kr(s,a,d),s!==null?s.sibling:null);ft(kt,kt.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(s.flags&128)!==0){if(m)return wv(s,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ft(kt,kt.current),m)break;return null;case 22:case 23:return a.lanes=0,hv(s,a,d)}return Kr(s,a,d)}var bv,nf,kv,Sv;bv=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},nf=function(){},kv=function(s,a,d,m){var x=s.memoizedProps;if(x!==m){s=a.stateNode,Vi(_r.current);var k=null;switch(d){case"input":x=G(s,x),m=G(s,m),k=[];break;case"select":x=I({},x,{value:void 0}),m=I({},m,{value:void 0}),k=[];break;case"textarea":x=Xe(s,x),m=Xe(s,m),k=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Pl)}tt(d,m);var T;d=null;for(ie in x)if(!m.hasOwnProperty(ie)&&x.hasOwnProperty(ie)&&x[ie]!=null)if(ie==="style"){var F=x[ie];for(T in F)F.hasOwnProperty(T)&&(d||(d={}),d[T]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?k||(k=[]):(k=k||[]).push(ie,null));for(ie in m){var V=m[ie];if(F=x!=null?x[ie]:void 0,m.hasOwnProperty(ie)&&V!==F&&(V!=null||F!=null))if(ie==="style")if(F){for(T in F)!F.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(d||(d={}),d[T]="");for(T in V)V.hasOwnProperty(T)&&F[T]!==V[T]&&(d||(d={}),d[T]=V[T])}else d||(k||(k=[]),k.push(ie,d)),d=V;else ie==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,F=F?F.__html:void 0,V!=null&&F!==V&&(k=k||[]).push(ie,V)):ie==="children"?typeof V!="string"&&typeof V!="number"||(k=k||[]).push(ie,""+V):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(V!=null&&ie==="onScroll"&&mt("scroll",s),k||F===V||(k=[])):(k=k||[]).push(ie,V))}d&&(k=k||[]).push("style",d);var ie=k;(a.updateQueue=ie)&&(a.flags|=4)}},Sv=function(s,a,d,m){d!==m&&(a.flags|=4)};function fa(s,a){if(!xt)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function an(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(a)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=d,a}function oE(s,a,d){var m=a.pendingProps;switch(Ed(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(a),null;case 1:return Sn(a.type)&&Rl(),an(a),null;case 3:return m=a.stateNode,Bs(),gt(kn),gt(sn),Ld(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&($l(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ur!==null&&(pf(ur),ur=null))),nf(s,a),an(a),null;case 5:Md(a);var x=Vi(aa.current);if(d=a.type,s!==null&&a.stateNode!=null)kv(s,a,d,m,x),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return an(a),null}if(s=Vi(_r.current),$l(a)){m=a.stateNode,d=a.type;var k=a.memoizedProps;switch(m[Er]=a,m[na]=k,s=(a.mode&1)!==0,d){case"dialog":mt("cancel",m),mt("close",m);break;case"iframe":case"object":case"embed":mt("load",m);break;case"video":case"audio":for(x=0;x<Zo.length;x++)mt(Zo[x],m);break;case"source":mt("error",m);break;case"img":case"image":case"link":mt("error",m),mt("load",m);break;case"details":mt("toggle",m);break;case"input":le(m,k),mt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},mt("invalid",m);break;case"textarea":_t(m,k),mt("invalid",m)}tt(d,k),x=null;for(var T in k)if(k.hasOwnProperty(T)){var F=k[T];T==="children"?typeof F=="string"?m.textContent!==F&&(k.suppressHydrationWarning!==!0&&Il(m.textContent,F,s),x=["children",F]):typeof F=="number"&&m.textContent!==""+F&&(k.suppressHydrationWarning!==!0&&Il(m.textContent,F,s),x=["children",""+F]):i.hasOwnProperty(T)&&F!=null&&T==="onScroll"&&mt("scroll",m)}switch(d){case"input":Je(m),ve(m,k,!0);break;case"textarea":Je(m),ce(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=Pl)}m=x,a.updateQueue=m,m!==null&&(a.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=H(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=T.createElement(d,{is:m.is}):(s=T.createElement(d),d==="select"&&(T=s,m.multiple?T.multiple=!0:m.size&&(T.size=m.size))):s=T.createElementNS(s,d),s[Er]=a,s[na]=m,bv(s,a,!1,!1),a.stateNode=s;e:{switch(T=Wt(d,m),d){case"dialog":mt("cancel",s),mt("close",s),x=m;break;case"iframe":case"object":case"embed":mt("load",s),x=m;break;case"video":case"audio":for(x=0;x<Zo.length;x++)mt(Zo[x],s);x=m;break;case"source":mt("error",s),x=m;break;case"img":case"image":case"link":mt("error",s),mt("load",s),x=m;break;case"details":mt("toggle",s),x=m;break;case"input":le(s,m),x=G(s,m),mt("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=I({},m,{value:void 0}),mt("invalid",s);break;case"textarea":_t(s,m),x=Xe(s,m),mt("invalid",s);break;default:x=m}tt(d,x),F=x;for(k in F)if(F.hasOwnProperty(k)){var V=F[k];k==="style"?Pt(s,V):k==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&_e(s,V)):k==="children"?typeof V=="string"?(d!=="textarea"||V!=="")&&Oe(s,V):typeof V=="number"&&Oe(s,""+V):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?V!=null&&k==="onScroll"&&mt("scroll",s):V!=null&&j(s,k,V,T))}switch(d){case"input":Je(s),ve(s,m,!1);break;case"textarea":Je(s),ce(s);break;case"option":m.value!=null&&s.setAttribute("value",""+ue(m.value));break;case"select":s.multiple=!!m.multiple,k=m.value,k!=null?qe(s,!!m.multiple,k,!1):m.defaultValue!=null&&qe(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Pl)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return an(a),null;case 6:if(s&&a.stateNode!=null)Sv(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(d=Vi(aa.current),Vi(_r.current),$l(a)){if(m=a.stateNode,d=a.memoizedProps,m[Er]=a,(k=m.nodeValue!==d)&&(s=$n,s!==null))switch(s.tag){case 3:Il(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Il(m.nodeValue,d,(s.mode&1)!==0)}k&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Er]=a,a.stateNode=m}return an(a),null;case 13:if(gt(kt),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(xt&&Fn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Cg(),Ls(),a.flags|=98560,k=!1;else if(k=$l(a),m!==null&&m.dehydrated!==null){if(s===null){if(!k)throw Error(n(318));if(k=a.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Er]=a}else Ls(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;an(a),k=!1}else ur!==null&&(pf(ur),ur=null),k=!0;if(!k)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(kt.current&1)!==0?zt===0&&(zt=3):vf())),a.updateQueue!==null&&(a.flags|=4),an(a),null);case 4:return Bs(),nf(s,a),s===null&&ea(a.stateNode.containerInfo),an(a),null;case 10:return Id(a.type._context),an(a),null;case 17:return Sn(a.type)&&Rl(),an(a),null;case 19:if(gt(kt),k=a.memoizedState,k===null)return an(a),null;if(m=(a.flags&128)!==0,T=k.rendering,T===null)if(m)fa(k,!1);else{if(zt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Hl(s),T!==null){for(a.flags|=128,fa(k,!1),m=T.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)k=d,s=m,k.flags&=14680066,T=k.alternate,T===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=T.childLanes,k.lanes=T.lanes,k.child=T.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=T.memoizedProps,k.memoizedState=T.memoizedState,k.updateQueue=T.updateQueue,k.type=T.type,s=T.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return ft(kt,kt.current&1|2),a.child}s=s.sibling}k.tail!==null&&Tt()>Vs&&(a.flags|=128,m=!0,fa(k,!1),a.lanes=4194304)}else{if(!m)if(s=Hl(T),s!==null){if(a.flags|=128,m=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),fa(k,!0),k.tail===null&&k.tailMode==="hidden"&&!T.alternate&&!xt)return an(a),null}else 2*Tt()-k.renderingStartTime>Vs&&d!==1073741824&&(a.flags|=128,m=!0,fa(k,!1),a.lanes=4194304);k.isBackwards?(T.sibling=a.child,a.child=T):(d=k.last,d!==null?d.sibling=T:a.child=T,k.last=T)}return k.tail!==null?(a=k.tail,k.rendering=a,k.tail=a.sibling,k.renderingStartTime=Tt(),a.sibling=null,d=kt.current,ft(kt,m?d&1|2:d&1),a):(an(a),null);case 22:case 23:return gf(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(zn&1073741824)!==0&&(an(a),a.subtreeFlags&6&&(a.flags|=8192)):an(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function aE(s,a){switch(Ed(a),a.tag){case 1:return Sn(a.type)&&Rl(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Bs(),gt(kn),gt(sn),Ld(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Md(a),null;case 13:if(gt(kt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ls()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return gt(kt),null;case 4:return Bs(),null;case 10:return Id(a.type._context),null;case 22:case 23:return gf(),null;case 24:return null;default:return null}}var Zl=!1,ln=!1,lE=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Ws(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Ct(s,a,m)}else d.current=null}function rf(s,a,d){try{d()}catch(m){Ct(s,a,m)}}var Ev=!1;function uE(s,a){if(md=xl,s=ng(),ad(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{d.nodeType,k.nodeType}catch{d=null;break e}var T=0,F=-1,V=-1,ie=0,fe=0,pe=s,de=null;t:for(;;){for(var je;pe!==d||x!==0&&pe.nodeType!==3||(F=T+x),pe!==k||m!==0&&pe.nodeType!==3||(V=T+m),pe.nodeType===3&&(T+=pe.nodeValue.length),(je=pe.firstChild)!==null;)de=pe,pe=je;for(;;){if(pe===s)break t;if(de===d&&++ie===x&&(F=T),de===k&&++fe===m&&(V=T),(je=pe.nextSibling)!==null)break;pe=de,de=pe.parentNode}pe=je}d=F===-1||V===-1?null:{start:F,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(gd={focusedElem:s,selectionRange:d},xl=!1,Ne=a;Ne!==null;)if(a=Ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ne=s;else for(;Ne!==null;){a=Ne;try{var Te=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Pe=Te.memoizedProps,It=Te.memoizedState,Z=a.stateNode,Y=Z.getSnapshotBeforeUpdate(a.elementType===a.type?Pe:cr(a.type,Pe),It);Z.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ee=a.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Ct(a,a.return,ye)}if(s=a.sibling,s!==null){s.return=a.return,Ne=s;break}Ne=a.return}return Te=Ev,Ev=!1,Te}function ha(s,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var k=x.destroy;x.destroy=void 0,k!==void 0&&rf(a,d,k)}x=x.next}while(x!==m)}}function eu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function sf(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function _v(s){var a=s.alternate;a!==null&&(s.alternate=null,_v(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Er],delete a[na],delete a[wd],delete a[VS],delete a[qS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Cv(s){return s.tag===5||s.tag===3||s.tag===4}function jv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Cv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function of(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Pl));else if(m!==4&&(s=s.child,s!==null))for(of(s,a,d),s=s.sibling;s!==null;)of(s,a,d),s=s.sibling}function af(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(af(s,a,d),s=s.sibling;s!==null;)af(s,a,d),s=s.sibling}var Qt=null,dr=!1;function gi(s,a,d){for(d=d.child;d!==null;)Nv(s,a,d),d=d.sibling}function Nv(s,a,d){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(hl,d)}catch{}switch(d.tag){case 5:ln||Ws(d,a);case 6:var m=Qt,x=dr;Qt=null,gi(s,a,d),Qt=m,dr=x,Qt!==null&&(dr?(s=Qt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Qt.removeChild(d.stateNode));break;case 18:Qt!==null&&(dr?(s=Qt,d=d.stateNode,s.nodeType===8?xd(s.parentNode,d):s.nodeType===1&&xd(s,d),Vo(s)):xd(Qt,d.stateNode));break;case 4:m=Qt,x=dr,Qt=d.stateNode.containerInfo,dr=!0,gi(s,a,d),Qt=m,dr=x;break;case 0:case 11:case 14:case 15:if(!ln&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var k=x,T=k.destroy;k=k.tag,T!==void 0&&((k&2)!==0||(k&4)!==0)&&rf(d,a,T),x=x.next}while(x!==m)}gi(s,a,d);break;case 1:if(!ln&&(Ws(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(F){Ct(d,a,F)}gi(s,a,d);break;case 21:gi(s,a,d);break;case 22:d.mode&1?(ln=(m=ln)||d.memoizedState!==null,gi(s,a,d),ln=m):gi(s,a,d);break;default:gi(s,a,d)}}function Tv(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new lE),a.forEach(function(m){var x=yE.bind(null,s,m);d.has(m)||(d.add(m),m.then(x,x))})}}function fr(s,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var k=s,T=a,F=T;e:for(;F!==null;){switch(F.tag){case 5:Qt=F.stateNode,dr=!1;break e;case 3:Qt=F.stateNode.containerInfo,dr=!0;break e;case 4:Qt=F.stateNode.containerInfo,dr=!0;break e}F=F.return}if(Qt===null)throw Error(n(160));Nv(k,T,x),Qt=null,dr=!1;var V=x.alternate;V!==null&&(V.return=null),x.return=null}catch(ie){Ct(x,a,ie)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Iv(a,s),a=a.sibling}function Iv(s,a){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(fr(a,s),jr(s),m&4){try{ha(3,s,s.return),eu(3,s)}catch(Pe){Ct(s,s.return,Pe)}try{ha(5,s,s.return)}catch(Pe){Ct(s,s.return,Pe)}}break;case 1:fr(a,s),jr(s),m&512&&d!==null&&Ws(d,d.return);break;case 5:if(fr(a,s),jr(s),m&512&&d!==null&&Ws(d,d.return),s.flags&32){var x=s.stateNode;try{Oe(x,"")}catch(Pe){Ct(s,s.return,Pe)}}if(m&4&&(x=s.stateNode,x!=null)){var k=s.memoizedProps,T=d!==null?d.memoizedProps:k,F=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{F==="input"&&k.type==="radio"&&k.name!=null&&ae(x,k),Wt(F,T);var ie=Wt(F,k);for(T=0;T<V.length;T+=2){var fe=V[T],pe=V[T+1];fe==="style"?Pt(x,pe):fe==="dangerouslySetInnerHTML"?_e(x,pe):fe==="children"?Oe(x,pe):j(x,fe,pe,ie)}switch(F){case"input":be(x,k);break;case"textarea":Q(x,k);break;case"select":var de=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!k.multiple;var je=k.value;je!=null?qe(x,!!k.multiple,je,!1):de!==!!k.multiple&&(k.defaultValue!=null?qe(x,!!k.multiple,k.defaultValue,!0):qe(x,!!k.multiple,k.multiple?[]:"",!1))}x[na]=k}catch(Pe){Ct(s,s.return,Pe)}}break;case 6:if(fr(a,s),jr(s),m&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,k=s.memoizedProps;try{x.nodeValue=k}catch(Pe){Ct(s,s.return,Pe)}}break;case 3:if(fr(a,s),jr(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Vo(a.containerInfo)}catch(Pe){Ct(s,s.return,Pe)}break;case 4:fr(a,s),jr(s);break;case 13:fr(a,s),jr(s),x=s.child,x.flags&8192&&(k=x.memoizedState!==null,x.stateNode.isHidden=k,!k||x.alternate!==null&&x.alternate.memoizedState!==null||(cf=Tt())),m&4&&Tv(s);break;case 22:if(fe=d!==null&&d.memoizedState!==null,s.mode&1?(ln=(ie=ln)||fe,fr(a,s),ln=ie):fr(a,s),jr(s),m&8192){if(ie=s.memoizedState!==null,(s.stateNode.isHidden=ie)&&!fe&&(s.mode&1)!==0)for(Ne=s,fe=s.child;fe!==null;){for(pe=Ne=fe;Ne!==null;){switch(de=Ne,je=de.child,de.tag){case 0:case 11:case 14:case 15:ha(4,de,de.return);break;case 1:Ws(de,de.return);var Te=de.stateNode;if(typeof Te.componentWillUnmount=="function"){m=de,d=de.return;try{a=m,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(Pe){Ct(m,d,Pe)}}break;case 5:Ws(de,de.return);break;case 22:if(de.memoizedState!==null){Rv(pe);continue}}je!==null?(je.return=de,Ne=je):Rv(pe)}fe=fe.sibling}e:for(fe=null,pe=s;;){if(pe.tag===5){if(fe===null){fe=pe;try{x=pe.stateNode,ie?(k=x.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(F=pe.stateNode,V=pe.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,F.style.display=dt("display",T))}catch(Pe){Ct(s,s.return,Pe)}}}else if(pe.tag===6){if(fe===null)try{pe.stateNode.nodeValue=ie?"":pe.memoizedProps}catch(Pe){Ct(s,s.return,Pe)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===s)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===s)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===s)break e;fe===pe&&(fe=null),pe=pe.return}fe===pe&&(fe=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:fr(a,s),jr(s),m&4&&Tv(s);break;case 21:break;default:fr(a,s),jr(s)}}function jr(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(Cv(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(Oe(x,""),m.flags&=-33);var k=jv(s);af(s,k,x);break;case 3:case 4:var T=m.stateNode.containerInfo,F=jv(s);of(s,F,T);break;default:throw Error(n(161))}}catch(V){Ct(s,s.return,V)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function cE(s,a,d){Ne=s,Pv(s)}function Pv(s,a,d){for(var m=(s.mode&1)!==0;Ne!==null;){var x=Ne,k=x.child;if(x.tag===22&&m){var T=x.memoizedState!==null||Zl;if(!T){var F=x.alternate,V=F!==null&&F.memoizedState!==null||ln;F=Zl;var ie=ln;if(Zl=T,(ln=V)&&!ie)for(Ne=x;Ne!==null;)T=Ne,V=T.child,T.tag===22&&T.memoizedState!==null?Ov(x):V!==null?(V.return=T,Ne=V):Ov(x);for(;k!==null;)Ne=k,Pv(k),k=k.sibling;Ne=x,Zl=F,ln=ie}Av(s)}else(x.subtreeFlags&8772)!==0&&k!==null?(k.return=x,Ne=k):Av(s)}}function Av(s){for(;Ne!==null;){var a=Ne;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ln||eu(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!ln)if(d===null)m.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:cr(a.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=a.updateQueue;k!==null&&Rg(a,k,m);break;case 3:var T=a.updateQueue;if(T!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Rg(a,T,d)}break;case 5:var F=a.stateNode;if(d===null&&a.flags&4){d=F;var V=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&d.focus();break;case"img":V.src&&(d.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ie=a.alternate;if(ie!==null){var fe=ie.memoizedState;if(fe!==null){var pe=fe.dehydrated;pe!==null&&Vo(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||a.flags&512&&sf(a)}catch(de){Ct(a,a.return,de)}}if(a===s){Ne=null;break}if(d=a.sibling,d!==null){d.return=a.return,Ne=d;break}Ne=a.return}}function Rv(s){for(;Ne!==null;){var a=Ne;if(a===s){Ne=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Ne=d;break}Ne=a.return}}function Ov(s){for(;Ne!==null;){var a=Ne;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{eu(4,a)}catch(V){Ct(a,d,V)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var x=a.return;try{m.componentDidMount()}catch(V){Ct(a,x,V)}}var k=a.return;try{sf(a)}catch(V){Ct(a,k,V)}break;case 5:var T=a.return;try{sf(a)}catch(V){Ct(a,T,V)}}}catch(V){Ct(a,a.return,V)}if(a===s){Ne=null;break}var F=a.sibling;if(F!==null){F.return=a.return,Ne=F;break}Ne=a.return}}var dE=Math.ceil,tu=O.ReactCurrentDispatcher,lf=O.ReactCurrentOwner,Xn=O.ReactCurrentBatchConfig,et=0,Vt=null,At=null,Xt=0,zn=0,Hs=di(0),zt=0,pa=null,Yi=0,nu=0,uf=0,ma=null,_n=null,cf=0,Vs=1/0,Gr=null,ru=!1,df=null,vi=null,iu=!1,yi=null,su=0,ga=0,ff=null,ou=-1,au=0;function mn(){return(et&6)!==0?Tt():ou!==-1?ou:ou=Tt()}function xi(s){return(s.mode&1)===0?1:(et&2)!==0&&Xt!==0?Xt&-Xt:KS.transition!==null?(au===0&&(au=jm()),au):(s=at,s!==0||(s=window.event,s=s===void 0?16:Dm(s.type)),s)}function hr(s,a,d,m){if(50<ga)throw ga=0,ff=null,Error(n(185));zo(s,d,m),((et&2)===0||s!==Vt)&&(s===Vt&&((et&2)===0&&(nu|=d),zt===4&&wi(s,Xt)),Cn(s,m),d===1&&et===0&&(a.mode&1)===0&&(Vs=Tt()+500,Ml&&hi()))}function Cn(s,a){var d=s.callbackNode;K1(s,a);var m=gl(s,s===Vt?Xt:0);if(m===0)d!==null&&Em(d),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(d!=null&&Em(d),a===1)s.tag===0?YS(Dv.bind(null,s)):bg(Dv.bind(null,s)),WS(function(){(et&6)===0&&hi()}),d=null;else{switch(Nm(m)){case 1:d=Hc;break;case 4:d=_m;break;case 16:d=fl;break;case 536870912:d=Cm;break;default:d=fl}d=Hv(d,Mv.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function Mv(s,a){if(ou=-1,au=0,(et&6)!==0)throw Error(n(327));var d=s.callbackNode;if(qs()&&s.callbackNode!==d)return null;var m=gl(s,s===Vt?Xt:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=lu(s,m);else{a=m;var x=et;et|=2;var k=$v();(Vt!==s||Xt!==a)&&(Gr=null,Vs=Tt()+500,Gi(s,a));do try{pE();break}catch(F){Lv(s,F)}while(!0);Td(),tu.current=k,et=x,At!==null?a=0:(Vt=null,Xt=0,a=zt)}if(a!==0){if(a===2&&(x=Vc(s),x!==0&&(m=x,a=hf(s,x))),a===1)throw d=pa,Gi(s,0),wi(s,m),Cn(s,Tt()),d;if(a===6)wi(s,m);else{if(x=s.current.alternate,(m&30)===0&&!fE(x)&&(a=lu(s,m),a===2&&(k=Vc(s),k!==0&&(m=k,a=hf(s,k))),a===1))throw d=pa,Gi(s,0),wi(s,m),Cn(s,Tt()),d;switch(s.finishedWork=x,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Ji(s,_n,Gr);break;case 3:if(wi(s,m),(m&130023424)===m&&(a=cf+500-Tt(),10<a)){if(gl(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){mn(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=yd(Ji.bind(null,s,_n,Gr),a);break}Ji(s,_n,Gr);break;case 4:if(wi(s,m),(m&4194240)===m)break;for(a=s.eventTimes,x=-1;0<m;){var T=31-ar(m);k=1<<T,T=a[T],T>x&&(x=T),m&=~k}if(m=x,m=Tt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*dE(m/1960))-m,10<m){s.timeoutHandle=yd(Ji.bind(null,s,_n,Gr),m);break}Ji(s,_n,Gr);break;case 5:Ji(s,_n,Gr);break;default:throw Error(n(329))}}}return Cn(s,Tt()),s.callbackNode===d?Mv.bind(null,s):null}function hf(s,a){var d=ma;return s.current.memoizedState.isDehydrated&&(Gi(s,a).flags|=256),s=lu(s,a),s!==2&&(a=_n,_n=d,a!==null&&pf(a)),s}function pf(s){_n===null?_n=s:_n.push.apply(_n,s)}function fE(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],k=x.getSnapshot;x=x.value;try{if(!lr(k(),x))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wi(s,a){for(a&=~uf,a&=~nu,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-ar(a),m=1<<d;s[d]=-1,a&=~m}}function Dv(s){if((et&6)!==0)throw Error(n(327));qs();var a=gl(s,0);if((a&1)===0)return Cn(s,Tt()),null;var d=lu(s,a);if(s.tag!==0&&d===2){var m=Vc(s);m!==0&&(a=m,d=hf(s,m))}if(d===1)throw d=pa,Gi(s,0),wi(s,a),Cn(s,Tt()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ji(s,_n,Gr),Cn(s,Tt()),null}function mf(s,a){var d=et;et|=1;try{return s(a)}finally{et=d,et===0&&(Vs=Tt()+500,Ml&&hi())}}function Ki(s){yi!==null&&yi.tag===0&&(et&6)===0&&qs();var a=et;et|=1;var d=Xn.transition,m=at;try{if(Xn.transition=null,at=1,s)return s()}finally{at=m,Xn.transition=d,et=a,(et&6)===0&&hi()}}function gf(){zn=Hs.current,gt(Hs)}function Gi(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,US(d)),At!==null)for(d=At.return;d!==null;){var m=d;switch(Ed(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Rl();break;case 3:Bs(),gt(kn),gt(sn),Ld();break;case 5:Md(m);break;case 4:Bs();break;case 13:gt(kt);break;case 19:gt(kt);break;case 10:Id(m.type._context);break;case 22:case 23:gf()}d=d.return}if(Vt=s,At=s=bi(s.current,null),Xt=zn=a,zt=0,pa=null,uf=nu=Yi=0,_n=ma=null,Hi!==null){for(a=0;a<Hi.length;a++)if(d=Hi[a],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,k=d.pending;if(k!==null){var T=k.next;k.next=x,m.next=T}d.pending=m}Hi=null}return s}function Lv(s,a){do{var d=At;try{if(Td(),Vl.current=Gl,ql){for(var m=St.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}ql=!1}if(qi=0,Ht=Ft=St=null,la=!1,ua=0,lf.current=null,d===null||d.return===null){zt=1,pa=a,At=null;break}e:{var k=s,T=d.return,F=d,V=a;if(a=Xt,F.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=V,fe=F,pe=fe.tag;if((fe.mode&1)===0&&(pe===0||pe===11||pe===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var je=lv(T);if(je!==null){je.flags&=-257,uv(je,T,F,k,a),je.mode&1&&av(k,ie,a),a=je,V=ie;var Te=a.updateQueue;if(Te===null){var Pe=new Set;Pe.add(V),a.updateQueue=Pe}else Te.add(V);break e}else{if((a&1)===0){av(k,ie,a),vf();break e}V=Error(n(426))}}else if(xt&&F.mode&1){var It=lv(T);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),uv(It,T,F,k,a),jd(Us(V,F));break e}}k=V=Us(V,F),zt!==4&&(zt=2),ma===null?ma=[k]:ma.push(k),k=T;do{switch(k.tag){case 3:k.flags|=65536,a&=-a,k.lanes|=a;var Z=sv(k,V,a);Ag(k,Z);break e;case 1:F=V;var Y=k.type,ee=k.stateNode;if((k.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(vi===null||!vi.has(ee)))){k.flags|=65536,a&=-a,k.lanes|=a;var ye=ov(k,F,a);Ag(k,ye);break e}}k=k.return}while(k!==null)}zv(d)}catch(Ae){a=Ae,At===d&&d!==null&&(At=d=d.return);continue}break}while(!0)}function $v(){var s=tu.current;return tu.current=Gl,s===null?Gl:s}function vf(){(zt===0||zt===3||zt===2)&&(zt=4),Vt===null||(Yi&268435455)===0&&(nu&268435455)===0||wi(Vt,Xt)}function lu(s,a){var d=et;et|=2;var m=$v();(Vt!==s||Xt!==a)&&(Gr=null,Gi(s,a));do try{hE();break}catch(x){Lv(s,x)}while(!0);if(Td(),et=d,tu.current=m,At!==null)throw Error(n(261));return Vt=null,Xt=0,zt}function hE(){for(;At!==null;)Fv(At)}function pE(){for(;At!==null&&!F1();)Fv(At)}function Fv(s){var a=Wv(s.alternate,s,zn);s.memoizedProps=s.pendingProps,a===null?zv(s):At=a,lf.current=null}function zv(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=oE(d,a,zn),d!==null){At=d;return}}else{if(d=aE(d,a),d!==null){d.flags&=32767,At=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{zt=6,At=null;return}}if(a=a.sibling,a!==null){At=a;return}At=a=s}while(a!==null);zt===0&&(zt=5)}function Ji(s,a,d){var m=at,x=Xn.transition;try{Xn.transition=null,at=1,mE(s,a,d,m)}finally{Xn.transition=x,at=m}return null}function mE(s,a,d,m){do qs();while(yi!==null);if((et&6)!==0)throw Error(n(327));d=s.finishedWork;var x=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var k=d.lanes|d.childLanes;if(G1(s,k),s===Vt&&(At=Vt=null,Xt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||iu||(iu=!0,Hv(fl,function(){return qs(),null})),k=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||k){k=Xn.transition,Xn.transition=null;var T=at;at=1;var F=et;et|=4,lf.current=null,uE(s,d),Iv(d,s),MS(gd),xl=!!md,gd=md=null,s.current=d,cE(d),z1(),et=F,at=T,Xn.transition=k}else s.current=d;if(iu&&(iu=!1,yi=s,su=x),k=s.pendingLanes,k===0&&(vi=null),W1(d.stateNode),Cn(s,Tt()),a!==null)for(m=s.onRecoverableError,d=0;d<a.length;d++)x=a[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(ru)throw ru=!1,s=df,df=null,s;return(su&1)!==0&&s.tag!==0&&qs(),k=s.pendingLanes,(k&1)!==0?s===ff?ga++:(ga=0,ff=s):ga=0,hi(),null}function qs(){if(yi!==null){var s=Nm(su),a=Xn.transition,d=at;try{if(Xn.transition=null,at=16>s?16:s,yi===null)var m=!1;else{if(s=yi,yi=null,su=0,(et&6)!==0)throw Error(n(331));var x=et;for(et|=4,Ne=s.current;Ne!==null;){var k=Ne,T=k.child;if((Ne.flags&16)!==0){var F=k.deletions;if(F!==null){for(var V=0;V<F.length;V++){var ie=F[V];for(Ne=ie;Ne!==null;){var fe=Ne;switch(fe.tag){case 0:case 11:case 15:ha(8,fe,k)}var pe=fe.child;if(pe!==null)pe.return=fe,Ne=pe;else for(;Ne!==null;){fe=Ne;var de=fe.sibling,je=fe.return;if(_v(fe),fe===ie){Ne=null;break}if(de!==null){de.return=je,Ne=de;break}Ne=je}}}var Te=k.alternate;if(Te!==null){var Pe=Te.child;if(Pe!==null){Te.child=null;do{var It=Pe.sibling;Pe.sibling=null,Pe=It}while(Pe!==null)}}Ne=k}}if((k.subtreeFlags&2064)!==0&&T!==null)T.return=k,Ne=T;else e:for(;Ne!==null;){if(k=Ne,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:ha(9,k,k.return)}var Z=k.sibling;if(Z!==null){Z.return=k.return,Ne=Z;break e}Ne=k.return}}var Y=s.current;for(Ne=Y;Ne!==null;){T=Ne;var ee=T.child;if((T.subtreeFlags&2064)!==0&&ee!==null)ee.return=T,Ne=ee;else e:for(T=Y;Ne!==null;){if(F=Ne,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:eu(9,F)}}catch(Ae){Ct(F,F.return,Ae)}if(F===T){Ne=null;break e}var ye=F.sibling;if(ye!==null){ye.return=F.return,Ne=ye;break e}Ne=F.return}}if(et=x,hi(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(hl,s)}catch{}m=!0}return m}finally{at=d,Xn.transition=a}}return!1}function Bv(s,a,d){a=Us(d,a),a=sv(s,a,1),s=mi(s,a,1),a=mn(),s!==null&&(zo(s,1,a),Cn(s,a))}function Ct(s,a,d){if(s.tag===3)Bv(s,s,d);else for(;a!==null;){if(a.tag===3){Bv(a,s,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(vi===null||!vi.has(m))){s=Us(d,s),s=ov(a,s,1),a=mi(a,s,1),s=mn(),a!==null&&(zo(a,1,s),Cn(a,s));break}}a=a.return}}function gE(s,a,d){var m=s.pingCache;m!==null&&m.delete(a),a=mn(),s.pingedLanes|=s.suspendedLanes&d,Vt===s&&(Xt&d)===d&&(zt===4||zt===3&&(Xt&130023424)===Xt&&500>Tt()-cf?Gi(s,0):uf|=d),Cn(s,a)}function Uv(s,a){a===0&&((s.mode&1)===0?a=1:(a=ml,ml<<=1,(ml&130023424)===0&&(ml=4194304)));var d=mn();s=qr(s,a),s!==null&&(zo(s,a,d),Cn(s,d))}function vE(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),Uv(s,d)}function yE(s,a){var d=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),Uv(s,d)}var Wv;Wv=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||kn.current)En=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return En=!1,sE(s,a,d);En=(s.flags&131072)!==0}else En=!1,xt&&(a.flags&1048576)!==0&&kg(a,Ll,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Xl(s,a),s=a.pendingProps;var x=Os(a,sn.current);zs(a,d),x=zd(null,a,m,s,x,d);var k=Bd();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Sn(m)?(k=!0,Ol(a)):k=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Rd(a),x.updater=Jl,a.stateNode=x,x._reactInternals=a,Yd(a,m,s,d),a=Qd(null,a,m,!0,k,d)):(a.tag=0,xt&&k&&Sd(a),pn(null,a,x,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Xl(s,a),s=a.pendingProps,x=m._init,m=x(m._payload),a.type=m,x=a.tag=wE(m),s=cr(m,s),x){case 0:a=Jd(null,a,m,s,d);break e;case 1:a=mv(null,a,m,s,d);break e;case 11:a=cv(null,a,m,s,d);break e;case 14:a=dv(null,a,m,cr(m.type,s),d);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:cr(m,x),Jd(s,a,m,x,d);case 1:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:cr(m,x),mv(s,a,m,x,d);case 3:e:{if(gv(a),s===null)throw Error(n(387));m=a.pendingProps,k=a.memoizedState,x=k.element,Pg(s,a),Wl(a,m,null,d);var T=a.memoizedState;if(m=T.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=k,a.memoizedState=k,a.flags&256){x=Us(Error(n(423)),a),a=vv(s,a,m,d,x);break e}else if(m!==x){x=Us(Error(n(424)),a),a=vv(s,a,m,d,x);break e}else for(Fn=ci(a.stateNode.containerInfo.firstChild),$n=a,xt=!0,ur=null,d=Tg(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ls(),m===x){a=Kr(s,a,d);break e}pn(s,a,m,d)}a=a.child}return a;case 5:return Og(a),s===null&&Cd(a),m=a.type,x=a.pendingProps,k=s!==null?s.memoizedProps:null,T=x.children,vd(m,x)?T=null:k!==null&&vd(m,k)&&(a.flags|=32),pv(s,a),pn(s,a,T,d),a.child;case 6:return s===null&&Cd(a),null;case 13:return yv(s,a,d);case 4:return Od(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=$s(a,null,m,d):pn(s,a,m,d),a.child;case 11:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:cr(m,x),cv(s,a,m,x,d);case 7:return pn(s,a,a.pendingProps,d),a.child;case 8:return pn(s,a,a.pendingProps.children,d),a.child;case 12:return pn(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,x=a.pendingProps,k=a.memoizedProps,T=x.value,ft(zl,m._currentValue),m._currentValue=T,k!==null)if(lr(k.value,T)){if(k.children===x.children&&!kn.current){a=Kr(s,a,d);break e}}else for(k=a.child,k!==null&&(k.return=a);k!==null;){var F=k.dependencies;if(F!==null){T=k.child;for(var V=F.firstContext;V!==null;){if(V.context===m){if(k.tag===1){V=Yr(-1,d&-d),V.tag=2;var ie=k.updateQueue;if(ie!==null){ie=ie.shared;var fe=ie.pending;fe===null?V.next=V:(V.next=fe.next,fe.next=V),ie.pending=V}}k.lanes|=d,V=k.alternate,V!==null&&(V.lanes|=d),Pd(k.return,d,a),F.lanes|=d;break}V=V.next}}else if(k.tag===10)T=k.type===a.type?null:k.child;else if(k.tag===18){if(T=k.return,T===null)throw Error(n(341));T.lanes|=d,F=T.alternate,F!==null&&(F.lanes|=d),Pd(T,d,a),T=k.sibling}else T=k.child;if(T!==null)T.return=k;else for(T=k;T!==null;){if(T===a){T=null;break}if(k=T.sibling,k!==null){k.return=T.return,T=k;break}T=T.return}k=T}pn(s,a,x.children,d),a=a.child}return a;case 9:return x=a.type,m=a.pendingProps.children,zs(a,d),x=Jn(x),m=m(x),a.flags|=1,pn(s,a,m,d),a.child;case 14:return m=a.type,x=cr(m,a.pendingProps),x=cr(m.type,x),dv(s,a,m,x,d);case 15:return fv(s,a,a.type,a.pendingProps,d);case 17:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:cr(m,x),Xl(s,a),a.tag=1,Sn(m)?(s=!0,Ol(a)):s=!1,zs(a,d),rv(a,m,x),Yd(a,m,x,d),Qd(null,a,m,!0,s,d);case 19:return wv(s,a,d);case 22:return hv(s,a,d)}throw Error(n(156,a.tag))};function Hv(s,a){return Sm(s,a)}function xE(s,a,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,a,d,m){return new xE(s,a,d,m)}function yf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wE(s){if(typeof s=="function")return yf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===q)return 11;if(s===U)return 14}return 2}function bi(s,a){var d=s.alternate;return d===null?(d=Zn(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function uu(s,a,d,m,x,k){var T=2;if(m=s,typeof s=="function")yf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case L:return Qi(d.children,x,k,a);case te:T=8,x|=8;break;case re:return s=Zn(12,d,a,x|2),s.elementType=re,s.lanes=k,s;case W:return s=Zn(13,d,a,x),s.elementType=W,s.lanes=k,s;case B:return s=Zn(19,d,a,x),s.elementType=B,s.lanes=k,s;case X:return cu(d,x,k,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:T=10;break e;case C:T=9;break e;case q:T=11;break e;case U:T=14;break e;case K:T=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Zn(T,d,a,x),a.elementType=s,a.type=m,a.lanes=k,a}function Qi(s,a,d,m){return s=Zn(7,s,m,a),s.lanes=d,s}function cu(s,a,d,m){return s=Zn(22,s,m,a),s.elementType=X,s.lanes=d,s.stateNode={isHidden:!1},s}function xf(s,a,d){return s=Zn(6,s,null,a),s.lanes=d,s}function wf(s,a,d){return a=Zn(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function bE(s,a,d,m,x){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qc(0),this.expirationTimes=qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qc(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function bf(s,a,d,m,x,k,T,F,V){return s=new bE(s,a,d,F,V),a===1?(a=1,k===!0&&(a|=8)):a=0,k=Zn(3,null,null,a),s.current=k,k.stateNode=s,k.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(k),s}function kE(s,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:m==null?null:""+m,children:s,containerInfo:a,implementation:d}}function Vv(s){if(!s)return fi;s=s._reactInternals;e:{if(Fi(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Sn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(Sn(d))return xg(s,d,a)}return a}function qv(s,a,d,m,x,k,T,F,V){return s=bf(d,m,!0,s,x,k,T,F,V),s.context=Vv(null),d=s.current,m=mn(),x=xi(d),k=Yr(m,x),k.callback=a??null,mi(d,k,x),s.current.lanes=x,zo(s,x,m),Cn(s,m),s}function du(s,a,d,m){var x=a.current,k=mn(),T=xi(x);return d=Vv(d),a.context===null?a.context=d:a.pendingContext=d,a=Yr(k,T),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=mi(x,a,T),s!==null&&(hr(s,x,T,k),Ul(s,x,T)),T}function fu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Yv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function kf(s,a){Yv(s,a),(s=s.alternate)&&Yv(s,a)}function SE(){return null}var Kv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Sf(s){this._internalRoot=s}hu.prototype.render=Sf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));du(s,a,null,null)},hu.prototype.unmount=Sf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ki(function(){du(null,s,null,null)}),a[Ur]=null}};function hu(s){this._internalRoot=s}hu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Pm();s={blockedOn:null,target:s,priority:a};for(var d=0;d<ai.length&&a!==0&&a<ai[d].priority;d++);ai.splice(d,0,s),d===0&&Om(s)}};function Ef(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function EE(s,a,d,m,x){if(x){if(typeof m=="function"){var k=m;m=function(){var ie=fu(T);k.call(ie)}}var T=qv(a,m,s,0,null,!1,!1,"",Gv);return s._reactRootContainer=T,s[Ur]=T.current,ea(s.nodeType===8?s.parentNode:s),Ki(),T}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var F=m;m=function(){var ie=fu(V);F.call(ie)}}var V=bf(s,0,!1,null,null,!1,!1,"",Gv);return s._reactRootContainer=V,s[Ur]=V.current,ea(s.nodeType===8?s.parentNode:s),Ki(function(){du(a,V,d,m)}),V}function mu(s,a,d,m,x){var k=d._reactRootContainer;if(k){var T=k;if(typeof x=="function"){var F=x;x=function(){var V=fu(T);F.call(V)}}du(a,T,s,x)}else T=EE(d,a,s,x,m);return fu(T)}Tm=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=Fo(a.pendingLanes);d!==0&&(Yc(a,d|1),Cn(a,Tt()),(et&6)===0&&(Vs=Tt()+500,hi()))}break;case 13:Ki(function(){var m=qr(s,1);if(m!==null){var x=mn();hr(m,s,1,x)}}),kf(s,1)}},Kc=function(s){if(s.tag===13){var a=qr(s,134217728);if(a!==null){var d=mn();hr(a,s,134217728,d)}kf(s,134217728)}},Im=function(s){if(s.tag===13){var a=xi(s),d=qr(s,a);if(d!==null){var m=mn();hr(d,s,a,m)}kf(s,a)}},Pm=function(){return at},Am=function(s,a){var d=at;try{return at=s,a()}finally{at=d}},ot=function(s,a,d){switch(a){case"input":if(be(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==s&&m.form===s.form){var x=Al(m);if(!x)throw Error(n(90));rt(m),be(m,x)}}}break;case"textarea":Q(s,d);break;case"select":a=d.value,a!=null&&qe(s,!!d.multiple,a,!1)}},hn=mf,nn=Ki;var _E={usingClientEntryPoint:!1,Events:[ra,As,Al,tn,ir,mf]},va={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CE={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=bm(s),s===null?null:s.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||SE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{hl=gu.inject(CE),Sr=gu}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_E,jn.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(a))throw Error(n(200));return kE(s,a,null,d)},jn.createRoot=function(s,a){if(!Ef(s))throw Error(n(299));var d=!1,m="",x=Kv;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=bf(s,1,!1,null,null,d,!1,m,x),s[Ur]=a.current,ea(s.nodeType===8?s.parentNode:s),new Sf(a)},jn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=bm(a),s=s===null?null:s.stateNode,s},jn.flushSync=function(s){return Ki(s)},jn.hydrate=function(s,a,d){if(!pu(a))throw Error(n(200));return mu(null,s,a,!0,d)},jn.hydrateRoot=function(s,a,d){if(!Ef(s))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,x=!1,k="",T=Kv;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(k=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),a=qv(a,null,s,1,d??null,x,!1,k,T),s[Ur]=a.current,ea(s),m)for(s=0;s<m.length;s++)d=m[s],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new hu(a)},jn.render=function(s,a,d){if(!pu(a))throw Error(n(200));return mu(null,s,a,!1,d)},jn.unmountComponentAtNode=function(s){if(!pu(s))throw Error(n(40));return s._reactRootContainer?(Ki(function(){mu(null,null,s,!1,function(){s._reactRootContainer=null,s[Ur]=null})}),!0):!1},jn.unstable_batchedUpdates=mf,jn.unstable_renderSubtreeIntoContainer=function(s,a,d,m){if(!pu(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return mu(s,a,d,!1,m)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var ry;function Gx(){if(ry)return jf.exports;ry=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jf.exports=ME(),jf.exports}var iy;function DE(){if(iy)return vu;iy=1;var e=Gx();return vu.createRoot=e.createRoot,vu.hydrateRoot=e.hydrateRoot,vu}var LE=DE();const $E=jo(LE);var Wn=Gx();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},za.apply(this,arguments)}var Ii;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ii||(Ii={}));const sy="popstate";function FE(e){e===void 0&&(e={});function t(i,o){let{pathname:l="/",search:u="",hash:c=""}=ys(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),kh("",{pathname:l,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof o=="string"?o:Hu(o))}function r(i,o){wp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return BE(t,n,r,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zE(){return Math.random().toString(36).substr(2,8)}function oy(e,t){return{usr:e.state,key:e.key,idx:t}}function kh(e,t,n,r){return n===void 0&&(n=null),za({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ys(t):t,{state:n,key:t&&t.key||r||zE()})}function Hu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ys(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function BE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Ii.Pop,c=null,f=h();f==null&&(f=0,l.replaceState(za({},l.state,{idx:f}),""));function h(){return(l.state||{idx:null}).idx}function p(){u=Ii.Pop;let S=h(),_=S==null?null:S-f;f=S,c&&c({action:u,location:b.location,delta:_})}function v(S,_){u=Ii.Push;let N=kh(b.location,S,_);n&&n(N,S),f=h()+1;let j=oy(N,f),O=b.createHref(N);try{l.pushState(j,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(O)}o&&c&&c({action:u,location:b.location,delta:1})}function y(S,_){u=Ii.Replace;let N=kh(b.location,S,_);n&&n(N,S),f=h();let j=oy(N,f),O=b.createHref(N);l.replaceState(j,"",O),o&&c&&c({action:u,location:b.location,delta:0})}function w(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof S=="string"?S:Hu(S);return N=N.replace(/ $/,"%20"),Et(_,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,_)}let b={get action(){return u},get location(){return e(i,l)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(sy,p),c=S,()=>{i.removeEventListener(sy,p),c=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let _=w(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:y,go(S){return l.go(S)}};return b}var ay;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ay||(ay={}));function UE(e,t,n){return n===void 0&&(n="/"),WE(e,t,n)}function WE(e,t,n,r){let i=typeof t=="string"?ys(t):t,o=bo(i.pathname||"/",n);if(o==null)return null;let l=Jx(e);HE(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let f=t_(o);u=ZE(l[c],f)}return u}function Jx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(Et(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=Ai([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Jx(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:QE(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let c of Qx(o.path))i(o,l,c)}),t}function Qx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=Qx(r.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function HE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VE=/^:[\w-]+$/,qE=3,YE=2,KE=1,GE=10,JE=-2,ly=e=>e==="*";function QE(e,t){let n=e.split("/"),r=n.length;return n.some(ly)&&(r+=JE),t&&(r+=YE),n.filter(i=>!ly(i)).reduce((i,o)=>i+(VE.test(o)?qE:o===""?KE:GE),r)}function XE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function ZE(e,t,n){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",p=Sh({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Ai([o,p.pathname]),pathnameBase:s_(Ai([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=Ai([o,p.pathnameBase]))}return l}function Sh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=e_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,h,p)=>{let{paramName:v,isOptional:y}=h;if(v==="*"){let b=u[p]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const w=u[p];return y&&!w?f[v]=void 0:f[v]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function e_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),wp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function t_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function n_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ys(e):e;return{pathname:n?n.startsWith("/")?n:r_(n,t):t,search:o_(r),hash:a_(i)}}function r_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function If(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bp(e,t){let n=i_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kp(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ys(e):(i=za({},e),Et(!i.pathname||!i.pathname.includes("?"),If("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),If("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),If("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}u=p>=0?t[p]:"/"}let c=n_(i,u),f=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const Ai=e=>e.join("/").replace(/\/\/+/g,"/"),s_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xx=["post","put","patch","delete"];new Set(Xx);const u_=["get",...Xx];new Set(u_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}const pc=E.createContext(null),Zx=E.createContext(null),ei=E.createContext(null),mc=E.createContext(null),ti=E.createContext({outlet:null,matches:[],isDataRoute:!1}),ew=E.createContext(null);function c_(e,t){let{relative:n}=t===void 0?{}:t;No()||Et(!1);let{basename:r,navigator:i}=E.useContext(ei),{hash:o,pathname:l,search:u}=gc(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:Ai([r,l])),i.createHref({pathname:c,search:u,hash:o})}function No(){return E.useContext(mc)!=null}function ni(){return No()||Et(!1),E.useContext(mc).location}function tw(e){E.useContext(ei).static||E.useLayoutEffect(e)}function Sp(){let{isDataRoute:e}=E.useContext(ti);return e?__():d_()}function d_(){No()||Et(!1);let e=E.useContext(pc),{basename:t,future:n,navigator:r}=E.useContext(ei),{matches:i}=E.useContext(ti),{pathname:o}=ni(),l=JSON.stringify(bp(i,n.v7_relativeSplatPath)),u=E.useRef(!1);return tw(()=>{u.current=!0}),E.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let p=kp(f,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ai([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,l,o,e])}const f_=E.createContext(null);function h_(e){let t=E.useContext(ti).outlet;return t&&E.createElement(f_.Provider,{value:e},t)}function gc(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(ei),{matches:i}=E.useContext(ti),{pathname:o}=ni(),l=JSON.stringify(bp(i,r.v7_relativeSplatPath));return E.useMemo(()=>kp(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function p_(e,t){return m_(e,t)}function m_(e,t,n,r){No()||Et(!1);let{navigator:i}=E.useContext(ei),{matches:o}=E.useContext(ti),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let f=ni(),h;if(t){var p;let S=typeof t=="string"?ys(t):t;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||Et(!1),h=S}else h=f;let v=h.pathname||"/",y=v;if(c!=="/"){let S=c.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=UE(e,{pathname:y}),b=w_(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Ai([c,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Ai([c,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return t&&b?E.createElement(mc.Provider,{value:{location:Ba({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ii.Pop}},b):b}function g_(){let e=E_(),t=l_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,null)}const v_=E.createElement(g_,null);class y_ extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(ti.Provider,{value:this.props.routeContext},E.createElement(ew.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x_(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(pc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(ti.Provider,{value:t},r)}function w_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let h=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);h>=0||Et(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<l.length;h++){let p=l[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:v,errors:y}=n,w=p.route.loader&&v[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,p,v)=>{let y,w=!1,b=null,S=null;n&&(y=u&&p.route.id?u[p.route.id]:void 0,b=p.route.errorElement||v_,c&&(f<0&&v===0?(C_("route-fallback"),w=!0,S=null):f===v&&(w=!0,S=p.route.hydrateFallbackElement||null)));let _=t.concat(l.slice(0,v+1)),N=()=>{let j;return y?j=b:w?j=S:p.route.Component?j=E.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,E.createElement(x_,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?E.createElement(y_,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):N()},null)}var nw=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(nw||{}),rw=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(rw||{});function b_(e){let t=E.useContext(pc);return t||Et(!1),t}function k_(e){let t=E.useContext(Zx);return t||Et(!1),t}function S_(e){let t=E.useContext(ti);return t||Et(!1),t}function iw(e){let t=S_(),n=t.matches[t.matches.length-1];return n.route.id||Et(!1),n.route.id}function E_(){var e;let t=E.useContext(ew),n=k_(),r=iw();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function __(){let{router:e}=b_(nw.UseNavigateStable),t=iw(rw.UseNavigateStable),n=E.useRef(!1);return tw(()=>{n.current=!0}),E.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ba({fromRouteId:t},o)))},[e,t])}const uy={};function C_(e,t,n){uy[e]||(uy[e]=!0)}function j_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vc(e){let{to:t,replace:n,state:r,relative:i}=e;No()||Et(!1);let{future:o,static:l}=E.useContext(ei),{matches:u}=E.useContext(ti),{pathname:c}=ni(),f=Sp(),h=kp(t,bp(u,o.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return E.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:i}),[f,p,i,n,r]),null}function sw(e){return h_(e.context)}function Tn(e){Et(!1)}function N_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ii.Pop,navigator:o,static:l=!1,future:u}=e;No()&&Et(!1);let c=t.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:c,navigator:o,static:l,future:Ba({v7_relativeSplatPath:!1},u)}),[c,u,o,l]);typeof r=="string"&&(r=ys(r));let{pathname:h="/",search:p="",hash:v="",state:y=null,key:w="default"}=r,b=E.useMemo(()=>{let S=bo(h,c);return S==null?null:{location:{pathname:S,search:p,hash:v,state:y,key:w},navigationType:i}},[c,h,p,v,y,w,i]);return b==null?null:E.createElement(ei.Provider,{value:f},E.createElement(mc.Provider,{children:n,value:b}))}function T_(e){let{children:t,location:n}=e;return p_(Eh(t),n)}new Promise(()=>{});function Eh(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let o=[...t,i];if(r.type===E.Fragment){n.push.apply(n,Eh(r.props.children,o));return}r.type!==Tn&&Et(!1),!r.props.index||!r.props.children||Et(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Eh(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vu.apply(this,arguments)}function ow(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function I_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function P_(e,t){return e.button===0&&(!t||t==="_self")&&!I_(e)}function _h(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function A_(e,t){let n=_h(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const R_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],M_="6";try{window.__reactRouterVersion=M_}catch{}const D_=E.createContext({isTransitioning:!1}),L_="startTransition",cy=Wu[L_];function $_(e){let{basename:t,children:n,future:r,window:i}=e,o=E.useRef();o.current==null&&(o.current=FE({window:i,v5Compat:!0}));let l=o.current,[u,c]=E.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},h=E.useCallback(p=>{f&&cy?cy(()=>c(p)):c(p)},[c,f]);return E.useLayoutEffect(()=>l.listen(h),[l,h]),E.useEffect(()=>j_(r),[r]),E.createElement(N_,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const F_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xr=E.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p}=t,v=ow(t,R_),{basename:y}=E.useContext(ei),w,b=!1;if(typeof f=="string"&&z_.test(f)&&(w=f,F_))try{let j=new URL(window.location.href),O=f.startsWith("//")?new URL(j.protocol+f):new URL(f),D=bo(O.pathname,y);O.origin===j.origin&&D!=null?f=D+O.search+O.hash:b=!0}catch{}let S=c_(f,{relative:i}),_=U_(f,{replace:l,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p});function N(j){r&&r(j),j.defaultPrevented||_(j)}return E.createElement("a",Vu({},v,{href:w||S,onClick:b||o?r:N,ref:n,target:c}))}),dy=E.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:c,viewTransition:f,children:h}=t,p=ow(t,O_),v=gc(c,{relative:p.relative}),y=ni(),w=E.useContext(Zx),{navigator:b,basename:S}=E.useContext(ei),_=w!=null&&W_(v)&&f===!0,N=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,j=y.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(j=j.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&S&&(O=bo(O,S)||O);const D=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let R=j===N||!l&&j.startsWith(N)&&j.charAt(D)==="/",L=O!=null&&(O===N||!l&&O.startsWith(N)&&O.charAt(N.length)==="/"),te={isActive:R,isPending:L,isTransitioning:_},re=R?r:void 0,A;typeof o=="function"?A=o(te):A=[o,R?"active":null,L?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(te):u;return E.createElement(Xr,Vu({},p,{"aria-current":re,className:A,ref:n,style:C,to:c,viewTransition:f}),typeof h=="function"?h(te):h)});var Ch;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ch||(Ch={}));var fy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fy||(fy={}));function B_(e){let t=E.useContext(pc);return t||Et(!1),t}function U_(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,c=Sp(),f=ni(),h=gc(e,{relative:l});return E.useCallback(p=>{if(P_(p,n)){p.preventDefault();let v=r!==void 0?r:Hu(f)===Hu(h);c(e,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,c,h,r,i,n,e,o,l,u])}function Ep(e){let t=E.useRef(_h(e)),n=E.useRef(!1),r=ni(),i=E.useMemo(()=>A_(r.search,n.current?null:t.current),[r.search]),o=Sp(),l=E.useCallback((u,c)=>{const f=_h(typeof u=="function"?u(i):u);n.current=!0,o("?"+f,c)},[o,i]);return[i,l]}function W_(e,t){t===void 0&&(t={});let n=E.useContext(D_);n==null&&Et(!1);let{basename:r}=B_(Ch.useViewTransitionState),i=gc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=bo(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=bo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sh(i.pathname,l)!=null||Sh(i.pathname,o)!=null}const aw=typeof document<"u"?Ce.useLayoutEffect:()=>{};var Pf;const H_=(Pf=Ce.useInsertionEffect)!==null&&Pf!==void 0?Pf:aw;function V_(e){const t=E.useRef(null);return H_(()=>{t.current=e},[e]),E.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Di=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},us=e=>e&&"window"in e&&e.window===e?e:Di(e).defaultView||window;function q_(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Y_(e){return q_(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let K_=!1;function _p(){return K_}function lw(e,t){if(!_p())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Y_(n)?n=n.host:n=n.parentNode}return!1}const jh=(e=document)=>{var t;if(!_p())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function uw(e){return _p()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function cw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=cw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=cw(e))&&(r&&(r+=" "),r+=t);return r}function G_(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function J_(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function dw(e){let t=null;return()=>(t==null&&(t=e()),t)}const Q_=dw(function(){return J_(/^Mac/i)}),X_=dw(function(){return G_(/Android/i)});function fw(){let e=E.useRef(new Map),t=E.useCallback((i,o,l,u)=>{let c=u!=null&&u.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:o,eventTarget:i,fn:c,options:u}),i.addEventListener(o,c,u)},[]),n=E.useCallback((i,o,l,u)=>{var c;let f=((c=e.current.get(l))===null||c===void 0?void 0:c.fn)||l;i.removeEventListener(o,f,u),e.current.delete(l)},[]),r=E.useCallback(()=>{e.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return E.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Z_(e){return e.pointerType===""&&e.isTrusted?!0:X_()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function hw(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function eC(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function pw(e){let t=E.useRef({isFocused:!1,observer:null});aw(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=V_(r=>{e==null||e(r)});return E.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=l=>{if(t.current.isFocused=!1,i.disabled){let u=hw(l);n(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let tC=!1,Za=null,Nh=new Set,Na=new Map,hs=!1,Th=!1;const nC={Tab:!0,Escape:!0};function Cp(e,t){for(let n of Nh)n(e,t)}function rC(e){return!(e.metaKey||!Q_()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function qu(e){hs=!0,rC(e)&&(Za="keyboard",Cp("keyboard",e))}function po(e){Za="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(hs=!0,Cp("pointer",e))}function mw(e){Z_(e)&&(hs=!0,Za="virtual")}function gw(e){e.target===window||e.target===document||tC||!e.isTrusted||(!hs&&!Th&&(Za="virtual",Cp("virtual",e)),hs=!1,Th=!1)}function vw(){hs=!1,Th=!0}function Ih(e){if(typeof window>"u"||typeof document>"u"||Na.get(us(e)))return;const t=us(e),n=Di(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){hs=!0,r.apply(this,arguments)},n.addEventListener("keydown",qu,!0),n.addEventListener("keyup",qu,!0),n.addEventListener("click",mw,!0),t.addEventListener("focus",gw,!0),t.addEventListener("blur",vw,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",po,!0),n.addEventListener("pointermove",po,!0),n.addEventListener("pointerup",po,!0)),t.addEventListener("beforeunload",()=>{yw(e)},{once:!0}),Na.set(t,{focus:r})}const yw=(e,t)=>{const n=us(e),r=Di(e);t&&r.removeEventListener("DOMContentLoaded",t),Na.has(n)&&(n.HTMLElement.prototype.focus=Na.get(n).focus,r.removeEventListener("keydown",qu,!0),r.removeEventListener("keyup",qu,!0),r.removeEventListener("click",mw,!0),n.removeEventListener("focus",gw,!0),n.removeEventListener("blur",vw,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",po,!0),r.removeEventListener("pointermove",po,!0),r.removeEventListener("pointerup",po,!0)),Na.delete(n))};function iC(e){const t=Di(e);let n;return t.readyState!=="loading"?Ih(e):(n=()=>{Ih(e)},t.addEventListener("DOMContentLoaded",n)),()=>yw(e,n)}typeof document<"u"&&iC();function xw(){return Za!=="pointer"}const sC=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function oC(e,t,n){let r=Di(n==null?void 0:n.target);const i=typeof window<"u"?us(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?us(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?us(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?us(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof i&&!sC.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!nC[n.key])}function aC(e,t,n){Ih(),E.useEffect(()=>{let r=(i,o)=>{oC(!!(n!=null&&n.isTextInput),i,o)&&e(xw())};return Nh.add(r),()=>{Nh.delete(r)}},t)}function lC(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=E.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),i&&i(!1),!0},[r,i]),l=pw(o),u=E.useCallback(c=>{const f=Di(c.target),h=f?jh(f):jh();c.target===c.currentTarget&&h===uw(c.nativeEvent)&&(n&&n(c),i&&i(!0),l(c))},[i,n,l]);return{focusProps:{onFocus:!t&&(n||i||r)?u:void 0,onBlur:!t&&(r||i)?o:void 0}}}function uC(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=E.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=fw(),c=E.useCallback(p=>{p.currentTarget.contains(p.target)&&o.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(o.current.isFocusWithin=!1,u(),n&&n(p),i&&i(!1))},[n,i,o,u]),f=pw(c),h=E.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const v=Di(p.target),y=jh(v);if(!o.current.isFocusWithin&&y===uw(p.nativeEvent)){r&&r(p),i&&i(!0),o.current.isFocusWithin=!0,f(p);let w=p.currentTarget;l(v,"focus",b=>{if(o.current.isFocusWithin&&!lw(w,b.target)){let S=new v.defaultView.FocusEvent("blur",{relatedTarget:b.target});eC(S,w);let _=hw(S);c(_)}},{capture:!0})}},[r,i,f,l,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:c}}}let Ph=!1,yu=0;function cC(){Ph=!0,setTimeout(()=>{Ph=!1},50)}function hy(e){e.pointerType==="touch"&&cC()}function dC(){if(!(typeof document>"u"))return yu===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",hy),yu++,()=>{yu--,!(yu>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",hy)}}function fC(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,l]=E.useState(!1),u=E.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;E.useEffect(dC,[]);let{addGlobalListener:c,removeAllGlobalListeners:f}=fw(),{hoverProps:h,triggerHoverEnd:p}=E.useMemo(()=>{let v=(b,S)=>{if(u.pointerType=S,i||S==="touch"||u.isHovered||!b.currentTarget.contains(b.target))return;u.isHovered=!0;let _=b.currentTarget;u.target=_,c(Di(b.target),"pointerover",N=>{u.isHovered&&u.target&&!lw(u.target,N.target)&&y(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:_,pointerType:S}),n&&n(!0),l(!0)},y=(b,S)=>{let _=u.target;u.pointerType="",u.target=null,!(S==="touch"||!u.isHovered||!_)&&(u.isHovered=!1,f(),r&&r({type:"hoverend",target:_,pointerType:S}),n&&n(!1),l(!1))},w={};return typeof PointerEvent<"u"&&(w.onPointerEnter=b=>{Ph&&b.pointerType==="mouse"||v(b,b.pointerType)},w.onPointerLeave=b=>{!i&&b.currentTarget.contains(b.target)&&y(b,b.pointerType)}),{hoverProps:w,triggerHoverEnd:y}},[t,n,r,i,u,c,f]);return E.useEffect(()=>{i&&p({currentTarget:u.target},u.pointerType)},[i]),{hoverProps:h,isHovered:o}}function hC(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=E.useRef({isFocused:!1,isFocusVisible:t||xw()}),[o,l]=E.useState(!1),[u,c]=E.useState(()=>i.current.isFocused&&i.current.isFocusVisible),f=E.useCallback(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),h=E.useCallback(y=>{i.current.isFocused=y,l(y),f()},[f]);aC(y=>{i.current.isFocusVisible=y,f()},[],{isTextInput:n});let{focusProps:p}=lC({isDisabled:r,onFocusChange:h}),{focusWithinProps:v}=uC({isDisabled:!r,onFocusWithinChange:h});return{isFocused:o,isFocusVisible:u,focusProps:r?v:p}}var pC=Object.defineProperty,mC=(e,t,n)=>t in e?pC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Af=(e,t,n)=>(mC(e,typeof t!="symbol"?t+"":t,n),n);let gC=class{constructor(){Af(this,"current",this.detect()),Af(this,"handoffState","pending"),Af(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ar=new gC;function xs(e){var t;return Ar.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Yu(e){var t,n;return Ar.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function jp(e){var t,n;return(n=(t=Yu(e))==null?void 0:t.activeElement)!=null?n:null}function ww(e){return jp(e)===e}function yc(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Rn(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return yc(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Rn();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function ws(){let[e]=E.useState(Rn);return E.useEffect(()=>()=>e.dispose(),[e]),e}let vt=(e,t)=>{Ar.isServer?E.useEffect(e,t):E.useLayoutEffect(e,t)};function bs(e){let t=E.useRef(e);return vt(()=>{t.current=e},[e]),t}let Fe=function(e){let t=bs(e);return Ce.useCallback((...n)=>t.current(...n),[t])};function vC(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function yC(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function xC({disabled:e=!1}={}){let t=E.useRef(null),[n,r]=E.useState(!1),i=ws(),o=Fe(()=>{t.current=null,r(!1),i.dispose()}),l=Fe(u=>{if(i.dispose(),t.current===null){t.current=u.currentTarget,r(!0);{let c=xs(u.currentTarget);i.addEventListener(c,"pointerup",o,!1),i.addEventListener(c,"pointermove",f=>{if(t.current){let h=vC(f);r(yC(h,t.current.getBoundingClientRect()))}},!1),i.addEventListener(c,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:o,onClick:o}}}function Lr(e){return E.useMemo(()=>e,Object.values(e))}let wC=E.createContext(void 0);function bw(){return E.useContext(wC)}function Ah(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function xr(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xr),r}var ko=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ko||{}),Pi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Pi||{});function $t(){let e=kC();return E.useCallback(t=>bC({mergeRefs:e,...t}),[e])}function bC({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:u}){u=u??SC;let c=kw(t,e);if(o)return xu(c,n,r,l,u);let f=i??0;if(f&2){let{static:h=!1,...p}=c;if(h)return xu(p,n,r,l,u)}if(f&1){let{unmount:h=!0,...p}=c;return xr(h?0:1,{0(){return null},1(){return xu({...p,hidden:!0,style:{display:"none"}},n,r,l,u)}})}return xu(c,n,r,l,u)}function xu(e,t={},n,r,i){let{as:o=n,children:l,refName:u="ref",...c}=Rf(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},h=typeof l=="function"?l(t):l;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let p={};if(t){let v=!1,y=[];for(let[w,b]of Object.entries(t))typeof b=="boolean"&&(v=!0),b===!0&&y.push(w.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(v){p["data-headlessui-state"]=y.join(" ");for(let w of y)p[`data-${w}`]=""}}if(Ta(o)&&(Object.keys(rs(c)).length>0||Object.keys(rs(p)).length>0))if(!E.isValidElement(h)||Array.isArray(h)&&h.length>1||_C(h)){if(Object.keys(rs(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(rs(c)).concat(Object.keys(rs(p))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,y=v==null?void 0:v.className,w=typeof y=="function"?(..._)=>Ah(y(..._),c.className):Ah(y,c.className),b=w?{className:w}:{},S=kw(h.props,rs(Rf(c,["ref"])));for(let _ in p)_ in S&&delete p[_];return E.cloneElement(h,Object.assign({},S,p,f,{ref:i(EC(h),f.ref)},b))}return E.createElement(o,Object.assign({},Rf(c,["ref"]),!Ta(o)&&f,!Ta(o)&&p),h)}function kC(){let e=E.useRef([]),t=E.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function SC(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function kw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let l=n[r];for(let u of l){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;u(i,...o)}}});return t}function Sw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let l of o)l==null||l(...i)}});return t}function Nt(e){var t;return Object.assign(E.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function rs(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Rf(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function EC(e){return Ce.version.split(".")[0]>="19"?e.props.ref:e.ref}function Ta(e){return e===E.Fragment||e===Symbol.for("react.fragment")}function _C(e){return Ta(e.type)}let CC="span";var Ku=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ku||{});function jC(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return $t()({ourProps:o,theirProps:i,slot:{},defaultTag:CC,name:"Hidden"})}let Rh=Nt(jC),NC=E.createContext(void 0);function TC(){return E.useContext(NC)}function Ew(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Zr(e){return Ew(e)&&"tagName"in e}function qn(e){return Zr(e)&&"accessKey"in e}function Pr(e){return Zr(e)&&"tabIndex"in e}function IC(e){return Zr(e)&&"style"in e}function PC(e){return qn(e)&&e.nodeName==="IFRAME"}function _w(e){return qn(e)&&e.nodeName==="INPUT"}function py(e){return qn(e)&&e.nodeName==="LABEL"}function AC(e){return qn(e)&&e.nodeName==="FIELDSET"}function Cw(e){return qn(e)&&e.nodeName==="LEGEND"}function RC(e){return Zr(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function my(e){let t=e.parentElement,n=null;for(;t&&!AC(t);)Cw(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&OC(n)?!1:r}function OC(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Cw(t))return!1;t=t.previousElementSibling}return!0}let jw=Symbol();function MC(e,t=!0){return Object.assign(e,{[jw]:t})}function wn(...e){let t=E.useRef(e);E.useEffect(()=>{t.current=e},[e]);let n=Fe(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[jw]))?void 0:n}let Np=E.createContext(null);Np.displayName="DescriptionContext";function Nw(){let e=E.useContext(Np);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Nw),t}return e}function Tw(){let[e,t]=E.useState([]);return[e.length>0?e.join(" "):void 0,E.useMemo(()=>function(n){let r=Fe(o=>(t(l=>[...l,o]),()=>t(l=>{let u=l.slice(),c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}))),i=E.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ce.createElement(Np.Provider,{value:i},n.children)},[t])]}let DC="p";function LC(e,t){let n=E.useId(),r=bw(),{id:i=`headlessui-description-${n}`,...o}=e,l=Nw(),u=wn(t);vt(()=>l.register(i),[i,l.register]);let c=Lr({...l.slot,disabled:r||!1}),f={ref:u,...l.props,id:i};return $t()({ourProps:f,theirProps:o,slot:c,defaultTag:DC,name:l.name||"Description"})}let $C=Nt(LC),FC=Object.assign($C,{});var Kt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Kt||{});let xc=E.createContext(null);xc.displayName="LabelContext";function Tp(){let e=E.useContext(xc);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Tp),t}return e}function zC(e){var t,n,r;let i=(n=(t=E.useContext(xc))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function Iw({inherit:e=!1}={}){let t=zC(),[n,r]=E.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,E.useMemo(()=>function(o){let l=Fe(c=>(r(f=>[...f,c]),()=>r(f=>{let h=f.slice(),p=h.indexOf(c);return p!==-1&&h.splice(p,1),h}))),u=E.useMemo(()=>({register:l,slot:o.slot,name:o.name,props:o.props,value:o.value}),[l,o.slot,o.name,o.props,o.value]);return Ce.createElement(xc.Provider,{value:u},o.children)},[r])]}let BC="label";function UC(e,t){var n;let r=E.useId(),i=Tp(),o=TC(),l=bw(),{id:u=`headlessui-label-${r}`,htmlFor:c=o??((n=i.props)==null?void 0:n.htmlFor),passive:f=!1,...h}=e,p=wn(t);vt(()=>i.register(u),[u,i.register]);let v=Fe(b=>{let S=b.currentTarget;if(!(b.target!==b.currentTarget&&RC(b.target))&&(py(S)&&b.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(b),py(S))){let _=document.getElementById(S.htmlFor);if(_){let N=_.getAttribute("disabled");if(N==="true"||N==="")return;let j=_.getAttribute("aria-disabled");if(j==="true"||j==="")return;(_w(_)&&(_.type==="file"||_.type==="radio"||_.type==="checkbox")||_.role==="radio"||_.role==="checkbox"||_.role==="switch")&&_.click(),_.focus({preventScroll:!0})}}}),y=Lr({...i.slot,disabled:l||!1}),w={ref:p,...i.props,id:u,htmlFor:c,onClick:v};return f&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in h&&delete h.onClick),$t()({ourProps:w,theirProps:h,slot:y,defaultTag:c?BC:"div",name:i.name||"Label"})}let WC=Nt(UC);Object.assign(WC,{});let HC=E.createContext(()=>{});function VC({value:e,children:t}){return Ce.createElement(HC.Provider,{value:e},t)}function gy(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function qC(e,t,n=!1){let[r,i]=E.useState(()=>gy(t));return vt(()=>{if(!t||!e)return;let o=Rn();return o.requestAnimationFrame(function l(){o.requestAnimationFrame(l),i(u=>{let c=gy(t);return c.width===u.width&&c.height===u.height?u:c})}),()=>{o.dispose()}},[t,e]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var Pw=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Pw||{});function YC(e){let t=E.useRef(null),n=Fe(i=>{t.current=i.pointerType,!my(i.currentTarget)&&i.pointerType==="mouse"&&i.button===Pw.Left&&(i.preventDefault(),e(i))}),r=Fe(i=>{t.current!=="mouse"&&(my(i.currentTarget)||e(i))});return{onPointerDown:n,onClick:r}}let Aw=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var KC=Object.defineProperty,GC=(e,t,n)=>t in e?KC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JC=(e,t,n)=>(GC(e,t+"",n),n),Rw=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},er=(e,t,n)=>(Rw(e,t,"read from private field"),n?n.call(e):t.get(e)),Of=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},vy=(e,t,n,r)=>(Rw(e,t,"write to private field"),t.set(e,n),n),Nr,Sa,Ea;let Ow=class{constructor(t){Of(this,Nr,{}),Of(this,Sa,new Aw(()=>new Set)),Of(this,Ea,new Set),JC(this,"disposables",Rn()),vy(this,Nr,t),Ar.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return er(this,Nr)}subscribe(t,n){if(Ar.isServer)return()=>{};let r={selector:t,callback:n,current:t(er(this,Nr))};return er(this,Ea).add(r),this.disposables.add(()=>{er(this,Ea).delete(r)})}on(t,n){return Ar.isServer?()=>{}:(er(this,Sa).get(t).add(n),this.disposables.add(()=>{er(this,Sa).get(t).delete(n)}))}send(t){let n=this.reduce(er(this,Nr),t);if(n!==er(this,Nr)){vy(this,Nr,n);for(let r of er(this,Ea)){let i=r.selector(er(this,Nr));Mw(r.current,i)||(r.current=i,r.callback(i))}for(let r of er(this,Sa).get(t.type))r(er(this,Nr),t)}}};Nr=new WeakMap,Sa=new WeakMap,Ea=new WeakMap;function Mw(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Mf(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Mf(e.entries(),t.entries()):yy(e)&&yy(t)?Mf(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Mf(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function yy(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function xy(e){let[t,n]=e(),r=Rn();return(...i)=>{t(...i),r.dispose(),r.microTask(n)}}var QC=Object.defineProperty,XC=(e,t,n)=>t in e?QC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wy=(e,t,n)=>(XC(e,typeof t!="symbol"?t+"":t,n),n),Dw=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Dw||{});let ZC={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let o=e.stack.slice();return o.splice(i,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},ej=class Lw extends Ow{constructor(){super(...arguments),wy(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),wy(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Lw({stack:[]})}reduce(t,n){return xr(n.type,ZC,t,n)}};const wc=new Aw(()=>ej.new());var Df={exports:{}},Lf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function tj(){if(by)return Lf;by=1;var e=hc();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Lf.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=l(function(){function S(D){if(!_){if(_=!0,N=D,D=p(D),v!==void 0&&w.hasValue){var R=w.value;if(v(R,D))return j=R}return j=D}if(R=j,n(N,D))return R;var L=p(D);return v!==void 0&&v(R,L)?(N=D,R):(N=D,j=L)}var _=!1,N,j,O=h===void 0?null:h;return[function(){return S(f())},O===null?void 0:function(){return S(O())}]},[f,h,p,v]);var b=r(c,y[0],y[1]);return o(function(){w.hasValue=!0,w.value=b},[b]),u(b),b},Lf}var ky;function nj(){return ky||(ky=1,Df.exports=tj()),Df.exports}var rj=nj();function rr(e,t,n=Mw){return rj.useSyncExternalStoreWithSelector(Fe(r=>e.subscribe(ij,r)),Fe(()=>e.state),Fe(()=>e.state),Fe(t),n)}function ij(e){return e}function el(e,t){let n=E.useId(),r=wc.get(t),[i,o]=rr(r,E.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return vt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?i:!0:!1}let Oh=new Map,Ia=new Map;function Sy(e){var t;let n=(t=Ia.get(e))!=null?t:0;return Ia.set(e,n+1),n!==0?()=>Ey(e):(Oh.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Ey(e))}function Ey(e){var t;let n=(t=Ia.get(e))!=null?t:1;if(n===1?Ia.delete(e):Ia.set(e,n-1),n!==1)return;let r=Oh.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Oh.delete(e))}function $w(e,{allowed:t,disallowed:n}={}){let r=el(e,"inert-others");vt(()=>{var i,o;if(!r)return;let l=Rn();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&l.add(Sy(c));let u=(o=t==null?void 0:t())!=null?o:[];for(let c of u){if(!c)continue;let f=xs(c);if(!f)continue;let h=c.parentElement;for(;h&&h!==f.body;){for(let p of h.children)u.some(v=>p.contains(v))||l.add(Sy(p));h=h.parentElement}}return l.dispose},[r,t,n])}function Fw(e,t,n){let r=bs(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});E.useEffect(()=>{if(!e)return;let i=t===null?null:qn(t)?t:t.current;if(!i)return;let o=Rn();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[t,r,e])}let Gu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),sj=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var vr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(vr||{}),Mh=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Mh||{}),oj=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(oj||{});function zw(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Gu)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function aj(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(sj)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ip=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Ip||{});function Pp(e,t=0){var n;return e===((n=xs(e))==null?void 0:n.body)?!1:xr(t,{0(){return e.matches(Gu)},1(){let r=e;for(;r!==null;){if(r.matches(Gu))return!0;r=r.parentElement}return!1}})}function Bw(e){Rn().nextFrame(()=>{let t=jp(e);t&&Pr(t)&&!Pp(t,0)&&Rr(e)})}var lj=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(lj||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Rr(e){e==null||e.focus({preventScroll:!0})}let uj=["textarea","input"].join(",");function cj(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,uj))!=null?n:!1}function Uw(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function dj(e,t,n=e===null?document.body:Yu(e)){return mo(zw(n),t,{relativeTo:e})}function mo(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?Yu(e[0]):document:Yu(e),l=Array.isArray(e)?n?Uw(e):e:t&64?aj(e):zw(e);i.length>0&&l.length>1&&(l=l.filter(y=>!i.some(w=>w!=null&&"current"in w?(w==null?void 0:w.current)===y:w===y))),r=r??(o==null?void 0:o.activeElement);let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,p=l.length,v;do{if(h>=p||h+p<=0)return 0;let y=c+h;if(t&16)y=(y+p)%p;else{if(y<0)return 3;if(y>=p)return 1}v=l[y],v==null||v.focus(f),h+=u}while(v!==jp(v));return t&6&&cj(v)&&v.select(),2}function Ww(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function fj(){return/Android/gi.test(window.navigator.userAgent)}function _y(){return Ww()||fj()}function ho(e,t,n,r){let i=bs(n);E.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function Hw(e,t,n,r){let i=bs(n);E.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Cy=30;function Vw(e,t,n){let r=bs(n),i=E.useCallback(function(u,c){if(u.defaultPrevented)return;let f=c(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=(function p(v){return typeof v=="function"?p(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let p of h)if(p!==null&&(p.contains(f)||u.composed&&u.composedPath().includes(p)))return;return!Pp(f,Ip.Loose)&&f.tabIndex!==-1&&u.preventDefault(),r.current(u,f)},[r,t]),o=E.useRef(null);ho(e,"pointerdown",u=>{var c,f;_y()||(o.current=((f=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:f[0])||u.target)},!0),ho(e,"pointerup",u=>{if(_y()||!o.current)return;let c=o.current;return o.current=null,i(u,()=>c)},!0);let l=E.useRef({x:0,y:0});ho(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),ho(e,"touchend",u=>{let c={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(c.x-l.current.x)>=Cy||Math.abs(c.y-l.current.y)>=Cy))return i(u,()=>Pr(u.target)?u.target:null)},!0),Hw(e,"blur",u=>i(u,()=>PC(window.document.activeElement)?window.document.activeElement:null),!0)}function Ua(...e){return E.useMemo(()=>xs(...e),[...e])}var hj=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(hj||{});const wu={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},pj=200,jy=5;function mj(e,{trigger:t,action:n,close:r,select:i}){let o=E.useRef(null),l=E.useRef(null),u=E.useRef(null);ho(e&&t!==null,"pointerdown",c=>{Ew(c==null?void 0:c.target)&&t!=null&&t.contains(c.target)&&(l.current=c.x,u.current=c.y,o.current=c.timeStamp)}),ho(e&&t!==null,"pointerup",c=>{var f,h;let p=o.current;if(p===null||(o.current=null,!Pr(c.target))||Math.abs(c.x-((f=l.current)!=null?f:c.x))<jy&&Math.abs(c.y-((h=u.current)!=null?h:c.y))<jy)return;let v=n(c);switch(v.kind){case 0:return;case 1:{c.timeStamp-p>pj&&(i(v.target),r());break}case 2:{r();break}}},{capture:!0})}function qw(e,t,n,r){let i=bs(n);E.useEffect(()=>{e=e??window;function o(l){i.current(l)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function gj(e,t){return E.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function vj(e){return E.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function yj(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=t[i].call(n,...o);l&&(n=l,r.forEach(u=>u()))}}}function xj(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function wj(){return Ww()?{before({doc:e,d:t,meta:n}){function r(i){for(let o of n().containers)for(let l of o())if(l.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=Rn();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Pr(u.target))try{let c=u.target.closest("a");if(!c)return;let{hash:f}=new URL(c.href),h=e.querySelector(f);Pr(h)&&!r(h)&&(l=h)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",c=>{if(u.dispose(),Pr(c.target)&&IC(c.target))if(r(c.target)){let f=c.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Pr(u.target)){if(_w(u.target))return;if(r(u.target)){let c=u.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let c=(u=window.scrollY)!=null?u:window.pageYOffset;o!==c&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function bj(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ny(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let cs=yj(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Rn(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Ny(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Ny(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[wj(),xj(),bj()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});cs.subscribe(()=>{let e=cs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&cs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&cs.dispatch("TEARDOWN",n)}});function kj(e,t,n=()=>({containers:[]})){let r=vj(cs),i=t?r.get(t):void 0,o=i?i.count>0:!1;return vt(()=>{if(!(!t||!e))return cs.dispatch("PUSH",t,n),()=>cs.dispatch("POP",t,n)},[e,t]),o}function Yw(e,t,n=()=>[document.body]){let r=el(e,"scroll-lock");kj(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function Ty(e){return[e.screenX,e.screenY]}function Sj(){let e=E.useRef([-1,-1]);return{wasMoved(t){let n=Ty(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Ty(t)}}}function Ej(e=0){let[t,n]=E.useState(e),r=E.useCallback(c=>n(c),[]),i=E.useCallback(c=>n(f=>f|c),[]),o=E.useCallback(c=>(t&c)===c,[t]),l=E.useCallback(c=>n(f=>f&~c),[]),u=E.useCallback(c=>n(f=>f^c),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:u}}var _j={},Iy,Py;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Iy=process==null?void 0:_j)==null?void 0:Iy.NODE_ENV)==="test"&&typeof((Py=Element==null?void 0:Element.prototype)==null?void 0:Py.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Cj=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Cj||{});function Kw(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Gw(e,t,n,r){let[i,o]=E.useState(n),{hasFlag:l,addFlag:u,removeFlag:c}=Ej(e&&i?3:0),f=E.useRef(!1),h=E.useRef(!1),p=ws();return vt(()=>{var v;if(e){if(n&&o(!0),!t){n&&u(3);return}return(v=r==null?void 0:r.start)==null||v.call(r,n),jj(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(u(3),c(4)):(u(4),c(2)))},run(){h.current?n?(c(3),u(4)):(c(4),u(3)):n?c(1):u(1)},done(){var y;h.current&&Ij(t)||(f.current=!1,c(7),n||o(!1),(y=r==null?void 0:r.end)==null||y.call(r,n))}})}},[e,n,t,p]),e?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function jj(e,{prepare:t,run:n,done:r,inFlight:i}){let o=Rn();return Tj(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(Nj(e,r))})}),o.dispose}function Nj(e,t){var n,r;let i=Rn();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),i.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{o||t()}),i.dispose)}function Tj(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Ij(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Pj(e,{container:t,accept:n,walk:r}){let i=E.useRef(n),o=E.useRef(r);E.useEffect(()=>{i.current=n,o.current=r},[n,r]),vt(()=>{if(!t||!e)return;let l=xs(t);if(!l)return;let u=i.current,c=o.current,f=Object.assign(p=>u(p),{acceptNode:u}),h=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;h.nextNode();)c(h.currentNode)},[t,e,i,o])}function Ap(e,t){let n=E.useRef([]),r=Fe(e);E.useEffect(()=>{let i=[...n.current];for(let[o,l]of t.entries())if(n.current[o]!==l){let u=r(t,i);return n.current=t,u}},[r,...t])}function bc(){return typeof window<"u"}function To(e){return Jw(e)?(e.nodeName||"").toLowerCase():"#document"}function Hn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $r(e){var t;return(t=(Jw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Jw(e){return bc()?e instanceof Node||e instanceof Hn(e).Node:!1}function yn(e){return bc()?e instanceof Element||e instanceof Hn(e).Element:!1}function Mr(e){return bc()?e instanceof HTMLElement||e instanceof Hn(e).HTMLElement:!1}function Ay(e){return!bc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hn(e).ShadowRoot}const Aj=new Set(["inline","contents"]);function tl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Aj.has(i)}const Rj=new Set(["table","td","th"]);function Oj(e){return Rj.has(To(e))}const Mj=[":popover-open",":modal"];function kc(e){return Mj.some(t=>{try{return e.matches(t)}catch{return!1}})}const Dj=["transform","translate","scale","rotate","perspective"],Lj=["transform","translate","scale","rotate","perspective","filter"],$j=["paint","layout","strict","content"];function Rp(e){const t=Op(),n=yn(e)?wr(e):e;return Dj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Lj.some(r=>(n.willChange||"").includes(r))||$j.some(r=>(n.contain||"").includes(r))}function Fj(e){let t=Ri(e);for(;Mr(t)&&!So(t);){if(Rp(t))return t;if(kc(t))return null;t=Ri(t)}return null}function Op(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zj=new Set(["html","body","#document"]);function So(e){return zj.has(To(e))}function wr(e){return Hn(e).getComputedStyle(e)}function Sc(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ri(e){if(To(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ay(e)&&e.host||$r(e);return Ay(t)?t.host:t}function Qw(e){const t=Ri(e);return So(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mr(t)&&tl(t)?t:Qw(t)}function Wa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Qw(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=Hn(i);if(o){const u=Dh(l);return t.concat(l,l.visualViewport||[],tl(i)?i:[],u&&n?Wa(u):[])}return t.concat(i,Wa(i,[],n))}function Dh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Bj(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const ps=Math.min,cn=Math.max,Ha=Math.round,bu=Math.floor,Or=e=>({x:e,y:e}),Uj={left:"right",right:"left",bottom:"top",top:"bottom"},Wj={start:"end",end:"start"};function Ry(e,t,n){return cn(e,ps(t,n))}function Io(e,t){return typeof e=="function"?e(t):e}function Oi(e){return e.split("-")[0]}function nl(e){return e.split("-")[1]}function Xw(e){return e==="x"?"y":"x"}function Zw(e){return e==="y"?"height":"width"}const Hj=new Set(["top","bottom"]);function Qr(e){return Hj.has(Oi(e))?"y":"x"}function eb(e){return Xw(Qr(e))}function Vj(e,t,n){n===void 0&&(n=!1);const r=nl(e),i=eb(e),o=Zw(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Ju(l)),[l,Ju(l)]}function qj(e){const t=Ju(e);return[Lh(e),t,Lh(t)]}function Lh(e){return e.replace(/start|end/g,t=>Wj[t])}const Oy=["left","right"],My=["right","left"],Yj=["top","bottom"],Kj=["bottom","top"];function Gj(e,t,n){switch(e){case"top":case"bottom":return n?t?My:Oy:t?Oy:My;case"left":case"right":return t?Yj:Kj;default:return[]}}function Jj(e,t,n,r){const i=nl(e);let o=Gj(Oi(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(Lh)))),o}function Ju(e){return e.replace(/left|right|bottom|top/g,t=>Uj[t])}function Qj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xj(e){return typeof e!="number"?Qj(e):{top:e,right:e,bottom:e,left:e}}function Qu(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Dy(e,t,n){let{reference:r,floating:i}=e;const o=Qr(t),l=eb(t),u=Zw(l),c=Oi(t),f=o==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[u]/2-i[u]/2;let y;switch(c){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(nl(t)){case"start":y[l]-=v*(n&&f?-1:1);break;case"end":y[l]+=v*(n&&f?-1:1);break}return y}const Zj=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=Dy(f,r,c),v=r,y={},w=0;for(let b=0;b<u.length;b++){const{name:S,fn:_}=u[b],{x:N,y:j,data:O,reset:D}=await _({x:h,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:f,platform:l,elements:{reference:e,floating:t}});h=N??h,p=j??p,y={...y,[S]:{...y[S],...O}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(f=D.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:h,y:p}=Dy(f,v,c)),b=-1)}return{x:h,y:p,placement:v,strategy:i,middlewareData:y}};async function Ec(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:u,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=Io(t,e),w=Xj(y),S=u[v?p==="floating"?"reference":"floating":p],_=Qu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:c})),N=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),O=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},D=Qu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:j,strategy:c}):N);return{top:(_.top-D.top+w.top)/O.y,bottom:(D.bottom-_.bottom+w.bottom)/O.y,left:(_.left-D.left+w.left)/O.x,right:(D.right-_.right+w.right)/O.x}}const eN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:c,elements:f}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...S}=Io(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Oi(i),N=Qr(u),j=Oi(u)===u,O=await(c.isRTL==null?void 0:c.isRTL(f.floating)),D=v||(j||!b?[Ju(u)]:qj(u)),R=w!=="none";!v&&R&&D.push(...Jj(u,b,w,O));const L=[u,...D],te=await Ec(t,S),re=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&re.push(te[_]),p){const B=Vj(i,l,O);re.push(te[B[0]],te[B[1]])}if(A=[...A,{placement:i,overflows:re}],!re.every(B=>B<=0)){var C,q;const B=(((C=o.flip)==null?void 0:C.index)||0)+1,U=L[B];if(U&&(!(p==="alignment"?N!==Qr(U):!1)||A.every(M=>Qr(M.placement)===N?M.overflows[0]>0:!0)))return{data:{index:B,overflows:A},reset:{placement:U}};let K=(q=A.filter(X=>X.overflows[0]<=0).sort((X,M)=>X.overflows[1]-M.overflows[1])[0])==null?void 0:q.placement;if(!K)switch(y){case"bestFit":{var W;const X=(W=A.filter(M=>{if(R){const J=Qr(M.placement);return J===N||J==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(J=>J>0).reduce((J,I)=>J+I,0)]).sort((M,J)=>M[1]-J[1])[0])==null?void 0:W[0];X&&(K=X);break}case"initialPlacement":K=u;break}if(i!==K)return{reset:{placement:K}}}return{}}}},tN=new Set(["left","top"]);async function nN(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Oi(n),u=nl(n),c=Qr(n)==="y",f=tN.has(l)?-1:1,h=o&&c?-1:1,p=Io(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof w=="number"&&(y=u==="end"?w*-1:w),c?{x:y*h,y:v*f}:{x:v*f,y:y*h}}const rN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:u}=t,c=await nN(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:l}}}}},iN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:S=>{let{x:_,y:N}=S;return{x:_,y:N}}},...c}=Io(e,t),f={x:n,y:r},h=await Ec(t,c),p=Qr(Oi(i)),v=Xw(p);let y=f[v],w=f[p];if(o){const S=v==="y"?"top":"left",_=v==="y"?"bottom":"right",N=y+h[S],j=y-h[_];y=Ry(N,y,j)}if(l){const S=p==="y"?"top":"left",_=p==="y"?"bottom":"right",N=w+h[S],j=w-h[_];w=Ry(N,w,j)}const b=u.fn({...t,[v]:y,[p]:w});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[v]:o,[p]:l}}}}}},sN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:c=()=>{},...f}=Io(e,t),h=await Ec(t,f),p=Oi(i),v=nl(i),y=Qr(i)==="y",{width:w,height:b}=o.floating;let S,_;p==="top"||p==="bottom"?(S=p,_=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(_=p,S=v==="end"?"top":"bottom");const N=b-h.top-h.bottom,j=w-h.left-h.right,O=ps(b-h[S],N),D=ps(w-h[_],j),R=!t.middlewareData.shift;let L=O,te=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(te=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(L=N),R&&!v){const A=cn(h.left,0),C=cn(h.right,0),q=cn(h.top,0),W=cn(h.bottom,0);y?te=w-2*(A!==0||C!==0?A+C:cn(h.left,h.right)):L=b-2*(q!==0||W!==0?q+W:cn(h.top,h.bottom))}await c({...t,availableWidth:te,availableHeight:L});const re=await l.getDimensions(u.floating);return w!==re.width||b!==re.height?{reset:{rects:!0}}:{}}}};function tb(e){const t=wr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Mr(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=Ha(n)!==o||Ha(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function Mp(e){return yn(e)?e:e.contextElement}function go(e){const t=Mp(e);if(!Mr(t))return Or(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=tb(t);let l=(o?Ha(n.width):n.width)/r,u=(o?Ha(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const oN=Or(0);function nb(e){const t=Hn(e);return!Op()||!t.visualViewport?oN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Hn(e)?!1:t}function ms(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Mp(e);let l=Or(1);t&&(r?yn(r)&&(l=go(r)):l=go(e));const u=aN(o,n,r)?nb(o):Or(0);let c=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,h=i.width/l.x,p=i.height/l.y;if(o){const v=Hn(o),y=r&&yn(r)?Hn(r):r;let w=v,b=Dh(w);for(;b&&r&&y!==w;){const S=go(b),_=b.getBoundingClientRect(),N=wr(b),j=_.left+(b.clientLeft+parseFloat(N.paddingLeft))*S.x,O=_.top+(b.clientTop+parseFloat(N.paddingTop))*S.y;c*=S.x,f*=S.y,h*=S.x,p*=S.y,c+=j,f+=O,w=Hn(b),b=Dh(w)}}return Qu({width:h,height:p,x:c,y:f})}function _c(e,t){const n=Sc(e).scrollLeft;return t?t.left+n:ms($r(e)).left+n}function rb(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-_c(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function lN(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=$r(r),u=t?kc(t.floating):!1;if(r===l||u&&o)return n;let c={scrollLeft:0,scrollTop:0},f=Or(1);const h=Or(0),p=Mr(r);if((p||!p&&!o)&&((To(r)!=="body"||tl(l))&&(c=Sc(r)),Mr(r))){const y=ms(r);f=go(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const v=l&&!p&&!o?rb(l,c):Or(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+h.x+v.x,y:n.y*f.y-c.scrollTop*f.y+h.y+v.y}}function uN(e){return Array.from(e.getClientRects())}function cN(e){const t=$r(e),n=Sc(e),r=e.ownerDocument.body,i=cn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=cn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+_c(e);const u=-n.scrollTop;return wr(r).direction==="rtl"&&(l+=cn(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:u}}const Ly=25;function dN(e,t){const n=Hn(e),r=$r(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,c=0;if(i){o=i.width,l=i.height;const h=Op();(!h||h&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}const f=_c(r);if(f<=0){const h=r.ownerDocument,p=h.body,v=getComputedStyle(p),y=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(r.clientWidth-p.clientWidth-y);w<=Ly&&(o-=w)}else f<=Ly&&(o+=f);return{width:o,height:l,x:u,y:c}}const fN=new Set(["absolute","fixed"]);function hN(e,t){const n=ms(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Mr(e)?go(e):Or(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:l,height:u,x:c,y:f}}function $y(e,t,n){let r;if(t==="viewport")r=dN(e,n);else if(t==="document")r=cN($r(e));else if(yn(t))r=hN(t,n);else{const i=nb(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Qu(r)}function ib(e,t){const n=Ri(e);return n===t||!yn(n)||So(n)?!1:wr(n).position==="fixed"||ib(n,t)}function pN(e,t){const n=t.get(e);if(n)return n;let r=Wa(e,[],!1).filter(u=>yn(u)&&To(u)!=="body"),i=null;const o=wr(e).position==="fixed";let l=o?Ri(e):e;for(;yn(l)&&!So(l);){const u=wr(l),c=Rp(l);!c&&u.position==="fixed"&&(i=null),(o?!c&&!i:!c&&u.position==="static"&&!!i&&fN.has(i.position)||tl(l)&&!c&&ib(e,l))?r=r.filter(h=>h!==l):i=u,l=Ri(l)}return t.set(e,r),r}function mN(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?kc(t)?[]:pN(t,this._c):[].concat(n),r],u=l[0],c=l.reduce((f,h)=>{const p=$y(t,h,i);return f.top=cn(p.top,f.top),f.right=ps(p.right,f.right),f.bottom=ps(p.bottom,f.bottom),f.left=cn(p.left,f.left),f},$y(t,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gN(e){const{width:t,height:n}=tb(e);return{width:t,height:n}}function vN(e,t,n){const r=Mr(t),i=$r(t),o=n==="fixed",l=ms(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const c=Or(0);function f(){c.x=_c(i)}if(r||!r&&!o)if((To(t)!=="body"||tl(i))&&(u=Sc(t)),r){const y=ms(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else i&&f();o&&!r&&i&&f();const h=i&&!r&&!o?rb(i,u):Or(0),p=l.left+u.scrollLeft-c.x-h.x,v=l.top+u.scrollTop-c.y-h.y;return{x:p,y:v,width:l.width,height:l.height}}function $f(e){return wr(e).position==="static"}function Fy(e,t){if(!Mr(e)||wr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $r(e)===n&&(n=n.ownerDocument.body),n}function sb(e,t){const n=Hn(e);if(kc(e))return n;if(!Mr(e)){let i=Ri(e);for(;i&&!So(i);){if(yn(i)&&!$f(i))return i;i=Ri(i)}return n}let r=Fy(e,t);for(;r&&Oj(r)&&$f(r);)r=Fy(r,t);return r&&So(r)&&$f(r)&&!Rp(r)?n:r||Fj(e)||n}const yN=async function(e){const t=this.getOffsetParent||sb,n=this.getDimensions,r=await n(e.floating);return{reference:vN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xN(e){return wr(e).direction==="rtl"}const wN={convertOffsetParentRelativeRectToViewportRelativeRect:lN,getDocumentElement:$r,getClippingRect:mN,getOffsetParent:sb,getElementRects:yN,getClientRects:uN,getDimensions:gN,getScale:go,isElement:yn,isRTL:xN};function ob(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bN(e,t){let n=null,r;const i=$r(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const f=e.getBoundingClientRect(),{left:h,top:p,width:v,height:y}=f;if(u||t(),!v||!y)return;const w=bu(p),b=bu(i.clientWidth-(h+v)),S=bu(i.clientHeight-(p+y)),_=bu(h),j={rootMargin:-w+"px "+-b+"px "+-S+"px "+-_+"px",threshold:cn(0,ps(1,c))||1};let O=!0;function D(R){const L=R[0].intersectionRatio;if(L!==c){if(!O)return l();L?l(!1,L):r=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!ob(f,e.getBoundingClientRect())&&l(),O=!1}try{n=new IntersectionObserver(D,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,j)}n.observe(e)}return l(!0),o}function kN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Mp(e),h=i||o?[...f?Wa(f):[],...Wa(t)]:[];h.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const p=f&&u?bN(f,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(_=>{let[N]=_;N&&N.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(t)})),n()}),f&&!c&&y.observe(f),y.observe(t));let w,b=c?ms(e):null;c&&S();function S(){const _=ms(e);b&&!ob(b,_)&&n(),b=_,w=requestAnimationFrame(S)}return n(),()=>{var _;h.forEach(N=>{i&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),p==null||p(),(_=y)==null||_.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const Ff=Ec,SN=rN,EN=iN,_N=eN,CN=sN,jN=(e,t,n)=>{const r=new Map,i={platform:wN,...n},o={...i.platform,_c:r};return Zj(e,t,{...i,platform:o})};var NN=typeof document<"u",TN=function(){},Mu=NN?E.useLayoutEffect:TN;function Xu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Xu(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Xu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ab(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zy(e,t){const n=ab(e);return Math.round(t*n)/n}function zf(e){const t=E.useRef(e);return Mu(()=>{t.current=e}),t}function IN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:c,open:f}=e,[h,p]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=E.useState(r);Xu(v,r)||y(r);const[w,b]=E.useState(null),[S,_]=E.useState(null),N=E.useCallback(M=>{M!==R.current&&(R.current=M,b(M))},[]),j=E.useCallback(M=>{M!==L.current&&(L.current=M,_(M))},[]),O=o||w,D=l||S,R=E.useRef(null),L=E.useRef(null),te=E.useRef(h),re=c!=null,A=zf(c),C=zf(i),q=zf(f),W=E.useCallback(()=>{if(!R.current||!L.current)return;const M={placement:t,strategy:n,middleware:v};C.current&&(M.platform=C.current),jN(R.current,L.current,M).then(J=>{const I={...J,isPositioned:q.current!==!1};B.current&&!Xu(te.current,I)&&(te.current=I,Wn.flushSync(()=>{p(I)}))})},[v,t,n,C,q]);Mu(()=>{f===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[f]);const B=E.useRef(!1);Mu(()=>(B.current=!0,()=>{B.current=!1}),[]),Mu(()=>{if(O&&(R.current=O),D&&(L.current=D),O&&D){if(A.current)return A.current(O,D,W);W()}},[O,D,W,A,re]);const U=E.useMemo(()=>({reference:R,floating:L,setReference:N,setFloating:j}),[N,j]),K=E.useMemo(()=>({reference:O,floating:D}),[O,D]),X=E.useMemo(()=>{const M={position:n,left:0,top:0};if(!K.floating)return M;const J=zy(K.floating,h.x),I=zy(K.floating,h.y);return u?{...M,transform:"translate("+J+"px, "+I+"px)",...ab(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:I}},[n,u,K.floating,h.x,h.y]);return E.useMemo(()=>({...h,update:W,refs:U,elements:K,floatingStyles:X}),[h,W,U,K,X])}const lb=(e,t)=>({...SN(e),options:[e,t]}),PN=(e,t)=>({...EN(e),options:[e,t]}),AN=(e,t)=>({..._N(e),options:[e,t]}),RN=(e,t)=>({...CN(e),options:[e,t]}),ub={...Wu},ON=ub.useInsertionEffect,MN=ON||(e=>e());function cb(e){const t=E.useRef(()=>{});return MN(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var $h=typeof document<"u"?E.useLayoutEffect:E.useEffect;let By=!1,DN=0;const Uy=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+DN++;function LN(){const[e,t]=E.useState(()=>By?Uy():void 0);return $h(()=>{e==null&&t(Uy())},[]),E.useEffect(()=>{By=!0},[]),e}const $N=ub.useId,FN=$N||LN;function zN(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const BN=E.createContext(null),UN=E.createContext(null),WN=()=>{var e;return((e=E.useContext(BN))==null?void 0:e.id)||null},HN=()=>E.useContext(UN),VN="data-floating-ui-focusable";function qN(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=FN(),o=E.useRef({}),[l]=E.useState(()=>zN()),u=WN()!=null,[c,f]=E.useState(r.reference),h=cb((y,w,b)=>{o.current.openEvent=y?w:void 0,l.emit("openchange",{open:y,event:w,reason:b,nested:u}),n==null||n(y,w,b)}),p=E.useMemo(()=>({setPositionReference:f}),[]),v=E.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return E.useMemo(()=>({dataRef:o,open:t,onOpenChange:h,elements:v,events:l,floatingId:i,refs:p}),[t,h,v,l,i,p])}function YN(e){e===void 0&&(e={});const{nodeId:t}=e,n=qN({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,l]=E.useState(null),[u,c]=E.useState(null),h=(i==null?void 0:i.domReference)||o,p=E.useRef(null),v=HN();$h(()=>{h&&(p.current=h)},[h]);const y=IN({...e,elements:{...i,...u&&{reference:u}}}),w=E.useCallback(j=>{const O=yn(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),contextElement:j}:j;c(O),y.refs.setReference(O)},[y.refs]),b=E.useCallback(j=>{(yn(j)||j===null)&&(p.current=j,l(j)),(yn(y.refs.reference.current)||y.refs.reference.current===null||j!==null&&!yn(j))&&y.refs.setReference(j)},[y.refs]),S=E.useMemo(()=>({...y.refs,setReference:b,setPositionReference:w,domReference:p}),[y.refs,b,w]),_=E.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),N=E.useMemo(()=>({...y,...r,refs:S,elements:_,nodeId:t}),[y,S,_,t,r]);return $h(()=>{r.dataRef.current.floatingContext=N;const j=v==null?void 0:v.nodesRef.current.find(O=>O.id===t);j&&(j.context=N)}),E.useMemo(()=>({...y,context:N,refs:S,elements:_}),[y,S,_,N])}const Wy="active",Hy="selected";function Bf(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Wy]:l,[Hy]:u,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1,[VN]:""},...o,...t.map(l=>{const u=l?l[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((l,u)=>(u&&Object.entries(u).forEach(c=>{let[f,h]=c;if(!(i&&[Wy,Hy].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof h=="function"){var p;(p=r.get(f))==null||p.push(h),l[f]=function(){for(var v,y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];return(v=r.get(f))==null?void 0:v.map(S=>S(...w)).find(S=>S!==void 0)}}}else l[f]=h}),l),{})}}function KN(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),n=e.map(u=>u==null?void 0:u.floating),r=e.map(u=>u==null?void 0:u.item),i=E.useCallback(u=>Bf(u,e,"reference"),t),o=E.useCallback(u=>Bf(u,e,"floating"),n),l=E.useCallback(u=>Bf(u,e,"item"),r);return E.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}function Vy(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const GN=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:l=0,minItemsVisible:u=4,referenceOverflowThreshold:c=0,scrollRef:f,...h}=Io(e,t),{rects:p,elements:{floating:v}}=t,y=n.current[l],w=(f==null?void 0:f.current)||v,b=v.clientTop||w.clientTop,S=v.clientTop!==0,_=w.clientTop!==0,N=v===w;if(!y)return{};const j={...t,...await lb(-y.offsetTop-v.clientTop-p.reference.height/2-y.offsetHeight/2-o).fn(t)},O=await Ff(Vy(j,w.scrollHeight+b+v.clientTop),h),D=await Ff(j,{...h,elementContext:"reference"}),R=cn(0,O.top),L=j.y+R,A=(w.scrollHeight>w.clientHeight?C=>C:Ha)(cn(0,w.scrollHeight+(S&&N||_?b*2:0)-R-cn(0,O.bottom)));if(w.style.maxHeight=A+"px",w.scrollTop=R,i){const C=w.offsetHeight<y.offsetHeight*ps(u,n.current.length)-1||D.top>=-c||D.bottom>=-c;Wn.flushSync(()=>i(C))}return r&&(r.current=await Ff(Vy({...j,y:L},w.offsetHeight+b+v.clientTop),h)),{y:L}}});function JN(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:l,onChange:u}=t,c=cb(u),f=E.useRef(!1),h=E.useRef(null),p=E.useRef(null);E.useEffect(()=>{if(!i)return;function y(b){if(b.ctrlKey||!w||o.current==null)return;const S=b.deltaY,_=o.current.top>=-.5,N=o.current.bottom>=-.5,j=w.scrollHeight-w.clientHeight,O=S<0?-1:1,D=S<0?"max":"min";w.scrollHeight<=w.clientHeight||(!_&&S>0||!N&&S<0?(b.preventDefault(),Wn.flushSync(()=>{c(R=>R+Math[D](S,j*O))})):/firefox/i.test(Bj())&&(w.scrollTop+=S))}const w=(l==null?void 0:l.current)||r.floating;if(n&&w)return w.addEventListener("wheel",y),requestAnimationFrame(()=>{h.current=w.scrollTop,o.current!=null&&(p.current={...o.current})}),()=>{h.current=null,p.current=null,w.removeEventListener("wheel",y)}},[i,n,r.floating,o,l,c]);const v=E.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const y=(l==null?void 0:l.current)||r.floating;if(!(!o.current||!y||!f.current)){if(h.current!==null){const w=y.scrollTop-h.current;(o.current.bottom<-.5&&w<-1||o.current.top<-.5&&w>1)&&Wn.flushSync(()=>c(b=>b+w))}requestAnimationFrame(()=>{h.current=y.scrollTop})}}}),[r.floating,c,o,l]);return E.useMemo(()=>i?{floating:v}:{},[i,v])}let Po=E.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Po.displayName="FloatingContext";let Dp=E.createContext(null);Dp.displayName="PlacementContext";function QN(e){return E.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function XN(){return E.useContext(Po).setReference}function ZN(){return E.useContext(Po).getReferenceProps}function eT(){let{getFloatingProps:e,slot:t}=E.useContext(Po);return E.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function tT(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=E.useContext(Dp),n=E.useMemo(()=>e,[JSON.stringify(e,(i,o)=>{var l;return(l=o==null?void 0:o.outerHTML)!=null?l:o})]);vt(()=>{t==null||t(n??null)},[t,n]);let r=E.useContext(Po);return E.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let qy=4;function nT({children:e,enabled:t=!0}){let[n,r]=E.useState(null),[i,o]=E.useState(0),l=E.useRef(null),[u,c]=E.useState(null);rT(u);let f=t&&n!==null&&u!==null,{to:h="bottom",gap:p=0,offset:v=0,padding:y=0,inner:w}=iT(n,u),[b,S="center"]=h.split(" ");vt(()=>{f&&o(0)},[f]);let{refs:_,floatingStyles:N,context:j}=YN({open:f,placement:b==="selection"?S==="center"?"bottom":`bottom-${S}`:S==="center"?`${b}`:`${b}-${S}`,strategy:"absolute",transform:!1,middleware:[lb({mainAxis:b==="selection"?0:p,crossAxis:v}),PN({padding:y}),b!=="selection"&&AN({padding:y}),b==="selection"&&w?GN({...w,padding:y,overflowRef:l,offset:i,minItemsVisible:qy,referenceOverflowThreshold:y,onFallbackChange(C){var q,W;if(!C)return;let B=j.elements.floating;if(!B)return;let U=parseFloat(getComputedStyle(B).scrollPaddingBottom)||0,K=Math.min(qy,B.childElementCount),X=0,M=0;for(let J of(W=(q=j.elements.floating)==null?void 0:q.childNodes)!=null?W:[])if(qn(J)){let I=J.offsetTop,$=I+J.clientHeight+U,z=B.scrollTop,P=z+B.clientHeight;if(I>=z&&$<=P)K--;else{M=Math.max(0,Math.min($,P)-Math.max(I,z)),X=J.clientHeight;break}}K>=1&&o(J=>{let I=X*K-M+U;return J>=I?J:I})}}):null,RN({padding:y,apply({availableWidth:C,availableHeight:q,elements:W}){Object.assign(W.floating.style,{overflow:"auto",maxWidth:`${C}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${q}px)`})}})].filter(Boolean),whileElementsMounted:kN}),[O=b,D=S]=j.placement.split("-");b==="selection"&&(O="selection");let R=E.useMemo(()=>({anchor:[O,D].filter(Boolean).join(" ")}),[O,D]),L=JN(j,{overflowRef:l,onChange:o}),{getReferenceProps:te,getFloatingProps:re}=KN([L]),A=Fe(C=>{c(C),_.setFloating(C)});return E.createElement(Dp.Provider,{value:r},E.createElement(Po.Provider,{value:{setFloating:A,setReference:_.setReference,styles:N,getReferenceProps:te,getFloatingProps:re,slot:R}},e))}function rT(e){vt(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function iT(e,t){var n,r,i;let o=Uf((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=Uf((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),u=Uf((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:l,padding:u}}function Uf(e,t,n=void 0){let r=ws(),i=Fe((c,f)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!f)return[n,null];let h=Yy(c,f);return[h,p=>{let v=db(c);{let y=v.map(w=>window.getComputedStyle(f).getPropertyValue(w));r.requestAnimationFrame(function w(){r.nextFrame(w);let b=!1;for(let[_,N]of v.entries()){let j=window.getComputedStyle(f).getPropertyValue(N);if(y[_]!==j){y[_]=j,b=!0;break}}if(!b)return;let S=Yy(c,f);h!==S&&(p(S),h=S)})}return r.dispose}]}return[n,null]}),o=E.useMemo(()=>i(e,t)[0],[e,t]),[l=o,u]=E.useState();return vt(()=>{let[c,f]=i(e,t);if(u(c),!!f)return f(u)},[e,t]),l}function db(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...db(i)]:[r]}return[]}function Yy(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let Cc=E.createContext(null);Cc.displayName="OpenClosedContext";var xn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(xn||{});function rl(){return E.useContext(Cc)}function fb({value:e,children:t}){return Ce.createElement(Cc.Provider,{value:e},t)}function sT({children:e}){return Ce.createElement(Cc.Provider,{value:null},e)}function oT(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ni=[];oT(()=>{function e(t){if(!Pr(t.target)||t.target===document.body||Ni[0]===t.target)return;let n=t.target;n=n.closest(Gu),Ni.unshift(n??t.target),Ni=Ni.filter(r=>r!=null&&r.isConnected),Ni.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function aT(e){throw new Error("Unexpected object: "+e)}var Dt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Dt||{});function ku(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:aT(e)}}function Lp(e){let t=Fe(e),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,yc(()=>{n.current&&t()})}),[t])}let hb=E.createContext(!1);function lT(){return E.useContext(hb)}function Ky(e){return Ce.createElement(hb.Provider,{value:e.force},e.children)}function uT(e){let t=lT(),n=E.useContext(mb),[r,i]=E.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(Ar.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return E.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),E.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let pb=E.Fragment,cT=Nt(function(e,t){let{ownerDocument:n=null,...r}=e,i=E.useRef(null),o=wn(MC(v=>{i.current=v}),t),l=Ua(i.current),u=n??l,c=uT(u),f=E.useContext(Fh),h=ws(),p=$t();return Lp(()=>{var v;c&&c.childNodes.length<=0&&((v=c.parentElement)==null||v.removeChild(c))}),c?Wn.createPortal(Ce.createElement("div",{"data-headlessui-portal":"",ref:v=>{h.dispose(),f&&v&&h.add(f.register(v))}},p({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:pb,name:"Portal"})),c):null});function dT(e,t){let n=wn(t),{enabled:r=!0,ownerDocument:i,...o}=e,l=$t();return r?Ce.createElement(cT,{...o,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:pb,name:"Portal"})}let fT=E.Fragment,mb=E.createContext(null);function hT(e,t){let{target:n,...r}=e,i={ref:wn(t)},o=$t();return Ce.createElement(mb.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:fT,name:"Popover.Group"}))}let Fh=E.createContext(null);function pT(){let e=E.useContext(Fh),t=E.useRef([]),n=Fe(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Fe(o=>{let l=t.current.indexOf(o);l!==-1&&t.current.splice(l,1),e&&e.unregister(o)}),i=E.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,E.useMemo(()=>function({children:o}){return Ce.createElement(Fh.Provider,{value:i},o)},[i])]}let mT=Nt(dT),gb=Nt(hT),vb=Object.assign(mT,{Group:gb});const Du={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function yb(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function gT(e,t,n){let r=Rn();if(t.kind==="Tracked"){let i=function(){o!==yb(e)&&(r.dispose(),n())},{position:o}=t,l=new ResizeObserver(i);l.observe(e),r.add(()=>l.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function vT(e,t=typeof document<"u"?document.defaultView:null,n){let r=el(e,"escape");qw(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===Kt.Escape&&n(i))})}function yT(){var e;let[t]=E.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=E.useState((e=t==null?void 0:t.matches)!=null?e:!1);return vt(()=>{if(!t)return;function i(o){r(o.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function xT({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Fe(()=>{var i,o;let l=xs(n),u=[];for(let c of e)c!==null&&(Zr(c)?u.push(c):"current"in c&&Zr(c.current)&&u.push(c.current));if(t!=null&&t.current)for(let c of t.current)u.push(c);for(let c of(i=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Zr(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||u.some(f=>c.contains(f))||u.push(c));return u});return{resolveContainers:r,contains:Fe(i=>r().some(o=>o.contains(i)))}}let xb=E.createContext(null);function Gy({children:e,node:t}){let[n,r]=E.useState(null),i=wb(t??n);return Ce.createElement(xb.Provider,{value:i},e,i===null&&Ce.createElement(Rh,{features:Ku.Hidden,ref:o=>{var l,u;if(o){for(let c of(u=(l=xs(o))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(c!==document.body&&c!==document.head&&Zr(c)&&c!=null&&c.contains(o)){r(c);break}}}}))}function wb(e=null){var t;return(t=E.useContext(xb))!=null?t:e}function wT(){let e=typeof document>"u";return"useSyncExternalStore"in Wu?(t=>t.useSyncExternalStore)(Wu)(()=>()=>{},()=>!1,()=>!e):!1}function jc(){let e=wT(),[t,n]=E.useState(Ar.isHandoffComplete);return t&&Ar.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{t!==!0&&n(!0)},[t]),E.useEffect(()=>Ar.handoff(),[]),e?!1:t}function $p(){let e=E.useRef(!1);return vt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var _a=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(_a||{});function bT(){let e=E.useRef(0);return Hw(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function bb(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Zr(n.current)&&t.add(n.current);return t}let kT="div";var os=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(os||{});function ST(e,t){let n=E.useRef(null),r=wn(n,t),{initialFocus:i,initialFocusFallback:o,containers:l,features:u=15,...c}=e;jc()||(u=0);let f=Ua(n.current);jT(u,{ownerDocument:f});let h=NT(u,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:o});TT(u,{ownerDocument:f,container:n,containers:l,previousActiveElement:h});let p=bT(),v=Fe(N=>{if(!qn(n.current))return;let j=n.current;(O=>O())(()=>{xr(p.current,{[_a.Forwards]:()=>{mo(j,vr.First,{skipElements:[N.relatedTarget,o]})},[_a.Backwards]:()=>{mo(j,vr.Last,{skipElements:[N.relatedTarget,o]})}})})}),y=el(!!(u&2),"focus-trap#tab-lock"),w=ws(),b=E.useRef(!1),S={ref:r,onKeyDown(N){N.key=="Tab"&&(b.current=!0,w.requestAnimationFrame(()=>{b.current=!1}))},onBlur(N){if(!(u&4))return;let j=bb(l);qn(n.current)&&j.add(n.current);let O=N.relatedTarget;Pr(O)&&O.dataset.headlessuiFocusGuard!=="true"&&(kb(j,O)||(b.current?mo(n.current,xr(p.current,{[_a.Forwards]:()=>vr.Next,[_a.Backwards]:()=>vr.Previous})|vr.WrapAround,{relativeTo:N.target}):Pr(N.target)&&Rr(N.target)))}},_=$t();return Ce.createElement(Ce.Fragment,null,y&&Ce.createElement(Rh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ku.Focusable}),_({ourProps:S,theirProps:c,defaultTag:kT,name:"FocusTrap"}),y&&Ce.createElement(Rh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ku.Focusable}))}let ET=Nt(ST),_T=Object.assign(ET,{features:os});function CT(e=!0){let t=E.useRef(Ni.slice());return Ap(([n],[r])=>{r===!0&&n===!1&&yc(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Ni.slice())},[e,Ni,t]),Fe(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function jT(e,{ownerDocument:t}){let n=!!(e&8),r=CT(n);Ap(()=>{n||ww(t==null?void 0:t.body)&&Rr(r())},[n]),Lp(()=>{n&&Rr(r())})}function NT(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let o=E.useRef(null),l=el(!!(e&1),"focus-trap#initial-focus"),u=$p();return Ap(()=>{if(e===0)return;if(!l){i!=null&&i.current&&Rr(i.current);return}let c=n.current;c&&yc(()=>{if(!u.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){o.current=f;return}}else if(c.contains(f)){o.current=f;return}if(r!=null&&r.current)Rr(r.current);else{if(e&16){if(mo(c,vr.First|vr.AutoFocus)!==Mh.Error)return}else if(mo(c,vr.First)!==Mh.Error)return;if(i!=null&&i.current&&(Rr(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t==null?void 0:t.activeElement})},[i,l,e]),o}function TT(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let o=$p(),l=!!(e&4);qw(t==null?void 0:t.defaultView,"focus",u=>{if(!l||!o.current)return;let c=bb(r);qn(n.current)&&c.add(n.current);let f=i.current;if(!f)return;let h=u.target;qn(h)?kb(c,h)?(i.current=h,Rr(h)):(u.preventDefault(),u.stopPropagation(),Rr(f)):Rr(i.current)},!0)}function kb(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Sb(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Ta((t=e.as)!=null?t:_b)||Ce.Children.count(e.children)===1}let Nc=E.createContext(null);Nc.displayName="TransitionContext";var IT=(e=>(e.Visible="visible",e.Hidden="hidden",e))(IT||{});function PT(){let e=E.useContext(Nc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function AT(){let e=E.useContext(Tc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Tc=E.createContext(null);Tc.displayName="NestingContext";function Ic(e){return"children"in e?Ic(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Eb(e,t){let n=bs(e),r=E.useRef([]),i=$p(),o=ws(),l=Fe((y,w=Pi.Hidden)=>{let b=r.current.findIndex(({el:S})=>S===y);b!==-1&&(xr(w,{[Pi.Unmount](){r.current.splice(b,1)},[Pi.Hidden](){r.current[b].state="hidden"}}),o.microTask(()=>{var S;!Ic(r)&&i.current&&((S=n.current)==null||S.call(n))}))}),u=Fe(y=>{let w=r.current.find(({el:b})=>b===y);return w?w.state!=="visible"&&(w.state="visible"):r.current.push({el:y,state:"visible"}),()=>l(y,Pi.Unmount)}),c=E.useRef([]),f=E.useRef(Promise.resolve()),h=E.useRef({enter:[],leave:[]}),p=Fe((y,w,b)=>{c.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([S])=>S!==y)),t==null||t.chains.current[w].push([y,new Promise(S=>{c.current.push(S)})]),t==null||t.chains.current[w].push([y,new Promise(S=>{Promise.all(h.current[w].map(([_,N])=>N)).then(()=>S())})]),w==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(w)):b(w)}),v=Fe((y,w,b)=>{Promise.all(h.current[w].splice(0).map(([S,_])=>_)).then(()=>{var S;(S=c.current.shift())==null||S()}).then(()=>b(w))});return E.useMemo(()=>({children:r,register:u,unregister:l,onStart:p,onStop:v,wait:f,chains:h}),[u,l,r,p,v,h,f])}let _b=E.Fragment,Cb=ko.RenderStrategy;function RT(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:l,beforeLeave:u,afterLeave:c,enter:f,enterFrom:h,enterTo:p,entered:v,leave:y,leaveFrom:w,leaveTo:b,...S}=e,[_,N]=E.useState(null),j=E.useRef(null),O=Sb(e),D=wn(...O?[j,t,N]:t===null?[]:[t]),R=(n=S.unmount)==null||n?Pi.Unmount:Pi.Hidden,{show:L,appear:te,initial:re}=PT(),[A,C]=E.useState(L?"visible":"hidden"),q=AT(),{register:W,unregister:B}=q;vt(()=>W(j),[W,j]),vt(()=>{if(R===Pi.Hidden&&j.current){if(L&&A!=="visible"){C("visible");return}return xr(A,{hidden:()=>B(j),visible:()=>W(j)})}},[A,j,W,B,L,R]);let U=jc();vt(()=>{if(O&&U&&A==="visible"&&j.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[j,A,U,O]);let K=re&&!te,X=te&&L&&re,M=E.useRef(!1),J=Eb(()=>{M.current||(C("hidden"),B(j))},q),I=Fe(Se=>{M.current=!0;let ue=Se?"enter":"leave";J.onStart(j,ue,Ee=>{Ee==="enter"?o==null||o():Ee==="leave"&&(u==null||u())})}),$=Fe(Se=>{let ue=Se?"enter":"leave";M.current=!1,J.onStop(j,ue,Ee=>{Ee==="enter"?l==null||l():Ee==="leave"&&(c==null||c())}),ue==="leave"&&!Ic(J)&&(C("hidden"),B(j))});E.useEffect(()=>{O&&i||(I(L),$(L))},[L,O,i]);let z=!(!i||!O||!U||K),[,P]=Gw(z,_,L,{start:I,end:$}),oe=rs({ref:D,className:((r=Ah(S.className,X&&f,X&&h,P.enter&&f,P.enter&&P.closed&&h,P.enter&&!P.closed&&p,P.leave&&y,P.leave&&!P.closed&&w,P.leave&&P.closed&&b,!P.transition&&L&&v))==null?void 0:r.trim())||void 0,...Kw(P)}),me=0;A==="visible"&&(me|=xn.Open),A==="hidden"&&(me|=xn.Closed),L&&A==="hidden"&&(me|=xn.Opening),!L&&A==="visible"&&(me|=xn.Closing);let he=$t();return Ce.createElement(Tc.Provider,{value:J},Ce.createElement(fb,{value:me},he({ourProps:oe,theirProps:S,defaultTag:_b,features:Cb,visible:A==="visible",name:"Transition.Child"})))}function OT(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,l=E.useRef(null),u=Sb(e),c=wn(...u?[l,t]:t===null?[]:[t]);jc();let f=rl();if(n===void 0&&f!==null&&(n=(f&xn.Open)===xn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=E.useState(n?"visible":"hidden"),v=Eb(()=>{n||p("hidden")}),[y,w]=E.useState(!0),b=E.useRef([n]);vt(()=>{y!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),w(!1))},[b,n]);let S=E.useMemo(()=>({show:n,appear:r,initial:y}),[n,r,y]);vt(()=>{n?p("visible"):!Ic(v)&&l.current!==null&&p("hidden")},[n,v]);let _={unmount:i},N=Fe(()=>{var D;y&&w(!1),(D=e.beforeEnter)==null||D.call(e)}),j=Fe(()=>{var D;y&&w(!1),(D=e.beforeLeave)==null||D.call(e)}),O=$t();return Ce.createElement(Tc.Provider,{value:v},Ce.createElement(Nc.Provider,{value:S},O({ourProps:{..._,as:E.Fragment,children:Ce.createElement(jb,{ref:c,..._,...o,beforeEnter:N,beforeLeave:j})},theirProps:{},defaultTag:E.Fragment,features:Cb,visible:h==="visible",name:"Transition"})))}function MT(e,t){let n=E.useContext(Nc)!==null,r=rl()!==null;return Ce.createElement(Ce.Fragment,null,!n&&r?Ce.createElement(zh,{ref:t,...e}):Ce.createElement(jb,{ref:t,...e}))}let zh=Nt(OT),jb=Nt(RT),Fp=Nt(MT),DT=Object.assign(zh,{Child:Fp,Root:zh});var LT=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(LT||{}),$T=(e=>(e[e.SetTitleId=0]="SetTitleId",e))($T||{});let FT={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},zp=E.createContext(null);zp.displayName="DialogContext";function Pc(e){let t=E.useContext(zp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pc),n}return t}function zT(e,t){return xr(t.type,FT,e,t)}let Jy=Nt(function(e,t){let n=E.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:l,role:u="dialog",autoFocus:c=!0,__demoMode:f=!1,unmount:h=!1,...p}=e,v=E.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=rl();i===void 0&&y!==null&&(i=(y&xn.Open)===xn.Open);let w=E.useRef(null),b=wn(w,t),S=Ua(w.current),_=i?0:1,[N,j]=E.useReducer(zT,{titleId:null,descriptionId:null,panelRef:E.createRef()}),O=Fe(()=>o(!1)),D=Fe(P=>j({type:0,id:P})),R=jc()?_===0:!1,[L,te]=pT(),re={get current(){var P;return(P=N.panelRef.current)!=null?P:w.current}},A=wb(),{resolveContainers:C}=xT({mainTreeNode:A,portals:L,defaultContainers:[re]}),q=y!==null?(y&xn.Closing)===xn.Closing:!1;$w(f||q?!1:R,{allowed:Fe(()=>{var P,oe;return[(oe=(P=w.current)==null?void 0:P.closest("[data-headlessui-portal]"))!=null?oe:null]}),disallowed:Fe(()=>{var P;return[(P=A==null?void 0:A.closest("body > *:not(#headlessui-portal-root)"))!=null?P:null]})});let W=wc.get(null);vt(()=>{if(R)return W.actions.push(r),()=>W.actions.pop(r)},[W,r,R]);let B=rr(W,E.useCallback(P=>W.selectors.isTop(P,r),[W,r]));Vw(B,C,P=>{P.preventDefault(),O()}),vT(B,S==null?void 0:S.defaultView,P=>{P.preventDefault(),P.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),O()}),Yw(f||q?!1:R,S,C),Fw(R,w,O);let[U,K]=Tw(),X=E.useMemo(()=>[{dialogState:_,close:O,setTitleId:D,unmount:h},N],[_,O,D,h,N]),M=Lr({open:_===0}),J={ref:b,id:r,role:u,tabIndex:-1,"aria-modal":f?void 0:_===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":U,unmount:h},I=!yT(),$=os.None;R&&!f&&($|=os.RestoreFocus,$|=os.TabLock,c&&($|=os.AutoFocus),I&&($|=os.InitialFocus));let z=$t();return Ce.createElement(sT,null,Ce.createElement(Ky,{force:!0},Ce.createElement(vb,null,Ce.createElement(zp.Provider,{value:X},Ce.createElement(gb,{target:w},Ce.createElement(Ky,{force:!1},Ce.createElement(K,{slot:M},Ce.createElement(te,null,Ce.createElement(_T,{initialFocus:l,initialFocusFallback:w,containers:C,features:$},Ce.createElement(VC,{value:O},z({ourProps:J,theirProps:p,slot:M,defaultTag:BT,features:UT,visible:_===0,name:"Dialog"})))))))))))}),BT="div",UT=ko.RenderStrategy|ko.Static;function WT(e,t){let{transition:n=!1,open:r,...i}=e,o=rl(),l=e.hasOwnProperty("open")||o!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Ce.createElement(Gy,null,Ce.createElement(DT,{show:r,transition:n,unmount:i.unmount},Ce.createElement(Jy,{ref:t,...i}))):Ce.createElement(Gy,null,Ce.createElement(Jy,{ref:t,open:r,...i}))}let HT="div";function VT(e,t){let n=E.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=e,[{dialogState:l,unmount:u},c]=Pc("Dialog.Panel"),f=wn(t,c.panelRef),h=Lr({open:l===0}),p=Fe(S=>{S.stopPropagation()}),v={ref:f,id:r,onClick:p},y=i?Fp:E.Fragment,w=i?{unmount:u}:{},b=$t();return Ce.createElement(y,{...w},b({ourProps:v,theirProps:o,slot:h,defaultTag:HT,name:"Dialog.Panel"}))}let qT="div";function YT(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:o}]=Pc("Dialog.Backdrop"),l=Lr({open:i===0}),u={ref:t,"aria-hidden":!0},c=n?Fp:E.Fragment,f=n?{unmount:o}:{},h=$t();return Ce.createElement(c,{...f},h({ourProps:u,theirProps:r,slot:l,defaultTag:qT,name:"Dialog.Backdrop"}))}let KT="h2";function GT(e,t){let n=E.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:l}]=Pc("Dialog.Title"),u=wn(t);E.useEffect(()=>(l(r),()=>l(null)),[r,l]);let c=Lr({open:o===0}),f={ref:u,id:r};return $t()({ourProps:f,theirProps:i,slot:c,defaultTag:KT,name:"Dialog.Title"})}let JT=Nt(WT),QT=Nt(VT);Nt(YT);let XT=Nt(GT),Qy=Object.assign(JT,{Panel:QT,Title:XT,Description:FC}),Xy=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Zy(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!qn(i))return r;let o=!1;for(let u of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),o=!0;let l=o?(n=i.innerText)!=null?n:"":r;return Xy.test(l)&&(l=l.replace(Xy,"")),l}function ZT(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():Zy(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Zy(e).trim()}function eI(e){let t=E.useRef(""),n=E.useRef("");return Fe(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=ZT(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var tI=Object.defineProperty,nI=(e,t,n)=>t in e?tI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e0=(e,t,n)=>(nI(e,typeof t!="symbol"?t+"":t,n),n),un=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(un||{}),Zu=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Zu||{}),ut=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(ut||{});function t0(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Uw(t(e.items.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let rI={1(e){if(e.menuState===1)return e;let t=e.buttonElement?Du.Tracked(yb(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:Dt.Nothing},menuState:1,buttonPositionState:t}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:Du.Idle}},2:(e,t)=>{var n,r,i,o,l;if(e.menuState===1)return e;let u={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===Dt.Nothing)return{...u,activeItemIndex:null};if(t.focus===Dt.Specific)return{...u,activeItemIndex:e.items.findIndex(h=>h.id===t.id)};if(t.focus===Dt.Previous){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=ku(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=e.items[v].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===y.current||((i=y.current)==null?void 0:i.previousElementSibling)===null)return{...u,activeItemIndex:v}}}}else if(t.focus===Dt.Next){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=ku(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=e.items[v].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.nextElementSibling)===y.current||((l=y.current)==null?void 0:l.nextElementSibling)===null)return{...u,activeItemIndex:v}}}}let c=t0(e),f=ku(t,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...u,...c,activeItemIndex:f}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(l=>{var u;return((u=l.dataRef.current.textValue)==null?void 0:u.startsWith(r))&&!l.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(i=>i)),r=e.activeItemIndex;return e.pendingFocus.focus!==Dt.Nothing&&(r=ku(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:Dt.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],i=new Set(t.items);for(let[o,l]of n.entries())if(i.has(l.id)&&(r.push(o),i.delete(l.id),i.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...t0(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Du.Moved}}};class Bp extends Ow{constructor(t){super(t),e0(this,"actions",{registerItem:xy(()=>{let n=[],r=new Set;return[(i,o)=>{r.has(o)||(r.add(o),n.push({id:i,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:xy(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),e0(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,o=n.items;return i===null||(r=o[i])==null?void 0:r.id},isActive(n,r){var i;let o=n.activeItemIndex,l=n.items;return o!==null?((i=l[o])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=wc.get(null);this.disposables.add(r.on(Dw.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(gT(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:t,__demoMode:n=!1}){return new Bp({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Dt.Nothing},buttonPositionState:Du.Idle})}reduce(t,n){return xr(n.type,rI,t,n)}}const Nb=E.createContext(null);function Up(e){let t=E.useContext(Nb);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Tb),n}return t}function Tb({id:e,__demoMode:t=!1}){let n=E.useMemo(()=>Bp.new({id:e,__demoMode:t}),[]);return Lp(()=>n.dispose()),n}let iI=E.Fragment;function sI(e,t){let n=E.useId(),{__demoMode:r=!1,...i}=e,o=Tb({id:n,__demoMode:r}),[l,u,c]=rr(o,S=>[S.menuState,S.itemsElement,S.buttonElement]),f=wn(t),h=wc.get(null),p=rr(h,E.useCallback(S=>h.selectors.isTop(S,n),[h,n]));Vw(p,[c,u],(S,_)=>{var N;o.send({type:ut.CloseMenu}),Pp(_,Ip.Loose)||(S.preventDefault(),(N=o.state.buttonElement)==null||N.focus())});let v=Fe(()=>{o.send({type:ut.CloseMenu})}),y=Lr({open:l===un.Open,close:v}),w={ref:f},b=$t();return Ce.createElement(nT,null,Ce.createElement(Nb.Provider,{value:o},Ce.createElement(fb,{value:xr(l,{[un.Open]:xn.Open,[un.Closed]:xn.Closed})},b({ourProps:w,theirProps:i,slot:y,defaultTag:iI,name:"Menu"}))))}let oI="button";function aI(e,t){let n=Up("Menu.Button"),r=E.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:l=!1,...u}=e,c=E.useRef(null),f=ZN(),h=wn(t,c,XN(),Fe(A=>n.send({type:ut.SetButtonElement,element:A}))),p=Fe(A=>{switch(A.key){case Kt.Space:case Kt.Enter:case Kt.ArrowDown:A.preventDefault(),A.stopPropagation(),n.send({type:ut.OpenMenu,focus:{focus:Dt.First}});break;case Kt.ArrowUp:A.preventDefault(),A.stopPropagation(),n.send({type:ut.OpenMenu,focus:{focus:Dt.Last}});break}}),v=Fe(A=>{switch(A.key){case Kt.Space:A.preventDefault();break}}),[y,w,b]=rr(n,A=>[A.menuState,A.buttonElement,A.itemsElement]),S=y===un.Open;mj(S,{trigger:w,action:E.useCallback(A=>{if(w!=null&&w.contains(A.target))return wu.Ignore;let C=A.target.closest('[role="menuitem"]:not([data-disabled])');return qn(C)?wu.Select(C):b!=null&&b.contains(A.target)?wu.Ignore:wu.Close},[w,b]),close:E.useCallback(()=>n.send({type:ut.CloseMenu}),[]),select:E.useCallback(A=>A.click(),[])});let _=YC(A=>{var C;o||(y===un.Open?(Wn.flushSync(()=>n.send({type:ut.CloseMenu})),(C=c.current)==null||C.focus({preventScroll:!0})):(A.preventDefault(),n.send({type:ut.OpenMenu,focus:{focus:Dt.Nothing},trigger:Zu.Pointer})))}),{isFocusVisible:N,focusProps:j}=hC({autoFocus:l}),{isHovered:O,hoverProps:D}=fC({isDisabled:o}),{pressed:R,pressProps:L}=xC({disabled:o}),te=Lr({open:y===un.Open,active:R||y===un.Open,disabled:o,hover:O,focus:N,autofocus:l}),re=Sw(f(),{ref:h,id:i,type:gj(e,c.current),"aria-haspopup":"menu","aria-controls":b==null?void 0:b.id,"aria-expanded":y===un.Open,disabled:o||void 0,autoFocus:l,onKeyDown:p,onKeyUp:v},_,j,D,L);return $t()({ourProps:re,theirProps:u,slot:te,defaultTag:oI,name:"Menu.Button"})}let lI="div",uI=ko.RenderStrategy|ko.Static;function cI(e,t){let n=E.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:o=!1,modal:l=!0,transition:u=!1,...c}=e,f=QN(i),h=Up("Menu.Items"),[p,v]=tT(f),y=eT(),[w,b]=E.useState(null),S=wn(t,f?p:null,Fe(M=>h.send({type:ut.SetItemsElement,element:M})),b),[_,N]=rr(h,M=>[M.menuState,M.buttonElement]),j=Ua(N),O=Ua(w);f&&(o=!0);let D=rl(),[R,L]=Gw(u,w,D!==null?(D&xn.Open)===xn.Open:_===un.Open);Fw(R,N,()=>{h.send({type:ut.CloseMenu})});let te=rr(h,M=>M.__demoMode),re=te?!1:l&&_===un.Open;Yw(re,O);let A=te?!1:l&&_===un.Open;$w(A,{allowed:E.useCallback(()=>[N,w],[N,w])});let C=rr(h,h.selectors.didButtonMove)?!1:R;E.useEffect(()=>{let M=w;M&&_===un.Open&&(ww(M)||M.focus({preventScroll:!0}))},[_,w]),Pj(_===un.Open,{container:w,accept(M){return M.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:M.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(M){M.setAttribute("role","none")}});let q=ws(),W=Fe(M=>{var J,I,$;switch(q.dispose(),M.key){case Kt.Space:if(h.state.searchQuery!=="")return M.preventDefault(),M.stopPropagation(),h.send({type:ut.Search,value:M.key});case Kt.Enter:if(M.preventDefault(),M.stopPropagation(),h.state.activeItemIndex!==null){let{dataRef:z}=h.state.items[h.state.activeItemIndex];(I=(J=z.current)==null?void 0:J.domRef.current)==null||I.click()}h.send({type:ut.CloseMenu}),Bw(h.state.buttonElement);break;case Kt.ArrowDown:return M.preventDefault(),M.stopPropagation(),h.send({type:ut.GoToItem,focus:Dt.Next});case Kt.ArrowUp:return M.preventDefault(),M.stopPropagation(),h.send({type:ut.GoToItem,focus:Dt.Previous});case Kt.Home:case Kt.PageUp:return M.preventDefault(),M.stopPropagation(),h.send({type:ut.GoToItem,focus:Dt.First});case Kt.End:case Kt.PageDown:return M.preventDefault(),M.stopPropagation(),h.send({type:ut.GoToItem,focus:Dt.Last});case Kt.Escape:M.preventDefault(),M.stopPropagation(),Wn.flushSync(()=>h.send({type:ut.CloseMenu})),($=h.state.buttonElement)==null||$.focus({preventScroll:!0});break;case Kt.Tab:M.preventDefault(),M.stopPropagation(),Wn.flushSync(()=>h.send({type:ut.CloseMenu})),dj(h.state.buttonElement,M.shiftKey?vr.Previous:vr.Next);break;default:M.key.length===1&&(h.send({type:ut.Search,value:M.key}),q.setTimeout(()=>h.send({type:ut.ClearSearch}),350));break}}),B=Fe(M=>{switch(M.key){case Kt.Space:M.preventDefault();break}}),U=Lr({open:_===un.Open}),K=Sw(f?y():{},{"aria-activedescendant":rr(h,h.selectors.activeDescendantId),"aria-labelledby":rr(h,M=>{var J;return(J=M.buttonElement)==null?void 0:J.id}),id:r,onKeyDown:W,onKeyUp:B,role:"menu",tabIndex:_===un.Open?0:void 0,ref:S,style:{...c.style,...v,"--button-width":qC(R,N,!0).width},...Kw(L)}),X=$t();return Ce.createElement(vb,{enabled:o?e.static||R:!1,ownerDocument:j},X({ourProps:K,theirProps:c,slot:U,defaultTag:lI,features:uI,visible:C,name:"Menu.Items"}))}let dI=E.Fragment;function fI(e,t){let n=E.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=e,l=Up("Menu.Item"),u=rr(l,C=>l.selectors.isActive(C,r)),c=E.useRef(null),f=wn(t,c),h=rr(l,C=>l.selectors.shouldScrollIntoView(C,r));vt(()=>{if(h)return Rn().requestAnimationFrame(()=>{var C,q;(q=(C=c.current)==null?void 0:C.scrollIntoView)==null||q.call(C,{block:"nearest"})})},[h,c]);let p=eI(c),v=E.useRef({disabled:i,domRef:c,get textValue(){return p()}});vt(()=>{v.current.disabled=i},[v,i]),vt(()=>(l.actions.registerItem(r,v),()=>l.actions.unregisterItem(r)),[v,r]);let y=Fe(()=>{l.send({type:ut.CloseMenu})}),w=Fe(C=>{if(i)return C.preventDefault();l.send({type:ut.CloseMenu}),Bw(l.state.buttonElement)}),b=Fe(()=>{if(i)return l.send({type:ut.GoToItem,focus:Dt.Nothing});l.send({type:ut.GoToItem,focus:Dt.Specific,id:r})}),S=Sj(),_=Fe(C=>S.update(C)),N=Fe(C=>{S.wasMoved(C)&&(i||u||l.send({type:ut.GoToItem,focus:Dt.Specific,id:r,trigger:Zu.Pointer}))}),j=Fe(C=>{S.wasMoved(C)&&(i||u&&l.state.activationTrigger===Zu.Pointer&&l.send({type:ut.GoToItem,focus:Dt.Nothing}))}),[O,D]=Iw(),[R,L]=Tw(),te=Lr({active:u,focus:u,disabled:i,close:y}),re={id:r,ref:f,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":O,"aria-describedby":R,disabled:void 0,onClick:w,onFocus:b,onPointerEnter:_,onMouseEnter:_,onPointerMove:N,onMouseMove:N,onPointerLeave:j,onMouseLeave:j},A=$t();return Ce.createElement(D,null,Ce.createElement(L,null,A({ourProps:re,theirProps:o,slot:te,defaultTag:dI,name:"Menu.Item"})))}let hI="div";function pI(e,t){let[n,r]=Iw(),i=e,o={ref:t,"aria-labelledby":n,role:"group"},l=$t();return Ce.createElement(r,null,l({ourProps:o,theirProps:i,slot:{},defaultTag:hI,name:"Menu.Section"}))}let mI="header";function gI(e,t){let n=E.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=e,o=Tp();vt(()=>o.register(r),[r,o.register]);let l={id:r,ref:t,role:"presentation",...o.props};return $t()({ourProps:l,theirProps:i,slot:{},defaultTag:mI,name:"Menu.Heading"})}let vI="div";function yI(e,t){let n=e,r={ref:t,role:"separator"};return $t()({ourProps:r,theirProps:n,slot:{},defaultTag:vI,name:"Menu.Separator"})}let xI=Nt(sI),wI=Nt(aI),bI=Nt(cI),kI=Nt(fI),SI=Nt(pI),EI=Nt(gI),_I=Nt(yI),Xi=Object.assign(xI,{Button:wI,Items:bI,Item:kI,Section:SI,Heading:EI,Separator:_I});const Ib=E.createContext(void 0);function ks(){const e=E.useContext(Ib);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const CI="modulepreload",jI=function(e){return"/sport-planner/"+e},n0={},il=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(f=>{if(f=jI(f),f in n0)return;n0[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":CI,h||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((y,w)=>{v.addEventListener("load",y),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},NI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>il(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Wp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class r0 extends Wp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i0 extends Wp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s0 extends Wp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bh||(Bh={}));var TI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class II{constructor(t,{headers:n={},customFetch:r,region:i=Bh.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=NI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return TI(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:c}=r;let f={},{region:h}=r;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)));const y=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:c}).catch(_=>{throw _.name==="AbortError"?_:new r0(_)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new i0(y);if(!y.ok)throw new s0(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield y.json():b==="application/octet-stream"?S=yield y.blob():b==="text/event-stream"?S=y:b==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new r0(o)}:{data:null,error:o,response:o instanceof s0||o instanceof i0?o.context:void 0}}})}}var Yt={},Ys={},Ks={},Gs={},Js={},Qs={},PI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Eo=PI();const AI=Eo.fetch,Pb=Eo.fetch.bind(Eo),Ab=Eo.Headers,RI=Eo.Request,OI=Eo.Response,Ao=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ab,Request:RI,Response:OI,default:Pb,fetch:AI},Symbol.toStringTag,{value:"Module"})),MI=TE(Ao);var Su={},o0;function Rb(){if(o0)return Su;o0=1,Object.defineProperty(Su,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Su.default=e,Su}var a0;function Ob(){if(a0)return Qs;a0=1;var e=Qs&&Qs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qs,"__esModule",{value:!0});const t=e(MI),n=e(Rb());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,p,v,y;let w=null,b=null,S=null,_=f.status,N=f.statusText;if(f.ok){if(this.method!=="HEAD"){const R=await f.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=R:b=JSON.parse(R))}const O=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),D=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");O&&D&&D.length>1&&(S=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(w={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,_=406,N="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const O=await f.text();try{w=JSON.parse(O),Array.isArray(w)&&f.status===404&&(b=[],w=null,_=200,N="OK")}catch{f.status===404&&O===""?(_=204,N="No Content"):w={message:O}}if(w&&this.isMaybeSingle&&(!((y=w==null?void 0:w.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,_=200,N="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:b,count:S,status:_,statusText:N}});return this.shouldThrowOnError||(c=c.catch(f=>{var h,p,v;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(p=f==null?void 0:f.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,l)}returns(){return this}overrideTypes(){return this}}return Qs.default=r,Qs}var l0;function Mb(){if(l0)return Js;l0=1;var e=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Js,"__esModule",{value:!0});const t=e(Ob());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var h;const p=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Js.default=n,Js}var u0;function Hp(){if(u0)return Gs;u0=1;var e=Gs&&Gs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gs,"__esModule",{value:!0});const t=e(Mb());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Gs.default=n,Gs}var c0;function Db(){if(c0)return Ks;c0=1;var e=Ks&&Ks.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ks,"__esModule",{value:!0});const t=e(Hp());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},c=l?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:c=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ks.default=n,Ks}var d0;function DI(){if(d0)return Ys;d0=1;var e=Ys&&Ys.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ys,"__esModule",{value:!0});const t=e(Db()),n=e(Hp());class r{constructor(o,{headers:l={},schema:u,fetch:c}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=c}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:c=!1,count:f}={}){var h;let p;const v=new URL(`${this.url}/rpc/${o}`);let y;u||c?(p=u?"HEAD":"GET",Object.entries(l).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{v.searchParams.append(b,S)})):(p="POST",y=l);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:p,url:v,headers:w,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Ys.default=r,Ys}var f0;function LI(){if(f0)return Yt;f0=1;var e=Yt&&Yt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.PostgrestError=Yt.PostgrestBuilder=Yt.PostgrestTransformBuilder=Yt.PostgrestFilterBuilder=Yt.PostgrestQueryBuilder=Yt.PostgrestClient=void 0;const t=e(DI());Yt.PostgrestClient=t.default;const n=e(Db());Yt.PostgrestQueryBuilder=n.default;const r=e(Hp());Yt.PostgrestFilterBuilder=r.default;const i=e(Mb());Yt.PostgrestTransformBuilder=i.default;const o=e(Ob());Yt.PostgrestBuilder=o.default;const l=e(Rb());return Yt.PostgrestError=l.default,Yt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},Yt}var $I=LI();const FI=jo($I),{PostgrestClient:zI,PostgrestQueryBuilder:t5,PostgrestFilterBuilder:n5,PostgrestTransformBuilder:r5,PostgrestBuilder:i5,PostgrestError:s5}=FI;class BI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const UI="2.75.0",WI=`realtime-js/${UI}`,HI="1.0.0",Uh=1e4,VI=1e3,qI=100;var Pa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pa||(Pa={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var gr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gr||(gr={}));var Wh;(function(e){e.websocket="websocket"})(Wh||(Wh={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class YI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class Lb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const h0=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=KI(l,e,t,i),o),{}):{}},KI=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?$b(o,l):Hh(l)},$b=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return XI(t,n)}switch(e){case ht.bool:return GI(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return JI(t);case ht.json:case ht.jsonb:return QI(t);case ht.timestamp:return ZI(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return Hh(t);default:return Hh(t)}},Hh=e=>e,GI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},XI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>$b(t,u))}return e},ZI=e=>typeof e=="string"?e.replace(" ","T"):e,Fb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Wf{constructor(t,n,r={},i=Uh){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var p0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(p0||(p0={}));class Aa{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Aa.syncState(this.state,i,o,l),this.pendingDiffs.forEach(c=>{this.state=Aa.syncDiff(this.state,c,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Aa.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},c={};return this.map(o,(f,h)=>{l[f]||(c[f]=h)}),this.map(l,(f,h)=>{const p=o[f];if(p){const v=h.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),w=h.filter(S=>y.indexOf(S.presence_ref)<0),b=p.filter(S=>v.indexOf(S.presence_ref)<0);w.length>0&&(u[f]=w),b.length>0&&(c[f]=b)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,c)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(c),h.length>0){const p=t[u].map(y=>y.presence_ref),v=h.filter(y=>p.indexOf(y.presence_ref)<0);t[u].unshift(...v)}r(u,h,c)}),this.map(l,(u,c)=>{let f=t[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=f,i(u,f,c),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(m0||(m0={}));var Ra;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ra||(Ra={}));var Jr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jr||(Jr={}));class Vp{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wf(this,gr.join,this.params,this.timeout),this.rejoinTimer=new Lb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Aa(this),this.broadcastEndpointURL=Fb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:l,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Ra.PRESENCE]&&this.bindings[Ra.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Jr.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Jr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){t==null||t(Jr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(w=b==null?void 0:b.length)!==null&&w!==void 0?w:0,_=[];for(let N=0;N<S;N++){const j=b[N],{filter:{event:O,schema:D,table:R,filter:L}}=j,te=y&&y[N];if(te&&te.event===O&&te.schema===D&&te.table===R&&te.filter===L)_.push(Object.assign(Object.assign({},j),{id:te.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(Jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Jr.SUBSCRIBED);return}}).receive("error",y=>{this.state=Bt.errored,t==null||t(Jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Bt.joined&&t===Ra.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Wf(this,gr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wf(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=gr;if(r&&[u,c,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var w,b,S;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(b=y.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(y=>y.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(y=>{var w,b,S,_,N,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const O=y.id,D=(w=y.filter)===null||w===void 0?void 0:w.event;return O&&((b=n.ids)===null||b===void 0?void 0:b.includes(O))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const O=(N=(_=y==null?void 0:y.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:b,table:S,commit_timestamp:_,type:N,errors:j}=w;v=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:_,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(w))}y.callback(v,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Vp.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gr.close,{},t)}_onError(t){this._on(gr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=h0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=h0(t.columns,t.old_record)),n}}const Hf=()=>{},Eu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eP=[1e3,2e3,5e3,1e4],tP=1e4,nP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rP{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uh,this.transport=null,this.heartbeatIntervalMs=Eu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hf,this.ref=0,this.reconnectTimer=null,this.logger=Hf,this.conn=null,this.sendBuffer=[],this.serializer=new YI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>il(async()=>{const{default:u}=await Promise.resolve().then(()=>Ao);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Wh.websocket}`,this.httpEndpoint=Fb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pa.connecting:return as.Connecting;case Pa.open:return as.Open;case Pa.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Vp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Eu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([nP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:WI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(gr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Lb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Eu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,c,f,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Uh,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Eu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Hf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(p=>eP[p-1]||tP),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((p,v)=>v(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class qp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iP extends qp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vh extends qp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var sP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const zb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>il(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},oP=()=>sP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield il(()=>Promise.resolve().then(()=>Ao),void 0)).Response:Response}),qh=e=>{if(Array.isArray(e))return e.map(n=>qh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=qh(r)}),t},aP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ss=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Vf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lP=(e,t,n)=>Ss(void 0,void 0,void 0,function*(){const r=yield oP();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new iP(Vf(i),o,l))}).catch(i=>{t(new Vh(Vf(i),i))}):t(new Vh(Vf(e),e))}),uP=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(aP(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function sl(e,t,n,r,i,o){return Ss(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,uP(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>lP(c,u,r))})})}function ec(e,t,n,r){return Ss(this,void 0,void 0,function*(){return sl(e,"GET",t,n,r)})}function Tr(e,t,n,r,i){return Ss(this,void 0,void 0,function*(){return sl(e,"POST",t,r,i,n)})}function Yh(e,t,n,r,i){return Ss(this,void 0,void 0,function*(){return sl(e,"PUT",t,r,i,n)})}function cP(e,t,n,r){return Ss(this,void 0,void 0,function*(){return sl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Bb(e,t,n,r,i){return Ss(this,void 0,void 0,function*(){return sl(e,"DELETE",t,r,i,n)})}var dP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class fP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return dP(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}var hP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class pP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new fP(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return hP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}var Nn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const mP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},g0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gP{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=zb(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Nn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},g0),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?Yh:Tr)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Mt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Nn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:g0.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield Yh(this.fetch,u.toString(),c,{headers:h});return{data:{path:o,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Mt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Nn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Tr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new qp("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Nn(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Nn(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Nn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Tr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Nn(this,void 0,void 0,function*(){try{const i=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),c=()=>ec(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new pP(c,this.shouldThrowOnError)}info(t){return Nn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ec(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:qh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}exists(t){return Nn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield cP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r)&&r instanceof Vh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Nn(this,void 0,void 0,function*(){try{return{data:yield Bb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Nn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mP),n),{prefix:t||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Nn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const vP="2.75.0",yP={"X-Client-Info":`storage-js/${vP}`};var Xs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class xP{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yP),n),this.fetch=zb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Xs(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}getBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}createBucket(t){return Xs(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Xs(this,void 0,void 0,function*(){try{return{data:yield Yh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Bb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}}class wP extends xP{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new gP(this.url,this.headers,t,this.fetch)}}const bP="2.75.0";let Ca="";typeof Deno<"u"?Ca="deno":typeof document<"u"?Ca="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ca="react-native":Ca="node";const kP={"X-Client-Info":`supabase-js-${Ca}/${bP}`},SP={headers:kP},EP={schema:"public"},_P={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CP={};var jP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const NP=e=>{let t;return e?t=e:typeof fetch>"u"?t=Pb:t=fetch,(...n)=>t(...n)},TP=()=>typeof Headers>"u"?Ab:Headers,IP=(e,t,n)=>{const r=NP(n),i=TP();return(o,l)=>jP(void 0,void 0,void 0,function*(){var u;const c=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var PP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};function AP(e){return e.endsWith("/")?e:e+"/"}function RP(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:c,auth:f,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>PP(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function OP(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ub="2.75.0",ao=30*1e3,Kh=3,qf=Kh*ao,MP="http://localhost:9999",DP="supabase.auth.token",LP={"X-Client-Info":`gotrue-js/${Ub}`},Gh="X-Supabase-Api-Version",Wb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$P=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FP=600*1e3;class Va extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zP extends Va{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function BP(e){return Le(e)&&e.name==="AuthApiError"}class ls extends Va{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Li extends Va{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class _i extends Li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UP(e){return Le(e)&&e.name==="AuthSessionMissingError"}class Zs extends Li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _u extends Li{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Cu extends Li{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WP(e){return Le(e)&&e.name==="AuthImplicitGrantRedirectError"}class v0 extends Li{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jh extends Li{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yf(e){return Le(e)&&e.name==="AuthRetryableFetchError"}class y0 extends Li{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Qh extends Li{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x0=` 	
\r=`.split(""),HP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<x0.length;t+=1)e[x0[t].charCodeAt(0)]=-2;for(let t=0;t<tc.length;t+=1)e[tc[t].charCodeAt(0)]=t;return e})();function w0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(tc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(tc[r]),t.queuedBits-=6}}function Hb(e,t,n){const r=HP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function b0(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{YP(l,r,n)};for(let l=0;l<e.length;l+=1)Hb(e.charCodeAt(l),i,o);return t.join("")}function VP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qP(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}VP(r,t)}}function YP(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function vo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Hb(e.charCodeAt(i),n,r);return new Uint8Array(t)}function KP(e){const t=[];return qP(e,n=>t.push(n)),new Uint8Array(t)}function ds(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>w0(i,n,r)),w0(null,n,r),t.join("")}function GP(e){return Math.round(Date.now()/1e3)+e}function JP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Un=()=>typeof window<"u"&&typeof document<"u",Zi={tested:!1,writable:!1},Vb=()=>{if(!Un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zi.tested)return Zi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zi.tested=!0,Zi.writable=!0}catch{Zi.tested=!0,Zi.writable=!1}return Zi.writable};function QP(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const qb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>il(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},XP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},es=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Si=async(e,t)=>{await e.removeItem(t)};class Ac{constructor(){this.promise=new Ac.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ac.promiseConstructor=Promise;function Kf(e){const t=e.split(".");if(t.length!==3)throw new Qh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$P.test(t[r]))throw new Qh("JWT not in base64url format");return{header:JSON.parse(b0(t[0])),payload:JSON.parse(b0(t[1])),signature:vo(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eA(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function tA(e){return("0"+e.toString(16)).substr(-2)}function nA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,tA).join("")}async function rA(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function iA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await rA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function eo(e,t,n=!1){const r=nA();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await lo(e,`${t}-code-verifier`,i);const o=await iA(r);return[o,r===o?"plain":"s256"]}const sA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oA(e){const t=e.headers.get(Gh);if(!t||!t.match(sA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function to(e){if(!uA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k0(e){return JSON.parse(JSON.stringify(e))}var cA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const is=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dA=[502,503,504];async function S0(e){var t;if(!XP(e))throw new Jh(is(e),0);if(dA.includes(e.status))throw new Jh(is(e),e.status);let n;try{n=await e.json()}catch(o){throw new ls(is(o),o)}let r;const i=oA(e);if(i&&i.getTime()>=Wb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new y0(is(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _i}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new y0(is(n),e.status,n.weak_password.reasons);throw new zP(is(n),e.status||500,r)}const fA=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Be(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Gh]||(o[Gh]=Wb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await hA(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function hA(e,t,n,r,i,o){const l=fA(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(c){throw console.error(c),new Jh(is(c),0)}if(u.ok||await S0(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await S0(c)}}function pr(e){var t;let n=null;gA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=GP(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function E0(e){const t=pr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ti(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pA(e){return{data:e,error:null}}function mA(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=cA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function _0(e){return e}function gA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Jf=["global","local","others"];var vA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class yA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=qb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Jf[0]){if(Jf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jf.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ti})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=vA(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ti})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:_0});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Le(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){to(t);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ti})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){to(t);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ti})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){to(t);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ti})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){to(t.userId);try{const{data:n,error:r}=await Be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteFactor(t){to(t.userId),to(t.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:_0});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Le(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}}function C0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const no={debug:!!(globalThis&&Vb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xA extends Yb{}async function wA(e,t,n){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),no.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{no.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw no.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(no.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function bA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kA(e){return parseInt(e,16)}function SA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function EA(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Kb(e.address),w=h?`${h}://${r}`:r,b=e.statement?`${e.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${y}

${b}`;let _=`URI: ${p}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),u&&(_+=`
Not Before: ${u.toISOString()}`),c&&(_+=`
Request ID: ${c}`),f){let N=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}_+=N}return`${S}
${_}`}class Ot extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class nc extends Ot{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function _A({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Jb(l)){if(o.rp.id!==l)return new Ot({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function CA({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Jb(r)){if(n.rpId!==r)return new Ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Gb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class jA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const NA=new jA;function TA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Gb(e,["challenge","user","excludeCredentials"]),o=vo(t).buffer,l=Object.assign(Object.assign({},n),{id:vo(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:vo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function IA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Gb(e,["challenge","allowCredentials"]),i=vo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:vo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function PA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ds(new Uint8Array(e.response.attestationObject)),clientDataJSON:ds(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ds(new Uint8Array(i.authenticatorData)),clientDataJSON:ds(new Uint8Array(i.clientDataJSON)),signature:ds(new Uint8Array(i.signature)),userHandle:i.userHandle?ds(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Jb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function j0(){var e,t;return!!(Un()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function RA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nc("Browser returned unexpected credential type",t)}:{data:null,error:new nc("Empty credential response",t)}}catch(t){return{data:null,error:_A({error:t,options:e})}}}async function OA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nc("Browser returned unexpected credential type",t)}:{data:null,error:new nc("Empty credential response",t)}}catch(t){return{data:null,error:CA({error:t,options:e})}}}const MA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},DA={userVerification:"preferred",hints:["security-key"]};function rc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=rc(u,l):r[o]=rc(l)}else r[o]=l}return r}function LA(e,t){return rc(MA,e,t||{})}function $A(e,t){return rc(DA,e,t||{})}class FA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const c=i??NA.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=LA(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:p}=await RA({publicKey:f,signal:c});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=$A(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:p}=await OA(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Va("rpId is required for WebAuthn authentication")};try{if(!j0())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:c}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Va("rpId is required for WebAuthn registration")};try{if(!j0())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in register",l)}}}}bA();const zA={url:MP,storageKey:DP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function N0(e,t,n){return await n()}const ro={};class qa{get jwks(){var t,n;return(n=(t=ro[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ro[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qa.nextInstanceID,qa.nextInstanceID+=1,this.instanceID>0&&Un()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},zA),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=qb(i.fetch),this.lock=i.lock||N0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Un()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=wA:this.lock=N0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FA(this)},this.persistSession?(i.storage?this.storage=i.storage:Vb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=C0(this.memoryStorage)),Un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ub}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=QP(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Un()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),WP(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Le(n)?{error:n}:{error:new ls("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:pr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:p,options:v}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await eo(this.storage,this.storageKey)),o=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:w},xform:pr})}else if("phone"in t){const{phone:h,password:p,options:v}=t;o=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:pr})}else throw new _u("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:E0})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:E0})}else throw new _u("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,c,f,h,p,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:b,wallet:S,statement:_,options:N}=t;let j;if(Un())if(typeof S=="object")j=S;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")j=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=S}const O=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),D=await j.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Kb(D[0]);let L=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!L){const re=await j.request({method:"eth_chainId"});L=kA(re)}const te={domain:O.host,address:R,statement:_,uri:O.href,version:"1",chainId:L,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=EA(te),w=await j.request({method:"personal_sign",params:[SA(y),R]})}try{const{data:b,error:S}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:w},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pr});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Zs}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if(Le(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var n,r,i,o,l,u,c,f,h,p,v,y;let w,b;if("message"in t)w=t.message,b=t.signature;else{const{chain:S,wallet:_,statement:N,options:j}=t;let O;if(Un())if(typeof _=="object")O=_;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))O=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=_}const D=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const R=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),N?{statement:N}:null));let L;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")L=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)L=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)w=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),b=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${D.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j==null?void 0:j.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(h=j==null?void 0:j.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const R=await O.signMessage(new TextEncoder().encode(w),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=R}}try{const{data:S,error:_}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ds(b)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:pr});if(_)throw _;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Zs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:_})}catch(S){if(Le(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await es(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:pr});if(await Si(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Zs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Le(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pr}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:c}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await eo(this.storage,this.storageKey));const{error:p}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:c}=t,{data:f,error:h}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new _u("You must provide either an email or phone number.")}catch(u){if(Le(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:pr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,f=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await eo(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:pA})}catch(o){if(Le(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new _i;const{error:i}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new _u("You must provide either an email or phone number and a type")}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await es(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Gf()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,f,h)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ti}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _i}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ti})})}catch(n){if(Le(n))return UP(n)&&(await this._removeSession(),await Si(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new _i;const l=i.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await eo(this.storage,this.storageKey));const{data:f,error:h}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:Ti});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _i;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Kf(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new _i;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Un())throw new Cu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Cu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new v0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new v0("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:c,token_type:f}=t;if(!o||!u||!l||!f)throw new Cu("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let v=h+p;c&&(v=parseInt(c));const y=v-h;y*1e3<=ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const w=v-p;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,h);const{data:b,error:S}=await this._getUser(o);if(S)throw S;const _={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:v,refresh_token:l,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(r){if(Le(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await es(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(BP(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Si(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=JP(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await eo(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Le(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,c,f,h;const{data:p,error:v}=o;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Un()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Le(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:c,access_token:f,nonce:h}=t,p=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pr}),{data:v,error:y}=p;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Zs}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:y})}catch(i){if(Le(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await eA(async i=>(i>0&&await ZP(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Yf(o)&&Date.now()+l-r<ao})}catch(r){if(this._debug(n,"error",r),Le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Un()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await es(this.storage,this.storageKey);if(i&&this.userStorage){let l=await es(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await lo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Gf()}else if(i&&!i.user&&!i.user){const l=await es(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Si(this.storage,this.storageKey+"-user"),await lo(this.storage,this.storageKey,i)):i.user=Gf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${qf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Yf(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new _i;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ac;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new _i;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Le(o)){const l={data:null,error:o};return Yf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await lo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=k0(i);await lo(this.storage,this.storageKey,o)}else{const i=k0(n);await lo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Si(this.storage,this.storageKey),await Si(this.storage,this.storageKey+"-code-verifier"),await Si(this.storage,this.storageKey+"-user"),this.userStorage&&await Si(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Un()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ao);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ao}ms, refresh threshold is ${Kh} ticks`),i<=Kh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Un()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await eo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:f}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?PA(t.webauthn.credential_response):AA(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:c}=await Be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await Be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:TA(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:IA(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Kf(i.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+FP>i)return r;const{data:o,error:l}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};r=y.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:c}}=Kf(r);n!=null&&n.allowExpired||aA(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:i,signature:l},error:null}}const h=lA(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,KP(`${u}.${c}`)))throw new Qh("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}}qa.nextInstanceID=0;const BA=qa;class UA extends BA{constructor(t){super(t)}}var WA=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class HA{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=OP(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:EP,realtime:CP,auth:Object.assign(Object.assign({},_P),{storageKey:c}),global:SP},h=RP(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=IP(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new zI(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new wP(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new II(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return WA(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:c,debug:f},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new UA({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:c,debug:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VA=(e,t,n)=>new HA(e,t,n);function qA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}qA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YA="https://kjsdmygqhxaryvfmnhqr.supabase.co",KA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",Lt=VA(YA,KA,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),T0=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const v=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,v))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=t=e(r,i,u);return u},GA=(e=>e?T0(e):T0),JA=e=>e;function QA(e,t=JA){const n=Ce.useSyncExternalStore(e.subscribe,Ce.useCallback(()=>t(e.getState()),[e,t]),Ce.useCallback(()=>t(e.getInitialState()),[e,t]));return Ce.useDebugValue(n),n}const I0=e=>{const t=GA(e),n=r=>QA(t,r);return Object.assign(n,t),n},XA=(e=>e?I0(e):I0),ZA="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Zt=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=ZA[n[e]&63];return t};var Lu={exports:{}},eR=Lu.exports,P0;function Qb(){return P0||(P0=1,(function(e,t){(function(n,r){e.exports=r()})(eR,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",u="minute",c="hour",f="day",h="week",p="month",v="quarter",y="year",w="date",b="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var U=["th","st","nd","rd"],K=B%100;return"["+B+(U[(K-20)%10]||U[K]||U[0])+"]"}},j=function(B,U,K){var X=String(B);return!X||X.length>=U?B:""+Array(U+1-X.length).join(K)+B},O={s:j,z:function(B){var U=-B.utcOffset(),K=Math.abs(U),X=Math.floor(K/60),M=K%60;return(U<=0?"+":"-")+j(X,2,"0")+":"+j(M,2,"0")},m:function B(U,K){if(U.date()<K.date())return-B(K,U);var X=12*(K.year()-U.year())+(K.month()-U.month()),M=U.clone().add(X,p),J=K-M<0,I=U.clone().add(X+(J?-1:1),p);return+(-(X+(K-M)/(J?M-I:I-M))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:p,y,w:h,d:f,D:w,h:c,m:u,s:l,ms:o,Q:v}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},D="en",R={};R[D]=N;var L="$isDayjsObject",te=function(B){return B instanceof q||!(!B||!B[L])},re=function B(U,K,X){var M;if(!U)return D;if(typeof U=="string"){var J=U.toLowerCase();R[J]&&(M=J),K&&(R[J]=K,M=J);var I=U.split("-");if(!M&&I.length>1)return B(I[0])}else{var $=U.name;R[$]=U,M=$}return!X&&M&&(D=M),M||!X&&D},A=function(B,U){if(te(B))return B.clone();var K=typeof U=="object"?U:{};return K.date=B,K.args=arguments,new q(K)},C=O;C.l=re,C.i=te,C.w=function(B,U){return A(B,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var q=(function(){function B(K){this.$L=re(K.locale,null,!0),this.parse(K),this.$x=this.$x||K.x||{},this[L]=!0}var U=B.prototype;return U.parse=function(K){this.$d=(function(X){var M=X.date,J=X.utc;if(M===null)return new Date(NaN);if(C.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var I=M.match(S);if(I){var $=I[2]-1||0,z=(I[7]||"0").substring(0,3);return J?new Date(Date.UTC(I[1],$,I[3]||1,I[4]||0,I[5]||0,I[6]||0,z)):new Date(I[1],$,I[3]||1,I[4]||0,I[5]||0,I[6]||0,z)}}return new Date(M)})(K),this.init()},U.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},U.$utils=function(){return C},U.isValid=function(){return this.$d.toString()!==b},U.isSame=function(K,X){var M=A(K);return this.startOf(X)<=M&&M<=this.endOf(X)},U.isAfter=function(K,X){return A(K)<this.startOf(X)},U.isBefore=function(K,X){return this.endOf(X)<A(K)},U.$g=function(K,X,M){return C.u(K)?this[X]:this.set(M,K)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(K,X){var M=this,J=!!C.u(X)||X,I=C.p(K),$=function(Ee,xe){var Je=C.w(M.$u?Date.UTC(M.$y,xe,Ee):new Date(M.$y,xe,Ee),M);return J?Je:Je.endOf(f)},z=function(Ee,xe){return C.w(M.toDate()[Ee].apply(M.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(xe)),M)},P=this.$W,oe=this.$M,me=this.$D,he="set"+(this.$u?"UTC":"");switch(I){case y:return J?$(1,0):$(31,11);case p:return J?$(1,oe):$(0,oe+1);case h:var Se=this.$locale().weekStart||0,ue=(P<Se?P+7:P)-Se;return $(J?me-ue:me+(6-ue),oe);case f:case w:return z(he+"Hours",0);case c:return z(he+"Minutes",1);case u:return z(he+"Seconds",2);case l:return z(he+"Milliseconds",3);default:return this.clone()}},U.endOf=function(K){return this.startOf(K,!1)},U.$set=function(K,X){var M,J=C.p(K),I="set"+(this.$u?"UTC":""),$=(M={},M[f]=I+"Date",M[w]=I+"Date",M[p]=I+"Month",M[y]=I+"FullYear",M[c]=I+"Hours",M[u]=I+"Minutes",M[l]=I+"Seconds",M[o]=I+"Milliseconds",M)[J],z=J===f?this.$D+(X-this.$W):X;if(J===p||J===y){var P=this.clone().set(w,1);P.$d[$](z),P.init(),this.$d=P.set(w,Math.min(this.$D,P.daysInMonth())).$d}else $&&this.$d[$](z);return this.init(),this},U.set=function(K,X){return this.clone().$set(K,X)},U.get=function(K){return this[C.p(K)]()},U.add=function(K,X){var M,J=this;K=Number(K);var I=C.p(X),$=function(oe){var me=A(J);return C.w(me.date(me.date()+Math.round(oe*K)),J)};if(I===p)return this.set(p,this.$M+K);if(I===y)return this.set(y,this.$y+K);if(I===f)return $(1);if(I===h)return $(7);var z=(M={},M[u]=r,M[c]=i,M[l]=n,M)[I]||1,P=this.$d.getTime()+K*z;return C.w(P,this)},U.subtract=function(K,X){return this.add(-1*K,X)},U.format=function(K){var X=this,M=this.$locale();if(!this.isValid())return M.invalidDate||b;var J=K||"YYYY-MM-DDTHH:mm:ssZ",I=C.z(this),$=this.$H,z=this.$m,P=this.$M,oe=M.weekdays,me=M.months,he=M.meridiem,Se=function(xe,Je,rt,Qe){return xe&&(xe[Je]||xe(X,J))||rt[Je].slice(0,Qe)},ue=function(xe){return C.s($%12||12,xe,"0")},Ee=he||function(xe,Je,rt){var Qe=xe<12?"AM":"PM";return rt?Qe.toLowerCase():Qe};return J.replace(_,(function(xe,Je){return Je||(function(rt){switch(rt){case"YY":return String(X.$y).slice(-2);case"YYYY":return C.s(X.$y,4,"0");case"M":return P+1;case"MM":return C.s(P+1,2,"0");case"MMM":return Se(M.monthsShort,P,me,3);case"MMMM":return Se(me,P);case"D":return X.$D;case"DD":return C.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return Se(M.weekdaysMin,X.$W,oe,2);case"ddd":return Se(M.weekdaysShort,X.$W,oe,3);case"dddd":return oe[X.$W];case"H":return String($);case"HH":return C.s($,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return Ee($,z,!0);case"A":return Ee($,z,!1);case"m":return String(z);case"mm":return C.s(z,2,"0");case"s":return String(X.$s);case"ss":return C.s(X.$s,2,"0");case"SSS":return C.s(X.$ms,3,"0");case"Z":return I}return null})(xe)||I.replace(":","")}))},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(K,X,M){var J,I=this,$=C.p(X),z=A(K),P=(z.utcOffset()-this.utcOffset())*r,oe=this-z,me=function(){return C.m(I,z)};switch($){case y:J=me()/12;break;case p:J=me();break;case v:J=me()/3;break;case h:J=(oe-P)/6048e5;break;case f:J=(oe-P)/864e5;break;case c:J=oe/i;break;case u:J=oe/r;break;case l:J=oe/n;break;default:J=oe}return M?J:C.a(J)},U.daysInMonth=function(){return this.endOf(p).$D},U.$locale=function(){return R[this.$L]},U.locale=function(K,X){if(!K)return this.$L;var M=this.clone(),J=re(K,X,!0);return J&&(M.$L=J),M},U.clone=function(){return C.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},B})(),W=q.prototype;return A.prototype=W,[["$ms",o],["$s",l],["$m",u],["$H",c],["$W",f],["$M",p],["$y",y],["$D",w]].forEach((function(B){W[B[1]]=function(U){return this.$g(U,B[0],B[1])}})),A.extend=function(B,U){return B.$i||(B(U,q,A),B.$i=!0),A},A.locale=re,A.isDayjs=te,A.unix=function(B){return A(1e3*B)},A.en=R[D],A.Ls=R,A.p={},A}))})(Lu)),Lu.exports}var tR=Qb();const He=jo(tR),yo=`
  id,
  name,
  subtitle,
  objective_id,
  parent_work_id,
  node_type,
  tags,
  order_hint,
  next_work_id,
  variant_of_work_id,
  description_markdown,
  estimated_minutes,
  notes,
  video_urls,
  visibility,
  owner_id,
  owner_email,
  created_at,
  updated_at,
  work_collaborators (
    id,
    email,
    role,
    user_id,
    created_at
  )
`,Xb=e=>Array.from(new Set(e.map(t=>t.trim().toLowerCase()).filter(t=>t.length>0))),nR=e=>Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t.length>0):[],Yp=e=>Array.isArray(e)?Array.from(new Set(e.map(t=>typeof t=="string"?t.trim().toLowerCase():"").filter(t=>t.length>0))):[],Zb=e=>(e??[]).map(t=>({id:`${t.id}`,email:t.email.toLowerCase(),role:t.role,userId:t.user_id??void 0,createdAt:t.created_at})),Kp=(e,t)=>{var u,c;const n=Zb(e.work_collaborators),r=n.map(f=>f.email),i=((u=t==null?void 0:t.actorEmail)==null?void 0:u.toLowerCase())??"",o=t?e.owner_id===t.actorId:!1,l=o||r.includes(i);return{id:e.id,name:e.name,subtitle:e.subtitle??void 0,objectiveId:e.objective_id,parentWorkId:e.parent_work_id??null,nodeType:e.node_type??void 0,tags:Yp(e.tags),orderHint:typeof e.order_hint=="number"?e.order_hint:void 0,nextWorkId:e.next_work_id??null,variantOfWorkId:e.variant_of_work_id??null,descriptionMarkdown:e.description_markdown??"",estimatedMinutes:e.estimated_minutes??0,notes:e.notes??void 0,videoUrls:nR(e.video_urls),visibility:e.visibility??"private",ownerId:e.owner_id,ownerEmail:((c=e.owner_email)==null?void 0:c.toLowerCase())??"",collaborators:n,collaboratorEmails:r,createdAt:e.created_at,updatedAt:e.updated_at,canEdit:l,isOwner:o}};async function rR(e){const{data:t,error:n}=await Lt.from("works").select(yo).order("name");if(n)throw console.error("No se pudieron cargar los trabajos compartidos",n),n;return t.map(r=>Kp(r,e))}async function A0(e,t){var w;const n=e.id??Zt(),r=Xb(e.collaboratorEmails),i=t.actorEmail.trim().toLowerCase(),o=(w=e.nodeType)!=null&&w.trim()?e.nodeType.trim():null,l=Yp(e.tags??[]),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:null,c=e.nextWorkId??null,f=e.variantOfWorkId??null,{data:h,error:p}=await Lt.from("works").insert({id:n,name:e.name,subtitle:e.subtitle??null,objective_id:e.objectiveId,parent_work_id:e.parentWorkId??null,node_type:o,tags:l,order_hint:u,next_work_id:c,variant_of_work_id:f,description_markdown:e.descriptionMarkdown,estimated_minutes:e.estimatedMinutes,notes:e.notes??null,video_urls:e.videoUrls,visibility:e.visibility,owner_id:t.actorId,owner_email:i,updated_at:new Date().toISOString()}).select(yo).maybeSingle();if(p||!h)throw console.error("No se pudo crear el trabajo",p),p??new Error("Falta respuesta al crear trabajo");if(r.length>0){const b=r.map(_=>({work_id:h.id,email:_})),{error:S}=await Lt.from("work_collaborators").insert(b);if(S)throw console.error("No se pudieron guardar los colaboradores",S),S}const{data:v,error:y}=await Lt.from("works").select(yo).eq("id",h.id).maybeSingle();if(y||!v)throw console.error("No se pudo refrescar el trabajo creado",y),y??new Error("No se pudo cargar el trabajo creado");return Kp(v,t)}async function iR(e,t,n){const r={};t.name!==void 0&&(r.name=t.name),t.subtitle!==void 0&&(r.subtitle=t.subtitle),t.objectiveId!==void 0&&(r.objective_id=t.objectiveId),t.parentWorkId!==void 0&&(r.parent_work_id=t.parentWorkId),t.nodeType!==void 0&&(r.node_type=t.nodeType),t.tags!==void 0&&(r.tags=Yp(t.tags)),t.orderHint!==void 0&&(r.order_hint=t.orderHint),t.nextWorkId!==void 0&&(r.next_work_id=t.nextWorkId),t.variantOfWorkId!==void 0&&(r.variant_of_work_id=t.variantOfWorkId),t.descriptionMarkdown!==void 0&&(r.description_markdown=t.descriptionMarkdown),t.estimatedMinutes!==void 0&&(r.estimated_minutes=t.estimatedMinutes),t.notes!==void 0&&(r.notes=t.notes),t.videoUrls!==void 0&&(r.video_urls=t.videoUrls),t.visibility!==void 0&&(r.visibility=t.visibility),r.updated_at=new Date().toISOString();let i=null;if(Object.keys(r).length>0){const{data:o,error:l}=await Lt.from("works").update(r).eq("id",e).select(yo).maybeSingle();if(l||!o)throw console.error("No se pudo actualizar el trabajo",l),l??new Error("Falta respuesta al actualizar trabajo");i=o}else{const{data:o,error:l}=await Lt.from("works").select(yo).eq("id",e).maybeSingle();if(l||!o)throw l??new Error("Trabajo no encontrado");i=o}if(t.collaboratorEmails){const o=Xb(t.collaboratorEmails),l=Zb(i.work_collaborators),u=l.map(v=>v.email),c=o.filter(v=>!u.includes(v)),f=l.filter(v=>!o.includes(v.email));if(c.length>0){const v=c.map(w=>({work_id:e,email:w})),{error:y}=await Lt.from("work_collaborators").insert(v);if(y)throw console.error("No se pudieron aadir los colaboradores",y),y}if(f.length>0){const v=f.map(w=>w.email),{error:y}=await Lt.from("work_collaborators").delete().eq("work_id",e).in("email",v);if(y)throw console.error("No se pudieron eliminar colaboradores",y),y}const{data:h,error:p}=await Lt.from("works").select(yo).eq("id",e).maybeSingle();if(p||!h)throw p??new Error("Error al refrescar colaboradores");i=h}return Kp(i,n)}async function sR(e){const{error:t}=await Lt.from("works").delete().eq("id",e);if(t)throw console.error("No se pudo eliminar el trabajo",t),t}const An={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes",kungfuPrograms:"sport-planner-kungfu-programs",kungfuCadence:"sport-planner-kungfu-cadence",kungfuTodayPlan:"sport-planner-kungfu-today-plan"},ek=typeof window<"u",jt=()=>new Date().toISOString(),ss="18:30",uo=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],co={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},gn={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},R0=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim().toLowerCase()).filter(t=>t.length>0))),oR=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim()).filter(t=>t.length>0))),tk=e=>e==="count"||e==="minutes"||e==="both",aR=e=>e==="work"||e==="note",lR=e=>e==="overdue"||e==="weighted",uR=e=>e==="allow_all"||e==="prefer_leaves",cR=e=>{const t={},n=R0(e.byTags),r=R0(e.byNodeTypes),i=oR(e.byWorkIds);return n.length>0&&(t.byTags=n),r.length>0&&(t.byNodeTypes=r),i.length>0&&(t.byWorkIds=i),t},_o=e=>(e??[]).map(cR).filter(t=>Object.keys(t).length>0),dR=e=>{if(!Array.isArray(e))return[];const t=e.map(n=>Number(n)).filter(n=>Number.isFinite(n)).map(n=>Math.round(n)).filter(n=>n>=0&&n<=6);return Array.from(new Set(t)).sort((n,r)=>n-r)},fR=e=>{const t={};return!e||typeof e!="object"?{...gn.defaultMinutesByNodeType}:(Object.entries(e).forEach(([n,r])=>{const i=n.trim().toLowerCase(),o=Number(r);i&&Number.isFinite(o)&&(t[i]=Math.max(.25,o))}),Object.keys(t).length>0?t:{...gn.defaultMinutesByNodeType})},hR=(e,t)=>{const n=String(e.id??"").trim()||Zt(),r=aR(e.type)?e.type:"work",i=typeof e.enabled=="boolean"?e.enabled:!0,o=String(e.name??"").trim()||(r==="note"?"Recap":"Grupo"),l=Number.isFinite(Number(e.order))?Number(e.order):t,u=dR(e.daysOfWeek),c=tk(e.limitMode)?e.limitMode:"minutes",f=Number.isFinite(Number(e.maxItems))?Math.max(0,Math.round(Number(e.maxItems))):void 0,h=Number.isFinite(Number(e.minutesBudget))?Math.max(0,Number(e.minutesBudget)):void 0,p=lR(e.strategy)?e.strategy:"overdue",v=uR(e.hierarchyRule)?e.hierarchyRule:"allow_all",y=_o(e.include),w=_o(e.exclude);return{id:n,name:o,enabled:i,order:l,type:r,daysOfWeek:u,limitMode:c,maxItems:f,minutesBudget:h,strategy:p,hierarchyRule:v,include:y,exclude:w}},pR=e=>{var f,h,p;const t=Math.max(0,Number((f=e.template)==null?void 0:f.focusMinutes)||0),n=Math.max(0,Number((h=e.template)==null?void 0:h.rouletteMinutes)||0),r=Math.max(0,Number((p=e.template)==null?void 0:p.recapMinutes)||0),i=_o(e.focusSelectors),o=_o(e.rouletteSelectors),l=i.length>0?i:[{byNodeTypes:["segment","form"]}],u=o.length>0?o:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],c=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:t>0?t:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:l,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:n>0?n:10,strategy:"weighted",hierarchyRule:"allow_all",include:u,exclude:[]}];return r>0&&c.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:r}),c},Xh=e=>{var w,b,S;const t=e??gn,n=tk(t.limitMode)?t.limitMode:gn.limitMode,r=Math.max(1,Math.round(Number(t.maxItems)||gn.maxItems)),i=Math.max(1,Number(t.minutesBudget)||gn.minutesBudget),o=Math.max(0,Number((w=t.template)==null?void 0:w.focusMinutes)||gn.template.focusMinutes),l=Math.max(0,Number((b=t.template)==null?void 0:b.rouletteMinutes)||gn.template.rouletteMinutes),u=Math.max(0,Number((S=t.template)==null?void 0:S.recapMinutes)||gn.template.recapMinutes),c=Math.max(0,o+l+u),f=fR(t.defaultMinutesByNodeType),h=_o(t.focusSelectors),p=_o(t.rouletteSelectors),y=((t.groups??[]).length>0?t.groups??[]:pR(t)).map((_,N)=>hR(_,N+1)).sort((_,N)=>_.order-N.order).map((_,N)=>({..._,order:N+1}));return{...t,limitMode:n,maxItems:r,minutesBudget:i,template:{totalMinutes:c,focusMinutes:o,rouletteMinutes:l,recapMinutes:u},defaultMinutesByNodeType:f,focusSelectors:h,rouletteSelectors:p,groups:y}},Pn=e=>{if(!e)return null;const t=e.trim();return t.length>0?t:null},$u=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),mr=e=>{if(!e)return;const t=e.trim();return t.length>0?t:void 0},Zh=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),Ci=e=>{const t=jt(),n=Pn(e.parentWorkId??null),r=Pn(e.nextWorkId??null),i=Pn(e.variantOfWorkId??null),o=mr(e.nodeType??void 0),l=$u(e.tags),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:void 0,c=(e.collaborators??[]).map((p,v)=>({id:p.id??`${e.id}-collab-${v}`,email:(p.email??"").trim().toLowerCase(),role:p.role??"editor",userId:p.userId??null,createdAt:p.createdAt??t})),f=Zh([...e.collaboratorEmails??[],...c.map(p=>p.email)]),h=Array.isArray(e.videoUrls)?e.videoUrls.map(p=>typeof p=="string"?p.trim():"").filter(Boolean):[];return{id:e.id,name:e.name??"Trabajo sin nombre",subtitle:mr(e.subtitle),objectiveId:e.objectiveId??"",parentWorkId:n,nodeType:o,tags:l,orderHint:u,nextWorkId:r,variantOfWorkId:i,descriptionMarkdown:e.descriptionMarkdown??"",estimatedMinutes:e.estimatedMinutes??0,notes:mr(e.notes),videoUrls:h,createdAt:e.createdAt??t,updatedAt:e.updatedAt??t,visibility:e.visibility??"private",ownerId:e.ownerId??"local-owner",ownerEmail:(e.ownerEmail??"").trim().toLowerCase(),collaborators:c,collaboratorEmails:f,canEdit:e.canEdit??!0,isOwner:e.isOwner??!0}},mR=(e,t,n)=>{var o;if(!n)return!1;if(n===t)return!0;const r=new Set;let i=n;for(;i;){if(i===t)return!0;if(r.has(i))break;r.add(i),i=((o=e.find(u=>u.id===i))==null?void 0:o.parentWorkId)??null}return!1},ts=(e,t)=>{if(!ek)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},nk=e=>e==="present"||e==="absent"||e==="pending",rk=e=>e==="present"||e==="absent",ep=e=>(e??[]).map(t=>{const n=nk(t.status)?t.status:"pending",r=rk(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),it=e=>{if(!ek)return;const t=tp(e);window.localStorage.setItem(An.objectives,JSON.stringify(t.objectives)),window.localStorage.setItem(An.works,JSON.stringify(t.works)),window.localStorage.setItem(An.sessions,JSON.stringify(t.sessions)),window.localStorage.setItem(An.assistants,JSON.stringify(t.assistants)),window.localStorage.setItem(An.kungfuPrograms,JSON.stringify(t.kungfuPrograms)),window.localStorage.setItem(An.kungfuCadence,JSON.stringify(t.kungfuCadence)),window.localStorage.setItem(An.kungfuTodayPlan,JSON.stringify(t.kungfuTodayPlan))},tp=e=>({objectives:e.objectives??[],works:(e.works??[]).map(t=>{const n=t.parent_work_id;return Ci({...t,id:t.id,parentWorkId:Pn(t.parentWorkId??n??null)})}),sessions:(e.sessions??[]).map(t=>({...t,kind:t.kind??"class",startTime:t.startTime??ss,workItems:(t.workItems??[]).map(n=>({...n,focusLabel:n.focusLabel,completed:n.completed??!1})),attendance:ep(t.attendance)})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??uo,kungfuCadence:e.kungfuCadence??co,kungfuTodayPlan:Xh(e.kungfuTodayPlan??gn)}),Ie=XA((e,t)=>({ready:!1,objectives:[],works:[],worksLoading:!1,sessions:[],assistants:[],kungfuPrograms:uo,kungfuCadence:co,kungfuTodayPlan:gn,hydrate:()=>{if(t().ready)return;const n=ts(An.objectives,[]),r=ts(An.works,[]).map(f=>{const h=f.parent_work_id;return Ci({...f,id:f.id,parentWorkId:Pn(f.parentWorkId??h??null)})}),i=ts(An.sessions,[]).map(f=>({...f,kind:f.kind??"class",startTime:f.startTime??ss,workItems:(f.workItems??[]).map(h=>({...h,focusLabel:h.focusLabel,completed:h.completed??!1})),attendance:ep(f.attendance)})),o=ts(An.assistants,[]),l=ts(An.kungfuPrograms,uo),u=ts(An.kungfuCadence,co),c=ts(An.kungfuTodayPlan,gn);e({objectives:n,works:r,sessions:i,assistants:o,kungfuPrograms:l,kungfuCadence:u,kungfuTodayPlan:Xh(c),ready:!0})},setCollections:n=>{e(r=>{const i=tp({objectives:n.objectives??r.objectives,works:n.works??r.works,sessions:n.sessions??r.sessions,assistants:n.assistants??r.assistants,kungfuPrograms:n.kungfuPrograms??r.kungfuPrograms,kungfuCadence:n.kungfuCadence??r.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan??r.kungfuTodayPlan}),o={...r,...i,ready:!0};return it(i),o})},setWorks:n=>{const r=n.map(i=>Ci(i));e(i=>{const o={...i,works:r};return it({works:r}),o})},loadWorks:async n=>{e({worksLoading:!0});try{const i=(await rR(n)).map(p=>Ci(p)),o=t().works,l=new Set(i.map(p=>p.id)),u=o.filter(p=>!l.has(p.id)&&(!p.ownerId||p.ownerId==="local-owner"||p.ownerId===n.actorId)),c=[];for(const p of u)try{const v=await A0({id:p.id,name:p.name,subtitle:p.subtitle,objectiveId:p.objectiveId,parentWorkId:p.parentWorkId??null,nodeType:p.nodeType,tags:p.tags,orderHint:p.orderHint,nextWorkId:p.nextWorkId??null,variantOfWorkId:p.variantOfWorkId??null,descriptionMarkdown:p.descriptionMarkdown,estimatedMinutes:p.estimatedMinutes,notes:p.notes,videoUrls:p.videoUrls,visibility:p.visibility??"private",collaboratorEmails:p.collaboratorEmails??[]},n),y=Ci(v);c.push(y),l.add(y.id)}catch(v){console.error(`No se pudo migrar el trabajo legacy ${p.id}`,v)}const f=[...i];c.forEach(p=>{if(!l.has(p.id))l.add(p.id),f.push(p);else{const v=f.findIndex(y=>y.id===p.id);v>=0?f[v]=p:f.push(p)}});const h=f.map(p=>Ci(p)).sort((p,v)=>p.name.localeCompare(v.name,"es",{sensitivity:"base"}));e(p=>{const v={...p,works:h};return it({works:h}),v})}finally{e({worksLoading:!1})}},reset:()=>{e(n=>{const r=tp({objectives:[],works:[],sessions:[],assistants:[],kungfuPrograms:uo,kungfuCadence:co,kungfuTodayPlan:gn}),i={...n,...r,ready:!0,worksLoading:!1};return it(i),i})},setKungfuPrograms:n=>{const r=Array.isArray(n)?n:uo;e(i=>{const o={...i,kungfuPrograms:r};return it(o),o})},setKungfuCadence:n=>{const r=n??co;e(i=>{const o={...i,kungfuCadence:r};return it(o),o})},setKungfuTodayPlan:n=>{const r=Xh(n??gn);e(i=>{const o={...i,kungfuTodayPlan:r};return it(o),o})},addObjective:n=>{const r={id:Zt(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:jt(),updatedAt:jt()};return e(i=>{const o={objectives:[...i.objectives,r]},l={...i,...o};return it(l),l}),r},updateObjective:(n,r)=>{e(i=>{const o=i.objectives.map(u=>u.id===n?{...u,...r,updatedAt:jt()}:u),l={...i,objectives:o};return it(l),l})},deleteObjective:n=>t().works.some(i=>i.objectiveId===n)?!1:(e(i=>{const o=i.objectives.filter(u=>u.id!==n),l={...i,objectives:o};return it(l),l}),!0),addWork:async(n,r)=>{const i=t(),o=Pn(n.parentWorkId),l=o&&i.works.some(h=>h.id===o)?o:null,u={name:n.name,subtitle:mr(n.subtitle),objectiveId:n.objectiveId,parentWorkId:l,nodeType:mr(n.nodeType)??void 0,tags:$u(n.tags),orderHint:typeof n.orderHint=="number"&&Number.isFinite(n.orderHint)?n.orderHint:void 0,nextWorkId:Pn(n.nextWorkId??null),variantOfWorkId:Pn(n.variantOfWorkId??null),descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:mr(n.notes),videoUrls:(n.videoUrls??[]).map(h=>h.trim()).filter(h=>h.length>0),visibility:n.visibility??"private",collaboratorEmails:Zh(n.collaboratorEmails??[])},c=await A0(u,r),f=Ci(c);return e(h=>{const p=[...h.works.filter(v=>v.id!==f.id),f];return it({works:p}),{...h,works:p}}),f},updateWork:async(n,r,i)=>{const o=t(),l=o.works.find(p=>p.id===n);if(!l)throw new Error("Trabajo no encontrado");let u=l.parentWorkId??null;if(r.parentWorkId!==void 0){const p=Pn(r.parentWorkId);p&&(!o.works.some(v=>v.id===p)||mR(o.works,n,p))?u=null:u=p}const c={...r,subtitle:r.subtitle!==void 0?mr(r.subtitle)??null:void 0,parentWorkId:u,nodeType:r.nodeType!==void 0?mr(r.nodeType??void 0)??null:void 0,tags:r.tags?$u(r.tags):void 0,orderHint:r.orderHint!==void 0?typeof r.orderHint=="number"&&Number.isFinite(r.orderHint)?r.orderHint:null:void 0,nextWorkId:r.nextWorkId!==void 0?Pn(r.nextWorkId??null):void 0,variantOfWorkId:r.variantOfWorkId!==void 0?Pn(r.variantOfWorkId??null):void 0,notes:r.notes!==void 0?mr(r.notes)??null:void 0,videoUrls:r.videoUrls?r.videoUrls.map(p=>p.trim()).filter(p=>p.length>0):void 0,collaboratorEmails:r.collaboratorEmails?Zh(r.collaboratorEmails):void 0},f=await iR(n,c,i),h=Ci(f);return e(p=>{const v=p.works.map(y=>y.id===h.id?h:y);return it({works:v}),{...p,works:v}}),h},deleteWork:async(n,r)=>t().sessions.some(l=>l.workItems.some(u=>u.workId===n))||t().works.some(l=>l.parentWorkId===n)?!1:(await sR(n),e(l=>{const u=l.works.filter(c=>c.id!==n);return it({works:u}),{...l,works:u}}),!0),addSession:n=>{const r={id:Zt(),date:n.date,kind:n.kind??"class",title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??ss,createdAt:jt(),updatedAt:jt()};return e(i=>{const o=[...i.sessions,r],l={...i,sessions:o};return it(l),l}),r},duplicateSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o=jt(),l={...i,id:Zt(),date:r,startTime:i.startTime??ss,createdAt:o,updatedAt:o,title:`${i.title} (copia)`};return l.workItems=i.workItems.slice().sort((u,c)=>u.order-c.order).map((u,c)=>({...u,id:Zt(),order:c,completed:!1})),l.attendance=i.attendance.map(u=>({assistantId:u.assistantId,status:"pending",notes:u.notes,actualStatus:void 0,actualNotes:void 0})),e(u=>{const c=[...u.sessions,l],f={...u,sessions:c};return it(f),f}),l},updateSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,...r,updatedAt:jt()}:u),l={...i,sessions:o};return it(l),l})},deleteSession:n=>{e(r=>{const i=r.sessions.filter(l=>l.id!==n),o={...r,sessions:i};return it(o),o})},updateSessionWorkItems:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,workItems:r.map((c,f)=>({...c,order:f})),updatedAt:jt()}:u),l={...i,sessions:o};return it(l),l})},addWorkToSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o={id:Zt(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:i.workItems.length},l={...i,workItems:[...i.workItems,o],updatedAt:jt()};return e(u=>{const c=u.sessions.map(h=>h.id===n?l:h),f={...u,sessions:c};return it(f),f}),o},duplicateSessionWork:(n,r)=>{let i,o=!1;return e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.workItems.findIndex(b=>b.id===r);if(h===-1)return f;o=!0;const v={...f.workItems[h],id:Zt(),completed:!1},y=[...f.workItems];y.splice(h+1,0,v);const w=y.map((b,S)=>{const _={...b,order:S};return b.id===v.id&&(i=_),_});return{...f,workItems:w,updatedAt:jt()}});if(!o)return l;const c={...l,sessions:u};return it(c),c}),i},removeWorkFromSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>{if(u.id!==n)return u;const c=u.workItems.filter(f=>f.id!==r).map((f,h)=>({...f,order:h}));return{...u,workItems:c,updatedAt:jt()}}),l={...i,sessions:o};return it(l),l})},toggleSessionWorkCompletion:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,completed:i}:f),updatedAt:jt()}),u={...o,sessions:l};return it(u),u})},reorderSessionWork:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=[...c.workItems],[h]=f.splice(r,1);return f.splice(i,0,h),{...c,workItems:f.map((p,v)=>({...p,order:v})),updatedAt:jt()}}),u={...o,sessions:l};return it(u),u})},updateSessionWorkDetails:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,...i}:f),updatedAt:jt()}),u={...o,sessions:l};return it(u),u})},replaceSessionWork:(n,r,i)=>{t().works.some(o=>o.id===i)&&e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=c.workItems.map(h=>h.id!==r?h:{...h,workId:i,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...c,workItems:f,updatedAt:jt()}}),u={...o,sessions:l};return it(u),u})},setAttendanceActualStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;if(h)p=f.attendance.map(v=>{if(v.assistantId!==r)return v;const y={...v,actualStatus:i};return typeof o<"u"&&(y.actualNotes=o),y});else{const v={assistantId:r,status:"pending",actualStatus:i};typeof o<"u"&&(v.actualNotes=o),p=[...f.attendance,v]}return{...f,attendance:p,updatedAt:jt()}}),c={...l,sessions:u};return it(c),c})},setAttendanceStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;return h?p=f.attendance.map(v=>v.assistantId===r?{...v,status:i,notes:o}:v):p=[...f.attendance,{assistantId:r,status:i,notes:o}],{...f,attendance:p,updatedAt:jt()}}),c={...l,sessions:u};return it(c),c})},addAssistant:n=>{const r={id:Zt(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:jt(),updatedAt:jt()};return e(i=>{const o=[...i.assistants,r],l={...i,assistants:o};return it(l),l}),r},updateAssistant:(n,r)=>{e(i=>{const o=i.assistants.map(u=>u.id===n?{...u,...r,updatedAt:jt()}:u),l={...i,assistants:o};return it(l),l})},deleteAssistant:n=>{e(r=>{const i=r.assistants.filter(u=>u.id!==n),o=r.sessions.map(u=>({...u,attendance:u.attendance.filter(c=>c.assistantId!==n)})),l={...r,assistants:i,sessions:o};return it(l),l})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versin de backup no soportada");const i=jt(),o=(n.objetivos??[]).map(S=>({...S,createdAt:S.createdAt??i,updatedAt:S.updatedAt??i})),l=(n.trabajos??[]).map(S=>{const _=S.parent_work_id,N=S.node_type,j=S.tags,O=S.order_hint,D=S.next_work_id,R=S.variant_of_work_id;return{...S,subtitle:mr(S.subtitle),parentWorkId:Pn(S.parentWorkId??_??null),nodeType:mr(S.nodeType??N??void 0),tags:$u(Array.isArray(S.tags)?S.tags:Array.isArray(j)?j:[]),orderHint:typeof S.orderHint=="number"?S.orderHint:typeof O=="number"?O:void 0,nextWorkId:Pn(S.nextWorkId??D??null),variantOfWorkId:Pn(S.variantOfWorkId??R??null),createdAt:S.createdAt??i,updatedAt:S.updatedAt??i,videoUrls:S.videoUrls??[]}}),u=(n.asistentes??[]).map(S=>({...S,createdAt:S.createdAt??i,updatedAt:S.updatedAt??i,active:S.active??!0})),c=n.kungfuPrograms??uo,f=n.kungfuCadence??co,h=n.kungfuTodayPlan??gn,p=new Map;(n.sesiones??[]).forEach(S=>{const _=S.id??Zt(),N={id:_,date:S.date??He().format("YYYY-MM-DD"),kind:S.kind??"class",title:S.title??"Sesin importada",description:S.description,notes:S.notes,workItems:(S.workItems??[]).map((j,O)=>({id:j.id??Zt(),workId:j.workId,order:j.order??O,customDescriptionMarkdown:j.customDescriptionMarkdown,customDurationMinutes:j.customDurationMinutes,notes:j.notes,focusLabel:j.focusLabel,completed:j.completed??!1,result:j.result,effort:j.effort})),attendance:ep(S.attendance),startTime:S.startTime??ss,createdAt:S.createdAt??i,updatedAt:S.updatedAt??i};N.workItems=N.workItems.sort((j,O)=>j.order-O.order).map((j,O)=>({...j,order:O})),p.set(_,N)}),(n.sesiones_trabajos??[]).forEach(S=>{const _=S.session_id;if(!_)return;p.has(_)||p.set(_,{id:_,date:S.fecha?He(S.fecha).format("YYYY-MM-DD"):He().format("YYYY-MM-DD"),kind:"class",title:S.titulo??"Sesin importada",description:S.descripcion,notes:S.notasSesion??S.notas,workItems:[],attendance:[],startTime:ss,createdAt:i,updatedAt:i});const N=p.get(_);N.workItems.push({id:S.id??Zt(),workId:S.trabajo_id,order:S.orden??N.workItems.length,customDescriptionMarkdown:S.descripcionPersonalizada,customDurationMinutes:S.duracionPersonalizada,notes:S.notas,focusLabel:S.focusLabel??S.foco,completed:S.completed??!1,result:S.result??S.resultado,effort:S.effort??S.esfuerzo})}),p.forEach(S=>{S.workItems=S.workItems.sort((_,N)=>_.order-N.order).map((_,N)=>({..._,order:N})),S.startTime=S.startTime??ss});const v=new Map,y=S=>nk(S)?S:void 0,w=S=>rk(S)?S:void 0;(n.sesiones_asistencias??[]).forEach(S=>{const _=S.session_id;if(!_)return;const N=S.assistantId??S.asistente_id;if(!N)return;const j=y(S.status??S.estado)??"pending",O=w(S.actualStatus??S.estado_real),D={assistantId:N,status:j,notes:S.notes??S.notas,actualStatus:O,actualNotes:S.actualNotes??S.notas_reales},R=v.get(_)??[];R.push(D),v.set(_,R)}),v.forEach((S,_)=>{const N=p.get(_);N&&(N.attendance=S)});const b=Array.from(p.values());e({objectives:o,works:l,sessions:b,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h,ready:!0}),it({objectives:o,works:l,sessions:b,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(u=>u.workItems.map(c=>({id:c.id,session_id:u.id,trabajo_id:c.workId,orden:c.order,descripcionPersonalizada:c.customDescriptionMarkdown,duracionPersonalizada:c.customDurationMinutes,notas:c.notes,foco:c.focusLabel,focusLabel:c.focusLabel,completed:c.completed??!1,result:c.result,effort:c.effort}))),i=n.sessions.flatMap(u=>u.attendance.map(c=>({session_id:u.id,assistantId:c.assistantId,estado:c.status,notas:c.notes,...c.actualStatus?{actualStatus:c.actualStatus,estado_real:c.actualStatus}:{},...c.actualNotes?{actualNotes:c.actualNotes,notas_reales:c.actualNotes}:{}}))),o=n.sessions.map(u=>({id:u.id,date:u.date,kind:u.kind,title:u.title,description:u.description,notes:u.notes,startTime:u.startTime,createdAt:u.createdAt,updatedAt:u.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:o,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:i,kungfuPrograms:n.kungfuPrograms,kungfuCadence:n.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan}}})),O0=1,gR=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],vR={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},yR={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},ju=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants,kungfuPrograms:e.kungfuPrograms,kungfuCadence:e.kungfuCadence,kungfuTodayPlan:e.kungfuTodayPlan}),xR=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,kind:t.kind??"class",workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??gR,kungfuCadence:e.kungfuCadence??vR,kungfuTodayPlan:e.kungfuTodayPlan??yR}),wR=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants||e.kungfuPrograms!==t.kungfuPrograms||e.kungfuCadence!==t.kungfuCadence||e.kungfuTodayPlan!==t.kungfuTodayPlan;function bR(){const{user:e}=ks(),t=Ie(f=>f.setCollections),n=Ie(f=>f.reset),r=Ie(f=>f.ready),i=E.useRef(!1),o=E.useRef(null),l=E.useRef(null),u=E.useRef(null),c=E.useRef(ju(Ie.getState()));E.useEffect(()=>()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]),E.useEffect(()=>{e||(n(),u.current=null,l.current=null,i.current=!1,c.current=ju(Ie.getState()),o.current&&(window.clearTimeout(o.current),o.current=null))},[e,n]),E.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:v,error:y}=await Lt.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(y&&y.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",y);return}const w=v;if(w!=null&&w.data){const b=xR(w.data??{});i.current=!0,u.current=w.updated_at,c.current=b,t(b)}else if(r){const b=ju(Ie.getState());l.current=null;const{error:S,data:_}=await Lt.from("planner_states").upsert({user_id:e.id,data:{version:O0,...b}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),N=_;S?console.error("No se pudo inicializar el estado remoto",S):N&&(u.current=N.updated_at)}})();const p=Ie.subscribe(v=>{if(!f)return;const y=ju(v);if(i.current){i.current=!1,c.current=y,l.current=null;return}const w=c.current;wR(y,w)&&(c.current=y,l.current=y,o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{if(!l.current)return;const b=l.current;l.current=null,(async()=>{const{error:S,data:_}=await Lt.from("planner_states").upsert({user_id:e.id,data:{version:O0,...b}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),N=_;S?console.error("No se pudo guardar el estado remoto",S):N&&(u.current=N.updated_at)})()},600))});return()=>{f=!1,p(),o.current&&(window.clearTimeout(o.current),o.current=null)}},[e,r,t])}function kR(){const{user:e}=ks(),t=Ie(r=>r.loadWorks),n=Ie(r=>r.setWorks);E.useEffect(()=>{if(!e){n([]);return}const r={actorId:e.id,actorEmail:e.email??""},i=async()=>{try{await t(r)}catch(l){console.error("No se pudieron sincronizar los trabajos colaborativos",l)}};i();const o=Lt.channel("works-collaboration").on("postgres_changes",{event:"*",schema:"public",table:"works"},()=>{i()}).on("postgres_changes",{event:"*",schema:"public",table:"work_collaborators"},()=>{i()}).subscribe();return()=>{Lt.removeChannel(o)}},[e,t,n])}var Fu={exports:{}},SR=Fu.exports,M0;function ER(){return M0||(M0=1,(function(e,t){(function(n,r){e.exports=r(Qb())})(SR,(function(n){function r(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=r(n),o={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(l){return l+""}};return i.default.locale(o,null,!0),o}))})(Fu)),Fu.exports}ER();function Mi({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return g.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[g.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function _R(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const CR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NR={};function D0(e,t){return(NR.jsx?jR:CR).test(e)}const TR=/[ \t\n\f\r]/g;function IR(e){return typeof e=="object"?e.type==="text"?L0(e.value):!1:L0(e)}function L0(e){return e.replace(TR,"")===""}class ol{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ol.prototype.normal={};ol.prototype.property={};ol.prototype.space=void 0;function ik(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ol(n,r,t)}function np(e){return e.toLowerCase()}class On{constructor(t,n){this.attribute=n,this.property=t}}On.prototype.attribute="";On.prototype.booleanish=!1;On.prototype.boolean=!1;On.prototype.commaOrSpaceSeparated=!1;On.prototype.commaSeparated=!1;On.prototype.defined=!1;On.prototype.mustUseProperty=!1;On.prototype.number=!1;On.prototype.overloadedBoolean=!1;On.prototype.property="";On.prototype.spaceSeparated=!1;On.prototype.space=void 0;let PR=0;const Ve=Es(),Rt=Es(),rp=Es(),ge=Es(),pt=Es(),xo=Es(),Bn=Es();function Es(){return 2**++PR}const ip=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ve,booleanish:Rt,commaOrSpaceSeparated:Bn,commaSeparated:xo,number:ge,overloadedBoolean:rp,spaceSeparated:pt},Symbol.toStringTag,{value:"Module"})),Qf=Object.keys(ip);class Gp extends On{constructor(t,n,r,i){let o=-1;if(super(t,n),$0(this,"space",i),typeof r=="number")for(;++o<Qf.length;){const l=Qf[o];$0(this,Qf[o],(r&ip[l])===ip[l])}}}Gp.prototype.defined=!0;function $0(e,t,n){n&&(e[t]=n)}function Ro(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Gp(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[np(r)]=r,n[np(o.attribute)]=r}return new ol(t,n,e.space)}const sk=Ro({properties:{ariaActiveDescendant:null,ariaAtomic:Rt,ariaAutoComplete:null,ariaBusy:Rt,ariaChecked:Rt,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:pt,ariaCurrent:null,ariaDescribedBy:pt,ariaDetails:null,ariaDisabled:Rt,ariaDropEffect:pt,ariaErrorMessage:null,ariaExpanded:Rt,ariaFlowTo:pt,ariaGrabbed:Rt,ariaHasPopup:null,ariaHidden:Rt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pt,ariaLevel:ge,ariaLive:null,ariaModal:Rt,ariaMultiLine:Rt,ariaMultiSelectable:Rt,ariaOrientation:null,ariaOwns:pt,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:Rt,ariaReadOnly:Rt,ariaRelevant:null,ariaRequired:Rt,ariaRoleDescription:pt,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:Rt,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function ok(e,t){return t in e?e[t]:t}function ak(e,t){return ok(e,t.toLowerCase())}const AR=Ro({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xo,acceptCharset:pt,accessKey:pt,action:null,allow:null,allowFullScreen:Ve,allowPaymentRequest:Ve,allowUserMedia:Ve,alt:null,as:null,async:Ve,autoCapitalize:null,autoComplete:pt,autoFocus:Ve,autoPlay:Ve,blocking:pt,capture:null,charSet:null,checked:Ve,cite:null,className:pt,cols:ge,colSpan:null,content:null,contentEditable:Rt,controls:Ve,controlsList:pt,coords:ge|xo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ve,defer:Ve,dir:null,dirName:null,disabled:Ve,download:rp,draggable:Rt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ve,formTarget:null,headers:pt,height:ge,hidden:rp,high:ge,href:null,hrefLang:null,htmlFor:pt,httpEquiv:pt,id:null,imageSizes:null,imageSrcSet:null,inert:Ve,inputMode:null,integrity:null,is:null,isMap:Ve,itemId:null,itemProp:pt,itemRef:pt,itemScope:Ve,itemType:pt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ve,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:Ve,muted:Ve,name:null,nonce:null,noModule:Ve,noValidate:Ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ve,optimum:ge,pattern:null,ping:pt,placeholder:null,playsInline:Ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ve,referrerPolicy:null,rel:pt,required:Ve,reversed:Ve,rows:ge,rowSpan:ge,sandbox:pt,scope:null,scoped:Ve,seamless:Ve,selected:Ve,shadowRootClonable:Ve,shadowRootDelegatesFocus:Ve,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:Rt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:Ve,useMap:null,value:Rt,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pt,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ve,declare:Ve,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:Ve,noHref:Ve,noShade:Ve,noWrap:Ve,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:Rt,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ve,disableRemotePlayback:Ve,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:ak}),RR=Ro({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Bn,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:pt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:Ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xo,g2:xo,glyphName:xo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:Bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bn,rev:Bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bn,requiredFeatures:Bn,requiredFonts:Bn,requiredFormats:Bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:Bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bn,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ok}),lk=Ro({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),uk=Ro({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ak}),ck=Ro({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),OR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},MR=/[A-Z]/g,F0=/-[a-z]/g,DR=/^data[-\w.:]+$/i;function LR(e,t){const n=np(t);let r=t,i=On;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&DR.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(F0,FR);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!F0.test(o)){let l=o.replace(MR,$R);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=Gp}return new i(r,t)}function $R(e){return"-"+e.toLowerCase()}function FR(e){return e.charAt(1).toUpperCase()}const zR=ik([sk,AR,lk,uk,ck],"html"),Jp=ik([sk,RR,lk,uk,ck],"svg");function BR(e){return e.join(" ").trim()}var io={},Xf,z0;function UR(){if(z0)return Xf;z0=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",h="*",p="",v="comment",y="declaration";Xf=function(b,S){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];S=S||{};var _=1,N=1;function j(W){var B=W.match(t);B&&(_+=B.length);var U=W.lastIndexOf(c);N=~U?W.length-U:N+W.length}function O(){var W={line:_,column:N};return function(B){return B.position=new D(W),te(),B}}function D(W){this.start=W,this.end={line:_,column:N},this.source=S.source}D.prototype.content=b;function R(W){var B=new Error(S.source+":"+_+":"+N+": "+W);if(B.reason=W,B.filename=S.source,B.line=_,B.column=N,B.source=b,!S.silent)throw B}function L(W){var B=W.exec(b);if(B){var U=B[0];return j(U),b=b.slice(U.length),B}}function te(){L(n)}function re(W){var B;for(W=W||[];B=A();)B!==!1&&W.push(B);return W}function A(){var W=O();if(!(f!=b.charAt(0)||h!=b.charAt(1))){for(var B=2;p!=b.charAt(B)&&(h!=b.charAt(B)||f!=b.charAt(B+1));)++B;if(B+=2,p===b.charAt(B-1))return R("End of comment missing");var U=b.slice(2,B-2);return N+=2,j(U),b=b.slice(B),N+=2,W({type:v,comment:U})}}function C(){var W=O(),B=L(r);if(B){if(A(),!L(i))return R("property missing ':'");var U=L(o),K=W({type:y,property:w(B[0].replace(e,p)),value:U?w(U[0].replace(e,p)):p});return L(l),K}}function q(){var W=[];re(W);for(var B;B=C();)B!==!1&&(W.push(B),re(W));return W}return te(),q()};function w(b){return b?b.replace(u,p):p}return Xf}var B0;function WR(){if(B0)return io;B0=1;var e=io&&io.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(io,"__esModule",{value:!0}),io.default=n;var t=e(UR());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var l=(0,t.default)(r),u=typeof i=="function";return l.forEach(function(c){if(c.type==="declaration"){var f=c.property,h=c.value;u?i(f,h,c):h&&(o=o||{},o[f]=h)}}),o}return io}var xa={},U0;function HR(){if(U0)return xa;U0=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},c=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,l))};return xa.camelCase=c,xa}var wa,W0;function VR(){if(W0)return wa;W0=1;var e=wa&&wa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(WR()),n=HR();function r(i,o){var l={};return!i||typeof i!="string"||(0,t.default)(i,function(u,c){u&&c&&(l[(0,n.camelCase)(u,o)]=c)}),l}return r.default=r,wa=r,wa}var qR=VR();const YR=jo(qR),dk=fk("end"),Qp=fk("start");function fk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function KR(e){const t=Qp(e),n=dk(e);if(t&&n)return{start:t,end:n}}function Oa(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?H0(e.position):"start"in e||"end"in e?H0(e):"line"in e||"column"in e?sp(e):""}function sp(e){return V0(e&&e.line)+":"+V0(e&&e.column)}function H0(e){return sp(e&&e.start)+"-"+sp(e&&e.end)}function V0(e){return e&&typeof e=="number"?e:1}class fn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Oa(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fn.prototype.file="";fn.prototype.name="";fn.prototype.reason="";fn.prototype.message="";fn.prototype.stack="";fn.prototype.column=void 0;fn.prototype.line=void 0;fn.prototype.ancestors=void 0;fn.prototype.cause=void 0;fn.prototype.fatal=void 0;fn.prototype.place=void 0;fn.prototype.ruleId=void 0;fn.prototype.source=void 0;const Xp={}.hasOwnProperty,GR=new Map,JR=/[A-Z]/g,QR=new Set(["table","tbody","thead","tfoot","tr"]),XR=new Set(["td","th"]),hk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ZR(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=aO(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=oO(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Jp:zR,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=pk(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function pk(e,t,n){if(t.type==="element")return eO(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return tO(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return rO(e,t,n);if(t.type==="mdxjsEsm")return nO(e,t);if(t.type==="root")return iO(e,t,n);if(t.type==="text")return sO(e,t)}function eO(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Jp,e.schema=i),e.ancestors.push(t);const o=gk(e,t.tagName,!1),l=lO(e,t);let u=em(e,t);return QR.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!IR(c):!0})),mk(e,l,o,t),Zp(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function tO(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ya(e,t.position)}function nO(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ya(e,t.position)}function rO(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Jp,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:gk(e,t.name,!0),l=uO(e,t),u=em(e,t);return mk(e,l,o,t),Zp(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function iO(e,t,n){const r={};return Zp(r,em(e,t)),e.create(t,e.Fragment,r,n)}function sO(e,t){return t.value}function mk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Zp(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function oO(e,t,n){return r;function r(i,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function aO(e,t){return n;function n(r,i,o,l){const u=Array.isArray(o.children),c=Qp(r);return t(i,o,l,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function lO(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Xp.call(t.properties,i)){const o=cO(e,i,t.properties[i]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&XR.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function uO(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Ya(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else Ya(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function em(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:GR;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=i.get(c)||0;l=c+"-"+f,i.set(c,f+1)}}const u=pk(e,o,l);u!==void 0&&n.push(u)}return n}function cO(e,t,n){const r=LR(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?_R(n):BR(n)),r.property==="style"){let i=typeof n=="object"?n:dO(e,String(n));return e.stylePropertyNameCase==="css"&&(i=fO(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?OR[r.property]||r.property:r.attribute,n]}}function dO(e,t){try{return YR(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new fn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=hk+"#cannot-parse-style-attribute",i}}function gk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const u=D0(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=D0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Xp.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ya(e)}function Ya(e,t){const n=new fn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=hk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function fO(e){const t={};let n;for(n in e)Xp.call(e,n)&&(t[hO(n)]=e[n]);return t}function hO(e){let t=e.replace(JR,pO);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function pO(e){return"-"+e.toLowerCase()}const Zf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mO={};function tm(e,t){const n=mO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vk(e,r,i)}function vk(e,t,n){if(gO(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return q0(e.children,t,n)}return Array.isArray(e)?q0(e,t,n):""}function q0(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=vk(e[i],t,n);return r.join("")}function gO(e){return!!(e&&typeof e=="object")}const Y0=document.createElement("i");function nm(e){const t="&"+e+";";Y0.innerHTML=t;const n=Y0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Vn(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function nr(e,t){return e.length>0?(Vn(e,e.length,0,t),e):t}const K0={}.hasOwnProperty;function yk(e){const t={};let n=-1;for(;++n<e.length;)vO(t,e[n]);return t}function vO(e,t){let n;for(n in t){const i=(K0.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){K0.call(i,l)||(i[l]=[]);const u=o[l];yO(i[l],Array.isArray(u)?u:u?[u]:[])}}}function yO(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Vn(e,0,0,r)}function xk(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function yr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vn=$i(/[A-Za-z]/),dn=$i(/[\dA-Za-z]/),xO=$i(/[#-'*+\--9=?A-Z^-~]/);function ic(e){return e!==null&&(e<32||e===127)}const op=$i(/\d/),wO=$i(/[\dA-Fa-f]/),bO=$i(/[!-/:-@[-`{-~]/);function $e(e){return e!==null&&e<-2}function ct(e){return e!==null&&(e<0||e===32)}function Ge(e){return e===-2||e===-1||e===32}const Rc=$i(new RegExp("\\p{P}|\\p{S}","u")),gs=$i(/\s/);function $i(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Oo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&dn(e.charCodeAt(n+1))&&dn(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ze(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(c){return Ge(c)?(e.enter(n),u(c)):t(c)}function u(c){return Ge(c)&&o++<i?(e.consume(c),u):(e.exit(n),t(c))}}const kO={tokenize:SO};function SO(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ze(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),o(u)}function o(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return $e(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const EO={tokenize:_O},G0={tokenize:CO};function _O(e){const t=this,n=[];let r=0,i,o,l;return u;function u(j){if(r<n.length){const O=n[r];return t.containerState=O[1],e.attempt(O[0].continuation,c,f)(j)}return f(j)}function c(j){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&N();const O=t.events.length;let D=O,R;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){R=t.events[D][1].end;break}_(r);let L=O;for(;L<t.events.length;)t.events[L][1].end={...R},L++;return Vn(t.events,D+1,0,t.events.slice(O)),t.events.length=L,f(j)}return u(j)}function f(j){if(r===n.length){if(!i)return v(j);if(i.currentConstruct&&i.currentConstruct.concrete)return w(j);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(G0,h,p)(j)}function h(j){return i&&N(),_(r),v(j)}function p(j){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,w(j)}function v(j){return t.containerState={},e.attempt(G0,y,w)(j)}function y(j){return r++,n.push([t.currentConstruct,t.containerState]),v(j)}function w(j){if(j===null){i&&N(),_(0),e.consume(j);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),b(j)}function b(j){if(j===null){S(e.exit("chunkFlow"),!0),_(0),e.consume(j);return}return $e(j)?(e.consume(j),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(j),b)}function S(j,O){const D=t.sliceStream(j);if(O&&D.push(null),j.previous=o,o&&(o.next=j),o=j,i.defineSkip(j.start),i.write(D),t.parser.lazy[j.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<l&&(!i.events[R][1].end||i.events[R][1].end.offset>l))return;const L=t.events.length;let te=L,re,A;for(;te--;)if(t.events[te][0]==="exit"&&t.events[te][1].type==="chunkFlow"){if(re){A=t.events[te][1].end;break}re=!0}for(_(r),R=L;R<t.events.length;)t.events[R][1].end={...A},R++;Vn(t.events,te+1,0,t.events.slice(L)),t.events.length=R}}function _(j){let O=n.length;for(;O-- >j;){const D=n[O];t.containerState=D[1],D[0].exit.call(t,e)}n.length=j}function N(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function CO(e,t,n){return Ze(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Co(e){if(e===null||ct(e)||gs(e))return 1;if(Rc(e))return 2}function Oc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const ap={name:"attention",resolveAll:jO,tokenize:NO};function jO(e,t){let n=-1,r,i,o,l,u,c,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},v={...e[n][1].start};J0(p,-c),J0(v,c),l={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=nr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=nr(f,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=nr(f,Oc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=nr(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=nr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Vn(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function NO(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Co(r);let o;return l;function l(c){return o=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===o)return e.consume(c),u;const f=e.exit("attentionSequence"),h=Co(c),p=!h||h===2&&i||n.includes(c),v=!i||i===2&&h||n.includes(r);return f._open=!!(o===42?p:p&&(i||!v)),f._close=!!(o===42?v:v&&(h||!p)),t(c)}}function J0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const TO={name:"autolink",tokenize:IO};function IO(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(y){return vn(y)?(e.consume(y),l):y===64?n(y):f(y)}function l(y){return y===43||y===45||y===46||dn(y)?(r=1,u(y)):f(y)}function u(y){return y===58?(e.consume(y),r=0,c):(y===43||y===45||y===46||dn(y))&&r++<32?(e.consume(y),u):(r=0,f(y))}function c(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||ic(y)?n(y):(e.consume(y),c)}function f(y){return y===64?(e.consume(y),h):xO(y)?(e.consume(y),f):n(y)}function h(y){return dn(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,h):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):v(y)}function v(y){if((y===45||dn(y))&&r++<63){const w=y===45?v:p;return e.consume(y),w}return n(y)}}const al={partial:!0,tokenize:PO};function PO(e,t,n){return r;function r(o){return Ge(o)?Ze(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||$e(o)?t(o):n(o)}}const wk={continuation:{tokenize:RO},exit:OO,name:"blockQuote",tokenize:AO};function AO(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Ge(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function RO(e,t,n){const r=this;return i;function i(l){return Ge(l)?Ze(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(wk,t,n)(l)}}function OO(e){e.exit("blockQuote")}const bk={name:"characterEscape",tokenize:MO};function MO(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return bO(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const kk={name:"characterReference",tokenize:DO};function DO(e,t,n){const r=this;let i=0,o,l;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=dn,h(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=wO,h):(e.enter("characterReferenceValue"),o=7,l=op,h(p))}function h(p){if(p===59&&i){const v=e.exit("characterReferenceValue");return l===dn&&!nm(r.sliceSerialize(v))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&i++<o?(e.consume(p),h):n(p)}}const Q0={partial:!0,tokenize:$O},X0={concrete:!0,name:"codeFenced",tokenize:LO};function LO(e,t,n){const r=this,i={partial:!0,tokenize:D};let o=0,l=0,u;return c;function c(R){return f(R)}function f(R){const L=r.events[r.events.length-1];return o=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,u=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(R)}function h(R){return R===u?(l++,e.consume(R),h):l<3?n(R):(e.exit("codeFencedFenceSequence"),Ge(R)?Ze(e,p,"whitespace")(R):p(R))}function p(R){return R===null||$e(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(Q0,b,O)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(R))}function v(R){return R===null||$e(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(R)):Ge(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ze(e,y,"whitespace")(R)):R===96&&R===u?n(R):(e.consume(R),v)}function y(R){return R===null||$e(R)?p(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(R))}function w(R){return R===null||$e(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(R)):R===96&&R===u?n(R):(e.consume(R),w)}function b(R){return e.attempt(i,O,S)(R)}function S(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),_}function _(R){return o>0&&Ge(R)?Ze(e,N,"linePrefix",o+1)(R):N(R)}function N(R){return R===null||$e(R)?e.check(Q0,b,O)(R):(e.enter("codeFlowValue"),j(R))}function j(R){return R===null||$e(R)?(e.exit("codeFlowValue"),N(R)):(e.consume(R),j)}function O(R){return e.exit("codeFenced"),t(R)}function D(R,L,te){let re=0;return A;function A(U){return R.enter("lineEnding"),R.consume(U),R.exit("lineEnding"),C}function C(U){return R.enter("codeFencedFence"),Ge(U)?Ze(R,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):q(U)}function q(U){return U===u?(R.enter("codeFencedFenceSequence"),W(U)):te(U)}function W(U){return U===u?(re++,R.consume(U),W):re>=l?(R.exit("codeFencedFenceSequence"),Ge(U)?Ze(R,B,"whitespace")(U):B(U)):te(U)}function B(U){return U===null||$e(U)?(R.exit("codeFencedFence"),L(U)):te(U)}}}function $O(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const eh={name:"codeIndented",tokenize:zO},FO={partial:!0,tokenize:BO};function zO(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),Ze(e,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?c(f):$e(f)?e.attempt(FO,l,c)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||$e(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function c(f){return e.exit("codeIndented"),t(f)}}function BO(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):$e(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):Ze(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):$e(l)?i(l):n(l)}}const UO={name:"codeText",previous:HO,resolve:WO,tokenize:VO};function WO(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function HO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function VO(e,t,n){let r=0,i,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),r++,u):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(o=e.enter("codeTextSequence"),i=0,h(p)):$e(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||$e(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),f)}function h(p){return p===96?(e.consume(p),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",f(p))}}class qO{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ba(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ba(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ba(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ba(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ba(this.left,n.reverse())}}}function ba(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Sk(e){const t={};let n=-1,r,i,o,l,u,c,f;const h=new qO(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,YO(h,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return Vn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function YO(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,c=[],f={};let h,p,v=-1,y=n,w=0,b=0;const S=[b];for(;y;){for(;e.get(++i)[1]!==y;);o.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(b=v+1,S.push(b),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),v=S.length;v--;){const _=u.slice(S[v],S[v+1]),N=o.pop();c.push([N,N+_.length-1]),e.splice(N,2,_)}for(c.reverse(),v=-1;++v<c.length;)f[w+c[v][0]]=w+c[v][1],w+=c[v][1]-c[v][0]-1;return f}const KO={resolve:JO,tokenize:QO},GO={partial:!0,tokenize:XO};function JO(e){return Sk(e),e}function QO(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):$e(u)?e.check(GO,l,o)(u):(e.consume(u),i)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function XO(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ze(e,o,"linePrefix")}function o(l){if(l===null||$e(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Ek(e,t,n,r,i,o,l,u,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(_){return _===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(_),e.exit(o),v):_===null||_===32||_===41||ic(_)?n(_):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),b(_))}function v(_){return _===62?(e.enter(o),e.consume(_),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===62?(e.exit("chunkString"),e.exit(u),v(_)):_===null||_===60||$e(_)?n(_):(e.consume(_),_===92?w:y)}function w(_){return _===60||_===62||_===92?(e.consume(_),y):y(_)}function b(_){return!h&&(_===null||_===41||ct(_))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(_)):h<f&&_===40?(e.consume(_),h++,b):_===41?(e.consume(_),h--,b):_===null||_===32||_===40||ic(_)?n(_):(e.consume(_),_===92?S:b)}function S(_){return _===40||_===41||_===92?(e.consume(_),b):b(_)}}function _k(e,t,n,r,i,o){const l=this;let u=0,c;return f;function f(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(o),h}function h(y){return u>999||y===null||y===91||y===93&&!c||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(e.exit(o),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):$e(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||$e(y)||u++>999?(e.exit("chunkString"),h(y)):(e.consume(y),c||(c=!Ge(y)),y===92?v:p)}function v(y){return y===91||y===92||y===93?(e.consume(y),u++,p):p(y)}}function Ck(e,t,n,r,i,o){let l;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),l=v===40?41:v,c):n(v)}function c(v){return v===l?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(o),f(v))}function f(v){return v===l?(e.exit(o),c(l)):v===null?n(v):$e(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Ze(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===l||v===null||$e(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?p:h)}function p(v){return v===l||v===92?(e.consume(v),h):h(v)}}function Ma(e,t){let n;return r;function r(i){return $e(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ge(i)?Ze(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const ZO={name:"definition",tokenize:tM},eM={partial:!0,tokenize:nM};function tM(e,t,n){const r=this;let i;return o;function o(y){return e.enter("definition"),l(y)}function l(y){return _k.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return i=yr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),c):n(y)}function c(y){return ct(y)?Ma(e,f)(y):f(y)}function f(y){return Ek(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return e.attempt(eM,p,p)(y)}function p(y){return Ge(y)?Ze(e,v,"whitespace")(y):v(y)}function v(y){return y===null||$e(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function nM(e,t,n){return r;function r(u){return ct(u)?Ma(e,i)(u):n(u)}function i(u){return Ck(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Ge(u)?Ze(e,l,"whitespace")(u):l(u)}function l(u){return u===null||$e(u)?t(u):n(u)}}const rM={name:"hardBreakEscape",tokenize:iM};function iM(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return $e(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const sM={name:"headingAtx",resolve:oM,tokenize:aM};function oM(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Vn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function aM(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||ct(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||$e(h)?(e.exit("atxHeading"),t(h)):Ge(h)?Ze(e,u,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||ct(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),f)}}const lM=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Z0=["pre","script","style","textarea"],uM={concrete:!0,name:"htmlFlow",resolveTo:fM,tokenize:hM},cM={partial:!0,tokenize:mM},dM={partial:!0,tokenize:pM};function fM(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function hM(e,t,n){const r=this;let i,o,l,u,c;return f;function f(P){return h(P)}function h(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),p}function p(P){return P===33?(e.consume(P),v):P===47?(e.consume(P),o=!0,b):P===63?(e.consume(P),i=3,r.interrupt?t:I):vn(P)?(e.consume(P),l=String.fromCharCode(P),S):n(P)}function v(P){return P===45?(e.consume(P),i=2,y):P===91?(e.consume(P),i=5,u=0,w):vn(P)?(e.consume(P),i=4,r.interrupt?t:I):n(P)}function y(P){return P===45?(e.consume(P),r.interrupt?t:I):n(P)}function w(P){const oe="CDATA[";return P===oe.charCodeAt(u++)?(e.consume(P),u===oe.length?r.interrupt?t:q:w):n(P)}function b(P){return vn(P)?(e.consume(P),l=String.fromCharCode(P),S):n(P)}function S(P){if(P===null||P===47||P===62||ct(P)){const oe=P===47,me=l.toLowerCase();return!oe&&!o&&Z0.includes(me)?(i=1,r.interrupt?t(P):q(P)):lM.includes(l.toLowerCase())?(i=6,oe?(e.consume(P),_):r.interrupt?t(P):q(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):o?N(P):j(P))}return P===45||dn(P)?(e.consume(P),l+=String.fromCharCode(P),S):n(P)}function _(P){return P===62?(e.consume(P),r.interrupt?t:q):n(P)}function N(P){return Ge(P)?(e.consume(P),N):A(P)}function j(P){return P===47?(e.consume(P),A):P===58||P===95||vn(P)?(e.consume(P),O):Ge(P)?(e.consume(P),j):A(P)}function O(P){return P===45||P===46||P===58||P===95||dn(P)?(e.consume(P),O):D(P)}function D(P){return P===61?(e.consume(P),R):Ge(P)?(e.consume(P),D):j(P)}function R(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),c=P,L):Ge(P)?(e.consume(P),R):te(P)}function L(P){return P===c?(e.consume(P),c=null,re):P===null||$e(P)?n(P):(e.consume(P),L)}function te(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||ct(P)?D(P):(e.consume(P),te)}function re(P){return P===47||P===62||Ge(P)?j(P):n(P)}function A(P){return P===62?(e.consume(P),C):n(P)}function C(P){return P===null||$e(P)?q(P):Ge(P)?(e.consume(P),C):n(P)}function q(P){return P===45&&i===2?(e.consume(P),K):P===60&&i===1?(e.consume(P),X):P===62&&i===4?(e.consume(P),$):P===63&&i===3?(e.consume(P),I):P===93&&i===5?(e.consume(P),J):$e(P)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(cM,z,W)(P)):P===null||$e(P)?(e.exit("htmlFlowData"),W(P)):(e.consume(P),q)}function W(P){return e.check(dM,B,z)(P)}function B(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),U}function U(P){return P===null||$e(P)?W(P):(e.enter("htmlFlowData"),q(P))}function K(P){return P===45?(e.consume(P),I):q(P)}function X(P){return P===47?(e.consume(P),l="",M):q(P)}function M(P){if(P===62){const oe=l.toLowerCase();return Z0.includes(oe)?(e.consume(P),$):q(P)}return vn(P)&&l.length<8?(e.consume(P),l+=String.fromCharCode(P),M):q(P)}function J(P){return P===93?(e.consume(P),I):q(P)}function I(P){return P===62?(e.consume(P),$):P===45&&i===2?(e.consume(P),I):q(P)}function $(P){return P===null||$e(P)?(e.exit("htmlFlowData"),z(P)):(e.consume(P),$)}function z(P){return e.exit("htmlFlow"),t(P)}}function pM(e,t,n){const r=this;return i;function i(l){return $e(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function mM(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(al,t,n)}}const gM={name:"htmlText",tokenize:vM};function vM(e,t,n){const r=this;let i,o,l;return u;function u(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),c}function c(I){return I===33?(e.consume(I),f):I===47?(e.consume(I),D):I===63?(e.consume(I),j):vn(I)?(e.consume(I),te):n(I)}function f(I){return I===45?(e.consume(I),h):I===91?(e.consume(I),o=0,w):vn(I)?(e.consume(I),N):n(I)}function h(I){return I===45?(e.consume(I),y):n(I)}function p(I){return I===null?n(I):I===45?(e.consume(I),v):$e(I)?(l=p,X(I)):(e.consume(I),p)}function v(I){return I===45?(e.consume(I),y):p(I)}function y(I){return I===62?K(I):I===45?v(I):p(I)}function w(I){const $="CDATA[";return I===$.charCodeAt(o++)?(e.consume(I),o===$.length?b:w):n(I)}function b(I){return I===null?n(I):I===93?(e.consume(I),S):$e(I)?(l=b,X(I)):(e.consume(I),b)}function S(I){return I===93?(e.consume(I),_):b(I)}function _(I){return I===62?K(I):I===93?(e.consume(I),_):b(I)}function N(I){return I===null||I===62?K(I):$e(I)?(l=N,X(I)):(e.consume(I),N)}function j(I){return I===null?n(I):I===63?(e.consume(I),O):$e(I)?(l=j,X(I)):(e.consume(I),j)}function O(I){return I===62?K(I):j(I)}function D(I){return vn(I)?(e.consume(I),R):n(I)}function R(I){return I===45||dn(I)?(e.consume(I),R):L(I)}function L(I){return $e(I)?(l=L,X(I)):Ge(I)?(e.consume(I),L):K(I)}function te(I){return I===45||dn(I)?(e.consume(I),te):I===47||I===62||ct(I)?re(I):n(I)}function re(I){return I===47?(e.consume(I),K):I===58||I===95||vn(I)?(e.consume(I),A):$e(I)?(l=re,X(I)):Ge(I)?(e.consume(I),re):K(I)}function A(I){return I===45||I===46||I===58||I===95||dn(I)?(e.consume(I),A):C(I)}function C(I){return I===61?(e.consume(I),q):$e(I)?(l=C,X(I)):Ge(I)?(e.consume(I),C):re(I)}function q(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,W):$e(I)?(l=q,X(I)):Ge(I)?(e.consume(I),q):(e.consume(I),B)}function W(I){return I===i?(e.consume(I),i=void 0,U):I===null?n(I):$e(I)?(l=W,X(I)):(e.consume(I),W)}function B(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||ct(I)?re(I):(e.consume(I),B)}function U(I){return I===47||I===62||ct(I)?re(I):n(I)}function K(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function X(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),M}function M(I){return Ge(I)?Ze(e,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):J(I)}function J(I){return e.enter("htmlTextData"),l(I)}}const rm={name:"labelEnd",resolveAll:bM,resolveTo:kM,tokenize:SM},yM={tokenize:EM},xM={tokenize:_M},wM={tokenize:CM};function bM(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Vn(e,0,e.length,n),e}function kM(e,t){let n=e.length,r=0,i,o,l,u;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",c,t],["enter",f,t]],u=nr(u,e.slice(o+1,o+r+3)),u=nr(u,[["enter",h,t]]),u=nr(u,Oc(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=nr(u,[["exit",h,t],e[l-2],e[l-1],["exit",f,t]]),u=nr(u,e.slice(l+1)),u=nr(u,[["exit",c,t]]),Vn(e,o,e.length,u),e}function SM(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(v){return o?o._inactive?p(v):(l=r.parser.defined.includes(yr(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):n(v)}function c(v){return v===40?e.attempt(yM,h,l?h:p)(v):v===91?e.attempt(xM,h,l?f:p)(v):l?h(v):p(v)}function f(v){return e.attempt(wM,h,p)(v)}function h(v){return t(v)}function p(v){return o._balanced=!0,n(v)}}function EM(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return ct(p)?Ma(e,o)(p):o(p)}function o(p){return p===41?h(p):Ek(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return ct(p)?Ma(e,c)(p):h(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?Ck(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return ct(p)?Ma(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function _M(e,t,n){const r=this;return i;function i(u){return _k.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(yr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function CM(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const jM={name:"labelStartImage",resolveAll:rm.resolveAll,tokenize:NM};function NM(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const TM={name:"labelStartLink",resolveAll:rm.resolveAll,tokenize:IM};function IM(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const th={name:"lineEnding",tokenize:PM};function PM(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ze(e,t,"linePrefix")}}const zu={name:"thematicBreak",tokenize:AM};function AM(e,t,n){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||$e(f))?(e.exit("thematicBreak"),t(f)):n(f)}function c(f){return f===i?(e.consume(f),r++,c):(e.exit("thematicBreakSequence"),Ge(f)?Ze(e,u,"whitespace")(f):u(f))}}const In={continuation:{tokenize:DM},exit:$M,name:"list",tokenize:MM},RM={partial:!0,tokenize:FM},OM={partial:!0,tokenize:LM};function MM(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(y){const w=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:op(y)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(zu,n,f)(y):f(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(y)}return n(y)}function c(y){return op(y)&&++l<10?(e.consume(y),c):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),f(y)):n(y)}function f(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(al,r.interrupt?n:h,e.attempt(RM,v,p))}function h(y){return r.containerState.initialBlankLine=!0,o++,v(y)}function p(y){return Ge(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),v):n(y)}function v(y){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function DM(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(al,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ze(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!Ge(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(OM,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ze(e,e.attempt(In,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function LM(e,t,n){const r=this;return Ze(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function $M(e){e.exit(this.containerState.type)}function FM(e,t,n){const r=this;return Ze(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!Ge(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const ex={name:"setextUnderline",resolveTo:zM,tokenize:BM};function zM(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function BM(e,t,n){const r=this;let i;return o;function o(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Ge(f)?Ze(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||$e(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const UM={tokenize:WM};function WM(e){const t=this,n=e.attempt(al,r,e.attempt(this.parser.constructs.flowInitial,i,Ze(e,e.attempt(this.parser.constructs.flow,i,e.attempt(KO,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const HM={resolveAll:Nk()},VM=jk("string"),qM=jk("text");function jk(e){return{resolveAll:Nk(e==="text"?YM:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,u);return l;function l(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const p=i[h];let v=-1;if(p)for(;++v<p.length;){const y=p[v];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Nk(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function YM(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,u=0,c;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)c=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const KM={42:In,43:In,45:In,48:In,49:In,50:In,51:In,52:In,53:In,54:In,55:In,56:In,57:In,62:wk},GM={91:ZO},JM={[-2]:eh,[-1]:eh,32:eh},QM={35:sM,42:zu,45:[ex,zu],60:uM,61:ex,95:zu,96:X0,126:X0},XM={38:kk,92:bk},ZM={[-5]:th,[-4]:th,[-3]:th,33:jM,38:kk,42:ap,60:[TO,gM],91:TM,92:[rM,bk],93:rm,95:ap,96:UO},e2={null:[ap,HM]},t2={null:[42,95]},n2={null:[]},r2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:t2,contentInitial:GM,disable:n2,document:KM,flow:QM,flowInitial:JM,insideSpan:e2,string:XM,text:ZM},Symbol.toStringTag,{value:"Module"}));function i2(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const c={attempt:L(D),check:L(R),consume:N,enter:j,exit:O,interrupt:L(R,{interrupt:!0})},f={code:null,containerState:{},defineSkip:b,events:[],now:w,parser:e,previous:null,sliceSerialize:v,sliceStream:y,write:p};let h=t.tokenize.call(f,c);return t.resolveAll&&o.push(t),f;function p(C){return l=nr(l,C),S(),l[l.length-1]!==null?[]:(te(t,0),f.events=Oc(o,f.events,f),f.events)}function v(C,q){return o2(y(C),q)}function y(C){return s2(l,C)}function w(){const{_bufferIndex:C,_index:q,line:W,column:B,offset:U}=r;return{_bufferIndex:C,_index:q,line:W,column:B,offset:U}}function b(C){i[C.line]=C.column,A()}function S(){let C;for(;r._index<l.length;){const q=l[r._index];if(typeof q=="string")for(C=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===C&&r._bufferIndex<q.length;)_(q.charCodeAt(r._bufferIndex));else _(q)}}function _(C){h=h(C)}function N(C){$e(C)?(r.line++,r.column=1,r.offset+=C===-3?2:1,A()):C!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=C}function j(C,q){const W=q||{};return W.type=C,W.start=w(),f.events.push(["enter",W,f]),u.push(W),W}function O(C){const q=u.pop();return q.end=w(),f.events.push(["exit",q,f]),q}function D(C,q){te(C,q.from)}function R(C,q){q.restore()}function L(C,q){return W;function W(B,U,K){let X,M,J,I;return Array.isArray(B)?z(B):"tokenize"in B?z([B]):$(B);function $(he){return Se;function Se(ue){const Ee=ue!==null&&he[ue],xe=ue!==null&&he.null,Je=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(xe)?xe:xe?[xe]:[]];return z(Je)(ue)}}function z(he){return X=he,M=0,he.length===0?K:P(he[M])}function P(he){return Se;function Se(ue){return I=re(),J=he,he.partial||(f.currentConstruct=he),he.name&&f.parser.constructs.disable.null.includes(he.name)?me():he.tokenize.call(q?Object.assign(Object.create(f),q):f,c,oe,me)(ue)}}function oe(he){return C(J,I),U}function me(he){return I.restore(),++M<X.length?P(X[M]):K}}}function te(C,q){C.resolveAll&&!o.includes(C)&&o.push(C),C.resolve&&Vn(f.events,q,f.events.length-q,C.resolve(f.events.slice(q),f)),C.resolveTo&&(f.events=C.resolveTo(f.events,f))}function re(){const C=w(),q=f.previous,W=f.currentConstruct,B=f.events.length,U=Array.from(u);return{from:B,restore:K};function K(){r=C,f.previous=q,f.currentConstruct=W,f.events.length=B,u=U,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function s2(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function o2(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function a2(e){const r={constructs:yk([r2,...(e||{}).extensions||[]]),content:i(kO),defined:[],document:i(EO),flow:i(UM),lazy:{},string:i(VM),text:i(qM)};return r;function i(o){return l;function l(u){return i2(r,o,u)}}}function l2(e){for(;!Sk(e););return e}const tx=/[\0\t\n\r]/g;function u2(){let e=1,t="",n=!0,r;return i;function i(o,l,u){const c=[];let f,h,p,v,y;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(tx.lastIndex=p,f=tx.exec(o),v=f&&f.index!==void 0?f.index:o.length,y=o.charCodeAt(v),!f){t=o.slice(p);break}if(y===10&&p===v&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<v&&(c.push(o.slice(p,v)),e+=v-p),y){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}p=v+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const c2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function d2(e){return e.replace(c2,f2)}function f2(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return xk(n.slice(o?2:1),o?16:10)}return nm(n)||e}const Tk={}.hasOwnProperty;function h2(e,t,n){return typeof t!="string"&&(n=t,t=void 0),p2(n)(l2(a2(n).document().write(u2()(e,t,!0))))}function p2(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(se),autolinkProtocol:re,autolinkEmail:re,atxHeading:o(le),blockQuote:o(xe),characterEscape:re,characterReference:re,codeFenced:o(Je),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Je,l),codeText:o(rt,l),codeTextData:re,data:re,codeFlowValue:re,definition:o(Qe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(G),hardBreakEscape:o(ae),hardBreakTrailing:o(ae),htmlFlow:o(be,l),htmlFlowData:re,htmlText:o(be,l),htmlTextData:re,image:o(ve),label:l,link:o(se),listItem:o(qe),listItemValue:v,listOrdered:o(ke,p),listUnordered:o(ke),paragraph:o(Xe),reference:P,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(le),strong:o(_t),thematicBreak:o(ce)},exit:{atxHeading:c(),atxHeadingSequence:D,autolink:c(),autolinkEmail:Ee,autolinkProtocol:ue,blockQuote:c(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:he,characterReference:Se,codeFenced:c(S),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:w,codeFlowValue:A,codeIndented:c(_),codeText:c(U),codeTextData:A,data:A,definition:c(),definitionDestinationString:O,definitionLabelString:N,definitionTitleString:j,emphasis:c(),hardBreakEscape:c(q),hardBreakTrailing:c(q),htmlFlow:c(W),htmlFlowData:A,htmlText:c(B),htmlTextData:A,image:c(X),label:J,labelText:M,lineEnding:C,link:c(K),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:oe,resourceDestinationString:I,resourceTitleString:$,resource:z,setextHeading:c(te),setextHeadingLineSequence:L,setextHeadingText:R,strong:c(),thematicBreak:c()}};Ik(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(H){let ne={type:"root",children:[]};const we={stack:[ne],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:h,data:n},_e=[];let Oe=-1;for(;++Oe<H.length;)if(H[Oe][1].type==="listOrdered"||H[Oe][1].type==="listUnordered")if(H[Oe][0]==="enter")_e.push(Oe);else{const We=_e.pop();Oe=i(H,We,Oe)}for(Oe=-1;++Oe<H.length;){const We=t[H[Oe][0]];Tk.call(We,H[Oe][1].type)&&We[H[Oe][1].type].call(Object.assign({sliceSerialize:H[Oe][2].sliceSerialize},we),H[Oe][1])}if(we.tokenStack.length>0){const We=we.tokenStack[we.tokenStack.length-1];(We[1]||nx).call(we,void 0,We[0])}for(ne.position={start:Ei(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:Ei(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)ne=t.transforms[Oe](ne)||ne;return ne}function i(H,ne,we){let _e=ne-1,Oe=-1,We=!1,yt,dt,Pt,Ye;for(;++_e<=we;){const tt=H[_e];switch(tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tt[0]==="enter"?Oe++:Oe--,Ye=void 0;break}case"lineEndingBlank":{tt[0]==="enter"&&(yt&&!Ye&&!Oe&&!Pt&&(Pt=_e),Ye=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ye=void 0}if(!Oe&&tt[0]==="enter"&&tt[1].type==="listItemPrefix"||Oe===-1&&tt[0]==="exit"&&(tt[1].type==="listUnordered"||tt[1].type==="listOrdered")){if(yt){let Wt=_e;for(dt=void 0;Wt--;){const Ue=H[Wt];if(Ue[1].type==="lineEnding"||Ue[1].type==="lineEndingBlank"){if(Ue[0]==="exit")continue;dt&&(H[dt][1].type="lineEndingBlank",We=!0),Ue[1].type="lineEnding",dt=Wt}else if(!(Ue[1].type==="linePrefix"||Ue[1].type==="blockQuotePrefix"||Ue[1].type==="blockQuotePrefixWhitespace"||Ue[1].type==="blockQuoteMarker"||Ue[1].type==="listItemIndent"))break}Pt&&(!dt||Pt<dt)&&(yt._spread=!0),yt.end=Object.assign({},dt?H[dt][1].start:tt[1].end),H.splice(dt||_e,0,["exit",yt,tt[2]]),_e++,we++}if(tt[1].type==="listItemPrefix"){const Wt={type:"listItem",_spread:!1,start:Object.assign({},tt[1].start),end:void 0};yt=Wt,H.splice(_e,0,["enter",Wt,tt[2]]),_e++,we++,Pt=void 0,Ye=!0}}}return H[ne][1]._spread=We,we}function o(H,ne){return we;function we(_e){u.call(this,H(_e),_e),ne&&ne.call(this,_e)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(H,ne,we){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([ne,we||void 0]),H.position={start:Ei(ne.start),end:void 0}}function c(H){return ne;function ne(we){H&&H.call(this,we),f.call(this,we)}}function f(H,ne){const we=this.stack.pop(),_e=this.tokenStack.pop();if(_e)_e[0].type!==H.type&&(ne?ne.call(this,H,_e[0]):(_e[1]||nx).call(this,H,_e[0]));else throw new Error("Cannot close `"+H.type+"` ("+Oa({start:H.start,end:H.end})+"): its not open");we.position.end=Ei(H.end)}function h(){return tm(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(H){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function y(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=H}function w(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=H}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H.replace(/(\r?\n|\r)$/g,"")}function N(H){const ne=this.resume(),we=this.stack[this.stack.length-1];we.label=ne,we.identifier=yr(this.sliceSerialize(H)).toLowerCase()}function j(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.title=H}function O(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.url=H}function D(H){const ne=this.stack[this.stack.length-1];if(!ne.depth){const we=this.sliceSerialize(H).length;ne.depth=we}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function L(H){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function te(){this.data.setextHeadingSlurpLineEnding=void 0}function re(H){const we=this.stack[this.stack.length-1].children;let _e=we[we.length-1];(!_e||_e.type!=="text")&&(_e=Q(),_e.position={start:Ei(H.start),end:void 0},we.push(_e)),this.stack.push(_e)}function A(H){const ne=this.stack.pop();ne.value+=this.sliceSerialize(H),ne.position.end=Ei(H.end)}function C(H){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=ne.children[ne.children.length-1];we.position.end=Ei(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ne.type)&&(re.call(this,H),A.call(this,H))}function q(){this.data.atHardBreak=!0}function W(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H}function B(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H}function U(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H}function K(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=ne,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function X(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=ne,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function M(H){const ne=this.sliceSerialize(H),we=this.stack[this.stack.length-2];we.label=d2(ne),we.identifier=yr(ne).toLowerCase()}function J(){const H=this.stack[this.stack.length-1],ne=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const _e=H.children;we.children=_e}else we.alt=ne}function I(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.url=H}function $(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.title=H}function z(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function oe(H){const ne=this.resume(),we=this.stack[this.stack.length-1];we.label=ne,we.identifier=yr(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function me(H){this.data.characterReferenceType=H.type}function he(H){const ne=this.sliceSerialize(H),we=this.data.characterReferenceType;let _e;we?(_e=xk(ne,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_e=nm(ne);const Oe=this.stack[this.stack.length-1];Oe.value+=_e}function Se(H){const ne=this.stack.pop();ne.position.end=Ei(H.end)}function ue(H){A.call(this,H);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(H)}function Ee(H){A.call(this,H);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(H)}function xe(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function rt(){return{type:"inlineCode",value:""}}function Qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function G(){return{type:"emphasis",children:[]}}function le(){return{type:"heading",depth:0,children:[]}}function ae(){return{type:"break"}}function be(){return{type:"html",value:""}}function ve(){return{type:"image",title:null,url:"",alt:null}}function se(){return{type:"link",title:null,url:"",children:[]}}function ke(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function qe(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function Xe(){return{type:"paragraph",children:[]}}function _t(){return{type:"strong",children:[]}}function Q(){return{type:"text",value:""}}function ce(){return{type:"thematicBreak"}}}function Ei(e){return{line:e.line,column:e.column,offset:e.offset}}function Ik(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Ik(e,r):m2(e,r)}}function m2(e,t){let n;for(n in t)if(Tk.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function nx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Oa({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Oa({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Oa({start:t.start,end:t.end})+") is still open")}function g2(e){const t=this;t.parser=n;function n(r){return h2(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function v2(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function y2(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function x2(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function w2(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function b2(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function k2(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Oo(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,f),e.applyData(t,f)}function S2(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function E2(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Pk(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function _2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Pk(e,t);const i={src:Oo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function C2(e,t){const n={src:Oo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function j2(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function N2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Pk(e,t);const i={href:Oo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function T2(e,t){const n={href:Oo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function I2(e,t,n){const r=e.all(t),i=n?P2(n):Ak(t),o={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?l.push(...h.children):l.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function P2(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ak(n[r])}return t}function Ak(e){const t=e.spread;return t??e.children.length>1}function A2(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function R2(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function O2(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function M2(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function D2(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=Qp(t.children[1]),c=dk(t.children[t.children.length-1]);u&&c&&(l.position={start:u,end:c}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function L2(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let c=-1;const f=[];for(;++c<u;){const p=t.children[c],v={},y=l?l[c]:void 0;y&&(v.align=y);let w={type:"element",tagName:o,properties:v,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),f.push(w)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function $2(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const rx=9,ix=32;function F2(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(sx(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(sx(t.slice(i),i>0,!1)),o.join("")}function sx(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===rx||o===ix;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===rx||o===ix;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function z2(e,t){const n={type:"text",value:F2(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function B2(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const U2={blockquote:v2,break:y2,code:x2,delete:w2,emphasis:b2,footnoteReference:k2,heading:S2,html:E2,imageReference:_2,image:C2,inlineCode:j2,linkReference:N2,link:T2,listItem:I2,list:A2,paragraph:R2,root:O2,strong:M2,table:D2,tableCell:$2,tableRow:L2,text:z2,thematicBreak:B2,toml:Nu,yaml:Nu,definition:Nu,footnoteDefinition:Nu};function Nu(){}const Rk=-1,Mc=0,Da=1,sc=2,im=3,sm=4,om=5,am=6,Ok=7,Mk=8,ox=typeof self=="object"?self:globalThis,W2=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case Mc:case Rk:return n(l,i);case Da:{const u=n([],i);for(const c of l)u.push(r(c));return u}case sc:{const u=n({},i);for(const[c,f]of l)u[r(c)]=r(f);return u}case im:return n(new Date(l),i);case sm:{const{source:u,flags:c}=l;return n(new RegExp(u,c),i)}case om:{const u=n(new Map,i);for(const[c,f]of l)u.set(r(c),r(f));return u}case am:{const u=n(new Set,i);for(const c of l)u.add(r(c));return u}case Ok:{const{name:u,message:c}=l;return n(new ox[u](c),i)}case Mk:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new ox[o](l),i)};return r},ax=e=>W2(new Map,e)(0),so="",{toString:H2}={},{keys:V2}=Object,ka=e=>{const t=typeof e;if(t!=="object"||!e)return[Mc,t];const n=H2.call(e).slice(8,-1);switch(n){case"Array":return[Da,so];case"Object":return[sc,so];case"Date":return[im,so];case"RegExp":return[sm,so];case"Map":return[om,so];case"Set":return[am,so];case"DataView":return[Da,n]}return n.includes("Array")?[Da,n]:n.includes("Error")?[Ok,n]:[sc,n]},Tu=([e,t])=>e===Mc&&(t==="function"||t==="symbol"),q2=(e,t,n,r)=>{const i=(l,u)=>{const c=r.push(l)-1;return n.set(u,c),c},o=l=>{if(n.has(l))return n.get(l);let[u,c]=ka(l);switch(u){case Mc:{let h=l;switch(c){case"bigint":u=Mk,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([Rk],l)}return i([u,h],l)}case Da:{if(c){let v=l;return c==="DataView"?v=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(l)),i([c,[...v]],l)}const h=[],p=i([u,h],l);for(const v of l)h.push(o(v));return p}case sc:{if(c)switch(c){case"BigInt":return i([c,l.toString()],l);case"Boolean":case"Number":case"String":return i([c,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const h=[],p=i([u,h],l);for(const v of V2(l))(e||!Tu(ka(l[v])))&&h.push([o(v),o(l[v])]);return p}case im:return i([u,l.toISOString()],l);case sm:{const{source:h,flags:p}=l;return i([u,{source:h,flags:p}],l)}case om:{const h=[],p=i([u,h],l);for(const[v,y]of l)(e||!(Tu(ka(v))||Tu(ka(y))))&&h.push([o(v),o(y)]);return p}case am:{const h=[],p=i([u,h],l);for(const v of l)(e||!Tu(ka(v)))&&h.push(o(v));return p}}const{message:f}=l;return i([u,{name:c,message:f}],l)};return o},lx=(e,{json:t,lossy:n}={})=>{const r=[];return q2(!(t||n),!!t,new Map,r)(e),r},oc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ax(lx(e,t)):structuredClone(e):(e,t)=>ax(lx(e,t));function Y2(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function K2(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function G2(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Y2,r=e.options.footnoteBackLabel||K2,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const h=e.all(f),p=String(f.identifier).toUpperCase(),v=Oo(p.toLowerCase());let y=0;const w=[],b=e.footnoteCounts.get(p);for(;b!==void 0&&++y<=b;){w.length>0&&w.push({type:"text",value:" "});let N=typeof n=="string"?n:n(c,y);typeof N=="string"&&(N={type:"text",value:N}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,y),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const S=h[h.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const N=S.children[S.children.length-1];N&&N.type==="text"?N.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...w)}else h.push(...w);const _={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(h,!0)};e.patch(f,_),u.push(_)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...oc(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Dc=(function(e){if(e==null)return Z2;if(typeof e=="function")return Lc(e);if(typeof e=="object")return Array.isArray(e)?J2(e):Q2(e);if(typeof e=="string")return X2(e);throw new Error("Expected function, string, or object as test")});function J2(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Dc(e[n]);return Lc(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Q2(e){const t=e;return Lc(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function X2(e){return Lc(t);function t(n){return n&&n.type===e}}function Lc(e){return t;function t(n,r,i){return!!(eD(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Z2(){return!0}function eD(e){return e!==null&&typeof e=="object"&&"type"in e}const Dk=[],tD=!0,lp=!1,nD="skip";function Lk(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Dc(i),l=r?-1:1;u(e,void 0,[])();function u(c,f,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=Dk,w,b,S;if((!t||o(c,f,h[h.length-1]||void 0))&&(y=rD(n(c,h)),y[0]===lp))return y;if("children"in c&&c.children){const _=c;if(_.children&&y[0]!==nD)for(b=(r?_.children.length:-1)+l,S=h.concat(_);b>-1&&b<_.children.length;){const N=_.children[b];if(w=u(N,b,S)(),w[0]===lp)return w;b=typeof w[1]=="number"?w[1]:b+l}}return y}}}function rD(e){return Array.isArray(e)?e:typeof e=="number"?[tD,e]:e==null?Dk:[e]}function $c(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),Lk(e,o,u,i);function u(c,f){const h=f[f.length-1],p=h?h.children.indexOf(c):void 0;return l(c,p,h)}}const up={}.hasOwnProperty,iD={};function sD(e,t){const n=t||iD,r=new Map,i=new Map,o=new Map,l={...U2,...n.handlers},u={all:f,applyData:aD,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:c,options:n,patch:oD,wrap:uD};return $c(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,v=String(h.identifier).toUpperCase();p.has(v)||p.set(v,h)}}),u;function c(h,p){const v=h.type,y=u.handlers[v];if(up.call(u.handlers,v)&&y)return y(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in h){const{children:b,...S}=h,_=oc(S);return _.children=u.all(h),_}return oc(h)}return(u.options.unknownHandler||lD)(u,h,p)}function f(h){const p=[];if("children"in h){const v=h.children;let y=-1;for(;++y<v.length;){const w=u.one(v[y],h);if(w){if(y&&v[y-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=ux(w.value)),!Array.isArray(w)&&w.type==="element")){const b=w.children[0];b&&b.type==="text"&&(b.value=ux(b.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function oD(e,t){e.position&&(t.position=KR(e))}function aD(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,oc(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function lD(e,t){const n=t.data||{},r="value"in t&&!(up.call(n,"hProperties")||up.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function uD(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ux(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function cx(e,t){const n=sD(e,t),r=n.one(e,void 0),i=G2(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function cD(e,t){return e&&"run"in e?async function(n,r){const i=cx(n,{file:r,...t});await e.run(i,r)}:function(n,r){return cx(n,{file:r,...e||t})}}function dx(e){if(e)throw e}var nh,fx;function dD(){if(fx)return nh;fx=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},l=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return nh=function c(){var f,h,p,v,y,w,b=arguments[0],S=1,_=arguments.length,N=!1;for(typeof b=="boolean"&&(N=b,b=arguments[1]||{},S=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});S<_;++S)if(f=arguments[S],f!=null)for(h in f)p=u(b,h),v=u(f,h),b!==v&&(N&&v&&(o(v)||(y=i(v)))?(y?(y=!1,w=p&&i(p)?p:[]):w=p&&o(p)?p:{},l(b,{name:h,newValue:c(N,w,v)})):typeof v<"u"&&l(b,{name:h,newValue:v}));return b},nh}var fD=dD();const rh=jo(fD);function cp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hD(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(c,...f){const h=e[++o];let p=-1;if(c){l(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?pD(h,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function pD(e,t){let n;return r;function r(...l){const u=e.length>l.length;let c;u&&l.push(i);try{c=e.apply(this,l)}catch(f){const h=f;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(l,...u){n||(n=!0,t(l,...u))}function o(l){i(null,l)}}const Ir={basename:mD,dirname:gD,extname:vD,join:yD,sep:"/"};function mD(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ll(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function gD(e){if(ll(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function vD(e){ll(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function yD(...e){let t=-1,n;for(;++t<e.length;)ll(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":xD(n)}function xD(e){ll(e);const t=e.codePointAt(0)===47;let n=wD(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function wD(e,t){let n="",r=0,i=-1,o=0,l=-1,u,c;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function ll(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bD={cwd:kD};function kD(){return"/"}function dp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function SD(e){if(typeof e=="string")e=new URL(e);else if(!dp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return ED(e)}function ED(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ih=["history","path","basename","stem","extname","dirname"];class $k{constructor(t){let n;t?dp(t)?n={path:t}:typeof t=="string"||_D(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":bD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ih.length;){const o=ih[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)ih.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ir.basename(this.path):void 0}set basename(t){oh(t,"basename"),sh(t,"basename"),this.path=Ir.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ir.dirname(this.path):void 0}set dirname(t){hx(this.basename,"dirname"),this.path=Ir.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ir.extname(this.path):void 0}set extname(t){if(sh(t,"extname"),hx(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ir.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){dp(t)&&(t=SD(t)),oh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ir.basename(this.path,this.extname):void 0}set stem(t){oh(t,"stem"),sh(t,"stem"),this.path=Ir.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new fn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function sh(e,t){if(e&&e.includes(Ir.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ir.sep+"`")}function oh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function hx(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function _D(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CD=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),jD={}.hasOwnProperty;class lm extends CD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=hD()}copy(){const t=new lm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(rh(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(uh("data",this.frozen),this.namespace[t]=n,this):jD.call(this.namespace,t)&&this.namespace[t]||void 0:t?(uh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Iu(t),r=this.parser||this.Parser;return ah("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ah("process",this.parser||this.Parser),lh("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=Iu(t),c=r.parse(u);r.run(c,u,function(h,p,v){if(h||!p||!v)return f(h);const y=p,w=r.stringify(y,v);ID(w)?v.value=w:v.result=w,f(h,v)});function f(h,p){h||!p?l(h):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),ah("processSync",this.parser||this.Parser),lh("processSync",this.compiler||this.Compiler),this.process(t,i),mx("processSync","process",n),r;function i(o,l){n=!0,dx(o),r=l}}run(t,n,r){px(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const c=Iu(n);i.run(t,c,f);function f(h,p,v){const y=p||t;h?u(h):l?l(y):r(void 0,y,v)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),mx("runSync","run",r),i;function o(l,u){dx(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=Iu(n),i=this.compiler||this.Compiler;return lh("stringify",i),px(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(uh("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;c(h,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=rh(!0,i.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let p=-1,v=-1;for(;++p<r.length;)if(r[p][0]===f){v=p;break}if(v===-1)r.push([f,...h]);else if(h.length>0){let[y,...w]=h;const b=r[v][1];cp(b)&&cp(y)&&(y=rh(!0,b,y)),r[v]=[f,y,...w]}}}}const ND=new lm().freeze();function ah(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function lh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function uh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function px(e){if(!cp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function mx(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Iu(e){return TD(e)?e:new $k(e)}function TD(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ID(e){return typeof e=="string"||PD(e)}function PD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const AD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gx=[],vx={allowDangerousHtml:!0},RD=/^(https?|ircs?|mailto|xmpp)$/i,OD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function MD(e){const t=DD(e),n=LD(e);return $D(t.runSync(t.parse(n),n),e)}function DD(e){const t=e.rehypePlugins||gx,n=e.remarkPlugins||gx,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...vx}:vx;return ND().use(g2).use(n).use(cD,r).use(t)}function LD(e){const t=e.children||"",n=new $k;return typeof t=="string"&&(n.value=t),n}function $D(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||FD;for(const h of OD)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+AD+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),$c(e,f),ZR(e,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function f(h,p,v){if(h.type==="raw"&&v&&typeof p=="number")return l?v.children.splice(p,1):v.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let y;for(y in Zf)if(Object.hasOwn(Zf,y)&&Object.hasOwn(h.properties,y)){const w=h.properties[y],b=Zf[y];(b===null||b.includes(h.tagName))&&(h.properties[y]=c(String(w||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(h,p,v)),y&&v&&typeof p=="number")return u&&h.children?v.children.splice(p,1,...h.children):v.children.splice(p,1),p}}}function FD(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||RD.test(e.slice(0,t))?e:""}function yx(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function zD(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function BD(e,t,n){const i=Dc((n||{}).ignore||[]),o=UD(t);let l=-1;for(;++l<o.length;)Lk(e,"text",u);function u(f,h){let p=-1,v;for(;++p<h.length;){const y=h[p],w=v?v.children:void 0;if(i(y,w?w.indexOf(y):void 0,v))return;v=y}if(v)return c(f,h)}function c(f,h){const p=h[h.length-1],v=o[l][0],y=o[l][1];let w=0;const S=p.children.indexOf(f);let _=!1,N=[];v.lastIndex=0;let j=v.exec(f.value);for(;j;){const O=j.index,D={index:j.index,input:j.input,stack:[...h,f]};let R=y(...j,D);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?v.lastIndex=O+1:(w!==O&&N.push({type:"text",value:f.value.slice(w,O)}),Array.isArray(R)?N.push(...R):R&&N.push(R),w=O+j[0].length,_=!0),!v.global)break;j=v.exec(f.value)}return _?(w<f.value.length&&N.push({type:"text",value:f.value.slice(w)}),p.children.splice(S,1,...N)):N=[f],S+N.length}}function UD(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([WD(i[0]),HD(i[1])])}return t}function WD(e){return typeof e=="string"?new RegExp(zD(e),"g"):e}function HD(e){return typeof e=="function"?e:function(){return e}}const ch="phrasing",dh=["autolink","link","image","label"];function VD(){return{transforms:[XD],enter:{literalAutolink:YD,literalAutolinkEmail:fh,literalAutolinkHttp:fh,literalAutolinkWww:fh},exit:{literalAutolink:QD,literalAutolinkEmail:JD,literalAutolinkHttp:KD,literalAutolinkWww:GD}}}function qD(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ch,notInConstruct:dh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ch,notInConstruct:dh},{character:":",before:"[ps]",after:"\\/",inConstruct:ch,notInConstruct:dh}]}}function YD(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function fh(e){this.config.enter.autolinkProtocol.call(this,e)}function KD(e){this.config.exit.autolinkProtocol.call(this,e)}function GD(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function JD(e){this.config.exit.autolinkEmail.call(this,e)}function QD(e){this.exit(e)}function XD(e){BD(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ZD],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),eL]],{ignore:["link","linkReference"]})}function ZD(e,t,n,r,i){let o="";if(!Fk(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!tL(n)))return!1;const l=nL(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function eL(e,t,n,r){return!Fk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function tL(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function nL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=yx(e,"(");let o=yx(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function Fk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||gs(n)||Rc(n))&&(!t||n!==47)}zk.peek=dL;function rL(){this.buffer()}function iL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function sL(){this.buffer()}function oL(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function aL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function lL(e){this.exit(e)}function uL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function cL(e){this.exit(e)}function dL(){return"["}function zk(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),l(),o+=i.move("]"),o}function fL(){return{enter:{gfmFootnoteCallString:rL,gfmFootnoteCall:iL,gfmFootnoteDefinitionLabelString:sL,gfmFootnoteDefinition:oL},exit:{gfmFootnoteCallString:aL,gfmFootnoteCall:lL,gfmFootnoteDefinitionLabelString:uL,gfmFootnoteDefinition:cL}}}function hL(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:zk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const u=o.createTracker(l);let c=u.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return c+=u.move(o.safe(o.associationId(r),{before:c,after:"]"})),h(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?Bk:pL))),f(),c}}function pL(e,t,n){return t===0?e:Bk(e,t,n)}function Bk(e,t,n){return(n?"":"    ")+e}const mL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Uk.peek=wL;function gL(){return{canContainEols:["delete"],enter:{strikethrough:yL},exit:{strikethrough:xL}}}function vL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:mL}],handlers:{delete:Uk}}}function yL(e){this.enter({type:"delete",children:[]},e)}function xL(e){this.exit(e)}function Uk(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function wL(){return"~"}function bL(e){return e.length}function kL(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||bL,o=[],l=[],u=[],c=[];let f=0,h=-1;for(;++h<e.length;){const b=[],S=[];let _=-1;for(e[h].length>f&&(f=e[h].length);++_<e[h].length;){const N=SL(e[h][_]);if(n.alignDelimiters!==!1){const j=i(N);S[_]=j,(c[_]===void 0||j>c[_])&&(c[_]=j)}b.push(N)}l[h]=b,u[h]=S}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)o[p]=xx(r[p]);else{const b=xx(r);for(;++p<f;)o[p]=b}p=-1;const v=[],y=[];for(;++p<f;){const b=o[p];let S="",_="";b===99?(S=":",_=":"):b===108?S=":":b===114&&(_=":");let N=n.alignDelimiters===!1?1:Math.max(1,c[p]-S.length-_.length);const j=S+"-".repeat(N)+_;n.alignDelimiters!==!1&&(N=S.length+N+_.length,N>c[p]&&(c[p]=N),y[p]=N),v[p]=j}l.splice(1,0,v),u.splice(1,0,y),h=-1;const w=[];for(;++h<l.length;){const b=l[h],S=u[h];p=-1;const _=[];for(;++p<f;){const N=b[p]||"";let j="",O="";if(n.alignDelimiters!==!1){const D=c[p]-(S[p]||0),R=o[p];R===114?j=" ".repeat(D):R===99?D%2?(j=" ".repeat(D/2+.5),O=" ".repeat(D/2-.5)):(j=" ".repeat(D/2),O=j):O=" ".repeat(D)}n.delimiterStart!==!1&&!p&&_.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||p)&&_.push(" "),n.alignDelimiters!==!1&&_.push(j),_.push(N),n.alignDelimiters!==!1&&_.push(O),n.padding!==!1&&_.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&_.push("|")}w.push(n.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return w.join(`
`)}function SL(e){return e==null?"":String(e)}function xx(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function EL(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),_L);return i(),l}function _L(e,t,n){return">"+(n?"":" ")+e}function CL(e,t){return wx(e,t.inConstruct,!0)&&!wx(e,t.notInConstruct,!1)}function wx(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function bx(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&CL(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function jL(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+t.length,r=n.indexOf(t,i);return l}function NL(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function TL(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function IL(e,t,n,r){const i=TL(n),o=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(NL(e,n)){const p=n.enter("codeIndented"),v=n.indentLines(o,PL);return p(),v}const u=n.createTracker(r),c=i.repeat(Math.max(jL(o,i)+1,3)),f=n.enter("codeFenced");let h=u.move(c);if(e.lang){const p=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...u.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...u.current()})),p()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(c),f(),h}function PL(e,t,n){return(n?"":"    ")+e}function um(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function AL(e,t,n,r){const i=um(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("[");return f+=c.move(n.safe(n.associationId(e),{before:f,after:"]",...c.current()})),f+=c.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),l(),f}function RL(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ka(e){return"&#x"+e.toString(16).toUpperCase()+";"}function ac(e,t,n){const r=Co(e),i=Co(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Wk.peek=OL;function Wk(e,t,n,r){const i=RL(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=ac(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ka(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=ac(r.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ka(p));const y=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+y}function OL(e,t,n){return n.options.emphasis||"*"}function ML(e,t){let n=!1;return $c(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,lp}),!!((!e.depth||e.depth<3)&&tm(e)&&(t.options.setext||n))}function DL(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(ML(e,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),v=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),h(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const l="#".repeat(i),u=n.enter("headingAtx"),c=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Ka(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),c(),u(),f}Hk.peek=LL;function Hk(e){return e.value||""}function LL(){return"<"}Vk.peek=$L;function Vk(e,t,n,r){const i=um(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("![");return f+=c.move(n.safe(e.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":")",...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),f+=c.move(")"),l(),f}function $L(){return"!"}qk.peek=FL;function qk(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const f=n.safe(e.alt,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function FL(){return"!"}Yk.peek=zL;function Yk(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],u=n.compilePattern(l);let c;if(l.atBreak)for(;c=u.exec(r);){let f=c.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(c.index+1)}}return i+r+i}function zL(){return"`"}function Kk(e,t){const n=tm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Gk.peek=BL;function Gk(e,t,n,r){const i=um(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,c;if(Kk(e,n)){const h=n.stack;n.stack=[],u=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),u(),n.stack=h,p}u=n.enter("link"),c=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(c=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),c(),e.title&&(c=n.enter(`title${o}`),f+=l.move(" "+i),f+=l.move(n.safe(e.title,{before:f,after:i,...l.current()})),f+=l.move(i),c()),f+=l.move(")"),u(),f}function BL(e,t,n){return Kk(e,n)?"<":"["}Jk.peek=UL;function Jk(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const f=n.containerPhrasing(e,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function UL(){return"["}function cm(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function WL(e){const t=cm(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function HL(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Qk(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function VL(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?HL(n):cm(n);const u=e.ordered?l==="."?")":".":WL(n);let c=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Qk(n)===l&&h){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=u),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),f}function qL(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function YL(e,t,n,r){const i=qL(n);let o=n.bulletCurrent||cm(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);const c=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),h);return c(),f;function h(p,v,y){return v?(y?"":" ".repeat(l))+p:(y?o:o+" ".repeat(l-o.length))+p}}function KL(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),i(),l}const GL=Dc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function JL(e,t,n,r){return(e.children.some(function(l){return GL(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function QL(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Xk.peek=XL;function Xk(e,t,n,r){const i=QL(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=ac(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ka(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=ac(r.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ka(p));const y=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+y}function XL(e,t,n){return n.options.strong||"*"}function ZL(e,t,n,r){return n.safe(e.value,r)}function e$(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function t$(e,t,n){const r=(Qk(n)+(n.options.ruleSpaces?" ":"")).repeat(e$(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Zk={blockquote:EL,break:bx,code:IL,definition:AL,emphasis:Wk,hardBreak:bx,heading:DL,html:Hk,image:Vk,imageReference:qk,inlineCode:Yk,link:Gk,linkReference:Jk,list:VL,listItem:YL,paragraph:KL,root:JL,strong:Xk,text:ZL,thematicBreak:t$};function n$(){return{enter:{table:r$,tableData:kx,tableHeader:kx,tableRow:s$},exit:{codeText:o$,table:i$,tableData:hh,tableHeader:hh,tableRow:hh}}}function r$(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function i$(e){this.exit(e),this.data.inTable=void 0}function s$(e){this.enter({type:"tableRow",children:[]},e)}function hh(e){this.exit(e)}function kx(e){this.enter({type:"tableCell",children:[]},e)}function o$(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,a$));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function a$(e,t){return t==="|"?t:e}function l$(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:l,tableCell:c,tableRow:u}};function l(y,w,b,S){return f(h(y,b,S),y.align)}function u(y,w,b,S){const _=p(y,b,S),N=f([_]);return N.slice(0,N.indexOf(`
`))}function c(y,w,b,S){const _=b.enter("tableCell"),N=b.enter("phrasing"),j=b.containerPhrasing(y,{...S,before:o,after:o});return N(),_(),j}function f(y,w){return kL(y,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function h(y,w,b){const S=y.children;let _=-1;const N=[],j=w.enter("table");for(;++_<S.length;)N[_]=p(S[_],w,b);return j(),N}function p(y,w,b){const S=y.children;let _=-1;const N=[],j=w.enter("tableRow");for(;++_<S.length;)N[_]=c(S[_],y,w,b);return j(),N}function v(y,w,b){let S=Zk.inlineCode(y,w,b);return b.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function u$(){return{exit:{taskListCheckValueChecked:Sx,taskListCheckValueUnchecked:Sx,paragraph:d$}}}function c$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:f$}}}function Sx(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function d$(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,l;for(;++o<i.length;){const u=i[o];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function f$(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(l);let c=Zk.listItem(e,t,n,{...r,...u.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(h){return h+l}}function h$(){return[VD(),fL(),gL(),n$(),u$()]}function p$(e){return{extensions:[qD(),hL(e),vL(),l$(e),c$()]}}const m$={tokenize:b$,partial:!0},e1={tokenize:k$,partial:!0},t1={tokenize:S$,partial:!0},n1={tokenize:E$,partial:!0},g$={tokenize:_$,partial:!0},r1={name:"wwwAutolink",tokenize:x$,previous:s1},i1={name:"protocolAutolink",tokenize:w$,previous:o1},ri={name:"emailAutolink",tokenize:y$,previous:a1},Fr={};function v$(){return{text:Fr}}let ns=48;for(;ns<123;)Fr[ns]=ri,ns++,ns===58?ns=65:ns===91&&(ns=97);Fr[43]=ri;Fr[45]=ri;Fr[46]=ri;Fr[95]=ri;Fr[72]=[ri,i1];Fr[104]=[ri,i1];Fr[87]=[ri,r1];Fr[119]=[ri,r1];function y$(e,t,n){const r=this;let i,o;return l;function l(p){return!fp(p)||!a1.call(r,r.previous)||dm(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(p))}function u(p){return fp(p)?(e.consume(p),u):p===64?(e.consume(p),c):n(p)}function c(p){return p===46?e.check(g$,h,f)(p):p===45||p===95||dn(p)?(o=!0,e.consume(p),c):h(p)}function f(p){return e.consume(p),i=!0,c}function h(p){return o&&i&&vn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function x$(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!s1.call(r,r.previous)||dm(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(m$,e.attempt(e1,e.attempt(t1,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function w$(e,t,n){const r=this;let i="",o=!1;return l;function l(p){return(p===72||p===104)&&o1.call(r,r.previous)&&!dm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),u):n(p)}function u(p){if(vn(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),u;if(p===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(p),c}return n(p)}function c(p){return p===47?(e.consume(p),o?f:(o=!0,c)):n(p)}function f(p){return p===null||ic(p)||ct(p)||gs(p)||Rc(p)?n(p):e.attempt(e1,e.attempt(t1,h),n)(p)}function h(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function b$(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function k$(e,t,n){let r,i,o;return l;function l(f){return f===46||f===95?e.check(n1,c,u)(f):f===null||ct(f)||gs(f)||f!==45&&Rc(f)?c(f):(o=!0,e.consume(f),l)}function u(f){return f===95?r=!0:(i=r,r=void 0),e.consume(f),l}function c(f){return i||r||!o?n(f):t(f)}}function S$(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(n1,t,o)(l):l===null||ct(l)||gs(l)?t(l):(e.consume(l),i)}function o(l){return l===41&&r++,e.consume(l),i}}function E$(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),i):u===60||u===null||ct(u)||gs(u)?t(u):n(u)}function i(u){return u===null||u===40||u===91||ct(u)||gs(u)?t(u):r(u)}function o(u){return vn(u)?l(u):n(u)}function l(u){return u===59?(e.consume(u),r):vn(u)?(e.consume(u),l):n(u)}}function _$(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return dn(o)?n(o):t(o)}}function s1(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ct(e)}function o1(e){return!vn(e)}function a1(e){return!(e===47||fp(e))}function fp(e){return e===43||e===45||e===46||e===95||dn(e)}function dm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const C$={tokenize:O$,partial:!0};function j$(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:P$,continuation:{tokenize:A$},exit:R$}},text:{91:{name:"gfmFootnoteCall",tokenize:I$},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:N$,resolveTo:T$}}}}function N$(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!l||!l._balanced)return n(c);const f=yr(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function T$(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function I$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return u;function u(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(o>999||p===93&&!l||p===null||p===91||ct(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(yr(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return ct(p)||(l=!0),o++,e.consume(p),p===92?h:f}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function P$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,u;return c;function c(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(w)}function h(w){if(l>999||w===93&&!u||w===null||w===91||ct(w))return n(w);if(w===93){e.exit("chunkString");const b=e.exit("gfmFootnoteDefinitionLabelString");return o=yr(r.sliceSerialize(b)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return ct(w)||(u=!0),l++,e.consume(w),w===92?p:h}function p(w){return w===91||w===92||w===93?(e.consume(w),l++,h):h(w)}function v(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),i.includes(o)||i.push(o),Ze(e,y,"gfmFootnoteDefinitionWhitespace")):n(w)}function y(w){return t(w)}}function A$(e,t,n){return e.check(al,t,e.attempt(C$,t,n))}function R$(e){e.exit("gfmFootnoteDefinition")}function O$(e,t,n){const r=this;return Ze(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function M$(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,u){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let f=c;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[c][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[c][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[c][1].start)},v=[["enter",h,u],["enter",l[f][1],u],["exit",l[f][1],u],["enter",p,u]],y=u.parser.constructs.insideSpan.null;y&&Vn(v,v.length,0,Oc(y,l.slice(f+1,c),u)),Vn(v,v.length,0,[["exit",p,u],["enter",l[c][1],u],["exit",l[c][1],u],["exit",h,u]]),Vn(l,f-1,c-f+3,v),c=f+v.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}function o(l,u,c){const f=this.previous,h=this.events;let p=0;return v;function v(w){return f===126&&h[h.length-1][1].type!=="characterEscape"?c(w):(l.enter("strikethroughSequenceTemporary"),y(w))}function y(w){const b=Co(f);if(w===126)return p>1?c(w):(l.consume(w),p++,y);if(p<2&&!n)return c(w);const S=l.exit("strikethroughSequenceTemporary"),_=Co(w);return S._open=!_||_===2&&!!b,S._close=!b||b===2&&!!_,u(w)}}}class D${constructor(){this.map=[]}add(t,n,r){L$(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function L$(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function $$(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function F$(){return{flow:{null:{name:"table",tokenize:z$,resolveAll:B$}}}}function z$(e,t,n){const r=this;let i=0,o=0,l;return u;function u(A){let C=r.events.length-1;for(;C>-1;){const B=r.events[C][1].type;if(B==="lineEnding"||B==="linePrefix")C--;else break}const q=C>-1?r.events[C][1].type:null,W=q==="tableHead"||q==="tableRow"?R:c;return W===R&&r.parser.lazy[r.now().line]?n(A):W(A)}function c(A){return e.enter("tableHead"),e.enter("tableRow"),f(A)}function f(A){return A===124||(l=!0,o+=1),h(A)}function h(A){return A===null?n(A):$e(A)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),y):n(A):Ge(A)?Ze(e,h,"whitespace")(A):(o+=1,l&&(l=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),l=!0,h):(e.enter("data"),p(A)))}function p(A){return A===null||A===124||ct(A)?(e.exit("data"),h(A)):(e.consume(A),A===92?v:p)}function v(A){return A===92||A===124?(e.consume(A),p):p(A)}function y(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),l=!1,Ge(A)?Ze(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):w(A))}function w(A){return A===45||A===58?S(A):A===124?(l=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),b):D(A)}function b(A){return Ge(A)?Ze(e,S,"whitespace")(A):S(A)}function S(A){return A===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),_):A===45?(o+=1,_(A)):A===null||$e(A)?O(A):D(A)}function _(A){return A===45?(e.enter("tableDelimiterFiller"),N(A)):D(A)}function N(A){return A===45?(e.consume(A),N):A===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),j):(e.exit("tableDelimiterFiller"),j(A))}function j(A){return Ge(A)?Ze(e,O,"whitespace")(A):O(A)}function O(A){return A===124?w(A):A===null||$e(A)?!l||i!==o?D(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):D(A)}function D(A){return n(A)}function R(A){return e.enter("tableRow"),L(A)}function L(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),L):A===null||$e(A)?(e.exit("tableRow"),t(A)):Ge(A)?Ze(e,L,"whitespace")(A):(e.enter("data"),te(A))}function te(A){return A===null||A===124||ct(A)?(e.exit("data"),L(A)):(e.consume(A),A===92?re:te)}function re(A){return A===92||A===124?(e.consume(A),te):te(A)}}function B$(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,c=0,f,h,p;const v=new D$;for(;++n<e.length;){const y=e[n],w=y[1];y[0]==="enter"?w.type==="tableHead"?(u=!1,c!==0&&(Ex(v,t,c,f,h),h=void 0,c=0),f={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(n,0,[["enter",f,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,p=void 0,o=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(n,0,[["enter",h,t]])),i=w.type==="tableDelimiterRow"?2:h?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],p=Pu(v,t,o,i,void 0,p),o=[0,0,0,0]),l[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],p=Pu(v,t,o,i,void 0,p)),o=l,l=[o[1],n,0,0])):w.type==="tableHead"?(u=!0,c=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(c=n,o[1]!==0?(l[0]=l[1],p=Pu(v,t,o,i,n,p)):l[1]!==0&&(p=Pu(v,t,l,i,n,p)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(l[3]=n)}for(c!==0&&Ex(v,t,c,f,h),v.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=$$(t.events,n))}return e}function Pu(e,t,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},fo(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=fo(t.events,n[1]);if(o={type:l,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=fo(t.events,n[2]),h=fo(t.events,n[3]),p={type:u,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const v=t.events[n[2]],y=t.events[n[3]];if(v[1].end=Object.assign({},y[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,b=n[3]-n[2]-1;e.add(w,b,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(o.end=Object.assign({},fo(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function Ex(e,t,n,r,i){const o=[],l=fo(t.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function fo(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const U$={name:"tasklistCheck",tokenize:H$};function W$(){return{text:{91:U$}}}function H$(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return ct(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),l):n(c)}function l(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(c)}function u(c){return $e(c)?t(c):Ge(c)?e.check({tokenize:V$},t,n)(c):n(c)}}function V$(e,t,n){return Ze(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function q$(e){return yk([v$(),j$(),M$(e),F$(),W$()])}const Y$={};function K$(e){const t=this,n=e||Y$,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(q$(n)),o.push(h$()),l.push(p$(n))}const G$=e=>e!=null;function J$(){const e=Ie(t=>t.works);return E.useMemo(()=>{const t=new Map;e.forEach(o=>{var c;const l=(c=o.name)==null?void 0:c.trim();if(!l)return;const u=t.get(l)??[];u.push(o),t.set(l,u)});const n=new Map,r=new Map;t.forEach((o,l)=>{o.length===1?n.set(l,o[0]):o.length>1&&r.set(l,o.filter(G$))});const i=Array.from(n.entries()).map(([o,l])=>({name:o,work:l}));return i.sort((o,l)=>l.name.length-o.name.length||o.name.localeCompare(l.name,"es")),{uniqueByName:n,duplicates:r,entries:i}},[e])}const Q$=new RegExp("\\p{L}|\\p{N}","u"),_x=e=>e?Q$.test(e):!1,X$=(e,t,n)=>{const r=t===0?void 0:e[t-1],i=n>=e.length?void 0:e[n];return!_x(r)&&!_x(i)},Z$=(e,t)=>{const n=[];t.forEach(o=>{let l=0;for(;l<e.length;){const u=e.indexOf(o.name,l);if(u===-1)break;const c=u+o.name.length;X$(e,u,c)&&n.push({start:u,end:c,entry:o}),l=u+o.name.length}}),n.sort((o,l)=>o.start!==l.start?o.start-l.start:l.entry.name.length-o.entry.name.length);const r=[];let i=-1;return n.forEach(o=>{o.start<i||(r.push(o),i=o.end)}),r},e4=e=>e?new Set(["link","linkReference","definition","inlineCode","code"]).has(e.type):!0,t4=e=>{const t=(e==null?void 0:e.entries)??[];return t.length===0?()=>{}:n=>{$c(n,"text",(r,i,o)=>{if(e4(o)||typeof i!="number"||!o)return;const u=r.value;if(!u)return;const c=Z$(u,t);if(c.length===0)return;const f=[];let h=0;c.forEach(p=>{p.start>h&&f.push({type:"text",value:u.slice(h,p.start)}),f.push({type:"link",title:null,url:p.entry.href,children:[{type:"text",value:p.entry.name}]}),h=p.end}),h<u.length&&f.push({type:"text",value:u.slice(h)}),o.children.splice(i,1,...f)})}},n4=e=>{var f,h,p;const t="/sport-planner/".replace(/\/$/,""),r=`${t?`${t}/`:"/"}#/`,i=((f=e.href)==null?void 0:f.startsWith("#/"))??!1,o=((h=e.href)==null?void 0:h.startsWith(r))??!1,l=(((p=e.href)==null?void 0:p.startsWith("/"))??!1)||i||o,u=l?e.rel:e.rel??"noreferrer",c=l?e.target:e.target??"_blank";return g.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:c,rel:u})},r4=e=>g.jsx("ul",{...e,className:Re("my-2 list-disc space-y-1 pl-6",e.className)}),i4=e=>g.jsx("ol",{...e,className:Re("my-2 list-decimal space-y-1 pl-6",e.className)}),s4=e=>g.jsx("li",{...e,className:Re("leading-relaxed",e.className)});function o4(e){const t=e.trim(),n=t.match(/^(["'])(.*)(["'])$/s);return n?n[2].trim():t}function a4(e){var l;const n=o4(e.trim()).match(/^\[!([^\]]+)\]([+-])?\s*(.*)$/i);if(!n)return null;const r=n[1].toLowerCase(),o=(((l=n[3])==null?void 0:l.trim())??"")||r;return{type:r,title:o}}function l1(e){return typeof e=="object"&&e!==null&&"props"in e&&"type"in e}function hp(e){return e==null||typeof e=="boolean"?"":typeof e=="string"||typeof e=="number"?String(e):Array.isArray(e)?e.map(hp).join(""):l1(e)?hp(e.props.children):""}const Cx={danger:{icon:"",containerClassName:"border-rose-500/25 bg-rose-500/10",titleClassName:"text-rose-200"},warning:{icon:"",containerClassName:"border-amber-500/25 bg-amber-500/10",titleClassName:"text-amber-200"},info:{icon:"",containerClassName:"border-sky-500/25 bg-sky-500/10",titleClassName:"text-sky-200"},note:{icon:"",containerClassName:"border-indigo-500/25 bg-indigo-500/10",titleClassName:"text-indigo-200"},tip:{icon:"",containerClassName:"border-emerald-500/25 bg-emerald-500/10",titleClassName:"text-emerald-200"}},l4=e=>{const{node:t,children:n,...r}=e,i=Array.isArray(n)?n:[n],o=i.findIndex(p=>l1(p)&&p.type==="p"),l=o>=0?i[o]:void 0,u=hp(l).trim(),c=a4(u);if(!c)return g.jsx("blockquote",{...r,children:n});const f=Cx[c.type]??Cx.info,h=i.filter((p,v)=>v!==o);return g.jsxs("aside",{className:Re("my-4 rounded-2xl border p-5",f.containerClassName),children:[g.jsxs("div",{className:Re("flex items-center gap-2 text-lg font-semibold",f.titleClassName),children:[g.jsx("span",{"aria-hidden":"true",children:f.icon}),g.jsx("span",{children:c.title})]}),g.jsx("div",{className:"mt-3",children:h})]})},u4={a:n4,blockquote:l4,ul:r4,ol:i4,li:s4};function vs({content:e,enableWorkLinks:t=!1}){const{entries:n}=J$(),r=E.useMemo(()=>{if(!t||n.length===0)return null;const o="/sport-planner/".replace(/\/$/,""),u=`${o?`${o}/`:"/"}#/catalog`;return{entries:n.map(({name:c,work:f})=>({name:c,href:`${u}?workId=${encodeURIComponent(f.id)}`}))}},[t,n]),i=E.useMemo(()=>{const o=[K$];return r&&o.push([t4,r]),o},[r]);return e?g.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:g.jsx(MD,{remarkPlugins:i,components:u4,children:e})}):null}function jx(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\\d+(\\.\\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\\d+:)+\\d+$/.test(t)){const r=t.split(":").map(i=>Number(i));return r.some(i=>Number.isNaN(i))?null:r.reduce((i,o)=>i*60+o,0)}const n=t.match(/^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,i=n[2]?Number(n[2]):0,o=n[3]?Number(n[3]):0;if(r||i||o)return r*3600+i*60+o}return null}function c4(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const i=new URL(`https://www.youtube-nocookie.com/embed/${r}`),o=jx(t.searchParams.get("start")??t.searchParams.get("t"));o!==null&&i.searchParams.set("start",String(o));const l=jx(t.searchParams.get("end"));l!==null&&i.searchParams.set("end",String(l));const u=t.searchParams.get("list");return u&&i.searchParams.set("list",u),i.toString()}catch{return null}}function Fc({url:e,title:t,maxWidth:n=300,className:r}){const i=e.trim();if(!i)return null;const o=c4(i);return o?g.jsx("div",{className:Re("flex w-full justify-center",r),children:g.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:g.jsx("iframe",{src:o,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):g.jsx("div",{className:Re("flex w-full justify-center",r),children:g.jsx("a",{href:i,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function d4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const zc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function fm(e){return"nodeType"in e}function Mn(e){var t,n;return e?Mo(e)?e:fm(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function hm(e){const{Document:t}=Mn(e);return e instanceof t}function ul(e){return Mo(e)?!1:e instanceof Mn(e).HTMLElement}function u1(e){return e instanceof Mn(e).SVGElement}function Do(e){return e?Mo(e)?e.document:fm(e)?hm(e)?e:ul(e)||u1(e)?e.ownerDocument:document:document:document}const Dr=zc?E.useLayoutEffect:E.useEffect;function pm(e){const t=E.useRef(e);return Dr(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function f4(){const e=E.useRef(null),t=E.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=E.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ga(e,t){t===void 0&&(t=[e]);const n=E.useRef(e);return Dr(()=>{n.current!==e&&(n.current=e)},t),n}function cl(e,t){const n=E.useRef();return E.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function lc(e){const t=pm(e),n=E.useRef(null),r=E.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function pp(e){const t=E.useRef();return E.useEffect(()=>{t.current=e},[e]),t.current}let ph={};function dl(e,t){return E.useMemo(()=>{if(t)return t;const n=ph[e]==null?0:ph[e]+1;return ph[e]=n,e+"-"+n},[e,t])}function c1(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[c,f]of u){const h=o[c];h!=null&&(o[c]=h+e*f)}return o},{...t})}}const wo=c1(1),uc=c1(-1);function h4(e){return"clientX"in e&&"clientY"in e}function mm(e){if(!e)return!1;const{KeyboardEvent:t}=Mn(e.target);return t&&e instanceof t}function p4(e){if(!e)return!1;const{TouchEvent:t}=Mn(e.target);return t&&e instanceof t}function mp(e){if(p4(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return h4(e)?{x:e.clientX,y:e.clientY}:null}const Ja=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ja.Translate.toString(e),Ja.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Nx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function m4(e){return e.matches(Nx)?e:e.querySelector(Nx)}const g4={display:"none"};function v4(e){let{id:t,value:n}=e;return Ce.createElement("div",{id:t,style:g4},n)}function y4(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ce.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function x4(){const[e,t]=E.useState("");return{announce:E.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const d1=E.createContext(null);function w4(e){const t=E.useContext(d1);E.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function b4(){const[e]=E.useState(()=>new Set),t=E.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[E.useCallback(r=>{let{type:i,event:o}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,o)})},[e]),t]}const k4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},S4={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function E4(e){let{announcements:t=S4,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=k4}=e;const{announce:o,announcement:l}=x4(),u=dl("DndLiveRegion"),[c,f]=E.useState(!1);if(E.useEffect(()=>{f(!0)},[]),w4(E.useMemo(()=>({onDragStart(p){let{active:v}=p;o(t.onDragStart({active:v}))},onDragMove(p){let{active:v,over:y}=p;t.onDragMove&&o(t.onDragMove({active:v,over:y}))},onDragOver(p){let{active:v,over:y}=p;o(t.onDragOver({active:v,over:y}))},onDragEnd(p){let{active:v,over:y}=p;o(t.onDragEnd({active:v,over:y}))},onDragCancel(p){let{active:v,over:y}=p;o(t.onDragCancel({active:v,over:y}))}}),[o,t])),!c)return null;const h=Ce.createElement(Ce.Fragment,null,Ce.createElement(v4,{id:r,value:i.draggable}),Ce.createElement(y4,{id:u,announcement:l}));return n?Wn.createPortal(h,n):h}var Ut;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ut||(Ut={}));function cc(){}const br=Object.freeze({x:0,y:0});function _4(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function C4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function j4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function N4(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Tx(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const T4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Tx(t,t.left,t.top),o=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const f=_4(Tx(c),i);o.push({id:u,data:{droppableContainer:l,value:f}})}}return o.sort(C4)};function I4(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=o-n;if(r<i&&n<o){const c=t.width*t.height,f=e.width*e.height,h=l*u,p=h/(c+f-h);return Number(p.toFixed(4))}return 0}const P4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const c=I4(u,t);c>0&&i.push({id:l,data:{droppableContainer:o,value:c}})}}return i.sort(j4)};function A4(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function f1(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:br}function R4(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const O4=R4(1);function M4(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function D4(e,t,n){const r=M4(t);if(!r)return e;const{scaleX:i,scaleY:o,x:l,y:u}=r,c=e.left-l-(1-i)*parseFloat(n),f=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?e.width/i:e.width,p=o?e.height/o:e.height;return{width:h,height:p,top:f,right:c+h,bottom:f+p,left:c}}const L4={ignoreTransform:!1};function Lo(e,t){t===void 0&&(t=L4);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=Mn(e).getComputedStyle(e);f&&(n=D4(n,f,h))}const{top:r,left:i,width:o,height:l,bottom:u,right:c}=n;return{top:r,left:i,width:o,height:l,bottom:u,right:c}}function Ix(e){return Lo(e,{ignoreTransform:!0})}function $4(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function F4(e,t){return t===void 0&&(t=Mn(e).getComputedStyle(e)),t.position==="fixed"}function z4(e,t){t===void 0&&(t=Mn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function gm(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(hm(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!ul(i)||u1(i)||n.includes(i))return n;const o=Mn(e).getComputedStyle(i);return i!==e&&z4(i,o)&&n.push(i),F4(i,o)?n:r(i.parentNode)}return e?r(e):n}function h1(e){const[t]=gm(e,1);return t??null}function mh(e){return!zc||!e?null:Mo(e)?e:fm(e)?hm(e)||e===Do(e).scrollingElement?window:ul(e)?e:null:null}function p1(e){return Mo(e)?e.scrollX:e.scrollLeft}function m1(e){return Mo(e)?e.scrollY:e.scrollTop}function gp(e){return{x:p1(e),y:m1(e)}}var Gt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Gt||(Gt={}));function g1(e){return!zc||!e?!1:e===document.scrollingElement}function v1(e){const t={x:0,y:0},n=g1(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const B4={x:.2,y:.2};function U4(e,t,n,r,i){let{top:o,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=B4);const{isTop:f,isBottom:h,isLeft:p,isRight:v}=v1(e),y={x:0,y:0},w={x:0,y:0},b={height:t.height*i.y,width:t.width*i.x};return!f&&o<=t.top+b.height?(y.y=Gt.Backward,w.y=r*Math.abs((t.top+b.height-o)/b.height)):!h&&c>=t.bottom-b.height&&(y.y=Gt.Forward,w.y=r*Math.abs((t.bottom-b.height-c)/b.height)),!v&&u>=t.right-b.width?(y.x=Gt.Forward,w.x=r*Math.abs((t.right-b.width-u)/b.width)):!p&&l<=t.left+b.width&&(y.x=Gt.Backward,w.x=r*Math.abs((t.left+b.width-l)/b.width)),{direction:y,speed:w}}function W4(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function y1(e){return e.reduce((t,n)=>wo(t,gp(n)),br)}function H4(e){return e.reduce((t,n)=>t+p1(n),0)}function V4(e){return e.reduce((t,n)=>t+m1(n),0)}function q4(e,t){if(t===void 0&&(t=Lo),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);h1(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Y4=[["x",["left","right"],H4],["y",["top","bottom"],V4]];class vm{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=gm(n),i=y1(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,u]of Y4)for(const c of l)Object.defineProperty(this,c,{get:()=>{const f=u(r),h=i[o]-f;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class La{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function K4(e){const{EventTarget:t}=Mn(e);return e instanceof t?e:Do(e)}function gh(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var tr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(tr||(tr={}));function Px(e){e.preventDefault()}function G4(e){e.stopPropagation()}var st;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(st||(st={}));const x1={start:[st.Space,st.Enter],cancel:[st.Esc],end:[st.Space,st.Enter,st.Tab]},J4=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case st.Right:return{...n,x:n.x+25};case st.Left:return{...n,x:n.x-25};case st.Down:return{...n,y:n.y+25};case st.Up:return{...n,y:n.y-25}}};class w1{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new La(Do(n)),this.windowListeners=new La(Mn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(tr.Resize,this.handleCancel),this.windowListeners.add(tr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(tr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&q4(r),n(br)}handleKeyDown(t){if(mm(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=x1,coordinateGetter:l=J4,scrollBehavior:u="smooth"}=i,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:br;this.referenceCoordinates||(this.referenceCoordinates=h);const p=l(t,{active:n,context:r.current,currentCoordinates:h});if(p){const v=uc(p,h),y={x:0,y:0},{scrollableAncestors:w}=r.current;for(const b of w){const S=t.code,{isTop:_,isRight:N,isLeft:j,isBottom:O,maxScroll:D,minScroll:R}=v1(b),L=W4(b),te={x:Math.min(S===st.Right?L.right-L.width/2:L.right,Math.max(S===st.Right?L.left:L.left+L.width/2,p.x)),y:Math.min(S===st.Down?L.bottom-L.height/2:L.bottom,Math.max(S===st.Down?L.top:L.top+L.height/2,p.y))},re=S===st.Right&&!N||S===st.Left&&!j,A=S===st.Down&&!O||S===st.Up&&!_;if(re&&te.x!==p.x){const C=b.scrollLeft+v.x,q=S===st.Right&&C<=D.x||S===st.Left&&C>=R.x;if(q&&!v.y){b.scrollTo({left:C,behavior:u});return}q?y.x=b.scrollLeft-C:y.x=S===st.Right?b.scrollLeft-D.x:b.scrollLeft-R.x,y.x&&b.scrollBy({left:-y.x,behavior:u});break}else if(A&&te.y!==p.y){const C=b.scrollTop+v.y,q=S===st.Down&&C<=D.y||S===st.Up&&C>=R.y;if(q&&!v.x){b.scrollTo({top:C,behavior:u});return}q?y.y=b.scrollTop-C:y.y=S===st.Down?b.scrollTop-D.y:b.scrollTop-R.y,y.y&&b.scrollBy({top:-y.y,behavior:u});break}}this.handleMove(t,wo(uc(p,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}w1.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=x1,onActivation:i}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Ax(e){return!!(e&&"distance"in e)}function Rx(e){return!!(e&&"delay"in e)}class ym{constructor(t,n,r){var i;r===void 0&&(r=K4(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Do(l),this.documentListeners=new La(this.document),this.listeners=new La(r),this.windowListeners=new La(Mn(l)),this.initialCoordinates=(i=mp(o))!=null?i:br,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(tr.Resize,this.handleCancel),this.windowListeners.add(tr.DragStart,Px),this.windowListeners.add(tr.VisibilityChange,this.handleCancel),this.windowListeners.add(tr.ContextMenu,Px),this.documentListeners.add(tr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Rx(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ax(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(tr.Click,G4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(tr.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!i)return;const c=(n=mp(t))!=null?n:br,f=uc(i,c);if(!r&&u){if(Ax(u)){if(u.tolerance!=null&&gh(f,u.tolerance))return this.handleCancel();if(gh(f,u.distance))return this.handleStart()}if(Rx(u)&&gh(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===st.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Q4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class b1 extends ym{constructor(t){const{event:n}=t,r=Do(n.target);super(t,Q4,r)}}b1.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const X4={move:{name:"mousemove"},end:{name:"mouseup"}};var vp;(function(e){e[e.RightClick=2]="RightClick"})(vp||(vp={}));class Z4 extends ym{constructor(t){super(t,X4,Do(t.event.target))}}Z4.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===vp.RightClick?!1:(r==null||r({event:n}),!0)}}];const vh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eF extends ym{constructor(t){super(t,vh)}static setup(){return window.addEventListener(vh.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(vh.move.name,t)};function t(){}}}eF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var $a;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})($a||($a={}));var dc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(dc||(dc={}));function tF(e){let{acceleration:t,activator:n=$a.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:l=5,order:u=dc.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:h,delta:p,threshold:v}=e;const y=rF({delta:p,disabled:!o}),[w,b]=f4(),S=E.useRef({x:0,y:0}),_=E.useRef({x:0,y:0}),N=E.useMemo(()=>{switch(n){case $a.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case $a.DraggableRect:return i}},[n,i,c]),j=E.useRef(null),O=E.useCallback(()=>{const R=j.current;if(!R)return;const L=S.current.x*_.current.x,te=S.current.y*_.current.y;R.scrollBy(L,te)},[]),D=E.useMemo(()=>u===dc.TreeOrder?[...f].reverse():f,[u,f]);E.useEffect(()=>{if(!o||!f.length||!N){b();return}for(const R of D){if((r==null?void 0:r(R))===!1)continue;const L=f.indexOf(R),te=h[L];if(!te)continue;const{direction:re,speed:A}=U4(R,te,N,t,v);for(const C of["x","y"])y[C][re[C]]||(A[C]=0,re[C]=0);if(A.x>0||A.y>0){b(),j.current=R,w(O,l),S.current=A,_.current=re;return}}S.current={x:0,y:0},_.current={x:0,y:0},b()},[t,O,r,b,o,l,JSON.stringify(N),JSON.stringify(y),w,f,D,h,JSON.stringify(v)])}const nF={x:{[Gt.Backward]:!1,[Gt.Forward]:!1},y:{[Gt.Backward]:!1,[Gt.Forward]:!1}};function rF(e){let{delta:t,disabled:n}=e;const r=pp(t);return cl(i=>{if(n||!r||!i)return nF;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Gt.Backward]:i.x[Gt.Backward]||o.x===-1,[Gt.Forward]:i.x[Gt.Forward]||o.x===1},y:{[Gt.Backward]:i.y[Gt.Backward]||o.y===-1,[Gt.Forward]:i.y[Gt.Forward]||o.y===1}}},[n,t,r])}function iF(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return cl(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function sF(e,t){return E.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...o]},[]),[e,t])}var Qa;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Qa||(Qa={}));var yp;(function(e){e.Optimized="optimized"})(yp||(yp={}));const Ox=new Map;function oF(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,l]=E.useState(null),{frequency:u,measure:c,strategy:f}=i,h=E.useRef(e),p=S(),v=Ga(p),y=E.useCallback(function(_){_===void 0&&(_=[]),!v.current&&l(N=>N===null?_:N.concat(_.filter(j=>!N.includes(j))))},[v]),w=E.useRef(null),b=cl(_=>{if(p&&!n)return Ox;if(!_||_===Ox||h.current!==e||o!=null){const N=new Map;for(let j of e){if(!j)continue;if(o&&o.length>0&&!o.includes(j.id)&&j.rect.current){N.set(j.id,j.rect.current);continue}const O=j.node.current,D=O?new vm(c(O),O):null;j.rect.current=D,D&&N.set(j.id,D)}return N}return _},[e,o,n,p,c]);return E.useEffect(()=>{h.current=e},[e]),E.useEffect(()=>{p||y()},[n,p]),E.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),E.useEffect(()=>{p||typeof u!="number"||w.current!==null||(w.current=setTimeout(()=>{y(),w.current=null},u))},[u,p,y,...r]),{droppableRects:b,measureDroppableContainers:y,measuringScheduled:o!=null};function S(){switch(f){case Qa.Always:return!1;case Qa.BeforeDragging:return n;default:return!n}}}function k1(e,t){return cl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function aF(e,t){return k1(e,t)}function lF(e){let{callback:t,disabled:n}=e;const r=pm(t),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Bc(e){let{callback:t,disabled:n}=e;const r=pm(t),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function uF(e){return new vm(Lo(e),e)}function Mx(e,t,n){t===void 0&&(t=uF);const[r,i]=E.useState(null);function o(){i(c=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=c??n)!=null?f:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const l=lF({callback(c){if(e)for(const f of c){const{type:h,target:p}=f;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){o();break}}}}),u=Bc({callback:o});return Dr(()=>{o(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function cF(e){const t=k1(e);return f1(e,t)}const Dx=[];function dF(e){const t=E.useRef(e),n=cl(r=>e?r&&r!==Dx&&e&&t.current&&e.parentNode===t.current.parentNode?r:gm(e):Dx,[e]);return E.useEffect(()=>{t.current=e},[e]),n}function fF(e){const[t,n]=E.useState(null),r=E.useRef(e),i=E.useCallback(o=>{const l=mh(o.target);l&&n(u=>u?(u.set(l,gp(l)),new Map(u)):null)},[]);return E.useEffect(()=>{const o=r.current;if(e!==o){l(o);const u=e.map(c=>{const f=mh(c);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,gp(f)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(o)};function l(u){u.forEach(c=>{const f=mh(c);f==null||f.removeEventListener("scroll",i)})}},[i,e]),E.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>wo(o,l),br):y1(e):br,[e,t])}function Lx(e,t){t===void 0&&(t=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},t),E.useEffect(()=>{const r=e!==br;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?uc(e,n.current):br}function hF(e){E.useEffect(()=>{if(!zc)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function pF(e,t){return E.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=l=>{o(l,t)},n},{}),[e,t])}function S1(e){return E.useMemo(()=>e?$4(e):null,[e])}const $x=[];function mF(e,t){t===void 0&&(t=Lo);const[n]=e,r=S1(n?Mn(n):null),[i,o]=E.useState($x);function l(){o(()=>e.length?e.map(c=>g1(c)?r:new vm(t(c),c)):$x)}const u=Bc({callback:l});return Dr(()=>{u==null||u.disconnect(),l(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),i}function gF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ul(t)?t:e}function vF(e){let{measure:t}=e;const[n,r]=E.useState(null),i=E.useCallback(f=>{for(const{target:h}of f)if(ul(h)){r(p=>{const v=t(h);return p?{...p,width:v.width,height:v.height}:v});break}},[t]),o=Bc({callback:i}),l=E.useCallback(f=>{const h=gF(f);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[u,c]=lc(l);return E.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const yF=[{sensor:b1,options:{}},{sensor:w1,options:{}}],xF={current:{}},Bu={draggable:{measure:Ix},droppable:{measure:Ix,strategy:Qa.WhileDragging,frequency:yp.Optimized},dragOverlay:{measure:Lo}};class Fa extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const wF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fa,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:cc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bu,measureDroppableContainers:cc,windowRect:null,measuringScheduled:!1},bF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:cc,draggableNodes:new Map,over:null,measureDroppableContainers:cc},Uc=E.createContext(bF),E1=E.createContext(wF);function kF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fa}}}function SF(e,t){switch(t.type){case Ut.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ut.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ut.DragEnd:case Ut.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ut.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Fa(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Ut.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new Fa(e.droppable.containers);return l.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case Ut.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Fa(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function EF(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=E.useContext(Uc),o=pp(r),l=pp(n==null?void 0:n.id);return E.useEffect(()=>{if(!t&&!r&&o&&l!=null){if(!mm(o)||document.activeElement===o.target)return;const u=i.get(l);if(!u)return;const{activatorNode:c,node:f}=u;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[c.current,f.current]){if(!h)continue;const p=m4(h);if(p){p.focus();break}}})}},[r,t,i,l,o]),null}function _F(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function CF(e){return E.useMemo(()=>({draggable:{...Bu.draggable,...e==null?void 0:e.draggable},droppable:{...Bu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Bu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function jF(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=E.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;Dr(()=>{if(!l&&!u||!t){o.current=!1;return}if(o.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),p=f1(h,r);if(l||(p.x=0),u||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=h1(f);v&&v.scrollBy({top:p.y,left:p.x})}},[t,l,u,r,n])}const _1=E.createContext({...br,scaleX:1,scaleY:1});var ji;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ji||(ji={}));const NF=E.memo(function(t){var n,r,i,o;let{id:l,accessibility:u,autoScroll:c=!0,children:f,sensors:h=yF,collisionDetection:p=P4,measuring:v,modifiers:y,...w}=t;const b=E.useReducer(SF,void 0,kF),[S,_]=b,[N,j]=b4(),[O,D]=E.useState(ji.Uninitialized),R=O===ji.Initialized,{draggable:{active:L,nodes:te,translate:re},droppable:{containers:A}}=S,C=L!=null?te.get(L):null,q=E.useRef({initial:null,translated:null}),W=E.useMemo(()=>{var wt;return L!=null?{id:L,data:(wt=C==null?void 0:C.data)!=null?wt:xF,rect:q}:null},[L,C]),B=E.useRef(null),[U,K]=E.useState(null),[X,M]=E.useState(null),J=Ga(w,Object.values(w)),I=dl("DndDescribedBy",l),$=E.useMemo(()=>A.getEnabled(),[A]),z=CF(v),{droppableRects:P,measureDroppableContainers:oe,measuringScheduled:me}=oF($,{dragging:R,dependencies:[re.x,re.y],config:z.droppable}),he=iF(te,L),Se=E.useMemo(()=>X?mp(X):null,[X]),ue=Jt(),Ee=aF(he,z.draggable.measure);jF({activeNode:L!=null?te.get(L):null,config:ue.layoutShiftCompensation,initialRect:Ee,measure:z.draggable.measure});const xe=Mx(he,z.draggable.measure,Ee),Je=Mx(he?he.parentElement:null),rt=E.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:te,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Qe=A.getNodeFor((n=rt.current.over)==null?void 0:n.id),G=vF({measure:z.dragOverlay.measure}),le=(r=G.nodeRef.current)!=null?r:he,ae=R?(i=G.rect)!=null?i:xe:null,be=!!(G.nodeRef.current&&G.rect),ve=cF(be?null:xe),se=S1(le?Mn(le):null),ke=dF(R?Qe??he:null),qe=mF(ke),Xe=_F(y,{transform:{x:re.x-ve.x,y:re.y-ve.y,scaleX:1,scaleY:1},activatorEvent:X,active:W,activeNodeRect:xe,containerNodeRect:Je,draggingNodeRect:ae,over:rt.current.over,overlayNodeRect:G.rect,scrollableAncestors:ke,scrollableAncestorRects:qe,windowRect:se}),_t=Se?wo(Se,re):null,Q=fF(ke),ce=Lx(Q),H=Lx(Q,[xe]),ne=wo(Xe,ce),we=ae?O4(ae,Xe):null,_e=W&&we?p({active:W,collisionRect:we,droppableRects:P,droppableContainers:$,pointerCoordinates:_t}):null,Oe=N4(_e,"id"),[We,yt]=E.useState(null),dt=be?Xe:wo(Xe,H),Pt=A4(dt,(o=We==null?void 0:We.rect)!=null?o:null,xe),Ye=E.useRef(null),tt=E.useCallback((wt,en)=>{let{sensor:tn,options:ir}=en;if(B.current==null)return;const hn=te.get(B.current);if(!hn)return;const nn=wt.nativeEvent,bn=new tn({active:B.current,activeNode:hn,event:nn,options:ir,context:rt,onAbort(bt){if(!te.get(bt))return;const{onDragAbort:rn}=J.current,sr={id:bt};rn==null||rn(sr),N({type:"onDragAbort",event:sr})},onPending(bt,Yn,rn,sr){if(!te.get(bt))return;const{onDragPending:kr}=J.current,Dn={id:bt,constraint:Yn,initialCoordinates:rn,offset:sr};kr==null||kr(Dn),N({type:"onDragPending",event:Dn})},onStart(bt){const Yn=B.current;if(Yn==null)return;const rn=te.get(Yn);if(!rn)return;const{onDragStart:sr}=J.current,or={activatorEvent:nn,active:{id:Yn,data:rn.data,rect:q}};Wn.unstable_batchedUpdates(()=>{sr==null||sr(or),D(ji.Initializing),_({type:Ut.DragStart,initialCoordinates:bt,active:Yn}),N({type:"onDragStart",event:or}),K(Ye.current),M(nn)})},onMove(bt){_({type:Ut.DragMove,coordinates:bt})},onEnd:zr(Ut.DragEnd),onCancel:zr(Ut.DragCancel)});Ye.current=bn;function zr(bt){return async function(){const{active:rn,collisions:sr,over:or,scrollAdjustedTranslate:kr}=rt.current;let Dn=null;if(rn&&kr){const{cancelDrop:Br}=J.current;Dn={activatorEvent:nn,active:rn,collisions:sr,delta:kr,over:or},bt===Ut.DragEnd&&typeof Br=="function"&&await Promise.resolve(Br(Dn))&&(bt=Ut.DragCancel)}B.current=null,Wn.unstable_batchedUpdates(()=>{_({type:bt}),D(ji.Uninitialized),yt(null),K(null),M(null),Ye.current=null;const Br=bt===Ut.DragEnd?"onDragEnd":"onDragCancel";if(Dn){const $o=J.current[Br];$o==null||$o(Dn),N({type:Br,event:Dn})}})}}},[te]),Wt=E.useCallback((wt,en)=>(tn,ir)=>{const hn=tn.nativeEvent,nn=te.get(ir);if(B.current!==null||!nn||hn.dndKit||hn.defaultPrevented)return;const bn={active:nn};wt(tn,en.options,bn)===!0&&(hn.dndKit={capturedBy:en.sensor},B.current=ir,tt(tn,en))},[te,tt]),Ue=sF(h,Wt);hF(h),Dr(()=>{xe&&O===ji.Initializing&&D(ji.Initialized)},[xe,O]),E.useEffect(()=>{const{onDragMove:wt}=J.current,{active:en,activatorEvent:tn,collisions:ir,over:hn}=rt.current;if(!en||!tn)return;const nn={active:en,activatorEvent:tn,collisions:ir,delta:{x:ne.x,y:ne.y},over:hn};Wn.unstable_batchedUpdates(()=>{wt==null||wt(nn),N({type:"onDragMove",event:nn})})},[ne.x,ne.y]),E.useEffect(()=>{const{active:wt,activatorEvent:en,collisions:tn,droppableContainers:ir,scrollAdjustedTranslate:hn}=rt.current;if(!wt||B.current==null||!en||!hn)return;const{onDragOver:nn}=J.current,bn=ir.get(Oe),zr=bn&&bn.rect.current?{id:bn.id,rect:bn.rect.current,data:bn.data,disabled:bn.disabled}:null,bt={active:wt,activatorEvent:en,collisions:tn,delta:{x:hn.x,y:hn.y},over:zr};Wn.unstable_batchedUpdates(()=>{yt(zr),nn==null||nn(bt),N({type:"onDragOver",event:bt})})},[Oe]),Dr(()=>{rt.current={activatorEvent:X,active:W,activeNode:he,collisionRect:we,collisions:_e,droppableRects:P,draggableNodes:te,draggingNode:le,draggingNodeRect:ae,droppableContainers:A,over:We,scrollableAncestors:ke,scrollAdjustedTranslate:ne},q.current={initial:ae,translated:we}},[W,he,_e,we,te,le,ae,P,A,We,ke,ne]),tF({...ue,delta:re,draggingRect:we,pointerCoordinates:_t,scrollableAncestors:ke,scrollableAncestorRects:qe});const lt=E.useMemo(()=>({active:W,activeNode:he,activeNodeRect:xe,activatorEvent:X,collisions:_e,containerNodeRect:Je,dragOverlay:G,draggableNodes:te,droppableContainers:A,droppableRects:P,over:We,measureDroppableContainers:oe,scrollableAncestors:ke,scrollableAncestorRects:qe,measuringConfiguration:z,measuringScheduled:me,windowRect:se}),[W,he,xe,X,_e,Je,G,te,A,P,We,oe,ke,qe,z,me,se]),ot=E.useMemo(()=>({activatorEvent:X,activators:Ue,active:W,activeNodeRect:xe,ariaDescribedById:{draggable:I},dispatch:_,draggableNodes:te,over:We,measureDroppableContainers:oe}),[X,Ue,W,xe,_,I,te,We,oe]);return Ce.createElement(d1.Provider,{value:j},Ce.createElement(Uc.Provider,{value:ot},Ce.createElement(E1.Provider,{value:lt},Ce.createElement(_1.Provider,{value:Pt},f)),Ce.createElement(EF,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Ce.createElement(E4,{...u,hiddenTextDescribedById:I}));function Jt(){const wt=(U==null?void 0:U.autoScrollEnabled)===!1,en=typeof c=="object"?c.enabled===!1:c===!1,tn=R&&!wt&&!en;return typeof c=="object"?{...c,enabled:tn}:{enabled:tn}}}),TF=E.createContext(null),Fx="button",IF="Draggable";function PF(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=dl(IF),{activators:l,activatorEvent:u,active:c,activeNodeRect:f,ariaDescribedById:h,draggableNodes:p,over:v}=E.useContext(Uc),{role:y=Fx,roleDescription:w="draggable",tabIndex:b=0}=i??{},S=(c==null?void 0:c.id)===t,_=E.useContext(S?_1:TF),[N,j]=lc(),[O,D]=lc(),R=pF(l,t),L=Ga(n);Dr(()=>(p.set(t,{id:t,key:o,node:N,activatorNode:O,data:L}),()=>{const re=p.get(t);re&&re.key===o&&p.delete(t)}),[p,t]);const te=E.useMemo(()=>({role:y,tabIndex:b,"aria-disabled":r,"aria-pressed":S&&y===Fx?!0:void 0,"aria-roledescription":w,"aria-describedby":h.draggable}),[r,y,b,S,w,h.draggable]);return{active:c,activatorEvent:u,activeNodeRect:f,attributes:te,isDragging:S,listeners:r?void 0:R,node:N,over:v,setNodeRef:j,setActivatorNodeRef:D,transform:_}}function AF(){return E.useContext(E1)}const RF="Droppable",OF={timeout:25};function MF(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=dl(RF),{active:l,dispatch:u,over:c,measureDroppableContainers:f}=E.useContext(Uc),h=E.useRef({disabled:n}),p=E.useRef(!1),v=E.useRef(null),y=E.useRef(null),{disabled:w,updateMeasurementsFor:b,timeout:S}={...OF,...i},_=Ga(b??r),N=E.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{f(Array.isArray(_.current)?_.current:[_.current]),y.current=null},S)},[S]),j=Bc({callback:N,disabled:w||!l}),O=E.useCallback((te,re)=>{j&&(re&&(j.unobserve(re),p.current=!1),te&&j.observe(te))},[j]),[D,R]=lc(O),L=Ga(t);return E.useEffect(()=>{!j||!D.current||(j.disconnect(),p.current=!1,j.observe(D.current))},[D,j]),E.useEffect(()=>(u({type:Ut.RegisterDroppable,element:{id:r,key:o,disabled:n,node:D,rect:v,data:L}}),()=>u({type:Ut.UnregisterDroppable,key:o,id:r})),[r]),E.useEffect(()=>{n!==h.current.disabled&&(u({type:Ut.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,u]),{active:l,rect:v,isOver:(c==null?void 0:c.id)===r,node:D,over:c,setNodeRef:R}}function C1(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function DF(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function Au(e){return e!==null&&e>=0}function LF(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function $F(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const j1=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=C1(t,r,n),l=t[i],u=o[i];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},Ru={scaleX:1,scaleY:1},FF=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:l}=e;const u=(t=o[n])!=null?t:r;if(!u)return null;if(i===n){const f=o[l];return f?{x:0,y:n<l?f.top+f.height-(u.top+u.height):f.top-u.top,...Ru}:null}const c=zF(o,i,n);return i>n&&i<=l?{x:0,y:-u.height-c,...Ru}:i<n&&i>=l?{x:0,y:u.height+c,...Ru}:{x:0,y:0,...Ru}};function zF(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const N1="Sortable",T1=Ce.createContext({activeIndex:-1,containerId:N1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:j1,disabled:{draggable:!1,droppable:!1}});function BF(e){let{children:t,id:n,items:r,strategy:i=j1,disabled:o=!1}=e;const{active:l,dragOverlay:u,droppableRects:c,over:f,measureDroppableContainers:h}=AF(),p=dl(N1,n),v=u.rect!==null,y=E.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),w=l!=null,b=l?y.indexOf(l.id):-1,S=f?y.indexOf(f.id):-1,_=E.useRef(y),N=!LF(y,_.current),j=S!==-1&&b===-1||N,O=$F(o);Dr(()=>{N&&w&&h(y)},[N,y,w,h]),E.useEffect(()=>{_.current=y},[y]);const D=E.useMemo(()=>({activeIndex:b,containerId:p,disabled:O,disableTransforms:j,items:y,overIndex:S,useDragOverlay:v,sortedRects:DF(y,c),strategy:i}),[b,p,O.draggable,O.droppable,j,y,S,c,v,i]);return Ce.createElement(T1.Provider,{value:D},t)}const UF=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return C1(n,r,i).indexOf(t)},WF=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:l,previousItems:u,previousContainerId:c,transition:f}=e;return!f||!r||u!==o&&i===l?!1:n?!0:l!==i&&t===c},HF={duration:200,easing:"ease"},I1="transform",VF=Ja.Transition.toString({property:I1,duration:0,easing:"linear"}),qF={roleDescription:"sortable"};function YF(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,l]=E.useState(null),u=E.useRef(n);return Dr(()=>{if(!t&&n!==u.current&&r.current){const c=i.current;if(c){const f=Lo(r.current,{ignoreTransform:!0}),h={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(h.x||h.y)&&l(h)}}n!==u.current&&(u.current=n)},[t,n,r,i]),E.useEffect(()=>{o&&l(null)},[o]),o}function KF(e){let{animateLayoutChanges:t=WF,attributes:n,disabled:r,data:i,getNewIndex:o=UF,id:l,strategy:u,resizeObserverConfig:c,transition:f=HF}=e;const{items:h,containerId:p,activeIndex:v,disabled:y,disableTransforms:w,sortedRects:b,overIndex:S,useDragOverlay:_,strategy:N}=E.useContext(T1),j=GF(r,y),O=h.indexOf(l),D=E.useMemo(()=>({sortable:{containerId:p,index:O,items:h},...i}),[p,i,O,h]),R=E.useMemo(()=>h.slice(h.indexOf(l)),[h,l]),{rect:L,node:te,isOver:re,setNodeRef:A}=MF({id:l,data:D,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...c}}),{active:C,activatorEvent:q,activeNodeRect:W,attributes:B,setNodeRef:U,listeners:K,isDragging:X,over:M,setActivatorNodeRef:J,transform:I}=PF({id:l,data:D,attributes:{...qF,...n},disabled:j.draggable}),$=d4(A,U),z=!!C,P=z&&!w&&Au(v)&&Au(S),oe=!_&&X,me=oe&&P?I:null,Se=P?me??(u??N)({rects:b,activeNodeRect:W,activeIndex:v,overIndex:S,index:O}):null,ue=Au(v)&&Au(S)?o({id:l,items:h,activeIndex:v,overIndex:S}):O,Ee=C==null?void 0:C.id,xe=E.useRef({activeId:Ee,items:h,newIndex:ue,containerId:p}),Je=h!==xe.current.items,rt=t({active:C,containerId:p,isDragging:X,isSorting:z,id:l,index:O,items:h,newIndex:xe.current.newIndex,previousItems:xe.current.items,previousContainerId:xe.current.containerId,transition:f,wasDragging:xe.current.activeId!=null}),Qe=YF({disabled:!rt,index:O,node:te,rect:L});return E.useEffect(()=>{z&&xe.current.newIndex!==ue&&(xe.current.newIndex=ue),p!==xe.current.containerId&&(xe.current.containerId=p),h!==xe.current.items&&(xe.current.items=h)},[z,ue,p,h]),E.useEffect(()=>{if(Ee===xe.current.activeId)return;if(Ee&&!xe.current.activeId){xe.current.activeId=Ee;return}const le=setTimeout(()=>{xe.current.activeId=Ee},50);return()=>clearTimeout(le)},[Ee]),{active:C,activeIndex:v,attributes:B,data:D,rect:L,index:O,newIndex:ue,items:h,isOver:re,isSorting:z,isDragging:X,listeners:K,node:te,overIndex:S,over:M,setNodeRef:$,setActivatorNodeRef:J,setDroppableNodeRef:A,setDraggableNodeRef:U,transform:Qe??Se,transition:G()};function G(){if(Qe||Je&&xe.current.newIndex===O)return VF;if(!(oe&&!mm(q)||!f)&&(z||rt))return Ja.Transition.toString({...f,property:I1})}}function GF(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}st.Down,st.Right,st.Up,st.Left;function fc(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return fc(t,t);const i=Number(r[1]),o=Number(r[2]);return Number.isNaN(i)||Number.isNaN(o)?fc(t,t):(i*60+o)%1440}function xp(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,i=n.toString().padStart(2,"0"),o=r.toString().padStart(2,"0");return`${i}:${o}`}const zx={present:"Presente",absent:"Ausente",pending:"Pendiente"};function P1({work:e,objective:t,parentChain:n,onSelect:r}){const i=(e.subtitle??"").trim();return g.jsxs("button",{type:"button",onClick:()=>r(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),i?g.jsx("p",{className:"text-xs text-white/60",children:i}):null,g.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]}),n?g.jsxs("p",{className:"text-[11px] text-white/40",children:["Deriva de ",n]}):null]}),g.jsx(Mi,{objective:t,size:"sm"})]})}function JF({item:e,work:t,objective:n,expanded:r,isPersonal:i,onToggleExpanded:o,onRemove:l,onDuplicate:u,onUpdateDetails:c,onReplace:f,startTimeLabel:h,durationMinutes:p,works:v,objectiveMap:y,workPathById:w}){const{attributes:b,listeners:S,setNodeRef:_,transform:N,transition:j,isDragging:O}=KF({id:e.id}),[D,R]=E.useState(!1),[L,te]=E.useState(""),re={transform:Ja.Transform.toString(N),transition:j},C=(e.focusLabel??"").trim(),q=C.length>0,W=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",B=W.trim().length>0,U=((t==null?void 0:t.videoUrls)??[]).map(ue=>ue.trim()).filter(Boolean),K=U.length>0,X=B||K,J=(t!=null&&t.id?w.get(t.id)??(t==null?void 0:t.name)??"":"").split("  ").slice(0,-1).join("  "),I=((t==null?void 0:t.subtitle)??"").trim(),$=ue=>{const Ee=ue.target.value;c(e.id,{focusLabel:Ee===""?void 0:Ee})},z=L.trim().toLowerCase(),P=E.useMemo(()=>v.filter(ue=>ue.id!==(t==null?void 0:t.id)),[v,t==null?void 0:t.id]),oe=E.useMemo(()=>z?P.filter(ue=>{var G;const Ee=(ue.subtitle??"").toLowerCase(),xe=((G=y.get(ue.objectiveId))==null?void 0:G.name.toLowerCase())??"",Je=(w.get(ue.id)??"").toLowerCase(),rt=(ue.descriptionMarkdown??"").toLowerCase(),Qe=z;return ue.name.toLowerCase().includes(Qe)||Ee.includes(Qe)||rt.includes(Qe)||xe.includes(Qe)||Je.includes(Qe)}):[],[P,z,y,w]);E.useEffect(()=>{D||te("")},[D]);const me=P.length>0,he=e.effort??6,Se=e.result;return g.jsxs("article",{ref:_,style:re,className:Re("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",O&&"ring-2 ring-sky-400/70"),children:[n?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",...S,...b,"aria-label":"Reordenar trabajo",children:""}),g.jsx("div",{className:"flex-1 space-y-1",children:g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",q?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",C]}):null]}),I?g.jsx("p",{className:"text-sm text-white/70",children:I}):null,J?g.jsxs("p",{className:"text-xs text-white/50",children:["Deriva de ",J]}):null,g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:h}),g.jsx("span",{className:"text-white/30",children:""}),g.jsxs("span",{children:[p," min"]})]}),g.jsxs("div",{className:"max-w-md",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),g.jsx("input",{type:"text",value:e.focusLabel??"",onChange:$,placeholder:"Ej. 1/7  Apertura",className:"input-field mt-1"})]}),i?g.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:["ok","doubt","fail"].map(ue=>g.jsx("button",{type:"button",onClick:()=>c(e.id,{result:ue,completed:!0}),className:Re("rounded-full border px-3 py-1 text-xs font-semibold transition",Se===ue?ue==="ok"?"border-emerald-500/60 bg-emerald-500/20 text-emerald-200":ue==="doubt"?"border-amber-400/50 bg-amber-500/15 text-amber-200":"border-rose-500/60 bg-rose-500/15 text-rose-200":"border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:ue==="ok"?"OK":ue==="doubt"?"Dudosa":"Fallo"},ue))}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"RPE"}),g.jsx("input",{type:"number",min:1,max:10,value:he,onChange:ue=>{const Ee=Number(ue.target.value),xe=Number.isFinite(Ee)?Math.min(Math.max(Ee,1),10):6;c(e.id,{effort:xe,completed:!0})},className:"input-field w-20 text-center"})]})]}):null]}),g.jsxs("div",{className:"flex items-center gap-2",children:[X?g.jsxs("button",{type:"button",onClick:()=>o(e.id),className:Re("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[g.jsx("span",{className:Re("transition-transform",r?"rotate-90":"rotate-0"),children:""}),r?"Ocultar detalles":"Ver detalles"]}):null,g.jsx(Mi,{objective:n,size:"sm"})]})]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:()=>R(ue=>!ue),disabled:!me,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categora","aria-expanded":D,children:""}),g.jsx("button",{type:"button",onClick:u,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white","aria-label":"Duplicar trabajo en la sesin",children:"x2"}),g.jsx("button",{type:"button",onClick:l,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesin",children:""})]})]}),D?g.jsx("div",{className:"mt-3 space-y-3 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Buscar en el catlogo"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"search",className:"input-field",placeholder:"Buscar en el catlogo",value:L,onChange:ue=>te(ue.target.value)}),L?g.jsx("div",{className:"absolute top-14 z-10 max-h-60 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:oe.length===0?g.jsx("p",{className:"p-3 text-sm text-white/50",children:"Sin resultados. Ajusta la bsqueda."}):g.jsx("div",{className:"space-y-2",children:oe.map(ue=>{const xe=(w.get(ue.id)??ue.name).split("  ").slice(0,-1).join("  ");return g.jsx(P1,{work:ue,objective:y.get(ue.objectiveId),parentChain:xe,onSelect:Je=>{f(Je),R(!1),te("")}},ue.id)})})}):null]}),L?null:g.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"Escribe para encontrar un reemplazo. Se mostrarn resultados coincidentes del catlogo."})]})}):null,X&&r?g.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[B?g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsx(vs,{content:W,enableWorkLinks:!0})})]}):null,K?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de referencia"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(ue=>g.jsxs("a",{href:ue,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:""}),"Ver vdeo"]},ue))})]}):null]}):null,g.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function A1({session:e,works:t,objectives:n,assistants:r,onDateChange:i}){const o=Ie(C=>C.updateSession),l=Ie(C=>C.addWorkToSession),u=Ie(C=>C.duplicateSessionWork),c=Ie(C=>C.removeWorkFromSession),f=Ie(C=>C.reorderSessionWork),h=Ie(C=>C.updateSessionWorkDetails),p=Ie(C=>C.replaceSessionWork),v=Ie(C=>C.setAttendanceStatus),y=e.kind==="personal",[w,b]=E.useState(""),[S,_]=E.useState(new Set),N=E.useMemo(()=>new Map(n.map(C=>[C.id,C])),[n]),j=E.useMemo(()=>new Map(t.map(C=>[C.id,C])),[t]),O=E.useMemo(()=>{const C=new Map,q=(W,B)=>{if(C.has(W))return C.get(W);const U=j.get(W);if(!U)return"";const K=U.parentWorkId;if(!K||B.has(W))return C.set(W,U.name),U.name;B.add(W);const X=q(K,B);B.delete(W);const M=X?`${X}  ${U.name}`:U.name;return C.set(W,M),M};return t.forEach(W=>q(W.id,new Set)),C},[t,j]),D=E.useMemo(()=>{if(!w)return t;const C=w.toLowerCase();return t.filter(q=>{const W=N.get(q.objectiveId),B=O.get(q.id)??"";return q.name.toLowerCase().includes(C)||q.descriptionMarkdown.toLowerCase().includes(C)||(W==null?void 0:W.name.toLowerCase().includes(C))||B.toLowerCase().includes(C)})},[t,w,N,O]),R=E.useCallback(C=>{const q=O.get(C);if(!q)return"";const W=q.split("  ");return W.pop(),W.join("  ")},[O]),L=C=>{_(q=>{const W=new Set(q);return W.has(C)?W.delete(C):W.add(C),W})},te=C=>{l(e.id,{workId:C}),b("")},re=C=>{const{active:q,over:W}=C;if(!W||q.id===W.id)return;const B=e.workItems.findIndex(K=>K.id===q.id),U=e.workItems.findIndex(K=>K.id===W.id);B===-1||U===-1||f(e.id,B,U)},A=C=>q=>{const W=q.target.value;o(e.id,{[C]:W}),C==="date"&&i&&i(W)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Ttulo"}),g.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:A("title"),placeholder:"Nombre de la sesin"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),g.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:A("date")})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),g.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:A("startTime")})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:A("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),g.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:A("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesin"}),g.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa  para ajustar detalles."})]}),g.jsxs("div",{className:"relative w-full sm:w-72",children:[g.jsx("input",{type:"search",className:"input-field",value:w,onChange:C=>b(C.target.value),placeholder:"Buscar en catlogo"}),w&&g.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:D.length===0?g.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catlogo."}):g.jsx("div",{className:"space-y-2",children:D.map(C=>g.jsx(P1,{work:C,objective:N.get(C.objectiveId),parentChain:R(C.id),onSelect:te},C.id))})})]})]}),g.jsx("div",{className:"space-y-4",children:g.jsx(NF,{collisionDetection:T4,onDragEnd:re,children:g.jsx(BF,{items:e.workItems.map(C=>C.id),strategy:FF,children:g.jsx("div",{className:"space-y-5",children:e.workItems.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Aade trabajos desde el catlogo con el buscador superior."}):(()=>{let C=0;const q=fc(e.startTime,"18:30");return e.workItems.map(W=>{const B=j.get(W.workId),U=B?N.get(B.objectiveId):void 0,K=W.customDurationMinutes??(B==null?void 0:B.estimatedMinutes)??0,X=xp(q+C);return C+=K,g.jsx(JF,{item:W,work:B,objective:U,expanded:S.has(W.id),isPersonal:y,onToggleExpanded:L,onRemove:()=>c(e.id,W.id),onDuplicate:()=>u(e.id,W.id),onUpdateDetails:(M,J)=>h(e.id,M,J),onReplace:M=>p(e.id,W.id,M),startTimeLabel:X,durationMinutes:K,works:t,objectiveMap:N,workPathById:O},W.id)})})()})})})})]}),y?null:g.jsxs("section",{className:"space-y-4",children:[g.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsin de asistencia"}),g.jsx("p",{className:"text-sm text-white/60",children:"Indica quin esperas que asista. La asistencia real se marca durante la sesin desde la Home."})]})}),g.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"An no tienes asistentes definidos. Adelos desde la seccin correspondiente para empezar a registrar asistencia."}):r.map(C=>{const q=e.attendance.find(U=>U.assistantId===C.id),W=(q==null?void 0:q.status)??"pending",B=q==null?void 0:q.actualStatus;return g.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:C.name}),C.notes?g.jsx("p",{className:"text-xs text-white/50",children:C.notes}):null,B?g.jsxs("p",{className:"text-xs text-white/40",children:["ltimo registro real: ",zx[B]]}):null]}),g.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(U=>g.jsx("button",{type:"button",onClick:()=>v(e.id,C.id,U),className:Re("rounded-full px-3 py-1 text-xs font-semibold transition",W===U?U==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":U==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:zx[U]},U))})]},C.id)})})]})]})}function QF(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function XF(e){const t=QF(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(i,o)=>t.add(r*7+o,"day")))}function Ou(e,t){return He(e).format("YYYY-MM-DD")===He(t).format("YYYY-MM-DD")}He.locale("es");const ZF={present:"Presente",absent:"Ausente",pending:"Pendiente"},e3={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},t3=["present","absent"],n3={present:"Han venido",absent:"Faltan"},r3={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},i3="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",s3="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",o3="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",a3="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",l3="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",u3="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",c3=[];function d3(e){return He(e).locale("es").format("dddd, D [de] MMMM")}function f3(e){return He(e).format("MMMM YYYY")}function Bx({mode:e,onChange:t}){return g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 p-1",children:[g.jsx("button",{type:"button",className:Re("rounded-full px-4 py-2 text-sm font-semibold transition",e==="view"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="view"&&t("view")},children:"Vista"}),g.jsx("button",{type:"button",className:Re("rounded-full px-4 py-2 text-sm font-semibold transition",e==="edit"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="edit"&&t("edit")},children:"Editar"})]})}function h3({session:e,objectives:t,works:n,isActive:r,onSelect:i,onDuplicate:o,onDelete:l}){const u=E.useMemo(()=>new Map(t.map(p=>[p.id,p])),[t]),c=E.useMemo(()=>new Map(n.map(p=>[p.id,p])),[n]),f=E.useMemo(()=>{const p=e.workItems[0];if(!p)return;const v=c.get(p.workId);if(v)return u.get(v.objectiveId)},[e.workItems,c,u]),h=e.workItems.reduce((p,v)=>{const y=c.get(v.workId);return p+(v.customDurationMinutes??(y==null?void 0:y.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:i,className:Re("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesin sin ttulo"}),g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos  ",h," min"]})]}),g.jsx(Mi,{objective:f,size:"sm"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(p=>{const v=c.get(p.workId),y=((v==null?void 0:v.subtitle)??"").trim();return g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:y?`${(v==null?void 0:v.name)??"Trabajo"}  ${y}`:(v==null?void 0:v.name)??"Trabajo"},p.id)}),e.workItems.length>3?g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Mi,{objective:f,size:"sm"}),g.jsxs("div",{className:"ml-auto flex gap-2",children:[g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function p3(){const e=Ie(Q=>Q.sessions).filter(Q=>Q.kind==="class"),t=Ie(Q=>Q.works),n=Ie(Q=>Q.objectives),r=Ie(Q=>Q.assistants),i=Ie(Q=>Q.addSession),o=Ie(Q=>Q.duplicateSession),l=Ie(Q=>Q.deleteSession),u=Ie(Q=>Q.setAttendanceActualStatus),c=Ie(Q=>Q.toggleSessionWorkCompletion),[f,h]=Ep(),p=f.get("session")??void 0,v=f.get("mode")==="edit"?"edit":"view",[y,w]=E.useState(()=>v==="edit"),[b,S]=E.useState(new Set),_=E.useMemo(()=>[...e].sort((Q,ce)=>He(Q.date).valueOf()-He(ce.date).valueOf()),[e]),N=He().format("YYYY-MM-DD"),j=E.useMemo(()=>_.find(Q=>Q.date>=N)??_[_.length-1],[_,N]),[O,D]=E.useState(()=>p&&e.some(Q=>Q.id===p)?p:j==null?void 0:j.id),R=Q=>{const ce=new URLSearchParams(f);Q==="edit"?ce.set("mode","edit"):ce.delete("mode"),h(ce,{replace:!0})};E.useEffect(()=>{p&&e.some(Q=>Q.id===p)&&D(p)},[p,e]),E.useEffect(()=>{if(!(O&&e.some(Q=>Q.id===O))){if(p&&e.some(Q=>Q.id===p)){D(p);return}D(j==null?void 0:j.id)}},[O,p,e,j]);const L=E.useMemo(()=>O?_.find(Q=>Q.id===O)??j:j,[_,O,j]),te=Q=>{const ce=new URLSearchParams(f);Q?ce.set("session",Q):ce.delete("session"),h(ce,{replace:!0})},re=Q=>{D(Q),te(Q)},A=(L==null?void 0:L.date)??N,[C,q]=E.useState(A),[W,B]=E.useState(He(A).startOf("month").format("YYYY-MM-DD"));E.useEffect(()=>{L&&(q(L.date),B(He(L.date).startOf("month").format("YYYY-MM-DD")))},[L]);const U=E.useMemo(()=>{const Q=new Map;return e.forEach(ce=>{const H=He(ce.date).format("YYYY-MM-DD"),ne=Q.get(H)??[];ne.push(ce),Q.set(H,ne)}),Q.forEach(ce=>ce.sort((H,ne)=>(H.title??"").localeCompare(ne.title??"","es"))),Q},[e]),K=E.useMemo(()=>U.get(C)??[],[U,C]),X=E.useMemo(()=>XF(He(W)),[W]),M=E.useMemo(()=>{const Q=He(W);return e.filter(ce=>{const H=He(ce.date);return H.year()===Q.year()&&H.month()===Q.month()}).sort((ce,H)=>He(ce.date).valueOf()-He(H.date).valueOf())},[e,W]),J=E.useMemo(()=>{const Q=new Map;return M.forEach(ce=>{const H=He(ce.date).format("YYYY-MM-DD"),ne=Q.get(H)??[];ne.push(ce),Q.set(H,ne)}),Array.from(Q.entries()).sort((ce,H)=>He(ce[0]).valueOf()-He(H[0]).valueOf()).map(([ce,H])=>({date:ce,sessions:H.slice().sort((ne,we)=>(ne.title??"").localeCompare(we.title??"","es"))}))},[M]),I=Q=>{q(Q),B(He(Q).startOf("month").format("YYYY-MM-DD"));const ce=U.get(Q)??[];ce.length>0?re(ce[0].id):re(void 0)},$=()=>{const Q=i({date:C,title:"Nueva sesin",description:"",notes:""});re(Q.id)},z=Q=>{const ce=o(Q,C);ce&&re(ce.id)},P=Q=>{l(Q),O===Q&&re(void 0)},oe=Q=>{const ce=He(W).add(Q,"month");B(ce.format("YYYY-MM-DD")),q(H=>{const ne=He(H);return ne.month()===ce.month()&&ne.year()===ce.year()?H:ce.startOf("month").format("YYYY-MM-DD")})},me=E.useMemo(()=>new Map(n.map(Q=>[Q.id,Q])),[n]),he=E.useMemo(()=>new Map(t.map(Q=>[Q.id,Q])),[t]),Se=_.length===0,ue=E.useMemo(()=>r.filter(Q=>Q.active).slice().sort((Q,ce)=>Q.name.localeCompare(ce.name,"es",{sensitivity:"base"})),[r]),Ee=(L==null?void 0:L.attendance)??c3,xe=E.useMemo(()=>{const Q=new Map;Ee.forEach(ne=>{Q.set(ne.assistantId,ne)});let ce=0;ue.forEach(ne=>{var we;((we=Q.get(ne.id))==null?void 0:we.actualStatus)==="present"&&(ce+=1)});const H={present:ce,absent:Math.max(ue.length-ce,0)};return{map:Q,summary:H}},[Ee,ue]),Je=xe.map,rt=xe.summary,Qe=E.useMemo(()=>fc(L==null?void 0:L.startTime,"18:30"),[L==null?void 0:L.startTime]),G=E.useMemo(()=>{if(!L)return new Map;let Q=0;const ce=new Map;return L.workItems.forEach(H=>{const ne=he.get(H.workId),we=H.customDurationMinutes??(ne==null?void 0:ne.estimatedMinutes)??0,_e=xp(Qe+Q);ce.set(H.id,{startLabel:_e,duration:we}),Q+=we}),ce},[L,he,Qe]),le=L?_.findIndex(Q=>Q.id===L.id):-1,ae=le>0,be=le>=0&&le<_.length-1,ve=()=>{ae&&re(_[le-1].id)},se=()=>{be&&re(_[le+1].id)},ke=Q=>{const ce=Q.target.value;if(!ce)return;I(ce);const H=U.get(ce);H&&H.length>0&&re(H[0].id)},qe=Q=>{S(ce=>{const H=new Set(ce);return H.has(Q)?H.delete(Q):H.add(Q),H})},Xe=(Q,ce)=>{L&&u(L.id,Q,ce)},_t=y?g.jsxs("section",{className:"glass-panel space-y-6 p-6",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Calendario"}),g.jsx("h2",{className:"text-xl font-semibold text-white",children:f3(W)})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>oe(-1),children:" Mes anterior"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>oe(1),children:"Mes siguiente "})]})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.3fr_1.7fr]",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(Q=>g.jsx("div",{className:"rounded-full bg-white/5 py-2",children:Q},Q))}),g.jsx("div",{className:"grid grid-cols-7 gap-2",children:X.flat().map(Q=>{const ce=Q.format("YYYY-MM-DD"),H=U.get(ce)??[],ne=Q.month()===He(W).month(),we=Ou(ce,N),_e=Ou(ce,C);return g.jsxs("button",{type:"button",onClick:()=>I(ce),className:Re("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",_e?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!ne&&"text-white/30"),children:[g.jsx("span",{className:Re("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",we?"bg-white text-slate-900":""),children:Q.format("D")}),g.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[H.slice(0,3).map(Oe=>{const We=Oe.workItems[0],yt=We?t.find(Pt=>Pt.id===We.workId):void 0,dt=yt?n.find(Pt=>Pt.id===yt.objectiveId):void 0;return g.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(dt==null?void 0:dt.colorHex)??"rgba(255,255,255,0.4)"}},Oe.id)}),H.length>3?g.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},ce)})})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),g.jsx("h3",{className:"text-2xl font-semibold text-white",children:He(C).format("dddd, D [de] MMMM")})]}),g.jsx("div",{className:"flex gap-3",children:g.jsx("button",{type:"button",onClick:$,className:"btn-primary",children:"+ Nueva sesin"})})]}),g.jsx("div",{className:"space-y-3",children:K.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"An no hay sesiones planificadas este da. Crea una con el botn superior."}):K.map(Q=>g.jsx(h3,{session:Q,objectives:n,works:t,isActive:Q.id===(L==null?void 0:L.id),onSelect:()=>re(Q.id),onDuplicate:()=>z(Q.id),onDelete:()=>P(Q.id)},Q.id))}),J.length>0?g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:["Ver sesiones del mes (",M.length,")"]}),g.jsx("div",{className:"custom-scrollbar mt-3 max-h-[22rem] space-y-3 overflow-y-auto pr-1",children:J.map(({date:Q,sessions:ce})=>{const H=ce.length===1?"1 sesin":`${ce.length} sesiones`;return g.jsxs("div",{role:"button",tabIndex:0,onClick:()=>I(Q),onKeyDown:ne=>{(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),I(Q))},className:Re("cursor-pointer rounded-2xl border border-white/10 bg-white/5 p-3 text-sm transition hover:border-white/40 hover:bg-white/10",Ou(Q,C)&&"border-sky-400/50 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsxs("p",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{children:He(Q).format("ddd  D MMM")}),g.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-[9px] font-semibold tracking-[0.2em] text-white/50",children:H})]}),g.jsx("div",{className:"mt-3 space-y-2 text-xs",children:ce.map(ne=>{const we=(ne.description??"").trim(),_e=ne.workItems.reduce((Oe,We)=>{const yt=t.find(dt=>dt.id===We.workId);return Oe+(We.customDurationMinutes??(yt==null?void 0:yt.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:Oe=>{Oe.stopPropagation(),I(Q),re(ne.id)},className:Re("flex w-full flex-col gap-1 rounded-xl border border-white/10 bg-slate-950/60 px-3 py-2 text-left transition hover:border-white/30 hover:text-white",ne.id===(L==null?void 0:L.id)&&Ou(Q,C)&&"border-sky-400/60 text-white"),children:[g.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[g.jsx("span",{className:"truncate font-medium",children:ne.title||"Sesin sin ttulo"}),g.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-white/40",children:[ne.workItems.length,"  ",_e," min"]})]}),we?g.jsx("p",{className:"text-[11px] leading-relaxed text-white/60",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:we}):null]},ne.id)})})]},Q)})})]}):null]})]})]}):null;return g.jsxs("div",{className:"space-y-6",children:[Se||!L?g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end",children:[g.jsx(Bx,{mode:v,onChange:R}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(Q=>!Q),children:y?"Ocultar calendario":"Abrir calendario"})]}):null,_t,Se?g.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[g.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:g.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:g.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-lg font-semibold text-white sm:text-2xl",children:"An no hay sesiones"}),g.jsx("p",{className:"mx-auto max-w-md text-sm text-white/60 sm:text-base",children:"Crea tu primera sesin en el calendario y empieza a construir tu plan reutilizable."})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>w(!0),children:"Abrir calendario"})]}):L?g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[g.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{className:"sm:hidden",children:"Sesin"}),g.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),g.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:d3(L.date)}),g.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:L.title})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Duracin estimada"}),g.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[L.workItems.map(Q=>{const ce=he.get(Q.workId);return Q.customDurationMinutes??(ce==null?void 0:ce.estimatedMinutes)??0}).reduce((Q,ce)=>Q+ce,0)||0," ","min"]})]}),g.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[g.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),g.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:L.date??N,onChange:ke})]})]})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:ve,disabled:!ae,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:" Anterior"}),g.jsx("button",{type:"button",onClick:se,disabled:!be,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente "})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Bx,{mode:v,onChange:R}),g.jsx("button",{type:"button",className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",onClick:()=>w(Q=>!Q),children:y?"Ocultar calendario":"Abrir calendario"})]})]}),v==="edit"?g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-3 sm:p-4",children:g.jsx(A1,{session:L,works:t,objectives:n,assistants:r,onDateChange:Q=>{q(Q),B(He(Q).startOf("month").format("YYYY-MM-DD"))}})}):g.jsxs(g.Fragment,{children:[L.description&&g.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:g.jsx(vs,{content:L.description})}),g.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[g.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:L.workItems.map(Q=>{const ce=he.get(Q.workId),H=ce?me.get(ce.objectiveId):void 0,ne=b.has(Q.id),we=G.get(Q.id),_e=(we==null?void 0:we.startLabel)??xp(Qe),Oe=(we==null?void 0:we.duration)??Q.customDurationMinutes??(ce==null?void 0:ce.estimatedMinutes)??0,We=(Q.focusLabel??"").trim(),yt=We.length>0,dt=Q.customDescriptionMarkdown??(ce==null?void 0:ce.descriptionMarkdown)??"",Pt=dt.trim().length>0,Ye=((ce==null?void 0:ce.videoUrls)??[]).map(lt=>lt.trim()).filter(Boolean),tt=Ye.length>0,Wt=Pt||tt,Ue=((ce==null?void 0:ce.subtitle)??"").trim();return g.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:H?{background:`linear-gradient(120deg, ${H.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:g.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:Q.completed??!1,onChange:lt=>c(L.id,Q.id,lt.target.checked)})}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(ce==null?void 0:ce.name)??"Trabajo eliminado",yt?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",We]}):null]}),Ue?g.jsx("p",{className:"text-sm text-white/70",children:Ue}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:_e}),g.jsx("span",{className:"mx-2 text-white/30",children:""}),g.jsxs("span",{children:[Oe," min"]})]})]}),g.jsx(Mi,{objective:H,size:"sm"})]}),(Wt||tt)&&g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[Wt?g.jsxs("button",{type:"button",onClick:()=>qe(Q.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:Re("transition-transform",ne?"rotate-90":"rotate-0"),children:""}),ne?"Ocultar detalles":"Ver detalles"]}):null,tt?g.jsxs("span",{children:[Ye.length," vdeo",Ye.length>1?"s":""]}):null]})]}),g.jsx("div",{className:Re("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",Q.completed?"bg-white/20 text-white":""),children:Q.order+1})]}),Wt&&ne&&g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[Pt?g.jsx(vs,{content:dt,enableWorkLinks:!0}):null,tt?g.jsx("div",{className:"space-y-3",children:Ye.map((lt,ot)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Fc,{url:lt,title:`${(ce==null?void 0:ce.name)??"Trabajo"} vdeo ${ot+1}`}),g.jsx("a",{href:lt,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${Q.id}-video-${ot}`))}):null]})]},Q.id)})})]})]}),v==="view"?r.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Quines participan?"}),g.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quin ha venido a clase en tiempo real."}),g.jsx(Xr,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):ue.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes estn inactivos."}),g.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la seccin de asistentes para poder marcar su asistencia."}),g.jsx(Xr,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),g.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quin est presente en la sesin actual."})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:t3.map(Q=>g.jsxs("span",{className:Re("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",r3[Q]),children:[rt[Q]," ",n3[Q]]},Q))})]}),g.jsx("div",{className:"space-y-2",children:ue.map(Q=>{const ce=Je.get(Q.id),H=(ce==null?void 0:ce.status)??"pending",ne=(ce==null?void 0:ce.actualStatus)==="present",we=()=>Xe(Q.id,ne?"absent":"present");return g.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:Q.name}),g.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsin"}),g.jsx("span",{className:Re("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",e3[H]),children:ZF[H]}),g.jsx("span",{className:"hidden text-white/30 sm:inline",children:""}),g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),g.jsx("span",{className:Re("font-semibold",ne?"text-emerald-200":"text-white/60"),children:ne?"Presente":"No asisti"})]})]}),g.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[g.jsxs("button",{type:"button",onClick:we,"aria-pressed":ne,"aria-label":`${ne?"Desmarcar asistencia de":"Marcar asistencia de"} ${Q.name}`,title:ne?"Desmarcar asistencia":"Marcar como presente",className:Re(i3,ne?s3:o3),children:[g.jsx("span",{className:Re(a3,ne?l3:u3),children:ne?g.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:g.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):g.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),g.jsx("span",{children:ne?"Ha asistido":"Marcar asistencia"})]}),g.jsx("span",{className:Re("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",ne?"text-emerald-200":"text-white/40"),children:ne?"PRESENTE":"AUSENTE"})]})]})},Q.id)})})]}):null]}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Selecciona una sesin desde el calendario."})]})}function m3(){return g.jsx(p3,{})}function g3(){const[e]=Ep(),t=new URLSearchParams(e);return t.set("mode","edit"),g.jsx(vc,{to:{pathname:"/",search:`?${t.toString()}`},replace:!0})}const Ux={name:"",subtitle:"",objectiveId:"",parentWorkId:"",nodeType:"",tags:"",orderHint:0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""],visibility:"private",collaborators:[""]},v3=e=>Array.from(new Set(e.split(",").map(t=>t.trim().toLowerCase()).filter(t=>t.length>0))),Wx=e=>e.join(", "),yh="__no_objective__",R1={private:"Privado",shared:"Compartido",public:"Pblico"},y3={private:"Solo t puedes ver y editar este trabajo.",shared:"Solo las personas que aadas pueden editarlo contigo.",public:"Cualquier persona con acceso al catlogo puede verlo. Solo tus editores pueden cambiarlo."},O1=5,ja="personal-exclude";function x3({work:e,childCount:t,depth:n,expanded:r,isTreeCollapsed:i,isPersonalExcluded:o,canTogglePersonal:l,personalToggleBusy:u,nextLabel:c,variantLabel:f,onToggle:h,onToggleTree:p,onTogglePersonal:v,onEdit:y,onDuplicate:w,onCreateChild:b,onDelete:S}){var P;const _=(e.descriptionMarkdown??"").trim(),N=(e.subtitle??"").trim(),j=(e.notes??"").trim(),O=e.videoUrls.filter(oe=>oe.trim().length>0),D=_.length>0,R=N.length>0,L=j.length>0,te=O.length>0,re=D||L||te,A=t>0,C=n>0?{marginLeft:`${n*1.5}rem`}:void 0,q=e.visibility??"private",W=R1[q],B=((P=e.collaboratorEmails)==null?void 0:P.length)??0,U=e.canEdit??!1,K=e.isOwner??!1,X=(e.ownerEmail??"").trim(),M=(e.nodeType??"").trim(),J=(e.tags??[]).filter(oe=>oe!==ja),I=(M||"work").trim().toLowerCase(),$=(()=>{const oe={form:"Forma",segment:"Segmento",application:"Aplicacin",technique:"Tcnica",drill:"Drill",style:"Estilo",link:"Link",work:"Trabajo"},me={form:"border-indigo-500/40 bg-indigo-500/15 text-indigo-100",segment:"border-sky-500/40 bg-sky-500/15 text-sky-100",application:"border-amber-500/40 bg-amber-500/15 text-amber-100",technique:"border-emerald-500/40 bg-emerald-500/15 text-emerald-100",drill:"border-purple-500/40 bg-purple-500/15 text-purple-100",style:"border-white/20 bg-white/10 text-white/70",link:"border-white/20 bg-white/10 text-white/70",work:"border-white/20 bg-white/10 text-white/70"},he=oe[I]??(M||"Trabajo"),Se=me[I]??me.work;return g.jsx("span",{className:Re("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold",Se),children:he})})(),z=(()=>{const oe={form:"border-indigo-500/25",segment:"border-sky-500/25",application:"border-amber-500/25",technique:"border-emerald-500/25",drill:"border-purple-500/25",work:"border-white/10"},me={form:"bg-indigo-500",segment:"bg-sky-500",application:"bg-amber-500",technique:"bg-emerald-500",drill:"bg-purple-500",work:""},he={form:"bg-indigo-400/60",segment:"bg-sky-400/60",application:"bg-amber-400/60",technique:"bg-emerald-400/60",drill:"bg-purple-400/60",work:"bg-white/10"},Se=oe[I]??oe.work,ue=me[I]??me.work,Ee=he[I]??he.work;return{borderClassName:Se,glowClassName:ue,barClassName:Ee}})();return g.jsxs("article",{id:`work-${e.id}`,className:Re("group relative space-y-4 rounded-xl border bg-white/5 p-4 pb-5 shadow shadow-black/30",z.borderClassName),style:C,children:[g.jsx("div",{className:Re("absolute inset-y-0 left-0 w-1 rounded-r-full",z.barClassName),"aria-hidden":!0}),z.glowClassName?g.jsx("div",{className:Re("absolute inset-0 -z-[1] rounded-xl opacity-10 blur-3xl",z.glowClassName)}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{role:re?"button":void 0,tabIndex:re?0:void 0,onClick:()=>{re&&h()},onKeyDown:oe=>{re&&(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),h())},className:Re("flex flex-1 items-start gap-3 border border-transparent px-2 py-2 text-left transition",re?"cursor-pointer hover:border-white/10 hover:bg-white/5 focus-visible:border-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40":"cursor-default"),"aria-expanded":re?r:void 0,children:[A?g.jsx("button",{type:"button",onClick:oe=>{oe.stopPropagation(),p()},className:Re("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white"),"aria-label":i?"Mostrar trabajos hijos":"Ocultar trabajos hijos",title:i?"Mostrar hijos":"Ocultar hijos",children:i?"":""}):null,re?g.jsx("span",{className:Re("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition",r?"rotate-90 border-white/30 text-white":""),"aria-hidden":!0,children:""}):null,g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),R?g.jsx("p",{className:"text-sm text-white/70",children:N}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/20 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:W}),J.slice(0,3).map(oe=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] font-semibold text-white/60",children:oe},oe)),K?g.jsx("span",{children:"Propietario"}):X?g.jsx("span",{children:X}):null,B>0?g.jsxs("span",{children:["+",B," colaborador",B===1?"":"es"]}):null,f?g.jsxs("span",{className:"text-white/50",children:["Variante de: ",f]}):null,c?g.jsxs("span",{className:"text-white/50",children:["Siguiente: ",c]}):null,U?null:g.jsx("span",{className:"text-amber-300/80",children:"Solo lectura"})]})]})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[$,g.jsx("button",{type:"button",onClick:oe=>{oe.stopPropagation(),v()},disabled:!l||u,className:Re("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition disabled:opacity-50",o?"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400":"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400"),title:o?"Incluir en el plan personal":"Excluir del plan personal",children:u?"...":o?"Fuera":"En plan"}),g.jsxs(Xi,{as:"div",className:"relative inline-flex",children:[g.jsxs(Xi.Button,{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-white/40 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40",children:[g.jsx("span",{className:"sr-only",children:"Abrir acciones"}),g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5","aria-hidden":"true",children:[g.jsx("circle",{cx:"12",cy:"5",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"19",r:"1.5"})]})]}),g.jsxs(Xi.Items,{className:"absolute right-0 z-10 mt-2 w-44 overflow-hidden rounded-2xl border border-white/10 bg-slate-900/95 p-1 text-sm text-white shadow-lg shadow-black/40 focus:outline-none",children:[g.jsx(Xi.Item,{children:({active:oe})=>g.jsx("button",{type:"button",onClick:U?y:void 0,disabled:!U,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",oe&&U?"bg-white/10 text-white":"text-white/70"),children:"Editar"})}),g.jsx(Xi.Item,{children:({active:oe})=>g.jsx("button",{type:"button",onClick:U?w:void 0,disabled:!U,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",oe&&U?"bg-white/10 text-white":"text-white/70"),children:"Duplicar"})}),g.jsx(Xi.Item,{children:({active:oe})=>g.jsx("button",{type:"button",onClick:U?b:void 0,disabled:!U,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",oe&&U?"bg-white/10 text-white":"text-white/70"),children:"Nuevo hijo"})}),g.jsx(Xi.Item,{children:({active:oe})=>g.jsx("button",{type:"button",onClick:K?S:void 0,disabled:!K,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",oe&&K?"bg-rose-500/20 text-rose-100":"text-rose-300"),children:"Eliminar"})})]})]})]})]}),re&&r&&g.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[D?g.jsx(vs,{content:e.descriptionMarkdown,enableWorkLinks:!0}):null,L?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,te?g.jsx("div",{className:"space-y-3",children:g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:O.map((oe,me)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Fc,{url:oe,title:`${e.name} vdeo ${me+1}`}),g.jsx("a",{href:oe,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${me}`))})}):null]}),g.jsx("button",{type:"button",onClick:U?b:void 0,disabled:!U,className:Re("absolute bottom-0 left-1/2 flex -translate-x-1/2 translate-y-1/2 items-center justify-center rounded-full border border-dashed border-white/20 bg-slate-950/80 px-4 py-2 text-sm font-semibold text-white/80 opacity-0 transition hover:border-white/40 hover:text-white focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto focus-visible:pointer-events-auto",!U&&"opacity-30"),title:U?A?"Aadir trabajo hijo":"Crear primer trabajo hijo":"No tienes permisos para crear trabajos hijos","aria-label":"Crear trabajo hijo",children:"+"})]})}function w3({form:e,objectiveOptions:t,parentOptions:n,workOptions:r,depth:i,onFieldChange:o,onVideoChange:l,onAddVideo:u,onRemoveVideo:c,onCollaboratorChange:f,onAddCollaborator:h,onRemoveCollaborator:p,onSave:v,onCancel:y,isNew:w,canEditContent:b,canManageSharing:S,isSaving:_,isOwner:N,ownerEmail:j}){const O=t.find(C=>C.id===e.objectiveId),D=n.find(C=>C.id===e.parentWorkId),R=r.find(C=>C.id===e.nextWorkId),L=r.find(C=>C.id===e.variantOfWorkId),te=i>0?{marginLeft:`${i*1.5}rem`}:void 0,re=e.id?`work-name-${e.id}`:void 0,A=e.id?`work-subtitle-${e.id}`:void 0;return g.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",style:te,children:[g.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex-1 space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:w?"Nuevo trabajo":"Editando trabajo"}),g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:re,children:"Nombre"}),g.jsx("input",{id:re,type:"text",className:"input-field w-full text-base font-semibold disabled:opacity-60",placeholder:"Nombre descriptivo",value:e.name,onChange:C=>o({name:C.target.value}),disabled:!b})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:A,children:"Subttulo (opcional)"}),g.jsx("input",{id:A,type:"text",className:"input-field w-full disabled:opacity-60",placeholder:"Aade un subttulo breve",value:e.subtitle,onChange:C=>o({subtitle:C.target.value}),disabled:!b})]})]}),g.jsx(Mi,{objective:O,size:"sm"})]}),b?null:g.jsx("div",{className:"rounded-2xl border border-amber-400/40 bg-amber-500/10 p-3 text-xs text-amber-200",children:"No tienes permisos para editar el contenido de este trabajo. Puedes revisar la informacin y sugerir cambios al propietario."}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.objectiveId,onChange:C=>o({objectiveId:C.target.value}),disabled:!b,children:[g.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map(C=>g.jsx("option",{value:C.id,children:C.name},C.id))]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Trabajo padre (opcional)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.parentWorkId,onChange:C=>o({parentWorkId:C.target.value}),disabled:!b,children:[g.jsx("option",{value:"",children:"Sin trabajo padre"}),n.map(C=>g.jsx("option",{value:C.id,children:C.label},C.id))]}),e.parentWorkId&&D?g.jsxs("p",{className:"text-xs text-white/40",children:["Deriva de: ",D.label]}):null]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duracin estimada (min)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.estimatedMinutes,onChange:C=>o({estimatedMinutes:Number(C.target.value)}),disabled:!b})]})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Node type (opcional)"}),g.jsx("input",{type:"text",className:"input-field disabled:opacity-60",value:e.nodeType,onChange:C=>o({nodeType:C.target.value}),placeholder:"Ej. form, segment, technique",disabled:!b})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Tags (coma-separadas)"}),g.jsx("input",{type:"text",className:"input-field disabled:opacity-60",value:e.tags,onChange:C=>o({tags:C.target.value}),placeholder:"Ej. kungfu, shaolin, form",disabled:!b})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Order hint (opcional)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.orderHint,onChange:C=>o({orderHint:Number(C.target.value)}),disabled:!b})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Siguiente (next)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.nextWorkId,onChange:C=>o({nextWorkId:C.target.value}),disabled:!b,children:[g.jsx("option",{value:"",children:"Sin siguiente"}),r.filter(C=>C.id!==e.id).map(C=>g.jsx("option",{value:C.id,children:C.label},C.id))]}),e.nextWorkId&&R?g.jsxs("p",{className:"text-xs text-white/40",children:["Siguiente: ",R.label]}):null]}),g.jsxs("div",{className:"grid gap-2 sm:col-span-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Variante de (variant_of)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.variantOfWorkId,onChange:C=>o({variantOfWorkId:C.target.value}),disabled:!b,children:[g.jsx("option",{value:"",children:"Sin base"}),r.filter(C=>C.id!==e.id).map(C=>g.jsx("option",{value:C.id,children:C.label},C.id))]}),e.variantOfWorkId&&L?g.jsxs("p",{className:"text-xs text-white/40",children:["Variante de: ",L.label]}):null]})]}),g.jsxs("section",{className:"space-y-3 rounded-3xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Visibilidad"}),g.jsx("p",{className:"text-sm text-white/60",children:N?"Eres el propietario de este trabajo.":j?`Propietario: ${j}`:""})]}),S?null:g.jsx("p",{className:"text-xs text-amber-300/80",children:"Solo el propietario puede cambiar la visibilidad o los colaboradores."})]}),g.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:["private","shared","public"].map(C=>g.jsxs("label",{className:Re("inline-flex items-center gap-2 rounded-2xl border px-3 py-2 text-sm transition",e.visibility===C?"border-sky-400/80 bg-sky-400/10 text-white":"border-white/15 text-white/70 hover:border-white/30 hover:text-white",!S&&"opacity-50"),children:[g.jsx("input",{type:"radio",className:"accent-sky-400",checked:e.visibility===C,onChange:()=>o({visibility:C}),disabled:!S}),R1[C]]},C))}),g.jsx("p",{className:"text-xs text-white/50",children:y3[e.visibility]}),e.visibility==="private"?null:g.jsxs("div",{className:"space-y-2 rounded-2xl border border-white/10 bg-white/5 p-3",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Colaboradores (edicin)"}),g.jsx("p",{className:"text-xs text-white/50",children:"Aade hasta 5 direcciones de correo. Tendrn permisos de edicin completos."}),g.jsx("div",{className:"space-y-2",children:e.collaborators.map((C,q)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"email",className:"input-field flex-1 disabled:opacity-60",placeholder:"colega@ejemplo.com",value:C,onChange:W=>f(q,W.target.value),disabled:!S}),e.collaborators.length>1?g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200 disabled:opacity-40",onClick:()=>p(q),"aria-label":"Eliminar colaborador",disabled:!S,children:""}):null]},`collaborator-${q}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-40",onClick:h,disabled:!S||e.collaborators.length>=O1,children:"+ Aadir colaborador"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px] disabled:opacity-60",value:e.descriptionMarkdown,onChange:C=>o({descriptionMarkdown:C.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes.",disabled:!b})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),g.jsx("textarea",{className:"input-field min-h-[100px] disabled:opacity-60",value:e.notes,onChange:C=>o({notes:C.target.value}),disabled:!b})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de YouTube"}),g.jsx("div",{className:"space-y-3",children:e.videoUrls.map((C,q)=>g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"url",className:"input-field flex-1 disabled:opacity-60",value:C,onChange:W=>l(q,W.target.value),placeholder:"https://www.youtube.com/watch?v=...",disabled:!b}),e.videoUrls.length>1?g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>c(q),"aria-label":"Eliminar enlace de vdeo",disabled:!b,children:""}):null]}),g.jsx(Fc,{url:C,title:`Vista previa vdeo ${q+1}`})]},`video-field-${q}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-50",onClick:u,disabled:!b,children:"+ Aadir vdeo"})]}),g.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:v,className:"btn-primary disabled:opacity-60",disabled:_,children:_?"Guardando":"Guardar"}),g.jsx("button",{type:"button",className:"btn-secondary disabled:opacity-50",onClick:y,disabled:_,children:"Cancelar"})]})]})}function b3(){var Qe;const e=Ie(G=>G.works),t=Ie(G=>G.objectives),n=Ie(G=>G.addWork),r=Ie(G=>G.updateWork),i=Ie(G=>G.deleteWork),o=Ie(G=>G.worksLoading),l=ni(),{user:u}=ks(),c=E.useMemo(()=>u?{actorId:u.id,actorEmail:u.email??""}:null,[u]),[f,h]=E.useState(""),[p,v]=E.useState(null),[y,w]=E.useState(new Set),[b,S]=E.useState(new Set),[_,N]=E.useState(new Set),[j,O]=E.useState({}),[D,R]=E.useState(null),[L,te]=E.useState(null),re=E.useMemo(()=>new Map(t.map(G=>[G.id,G])),[t]),A=E.useMemo(()=>[...t].sort((G,le)=>(G.name??"").localeCompare(le.name??"","es")),[t]),C=E.useMemo(()=>new Map(e.map(G=>[G.id,G])),[e]),q=E.useMemo(()=>{const G=new Map;return e.forEach(le=>{const ae=le.parentWorkId;if(!ae)return;const be=G.get(ae)??[];be.push(le),G.set(ae,be)}),G.forEach(le=>{le.sort((ae,be)=>ae.name.localeCompare(be.name,"es",{sensitivity:"base"}))}),G},[e]),W=E.useMemo(()=>{const G=new Map,le=(ae,be)=>{if(G.has(ae))return G.get(ae);const ve=C.get(ae);if(!ve)return"";if(!ve.parentWorkId||be.has(ae))return G.set(ae,ve.name),ve.name;be.add(ae);const se=le(ve.parentWorkId,be);be.delete(ae);const ke=se?`${se}  ${ve.name}`:ve.name;return G.set(ae,ke),ke};return e.forEach(ae=>{le(ae.id,new Set)}),G},[e,C]);E.useEffect(()=>{const G=l.hash,le="#work-";let ae=null;if(G.startsWith(le)&&(ae=G.slice(le.length)),!ae){const se=new URLSearchParams(l.search);ae=se.get("workId")??se.get("work")}if(!ae)return;w(se=>{if(se.has(ae))return se;const ke=new Set(se);return ke.add(ae),ke});const be=document.getElementById(`work-${ae}`);if(!be)return;be.scrollIntoView({behavior:"smooth",block:"start"}),be.classList.add("ring-2","ring-sky-500/60");const ve=window.setTimeout(()=>{be.classList.remove("ring-2","ring-sky-500/60")},1500);return()=>{window.clearTimeout(ve),be.classList.remove("ring-2","ring-sky-500/60")}},[l.hash,l.search,e]);const B=E.useMemo(()=>{const G=new Map,le=ae=>{if(G.has(ae))return G.get(ae);const be=new Set;return(q.get(ae)??[]).forEach(se=>{be.add(se.id),le(se.id).forEach(ke=>be.add(ke))}),G.set(ae,be),be};return e.forEach(ae=>le(ae.id)),G},[e,q]),U=E.useCallback((G,le)=>{var ve,se;const ae=new Set;G&&(ae.add(G),(ve=B.get(G))==null||ve.forEach(ke=>ae.add(ke)));const be=e.filter(ke=>!ae.has(ke.id)).map(ke=>({id:ke.id,label:(()=>{var _t;const qe=W.get(ke.id)??ke.name,Xe=(_t=re.get(ke.objectiveId))==null?void 0:_t.name;return Xe?`${Xe}  ${qe}`:qe})()})).sort((ke,qe)=>ke.label.localeCompare(qe.label,"es",{sensitivity:"base"}));if(le&&le.length>0&&!be.some(ke=>ke.id===le)){const ke=C.get(le),qe=W.get(le)??(ke==null?void 0:ke.name)??"Trabajo no disponible",Xe=ke?(se=re.get(ke.objectiveId))==null?void 0:se.name:void 0,_t=Xe?`${Xe}  ${qe}`:qe;be.unshift({id:le,label:_t})}return be},[e,W,B,C,re]),K=E.useMemo(()=>e.map(G=>{var ve;const le=W.get(G.id)??G.name,ae=(ve=re.get(G.objectiveId))==null?void 0:ve.name,be=ae?`${ae}  ${le}`:le;return{id:G.id,label:be}}).sort((G,le)=>G.label.localeCompare(le.label,"es",{sensitivity:"base"})),[e,W,re]),X=E.useMemo(()=>{const G=f.trim().toLowerCase(),le=ve=>{var Q;if(!G)return!0;const se=((Q=re.get(ve.objectiveId))==null?void 0:Q.name)??"",ke=ve.parentWorkId?W.get(ve.parentWorkId)??"":"",qe=ve.id?W.get(ve.id)??"":"",Xe=(ve.nodeType??"").toLowerCase(),_t=Array.isArray(ve.tags)?ve.tags.join(" "):ve.tags??"";return ve.name.toLowerCase().includes(G)||(ve.subtitle??"").toLowerCase().includes(G)||ve.descriptionMarkdown.toLowerCase().includes(G)||se.toLowerCase().includes(G)||ke.toLowerCase().includes(G)||qe.toLowerCase().includes(G)||Xe.includes(G)||_t.toLowerCase().includes(G)},ae=[],be=ve=>{if(!ve)return 0;let se=1,ke=C.get(ve);const qe=new Set(ve?[ve]:[]);for(;ke&&ke.parentWorkId;){const Xe=ke.parentWorkId;if(!Xe||qe.has(Xe))break;se+=1,qe.add(Xe),ke=C.get(Xe)}return se};return e.forEach(ve=>{const se=j[ve.id],ke=(se==null?void 0:se.data)??{id:ve.id,name:ve.name,subtitle:ve.subtitle??"",nodeType:ve.nodeType??"",tags:ve.tags??[],descriptionMarkdown:ve.descriptionMarkdown,objectiveId:ve.objectiveId,parentWorkId:ve.parentWorkId??""};!se&&!le(ke)||ae.push({id:ve.id,objectiveId:ke.objectiveId,parentWorkId:ke.parentWorkId??"",depth:be(ke.parentWorkId),work:ve,isNew:!1,isEditing:!!se,form:se==null?void 0:se.data})}),Object.entries(j).filter(([,ve])=>ve.isNew).forEach(([ve,se])=>{le(se.data)&&ae.push({id:ve,objectiveId:se.data.objectiveId,parentWorkId:se.data.parentWorkId,depth:be(se.data.parentWorkId||void 0),work:void 0,isNew:!0,isEditing:!0,form:se.data})}),ae},[e,C,j,re,W,f]),M=E.useCallback(G=>{var ve;const le=(G.isEditing&&G.form?G.form.parentWorkId:G.parentWorkId)??"";if(!le)return!1;let ae=le;const be=new Set;for(;ae&&!be.has(ae);){if(be.add(ae),b.has(ae))return!0;ae=(((ve=C.get(ae))==null?void 0:ve.parentWorkId)??"")||""}return!1},[b,C]),J=E.useMemo(()=>{const G=new Map;X.forEach(se=>{const ke=re.has(se.objectiveId)?se.objectiveId:yh,qe=G.get(ke)??[];qe.push(se),G.set(ke,qe)});const le=se=>{var ke,qe;if(se.isEditing&&se.form){const Xe=se.form.name.trim()||(((ke=se.work)==null?void 0:ke.name)??""),_t=se.form.parentWorkId&&se.form.parentWorkId.length>0?W.get(se.form.parentWorkId)??((qe=C.get(se.form.parentWorkId))==null?void 0:qe.name)??"":"";return _t?`${_t}  ${Xe}`:Xe}return se.work?W.get(se.work.id)??se.work.name:se.id},ae=(se,ke)=>{const qe=le(se),Xe=le(ke);return qe.localeCompare(Xe,"es",{sensitivity:"base"})},be=[];A.forEach(se=>{const ke=G.get(se.id);ke&&ke.length&&be.push({objective:se,items:ke.slice().sort(ae)})});const ve=G.get(yh);return ve&&ve.length&&be.push({objective:void 0,items:ve.slice().sort(ae)}),be},[X,re,A,W,C]),I=((Qe=A[0])==null?void 0:Qe.id)??"",$=(G,le)=>{O(ae=>{const be=ae[G];return be?{...ae,[G]:le(be)}:ae})},z=G=>G.length>0?G:[""],P=G=>G.length>0?G:[""],oe=G=>{O(le=>le[G.id]?le:{...le,[G.id]:{data:{id:G.id,name:G.name,subtitle:G.subtitle??"",objectiveId:G.objectiveId,parentWorkId:G.parentWorkId??"",nodeType:G.nodeType??"",tags:Wx(G.tags??[]),orderHint:G.orderHint??0,nextWorkId:G.nextWorkId??"",variantOfWorkId:G.variantOfWorkId??"",descriptionMarkdown:G.descriptionMarkdown,estimatedMinutes:G.estimatedMinutes,notes:G.notes??"",videoUrls:z(G.videoUrls.slice()),visibility:G.visibility??"private",collaborators:P(G.collaboratorEmails??[])},isNew:!1,originalId:G.id}}),w(le=>{const ae=new Set(le);return ae.add(G.id),ae})},me=()=>{const G=`draft-${Zt()}`;O(le=>({...le,[G]:{data:{...Ux,id:G,subtitle:"",objectiveId:I},isNew:!0}})),w(le=>{const ae=new Set(le);return ae.add(G),ae})},he=G=>{const le=`draft-${Zt()}`;O(ae=>({...ae,[le]:{data:{id:le,name:`${G.name} (copia)`,subtitle:G.subtitle??"",objectiveId:G.objectiveId,parentWorkId:G.parentWorkId??"",nodeType:G.nodeType??"",tags:Wx(G.tags??[]),orderHint:G.orderHint??0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:G.descriptionMarkdown,estimatedMinutes:G.estimatedMinutes,notes:G.notes??"",videoUrls:z(G.videoUrls.slice()),visibility:"private",collaborators:[""]},isNew:!0}})),w(ae=>{const be=new Set(ae);return be.add(le),be}),v({type:"success",text:"Duplicacin creada. Ajusta y guarda para confirmarla."})},Se=G=>{const le=`draft-${Zt()}`;O(ae=>({...ae,[le]:{data:{...Ux,id:le,subtitle:"",objectiveId:G.objectiveId,parentWorkId:G.id,estimatedMinutes:G.estimatedMinutes,visibility:G.visibility??"private",collaborators:[""]},isNew:!0}})),w(ae=>{const be=new Set(ae);return be.add(le),be}),v({type:"success",text:`Creando un trabajo hijo para ${G.name}. Ajusta y guarda para confirmarlo.`})},ue=G=>{w(le=>{const ae=new Set(le);return ae.has(G)?ae.delete(G):ae.add(G),ae})},Ee=G=>{O(le=>{const ae={...le};return delete ae[G],ae}),G.startsWith("draft-")&&w(le=>{const ae=new Set(le);return ae.delete(G),ae})},xe=async G=>{const le=j[G];if(!le||D)return;if(!c){v({type:"error",text:"Inicia sesin para guardar este trabajo."});return}const ae=(le.data.parentWorkId??"").trim(),be=ae.length>0?ae:void 0,ve=le.data.nodeType.trim(),se=ve.length>0?ve:void 0,ke=v3(le.data.tags),qe=Number(le.data.orderHint)>0?Number(le.data.orderHint):void 0,Xe=(le.data.nextWorkId??"").trim(),_t=Xe.length>0?Xe:void 0,Q=(le.data.variantOfWorkId??"").trim(),ce=Q.length>0?Q:void 0,H={name:le.data.name.trim(),subtitle:le.data.subtitle.trim()||void 0,objectiveId:le.data.objectiveId,nodeType:se,tags:ke,orderHint:qe,nextWorkId:_t,variantOfWorkId:ce,descriptionMarkdown:le.data.descriptionMarkdown,estimatedMinutes:Number(le.data.estimatedMinutes)||0,notes:le.data.notes.trim()||void 0,videoUrls:le.data.videoUrls.map(_e=>_e.trim()).filter(Boolean),parentWorkId:be,visibility:le.data.visibility,collaboratorEmails:Array.from(new Set(le.data.collaborators.map(_e=>_e.trim().toLowerCase()).filter(_e=>_e.length>0)))};if(!H.name){v({type:"error",text:"El nombre es obligatorio."});return}if(!H.objectiveId){v({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if(H.parentWorkId&&le.originalId){if(H.parentWorkId===le.originalId){v({type:"error",text:"Un trabajo no puede ser su propio padre."});return}const _e=B.get(le.originalId);if(_e&&_e.has(H.parentWorkId)){v({type:"error",text:"Selecciona un trabajo padre que no sea un descendiente."});return}}if(le.originalId&&H.nextWorkId===le.originalId){v({type:"error",text:"Un trabajo no puede tenerse como siguiente."});return}if(le.originalId&&H.variantOfWorkId===le.originalId){v({type:"error",text:"Un trabajo no puede ser variante de s mismo."});return}const ne=le.originalId?C.get(le.originalId):void 0,we=le.isNew||((ne==null?void 0:ne.isOwner)??!1);R(G);try{if(le.isNew){const _e=await n({name:H.name,subtitle:H.subtitle,objectiveId:H.objectiveId,parentWorkId:H.parentWorkId,nodeType:H.nodeType,tags:H.tags,orderHint:H.orderHint,nextWorkId:H.nextWorkId,variantOfWorkId:H.variantOfWorkId,descriptionMarkdown:H.descriptionMarkdown,estimatedMinutes:H.estimatedMinutes,notes:H.notes,videoUrls:H.videoUrls,visibility:H.visibility,collaboratorEmails:H.collaboratorEmails},c);v({type:"success",text:"Trabajo creado correctamente."}),w(Oe=>{const We=new Set(Oe);return We.delete(G),We.add(_e.id),We})}else if(le.originalId){const _e={name:H.name,subtitle:H.subtitle??null,objectiveId:H.objectiveId,parentWorkId:H.parentWorkId??null,nodeType:H.nodeType??null,tags:H.tags,orderHint:H.orderHint??null,nextWorkId:H.nextWorkId??null,variantOfWorkId:H.variantOfWorkId??null,descriptionMarkdown:H.descriptionMarkdown,estimatedMinutes:H.estimatedMinutes,notes:H.notes??null,videoUrls:H.videoUrls};we&&(_e.visibility=H.visibility,_e.collaboratorEmails=H.collaboratorEmails),await r(le.originalId,_e,c),v({type:"success",text:"Trabajo actualizado."})}O(_e=>{const Oe={..._e};return delete Oe[G],Oe})}catch(_e){console.error("No se pudo guardar el trabajo",_e),v({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{R(null)}},Je=async G=>{var ae;if(!c){v({type:"error",text:"Inicia sesin para eliminar trabajos."});return}const le=(((ae=B.get(G))==null?void 0:ae.size)??0)>0;try{if(!await i(G,c)){v({type:"error",text:le?"No se puede eliminar porque tiene trabajos hijos.":"No se puede eliminar porque est siendo usado en alguna sesin."});return}v({type:"success",text:"Trabajo eliminado."}),O(ve=>{const se={...ve};return delete se[G],se}),w(ve=>{const se=new Set(ve);return se.delete(G),se})}catch(be){console.error("No se pudo eliminar el trabajo",be),v({type:"error",text:"No tienes permisos para eliminar este trabajo o se ha producido un error."})}},rt=async G=>{if(!c){v({type:"error",text:"Inicia sesin para editar trabajos."});return}if(!(G.canEdit??!1)||(G.nodeType??"").trim().toLowerCase()==="style")return;const le=(G.tags??[]).map(ve=>ve.trim().toLowerCase()).filter(Boolean),ae=le.includes(ja),be=ae?le.filter(ve=>ve!==ja):Array.from(new Set([...le,ja]));te(G.id);try{await r(G.id,{tags:be},c),v({type:"success",text:ae?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>v(null),1800)}catch(ve){console.error("No se pudo actualizar el trabajo",ve),v({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{te(null)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),g.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),g.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[g.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:f,onChange:G=>h(G.target.value),placeholder:"Buscar por nombre, descripcin u objetivo"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:me,children:"Nuevo trabajo"}),o?g.jsx("span",{className:"text-xs text-white/60 sm:ml-3",children:"Sincronizando trabajos"}):null]})]}),p&&g.jsx("div",{className:Re("rounded-2xl border px-4 py-3 text-sm",p.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:p.text})]}),g.jsx("section",{className:"space-y-6",children:J.length===0?o?g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Sincronizando trabajos"}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no hay trabajos guardados. Empieza creando uno con el botn Nuevo trabajo."}):J.map(({objective:G,items:le})=>{const ae=G?G.name:"Sin objetivo asignado",be=(G==null?void 0:G.id)??yh,ve=_.has(be);return g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{type:"button",onClick:()=>N(se=>{const ke=new Set(se);return ke.has(be)?ke.delete(be):ke.add(be),ke}),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white","aria-label":ve?"Expandir grupo":"Colapsar grupo",title:ve?"Expandir":"Colapsar",children:ve?"":""}),g.jsx("h3",{className:"text-lg font-semibold text-white",children:ae}),g.jsx(Mi,{objective:G,size:"sm"})]}),g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[le.length," trabajo",le.length===1?"":"s"]})]}),ve?null:g.jsx("div",{className:"space-y-4",children:le.filter(se=>!M(se)).map(se=>{var we,_e,Oe,We,yt,dt,Pt;const ke=y.has(se.id),qe=(se.isEditing&&se.form?se.form.parentWorkId:se.parentWorkId)??"",Xe=se.isEditing?U((we=se.work)==null?void 0:we.id,qe):[],Q=(se.work?q.get(se.work.id)??[]:[]).length,ce=b.has(se.id);if(se.isEditing&&se.form){const Ye=se.isNew||(((_e=se.work)==null?void 0:_e.canEdit)??!1),tt=se.isNew||(((Oe=se.work)==null?void 0:Oe.isOwner)??!1),Wt=se.isNew||(((We=se.work)==null?void 0:We.isOwner)??!1);return g.jsx(w3,{form:se.form,objectiveOptions:A,parentOptions:Xe,workOptions:K,depth:se.depth,onFieldChange:Ue=>$(se.id,lt=>{const ot={...lt.data,...Ue};if(Ue.parentWorkId!==void 0&&Ue.parentWorkId.length>0){const Jt=C.get(Ue.parentWorkId);Jt&&(ot.objectiveId=Jt.objectiveId)}return Ue.visibility==="private"&&(ot.collaborators=[""]),{...lt,data:ot}}),onVideoChange:(Ue,lt)=>$(se.id,ot=>{const Jt=ot.data.videoUrls.slice();return Jt[Ue]=lt,{...ot,data:{...ot.data,videoUrls:Jt}}}),onAddVideo:()=>$(se.id,Ue=>({...Ue,data:{...Ue.data,videoUrls:[...Ue.data.videoUrls,""]}})),onRemoveVideo:Ue=>$(se.id,lt=>{const ot=lt.data.videoUrls.slice();return ot.splice(Ue,1),{...lt,data:{...lt.data,videoUrls:ot.length?ot:[""]}}}),onCollaboratorChange:(Ue,lt)=>$(se.id,ot=>{const Jt=ot.data.collaborators.slice();return Jt[Ue]=lt,{...ot,data:{...ot.data,collaborators:Jt}}}),onAddCollaborator:()=>$(se.id,Ue=>Ue.data.collaborators.length>=O1?Ue:{...Ue,data:{...Ue.data,collaborators:[...Ue.data.collaborators,""]}}),onRemoveCollaborator:Ue=>$(se.id,lt=>{const ot=lt.data.collaborators.slice();return ot.splice(Ue,1),ot.length||ot.push(""),{...lt,data:{...lt.data,collaborators:ot}}}),onSave:()=>void xe(se.id),onCancel:()=>Ee(se.id),isNew:se.isNew,canEditContent:Ye,canManageSharing:tt,isSaving:D===se.id,isOwner:Wt,ownerEmail:(yt=se.work)==null?void 0:yt.ownerEmail},se.id)}if(!se.work)return null;const H=se.work.nextWorkId?W.get(se.work.nextWorkId)??((dt=C.get(se.work.nextWorkId))==null?void 0:dt.name):void 0,ne=se.work.variantOfWorkId?W.get(se.work.variantOfWorkId)??((Pt=C.get(se.work.variantOfWorkId))==null?void 0:Pt.name):void 0;return g.jsx(x3,{work:se.work,childCount:Q,depth:se.depth,expanded:ke,isTreeCollapsed:ce,isPersonalExcluded:(se.work.tags??[]).map(Ye=>Ye.trim().toLowerCase()).includes(ja),canTogglePersonal:(se.work.canEdit??!1)&&(se.work.nodeType??"").trim().toLowerCase()!=="style",personalToggleBusy:L===se.id,nextLabel:H,variantLabel:ne,onToggle:()=>ue(se.id),onToggleTree:()=>S(Ye=>{const tt=new Set(Ye);return tt.has(se.id)?tt.delete(se.id):tt.add(se.id),tt}),onTogglePersonal:()=>{se.work&&rt(se.work)},onEdit:()=>{const Ye=se.work;Ye&&(Ye.canEdit??!1)&&oe(Ye)},onDuplicate:()=>{const Ye=se.work;Ye&&(Ye.canEdit??!1)&&he(Ye)},onCreateChild:()=>{const Ye=se.work;Ye&&(Ye.canEdit??!1)&&Se(Ye)},onDelete:()=>{const Ye=se.work;Ye&&(Ye.isOwner??!1)&&Je(Ye.id)}},se.id)})})]},(G==null?void 0:G.id)??"sin-objetivo")})})]})}const xh={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},Hx=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function k3(){const e=Ie(b=>b.objectives),t=Ie(b=>b.addObjective),n=Ie(b=>b.updateObjective),r=Ie(b=>b.deleteObjective),i=Ie(b=>b.works),[o,l]=E.useState(xh),[u,c]=E.useState(null),f=E.useMemo(()=>{const b=new Map;return i.forEach(S=>{b.set(S.objectiveId,(b.get(S.objectiveId)??0)+1)}),b},[i]),h=E.useMemo(()=>[...e].sort((b,S)=>(b.name??"").localeCompare(S.name??"","es")),[e]),p=b=>{if(b.preventDefault(),!o.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const S={name:o.name.trim(),colorHex:o.colorHex,descriptionMarkdown:o.descriptionMarkdown};o.id?(n(o.id,S),c({type:"success",text:"Objetivo actualizado."})):(t(S),c({type:"success",text:"Objetivo creado."})),l(xh)},v=b=>{l({id:b.id,name:b.name,colorHex:b.colorHex,descriptionMarkdown:b.descriptionMarkdown})},y=b=>{const S=r(b);c(S?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},w=()=>{if(e.length===0){c({type:"error",text:"No hay objetivos a los que asignar colores."});return}const b=[...Hx];e.map((_,N)=>{const j=b[N%b.length];return{id:_.id,colorHex:j}}).forEach(({id:_,colorHex:N})=>n(_,{colorHex:N})),c({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),g.jsx("p",{className:"text-white/60",children:"Define categoras de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),g.jsx("div",{className:"flex flex-wrap gap-3",children:g.jsx("button",{type:"button",className:"btn-secondary",onClick:w,children:"Repartir colores"})})]}),u&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${u.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:u.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:o.id?"Editar objetivo":"Nuevo objetivo"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:p,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:o.name,onChange:b=>l(S=>({...S,name:b.target.value})),placeholder:"Ej. Resistencia, Tcnica, Juego",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:o.colorHex,onChange:b=>l(S=>({...S,colorHex:b.target.value})),"aria-label":"Elegir color personalizado"}),g.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:o.colorHex,onChange:b=>l(S=>({...S,colorHex:b.target.value})),placeholder:"#60a5fa","aria-label":"Cdigo hex del color"})]}),g.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:Hx.map(b=>g.jsx("button",{type:"button",onClick:()=>l(S=>({...S,colorHex:b})),className:Re("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",o.colorHex.toLowerCase()===b.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:b},"aria-label":`Seleccionar color ${b}`,children:o.colorHex.toLowerCase()===b.toLowerCase()&&g.jsx("span",{className:"text-xs font-semibold text-slate-900",children:""})},b))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px]",value:o.descriptionMarkdown,onChange:b=>l(S=>({...S,descriptionMarkdown:b.target.value})),placeholder:"Explica cundo usar este tipo de trabajo, objetivos pedaggicos, etc."})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:o.id?"Guardar objetivo":"Crear objetivo"}),o.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l(xh),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-6",children:h.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripcin."}):h.map(b=>g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsx(Mi,{objective:b}),g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[g.jsxs("span",{children:[f.get(b.id)??0," trabajos"]}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>v(b),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>y(b.id),children:"Eliminar"})]})]}),g.jsx(vs,{content:b.descriptionMarkdown})]},b.id))})]})]})}const wh={name:"",notes:"",active:!0};function S3(){const e=Ie(h=>h.assistants),t=Ie(h=>h.addAssistant),n=Ie(h=>h.updateAssistant),r=Ie(h=>h.deleteAssistant),[i,o]=E.useState(wh),[l,u]=E.useState(null),c=h=>{if(h.preventDefault(),!i.name.trim()){u({type:"error",text:"El nombre es obligatorio."});return}const p={name:i.name.trim(),notes:i.notes,active:i.active};i.id?(n(i.id,p),u({type:"success",text:"Asistente actualizado."})):(t(p),u({type:"success",text:"Asistente aadido."})),o(wh)},f=h=>{o({id:h.id,name:h.name,notes:h.notes??"",active:h.active})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),g.jsx("p",{className:"text-white/60",children:"Mantn una lista base de alumnado para registrar asistencia rpidamente durante cada sesin."})]})}),l&&g.jsx("div",{className:Re("mt-4 rounded-2xl border px-4 py-3 text-sm",l.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:l.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:i.id?"Editar asistente":"Nuevo asistente"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:c,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:i.name,onChange:h=>o(p=>({...p,name:h.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:i.notes,onChange:h=>o(p=>({...p,notes:h.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:i.active,onChange:h=>o(p=>({...p,active:h.target.checked}))}),g.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecer en los listados de asistencia)"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:i.id?"Guardar asistente":"Aadir asistente"}),i.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(wh),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-4",children:e.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todava no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(h=>g.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:h.name}),h.notes?g.jsx("p",{className:"text-sm text-white/60",children:h.notes}):null]}),g.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[g.jsx("span",{className:Re("rounded-full border px-3 py-1 text-xs font-semibold",h.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:h.active?"Activo":"Inactivo"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(h),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(h.id),children:"Eliminar"})]})]})]},h.id))})]})]})}function oo(e,t){return g.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[g.jsx("span",{children:e}),g.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function E3(){var c,f,h,p,v,y;const e=Ie(w=>w.exportBackup),t=Ie(w=>w.importBackup),[n,r]=E.useState(null),[i,o]=E.useState(null),l=()=>{try{const w=e(),b=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),S=URL.createObjectURL(b),_=document.createElement("a");_.href=S,_.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,_.click(),URL.revokeObjectURL(S),r({type:"success",text:"Backup exportado correctamente."})}catch(w){console.error(w),r({type:"error",text:"No se pudo exportar el backup."})}},u=async w=>{var S;const b=(S=w.target.files)==null?void 0:S[0];if(b)try{const _=await b.text(),N=JSON.parse(_);t(N),o(N),r({type:"success",text:"Datos importados correctamente."})}catch(_){console.error(_),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON vlido."})}finally{w.target.value=""}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),g.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu informacin en JSON versionado para compartir o restaurar en cualquier momento."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx("button",{type:"button",className:"btn-primary",onClick:l,children:"Descargar backup"}),g.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:u})]})]})]}),n&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),i&&g.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"ltima importacin"}),g.jsxs("p",{className:"text-sm text-white/60",children:["Versin del backup: ",i.version]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[oo("Objetivos",((c=i.objetivos)==null?void 0:c.length)??0),oo("Trabajos",((f=i.trabajos)==null?void 0:f.length)??0),oo("Sesiones",((h=i.sesiones)==null?void 0:h.length)??0),oo("Asistentes",((p=i.asistentes)==null?void 0:p.length)??0),oo("Sesiones  Trabajos",((v=i.sesiones_trabajos)==null?void 0:v.length)??0),oo("Sesiones  Asistencias",((y=i.sesiones_asistencias)==null?void 0:y.length)??0)]})]}),g.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),g.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[g.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),g.jsx("li",{children:"Antes de importar, realiza una exportacin por seguridad. La restauracin sobrescribe los datos actuales sin posibilidad de deshacer."}),g.jsx("li",{children:"Los backups mantienen los IDs, as que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function _3(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=ks(),[i,o]=E.useState("login"),[l,u]=E.useState(""),[c,f]=E.useState(""),[h,p]=E.useState(""),[v,y]=E.useState(!1),[w,b]=E.useState(null),[S,_]=E.useState(null);if(!r&&n)return g.jsx(vc,{to:"/",replace:!0});const N=async O=>{if(O.preventDefault(),b(null),_(null),!l||!c){b("Introduce tu email y contrasea.");return}if(i==="register"&&c!==h){b("Las contraseas no coinciden.");return}try{y(!0),i==="login"?await e(l,c):(await t(l,c),_("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesin."))}catch(D){const R=D instanceof Error?D.message:"No se pudo completar la operacin.";b(R)}finally{y(!1)}},j=()=>{o(O=>O==="login"?"register":"login"),b(null),_(null),f(""),p("")};return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:g.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[g.jsxs("header",{className:"mb-8 text-center",children:[g.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),g.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:i==="login"?"Inicia sesin":"Crea tu cuenta"}),g.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),g.jsxs("form",{className:"space-y-5",onSubmit:N,children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),g.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:l,onChange:O=>u(O.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contrasea"}),g.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:c,onChange:O=>f(O.target.value),autoComplete:i==="login"?"current-password":"new-password"})]}),i==="register"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contrasea"}),g.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:h,onChange:O=>p(O.target.value),autoComplete:"new-password"})]}),w&&g.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:w}),S&&g.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:S}),g.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:v,children:v?"Procesando":i==="login"?"Entrar":"Crear cuenta"})]}),g.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:i==="login"?g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:j,children:"No tienes cuenta? Regstrate"}):g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:j,children:"Ya tienes cuenta? Inicia sesin"})})]})})}He.locale("es");const Uu="personal-exclude",Vx={ok:"OK",doubt:"Dudosa",fail:"Fallo"},C3={ok:"border-emerald-500/50 bg-emerald-500/15 text-emerald-100 hover:border-emerald-400",doubt:"border-amber-400/40 bg-amber-500/10 text-amber-200 hover:border-amber-300",fail:"border-rose-500/50 bg-rose-500/10 text-rose-200 hover:border-rose-400"},bh=6;function Wc(e){return Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(t=>t.length>0)))}function qx(e,t){const n=Wc(e.tags),r=e.nodeType??"work";return!(t.byWorkIds&&t.byWorkIds.length>0&&!t.byWorkIds.includes(e.id)||t.byNodeTypes&&t.byNodeTypes.length>0&&!t.byNodeTypes.includes(r)||t.byTags&&t.byTags.length>0&&!t.byTags.map(o=>o.trim().toLowerCase()).filter(Boolean).every(o=>n.includes(o)))}function j3(e,t){const n=e.nodeType??"work",r=t.targetsDays[n]??t.targetsDays.work??7,i=Wc(e.tags),o=(t.overrides??[]).reduce((u,c)=>{var p,v;const f=((v=(p=c.match)==null?void 0:p.tagsAny)==null?void 0:v.map(y=>y.trim().toLowerCase()).filter(Boolean))??[];return f.length===0?u:f.some(y=>i.includes(y))?u*(c.multiplier||1):u},1);return Math.max(1,Math.round(r*o))}function N3(e){return(e.nodeType??"").trim().toLowerCase()!=="style"}function T3(e,t){const n=typeof e.estimatedMinutes=="number"?e.estimatedMinutes:0;if(Number.isFinite(n)&&n>0)return n;const r=(e.nodeType??"work").trim().toLowerCase()||"work",i=t.defaultMinutesByNodeType[r]??t.defaultMinutesByNodeType.work??3;return Math.max(.25,Number(i)||3)}function I3(e){var h,p,v;const t=e.groups??[];if(t.length>0)return[...t].sort((y,w)=>(y.order??0)-(w.order??0));const n=Math.max(0,Number((h=e.template)==null?void 0:h.focusMinutes)||18),r=Math.max(0,Number((p=e.template)==null?void 0:p.rouletteMinutes)||10),i=Math.max(0,Number((v=e.template)==null?void 0:v.recapMinutes)||0),o=e.focusSelectors??[],l=e.rouletteSelectors??[],u=o.length>0?o:[{byNodeTypes:["segment","form"]}],c=l.length>0?l:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],f=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:n,strategy:"overdue",hierarchyRule:"prefer_leaves",include:u,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:r,strategy:"weighted",hierarchyRule:"allow_all",include:c,exclude:[]}];return i>0&&f.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:i}),f}function P3(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function A3(e){let t=e>>>0;return()=>{t=t+1831565813>>>0;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function R3(e,t,n){const r=A3(P3(n));return e.map(i=>{const o=Math.max(1e-4,t(i)),l=Math.max(1e-9,r()),u=-Math.log(l)/o;return{item:i,score:u}}).sort((i,o)=>i.score-o.score).map(({item:i})=>i)}function O3(e){const t=new Map;return e.forEach(n=>{n.workItems.forEach(r=>{if(!((r.completed??!1)||typeof r.result<"u"))return;const o=t.get(r.workId);(!o||He(n.date).isAfter(o.date))&&t.set(r.workId,{date:n.date,result:r.result,effort:r.effort})})}),t}function M3(e){const{works:t,personalSessions:n,cadence:r,today:i}=e,o=O3(n);return t.filter(l=>N3(l)).filter(l=>!Wc(l.tags).includes(Uu)).map(l=>{const u=o.get(l.id),c=j3(l,r);if(!u)return{work:l,targetDays:c,overdueScore:1e4};const f=Math.max(He(i).diff(He(u.date),"day"),0),h=Math.max(f-c,0);return{work:l,targetDays:c,lastSeen:u.date,daysSince:f,overdueScore:h,lastResult:u.result}}).sort((l,u)=>{if(u.overdueScore!==l.overdueScore)return u.overdueScore-l.overdueScore;const c=l.daysSince??1e4,f=u.daysSince??1e4;return f!==c?f-c:l.work.name.localeCompare(u.work.name,"es",{sensitivity:"base"})})}function D3(e){return e?He(e).format("D MMM YYYY"):"Nunca"}function L3(e){const{dueList:t,todaySession:n,plan:r,today:i,childCountByWorkId:o}=e,l=r.limitMode==="count"||r.limitMode==="both",u=r.limitMode==="minutes"||r.limitMode==="both",c=l?Math.max(1,Math.round(r.maxItems||12)):Number.POSITIVE_INFINITY,f=u?Math.max(0,Number(r.minutesBudget)||0):Number.POSITIVE_INFINITY,h=new Set(((n==null?void 0:n.workItems)??[]).filter(A=>(A.completed??!1)||typeof A.result<"u").map(A=>A.workId)),p=t.filter(A=>!h.has(A.work.id)),v=He(i).day(),y=I3(r).filter(A=>A.enabled).filter(A=>{const C=A.daysOfWeek??[];return C.length===0||C.includes(v)}).sort((A,C)=>(A.order??0)-(C.order??0)),w=y.filter(A=>(A.type??"work")==="note").reduce((A,C)=>C.limitMode==="minutes"||C.limitMode==="both"?A+Math.max(0,Number(C.minutesBudget)||0):A,0),b=Number.isFinite(f)?Math.max(0,f-w):Number.POSITIVE_INFINITY,S=`kungfu-${i}`,_=A=>{const C=A.overdueScore>=1e4?1e3:Math.max(0,A.overdueScore+1);return A.lastResult==="fail"?C*1.6:A.lastResult==="doubt"?C*1.25:C},N=A=>T3(A.work,r),j=A=>{const C=(A.nodeType??"work").trim().toLowerCase()||"work";return{segment:30,drill:22,form:20,work:10,application:0,technique:0,link:0,style:-100}[C]??5},O=A=>[...A].sort((C,q)=>{if(q.overdueScore!==C.overdueScore)return q.overdueScore-C.overdueScore;const W=C.daysSince??1e4,B=q.daysSince??1e4;if(B!==W)return B-W;const U=j(q.work)-j(C.work);return U!==0?U:C.work.name.localeCompare(q.work.name,"es",{sensitivity:"base"})}),D=new Set,R=[];let L=0,te=0;for(const A of y){if((A.type??"work")==="note"){R.push({group:A,items:[],plannedMinutes:0});continue}const q=A.include??[],W=A.exclude??[];let B=p.filter(Se=>D.has(Se.work.id)||!(q.length===0?!0:q.some(xe=>qx(Se.work,xe)))?!1:!W.some(xe=>qx(Se.work,xe)));if((A.hierarchyRule??"allow_all")==="prefer_leaves"){const Se=new Set(B.map(ue=>ue.work.parentWorkId).filter(Boolean));B=B.filter(ue=>Se.has(ue.work.id)?(o.get(ue.work.id)??0)===0:!0)}const X=(A.strategy??"overdue")==="weighted"?R3(B,_,`${S}-${A.id}`):O(B),M=A.limitMode??"minutes",J=M==="count"||M==="both",I=M==="minutes"||M==="both",$=Number(A.maxItems),z=J&&Number.isFinite($)&&$>0?Math.round($):Number.POSITIVE_INFINITY,P=Number(A.minutesBudget),oe=I&&Number.isFinite(P)?Math.max(0,P):Number.POSITIVE_INFINITY,me=[];let he=0;for(const Se of X){if(te>=c||me.length>=z)break;const ue=N(Se);if(!(he+ue>oe)&&!(L+ue>b)&&(me.push(Se),he+=ue,L+=ue,te+=1,D.add(Se.work.id),u&&L>=b))break}if(R.push({group:A,items:me,plannedMinutes:Math.round(he*10)/10}),te>=c||u&&L>=b)break}const re=Math.round((L+w)*10)/10;return{groups:R,plannedMinutes:{work:Math.round(L*10)/10,reserved:Math.round(w*10)/10,total:re},totalItems:te}}function $3(){const e=Ie(z=>z.works),t=Ie(z=>z.sessions),n=Ie(z=>z.kungfuCadence),r=Ie(z=>z.kungfuTodayPlan),i=Ie(z=>z.updateWork),{user:o}=ks(),l=Ie(z=>z.addSession),u=Ie(z=>z.addWorkToSession),c=Ie(z=>z.updateSessionWorkDetails),f=Ie(z=>z.updateSession),h=He().format("YYYY-MM-DD"),p=E.useMemo(()=>t.filter(z=>z.kind==="personal"),[t]),v=E.useMemo(()=>p.find(z=>z.date===h),[p,h]),y=E.useMemo(()=>M3({works:e,personalSessions:p,cadence:n,today:h}),[e,p,n,h]),w=E.useMemo(()=>{const z=new Map;return e.forEach(P=>{const oe=P.parentWorkId??"";oe&&z.set(oe,(z.get(oe)??0)+1)}),z},[e]),b=E.useMemo(()=>L3({dueList:y,todaySession:v,plan:r,today:h,childCountByWorkId:w}),[y,v,r,h,w]),S=E.useMemo(()=>o?{actorId:o.id,actorEmail:o.email??""}:null,[o]),[_,N]=E.useState({}),[j,O]=E.useState(null),[D,R]=E.useState((v==null?void 0:v.notes)??""),[L,te]=E.useState(null),[re,A]=E.useState(new Set);E.useEffect(()=>{R((v==null?void 0:v.notes)??"")},[v==null?void 0:v.notes]);const C=()=>v||l({date:h,kind:"personal",title:"Entrenamiento personal",description:"",notes:""}),q=(z,P)=>{try{const oe=C(),me=_[z]??bh,he=Math.min(Math.max(Math.round(me),1),10),Se=oe.workItems.find(ue=>ue.workId===z);if(Se)c(oe.id,Se.id,{result:P,effort:he,completed:!0});else{const ue=u(oe.id,{workId:z});if(!ue)throw new Error("No se pudo aadir el trabajo a la sesin.");c(oe.id,ue.id,{result:P,effort:he,completed:!0})}O({type:"success",text:"Registrado."}),window.setTimeout(()=>O(null),1800)}catch(oe){const me=oe instanceof Error?oe.message:"No se pudo registrar.";O({type:"error",text:me}),window.setTimeout(()=>O(null),2500)}},W=v?v.workItems.filter(z=>(z.completed??!1)||typeof z.result<"u").length:0,B=r.limitMode==="count"||r.limitMode==="both",U=r.limitMode==="minutes"||r.limitMode==="both",K=b.groups.filter(z=>(z.group.type??"work")!=="note"),X=b.groups.filter(z=>z.group.type==="note"),M=K.some(z=>z.items.length>0),J=[...K.map(z=>{const P=Number(z.group.minutesBudget);return Number.isFinite(P)&&P>0?`${z.group.name} ${P} min`:z.group.name}),...X.map(z=>{const P=Number(z.group.minutesBudget);return Number.isFinite(P)&&P>0?`${z.group.name} ${P} min`:z.group.name})].filter(Boolean).join("  "),I=z=>{const P=z.work,oe=Wc(P.tags),me=oe.includes(Uu),he=oe.filter(ae=>ae!==Uu),Se=_[P.id]??bh,ue=(P.canEdit??!1)&&(P.nodeType??"").trim().toLowerCase()!=="style",Ee=L===P.id,xe=re.has(P.id),Je=(P.descriptionMarkdown??"").trim(),rt=(P.notes??"").trim(),Qe=(P.videoUrls??[]).map(ae=>ae.trim()).filter(Boolean),G=Je.length>0||rt.length>0||Qe.length>0,le=async()=>{if(!S){O({type:"error",text:"Inicia sesin para editar trabajos."}),window.setTimeout(()=>O(null),2500);return}if(ue){te(P.id);try{const ae=me?he:Array.from(new Set([...he,Uu]));await i(P.id,{tags:ae},S),O({type:"success",text:me?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>O(null),1800)}catch(ae){console.error("No se pudo actualizar el trabajo",ae),O({type:"error",text:"No se pudo actualizar el trabajo."}),window.setTimeout(()=>O(null),2500)}finally{te(null)}}};return g.jsxs("article",{className:"flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-4 shadow shadow-black/15",children:[g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[G?g.jsx("button",{type:"button",onClick:()=>A(ae=>{const be=new Set(ae);return be.has(P.id)?be.delete(P.id):be.add(P.id),be}),className:Re("mt-0.5 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white",xe?"rotate-90 border-white/30 text-white":""),"aria-label":xe?"Ocultar detalles":"Ver detalles",title:xe?"Ocultar detalles":"Ver detalles",children:""}):null,g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:P.name}),P.subtitle?g.jsx("p",{className:"text-sm text-white/70",children:P.subtitle}):null]})]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/15 bg-white/5 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:P.nodeType??"work"}),he.slice(0,6).map(ae=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5",children:ae},ae)),he.length>6?g.jsxs("span",{className:"text-white/50",children:["+",he.length-6]}):null]})]}),g.jsx("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/60 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"ltima vez"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:D3(z.lastSeen)}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:["Objetivo: ",z.targetDays," da",z.targetDays===1?"":"s"," "," ",z.overdueScore>=1e4?"Nuevo":`${z.overdueScore} vencido`]})]})})]}),G&&xe?g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[Je.length>0?g.jsx(vs,{content:Je,enableWorkLinks:!0}):null,rt.length>0?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Notas"}),g.jsx(vs,{content:rt,enableWorkLinks:!0})]}):null,Qe.length>0?g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Vdeos"}),g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:Qe.map((ae,be)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Fc,{url:ae,title:`${P.name} vdeo ${be+1}`}),g.jsx("a",{href:ae,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${P.id}-video-${be}`))})]}):null]}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Object.keys(Vx).map(ae=>g.jsx("button",{type:"button",className:Re("inline-flex items-center justify-center rounded-full border px-3 py-1 text-xs font-semibold transition",C3[ae]),onClick:()=>q(P.id,ae),children:Vx[ae]},ae))}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/40",children:"RPE"}),g.jsx("input",{type:"number",min:1,max:10,value:Se,onChange:ae=>{const be=Number(ae.target.value);N(ve=>({...ve,[P.id]:Number.isFinite(be)?be:bh}))},className:"input-field w-20 text-center"}),g.jsx(Xr,{to:`/catalog?workId=${encodeURIComponent(P.id)}`,className:"btn-secondary",children:"Ver en catlogo"}),g.jsx("button",{type:"button",onClick:le,disabled:!ue||Ee,className:Re("inline-flex items-center rounded-full border px-4 py-2 text-xs font-semibold transition disabled:opacity-50",me?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400":"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400"),title:me?"Incluir en el plan personal":"Excluir del plan personal",children:Ee?"...":me?"Incluir":"Excluir"})]})]})]},P.id)},$=()=>{const z=C();f(z.id,{notes:D}),O({type:"success",text:"Recap guardado."}),window.setTimeout(()=>O(null),1800)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Hoy"}),g.jsx("p",{className:"text-white/60",children:"Plan directo de entrenamiento basado en cadencias y tu histrico personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesin de hoy"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:He(h).format("dddd, D [de] MMMM")}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:[W," ",W===1?"tem registrado":"tems registrados"]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx(Xr,{to:"/personal/sessions",className:"btn-secondary",children:"Ver sesiones"}),g.jsx(Xr,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"})]})]})]}),j&&g.jsx("div",{className:Re("mt-4 rounded-2xl border px-4 py-3 text-sm",j.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:j.text})]}),y.length===0?g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay ningn trabajo incluido en tu programa activo. Aade la tag ",g.jsx("span",{className:"font-semibold text-white",children:"kungfu"})," a los trabajos que quieras entrenar."]}):g.jsxs("section",{className:"space-y-4",children:[g.jsxs("div",{className:"glass-panel flex flex-col gap-3 p-6 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Sugerencias"}),g.jsx("p",{className:"text-sm text-white/60",children:"Priorizadas por lo vencido respecto a su cadencia objetivo."}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:[J?`Grupos: ${J}`:"Grupos: (sin configurar)",B?`  mx ${r.maxItems} tems`:"",U?`  ${r.minutesBudget} min`:""]})]}),g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[b.totalItems," sugeridos  ",b.plannedMinutes.total," min"]})]}),g.jsxs("div",{className:"space-y-3",children:[M?null:g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay sugerencias con los lmites actuales. Revisa ",g.jsx("span",{className:"font-semibold text-white",children:"Ajustes"})," o marca ms trabajos como entrenables."]}),K.filter(z=>z.items.length>0).map(z=>g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-5 sm:p-6",children:[g.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:z.group.name}),g.jsxs("p",{className:"text-sm text-white/60",children:[z.items.length," tem",z.items.length===1?"":"s"]})]}),g.jsxs("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/70",children:[z.plannedMinutes," min"]})]}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:z.items.map(I)})]},z.group.id)),X.length>0?g.jsxs("div",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[X[0].group.name," (",Math.max(0,Number(X[0].group.minutesBudget)||0)," min)"]}),g.jsx("p",{className:"text-sm text-white/60",children:"Una correccin concreta para maana."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:$,children:"Guardar recap"})]}),g.jsx("textarea",{className:"input-field min-h-[90px] w-full resize-y",value:D,onChange:z=>R(z.target.value),placeholder:"Ej: Transicin BC: bajar hombros y cerrar cadera."})]}):null]})]})]})}He.locale("es");function F3(){const e=Ie(b=>b.sessions).filter(b=>b.kind==="personal"),t=Ie(b=>b.works),n=Ie(b=>b.objectives),r=Ie(b=>b.assistants),i=Ie(b=>b.addSession),[o,l]=Ep(),u=E.useMemo(()=>[...e].sort((b,S)=>He(S.date).valueOf()-He(b.date).valueOf()),[e]),c=o.get("session")??void 0,f=c?e.find(b=>b.id===c):void 0,[h,p]=E.useState(f==null?void 0:f.id);E.useEffect(()=>{c&&!e.some(b=>b.id===c)&&(p(void 0),l({},{replace:!0}))},[c,e,l]);const v=h?e.find(b=>b.id===h):void 0,y=b=>{p(b),l({session:b},{replace:!0})},w=()=>{const b=He().format("YYYY-MM-DD"),S=e.find(N=>N.date===b);if(S){y(S.id);return}const _=i({date:b,kind:"personal",title:"Entrenamiento personal",description:"",notes:""});y(_.id)};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("header",{className:"glass-panel p-6 sm:p-10",children:g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Sesiones"}),g.jsx("p",{className:"text-white/60",children:"Histrico y edicin de sesiones de entreno personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx(Xr,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsx(Xr,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:w,children:"Crear/abrir hoy"})]})]})}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.9fr]",children:[g.jsxs("section",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Sesiones"}),g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:u.length})]}),u.length===0?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/50",children:"No hay sesiones personales todava. Crea la sesin de hoy para empezar a registrar tu entrenamiento."}):g.jsx("div",{className:"space-y-2",children:u.map(b=>{const S=b.workItems.filter(_=>(_.completed??!1)||typeof _.result<"u").length;return g.jsxs("button",{type:"button",onClick:()=>y(b.id),className:Re("flex w-full flex-col gap-1 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30 hover:bg-white/10",b.id===h&&"border-sky-400/60 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:b.title||"Sesin sin ttulo"}),g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:He(b.date).format("ddd  D MMM YYYY")}),g.jsxs("p",{className:"text-xs text-white/60",children:[S,"/",b.workItems.length," registrados"]})]},b.id)})})]}),g.jsx("section",{className:"glass-panel p-6",children:v?g.jsx(A1,{session:v,works:t,objectives:n,assistants:r}):g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-10 text-center text-white/50",children:"Selecciona una sesin para verla y editarla."})})]})]})}const Xa=e=>Array.from(new Set(e.split(",").map(t=>t.trim().toLowerCase()).filter(Boolean))),M1=e=>Array.from(new Set(e.split(",").map(t=>t.trim()).filter(Boolean))),fs=e=>(e??[]).join(", ");function Yx(e){const t=e.byTags?Xa(fs(e.byTags)):void 0,n=e.byNodeTypes?Xa(fs(e.byNodeTypes)):void 0,r=e.byWorkIds?M1(fs(e.byWorkIds)):void 0,i={};return t&&t.length>0&&(i.byTags=t),n&&n.length>0&&(i.byNodeTypes=n),r&&r.length>0&&(i.byWorkIds=r),i}function z3(e){const t={};Object.entries(e.targetsDays??{}).forEach(([r,i])=>{const o=r.trim().toLowerCase(),l=Number(i);o&&Number.isFinite(l)&&(t[o]=Math.max(1,Math.round(l)))});const n=(e.overrides??[]).map(r=>{var i;return{match:{tagsAny:Xa(fs(((i=r.match)==null?void 0:i.tagsAny)??[]))},multiplier:Math.max(.1,Number(r.multiplier)||1)}}).filter(r=>r.match.tagsAny.length>0);return{targetsDays:t,overrides:n}}function B3(e){var N,j,O;const t=Math.max(1,Math.round(Number(e.maxItems)||12)),n=Math.max(1,Number(e.minutesBudget)||30),r={};Object.entries(e.defaultMinutesByNodeType??{}).forEach(([D,R])=>{const L=D.trim().toLowerCase(),te=Number(R);L&&Number.isFinite(te)&&(r[L]=Math.max(.25,te))});const i=D=>D==="count"||D==="minutes"||D==="both",o=D=>D==="work"||D==="note",l=D=>D==="overdue"||D==="weighted",u=D=>D==="allow_all"||D==="prefer_leaves",c=D=>{if(!Array.isArray(D))return[];const R=D.map(L=>Number(L)).filter(L=>Number.isFinite(L)).map(L=>Math.round(L)).filter(L=>L>=0&&L<=6);return Array.from(new Set(R)).sort((L,te)=>L-te)},f=(D,R)=>{const L=(D.id??"").trim()||Zt(),te=o(D.type)?D.type:"work",re=typeof D.enabled=="boolean"?D.enabled:!0,A=Number.isFinite(Number(D.order))?Number(D.order):R,C=(D.name??"").trim()||(te==="note"?"Recap":"Grupo"),q=i(D.limitMode)?D.limitMode:"minutes",W=Number.isFinite(Number(D.maxItems))?Math.max(0,Math.round(Number(D.maxItems))):void 0,B=Number.isFinite(Number(D.minutesBudget))?Math.max(0,Number(D.minutesBudget)):void 0,U=l(D.strategy)?D.strategy:"overdue",K=u(D.hierarchyRule)?D.hierarchyRule:"allow_all",X=(D.include??[]).map(Yx).filter(J=>Object.keys(J).length>0),M=(D.exclude??[]).map(Yx).filter(J=>Object.keys(J).length>0);return{id:L,name:C,enabled:re,order:A,type:te,daysOfWeek:c(D.daysOfWeek),limitMode:q,maxItems:W,minutesBudget:B,strategy:U,hierarchyRule:K,include:X,exclude:M}},p=((e.groups??[]).length>0?e.groups??[]:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]).map((D,R)=>f(D,R+1)).sort((D,R)=>D.order-R.order).map((D,R)=>({...D,order:R+1})),v=p.filter(D=>(D.type??"work")!=="note"),y=p.filter(D=>D.type==="note"),w=Math.max(0,Number((N=v[0])==null?void 0:N.minutesBudget)||0),b=Math.max(0,Number((j=v[1])==null?void 0:j.minutesBudget)||0),S=Math.max(0,Number((O=y[0])==null?void 0:O.minutesBudget)||0),_=Math.max(0,w+b+S);return{limitMode:e.limitMode,maxItems:t,minutesBudget:n,template:{totalMinutes:_,focusMinutes:w,rouletteMinutes:b,recapMinutes:S},defaultMinutesByNodeType:r,focusSelectors:[],rouletteSelectors:[],groups:p}}const U3={},W3=[{label:"L",value:1},{label:"M",value:2},{label:"X",value:3},{label:"J",value:4},{label:"V",value:5},{label:"S",value:6},{label:"D",value:0}],H3=[{label:"Form",value:"form"},{label:"Segment",value:"segment"},{label:"Application",value:"application"},{label:"Technique",value:"technique"},{label:"Drill",value:"drill"},{label:"Work",value:"work"},{label:"Link",value:"link"},{label:"Style",value:"style"}];function V3(){const e=Ie(w=>w.kungfuCadence),t=Ie(w=>w.kungfuTodayPlan),n=Ie(w=>w.setKungfuCadence),r=Ie(w=>w.setKungfuTodayPlan),[i,o]=E.useState(e),[l,u]=E.useState(t),[c,f]=E.useState(null);E.useEffect(()=>{o(e)},[e]),E.useEffect(()=>{u(t)},[t]);const h=E.useMemo(()=>JSON.stringify(e)!==JSON.stringify(i)||JSON.stringify(t)!==JSON.stringify(l),[e,t,i,l]),p=w=>{f(w),w&&window.setTimeout(()=>f(null),w.type==="success"?1800:2600)},v=()=>{try{const w=z3(i),b=B3(l);n(w),r(b),p({type:"success",text:"Guardado."})}catch(w){const b=w instanceof Error?w.message:"No se pudo guardar.";p({type:"error",text:b})}},y=()=>{o(e),u(t),p({type:"success",text:"Cambios descartados."})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Ajustes"}),g.jsx("p",{className:"text-white/60",children:"Grupos, cadencias y plantilla de sesin para el modo Personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsx(Xr,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:y,disabled:!h,children:"Descartar"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:v,disabled:!h,children:"Guardar"})]})]})]}),c?g.jsx("div",{className:Re("mt-4 rounded-2xl border px-4 py-3 text-sm",c.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:c.text}):null]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Plan de hoy"}),g.jsx("p",{className:"text-sm text-white/60",children:"Controla cuntos tems se sugieren y el presupuesto de minutos."})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Modo de lmite"}),g.jsxs("select",{className:"input-field",value:l.limitMode,onChange:w=>u(b=>({...b,limitMode:w.target.value})),children:[g.jsx("option",{value:"count",children:"Por cantidad"}),g.jsx("option",{value:"minutes",children:"Por minutos"}),g.jsx("option",{value:"both",children:"Cantidad y minutos"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx. tems"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:l.maxItems,onChange:w=>u(b=>({...b,maxItems:Number(w.target.value)}))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Presupuesto (min)"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:l.minutesBudget,onChange:w=>u(b=>({...b,minutesBudget:Number(w.target.value)}))})]})]}),g.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Grupos"}),g.jsx("p",{className:"text-sm text-white/60",children:"Define bloques con reglas, das de la semana y lmites."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>u(w=>{const b=[...w.groups??[]].sort((N,j)=>(N.order??0)-(j.order??0)),S={id:Zt(),name:"Nuevo grupo",enabled:!0,order:b.length+1,type:"work",daysOfWeek:[],limitMode:"minutes",maxItems:12,minutesBudget:5,strategy:"overdue",hierarchyRule:"allow_all",include:[],exclude:[]},_=[...b,S].map((N,j)=>({...N,order:j+1}));return{...w,groups:_}}),children:"+ Grupo"})]}),g.jsx("div",{className:"space-y-4",children:[...l.groups??[]].sort((w,b)=>(w.order??0)-(b.order??0)).map((w,b,S)=>{const _=w.type??"work",N=w.daysOfWeek??[],j=N.length===0,O=w.limitMode??"minutes",D=w.strategy??"overdue",R=w.hierarchyRule??"allow_all",L=C=>{u(q=>{const B=[...q.groups??[]].sort((U,K)=>(U.order??0)-(K.order??0)).map(U=>U.id===w.id?{...U,...C}:U).map((U,K)=>({...U,order:K+1}));return{...q,groups:B}})},te=C=>{u(q=>{const W=[...q.groups??[]].sort((M,J)=>(M.order??0)-(J.order??0)),B=W.findIndex(M=>M.id===w.id),U=B+C;if(B<0||U<0||U>=W.length)return q;const K=W.slice(),X=K[B];return K[B]=K[U],K[U]=X,{...q,groups:K.map((M,J)=>({...M,order:J+1}))}})},re=()=>{u(C=>{const W=[...C.groups??[]].sort((B,U)=>(B.order??0)-(U.order??0)).filter(B=>B.id!==w.id).map((B,U)=>({...B,order:U+1}));return{...C,groups:W.length>0?W:C.groups}})},A=(C,q)=>{const W=w[C]??[];L({[C]:q(W)})};return g.jsx("div",{className:"rounded-3xl border border-white/10 bg-slate-950/40 p-5",children:g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[g.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:w.enabled,onChange:C=>L({enabled:C.target.checked})}),"Enabled"]}),g.jsx("input",{type:"text",className:"input-field flex-1",value:w.name,onChange:C=>L({name:C.target.value}),placeholder:"Nombre del grupo"}),g.jsxs("select",{className:"input-field w-36",value:_,onChange:C=>L({type:C.target.value}),children:[g.jsx("option",{value:"work",children:"Trabajos"}),g.jsx("option",{value:"note",children:"Nota"})]})]}),g.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Das"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("button",{type:"button",className:Re("rounded-full border px-3 py-1 text-xs font-semibold transition",j?"border-sky-500/40 bg-sky-500/10 text-sky-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>L({daysOfWeek:[]}),title:"Vaco = todos los das",children:"Todos"}),W3.map(C=>{const q=j?!0:N.includes(C.value);return g.jsx("button",{type:"button",className:Re("h-8 w-8 rounded-full border text-xs font-semibold transition",q?"border-emerald-500/40 bg-emerald-500/10 text-emerald-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>{const W=j?[C.value]:N.includes(C.value)?N.filter(B=>B!==C.value):[...N,C.value];L({daysOfWeek:W.sort((B,U)=>B-U)})},title:q?"Activo":"Inactivo",children:C.label},C.value)})]}),g.jsx("p",{className:"text-xs text-white/50",children:"Si eliges das especficos, solo aparecer esos das."})]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Lmite"}),g.jsxs("select",{className:"input-field",value:O,onChange:C=>L({limitMode:C.target.value}),children:[g.jsx("option",{value:"count",children:"Cantidad"}),g.jsx("option",{value:"minutes",children:"Minutos"}),g.jsx("option",{value:"both",children:"Ambos"})]})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx tems"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:w.maxItems??0,onChange:C=>L({maxItems:Number(C.target.value)})})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx min"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:w.minutesBudget??0,onChange:C=>L({minutesBudget:Number(C.target.value)})})]})]})]}),_==="work"?g.jsxs("div",{className:"mt-2 grid gap-4 lg:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Estrategia"}),g.jsxs("select",{className:"input-field",value:D,onChange:C=>L({strategy:C.target.value}),children:[g.jsx("option",{value:"overdue",children:"Vencido (cadencia)"}),g.jsx("option",{value:"weighted",children:"Ponderado (ruleta)"})]})]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:R==="prefer_leaves",onChange:C=>L({hierarchyRule:C.target.checked?"prefer_leaves":"allow_all"})}),"Preferir hijos (evita padres cuando existan)"]})]}):null,_==="work"?g.jsx("div",{className:"mt-4 grid gap-5 lg:grid-cols-2",children:["include","exclude"].map(C=>g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-sm font-semibold text-white/80",children:C==="include"?"Include (OR)":"Exclude (OR)"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>A(C,q=>[...q,{...U3}]),children:"+ Regla"})]}),(w[C]??[]).length===0?g.jsx("p",{className:"text-xs text-white/50",children:C==="include"?"Vaco = incluye todo (se aplican excludes).":"Vaco = no excluye nada."}):null,(w[C]??[]).map((q,W)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Regla ",W+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>A(C,B=>B.filter((U,K)=>K!==W)),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (AND)"}),g.jsx("input",{type:"text",className:"input-field",value:fs(q.byTags),placeholder:"kungfu, bei-shaolin",onChange:B=>{const U=Xa(B.target.value);A(C,K=>{const X=[...K];return X[W]={...X[W],byTags:U},X})}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Node types"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-2xl border border-white/10 bg-white/5 p-2",children:[H3.map(B=>{const U=q.byNodeTypes??[],K=U.includes(B.value);return g.jsx("button",{type:"button",className:Re("rounded-full border px-3 py-1 text-xs font-semibold transition",K?"border-sky-500/40 bg-sky-500/10 text-sky-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>{const X=K?U.filter(M=>M!==B.value):[...U,B.value];A(C,M=>{const J=[...M];return J[W]={...J[W],byNodeTypes:X},J})},children:B.label},B.value)}),g.jsx("button",{type:"button",className:"ml-auto rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",onClick:()=>A(C,B=>{const U=[...B];return U[W]={...U[W],byNodeTypes:[]},U}),title:"Limpiar node types",children:"Clear"})]})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Work IDs"}),g.jsx("input",{type:"text",className:"input-field",value:fs(q.byWorkIds),placeholder:"id1, id2",onChange:B=>{const U=M1(B.target.value);A(C,K=>{const X=[...K];return X[W]={...X[W],byWorkIds:U},X})}})]})]})]},`${C}-${w.id}-${W}`))]},`${w.id}-${C}`))}):null]}),g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>te(-1),disabled:b===0,title:"Subir",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>te(1),disabled:b===S.length-1,title:"Bajar",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:re,disabled:S.length<=1,children:"Eliminar"})]})]})},w.id)})})]}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Estimacin de minutos por tipo"}),g.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:Object.entries(l.defaultMinutesByNodeType).sort(([w],[b])=>w.localeCompare(b,"es",{sensitivity:"base"})).map(([w,b])=>g.jsxs("label",{className:"grid gap-2",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:w}),g.jsx("input",{type:"number",min:.25,step:.25,className:"input-field",value:b,onChange:S=>u(_=>({..._,defaultMinutesByNodeType:{..._.defaultMinutesByNodeType,[w]:Number(S.target.value)}}))})]},w))})]})]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Cadencias"}),g.jsx("p",{className:"text-sm text-white/60",children:"Objetivo de das por tipo, con overrides por tags."})]}),g.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Object.entries(i.targetsDays??{}).sort(([w],[b])=>w.localeCompare(b,"es",{sensitivity:"base"})).map(([w,b])=>g.jsxs("label",{className:"grid gap-2",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:w}),g.jsx("input",{type:"number",min:1,className:"input-field",value:b,onChange:S=>o(_=>({..._,targetsDays:{..._.targetsDays,[w]:Number(S.target.value)}}))})]},w))}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Overrides"}),g.jsxs("div",{className:"mt-3 space-y-3",children:[(i.overrides??[]).map((w,b)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Override ",b+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>o(S=>({...S,overrides:(S.overrides??[]).filter((_,N)=>N!==b)})),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (ANY)"}),g.jsx("input",{type:"text",className:"input-field",value:fs(w.match.tagsAny),placeholder:"weapon",onChange:S=>{const _=Xa(S.target.value);o(N=>{const j=[...N.overrides??[]];return j[b]={...w,match:{tagsAny:_}},{...N,overrides:j}})}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Multiplier"}),g.jsx("input",{type:"number",min:.1,step:.1,className:"input-field",value:w.multiplier,onChange:S=>{const _=Number(S.target.value);o(N=>{const j=[...N.overrides??[]];return j[b]={...w,multiplier:_},{...N,overrides:j}})}})]})]})]},`override-${b}`)),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(w=>({...w,overrides:[...w.overrides??[],{match:{tagsAny:[]},multiplier:1}]})),children:"+ Aadir override"})]})]})]})]})}const Kx=[{to:"/",label:"Sesiones"},{to:"/personal",label:"Personal"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function q3(){const[e,t]=E.useState(!1),[n,r]=E.useState(!1),{user:i,signOut:o}=ks(),l=async()=>{try{r(!0),await o()}catch(u){console.error("No se pudo cerrar sesin",u)}finally{r(!1),t(!1)}};return g.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[g.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[g.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),g.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increbles"})]})]}),g.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[g.jsx("nav",{className:"flex items-center gap-2",children:Kx.map(u=>g.jsx(dy,{to:u.to,className:({isActive:c})=>`rounded-full px-4 py-2 text-sm font-medium transition ${c?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:u.label},u.to))}),g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-white/50",children:"Sesin iniciada"}),g.jsx("p",{className:"text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"})]}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]}),g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),g.jsxs(Qy,{open:e,onClose:t,className:"md:hidden",children:[g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),g.jsxs(Qy.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegacin"}),g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsx("div",{className:"mt-6 flex flex-col gap-2",children:Kx.map(u=>g.jsx(dy,{to:u.to,className:({isActive:c})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${c?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:u.label},u.to))}),g.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesin iniciada"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]})]})]})}function Y3(){return bR(),kR(),g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(q3,{}),g.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:g.jsx(sw,{})})]})}function K3(){return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),g.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner"})]})})}function G3(){const{session:e,loading:t}=ks(),n=ni();return t?g.jsx(K3,{}):e?g.jsx(sw,{}):g.jsx(vc,{to:"/login",replace:!0,state:{from:n}})}function J3(){return g.jsx($_,{children:g.jsxs(T_,{children:[g.jsx(Tn,{path:"/login",element:g.jsx(_3,{})}),g.jsx(Tn,{element:g.jsx(G3,{}),children:g.jsxs(Tn,{element:g.jsx(Y3,{}),children:[g.jsx(Tn,{index:!0,element:g.jsx(m3,{})}),g.jsx(Tn,{path:"personal",element:g.jsx($3,{})}),g.jsx(Tn,{path:"personal/sessions",element:g.jsx(F3,{})}),g.jsx(Tn,{path:"personal/settings",element:g.jsx(V3,{})}),g.jsx(Tn,{path:"plan",element:g.jsx(g3,{})}),g.jsx(Tn,{path:"catalog",element:g.jsx(b3,{})}),g.jsx(Tn,{path:"objectives",element:g.jsx(k3,{})}),g.jsx(Tn,{path:"assistants",element:g.jsx(S3,{})}),g.jsx(Tn,{path:"backups",element:g.jsx(E3,{})})]})}),g.jsx(Tn,{path:"*",element:g.jsx(vc,{to:"/",replace:!0})})]})})}function Q3({children:e}){const[t,n]=E.useState(null),[r,i]=E.useState(null),[o,l]=E.useState(!0);E.useEffect(()=>{let c=!0;(async()=>{l(!0);const{data:{session:p}}=await Lt.auth.getSession();c&&(n(p),i((p==null?void 0:p.user)??null),l(!1))})();const{data:{subscription:h}}=Lt.auth.onAuthStateChange((p,v)=>{c&&(n(v),i((v==null?void 0:v.user)??null),l(!1))});return()=>{c=!1,h.unsubscribe()}},[]);const u=E.useMemo(()=>({session:t,user:r,loading:o,signInWithPassword:async(c,f)=>{const{error:h}=await Lt.auth.signInWithPassword({email:c,password:f});if(h)throw h},signUpWithPassword:async(c,f)=>{const p=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:v}=await Lt.auth.signUp({email:c,password:f,options:{emailRedirectTo:p}});if(v)throw v},signOut:async()=>{const{error:c}=await Lt.auth.signOut();if(c)throw c}}),[o,t,r]);return g.jsx(Ib.Provider,{value:u,children:e})}Ie.getState().hydrate();$E.createRoot(document.getElementById("root")).render(g.jsx(Ce.StrictMode,{children:g.jsx(Q3,{children:g.jsx(J3,{})})}));
