function TE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function IE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Nf={exports:{}},xa={},Tf={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function PE(){if(ey)return Ke;ey=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function S($,G,T){this.props=$,this.context=G,this.refs=w,this.updater=T||y}S.prototype.isReactComponent={},S.prototype.setState=function($,G){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,G,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function C(){}C.prototype=S.prototype;function _($,G,T){this.props=$,this.context=G,this.refs=w,this.updater=T||y}var j=_.prototype=new C;j.constructor=_,E(j,S.prototype),j.isPureReactComponent=!0;var M=Array.isArray,A=Object.prototype.hasOwnProperty,R={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function Z($,G,T){var ne,pe={},he=null,Se=null;if(G!=null)for(ne in G.ref!==void 0&&(Se=G.ref),G.key!==void 0&&(he=""+G.key),G)A.call(G,ne)&&!L.hasOwnProperty(ne)&&(pe[ne]=G[ne]);var le=arguments.length-2;if(le===1)pe.children=T;else if(1<le){for(var ke=Array(le),we=0;we<le;we++)ke[we]=arguments[we+2];pe.children=ke}if($&&$.defaultProps)for(ne in le=$.defaultProps,le)pe[ne]===void 0&&(pe[ne]=le[ne]);return{$$typeof:e,type:$,key:he,ref:Se,props:pe,_owner:R.current}}function Q($,G){return{$$typeof:e,type:$.type,key:G,ref:$.ref,props:$.props,_owner:$._owner}}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function N($){var G={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(T){return G[T]})}var Y=/\/+/g;function H($,G){return typeof $=="object"&&$!==null&&$.key!=null?N(""+$.key):G.toString(36)}function B($,G,T,ne,pe){var he=typeof $;(he==="undefined"||he==="boolean")&&($=null);var Se=!1;if($===null)Se=!0;else switch(he){case"string":case"number":Se=!0;break;case"object":switch($.$$typeof){case e:case t:Se=!0}}if(Se)return Se=$,pe=pe(Se),$=ne===""?"."+H(Se,0):ne,M(pe)?(T="",$!=null&&(T=$.replace(Y,"$&/")+"/"),B(pe,G,T,"",function(we){return we})):pe!=null&&(O(pe)&&(pe=Q(pe,T+(!pe.key||Se&&Se.key===pe.key?"":(""+pe.key).replace(Y,"$&/")+"/")+$)),G.push(pe)),1;if(Se=0,ne=ne===""?".":ne+":",M($))for(var le=0;le<$.length;le++){he=$[le];var ke=ne+H(he,le);Se+=B(he,G,T,ke,pe)}else if(ke=v($),typeof ke=="function")for($=ke.call($),le=0;!(he=$.next()).done;)he=he.value,ke=ne+H(he,le++),Se+=B(he,G,T,ke,pe);else if(he==="object")throw G=String($),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Se}function F($,G,T){if($==null)return $;var ne=[],pe=0;return B($,ne,"","",function(he){return G.call(T,he,pe++)}),ne}function J($){if($._status===-1){var G=$._result;G=G(),G.then(function(T){($._status===0||$._status===-1)&&($._status=1,$._result=T)},function(T){($._status===0||$._status===-1)&&($._status=2,$._result=T)}),$._status===-1&&($._status=0,$._result=G)}if($._status===1)return $._result.default;throw $._result}var X={current:null},D={transition:null},V={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:D,ReactCurrentOwner:R};function P(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:F,forEach:function($,G,T){F($,function(){G.apply(this,arguments)},T)},count:function($){var G=0;return F($,function(){G++}),G},toArray:function($){return F($,function(G){return G})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ke.Component=S,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=_,Ke.StrictMode=r,Ke.Suspense=c,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Ke.act=P,Ke.cloneElement=function($,G,T){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ne=E({},$.props),pe=$.key,he=$.ref,Se=$._owner;if(G!=null){if(G.ref!==void 0&&(he=G.ref,Se=R.current),G.key!==void 0&&(pe=""+G.key),$.type&&$.type.defaultProps)var le=$.type.defaultProps;for(ke in G)A.call(G,ke)&&!L.hasOwnProperty(ke)&&(ne[ke]=G[ke]===void 0&&le!==void 0?le[ke]:G[ke])}var ke=arguments.length-2;if(ke===1)ne.children=T;else if(1<ke){le=Array(ke);for(var we=0;we<ke;we++)le[we]=arguments[we+2];ne.children=le}return{$$typeof:e,type:$.type,key:pe,ref:he,props:ne,_owner:Se}},Ke.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Ke.createElement=Z,Ke.createFactory=function($){var G=Z.bind(null,$);return G.type=$,G},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function($){return{$$typeof:u,render:$}},Ke.isValidElement=O,Ke.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:J}},Ke.memo=function($,G){return{$$typeof:f,type:$,compare:G===void 0?null:G}},Ke.startTransition=function($){var G=D.transition;D.transition={};try{$()}finally{D.transition=G}},Ke.unstable_act=P,Ke.useCallback=function($,G){return X.current.useCallback($,G)},Ke.useContext=function($){return X.current.useContext($)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function($){return X.current.useDeferredValue($)},Ke.useEffect=function($,G){return X.current.useEffect($,G)},Ke.useId=function(){return X.current.useId()},Ke.useImperativeHandle=function($,G,T){return X.current.useImperativeHandle($,G,T)},Ke.useInsertionEffect=function($,G){return X.current.useInsertionEffect($,G)},Ke.useLayoutEffect=function($,G){return X.current.useLayoutEffect($,G)},Ke.useMemo=function($,G){return X.current.useMemo($,G)},Ke.useReducer=function($,G,T){return X.current.useReducer($,G,T)},Ke.useRef=function($){return X.current.useRef($)},Ke.useState=function($){return X.current.useState($)},Ke.useSyncExternalStore=function($,G,T){return X.current.useSyncExternalStore($,G,T)},Ke.useTransition=function(){return X.current.useTransition()},Ke.version="18.3.1",Ke}var ty;function vc(){return ty||(ty=1,Tf.exports=PE()),Tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function RE(){if(ny)return xa;ny=1;var e=vc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var h,p={},v=null,y=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:t,type:u,key:v,ref:y,props:p,_owner:i.current}}return xa.Fragment=n,xa.jsx=l,xa.jsxs=l,xa}var ry;function AE(){return ry||(ry=1,Nf.exports=RE()),Nf.exports}var g=AE(),k=vc();const Ce=No(k),Vu=TE({__proto__:null,default:Ce},[k]);var yu={},If={exports:{}},jn={},Pf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function OE(){return iy||(iy=1,(function(e){function t(D,V){var P=D.length;D.push(V);e:for(;0<P;){var $=P-1>>>1,G=D[$];if(0<i(G,V))D[$]=V,D[P]=G,P=$;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],P=D.pop();if(P!==V){D[0]=P;e:for(var $=0,G=D.length,T=G>>>1;$<T;){var ne=2*($+1)-1,pe=D[ne],he=ne+1,Se=D[he];if(0>i(pe,P))he<G&&0>i(Se,pe)?(D[$]=Se,D[he]=P,$=he):(D[$]=pe,D[ne]=P,$=ne);else if(he<G&&0>i(Se,P))D[$]=Se,D[he]=P,$=he;else break e}}return V}function i(D,V){var P=D.sortIndex-V.sortIndex;return P!==0?P:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],f=[],h=1,p=null,v=3,y=!1,E=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(D){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=D)r(f),V.sortIndex=V.expirationTime,t(c,V);else break;V=n(f)}}function M(D){if(w=!1,j(D),!E)if(n(c)!==null)E=!0,J(A);else{var V=n(f);V!==null&&X(M,V.startTime-D)}}function A(D,V){E=!1,w&&(w=!1,C(Z),Z=-1),y=!0;var P=v;try{for(j(V),p=n(c);p!==null&&(!(p.expirationTime>V)||D&&!N());){var $=p.callback;if(typeof $=="function"){p.callback=null,v=p.priorityLevel;var G=$(p.expirationTime<=V);V=e.unstable_now(),typeof G=="function"?p.callback=G:p===n(c)&&r(c),j(V)}else r(c);p=n(c)}if(p!==null)var T=!0;else{var ne=n(f);ne!==null&&X(M,ne.startTime-V),T=!1}return T}finally{p=null,v=P,y=!1}}var R=!1,L=null,Z=-1,Q=5,O=-1;function N(){return!(e.unstable_now()-O<Q)}function Y(){if(L!==null){var D=e.unstable_now();O=D;var V=!0;try{V=L(!0,D)}finally{V?H():(R=!1,L=null)}}else R=!1}var H;if(typeof _=="function")H=function(){_(Y)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=Y,H=function(){F.postMessage(null)}}else H=function(){S(Y,0)};function J(D){L=D,R||(R=!0,H())}function X(D,V){Z=S(function(){D(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){E||y||(E=!0,J(A))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var P=v;v=V;try{return D()}finally{v=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=v;v=D;try{return V()}finally{v=P}},e.unstable_scheduleCallback=function(D,V,P){var $=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?$+P:$):P=$,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,D={id:h++,callback:V,priorityLevel:D,startTime:P,expirationTime:G,sortIndex:-1},P>$?(D.sortIndex=P,t(f,D),n(c)===null&&D===n(f)&&(w?(C(Z),Z=-1):w=!0,X(M,P-$))):(D.sortIndex=G,t(c,D),E||y||(E=!0,J(A))),D},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(D){var V=v;return function(){var P=v;v=V;try{return D.apply(this,arguments)}finally{v=P}}}})(Rf)),Rf}var sy;function ME(){return sy||(sy=1,Pf.exports=OE()),Pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function DE(){if(oy)return jn;oy=1;var e=vc(),t=ME();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(s){return c.call(p,s)?!0:c.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function y(s,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,a,d,m){if(a===null||typeof a>"u"||y(s,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,d,m,x,b,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=I}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function _(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,_);S[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,_);S[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,_);S[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,a,d,m){var x=S.hasOwnProperty(a)?S[a]:null;(x!==null?x.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(E(a,d,x,m)&&(d=null),m||x===null?v(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):x.mustUseProperty?s[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,m=x.attributeNamespace,d===null?s.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?s.setAttributeNS(m,a,d):s.setAttribute(a,d))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),R=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),N=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),D=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var P=Object.assign,$;function G(s){if($===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var T=!1;function ne(s,a){if(!s||T)return"";T=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(se){var m=se}Reflect.construct(s,[],a)}else{try{a.call()}catch(se){m=se}s.call(a.prototype)}else{try{throw Error()}catch(se){m=se}s()}}catch(se){if(se&&m&&typeof se.stack=="string"){for(var x=se.stack.split(`
`),b=m.stack.split(`
`),I=x.length-1,z=b.length-1;1<=I&&0<=z&&x[I]!==b[z];)z--;for(;1<=I&&0<=z;I--,z--)if(x[I]!==b[z]){if(I!==1||z!==1)do if(I--,z--,0>z||x[I]!==b[z]){var W=`
`+x[I].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=I&&0<=z);break}}}finally{T=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?G(s):""}function pe(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=ne(s.type,!1),s;case 11:return s=ne(s.type.render,!1),s;case 1:return s=ne(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case R:return"Portal";case Q:return"Profiler";case Z:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case N:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return a=s.displayName||null,a!==null?a:he(s.type)||"Memo";case J:a=s._payload,s=s._init;try{return he(s(a))}catch{}}return null}function Se(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(a);case 8:return a===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function le(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ke(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function we(s){var a=ke(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,b=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return x.call(this)},set:function(I){m=""+I,b.call(this,I)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ge(s){s._valueTracker||(s._valueTracker=we(s))}function rt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return s&&(m=ke(s)?s.checked?"true":"false":s.value),s=m,s!==d?(a.setValue(s),!0):!1}function Qe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function K(s,a){var d=a.checked;return P({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function ae(s,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=le(a.value!=null?a.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ue(s,a){a=a.checked,a!=null&&j(s,"checked",a,!1)}function ve(s,a){ue(s,a);var d=le(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?oe(s,a.type,d):a.hasOwnProperty("defaultValue")&&oe(s,a.type,le(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function me(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function oe(s,a,d){(a!=="number"||Qe(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Ee=Array.isArray;function qe(s,a,d,m){if(s=s.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=a.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&m&&(s[d].defaultSelected=!0)}else{for(d=""+le(d),a=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}a!==null||s[x].disabled||(a=s[x])}a!==null&&(a.selected=!0)}}function Xe(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return P({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _t(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(Ee(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:le(d)}}function ee(s,a){var d=le(a.value),m=le(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function ce(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function U(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?U(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var be,_e=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,x){MSApp.execUnsafeLocalFunction(function(){return s(a,d,m,x)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=be.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ae(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(s){yt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),We[a]=We[s]})});function dt(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||We.hasOwnProperty(s)&&We[s]?(""+a).trim():a+"px"}function Pt(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=dt(d,a[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,x):s[d]=x}}var Ye=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tt(s,a){if(a){if(Ye[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Wt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function lt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ot=null,Qt=null,wt=null;function en(s){if(s=ia(s)){if(typeof ot!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Al(a),ot(s.stateNode,s.type,a))}}function tn(s){Qt?wt?wt.push(s):wt=[s]:Qt=s}function sr(){if(Qt){var s=Qt,a=wt;if(wt=Qt=null,en(s),a)for(s=0;s<a.length;s++)en(a[s])}}function hn(s,a){return s(a)}function nn(){}var bn=!1;function Ur(s,a,d){if(bn)return s(a,d);bn=!0;try{return hn(s,a,d)}finally{bn=!1,(Qt!==null||wt!==null)&&(nn(),sr())}}function bt(s,a){var d=s.stateNode;if(d===null)return null;var m=Al(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Kn=!1;if(u)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{Kn=!1}function or(s,a,d,m,x,b,I,z,W){var se=Array.prototype.slice.call(arguments,3);try{a.apply(d,se)}catch(fe){this.onError(fe)}}var ar=!1,Sr=null,Ln=!1,Wr=null,Fo={onError:function(s){ar=!0,Sr=s}};function L1(s,a,d,m,x,b,I,z,W){ar=!1,Sr=null,or.apply(Fo,arguments)}function $1(s,a,d,m,x,b,I,z,W){if(L1.apply(this,arguments),ar){if(ar){var se=Sr;ar=!1,Sr=null}else throw Error(n(198));Ln||(Ln=!0,Wr=se)}}function Bi(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function Sm(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Em(s){if(Bi(s)!==s)throw Error(n(188))}function F1(s){var a=s.alternate;if(!a){if(a=Bi(s),a===null)throw Error(n(188));return a!==s?null:s}for(var d=s,m=a;;){var x=d.return;if(x===null)break;var b=x.alternate;if(b===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===d)return Em(x),s;if(b===m)return Em(x),a;b=b.sibling}throw Error(n(188))}if(d.return!==m.return)d=x,m=b;else{for(var I=!1,z=x.child;z;){if(z===d){I=!0,d=x,m=b;break}if(z===m){I=!0,m=x,d=b;break}z=z.sibling}if(!I){for(z=b.child;z;){if(z===d){I=!0,d=b,m=x;break}if(z===m){I=!0,m=b,d=x;break}z=z.sibling}if(!I)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:a}function _m(s){return s=F1(s),s!==null?Cm(s):null}function Cm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Cm(s);if(a!==null)return a;s=s.sibling}return null}var jm=t.unstable_scheduleCallback,Nm=t.unstable_cancelCallback,z1=t.unstable_shouldYield,B1=t.unstable_requestPaint,Tt=t.unstable_now,U1=t.unstable_getCurrentPriorityLevel,Yc=t.unstable_ImmediatePriority,Tm=t.unstable_UserBlockingPriority,hl=t.unstable_NormalPriority,W1=t.unstable_LowPriority,Im=t.unstable_IdlePriority,pl=null,Er=null;function H1(s){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(pl,s,void 0,(s.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:Y1,V1=Math.log,q1=Math.LN2;function Y1(s){return s>>>=0,s===0?32:31-(V1(s)/q1|0)|0}var ml=64,gl=4194304;function zo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function vl(s,a){var d=s.pendingLanes;if(d===0)return 0;var m=0,x=s.suspendedLanes,b=s.pingedLanes,I=d&268435455;if(I!==0){var z=I&~x;z!==0?m=zo(z):(b&=I,b!==0&&(m=zo(b)))}else I=d&~x,I!==0?m=zo(I):b!==0&&(m=zo(b));if(m===0)return 0;if(a!==0&&a!==m&&(a&x)===0&&(x=m&-m,b=a&-a,x>=b||x===16&&(b&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)d=31-lr(a),x=1<<d,m|=s[d],a&=~x;return m}function K1(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G1(s,a){for(var d=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,b=s.pendingLanes;0<b;){var I=31-lr(b),z=1<<I,W=x[I];W===-1?((z&d)===0||(z&m)!==0)&&(x[I]=K1(z,a)):W<=a&&(s.expiredLanes|=z),b&=~z}}function Kc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Pm(){var s=ml;return ml<<=1,(ml&4194240)===0&&(ml=64),s}function Gc(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function Bo(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-lr(a),s[a]=d}function J1(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var x=31-lr(d),b=1<<x;a[x]=0,m[x]=-1,s[x]=-1,d&=~b}}function Jc(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var m=31-lr(d),x=1<<m;x&a|s[m]&a&&(s[m]|=a),d&=~x}}var at=0;function Rm(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Am,Qc,Om,Mm,Dm,Xc=!1,yl=[],oi=null,ai=null,li=null,Uo=new Map,Wo=new Map,ui=[],Q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lm(s,a){switch(s){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Uo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(a.pointerId)}}function Ho(s,a,d,m,x,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[x]},a!==null&&(a=ia(a),a!==null&&Qc(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),s)}function X1(s,a,d,m,x){switch(a){case"focusin":return oi=Ho(oi,s,a,d,m,x),!0;case"dragenter":return ai=Ho(ai,s,a,d,m,x),!0;case"mouseover":return li=Ho(li,s,a,d,m,x),!0;case"pointerover":var b=x.pointerId;return Uo.set(b,Ho(Uo.get(b)||null,s,a,d,m,x)),!0;case"gotpointercapture":return b=x.pointerId,Wo.set(b,Ho(Wo.get(b)||null,s,a,d,m,x)),!0}return!1}function $m(s){var a=Ui(s.target);if(a!==null){var d=Bi(a);if(d!==null){if(a=d.tag,a===13){if(a=Sm(d),a!==null){s.blockedOn=a,Dm(s.priority,function(){Om(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=ed(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);Ue=m,d.target.dispatchEvent(m),Ue=null}else return a=ia(d),a!==null&&Qc(a),s.blockedOn=d,!1;a.shift()}return!0}function Fm(s,a,d){xl(s)&&d.delete(a)}function Z1(){Xc=!1,oi!==null&&xl(oi)&&(oi=null),ai!==null&&xl(ai)&&(ai=null),li!==null&&xl(li)&&(li=null),Uo.forEach(Fm),Wo.forEach(Fm)}function Vo(s,a){s.blockedOn===a&&(s.blockedOn=null,Xc||(Xc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Z1)))}function qo(s){function a(x){return Vo(x,s)}if(0<yl.length){Vo(yl[0],s);for(var d=1;d<yl.length;d++){var m=yl[d];m.blockedOn===s&&(m.blockedOn=null)}}for(oi!==null&&Vo(oi,s),ai!==null&&Vo(ai,s),li!==null&&Vo(li,s),Uo.forEach(a),Wo.forEach(a),d=0;d<ui.length;d++)m=ui[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<ui.length&&(d=ui[0],d.blockedOn===null);)$m(d),d.blockedOn===null&&ui.shift()}var Cs=M.ReactCurrentBatchConfig,wl=!0;function eS(s,a,d,m){var x=at,b=Cs.transition;Cs.transition=null;try{at=1,Zc(s,a,d,m)}finally{at=x,Cs.transition=b}}function tS(s,a,d,m){var x=at,b=Cs.transition;Cs.transition=null;try{at=4,Zc(s,a,d,m)}finally{at=x,Cs.transition=b}}function Zc(s,a,d,m){if(wl){var x=ed(s,a,d,m);if(x===null)vd(s,a,m,bl,d),Lm(s,m);else if(X1(x,s,a,d,m))m.stopPropagation();else if(Lm(s,m),a&4&&-1<Q1.indexOf(s)){for(;x!==null;){var b=ia(x);if(b!==null&&Am(b),b=ed(s,a,d,m),b===null&&vd(s,a,m,bl,d),b===x)break;x=b}x!==null&&m.stopPropagation()}else vd(s,a,m,null,d)}}var bl=null;function ed(s,a,d,m){if(bl=null,s=lt(m),s=Ui(s),s!==null)if(a=Bi(s),a===null)s=null;else if(d=a.tag,d===13){if(s=Sm(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return bl=s,null}function zm(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U1()){case Yc:return 1;case Tm:return 4;case hl:case W1:return 16;case Im:return 536870912;default:return 16}default:return 16}}var ci=null,td=null,kl=null;function Bm(){if(kl)return kl;var s,a=td,d=a.length,m,x="value"in ci?ci.value:ci.textContent,b=x.length;for(s=0;s<d&&a[s]===x[s];s++);var I=d-s;for(m=1;m<=I&&a[d-m]===x[b-m];m++);return kl=x.slice(s,1<m?1-m:void 0)}function Sl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function El(){return!0}function Um(){return!1}function $n(s){function a(d,m,x,b,I){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(d=s[z],this[z]=d?d(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?El:Um,this.isPropagationStopped=Um,this}return P(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),a}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nd=$n(js),Yo=P({},js,{view:0,detail:0}),nS=$n(Yo),rd,id,Ko,_l=P({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ko&&(Ko&&s.type==="mousemove"?(rd=s.screenX-Ko.screenX,id=s.screenY-Ko.screenY):id=rd=0,Ko=s),rd)},movementY:function(s){return"movementY"in s?s.movementY:id}}),Wm=$n(_l),rS=P({},_l,{dataTransfer:0}),iS=$n(rS),sS=P({},Yo,{relatedTarget:0}),sd=$n(sS),oS=P({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),aS=$n(oS),lS=P({},js,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),uS=$n(lS),cS=P({},js,{data:0}),Hm=$n(cS),dS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pS(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=hS[s])?!!a[s]:!1}function od(){return pS}var mS=P({},Yo,{key:function(s){if(s.key){var a=dS[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Sl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(s){return s.type==="keypress"?Sl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gS=$n(mS),vS=P({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vm=$n(vS),yS=P({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),xS=$n(yS),wS=P({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),bS=$n(wS),kS=P({},_l,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),SS=$n(kS),ES=[9,13,27,32],ad=u&&"CompositionEvent"in window,Go=null;u&&"documentMode"in document&&(Go=document.documentMode);var _S=u&&"TextEvent"in window&&!Go,qm=u&&(!ad||Go&&8<Go&&11>=Go),Ym=" ",Km=!1;function Gm(s,a){switch(s){case"keyup":return ES.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ns=!1;function CS(s,a){switch(s){case"compositionend":return Jm(a);case"keypress":return a.which!==32?null:(Km=!0,Ym);case"textInput":return s=a.data,s===Ym&&Km?null:s;default:return null}}function jS(s,a){if(Ns)return s==="compositionend"||!ad&&Gm(s,a)?(s=Bm(),kl=td=ci=null,Ns=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qm&&a.locale!=="ko"?null:a.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!NS[s.type]:a==="textarea"}function Xm(s,a,d,m){tn(m),a=Il(a,"onChange"),0<a.length&&(d=new nd("onChange","change",null,d,m),s.push({event:d,listeners:a}))}var Jo=null,Qo=null;function TS(s){gg(s,0)}function Cl(s){var a=As(s);if(rt(a))return s}function IS(s,a){if(s==="change")return a}var Zm=!1;if(u){var ld;if(u){var ud="oninput"in document;if(!ud){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),ud=typeof eg.oninput=="function"}ld=ud}else ld=!1;Zm=ld&&(!document.documentMode||9<document.documentMode)}function tg(){Jo&&(Jo.detachEvent("onpropertychange",ng),Qo=Jo=null)}function ng(s){if(s.propertyName==="value"&&Cl(Qo)){var a=[];Xm(a,Qo,s,lt(s)),Ur(TS,a)}}function PS(s,a,d){s==="focusin"?(tg(),Jo=a,Qo=d,Jo.attachEvent("onpropertychange",ng)):s==="focusout"&&tg()}function RS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cl(Qo)}function AS(s,a){if(s==="click")return Cl(a)}function OS(s,a){if(s==="input"||s==="change")return Cl(a)}function MS(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ur=typeof Object.is=="function"?Object.is:MS;function Xo(s,a){if(ur(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!c.call(a,x)||!ur(s[x],a[x]))return!1}return!0}function rg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ig(s,a){var d=rg(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=a&&m>=a)return{node:d,offset:a-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=rg(d)}}function sg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?sg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function og(){for(var s=window,a=Qe();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=Qe(s.document)}return a}function cd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function DS(s){var a=og(),d=s.focusedElem,m=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&sg(d.ownerDocument.documentElement,d)){if(m!==null&&cd(d)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var x=d.textContent.length,b=Math.min(m.start,x);m=m.end===void 0?b:Math.min(m.end,x),!s.extend&&b>m&&(x=m,m=b,b=x),x=ig(d,b);var I=ig(d,m);x&&I&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),s.removeAllRanges(),b>m?(s.addRange(a),s.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var LS=u&&"documentMode"in document&&11>=document.documentMode,Ts=null,dd=null,Zo=null,fd=!1;function ag(s,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;fd||Ts==null||Ts!==Qe(m)||(m=Ts,"selectionStart"in m&&cd(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zo&&Xo(Zo,m)||(Zo=m,m=Il(dd,"onSelect"),0<m.length&&(a=new nd("onSelect","select",null,a,d),s.push({event:a,listeners:m}),a.target=Ts)))}function jl(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var Is={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},hd={},lg={};u&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Nl(s){if(hd[s])return hd[s];if(!Is[s])return s;var a=Is[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in lg)return hd[s]=a[d];return s}var ug=Nl("animationend"),cg=Nl("animationiteration"),dg=Nl("animationstart"),fg=Nl("transitionend"),hg=new Map,pg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(s,a){hg.set(s,a),o(a,[s])}for(var pd=0;pd<pg.length;pd++){var md=pg[pd],$S=md.toLowerCase(),FS=md[0].toUpperCase()+md.slice(1);di($S,"on"+FS)}di(ug,"onAnimationEnd"),di(cg,"onAnimationIteration"),di(dg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(fg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function mg(s,a,d){var m=s.type||"unknown-event";s.currentTarget=d,$1(m,a,void 0,s),s.currentTarget=null}function gg(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],x=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var I=m.length-1;0<=I;I--){var z=m[I],W=z.instance,se=z.currentTarget;if(z=z.listener,W!==b&&x.isPropagationStopped())break e;mg(x,z,se),b=W}else for(I=0;I<m.length;I++){if(z=m[I],W=z.instance,se=z.currentTarget,z=z.listener,W!==b&&x.isPropagationStopped())break e;mg(x,z,se),b=W}}}if(Ln)throw s=Wr,Ln=!1,Wr=null,s}function mt(s,a){var d=a[Sd];d===void 0&&(d=a[Sd]=new Set);var m=s+"__bubble";d.has(m)||(vg(a,s,2,!1),d.add(m))}function gd(s,a,d){var m=0;a&&(m|=4),vg(d,s,m,a)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function ta(s){if(!s[Tl]){s[Tl]=!0,r.forEach(function(d){d!=="selectionchange"&&(zS.has(d)||gd(d,!1,s),gd(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Tl]||(a[Tl]=!0,gd("selectionchange",!1,a))}}function vg(s,a,d,m){switch(zm(a)){case 1:var x=eS;break;case 4:x=tS;break;default:x=Zc}d=x.bind(null,a,d,s),x=void 0,!Kn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(a,d,{capture:!0,passive:x}):s.addEventListener(a,d,!0):x!==void 0?s.addEventListener(a,d,{passive:x}):s.addEventListener(a,d,!1)}function vd(s,a,d,m,x){var b=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var z=m.stateNode.containerInfo;if(z===x||z.nodeType===8&&z.parentNode===x)break;if(I===4)for(I=m.return;I!==null;){var W=I.tag;if((W===3||W===4)&&(W=I.stateNode.containerInfo,W===x||W.nodeType===8&&W.parentNode===x))return;I=I.return}for(;z!==null;){if(I=Ui(z),I===null)return;if(W=I.tag,W===5||W===6){m=b=I;continue e}z=z.parentNode}}m=m.return}Ur(function(){var se=b,fe=lt(d),ge=[];e:{var de=hg.get(s);if(de!==void 0){var je=nd,Ie=s;switch(s){case"keypress":if(Sl(d)===0)break e;case"keydown":case"keyup":je=gS;break;case"focusin":Ie="focus",je=sd;break;case"focusout":Ie="blur",je=sd;break;case"beforeblur":case"afterblur":je=sd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=iS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=xS;break;case ug:case cg:case dg:je=aS;break;case fg:je=bS;break;case"scroll":je=nS;break;case"wheel":je=SS;break;case"copy":case"cut":case"paste":je=uS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Vm}var Pe=(a&4)!==0,It=!Pe&&s==="scroll",te=Pe?de!==null?de+"Capture":null:de;Pe=[];for(var q=se,re;q!==null;){re=q;var xe=re.stateNode;if(re.tag===5&&xe!==null&&(re=xe,te!==null&&(xe=bt(q,te),xe!=null&&Pe.push(na(q,xe,re)))),It)break;q=q.return}0<Pe.length&&(de=new je(de,Ie,null,d,fe),ge.push({event:de,listeners:Pe}))}}if((a&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",je=s==="mouseout"||s==="pointerout",de&&d!==Ue&&(Ie=d.relatedTarget||d.fromElement)&&(Ui(Ie)||Ie[Hr]))break e;if((je||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,je?(Ie=d.relatedTarget||d.toElement,je=se,Ie=Ie?Ui(Ie):null,Ie!==null&&(It=Bi(Ie),Ie!==It||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(je=null,Ie=se),je!==Ie)){if(Pe=Wm,xe="onMouseLeave",te="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=Vm,xe="onPointerLeave",te="onPointerEnter",q="pointer"),It=je==null?de:As(je),re=Ie==null?de:As(Ie),de=new Pe(xe,q+"leave",je,d,fe),de.target=It,de.relatedTarget=re,xe=null,Ui(fe)===se&&(Pe=new Pe(te,q+"enter",Ie,d,fe),Pe.target=re,Pe.relatedTarget=It,xe=Pe),It=xe,je&&Ie)t:{for(Pe=je,te=Ie,q=0,re=Pe;re;re=Ps(re))q++;for(re=0,xe=te;xe;xe=Ps(xe))re++;for(;0<q-re;)Pe=Ps(Pe),q--;for(;0<re-q;)te=Ps(te),re--;for(;q--;){if(Pe===te||te!==null&&Pe===te.alternate)break t;Pe=Ps(Pe),te=Ps(te)}Pe=null}else Pe=null;je!==null&&yg(ge,de,je,Pe,!1),Ie!==null&&It!==null&&yg(ge,It,Ie,Pe,!0)}}e:{if(de=se?As(se):window,je=de.nodeName&&de.nodeName.toLowerCase(),je==="select"||je==="input"&&de.type==="file")var Re=IS;else if(Qm(de))if(Zm)Re=OS;else{Re=RS;var Me=PS}else(je=de.nodeName)&&je.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Re=AS);if(Re&&(Re=Re(s,se))){Xm(ge,Re,d,fe);break e}Me&&Me(s,de,se),s==="focusout"&&(Me=de._wrapperState)&&Me.controlled&&de.type==="number"&&oe(de,"number",de.value)}switch(Me=se?As(se):window,s){case"focusin":(Qm(Me)||Me.contentEditable==="true")&&(Ts=Me,dd=se,Zo=null);break;case"focusout":Zo=dd=Ts=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,ag(ge,d,fe);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":ag(ge,d,fe)}var De;if(ad)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ns?Gm(s,d)&&(ze="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(ze="onCompositionStart");ze&&(qm&&d.locale!=="ko"&&(Ns||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ns&&(De=Bm()):(ci=fe,td="value"in ci?ci.value:ci.textContent,Ns=!0)),Me=Il(se,ze),0<Me.length&&(ze=new Hm(ze,s,null,d,fe),ge.push({event:ze,listeners:Me}),De?ze.data=De:(De=Jm(d),De!==null&&(ze.data=De)))),(De=_S?CS(s,d):jS(s,d))&&(se=Il(se,"onBeforeInput"),0<se.length&&(fe=new Hm("onBeforeInput","beforeinput",null,d,fe),ge.push({event:fe,listeners:se}),fe.data=De))}gg(ge,a)})}function na(s,a,d){return{instance:s,listener:a,currentTarget:d}}function Il(s,a){for(var d=a+"Capture",m=[];s!==null;){var x=s,b=x.stateNode;x.tag===5&&b!==null&&(x=b,b=bt(s,d),b!=null&&m.unshift(na(s,b,x)),b=bt(s,a),b!=null&&m.push(na(s,b,x))),s=s.return}return m}function Ps(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function yg(s,a,d,m,x){for(var b=a._reactName,I=[];d!==null&&d!==m;){var z=d,W=z.alternate,se=z.stateNode;if(W!==null&&W===m)break;z.tag===5&&se!==null&&(z=se,x?(W=bt(d,b),W!=null&&I.unshift(na(d,W,z))):x||(W=bt(d,b),W!=null&&I.push(na(d,W,z)))),d=d.return}I.length!==0&&s.push({event:a,listeners:I})}var BS=/\r\n?/g,US=/\u0000|\uFFFD/g;function xg(s){return(typeof s=="string"?s:""+s).replace(BS,`
`).replace(US,"")}function Pl(s,a,d){if(a=xg(a),xg(s)!==a&&d)throw Error(n(425))}function Rl(){}var yd=null,xd=null;function wd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(s){return wg.resolve(null).then(s).catch(VS)}:bd;function VS(s){setTimeout(function(){throw s})}function kd(s,a){var d=a,m=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){s.removeChild(x),qo(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);qo(a)}function fi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function bg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),_r="__reactFiber$"+Rs,ra="__reactProps$"+Rs,Hr="__reactContainer$"+Rs,Sd="__reactEvents$"+Rs,qS="__reactListeners$"+Rs,YS="__reactHandles$"+Rs;function Ui(s){var a=s[_r];if(a)return a;for(var d=s.parentNode;d;){if(a=d[Hr]||d[_r]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=bg(s);s!==null;){if(d=s[_r])return d;s=bg(s)}return a}s=d,d=s.parentNode}return null}function ia(s){return s=s[_r]||s[Hr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function As(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Al(s){return s[ra]||null}var Ed=[],Os=-1;function hi(s){return{current:s}}function gt(s){0>Os||(s.current=Ed[Os],Ed[Os]=null,Os--)}function ft(s,a){Os++,Ed[Os]=s.current,s.current=a}var pi={},sn=hi(pi),kn=hi(!1),Wi=pi;function Ms(s,a){var d=s.type.contextTypes;if(!d)return pi;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var x={},b;for(b in d)x[b]=a[b];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=x),x}function Sn(s){return s=s.childContextTypes,s!=null}function Ol(){gt(kn),gt(sn)}function kg(s,a,d){if(sn.current!==pi)throw Error(n(168));ft(sn,a),ft(kn,d)}function Sg(s,a,d){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in a))throw Error(n(108,Se(s)||"Unknown",x));return P({},d,m)}function Ml(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||pi,Wi=sn.current,ft(sn,s),ft(kn,kn.current),!0}function Eg(s,a,d){var m=s.stateNode;if(!m)throw Error(n(169));d?(s=Sg(s,a,Wi),m.__reactInternalMemoizedMergedChildContext=s,gt(kn),gt(sn),ft(sn,s)):gt(kn),ft(kn,d)}var Vr=null,Dl=!1,_d=!1;function _g(s){Vr===null?Vr=[s]:Vr.push(s)}function KS(s){Dl=!0,_g(s)}function mi(){if(!_d&&Vr!==null){_d=!0;var s=0,a=at;try{var d=Vr;for(at=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}Vr=null,Dl=!1}catch(x){throw Vr!==null&&(Vr=Vr.slice(s+1)),jm(Yc,mi),x}finally{at=a,_d=!1}}return null}var Ds=[],Ls=0,Ll=null,$l=0,Gn=[],Jn=0,Hi=null,qr=1,Yr="";function Vi(s,a){Ds[Ls++]=$l,Ds[Ls++]=Ll,Ll=s,$l=a}function Cg(s,a,d){Gn[Jn++]=qr,Gn[Jn++]=Yr,Gn[Jn++]=Hi,Hi=s;var m=qr;s=Yr;var x=32-lr(m)-1;m&=~(1<<x),d+=1;var b=32-lr(a)+x;if(30<b){var I=x-x%5;b=(m&(1<<I)-1).toString(32),m>>=I,x-=I,qr=1<<32-lr(a)+x|d<<x|m,Yr=b+s}else qr=1<<b|d<<x|m,Yr=s}function Cd(s){s.return!==null&&(Vi(s,1),Cg(s,1,0))}function jd(s){for(;s===Ll;)Ll=Ds[--Ls],Ds[Ls]=null,$l=Ds[--Ls],Ds[Ls]=null;for(;s===Hi;)Hi=Gn[--Jn],Gn[Jn]=null,Yr=Gn[--Jn],Gn[Jn]=null,qr=Gn[--Jn],Gn[Jn]=null}var Fn=null,zn=null,xt=!1,cr=null;function jg(s,a){var d=er(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function Ng(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Fn=s,zn=fi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Fn=s,zn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Hi!==null?{id:qr,overflow:Yr}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=er(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,Fn=s,zn=null,!0):!1;default:return!1}}function Nd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Td(s){if(xt){var a=zn;if(a){var d=a;if(!Ng(s,a)){if(Nd(s))throw Error(n(418));a=fi(d.nextSibling);var m=Fn;a&&Ng(s,a)?jg(m,d):(s.flags=s.flags&-4097|2,xt=!1,Fn=s)}}else{if(Nd(s))throw Error(n(418));s.flags=s.flags&-4097|2,xt=!1,Fn=s}}}function Tg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Fn=s}function Fl(s){if(s!==Fn)return!1;if(!xt)return Tg(s),xt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!wd(s.type,s.memoizedProps)),a&&(a=zn)){if(Nd(s))throw Ig(),Error(n(418));for(;a;)jg(s,a),a=fi(a.nextSibling)}if(Tg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){zn=fi(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}zn=null}}else zn=Fn?fi(s.stateNode.nextSibling):null;return!0}function Ig(){for(var s=zn;s;)s=fi(s.nextSibling)}function $s(){zn=Fn=null,xt=!1}function Id(s){cr===null?cr=[s]:cr.push(s)}var GS=M.ReactCurrentBatchConfig;function sa(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,s));var x=m,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(I){var z=x.refs;I===null?delete z[b]:z[b]=I},a._stringRef=b,a)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function zl(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Pg(s){var a=s._init;return a(s._payload)}function Rg(s){function a(te,q){if(s){var re=te.deletions;re===null?(te.deletions=[q],te.flags|=16):re.push(q)}}function d(te,q){if(!s)return null;for(;q!==null;)a(te,q),q=q.sibling;return null}function m(te,q){for(te=new Map;q!==null;)q.key!==null?te.set(q.key,q):te.set(q.index,q),q=q.sibling;return te}function x(te,q){return te=Si(te,q),te.index=0,te.sibling=null,te}function b(te,q,re){return te.index=re,s?(re=te.alternate,re!==null?(re=re.index,re<q?(te.flags|=2,q):re):(te.flags|=2,q)):(te.flags|=1048576,q)}function I(te){return s&&te.alternate===null&&(te.flags|=2),te}function z(te,q,re,xe){return q===null||q.tag!==6?(q=kf(re,te.mode,xe),q.return=te,q):(q=x(q,re),q.return=te,q)}function W(te,q,re,xe){var Re=re.type;return Re===L?fe(te,q,re.props.children,xe,re.key):q!==null&&(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===J&&Pg(Re)===q.type)?(xe=x(q,re.props),xe.ref=sa(te,q,re),xe.return=te,xe):(xe=cu(re.type,re.key,re.props,null,te.mode,xe),xe.ref=sa(te,q,re),xe.return=te,xe)}function se(te,q,re,xe){return q===null||q.tag!==4||q.stateNode.containerInfo!==re.containerInfo||q.stateNode.implementation!==re.implementation?(q=Sf(re,te.mode,xe),q.return=te,q):(q=x(q,re.children||[]),q.return=te,q)}function fe(te,q,re,xe,Re){return q===null||q.tag!==7?(q=Zi(re,te.mode,xe,Re),q.return=te,q):(q=x(q,re),q.return=te,q)}function ge(te,q,re){if(typeof q=="string"&&q!==""||typeof q=="number")return q=kf(""+q,te.mode,re),q.return=te,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return re=cu(q.type,q.key,q.props,null,te.mode,re),re.ref=sa(te,null,q),re.return=te,re;case R:return q=Sf(q,te.mode,re),q.return=te,q;case J:var xe=q._init;return ge(te,xe(q._payload),re)}if(Ee(q)||V(q))return q=Zi(q,te.mode,re,null),q.return=te,q;zl(te,q)}return null}function de(te,q,re,xe){var Re=q!==null?q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Re!==null?null:z(te,q,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case A:return re.key===Re?W(te,q,re,xe):null;case R:return re.key===Re?se(te,q,re,xe):null;case J:return Re=re._init,de(te,q,Re(re._payload),xe)}if(Ee(re)||V(re))return Re!==null?null:fe(te,q,re,xe,null);zl(te,re)}return null}function je(te,q,re,xe,Re){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return te=te.get(re)||null,z(q,te,""+xe,Re);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case A:return te=te.get(xe.key===null?re:xe.key)||null,W(q,te,xe,Re);case R:return te=te.get(xe.key===null?re:xe.key)||null,se(q,te,xe,Re);case J:var Me=xe._init;return je(te,q,re,Me(xe._payload),Re)}if(Ee(xe)||V(xe))return te=te.get(re)||null,fe(q,te,xe,Re,null);zl(q,xe)}return null}function Ie(te,q,re,xe){for(var Re=null,Me=null,De=q,ze=q=0,qt=null;De!==null&&ze<re.length;ze++){De.index>ze?(qt=De,De=null):qt=De.sibling;var nt=de(te,De,re[ze],xe);if(nt===null){De===null&&(De=qt);break}s&&De&&nt.alternate===null&&a(te,De),q=b(nt,q,ze),Me===null?Re=nt:Me.sibling=nt,Me=nt,De=qt}if(ze===re.length)return d(te,De),xt&&Vi(te,ze),Re;if(De===null){for(;ze<re.length;ze++)De=ge(te,re[ze],xe),De!==null&&(q=b(De,q,ze),Me===null?Re=De:Me.sibling=De,Me=De);return xt&&Vi(te,ze),Re}for(De=m(te,De);ze<re.length;ze++)qt=je(De,te,ze,re[ze],xe),qt!==null&&(s&&qt.alternate!==null&&De.delete(qt.key===null?ze:qt.key),q=b(qt,q,ze),Me===null?Re=qt:Me.sibling=qt,Me=qt);return s&&De.forEach(function(Ei){return a(te,Ei)}),xt&&Vi(te,ze),Re}function Pe(te,q,re,xe){var Re=V(re);if(typeof Re!="function")throw Error(n(150));if(re=Re.call(re),re==null)throw Error(n(151));for(var Me=Re=null,De=q,ze=q=0,qt=null,nt=re.next();De!==null&&!nt.done;ze++,nt=re.next()){De.index>ze?(qt=De,De=null):qt=De.sibling;var Ei=de(te,De,nt.value,xe);if(Ei===null){De===null&&(De=qt);break}s&&De&&Ei.alternate===null&&a(te,De),q=b(Ei,q,ze),Me===null?Re=Ei:Me.sibling=Ei,Me=Ei,De=qt}if(nt.done)return d(te,De),xt&&Vi(te,ze),Re;if(De===null){for(;!nt.done;ze++,nt=re.next())nt=ge(te,nt.value,xe),nt!==null&&(q=b(nt,q,ze),Me===null?Re=nt:Me.sibling=nt,Me=nt);return xt&&Vi(te,ze),Re}for(De=m(te,De);!nt.done;ze++,nt=re.next())nt=je(De,te,ze,nt.value,xe),nt!==null&&(s&&nt.alternate!==null&&De.delete(nt.key===null?ze:nt.key),q=b(nt,q,ze),Me===null?Re=nt:Me.sibling=nt,Me=nt);return s&&De.forEach(function(NE){return a(te,NE)}),xt&&Vi(te,ze),Re}function It(te,q,re,xe){if(typeof re=="object"&&re!==null&&re.type===L&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case A:e:{for(var Re=re.key,Me=q;Me!==null;){if(Me.key===Re){if(Re=re.type,Re===L){if(Me.tag===7){d(te,Me.sibling),q=x(Me,re.props.children),q.return=te,te=q;break e}}else if(Me.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===J&&Pg(Re)===Me.type){d(te,Me.sibling),q=x(Me,re.props),q.ref=sa(te,Me,re),q.return=te,te=q;break e}d(te,Me);break}else a(te,Me);Me=Me.sibling}re.type===L?(q=Zi(re.props.children,te.mode,xe,re.key),q.return=te,te=q):(xe=cu(re.type,re.key,re.props,null,te.mode,xe),xe.ref=sa(te,q,re),xe.return=te,te=xe)}return I(te);case R:e:{for(Me=re.key;q!==null;){if(q.key===Me)if(q.tag===4&&q.stateNode.containerInfo===re.containerInfo&&q.stateNode.implementation===re.implementation){d(te,q.sibling),q=x(q,re.children||[]),q.return=te,te=q;break e}else{d(te,q);break}else a(te,q);q=q.sibling}q=Sf(re,te.mode,xe),q.return=te,te=q}return I(te);case J:return Me=re._init,It(te,q,Me(re._payload),xe)}if(Ee(re))return Ie(te,q,re,xe);if(V(re))return Pe(te,q,re,xe);zl(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,q!==null&&q.tag===6?(d(te,q.sibling),q=x(q,re),q.return=te,te=q):(d(te,q),q=kf(re,te.mode,xe),q.return=te,te=q),I(te)):d(te,q)}return It}var Fs=Rg(!0),Ag=Rg(!1),Bl=hi(null),Ul=null,zs=null,Pd=null;function Rd(){Pd=zs=Ul=null}function Ad(s){var a=Bl.current;gt(Bl),s._currentValue=a}function Od(s,a,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===d)break;s=s.return}}function Bs(s,a){Ul=s,Pd=zs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(En=!0),s.firstContext=null)}function Qn(s){var a=s._currentValue;if(Pd!==s)if(s={context:s,memoizedValue:a,next:null},zs===null){if(Ul===null)throw Error(n(308));zs=s,Ul.dependencies={lanes:0,firstContext:s}}else zs=zs.next=s;return a}var qi=null;function Md(s){qi===null?qi=[s]:qi.push(s)}function Og(s,a,d,m){var x=a.interleaved;return x===null?(d.next=d,Md(a)):(d.next=x.next,x.next=d),a.interleaved=d,Kr(s,m)}function Kr(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var gi=!1;function Dd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Gr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function vi(s,a,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(et&2)!==0){var x=m.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),m.pending=a,Kr(s,d)}return x=m.interleaved,x===null?(a.next=a,Md(m)):(a.next=x.next,x.next=a),m.interleaved=a,Kr(s,d)}function Wl(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Jc(s,d)}}function Dg(s,a){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?x=b=I:b=b.next=I,d=d.next}while(d!==null);b===null?x=b=a:b=b.next=a}else x=b=a;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function Hl(s,a,d,m){var x=s.updateQueue;gi=!1;var b=x.firstBaseUpdate,I=x.lastBaseUpdate,z=x.shared.pending;if(z!==null){x.shared.pending=null;var W=z,se=W.next;W.next=null,I===null?b=se:I.next=se,I=W;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,z=fe.lastBaseUpdate,z!==I&&(z===null?fe.firstBaseUpdate=se:z.next=se,fe.lastBaseUpdate=W))}if(b!==null){var ge=x.baseState;I=0,fe=se=W=null,z=b;do{var de=z.lane,je=z.eventTime;if((m&de)===de){fe!==null&&(fe=fe.next={eventTime:je,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ie=s,Pe=z;switch(de=a,je=d,Pe.tag){case 1:if(Ie=Pe.payload,typeof Ie=="function"){ge=Ie.call(je,ge,de);break e}ge=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Pe.payload,de=typeof Ie=="function"?Ie.call(je,ge,de):Ie,de==null)break e;ge=P({},ge,de);break e;case 2:gi=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,de=x.effects,de===null?x.effects=[z]:de.push(z))}else je={eventTime:je,lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},fe===null?(se=fe=je,W=ge):fe=fe.next=je,I|=de;if(z=z.next,z===null){if(z=x.shared.pending,z===null)break;de=z,z=de.next,de.next=null,x.lastBaseUpdate=de,x.shared.pending=null}}while(!0);if(fe===null&&(W=ge),x.baseState=W,x.firstBaseUpdate=se,x.lastBaseUpdate=fe,a=x.shared.interleaved,a!==null){x=a;do I|=x.lane,x=x.next;while(x!==a)}else b===null&&(x.shared.lanes=0);Gi|=I,s.lanes=I,s.memoizedState=ge}}function Lg(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var oa={},Cr=hi(oa),aa=hi(oa),la=hi(oa);function Yi(s){if(s===oa)throw Error(n(174));return s}function Ld(s,a){switch(ft(la,a),ft(aa,s),ft(Cr,oa),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ie(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ie(a,s)}gt(Cr),ft(Cr,a)}function Us(){gt(Cr),gt(aa),gt(la)}function $g(s){Yi(la.current);var a=Yi(Cr.current),d=ie(a,s.type);a!==d&&(ft(aa,s),ft(Cr,d))}function $d(s){aa.current===s&&(gt(Cr),gt(aa))}var kt=hi(0);function Vl(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fd=[];function zd(){for(var s=0;s<Fd.length;s++)Fd[s]._workInProgressVersionPrimary=null;Fd.length=0}var ql=M.ReactCurrentDispatcher,Bd=M.ReactCurrentBatchConfig,Ki=0,St=null,Ft=null,Ht=null,Yl=!1,ua=!1,ca=0,JS=0;function on(){throw Error(n(321))}function Ud(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!ur(s[d],a[d]))return!1;return!0}function Wd(s,a,d,m,x,b){if(Ki=b,St=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ql.current=s===null||s.memoizedState===null?eE:tE,s=d(m,x),ua){b=0;do{if(ua=!1,ca=0,25<=b)throw Error(n(301));b+=1,Ht=Ft=null,a.updateQueue=null,ql.current=nE,s=d(m,x)}while(ua)}if(ql.current=Jl,a=Ft!==null&&Ft.next!==null,Ki=0,Ht=Ft=St=null,Yl=!1,a)throw Error(n(300));return s}function Hd(){var s=ca!==0;return ca=0,s}function jr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?St.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function Xn(){if(Ft===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=Ft.next;var a=Ht===null?St.memoizedState:Ht.next;if(a!==null)Ht=a,Ft=s;else{if(s===null)throw Error(n(310));Ft=s,s={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ht===null?St.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function da(s,a){return typeof a=="function"?a(s):a}function Vd(s){var a=Xn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=Ft,x=m.baseQueue,b=d.pending;if(b!==null){if(x!==null){var I=x.next;x.next=b.next,b.next=I}m.baseQueue=x=b,d.pending=null}if(x!==null){b=x.next,m=m.baseState;var z=I=null,W=null,se=b;do{var fe=se.lane;if((Ki&fe)===fe)W!==null&&(W=W.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),m=se.hasEagerState?se.eagerState:s(m,se.action);else{var ge={lane:fe,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};W===null?(z=W=ge,I=m):W=W.next=ge,St.lanes|=fe,Gi|=fe}se=se.next}while(se!==null&&se!==b);W===null?I=m:W.next=z,ur(m,a.memoizedState)||(En=!0),a.memoizedState=m,a.baseState=I,a.baseQueue=W,d.lastRenderedState=m}if(s=d.interleaved,s!==null){x=s;do b=x.lane,St.lanes|=b,Gi|=b,x=x.next;while(x!==s)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function qd(s){var a=Xn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=d.dispatch,x=d.pending,b=a.memoizedState;if(x!==null){d.pending=null;var I=x=x.next;do b=s(b,I.action),I=I.next;while(I!==x);ur(b,a.memoizedState)||(En=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),d.lastRenderedState=b}return[b,m]}function Fg(){}function zg(s,a){var d=St,m=Xn(),x=a(),b=!ur(m.memoizedState,x);if(b&&(m.memoizedState=x,En=!0),m=m.queue,Yd(Wg.bind(null,d,m,s),[s]),m.getSnapshot!==a||b||Ht!==null&&Ht.memoizedState.tag&1){if(d.flags|=2048,fa(9,Ug.bind(null,d,m,x,a),void 0,null),Vt===null)throw Error(n(349));(Ki&30)!==0||Bg(d,a,x)}return x}function Bg(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function Ug(s,a,d,m){a.value=d,a.getSnapshot=m,Hg(a)&&Vg(s)}function Wg(s,a,d){return d(function(){Hg(a)&&Vg(s)})}function Hg(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!ur(s,d)}catch{return!0}}function Vg(s){var a=Kr(s,1);a!==null&&pr(a,s,1,-1)}function qg(s){var a=jr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:s},a.queue=s,s=s.dispatch=ZS.bind(null,St,s),[a.memoizedState,s]}function fa(s,a,d,m){return s={tag:s,create:a,destroy:d,deps:m,next:null},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,a.lastEffect=s)),s}function Yg(){return Xn().memoizedState}function Kl(s,a,d,m){var x=jr();St.flags|=s,x.memoizedState=fa(1|a,d,void 0,m===void 0?null:m)}function Gl(s,a,d,m){var x=Xn();m=m===void 0?null:m;var b=void 0;if(Ft!==null){var I=Ft.memoizedState;if(b=I.destroy,m!==null&&Ud(m,I.deps)){x.memoizedState=fa(a,d,b,m);return}}St.flags|=s,x.memoizedState=fa(1|a,d,b,m)}function Kg(s,a){return Kl(8390656,8,s,a)}function Yd(s,a){return Gl(2048,8,s,a)}function Gg(s,a){return Gl(4,2,s,a)}function Jg(s,a){return Gl(4,4,s,a)}function Qg(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Xg(s,a,d){return d=d!=null?d.concat([s]):null,Gl(4,4,Qg.bind(null,a,s),d)}function Kd(){}function Zg(s,a){var d=Xn();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Ud(a,m[1])?m[0]:(d.memoizedState=[s,a],s)}function ev(s,a){var d=Xn();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Ud(a,m[1])?m[0]:(s=s(),d.memoizedState=[s,a],s)}function tv(s,a,d){return(Ki&21)===0?(s.baseState&&(s.baseState=!1,En=!0),s.memoizedState=d):(ur(d,a)||(d=Pm(),St.lanes|=d,Gi|=d,s.baseState=!0),a)}function QS(s,a){var d=at;at=d!==0&&4>d?d:4,s(!0);var m=Bd.transition;Bd.transition={};try{s(!1),a()}finally{at=d,Bd.transition=m}}function nv(){return Xn().memoizedState}function XS(s,a,d){var m=bi(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},rv(s))iv(a,d);else if(d=Og(s,a,d,m),d!==null){var x=mn();pr(d,s,m,x),sv(d,a,m)}}function ZS(s,a,d){var m=bi(s),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(rv(s))iv(a,x);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var I=a.lastRenderedState,z=b(I,d);if(x.hasEagerState=!0,x.eagerState=z,ur(z,I)){var W=a.interleaved;W===null?(x.next=x,Md(a)):(x.next=W.next,W.next=x),a.interleaved=x;return}}catch{}finally{}d=Og(s,a,x,m),d!==null&&(x=mn(),pr(d,s,m,x),sv(d,a,m))}}function rv(s){var a=s.alternate;return s===St||a!==null&&a===St}function iv(s,a){ua=Yl=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function sv(s,a,d){if((d&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Jc(s,d)}}var Jl={readContext:Qn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},eE={readContext:Qn,useCallback:function(s,a){return jr().memoizedState=[s,a===void 0?null:a],s},useContext:Qn,useEffect:Kg,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,Kl(4194308,4,Qg.bind(null,a,s),d)},useLayoutEffect:function(s,a){return Kl(4194308,4,s,a)},useInsertionEffect:function(s,a){return Kl(4,2,s,a)},useMemo:function(s,a){var d=jr();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var m=jr();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=XS.bind(null,St,s),[m.memoizedState,s]},useRef:function(s){var a=jr();return s={current:s},a.memoizedState=s},useState:qg,useDebugValue:Kd,useDeferredValue:function(s){return jr().memoizedState=s},useTransition:function(){var s=qg(!1),a=s[0];return s=QS.bind(null,s[1]),jr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var m=St,x=jr();if(xt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),Vt===null)throw Error(n(349));(Ki&30)!==0||Bg(m,a,d)}x.memoizedState=d;var b={value:d,getSnapshot:a};return x.queue=b,Kg(Wg.bind(null,m,b,s),[s]),m.flags|=2048,fa(9,Ug.bind(null,m,b,d,a),void 0,null),d},useId:function(){var s=jr(),a=Vt.identifierPrefix;if(xt){var d=Yr,m=qr;d=(m&~(1<<32-lr(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=ca++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=JS++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},tE={readContext:Qn,useCallback:Zg,useContext:Qn,useEffect:Yd,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Jg,useMemo:ev,useReducer:Vd,useRef:Yg,useState:function(){return Vd(da)},useDebugValue:Kd,useDeferredValue:function(s){var a=Xn();return tv(a,Ft.memoizedState,s)},useTransition:function(){var s=Vd(da)[0],a=Xn().memoizedState;return[s,a]},useMutableSource:Fg,useSyncExternalStore:zg,useId:nv,unstable_isNewReconciler:!1},nE={readContext:Qn,useCallback:Zg,useContext:Qn,useEffect:Yd,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Jg,useMemo:ev,useReducer:qd,useRef:Yg,useState:function(){return qd(da)},useDebugValue:Kd,useDeferredValue:function(s){var a=Xn();return Ft===null?a.memoizedState=s:tv(a,Ft.memoizedState,s)},useTransition:function(){var s=qd(da)[0],a=Xn().memoizedState;return[s,a]},useMutableSource:Fg,useSyncExternalStore:zg,useId:nv,unstable_isNewReconciler:!1};function dr(s,a){if(s&&s.defaultProps){a=P({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function Gd(s,a,d,m){a=s.memoizedState,d=d(m,a),d=d==null?a:P({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ql={isMounted:function(s){return(s=s._reactInternals)?Bi(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var m=mn(),x=bi(s),b=Gr(m,x);b.payload=a,d!=null&&(b.callback=d),a=vi(s,b,x),a!==null&&(pr(a,s,x,m),Wl(a,s,x))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var m=mn(),x=bi(s),b=Gr(m,x);b.tag=1,b.payload=a,d!=null&&(b.callback=d),a=vi(s,b,x),a!==null&&(pr(a,s,x,m),Wl(a,s,x))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=mn(),m=bi(s),x=Gr(d,m);x.tag=2,a!=null&&(x.callback=a),a=vi(s,x,m),a!==null&&(pr(a,s,m,d),Wl(a,s,m))}};function ov(s,a,d,m,x,b,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,I):a.prototype&&a.prototype.isPureReactComponent?!Xo(d,m)||!Xo(x,b):!0}function av(s,a,d){var m=!1,x=pi,b=a.contextType;return typeof b=="object"&&b!==null?b=Qn(b):(x=Sn(a)?Wi:sn.current,m=a.contextTypes,b=(m=m!=null)?Ms(s,x):pi),a=new a(d,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ql,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=b),a}function lv(s,a,d,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==s&&Ql.enqueueReplaceState(a,a.state,null)}function Jd(s,a,d,m){var x=s.stateNode;x.props=d,x.state=s.memoizedState,x.refs={},Dd(s);var b=a.contextType;typeof b=="object"&&b!==null?x.context=Qn(b):(b=Sn(a)?Wi:sn.current,x.context=Ms(s,b)),x.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Gd(s,a,b,d),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Ql.enqueueReplaceState(x,x.state,null),Hl(s,d,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Ws(s,a){try{var d="",m=a;do d+=pe(m),m=m.return;while(m);var x=d}catch(b){x=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:x,digest:null}}function Qd(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function Xd(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var rE=typeof WeakMap=="function"?WeakMap:Map;function uv(s,a,d){d=Gr(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){iu||(iu=!0,pf=m),Xd(s,a)},d}function cv(s,a,d){d=Gr(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=a.value;d.payload=function(){return m(x)},d.callback=function(){Xd(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Xd(s,a),typeof m!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),d}function dv(s,a,d){var m=s.pingCache;if(m===null){m=s.pingCache=new rE;var x=new Set;m.set(a,x)}else x=m.get(a),x===void 0&&(x=new Set,m.set(a,x));x.has(d)||(x.add(d),s=vE.bind(null,s,a,d),a.then(s,s))}function fv(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function hv(s,a,d,m,x){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Gr(-1,1),a.tag=2,vi(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var iE=M.ReactCurrentOwner,En=!1;function pn(s,a,d,m){a.child=s===null?Ag(a,null,d,m):Fs(a,s.child,d,m)}function pv(s,a,d,m,x){d=d.render;var b=a.ref;return Bs(a,x),m=Wd(s,a,d,m,b,x),d=Hd(),s!==null&&!En?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Jr(s,a,x)):(xt&&d&&Cd(a),a.flags|=1,pn(s,a,m,x),a.child)}function mv(s,a,d,m,x){if(s===null){var b=d.type;return typeof b=="function"&&!bf(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=b,gv(s,a,b,m,x)):(s=cu(d.type,null,m,a,a.mode,x),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,(s.lanes&x)===0){var I=b.memoizedProps;if(d=d.compare,d=d!==null?d:Xo,d(I,m)&&s.ref===a.ref)return Jr(s,a,x)}return a.flags|=1,s=Si(b,m),s.ref=a.ref,s.return=a,a.child=s}function gv(s,a,d,m,x){if(s!==null){var b=s.memoizedProps;if(Xo(b,m)&&s.ref===a.ref)if(En=!1,a.pendingProps=m=b,(s.lanes&x)!==0)(s.flags&131072)!==0&&(En=!0);else return a.lanes=s.lanes,Jr(s,a,x)}return Zd(s,a,d,m,x)}function vv(s,a,d){var m=a.pendingProps,x=m.children,b=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Vs,Bn),Bn|=d;else{if((d&1073741824)===0)return s=b!==null?b.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ft(Vs,Bn),Bn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:d,ft(Vs,Bn),Bn|=m}else b!==null?(m=b.baseLanes|d,a.memoizedState=null):m=d,ft(Vs,Bn),Bn|=m;return pn(s,a,x,d),a.child}function yv(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Zd(s,a,d,m,x){var b=Sn(d)?Wi:sn.current;return b=Ms(a,b),Bs(a,x),d=Wd(s,a,d,m,b,x),m=Hd(),s!==null&&!En?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Jr(s,a,x)):(xt&&m&&Cd(a),a.flags|=1,pn(s,a,d,x),a.child)}function xv(s,a,d,m,x){if(Sn(d)){var b=!0;Ml(a)}else b=!1;if(Bs(a,x),a.stateNode===null)Zl(s,a),av(a,d,m),Jd(a,d,m,x),m=!0;else if(s===null){var I=a.stateNode,z=a.memoizedProps;I.props=z;var W=I.context,se=d.contextType;typeof se=="object"&&se!==null?se=Qn(se):(se=Sn(d)?Wi:sn.current,se=Ms(a,se));var fe=d.getDerivedStateFromProps,ge=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function";ge||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==m||W!==se)&&lv(a,I,m,se),gi=!1;var de=a.memoizedState;I.state=de,Hl(a,m,I,x),W=a.memoizedState,z!==m||de!==W||kn.current||gi?(typeof fe=="function"&&(Gd(a,d,fe,m),W=a.memoizedState),(z=gi||ov(a,d,z,m,de,W,se))?(ge||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=W),I.props=m,I.state=W,I.context=se,m=z):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{I=a.stateNode,Mg(s,a),z=a.memoizedProps,se=a.type===a.elementType?z:dr(a.type,z),I.props=se,ge=a.pendingProps,de=I.context,W=d.contextType,typeof W=="object"&&W!==null?W=Qn(W):(W=Sn(d)?Wi:sn.current,W=Ms(a,W));var je=d.getDerivedStateFromProps;(fe=typeof je=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==ge||de!==W)&&lv(a,I,m,W),gi=!1,de=a.memoizedState,I.state=de,Hl(a,m,I,x);var Ie=a.memoizedState;z!==ge||de!==Ie||kn.current||gi?(typeof je=="function"&&(Gd(a,d,je,m),Ie=a.memoizedState),(se=gi||ov(a,d,se,m,de,Ie,W)||!1)?(fe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(m,Ie,W),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(m,Ie,W)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||z===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Ie),I.props=m,I.state=Ie,I.context=W,m=se):(typeof I.componentDidUpdate!="function"||z===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),m=!1)}return ef(s,a,d,m,b,x)}function ef(s,a,d,m,x,b){yv(s,a);var I=(a.flags&128)!==0;if(!m&&!I)return x&&Eg(a,d,!1),Jr(s,a,b);m=a.stateNode,iE.current=a;var z=I&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&I?(a.child=Fs(a,s.child,null,b),a.child=Fs(a,null,z,b)):pn(s,a,z,b),a.memoizedState=m.state,x&&Eg(a,d,!0),a.child}function wv(s){var a=s.stateNode;a.pendingContext?kg(s,a.pendingContext,a.pendingContext!==a.context):a.context&&kg(s,a.context,!1),Ld(s,a.containerInfo)}function bv(s,a,d,m,x){return $s(),Id(x),a.flags|=256,pn(s,a,d,m),a.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(s){return{baseLanes:s,cachePool:null,transitions:null}}function kv(s,a,d){var m=a.pendingProps,x=kt.current,b=!1,I=(a.flags&128)!==0,z;if((z=I)||(z=s!==null&&s.memoizedState===null?!1:(x&2)!==0),z?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),ft(kt,x&1),s===null)return Td(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=m.children,s=m.fallback,b?(m=a.mode,b=a.child,I={mode:"hidden",children:I},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=I):b=du(I,m,0,null),s=Zi(s,m,d,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=nf(d),a.memoizedState=tf,s):rf(a,I));if(x=s.memoizedState,x!==null&&(z=x.dehydrated,z!==null))return sE(s,a,I,m,z,x,d);if(b){b=m.fallback,I=a.mode,x=s.child,z=x.sibling;var W={mode:"hidden",children:m.children};return(I&1)===0&&a.child!==x?(m=a.child,m.childLanes=0,m.pendingProps=W,a.deletions=null):(m=Si(x,W),m.subtreeFlags=x.subtreeFlags&14680064),z!==null?b=Si(z,b):(b=Zi(b,I,d,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,I=s.child.memoizedState,I=I===null?nf(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},b.memoizedState=I,b.childLanes=s.childLanes&~d,a.memoizedState=tf,m}return b=s.child,s=b.sibling,m=Si(b,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=m,a.memoizedState=null,m}function rf(s,a){return a=du({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Xl(s,a,d,m){return m!==null&&Id(m),Fs(a,s.child,null,d),s=rf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function sE(s,a,d,m,x,b,I){if(d)return a.flags&256?(a.flags&=-257,m=Qd(Error(n(422))),Xl(s,a,I,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=m.fallback,x=a.mode,m=du({mode:"visible",children:m.children},x,0,null),b=Zi(b,x,I,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,(a.mode&1)!==0&&Fs(a,s.child,null,I),a.child.memoizedState=nf(I),a.memoizedState=tf,b);if((a.mode&1)===0)return Xl(s,a,I,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var z=m.dgst;return m=z,b=Error(n(419)),m=Qd(b,m,void 0),Xl(s,a,I,m)}if(z=(I&s.childLanes)!==0,En||z){if(m=Vt,m!==null){switch(I&-I){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|I))!==0?0:x,x!==0&&x!==b.retryLane&&(b.retryLane=x,Kr(s,x),pr(m,s,x,-1))}return wf(),m=Qd(Error(n(421))),Xl(s,a,I,m)}return x.data==="$?"?(a.flags|=128,a.child=s.child,a=yE.bind(null,s),x._reactRetry=a,null):(s=b.treeContext,zn=fi(x.nextSibling),Fn=a,xt=!0,cr=null,s!==null&&(Gn[Jn++]=qr,Gn[Jn++]=Yr,Gn[Jn++]=Hi,qr=s.id,Yr=s.overflow,Hi=a),a=rf(a,m.children),a.flags|=4096,a)}function Sv(s,a,d){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Od(s.return,a,d)}function sf(s,a,d,m,x){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=d,b.tailMode=x)}function Ev(s,a,d){var m=a.pendingProps,x=m.revealOrder,b=m.tail;if(pn(s,a,m.children,d),m=kt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Sv(s,d,a);else if(s.tag===19)Sv(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(ft(kt,m),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)s=d.alternate,s!==null&&Vl(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),sf(a,!1,x,d,b);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(s=x.alternate,s!==null&&Vl(s)===null){a.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}sf(a,!0,d,null,b);break;case"together":sf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zl(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Jr(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),Gi|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,d=Si(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=Si(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function oE(s,a,d){switch(a.tag){case 3:wv(a),$s();break;case 5:$g(a);break;case 1:Sn(a.type)&&Ml(a);break;case 4:Ld(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,x=a.memoizedProps.value;ft(Bl,m._currentValue),m._currentValue=x;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ft(kt,kt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?kv(s,a,d):(ft(kt,kt.current&1),s=Jr(s,a,d),s!==null?s.sibling:null);ft(kt,kt.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(s.flags&128)!==0){if(m)return Ev(s,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ft(kt,kt.current),m)break;return null;case 22:case 23:return a.lanes=0,vv(s,a,d)}return Jr(s,a,d)}var _v,of,Cv,jv;_v=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},of=function(){},Cv=function(s,a,d,m){var x=s.memoizedProps;if(x!==m){s=a.stateNode,Yi(Cr.current);var b=null;switch(d){case"input":x=K(s,x),m=K(s,m),b=[];break;case"select":x=P({},x,{value:void 0}),m=P({},m,{value:void 0}),b=[];break;case"textarea":x=Xe(s,x),m=Xe(s,m),b=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Rl)}tt(d,m);var I;d=null;for(se in x)if(!m.hasOwnProperty(se)&&x.hasOwnProperty(se)&&x[se]!=null)if(se==="style"){var z=x[se];for(I in z)z.hasOwnProperty(I)&&(d||(d={}),d[I]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?b||(b=[]):(b=b||[]).push(se,null));for(se in m){var W=m[se];if(z=x!=null?x[se]:void 0,m.hasOwnProperty(se)&&W!==z&&(W!=null||z!=null))if(se==="style")if(z){for(I in z)!z.hasOwnProperty(I)||W&&W.hasOwnProperty(I)||(d||(d={}),d[I]="");for(I in W)W.hasOwnProperty(I)&&z[I]!==W[I]&&(d||(d={}),d[I]=W[I])}else d||(b||(b=[]),b.push(se,d)),d=W;else se==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,z=z?z.__html:void 0,W!=null&&z!==W&&(b=b||[]).push(se,W)):se==="children"?typeof W!="string"&&typeof W!="number"||(b=b||[]).push(se,""+W):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(W!=null&&se==="onScroll"&&mt("scroll",s),b||z===W||(b=[])):(b=b||[]).push(se,W))}d&&(b=b||[]).push("style",d);var se=b;(a.updateQueue=se)&&(a.flags|=4)}},jv=function(s,a,d,m){d!==m&&(a.flags|=4)};function ha(s,a){if(!xt)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function an(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(a)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=d,a}function aE(s,a,d){var m=a.pendingProps;switch(jd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(a),null;case 1:return Sn(a.type)&&Ol(),an(a),null;case 3:return m=a.stateNode,Us(),gt(kn),gt(sn),zd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Fl(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,cr!==null&&(vf(cr),cr=null))),of(s,a),an(a),null;case 5:$d(a);var x=Yi(la.current);if(d=a.type,s!==null&&a.stateNode!=null)Cv(s,a,d,m,x),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return an(a),null}if(s=Yi(Cr.current),Fl(a)){m=a.stateNode,d=a.type;var b=a.memoizedProps;switch(m[_r]=a,m[ra]=b,s=(a.mode&1)!==0,d){case"dialog":mt("cancel",m),mt("close",m);break;case"iframe":case"object":case"embed":mt("load",m);break;case"video":case"audio":for(x=0;x<ea.length;x++)mt(ea[x],m);break;case"source":mt("error",m);break;case"img":case"image":case"link":mt("error",m),mt("load",m);break;case"details":mt("toggle",m);break;case"input":ae(m,b),mt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},mt("invalid",m);break;case"textarea":_t(m,b),mt("invalid",m)}tt(d,b),x=null;for(var I in b)if(b.hasOwnProperty(I)){var z=b[I];I==="children"?typeof z=="string"?m.textContent!==z&&(b.suppressHydrationWarning!==!0&&Pl(m.textContent,z,s),x=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(b.suppressHydrationWarning!==!0&&Pl(m.textContent,z,s),x=["children",""+z]):i.hasOwnProperty(I)&&z!=null&&I==="onScroll"&&mt("scroll",m)}switch(d){case"input":Ge(m),me(m,b,!0);break;case"textarea":Ge(m),ce(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=Rl)}m=x,a.updateQueue=m,m!==null&&(a.flags|=4)}else{I=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=U(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=I.createElement(d,{is:m.is}):(s=I.createElement(d),d==="select"&&(I=s,m.multiple?I.multiple=!0:m.size&&(I.size=m.size))):s=I.createElementNS(s,d),s[_r]=a,s[ra]=m,_v(s,a,!1,!1),a.stateNode=s;e:{switch(I=Wt(d,m),d){case"dialog":mt("cancel",s),mt("close",s),x=m;break;case"iframe":case"object":case"embed":mt("load",s),x=m;break;case"video":case"audio":for(x=0;x<ea.length;x++)mt(ea[x],s);x=m;break;case"source":mt("error",s),x=m;break;case"img":case"image":case"link":mt("error",s),mt("load",s),x=m;break;case"details":mt("toggle",s),x=m;break;case"input":ae(s,m),x=K(s,m),mt("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=P({},m,{value:void 0}),mt("invalid",s);break;case"textarea":_t(s,m),x=Xe(s,m),mt("invalid",s);break;default:x=m}tt(d,x),z=x;for(b in z)if(z.hasOwnProperty(b)){var W=z[b];b==="style"?Pt(s,W):b==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&_e(s,W)):b==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&Ae(s,W):typeof W=="number"&&Ae(s,""+W):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?W!=null&&b==="onScroll"&&mt("scroll",s):W!=null&&j(s,b,W,I))}switch(d){case"input":Ge(s),me(s,m,!1);break;case"textarea":Ge(s),ce(s);break;case"option":m.value!=null&&s.setAttribute("value",""+le(m.value));break;case"select":s.multiple=!!m.multiple,b=m.value,b!=null?qe(s,!!m.multiple,b,!1):m.defaultValue!=null&&qe(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Rl)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return an(a),null;case 6:if(s&&a.stateNode!=null)jv(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(d=Yi(la.current),Yi(Cr.current),Fl(a)){if(m=a.stateNode,d=a.memoizedProps,m[_r]=a,(b=m.nodeValue!==d)&&(s=Fn,s!==null))switch(s.tag){case 3:Pl(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Pl(m.nodeValue,d,(s.mode&1)!==0)}b&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[_r]=a,a.stateNode=m}return an(a),null;case 13:if(gt(kt),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(xt&&zn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ig(),$s(),a.flags|=98560,b=!1;else if(b=Fl(a),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[_r]=a}else $s(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;an(a),b=!1}else cr!==null&&(vf(cr),cr=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(kt.current&1)!==0?zt===0&&(zt=3):wf())),a.updateQueue!==null&&(a.flags|=4),an(a),null);case 4:return Us(),of(s,a),s===null&&ta(a.stateNode.containerInfo),an(a),null;case 10:return Ad(a.type._context),an(a),null;case 17:return Sn(a.type)&&Ol(),an(a),null;case 19:if(gt(kt),b=a.memoizedState,b===null)return an(a),null;if(m=(a.flags&128)!==0,I=b.rendering,I===null)if(m)ha(b,!1);else{if(zt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(I=Vl(s),I!==null){for(a.flags|=128,ha(b,!1),m=I.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)b=d,s=m,b.flags&=14680066,I=b.alternate,I===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=I.childLanes,b.lanes=I.lanes,b.child=I.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=I.memoizedProps,b.memoizedState=I.memoizedState,b.updateQueue=I.updateQueue,b.type=I.type,s=I.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return ft(kt,kt.current&1|2),a.child}s=s.sibling}b.tail!==null&&Tt()>qs&&(a.flags|=128,m=!0,ha(b,!1),a.lanes=4194304)}else{if(!m)if(s=Vl(I),s!==null){if(a.flags|=128,m=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),ha(b,!0),b.tail===null&&b.tailMode==="hidden"&&!I.alternate&&!xt)return an(a),null}else 2*Tt()-b.renderingStartTime>qs&&d!==1073741824&&(a.flags|=128,m=!0,ha(b,!1),a.lanes=4194304);b.isBackwards?(I.sibling=a.child,a.child=I):(d=b.last,d!==null?d.sibling=I:a.child=I,b.last=I)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=Tt(),a.sibling=null,d=kt.current,ft(kt,m?d&1|2:d&1),a):(an(a),null);case 22:case 23:return xf(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Bn&1073741824)!==0&&(an(a),a.subtreeFlags&6&&(a.flags|=8192)):an(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function lE(s,a){switch(jd(a),a.tag){case 1:return Sn(a.type)&&Ol(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Us(),gt(kn),gt(sn),zd(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return $d(a),null;case 13:if(gt(kt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));$s()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return gt(kt),null;case 4:return Us(),null;case 10:return Ad(a.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var eu=!1,ln=!1,uE=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Hs(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Ct(s,a,m)}else d.current=null}function af(s,a,d){try{d()}catch(m){Ct(s,a,m)}}var Nv=!1;function cE(s,a){if(yd=wl,s=og(),cd(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var I=0,z=-1,W=-1,se=0,fe=0,ge=s,de=null;t:for(;;){for(var je;ge!==d||x!==0&&ge.nodeType!==3||(z=I+x),ge!==b||m!==0&&ge.nodeType!==3||(W=I+m),ge.nodeType===3&&(I+=ge.nodeValue.length),(je=ge.firstChild)!==null;)de=ge,ge=je;for(;;){if(ge===s)break t;if(de===d&&++se===x&&(z=I),de===b&&++fe===m&&(W=I),(je=ge.nextSibling)!==null)break;ge=de,de=ge.parentNode}ge=je}d=z===-1||W===-1?null:{start:z,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(xd={focusedElem:s,selectionRange:d},wl=!1,Ne=a;Ne!==null;)if(a=Ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ne=s;else for(;Ne!==null;){a=Ne;try{var Ie=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Pe=Ie.memoizedProps,It=Ie.memoizedState,te=a.stateNode,q=te.getSnapshotBeforeUpdate(a.elementType===a.type?Pe:dr(a.type,Pe),It);te.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var re=a.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){Ct(a,a.return,xe)}if(s=a.sibling,s!==null){s.return=a.return,Ne=s;break}Ne=a.return}return Ie=Nv,Nv=!1,Ie}function pa(s,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var b=x.destroy;x.destroy=void 0,b!==void 0&&af(a,d,b)}x=x.next}while(x!==m)}}function tu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function lf(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function Tv(s){var a=s.alternate;a!==null&&(s.alternate=null,Tv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[_r],delete a[ra],delete a[Sd],delete a[qS],delete a[YS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Iv(s){return s.tag===5||s.tag===3||s.tag===4}function Pv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Iv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function uf(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Rl));else if(m!==4&&(s=s.child,s!==null))for(uf(s,a,d),s=s.sibling;s!==null;)uf(s,a,d),s=s.sibling}function cf(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(cf(s,a,d),s=s.sibling;s!==null;)cf(s,a,d),s=s.sibling}var Xt=null,fr=!1;function yi(s,a,d){for(d=d.child;d!==null;)Rv(s,a,d),d=d.sibling}function Rv(s,a,d){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(pl,d)}catch{}switch(d.tag){case 5:ln||Hs(d,a);case 6:var m=Xt,x=fr;Xt=null,yi(s,a,d),Xt=m,fr=x,Xt!==null&&(fr?(s=Xt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Xt.removeChild(d.stateNode));break;case 18:Xt!==null&&(fr?(s=Xt,d=d.stateNode,s.nodeType===8?kd(s.parentNode,d):s.nodeType===1&&kd(s,d),qo(s)):kd(Xt,d.stateNode));break;case 4:m=Xt,x=fr,Xt=d.stateNode.containerInfo,fr=!0,yi(s,a,d),Xt=m,fr=x;break;case 0:case 11:case 14:case 15:if(!ln&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var b=x,I=b.destroy;b=b.tag,I!==void 0&&((b&2)!==0||(b&4)!==0)&&af(d,a,I),x=x.next}while(x!==m)}yi(s,a,d);break;case 1:if(!ln&&(Hs(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(z){Ct(d,a,z)}yi(s,a,d);break;case 21:yi(s,a,d);break;case 22:d.mode&1?(ln=(m=ln)||d.memoizedState!==null,yi(s,a,d),ln=m):yi(s,a,d);break;default:yi(s,a,d)}}function Av(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new uE),a.forEach(function(m){var x=xE.bind(null,s,m);d.has(m)||(d.add(m),m.then(x,x))})}}function hr(s,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var b=s,I=a,z=I;e:for(;z!==null;){switch(z.tag){case 5:Xt=z.stateNode,fr=!1;break e;case 3:Xt=z.stateNode.containerInfo,fr=!0;break e;case 4:Xt=z.stateNode.containerInfo,fr=!0;break e}z=z.return}if(Xt===null)throw Error(n(160));Rv(b,I,x),Xt=null,fr=!1;var W=x.alternate;W!==null&&(W.return=null),x.return=null}catch(se){Ct(x,a,se)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ov(a,s),a=a.sibling}function Ov(s,a){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(hr(a,s),Nr(s),m&4){try{pa(3,s,s.return),tu(3,s)}catch(Pe){Ct(s,s.return,Pe)}try{pa(5,s,s.return)}catch(Pe){Ct(s,s.return,Pe)}}break;case 1:hr(a,s),Nr(s),m&512&&d!==null&&Hs(d,d.return);break;case 5:if(hr(a,s),Nr(s),m&512&&d!==null&&Hs(d,d.return),s.flags&32){var x=s.stateNode;try{Ae(x,"")}catch(Pe){Ct(s,s.return,Pe)}}if(m&4&&(x=s.stateNode,x!=null)){var b=s.memoizedProps,I=d!==null?d.memoizedProps:b,z=s.type,W=s.updateQueue;if(s.updateQueue=null,W!==null)try{z==="input"&&b.type==="radio"&&b.name!=null&&ue(x,b),Wt(z,I);var se=Wt(z,b);for(I=0;I<W.length;I+=2){var fe=W[I],ge=W[I+1];fe==="style"?Pt(x,ge):fe==="dangerouslySetInnerHTML"?_e(x,ge):fe==="children"?Ae(x,ge):j(x,fe,ge,se)}switch(z){case"input":ve(x,b);break;case"textarea":ee(x,b);break;case"select":var de=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!b.multiple;var je=b.value;je!=null?qe(x,!!b.multiple,je,!1):de!==!!b.multiple&&(b.defaultValue!=null?qe(x,!!b.multiple,b.defaultValue,!0):qe(x,!!b.multiple,b.multiple?[]:"",!1))}x[ra]=b}catch(Pe){Ct(s,s.return,Pe)}}break;case 6:if(hr(a,s),Nr(s),m&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,b=s.memoizedProps;try{x.nodeValue=b}catch(Pe){Ct(s,s.return,Pe)}}break;case 3:if(hr(a,s),Nr(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(Pe){Ct(s,s.return,Pe)}break;case 4:hr(a,s),Nr(s);break;case 13:hr(a,s),Nr(s),x=s.child,x.flags&8192&&(b=x.memoizedState!==null,x.stateNode.isHidden=b,!b||x.alternate!==null&&x.alternate.memoizedState!==null||(hf=Tt())),m&4&&Av(s);break;case 22:if(fe=d!==null&&d.memoizedState!==null,s.mode&1?(ln=(se=ln)||fe,hr(a,s),ln=se):hr(a,s),Nr(s),m&8192){if(se=s.memoizedState!==null,(s.stateNode.isHidden=se)&&!fe&&(s.mode&1)!==0)for(Ne=s,fe=s.child;fe!==null;){for(ge=Ne=fe;Ne!==null;){switch(de=Ne,je=de.child,de.tag){case 0:case 11:case 14:case 15:pa(4,de,de.return);break;case 1:Hs(de,de.return);var Ie=de.stateNode;if(typeof Ie.componentWillUnmount=="function"){m=de,d=de.return;try{a=m,Ie.props=a.memoizedProps,Ie.state=a.memoizedState,Ie.componentWillUnmount()}catch(Pe){Ct(m,d,Pe)}}break;case 5:Hs(de,de.return);break;case 22:if(de.memoizedState!==null){Lv(ge);continue}}je!==null?(je.return=de,Ne=je):Lv(ge)}fe=fe.sibling}e:for(fe=null,ge=s;;){if(ge.tag===5){if(fe===null){fe=ge;try{x=ge.stateNode,se?(b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(z=ge.stateNode,W=ge.memoizedProps.style,I=W!=null&&W.hasOwnProperty("display")?W.display:null,z.style.display=dt("display",I))}catch(Pe){Ct(s,s.return,Pe)}}}else if(ge.tag===6){if(fe===null)try{ge.stateNode.nodeValue=se?"":ge.memoizedProps}catch(Pe){Ct(s,s.return,Pe)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===s)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===s)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===s)break e;fe===ge&&(fe=null),ge=ge.return}fe===ge&&(fe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:hr(a,s),Nr(s),m&4&&Av(s);break;case 21:break;default:hr(a,s),Nr(s)}}function Nr(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(Iv(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(Ae(x,""),m.flags&=-33);var b=Pv(s);cf(s,b,x);break;case 3:case 4:var I=m.stateNode.containerInfo,z=Pv(s);uf(s,z,I);break;default:throw Error(n(161))}}catch(W){Ct(s,s.return,W)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function dE(s,a,d){Ne=s,Mv(s)}function Mv(s,a,d){for(var m=(s.mode&1)!==0;Ne!==null;){var x=Ne,b=x.child;if(x.tag===22&&m){var I=x.memoizedState!==null||eu;if(!I){var z=x.alternate,W=z!==null&&z.memoizedState!==null||ln;z=eu;var se=ln;if(eu=I,(ln=W)&&!se)for(Ne=x;Ne!==null;)I=Ne,W=I.child,I.tag===22&&I.memoizedState!==null?$v(x):W!==null?(W.return=I,Ne=W):$v(x);for(;b!==null;)Ne=b,Mv(b),b=b.sibling;Ne=x,eu=z,ln=se}Dv(s)}else(x.subtreeFlags&8772)!==0&&b!==null?(b.return=x,Ne=b):Dv(s)}}function Dv(s){for(;Ne!==null;){var a=Ne;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ln||tu(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!ln)if(d===null)m.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:dr(a.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&Lg(a,b,m);break;case 3:var I=a.updateQueue;if(I!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Lg(a,I,d)}break;case 5:var z=a.stateNode;if(d===null&&a.flags&4){d=z;var W=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var se=a.alternate;if(se!==null){var fe=se.memoizedState;if(fe!==null){var ge=fe.dehydrated;ge!==null&&qo(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||a.flags&512&&lf(a)}catch(de){Ct(a,a.return,de)}}if(a===s){Ne=null;break}if(d=a.sibling,d!==null){d.return=a.return,Ne=d;break}Ne=a.return}}function Lv(s){for(;Ne!==null;){var a=Ne;if(a===s){Ne=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Ne=d;break}Ne=a.return}}function $v(s){for(;Ne!==null;){var a=Ne;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{tu(4,a)}catch(W){Ct(a,d,W)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var x=a.return;try{m.componentDidMount()}catch(W){Ct(a,x,W)}}var b=a.return;try{lf(a)}catch(W){Ct(a,b,W)}break;case 5:var I=a.return;try{lf(a)}catch(W){Ct(a,I,W)}}}catch(W){Ct(a,a.return,W)}if(a===s){Ne=null;break}var z=a.sibling;if(z!==null){z.return=a.return,Ne=z;break}Ne=a.return}}var fE=Math.ceil,nu=M.ReactCurrentDispatcher,df=M.ReactCurrentOwner,Zn=M.ReactCurrentBatchConfig,et=0,Vt=null,Rt=null,Zt=0,Bn=0,Vs=hi(0),zt=0,ma=null,Gi=0,ru=0,ff=0,ga=null,_n=null,hf=0,qs=1/0,Qr=null,iu=!1,pf=null,xi=null,su=!1,wi=null,ou=0,va=0,mf=null,au=-1,lu=0;function mn(){return(et&6)!==0?Tt():au!==-1?au:au=Tt()}function bi(s){return(s.mode&1)===0?1:(et&2)!==0&&Zt!==0?Zt&-Zt:GS.transition!==null?(lu===0&&(lu=Pm()),lu):(s=at,s!==0||(s=window.event,s=s===void 0?16:zm(s.type)),s)}function pr(s,a,d,m){if(50<va)throw va=0,mf=null,Error(n(185));Bo(s,d,m),((et&2)===0||s!==Vt)&&(s===Vt&&((et&2)===0&&(ru|=d),zt===4&&ki(s,Zt)),Cn(s,m),d===1&&et===0&&(a.mode&1)===0&&(qs=Tt()+500,Dl&&mi()))}function Cn(s,a){var d=s.callbackNode;G1(s,a);var m=vl(s,s===Vt?Zt:0);if(m===0)d!==null&&Nm(d),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(d!=null&&Nm(d),a===1)s.tag===0?KS(zv.bind(null,s)):_g(zv.bind(null,s)),HS(function(){(et&6)===0&&mi()}),d=null;else{switch(Rm(m)){case 1:d=Yc;break;case 4:d=Tm;break;case 16:d=hl;break;case 536870912:d=Im;break;default:d=hl}d=Kv(d,Fv.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function Fv(s,a){if(au=-1,lu=0,(et&6)!==0)throw Error(n(327));var d=s.callbackNode;if(Ys()&&s.callbackNode!==d)return null;var m=vl(s,s===Vt?Zt:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=uu(s,m);else{a=m;var x=et;et|=2;var b=Uv();(Vt!==s||Zt!==a)&&(Qr=null,qs=Tt()+500,Qi(s,a));do try{mE();break}catch(z){Bv(s,z)}while(!0);Rd(),nu.current=b,et=x,Rt!==null?a=0:(Vt=null,Zt=0,a=zt)}if(a!==0){if(a===2&&(x=Kc(s),x!==0&&(m=x,a=gf(s,x))),a===1)throw d=ma,Qi(s,0),ki(s,m),Cn(s,Tt()),d;if(a===6)ki(s,m);else{if(x=s.current.alternate,(m&30)===0&&!hE(x)&&(a=uu(s,m),a===2&&(b=Kc(s),b!==0&&(m=b,a=gf(s,b))),a===1))throw d=ma,Qi(s,0),ki(s,m),Cn(s,Tt()),d;switch(s.finishedWork=x,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Xi(s,_n,Qr);break;case 3:if(ki(s,m),(m&130023424)===m&&(a=hf+500-Tt(),10<a)){if(vl(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){mn(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=bd(Xi.bind(null,s,_n,Qr),a);break}Xi(s,_n,Qr);break;case 4:if(ki(s,m),(m&4194240)===m)break;for(a=s.eventTimes,x=-1;0<m;){var I=31-lr(m);b=1<<I,I=a[I],I>x&&(x=I),m&=~b}if(m=x,m=Tt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*fE(m/1960))-m,10<m){s.timeoutHandle=bd(Xi.bind(null,s,_n,Qr),m);break}Xi(s,_n,Qr);break;case 5:Xi(s,_n,Qr);break;default:throw Error(n(329))}}}return Cn(s,Tt()),s.callbackNode===d?Fv.bind(null,s):null}function gf(s,a){var d=ga;return s.current.memoizedState.isDehydrated&&(Qi(s,a).flags|=256),s=uu(s,a),s!==2&&(a=_n,_n=d,a!==null&&vf(a)),s}function vf(s){_n===null?_n=s:_n.push.apply(_n,s)}function hE(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],b=x.getSnapshot;x=x.value;try{if(!ur(b(),x))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ki(s,a){for(a&=~ff,a&=~ru,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-lr(a),m=1<<d;s[d]=-1,a&=~m}}function zv(s){if((et&6)!==0)throw Error(n(327));Ys();var a=vl(s,0);if((a&1)===0)return Cn(s,Tt()),null;var d=uu(s,a);if(s.tag!==0&&d===2){var m=Kc(s);m!==0&&(a=m,d=gf(s,m))}if(d===1)throw d=ma,Qi(s,0),ki(s,a),Cn(s,Tt()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Xi(s,_n,Qr),Cn(s,Tt()),null}function yf(s,a){var d=et;et|=1;try{return s(a)}finally{et=d,et===0&&(qs=Tt()+500,Dl&&mi())}}function Ji(s){wi!==null&&wi.tag===0&&(et&6)===0&&Ys();var a=et;et|=1;var d=Zn.transition,m=at;try{if(Zn.transition=null,at=1,s)return s()}finally{at=m,Zn.transition=d,et=a,(et&6)===0&&mi()}}function xf(){Bn=Vs.current,gt(Vs)}function Qi(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,WS(d)),Rt!==null)for(d=Rt.return;d!==null;){var m=d;switch(jd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ol();break;case 3:Us(),gt(kn),gt(sn),zd();break;case 5:$d(m);break;case 4:Us();break;case 13:gt(kt);break;case 19:gt(kt);break;case 10:Ad(m.type._context);break;case 22:case 23:xf()}d=d.return}if(Vt=s,Rt=s=Si(s.current,null),Zt=Bn=a,zt=0,ma=null,ff=ru=Gi=0,_n=ga=null,qi!==null){for(a=0;a<qi.length;a++)if(d=qi[a],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,b=d.pending;if(b!==null){var I=b.next;b.next=x,m.next=I}d.pending=m}qi=null}return s}function Bv(s,a){do{var d=Rt;try{if(Rd(),ql.current=Jl,Yl){for(var m=St.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Yl=!1}if(Ki=0,Ht=Ft=St=null,ua=!1,ca=0,df.current=null,d===null||d.return===null){zt=1,ma=a,Rt=null;break}e:{var b=s,I=d.return,z=d,W=a;if(a=Zt,z.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var se=W,fe=z,ge=fe.tag;if((fe.mode&1)===0&&(ge===0||ge===11||ge===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var je=fv(I);if(je!==null){je.flags&=-257,hv(je,I,z,b,a),je.mode&1&&dv(b,se,a),a=je,W=se;var Ie=a.updateQueue;if(Ie===null){var Pe=new Set;Pe.add(W),a.updateQueue=Pe}else Ie.add(W);break e}else{if((a&1)===0){dv(b,se,a),wf();break e}W=Error(n(426))}}else if(xt&&z.mode&1){var It=fv(I);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),hv(It,I,z,b,a),Id(Ws(W,z));break e}}b=W=Ws(W,z),zt!==4&&(zt=2),ga===null?ga=[b]:ga.push(b),b=I;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var te=uv(b,W,a);Dg(b,te);break e;case 1:z=W;var q=b.type,re=b.stateNode;if((b.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(xi===null||!xi.has(re)))){b.flags|=65536,a&=-a,b.lanes|=a;var xe=cv(b,z,a);Dg(b,xe);break e}}b=b.return}while(b!==null)}Hv(d)}catch(Re){a=Re,Rt===d&&d!==null&&(Rt=d=d.return);continue}break}while(!0)}function Uv(){var s=nu.current;return nu.current=Jl,s===null?Jl:s}function wf(){(zt===0||zt===3||zt===2)&&(zt=4),Vt===null||(Gi&268435455)===0&&(ru&268435455)===0||ki(Vt,Zt)}function uu(s,a){var d=et;et|=2;var m=Uv();(Vt!==s||Zt!==a)&&(Qr=null,Qi(s,a));do try{pE();break}catch(x){Bv(s,x)}while(!0);if(Rd(),et=d,nu.current=m,Rt!==null)throw Error(n(261));return Vt=null,Zt=0,zt}function pE(){for(;Rt!==null;)Wv(Rt)}function mE(){for(;Rt!==null&&!z1();)Wv(Rt)}function Wv(s){var a=Yv(s.alternate,s,Bn);s.memoizedProps=s.pendingProps,a===null?Hv(s):Rt=a,df.current=null}function Hv(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=aE(d,a,Bn),d!==null){Rt=d;return}}else{if(d=lE(d,a),d!==null){d.flags&=32767,Rt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{zt=6,Rt=null;return}}if(a=a.sibling,a!==null){Rt=a;return}Rt=a=s}while(a!==null);zt===0&&(zt=5)}function Xi(s,a,d){var m=at,x=Zn.transition;try{Zn.transition=null,at=1,gE(s,a,d,m)}finally{Zn.transition=x,at=m}return null}function gE(s,a,d,m){do Ys();while(wi!==null);if((et&6)!==0)throw Error(n(327));d=s.finishedWork;var x=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=d.lanes|d.childLanes;if(J1(s,b),s===Vt&&(Rt=Vt=null,Zt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||su||(su=!0,Kv(hl,function(){return Ys(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=Zn.transition,Zn.transition=null;var I=at;at=1;var z=et;et|=4,df.current=null,cE(s,d),Ov(d,s),DS(xd),wl=!!yd,xd=yd=null,s.current=d,dE(d),B1(),et=z,at=I,Zn.transition=b}else s.current=d;if(su&&(su=!1,wi=s,ou=x),b=s.pendingLanes,b===0&&(xi=null),H1(d.stateNode),Cn(s,Tt()),a!==null)for(m=s.onRecoverableError,d=0;d<a.length;d++)x=a[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(iu)throw iu=!1,s=pf,pf=null,s;return(ou&1)!==0&&s.tag!==0&&Ys(),b=s.pendingLanes,(b&1)!==0?s===mf?va++:(va=0,mf=s):va=0,mi(),null}function Ys(){if(wi!==null){var s=Rm(ou),a=Zn.transition,d=at;try{if(Zn.transition=null,at=16>s?16:s,wi===null)var m=!1;else{if(s=wi,wi=null,ou=0,(et&6)!==0)throw Error(n(331));var x=et;for(et|=4,Ne=s.current;Ne!==null;){var b=Ne,I=b.child;if((Ne.flags&16)!==0){var z=b.deletions;if(z!==null){for(var W=0;W<z.length;W++){var se=z[W];for(Ne=se;Ne!==null;){var fe=Ne;switch(fe.tag){case 0:case 11:case 15:pa(8,fe,b)}var ge=fe.child;if(ge!==null)ge.return=fe,Ne=ge;else for(;Ne!==null;){fe=Ne;var de=fe.sibling,je=fe.return;if(Tv(fe),fe===se){Ne=null;break}if(de!==null){de.return=je,Ne=de;break}Ne=je}}}var Ie=b.alternate;if(Ie!==null){var Pe=Ie.child;if(Pe!==null){Ie.child=null;do{var It=Pe.sibling;Pe.sibling=null,Pe=It}while(Pe!==null)}}Ne=b}}if((b.subtreeFlags&2064)!==0&&I!==null)I.return=b,Ne=I;else e:for(;Ne!==null;){if(b=Ne,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:pa(9,b,b.return)}var te=b.sibling;if(te!==null){te.return=b.return,Ne=te;break e}Ne=b.return}}var q=s.current;for(Ne=q;Ne!==null;){I=Ne;var re=I.child;if((I.subtreeFlags&2064)!==0&&re!==null)re.return=I,Ne=re;else e:for(I=q;Ne!==null;){if(z=Ne,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:tu(9,z)}}catch(Re){Ct(z,z.return,Re)}if(z===I){Ne=null;break e}var xe=z.sibling;if(xe!==null){xe.return=z.return,Ne=xe;break e}Ne=z.return}}if(et=x,mi(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(pl,s)}catch{}m=!0}return m}finally{at=d,Zn.transition=a}}return!1}function Vv(s,a,d){a=Ws(d,a),a=uv(s,a,1),s=vi(s,a,1),a=mn(),s!==null&&(Bo(s,1,a),Cn(s,a))}function Ct(s,a,d){if(s.tag===3)Vv(s,s,d);else for(;a!==null;){if(a.tag===3){Vv(a,s,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xi===null||!xi.has(m))){s=Ws(d,s),s=cv(a,s,1),a=vi(a,s,1),s=mn(),a!==null&&(Bo(a,1,s),Cn(a,s));break}}a=a.return}}function vE(s,a,d){var m=s.pingCache;m!==null&&m.delete(a),a=mn(),s.pingedLanes|=s.suspendedLanes&d,Vt===s&&(Zt&d)===d&&(zt===4||zt===3&&(Zt&130023424)===Zt&&500>Tt()-hf?Qi(s,0):ff|=d),Cn(s,a)}function qv(s,a){a===0&&((s.mode&1)===0?a=1:(a=gl,gl<<=1,(gl&130023424)===0&&(gl=4194304)));var d=mn();s=Kr(s,a),s!==null&&(Bo(s,a,d),Cn(s,d))}function yE(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),qv(s,d)}function xE(s,a){var d=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),qv(s,d)}var Yv;Yv=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||kn.current)En=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return En=!1,oE(s,a,d);En=(s.flags&131072)!==0}else En=!1,xt&&(a.flags&1048576)!==0&&Cg(a,$l,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Zl(s,a),s=a.pendingProps;var x=Ms(a,sn.current);Bs(a,d),x=Wd(null,a,m,s,x,d);var b=Hd();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Sn(m)?(b=!0,Ml(a)):b=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Dd(a),x.updater=Ql,a.stateNode=x,x._reactInternals=a,Jd(a,m,s,d),a=ef(null,a,m,!0,b,d)):(a.tag=0,xt&&b&&Cd(a),pn(null,a,x,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Zl(s,a),s=a.pendingProps,x=m._init,m=x(m._payload),a.type=m,x=a.tag=bE(m),s=dr(m,s),x){case 0:a=Zd(null,a,m,s,d);break e;case 1:a=xv(null,a,m,s,d);break e;case 11:a=pv(null,a,m,s,d);break e;case 14:a=mv(null,a,m,dr(m.type,s),d);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:dr(m,x),Zd(s,a,m,x,d);case 1:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:dr(m,x),xv(s,a,m,x,d);case 3:e:{if(wv(a),s===null)throw Error(n(387));m=a.pendingProps,b=a.memoizedState,x=b.element,Mg(s,a),Hl(a,m,null,d);var I=a.memoizedState;if(m=I.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){x=Ws(Error(n(423)),a),a=bv(s,a,m,d,x);break e}else if(m!==x){x=Ws(Error(n(424)),a),a=bv(s,a,m,d,x);break e}else for(zn=fi(a.stateNode.containerInfo.firstChild),Fn=a,xt=!0,cr=null,d=Ag(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if($s(),m===x){a=Jr(s,a,d);break e}pn(s,a,m,d)}a=a.child}return a;case 5:return $g(a),s===null&&Td(a),m=a.type,x=a.pendingProps,b=s!==null?s.memoizedProps:null,I=x.children,wd(m,x)?I=null:b!==null&&wd(m,b)&&(a.flags|=32),yv(s,a),pn(s,a,I,d),a.child;case 6:return s===null&&Td(a),null;case 13:return kv(s,a,d);case 4:return Ld(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Fs(a,null,m,d):pn(s,a,m,d),a.child;case 11:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:dr(m,x),pv(s,a,m,x,d);case 7:return pn(s,a,a.pendingProps,d),a.child;case 8:return pn(s,a,a.pendingProps.children,d),a.child;case 12:return pn(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,x=a.pendingProps,b=a.memoizedProps,I=x.value,ft(Bl,m._currentValue),m._currentValue=I,b!==null)if(ur(b.value,I)){if(b.children===x.children&&!kn.current){a=Jr(s,a,d);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var z=b.dependencies;if(z!==null){I=b.child;for(var W=z.firstContext;W!==null;){if(W.context===m){if(b.tag===1){W=Gr(-1,d&-d),W.tag=2;var se=b.updateQueue;if(se!==null){se=se.shared;var fe=se.pending;fe===null?W.next=W:(W.next=fe.next,fe.next=W),se.pending=W}}b.lanes|=d,W=b.alternate,W!==null&&(W.lanes|=d),Od(b.return,d,a),z.lanes|=d;break}W=W.next}}else if(b.tag===10)I=b.type===a.type?null:b.child;else if(b.tag===18){if(I=b.return,I===null)throw Error(n(341));I.lanes|=d,z=I.alternate,z!==null&&(z.lanes|=d),Od(I,d,a),I=b.sibling}else I=b.child;if(I!==null)I.return=b;else for(I=b;I!==null;){if(I===a){I=null;break}if(b=I.sibling,b!==null){b.return=I.return,I=b;break}I=I.return}b=I}pn(s,a,x.children,d),a=a.child}return a;case 9:return x=a.type,m=a.pendingProps.children,Bs(a,d),x=Qn(x),m=m(x),a.flags|=1,pn(s,a,m,d),a.child;case 14:return m=a.type,x=dr(m,a.pendingProps),x=dr(m.type,x),mv(s,a,m,x,d);case 15:return gv(s,a,a.type,a.pendingProps,d);case 17:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:dr(m,x),Zl(s,a),a.tag=1,Sn(m)?(s=!0,Ml(a)):s=!1,Bs(a,d),av(a,m,x),Jd(a,m,x,d),ef(null,a,m,!0,s,d);case 19:return Ev(s,a,d);case 22:return vv(s,a,d)}throw Error(n(156,a.tag))};function Kv(s,a){return jm(s,a)}function wE(s,a,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(s,a,d,m){return new wE(s,a,d,m)}function bf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function bE(s){if(typeof s=="function")return bf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Y)return 11;if(s===F)return 14}return 2}function Si(s,a){var d=s.alternate;return d===null?(d=er(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function cu(s,a,d,m,x,b){var I=2;if(m=s,typeof s=="function")bf(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case L:return Zi(d.children,x,b,a);case Z:I=8,x|=8;break;case Q:return s=er(12,d,a,x|2),s.elementType=Q,s.lanes=b,s;case H:return s=er(13,d,a,x),s.elementType=H,s.lanes=b,s;case B:return s=er(19,d,a,x),s.elementType=B,s.lanes=b,s;case X:return du(d,x,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:I=10;break e;case N:I=9;break e;case Y:I=11;break e;case F:I=14;break e;case J:I=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=er(I,d,a,x),a.elementType=s,a.type=m,a.lanes=b,a}function Zi(s,a,d,m){return s=er(7,s,m,a),s.lanes=d,s}function du(s,a,d,m){return s=er(22,s,m,a),s.elementType=X,s.lanes=d,s.stateNode={isHidden:!1},s}function kf(s,a,d){return s=er(6,s,null,a),s.lanes=d,s}function Sf(s,a,d){return a=er(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function kE(s,a,d,m,x){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ef(s,a,d,m,x,b,I,z,W){return s=new kE(s,a,d,z,W),a===1?(a=1,b===!0&&(a|=8)):a=0,b=er(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(b),s}function SE(s,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:m==null?null:""+m,children:s,containerInfo:a,implementation:d}}function Gv(s){if(!s)return pi;s=s._reactInternals;e:{if(Bi(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Sn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(Sn(d))return Sg(s,d,a)}return a}function Jv(s,a,d,m,x,b,I,z,W){return s=Ef(d,m,!0,s,x,b,I,z,W),s.context=Gv(null),d=s.current,m=mn(),x=bi(d),b=Gr(m,x),b.callback=a??null,vi(d,b,x),s.current.lanes=x,Bo(s,x,m),Cn(s,m),s}function fu(s,a,d,m){var x=a.current,b=mn(),I=bi(x);return d=Gv(d),a.context===null?a.context=d:a.pendingContext=d,a=Gr(b,I),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=vi(x,a,I),s!==null&&(pr(s,x,I,b),Wl(s,x,I)),I}function hu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Qv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function _f(s,a){Qv(s,a),(s=s.alternate)&&Qv(s,a)}function EE(){return null}var Xv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Cf(s){this._internalRoot=s}pu.prototype.render=Cf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));fu(s,a,null,null)},pu.prototype.unmount=Cf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ji(function(){fu(null,s,null,null)}),a[Hr]=null}};function pu(s){this._internalRoot=s}pu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Mm();s={blockedOn:null,target:s,priority:a};for(var d=0;d<ui.length&&a!==0&&a<ui[d].priority;d++);ui.splice(d,0,s),d===0&&$m(s)}};function jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function mu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Zv(){}function _E(s,a,d,m,x){if(x){if(typeof m=="function"){var b=m;m=function(){var se=hu(I);b.call(se)}}var I=Jv(a,m,s,0,null,!1,!1,"",Zv);return s._reactRootContainer=I,s[Hr]=I.current,ta(s.nodeType===8?s.parentNode:s),Ji(),I}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var z=m;m=function(){var se=hu(W);z.call(se)}}var W=Ef(s,0,!1,null,null,!1,!1,"",Zv);return s._reactRootContainer=W,s[Hr]=W.current,ta(s.nodeType===8?s.parentNode:s),Ji(function(){fu(a,W,d,m)}),W}function gu(s,a,d,m,x){var b=d._reactRootContainer;if(b){var I=b;if(typeof x=="function"){var z=x;x=function(){var W=hu(I);z.call(W)}}fu(a,I,s,x)}else I=_E(d,a,s,x,m);return hu(I)}Am=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=zo(a.pendingLanes);d!==0&&(Jc(a,d|1),Cn(a,Tt()),(et&6)===0&&(qs=Tt()+500,mi()))}break;case 13:Ji(function(){var m=Kr(s,1);if(m!==null){var x=mn();pr(m,s,1,x)}}),_f(s,1)}},Qc=function(s){if(s.tag===13){var a=Kr(s,134217728);if(a!==null){var d=mn();pr(a,s,134217728,d)}_f(s,134217728)}},Om=function(s){if(s.tag===13){var a=bi(s),d=Kr(s,a);if(d!==null){var m=mn();pr(d,s,a,m)}_f(s,a)}},Mm=function(){return at},Dm=function(s,a){var d=at;try{return at=s,a()}finally{at=d}},ot=function(s,a,d){switch(a){case"input":if(ve(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==s&&m.form===s.form){var x=Al(m);if(!x)throw Error(n(90));rt(m),ve(m,x)}}}break;case"textarea":ee(s,d);break;case"select":a=d.value,a!=null&&qe(s,!!d.multiple,a,!1)}},hn=yf,nn=Ji;var CE={usingClientEntryPoint:!1,Events:[ia,As,Al,tn,sr,yf]},ya={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jE={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=_m(s),s===null?null:s.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||EE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{pl=vu.inject(jE),Er=vu}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CE,jn.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(a))throw Error(n(200));return SE(s,a,null,d)},jn.createRoot=function(s,a){if(!jf(s))throw Error(n(299));var d=!1,m="",x=Xv;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Ef(s,1,!1,null,null,d,!1,m,x),s[Hr]=a.current,ta(s.nodeType===8?s.parentNode:s),new Cf(a)},jn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=_m(a),s=s===null?null:s.stateNode,s},jn.flushSync=function(s){return Ji(s)},jn.hydrate=function(s,a,d){if(!mu(a))throw Error(n(200));return gu(null,s,a,!0,d)},jn.hydrateRoot=function(s,a,d){if(!jf(s))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,x=!1,b="",I=Xv;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),a=Jv(a,null,s,1,d??null,x,!1,b,I),s[Hr]=a.current,ta(s),m)for(s=0;s<m.length;s++)d=m[s],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new pu(a)},jn.render=function(s,a,d){if(!mu(a))throw Error(n(200));return gu(null,s,a,!1,d)},jn.unmountComponentAtNode=function(s){if(!mu(s))throw Error(n(40));return s._reactRootContainer?(Ji(function(){gu(null,null,s,!1,function(){s._reactRootContainer=null,s[Hr]=null})}),!0):!1},jn.unstable_batchedUpdates=yf,jn.unstable_renderSubtreeIntoContainer=function(s,a,d,m){if(!mu(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return gu(s,a,d,!1,m)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var ay;function Q0(){if(ay)return If.exports;ay=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),If.exports=DE(),If.exports}var ly;function LE(){if(ly)return yu;ly=1;var e=Q0();return yu.createRoot=e.createRoot,yu.hydrateRoot=e.hydrateRoot,yu}var $E=LE();const FE=No($E);var Hn=Q0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}var Ri;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ri||(Ri={}));const uy="popstate";function zE(e){e===void 0&&(e={});function t(i,o){let{pathname:l="/",search:u="",hash:c=""}=xs(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ch("",{pathname:l,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof o=="string"?o:qu(o))}function r(i,o){Ep(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return UE(t,n,r,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ep(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BE(){return Math.random().toString(36).substr(2,8)}function cy(e,t){return{usr:e.state,key:e.key,idx:t}}function Ch(e,t,n,r){return n===void 0&&(n=null),Ba({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xs(t):t,{state:n,key:t&&t.key||r||BE()})}function qu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function UE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Ri.Pop,c=null,f=h();f==null&&(f=0,l.replaceState(Ba({},l.state,{idx:f}),""));function h(){return(l.state||{idx:null}).idx}function p(){u=Ri.Pop;let S=h(),C=S==null?null:S-f;f=S,c&&c({action:u,location:w.location,delta:C})}function v(S,C){u=Ri.Push;let _=Ch(w.location,S,C);n&&n(_,S),f=h()+1;let j=cy(_,f),M=w.createHref(_);try{l.pushState(j,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(M)}o&&c&&c({action:u,location:w.location,delta:1})}function y(S,C){u=Ri.Replace;let _=Ch(w.location,S,C);n&&n(_,S),f=h();let j=cy(_,f),M=w.createHref(_);l.replaceState(j,"",M),o&&c&&c({action:u,location:w.location,delta:0})}function E(S){let C=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof S=="string"?S:qu(S);return _=_.replace(/ $/,"%20"),Et(C,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,C)}let w={get action(){return u},get location(){return e(i,l)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(uy,p),c=S,()=>{i.removeEventListener(uy,p),c=null}},createHref(S){return t(i,S)},createURL:E,encodeLocation(S){let C=E(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:y,go(S){return l.go(S)}};return w}var dy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dy||(dy={}));function WE(e,t,n){return n===void 0&&(n="/"),HE(e,t,n)}function HE(e,t,n,r){let i=typeof t=="string"?xs(t):t,o=ko(i.pathname||"/",n);if(o==null)return null;let l=X0(e);VE(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let f=n_(o);u=e_(l[c],f)}return u}function X0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(Et(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=Oi([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),X0(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:XE(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let c of Z0(o.path))i(o,l,c)}),t}function Z0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=Z0(r.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function VE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ZE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qE=/^:[\w-]+$/,YE=3,KE=2,GE=1,JE=10,QE=-2,fy=e=>e==="*";function XE(e,t){let n=e.split("/"),r=n.length;return n.some(fy)&&(r+=QE),t&&(r+=KE),n.filter(i=>!fy(i)).reduce((i,o)=>i+(qE.test(o)?YE:o===""?GE:JE),r)}function ZE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function e_(e,t,n){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",p=jh({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Oi([o,p.pathname]),pathnameBase:o_(Oi([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=Oi([o,p.pathnameBase]))}return l}function jh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=t_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,h,p)=>{let{paramName:v,isOptional:y}=h;if(v==="*"){let w=u[p]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[p];return y&&!E?f[v]=void 0:f[v]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function t_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ep(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function n_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ep(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ko(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function r_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xs(e):e;return{pathname:n?n.startsWith("/")?n:i_(n,t):t,search:a_(r),hash:l_(i)}}function i_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Af(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _p(e,t){let n=s_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cp(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xs(e):(i=Ba({},e),Et(!i.pathname||!i.pathname.includes("?"),Af("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),Af("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),Af("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}u=p>=0?t[p]:"/"}let c=r_(i,u),f=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const Oi=e=>e.join("/").replace(/\/\/+/g,"/"),o_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),a_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function u_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ew=["post","put","patch","delete"];new Set(ew);const c_=["get",...ew];new Set(c_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(this,arguments)}const yc=k.createContext(null),tw=k.createContext(null),ni=k.createContext(null),xc=k.createContext(null),ri=k.createContext({outlet:null,matches:[],isDataRoute:!1}),nw=k.createContext(null);function d_(e,t){let{relative:n}=t===void 0?{}:t;To()||Et(!1);let{basename:r,navigator:i}=k.useContext(ni),{hash:o,pathname:l,search:u}=wc(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:Oi([r,l])),i.createHref({pathname:c,search:u,hash:o})}function To(){return k.useContext(xc)!=null}function ii(){return To()||Et(!1),k.useContext(xc).location}function rw(e){k.useContext(ni).static||k.useLayoutEffect(e)}function jp(){let{isDataRoute:e}=k.useContext(ri);return e?C_():f_()}function f_(){To()||Et(!1);let e=k.useContext(yc),{basename:t,future:n,navigator:r}=k.useContext(ni),{matches:i}=k.useContext(ri),{pathname:o}=ii(),l=JSON.stringify(_p(i,n.v7_relativeSplatPath)),u=k.useRef(!1);return rw(()=>{u.current=!0}),k.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let p=Cp(f,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Oi([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,l,o,e])}const h_=k.createContext(null);function p_(e){let t=k.useContext(ri).outlet;return t&&k.createElement(h_.Provider,{value:e},t)}function wc(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(ni),{matches:i}=k.useContext(ri),{pathname:o}=ii(),l=JSON.stringify(_p(i,r.v7_relativeSplatPath));return k.useMemo(()=>Cp(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function m_(e,t){return g_(e,t)}function g_(e,t,n,r){To()||Et(!1);let{navigator:i}=k.useContext(ni),{matches:o}=k.useContext(ri),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let f=ii(),h;if(t){var p;let S=typeof t=="string"?xs(t):t;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||Et(!1),h=S}else h=f;let v=h.pathname||"/",y=v;if(c!=="/"){let S=c.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let E=WE(e,{pathname:y}),w=b_(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Oi([c,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Oi([c,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return t&&w?k.createElement(xc.Provider,{value:{location:Ua({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ri.Pop}},w):w}function v_(){let e=__(),t=u_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,null)}const y_=k.createElement(v_,null);class x_ extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(ri.Provider,{value:this.props.routeContext},k.createElement(nw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w_(e){let{routeContext:t,match:n,children:r}=e,i=k.useContext(yc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(ri.Provider,{value:t},r)}function b_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let h=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);h>=0||Et(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<l.length;h++){let p=l[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:v,errors:y}=n,E=p.route.loader&&v[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,p,v)=>{let y,E=!1,w=null,S=null;n&&(y=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||y_,c&&(f<0&&v===0?(j_("route-fallback"),E=!0,S=null):f===v&&(E=!0,S=p.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,v+1)),_=()=>{let j;return y?j=w:E?j=S:p.route.Component?j=k.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,k.createElement(w_,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?k.createElement(x_,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:_(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):_()},null)}var iw=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(iw||{}),sw=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(sw||{});function k_(e){let t=k.useContext(yc);return t||Et(!1),t}function S_(e){let t=k.useContext(tw);return t||Et(!1),t}function E_(e){let t=k.useContext(ri);return t||Et(!1),t}function ow(e){let t=E_(),n=t.matches[t.matches.length-1];return n.route.id||Et(!1),n.route.id}function __(){var e;let t=k.useContext(nw),n=S_(),r=ow();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function C_(){let{router:e}=k_(iw.UseNavigateStable),t=ow(sw.UseNavigateStable),n=k.useRef(!1);return rw(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ua({fromRouteId:t},o)))},[e,t])}const hy={};function j_(e,t,n){hy[e]||(hy[e]=!0)}function N_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bc(e){let{to:t,replace:n,state:r,relative:i}=e;To()||Et(!1);let{future:o,static:l}=k.useContext(ni),{matches:u}=k.useContext(ri),{pathname:c}=ii(),f=jp(),h=Cp(t,_p(u,o.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return k.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:i}),[f,p,i,n,r]),null}function aw(e){return p_(e.context)}function Tn(e){Et(!1)}function T_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ri.Pop,navigator:o,static:l=!1,future:u}=e;To()&&Et(!1);let c=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:o,static:l,future:Ua({v7_relativeSplatPath:!1},u)}),[c,u,o,l]);typeof r=="string"&&(r=xs(r));let{pathname:h="/",search:p="",hash:v="",state:y=null,key:E="default"}=r,w=k.useMemo(()=>{let S=ko(h,c);return S==null?null:{location:{pathname:S,search:p,hash:v,state:y,key:E},navigationType:i}},[c,h,p,v,y,E,i]);return w==null?null:k.createElement(ni.Provider,{value:f},k.createElement(xc.Provider,{children:n,value:w}))}function I_(e){let{children:t,location:n}=e;return m_(Nh(t),n)}new Promise(()=>{});function Nh(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let o=[...t,i];if(r.type===k.Fragment){n.push.apply(n,Nh(r.props.children,o));return}r.type!==Tn&&Et(!1),!r.props.index||!r.props.children||Et(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Nh(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}function lw(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function P_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R_(e,t){return e.button===0&&(!t||t==="_self")&&!P_(e)}function Th(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function A_(e,t){let n=Th(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const O_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],D_="6";try{window.__reactRouterVersion=D_}catch{}const L_=k.createContext({isTransitioning:!1}),$_="startTransition",py=Vu[$_];function F_(e){let{basename:t,children:n,future:r,window:i}=e,o=k.useRef();o.current==null&&(o.current=zE({window:i,v5Compat:!0}));let l=o.current,[u,c]=k.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},h=k.useCallback(p=>{f&&py?py(()=>c(p)):c(p)},[c,f]);return k.useLayoutEffect(()=>l.listen(h),[l,h]),k.useEffect(()=>N_(r),[r]),k.createElement(T_,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ei=k.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p}=t,v=lw(t,O_),{basename:y}=k.useContext(ni),E,w=!1;if(typeof f=="string"&&B_.test(f)&&(E=f,z_))try{let j=new URL(window.location.href),M=f.startsWith("//")?new URL(j.protocol+f):new URL(f),A=ko(M.pathname,y);M.origin===j.origin&&A!=null?f=A+M.search+M.hash:w=!0}catch{}let S=d_(f,{relative:i}),C=W_(f,{replace:l,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p});function _(j){r&&r(j),j.defaultPrevented||C(j)}return k.createElement("a",Yu({},v,{href:E||S,onClick:w||o?r:_,ref:n,target:c}))}),my=k.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:c,viewTransition:f,children:h}=t,p=lw(t,M_),v=wc(c,{relative:p.relative}),y=ii(),E=k.useContext(tw),{navigator:w,basename:S}=k.useContext(ni),C=E!=null&&H_(v)&&f===!0,_=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,j=y.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(j=j.toLowerCase(),M=M?M.toLowerCase():null,_=_.toLowerCase()),M&&S&&(M=ko(M,S)||M);const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let R=j===_||!l&&j.startsWith(_)&&j.charAt(A)==="/",L=M!=null&&(M===_||!l&&M.startsWith(_)&&M.charAt(_.length)==="/"),Z={isActive:R,isPending:L,isTransitioning:C},Q=R?r:void 0,O;typeof o=="function"?O=o(Z):O=[o,R?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(Z):u;return k.createElement(ei,Yu({},p,{"aria-current":Q,className:O,ref:n,style:N,to:c,viewTransition:f}),typeof h=="function"?h(Z):h)});var Ih;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ih||(Ih={}));var gy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gy||(gy={}));function U_(e){let t=k.useContext(yc);return t||Et(!1),t}function W_(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,c=jp(),f=ii(),h=wc(e,{relative:l});return k.useCallback(p=>{if(R_(p,n)){p.preventDefault();let v=r!==void 0?r:qu(f)===qu(h);c(e,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,c,h,r,i,n,e,o,l,u])}function Np(e){let t=k.useRef(Th(e)),n=k.useRef(!1),r=ii(),i=k.useMemo(()=>A_(r.search,n.current?null:t.current),[r.search]),o=jp(),l=k.useCallback((u,c)=>{const f=Th(typeof u=="function"?u(i):u);n.current=!0,o("?"+f,c)},[o,i]);return[i,l]}function H_(e,t){t===void 0&&(t={});let n=k.useContext(L_);n==null&&Et(!1);let{basename:r}=U_(Ih.useViewTransitionState),i=wc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ko(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ko(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jh(i.pathname,l)!=null||jh(i.pathname,o)!=null}const uw=typeof document<"u"?Ce.useLayoutEffect:()=>{};var Of;const V_=(Of=Ce.useInsertionEffect)!==null&&Of!==void 0?Of:uw;function q_(e){const t=k.useRef(null);return V_(()=>{t.current=e},[e]),k.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const $i=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},ds=e=>e&&"window"in e&&e.window===e?e:$i(e).defaultView||window;function Y_(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function K_(e){return Y_(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let G_=!1;function Tp(){return G_}function cw(e,t){if(!Tp())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:K_(n)?n=n.host:n=n.parentNode}return!1}const Ph=(e=document)=>{var t;if(!Tp())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function dw(e){return Tp()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function fw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=fw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Oe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=fw(e))&&(r&&(r+=" "),r+=t);return r}function J_(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function Q_(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function hw(e){let t=null;return()=>(t==null&&(t=e()),t)}const X_=hw(function(){return Q_(/^Mac/i)}),Z_=hw(function(){return J_(/Android/i)});function pw(){let e=k.useRef(new Map),t=k.useCallback((i,o,l,u)=>{let c=u!=null&&u.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:o,eventTarget:i,fn:c,options:u}),i.addEventListener(o,c,u)},[]),n=k.useCallback((i,o,l,u)=>{var c;let f=((c=e.current.get(l))===null||c===void 0?void 0:c.fn)||l;i.removeEventListener(o,f,u),e.current.delete(l)},[]),r=k.useCallback(()=>{e.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return k.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function eC(e){return e.pointerType===""&&e.isTrusted?!0:Z_()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function mw(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function tC(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function gw(e){let t=k.useRef({isFocused:!1,observer:null});uw(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=q_(r=>{e==null||e(r)});return k.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=l=>{if(t.current.isFocused=!1,i.disabled){let u=mw(l);n(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let nC=!1,el=null,Rh=new Set,Ta=new Map,ps=!1,Ah=!1;const rC={Tab:!0,Escape:!0};function Ip(e,t){for(let n of Rh)n(e,t)}function iC(e){return!(e.metaKey||!X_()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ku(e){ps=!0,iC(e)&&(el="keyboard",Ip("keyboard",e))}function mo(e){el="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(ps=!0,Ip("pointer",e))}function vw(e){eC(e)&&(ps=!0,el="virtual")}function yw(e){e.target===window||e.target===document||nC||!e.isTrusted||(!ps&&!Ah&&(el="virtual",Ip("virtual",e)),ps=!1,Ah=!1)}function xw(){ps=!1,Ah=!0}function Oh(e){if(typeof window>"u"||typeof document>"u"||Ta.get(ds(e)))return;const t=ds(e),n=$i(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ps=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ku,!0),n.addEventListener("keyup",Ku,!0),n.addEventListener("click",vw,!0),t.addEventListener("focus",yw,!0),t.addEventListener("blur",xw,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",mo,!0),n.addEventListener("pointermove",mo,!0),n.addEventListener("pointerup",mo,!0)),t.addEventListener("beforeunload",()=>{ww(e)},{once:!0}),Ta.set(t,{focus:r})}const ww=(e,t)=>{const n=ds(e),r=$i(e);t&&r.removeEventListener("DOMContentLoaded",t),Ta.has(n)&&(n.HTMLElement.prototype.focus=Ta.get(n).focus,r.removeEventListener("keydown",Ku,!0),r.removeEventListener("keyup",Ku,!0),r.removeEventListener("click",vw,!0),n.removeEventListener("focus",yw,!0),n.removeEventListener("blur",xw,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",mo,!0),r.removeEventListener("pointermove",mo,!0),r.removeEventListener("pointerup",mo,!0)),Ta.delete(n))};function sC(e){const t=$i(e);let n;return t.readyState!=="loading"?Oh(e):(n=()=>{Oh(e)},t.addEventListener("DOMContentLoaded",n)),()=>ww(e,n)}typeof document<"u"&&sC();function bw(){return el!=="pointer"}const oC=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function aC(e,t,n){let r=$i(n==null?void 0:n.target);const i=typeof window<"u"?ds(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?ds(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?ds(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?ds(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof i&&!oC.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!rC[n.key])}function lC(e,t,n){Oh(),k.useEffect(()=>{let r=(i,o)=>{aC(!!(n!=null&&n.isTextInput),i,o)&&e(bw())};return Rh.add(r),()=>{Rh.delete(r)}},t)}function uC(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=k.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),i&&i(!1),!0},[r,i]),l=gw(o),u=k.useCallback(c=>{const f=$i(c.target),h=f?Ph(f):Ph();c.target===c.currentTarget&&h===dw(c.nativeEvent)&&(n&&n(c),i&&i(!0),l(c))},[i,n,l]);return{focusProps:{onFocus:!t&&(n||i||r)?u:void 0,onBlur:!t&&(r||i)?o:void 0}}}function cC(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=k.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=pw(),c=k.useCallback(p=>{p.currentTarget.contains(p.target)&&o.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(o.current.isFocusWithin=!1,u(),n&&n(p),i&&i(!1))},[n,i,o,u]),f=gw(c),h=k.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const v=$i(p.target),y=Ph(v);if(!o.current.isFocusWithin&&y===dw(p.nativeEvent)){r&&r(p),i&&i(!0),o.current.isFocusWithin=!0,f(p);let E=p.currentTarget;l(v,"focus",w=>{if(o.current.isFocusWithin&&!cw(E,w.target)){let S=new v.defaultView.FocusEvent("blur",{relatedTarget:w.target});tC(S,E);let C=mw(S);c(C)}},{capture:!0})}},[r,i,f,l,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:c}}}let Mh=!1,xu=0;function dC(){Mh=!0,setTimeout(()=>{Mh=!1},50)}function vy(e){e.pointerType==="touch"&&dC()}function fC(){if(!(typeof document>"u"))return xu===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",vy),xu++,()=>{xu--,!(xu>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",vy)}}function hC(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,l]=k.useState(!1),u=k.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;k.useEffect(fC,[]);let{addGlobalListener:c,removeAllGlobalListeners:f}=pw(),{hoverProps:h,triggerHoverEnd:p}=k.useMemo(()=>{let v=(w,S)=>{if(u.pointerType=S,i||S==="touch"||u.isHovered||!w.currentTarget.contains(w.target))return;u.isHovered=!0;let C=w.currentTarget;u.target=C,c($i(w.target),"pointerover",_=>{u.isHovered&&u.target&&!cw(u.target,_.target)&&y(_,_.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:C,pointerType:S}),n&&n(!0),l(!0)},y=(w,S)=>{let C=u.target;u.pointerType="",u.target=null,!(S==="touch"||!u.isHovered||!C)&&(u.isHovered=!1,f(),r&&r({type:"hoverend",target:C,pointerType:S}),n&&n(!1),l(!1))},E={};return typeof PointerEvent<"u"&&(E.onPointerEnter=w=>{Mh&&w.pointerType==="mouse"||v(w,w.pointerType)},E.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&y(w,w.pointerType)}),{hoverProps:E,triggerHoverEnd:y}},[t,n,r,i,u,c,f]);return k.useEffect(()=>{i&&p({currentTarget:u.target},u.pointerType)},[i]),{hoverProps:h,isHovered:o}}function pC(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=k.useRef({isFocused:!1,isFocusVisible:t||bw()}),[o,l]=k.useState(!1),[u,c]=k.useState(()=>i.current.isFocused&&i.current.isFocusVisible),f=k.useCallback(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),h=k.useCallback(y=>{i.current.isFocused=y,l(y),f()},[f]);lC(y=>{i.current.isFocusVisible=y,f()},[],{isTextInput:n});let{focusProps:p}=uC({isDisabled:r,onFocusChange:h}),{focusWithinProps:v}=cC({isDisabled:!r,onFocusWithinChange:h});return{isFocused:o,isFocusVisible:u,focusProps:r?v:p}}var mC=Object.defineProperty,gC=(e,t,n)=>t in e?mC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mf=(e,t,n)=>(gC(e,typeof t!="symbol"?t+"":t,n),n);let vC=class{constructor(){Mf(this,"current",this.detect()),Mf(this,"handoffState","pending"),Mf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Or=new vC;function ws(e){var t;return Or.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Gu(e){var t,n;return Or.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function Pp(e){var t,n;return(n=(t=Gu(e))==null?void 0:t.activeElement)!=null?n:null}function kw(e){return Pp(e)===e}function kc(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function On(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return kc(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=On();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function bs(){let[e]=k.useState(On);return k.useEffect(()=>()=>e.dispose(),[e]),e}let vt=(e,t)=>{Or.isServer?k.useEffect(e,t):k.useLayoutEffect(e,t)};function ks(e){let t=k.useRef(e);return vt(()=>{t.current=e},[e]),t}let Fe=function(e){let t=ks(e);return Ce.useCallback((...n)=>t.current(...n),[t])};function yC(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function xC(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function wC({disabled:e=!1}={}){let t=k.useRef(null),[n,r]=k.useState(!1),i=bs(),o=Fe(()=>{t.current=null,r(!1),i.dispose()}),l=Fe(u=>{if(i.dispose(),t.current===null){t.current=u.currentTarget,r(!0);{let c=ws(u.currentTarget);i.addEventListener(c,"pointerup",o,!1),i.addEventListener(c,"pointermove",f=>{if(t.current){let h=yC(f);r(xC(h,t.current.getBoundingClientRect()))}},!1),i.addEventListener(c,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:o,onClick:o}}}function Fr(e){return k.useMemo(()=>e,Object.values(e))}let bC=k.createContext(void 0);function Sw(){return k.useContext(bC)}function Dh(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function wr(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,wr),r}var So=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(So||{}),Ai=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ai||{});function $t(){let e=SC();return k.useCallback(t=>kC({mergeRefs:e,...t}),[e])}function kC({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:u}){u=u??EC;let c=Ew(t,e);if(o)return wu(c,n,r,l,u);let f=i??0;if(f&2){let{static:h=!1,...p}=c;if(h)return wu(p,n,r,l,u)}if(f&1){let{unmount:h=!0,...p}=c;return wr(h?0:1,{0(){return null},1(){return wu({...p,hidden:!0,style:{display:"none"}},n,r,l,u)}})}return wu(c,n,r,l,u)}function wu(e,t={},n,r,i){let{as:o=n,children:l,refName:u="ref",...c}=Df(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},h=typeof l=="function"?l(t):l;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let p={};if(t){let v=!1,y=[];for(let[E,w]of Object.entries(t))typeof w=="boolean"&&(v=!0),w===!0&&y.push(E.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(v){p["data-headlessui-state"]=y.join(" ");for(let E of y)p[`data-${E}`]=""}}if(Ia(o)&&(Object.keys(ss(c)).length>0||Object.keys(ss(p)).length>0))if(!k.isValidElement(h)||Array.isArray(h)&&h.length>1||CC(h)){if(Object.keys(ss(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ss(c)).concat(Object.keys(ss(p))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,y=v==null?void 0:v.className,E=typeof y=="function"?(...C)=>Dh(y(...C),c.className):Dh(y,c.className),w=E?{className:E}:{},S=Ew(h.props,ss(Df(c,["ref"])));for(let C in p)C in S&&delete p[C];return k.cloneElement(h,Object.assign({},S,p,f,{ref:i(_C(h),f.ref)},w))}return k.createElement(o,Object.assign({},Df(c,["ref"]),!Ia(o)&&f,!Ia(o)&&p),h)}function SC(){let e=k.useRef([]),t=k.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function EC(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Ew(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let l=n[r];for(let u of l){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;u(i,...o)}}});return t}function _w(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let l of o)l==null||l(...i)}});return t}function Nt(e){var t;return Object.assign(k.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ss(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Df(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function _C(e){return Ce.version.split(".")[0]>="19"?e.props.ref:e.ref}function Ia(e){return e===k.Fragment||e===Symbol.for("react.fragment")}function CC(e){return Ia(e.type)}let jC="span";var Ju=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ju||{});function NC(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return $t()({ourProps:o,theirProps:i,slot:{},defaultTag:jC,name:"Hidden"})}let Lh=Nt(NC),TC=k.createContext(void 0);function IC(){return k.useContext(TC)}function Cw(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ti(e){return Cw(e)&&"tagName"in e}function Yn(e){return ti(e)&&"accessKey"in e}function Ar(e){return ti(e)&&"tabIndex"in e}function PC(e){return ti(e)&&"style"in e}function RC(e){return Yn(e)&&e.nodeName==="IFRAME"}function jw(e){return Yn(e)&&e.nodeName==="INPUT"}function yy(e){return Yn(e)&&e.nodeName==="LABEL"}function AC(e){return Yn(e)&&e.nodeName==="FIELDSET"}function Nw(e){return Yn(e)&&e.nodeName==="LEGEND"}function OC(e){return ti(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function xy(e){let t=e.parentElement,n=null;for(;t&&!AC(t);)Nw(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&MC(n)?!1:r}function MC(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Nw(t))return!1;t=t.previousElementSibling}return!0}let Tw=Symbol();function DC(e,t=!0){return Object.assign(e,{[Tw]:t})}function wn(...e){let t=k.useRef(e);k.useEffect(()=>{t.current=e},[e]);let n=Fe(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Tw]))?void 0:n}let Rp=k.createContext(null);Rp.displayName="DescriptionContext";function Iw(){let e=k.useContext(Rp);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Iw),t}return e}function Pw(){let[e,t]=k.useState([]);return[e.length>0?e.join(" "):void 0,k.useMemo(()=>function(n){let r=Fe(o=>(t(l=>[...l,o]),()=>t(l=>{let u=l.slice(),c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}))),i=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ce.createElement(Rp.Provider,{value:i},n.children)},[t])]}let LC="p";function $C(e,t){let n=k.useId(),r=Sw(),{id:i=`headlessui-description-${n}`,...o}=e,l=Iw(),u=wn(t);vt(()=>l.register(i),[i,l.register]);let c=Fr({...l.slot,disabled:r||!1}),f={ref:u,...l.props,id:i};return $t()({ourProps:f,theirProps:o,slot:c,defaultTag:LC,name:l.name||"Description"})}let FC=Nt($C),zC=Object.assign(FC,{});var Kt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Kt||{});let Sc=k.createContext(null);Sc.displayName="LabelContext";function Ap(){let e=k.useContext(Sc);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Ap),t}return e}function BC(e){var t,n,r;let i=(n=(t=k.useContext(Sc))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function Rw({inherit:e=!1}={}){let t=BC(),[n,r]=k.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,k.useMemo(()=>function(o){let l=Fe(c=>(r(f=>[...f,c]),()=>r(f=>{let h=f.slice(),p=h.indexOf(c);return p!==-1&&h.splice(p,1),h}))),u=k.useMemo(()=>({register:l,slot:o.slot,name:o.name,props:o.props,value:o.value}),[l,o.slot,o.name,o.props,o.value]);return Ce.createElement(Sc.Provider,{value:u},o.children)},[r])]}let UC="label";function WC(e,t){var n;let r=k.useId(),i=Ap(),o=IC(),l=Sw(),{id:u=`headlessui-label-${r}`,htmlFor:c=o??((n=i.props)==null?void 0:n.htmlFor),passive:f=!1,...h}=e,p=wn(t);vt(()=>i.register(u),[u,i.register]);let v=Fe(w=>{let S=w.currentTarget;if(!(w.target!==w.currentTarget&&OC(w.target))&&(yy(S)&&w.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(w),yy(S))){let C=document.getElementById(S.htmlFor);if(C){let _=C.getAttribute("disabled");if(_==="true"||_==="")return;let j=C.getAttribute("aria-disabled");if(j==="true"||j==="")return;(jw(C)&&(C.type==="file"||C.type==="radio"||C.type==="checkbox")||C.role==="radio"||C.role==="checkbox"||C.role==="switch")&&C.click(),C.focus({preventScroll:!0})}}}),y=Fr({...i.slot,disabled:l||!1}),E={ref:p,...i.props,id:u,htmlFor:c,onClick:v};return f&&("onClick"in E&&(delete E.htmlFor,delete E.onClick),"onClick"in h&&delete h.onClick),$t()({ourProps:E,theirProps:h,slot:y,defaultTag:c?UC:"div",name:i.name||"Label"})}let HC=Nt(WC);Object.assign(HC,{});let VC=k.createContext(()=>{});function qC({value:e,children:t}){return Ce.createElement(VC.Provider,{value:e},t)}function wy(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function YC(e,t,n=!1){let[r,i]=k.useState(()=>wy(t));return vt(()=>{if(!t||!e)return;let o=On();return o.requestAnimationFrame(function l(){o.requestAnimationFrame(l),i(u=>{let c=wy(t);return c.width===u.width&&c.height===u.height?u:c})}),()=>{o.dispose()}},[t,e]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var Aw=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Aw||{});function KC(e){let t=k.useRef(null),n=Fe(i=>{t.current=i.pointerType,!xy(i.currentTarget)&&i.pointerType==="mouse"&&i.button===Aw.Left&&(i.preventDefault(),e(i))}),r=Fe(i=>{t.current!=="mouse"&&(xy(i.currentTarget)||e(i))});return{onPointerDown:n,onClick:r}}let Ow=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var GC=Object.defineProperty,JC=(e,t,n)=>t in e?GC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QC=(e,t,n)=>(JC(e,t+"",n),n),Mw=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},tr=(e,t,n)=>(Mw(e,t,"read from private field"),n?n.call(e):t.get(e)),Lf=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},by=(e,t,n,r)=>(Mw(e,t,"write to private field"),t.set(e,n),n),Tr,Ea,_a;let Dw=class{constructor(t){Lf(this,Tr,{}),Lf(this,Ea,new Ow(()=>new Set)),Lf(this,_a,new Set),QC(this,"disposables",On()),by(this,Tr,t),Or.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return tr(this,Tr)}subscribe(t,n){if(Or.isServer)return()=>{};let r={selector:t,callback:n,current:t(tr(this,Tr))};return tr(this,_a).add(r),this.disposables.add(()=>{tr(this,_a).delete(r)})}on(t,n){return Or.isServer?()=>{}:(tr(this,Ea).get(t).add(n),this.disposables.add(()=>{tr(this,Ea).get(t).delete(n)}))}send(t){let n=this.reduce(tr(this,Tr),t);if(n!==tr(this,Tr)){by(this,Tr,n);for(let r of tr(this,_a)){let i=r.selector(tr(this,Tr));Lw(r.current,i)||(r.current=i,r.callback(i))}for(let r of tr(this,Ea).get(t.type))r(tr(this,Tr),t)}}};Tr=new WeakMap,Ea=new WeakMap,_a=new WeakMap;function Lw(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:$f(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:$f(e.entries(),t.entries()):ky(e)&&ky(t)?$f(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function $f(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function ky(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function Sy(e){let[t,n]=e(),r=On();return(...i)=>{t(...i),r.dispose(),r.microTask(n)}}var XC=Object.defineProperty,ZC=(e,t,n)=>t in e?XC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ey=(e,t,n)=>(ZC(e,typeof t!="symbol"?t+"":t,n),n),$w=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))($w||{});let ej={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let o=e.stack.slice();return o.splice(i,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},tj=class Fw extends Dw{constructor(){super(...arguments),Ey(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Ey(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Fw({stack:[]})}reduce(t,n){return wr(n.type,ej,t,n)}};const Ec=new Ow(()=>tj.new());var Ff={exports:{}},zf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function nj(){if(_y)return zf;_y=1;var e=vc();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return zf.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var y=i(null);if(y.current===null){var E={hasValue:!1,value:null};y.current=E}else E=y.current;y=l(function(){function S(A){if(!C){if(C=!0,_=A,A=p(A),v!==void 0&&E.hasValue){var R=E.value;if(v(R,A))return j=R}return j=A}if(R=j,n(_,A))return R;var L=p(A);return v!==void 0&&v(R,L)?(_=A,R):(_=A,j=L)}var C=!1,_,j,M=h===void 0?null:h;return[function(){return S(f())},M===null?void 0:function(){return S(M())}]},[f,h,p,v]);var w=r(c,y[0],y[1]);return o(function(){E.hasValue=!0,E.value=w},[w]),u(w),w},zf}var Cy;function rj(){return Cy||(Cy=1,Ff.exports=nj()),Ff.exports}var ij=rj();function ir(e,t,n=Lw){return ij.useSyncExternalStoreWithSelector(Fe(r=>e.subscribe(sj,r)),Fe(()=>e.state),Fe(()=>e.state),Fe(t),n)}function sj(e){return e}function tl(e,t){let n=k.useId(),r=Ec.get(t),[i,o]=ir(r,k.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return vt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?i:!0:!1}let $h=new Map,Pa=new Map;function jy(e){var t;let n=(t=Pa.get(e))!=null?t:0;return Pa.set(e,n+1),n!==0?()=>Ny(e):($h.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Ny(e))}function Ny(e){var t;let n=(t=Pa.get(e))!=null?t:1;if(n===1?Pa.delete(e):Pa.set(e,n-1),n!==1)return;let r=$h.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,$h.delete(e))}function zw(e,{allowed:t,disallowed:n}={}){let r=tl(e,"inert-others");vt(()=>{var i,o;if(!r)return;let l=On();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&l.add(jy(c));let u=(o=t==null?void 0:t())!=null?o:[];for(let c of u){if(!c)continue;let f=ws(c);if(!f)continue;let h=c.parentElement;for(;h&&h!==f.body;){for(let p of h.children)u.some(v=>p.contains(v))||l.add(jy(p));h=h.parentElement}}return l.dispose},[r,t,n])}function Bw(e,t,n){let r=ks(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});k.useEffect(()=>{if(!e)return;let i=t===null?null:Yn(t)?t:t.current;if(!i)return;let o=On();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[t,r,e])}let Qu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),oj=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var yr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(yr||{}),Fh=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Fh||{}),aj=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(aj||{});function Uw(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Qu)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function lj(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(oj)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Op=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Op||{});function Mp(e,t=0){var n;return e===((n=ws(e))==null?void 0:n.body)?!1:wr(t,{0(){return e.matches(Qu)},1(){let r=e;for(;r!==null;){if(r.matches(Qu))return!0;r=r.parentElement}return!1}})}function Ww(e){On().nextFrame(()=>{let t=Pp(e);t&&Ar(t)&&!Mp(t,0)&&Mr(e)})}var uj=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(uj||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Mr(e){e==null||e.focus({preventScroll:!0})}let cj=["textarea","input"].join(",");function dj(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,cj))!=null?n:!1}function Hw(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fj(e,t,n=e===null?document.body:Gu(e)){return go(Uw(n),t,{relativeTo:e})}function go(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?Gu(e[0]):document:Gu(e),l=Array.isArray(e)?n?Hw(e):e:t&64?lj(e):Uw(e);i.length>0&&l.length>1&&(l=l.filter(y=>!i.some(E=>E!=null&&"current"in E?(E==null?void 0:E.current)===y:E===y))),r=r??(o==null?void 0:o.activeElement);let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,p=l.length,v;do{if(h>=p||h+p<=0)return 0;let y=c+h;if(t&16)y=(y+p)%p;else{if(y<0)return 3;if(y>=p)return 1}v=l[y],v==null||v.focus(f),h+=u}while(v!==Pp(v));return t&6&&dj(v)&&v.select(),2}function Vw(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function hj(){return/Android/gi.test(window.navigator.userAgent)}function Ty(){return Vw()||hj()}function po(e,t,n,r){let i=ks(n);k.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function qw(e,t,n,r){let i=ks(n);k.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Iy=30;function Yw(e,t,n){let r=ks(n),i=k.useCallback(function(u,c){if(u.defaultPrevented)return;let f=c(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=(function p(v){return typeof v=="function"?p(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let p of h)if(p!==null&&(p.contains(f)||u.composed&&u.composedPath().includes(p)))return;return!Mp(f,Op.Loose)&&f.tabIndex!==-1&&u.preventDefault(),r.current(u,f)},[r,t]),o=k.useRef(null);po(e,"pointerdown",u=>{var c,f;Ty()||(o.current=((f=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:f[0])||u.target)},!0),po(e,"pointerup",u=>{if(Ty()||!o.current)return;let c=o.current;return o.current=null,i(u,()=>c)},!0);let l=k.useRef({x:0,y:0});po(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),po(e,"touchend",u=>{let c={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(c.x-l.current.x)>=Iy||Math.abs(c.y-l.current.y)>=Iy))return i(u,()=>Ar(u.target)?u.target:null)},!0),qw(e,"blur",u=>i(u,()=>RC(window.document.activeElement)?window.document.activeElement:null),!0)}function Wa(...e){return k.useMemo(()=>ws(...e),[...e])}var pj=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(pj||{});const bu={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},mj=200,Py=5;function gj(e,{trigger:t,action:n,close:r,select:i}){let o=k.useRef(null),l=k.useRef(null),u=k.useRef(null);po(e&&t!==null,"pointerdown",c=>{Cw(c==null?void 0:c.target)&&t!=null&&t.contains(c.target)&&(l.current=c.x,u.current=c.y,o.current=c.timeStamp)}),po(e&&t!==null,"pointerup",c=>{var f,h;let p=o.current;if(p===null||(o.current=null,!Ar(c.target))||Math.abs(c.x-((f=l.current)!=null?f:c.x))<Py&&Math.abs(c.y-((h=u.current)!=null?h:c.y))<Py)return;let v=n(c);switch(v.kind){case 0:return;case 1:{c.timeStamp-p>mj&&(i(v.target),r());break}case 2:{r();break}}},{capture:!0})}function Kw(e,t,n,r){let i=ks(n);k.useEffect(()=>{e=e??window;function o(l){i.current(l)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function vj(e,t){return k.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function yj(e){return k.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function xj(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=t[i].call(n,...o);l&&(n=l,r.forEach(u=>u()))}}}function wj(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function bj(){return Vw()?{before({doc:e,d:t,meta:n}){function r(i){for(let o of n().containers)for(let l of o())if(l.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=On();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Ar(u.target))try{let c=u.target.closest("a");if(!c)return;let{hash:f}=new URL(c.href),h=e.querySelector(f);Ar(h)&&!r(h)&&(l=h)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",c=>{if(u.dispose(),Ar(c.target)&&PC(c.target))if(r(c.target)){let f=c.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Ar(u.target)){if(jw(u.target))return;if(r(u.target)){let c=u.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let c=(u=window.scrollY)!=null?u:window.pageYOffset;o!==c&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function kj(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ry(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let fs=xj(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:On(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Ry(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Ry(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[bj(),wj(),kj()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});fs.subscribe(()=>{let e=fs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&fs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&fs.dispatch("TEARDOWN",n)}});function Sj(e,t,n=()=>({containers:[]})){let r=yj(fs),i=t?r.get(t):void 0,o=i?i.count>0:!1;return vt(()=>{if(!(!t||!e))return fs.dispatch("PUSH",t,n),()=>fs.dispatch("POP",t,n)},[e,t]),o}function Gw(e,t,n=()=>[document.body]){let r=tl(e,"scroll-lock");Sj(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function Ay(e){return[e.screenX,e.screenY]}function Ej(){let e=k.useRef([-1,-1]);return{wasMoved(t){let n=Ay(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Ay(t)}}}function _j(e=0){let[t,n]=k.useState(e),r=k.useCallback(c=>n(c),[]),i=k.useCallback(c=>n(f=>f|c),[]),o=k.useCallback(c=>(t&c)===c,[t]),l=k.useCallback(c=>n(f=>f&~c),[]),u=k.useCallback(c=>n(f=>f^c),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:u}}var Cj={},Oy,My;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Oy=process==null?void 0:Cj)==null?void 0:Oy.NODE_ENV)==="test"&&typeof((My=Element==null?void 0:Element.prototype)==null?void 0:My.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var jj=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(jj||{});function Jw(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Qw(e,t,n,r){let[i,o]=k.useState(n),{hasFlag:l,addFlag:u,removeFlag:c}=_j(e&&i?3:0),f=k.useRef(!1),h=k.useRef(!1),p=bs();return vt(()=>{var v;if(e){if(n&&o(!0),!t){n&&u(3);return}return(v=r==null?void 0:r.start)==null||v.call(r,n),Nj(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(u(3),c(4)):(u(4),c(2)))},run(){h.current?n?(c(3),u(4)):(c(4),u(3)):n?c(1):u(1)},done(){var y;h.current&&Pj(t)||(f.current=!1,c(7),n||o(!1),(y=r==null?void 0:r.end)==null||y.call(r,n))}})}},[e,n,t,p]),e?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Nj(e,{prepare:t,run:n,done:r,inFlight:i}){let o=On();return Ij(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(Tj(e,r))})}),o.dispose}function Tj(e,t){var n,r;let i=On();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),i.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{o||t()}),i.dispose)}function Ij(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Pj(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Rj(e,{container:t,accept:n,walk:r}){let i=k.useRef(n),o=k.useRef(r);k.useEffect(()=>{i.current=n,o.current=r},[n,r]),vt(()=>{if(!t||!e)return;let l=ws(t);if(!l)return;let u=i.current,c=o.current,f=Object.assign(p=>u(p),{acceptNode:u}),h=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;h.nextNode();)c(h.currentNode)},[t,e,i,o])}function Dp(e,t){let n=k.useRef([]),r=Fe(e);k.useEffect(()=>{let i=[...n.current];for(let[o,l]of t.entries())if(n.current[o]!==l){let u=r(t,i);return n.current=t,u}},[r,...t])}function _c(){return typeof window<"u"}function Io(e){return Xw(e)?(e.nodeName||"").toLowerCase():"#document"}function Vn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zr(e){var t;return(t=(Xw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Xw(e){return _c()?e instanceof Node||e instanceof Vn(e).Node:!1}function yn(e){return _c()?e instanceof Element||e instanceof Vn(e).Element:!1}function Lr(e){return _c()?e instanceof HTMLElement||e instanceof Vn(e).HTMLElement:!1}function Dy(e){return!_c()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vn(e).ShadowRoot}const Aj=new Set(["inline","contents"]);function nl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=br(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Aj.has(i)}const Oj=new Set(["table","td","th"]);function Mj(e){return Oj.has(Io(e))}const Dj=[":popover-open",":modal"];function Cc(e){return Dj.some(t=>{try{return e.matches(t)}catch{return!1}})}const Lj=["transform","translate","scale","rotate","perspective"],$j=["transform","translate","scale","rotate","perspective","filter"],Fj=["paint","layout","strict","content"];function Lp(e){const t=$p(),n=yn(e)?br(e):e;return Lj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||$j.some(r=>(n.willChange||"").includes(r))||Fj.some(r=>(n.contain||"").includes(r))}function zj(e){let t=Mi(e);for(;Lr(t)&&!Eo(t);){if(Lp(t))return t;if(Cc(t))return null;t=Mi(t)}return null}function $p(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Bj=new Set(["html","body","#document"]);function Eo(e){return Bj.has(Io(e))}function br(e){return Vn(e).getComputedStyle(e)}function jc(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mi(e){if(Io(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dy(e)&&e.host||zr(e);return Dy(t)?t.host:t}function Zw(e){const t=Mi(e);return Eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lr(t)&&nl(t)?t:Zw(t)}function Ha(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Zw(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=Vn(i);if(o){const u=zh(l);return t.concat(l,l.visualViewport||[],nl(i)?i:[],u&&n?Ha(u):[])}return t.concat(i,Ha(i,[],n))}function zh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Uj(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const ms=Math.min,cn=Math.max,Va=Math.round,ku=Math.floor,Dr=e=>({x:e,y:e}),Wj={left:"right",right:"left",bottom:"top",top:"bottom"},Hj={start:"end",end:"start"};function Ly(e,t,n){return cn(e,ms(t,n))}function Po(e,t){return typeof e=="function"?e(t):e}function Di(e){return e.split("-")[0]}function rl(e){return e.split("-")[1]}function eb(e){return e==="x"?"y":"x"}function tb(e){return e==="y"?"height":"width"}const Vj=new Set(["top","bottom"]);function Zr(e){return Vj.has(Di(e))?"y":"x"}function nb(e){return eb(Zr(e))}function qj(e,t,n){n===void 0&&(n=!1);const r=rl(e),i=nb(e),o=tb(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Xu(l)),[l,Xu(l)]}function Yj(e){const t=Xu(e);return[Bh(e),t,Bh(t)]}function Bh(e){return e.replace(/start|end/g,t=>Hj[t])}const $y=["left","right"],Fy=["right","left"],Kj=["top","bottom"],Gj=["bottom","top"];function Jj(e,t,n){switch(e){case"top":case"bottom":return n?t?Fy:$y:t?$y:Fy;case"left":case"right":return t?Kj:Gj;default:return[]}}function Qj(e,t,n,r){const i=rl(e);let o=Jj(Di(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(Bh)))),o}function Xu(e){return e.replace(/left|right|bottom|top/g,t=>Wj[t])}function Xj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zj(e){return typeof e!="number"?Xj(e):{top:e,right:e,bottom:e,left:e}}function Zu(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function zy(e,t,n){let{reference:r,floating:i}=e;const o=Zr(t),l=nb(t),u=tb(l),c=Di(t),f=o==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[u]/2-i[u]/2;let y;switch(c){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(rl(t)){case"start":y[l]-=v*(n&&f?-1:1);break;case"end":y[l]+=v*(n&&f?-1:1);break}return y}const eN=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=zy(f,r,c),v=r,y={},E=0;for(let w=0;w<u.length;w++){const{name:S,fn:C}=u[w],{x:_,y:j,data:M,reset:A}=await C({x:h,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:f,platform:l,elements:{reference:e,floating:t}});h=_??h,p=j??p,y={...y,[S]:{...y[S],...M}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(v=A.placement),A.rects&&(f=A.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:h,y:p}=zy(f,v,c)),w=-1)}return{x:h,y:p,placement:v,strategy:i,middlewareData:y}};async function Nc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:u,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=Po(t,e),E=Zj(y),S=u[v?p==="floating"?"reference":"floating":p],C=Zu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:c})),_=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),M=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},A=Zu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:_,offsetParent:j,strategy:c}):_);return{top:(C.top-A.top+E.top)/M.y,bottom:(A.bottom-C.bottom+E.bottom)/M.y,left:(C.left-A.left+E.left)/M.x,right:(A.right-C.right+E.right)/M.x}}const tN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:c,elements:f}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...S}=Po(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=Di(i),_=Zr(u),j=Di(u)===u,M=await(c.isRTL==null?void 0:c.isRTL(f.floating)),A=v||(j||!w?[Xu(u)]:Yj(u)),R=E!=="none";!v&&R&&A.push(...Qj(u,w,E,M));const L=[u,...A],Z=await Nc(t,S),Q=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&Q.push(Z[C]),p){const B=qj(i,l,M);Q.push(Z[B[0]],Z[B[1]])}if(O=[...O,{placement:i,overflows:Q}],!Q.every(B=>B<=0)){var N,Y;const B=(((N=o.flip)==null?void 0:N.index)||0)+1,F=L[B];if(F&&(!(p==="alignment"?_!==Zr(F):!1)||O.every(D=>Zr(D.placement)===_?D.overflows[0]>0:!0)))return{data:{index:B,overflows:O},reset:{placement:F}};let J=(Y=O.filter(X=>X.overflows[0]<=0).sort((X,D)=>X.overflows[1]-D.overflows[1])[0])==null?void 0:Y.placement;if(!J)switch(y){case"bestFit":{var H;const X=(H=O.filter(D=>{if(R){const V=Zr(D.placement);return V===_||V==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(V=>V>0).reduce((V,P)=>V+P,0)]).sort((D,V)=>D[1]-V[1])[0])==null?void 0:H[0];X&&(J=X);break}case"initialPlacement":J=u;break}if(i!==J)return{reset:{placement:J}}}return{}}}},nN=new Set(["left","top"]);async function rN(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Di(n),u=rl(n),c=Zr(n)==="y",f=nN.has(l)?-1:1,h=o&&c?-1:1,p=Po(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof E=="number"&&(y=u==="end"?E*-1:E),c?{x:y*h,y:v*f}:{x:v*f,y:y*h}}const iN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:u}=t,c=await rN(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:l}}}}},sN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:S=>{let{x:C,y:_}=S;return{x:C,y:_}}},...c}=Po(e,t),f={x:n,y:r},h=await Nc(t,c),p=Zr(Di(i)),v=eb(p);let y=f[v],E=f[p];if(o){const S=v==="y"?"top":"left",C=v==="y"?"bottom":"right",_=y+h[S],j=y-h[C];y=Ly(_,y,j)}if(l){const S=p==="y"?"top":"left",C=p==="y"?"bottom":"right",_=E+h[S],j=E-h[C];E=Ly(_,E,j)}const w=u.fn({...t,[v]:y,[p]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[v]:o,[p]:l}}}}}},oN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:c=()=>{},...f}=Po(e,t),h=await Nc(t,f),p=Di(i),v=rl(i),y=Zr(i)==="y",{width:E,height:w}=o.floating;let S,C;p==="top"||p==="bottom"?(S=p,C=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(C=p,S=v==="end"?"top":"bottom");const _=w-h.top-h.bottom,j=E-h.left-h.right,M=ms(w-h[S],_),A=ms(E-h[C],j),R=!t.middlewareData.shift;let L=M,Z=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Z=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(L=_),R&&!v){const O=cn(h.left,0),N=cn(h.right,0),Y=cn(h.top,0),H=cn(h.bottom,0);y?Z=E-2*(O!==0||N!==0?O+N:cn(h.left,h.right)):L=w-2*(Y!==0||H!==0?Y+H:cn(h.top,h.bottom))}await c({...t,availableWidth:Z,availableHeight:L});const Q=await l.getDimensions(u.floating);return E!==Q.width||w!==Q.height?{reset:{rects:!0}}:{}}}};function rb(e){const t=br(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Lr(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=Va(n)!==o||Va(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function Fp(e){return yn(e)?e:e.contextElement}function vo(e){const t=Fp(e);if(!Lr(t))return Dr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=rb(t);let l=(o?Va(n.width):n.width)/r,u=(o?Va(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const aN=Dr(0);function ib(e){const t=Vn(e);return!$p()||!t.visualViewport?aN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vn(e)?!1:t}function gs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Fp(e);let l=Dr(1);t&&(r?yn(r)&&(l=vo(r)):l=vo(e));const u=lN(o,n,r)?ib(o):Dr(0);let c=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,h=i.width/l.x,p=i.height/l.y;if(o){const v=Vn(o),y=r&&yn(r)?Vn(r):r;let E=v,w=zh(E);for(;w&&r&&y!==E;){const S=vo(w),C=w.getBoundingClientRect(),_=br(w),j=C.left+(w.clientLeft+parseFloat(_.paddingLeft))*S.x,M=C.top+(w.clientTop+parseFloat(_.paddingTop))*S.y;c*=S.x,f*=S.y,h*=S.x,p*=S.y,c+=j,f+=M,E=Vn(w),w=zh(E)}}return Zu({width:h,height:p,x:c,y:f})}function Tc(e,t){const n=jc(e).scrollLeft;return t?t.left+n:gs(zr(e)).left+n}function sb(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Tc(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function uN(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=zr(r),u=t?Cc(t.floating):!1;if(r===l||u&&o)return n;let c={scrollLeft:0,scrollTop:0},f=Dr(1);const h=Dr(0),p=Lr(r);if((p||!p&&!o)&&((Io(r)!=="body"||nl(l))&&(c=jc(r)),Lr(r))){const y=gs(r);f=vo(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const v=l&&!p&&!o?sb(l,c):Dr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+h.x+v.x,y:n.y*f.y-c.scrollTop*f.y+h.y+v.y}}function cN(e){return Array.from(e.getClientRects())}function dN(e){const t=zr(e),n=jc(e),r=e.ownerDocument.body,i=cn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=cn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Tc(e);const u=-n.scrollTop;return br(r).direction==="rtl"&&(l+=cn(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:u}}const By=25;function fN(e,t){const n=Vn(e),r=zr(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,c=0;if(i){o=i.width,l=i.height;const h=$p();(!h||h&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}const f=Tc(r);if(f<=0){const h=r.ownerDocument,p=h.body,v=getComputedStyle(p),y=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,E=Math.abs(r.clientWidth-p.clientWidth-y);E<=By&&(o-=E)}else f<=By&&(o+=f);return{width:o,height:l,x:u,y:c}}const hN=new Set(["absolute","fixed"]);function pN(e,t){const n=gs(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Lr(e)?vo(e):Dr(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:l,height:u,x:c,y:f}}function Uy(e,t,n){let r;if(t==="viewport")r=fN(e,n);else if(t==="document")r=dN(zr(e));else if(yn(t))r=pN(t,n);else{const i=ib(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Zu(r)}function ob(e,t){const n=Mi(e);return n===t||!yn(n)||Eo(n)?!1:br(n).position==="fixed"||ob(n,t)}function mN(e,t){const n=t.get(e);if(n)return n;let r=Ha(e,[],!1).filter(u=>yn(u)&&Io(u)!=="body"),i=null;const o=br(e).position==="fixed";let l=o?Mi(e):e;for(;yn(l)&&!Eo(l);){const u=br(l),c=Lp(l);!c&&u.position==="fixed"&&(i=null),(o?!c&&!i:!c&&u.position==="static"&&!!i&&hN.has(i.position)||nl(l)&&!c&&ob(e,l))?r=r.filter(h=>h!==l):i=u,l=Mi(l)}return t.set(e,r),r}function gN(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?Cc(t)?[]:mN(t,this._c):[].concat(n),r],u=l[0],c=l.reduce((f,h)=>{const p=Uy(t,h,i);return f.top=cn(p.top,f.top),f.right=ms(p.right,f.right),f.bottom=ms(p.bottom,f.bottom),f.left=cn(p.left,f.left),f},Uy(t,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function vN(e){const{width:t,height:n}=rb(e);return{width:t,height:n}}function yN(e,t,n){const r=Lr(t),i=zr(t),o=n==="fixed",l=gs(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const c=Dr(0);function f(){c.x=Tc(i)}if(r||!r&&!o)if((Io(t)!=="body"||nl(i))&&(u=jc(t)),r){const y=gs(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else i&&f();o&&!r&&i&&f();const h=i&&!r&&!o?sb(i,u):Dr(0),p=l.left+u.scrollLeft-c.x-h.x,v=l.top+u.scrollTop-c.y-h.y;return{x:p,y:v,width:l.width,height:l.height}}function Bf(e){return br(e).position==="static"}function Wy(e,t){if(!Lr(e)||br(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return zr(e)===n&&(n=n.ownerDocument.body),n}function ab(e,t){const n=Vn(e);if(Cc(e))return n;if(!Lr(e)){let i=Mi(e);for(;i&&!Eo(i);){if(yn(i)&&!Bf(i))return i;i=Mi(i)}return n}let r=Wy(e,t);for(;r&&Mj(r)&&Bf(r);)r=Wy(r,t);return r&&Eo(r)&&Bf(r)&&!Lp(r)?n:r||zj(e)||n}const xN=async function(e){const t=this.getOffsetParent||ab,n=this.getDimensions,r=await n(e.floating);return{reference:yN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wN(e){return br(e).direction==="rtl"}const bN={convertOffsetParentRelativeRectToViewportRelativeRect:uN,getDocumentElement:zr,getClippingRect:gN,getOffsetParent:ab,getElementRects:xN,getClientRects:cN,getDimensions:vN,getScale:vo,isElement:yn,isRTL:wN};function lb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kN(e,t){let n=null,r;const i=zr(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const f=e.getBoundingClientRect(),{left:h,top:p,width:v,height:y}=f;if(u||t(),!v||!y)return;const E=ku(p),w=ku(i.clientWidth-(h+v)),S=ku(i.clientHeight-(p+y)),C=ku(h),j={rootMargin:-E+"px "+-w+"px "+-S+"px "+-C+"px",threshold:cn(0,ms(1,c))||1};let M=!0;function A(R){const L=R[0].intersectionRatio;if(L!==c){if(!M)return l();L?l(!1,L):r=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!lb(f,e.getBoundingClientRect())&&l(),M=!1}try{n=new IntersectionObserver(A,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,j)}n.observe(e)}return l(!0),o}function SN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Fp(e),h=i||o?[...f?Ha(f):[],...Ha(t)]:[];h.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const p=f&&u?kN(f,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(C=>{let[_]=C;_&&_.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(t)})),n()}),f&&!c&&y.observe(f),y.observe(t));let E,w=c?gs(e):null;c&&S();function S(){const C=gs(e);w&&!lb(w,C)&&n(),w=C,E=requestAnimationFrame(S)}return n(),()=>{var C;h.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),p==null||p(),(C=y)==null||C.disconnect(),y=null,c&&cancelAnimationFrame(E)}}const Uf=Nc,EN=iN,_N=sN,CN=tN,jN=oN,NN=(e,t,n)=>{const r=new Map,i={platform:bN,...n},o={...i.platform,_c:r};return eN(e,t,{...i,platform:o})};var TN=typeof document<"u",IN=function(){},Du=TN?k.useLayoutEffect:IN;function ec(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ec(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ec(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ub(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hy(e,t){const n=ub(e);return Math.round(t*n)/n}function Wf(e){const t=k.useRef(e);return Du(()=>{t.current=e}),t}function PN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:c,open:f}=e,[h,p]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=k.useState(r);ec(v,r)||y(r);const[E,w]=k.useState(null),[S,C]=k.useState(null),_=k.useCallback(D=>{D!==R.current&&(R.current=D,w(D))},[]),j=k.useCallback(D=>{D!==L.current&&(L.current=D,C(D))},[]),M=o||E,A=l||S,R=k.useRef(null),L=k.useRef(null),Z=k.useRef(h),Q=c!=null,O=Wf(c),N=Wf(i),Y=Wf(f),H=k.useCallback(()=>{if(!R.current||!L.current)return;const D={placement:t,strategy:n,middleware:v};N.current&&(D.platform=N.current),NN(R.current,L.current,D).then(V=>{const P={...V,isPositioned:Y.current!==!1};B.current&&!ec(Z.current,P)&&(Z.current=P,Hn.flushSync(()=>{p(P)}))})},[v,t,n,N,Y]);Du(()=>{f===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,p(D=>({...D,isPositioned:!1})))},[f]);const B=k.useRef(!1);Du(()=>(B.current=!0,()=>{B.current=!1}),[]),Du(()=>{if(M&&(R.current=M),A&&(L.current=A),M&&A){if(O.current)return O.current(M,A,H);H()}},[M,A,H,O,Q]);const F=k.useMemo(()=>({reference:R,floating:L,setReference:_,setFloating:j}),[_,j]),J=k.useMemo(()=>({reference:M,floating:A}),[M,A]),X=k.useMemo(()=>{const D={position:n,left:0,top:0};if(!J.floating)return D;const V=Hy(J.floating,h.x),P=Hy(J.floating,h.y);return u?{...D,transform:"translate("+V+"px, "+P+"px)",...ub(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:P}},[n,u,J.floating,h.x,h.y]);return k.useMemo(()=>({...h,update:H,refs:F,elements:J,floatingStyles:X}),[h,H,F,J,X])}const cb=(e,t)=>({...EN(e),options:[e,t]}),RN=(e,t)=>({..._N(e),options:[e,t]}),AN=(e,t)=>({...CN(e),options:[e,t]}),ON=(e,t)=>({...jN(e),options:[e,t]}),db={...Vu},MN=db.useInsertionEffect,DN=MN||(e=>e());function fb(e){const t=k.useRef(()=>{});return DN(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Uh=typeof document<"u"?k.useLayoutEffect:k.useEffect;let Vy=!1,LN=0;const qy=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+LN++;function $N(){const[e,t]=k.useState(()=>Vy?qy():void 0);return Uh(()=>{e==null&&t(qy())},[]),k.useEffect(()=>{Vy=!0},[]),e}const FN=db.useId,zN=FN||$N;function BN(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const UN=k.createContext(null),WN=k.createContext(null),HN=()=>{var e;return((e=k.useContext(UN))==null?void 0:e.id)||null},VN=()=>k.useContext(WN),qN="data-floating-ui-focusable";function YN(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=zN(),o=k.useRef({}),[l]=k.useState(()=>BN()),u=HN()!=null,[c,f]=k.useState(r.reference),h=fb((y,E,w)=>{o.current.openEvent=y?E:void 0,l.emit("openchange",{open:y,event:E,reason:w,nested:u}),n==null||n(y,E,w)}),p=k.useMemo(()=>({setPositionReference:f}),[]),v=k.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return k.useMemo(()=>({dataRef:o,open:t,onOpenChange:h,elements:v,events:l,floatingId:i,refs:p}),[t,h,v,l,i,p])}function KN(e){e===void 0&&(e={});const{nodeId:t}=e,n=YN({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,l]=k.useState(null),[u,c]=k.useState(null),h=(i==null?void 0:i.domReference)||o,p=k.useRef(null),v=VN();Uh(()=>{h&&(p.current=h)},[h]);const y=PN({...e,elements:{...i,...u&&{reference:u}}}),E=k.useCallback(j=>{const M=yn(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),contextElement:j}:j;c(M),y.refs.setReference(M)},[y.refs]),w=k.useCallback(j=>{(yn(j)||j===null)&&(p.current=j,l(j)),(yn(y.refs.reference.current)||y.refs.reference.current===null||j!==null&&!yn(j))&&y.refs.setReference(j)},[y.refs]),S=k.useMemo(()=>({...y.refs,setReference:w,setPositionReference:E,domReference:p}),[y.refs,w,E]),C=k.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),_=k.useMemo(()=>({...y,...r,refs:S,elements:C,nodeId:t}),[y,S,C,t,r]);return Uh(()=>{r.dataRef.current.floatingContext=_;const j=v==null?void 0:v.nodesRef.current.find(M=>M.id===t);j&&(j.context=_)}),k.useMemo(()=>({...y,context:_,refs:S,elements:C}),[y,S,C,_])}const Yy="active",Ky="selected";function Hf(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Yy]:l,[Ky]:u,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1,[qN]:""},...o,...t.map(l=>{const u=l?l[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((l,u)=>(u&&Object.entries(u).forEach(c=>{let[f,h]=c;if(!(i&&[Yy,Ky].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof h=="function"){var p;(p=r.get(f))==null||p.push(h),l[f]=function(){for(var v,y=arguments.length,E=new Array(y),w=0;w<y;w++)E[w]=arguments[w];return(v=r.get(f))==null?void 0:v.map(S=>S(...E)).find(S=>S!==void 0)}}}else l[f]=h}),l),{})}}function GN(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),n=e.map(u=>u==null?void 0:u.floating),r=e.map(u=>u==null?void 0:u.item),i=k.useCallback(u=>Hf(u,e,"reference"),t),o=k.useCallback(u=>Hf(u,e,"floating"),n),l=k.useCallback(u=>Hf(u,e,"item"),r);return k.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}function Gy(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const JN=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:l=0,minItemsVisible:u=4,referenceOverflowThreshold:c=0,scrollRef:f,...h}=Po(e,t),{rects:p,elements:{floating:v}}=t,y=n.current[l],E=(f==null?void 0:f.current)||v,w=v.clientTop||E.clientTop,S=v.clientTop!==0,C=E.clientTop!==0,_=v===E;if(!y)return{};const j={...t,...await cb(-y.offsetTop-v.clientTop-p.reference.height/2-y.offsetHeight/2-o).fn(t)},M=await Uf(Gy(j,E.scrollHeight+w+v.clientTop),h),A=await Uf(j,{...h,elementContext:"reference"}),R=cn(0,M.top),L=j.y+R,O=(E.scrollHeight>E.clientHeight?N=>N:Va)(cn(0,E.scrollHeight+(S&&_||C?w*2:0)-R-cn(0,M.bottom)));if(E.style.maxHeight=O+"px",E.scrollTop=R,i){const N=E.offsetHeight<y.offsetHeight*ms(u,n.current.length)-1||A.top>=-c||A.bottom>=-c;Hn.flushSync(()=>i(N))}return r&&(r.current=await Uf(Gy({...j,y:L},E.offsetHeight+w+v.clientTop),h)),{y:L}}});function QN(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:l,onChange:u}=t,c=fb(u),f=k.useRef(!1),h=k.useRef(null),p=k.useRef(null);k.useEffect(()=>{if(!i)return;function y(w){if(w.ctrlKey||!E||o.current==null)return;const S=w.deltaY,C=o.current.top>=-.5,_=o.current.bottom>=-.5,j=E.scrollHeight-E.clientHeight,M=S<0?-1:1,A=S<0?"max":"min";E.scrollHeight<=E.clientHeight||(!C&&S>0||!_&&S<0?(w.preventDefault(),Hn.flushSync(()=>{c(R=>R+Math[A](S,j*M))})):/firefox/i.test(Uj())&&(E.scrollTop+=S))}const E=(l==null?void 0:l.current)||r.floating;if(n&&E)return E.addEventListener("wheel",y),requestAnimationFrame(()=>{h.current=E.scrollTop,o.current!=null&&(p.current={...o.current})}),()=>{h.current=null,p.current=null,E.removeEventListener("wheel",y)}},[i,n,r.floating,o,l,c]);const v=k.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const y=(l==null?void 0:l.current)||r.floating;if(!(!o.current||!y||!f.current)){if(h.current!==null){const E=y.scrollTop-h.current;(o.current.bottom<-.5&&E<-1||o.current.top<-.5&&E>1)&&Hn.flushSync(()=>c(w=>w+E))}requestAnimationFrame(()=>{h.current=y.scrollTop})}}}),[r.floating,c,o,l]);return k.useMemo(()=>i?{floating:v}:{},[i,v])}let Ro=k.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ro.displayName="FloatingContext";let zp=k.createContext(null);zp.displayName="PlacementContext";function XN(e){return k.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function ZN(){return k.useContext(Ro).setReference}function eT(){return k.useContext(Ro).getReferenceProps}function tT(){let{getFloatingProps:e,slot:t}=k.useContext(Ro);return k.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function nT(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=k.useContext(zp),n=k.useMemo(()=>e,[JSON.stringify(e,(i,o)=>{var l;return(l=o==null?void 0:o.outerHTML)!=null?l:o})]);vt(()=>{t==null||t(n??null)},[t,n]);let r=k.useContext(Ro);return k.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Jy=4;function rT({children:e,enabled:t=!0}){let[n,r]=k.useState(null),[i,o]=k.useState(0),l=k.useRef(null),[u,c]=k.useState(null);iT(u);let f=t&&n!==null&&u!==null,{to:h="bottom",gap:p=0,offset:v=0,padding:y=0,inner:E}=sT(n,u),[w,S="center"]=h.split(" ");vt(()=>{f&&o(0)},[f]);let{refs:C,floatingStyles:_,context:j}=KN({open:f,placement:w==="selection"?S==="center"?"bottom":`bottom-${S}`:S==="center"?`${w}`:`${w}-${S}`,strategy:"absolute",transform:!1,middleware:[cb({mainAxis:w==="selection"?0:p,crossAxis:v}),RN({padding:y}),w!=="selection"&&AN({padding:y}),w==="selection"&&E?JN({...E,padding:y,overflowRef:l,offset:i,minItemsVisible:Jy,referenceOverflowThreshold:y,onFallbackChange(N){var Y,H;if(!N)return;let B=j.elements.floating;if(!B)return;let F=parseFloat(getComputedStyle(B).scrollPaddingBottom)||0,J=Math.min(Jy,B.childElementCount),X=0,D=0;for(let V of(H=(Y=j.elements.floating)==null?void 0:Y.childNodes)!=null?H:[])if(Yn(V)){let P=V.offsetTop,$=P+V.clientHeight+F,G=B.scrollTop,T=G+B.clientHeight;if(P>=G&&$<=T)J--;else{D=Math.max(0,Math.min($,T)-Math.max(P,G)),X=V.clientHeight;break}}J>=1&&o(V=>{let P=X*J-D+F;return V>=P?V:P})}}):null,ON({padding:y,apply({availableWidth:N,availableHeight:Y,elements:H}){Object.assign(H.floating.style,{overflow:"auto",maxWidth:`${N}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Y}px)`})}})].filter(Boolean),whileElementsMounted:SN}),[M=w,A=S]=j.placement.split("-");w==="selection"&&(M="selection");let R=k.useMemo(()=>({anchor:[M,A].filter(Boolean).join(" ")}),[M,A]),L=QN(j,{overflowRef:l,onChange:o}),{getReferenceProps:Z,getFloatingProps:Q}=GN([L]),O=Fe(N=>{c(N),C.setFloating(N)});return k.createElement(zp.Provider,{value:r},k.createElement(Ro.Provider,{value:{setFloating:O,setReference:C.setReference,styles:_,getReferenceProps:Z,getFloatingProps:Q,slot:R}},e))}function iT(e){vt(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function sT(e,t){var n,r,i;let o=Vf((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=Vf((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),u=Vf((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:l,padding:u}}function Vf(e,t,n=void 0){let r=bs(),i=Fe((c,f)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!f)return[n,null];let h=Qy(c,f);return[h,p=>{let v=hb(c);{let y=v.map(E=>window.getComputedStyle(f).getPropertyValue(E));r.requestAnimationFrame(function E(){r.nextFrame(E);let w=!1;for(let[C,_]of v.entries()){let j=window.getComputedStyle(f).getPropertyValue(_);if(y[C]!==j){y[C]=j,w=!0;break}}if(!w)return;let S=Qy(c,f);h!==S&&(p(S),h=S)})}return r.dispose}]}return[n,null]}),o=k.useMemo(()=>i(e,t)[0],[e,t]),[l=o,u]=k.useState();return vt(()=>{let[c,f]=i(e,t);if(u(c),!!f)return f(u)},[e,t]),l}function hb(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...hb(i)]:[r]}return[]}function Qy(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let Ic=k.createContext(null);Ic.displayName="OpenClosedContext";var xn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(xn||{});function il(){return k.useContext(Ic)}function pb({value:e,children:t}){return Ce.createElement(Ic.Provider,{value:e},t)}function oT({children:e}){return Ce.createElement(Ic.Provider,{value:null},e)}function aT(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ii=[];aT(()=>{function e(t){if(!Ar(t.target)||t.target===document.body||Ii[0]===t.target)return;let n=t.target;n=n.closest(Qu),Ii.unshift(n??t.target),Ii=Ii.filter(r=>r!=null&&r.isConnected),Ii.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function lT(e){throw new Error("Unexpected object: "+e)}var Dt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Dt||{});function Su(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:lT(e)}}function Bp(e){let t=Fe(e),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,kc(()=>{n.current&&t()})}),[t])}let mb=k.createContext(!1);function uT(){return k.useContext(mb)}function Xy(e){return Ce.createElement(mb.Provider,{value:e.force},e.children)}function cT(e){let t=uT(),n=k.useContext(vb),[r,i]=k.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(Or.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return k.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),k.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let gb=k.Fragment,dT=Nt(function(e,t){let{ownerDocument:n=null,...r}=e,i=k.useRef(null),o=wn(DC(v=>{i.current=v}),t),l=Wa(i.current),u=n??l,c=cT(u),f=k.useContext(Wh),h=bs(),p=$t();return Bp(()=>{var v;c&&c.childNodes.length<=0&&((v=c.parentElement)==null||v.removeChild(c))}),c?Hn.createPortal(Ce.createElement("div",{"data-headlessui-portal":"",ref:v=>{h.dispose(),f&&v&&h.add(f.register(v))}},p({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:gb,name:"Portal"})),c):null});function fT(e,t){let n=wn(t),{enabled:r=!0,ownerDocument:i,...o}=e,l=$t();return r?Ce.createElement(dT,{...o,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:gb,name:"Portal"})}let hT=k.Fragment,vb=k.createContext(null);function pT(e,t){let{target:n,...r}=e,i={ref:wn(t)},o=$t();return Ce.createElement(vb.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:hT,name:"Popover.Group"}))}let Wh=k.createContext(null);function mT(){let e=k.useContext(Wh),t=k.useRef([]),n=Fe(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Fe(o=>{let l=t.current.indexOf(o);l!==-1&&t.current.splice(l,1),e&&e.unregister(o)}),i=k.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,k.useMemo(()=>function({children:o}){return Ce.createElement(Wh.Provider,{value:i},o)},[i])]}let gT=Nt(fT),yb=Nt(pT),xb=Object.assign(gT,{Group:yb});const Lu={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function wb(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function vT(e,t,n){let r=On();if(t.kind==="Tracked"){let i=function(){o!==wb(e)&&(r.dispose(),n())},{position:o}=t,l=new ResizeObserver(i);l.observe(e),r.add(()=>l.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function yT(e,t=typeof document<"u"?document.defaultView:null,n){let r=tl(e,"escape");Kw(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===Kt.Escape&&n(i))})}function xT(){var e;let[t]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((e=t==null?void 0:t.matches)!=null?e:!1);return vt(()=>{if(!t)return;function i(o){r(o.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function wT({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Fe(()=>{var i,o;let l=ws(n),u=[];for(let c of e)c!==null&&(ti(c)?u.push(c):"current"in c&&ti(c.current)&&u.push(c.current));if(t!=null&&t.current)for(let c of t.current)u.push(c);for(let c of(i=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&ti(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||u.some(f=>c.contains(f))||u.push(c));return u});return{resolveContainers:r,contains:Fe(i=>r().some(o=>o.contains(i)))}}let bb=k.createContext(null);function Zy({children:e,node:t}){let[n,r]=k.useState(null),i=kb(t??n);return Ce.createElement(bb.Provider,{value:i},e,i===null&&Ce.createElement(Lh,{features:Ju.Hidden,ref:o=>{var l,u;if(o){for(let c of(u=(l=ws(o))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(c!==document.body&&c!==document.head&&ti(c)&&c!=null&&c.contains(o)){r(c);break}}}}))}function kb(e=null){var t;return(t=k.useContext(bb))!=null?t:e}function bT(){let e=typeof document>"u";return"useSyncExternalStore"in Vu?(t=>t.useSyncExternalStore)(Vu)(()=>()=>{},()=>!1,()=>!e):!1}function Pc(){let e=bT(),[t,n]=k.useState(Or.isHandoffComplete);return t&&Or.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{t!==!0&&n(!0)},[t]),k.useEffect(()=>Or.handoff(),[]),e?!1:t}function Up(){let e=k.useRef(!1);return vt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ca=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ca||{});function kT(){let e=k.useRef(0);return qw(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Sb(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ti(n.current)&&t.add(n.current);return t}let ST="div";var ls=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ls||{});function ET(e,t){let n=k.useRef(null),r=wn(n,t),{initialFocus:i,initialFocusFallback:o,containers:l,features:u=15,...c}=e;Pc()||(u=0);let f=Wa(n.current);NT(u,{ownerDocument:f});let h=TT(u,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:o});IT(u,{ownerDocument:f,container:n,containers:l,previousActiveElement:h});let p=kT(),v=Fe(_=>{if(!Yn(n.current))return;let j=n.current;(M=>M())(()=>{wr(p.current,{[Ca.Forwards]:()=>{go(j,yr.First,{skipElements:[_.relatedTarget,o]})},[Ca.Backwards]:()=>{go(j,yr.Last,{skipElements:[_.relatedTarget,o]})}})})}),y=tl(!!(u&2),"focus-trap#tab-lock"),E=bs(),w=k.useRef(!1),S={ref:r,onKeyDown(_){_.key=="Tab"&&(w.current=!0,E.requestAnimationFrame(()=>{w.current=!1}))},onBlur(_){if(!(u&4))return;let j=Sb(l);Yn(n.current)&&j.add(n.current);let M=_.relatedTarget;Ar(M)&&M.dataset.headlessuiFocusGuard!=="true"&&(Eb(j,M)||(w.current?go(n.current,wr(p.current,{[Ca.Forwards]:()=>yr.Next,[Ca.Backwards]:()=>yr.Previous})|yr.WrapAround,{relativeTo:_.target}):Ar(_.target)&&Mr(_.target)))}},C=$t();return Ce.createElement(Ce.Fragment,null,y&&Ce.createElement(Lh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ju.Focusable}),C({ourProps:S,theirProps:c,defaultTag:ST,name:"FocusTrap"}),y&&Ce.createElement(Lh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ju.Focusable}))}let _T=Nt(ET),CT=Object.assign(_T,{features:ls});function jT(e=!0){let t=k.useRef(Ii.slice());return Dp(([n],[r])=>{r===!0&&n===!1&&kc(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Ii.slice())},[e,Ii,t]),Fe(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function NT(e,{ownerDocument:t}){let n=!!(e&8),r=jT(n);Dp(()=>{n||kw(t==null?void 0:t.body)&&Mr(r())},[n]),Bp(()=>{n&&Mr(r())})}function TT(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let o=k.useRef(null),l=tl(!!(e&1),"focus-trap#initial-focus"),u=Up();return Dp(()=>{if(e===0)return;if(!l){i!=null&&i.current&&Mr(i.current);return}let c=n.current;c&&kc(()=>{if(!u.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){o.current=f;return}}else if(c.contains(f)){o.current=f;return}if(r!=null&&r.current)Mr(r.current);else{if(e&16){if(go(c,yr.First|yr.AutoFocus)!==Fh.Error)return}else if(go(c,yr.First)!==Fh.Error)return;if(i!=null&&i.current&&(Mr(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t==null?void 0:t.activeElement})},[i,l,e]),o}function IT(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let o=Up(),l=!!(e&4);Kw(t==null?void 0:t.defaultView,"focus",u=>{if(!l||!o.current)return;let c=Sb(r);Yn(n.current)&&c.add(n.current);let f=i.current;if(!f)return;let h=u.target;Yn(h)?Eb(c,h)?(i.current=h,Mr(h)):(u.preventDefault(),u.stopPropagation(),Mr(f)):Mr(i.current)},!0)}function Eb(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function _b(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Ia((t=e.as)!=null?t:jb)||Ce.Children.count(e.children)===1}let Rc=k.createContext(null);Rc.displayName="TransitionContext";var PT=(e=>(e.Visible="visible",e.Hidden="hidden",e))(PT||{});function RT(){let e=k.useContext(Rc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function AT(){let e=k.useContext(Ac);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ac=k.createContext(null);Ac.displayName="NestingContext";function Oc(e){return"children"in e?Oc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Cb(e,t){let n=ks(e),r=k.useRef([]),i=Up(),o=bs(),l=Fe((y,E=Ai.Hidden)=>{let w=r.current.findIndex(({el:S})=>S===y);w!==-1&&(wr(E,{[Ai.Unmount](){r.current.splice(w,1)},[Ai.Hidden](){r.current[w].state="hidden"}}),o.microTask(()=>{var S;!Oc(r)&&i.current&&((S=n.current)==null||S.call(n))}))}),u=Fe(y=>{let E=r.current.find(({el:w})=>w===y);return E?E.state!=="visible"&&(E.state="visible"):r.current.push({el:y,state:"visible"}),()=>l(y,Ai.Unmount)}),c=k.useRef([]),f=k.useRef(Promise.resolve()),h=k.useRef({enter:[],leave:[]}),p=Fe((y,E,w)=>{c.current.splice(0),t&&(t.chains.current[E]=t.chains.current[E].filter(([S])=>S!==y)),t==null||t.chains.current[E].push([y,new Promise(S=>{c.current.push(S)})]),t==null||t.chains.current[E].push([y,new Promise(S=>{Promise.all(h.current[E].map(([C,_])=>_)).then(()=>S())})]),E==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(E)):w(E)}),v=Fe((y,E,w)=>{Promise.all(h.current[E].splice(0).map(([S,C])=>C)).then(()=>{var S;(S=c.current.shift())==null||S()}).then(()=>w(E))});return k.useMemo(()=>({children:r,register:u,unregister:l,onStart:p,onStop:v,wait:f,chains:h}),[u,l,r,p,v,h,f])}let jb=k.Fragment,Nb=So.RenderStrategy;function OT(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:l,beforeLeave:u,afterLeave:c,enter:f,enterFrom:h,enterTo:p,entered:v,leave:y,leaveFrom:E,leaveTo:w,...S}=e,[C,_]=k.useState(null),j=k.useRef(null),M=_b(e),A=wn(...M?[j,t,_]:t===null?[]:[t]),R=(n=S.unmount)==null||n?Ai.Unmount:Ai.Hidden,{show:L,appear:Z,initial:Q}=RT(),[O,N]=k.useState(L?"visible":"hidden"),Y=AT(),{register:H,unregister:B}=Y;vt(()=>H(j),[H,j]),vt(()=>{if(R===Ai.Hidden&&j.current){if(L&&O!=="visible"){N("visible");return}return wr(O,{hidden:()=>B(j),visible:()=>H(j)})}},[O,j,H,B,L,R]);let F=Pc();vt(()=>{if(M&&F&&O==="visible"&&j.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[j,O,F,M]);let J=Q&&!Z,X=Z&&L&&Q,D=k.useRef(!1),V=Cb(()=>{D.current||(N("hidden"),B(j))},Y),P=Fe(Se=>{D.current=!0;let le=Se?"enter":"leave";V.onStart(j,le,ke=>{ke==="enter"?o==null||o():ke==="leave"&&(u==null||u())})}),$=Fe(Se=>{let le=Se?"enter":"leave";D.current=!1,V.onStop(j,le,ke=>{ke==="enter"?l==null||l():ke==="leave"&&(c==null||c())}),le==="leave"&&!Oc(V)&&(N("hidden"),B(j))});k.useEffect(()=>{M&&i||(P(L),$(L))},[L,M,i]);let G=!(!i||!M||!F||J),[,T]=Qw(G,C,L,{start:P,end:$}),ne=ss({ref:A,className:((r=Dh(S.className,X&&f,X&&h,T.enter&&f,T.enter&&T.closed&&h,T.enter&&!T.closed&&p,T.leave&&y,T.leave&&!T.closed&&E,T.leave&&T.closed&&w,!T.transition&&L&&v))==null?void 0:r.trim())||void 0,...Jw(T)}),pe=0;O==="visible"&&(pe|=xn.Open),O==="hidden"&&(pe|=xn.Closed),L&&O==="hidden"&&(pe|=xn.Opening),!L&&O==="visible"&&(pe|=xn.Closing);let he=$t();return Ce.createElement(Ac.Provider,{value:V},Ce.createElement(pb,{value:pe},he({ourProps:ne,theirProps:S,defaultTag:jb,features:Nb,visible:O==="visible",name:"Transition.Child"})))}function MT(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,l=k.useRef(null),u=_b(e),c=wn(...u?[l,t]:t===null?[]:[t]);Pc();let f=il();if(n===void 0&&f!==null&&(n=(f&xn.Open)===xn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=k.useState(n?"visible":"hidden"),v=Cb(()=>{n||p("hidden")}),[y,E]=k.useState(!0),w=k.useRef([n]);vt(()=>{y!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),E(!1))},[w,n]);let S=k.useMemo(()=>({show:n,appear:r,initial:y}),[n,r,y]);vt(()=>{n?p("visible"):!Oc(v)&&l.current!==null&&p("hidden")},[n,v]);let C={unmount:i},_=Fe(()=>{var A;y&&E(!1),(A=e.beforeEnter)==null||A.call(e)}),j=Fe(()=>{var A;y&&E(!1),(A=e.beforeLeave)==null||A.call(e)}),M=$t();return Ce.createElement(Ac.Provider,{value:v},Ce.createElement(Rc.Provider,{value:S},M({ourProps:{...C,as:k.Fragment,children:Ce.createElement(Tb,{ref:c,...C,...o,beforeEnter:_,beforeLeave:j})},theirProps:{},defaultTag:k.Fragment,features:Nb,visible:h==="visible",name:"Transition"})))}function DT(e,t){let n=k.useContext(Rc)!==null,r=il()!==null;return Ce.createElement(Ce.Fragment,null,!n&&r?Ce.createElement(Hh,{ref:t,...e}):Ce.createElement(Tb,{ref:t,...e}))}let Hh=Nt(MT),Tb=Nt(OT),Wp=Nt(DT),LT=Object.assign(Hh,{Child:Wp,Root:Hh});var $T=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($T||{}),FT=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(FT||{});let zT={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Hp=k.createContext(null);Hp.displayName="DialogContext";function Mc(e){let t=k.useContext(Hp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mc),n}return t}function BT(e,t){return wr(t.type,zT,e,t)}let ex=Nt(function(e,t){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:l,role:u="dialog",autoFocus:c=!0,__demoMode:f=!1,unmount:h=!1,...p}=e,v=k.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=il();i===void 0&&y!==null&&(i=(y&xn.Open)===xn.Open);let E=k.useRef(null),w=wn(E,t),S=Wa(E.current),C=i?0:1,[_,j]=k.useReducer(BT,{titleId:null,descriptionId:null,panelRef:k.createRef()}),M=Fe(()=>o(!1)),A=Fe(T=>j({type:0,id:T})),R=Pc()?C===0:!1,[L,Z]=mT(),Q={get current(){var T;return(T=_.panelRef.current)!=null?T:E.current}},O=kb(),{resolveContainers:N}=wT({mainTreeNode:O,portals:L,defaultContainers:[Q]}),Y=y!==null?(y&xn.Closing)===xn.Closing:!1;zw(f||Y?!1:R,{allowed:Fe(()=>{var T,ne;return[(ne=(T=E.current)==null?void 0:T.closest("[data-headlessui-portal]"))!=null?ne:null]}),disallowed:Fe(()=>{var T;return[(T=O==null?void 0:O.closest("body > *:not(#headlessui-portal-root)"))!=null?T:null]})});let H=Ec.get(null);vt(()=>{if(R)return H.actions.push(r),()=>H.actions.pop(r)},[H,r,R]);let B=ir(H,k.useCallback(T=>H.selectors.isTop(T,r),[H,r]));Yw(B,N,T=>{T.preventDefault(),M()}),yT(B,S==null?void 0:S.defaultView,T=>{T.preventDefault(),T.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),M()}),Gw(f||Y?!1:R,S,N),Bw(R,E,M);let[F,J]=Pw(),X=k.useMemo(()=>[{dialogState:C,close:M,setTitleId:A,unmount:h},_],[C,M,A,h,_]),D=Fr({open:C===0}),V={ref:w,id:r,role:u,tabIndex:-1,"aria-modal":f?void 0:C===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":F,unmount:h},P=!xT(),$=ls.None;R&&!f&&($|=ls.RestoreFocus,$|=ls.TabLock,c&&($|=ls.AutoFocus),P&&($|=ls.InitialFocus));let G=$t();return Ce.createElement(oT,null,Ce.createElement(Xy,{force:!0},Ce.createElement(xb,null,Ce.createElement(Hp.Provider,{value:X},Ce.createElement(yb,{target:E},Ce.createElement(Xy,{force:!1},Ce.createElement(J,{slot:D},Ce.createElement(Z,null,Ce.createElement(CT,{initialFocus:l,initialFocusFallback:E,containers:N,features:$},Ce.createElement(qC,{value:M},G({ourProps:V,theirProps:p,slot:D,defaultTag:UT,features:WT,visible:C===0,name:"Dialog"})))))))))))}),UT="div",WT=So.RenderStrategy|So.Static;function HT(e,t){let{transition:n=!1,open:r,...i}=e,o=il(),l=e.hasOwnProperty("open")||o!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Ce.createElement(Zy,null,Ce.createElement(LT,{show:r,transition:n,unmount:i.unmount},Ce.createElement(ex,{ref:t,...i}))):Ce.createElement(Zy,null,Ce.createElement(ex,{ref:t,open:r,...i}))}let VT="div";function qT(e,t){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=e,[{dialogState:l,unmount:u},c]=Mc("Dialog.Panel"),f=wn(t,c.panelRef),h=Fr({open:l===0}),p=Fe(S=>{S.stopPropagation()}),v={ref:f,id:r,onClick:p},y=i?Wp:k.Fragment,E=i?{unmount:u}:{},w=$t();return Ce.createElement(y,{...E},w({ourProps:v,theirProps:o,slot:h,defaultTag:VT,name:"Dialog.Panel"}))}let YT="div";function KT(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:o}]=Mc("Dialog.Backdrop"),l=Fr({open:i===0}),u={ref:t,"aria-hidden":!0},c=n?Wp:k.Fragment,f=n?{unmount:o}:{},h=$t();return Ce.createElement(c,{...f},h({ourProps:u,theirProps:r,slot:l,defaultTag:YT,name:"Dialog.Backdrop"}))}let GT="h2";function JT(e,t){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:l}]=Mc("Dialog.Title"),u=wn(t);k.useEffect(()=>(l(r),()=>l(null)),[r,l]);let c=Fr({open:o===0}),f={ref:u,id:r};return $t()({ourProps:f,theirProps:i,slot:c,defaultTag:GT,name:"Dialog.Title"})}let QT=Nt(HT),XT=Nt(qT);Nt(KT);let ZT=Nt(JT),tx=Object.assign(QT,{Panel:XT,Title:ZT,Description:zC}),nx=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function rx(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!Yn(i))return r;let o=!1;for(let u of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),o=!0;let l=o?(n=i.innerText)!=null?n:"":r;return nx.test(l)&&(l=l.replace(nx,"")),l}function eI(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():rx(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return rx(e).trim()}function tI(e){let t=k.useRef(""),n=k.useRef("");return Fe(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=eI(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var nI=Object.defineProperty,rI=(e,t,n)=>t in e?nI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ix=(e,t,n)=>(rI(e,typeof t!="symbol"?t+"":t,n),n),un=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(un||{}),tc=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(tc||{}),ut=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(ut||{});function sx(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Hw(t(e.items.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let iI={1(e){if(e.menuState===1)return e;let t=e.buttonElement?Lu.Tracked(wb(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:Dt.Nothing},menuState:1,buttonPositionState:t}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:Lu.Idle}},2:(e,t)=>{var n,r,i,o,l;if(e.menuState===1)return e;let u={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===Dt.Nothing)return{...u,activeItemIndex:null};if(t.focus===Dt.Specific)return{...u,activeItemIndex:e.items.findIndex(h=>h.id===t.id)};if(t.focus===Dt.Previous){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=Su(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=e.items[v].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===y.current||((i=y.current)==null?void 0:i.previousElementSibling)===null)return{...u,activeItemIndex:v}}}}else if(t.focus===Dt.Next){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=Su(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=e.items[v].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.nextElementSibling)===y.current||((l=y.current)==null?void 0:l.nextElementSibling)===null)return{...u,activeItemIndex:v}}}}let c=sx(e),f=Su(t,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...u,...c,activeItemIndex:f}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(l=>{var u;return((u=l.dataRef.current.textValue)==null?void 0:u.startsWith(r))&&!l.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(i=>i)),r=e.activeItemIndex;return e.pendingFocus.focus!==Dt.Nothing&&(r=Su(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:Dt.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],i=new Set(t.items);for(let[o,l]of n.entries())if(i.has(l.id)&&(r.push(o),i.delete(l.id),i.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...sx(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Lu.Moved}}};class Vp extends Dw{constructor(t){super(t),ix(this,"actions",{registerItem:Sy(()=>{let n=[],r=new Set;return[(i,o)=>{r.has(o)||(r.add(o),n.push({id:i,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:Sy(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),ix(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,o=n.items;return i===null||(r=o[i])==null?void 0:r.id},isActive(n,r){var i;let o=n.activeItemIndex,l=n.items;return o!==null?((i=l[o])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=Ec.get(null);this.disposables.add(r.on($w.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(vT(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:t,__demoMode:n=!1}){return new Vp({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Dt.Nothing},buttonPositionState:Lu.Idle})}reduce(t,n){return wr(n.type,iI,t,n)}}const Ib=k.createContext(null);function qp(e){let t=k.useContext(Ib);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pb),n}return t}function Pb({id:e,__demoMode:t=!1}){let n=k.useMemo(()=>Vp.new({id:e,__demoMode:t}),[]);return Bp(()=>n.dispose()),n}let sI=k.Fragment;function oI(e,t){let n=k.useId(),{__demoMode:r=!1,...i}=e,o=Pb({id:n,__demoMode:r}),[l,u,c]=ir(o,S=>[S.menuState,S.itemsElement,S.buttonElement]),f=wn(t),h=Ec.get(null),p=ir(h,k.useCallback(S=>h.selectors.isTop(S,n),[h,n]));Yw(p,[c,u],(S,C)=>{var _;o.send({type:ut.CloseMenu}),Mp(C,Op.Loose)||(S.preventDefault(),(_=o.state.buttonElement)==null||_.focus())});let v=Fe(()=>{o.send({type:ut.CloseMenu})}),y=Fr({open:l===un.Open,close:v}),E={ref:f},w=$t();return Ce.createElement(rT,null,Ce.createElement(Ib.Provider,{value:o},Ce.createElement(pb,{value:wr(l,{[un.Open]:xn.Open,[un.Closed]:xn.Closed})},w({ourProps:E,theirProps:i,slot:y,defaultTag:sI,name:"Menu"}))))}let aI="button";function lI(e,t){let n=qp("Menu.Button"),r=k.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:l=!1,...u}=e,c=k.useRef(null),f=eT(),h=wn(t,c,ZN(),Fe(O=>n.send({type:ut.SetButtonElement,element:O}))),p=Fe(O=>{switch(O.key){case Kt.Space:case Kt.Enter:case Kt.ArrowDown:O.preventDefault(),O.stopPropagation(),n.send({type:ut.OpenMenu,focus:{focus:Dt.First}});break;case Kt.ArrowUp:O.preventDefault(),O.stopPropagation(),n.send({type:ut.OpenMenu,focus:{focus:Dt.Last}});break}}),v=Fe(O=>{switch(O.key){case Kt.Space:O.preventDefault();break}}),[y,E,w]=ir(n,O=>[O.menuState,O.buttonElement,O.itemsElement]),S=y===un.Open;gj(S,{trigger:E,action:k.useCallback(O=>{if(E!=null&&E.contains(O.target))return bu.Ignore;let N=O.target.closest('[role="menuitem"]:not([data-disabled])');return Yn(N)?bu.Select(N):w!=null&&w.contains(O.target)?bu.Ignore:bu.Close},[E,w]),close:k.useCallback(()=>n.send({type:ut.CloseMenu}),[]),select:k.useCallback(O=>O.click(),[])});let C=KC(O=>{var N;o||(y===un.Open?(Hn.flushSync(()=>n.send({type:ut.CloseMenu})),(N=c.current)==null||N.focus({preventScroll:!0})):(O.preventDefault(),n.send({type:ut.OpenMenu,focus:{focus:Dt.Nothing},trigger:tc.Pointer})))}),{isFocusVisible:_,focusProps:j}=pC({autoFocus:l}),{isHovered:M,hoverProps:A}=hC({isDisabled:o}),{pressed:R,pressProps:L}=wC({disabled:o}),Z=Fr({open:y===un.Open,active:R||y===un.Open,disabled:o,hover:M,focus:_,autofocus:l}),Q=_w(f(),{ref:h,id:i,type:vj(e,c.current),"aria-haspopup":"menu","aria-controls":w==null?void 0:w.id,"aria-expanded":y===un.Open,disabled:o||void 0,autoFocus:l,onKeyDown:p,onKeyUp:v},C,j,A,L);return $t()({ourProps:Q,theirProps:u,slot:Z,defaultTag:aI,name:"Menu.Button"})}let uI="div",cI=So.RenderStrategy|So.Static;function dI(e,t){let n=k.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:o=!1,modal:l=!0,transition:u=!1,...c}=e,f=XN(i),h=qp("Menu.Items"),[p,v]=nT(f),y=tT(),[E,w]=k.useState(null),S=wn(t,f?p:null,Fe(D=>h.send({type:ut.SetItemsElement,element:D})),w),[C,_]=ir(h,D=>[D.menuState,D.buttonElement]),j=Wa(_),M=Wa(E);f&&(o=!0);let A=il(),[R,L]=Qw(u,E,A!==null?(A&xn.Open)===xn.Open:C===un.Open);Bw(R,_,()=>{h.send({type:ut.CloseMenu})});let Z=ir(h,D=>D.__demoMode),Q=Z?!1:l&&C===un.Open;Gw(Q,M);let O=Z?!1:l&&C===un.Open;zw(O,{allowed:k.useCallback(()=>[_,E],[_,E])});let N=ir(h,h.selectors.didButtonMove)?!1:R;k.useEffect(()=>{let D=E;D&&C===un.Open&&(kw(D)||D.focus({preventScroll:!0}))},[C,E]),Rj(C===un.Open,{container:E,accept(D){return D.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:D.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(D){D.setAttribute("role","none")}});let Y=bs(),H=Fe(D=>{var V,P,$;switch(Y.dispose(),D.key){case Kt.Space:if(h.state.searchQuery!=="")return D.preventDefault(),D.stopPropagation(),h.send({type:ut.Search,value:D.key});case Kt.Enter:if(D.preventDefault(),D.stopPropagation(),h.state.activeItemIndex!==null){let{dataRef:G}=h.state.items[h.state.activeItemIndex];(P=(V=G.current)==null?void 0:V.domRef.current)==null||P.click()}h.send({type:ut.CloseMenu}),Ww(h.state.buttonElement);break;case Kt.ArrowDown:return D.preventDefault(),D.stopPropagation(),h.send({type:ut.GoToItem,focus:Dt.Next});case Kt.ArrowUp:return D.preventDefault(),D.stopPropagation(),h.send({type:ut.GoToItem,focus:Dt.Previous});case Kt.Home:case Kt.PageUp:return D.preventDefault(),D.stopPropagation(),h.send({type:ut.GoToItem,focus:Dt.First});case Kt.End:case Kt.PageDown:return D.preventDefault(),D.stopPropagation(),h.send({type:ut.GoToItem,focus:Dt.Last});case Kt.Escape:D.preventDefault(),D.stopPropagation(),Hn.flushSync(()=>h.send({type:ut.CloseMenu})),($=h.state.buttonElement)==null||$.focus({preventScroll:!0});break;case Kt.Tab:D.preventDefault(),D.stopPropagation(),Hn.flushSync(()=>h.send({type:ut.CloseMenu})),fj(h.state.buttonElement,D.shiftKey?yr.Previous:yr.Next);break;default:D.key.length===1&&(h.send({type:ut.Search,value:D.key}),Y.setTimeout(()=>h.send({type:ut.ClearSearch}),350));break}}),B=Fe(D=>{switch(D.key){case Kt.Space:D.preventDefault();break}}),F=Fr({open:C===un.Open}),J=_w(f?y():{},{"aria-activedescendant":ir(h,h.selectors.activeDescendantId),"aria-labelledby":ir(h,D=>{var V;return(V=D.buttonElement)==null?void 0:V.id}),id:r,onKeyDown:H,onKeyUp:B,role:"menu",tabIndex:C===un.Open?0:void 0,ref:S,style:{...c.style,...v,"--button-width":YC(R,_,!0).width},...Jw(L)}),X=$t();return Ce.createElement(xb,{enabled:o?e.static||R:!1,ownerDocument:j},X({ourProps:J,theirProps:c,slot:F,defaultTag:uI,features:cI,visible:N,name:"Menu.Items"}))}let fI=k.Fragment;function hI(e,t){let n=k.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=e,l=qp("Menu.Item"),u=ir(l,N=>l.selectors.isActive(N,r)),c=k.useRef(null),f=wn(t,c),h=ir(l,N=>l.selectors.shouldScrollIntoView(N,r));vt(()=>{if(h)return On().requestAnimationFrame(()=>{var N,Y;(Y=(N=c.current)==null?void 0:N.scrollIntoView)==null||Y.call(N,{block:"nearest"})})},[h,c]);let p=tI(c),v=k.useRef({disabled:i,domRef:c,get textValue(){return p()}});vt(()=>{v.current.disabled=i},[v,i]),vt(()=>(l.actions.registerItem(r,v),()=>l.actions.unregisterItem(r)),[v,r]);let y=Fe(()=>{l.send({type:ut.CloseMenu})}),E=Fe(N=>{if(i)return N.preventDefault();l.send({type:ut.CloseMenu}),Ww(l.state.buttonElement)}),w=Fe(()=>{if(i)return l.send({type:ut.GoToItem,focus:Dt.Nothing});l.send({type:ut.GoToItem,focus:Dt.Specific,id:r})}),S=Ej(),C=Fe(N=>S.update(N)),_=Fe(N=>{S.wasMoved(N)&&(i||u||l.send({type:ut.GoToItem,focus:Dt.Specific,id:r,trigger:tc.Pointer}))}),j=Fe(N=>{S.wasMoved(N)&&(i||u&&l.state.activationTrigger===tc.Pointer&&l.send({type:ut.GoToItem,focus:Dt.Nothing}))}),[M,A]=Rw(),[R,L]=Pw(),Z=Fr({active:u,focus:u,disabled:i,close:y}),Q={id:r,ref:f,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":M,"aria-describedby":R,disabled:void 0,onClick:E,onFocus:w,onPointerEnter:C,onMouseEnter:C,onPointerMove:_,onMouseMove:_,onPointerLeave:j,onMouseLeave:j},O=$t();return Ce.createElement(A,null,Ce.createElement(L,null,O({ourProps:Q,theirProps:o,slot:Z,defaultTag:fI,name:"Menu.Item"})))}let pI="div";function mI(e,t){let[n,r]=Rw(),i=e,o={ref:t,"aria-labelledby":n,role:"group"},l=$t();return Ce.createElement(r,null,l({ourProps:o,theirProps:i,slot:{},defaultTag:pI,name:"Menu.Section"}))}let gI="header";function vI(e,t){let n=k.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=e,o=Ap();vt(()=>o.register(r),[r,o.register]);let l={id:r,ref:t,role:"presentation",...o.props};return $t()({ourProps:l,theirProps:i,slot:{},defaultTag:gI,name:"Menu.Heading"})}let yI="div";function xI(e,t){let n=e,r={ref:t,role:"separator"};return $t()({ourProps:r,theirProps:n,slot:{},defaultTag:yI,name:"Menu.Separator"})}let wI=Nt(oI),bI=Nt(lI),kI=Nt(dI),SI=Nt(hI),EI=Nt(mI),_I=Nt(vI),CI=Nt(xI),es=Object.assign(wI,{Button:bI,Items:kI,Item:SI,Section:EI,Heading:_I,Separator:CI});const Rb=k.createContext(void 0);function Ss(){const e=k.useContext(Rb);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const jI="modulepreload",NI=function(e){return"/sport-planner/"+e},ox={},sl=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(f=>{if(f=NI(f),f in ox)return;ox[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":jI,h||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((y,E)=>{v.addEventListener("load",y),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},TI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Yp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ax extends Yp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lx extends Yp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ux extends Yp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Vh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Vh||(Vh={}));var II=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class PI{constructor(t,{headers:n={},customFetch:r,region:i=Vh.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=TI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return II(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:c}=r;let f={},{region:h}=r;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)));const y=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:c}).catch(C=>{throw C.name==="AbortError"?C:new ax(C)}),E=y.headers.get("x-relay-error");if(E&&E==="true")throw new lx(y);if(!y.ok)throw new ux(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new ax(o)}:{data:null,error:o,response:o instanceof ux||o instanceof lx?o.context:void 0}}})}}var Yt={},Ks={},Gs={},Js={},Qs={},Xs={},RI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_o=RI();const AI=_o.fetch,Ab=_o.fetch.bind(_o),Ob=_o.Headers,OI=_o.Request,MI=_o.Response,Ao=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ob,Request:OI,Response:MI,default:Ab,fetch:AI},Symbol.toStringTag,{value:"Module"})),DI=IE(Ao);var Eu={},cx;function Mb(){if(cx)return Eu;cx=1,Object.defineProperty(Eu,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Eu.default=e,Eu}var dx;function Db(){if(dx)return Xs;dx=1;var e=Xs&&Xs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xs,"__esModule",{value:!0});const t=e(DI),n=e(Mb());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,p,v,y;let E=null,w=null,S=null,C=f.status,_=f.statusText;if(f.ok){if(this.method!=="HEAD"){const R=await f.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?w=R:w=JSON.parse(R))}const M=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),A=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");M&&A&&A.length>1&&(S=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(E={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,C=406,_="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const M=await f.text();try{E=JSON.parse(M),Array.isArray(E)&&f.status===404&&(w=[],E=null,C=200,_="OK")}catch{f.status===404&&M===""?(C=204,_="No Content"):E={message:M}}if(E&&this.isMaybeSingle&&(!((y=E==null?void 0:E.details)===null||y===void 0)&&y.includes("0 rows"))&&(E=null,C=200,_="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:w,count:S,status:C,statusText:_}});return this.shouldThrowOnError||(c=c.catch(f=>{var h,p,v;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(p=f==null?void 0:f.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,l)}returns(){return this}overrideTypes(){return this}}return Xs.default=r,Xs}var fx;function Lb(){if(fx)return Qs;fx=1;var e=Qs&&Qs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qs,"__esModule",{value:!0});const t=e(Db());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var h;const p=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Qs.default=n,Qs}var hx;function Kp(){if(hx)return Js;hx=1;var e=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Js,"__esModule",{value:!0});const t=e(Lb());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Js.default=n,Js}var px;function $b(){if(px)return Gs;px=1;var e=Gs&&Gs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gs,"__esModule",{value:!0});const t=e(Kp());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},c=l?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:c=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Gs.default=n,Gs}var mx;function LI(){if(mx)return Ks;mx=1;var e=Ks&&Ks.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ks,"__esModule",{value:!0});const t=e($b()),n=e(Kp());class r{constructor(o,{headers:l={},schema:u,fetch:c}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=c}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:c=!1,count:f}={}){var h;let p;const v=new URL(`${this.url}/rpc/${o}`);let y;u||c?(p=u?"HEAD":"GET",Object.entries(l).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{v.searchParams.append(w,S)})):(p="POST",y=l);const E=new Headers(this.headers);return f&&E.set("Prefer",`count=${f}`),new n.default({method:p,url:v,headers:E,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Ks.default=r,Ks}var gx;function $I(){if(gx)return Yt;gx=1;var e=Yt&&Yt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.PostgrestError=Yt.PostgrestBuilder=Yt.PostgrestTransformBuilder=Yt.PostgrestFilterBuilder=Yt.PostgrestQueryBuilder=Yt.PostgrestClient=void 0;const t=e(LI());Yt.PostgrestClient=t.default;const n=e($b());Yt.PostgrestQueryBuilder=n.default;const r=e(Kp());Yt.PostgrestFilterBuilder=r.default;const i=e(Lb());Yt.PostgrestTransformBuilder=i.default;const o=e(Db());Yt.PostgrestBuilder=o.default;const l=e(Mb());return Yt.PostgrestError=l.default,Yt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},Yt}var FI=$I();const zI=No(FI),{PostgrestClient:BI,PostgrestQueryBuilder:n5,PostgrestFilterBuilder:r5,PostgrestTransformBuilder:i5,PostgrestBuilder:s5,PostgrestError:o5}=zI;class UI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const WI="2.75.0",HI=`realtime-js/${WI}`,VI="1.0.0",qh=1e4,qI=1e3,YI=100;var Ra;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ra||(Ra={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vr||(vr={}));var Yh;(function(e){e.websocket="websocket"})(Yh||(Yh={}));var us;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(us||(us={}));class KI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class Fb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const vx=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=GI(l,e,t,i),o),{}):{}},GI=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?zb(o,l):Kh(l)},zb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ZI(t,n)}switch(e){case ht.bool:return JI(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return QI(t);case ht.json:case ht.jsonb:return XI(t);case ht.timestamp:return eP(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return Kh(t);default:return Kh(t)}},Kh=e=>e,JI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},QI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ZI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>zb(t,u))}return e},eP=e=>typeof e=="string"?e.replace(" ","T"):e,Bb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class qf{constructor(t,n,r={},i=qh){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yx||(yx={}));class Aa{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Aa.syncState(this.state,i,o,l),this.pendingDiffs.forEach(c=>{this.state=Aa.syncDiff(this.state,c,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Aa.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},c={};return this.map(o,(f,h)=>{l[f]||(c[f]=h)}),this.map(l,(f,h)=>{const p=o[f];if(p){const v=h.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),E=h.filter(S=>y.indexOf(S.presence_ref)<0),w=p.filter(S=>v.indexOf(S.presence_ref)<0);E.length>0&&(u[f]=E),w.length>0&&(c[f]=w)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,c)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(c),h.length>0){const p=t[u].map(y=>y.presence_ref),v=h.filter(y=>p.indexOf(y.presence_ref)<0);t[u].unshift(...v)}r(u,h,c)}),this.map(l,(u,c)=>{let f=t[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=f,i(u,f,c),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xx||(xx={}));var Oa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oa||(Oa={}));var Xr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xr||(Xr={}));class Gp{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qf(this,vr.join,this.params,this.timeout),this.rejoinTimer=new Fb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Aa(this),this.broadcastEndpointURL=Bb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:l,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Oa.PRESENCE]&&this.bindings[Oa.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Xr.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Xr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var E;if(this.socket.setAuth(),y===void 0){t==null||t(Xr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(E=w==null?void 0:w.length)!==null&&E!==void 0?E:0,C=[];for(let _=0;_<S;_++){const j=w[_],{filter:{event:M,schema:A,table:R,filter:L}}=j,Z=y&&y[_];if(Z&&Z.event===M&&Z.schema===A&&Z.table===R&&Z.filter===L)C.push(Object.assign(Object.assign({},j),{id:Z.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(Xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Xr.SUBSCRIBED);return}}).receive("error",y=>{this.state=Bt.errored,t==null||t(Xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Bt.joined&&t===Oa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new qf(this,vr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qf(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>YI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=vr;if(r&&[u,c,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var E,w,S;return((E=y.filter)===null||E===void 0?void 0:E.event)==="*"||((S=(w=y.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(y=>y.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(y=>{var E,w,S,C,_,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const M=y.id,A=(E=y.filter)===null||E===void 0?void 0:E.event;return M&&((w=n.ids)===null||w===void 0?void 0:w.includes(M))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(_=(C=y==null?void 0:y.filter)===null||C===void 0?void 0:C.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return M==="*"||M===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const E=v.data,{schema:w,table:S,commit_timestamp:C,type:_,errors:j}=E;v=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:C,eventType:_,new:{},old:{},errors:j}),this._getPayloadRecords(E))}y.callback(v,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Gp.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vr.close,{},t)}_onError(t){this._on(vr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=vx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=vx(t.columns,t.old_record)),n}}const Yf=()=>{},_u={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tP=[1e3,2e3,5e3,1e4],nP=1e4,rP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iP{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qh,this.transport=null,this.heartbeatIntervalMs=_u.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yf,this.ref=0,this.reconnectTimer=null,this.logger=Yf,this.conn=null,this.sendBuffer=[],this.serializer=new KI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>sl(async()=>{const{default:u}=await Promise.resolve().then(()=>Ao);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yh.websocket}`,this.httpEndpoint=Bb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=UI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ra.connecting:return us.Connecting;case Ra.open:return us.Open;case Ra.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Gp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(qI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_u.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([rP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:HI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(vr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Fb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_u.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,c,f,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:qh,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:_u.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Yf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(p=>tP[p-1]||nP),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((p,v)=>v(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Jp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sP extends Jp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gh extends Jp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var oP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Ub=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},aP=()=>oP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>Ao),void 0)).Response:Response}),Jh=e=>{if(Array.isArray(e))return e.map(n=>Jh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Jh(r)}),t},lP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Es=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Kf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uP=(e,t,n)=>Es(void 0,void 0,void 0,function*(){const r=yield aP();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new sP(Kf(i),o,l))}).catch(i=>{t(new Gh(Kf(i),i))}):t(new Gh(Kf(e),e))}),cP=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(lP(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ol(e,t,n,r,i,o){return Es(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,cP(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>uP(c,u,r))})})}function nc(e,t,n,r){return Es(this,void 0,void 0,function*(){return ol(e,"GET",t,n,r)})}function Ir(e,t,n,r,i){return Es(this,void 0,void 0,function*(){return ol(e,"POST",t,r,i,n)})}function Qh(e,t,n,r,i){return Es(this,void 0,void 0,function*(){return ol(e,"PUT",t,r,i,n)})}function dP(e,t,n,r){return Es(this,void 0,void 0,function*(){return ol(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Wb(e,t,n,r,i){return Es(this,void 0,void 0,function*(){return ol(e,"DELETE",t,r,i,n)})}var fP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class hP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return fP(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}var pP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class mP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new hP(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return pP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}var Nn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const gP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vP{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Ub(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Nn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},wx),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?Qh:Ir)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Mt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Nn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:wx.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield Qh(this.fetch,u.toString(),c,{headers:h});return{data:{path:o,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Mt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Nn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Ir(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new Jp("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Nn(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Nn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Nn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Ir(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Nn(this,void 0,void 0,function*(){try{const i=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),c=()=>nc(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new mP(c,this.shouldThrowOnError)}info(t){return Nn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield nc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}exists(t){return Nn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield dP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r)&&r instanceof Gh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Nn(this,void 0,void 0,function*(){try{return{data:yield Wb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Nn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},gP),n),{prefix:t||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Nn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ir(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const yP="2.75.0",xP={"X-Client-Info":`storage-js/${yP}`};var Zs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class wP{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xP),n),this.fetch=Ub(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Zs(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}getBucket(t){return Zs(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}createBucket(t){return Zs(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Zs(this,void 0,void 0,function*(){try{return{data:yield Qh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Zs(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Zs(this,void 0,void 0,function*(){try{return{data:yield Wb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}}class bP extends wP{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new vP(this.url,this.headers,t,this.fetch)}}const kP="2.75.0";let ja="";typeof Deno<"u"?ja="deno":typeof document<"u"?ja="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ja="react-native":ja="node";const SP={"X-Client-Info":`supabase-js-${ja}/${kP}`},EP={headers:SP},_P={schema:"public"},CP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jP={};var NP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const TP=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ab:t=fetch,(...n)=>t(...n)},IP=()=>typeof Headers>"u"?Ob:Headers,PP=(e,t,n)=>{const r=TP(n),i=IP();return(o,l)=>NP(void 0,void 0,void 0,function*(){var u;const c=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var RP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};function AP(e){return e.endsWith("/")?e:e+"/"}function OP(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:c,auth:f,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>RP(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function MP(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Hb="2.75.0",lo=30*1e3,Xh=3,Gf=Xh*lo,DP="http://localhost:9999",LP="supabase.auth.token",$P={"X-Client-Info":`gotrue-js/${Hb}`},Zh="X-Supabase-Api-Version",Vb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zP=600*1e3;class qa extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class BP extends qa{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function UP(e){return Le(e)&&e.name==="AuthApiError"}class cs extends qa{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Fi extends qa{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ji extends Fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WP(e){return Le(e)&&e.name==="AuthSessionMissingError"}class eo extends Fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cu extends Fi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends Fi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HP(e){return Le(e)&&e.name==="AuthImplicitGrantRedirectError"}class bx extends Fi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ep extends Fi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Jf(e){return Le(e)&&e.name==="AuthRetryableFetchError"}class kx extends Fi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class tp extends Fi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sx=` 	
\r=`.split(""),VP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sx.length;t+=1)e[Sx[t].charCodeAt(0)]=-2;for(let t=0;t<rc.length;t+=1)e[rc[t].charCodeAt(0)]=t;return e})();function Ex(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rc[r]),t.queuedBits-=6}}function qb(e,t,n){const r=VP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _x(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{KP(l,r,n)};for(let l=0;l<e.length;l+=1)qb(e.charCodeAt(l),i,o);return t.join("")}function qP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function YP(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}qP(r,t)}}function KP(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function yo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)qb(e.charCodeAt(i),n,r);return new Uint8Array(t)}function GP(e){const t=[];return YP(e,n=>t.push(n)),new Uint8Array(t)}function hs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Ex(i,n,r)),Ex(null,n,r),t.join("")}function JP(e){return Math.round(Date.now()/1e3)+e}function QP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Wn=()=>typeof window<"u"&&typeof document<"u",ts={tested:!1,writable:!1},Yb=()=>{if(!Wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ts.tested)return ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ts.tested=!0,ts.writable=!0}catch{ts.tested=!0,ts.writable=!1}return ts.writable};function XP(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Kb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ZP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ns=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_i=async(e,t)=>{await e.removeItem(t)};class Dc{constructor(){this.promise=new Dc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Dc.promiseConstructor=Promise;function Qf(e){const t=e.split(".");if(t.length!==3)throw new tp("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!FP.test(t[r]))throw new tp("JWT not in base64url format");return{header:JSON.parse(_x(t[0])),payload:JSON.parse(_x(t[1])),signature:yo(t[2]),raw:{header:t[0],payload:t[1]}}}async function eR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tR(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function nR(e){return("0"+e.toString(16)).substr(-2)}function rR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,nR).join("")}async function iR(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function sR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await iR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function to(e,t,n=!1){const r=rR();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await uo(e,`${t}-code-verifier`,i);const o=await sR(r);return[o,r===o?"plain":"s256"]}const oR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aR(e){const t=e.headers.get(Zh);if(!t||!t.match(oR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function no(e){if(!cR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cx(e){return JSON.parse(JSON.stringify(e))}var dR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fR=[502,503,504];async function jx(e){var t;if(!ZP(e))throw new ep(os(e),0);if(fR.includes(e.status))throw new ep(os(e),e.status);let n;try{n=await e.json()}catch(o){throw new cs(os(o),o)}let r;const i=aR(e);if(i&&i.getTime()>=Vb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new kx(os(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new kx(os(n),e.status,n.weak_password.reasons);throw new BP(os(n),e.status||500,r)}const hR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Be(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Zh]||(o[Zh]=Vb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await pR(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function pR(e,t,n,r,i,o){const l=hR(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(c){throw console.error(c),new ep(os(c),0)}if(u.ok||await jx(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await jx(c)}}function mr(e){var t;let n=null;vR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=JP(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Nx(e){const t=mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mR(e){return{data:e,error:null}}function gR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=dR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function Tx(e){return e}function vR(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zf=["global","local","others"];var yR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class xR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Kb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Zf[0]){if(Zf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zf.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=yR(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Tx});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(E=>{const w=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);f[`${S}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Le(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){no(t);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){no(t);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){no(t);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){no(t.userId);try{const{data:n,error:r}=await Be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteFactor(t){no(t.userId),no(t.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Tx});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(E=>{const w=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);f[`${S}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Le(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}}function Ix(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ro={debug:!!(globalThis&&Yb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wR extends Gb{}async function bR(e,t,n){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ro.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function kR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function SR(e){return parseInt(e,16)}function ER(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function _R(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Jb(e.address),E=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",S=`${E} wants you to sign in with your Ethereum account:
${y}

${w}`;let C=`URI: ${p}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),c&&(C+=`
Request ID: ${c}`),f){let _=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);_+=`
- ${j}`}C+=_}return`${S}
${C}`}class Ot extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ic extends Ot{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function CR({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Xb(l)){if(o.rp.id!==l)return new Ot({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function jR({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Xb(r)){if(n.rpId!==r)return new Ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Qb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class NR{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const TR=new NR;function IR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Qb(e,["challenge","user","excludeCredentials"]),o=yo(t).buffer,l=Object.assign(Object.assign({},n),{id:yo(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:yo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function PR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Qb(e,["challenge","allowCredentials"]),i=yo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:yo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function RR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:hs(new Uint8Array(e.response.attestationObject)),clientDataJSON:hs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hs(new Uint8Array(i.authenticatorData)),clientDataJSON:hs(new Uint8Array(i.clientDataJSON)),signature:hs(new Uint8Array(i.signature)),userHandle:i.userHandle?hs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Xb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Px(){var e,t;return!!(Wn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function OR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",t)}:{data:null,error:new ic("Empty credential response",t)}}catch(t){return{data:null,error:CR({error:t,options:e})}}}async function MR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",t)}:{data:null,error:new ic("Empty credential response",t)}}catch(t){return{data:null,error:jR({error:t,options:e})}}}const DR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},LR={userVerification:"preferred",hints:["security-key"]};function sc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=sc(u,l):r[o]=sc(l)}else r[o]=l}return r}function $R(e,t){return sc(DR,e,t||{})}function FR(e,t){return sc(LR,e,t||{})}class zR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const c=i??TR.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=$R(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:p}=await OR({publicKey:f,signal:c});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=FR(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:p}=await MR(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new qa("rpId is required for WebAuthn authentication")};try{if(!Px())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:c}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new qa("rpId is required for WebAuthn registration")};try{if(!Px())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in register",l)}}}}kR();const BR={url:DP,storageKey:LP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$P,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rx(e,t,n){return await n()}const io={};class Ya{get jwks(){var t,n;return(n=(t=io[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=io[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ya.nextInstanceID,Ya.nextInstanceID+=1,this.instanceID>0&&Wn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},BR),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new xR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Kb(i.fetch),this.lock=i.lock||Rx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Wn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bR:this.lock=Rx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zR(this)},this.persistSession?(i.storage?this.storage=i.storage:Yb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ix(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ix(this.memoryStorage)),Wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=XP(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Wn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),HP(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Le(n)?{error:n}:{error:new cs("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:mr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:p,options:v}=t;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await to(this.storage,this.storageKey)),o=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:E},xform:mr})}else if("phone"in t){const{phone:h,password:p,options:v}=t;o=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:mr})}else throw new Cu("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Nx})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Nx})}else throw new Cu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new eo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,c,f,h,p,v;let y,E;if("message"in t)y=t.message,E=t.signature;else{const{chain:w,wallet:S,statement:C,options:_}=t;let j;if(Wn())if(typeof S=="object")j=S;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")j=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=S}const M=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),A=await j.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Jb(A[0]);let L=(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!L){const Q=await j.request({method:"eth_chainId"});L=SR(Q)}const Z={domain:M.host,address:R,statement:C,uri:M.href,version:"1",chainId:L,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=_==null?void 0:_.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=_==null?void 0:_.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=_R(Z),E=await j.request({method:"personal_sign",params:[ER(y),R]})}try{const{data:w,error:S}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:E},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:mr});if(S)throw S;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new eo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:S})}catch(w){if(Le(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var n,r,i,o,l,u,c,f,h,p,v,y;let E,w;if("message"in t)E=t.message,w=t.signature;else{const{chain:S,wallet:C,statement:_,options:j}=t;let M;if(Wn())if(typeof C=="object")M=C;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))M=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const A=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const R=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),_?{statement:_}:null));let L;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")L=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)L=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)E=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),w=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${A.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j==null?void 0:j.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(h=j==null?void 0:j.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const R=await M.signMessage(new TextEncoder().encode(E),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=R}}try{const{data:S,error:C}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:hs(w)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:mr});if(C)throw C;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new eo}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:C})}catch(S){if(Le(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await ns(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:mr});if(await _i(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new eo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Le(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mr}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new eo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:c}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await to(this.storage,this.storageKey));const{error:p}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:c}=t,{data:f,error:h}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Cu("You must provide either an email or phone number.")}catch(u){if(Le(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:mr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,f=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await to(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:mR})}catch(o){if(Le(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ji;const{error:i}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Cu("You must provide either an email or phone number and a type")}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ns(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Gf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await ns(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Xf()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,f,h)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pi}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Pi})})}catch(n){if(Le(n))return WP(n)&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new ji;const l=i.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await to(this.storage,this.storageKey));const{data:f,error:h}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:Pi});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ji;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Qf(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ji;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Wn())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bx("No code detected.");const{data:_,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:c,token_type:f}=t;if(!o||!u||!l||!f)throw new ju("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let v=h+p;c&&(v=parseInt(c));const y=v-h;y*1e3<=lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const E=v-p;h-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,v,h):h-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,v,h);const{data:w,error:S}=await this._getUser(o);if(S)throw S;const C={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:v,refresh_token:l,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(r){if(Le(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ns(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(UP(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=QP(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await to(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Le(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,c,f,h;const{data:p,error:v}=o;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Wn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Le(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:c,access_token:f,nonce:h}=t,p=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mr}),{data:v,error:y}=p;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new eo}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:y})}catch(i){if(Le(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tR(async i=>(i>0&&await eR(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Jf(o)&&Date.now()+l-r<lo})}catch(r){if(this._debug(n,"error",r),Le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Wn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ns(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ns(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await uo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Xf()}else if(i&&!i.user&&!i.user){const l=await ns(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await _i(this.storage,this.storageKey+"-user"),await uo(this.storage,this.storageKey,i)):i.user=Xf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Gf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Jf(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dc;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new ji;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Le(o)){const l={data:null,error:o};return Jf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await uo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Cx(i);await uo(this.storage,this.storageKey,o)}else{const i=Cx(n);await uo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _i(this.storage,this.storageKey),await _i(this.storage,this.storageKey+"-code-verifier"),await _i(this.storage,this.storageKey+"-user"),this.userStorage&&await _i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${lo}ms, refresh threshold is ${Xh} ticks`),i<=Xh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await to(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:f}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?RR(t.webauthn.credential_response):AR(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:c}=await Be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await Be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:IR(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:PR(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Qf(i.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+zP>i)return r;const{data:o,error:l}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:E}=await this.getSession();if(E||!y.session)return{data:null,error:E};r=y.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:c}}=Qf(r);n!=null&&n.allowExpired||lR(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:i,signature:l},error:null}}const h=uR(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,GP(`${u}.${c}`)))throw new tp("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}}Ya.nextInstanceID=0;const UR=Ya;class WR extends UR{constructor(t){super(t)}}var HR=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class VR{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=MP(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:_P,realtime:jP,auth:Object.assign(Object.assign({},CP),{storageKey:c}),global:EP},h=OP(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=PP(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new BI(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new bP(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new PI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return HR(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:c,debug:f},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WR({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:c,debug:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qR=(e,t,n)=>new VR(e,t,n);function YR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}YR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KR="https://kjsdmygqhxaryvfmnhqr.supabase.co",GR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",Lt=qR(KR,GR,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Ax=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const v=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,v))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=t=e(r,i,u);return u},JR=(e=>e?Ax(e):Ax),QR=e=>e;function XR(e,t=QR){const n=Ce.useSyncExternalStore(e.subscribe,Ce.useCallback(()=>t(e.getState()),[e,t]),Ce.useCallback(()=>t(e.getInitialState()),[e,t]));return Ce.useDebugValue(n),n}const Ox=e=>{const t=JR(e),n=r=>XR(t,r);return Object.assign(n,t),n},ZR=(e=>e?Ox(e):Ox),eA="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Gt=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=eA[n[e]&63];return t};var $u={exports:{}},tA=$u.exports,Mx;function Zb(){return Mx||(Mx=1,(function(e,t){(function(n,r){e.exports=r()})(tA,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",u="minute",c="hour",f="day",h="week",p="month",v="quarter",y="year",E="date",w="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var F=["th","st","nd","rd"],J=B%100;return"["+B+(F[(J-20)%10]||F[J]||F[0])+"]"}},j=function(B,F,J){var X=String(B);return!X||X.length>=F?B:""+Array(F+1-X.length).join(J)+B},M={s:j,z:function(B){var F=-B.utcOffset(),J=Math.abs(F),X=Math.floor(J/60),D=J%60;return(F<=0?"+":"-")+j(X,2,"0")+":"+j(D,2,"0")},m:function B(F,J){if(F.date()<J.date())return-B(J,F);var X=12*(J.year()-F.year())+(J.month()-F.month()),D=F.clone().add(X,p),V=J-D<0,P=F.clone().add(X+(V?-1:1),p);return+(-(X+(J-D)/(V?D-P:P-D))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:p,y,w:h,d:f,D:E,h:c,m:u,s:l,ms:o,Q:v}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},A="en",R={};R[A]=_;var L="$isDayjsObject",Z=function(B){return B instanceof Y||!(!B||!B[L])},Q=function B(F,J,X){var D;if(!F)return A;if(typeof F=="string"){var V=F.toLowerCase();R[V]&&(D=V),J&&(R[V]=J,D=V);var P=F.split("-");if(!D&&P.length>1)return B(P[0])}else{var $=F.name;R[$]=F,D=$}return!X&&D&&(A=D),D||!X&&A},O=function(B,F){if(Z(B))return B.clone();var J=typeof F=="object"?F:{};return J.date=B,J.args=arguments,new Y(J)},N=M;N.l=Q,N.i=Z,N.w=function(B,F){return O(B,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var Y=(function(){function B(J){this.$L=Q(J.locale,null,!0),this.parse(J),this.$x=this.$x||J.x||{},this[L]=!0}var F=B.prototype;return F.parse=function(J){this.$d=(function(X){var D=X.date,V=X.utc;if(D===null)return new Date(NaN);if(N.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var P=D.match(S);if(P){var $=P[2]-1||0,G=(P[7]||"0").substring(0,3);return V?new Date(Date.UTC(P[1],$,P[3]||1,P[4]||0,P[5]||0,P[6]||0,G)):new Date(P[1],$,P[3]||1,P[4]||0,P[5]||0,P[6]||0,G)}}return new Date(D)})(J),this.init()},F.init=function(){var J=this.$d;this.$y=J.getFullYear(),this.$M=J.getMonth(),this.$D=J.getDate(),this.$W=J.getDay(),this.$H=J.getHours(),this.$m=J.getMinutes(),this.$s=J.getSeconds(),this.$ms=J.getMilliseconds()},F.$utils=function(){return N},F.isValid=function(){return this.$d.toString()!==w},F.isSame=function(J,X){var D=O(J);return this.startOf(X)<=D&&D<=this.endOf(X)},F.isAfter=function(J,X){return O(J)<this.startOf(X)},F.isBefore=function(J,X){return this.endOf(X)<O(J)},F.$g=function(J,X,D){return N.u(J)?this[X]:this.set(D,J)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(J,X){var D=this,V=!!N.u(X)||X,P=N.p(J),$=function(ke,we){var Ge=N.w(D.$u?Date.UTC(D.$y,we,ke):new Date(D.$y,we,ke),D);return V?Ge:Ge.endOf(f)},G=function(ke,we){return N.w(D.toDate()[ke].apply(D.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(we)),D)},T=this.$W,ne=this.$M,pe=this.$D,he="set"+(this.$u?"UTC":"");switch(P){case y:return V?$(1,0):$(31,11);case p:return V?$(1,ne):$(0,ne+1);case h:var Se=this.$locale().weekStart||0,le=(T<Se?T+7:T)-Se;return $(V?pe-le:pe+(6-le),ne);case f:case E:return G(he+"Hours",0);case c:return G(he+"Minutes",1);case u:return G(he+"Seconds",2);case l:return G(he+"Milliseconds",3);default:return this.clone()}},F.endOf=function(J){return this.startOf(J,!1)},F.$set=function(J,X){var D,V=N.p(J),P="set"+(this.$u?"UTC":""),$=(D={},D[f]=P+"Date",D[E]=P+"Date",D[p]=P+"Month",D[y]=P+"FullYear",D[c]=P+"Hours",D[u]=P+"Minutes",D[l]=P+"Seconds",D[o]=P+"Milliseconds",D)[V],G=V===f?this.$D+(X-this.$W):X;if(V===p||V===y){var T=this.clone().set(E,1);T.$d[$](G),T.init(),this.$d=T.set(E,Math.min(this.$D,T.daysInMonth())).$d}else $&&this.$d[$](G);return this.init(),this},F.set=function(J,X){return this.clone().$set(J,X)},F.get=function(J){return this[N.p(J)]()},F.add=function(J,X){var D,V=this;J=Number(J);var P=N.p(X),$=function(ne){var pe=O(V);return N.w(pe.date(pe.date()+Math.round(ne*J)),V)};if(P===p)return this.set(p,this.$M+J);if(P===y)return this.set(y,this.$y+J);if(P===f)return $(1);if(P===h)return $(7);var G=(D={},D[u]=r,D[c]=i,D[l]=n,D)[P]||1,T=this.$d.getTime()+J*G;return N.w(T,this)},F.subtract=function(J,X){return this.add(-1*J,X)},F.format=function(J){var X=this,D=this.$locale();if(!this.isValid())return D.invalidDate||w;var V=J||"YYYY-MM-DDTHH:mm:ssZ",P=N.z(this),$=this.$H,G=this.$m,T=this.$M,ne=D.weekdays,pe=D.months,he=D.meridiem,Se=function(we,Ge,rt,Qe){return we&&(we[Ge]||we(X,V))||rt[Ge].slice(0,Qe)},le=function(we){return N.s($%12||12,we,"0")},ke=he||function(we,Ge,rt){var Qe=we<12?"AM":"PM";return rt?Qe.toLowerCase():Qe};return V.replace(C,(function(we,Ge){return Ge||(function(rt){switch(rt){case"YY":return String(X.$y).slice(-2);case"YYYY":return N.s(X.$y,4,"0");case"M":return T+1;case"MM":return N.s(T+1,2,"0");case"MMM":return Se(D.monthsShort,T,pe,3);case"MMMM":return Se(pe,T);case"D":return X.$D;case"DD":return N.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return Se(D.weekdaysMin,X.$W,ne,2);case"ddd":return Se(D.weekdaysShort,X.$W,ne,3);case"dddd":return ne[X.$W];case"H":return String($);case"HH":return N.s($,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return ke($,G,!0);case"A":return ke($,G,!1);case"m":return String(G);case"mm":return N.s(G,2,"0");case"s":return String(X.$s);case"ss":return N.s(X.$s,2,"0");case"SSS":return N.s(X.$ms,3,"0");case"Z":return P}return null})(we)||P.replace(":","")}))},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(J,X,D){var V,P=this,$=N.p(X),G=O(J),T=(G.utcOffset()-this.utcOffset())*r,ne=this-G,pe=function(){return N.m(P,G)};switch($){case y:V=pe()/12;break;case p:V=pe();break;case v:V=pe()/3;break;case h:V=(ne-T)/6048e5;break;case f:V=(ne-T)/864e5;break;case c:V=ne/i;break;case u:V=ne/r;break;case l:V=ne/n;break;default:V=ne}return D?V:N.a(V)},F.daysInMonth=function(){return this.endOf(p).$D},F.$locale=function(){return R[this.$L]},F.locale=function(J,X){if(!J)return this.$L;var D=this.clone(),V=Q(J,X,!0);return V&&(D.$L=V),D},F.clone=function(){return N.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},B})(),H=Y.prototype;return O.prototype=H,[["$ms",o],["$s",l],["$m",u],["$H",c],["$W",f],["$M",p],["$y",y],["$D",E]].forEach((function(B){H[B[1]]=function(F){return this.$g(F,B[0],B[1])}})),O.extend=function(B,F){return B.$i||(B(F,Y,O),B.$i=!0),O},O.locale=Q,O.isDayjs=Z,O.unix=function(B){return O(1e3*B)},O.en=R[A],O.Ls=R,O.p={},O}))})($u)),$u.exports}var nA=Zb();const He=No(nA),xo=`
  id,
  name,
  subtitle,
  objective_id,
  parent_work_id,
  node_type,
  tags,
  order_hint,
  next_work_id,
  variant_of_work_id,
  description_markdown,
  estimated_minutes,
  notes,
  video_urls,
  visibility,
  owner_id,
  owner_email,
  created_at,
  updated_at,
  work_collaborators (
    id,
    email,
    role,
    user_id,
    created_at
  )
`,ek=e=>Array.from(new Set(e.map(t=>t.trim().toLowerCase()).filter(t=>t.length>0))),rA=e=>Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t.length>0):[],Qp=e=>Array.isArray(e)?Array.from(new Set(e.map(t=>typeof t=="string"?t.trim().toLowerCase():"").filter(t=>t.length>0))):[],tk=e=>(e??[]).map(t=>({id:`${t.id}`,email:t.email.toLowerCase(),role:t.role,userId:t.user_id??void 0,createdAt:t.created_at})),Xp=(e,t)=>{var u,c;const n=tk(e.work_collaborators),r=n.map(f=>f.email),i=((u=t==null?void 0:t.actorEmail)==null?void 0:u.toLowerCase())??"",o=t?e.owner_id===t.actorId:!1,l=o||r.includes(i);return{id:e.id,name:e.name,subtitle:e.subtitle??void 0,objectiveId:e.objective_id,parentWorkId:e.parent_work_id??null,nodeType:e.node_type??void 0,tags:Qp(e.tags),orderHint:typeof e.order_hint=="number"?e.order_hint:void 0,nextWorkId:e.next_work_id??null,variantOfWorkId:e.variant_of_work_id??null,descriptionMarkdown:e.description_markdown??"",estimatedMinutes:e.estimated_minutes??0,notes:e.notes??void 0,videoUrls:rA(e.video_urls),visibility:e.visibility??"private",ownerId:e.owner_id,ownerEmail:((c=e.owner_email)==null?void 0:c.toLowerCase())??"",collaborators:n,collaboratorEmails:r,createdAt:e.created_at,updatedAt:e.updated_at,canEdit:l,isOwner:o}};async function iA(e){const{data:t,error:n}=await Lt.from("works").select(xo).order("name");if(n)throw console.error("No se pudieron cargar los trabajos compartidos",n),n;return t.map(r=>Xp(r,e))}async function Dx(e,t){var E;const n=e.id??Gt(),r=ek(e.collaboratorEmails),i=t.actorEmail.trim().toLowerCase(),o=(E=e.nodeType)!=null&&E.trim()?e.nodeType.trim():null,l=Qp(e.tags??[]),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:null,c=e.nextWorkId??null,f=e.variantOfWorkId??null,{data:h,error:p}=await Lt.from("works").insert({id:n,name:e.name,subtitle:e.subtitle??null,objective_id:e.objectiveId,parent_work_id:e.parentWorkId??null,node_type:o,tags:l,order_hint:u,next_work_id:c,variant_of_work_id:f,description_markdown:e.descriptionMarkdown,estimated_minutes:e.estimatedMinutes,notes:e.notes??null,video_urls:e.videoUrls,visibility:e.visibility,owner_id:t.actorId,owner_email:i,updated_at:new Date().toISOString()}).select(xo).maybeSingle();if(p||!h)throw console.error("No se pudo crear el trabajo",p),p??new Error("Falta respuesta al crear trabajo");if(r.length>0){const w=r.map(C=>({work_id:h.id,email:C})),{error:S}=await Lt.from("work_collaborators").insert(w);if(S)throw console.error("No se pudieron guardar los colaboradores",S),S}const{data:v,error:y}=await Lt.from("works").select(xo).eq("id",h.id).maybeSingle();if(y||!v)throw console.error("No se pudo refrescar el trabajo creado",y),y??new Error("No se pudo cargar el trabajo creado");return Xp(v,t)}async function sA(e,t,n){const r={};t.name!==void 0&&(r.name=t.name),t.subtitle!==void 0&&(r.subtitle=t.subtitle),t.objectiveId!==void 0&&(r.objective_id=t.objectiveId),t.parentWorkId!==void 0&&(r.parent_work_id=t.parentWorkId),t.nodeType!==void 0&&(r.node_type=t.nodeType),t.tags!==void 0&&(r.tags=Qp(t.tags)),t.orderHint!==void 0&&(r.order_hint=t.orderHint),t.nextWorkId!==void 0&&(r.next_work_id=t.nextWorkId),t.variantOfWorkId!==void 0&&(r.variant_of_work_id=t.variantOfWorkId),t.descriptionMarkdown!==void 0&&(r.description_markdown=t.descriptionMarkdown),t.estimatedMinutes!==void 0&&(r.estimated_minutes=t.estimatedMinutes),t.notes!==void 0&&(r.notes=t.notes),t.videoUrls!==void 0&&(r.video_urls=t.videoUrls),t.visibility!==void 0&&(r.visibility=t.visibility),r.updated_at=new Date().toISOString();let i=null;if(Object.keys(r).length>0){const{data:o,error:l}=await Lt.from("works").update(r).eq("id",e).select(xo).maybeSingle();if(l||!o)throw console.error("No se pudo actualizar el trabajo",l),l??new Error("Falta respuesta al actualizar trabajo");i=o}else{const{data:o,error:l}=await Lt.from("works").select(xo).eq("id",e).maybeSingle();if(l||!o)throw l??new Error("Trabajo no encontrado");i=o}if(t.collaboratorEmails){const o=ek(t.collaboratorEmails),l=tk(i.work_collaborators),u=l.map(v=>v.email),c=o.filter(v=>!u.includes(v)),f=l.filter(v=>!o.includes(v.email));if(c.length>0){const v=c.map(E=>({work_id:e,email:E})),{error:y}=await Lt.from("work_collaborators").insert(v);if(y)throw console.error("No se pudieron aadir los colaboradores",y),y}if(f.length>0){const v=f.map(E=>E.email),{error:y}=await Lt.from("work_collaborators").delete().eq("work_id",e).in("email",v);if(y)throw console.error("No se pudieron eliminar colaboradores",y),y}const{data:h,error:p}=await Lt.from("works").select(xo).eq("id",e).maybeSingle();if(p||!h)throw p??new Error("Error al refrescar colaboradores");i=h}return Xp(i,n)}async function oA(e){const{error:t}=await Lt.from("works").delete().eq("id",e);if(t)throw console.error("No se pudo eliminar el trabajo",t),t}const An={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes",kungfuPrograms:"sport-planner-kungfu-programs",kungfuCadence:"sport-planner-kungfu-cadence",kungfuTodayPlan:"sport-planner-kungfu-today-plan"},nk=typeof window<"u",jt=()=>new Date().toISOString(),as="18:30",co=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],fo={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},gn={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},Lx=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim().toLowerCase()).filter(t=>t.length>0))),aA=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim()).filter(t=>t.length>0))),rk=e=>e==="count"||e==="minutes"||e==="both",lA=e=>e==="work"||e==="note",uA=e=>e==="overdue"||e==="weighted",cA=e=>e==="allow_all"||e==="prefer_leaves",dA=e=>{const t={},n=Lx(e.byTags),r=Lx(e.byNodeTypes),i=aA(e.byWorkIds);return n.length>0&&(t.byTags=n),r.length>0&&(t.byNodeTypes=r),i.length>0&&(t.byWorkIds=i),t},Co=e=>(e??[]).map(dA).filter(t=>Object.keys(t).length>0),fA=e=>{if(!Array.isArray(e))return[];const t=e.map(n=>Number(n)).filter(n=>Number.isFinite(n)).map(n=>Math.round(n)).filter(n=>n>=0&&n<=6);return Array.from(new Set(t)).sort((n,r)=>n-r)},hA=e=>{const t={};return!e||typeof e!="object"?{...gn.defaultMinutesByNodeType}:(Object.entries(e).forEach(([n,r])=>{const i=n.trim().toLowerCase(),o=Number(r);i&&Number.isFinite(o)&&(t[i]=Math.max(.25,o))}),Object.keys(t).length>0?t:{...gn.defaultMinutesByNodeType})},pA=(e,t)=>{const n=String(e.id??"").trim()||Gt(),r=lA(e.type)?e.type:"work",i=typeof e.enabled=="boolean"?e.enabled:!0,o=String(e.name??"").trim()||(r==="note"?"Recap":"Grupo"),l=Number.isFinite(Number(e.order))?Number(e.order):t,u=fA(e.daysOfWeek),c=rk(e.limitMode)?e.limitMode:"minutes",f=Number.isFinite(Number(e.maxItems))?Math.max(0,Math.round(Number(e.maxItems))):void 0,h=Number.isFinite(Number(e.minutesBudget))?Math.max(0,Number(e.minutesBudget)):void 0,p=uA(e.strategy)?e.strategy:"overdue",v=cA(e.hierarchyRule)?e.hierarchyRule:"allow_all",y=Co(e.include),E=Co(e.exclude);return{id:n,name:o,enabled:i,order:l,type:r,daysOfWeek:u,limitMode:c,maxItems:f,minutesBudget:h,strategy:p,hierarchyRule:v,include:y,exclude:E}},mA=e=>{var f,h,p;const t=Math.max(0,Number((f=e.template)==null?void 0:f.focusMinutes)||0),n=Math.max(0,Number((h=e.template)==null?void 0:h.rouletteMinutes)||0),r=Math.max(0,Number((p=e.template)==null?void 0:p.recapMinutes)||0),i=Co(e.focusSelectors),o=Co(e.rouletteSelectors),l=i.length>0?i:[{byNodeTypes:["segment","form"]}],u=o.length>0?o:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],c=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:t>0?t:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:l,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:n>0?n:10,strategy:"weighted",hierarchyRule:"allow_all",include:u,exclude:[]}];return r>0&&c.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:r}),c},np=e=>{var E,w,S;const t=e??gn,n=rk(t.limitMode)?t.limitMode:gn.limitMode,r=Math.max(1,Math.round(Number(t.maxItems)||gn.maxItems)),i=Math.max(1,Number(t.minutesBudget)||gn.minutesBudget),o=Math.max(0,Number((E=t.template)==null?void 0:E.focusMinutes)||gn.template.focusMinutes),l=Math.max(0,Number((w=t.template)==null?void 0:w.rouletteMinutes)||gn.template.rouletteMinutes),u=Math.max(0,Number((S=t.template)==null?void 0:S.recapMinutes)||gn.template.recapMinutes),c=Math.max(0,o+l+u),f=hA(t.defaultMinutesByNodeType),h=Co(t.focusSelectors),p=Co(t.rouletteSelectors),y=((t.groups??[]).length>0?t.groups??[]:mA(t)).map((C,_)=>pA(C,_+1)).sort((C,_)=>C.order-_.order).map((C,_)=>({...C,order:_+1}));return{...t,limitMode:n,maxItems:r,minutesBudget:i,template:{totalMinutes:c,focusMinutes:o,rouletteMinutes:l,recapMinutes:u},defaultMinutesByNodeType:f,focusSelectors:h,rouletteSelectors:p,groups:y}},Pn=e=>{if(!e)return null;const t=e.trim();return t.length>0?t:null},Fu=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),gr=e=>{if(!e)return;const t=e.trim();return t.length>0?t:void 0},rp=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),Ni=e=>{const t=jt(),n=Pn(e.parentWorkId??null),r=Pn(e.nextWorkId??null),i=Pn(e.variantOfWorkId??null),o=gr(e.nodeType??void 0),l=Fu(e.tags),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:void 0,c=(e.collaborators??[]).map((p,v)=>({id:p.id??`${e.id}-collab-${v}`,email:(p.email??"").trim().toLowerCase(),role:p.role??"editor",userId:p.userId??null,createdAt:p.createdAt??t})),f=rp([...e.collaboratorEmails??[],...c.map(p=>p.email)]),h=Array.isArray(e.videoUrls)?e.videoUrls.map(p=>typeof p=="string"?p.trim():"").filter(Boolean):[];return{id:e.id,name:e.name??"Trabajo sin nombre",subtitle:gr(e.subtitle),objectiveId:e.objectiveId??"",parentWorkId:n,nodeType:o,tags:l,orderHint:u,nextWorkId:r,variantOfWorkId:i,descriptionMarkdown:e.descriptionMarkdown??"",estimatedMinutes:e.estimatedMinutes??0,notes:gr(e.notes),videoUrls:h,createdAt:e.createdAt??t,updatedAt:e.updatedAt??t,visibility:e.visibility??"private",ownerId:e.ownerId??"local-owner",ownerEmail:(e.ownerEmail??"").trim().toLowerCase(),collaborators:c,collaboratorEmails:f,canEdit:e.canEdit??!0,isOwner:e.isOwner??!0}},gA=(e,t,n)=>{var o;if(!n)return!1;if(n===t)return!0;const r=new Set;let i=n;for(;i;){if(i===t)return!0;if(r.has(i))break;r.add(i),i=((o=e.find(u=>u.id===i))==null?void 0:o.parentWorkId)??null}return!1},rs=(e,t)=>{if(!nk)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},ik=e=>e==="present"||e==="absent"||e==="pending",sk=e=>e==="present"||e==="absent",ip=e=>(e??[]).map(t=>{const n=ik(t.status)?t.status:"pending",r=sk(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),it=e=>{if(!nk)return;const t=sp(e);window.localStorage.setItem(An.objectives,JSON.stringify(t.objectives)),window.localStorage.setItem(An.works,JSON.stringify(t.works)),window.localStorage.setItem(An.sessions,JSON.stringify(t.sessions)),window.localStorage.setItem(An.assistants,JSON.stringify(t.assistants)),window.localStorage.setItem(An.kungfuPrograms,JSON.stringify(t.kungfuPrograms)),window.localStorage.setItem(An.kungfuCadence,JSON.stringify(t.kungfuCadence)),window.localStorage.setItem(An.kungfuTodayPlan,JSON.stringify(t.kungfuTodayPlan))},sp=e=>({objectives:e.objectives??[],works:(e.works??[]).map(t=>{const n=t.parent_work_id;return Ni({...t,id:t.id,parentWorkId:Pn(t.parentWorkId??n??null)})}),sessions:(e.sessions??[]).map(t=>({...t,kind:t.kind??"class",startTime:t.startTime??as,workItems:(t.workItems??[]).map(n=>({...n,focusLabel:n.focusLabel,completed:n.completed??!1})),attendance:ip(t.attendance)})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??co,kungfuCadence:e.kungfuCadence??fo,kungfuTodayPlan:np(e.kungfuTodayPlan??gn)}),Te=ZR((e,t)=>({ready:!1,objectives:[],works:[],worksLoading:!1,sessions:[],assistants:[],kungfuPrograms:co,kungfuCadence:fo,kungfuTodayPlan:gn,hydrate:()=>{if(t().ready)return;const n=rs(An.objectives,[]),r=rs(An.works,[]).map(f=>{const h=f.parent_work_id;return Ni({...f,id:f.id,parentWorkId:Pn(f.parentWorkId??h??null)})}),i=rs(An.sessions,[]).map(f=>({...f,kind:f.kind??"class",startTime:f.startTime??as,workItems:(f.workItems??[]).map(h=>({...h,focusLabel:h.focusLabel,completed:h.completed??!1})),attendance:ip(f.attendance)})),o=rs(An.assistants,[]),l=rs(An.kungfuPrograms,co),u=rs(An.kungfuCadence,fo),c=rs(An.kungfuTodayPlan,gn);e({objectives:n,works:r,sessions:i,assistants:o,kungfuPrograms:l,kungfuCadence:u,kungfuTodayPlan:np(c),ready:!0})},setCollections:n=>{e(r=>{const i=sp({objectives:n.objectives??r.objectives,works:n.works??r.works,sessions:n.sessions??r.sessions,assistants:n.assistants??r.assistants,kungfuPrograms:n.kungfuPrograms??r.kungfuPrograms,kungfuCadence:n.kungfuCadence??r.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan??r.kungfuTodayPlan}),o={...r,...i,ready:!0};return it(i),o})},setWorks:n=>{const r=n.map(i=>Ni(i));e(i=>{const o={...i,works:r};return it({works:r}),o})},loadWorks:async n=>{e({worksLoading:!0});try{const i=(await iA(n)).map(p=>Ni(p)),o=t().works,l=new Set(i.map(p=>p.id)),u=o.filter(p=>!l.has(p.id)&&(!p.ownerId||p.ownerId==="local-owner"||p.ownerId===n.actorId)),c=[];for(const p of u)try{const v=await Dx({id:p.id,name:p.name,subtitle:p.subtitle,objectiveId:p.objectiveId,parentWorkId:p.parentWorkId??null,nodeType:p.nodeType,tags:p.tags,orderHint:p.orderHint,nextWorkId:p.nextWorkId??null,variantOfWorkId:p.variantOfWorkId??null,descriptionMarkdown:p.descriptionMarkdown,estimatedMinutes:p.estimatedMinutes,notes:p.notes,videoUrls:p.videoUrls,visibility:p.visibility??"private",collaboratorEmails:p.collaboratorEmails??[]},n),y=Ni(v);c.push(y),l.add(y.id)}catch(v){console.error(`No se pudo migrar el trabajo legacy ${p.id}`,v)}const f=[...i];c.forEach(p=>{if(!l.has(p.id))l.add(p.id),f.push(p);else{const v=f.findIndex(y=>y.id===p.id);v>=0?f[v]=p:f.push(p)}});const h=f.map(p=>Ni(p)).sort((p,v)=>p.name.localeCompare(v.name,"es",{sensitivity:"base"}));e(p=>{const v={...p,works:h};return it({works:h}),v})}finally{e({worksLoading:!1})}},reset:()=>{e(n=>{const r=sp({objectives:[],works:[],sessions:[],assistants:[],kungfuPrograms:co,kungfuCadence:fo,kungfuTodayPlan:gn}),i={...n,...r,ready:!0,worksLoading:!1};return it(i),i})},setKungfuPrograms:n=>{const r=Array.isArray(n)?n:co;e(i=>{const o={...i,kungfuPrograms:r};return it(o),o})},setKungfuCadence:n=>{const r=n??fo;e(i=>{const o={...i,kungfuCadence:r};return it(o),o})},setKungfuTodayPlan:n=>{const r=np(n??gn);e(i=>{const o={...i,kungfuTodayPlan:r};return it(o),o})},addObjective:n=>{const r={id:Gt(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:jt(),updatedAt:jt()};return e(i=>{const o={objectives:[...i.objectives,r]},l={...i,...o};return it(l),l}),r},updateObjective:(n,r)=>{e(i=>{const o=i.objectives.map(u=>u.id===n?{...u,...r,updatedAt:jt()}:u),l={...i,objectives:o};return it(l),l})},deleteObjective:n=>t().works.some(i=>i.objectiveId===n)?!1:(e(i=>{const o=i.objectives.filter(u=>u.id!==n),l={...i,objectives:o};return it(l),l}),!0),addWork:async(n,r)=>{const i=t(),o=Pn(n.parentWorkId),l=o&&i.works.some(h=>h.id===o)?o:null,u={name:n.name,subtitle:gr(n.subtitle),objectiveId:n.objectiveId,parentWorkId:l,nodeType:gr(n.nodeType)??void 0,tags:Fu(n.tags),orderHint:typeof n.orderHint=="number"&&Number.isFinite(n.orderHint)?n.orderHint:void 0,nextWorkId:Pn(n.nextWorkId??null),variantOfWorkId:Pn(n.variantOfWorkId??null),descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:gr(n.notes),videoUrls:(n.videoUrls??[]).map(h=>h.trim()).filter(h=>h.length>0),visibility:n.visibility??"private",collaboratorEmails:rp(n.collaboratorEmails??[])},c=await Dx(u,r),f=Ni(c);return e(h=>{const p=[...h.works.filter(v=>v.id!==f.id),f];return it({works:p}),{...h,works:p}}),f},updateWork:async(n,r,i)=>{const o=t(),l=o.works.find(p=>p.id===n);if(!l)throw new Error("Trabajo no encontrado");let u=l.parentWorkId??null;if(r.parentWorkId!==void 0){const p=Pn(r.parentWorkId);p&&(!o.works.some(v=>v.id===p)||gA(o.works,n,p))?u=null:u=p}const c={...r,subtitle:r.subtitle!==void 0?gr(r.subtitle)??null:void 0,parentWorkId:u,nodeType:r.nodeType!==void 0?gr(r.nodeType??void 0)??null:void 0,tags:r.tags?Fu(r.tags):void 0,orderHint:r.orderHint!==void 0?typeof r.orderHint=="number"&&Number.isFinite(r.orderHint)?r.orderHint:null:void 0,nextWorkId:r.nextWorkId!==void 0?Pn(r.nextWorkId??null):void 0,variantOfWorkId:r.variantOfWorkId!==void 0?Pn(r.variantOfWorkId??null):void 0,notes:r.notes!==void 0?gr(r.notes)??null:void 0,videoUrls:r.videoUrls?r.videoUrls.map(p=>p.trim()).filter(p=>p.length>0):void 0,collaboratorEmails:r.collaboratorEmails?rp(r.collaboratorEmails):void 0},f=await sA(n,c,i),h=Ni(f);return e(p=>{const v=p.works.map(y=>y.id===h.id?h:y);return it({works:v}),{...p,works:v}}),h},deleteWork:async(n,r)=>t().sessions.some(l=>l.workItems.some(u=>u.workId===n))||t().works.some(l=>l.parentWorkId===n)?!1:(await oA(n),e(l=>{const u=l.works.filter(c=>c.id!==n);return it({works:u}),{...l,works:u}}),!0),addSession:n=>{const r={id:Gt(),date:n.date,kind:n.kind??"class",title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??as,createdAt:jt(),updatedAt:jt()};return e(i=>{const o=[...i.sessions,r],l={...i,sessions:o};return it(l),l}),r},duplicateSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o=jt(),l={...i,id:Gt(),date:r,startTime:i.startTime??as,createdAt:o,updatedAt:o,title:`${i.title} (copia)`};return l.workItems=i.workItems.slice().sort((u,c)=>u.order-c.order).map((u,c)=>({...u,id:Gt(),order:c,completed:!1})),l.attendance=i.attendance.map(u=>({assistantId:u.assistantId,status:"pending",notes:u.notes,actualStatus:void 0,actualNotes:void 0})),e(u=>{const c=[...u.sessions,l],f={...u,sessions:c};return it(f),f}),l},updateSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,...r,updatedAt:jt()}:u),l={...i,sessions:o};return it(l),l})},deleteSession:n=>{e(r=>{const i=r.sessions.filter(l=>l.id!==n),o={...r,sessions:i};return it(o),o})},updateSessionWorkItems:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,workItems:r.map((c,f)=>({...c,order:f})),updatedAt:jt()}:u),l={...i,sessions:o};return it(l),l})},addWorkToSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o={id:Gt(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:i.workItems.length},l={...i,workItems:[...i.workItems,o],updatedAt:jt()};return e(u=>{const c=u.sessions.map(h=>h.id===n?l:h),f={...u,sessions:c};return it(f),f}),o},duplicateSessionWork:(n,r)=>{let i,o=!1;return e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.workItems.findIndex(w=>w.id===r);if(h===-1)return f;o=!0;const v={...f.workItems[h],id:Gt(),completed:!1},y=[...f.workItems];y.splice(h+1,0,v);const E=y.map((w,S)=>{const C={...w,order:S};return w.id===v.id&&(i=C),C});return{...f,workItems:E,updatedAt:jt()}});if(!o)return l;const c={...l,sessions:u};return it(c),c}),i},removeWorkFromSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>{if(u.id!==n)return u;const c=u.workItems.filter(f=>f.id!==r).map((f,h)=>({...f,order:h}));return{...u,workItems:c,updatedAt:jt()}}),l={...i,sessions:o};return it(l),l})},toggleSessionWorkCompletion:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,completed:i}:f),updatedAt:jt()}),u={...o,sessions:l};return it(u),u})},reorderSessionWork:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=[...c.workItems],[h]=f.splice(r,1);return f.splice(i,0,h),{...c,workItems:f.map((p,v)=>({...p,order:v})),updatedAt:jt()}}),u={...o,sessions:l};return it(u),u})},updateSessionWorkDetails:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,...i}:f),updatedAt:jt()}),u={...o,sessions:l};return it(u),u})},replaceSessionWork:(n,r,i)=>{t().works.some(o=>o.id===i)&&e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=c.workItems.map(h=>h.id!==r?h:{...h,workId:i,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...c,workItems:f,updatedAt:jt()}}),u={...o,sessions:l};return it(u),u})},setAttendanceActualStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;if(h)p=f.attendance.map(v=>{if(v.assistantId!==r)return v;const y={...v,actualStatus:i};return typeof o<"u"&&(y.actualNotes=o),y});else{const v={assistantId:r,status:"pending",actualStatus:i};typeof o<"u"&&(v.actualNotes=o),p=[...f.attendance,v]}return{...f,attendance:p,updatedAt:jt()}}),c={...l,sessions:u};return it(c),c})},setAttendanceStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;return h?p=f.attendance.map(v=>v.assistantId===r?{...v,status:i,notes:o}:v):p=[...f.attendance,{assistantId:r,status:i,notes:o}],{...f,attendance:p,updatedAt:jt()}}),c={...l,sessions:u};return it(c),c})},addAssistant:n=>{const r={id:Gt(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:jt(),updatedAt:jt()};return e(i=>{const o=[...i.assistants,r],l={...i,assistants:o};return it(l),l}),r},updateAssistant:(n,r)=>{e(i=>{const o=i.assistants.map(u=>u.id===n?{...u,...r,updatedAt:jt()}:u),l={...i,assistants:o};return it(l),l})},deleteAssistant:n=>{e(r=>{const i=r.assistants.filter(u=>u.id!==n),o=r.sessions.map(u=>({...u,attendance:u.attendance.filter(c=>c.assistantId!==n)})),l={...r,assistants:i,sessions:o};return it(l),l})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versin de backup no soportada");const i=jt(),o=(n.objetivos??[]).map(S=>({...S,createdAt:S.createdAt??i,updatedAt:S.updatedAt??i})),l=(n.trabajos??[]).map(S=>{const C=S.parent_work_id,_=S.node_type,j=S.tags,M=S.order_hint,A=S.next_work_id,R=S.variant_of_work_id;return{...S,subtitle:gr(S.subtitle),parentWorkId:Pn(S.parentWorkId??C??null),nodeType:gr(S.nodeType??_??void 0),tags:Fu(Array.isArray(S.tags)?S.tags:Array.isArray(j)?j:[]),orderHint:typeof S.orderHint=="number"?S.orderHint:typeof M=="number"?M:void 0,nextWorkId:Pn(S.nextWorkId??A??null),variantOfWorkId:Pn(S.variantOfWorkId??R??null),createdAt:S.createdAt??i,updatedAt:S.updatedAt??i,videoUrls:S.videoUrls??[]}}),u=(n.asistentes??[]).map(S=>({...S,createdAt:S.createdAt??i,updatedAt:S.updatedAt??i,active:S.active??!0})),c=n.kungfuPrograms??co,f=n.kungfuCadence??fo,h=n.kungfuTodayPlan??gn,p=new Map;(n.sesiones??[]).forEach(S=>{const C=S.id??Gt(),_={id:C,date:S.date??He().format("YYYY-MM-DD"),kind:S.kind??"class",title:S.title??"Sesin importada",description:S.description,notes:S.notes,workItems:(S.workItems??[]).map((j,M)=>({id:j.id??Gt(),workId:j.workId,order:j.order??M,customDescriptionMarkdown:j.customDescriptionMarkdown,customDurationMinutes:j.customDurationMinutes,notes:j.notes,focusLabel:j.focusLabel,completed:j.completed??!1,result:j.result,effort:j.effort})),attendance:ip(S.attendance),startTime:S.startTime??as,createdAt:S.createdAt??i,updatedAt:S.updatedAt??i};_.workItems=_.workItems.sort((j,M)=>j.order-M.order).map((j,M)=>({...j,order:M})),p.set(C,_)}),(n.sesiones_trabajos??[]).forEach(S=>{const C=S.session_id;if(!C)return;p.has(C)||p.set(C,{id:C,date:S.fecha?He(S.fecha).format("YYYY-MM-DD"):He().format("YYYY-MM-DD"),kind:"class",title:S.titulo??"Sesin importada",description:S.descripcion,notes:S.notasSesion??S.notas,workItems:[],attendance:[],startTime:as,createdAt:i,updatedAt:i});const _=p.get(C);_.workItems.push({id:S.id??Gt(),workId:S.trabajo_id,order:S.orden??_.workItems.length,customDescriptionMarkdown:S.descripcionPersonalizada,customDurationMinutes:S.duracionPersonalizada,notes:S.notas,focusLabel:S.focusLabel??S.foco,completed:S.completed??!1,result:S.result??S.resultado,effort:S.effort??S.esfuerzo})}),p.forEach(S=>{S.workItems=S.workItems.sort((C,_)=>C.order-_.order).map((C,_)=>({...C,order:_})),S.startTime=S.startTime??as});const v=new Map,y=S=>ik(S)?S:void 0,E=S=>sk(S)?S:void 0;(n.sesiones_asistencias??[]).forEach(S=>{const C=S.session_id;if(!C)return;const _=S.assistantId??S.asistente_id;if(!_)return;const j=y(S.status??S.estado)??"pending",M=E(S.actualStatus??S.estado_real),A={assistantId:_,status:j,notes:S.notes??S.notas,actualStatus:M,actualNotes:S.actualNotes??S.notas_reales},R=v.get(C)??[];R.push(A),v.set(C,R)}),v.forEach((S,C)=>{const _=p.get(C);_&&(_.attendance=S)});const w=Array.from(p.values());e({objectives:o,works:l,sessions:w,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h,ready:!0}),it({objectives:o,works:l,sessions:w,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(u=>u.workItems.map(c=>({id:c.id,session_id:u.id,trabajo_id:c.workId,orden:c.order,descripcionPersonalizada:c.customDescriptionMarkdown,duracionPersonalizada:c.customDurationMinutes,notas:c.notes,foco:c.focusLabel,focusLabel:c.focusLabel,completed:c.completed??!1,result:c.result,effort:c.effort}))),i=n.sessions.flatMap(u=>u.attendance.map(c=>({session_id:u.id,assistantId:c.assistantId,estado:c.status,notas:c.notes,...c.actualStatus?{actualStatus:c.actualStatus,estado_real:c.actualStatus}:{},...c.actualNotes?{actualNotes:c.actualNotes,notas_reales:c.actualNotes}:{}}))),o=n.sessions.map(u=>({id:u.id,date:u.date,kind:u.kind,title:u.title,description:u.description,notes:u.notes,startTime:u.startTime,createdAt:u.createdAt,updatedAt:u.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:o,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:i,kungfuPrograms:n.kungfuPrograms,kungfuCadence:n.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan}}})),$x=1,vA=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],yA={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},xA={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},Nu=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants,kungfuPrograms:e.kungfuPrograms,kungfuCadence:e.kungfuCadence,kungfuTodayPlan:e.kungfuTodayPlan}),wA=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,kind:t.kind??"class",workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??vA,kungfuCadence:e.kungfuCadence??yA,kungfuTodayPlan:e.kungfuTodayPlan??xA}),bA=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants||e.kungfuPrograms!==t.kungfuPrograms||e.kungfuCadence!==t.kungfuCadence||e.kungfuTodayPlan!==t.kungfuTodayPlan;function kA(){const{user:e}=Ss(),t=Te(f=>f.setCollections),n=Te(f=>f.reset),r=Te(f=>f.ready),i=k.useRef(!1),o=k.useRef(null),l=k.useRef(null),u=k.useRef(null),c=k.useRef(Nu(Te.getState()));k.useEffect(()=>()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]),k.useEffect(()=>{e||(n(),u.current=null,l.current=null,i.current=!1,c.current=Nu(Te.getState()),o.current&&(window.clearTimeout(o.current),o.current=null))},[e,n]),k.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:v,error:y}=await Lt.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(y&&y.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",y);return}const E=v;if(E!=null&&E.data){const w=wA(E.data??{});i.current=!0,u.current=E.updated_at,c.current=w,t(w)}else if(r){const w=Nu(Te.getState());l.current=null;const{error:S,data:C}=await Lt.from("planner_states").upsert({user_id:e.id,data:{version:$x,...w}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),_=C;S?console.error("No se pudo inicializar el estado remoto",S):_&&(u.current=_.updated_at)}})();const p=Te.subscribe(v=>{if(!f)return;const y=Nu(v);if(i.current){i.current=!1,c.current=y,l.current=null;return}const E=c.current;bA(y,E)&&(c.current=y,l.current=y,o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{if(!l.current)return;const w=l.current;l.current=null,(async()=>{const{error:S,data:C}=await Lt.from("planner_states").upsert({user_id:e.id,data:{version:$x,...w}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),_=C;S?console.error("No se pudo guardar el estado remoto",S):_&&(u.current=_.updated_at)})()},600))});return()=>{f=!1,p(),o.current&&(window.clearTimeout(o.current),o.current=null)}},[e,r,t])}function SA(){const{user:e}=Ss(),t=Te(r=>r.loadWorks),n=Te(r=>r.setWorks);k.useEffect(()=>{if(!e){n([]);return}const r={actorId:e.id,actorEmail:e.email??""},i=async()=>{try{await t(r)}catch(l){console.error("No se pudieron sincronizar los trabajos colaborativos",l)}};i();const o=Lt.channel("works-collaboration").on("postgres_changes",{event:"*",schema:"public",table:"works"},()=>{i()}).on("postgres_changes",{event:"*",schema:"public",table:"work_collaborators"},()=>{i()}).subscribe();return()=>{Lt.removeChannel(o)}},[e,t,n])}var zu={exports:{}},EA=zu.exports,Fx;function _A(){return Fx||(Fx=1,(function(e,t){(function(n,r){e.exports=r(Zb())})(EA,(function(n){function r(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=r(n),o={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(l){return l+""}};return i.default.locale(o,null,!0),o}))})(zu)),zu.exports}_A();function Li({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return g.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[g.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function CA(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const jA=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NA=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,TA={};function zx(e,t){return(TA.jsx?NA:jA).test(e)}const IA=/[ \t\n\f\r]/g;function PA(e){return typeof e=="object"?e.type==="text"?Bx(e.value):!1:Bx(e)}function Bx(e){return e.replace(IA,"")===""}class al{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}al.prototype.normal={};al.prototype.property={};al.prototype.space=void 0;function ok(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new al(n,r,t)}function op(e){return e.toLowerCase()}class Mn{constructor(t,n){this.attribute=n,this.property=t}}Mn.prototype.attribute="";Mn.prototype.booleanish=!1;Mn.prototype.boolean=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.defined=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.number=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.property="";Mn.prototype.spaceSeparated=!1;Mn.prototype.space=void 0;let RA=0;const Ve=_s(),At=_s(),ap=_s(),ye=_s(),pt=_s(),wo=_s(),Un=_s();function _s(){return 2**++RA}const lp=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ve,booleanish:At,commaOrSpaceSeparated:Un,commaSeparated:wo,number:ye,overloadedBoolean:ap,spaceSeparated:pt},Symbol.toStringTag,{value:"Module"})),eh=Object.keys(lp);class Zp extends Mn{constructor(t,n,r,i){let o=-1;if(super(t,n),Ux(this,"space",i),typeof r=="number")for(;++o<eh.length;){const l=eh[o];Ux(this,eh[o],(r&lp[l])===lp[l])}}}Zp.prototype.defined=!0;function Ux(e,t,n){n&&(e[t]=n)}function Oo(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Zp(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[op(r)]=r,n[op(o.attribute)]=r}return new al(t,n,e.space)}const ak=Oo({properties:{ariaActiveDescendant:null,ariaAtomic:At,ariaAutoComplete:null,ariaBusy:At,ariaChecked:At,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:pt,ariaCurrent:null,ariaDescribedBy:pt,ariaDetails:null,ariaDisabled:At,ariaDropEffect:pt,ariaErrorMessage:null,ariaExpanded:At,ariaFlowTo:pt,ariaGrabbed:At,ariaHasPopup:null,ariaHidden:At,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pt,ariaLevel:ye,ariaLive:null,ariaModal:At,ariaMultiLine:At,ariaMultiSelectable:At,ariaOrientation:null,ariaOwns:pt,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:At,ariaReadOnly:At,ariaRelevant:null,ariaRequired:At,ariaRoleDescription:pt,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:At,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function lk(e,t){return t in e?e[t]:t}function uk(e,t){return lk(e,t.toLowerCase())}const AA=Oo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wo,acceptCharset:pt,accessKey:pt,action:null,allow:null,allowFullScreen:Ve,allowPaymentRequest:Ve,allowUserMedia:Ve,alt:null,as:null,async:Ve,autoCapitalize:null,autoComplete:pt,autoFocus:Ve,autoPlay:Ve,blocking:pt,capture:null,charSet:null,checked:Ve,cite:null,className:pt,cols:ye,colSpan:null,content:null,contentEditable:At,controls:Ve,controlsList:pt,coords:ye|wo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ve,defer:Ve,dir:null,dirName:null,disabled:Ve,download:ap,draggable:At,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ve,formTarget:null,headers:pt,height:ye,hidden:ap,high:ye,href:null,hrefLang:null,htmlFor:pt,httpEquiv:pt,id:null,imageSizes:null,imageSrcSet:null,inert:Ve,inputMode:null,integrity:null,is:null,isMap:Ve,itemId:null,itemProp:pt,itemRef:pt,itemScope:Ve,itemType:pt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ve,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:Ve,muted:Ve,name:null,nonce:null,noModule:Ve,noValidate:Ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ve,optimum:ye,pattern:null,ping:pt,placeholder:null,playsInline:Ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ve,referrerPolicy:null,rel:pt,required:Ve,reversed:Ve,rows:ye,rowSpan:ye,sandbox:pt,scope:null,scoped:Ve,seamless:Ve,selected:Ve,shadowRootClonable:Ve,shadowRootDelegatesFocus:Ve,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:At,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:Ve,useMap:null,value:At,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pt,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ve,declare:Ve,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:Ve,noHref:Ve,noShade:Ve,noWrap:Ve,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:At,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ve,disableRemotePlayback:Ve,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:uk}),OA=Oo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Un,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:pt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:Ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wo,g2:wo,glyphName:wo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:Un,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Un,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Un,rev:Un,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Un,requiredFeatures:Un,requiredFonts:Un,requiredFormats:Un,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:Un,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Un,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Un,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lk}),ck=Oo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),dk=Oo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:uk}),fk=Oo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),MA={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},DA=/[A-Z]/g,Wx=/-[a-z]/g,LA=/^data[-\w.:]+$/i;function $A(e,t){const n=op(t);let r=t,i=Mn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&LA.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Wx,zA);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Wx.test(o)){let l=o.replace(DA,FA);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=Zp}return new i(r,t)}function FA(e){return"-"+e.toLowerCase()}function zA(e){return e.charAt(1).toUpperCase()}const BA=ok([ak,AA,ck,dk,fk],"html"),em=ok([ak,OA,ck,dk,fk],"svg");function UA(e){return e.join(" ").trim()}var so={},th,Hx;function WA(){if(Hx)return th;Hx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",h="*",p="",v="comment",y="declaration";th=function(w,S){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];S=S||{};var C=1,_=1;function j(H){var B=H.match(t);B&&(C+=B.length);var F=H.lastIndexOf(c);_=~F?H.length-F:_+H.length}function M(){var H={line:C,column:_};return function(B){return B.position=new A(H),Z(),B}}function A(H){this.start=H,this.end={line:C,column:_},this.source=S.source}A.prototype.content=w;function R(H){var B=new Error(S.source+":"+C+":"+_+": "+H);if(B.reason=H,B.filename=S.source,B.line=C,B.column=_,B.source=w,!S.silent)throw B}function L(H){var B=H.exec(w);if(B){var F=B[0];return j(F),w=w.slice(F.length),B}}function Z(){L(n)}function Q(H){var B;for(H=H||[];B=O();)B!==!1&&H.push(B);return H}function O(){var H=M();if(!(f!=w.charAt(0)||h!=w.charAt(1))){for(var B=2;p!=w.charAt(B)&&(h!=w.charAt(B)||f!=w.charAt(B+1));)++B;if(B+=2,p===w.charAt(B-1))return R("End of comment missing");var F=w.slice(2,B-2);return _+=2,j(F),w=w.slice(B),_+=2,H({type:v,comment:F})}}function N(){var H=M(),B=L(r);if(B){if(O(),!L(i))return R("property missing ':'");var F=L(o),J=H({type:y,property:E(B[0].replace(e,p)),value:F?E(F[0].replace(e,p)):p});return L(l),J}}function Y(){var H=[];Q(H);for(var B;B=N();)B!==!1&&(H.push(B),Q(H));return H}return Z(),Y()};function E(w){return w?w.replace(u,p):p}return th}var Vx;function HA(){if(Vx)return so;Vx=1;var e=so&&so.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(so,"__esModule",{value:!0}),so.default=n;var t=e(WA());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var l=(0,t.default)(r),u=typeof i=="function";return l.forEach(function(c){if(c.type==="declaration"){var f=c.property,h=c.value;u?i(f,h,c):h&&(o=o||{},o[f]=h)}}),o}return so}var wa={},qx;function VA(){if(qx)return wa;qx=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},c=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,l))};return wa.camelCase=c,wa}var ba,Yx;function qA(){if(Yx)return ba;Yx=1;var e=ba&&ba.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(HA()),n=VA();function r(i,o){var l={};return!i||typeof i!="string"||(0,t.default)(i,function(u,c){u&&c&&(l[(0,n.camelCase)(u,o)]=c)}),l}return r.default=r,ba=r,ba}var YA=qA();const KA=No(YA),hk=pk("end"),tm=pk("start");function pk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function GA(e){const t=tm(e),n=hk(e);if(t&&n)return{start:t,end:n}}function Ma(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Kx(e.position):"start"in e||"end"in e?Kx(e):"line"in e||"column"in e?up(e):""}function up(e){return Gx(e&&e.line)+":"+Gx(e&&e.column)}function Kx(e){return up(e&&e.start)+"-"+up(e&&e.end)}function Gx(e){return e&&typeof e=="number"?e:1}class fn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Ma(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fn.prototype.file="";fn.prototype.name="";fn.prototype.reason="";fn.prototype.message="";fn.prototype.stack="";fn.prototype.column=void 0;fn.prototype.line=void 0;fn.prototype.ancestors=void 0;fn.prototype.cause=void 0;fn.prototype.fatal=void 0;fn.prototype.place=void 0;fn.prototype.ruleId=void 0;fn.prototype.source=void 0;const nm={}.hasOwnProperty,JA=new Map,QA=/[A-Z]/g,XA=new Set(["table","tbody","thead","tfoot","tr"]),ZA=new Set(["td","th"]),mk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eO(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=lO(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=aO(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?em:BA,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=gk(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function gk(e,t,n){if(t.type==="element")return tO(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return nO(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return iO(e,t,n);if(t.type==="mdxjsEsm")return rO(e,t);if(t.type==="root")return sO(e,t,n);if(t.type==="text")return oO(e,t)}function tO(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=em,e.schema=i),e.ancestors.push(t);const o=yk(e,t.tagName,!1),l=uO(e,t);let u=im(e,t);return XA.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!PA(c):!0})),vk(e,l,o,t),rm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function nO(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ka(e,t.position)}function rO(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ka(e,t.position)}function iO(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=em,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:yk(e,t.name,!0),l=cO(e,t),u=im(e,t);return vk(e,l,o,t),rm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function sO(e,t,n){const r={};return rm(r,im(e,t)),e.create(t,e.Fragment,r,n)}function oO(e,t){return t.value}function vk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function rm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function aO(e,t,n){return r;function r(i,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function lO(e,t){return n;function n(r,i,o,l){const u=Array.isArray(o.children),c=tm(r);return t(i,o,l,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function uO(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&nm.call(t.properties,i)){const o=dO(e,i,t.properties[i]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&ZA.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function cO(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Ka(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else Ka(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function im(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:JA;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=i.get(c)||0;l=c+"-"+f,i.set(c,f+1)}}const u=gk(e,o,l);u!==void 0&&n.push(u)}return n}function dO(e,t,n){const r=$A(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?CA(n):UA(n)),r.property==="style"){let i=typeof n=="object"?n:fO(e,String(n));return e.stylePropertyNameCase==="css"&&(i=hO(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?MA[r.property]||r.property:r.attribute,n]}}function fO(e,t){try{return KA(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new fn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=mk+"#cannot-parse-style-attribute",i}}function yk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const u=zx(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=zx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return nm.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ka(e)}function Ka(e,t){const n=new fn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=mk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function hO(e){const t={};let n;for(n in e)nm.call(e,n)&&(t[pO(n)]=e[n]);return t}function pO(e){let t=e.replace(QA,mO);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function mO(e){return"-"+e.toLowerCase()}const nh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},gO={};function sm(e,t){const n=gO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return xk(e,r,i)}function xk(e,t,n){if(vO(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Jx(e.children,t,n)}return Array.isArray(e)?Jx(e,t,n):""}function Jx(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=xk(e[i],t,n);return r.join("")}function vO(e){return!!(e&&typeof e=="object")}const Qx=document.createElement("i");function om(e){const t="&"+e+";";Qx.innerHTML=t;const n=Qx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function qn(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function rr(e,t){return e.length>0?(qn(e,e.length,0,t),e):t}const Xx={}.hasOwnProperty;function wk(e){const t={};let n=-1;for(;++n<e.length;)yO(t,e[n]);return t}function yO(e,t){let n;for(n in t){const i=(Xx.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){Xx.call(i,l)||(i[l]=[]);const u=o[l];xO(i[l],Array.isArray(u)?u:u?[u]:[])}}}function xO(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);qn(e,0,0,r)}function bk(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function xr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vn=zi(/[A-Za-z]/),dn=zi(/[\dA-Za-z]/),wO=zi(/[#-'*+\--9=?A-Z^-~]/);function oc(e){return e!==null&&(e<32||e===127)}const cp=zi(/\d/),bO=zi(/[\dA-Fa-f]/),kO=zi(/[!-/:-@[-`{-~]/);function $e(e){return e!==null&&e<-2}function ct(e){return e!==null&&(e<0||e===32)}function Je(e){return e===-2||e===-1||e===32}const Lc=zi(new RegExp("\\p{P}|\\p{S}","u")),vs=zi(/\s/);function zi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Mo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&dn(e.charCodeAt(n+1))&&dn(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ze(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(c){return Je(c)?(e.enter(n),u(c)):t(c)}function u(c){return Je(c)&&o++<i?(e.consume(c),u):(e.exit(n),t(c))}}const SO={tokenize:EO};function EO(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ze(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),o(u)}function o(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return $e(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const _O={tokenize:CO},Zx={tokenize:jO};function CO(e){const t=this,n=[];let r=0,i,o,l;return u;function u(j){if(r<n.length){const M=n[r];return t.containerState=M[1],e.attempt(M[0].continuation,c,f)(j)}return f(j)}function c(j){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&_();const M=t.events.length;let A=M,R;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){R=t.events[A][1].end;break}C(r);let L=M;for(;L<t.events.length;)t.events[L][1].end={...R},L++;return qn(t.events,A+1,0,t.events.slice(M)),t.events.length=L,f(j)}return u(j)}function f(j){if(r===n.length){if(!i)return v(j);if(i.currentConstruct&&i.currentConstruct.concrete)return E(j);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Zx,h,p)(j)}function h(j){return i&&_(),C(r),v(j)}function p(j){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,E(j)}function v(j){return t.containerState={},e.attempt(Zx,y,E)(j)}function y(j){return r++,n.push([t.currentConstruct,t.containerState]),v(j)}function E(j){if(j===null){i&&_(),C(0),e.consume(j);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),w(j)}function w(j){if(j===null){S(e.exit("chunkFlow"),!0),C(0),e.consume(j);return}return $e(j)?(e.consume(j),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(j),w)}function S(j,M){const A=t.sliceStream(j);if(M&&A.push(null),j.previous=o,o&&(o.next=j),o=j,i.defineSkip(j.start),i.write(A),t.parser.lazy[j.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<l&&(!i.events[R][1].end||i.events[R][1].end.offset>l))return;const L=t.events.length;let Z=L,Q,O;for(;Z--;)if(t.events[Z][0]==="exit"&&t.events[Z][1].type==="chunkFlow"){if(Q){O=t.events[Z][1].end;break}Q=!0}for(C(r),R=L;R<t.events.length;)t.events[R][1].end={...O},R++;qn(t.events,Z+1,0,t.events.slice(L)),t.events.length=R}}function C(j){let M=n.length;for(;M-- >j;){const A=n[M];t.containerState=A[1],A[0].exit.call(t,e)}n.length=j}function _(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function jO(e,t,n){return Ze(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jo(e){if(e===null||ct(e)||vs(e))return 1;if(Lc(e))return 2}function $c(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const dp={name:"attention",resolveAll:NO,tokenize:TO};function NO(e,t){let n=-1,r,i,o,l,u,c,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},v={...e[n][1].start};e0(p,-c),e0(v,c),l={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=rr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=rr(f,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=rr(f,$c(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=rr(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=rr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,qn(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function TO(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jo(r);let o;return l;function l(c){return o=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===o)return e.consume(c),u;const f=e.exit("attentionSequence"),h=jo(c),p=!h||h===2&&i||n.includes(c),v=!i||i===2&&h||n.includes(r);return f._open=!!(o===42?p:p&&(i||!v)),f._close=!!(o===42?v:v&&(h||!p)),t(c)}}function e0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const IO={name:"autolink",tokenize:PO};function PO(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(y){return vn(y)?(e.consume(y),l):y===64?n(y):f(y)}function l(y){return y===43||y===45||y===46||dn(y)?(r=1,u(y)):f(y)}function u(y){return y===58?(e.consume(y),r=0,c):(y===43||y===45||y===46||dn(y))&&r++<32?(e.consume(y),u):(r=0,f(y))}function c(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||oc(y)?n(y):(e.consume(y),c)}function f(y){return y===64?(e.consume(y),h):wO(y)?(e.consume(y),f):n(y)}function h(y){return dn(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,h):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):v(y)}function v(y){if((y===45||dn(y))&&r++<63){const E=y===45?v:p;return e.consume(y),E}return n(y)}}const ll={partial:!0,tokenize:RO};function RO(e,t,n){return r;function r(o){return Je(o)?Ze(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||$e(o)?t(o):n(o)}}const kk={continuation:{tokenize:OO},exit:MO,name:"blockQuote",tokenize:AO};function AO(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Je(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function OO(e,t,n){const r=this;return i;function i(l){return Je(l)?Ze(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(kk,t,n)(l)}}function MO(e){e.exit("blockQuote")}const Sk={name:"characterEscape",tokenize:DO};function DO(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return kO(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Ek={name:"characterReference",tokenize:LO};function LO(e,t,n){const r=this;let i=0,o,l;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=dn,h(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=bO,h):(e.enter("characterReferenceValue"),o=7,l=cp,h(p))}function h(p){if(p===59&&i){const v=e.exit("characterReferenceValue");return l===dn&&!om(r.sliceSerialize(v))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&i++<o?(e.consume(p),h):n(p)}}const t0={partial:!0,tokenize:FO},n0={concrete:!0,name:"codeFenced",tokenize:$O};function $O(e,t,n){const r=this,i={partial:!0,tokenize:A};let o=0,l=0,u;return c;function c(R){return f(R)}function f(R){const L=r.events[r.events.length-1];return o=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,u=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(R)}function h(R){return R===u?(l++,e.consume(R),h):l<3?n(R):(e.exit("codeFencedFenceSequence"),Je(R)?Ze(e,p,"whitespace")(R):p(R))}function p(R){return R===null||$e(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(t0,w,M)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(R))}function v(R){return R===null||$e(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(R)):Je(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ze(e,y,"whitespace")(R)):R===96&&R===u?n(R):(e.consume(R),v)}function y(R){return R===null||$e(R)?p(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(R))}function E(R){return R===null||$e(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(R)):R===96&&R===u?n(R):(e.consume(R),E)}function w(R){return e.attempt(i,M,S)(R)}function S(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),C}function C(R){return o>0&&Je(R)?Ze(e,_,"linePrefix",o+1)(R):_(R)}function _(R){return R===null||$e(R)?e.check(t0,w,M)(R):(e.enter("codeFlowValue"),j(R))}function j(R){return R===null||$e(R)?(e.exit("codeFlowValue"),_(R)):(e.consume(R),j)}function M(R){return e.exit("codeFenced"),t(R)}function A(R,L,Z){let Q=0;return O;function O(F){return R.enter("lineEnding"),R.consume(F),R.exit("lineEnding"),N}function N(F){return R.enter("codeFencedFence"),Je(F)?Ze(R,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):Y(F)}function Y(F){return F===u?(R.enter("codeFencedFenceSequence"),H(F)):Z(F)}function H(F){return F===u?(Q++,R.consume(F),H):Q>=l?(R.exit("codeFencedFenceSequence"),Je(F)?Ze(R,B,"whitespace")(F):B(F)):Z(F)}function B(F){return F===null||$e(F)?(R.exit("codeFencedFence"),L(F)):Z(F)}}}function FO(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const rh={name:"codeIndented",tokenize:BO},zO={partial:!0,tokenize:UO};function BO(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),Ze(e,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?c(f):$e(f)?e.attempt(zO,l,c)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||$e(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function c(f){return e.exit("codeIndented"),t(f)}}function UO(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):$e(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):Ze(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):$e(l)?i(l):n(l)}}const WO={name:"codeText",previous:VO,resolve:HO,tokenize:qO};function HO(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function VO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qO(e,t,n){let r=0,i,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),r++,u):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(o=e.enter("codeTextSequence"),i=0,h(p)):$e(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||$e(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),f)}function h(p){return p===96?(e.consume(p),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",f(p))}}class YO{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ka(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ka(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ka(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ka(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ka(this.left,n.reverse())}}}function ka(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _k(e){const t={};let n=-1,r,i,o,l,u,c,f;const h=new YO(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,KO(h,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return qn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function KO(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,c=[],f={};let h,p,v=-1,y=n,E=0,w=0;const S=[w];for(;y;){for(;e.get(++i)[1]!==y;);o.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(w=v+1,S.push(w),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),v=S.length;v--;){const C=u.slice(S[v],S[v+1]),_=o.pop();c.push([_,_+C.length-1]),e.splice(_,2,C)}for(c.reverse(),v=-1;++v<c.length;)f[E+c[v][0]]=E+c[v][1],E+=c[v][1]-c[v][0]-1;return f}const GO={resolve:QO,tokenize:XO},JO={partial:!0,tokenize:ZO};function QO(e){return _k(e),e}function XO(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):$e(u)?e.check(JO,l,o)(u):(e.consume(u),i)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function ZO(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ze(e,o,"linePrefix")}function o(l){if(l===null||$e(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Ck(e,t,n,r,i,o,l,u,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(C){return C===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(C),e.exit(o),v):C===null||C===32||C===41||oc(C)?n(C):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),w(C))}function v(C){return C===62?(e.enter(o),e.consume(C),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(e.exit("chunkString"),e.exit(u),v(C)):C===null||C===60||$e(C)?n(C):(e.consume(C),C===92?E:y)}function E(C){return C===60||C===62||C===92?(e.consume(C),y):y(C)}function w(C){return!h&&(C===null||C===41||ct(C))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(C)):h<f&&C===40?(e.consume(C),h++,w):C===41?(e.consume(C),h--,w):C===null||C===32||C===40||oc(C)?n(C):(e.consume(C),C===92?S:w)}function S(C){return C===40||C===41||C===92?(e.consume(C),w):w(C)}}function jk(e,t,n,r,i,o){const l=this;let u=0,c;return f;function f(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(o),h}function h(y){return u>999||y===null||y===91||y===93&&!c||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(e.exit(o),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):$e(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||$e(y)||u++>999?(e.exit("chunkString"),h(y)):(e.consume(y),c||(c=!Je(y)),y===92?v:p)}function v(y){return y===91||y===92||y===93?(e.consume(y),u++,p):p(y)}}function Nk(e,t,n,r,i,o){let l;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),l=v===40?41:v,c):n(v)}function c(v){return v===l?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(o),f(v))}function f(v){return v===l?(e.exit(o),c(l)):v===null?n(v):$e(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Ze(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===l||v===null||$e(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?p:h)}function p(v){return v===l||v===92?(e.consume(v),h):h(v)}}function Da(e,t){let n;return r;function r(i){return $e(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Je(i)?Ze(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const eM={name:"definition",tokenize:nM},tM={partial:!0,tokenize:rM};function nM(e,t,n){const r=this;let i;return o;function o(y){return e.enter("definition"),l(y)}function l(y){return jk.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return i=xr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),c):n(y)}function c(y){return ct(y)?Da(e,f)(y):f(y)}function f(y){return Ck(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return e.attempt(tM,p,p)(y)}function p(y){return Je(y)?Ze(e,v,"whitespace")(y):v(y)}function v(y){return y===null||$e(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function rM(e,t,n){return r;function r(u){return ct(u)?Da(e,i)(u):n(u)}function i(u){return Nk(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Je(u)?Ze(e,l,"whitespace")(u):l(u)}function l(u){return u===null||$e(u)?t(u):n(u)}}const iM={name:"hardBreakEscape",tokenize:sM};function sM(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return $e(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const oM={name:"headingAtx",resolve:aM,tokenize:lM};function aM(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},qn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function lM(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||ct(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||$e(h)?(e.exit("atxHeading"),t(h)):Je(h)?Ze(e,u,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||ct(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),f)}}const uM=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],r0=["pre","script","style","textarea"],cM={concrete:!0,name:"htmlFlow",resolveTo:hM,tokenize:pM},dM={partial:!0,tokenize:gM},fM={partial:!0,tokenize:mM};function hM(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function pM(e,t,n){const r=this;let i,o,l,u,c;return f;function f(T){return h(T)}function h(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),p}function p(T){return T===33?(e.consume(T),v):T===47?(e.consume(T),o=!0,w):T===63?(e.consume(T),i=3,r.interrupt?t:P):vn(T)?(e.consume(T),l=String.fromCharCode(T),S):n(T)}function v(T){return T===45?(e.consume(T),i=2,y):T===91?(e.consume(T),i=5,u=0,E):vn(T)?(e.consume(T),i=4,r.interrupt?t:P):n(T)}function y(T){return T===45?(e.consume(T),r.interrupt?t:P):n(T)}function E(T){const ne="CDATA[";return T===ne.charCodeAt(u++)?(e.consume(T),u===ne.length?r.interrupt?t:Y:E):n(T)}function w(T){return vn(T)?(e.consume(T),l=String.fromCharCode(T),S):n(T)}function S(T){if(T===null||T===47||T===62||ct(T)){const ne=T===47,pe=l.toLowerCase();return!ne&&!o&&r0.includes(pe)?(i=1,r.interrupt?t(T):Y(T)):uM.includes(l.toLowerCase())?(i=6,ne?(e.consume(T),C):r.interrupt?t(T):Y(T)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):o?_(T):j(T))}return T===45||dn(T)?(e.consume(T),l+=String.fromCharCode(T),S):n(T)}function C(T){return T===62?(e.consume(T),r.interrupt?t:Y):n(T)}function _(T){return Je(T)?(e.consume(T),_):O(T)}function j(T){return T===47?(e.consume(T),O):T===58||T===95||vn(T)?(e.consume(T),M):Je(T)?(e.consume(T),j):O(T)}function M(T){return T===45||T===46||T===58||T===95||dn(T)?(e.consume(T),M):A(T)}function A(T){return T===61?(e.consume(T),R):Je(T)?(e.consume(T),A):j(T)}function R(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),c=T,L):Je(T)?(e.consume(T),R):Z(T)}function L(T){return T===c?(e.consume(T),c=null,Q):T===null||$e(T)?n(T):(e.consume(T),L)}function Z(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||ct(T)?A(T):(e.consume(T),Z)}function Q(T){return T===47||T===62||Je(T)?j(T):n(T)}function O(T){return T===62?(e.consume(T),N):n(T)}function N(T){return T===null||$e(T)?Y(T):Je(T)?(e.consume(T),N):n(T)}function Y(T){return T===45&&i===2?(e.consume(T),J):T===60&&i===1?(e.consume(T),X):T===62&&i===4?(e.consume(T),$):T===63&&i===3?(e.consume(T),P):T===93&&i===5?(e.consume(T),V):$e(T)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(dM,G,H)(T)):T===null||$e(T)?(e.exit("htmlFlowData"),H(T)):(e.consume(T),Y)}function H(T){return e.check(fM,B,G)(T)}function B(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),F}function F(T){return T===null||$e(T)?H(T):(e.enter("htmlFlowData"),Y(T))}function J(T){return T===45?(e.consume(T),P):Y(T)}function X(T){return T===47?(e.consume(T),l="",D):Y(T)}function D(T){if(T===62){const ne=l.toLowerCase();return r0.includes(ne)?(e.consume(T),$):Y(T)}return vn(T)&&l.length<8?(e.consume(T),l+=String.fromCharCode(T),D):Y(T)}function V(T){return T===93?(e.consume(T),P):Y(T)}function P(T){return T===62?(e.consume(T),$):T===45&&i===2?(e.consume(T),P):Y(T)}function $(T){return T===null||$e(T)?(e.exit("htmlFlowData"),G(T)):(e.consume(T),$)}function G(T){return e.exit("htmlFlow"),t(T)}}function mM(e,t,n){const r=this;return i;function i(l){return $e(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function gM(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ll,t,n)}}const vM={name:"htmlText",tokenize:yM};function yM(e,t,n){const r=this;let i,o,l;return u;function u(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),c}function c(P){return P===33?(e.consume(P),f):P===47?(e.consume(P),A):P===63?(e.consume(P),j):vn(P)?(e.consume(P),Z):n(P)}function f(P){return P===45?(e.consume(P),h):P===91?(e.consume(P),o=0,E):vn(P)?(e.consume(P),_):n(P)}function h(P){return P===45?(e.consume(P),y):n(P)}function p(P){return P===null?n(P):P===45?(e.consume(P),v):$e(P)?(l=p,X(P)):(e.consume(P),p)}function v(P){return P===45?(e.consume(P),y):p(P)}function y(P){return P===62?J(P):P===45?v(P):p(P)}function E(P){const $="CDATA[";return P===$.charCodeAt(o++)?(e.consume(P),o===$.length?w:E):n(P)}function w(P){return P===null?n(P):P===93?(e.consume(P),S):$e(P)?(l=w,X(P)):(e.consume(P),w)}function S(P){return P===93?(e.consume(P),C):w(P)}function C(P){return P===62?J(P):P===93?(e.consume(P),C):w(P)}function _(P){return P===null||P===62?J(P):$e(P)?(l=_,X(P)):(e.consume(P),_)}function j(P){return P===null?n(P):P===63?(e.consume(P),M):$e(P)?(l=j,X(P)):(e.consume(P),j)}function M(P){return P===62?J(P):j(P)}function A(P){return vn(P)?(e.consume(P),R):n(P)}function R(P){return P===45||dn(P)?(e.consume(P),R):L(P)}function L(P){return $e(P)?(l=L,X(P)):Je(P)?(e.consume(P),L):J(P)}function Z(P){return P===45||dn(P)?(e.consume(P),Z):P===47||P===62||ct(P)?Q(P):n(P)}function Q(P){return P===47?(e.consume(P),J):P===58||P===95||vn(P)?(e.consume(P),O):$e(P)?(l=Q,X(P)):Je(P)?(e.consume(P),Q):J(P)}function O(P){return P===45||P===46||P===58||P===95||dn(P)?(e.consume(P),O):N(P)}function N(P){return P===61?(e.consume(P),Y):$e(P)?(l=N,X(P)):Je(P)?(e.consume(P),N):Q(P)}function Y(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,H):$e(P)?(l=Y,X(P)):Je(P)?(e.consume(P),Y):(e.consume(P),B)}function H(P){return P===i?(e.consume(P),i=void 0,F):P===null?n(P):$e(P)?(l=H,X(P)):(e.consume(P),H)}function B(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||ct(P)?Q(P):(e.consume(P),B)}function F(P){return P===47||P===62||ct(P)?Q(P):n(P)}function J(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function X(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),D}function D(P){return Je(P)?Ze(e,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):V(P)}function V(P){return e.enter("htmlTextData"),l(P)}}const am={name:"labelEnd",resolveAll:kM,resolveTo:SM,tokenize:EM},xM={tokenize:_M},wM={tokenize:CM},bM={tokenize:jM};function kM(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&qn(e,0,e.length,n),e}function SM(e,t){let n=e.length,r=0,i,o,l,u;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",c,t],["enter",f,t]],u=rr(u,e.slice(o+1,o+r+3)),u=rr(u,[["enter",h,t]]),u=rr(u,$c(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=rr(u,[["exit",h,t],e[l-2],e[l-1],["exit",f,t]]),u=rr(u,e.slice(l+1)),u=rr(u,[["exit",c,t]]),qn(e,o,e.length,u),e}function EM(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(v){return o?o._inactive?p(v):(l=r.parser.defined.includes(xr(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):n(v)}function c(v){return v===40?e.attempt(xM,h,l?h:p)(v):v===91?e.attempt(wM,h,l?f:p)(v):l?h(v):p(v)}function f(v){return e.attempt(bM,h,p)(v)}function h(v){return t(v)}function p(v){return o._balanced=!0,n(v)}}function _M(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return ct(p)?Da(e,o)(p):o(p)}function o(p){return p===41?h(p):Ck(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return ct(p)?Da(e,c)(p):h(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?Nk(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return ct(p)?Da(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function CM(e,t,n){const r=this;return i;function i(u){return jk.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(xr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function jM(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const NM={name:"labelStartImage",resolveAll:am.resolveAll,tokenize:TM};function TM(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const IM={name:"labelStartLink",resolveAll:am.resolveAll,tokenize:PM};function PM(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const ih={name:"lineEnding",tokenize:RM};function RM(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ze(e,t,"linePrefix")}}const Bu={name:"thematicBreak",tokenize:AM};function AM(e,t,n){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||$e(f))?(e.exit("thematicBreak"),t(f)):n(f)}function c(f){return f===i?(e.consume(f),r++,c):(e.exit("thematicBreakSequence"),Je(f)?Ze(e,u,"whitespace")(f):u(f))}}const In={continuation:{tokenize:LM},exit:FM,name:"list",tokenize:DM},OM={partial:!0,tokenize:zM},MM={partial:!0,tokenize:$M};function DM(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(y){const E=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:cp(y)){if(r.containerState.type||(r.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Bu,n,f)(y):f(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(y)}return n(y)}function c(y){return cp(y)&&++l<10?(e.consume(y),c):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),f(y)):n(y)}function f(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(ll,r.interrupt?n:h,e.attempt(OM,v,p))}function h(y){return r.containerState.initialBlankLine=!0,o++,v(y)}function p(y){return Je(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),v):n(y)}function v(y){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function LM(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ll,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ze(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!Je(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(MM,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ze(e,e.attempt(In,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function $M(e,t,n){const r=this;return Ze(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function FM(e){e.exit(this.containerState.type)}function zM(e,t,n){const r=this;return Ze(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!Je(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const i0={name:"setextUnderline",resolveTo:BM,tokenize:UM};function BM(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function UM(e,t,n){const r=this;let i;return o;function o(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Je(f)?Ze(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||$e(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const WM={tokenize:HM};function HM(e){const t=this,n=e.attempt(ll,r,e.attempt(this.parser.constructs.flowInitial,i,Ze(e,e.attempt(this.parser.constructs.flow,i,e.attempt(GO,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const VM={resolveAll:Ik()},qM=Tk("string"),YM=Tk("text");function Tk(e){return{resolveAll:Ik(e==="text"?KM:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,u);return l;function l(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const p=i[h];let v=-1;if(p)for(;++v<p.length;){const y=p[v];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Ik(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function KM(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,u=0,c;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)c=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const GM={42:In,43:In,45:In,48:In,49:In,50:In,51:In,52:In,53:In,54:In,55:In,56:In,57:In,62:kk},JM={91:eM},QM={[-2]:rh,[-1]:rh,32:rh},XM={35:oM,42:Bu,45:[i0,Bu],60:cM,61:i0,95:Bu,96:n0,126:n0},ZM={38:Ek,92:Sk},e2={[-5]:ih,[-4]:ih,[-3]:ih,33:NM,38:Ek,42:dp,60:[IO,vM],91:IM,92:[iM,Sk],93:am,95:dp,96:WO},t2={null:[dp,VM]},n2={null:[42,95]},r2={null:[]},i2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:n2,contentInitial:JM,disable:r2,document:GM,flow:XM,flowInitial:QM,insideSpan:t2,string:ZM,text:e2},Symbol.toStringTag,{value:"Module"}));function s2(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const c={attempt:L(A),check:L(R),consume:_,enter:j,exit:M,interrupt:L(R,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:E,parser:e,previous:null,sliceSerialize:v,sliceStream:y,write:p};let h=t.tokenize.call(f,c);return t.resolveAll&&o.push(t),f;function p(N){return l=rr(l,N),S(),l[l.length-1]!==null?[]:(Z(t,0),f.events=$c(o,f.events,f),f.events)}function v(N,Y){return a2(y(N),Y)}function y(N){return o2(l,N)}function E(){const{_bufferIndex:N,_index:Y,line:H,column:B,offset:F}=r;return{_bufferIndex:N,_index:Y,line:H,column:B,offset:F}}function w(N){i[N.line]=N.column,O()}function S(){let N;for(;r._index<l.length;){const Y=l[r._index];if(typeof Y=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<Y.length;)C(Y.charCodeAt(r._bufferIndex));else C(Y)}}function C(N){h=h(N)}function _(N){$e(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,O()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=N}function j(N,Y){const H=Y||{};return H.type=N,H.start=E(),f.events.push(["enter",H,f]),u.push(H),H}function M(N){const Y=u.pop();return Y.end=E(),f.events.push(["exit",Y,f]),Y}function A(N,Y){Z(N,Y.from)}function R(N,Y){Y.restore()}function L(N,Y){return H;function H(B,F,J){let X,D,V,P;return Array.isArray(B)?G(B):"tokenize"in B?G([B]):$(B);function $(he){return Se;function Se(le){const ke=le!==null&&he[le],we=le!==null&&he.null,Ge=[...Array.isArray(ke)?ke:ke?[ke]:[],...Array.isArray(we)?we:we?[we]:[]];return G(Ge)(le)}}function G(he){return X=he,D=0,he.length===0?J:T(he[D])}function T(he){return Se;function Se(le){return P=Q(),V=he,he.partial||(f.currentConstruct=he),he.name&&f.parser.constructs.disable.null.includes(he.name)?pe():he.tokenize.call(Y?Object.assign(Object.create(f),Y):f,c,ne,pe)(le)}}function ne(he){return N(V,P),F}function pe(he){return P.restore(),++D<X.length?T(X[D]):J}}}function Z(N,Y){N.resolveAll&&!o.includes(N)&&o.push(N),N.resolve&&qn(f.events,Y,f.events.length-Y,N.resolve(f.events.slice(Y),f)),N.resolveTo&&(f.events=N.resolveTo(f.events,f))}function Q(){const N=E(),Y=f.previous,H=f.currentConstruct,B=f.events.length,F=Array.from(u);return{from:B,restore:J};function J(){r=N,f.previous=Y,f.currentConstruct=H,f.events.length=B,u=F,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function o2(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function a2(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function l2(e){const r={constructs:wk([i2,...(e||{}).extensions||[]]),content:i(SO),defined:[],document:i(_O),flow:i(WM),lazy:{},string:i(qM),text:i(YM)};return r;function i(o){return l;function l(u){return s2(r,o,u)}}}function u2(e){for(;!_k(e););return e}const s0=/[\0\t\n\r]/g;function c2(){let e=1,t="",n=!0,r;return i;function i(o,l,u){const c=[];let f,h,p,v,y;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(s0.lastIndex=p,f=s0.exec(o),v=f&&f.index!==void 0?f.index:o.length,y=o.charCodeAt(v),!f){t=o.slice(p);break}if(y===10&&p===v&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<v&&(c.push(o.slice(p,v)),e+=v-p),y){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}p=v+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const d2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function f2(e){return e.replace(d2,h2)}function h2(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return bk(n.slice(o?2:1),o?16:10)}return om(n)||e}const Pk={}.hasOwnProperty;function p2(e,t,n){return typeof t!="string"&&(n=t,t=void 0),m2(n)(u2(l2(n).document().write(c2()(e,t,!0))))}function m2(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(oe),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:o(ae),blockQuote:o(we),characterEscape:Q,characterReference:Q,codeFenced:o(Ge),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Ge,l),codeText:o(rt,l),codeTextData:Q,data:Q,codeFlowValue:Q,definition:o(Qe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(K),hardBreakEscape:o(ue),hardBreakTrailing:o(ue),htmlFlow:o(ve,l),htmlFlowData:Q,htmlText:o(ve,l),htmlTextData:Q,image:o(me),label:l,link:o(oe),listItem:o(qe),listItemValue:v,listOrdered:o(Ee,p),listUnordered:o(Ee),paragraph:o(Xe),reference:T,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(ae),strong:o(_t),thematicBreak:o(ce)},exit:{atxHeading:c(),atxHeadingSequence:A,autolink:c(),autolinkEmail:ke,autolinkProtocol:le,blockQuote:c(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:he,characterReference:Se,codeFenced:c(S),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:E,codeFlowValue:O,codeIndented:c(C),codeText:c(F),codeTextData:O,data:O,definition:c(),definitionDestinationString:M,definitionLabelString:_,definitionTitleString:j,emphasis:c(),hardBreakEscape:c(Y),hardBreakTrailing:c(Y),htmlFlow:c(H),htmlFlowData:O,htmlText:c(B),htmlTextData:O,image:c(X),label:V,labelText:D,lineEnding:N,link:c(J),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ne,resourceDestinationString:P,resourceTitleString:$,resource:G,setextHeading:c(Z),setextHeadingLineSequence:L,setextHeadingText:R,strong:c(),thematicBreak:c()}};Rk(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(U){let ie={type:"root",children:[]};const be={stack:[ie],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:h,data:n},_e=[];let Ae=-1;for(;++Ae<U.length;)if(U[Ae][1].type==="listOrdered"||U[Ae][1].type==="listUnordered")if(U[Ae][0]==="enter")_e.push(Ae);else{const We=_e.pop();Ae=i(U,We,Ae)}for(Ae=-1;++Ae<U.length;){const We=t[U[Ae][0]];Pk.call(We,U[Ae][1].type)&&We[U[Ae][1].type].call(Object.assign({sliceSerialize:U[Ae][2].sliceSerialize},be),U[Ae][1])}if(be.tokenStack.length>0){const We=be.tokenStack[be.tokenStack.length-1];(We[1]||o0).call(be,void 0,We[0])}for(ie.position={start:Ci(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:Ci(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},Ae=-1;++Ae<t.transforms.length;)ie=t.transforms[Ae](ie)||ie;return ie}function i(U,ie,be){let _e=ie-1,Ae=-1,We=!1,yt,dt,Pt,Ye;for(;++_e<=be;){const tt=U[_e];switch(tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tt[0]==="enter"?Ae++:Ae--,Ye=void 0;break}case"lineEndingBlank":{tt[0]==="enter"&&(yt&&!Ye&&!Ae&&!Pt&&(Pt=_e),Ye=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ye=void 0}if(!Ae&&tt[0]==="enter"&&tt[1].type==="listItemPrefix"||Ae===-1&&tt[0]==="exit"&&(tt[1].type==="listUnordered"||tt[1].type==="listOrdered")){if(yt){let Wt=_e;for(dt=void 0;Wt--;){const Ue=U[Wt];if(Ue[1].type==="lineEnding"||Ue[1].type==="lineEndingBlank"){if(Ue[0]==="exit")continue;dt&&(U[dt][1].type="lineEndingBlank",We=!0),Ue[1].type="lineEnding",dt=Wt}else if(!(Ue[1].type==="linePrefix"||Ue[1].type==="blockQuotePrefix"||Ue[1].type==="blockQuotePrefixWhitespace"||Ue[1].type==="blockQuoteMarker"||Ue[1].type==="listItemIndent"))break}Pt&&(!dt||Pt<dt)&&(yt._spread=!0),yt.end=Object.assign({},dt?U[dt][1].start:tt[1].end),U.splice(dt||_e,0,["exit",yt,tt[2]]),_e++,be++}if(tt[1].type==="listItemPrefix"){const Wt={type:"listItem",_spread:!1,start:Object.assign({},tt[1].start),end:void 0};yt=Wt,U.splice(_e,0,["enter",Wt,tt[2]]),_e++,be++,Pt=void 0,Ye=!0}}}return U[ie][1]._spread=We,be}function o(U,ie){return be;function be(_e){u.call(this,U(_e),_e),ie&&ie.call(this,_e)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(U,ie,be){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([ie,be||void 0]),U.position={start:Ci(ie.start),end:void 0}}function c(U){return ie;function ie(be){U&&U.call(this,be),f.call(this,be)}}function f(U,ie){const be=this.stack.pop(),_e=this.tokenStack.pop();if(_e)_e[0].type!==U.type&&(ie?ie.call(this,U,_e[0]):(_e[1]||o0).call(this,U,_e[0]));else throw new Error("Cannot close `"+U.type+"` ("+Ma({start:U.start,end:U.end})+"): its not open");be.position.end=Ci(U.end)}function h(){return sm(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(U){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function y(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=U}function E(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=U}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U.replace(/(\r?\n|\r)$/g,"")}function _(U){const ie=this.resume(),be=this.stack[this.stack.length-1];be.label=ie,be.identifier=xr(this.sliceSerialize(U)).toLowerCase()}function j(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.title=U}function M(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.url=U}function A(U){const ie=this.stack[this.stack.length-1];if(!ie.depth){const be=this.sliceSerialize(U).length;ie.depth=be}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function L(U){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function Z(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(U){const be=this.stack[this.stack.length-1].children;let _e=be[be.length-1];(!_e||_e.type!=="text")&&(_e=ee(),_e.position={start:Ci(U.start),end:void 0},be.push(_e)),this.stack.push(_e)}function O(U){const ie=this.stack.pop();ie.value+=this.sliceSerialize(U),ie.position.end=Ci(U.end)}function N(U){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ie.children[ie.children.length-1];be.position.end=Ci(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ie.type)&&(Q.call(this,U),O.call(this,U))}function Y(){this.data.atHardBreak=!0}function H(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U}function B(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U}function F(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U}function J(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=ie,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function X(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=ie,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function D(U){const ie=this.sliceSerialize(U),be=this.stack[this.stack.length-2];be.label=f2(ie),be.identifier=xr(ie).toLowerCase()}function V(){const U=this.stack[this.stack.length-1],ie=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const _e=U.children;be.children=_e}else be.alt=ie}function P(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.url=U}function $(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.title=U}function G(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function ne(U){const ie=this.resume(),be=this.stack[this.stack.length-1];be.label=ie,be.identifier=xr(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function pe(U){this.data.characterReferenceType=U.type}function he(U){const ie=this.sliceSerialize(U),be=this.data.characterReferenceType;let _e;be?(_e=bk(ie,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_e=om(ie);const Ae=this.stack[this.stack.length-1];Ae.value+=_e}function Se(U){const ie=this.stack.pop();ie.position.end=Ci(U.end)}function le(U){O.call(this,U);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(U)}function ke(U){O.call(this,U);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(U)}function we(){return{type:"blockquote",children:[]}}function Ge(){return{type:"code",lang:null,meta:null,value:""}}function rt(){return{type:"inlineCode",value:""}}function Qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function K(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function ue(){return{type:"break"}}function ve(){return{type:"html",value:""}}function me(){return{type:"image",title:null,url:"",alt:null}}function oe(){return{type:"link",title:null,url:"",children:[]}}function Ee(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function qe(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function Xe(){return{type:"paragraph",children:[]}}function _t(){return{type:"strong",children:[]}}function ee(){return{type:"text",value:""}}function ce(){return{type:"thematicBreak"}}}function Ci(e){return{line:e.line,column:e.column,offset:e.offset}}function Rk(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Rk(e,r):g2(e,r)}}function g2(e,t){let n;for(n in t)if(Pk.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function o0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ma({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is still open")}function v2(e){const t=this;t.parser=n;function n(r){return p2(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function y2(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function x2(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function w2(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function b2(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function k2(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function S2(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Mo(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,f),e.applyData(t,f)}function E2(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _2(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Ak(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function C2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ak(e,t);const i={src:Mo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function j2(e,t){const n={src:Mo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function N2(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function T2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ak(e,t);const i={href:Mo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function I2(e,t){const n={href:Mo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function P2(e,t,n){const r=e.all(t),i=n?R2(n):Ok(t),o={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?l.push(...h.children):l.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function R2(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ok(n[r])}return t}function Ok(e){const t=e.spread;return t??e.children.length>1}function A2(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function O2(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M2(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function D2(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L2(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=tm(t.children[1]),c=hk(t.children[t.children.length-1]);u&&c&&(l.position={start:u,end:c}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function $2(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let c=-1;const f=[];for(;++c<u;){const p=t.children[c],v={},y=l?l[c]:void 0;y&&(v.align=y);let E={type:"element",tagName:o,properties:v,children:[]};p&&(E.children=e.all(p),e.patch(p,E),E=e.applyData(p,E)),f.push(E)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function F2(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const a0=9,l0=32;function z2(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(u0(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(u0(t.slice(i),i>0,!1)),o.join("")}function u0(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===a0||o===l0;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===a0||o===l0;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function B2(e,t){const n={type:"text",value:z2(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function U2(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const W2={blockquote:y2,break:x2,code:w2,delete:b2,emphasis:k2,footnoteReference:S2,heading:E2,html:_2,imageReference:C2,image:j2,inlineCode:N2,linkReference:T2,link:I2,listItem:P2,list:A2,paragraph:O2,root:M2,strong:D2,table:L2,tableCell:F2,tableRow:$2,text:B2,thematicBreak:U2,toml:Tu,yaml:Tu,definition:Tu,footnoteDefinition:Tu};function Tu(){}const Mk=-1,Fc=0,La=1,ac=2,lm=3,um=4,cm=5,dm=6,Dk=7,Lk=8,c0=typeof self=="object"?self:globalThis,H2=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case Fc:case Mk:return n(l,i);case La:{const u=n([],i);for(const c of l)u.push(r(c));return u}case ac:{const u=n({},i);for(const[c,f]of l)u[r(c)]=r(f);return u}case lm:return n(new Date(l),i);case um:{const{source:u,flags:c}=l;return n(new RegExp(u,c),i)}case cm:{const u=n(new Map,i);for(const[c,f]of l)u.set(r(c),r(f));return u}case dm:{const u=n(new Set,i);for(const c of l)u.add(r(c));return u}case Dk:{const{name:u,message:c}=l;return n(new c0[u](c),i)}case Lk:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new c0[o](l),i)};return r},d0=e=>H2(new Map,e)(0),oo="",{toString:V2}={},{keys:q2}=Object,Sa=e=>{const t=typeof e;if(t!=="object"||!e)return[Fc,t];const n=V2.call(e).slice(8,-1);switch(n){case"Array":return[La,oo];case"Object":return[ac,oo];case"Date":return[lm,oo];case"RegExp":return[um,oo];case"Map":return[cm,oo];case"Set":return[dm,oo];case"DataView":return[La,n]}return n.includes("Array")?[La,n]:n.includes("Error")?[Dk,n]:[ac,n]},Iu=([e,t])=>e===Fc&&(t==="function"||t==="symbol"),Y2=(e,t,n,r)=>{const i=(l,u)=>{const c=r.push(l)-1;return n.set(u,c),c},o=l=>{if(n.has(l))return n.get(l);let[u,c]=Sa(l);switch(u){case Fc:{let h=l;switch(c){case"bigint":u=Lk,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([Mk],l)}return i([u,h],l)}case La:{if(c){let v=l;return c==="DataView"?v=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(l)),i([c,[...v]],l)}const h=[],p=i([u,h],l);for(const v of l)h.push(o(v));return p}case ac:{if(c)switch(c){case"BigInt":return i([c,l.toString()],l);case"Boolean":case"Number":case"String":return i([c,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const h=[],p=i([u,h],l);for(const v of q2(l))(e||!Iu(Sa(l[v])))&&h.push([o(v),o(l[v])]);return p}case lm:return i([u,l.toISOString()],l);case um:{const{source:h,flags:p}=l;return i([u,{source:h,flags:p}],l)}case cm:{const h=[],p=i([u,h],l);for(const[v,y]of l)(e||!(Iu(Sa(v))||Iu(Sa(y))))&&h.push([o(v),o(y)]);return p}case dm:{const h=[],p=i([u,h],l);for(const v of l)(e||!Iu(Sa(v)))&&h.push(o(v));return p}}const{message:f}=l;return i([u,{name:c,message:f}],l)};return o},f0=(e,{json:t,lossy:n}={})=>{const r=[];return Y2(!(t||n),!!t,new Map,r)(e),r},lc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?d0(f0(e,t)):structuredClone(e):(e,t)=>d0(f0(e,t));function K2(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function G2(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function J2(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||K2,r=e.options.footnoteBackLabel||G2,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const h=e.all(f),p=String(f.identifier).toUpperCase(),v=Mo(p.toLowerCase());let y=0;const E=[],w=e.footnoteCounts.get(p);for(;w!==void 0&&++y<=w;){E.length>0&&E.push({type:"text",value:" "});let _=typeof n=="string"?n:n(c,y);typeof _=="string"&&(_={type:"text",value:_}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,y),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const S=h[h.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const _=S.children[S.children.length-1];_&&_.type==="text"?_.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...E)}else h.push(...E);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(h,!0)};e.patch(f,C),u.push(C)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...lc(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const zc=(function(e){if(e==null)return eD;if(typeof e=="function")return Bc(e);if(typeof e=="object")return Array.isArray(e)?Q2(e):X2(e);if(typeof e=="string")return Z2(e);throw new Error("Expected function, string, or object as test")});function Q2(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=zc(e[n]);return Bc(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function X2(e){const t=e;return Bc(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function Z2(e){return Bc(t);function t(n){return n&&n.type===e}}function Bc(e){return t;function t(n,r,i){return!!(tD(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function eD(){return!0}function tD(e){return e!==null&&typeof e=="object"&&"type"in e}const $k=[],nD=!0,fp=!1,rD="skip";function Fk(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=zc(i),l=r?-1:1;u(e,void 0,[])();function u(c,f,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=$k,E,w,S;if((!t||o(c,f,h[h.length-1]||void 0))&&(y=iD(n(c,h)),y[0]===fp))return y;if("children"in c&&c.children){const C=c;if(C.children&&y[0]!==rD)for(w=(r?C.children.length:-1)+l,S=h.concat(C);w>-1&&w<C.children.length;){const _=C.children[w];if(E=u(_,w,S)(),E[0]===fp)return E;w=typeof E[1]=="number"?E[1]:w+l}}return y}}}function iD(e){return Array.isArray(e)?e:typeof e=="number"?[nD,e]:e==null?$k:[e]}function Uc(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),Fk(e,o,u,i);function u(c,f){const h=f[f.length-1],p=h?h.children.indexOf(c):void 0;return l(c,p,h)}}const hp={}.hasOwnProperty,sD={};function oD(e,t){const n=t||sD,r=new Map,i=new Map,o=new Map,l={...W2,...n.handlers},u={all:f,applyData:lD,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:c,options:n,patch:aD,wrap:cD};return Uc(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,v=String(h.identifier).toUpperCase();p.has(v)||p.set(v,h)}}),u;function c(h,p){const v=h.type,y=u.handlers[v];if(hp.call(u.handlers,v)&&y)return y(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in h){const{children:w,...S}=h,C=lc(S);return C.children=u.all(h),C}return lc(h)}return(u.options.unknownHandler||uD)(u,h,p)}function f(h){const p=[];if("children"in h){const v=h.children;let y=-1;for(;++y<v.length;){const E=u.one(v[y],h);if(E){if(y&&v[y-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=h0(E.value)),!Array.isArray(E)&&E.type==="element")){const w=E.children[0];w&&w.type==="text"&&(w.value=h0(w.value))}Array.isArray(E)?p.push(...E):p.push(E)}}}return p}}function aD(e,t){e.position&&(t.position=GA(e))}function lD(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,lc(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function uD(e,t){const n=t.data||{},r="value"in t&&!(hp.call(n,"hProperties")||hp.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cD(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function h0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function p0(e,t){const n=oD(e,t),r=n.one(e,void 0),i=J2(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function dD(e,t){return e&&"run"in e?async function(n,r){const i=p0(n,{file:r,...t});await e.run(i,r)}:function(n,r){return p0(n,{file:r,...e||t})}}function m0(e){if(e)throw e}var sh,g0;function fD(){if(g0)return sh;g0=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},l=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return sh=function c(){var f,h,p,v,y,E,w=arguments[0],S=1,C=arguments.length,_=!1;for(typeof w=="boolean"&&(_=w,w=arguments[1]||{},S=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});S<C;++S)if(f=arguments[S],f!=null)for(h in f)p=u(w,h),v=u(f,h),w!==v&&(_&&v&&(o(v)||(y=i(v)))?(y?(y=!1,E=p&&i(p)?p:[]):E=p&&o(p)?p:{},l(w,{name:h,newValue:c(_,E,v)})):typeof v<"u"&&l(w,{name:h,newValue:v}));return w},sh}var hD=fD();const oh=No(hD);function pp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function pD(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(c,...f){const h=e[++o];let p=-1;if(c){l(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?mD(h,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function mD(e,t){let n;return r;function r(...l){const u=e.length>l.length;let c;u&&l.push(i);try{c=e.apply(this,l)}catch(f){const h=f;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(l,...u){n||(n=!0,t(l,...u))}function o(l){i(null,l)}}const Pr={basename:gD,dirname:vD,extname:yD,join:xD,sep:"/"};function gD(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ul(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function vD(e){if(ul(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function yD(e){ul(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function xD(...e){let t=-1,n;for(;++t<e.length;)ul(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":wD(n)}function wD(e){ul(e);const t=e.codePointAt(0)===47;let n=bD(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function bD(e,t){let n="",r=0,i=-1,o=0,l=-1,u,c;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function ul(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const kD={cwd:SD};function SD(){return"/"}function mp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ED(e){if(typeof e=="string")e=new URL(e);else if(!mp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return _D(e)}function _D(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ah=["history","path","basename","stem","extname","dirname"];class zk{constructor(t){let n;t?mp(t)?n={path:t}:typeof t=="string"||CD(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":kD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ah.length;){const o=ah[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)ah.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Pr.basename(this.path):void 0}set basename(t){uh(t,"basename"),lh(t,"basename"),this.path=Pr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Pr.dirname(this.path):void 0}set dirname(t){v0(this.basename,"dirname"),this.path=Pr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Pr.extname(this.path):void 0}set extname(t){if(lh(t,"extname"),v0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){mp(t)&&(t=ED(t)),uh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Pr.basename(this.path,this.extname):void 0}set stem(t){uh(t,"stem"),lh(t,"stem"),this.path=Pr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new fn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function lh(e,t){if(e&&e.includes(Pr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Pr.sep+"`")}function uh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function v0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function CD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jD=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),ND={}.hasOwnProperty;class fm extends jD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pD()}copy(){const t=new fm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(oh(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(fh("data",this.frozen),this.namespace[t]=n,this):ND.call(this.namespace,t)&&this.namespace[t]||void 0:t?(fh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pu(t),r=this.parser||this.Parser;return ch("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ch("process",this.parser||this.Parser),dh("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=Pu(t),c=r.parse(u);r.run(c,u,function(h,p,v){if(h||!p||!v)return f(h);const y=p,E=r.stringify(y,v);PD(E)?v.value=E:v.result=E,f(h,v)});function f(h,p){h||!p?l(h):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),ch("processSync",this.parser||this.Parser),dh("processSync",this.compiler||this.Compiler),this.process(t,i),x0("processSync","process",n),r;function i(o,l){n=!0,m0(o),r=l}}run(t,n,r){y0(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const c=Pu(n);i.run(t,c,f);function f(h,p,v){const y=p||t;h?u(h):l?l(y):r(void 0,y,v)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),x0("runSync","run",r),i;function o(l,u){m0(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=Pu(n),i=this.compiler||this.Compiler;return dh("stringify",i),y0(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(fh("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;c(h,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=oh(!0,i.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let p=-1,v=-1;for(;++p<r.length;)if(r[p][0]===f){v=p;break}if(v===-1)r.push([f,...h]);else if(h.length>0){let[y,...E]=h;const w=r[v][1];pp(w)&&pp(y)&&(y=oh(!0,w,y)),r[v]=[f,y,...E]}}}}const TD=new fm().freeze();function ch(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function dh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function fh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function y0(e){if(!pp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function x0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pu(e){return ID(e)?e:new zk(e)}function ID(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function PD(e){return typeof e=="string"||RD(e)}function RD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const AD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",w0=[],b0={allowDangerousHtml:!0},OD=/^(https?|ircs?|mailto|xmpp)$/i,MD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function DD(e){const t=LD(e),n=$D(e);return FD(t.runSync(t.parse(n),n),e)}function LD(e){const t=e.rehypePlugins||w0,n=e.remarkPlugins||w0,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...b0}:b0;return TD().use(v2).use(n).use(dD,r).use(t)}function $D(e){const t=e.children||"",n=new zk;return typeof t=="string"&&(n.value=t),n}function FD(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||zD;for(const h of MD)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+AD+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Uc(e,f),eO(e,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function f(h,p,v){if(h.type==="raw"&&v&&typeof p=="number")return l?v.children.splice(p,1):v.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let y;for(y in nh)if(Object.hasOwn(nh,y)&&Object.hasOwn(h.properties,y)){const E=h.properties[y],w=nh[y];(w===null||w.includes(h.tagName))&&(h.properties[y]=c(String(E||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(h,p,v)),y&&v&&typeof p=="number")return u&&h.children?v.children.splice(p,1,...h.children):v.children.splice(p,1),p}}}function zD(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||OD.test(e.slice(0,t))?e:""}function k0(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function BD(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function UD(e,t,n){const i=zc((n||{}).ignore||[]),o=WD(t);let l=-1;for(;++l<o.length;)Fk(e,"text",u);function u(f,h){let p=-1,v;for(;++p<h.length;){const y=h[p],E=v?v.children:void 0;if(i(y,E?E.indexOf(y):void 0,v))return;v=y}if(v)return c(f,h)}function c(f,h){const p=h[h.length-1],v=o[l][0],y=o[l][1];let E=0;const S=p.children.indexOf(f);let C=!1,_=[];v.lastIndex=0;let j=v.exec(f.value);for(;j;){const M=j.index,A={index:j.index,input:j.input,stack:[...h,f]};let R=y(...j,A);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?v.lastIndex=M+1:(E!==M&&_.push({type:"text",value:f.value.slice(E,M)}),Array.isArray(R)?_.push(...R):R&&_.push(R),E=M+j[0].length,C=!0),!v.global)break;j=v.exec(f.value)}return C?(E<f.value.length&&_.push({type:"text",value:f.value.slice(E)}),p.children.splice(S,1,..._)):_=[f],S+_.length}}function WD(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([HD(i[0]),VD(i[1])])}return t}function HD(e){return typeof e=="string"?new RegExp(BD(e),"g"):e}function VD(e){return typeof e=="function"?e:function(){return e}}const hh="phrasing",ph=["autolink","link","image","label"];function qD(){return{transforms:[ZD],enter:{literalAutolink:KD,literalAutolinkEmail:mh,literalAutolinkHttp:mh,literalAutolinkWww:mh},exit:{literalAutolink:XD,literalAutolinkEmail:QD,literalAutolinkHttp:GD,literalAutolinkWww:JD}}}function YD(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:hh,notInConstruct:ph},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:hh,notInConstruct:ph},{character:":",before:"[ps]",after:"\\/",inConstruct:hh,notInConstruct:ph}]}}function KD(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function mh(e){this.config.enter.autolinkProtocol.call(this,e)}function GD(e){this.config.exit.autolinkProtocol.call(this,e)}function JD(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function QD(e){this.config.exit.autolinkEmail.call(this,e)}function XD(e){this.exit(e)}function ZD(e){UD(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,eL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),tL]],{ignore:["link","linkReference"]})}function eL(e,t,n,r,i){let o="";if(!Bk(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!nL(n)))return!1;const l=rL(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function tL(e,t,n,r){return!Bk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function nL(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function rL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=k0(e,"(");let o=k0(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function Bk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||vs(n)||Lc(n))&&(!t||n!==47)}Uk.peek=fL;function iL(){this.buffer()}function sL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function oL(){this.buffer()}function aL(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function lL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function uL(e){this.exit(e)}function cL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function dL(e){this.exit(e)}function fL(){return"["}function Uk(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),l(),o+=i.move("]"),o}function hL(){return{enter:{gfmFootnoteCallString:iL,gfmFootnoteCall:sL,gfmFootnoteDefinitionLabelString:oL,gfmFootnoteDefinition:aL},exit:{gfmFootnoteCallString:lL,gfmFootnoteCall:uL,gfmFootnoteDefinitionLabelString:cL,gfmFootnoteDefinition:dL}}}function pL(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Uk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const u=o.createTracker(l);let c=u.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return c+=u.move(o.safe(o.associationId(r),{before:c,after:"]"})),h(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?Wk:mL))),f(),c}}function mL(e,t,n){return t===0?e:Wk(e,t,n)}function Wk(e,t,n){return(n?"":"    ")+e}const gL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Hk.peek=bL;function vL(){return{canContainEols:["delete"],enter:{strikethrough:xL},exit:{strikethrough:wL}}}function yL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:gL}],handlers:{delete:Hk}}}function xL(e){this.enter({type:"delete",children:[]},e)}function wL(e){this.exit(e)}function Hk(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function bL(){return"~"}function kL(e){return e.length}function SL(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||kL,o=[],l=[],u=[],c=[];let f=0,h=-1;for(;++h<e.length;){const w=[],S=[];let C=-1;for(e[h].length>f&&(f=e[h].length);++C<e[h].length;){const _=EL(e[h][C]);if(n.alignDelimiters!==!1){const j=i(_);S[C]=j,(c[C]===void 0||j>c[C])&&(c[C]=j)}w.push(_)}l[h]=w,u[h]=S}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)o[p]=S0(r[p]);else{const w=S0(r);for(;++p<f;)o[p]=w}p=-1;const v=[],y=[];for(;++p<f;){const w=o[p];let S="",C="";w===99?(S=":",C=":"):w===108?S=":":w===114&&(C=":");let _=n.alignDelimiters===!1?1:Math.max(1,c[p]-S.length-C.length);const j=S+"-".repeat(_)+C;n.alignDelimiters!==!1&&(_=S.length+_+C.length,_>c[p]&&(c[p]=_),y[p]=_),v[p]=j}l.splice(1,0,v),u.splice(1,0,y),h=-1;const E=[];for(;++h<l.length;){const w=l[h],S=u[h];p=-1;const C=[];for(;++p<f;){const _=w[p]||"";let j="",M="";if(n.alignDelimiters!==!1){const A=c[p]-(S[p]||0),R=o[p];R===114?j=" ".repeat(A):R===99?A%2?(j=" ".repeat(A/2+.5),M=" ".repeat(A/2-.5)):(j=" ".repeat(A/2),M=j):M=" ".repeat(A)}n.delimiterStart!==!1&&!p&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||p)&&C.push(" "),n.alignDelimiters!==!1&&C.push(j),C.push(_),n.alignDelimiters!==!1&&C.push(M),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&C.push("|")}E.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return E.join(`
`)}function EL(e){return e==null?"":String(e)}function S0(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function _L(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),CL);return i(),l}function CL(e,t,n){return">"+(n?"":" ")+e}function jL(e,t){return E0(e,t.inConstruct,!0)&&!E0(e,t.notInConstruct,!1)}function E0(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function _0(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&jL(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function NL(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+t.length,r=n.indexOf(t,i);return l}function TL(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function IL(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function PL(e,t,n,r){const i=IL(n),o=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(TL(e,n)){const p=n.enter("codeIndented"),v=n.indentLines(o,RL);return p(),v}const u=n.createTracker(r),c=i.repeat(Math.max(NL(o,i)+1,3)),f=n.enter("codeFenced");let h=u.move(c);if(e.lang){const p=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...u.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...u.current()})),p()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(c),f(),h}function RL(e,t,n){return(n?"":"    ")+e}function hm(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function AL(e,t,n,r){const i=hm(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("[");return f+=c.move(n.safe(n.associationId(e),{before:f,after:"]",...c.current()})),f+=c.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),l(),f}function OL(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ga(e){return"&#x"+e.toString(16).toUpperCase()+";"}function uc(e,t,n){const r=jo(e),i=jo(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Vk.peek=ML;function Vk(e,t,n,r){const i=OL(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=uc(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ga(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=uc(r.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ga(p));const y=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+y}function ML(e,t,n){return n.options.emphasis||"*"}function DL(e,t){let n=!1;return Uc(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,fp}),!!((!e.depth||e.depth<3)&&sm(e)&&(t.options.setext||n))}function LL(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(DL(e,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),v=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),h(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const l="#".repeat(i),u=n.enter("headingAtx"),c=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Ga(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),c(),u(),f}qk.peek=$L;function qk(e){return e.value||""}function $L(){return"<"}Yk.peek=FL;function Yk(e,t,n,r){const i=hm(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("![");return f+=c.move(n.safe(e.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":")",...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),f+=c.move(")"),l(),f}function FL(){return"!"}Kk.peek=zL;function Kk(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const f=n.safe(e.alt,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function zL(){return"!"}Gk.peek=BL;function Gk(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],u=n.compilePattern(l);let c;if(l.atBreak)for(;c=u.exec(r);){let f=c.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(c.index+1)}}return i+r+i}function BL(){return"`"}function Jk(e,t){const n=sm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Qk.peek=UL;function Qk(e,t,n,r){const i=hm(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,c;if(Jk(e,n)){const h=n.stack;n.stack=[],u=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),u(),n.stack=h,p}u=n.enter("link"),c=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(c=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),c(),e.title&&(c=n.enter(`title${o}`),f+=l.move(" "+i),f+=l.move(n.safe(e.title,{before:f,after:i,...l.current()})),f+=l.move(i),c()),f+=l.move(")"),u(),f}function UL(e,t,n){return Jk(e,n)?"<":"["}Xk.peek=WL;function Xk(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const f=n.containerPhrasing(e,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function WL(){return"["}function pm(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function HL(e){const t=pm(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function VL(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Zk(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function qL(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?VL(n):pm(n);const u=e.ordered?l==="."?")":".":HL(n);let c=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Zk(n)===l&&h){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=u),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),f}function YL(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function KL(e,t,n,r){const i=YL(n);let o=n.bulletCurrent||pm(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);const c=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),h);return c(),f;function h(p,v,y){return v?(y?"":" ".repeat(l))+p:(y?o:o+" ".repeat(l-o.length))+p}}function GL(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),i(),l}const JL=zc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function QL(e,t,n,r){return(e.children.some(function(l){return JL(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function XL(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}e1.peek=ZL;function e1(e,t,n,r){const i=XL(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=uc(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ga(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=uc(r.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ga(p));const y=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+y}function ZL(e,t,n){return n.options.strong||"*"}function e$(e,t,n,r){return n.safe(e.value,r)}function t$(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function n$(e,t,n){const r=(Zk(n)+(n.options.ruleSpaces?" ":"")).repeat(t$(n));return n.options.ruleSpaces?r.slice(0,-1):r}const t1={blockquote:_L,break:_0,code:PL,definition:AL,emphasis:Vk,hardBreak:_0,heading:LL,html:qk,image:Yk,imageReference:Kk,inlineCode:Gk,link:Qk,linkReference:Xk,list:qL,listItem:KL,paragraph:GL,root:QL,strong:e1,text:e$,thematicBreak:n$};function r$(){return{enter:{table:i$,tableData:C0,tableHeader:C0,tableRow:o$},exit:{codeText:a$,table:s$,tableData:gh,tableHeader:gh,tableRow:gh}}}function i$(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function s$(e){this.exit(e),this.data.inTable=void 0}function o$(e){this.enter({type:"tableRow",children:[]},e)}function gh(e){this.exit(e)}function C0(e){this.enter({type:"tableCell",children:[]},e)}function a$(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,l$));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function l$(e,t){return t==="|"?t:e}function u$(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:l,tableCell:c,tableRow:u}};function l(y,E,w,S){return f(h(y,w,S),y.align)}function u(y,E,w,S){const C=p(y,w,S),_=f([C]);return _.slice(0,_.indexOf(`
`))}function c(y,E,w,S){const C=w.enter("tableCell"),_=w.enter("phrasing"),j=w.containerPhrasing(y,{...S,before:o,after:o});return _(),C(),j}function f(y,E){return SL(y,{align:E,alignDelimiters:r,padding:n,stringLength:i})}function h(y,E,w){const S=y.children;let C=-1;const _=[],j=E.enter("table");for(;++C<S.length;)_[C]=p(S[C],E,w);return j(),_}function p(y,E,w){const S=y.children;let C=-1;const _=[],j=E.enter("tableRow");for(;++C<S.length;)_[C]=c(S[C],y,E,w);return j(),_}function v(y,E,w){let S=t1.inlineCode(y,E,w);return w.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function c$(){return{exit:{taskListCheckValueChecked:j0,taskListCheckValueUnchecked:j0,paragraph:f$}}}function d$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:h$}}}function j0(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function f$(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,l;for(;++o<i.length;){const u=i[o];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function h$(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(l);let c=t1.listItem(e,t,n,{...r,...u.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(h){return h+l}}function p$(){return[qD(),hL(),vL(),r$(),c$()]}function m$(e){return{extensions:[YD(),pL(e),yL(),u$(e),d$()]}}const g$={tokenize:k$,partial:!0},n1={tokenize:S$,partial:!0},r1={tokenize:E$,partial:!0},i1={tokenize:_$,partial:!0},v$={tokenize:C$,partial:!0},s1={name:"wwwAutolink",tokenize:w$,previous:a1},o1={name:"protocolAutolink",tokenize:b$,previous:l1},si={name:"emailAutolink",tokenize:x$,previous:u1},Br={};function y$(){return{text:Br}}let is=48;for(;is<123;)Br[is]=si,is++,is===58?is=65:is===91&&(is=97);Br[43]=si;Br[45]=si;Br[46]=si;Br[95]=si;Br[72]=[si,o1];Br[104]=[si,o1];Br[87]=[si,s1];Br[119]=[si,s1];function x$(e,t,n){const r=this;let i,o;return l;function l(p){return!gp(p)||!u1.call(r,r.previous)||mm(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(p))}function u(p){return gp(p)?(e.consume(p),u):p===64?(e.consume(p),c):n(p)}function c(p){return p===46?e.check(v$,h,f)(p):p===45||p===95||dn(p)?(o=!0,e.consume(p),c):h(p)}function f(p){return e.consume(p),i=!0,c}function h(p){return o&&i&&vn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function w$(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!a1.call(r,r.previous)||mm(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(g$,e.attempt(n1,e.attempt(r1,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function b$(e,t,n){const r=this;let i="",o=!1;return l;function l(p){return(p===72||p===104)&&l1.call(r,r.previous)&&!mm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),u):n(p)}function u(p){if(vn(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),u;if(p===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(p),c}return n(p)}function c(p){return p===47?(e.consume(p),o?f:(o=!0,c)):n(p)}function f(p){return p===null||oc(p)||ct(p)||vs(p)||Lc(p)?n(p):e.attempt(n1,e.attempt(r1,h),n)(p)}function h(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function k$(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function S$(e,t,n){let r,i,o;return l;function l(f){return f===46||f===95?e.check(i1,c,u)(f):f===null||ct(f)||vs(f)||f!==45&&Lc(f)?c(f):(o=!0,e.consume(f),l)}function u(f){return f===95?r=!0:(i=r,r=void 0),e.consume(f),l}function c(f){return i||r||!o?n(f):t(f)}}function E$(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(i1,t,o)(l):l===null||ct(l)||vs(l)?t(l):(e.consume(l),i)}function o(l){return l===41&&r++,e.consume(l),i}}function _$(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),i):u===60||u===null||ct(u)||vs(u)?t(u):n(u)}function i(u){return u===null||u===40||u===91||ct(u)||vs(u)?t(u):r(u)}function o(u){return vn(u)?l(u):n(u)}function l(u){return u===59?(e.consume(u),r):vn(u)?(e.consume(u),l):n(u)}}function C$(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return dn(o)?n(o):t(o)}}function a1(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ct(e)}function l1(e){return!vn(e)}function u1(e){return!(e===47||gp(e))}function gp(e){return e===43||e===45||e===46||e===95||dn(e)}function mm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const j$={tokenize:M$,partial:!0};function N$(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:R$,continuation:{tokenize:A$},exit:O$}},text:{91:{name:"gfmFootnoteCall",tokenize:P$},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:T$,resolveTo:I$}}}}function T$(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!l||!l._balanced)return n(c);const f=xr(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function I$(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function P$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return u;function u(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(o>999||p===93&&!l||p===null||p===91||ct(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(xr(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return ct(p)||(l=!0),o++,e.consume(p),p===92?h:f}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function R$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,u;return c;function c(E){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(E){return E===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(E)}function h(E){if(l>999||E===93&&!u||E===null||E===91||ct(E))return n(E);if(E===93){e.exit("chunkString");const w=e.exit("gfmFootnoteDefinitionLabelString");return o=xr(r.sliceSerialize(w)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return ct(E)||(u=!0),l++,e.consume(E),E===92?p:h}function p(E){return E===91||E===92||E===93?(e.consume(E),l++,h):h(E)}function v(E){return E===58?(e.enter("definitionMarker"),e.consume(E),e.exit("definitionMarker"),i.includes(o)||i.push(o),Ze(e,y,"gfmFootnoteDefinitionWhitespace")):n(E)}function y(E){return t(E)}}function A$(e,t,n){return e.check(ll,t,e.attempt(j$,t,n))}function O$(e){e.exit("gfmFootnoteDefinition")}function M$(e,t,n){const r=this;return Ze(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function D$(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,u){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let f=c;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[c][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[c][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[c][1].start)},v=[["enter",h,u],["enter",l[f][1],u],["exit",l[f][1],u],["enter",p,u]],y=u.parser.constructs.insideSpan.null;y&&qn(v,v.length,0,$c(y,l.slice(f+1,c),u)),qn(v,v.length,0,[["exit",p,u],["enter",l[c][1],u],["exit",l[c][1],u],["exit",h,u]]),qn(l,f-1,c-f+3,v),c=f+v.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}function o(l,u,c){const f=this.previous,h=this.events;let p=0;return v;function v(E){return f===126&&h[h.length-1][1].type!=="characterEscape"?c(E):(l.enter("strikethroughSequenceTemporary"),y(E))}function y(E){const w=jo(f);if(E===126)return p>1?c(E):(l.consume(E),p++,y);if(p<2&&!n)return c(E);const S=l.exit("strikethroughSequenceTemporary"),C=jo(E);return S._open=!C||C===2&&!!w,S._close=!w||w===2&&!!C,u(E)}}}class L${constructor(){this.map=[]}add(t,n,r){$$(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function $$(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function F$(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function z$(){return{flow:{null:{name:"table",tokenize:B$,resolveAll:U$}}}}function B$(e,t,n){const r=this;let i=0,o=0,l;return u;function u(O){let N=r.events.length-1;for(;N>-1;){const B=r.events[N][1].type;if(B==="lineEnding"||B==="linePrefix")N--;else break}const Y=N>-1?r.events[N][1].type:null,H=Y==="tableHead"||Y==="tableRow"?R:c;return H===R&&r.parser.lazy[r.now().line]?n(O):H(O)}function c(O){return e.enter("tableHead"),e.enter("tableRow"),f(O)}function f(O){return O===124||(l=!0,o+=1),h(O)}function h(O){return O===null?n(O):$e(O)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),y):n(O):Je(O)?Ze(e,h,"whitespace")(O):(o+=1,l&&(l=!1,i+=1),O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),l=!0,h):(e.enter("data"),p(O)))}function p(O){return O===null||O===124||ct(O)?(e.exit("data"),h(O)):(e.consume(O),O===92?v:p)}function v(O){return O===92||O===124?(e.consume(O),p):p(O)}function y(O){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(O):(e.enter("tableDelimiterRow"),l=!1,Je(O)?Ze(e,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):E(O))}function E(O){return O===45||O===58?S(O):O===124?(l=!0,e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),w):A(O)}function w(O){return Je(O)?Ze(e,S,"whitespace")(O):S(O)}function S(O){return O===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),C):O===45?(o+=1,C(O)):O===null||$e(O)?M(O):A(O)}function C(O){return O===45?(e.enter("tableDelimiterFiller"),_(O)):A(O)}function _(O){return O===45?(e.consume(O),_):O===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),j):(e.exit("tableDelimiterFiller"),j(O))}function j(O){return Je(O)?Ze(e,M,"whitespace")(O):M(O)}function M(O){return O===124?E(O):O===null||$e(O)?!l||i!==o?A(O):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(O)):A(O)}function A(O){return n(O)}function R(O){return e.enter("tableRow"),L(O)}function L(O){return O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),L):O===null||$e(O)?(e.exit("tableRow"),t(O)):Je(O)?Ze(e,L,"whitespace")(O):(e.enter("data"),Z(O))}function Z(O){return O===null||O===124||ct(O)?(e.exit("data"),L(O)):(e.consume(O),O===92?Q:Z)}function Q(O){return O===92||O===124?(e.consume(O),Z):Z(O)}}function U$(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,c=0,f,h,p;const v=new L$;for(;++n<e.length;){const y=e[n],E=y[1];y[0]==="enter"?E.type==="tableHead"?(u=!1,c!==0&&(N0(v,t,c,f,h),h=void 0,c=0),f={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},v.add(n,0,[["enter",f,t]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,p=void 0,o=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},v.add(n,0,[["enter",h,t]])),i=E.type==="tableDelimiterRow"?2:h?3:1):i&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],p=Ru(v,t,o,i,void 0,p),o=[0,0,0,0]),l[2]=n)):E.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],p=Ru(v,t,o,i,void 0,p)),o=l,l=[o[1],n,0,0])):E.type==="tableHead"?(u=!0,c=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(c=n,o[1]!==0?(l[0]=l[1],p=Ru(v,t,o,i,n,p)):l[1]!==0&&(p=Ru(v,t,l,i,n,p)),i=0):i&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(l[3]=n)}for(c!==0&&N0(v,t,c,f,h),v.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=F$(t.events,n))}return e}function Ru(e,t,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},ho(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=ho(t.events,n[1]);if(o={type:l,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=ho(t.events,n[2]),h=ho(t.events,n[3]),p={type:u,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const v=t.events[n[2]],y=t.events[n[3]];if(v[1].end=Object.assign({},y[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,w=n[3]-n[2]-1;e.add(E,w,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(o.end=Object.assign({},ho(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function N0(e,t,n,r,i){const o=[],l=ho(t.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function ho(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const W$={name:"tasklistCheck",tokenize:V$};function H$(){return{text:{91:W$}}}function V$(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return ct(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),l):n(c)}function l(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(c)}function u(c){return $e(c)?t(c):Je(c)?e.check({tokenize:q$},t,n)(c):n(c)}}function q$(e,t,n){return Ze(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Y$(e){return wk([y$(),N$(),D$(e),z$(),H$()])}const K$={};function G$(e){const t=this,n=e||K$,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Y$(n)),o.push(p$()),l.push(m$(n))}const J$=e=>e!=null;function Q$(){const e=Te(t=>t.works);return k.useMemo(()=>{const t=new Map;e.forEach(o=>{var c;const l=(c=o.name)==null?void 0:c.trim();if(!l)return;const u=t.get(l)??[];u.push(o),t.set(l,u)});const n=new Map,r=new Map;t.forEach((o,l)=>{o.length===1?n.set(l,o[0]):o.length>1&&r.set(l,o.filter(J$))});const i=Array.from(n.entries()).map(([o,l])=>({name:o,work:l}));return i.sort((o,l)=>l.name.length-o.name.length||o.name.localeCompare(l.name,"es")),{uniqueByName:n,duplicates:r,entries:i}},[e])}const X$=new RegExp("\\p{L}|\\p{N}","u"),T0=e=>e?X$.test(e):!1,Z$=(e,t,n)=>{const r=t===0?void 0:e[t-1],i=n>=e.length?void 0:e[n];return!T0(r)&&!T0(i)},e4=(e,t)=>{const n=[];t.forEach(o=>{let l=0;for(;l<e.length;){const u=e.indexOf(o.name,l);if(u===-1)break;const c=u+o.name.length;Z$(e,u,c)&&n.push({start:u,end:c,entry:o}),l=u+o.name.length}}),n.sort((o,l)=>o.start!==l.start?o.start-l.start:l.entry.name.length-o.entry.name.length);const r=[];let i=-1;return n.forEach(o=>{o.start<i||(r.push(o),i=o.end)}),r},t4=e=>e?new Set(["link","linkReference","definition","inlineCode","code"]).has(e.type):!0,n4=e=>{const t=(e==null?void 0:e.entries)??[];return t.length===0?()=>{}:n=>{Uc(n,"text",(r,i,o)=>{if(t4(o)||typeof i!="number"||!o)return;const u=r.value;if(!u)return;const c=e4(u,t);if(c.length===0)return;const f=[];let h=0;c.forEach(p=>{p.start>h&&f.push({type:"text",value:u.slice(h,p.start)}),f.push({type:"link",title:null,url:p.entry.href,children:[{type:"text",value:p.entry.name}]}),h=p.end}),h<u.length&&f.push({type:"text",value:u.slice(h)}),o.children.splice(i,1,...f)})}},r4=e=>{var f,h,p;const t="/sport-planner/".replace(/\/$/,""),r=`${t?`${t}/`:"/"}#/`,i=((f=e.href)==null?void 0:f.startsWith("#/"))??!1,o=((h=e.href)==null?void 0:h.startsWith(r))??!1,l=(((p=e.href)==null?void 0:p.startsWith("/"))??!1)||i||o,u=l?e.rel:e.rel??"noreferrer",c=l?e.target:e.target??"_blank";return g.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:c,rel:u})},i4=e=>g.jsx("ul",{...e,className:Oe("my-2 list-disc space-y-1 pl-6",e.className)}),s4=e=>g.jsx("ol",{...e,className:Oe("my-2 list-decimal space-y-1 pl-6",e.className)}),o4=e=>g.jsx("li",{...e,className:Oe("leading-relaxed",e.className)});function a4(e){const t=e.trim(),n=t.match(/^(["'])(.*)(["'])$/s);return n?n[2].trim():t}function l4(e){var l;const n=a4(e.trim()).match(/^\[!([^\]]+)\]([+-])?\s*(.*)$/i);if(!n)return null;const r=n[1].toLowerCase(),o=(((l=n[3])==null?void 0:l.trim())??"")||r;return{type:r,title:o}}function c1(e){return typeof e=="object"&&e!==null&&"props"in e&&"type"in e}function vp(e){return e==null||typeof e=="boolean"?"":typeof e=="string"||typeof e=="number"?String(e):Array.isArray(e)?e.map(vp).join(""):c1(e)?vp(e.props.children):""}const I0={danger:{icon:"",containerClassName:"border-rose-500/25 bg-rose-500/10",titleClassName:"text-rose-200"},warning:{icon:"",containerClassName:"border-amber-500/25 bg-amber-500/10",titleClassName:"text-amber-200"},info:{icon:"",containerClassName:"border-sky-500/25 bg-sky-500/10",titleClassName:"text-sky-200"},note:{icon:"",containerClassName:"border-indigo-500/25 bg-indigo-500/10",titleClassName:"text-indigo-200"},tip:{icon:"",containerClassName:"border-emerald-500/25 bg-emerald-500/10",titleClassName:"text-emerald-200"}},u4=e=>{const{node:t,children:n,...r}=e,i=Array.isArray(n)?n:[n],o=i.findIndex(p=>c1(p)&&p.type==="p"),l=o>=0?i[o]:void 0,u=vp(l).trim(),c=l4(u);if(!c)return g.jsx("blockquote",{...r,children:n});const f=I0[c.type]??I0.info,h=i.filter((p,v)=>v!==o);return g.jsxs("aside",{className:Oe("my-4 rounded-2xl border p-5",f.containerClassName),children:[g.jsxs("div",{className:Oe("flex items-center gap-2 text-lg font-semibold",f.titleClassName),children:[g.jsx("span",{"aria-hidden":"true",children:f.icon}),g.jsx("span",{children:c.title})]}),g.jsx("div",{className:"mt-3",children:h})]})},c4={a:r4,blockquote:u4,ul:i4,ol:s4,li:o4};function ys({content:e,enableWorkLinks:t=!1}){const{entries:n}=Q$(),r=k.useMemo(()=>{if(!t||n.length===0)return null;const o="/sport-planner/".replace(/\/$/,""),u=`${o?`${o}/`:"/"}#/catalog`;return{entries:n.map(({name:c,work:f})=>({name:c,href:`${u}?workId=${encodeURIComponent(f.id)}`}))}},[t,n]),i=k.useMemo(()=>{const o=[G$];return r&&o.push([n4,r]),o},[r]);return e?g.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:g.jsx(DD,{remarkPlugins:i,components:c4,children:e})}):null}function P0(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\\d+(\\.\\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\\d+:)+\\d+$/.test(t)){const r=t.split(":").map(i=>Number(i));return r.some(i=>Number.isNaN(i))?null:r.reduce((i,o)=>i*60+o,0)}const n=t.match(/^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,i=n[2]?Number(n[2]):0,o=n[3]?Number(n[3]):0;if(r||i||o)return r*3600+i*60+o}return null}function d4(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const i=new URL(`https://www.youtube-nocookie.com/embed/${r}`),o=P0(t.searchParams.get("start")??t.searchParams.get("t"));o!==null&&i.searchParams.set("start",String(o));const l=P0(t.searchParams.get("end"));l!==null&&i.searchParams.set("end",String(l));const u=t.searchParams.get("list");return u&&i.searchParams.set("list",u),i.toString()}catch{return null}}function Wc({url:e,title:t,maxWidth:n=300,className:r}){const i=e.trim();if(!i)return null;const o=d4(i);return o?g.jsx("div",{className:Oe("flex w-full justify-center",r),children:g.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:g.jsx("iframe",{src:o,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):g.jsx("div",{className:Oe("flex w-full justify-center",r),children:g.jsx("a",{href:i,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function f4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Hc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Do(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function gm(e){return"nodeType"in e}function Dn(e){var t,n;return e?Do(e)?e:gm(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function vm(e){const{Document:t}=Dn(e);return e instanceof t}function cl(e){return Do(e)?!1:e instanceof Dn(e).HTMLElement}function d1(e){return e instanceof Dn(e).SVGElement}function Lo(e){return e?Do(e)?e.document:gm(e)?vm(e)?e:cl(e)||d1(e)?e.ownerDocument:document:document:document}const $r=Hc?k.useLayoutEffect:k.useEffect;function ym(e){const t=k.useRef(e);return $r(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function h4(){const e=k.useRef(null),t=k.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ja(e,t){t===void 0&&(t=[e]);const n=k.useRef(e);return $r(()=>{n.current!==e&&(n.current=e)},t),n}function dl(e,t){const n=k.useRef();return k.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function cc(e){const t=ym(e),n=k.useRef(null),r=k.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function yp(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let vh={};function fl(e,t){return k.useMemo(()=>{if(t)return t;const n=vh[e]==null?0:vh[e]+1;return vh[e]=n,e+"-"+n},[e,t])}function f1(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[c,f]of u){const h=o[c];h!=null&&(o[c]=h+e*f)}return o},{...t})}}const bo=f1(1),dc=f1(-1);function p4(e){return"clientX"in e&&"clientY"in e}function xm(e){if(!e)return!1;const{KeyboardEvent:t}=Dn(e.target);return t&&e instanceof t}function m4(e){if(!e)return!1;const{TouchEvent:t}=Dn(e.target);return t&&e instanceof t}function xp(e){if(m4(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return p4(e)?{x:e.clientX,y:e.clientY}:null}const Qa=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Qa.Translate.toString(e),Qa.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),R0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function g4(e){return e.matches(R0)?e:e.querySelector(R0)}const v4={display:"none"};function y4(e){let{id:t,value:n}=e;return Ce.createElement("div",{id:t,style:v4},n)}function x4(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ce.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function w4(){const[e,t]=k.useState("");return{announce:k.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const h1=k.createContext(null);function b4(e){const t=k.useContext(h1);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function k4(){const[e]=k.useState(()=>new Set),t=k.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[k.useCallback(r=>{let{type:i,event:o}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,o)})},[e]),t]}const S4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E4={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function _4(e){let{announcements:t=E4,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=S4}=e;const{announce:o,announcement:l}=w4(),u=fl("DndLiveRegion"),[c,f]=k.useState(!1);if(k.useEffect(()=>{f(!0)},[]),b4(k.useMemo(()=>({onDragStart(p){let{active:v}=p;o(t.onDragStart({active:v}))},onDragMove(p){let{active:v,over:y}=p;t.onDragMove&&o(t.onDragMove({active:v,over:y}))},onDragOver(p){let{active:v,over:y}=p;o(t.onDragOver({active:v,over:y}))},onDragEnd(p){let{active:v,over:y}=p;o(t.onDragEnd({active:v,over:y}))},onDragCancel(p){let{active:v,over:y}=p;o(t.onDragCancel({active:v,over:y}))}}),[o,t])),!c)return null;const h=Ce.createElement(Ce.Fragment,null,Ce.createElement(y4,{id:r,value:i.draggable}),Ce.createElement(x4,{id:u,announcement:l}));return n?Hn.createPortal(h,n):h}var Ut;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ut||(Ut={}));function fc(){}const kr=Object.freeze({x:0,y:0});function C4(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function j4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function N4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function T4(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function A0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const I4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=A0(t,t.left,t.top),o=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const f=C4(A0(c),i);o.push({id:u,data:{droppableContainer:l,value:f}})}}return o.sort(j4)};function P4(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=o-n;if(r<i&&n<o){const c=t.width*t.height,f=e.width*e.height,h=l*u,p=h/(c+f-h);return Number(p.toFixed(4))}return 0}const R4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const c=P4(u,t);c>0&&i.push({id:l,data:{droppableContainer:o,value:c}})}}return i.sort(N4)};function A4(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function p1(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:kr}function O4(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const M4=O4(1);function D4(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function L4(e,t,n){const r=D4(t);if(!r)return e;const{scaleX:i,scaleY:o,x:l,y:u}=r,c=e.left-l-(1-i)*parseFloat(n),f=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?e.width/i:e.width,p=o?e.height/o:e.height;return{width:h,height:p,top:f,right:c+h,bottom:f+p,left:c}}const $4={ignoreTransform:!1};function $o(e,t){t===void 0&&(t=$4);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=Dn(e).getComputedStyle(e);f&&(n=L4(n,f,h))}const{top:r,left:i,width:o,height:l,bottom:u,right:c}=n;return{top:r,left:i,width:o,height:l,bottom:u,right:c}}function O0(e){return $o(e,{ignoreTransform:!0})}function F4(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function z4(e,t){return t===void 0&&(t=Dn(e).getComputedStyle(e)),t.position==="fixed"}function B4(e,t){t===void 0&&(t=Dn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function wm(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(vm(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!cl(i)||d1(i)||n.includes(i))return n;const o=Dn(e).getComputedStyle(i);return i!==e&&B4(i,o)&&n.push(i),z4(i,o)?n:r(i.parentNode)}return e?r(e):n}function m1(e){const[t]=wm(e,1);return t??null}function yh(e){return!Hc||!e?null:Do(e)?e:gm(e)?vm(e)||e===Lo(e).scrollingElement?window:cl(e)?e:null:null}function g1(e){return Do(e)?e.scrollX:e.scrollLeft}function v1(e){return Do(e)?e.scrollY:e.scrollTop}function wp(e){return{x:g1(e),y:v1(e)}}var Jt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Jt||(Jt={}));function y1(e){return!Hc||!e?!1:e===document.scrollingElement}function x1(e){const t={x:0,y:0},n=y1(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const U4={x:.2,y:.2};function W4(e,t,n,r,i){let{top:o,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=U4);const{isTop:f,isBottom:h,isLeft:p,isRight:v}=x1(e),y={x:0,y:0},E={x:0,y:0},w={height:t.height*i.y,width:t.width*i.x};return!f&&o<=t.top+w.height?(y.y=Jt.Backward,E.y=r*Math.abs((t.top+w.height-o)/w.height)):!h&&c>=t.bottom-w.height&&(y.y=Jt.Forward,E.y=r*Math.abs((t.bottom-w.height-c)/w.height)),!v&&u>=t.right-w.width?(y.x=Jt.Forward,E.x=r*Math.abs((t.right-w.width-u)/w.width)):!p&&l<=t.left+w.width&&(y.x=Jt.Backward,E.x=r*Math.abs((t.left+w.width-l)/w.width)),{direction:y,speed:E}}function H4(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function w1(e){return e.reduce((t,n)=>bo(t,wp(n)),kr)}function V4(e){return e.reduce((t,n)=>t+g1(n),0)}function q4(e){return e.reduce((t,n)=>t+v1(n),0)}function Y4(e,t){if(t===void 0&&(t=$o),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);m1(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const K4=[["x",["left","right"],V4],["y",["top","bottom"],q4]];class bm{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wm(n),i=w1(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,u]of K4)for(const c of l)Object.defineProperty(this,c,{get:()=>{const f=u(r),h=i[o]-f;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $a{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function G4(e){const{EventTarget:t}=Dn(e);return e instanceof t?e:Lo(e)}function xh(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var nr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nr||(nr={}));function M0(e){e.preventDefault()}function J4(e){e.stopPropagation()}var st;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(st||(st={}));const b1={start:[st.Space,st.Enter],cancel:[st.Esc],end:[st.Space,st.Enter,st.Tab]},Q4=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case st.Right:return{...n,x:n.x+25};case st.Left:return{...n,x:n.x-25};case st.Down:return{...n,y:n.y+25};case st.Up:return{...n,y:n.y-25}}};class k1{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new $a(Lo(n)),this.windowListeners=new $a(Dn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nr.Resize,this.handleCancel),this.windowListeners.add(nr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Y4(r),n(kr)}handleKeyDown(t){if(xm(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=b1,coordinateGetter:l=Q4,scrollBehavior:u="smooth"}=i,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:kr;this.referenceCoordinates||(this.referenceCoordinates=h);const p=l(t,{active:n,context:r.current,currentCoordinates:h});if(p){const v=dc(p,h),y={x:0,y:0},{scrollableAncestors:E}=r.current;for(const w of E){const S=t.code,{isTop:C,isRight:_,isLeft:j,isBottom:M,maxScroll:A,minScroll:R}=x1(w),L=H4(w),Z={x:Math.min(S===st.Right?L.right-L.width/2:L.right,Math.max(S===st.Right?L.left:L.left+L.width/2,p.x)),y:Math.min(S===st.Down?L.bottom-L.height/2:L.bottom,Math.max(S===st.Down?L.top:L.top+L.height/2,p.y))},Q=S===st.Right&&!_||S===st.Left&&!j,O=S===st.Down&&!M||S===st.Up&&!C;if(Q&&Z.x!==p.x){const N=w.scrollLeft+v.x,Y=S===st.Right&&N<=A.x||S===st.Left&&N>=R.x;if(Y&&!v.y){w.scrollTo({left:N,behavior:u});return}Y?y.x=w.scrollLeft-N:y.x=S===st.Right?w.scrollLeft-A.x:w.scrollLeft-R.x,y.x&&w.scrollBy({left:-y.x,behavior:u});break}else if(O&&Z.y!==p.y){const N=w.scrollTop+v.y,Y=S===st.Down&&N<=A.y||S===st.Up&&N>=R.y;if(Y&&!v.x){w.scrollTo({top:N,behavior:u});return}Y?y.y=w.scrollTop-N:y.y=S===st.Down?w.scrollTop-A.y:w.scrollTop-R.y,y.y&&w.scrollBy({top:-y.y,behavior:u});break}}this.handleMove(t,bo(dc(p,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}k1.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=b1,onActivation:i}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function D0(e){return!!(e&&"distance"in e)}function L0(e){return!!(e&&"delay"in e)}class km{constructor(t,n,r){var i;r===void 0&&(r=G4(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Lo(l),this.documentListeners=new $a(this.document),this.listeners=new $a(r),this.windowListeners=new $a(Dn(l)),this.initialCoordinates=(i=xp(o))!=null?i:kr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nr.Resize,this.handleCancel),this.windowListeners.add(nr.DragStart,M0),this.windowListeners.add(nr.VisibilityChange,this.handleCancel),this.windowListeners.add(nr.ContextMenu,M0),this.documentListeners.add(nr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(L0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(D0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(nr.Click,J4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nr.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!i)return;const c=(n=xp(t))!=null?n:kr,f=dc(i,c);if(!r&&u){if(D0(u)){if(u.tolerance!=null&&xh(f,u.tolerance))return this.handleCancel();if(xh(f,u.distance))return this.handleStart()}if(L0(u)&&xh(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===st.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const X4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class S1 extends km{constructor(t){const{event:n}=t,r=Lo(n.target);super(t,X4,r)}}S1.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Z4={move:{name:"mousemove"},end:{name:"mouseup"}};var bp;(function(e){e[e.RightClick=2]="RightClick"})(bp||(bp={}));class eF extends km{constructor(t){super(t,Z4,Lo(t.event.target))}}eF.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===bp.RightClick?!1:(r==null||r({event:n}),!0)}}];const wh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class tF extends km{constructor(t){super(t,wh)}static setup(){return window.addEventListener(wh.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(wh.move.name,t)};function t(){}}}tF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Fa;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fa||(Fa={}));var hc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(hc||(hc={}));function nF(e){let{acceleration:t,activator:n=Fa.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:l=5,order:u=hc.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:h,delta:p,threshold:v}=e;const y=iF({delta:p,disabled:!o}),[E,w]=h4(),S=k.useRef({x:0,y:0}),C=k.useRef({x:0,y:0}),_=k.useMemo(()=>{switch(n){case Fa.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Fa.DraggableRect:return i}},[n,i,c]),j=k.useRef(null),M=k.useCallback(()=>{const R=j.current;if(!R)return;const L=S.current.x*C.current.x,Z=S.current.y*C.current.y;R.scrollBy(L,Z)},[]),A=k.useMemo(()=>u===hc.TreeOrder?[...f].reverse():f,[u,f]);k.useEffect(()=>{if(!o||!f.length||!_){w();return}for(const R of A){if((r==null?void 0:r(R))===!1)continue;const L=f.indexOf(R),Z=h[L];if(!Z)continue;const{direction:Q,speed:O}=W4(R,Z,_,t,v);for(const N of["x","y"])y[N][Q[N]]||(O[N]=0,Q[N]=0);if(O.x>0||O.y>0){w(),j.current=R,E(M,l),S.current=O,C.current=Q;return}}S.current={x:0,y:0},C.current={x:0,y:0},w()},[t,M,r,w,o,l,JSON.stringify(_),JSON.stringify(y),E,f,A,h,JSON.stringify(v)])}const rF={x:{[Jt.Backward]:!1,[Jt.Forward]:!1},y:{[Jt.Backward]:!1,[Jt.Forward]:!1}};function iF(e){let{delta:t,disabled:n}=e;const r=yp(t);return dl(i=>{if(n||!r||!i)return rF;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Jt.Backward]:i.x[Jt.Backward]||o.x===-1,[Jt.Forward]:i.x[Jt.Forward]||o.x===1},y:{[Jt.Backward]:i.y[Jt.Backward]||o.y===-1,[Jt.Forward]:i.y[Jt.Forward]||o.y===1}}},[n,t,r])}function sF(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return dl(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function oF(e,t){return k.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...o]},[]),[e,t])}var Xa;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Xa||(Xa={}));var kp;(function(e){e.Optimized="optimized"})(kp||(kp={}));const $0=new Map;function aF(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,l]=k.useState(null),{frequency:u,measure:c,strategy:f}=i,h=k.useRef(e),p=S(),v=Ja(p),y=k.useCallback(function(C){C===void 0&&(C=[]),!v.current&&l(_=>_===null?C:_.concat(C.filter(j=>!_.includes(j))))},[v]),E=k.useRef(null),w=dl(C=>{if(p&&!n)return $0;if(!C||C===$0||h.current!==e||o!=null){const _=new Map;for(let j of e){if(!j)continue;if(o&&o.length>0&&!o.includes(j.id)&&j.rect.current){_.set(j.id,j.rect.current);continue}const M=j.node.current,A=M?new bm(c(M),M):null;j.rect.current=A,A&&_.set(j.id,A)}return _}return C},[e,o,n,p,c]);return k.useEffect(()=>{h.current=e},[e]),k.useEffect(()=>{p||y()},[n,p]),k.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),k.useEffect(()=>{p||typeof u!="number"||E.current!==null||(E.current=setTimeout(()=>{y(),E.current=null},u))},[u,p,y,...r]),{droppableRects:w,measureDroppableContainers:y,measuringScheduled:o!=null};function S(){switch(f){case Xa.Always:return!1;case Xa.BeforeDragging:return n;default:return!n}}}function E1(e,t){return dl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function lF(e,t){return E1(e,t)}function uF(e){let{callback:t,disabled:n}=e;const r=ym(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Vc(e){let{callback:t,disabled:n}=e;const r=ym(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function cF(e){return new bm($o(e),e)}function F0(e,t,n){t===void 0&&(t=cF);const[r,i]=k.useState(null);function o(){i(c=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=c??n)!=null?f:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const l=uF({callback(c){if(e)for(const f of c){const{type:h,target:p}=f;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){o();break}}}}),u=Vc({callback:o});return $r(()=>{o(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function dF(e){const t=E1(e);return p1(e,t)}const z0=[];function fF(e){const t=k.useRef(e),n=dl(r=>e?r&&r!==z0&&e&&t.current&&e.parentNode===t.current.parentNode?r:wm(e):z0,[e]);return k.useEffect(()=>{t.current=e},[e]),n}function hF(e){const[t,n]=k.useState(null),r=k.useRef(e),i=k.useCallback(o=>{const l=yh(o.target);l&&n(u=>u?(u.set(l,wp(l)),new Map(u)):null)},[]);return k.useEffect(()=>{const o=r.current;if(e!==o){l(o);const u=e.map(c=>{const f=yh(c);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,wp(f)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(o)};function l(u){u.forEach(c=>{const f=yh(c);f==null||f.removeEventListener("scroll",i)})}},[i,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>bo(o,l),kr):w1(e):kr,[e,t])}function B0(e,t){t===void 0&&(t=[]);const n=k.useRef(null);return k.useEffect(()=>{n.current=null},t),k.useEffect(()=>{const r=e!==kr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?dc(e,n.current):kr}function pF(e){k.useEffect(()=>{if(!Hc)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function mF(e,t){return k.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=l=>{o(l,t)},n},{}),[e,t])}function _1(e){return k.useMemo(()=>e?F4(e):null,[e])}const U0=[];function gF(e,t){t===void 0&&(t=$o);const[n]=e,r=_1(n?Dn(n):null),[i,o]=k.useState(U0);function l(){o(()=>e.length?e.map(c=>y1(c)?r:new bm(t(c),c)):U0)}const u=Vc({callback:l});return $r(()=>{u==null||u.disconnect(),l(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),i}function vF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return cl(t)?t:e}function yF(e){let{measure:t}=e;const[n,r]=k.useState(null),i=k.useCallback(f=>{for(const{target:h}of f)if(cl(h)){r(p=>{const v=t(h);return p?{...p,width:v.width,height:v.height}:v});break}},[t]),o=Vc({callback:i}),l=k.useCallback(f=>{const h=vF(f);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[u,c]=cc(l);return k.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const xF=[{sensor:S1,options:{}},{sensor:k1,options:{}}],wF={current:{}},Uu={draggable:{measure:O0},droppable:{measure:O0,strategy:Xa.WhileDragging,frequency:kp.Optimized},dragOverlay:{measure:$o}};class za extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const bF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new za,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uu,measureDroppableContainers:fc,windowRect:null,measuringScheduled:!1},kF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fc,draggableNodes:new Map,over:null,measureDroppableContainers:fc},qc=k.createContext(kF),C1=k.createContext(bF);function SF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new za}}}function EF(e,t){switch(t.type){case Ut.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ut.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ut.DragEnd:case Ut.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ut.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new za(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Ut.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new za(e.droppable.containers);return l.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case Ut.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new za(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function _F(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=k.useContext(qc),o=yp(r),l=yp(n==null?void 0:n.id);return k.useEffect(()=>{if(!t&&!r&&o&&l!=null){if(!xm(o)||document.activeElement===o.target)return;const u=i.get(l);if(!u)return;const{activatorNode:c,node:f}=u;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[c.current,f.current]){if(!h)continue;const p=g4(h);if(p){p.focus();break}}})}},[r,t,i,l,o]),null}function CF(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function jF(e){return k.useMemo(()=>({draggable:{...Uu.draggable,...e==null?void 0:e.draggable},droppable:{...Uu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Uu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function NF(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=k.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;$r(()=>{if(!l&&!u||!t){o.current=!1;return}if(o.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),p=p1(h,r);if(l||(p.x=0),u||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=m1(f);v&&v.scrollBy({top:p.y,left:p.x})}},[t,l,u,r,n])}const j1=k.createContext({...kr,scaleX:1,scaleY:1});var Ti;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ti||(Ti={}));const TF=k.memo(function(t){var n,r,i,o;let{id:l,accessibility:u,autoScroll:c=!0,children:f,sensors:h=xF,collisionDetection:p=R4,measuring:v,modifiers:y,...E}=t;const w=k.useReducer(EF,void 0,SF),[S,C]=w,[_,j]=k4(),[M,A]=k.useState(Ti.Uninitialized),R=M===Ti.Initialized,{draggable:{active:L,nodes:Z,translate:Q},droppable:{containers:O}}=S,N=L!=null?Z.get(L):null,Y=k.useRef({initial:null,translated:null}),H=k.useMemo(()=>{var wt;return L!=null?{id:L,data:(wt=N==null?void 0:N.data)!=null?wt:wF,rect:Y}:null},[L,N]),B=k.useRef(null),[F,J]=k.useState(null),[X,D]=k.useState(null),V=Ja(E,Object.values(E)),P=fl("DndDescribedBy",l),$=k.useMemo(()=>O.getEnabled(),[O]),G=jF(v),{droppableRects:T,measureDroppableContainers:ne,measuringScheduled:pe}=aF($,{dragging:R,dependencies:[Q.x,Q.y],config:G.droppable}),he=sF(Z,L),Se=k.useMemo(()=>X?xp(X):null,[X]),le=Qt(),ke=lF(he,G.draggable.measure);NF({activeNode:L!=null?Z.get(L):null,config:le.layoutShiftCompensation,initialRect:ke,measure:G.draggable.measure});const we=F0(he,G.draggable.measure,ke),Ge=F0(he?he.parentElement:null),rt=k.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:T,draggableNodes:Z,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Qe=O.getNodeFor((n=rt.current.over)==null?void 0:n.id),K=yF({measure:G.dragOverlay.measure}),ae=(r=K.nodeRef.current)!=null?r:he,ue=R?(i=K.rect)!=null?i:we:null,ve=!!(K.nodeRef.current&&K.rect),me=dF(ve?null:we),oe=_1(ae?Dn(ae):null),Ee=fF(R?Qe??he:null),qe=gF(Ee),Xe=CF(y,{transform:{x:Q.x-me.x,y:Q.y-me.y,scaleX:1,scaleY:1},activatorEvent:X,active:H,activeNodeRect:we,containerNodeRect:Ge,draggingNodeRect:ue,over:rt.current.over,overlayNodeRect:K.rect,scrollableAncestors:Ee,scrollableAncestorRects:qe,windowRect:oe}),_t=Se?bo(Se,Q):null,ee=hF(Ee),ce=B0(ee),U=B0(ee,[we]),ie=bo(Xe,ce),be=ue?M4(ue,Xe):null,_e=H&&be?p({active:H,collisionRect:be,droppableRects:T,droppableContainers:$,pointerCoordinates:_t}):null,Ae=T4(_e,"id"),[We,yt]=k.useState(null),dt=ve?Xe:bo(Xe,U),Pt=A4(dt,(o=We==null?void 0:We.rect)!=null?o:null,we),Ye=k.useRef(null),tt=k.useCallback((wt,en)=>{let{sensor:tn,options:sr}=en;if(B.current==null)return;const hn=Z.get(B.current);if(!hn)return;const nn=wt.nativeEvent,bn=new tn({active:B.current,activeNode:hn,event:nn,options:sr,context:rt,onAbort(bt){if(!Z.get(bt))return;const{onDragAbort:rn}=V.current,or={id:bt};rn==null||rn(or),_({type:"onDragAbort",event:or})},onPending(bt,Kn,rn,or){if(!Z.get(bt))return;const{onDragPending:Sr}=V.current,Ln={id:bt,constraint:Kn,initialCoordinates:rn,offset:or};Sr==null||Sr(Ln),_({type:"onDragPending",event:Ln})},onStart(bt){const Kn=B.current;if(Kn==null)return;const rn=Z.get(Kn);if(!rn)return;const{onDragStart:or}=V.current,ar={activatorEvent:nn,active:{id:Kn,data:rn.data,rect:Y}};Hn.unstable_batchedUpdates(()=>{or==null||or(ar),A(Ti.Initializing),C({type:Ut.DragStart,initialCoordinates:bt,active:Kn}),_({type:"onDragStart",event:ar}),J(Ye.current),D(nn)})},onMove(bt){C({type:Ut.DragMove,coordinates:bt})},onEnd:Ur(Ut.DragEnd),onCancel:Ur(Ut.DragCancel)});Ye.current=bn;function Ur(bt){return async function(){const{active:rn,collisions:or,over:ar,scrollAdjustedTranslate:Sr}=rt.current;let Ln=null;if(rn&&Sr){const{cancelDrop:Wr}=V.current;Ln={activatorEvent:nn,active:rn,collisions:or,delta:Sr,over:ar},bt===Ut.DragEnd&&typeof Wr=="function"&&await Promise.resolve(Wr(Ln))&&(bt=Ut.DragCancel)}B.current=null,Hn.unstable_batchedUpdates(()=>{C({type:bt}),A(Ti.Uninitialized),yt(null),J(null),D(null),Ye.current=null;const Wr=bt===Ut.DragEnd?"onDragEnd":"onDragCancel";if(Ln){const Fo=V.current[Wr];Fo==null||Fo(Ln),_({type:Wr,event:Ln})}})}}},[Z]),Wt=k.useCallback((wt,en)=>(tn,sr)=>{const hn=tn.nativeEvent,nn=Z.get(sr);if(B.current!==null||!nn||hn.dndKit||hn.defaultPrevented)return;const bn={active:nn};wt(tn,en.options,bn)===!0&&(hn.dndKit={capturedBy:en.sensor},B.current=sr,tt(tn,en))},[Z,tt]),Ue=oF(h,Wt);pF(h),$r(()=>{we&&M===Ti.Initializing&&A(Ti.Initialized)},[we,M]),k.useEffect(()=>{const{onDragMove:wt}=V.current,{active:en,activatorEvent:tn,collisions:sr,over:hn}=rt.current;if(!en||!tn)return;const nn={active:en,activatorEvent:tn,collisions:sr,delta:{x:ie.x,y:ie.y},over:hn};Hn.unstable_batchedUpdates(()=>{wt==null||wt(nn),_({type:"onDragMove",event:nn})})},[ie.x,ie.y]),k.useEffect(()=>{const{active:wt,activatorEvent:en,collisions:tn,droppableContainers:sr,scrollAdjustedTranslate:hn}=rt.current;if(!wt||B.current==null||!en||!hn)return;const{onDragOver:nn}=V.current,bn=sr.get(Ae),Ur=bn&&bn.rect.current?{id:bn.id,rect:bn.rect.current,data:bn.data,disabled:bn.disabled}:null,bt={active:wt,activatorEvent:en,collisions:tn,delta:{x:hn.x,y:hn.y},over:Ur};Hn.unstable_batchedUpdates(()=>{yt(Ur),nn==null||nn(bt),_({type:"onDragOver",event:bt})})},[Ae]),$r(()=>{rt.current={activatorEvent:X,active:H,activeNode:he,collisionRect:be,collisions:_e,droppableRects:T,draggableNodes:Z,draggingNode:ae,draggingNodeRect:ue,droppableContainers:O,over:We,scrollableAncestors:Ee,scrollAdjustedTranslate:ie},Y.current={initial:ue,translated:be}},[H,he,_e,be,Z,ae,ue,T,O,We,Ee,ie]),nF({...le,delta:Q,draggingRect:be,pointerCoordinates:_t,scrollableAncestors:Ee,scrollableAncestorRects:qe});const lt=k.useMemo(()=>({active:H,activeNode:he,activeNodeRect:we,activatorEvent:X,collisions:_e,containerNodeRect:Ge,dragOverlay:K,draggableNodes:Z,droppableContainers:O,droppableRects:T,over:We,measureDroppableContainers:ne,scrollableAncestors:Ee,scrollableAncestorRects:qe,measuringConfiguration:G,measuringScheduled:pe,windowRect:oe}),[H,he,we,X,_e,Ge,K,Z,O,T,We,ne,Ee,qe,G,pe,oe]),ot=k.useMemo(()=>({activatorEvent:X,activators:Ue,active:H,activeNodeRect:we,ariaDescribedById:{draggable:P},dispatch:C,draggableNodes:Z,over:We,measureDroppableContainers:ne}),[X,Ue,H,we,C,P,Z,We,ne]);return Ce.createElement(h1.Provider,{value:j},Ce.createElement(qc.Provider,{value:ot},Ce.createElement(C1.Provider,{value:lt},Ce.createElement(j1.Provider,{value:Pt},f)),Ce.createElement(_F,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Ce.createElement(_4,{...u,hiddenTextDescribedById:P}));function Qt(){const wt=(F==null?void 0:F.autoScrollEnabled)===!1,en=typeof c=="object"?c.enabled===!1:c===!1,tn=R&&!wt&&!en;return typeof c=="object"?{...c,enabled:tn}:{enabled:tn}}}),IF=k.createContext(null),W0="button",PF="Draggable";function RF(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=fl(PF),{activators:l,activatorEvent:u,active:c,activeNodeRect:f,ariaDescribedById:h,draggableNodes:p,over:v}=k.useContext(qc),{role:y=W0,roleDescription:E="draggable",tabIndex:w=0}=i??{},S=(c==null?void 0:c.id)===t,C=k.useContext(S?j1:IF),[_,j]=cc(),[M,A]=cc(),R=mF(l,t),L=Ja(n);$r(()=>(p.set(t,{id:t,key:o,node:_,activatorNode:M,data:L}),()=>{const Q=p.get(t);Q&&Q.key===o&&p.delete(t)}),[p,t]);const Z=k.useMemo(()=>({role:y,tabIndex:w,"aria-disabled":r,"aria-pressed":S&&y===W0?!0:void 0,"aria-roledescription":E,"aria-describedby":h.draggable}),[r,y,w,S,E,h.draggable]);return{active:c,activatorEvent:u,activeNodeRect:f,attributes:Z,isDragging:S,listeners:r?void 0:R,node:_,over:v,setNodeRef:j,setActivatorNodeRef:A,transform:C}}function AF(){return k.useContext(C1)}const OF="Droppable",MF={timeout:25};function DF(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=fl(OF),{active:l,dispatch:u,over:c,measureDroppableContainers:f}=k.useContext(qc),h=k.useRef({disabled:n}),p=k.useRef(!1),v=k.useRef(null),y=k.useRef(null),{disabled:E,updateMeasurementsFor:w,timeout:S}={...MF,...i},C=Ja(w??r),_=k.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{f(Array.isArray(C.current)?C.current:[C.current]),y.current=null},S)},[S]),j=Vc({callback:_,disabled:E||!l}),M=k.useCallback((Z,Q)=>{j&&(Q&&(j.unobserve(Q),p.current=!1),Z&&j.observe(Z))},[j]),[A,R]=cc(M),L=Ja(t);return k.useEffect(()=>{!j||!A.current||(j.disconnect(),p.current=!1,j.observe(A.current))},[A,j]),k.useEffect(()=>(u({type:Ut.RegisterDroppable,element:{id:r,key:o,disabled:n,node:A,rect:v,data:L}}),()=>u({type:Ut.UnregisterDroppable,key:o,id:r})),[r]),k.useEffect(()=>{n!==h.current.disabled&&(u({type:Ut.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,u]),{active:l,rect:v,isOver:(c==null?void 0:c.id)===r,node:A,over:c,setNodeRef:R}}function N1(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function LF(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function Au(e){return e!==null&&e>=0}function $F(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function FF(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const T1=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=N1(t,r,n),l=t[i],u=o[i];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},Ou={scaleX:1,scaleY:1},zF=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:l}=e;const u=(t=o[n])!=null?t:r;if(!u)return null;if(i===n){const f=o[l];return f?{x:0,y:n<l?f.top+f.height-(u.top+u.height):f.top-u.top,...Ou}:null}const c=BF(o,i,n);return i>n&&i<=l?{x:0,y:-u.height-c,...Ou}:i<n&&i>=l?{x:0,y:u.height+c,...Ou}:{x:0,y:0,...Ou}};function BF(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const I1="Sortable",P1=Ce.createContext({activeIndex:-1,containerId:I1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:T1,disabled:{draggable:!1,droppable:!1}});function UF(e){let{children:t,id:n,items:r,strategy:i=T1,disabled:o=!1}=e;const{active:l,dragOverlay:u,droppableRects:c,over:f,measureDroppableContainers:h}=AF(),p=fl(I1,n),v=u.rect!==null,y=k.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),E=l!=null,w=l?y.indexOf(l.id):-1,S=f?y.indexOf(f.id):-1,C=k.useRef(y),_=!$F(y,C.current),j=S!==-1&&w===-1||_,M=FF(o);$r(()=>{_&&E&&h(y)},[_,y,E,h]),k.useEffect(()=>{C.current=y},[y]);const A=k.useMemo(()=>({activeIndex:w,containerId:p,disabled:M,disableTransforms:j,items:y,overIndex:S,useDragOverlay:v,sortedRects:LF(y,c),strategy:i}),[w,p,M.draggable,M.droppable,j,y,S,c,v,i]);return Ce.createElement(P1.Provider,{value:A},t)}const WF=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return N1(n,r,i).indexOf(t)},HF=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:l,previousItems:u,previousContainerId:c,transition:f}=e;return!f||!r||u!==o&&i===l?!1:n?!0:l!==i&&t===c},VF={duration:200,easing:"ease"},R1="transform",qF=Qa.Transition.toString({property:R1,duration:0,easing:"linear"}),YF={roleDescription:"sortable"};function KF(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,l]=k.useState(null),u=k.useRef(n);return $r(()=>{if(!t&&n!==u.current&&r.current){const c=i.current;if(c){const f=$o(r.current,{ignoreTransform:!0}),h={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(h.x||h.y)&&l(h)}}n!==u.current&&(u.current=n)},[t,n,r,i]),k.useEffect(()=>{o&&l(null)},[o]),o}function GF(e){let{animateLayoutChanges:t=HF,attributes:n,disabled:r,data:i,getNewIndex:o=WF,id:l,strategy:u,resizeObserverConfig:c,transition:f=VF}=e;const{items:h,containerId:p,activeIndex:v,disabled:y,disableTransforms:E,sortedRects:w,overIndex:S,useDragOverlay:C,strategy:_}=k.useContext(P1),j=JF(r,y),M=h.indexOf(l),A=k.useMemo(()=>({sortable:{containerId:p,index:M,items:h},...i}),[p,i,M,h]),R=k.useMemo(()=>h.slice(h.indexOf(l)),[h,l]),{rect:L,node:Z,isOver:Q,setNodeRef:O}=DF({id:l,data:A,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...c}}),{active:N,activatorEvent:Y,activeNodeRect:H,attributes:B,setNodeRef:F,listeners:J,isDragging:X,over:D,setActivatorNodeRef:V,transform:P}=RF({id:l,data:A,attributes:{...YF,...n},disabled:j.draggable}),$=f4(O,F),G=!!N,T=G&&!E&&Au(v)&&Au(S),ne=!C&&X,pe=ne&&T?P:null,Se=T?pe??(u??_)({rects:w,activeNodeRect:H,activeIndex:v,overIndex:S,index:M}):null,le=Au(v)&&Au(S)?o({id:l,items:h,activeIndex:v,overIndex:S}):M,ke=N==null?void 0:N.id,we=k.useRef({activeId:ke,items:h,newIndex:le,containerId:p}),Ge=h!==we.current.items,rt=t({active:N,containerId:p,isDragging:X,isSorting:G,id:l,index:M,items:h,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:f,wasDragging:we.current.activeId!=null}),Qe=KF({disabled:!rt,index:M,node:Z,rect:L});return k.useEffect(()=>{G&&we.current.newIndex!==le&&(we.current.newIndex=le),p!==we.current.containerId&&(we.current.containerId=p),h!==we.current.items&&(we.current.items=h)},[G,le,p,h]),k.useEffect(()=>{if(ke===we.current.activeId)return;if(ke&&!we.current.activeId){we.current.activeId=ke;return}const ae=setTimeout(()=>{we.current.activeId=ke},50);return()=>clearTimeout(ae)},[ke]),{active:N,activeIndex:v,attributes:B,data:A,rect:L,index:M,newIndex:le,items:h,isOver:Q,isSorting:G,isDragging:X,listeners:J,node:Z,overIndex:S,over:D,setNodeRef:$,setActivatorNodeRef:V,setDroppableNodeRef:O,setDraggableNodeRef:F,transform:Qe??Se,transition:K()};function K(){if(Qe||Ge&&we.current.newIndex===M)return qF;if(!(ne&&!xm(Y)||!f)&&(G||rt))return Qa.Transition.toString({...f,property:R1})}}function JF(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}st.Down,st.Right,st.Up,st.Left;function pc(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return pc(t,t);const i=Number(r[1]),o=Number(r[2]);return Number.isNaN(i)||Number.isNaN(o)?pc(t,t):(i*60+o)%1440}function Sp(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,i=n.toString().padStart(2,"0"),o=r.toString().padStart(2,"0");return`${i}:${o}`}const H0={present:"Presente",absent:"Ausente",pending:"Pendiente"};function A1({work:e,objective:t,parentChain:n,onSelect:r}){const i=(e.subtitle??"").trim();return g.jsxs("button",{type:"button",onClick:()=>r(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),i?g.jsx("p",{className:"text-xs text-white/60",children:i}):null,g.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]}),n?g.jsxs("p",{className:"text-[11px] text-white/40",children:["Deriva de ",n]}):null]}),g.jsx(Li,{objective:t,size:"sm"})]})}function QF({item:e,work:t,objective:n,expanded:r,isPersonal:i,onToggleExpanded:o,onRemove:l,onDuplicate:u,onUpdateDetails:c,onReplace:f,startTimeLabel:h,durationMinutes:p,works:v,objectiveMap:y,workPathById:E}){const{attributes:w,listeners:S,setNodeRef:C,transform:_,transition:j,isDragging:M}=GF({id:e.id}),[A,R]=k.useState(!1),[L,Z]=k.useState(""),Q={transform:Qa.Transform.toString(_),transition:j},N=(e.focusLabel??"").trim(),Y=N.length>0,H=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",B=H.trim().length>0,F=((t==null?void 0:t.videoUrls)??[]).map(le=>le.trim()).filter(Boolean),J=F.length>0,X=B||J,V=(t!=null&&t.id?E.get(t.id)??(t==null?void 0:t.name)??"":"").split("  ").slice(0,-1).join("  "),P=((t==null?void 0:t.subtitle)??"").trim(),$=le=>{const ke=le.target.value;c(e.id,{focusLabel:ke===""?void 0:ke})},G=L.trim().toLowerCase(),T=k.useMemo(()=>v.filter(le=>le.id!==(t==null?void 0:t.id)),[v,t==null?void 0:t.id]),ne=k.useMemo(()=>G?T.filter(le=>{var K;const ke=(le.subtitle??"").toLowerCase(),we=((K=y.get(le.objectiveId))==null?void 0:K.name.toLowerCase())??"",Ge=(E.get(le.id)??"").toLowerCase(),rt=(le.descriptionMarkdown??"").toLowerCase(),Qe=G;return le.name.toLowerCase().includes(Qe)||ke.includes(Qe)||rt.includes(Qe)||we.includes(Qe)||Ge.includes(Qe)}):[],[T,G,y,E]);k.useEffect(()=>{A||Z("")},[A]);const pe=T.length>0,he=e.effort??6,Se=e.result;return g.jsxs("article",{ref:C,style:Q,className:Oe("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",M&&"ring-2 ring-sky-400/70"),children:[n?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",...S,...w,"aria-label":"Reordenar trabajo",children:""}),g.jsx("div",{className:"flex-1 space-y-1",children:g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",Y?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",N]}):null]}),P?g.jsx("p",{className:"text-sm text-white/70",children:P}):null,V?g.jsxs("p",{className:"text-xs text-white/50",children:["Deriva de ",V]}):null,g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:h}),g.jsx("span",{className:"text-white/30",children:""}),g.jsxs("span",{children:[p," min"]})]}),g.jsxs("div",{className:"max-w-md",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),g.jsx("input",{type:"text",value:e.focusLabel??"",onChange:$,placeholder:"Ej. 1/7  Apertura",className:"input-field mt-1"})]}),i?g.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:["ok","doubt","fail"].map(le=>g.jsx("button",{type:"button",onClick:()=>c(e.id,{result:le,completed:!0}),className:Oe("rounded-full border px-3 py-1 text-xs font-semibold transition",Se===le?le==="ok"?"border-emerald-500/60 bg-emerald-500/20 text-emerald-200":le==="doubt"?"border-amber-400/50 bg-amber-500/15 text-amber-200":"border-rose-500/60 bg-rose-500/15 text-rose-200":"border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:le==="ok"?"OK":le==="doubt"?"Dudosa":"Fallo"},le))}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"RPE"}),g.jsx("input",{type:"number",min:1,max:10,value:he,onChange:le=>{const ke=Number(le.target.value),we=Number.isFinite(ke)?Math.min(Math.max(ke,1),10):6;c(e.id,{effort:we,completed:!0})},className:"input-field w-20 text-center"})]})]}):null]}),g.jsxs("div",{className:"flex items-center gap-2",children:[X?g.jsxs("button",{type:"button",onClick:()=>o(e.id),className:Oe("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[g.jsx("span",{className:Oe("transition-transform",r?"rotate-90":"rotate-0"),children:""}),r?"Ocultar detalles":"Ver detalles"]}):null,g.jsx(Li,{objective:n,size:"sm"})]})]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:()=>R(le=>!le),disabled:!pe,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categora","aria-expanded":A,children:""}),g.jsx("button",{type:"button",onClick:u,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white","aria-label":"Duplicar trabajo en la sesin",children:"x2"}),g.jsx("button",{type:"button",onClick:l,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesin",children:""})]})]}),A?g.jsx("div",{className:"mt-3 space-y-3 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Buscar en el catlogo"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"search",className:"input-field",placeholder:"Buscar en el catlogo",value:L,onChange:le=>Z(le.target.value)}),L?g.jsx("div",{className:"absolute top-14 z-10 max-h-60 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:ne.length===0?g.jsx("p",{className:"p-3 text-sm text-white/50",children:"Sin resultados. Ajusta la bsqueda."}):g.jsx("div",{className:"space-y-2",children:ne.map(le=>{const we=(E.get(le.id)??le.name).split("  ").slice(0,-1).join("  ");return g.jsx(A1,{work:le,objective:y.get(le.objectiveId),parentChain:we,onSelect:Ge=>{f(Ge),R(!1),Z("")}},le.id)})})}):null]}),L?null:g.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"Escribe para encontrar un reemplazo. Se mostrarn resultados coincidentes del catlogo."})]})}):null,X&&r?g.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[B?g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsx(ys,{content:H,enableWorkLinks:!0})})]}):null,J?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de referencia"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(le=>g.jsxs("a",{href:le,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:""}),"Ver vdeo"]},le))})]}):null]}):null,g.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function O1({session:e,works:t,objectives:n,assistants:r,onDateChange:i}){const o=Te(N=>N.updateSession),l=Te(N=>N.addWorkToSession),u=Te(N=>N.duplicateSessionWork),c=Te(N=>N.removeWorkFromSession),f=Te(N=>N.reorderSessionWork),h=Te(N=>N.updateSessionWorkDetails),p=Te(N=>N.replaceSessionWork),v=Te(N=>N.setAttendanceStatus),y=e.kind==="personal",[E,w]=k.useState(""),[S,C]=k.useState(new Set),_=k.useMemo(()=>new Map(n.map(N=>[N.id,N])),[n]),j=k.useMemo(()=>new Map(t.map(N=>[N.id,N])),[t]),M=k.useMemo(()=>{const N=new Map,Y=(H,B)=>{if(N.has(H))return N.get(H);const F=j.get(H);if(!F)return"";const J=F.parentWorkId;if(!J||B.has(H))return N.set(H,F.name),F.name;B.add(H);const X=Y(J,B);B.delete(H);const D=X?`${X}  ${F.name}`:F.name;return N.set(H,D),D};return t.forEach(H=>Y(H.id,new Set)),N},[t,j]),A=k.useMemo(()=>{if(!E)return t;const N=E.toLowerCase();return t.filter(Y=>{const H=_.get(Y.objectiveId),B=M.get(Y.id)??"";return Y.name.toLowerCase().includes(N)||Y.descriptionMarkdown.toLowerCase().includes(N)||(H==null?void 0:H.name.toLowerCase().includes(N))||B.toLowerCase().includes(N)})},[t,E,_,M]),R=k.useCallback(N=>{const Y=M.get(N);if(!Y)return"";const H=Y.split("  ");return H.pop(),H.join("  ")},[M]),L=N=>{C(Y=>{const H=new Set(Y);return H.has(N)?H.delete(N):H.add(N),H})},Z=N=>{l(e.id,{workId:N}),w("")},Q=N=>{const{active:Y,over:H}=N;if(!H||Y.id===H.id)return;const B=e.workItems.findIndex(J=>J.id===Y.id),F=e.workItems.findIndex(J=>J.id===H.id);B===-1||F===-1||f(e.id,B,F)},O=N=>Y=>{const H=Y.target.value;o(e.id,{[N]:H}),N==="date"&&i&&i(H)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Ttulo"}),g.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:O("title"),placeholder:"Nombre de la sesin"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),g.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:O("date")})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),g.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:O("startTime")})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:O("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),g.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:O("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesin"}),g.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa  para ajustar detalles."})]}),g.jsxs("div",{className:"relative w-full sm:w-72",children:[g.jsx("input",{type:"search",className:"input-field",value:E,onChange:N=>w(N.target.value),placeholder:"Buscar en catlogo"}),E&&g.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:A.length===0?g.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catlogo."}):g.jsx("div",{className:"space-y-2",children:A.map(N=>g.jsx(A1,{work:N,objective:_.get(N.objectiveId),parentChain:R(N.id),onSelect:Z},N.id))})})]})]}),g.jsx("div",{className:"space-y-4",children:g.jsx(TF,{collisionDetection:I4,onDragEnd:Q,children:g.jsx(UF,{items:e.workItems.map(N=>N.id),strategy:zF,children:g.jsx("div",{className:"space-y-5",children:e.workItems.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Aade trabajos desde el catlogo con el buscador superior."}):(()=>{let N=0;const Y=pc(e.startTime,"18:30");return e.workItems.map(H=>{const B=j.get(H.workId),F=B?_.get(B.objectiveId):void 0,J=H.customDurationMinutes??(B==null?void 0:B.estimatedMinutes)??0,X=Sp(Y+N);return N+=J,g.jsx(QF,{item:H,work:B,objective:F,expanded:S.has(H.id),isPersonal:y,onToggleExpanded:L,onRemove:()=>c(e.id,H.id),onDuplicate:()=>u(e.id,H.id),onUpdateDetails:(D,V)=>h(e.id,D,V),onReplace:D=>p(e.id,H.id,D),startTimeLabel:X,durationMinutes:J,works:t,objectiveMap:_,workPathById:M},H.id)})})()})})})})]}),y?null:g.jsxs("section",{className:"space-y-4",children:[g.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsin de asistencia"}),g.jsx("p",{className:"text-sm text-white/60",children:"Indica quin esperas que asista. La asistencia real se marca durante la sesin desde la Home."})]})}),g.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"An no tienes asistentes definidos. Adelos desde la seccin correspondiente para empezar a registrar asistencia."}):r.map(N=>{const Y=e.attendance.find(F=>F.assistantId===N.id),H=(Y==null?void 0:Y.status)??"pending",B=Y==null?void 0:Y.actualStatus;return g.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:N.name}),N.notes?g.jsx("p",{className:"text-xs text-white/50",children:N.notes}):null,B?g.jsxs("p",{className:"text-xs text-white/40",children:["ltimo registro real: ",H0[B]]}):null]}),g.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(F=>g.jsx("button",{type:"button",onClick:()=>v(e.id,N.id,F),className:Oe("rounded-full px-3 py-1 text-xs font-semibold transition",H===F?F==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":F==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:H0[F]},F))})]},N.id)})})]})]})}function XF(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function ZF(e){const t=XF(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(i,o)=>t.add(r*7+o,"day")))}function Mu(e,t){return He(e).format("YYYY-MM-DD")===He(t).format("YYYY-MM-DD")}He.locale("es");const e3={present:"Presente",absent:"Ausente",pending:"Pendiente"},t3={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},n3=["present","absent"],r3={present:"Han venido",absent:"Faltan"},i3={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},s3="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",o3="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",a3="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",l3="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",u3="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",c3="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",d3=[];function f3(e){return He(e).locale("es").format("dddd, D [de] MMMM")}function h3(e){return He(e).format("MMMM YYYY")}function V0({mode:e,onChange:t}){return g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 p-1",children:[g.jsx("button",{type:"button",className:Oe("rounded-full px-4 py-2 text-sm font-semibold transition",e==="view"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="view"&&t("view")},children:"Vista"}),g.jsx("button",{type:"button",className:Oe("rounded-full px-4 py-2 text-sm font-semibold transition",e==="edit"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="edit"&&t("edit")},children:"Editar"})]})}function p3({session:e,objectives:t,works:n,isActive:r,onSelect:i,onDuplicate:o,onDelete:l}){const u=k.useMemo(()=>new Map(t.map(p=>[p.id,p])),[t]),c=k.useMemo(()=>new Map(n.map(p=>[p.id,p])),[n]),f=k.useMemo(()=>{const p=e.workItems[0];if(!p)return;const v=c.get(p.workId);if(v)return u.get(v.objectiveId)},[e.workItems,c,u]),h=e.workItems.reduce((p,v)=>{const y=c.get(v.workId);return p+(v.customDurationMinutes??(y==null?void 0:y.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:i,className:Oe("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesin sin ttulo"}),g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos  ",h," min"]})]}),g.jsx(Li,{objective:f,size:"sm"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(p=>{const v=c.get(p.workId),y=((v==null?void 0:v.subtitle)??"").trim();return g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:y?`${(v==null?void 0:v.name)??"Trabajo"}  ${y}`:(v==null?void 0:v.name)??"Trabajo"},p.id)}),e.workItems.length>3?g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Li,{objective:f,size:"sm"}),g.jsxs("div",{className:"ml-auto flex gap-2",children:[g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function m3(){const e=Te(ee=>ee.sessions).filter(ee=>ee.kind==="class"),t=Te(ee=>ee.works),n=Te(ee=>ee.objectives),r=Te(ee=>ee.assistants),i=Te(ee=>ee.addSession),o=Te(ee=>ee.duplicateSession),l=Te(ee=>ee.deleteSession),u=Te(ee=>ee.setAttendanceActualStatus),c=Te(ee=>ee.toggleSessionWorkCompletion),[f,h]=Np(),p=f.get("session")??void 0,v=f.get("mode")==="edit"?"edit":"view",[y,E]=k.useState(()=>v==="edit"),[w,S]=k.useState(new Set),C=k.useMemo(()=>[...e].sort((ee,ce)=>He(ee.date).valueOf()-He(ce.date).valueOf()),[e]),_=He().format("YYYY-MM-DD"),j=k.useMemo(()=>C.find(ee=>ee.date>=_)??C[C.length-1],[C,_]),[M,A]=k.useState(()=>p&&e.some(ee=>ee.id===p)?p:j==null?void 0:j.id),R=ee=>{const ce=new URLSearchParams(f);ee==="edit"?ce.set("mode","edit"):ce.delete("mode"),h(ce,{replace:!0})};k.useEffect(()=>{p&&e.some(ee=>ee.id===p)&&A(p)},[p,e]),k.useEffect(()=>{if(!(M&&e.some(ee=>ee.id===M))){if(p&&e.some(ee=>ee.id===p)){A(p);return}A(j==null?void 0:j.id)}},[M,p,e,j]);const L=k.useMemo(()=>M?C.find(ee=>ee.id===M)??j:j,[C,M,j]),Z=ee=>{const ce=new URLSearchParams(f);ee?ce.set("session",ee):ce.delete("session"),h(ce,{replace:!0})},Q=ee=>{A(ee),Z(ee)},O=(L==null?void 0:L.date)??_,[N,Y]=k.useState(O),[H,B]=k.useState(He(O).startOf("month").format("YYYY-MM-DD"));k.useEffect(()=>{L&&(Y(L.date),B(He(L.date).startOf("month").format("YYYY-MM-DD")))},[L]);const F=k.useMemo(()=>{const ee=new Map;return e.forEach(ce=>{const U=He(ce.date).format("YYYY-MM-DD"),ie=ee.get(U)??[];ie.push(ce),ee.set(U,ie)}),ee.forEach(ce=>ce.sort((U,ie)=>(U.title??"").localeCompare(ie.title??"","es"))),ee},[e]),J=k.useMemo(()=>F.get(N)??[],[F,N]),X=k.useMemo(()=>ZF(He(H)),[H]),D=k.useMemo(()=>{const ee=He(H);return e.filter(ce=>{const U=He(ce.date);return U.year()===ee.year()&&U.month()===ee.month()}).sort((ce,U)=>He(ce.date).valueOf()-He(U.date).valueOf())},[e,H]),V=k.useMemo(()=>{const ee=new Map;return D.forEach(ce=>{const U=He(ce.date).format("YYYY-MM-DD"),ie=ee.get(U)??[];ie.push(ce),ee.set(U,ie)}),Array.from(ee.entries()).sort((ce,U)=>He(ce[0]).valueOf()-He(U[0]).valueOf()).map(([ce,U])=>({date:ce,sessions:U.slice().sort((ie,be)=>(ie.title??"").localeCompare(be.title??"","es"))}))},[D]),P=ee=>{Y(ee),B(He(ee).startOf("month").format("YYYY-MM-DD"));const ce=F.get(ee)??[];ce.length>0?Q(ce[0].id):Q(void 0)},$=()=>{const ee=i({date:N,title:"Nueva sesin",description:"",notes:""});Q(ee.id)},G=ee=>{const ce=o(ee,N);ce&&Q(ce.id)},T=ee=>{l(ee),M===ee&&Q(void 0)},ne=ee=>{const ce=He(H).add(ee,"month");B(ce.format("YYYY-MM-DD")),Y(U=>{const ie=He(U);return ie.month()===ce.month()&&ie.year()===ce.year()?U:ce.startOf("month").format("YYYY-MM-DD")})},pe=k.useMemo(()=>new Map(n.map(ee=>[ee.id,ee])),[n]),he=k.useMemo(()=>new Map(t.map(ee=>[ee.id,ee])),[t]),Se=C.length===0,le=k.useMemo(()=>r.filter(ee=>ee.active).slice().sort((ee,ce)=>ee.name.localeCompare(ce.name,"es",{sensitivity:"base"})),[r]),ke=(L==null?void 0:L.attendance)??d3,we=k.useMemo(()=>{const ee=new Map;ke.forEach(ie=>{ee.set(ie.assistantId,ie)});let ce=0;le.forEach(ie=>{var be;((be=ee.get(ie.id))==null?void 0:be.actualStatus)==="present"&&(ce+=1)});const U={present:ce,absent:Math.max(le.length-ce,0)};return{map:ee,summary:U}},[ke,le]),Ge=we.map,rt=we.summary,Qe=k.useMemo(()=>pc(L==null?void 0:L.startTime,"18:30"),[L==null?void 0:L.startTime]),K=k.useMemo(()=>{if(!L)return new Map;let ee=0;const ce=new Map;return L.workItems.forEach(U=>{const ie=he.get(U.workId),be=U.customDurationMinutes??(ie==null?void 0:ie.estimatedMinutes)??0,_e=Sp(Qe+ee);ce.set(U.id,{startLabel:_e,duration:be}),ee+=be}),ce},[L,he,Qe]),ae=L?C.findIndex(ee=>ee.id===L.id):-1,ue=ae>0,ve=ae>=0&&ae<C.length-1,me=()=>{ue&&Q(C[ae-1].id)},oe=()=>{ve&&Q(C[ae+1].id)},Ee=ee=>{const ce=ee.target.value;if(!ce)return;P(ce);const U=F.get(ce);U&&U.length>0&&Q(U[0].id)},qe=ee=>{S(ce=>{const U=new Set(ce);return U.has(ee)?U.delete(ee):U.add(ee),U})},Xe=(ee,ce)=>{L&&u(L.id,ee,ce)},_t=y?g.jsxs("section",{className:"glass-panel space-y-6 p-6",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Calendario"}),g.jsx("h2",{className:"text-xl font-semibold text-white",children:h3(H)})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ne(-1),children:" Mes anterior"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ne(1),children:"Mes siguiente "})]})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.3fr_1.7fr]",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(ee=>g.jsx("div",{className:"rounded-full bg-white/5 py-2",children:ee},ee))}),g.jsx("div",{className:"grid grid-cols-7 gap-2",children:X.flat().map(ee=>{const ce=ee.format("YYYY-MM-DD"),U=F.get(ce)??[],ie=ee.month()===He(H).month(),be=Mu(ce,_),_e=Mu(ce,N);return g.jsxs("button",{type:"button",onClick:()=>P(ce),className:Oe("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",_e?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!ie&&"text-white/30"),children:[g.jsx("span",{className:Oe("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",be?"bg-white text-slate-900":""),children:ee.format("D")}),g.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[U.slice(0,3).map(Ae=>{const We=Ae.workItems[0],yt=We?t.find(Pt=>Pt.id===We.workId):void 0,dt=yt?n.find(Pt=>Pt.id===yt.objectiveId):void 0;return g.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(dt==null?void 0:dt.colorHex)??"rgba(255,255,255,0.4)"}},Ae.id)}),U.length>3?g.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},ce)})})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),g.jsx("h3",{className:"text-2xl font-semibold text-white",children:He(N).format("dddd, D [de] MMMM")})]}),g.jsx("div",{className:"flex gap-3",children:g.jsx("button",{type:"button",onClick:$,className:"btn-primary",children:"+ Nueva sesin"})})]}),g.jsx("div",{className:"space-y-3",children:J.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"An no hay sesiones planificadas este da. Crea una con el botn superior."}):J.map(ee=>g.jsx(p3,{session:ee,objectives:n,works:t,isActive:ee.id===(L==null?void 0:L.id),onSelect:()=>Q(ee.id),onDuplicate:()=>G(ee.id),onDelete:()=>T(ee.id)},ee.id))}),V.length>0?g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:["Ver sesiones del mes (",D.length,")"]}),g.jsx("div",{className:"custom-scrollbar mt-3 max-h-[22rem] space-y-3 overflow-y-auto pr-1",children:V.map(({date:ee,sessions:ce})=>{const U=ce.length===1?"1 sesin":`${ce.length} sesiones`;return g.jsxs("div",{role:"button",tabIndex:0,onClick:()=>P(ee),onKeyDown:ie=>{(ie.key==="Enter"||ie.key===" ")&&(ie.preventDefault(),P(ee))},className:Oe("cursor-pointer rounded-2xl border border-white/10 bg-white/5 p-3 text-sm transition hover:border-white/40 hover:bg-white/10",Mu(ee,N)&&"border-sky-400/50 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsxs("p",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{children:He(ee).format("ddd  D MMM")}),g.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-[9px] font-semibold tracking-[0.2em] text-white/50",children:U})]}),g.jsx("div",{className:"mt-3 space-y-2 text-xs",children:ce.map(ie=>{const be=(ie.description??"").trim(),_e=ie.workItems.reduce((Ae,We)=>{const yt=t.find(dt=>dt.id===We.workId);return Ae+(We.customDurationMinutes??(yt==null?void 0:yt.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:Ae=>{Ae.stopPropagation(),P(ee),Q(ie.id)},className:Oe("flex w-full flex-col gap-1 rounded-xl border border-white/10 bg-slate-950/60 px-3 py-2 text-left transition hover:border-white/30 hover:text-white",ie.id===(L==null?void 0:L.id)&&Mu(ee,N)&&"border-sky-400/60 text-white"),children:[g.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[g.jsx("span",{className:"truncate font-medium",children:ie.title||"Sesin sin ttulo"}),g.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-white/40",children:[ie.workItems.length,"  ",_e," min"]})]}),be?g.jsx("p",{className:"text-[11px] leading-relaxed text-white/60",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:be}):null]},ie.id)})})]},ee)})})]}):null]})]})]}):null;return g.jsxs("div",{className:"space-y-6",children:[Se||!L?g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end",children:[g.jsx(V0,{mode:v,onChange:R}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>E(ee=>!ee),children:y?"Ocultar calendario":"Abrir calendario"})]}):null,_t,Se?g.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[g.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:g.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:g.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-lg font-semibold text-white sm:text-2xl",children:"An no hay sesiones"}),g.jsx("p",{className:"mx-auto max-w-md text-sm text-white/60 sm:text-base",children:"Crea tu primera sesin en el calendario y empieza a construir tu plan reutilizable."})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>E(!0),children:"Abrir calendario"})]}):L?g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[g.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{className:"sm:hidden",children:"Sesin"}),g.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),g.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:f3(L.date)}),g.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:L.title})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Duracin estimada"}),g.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[L.workItems.map(ee=>{const ce=he.get(ee.workId);return ee.customDurationMinutes??(ce==null?void 0:ce.estimatedMinutes)??0}).reduce((ee,ce)=>ee+ce,0)||0," ","min"]})]}),g.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[g.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),g.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:L.date??_,onChange:Ee})]})]})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:me,disabled:!ue,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:" Anterior"}),g.jsx("button",{type:"button",onClick:oe,disabled:!ve,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente "})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(V0,{mode:v,onChange:R}),g.jsx("button",{type:"button",className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",onClick:()=>E(ee=>!ee),children:y?"Ocultar calendario":"Abrir calendario"})]})]}),v==="edit"?g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-3 sm:p-4",children:g.jsx(O1,{session:L,works:t,objectives:n,assistants:r,onDateChange:ee=>{Y(ee),B(He(ee).startOf("month").format("YYYY-MM-DD"))}})}):g.jsxs(g.Fragment,{children:[L.description&&g.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:g.jsx(ys,{content:L.description})}),g.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[g.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:L.workItems.map(ee=>{const ce=he.get(ee.workId),U=ce?pe.get(ce.objectiveId):void 0,ie=w.has(ee.id),be=K.get(ee.id),_e=(be==null?void 0:be.startLabel)??Sp(Qe),Ae=(be==null?void 0:be.duration)??ee.customDurationMinutes??(ce==null?void 0:ce.estimatedMinutes)??0,We=(ee.focusLabel??"").trim(),yt=We.length>0,dt=ee.customDescriptionMarkdown??(ce==null?void 0:ce.descriptionMarkdown)??"",Pt=dt.trim().length>0,Ye=((ce==null?void 0:ce.videoUrls)??[]).map(lt=>lt.trim()).filter(Boolean),tt=Ye.length>0,Wt=Pt||tt,Ue=((ce==null?void 0:ce.subtitle)??"").trim();return g.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:U?{background:`linear-gradient(120deg, ${U.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:g.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:ee.completed??!1,onChange:lt=>c(L.id,ee.id,lt.target.checked)})}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(ce==null?void 0:ce.name)??"Trabajo eliminado",yt?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",We]}):null]}),Ue?g.jsx("p",{className:"text-sm text-white/70",children:Ue}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:_e}),g.jsx("span",{className:"mx-2 text-white/30",children:""}),g.jsxs("span",{children:[Ae," min"]})]})]}),g.jsx(Li,{objective:U,size:"sm"})]}),(Wt||tt)&&g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[Wt?g.jsxs("button",{type:"button",onClick:()=>qe(ee.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:Oe("transition-transform",ie?"rotate-90":"rotate-0"),children:""}),ie?"Ocultar detalles":"Ver detalles"]}):null,tt?g.jsxs("span",{children:[Ye.length," vdeo",Ye.length>1?"s":""]}):null]})]}),g.jsx("div",{className:Oe("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",ee.completed?"bg-white/20 text-white":""),children:ee.order+1})]}),Wt&&ie&&g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[Pt?g.jsx(ys,{content:dt,enableWorkLinks:!0}):null,tt?g.jsx("div",{className:"space-y-3",children:Ye.map((lt,ot)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Wc,{url:lt,title:`${(ce==null?void 0:ce.name)??"Trabajo"} vdeo ${ot+1}`}),g.jsx("a",{href:lt,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${ee.id}-video-${ot}`))}):null]})]},ee.id)})})]})]}),v==="view"?r.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Quines participan?"}),g.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quin ha venido a clase en tiempo real."}),g.jsx(ei,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):le.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes estn inactivos."}),g.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la seccin de asistentes para poder marcar su asistencia."}),g.jsx(ei,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),g.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quin est presente en la sesin actual."})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:n3.map(ee=>g.jsxs("span",{className:Oe("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",i3[ee]),children:[rt[ee]," ",r3[ee]]},ee))})]}),g.jsx("div",{className:"space-y-2",children:le.map(ee=>{const ce=Ge.get(ee.id),U=(ce==null?void 0:ce.status)??"pending",ie=(ce==null?void 0:ce.actualStatus)==="present",be=()=>Xe(ee.id,ie?"absent":"present");return g.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:ee.name}),g.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsin"}),g.jsx("span",{className:Oe("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",t3[U]),children:e3[U]}),g.jsx("span",{className:"hidden text-white/30 sm:inline",children:""}),g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),g.jsx("span",{className:Oe("font-semibold",ie?"text-emerald-200":"text-white/60"),children:ie?"Presente":"No asisti"})]})]}),g.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[g.jsxs("button",{type:"button",onClick:be,"aria-pressed":ie,"aria-label":`${ie?"Desmarcar asistencia de":"Marcar asistencia de"} ${ee.name}`,title:ie?"Desmarcar asistencia":"Marcar como presente",className:Oe(s3,ie?o3:a3),children:[g.jsx("span",{className:Oe(l3,ie?u3:c3),children:ie?g.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:g.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):g.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),g.jsx("span",{children:ie?"Ha asistido":"Marcar asistencia"})]}),g.jsx("span",{className:Oe("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",ie?"text-emerald-200":"text-white/40"),children:ie?"PRESENTE":"AUSENTE"})]})]})},ee.id)})})]}):null]}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Selecciona una sesin desde el calendario."})]})}function g3(){return g.jsx(m3,{})}function v3(){const[e]=Np(),t=new URLSearchParams(e);return t.set("mode","edit"),g.jsx(bc,{to:{pathname:"/",search:`?${t.toString()}`},replace:!0})}const q0={name:"",subtitle:"",objectiveId:"",parentWorkId:"",nodeType:"",tags:"",orderHint:0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""],visibility:"private",collaborators:[""]},y3=e=>Array.from(new Set(e.split(",").map(t=>t.trim().toLowerCase()).filter(t=>t.length>0))),Y0=e=>e.join(", "),bh="__no_objective__",M1={private:"Privado",shared:"Compartido",public:"Pblico"},x3={private:"Solo t puedes ver y editar este trabajo.",shared:"Solo las personas que aadas pueden editarlo contigo.",public:"Cualquier persona con acceso al catlogo puede verlo. Solo tus editores pueden cambiarlo."},D1=5,Na="personal-exclude";function w3({work:e,childCount:t,depth:n,expanded:r,isTreeCollapsed:i,isPersonalExcluded:o,canTogglePersonal:l,personalToggleBusy:u,nextLabel:c,variantLabel:f,onToggle:h,onToggleTree:p,onTogglePersonal:v,onEdit:y,onDuplicate:E,onCreateChild:w,onDelete:S}){var T;const C=(e.descriptionMarkdown??"").trim(),_=(e.subtitle??"").trim(),j=(e.notes??"").trim(),M=e.videoUrls.filter(ne=>ne.trim().length>0),A=C.length>0,R=_.length>0,L=j.length>0,Z=M.length>0,Q=A||L||Z,O=t>0,N=n>0?{marginLeft:`${n*1.5}rem`}:void 0,Y=e.visibility??"private",H=M1[Y],B=((T=e.collaboratorEmails)==null?void 0:T.length)??0,F=e.canEdit??!1,J=e.isOwner??!1,X=(e.ownerEmail??"").trim(),D=(e.nodeType??"").trim(),V=(e.tags??[]).filter(ne=>ne!==Na),P=(D||"work").trim().toLowerCase(),$=(()=>{const ne={form:"Forma",segment:"Segmento",application:"Aplicacin",technique:"Tcnica",drill:"Drill",style:"Estilo",link:"Link",work:"Trabajo"},pe={form:"border-indigo-500/40 bg-indigo-500/15 text-indigo-100",segment:"border-sky-500/40 bg-sky-500/15 text-sky-100",application:"border-amber-500/40 bg-amber-500/15 text-amber-100",technique:"border-emerald-500/40 bg-emerald-500/15 text-emerald-100",drill:"border-purple-500/40 bg-purple-500/15 text-purple-100",style:"border-white/20 bg-white/10 text-white/70",link:"border-white/20 bg-white/10 text-white/70",work:"border-white/20 bg-white/10 text-white/70"},he=ne[P]??(D||"Trabajo"),Se=pe[P]??pe.work;return g.jsx("span",{className:Oe("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold",Se),children:he})})(),G=(()=>{const ne={form:"border-indigo-500/25",segment:"border-sky-500/25",application:"border-amber-500/25",technique:"border-emerald-500/25",drill:"border-purple-500/25",work:"border-white/10"},pe={form:"bg-indigo-500",segment:"bg-sky-500",application:"bg-amber-500",technique:"bg-emerald-500",drill:"bg-purple-500",work:""},he={form:"bg-indigo-400/60",segment:"bg-sky-400/60",application:"bg-amber-400/60",technique:"bg-emerald-400/60",drill:"bg-purple-400/60",work:"bg-white/10"},Se=ne[P]??ne.work,le=pe[P]??pe.work,ke=he[P]??he.work;return{borderClassName:Se,glowClassName:le,barClassName:ke}})();return g.jsxs("article",{id:`work-${e.id}`,className:Oe("group relative space-y-4 rounded-xl border bg-white/5 p-4 pb-5 shadow shadow-black/30",G.borderClassName),style:N,children:[g.jsx("div",{className:Oe("absolute inset-y-0 left-0 w-1 rounded-r-full",G.barClassName),"aria-hidden":!0}),G.glowClassName?g.jsx("div",{className:Oe("absolute inset-0 -z-[1] rounded-xl opacity-10 blur-3xl",G.glowClassName)}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{role:Q?"button":void 0,tabIndex:Q?0:void 0,onClick:()=>{Q&&h()},onKeyDown:ne=>{Q&&(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),h())},className:Oe("flex flex-1 items-start gap-3 border border-transparent px-2 py-2 text-left transition",Q?"cursor-pointer hover:border-white/10 hover:bg-white/5 focus-visible:border-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40":"cursor-default"),"aria-expanded":Q?r:void 0,children:[O?g.jsx("button",{type:"button",onClick:ne=>{ne.stopPropagation(),p()},className:Oe("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white"),"aria-label":i?"Mostrar trabajos hijos":"Ocultar trabajos hijos",title:i?"Mostrar hijos":"Ocultar hijos",children:i?"":""}):null,Q?g.jsx("span",{className:Oe("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition",r?"rotate-90 border-white/30 text-white":""),"aria-hidden":!0,children:""}):null,g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),R?g.jsx("p",{className:"text-sm text-white/70",children:_}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/20 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:H}),V.slice(0,3).map(ne=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] font-semibold text-white/60",children:ne},ne)),J?g.jsx("span",{children:"Propietario"}):X?g.jsx("span",{children:X}):null,B>0?g.jsxs("span",{children:["+",B," colaborador",B===1?"":"es"]}):null,f?g.jsxs("span",{className:"text-white/50",children:["Variante de: ",f]}):null,c?g.jsxs("span",{className:"text-white/50",children:["Siguiente: ",c]}):null,F?null:g.jsx("span",{className:"text-amber-300/80",children:"Solo lectura"})]})]})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[$,g.jsx("button",{type:"button",onClick:ne=>{ne.stopPropagation(),v()},disabled:!l||u,className:Oe("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition disabled:opacity-50",o?"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400":"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400"),title:o?"Incluir en el plan personal":"Excluir del plan personal",children:u?"...":o?"Fuera":"En plan"}),g.jsxs(es,{as:"div",className:"relative inline-flex",children:[g.jsxs(es.Button,{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-white/40 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40",children:[g.jsx("span",{className:"sr-only",children:"Abrir acciones"}),g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5","aria-hidden":"true",children:[g.jsx("circle",{cx:"12",cy:"5",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"19",r:"1.5"})]})]}),g.jsxs(es.Items,{className:"absolute right-0 z-10 mt-2 w-44 overflow-hidden rounded-2xl border border-white/10 bg-slate-900/95 p-1 text-sm text-white shadow-lg shadow-black/40 focus:outline-none",children:[g.jsx(es.Item,{children:({active:ne})=>g.jsx("button",{type:"button",onClick:F?y:void 0,disabled:!F,className:Oe("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",ne&&F?"bg-white/10 text-white":"text-white/70"),children:"Editar"})}),g.jsx(es.Item,{children:({active:ne})=>g.jsx("button",{type:"button",onClick:F?E:void 0,disabled:!F,className:Oe("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",ne&&F?"bg-white/10 text-white":"text-white/70"),children:"Duplicar"})}),g.jsx(es.Item,{children:({active:ne})=>g.jsx("button",{type:"button",onClick:F?w:void 0,disabled:!F,className:Oe("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",ne&&F?"bg-white/10 text-white":"text-white/70"),children:"Nuevo hijo"})}),g.jsx(es.Item,{children:({active:ne})=>g.jsx("button",{type:"button",onClick:J?S:void 0,disabled:!J,className:Oe("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",ne&&J?"bg-rose-500/20 text-rose-100":"text-rose-300"),children:"Eliminar"})})]})]})]})]}),Q&&r&&g.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[A?g.jsx(ys,{content:e.descriptionMarkdown,enableWorkLinks:!0}):null,L?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,Z?g.jsx("div",{className:"space-y-3",children:g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:M.map((ne,pe)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Wc,{url:ne,title:`${e.name} vdeo ${pe+1}`}),g.jsx("a",{href:ne,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${pe}`))})}):null]}),g.jsx("button",{type:"button",onClick:F?w:void 0,disabled:!F,className:Oe("absolute bottom-0 left-1/2 flex -translate-x-1/2 translate-y-1/2 items-center justify-center rounded-full border border-dashed border-white/20 bg-slate-950/80 px-4 py-2 text-sm font-semibold text-white/80 opacity-0 transition hover:border-white/40 hover:text-white focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto focus-visible:pointer-events-auto",!F&&"opacity-30"),title:F?O?"Aadir trabajo hijo":"Crear primer trabajo hijo":"No tienes permisos para crear trabajos hijos","aria-label":"Crear trabajo hijo",children:"+"})]})}function b3({form:e,objectiveOptions:t,parentOptions:n,workOptions:r,depth:i,onFieldChange:o,onVideoChange:l,onAddVideo:u,onRemoveVideo:c,onCollaboratorChange:f,onAddCollaborator:h,onRemoveCollaborator:p,onSave:v,onCancel:y,isNew:E,canEditContent:w,canManageSharing:S,isSaving:C,isOwner:_,ownerEmail:j}){const M=t.find(N=>N.id===e.objectiveId),A=n.find(N=>N.id===e.parentWorkId),R=r.find(N=>N.id===e.nextWorkId),L=r.find(N=>N.id===e.variantOfWorkId),Z=i>0?{marginLeft:`${i*1.5}rem`}:void 0,Q=e.id?`work-name-${e.id}`:void 0,O=e.id?`work-subtitle-${e.id}`:void 0;return g.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",style:Z,children:[g.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex-1 space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:E?"Nuevo trabajo":"Editando trabajo"}),g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:Q,children:"Nombre"}),g.jsx("input",{id:Q,type:"text",className:"input-field w-full text-base font-semibold disabled:opacity-60",placeholder:"Nombre descriptivo",value:e.name,onChange:N=>o({name:N.target.value}),disabled:!w})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:O,children:"Subttulo (opcional)"}),g.jsx("input",{id:O,type:"text",className:"input-field w-full disabled:opacity-60",placeholder:"Aade un subttulo breve",value:e.subtitle,onChange:N=>o({subtitle:N.target.value}),disabled:!w})]})]}),g.jsx(Li,{objective:M,size:"sm"})]}),w?null:g.jsx("div",{className:"rounded-2xl border border-amber-400/40 bg-amber-500/10 p-3 text-xs text-amber-200",children:"No tienes permisos para editar el contenido de este trabajo. Puedes revisar la informacin y sugerir cambios al propietario."}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.objectiveId,onChange:N=>o({objectiveId:N.target.value}),disabled:!w,children:[g.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map(N=>g.jsx("option",{value:N.id,children:N.name},N.id))]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Trabajo padre (opcional)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.parentWorkId,onChange:N=>o({parentWorkId:N.target.value}),disabled:!w,children:[g.jsx("option",{value:"",children:"Sin trabajo padre"}),n.map(N=>g.jsx("option",{value:N.id,children:N.label},N.id))]}),e.parentWorkId&&A?g.jsxs("p",{className:"text-xs text-white/40",children:["Deriva de: ",A.label]}):null]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duracin estimada (min)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.estimatedMinutes,onChange:N=>o({estimatedMinutes:Number(N.target.value)}),disabled:!w})]})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Node type (opcional)"}),g.jsx("input",{type:"text",className:"input-field disabled:opacity-60",value:e.nodeType,onChange:N=>o({nodeType:N.target.value}),placeholder:"Ej. form, segment, technique",disabled:!w})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Tags (coma-separadas)"}),g.jsx("input",{type:"text",className:"input-field disabled:opacity-60",value:e.tags,onChange:N=>o({tags:N.target.value}),placeholder:"Ej. kungfu, shaolin, form",disabled:!w})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Order hint (opcional)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.orderHint,onChange:N=>o({orderHint:Number(N.target.value)}),disabled:!w})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Siguiente (next)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.nextWorkId,onChange:N=>o({nextWorkId:N.target.value}),disabled:!w,children:[g.jsx("option",{value:"",children:"Sin siguiente"}),r.filter(N=>N.id!==e.id).map(N=>g.jsx("option",{value:N.id,children:N.label},N.id))]}),e.nextWorkId&&R?g.jsxs("p",{className:"text-xs text-white/40",children:["Siguiente: ",R.label]}):null]}),g.jsxs("div",{className:"grid gap-2 sm:col-span-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Variante de (variant_of)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.variantOfWorkId,onChange:N=>o({variantOfWorkId:N.target.value}),disabled:!w,children:[g.jsx("option",{value:"",children:"Sin base"}),r.filter(N=>N.id!==e.id).map(N=>g.jsx("option",{value:N.id,children:N.label},N.id))]}),e.variantOfWorkId&&L?g.jsxs("p",{className:"text-xs text-white/40",children:["Variante de: ",L.label]}):null]})]}),g.jsxs("section",{className:"space-y-3 rounded-3xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Visibilidad"}),g.jsx("p",{className:"text-sm text-white/60",children:_?"Eres el propietario de este trabajo.":j?`Propietario: ${j}`:""})]}),S?null:g.jsx("p",{className:"text-xs text-amber-300/80",children:"Solo el propietario puede cambiar la visibilidad o los colaboradores."})]}),g.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:["private","shared","public"].map(N=>g.jsxs("label",{className:Oe("inline-flex items-center gap-2 rounded-2xl border px-3 py-2 text-sm transition",e.visibility===N?"border-sky-400/80 bg-sky-400/10 text-white":"border-white/15 text-white/70 hover:border-white/30 hover:text-white",!S&&"opacity-50"),children:[g.jsx("input",{type:"radio",className:"accent-sky-400",checked:e.visibility===N,onChange:()=>o({visibility:N}),disabled:!S}),M1[N]]},N))}),g.jsx("p",{className:"text-xs text-white/50",children:x3[e.visibility]}),e.visibility==="private"?null:g.jsxs("div",{className:"space-y-2 rounded-2xl border border-white/10 bg-white/5 p-3",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Colaboradores (edicin)"}),g.jsx("p",{className:"text-xs text-white/50",children:"Aade hasta 5 direcciones de correo. Tendrn permisos de edicin completos."}),g.jsx("div",{className:"space-y-2",children:e.collaborators.map((N,Y)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"email",className:"input-field flex-1 disabled:opacity-60",placeholder:"colega@ejemplo.com",value:N,onChange:H=>f(Y,H.target.value),disabled:!S}),e.collaborators.length>1?g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200 disabled:opacity-40",onClick:()=>p(Y),"aria-label":"Eliminar colaborador",disabled:!S,children:""}):null]},`collaborator-${Y}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-40",onClick:h,disabled:!S||e.collaborators.length>=D1,children:"+ Aadir colaborador"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px] disabled:opacity-60",value:e.descriptionMarkdown,onChange:N=>o({descriptionMarkdown:N.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes.",disabled:!w})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),g.jsx("textarea",{className:"input-field min-h-[100px] disabled:opacity-60",value:e.notes,onChange:N=>o({notes:N.target.value}),disabled:!w})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de YouTube"}),g.jsx("div",{className:"space-y-3",children:e.videoUrls.map((N,Y)=>g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"url",className:"input-field flex-1 disabled:opacity-60",value:N,onChange:H=>l(Y,H.target.value),placeholder:"https://www.youtube.com/watch?v=...",disabled:!w}),e.videoUrls.length>1?g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>c(Y),"aria-label":"Eliminar enlace de vdeo",disabled:!w,children:""}):null]}),g.jsx(Wc,{url:N,title:`Vista previa vdeo ${Y+1}`})]},`video-field-${Y}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-50",onClick:u,disabled:!w,children:"+ Aadir vdeo"})]}),g.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:v,className:"btn-primary disabled:opacity-60",disabled:C,children:C?"Guardando":"Guardar"}),g.jsx("button",{type:"button",className:"btn-secondary disabled:opacity-50",onClick:y,disabled:C,children:"Cancelar"})]})]})}function k3(){var Qe;const e=Te(K=>K.works),t=Te(K=>K.objectives),n=Te(K=>K.addWork),r=Te(K=>K.updateWork),i=Te(K=>K.deleteWork),o=Te(K=>K.worksLoading),l=ii(),{user:u}=Ss(),c=k.useMemo(()=>u?{actorId:u.id,actorEmail:u.email??""}:null,[u]),[f,h]=k.useState(""),[p,v]=k.useState(null),[y,E]=k.useState(new Set),[w,S]=k.useState(new Set),[C,_]=k.useState(new Set),[j,M]=k.useState({}),[A,R]=k.useState(null),[L,Z]=k.useState(null),Q=k.useMemo(()=>new Map(t.map(K=>[K.id,K])),[t]),O=k.useMemo(()=>[...t].sort((K,ae)=>(K.name??"").localeCompare(ae.name??"","es")),[t]),N=k.useMemo(()=>new Map(e.map(K=>[K.id,K])),[e]),Y=k.useMemo(()=>{const K=new Map;return e.forEach(ae=>{const ue=ae.parentWorkId;if(!ue)return;const ve=K.get(ue)??[];ve.push(ae),K.set(ue,ve)}),K.forEach(ae=>{ae.sort((ue,ve)=>ue.name.localeCompare(ve.name,"es",{sensitivity:"base"}))}),K},[e]),H=k.useMemo(()=>{const K=new Map,ae=(ue,ve)=>{if(K.has(ue))return K.get(ue);const me=N.get(ue);if(!me)return"";if(!me.parentWorkId||ve.has(ue))return K.set(ue,me.name),me.name;ve.add(ue);const oe=ae(me.parentWorkId,ve);ve.delete(ue);const Ee=oe?`${oe}  ${me.name}`:me.name;return K.set(ue,Ee),Ee};return e.forEach(ue=>{ae(ue.id,new Set)}),K},[e,N]);k.useEffect(()=>{const K=l.hash,ae="#work-";let ue=null;if(K.startsWith(ae)&&(ue=K.slice(ae.length)),!ue){const oe=new URLSearchParams(l.search);ue=oe.get("workId")??oe.get("work")}if(!ue)return;E(oe=>{if(oe.has(ue))return oe;const Ee=new Set(oe);return Ee.add(ue),Ee});const ve=document.getElementById(`work-${ue}`);if(!ve)return;ve.scrollIntoView({behavior:"smooth",block:"start"}),ve.classList.add("ring-2","ring-sky-500/60");const me=window.setTimeout(()=>{ve.classList.remove("ring-2","ring-sky-500/60")},1500);return()=>{window.clearTimeout(me),ve.classList.remove("ring-2","ring-sky-500/60")}},[l.hash,l.search,e]);const B=k.useMemo(()=>{const K=new Map,ae=ue=>{if(K.has(ue))return K.get(ue);const ve=new Set;return(Y.get(ue)??[]).forEach(oe=>{ve.add(oe.id),ae(oe.id).forEach(Ee=>ve.add(Ee))}),K.set(ue,ve),ve};return e.forEach(ue=>ae(ue.id)),K},[e,Y]),F=k.useCallback((K,ae)=>{var me,oe;const ue=new Set;K&&(ue.add(K),(me=B.get(K))==null||me.forEach(Ee=>ue.add(Ee)));const ve=e.filter(Ee=>!ue.has(Ee.id)).map(Ee=>({id:Ee.id,label:(()=>{var _t;const qe=H.get(Ee.id)??Ee.name,Xe=(_t=Q.get(Ee.objectiveId))==null?void 0:_t.name;return Xe?`${Xe}  ${qe}`:qe})()})).sort((Ee,qe)=>Ee.label.localeCompare(qe.label,"es",{sensitivity:"base"}));if(ae&&ae.length>0&&!ve.some(Ee=>Ee.id===ae)){const Ee=N.get(ae),qe=H.get(ae)??(Ee==null?void 0:Ee.name)??"Trabajo no disponible",Xe=Ee?(oe=Q.get(Ee.objectiveId))==null?void 0:oe.name:void 0,_t=Xe?`${Xe}  ${qe}`:qe;ve.unshift({id:ae,label:_t})}return ve},[e,H,B,N,Q]),J=k.useMemo(()=>e.map(K=>{var me;const ae=H.get(K.id)??K.name,ue=(me=Q.get(K.objectiveId))==null?void 0:me.name,ve=ue?`${ue}  ${ae}`:ae;return{id:K.id,label:ve}}).sort((K,ae)=>K.label.localeCompare(ae.label,"es",{sensitivity:"base"})),[e,H,Q]),X=k.useMemo(()=>{const K=f.trim().toLowerCase(),ae=me=>{var ee;if(!K)return!0;const oe=((ee=Q.get(me.objectiveId))==null?void 0:ee.name)??"",Ee=me.parentWorkId?H.get(me.parentWorkId)??"":"",qe=me.id?H.get(me.id)??"":"",Xe=(me.nodeType??"").toLowerCase(),_t=Array.isArray(me.tags)?me.tags.join(" "):me.tags??"";return me.name.toLowerCase().includes(K)||(me.subtitle??"").toLowerCase().includes(K)||me.descriptionMarkdown.toLowerCase().includes(K)||oe.toLowerCase().includes(K)||Ee.toLowerCase().includes(K)||qe.toLowerCase().includes(K)||Xe.includes(K)||_t.toLowerCase().includes(K)},ue=[],ve=me=>{if(!me)return 0;let oe=1,Ee=N.get(me);const qe=new Set(me?[me]:[]);for(;Ee&&Ee.parentWorkId;){const Xe=Ee.parentWorkId;if(!Xe||qe.has(Xe))break;oe+=1,qe.add(Xe),Ee=N.get(Xe)}return oe};return e.forEach(me=>{const oe=j[me.id],Ee=(oe==null?void 0:oe.data)??{id:me.id,name:me.name,subtitle:me.subtitle??"",nodeType:me.nodeType??"",tags:me.tags??[],descriptionMarkdown:me.descriptionMarkdown,objectiveId:me.objectiveId,parentWorkId:me.parentWorkId??""};!oe&&!ae(Ee)||ue.push({id:me.id,objectiveId:Ee.objectiveId,parentWorkId:Ee.parentWorkId??"",depth:ve(Ee.parentWorkId),work:me,isNew:!1,isEditing:!!oe,form:oe==null?void 0:oe.data})}),Object.entries(j).filter(([,me])=>me.isNew).forEach(([me,oe])=>{ae(oe.data)&&ue.push({id:me,objectiveId:oe.data.objectiveId,parentWorkId:oe.data.parentWorkId,depth:ve(oe.data.parentWorkId||void 0),work:void 0,isNew:!0,isEditing:!0,form:oe.data})}),ue},[e,N,j,Q,H,f]),D=k.useCallback(K=>{var me;const ae=(K.isEditing&&K.form?K.form.parentWorkId:K.parentWorkId)??"";if(!ae)return!1;let ue=ae;const ve=new Set;for(;ue&&!ve.has(ue);){if(ve.add(ue),w.has(ue))return!0;ue=(((me=N.get(ue))==null?void 0:me.parentWorkId)??"")||""}return!1},[w,N]),V=k.useMemo(()=>{const K=new Map;X.forEach(oe=>{const Ee=Q.has(oe.objectiveId)?oe.objectiveId:bh,qe=K.get(Ee)??[];qe.push(oe),K.set(Ee,qe)});const ae=oe=>{var Ee,qe;if(oe.isEditing&&oe.form){const Xe=oe.form.name.trim()||(((Ee=oe.work)==null?void 0:Ee.name)??""),_t=oe.form.parentWorkId&&oe.form.parentWorkId.length>0?H.get(oe.form.parentWorkId)??((qe=N.get(oe.form.parentWorkId))==null?void 0:qe.name)??"":"";return _t?`${_t}  ${Xe}`:Xe}return oe.work?H.get(oe.work.id)??oe.work.name:oe.id},ue=(oe,Ee)=>{const qe=ae(oe),Xe=ae(Ee);return qe.localeCompare(Xe,"es",{sensitivity:"base"})},ve=[];O.forEach(oe=>{const Ee=K.get(oe.id);Ee&&Ee.length&&ve.push({objective:oe,items:Ee.slice().sort(ue)})});const me=K.get(bh);return me&&me.length&&ve.push({objective:void 0,items:me.slice().sort(ue)}),ve},[X,Q,O,H,N]),P=((Qe=O[0])==null?void 0:Qe.id)??"",$=(K,ae)=>{M(ue=>{const ve=ue[K];return ve?{...ue,[K]:ae(ve)}:ue})},G=K=>K.length>0?K:[""],T=K=>K.length>0?K:[""],ne=K=>{M(ae=>ae[K.id]?ae:{...ae,[K.id]:{data:{id:K.id,name:K.name,subtitle:K.subtitle??"",objectiveId:K.objectiveId,parentWorkId:K.parentWorkId??"",nodeType:K.nodeType??"",tags:Y0(K.tags??[]),orderHint:K.orderHint??0,nextWorkId:K.nextWorkId??"",variantOfWorkId:K.variantOfWorkId??"",descriptionMarkdown:K.descriptionMarkdown,estimatedMinutes:K.estimatedMinutes,notes:K.notes??"",videoUrls:G(K.videoUrls.slice()),visibility:K.visibility??"private",collaborators:T(K.collaboratorEmails??[])},isNew:!1,originalId:K.id}}),E(ae=>{const ue=new Set(ae);return ue.add(K.id),ue})},pe=()=>{const K=`draft-${Gt()}`;M(ae=>({...ae,[K]:{data:{...q0,id:K,subtitle:"",objectiveId:P},isNew:!0}})),E(ae=>{const ue=new Set(ae);return ue.add(K),ue})},he=K=>{const ae=`draft-${Gt()}`;M(ue=>({...ue,[ae]:{data:{id:ae,name:`${K.name} (copia)`,subtitle:K.subtitle??"",objectiveId:K.objectiveId,parentWorkId:K.parentWorkId??"",nodeType:K.nodeType??"",tags:Y0(K.tags??[]),orderHint:K.orderHint??0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:K.descriptionMarkdown,estimatedMinutes:K.estimatedMinutes,notes:K.notes??"",videoUrls:G(K.videoUrls.slice()),visibility:"private",collaborators:[""]},isNew:!0}})),E(ue=>{const ve=new Set(ue);return ve.add(ae),ve}),v({type:"success",text:"Duplicacin creada. Ajusta y guarda para confirmarla."})},Se=K=>{const ae=`draft-${Gt()}`;M(ue=>({...ue,[ae]:{data:{...q0,id:ae,subtitle:"",objectiveId:K.objectiveId,parentWorkId:K.id,estimatedMinutes:K.estimatedMinutes,visibility:K.visibility??"private",collaborators:[""]},isNew:!0}})),E(ue=>{const ve=new Set(ue);return ve.add(ae),ve}),v({type:"success",text:`Creando un trabajo hijo para ${K.name}. Ajusta y guarda para confirmarlo.`})},le=K=>{E(ae=>{const ue=new Set(ae);return ue.has(K)?ue.delete(K):ue.add(K),ue})},ke=K=>{M(ae=>{const ue={...ae};return delete ue[K],ue}),K.startsWith("draft-")&&E(ae=>{const ue=new Set(ae);return ue.delete(K),ue})},we=async K=>{const ae=j[K];if(!ae||A)return;if(!c){v({type:"error",text:"Inicia sesin para guardar este trabajo."});return}const ue=(ae.data.parentWorkId??"").trim(),ve=ue.length>0?ue:void 0,me=ae.data.nodeType.trim(),oe=me.length>0?me:void 0,Ee=y3(ae.data.tags),qe=Number(ae.data.orderHint)>0?Number(ae.data.orderHint):void 0,Xe=(ae.data.nextWorkId??"").trim(),_t=Xe.length>0?Xe:void 0,ee=(ae.data.variantOfWorkId??"").trim(),ce=ee.length>0?ee:void 0,U={name:ae.data.name.trim(),subtitle:ae.data.subtitle.trim()||void 0,objectiveId:ae.data.objectiveId,nodeType:oe,tags:Ee,orderHint:qe,nextWorkId:_t,variantOfWorkId:ce,descriptionMarkdown:ae.data.descriptionMarkdown,estimatedMinutes:Number(ae.data.estimatedMinutes)||0,notes:ae.data.notes.trim()||void 0,videoUrls:ae.data.videoUrls.map(_e=>_e.trim()).filter(Boolean),parentWorkId:ve,visibility:ae.data.visibility,collaboratorEmails:Array.from(new Set(ae.data.collaborators.map(_e=>_e.trim().toLowerCase()).filter(_e=>_e.length>0)))};if(!U.name){v({type:"error",text:"El nombre es obligatorio."});return}if(!U.objectiveId){v({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if(U.parentWorkId&&ae.originalId){if(U.parentWorkId===ae.originalId){v({type:"error",text:"Un trabajo no puede ser su propio padre."});return}const _e=B.get(ae.originalId);if(_e&&_e.has(U.parentWorkId)){v({type:"error",text:"Selecciona un trabajo padre que no sea un descendiente."});return}}if(ae.originalId&&U.nextWorkId===ae.originalId){v({type:"error",text:"Un trabajo no puede tenerse como siguiente."});return}if(ae.originalId&&U.variantOfWorkId===ae.originalId){v({type:"error",text:"Un trabajo no puede ser variante de s mismo."});return}const ie=ae.originalId?N.get(ae.originalId):void 0,be=ae.isNew||((ie==null?void 0:ie.isOwner)??!1);R(K);try{if(ae.isNew){const _e=await n({name:U.name,subtitle:U.subtitle,objectiveId:U.objectiveId,parentWorkId:U.parentWorkId,nodeType:U.nodeType,tags:U.tags,orderHint:U.orderHint,nextWorkId:U.nextWorkId,variantOfWorkId:U.variantOfWorkId,descriptionMarkdown:U.descriptionMarkdown,estimatedMinutes:U.estimatedMinutes,notes:U.notes,videoUrls:U.videoUrls,visibility:U.visibility,collaboratorEmails:U.collaboratorEmails},c);v({type:"success",text:"Trabajo creado correctamente."}),E(Ae=>{const We=new Set(Ae);return We.delete(K),We.add(_e.id),We})}else if(ae.originalId){const _e={name:U.name,subtitle:U.subtitle??null,objectiveId:U.objectiveId,parentWorkId:U.parentWorkId??null,nodeType:U.nodeType??null,tags:U.tags,orderHint:U.orderHint??null,nextWorkId:U.nextWorkId??null,variantOfWorkId:U.variantOfWorkId??null,descriptionMarkdown:U.descriptionMarkdown,estimatedMinutes:U.estimatedMinutes,notes:U.notes??null,videoUrls:U.videoUrls};be&&(_e.visibility=U.visibility,_e.collaboratorEmails=U.collaboratorEmails),await r(ae.originalId,_e,c),v({type:"success",text:"Trabajo actualizado."})}M(_e=>{const Ae={..._e};return delete Ae[K],Ae})}catch(_e){console.error("No se pudo guardar el trabajo",_e),v({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{R(null)}},Ge=async K=>{var ue;if(!c){v({type:"error",text:"Inicia sesin para eliminar trabajos."});return}const ae=(((ue=B.get(K))==null?void 0:ue.size)??0)>0;try{if(!await i(K,c)){v({type:"error",text:ae?"No se puede eliminar porque tiene trabajos hijos.":"No se puede eliminar porque est siendo usado en alguna sesin."});return}v({type:"success",text:"Trabajo eliminado."}),M(me=>{const oe={...me};return delete oe[K],oe}),E(me=>{const oe=new Set(me);return oe.delete(K),oe})}catch(ve){console.error("No se pudo eliminar el trabajo",ve),v({type:"error",text:"No tienes permisos para eliminar este trabajo o se ha producido un error."})}},rt=async K=>{if(!c){v({type:"error",text:"Inicia sesin para editar trabajos."});return}if(!(K.canEdit??!1)||(K.nodeType??"").trim().toLowerCase()==="style")return;const ae=(K.tags??[]).map(me=>me.trim().toLowerCase()).filter(Boolean),ue=ae.includes(Na),ve=ue?ae.filter(me=>me!==Na):Array.from(new Set([...ae,Na]));Z(K.id);try{await r(K.id,{tags:ve},c),v({type:"success",text:ue?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>v(null),1800)}catch(me){console.error("No se pudo actualizar el trabajo",me),v({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{Z(null)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),g.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),g.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[g.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:f,onChange:K=>h(K.target.value),placeholder:"Buscar por nombre, descripcin u objetivo"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:pe,children:"Nuevo trabajo"}),o?g.jsx("span",{className:"text-xs text-white/60 sm:ml-3",children:"Sincronizando trabajos"}):null]})]}),p&&g.jsx("div",{className:Oe("rounded-2xl border px-4 py-3 text-sm",p.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:p.text})]}),g.jsx("section",{className:"space-y-6",children:V.length===0?o?g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Sincronizando trabajos"}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no hay trabajos guardados. Empieza creando uno con el botn Nuevo trabajo."}):V.map(({objective:K,items:ae})=>{const ue=K?K.name:"Sin objetivo asignado",ve=(K==null?void 0:K.id)??bh,me=C.has(ve);return g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{type:"button",onClick:()=>_(oe=>{const Ee=new Set(oe);return Ee.has(ve)?Ee.delete(ve):Ee.add(ve),Ee}),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white","aria-label":me?"Expandir grupo":"Colapsar grupo",title:me?"Expandir":"Colapsar",children:me?"":""}),g.jsx("h3",{className:"text-lg font-semibold text-white",children:ue}),g.jsx(Li,{objective:K,size:"sm"})]}),g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[ae.length," trabajo",ae.length===1?"":"s"]})]}),me?null:g.jsx("div",{className:"space-y-4",children:ae.filter(oe=>!D(oe)).map(oe=>{var be,_e,Ae,We,yt,dt,Pt;const Ee=y.has(oe.id),qe=(oe.isEditing&&oe.form?oe.form.parentWorkId:oe.parentWorkId)??"",Xe=oe.isEditing?F((be=oe.work)==null?void 0:be.id,qe):[],ee=(oe.work?Y.get(oe.work.id)??[]:[]).length,ce=w.has(oe.id);if(oe.isEditing&&oe.form){const Ye=oe.isNew||(((_e=oe.work)==null?void 0:_e.canEdit)??!1),tt=oe.isNew||(((Ae=oe.work)==null?void 0:Ae.isOwner)??!1),Wt=oe.isNew||(((We=oe.work)==null?void 0:We.isOwner)??!1);return g.jsx(b3,{form:oe.form,objectiveOptions:O,parentOptions:Xe,workOptions:J,depth:oe.depth,onFieldChange:Ue=>$(oe.id,lt=>{const ot={...lt.data,...Ue};if(Ue.parentWorkId!==void 0&&Ue.parentWorkId.length>0){const Qt=N.get(Ue.parentWorkId);Qt&&(ot.objectiveId=Qt.objectiveId)}return Ue.visibility==="private"&&(ot.collaborators=[""]),{...lt,data:ot}}),onVideoChange:(Ue,lt)=>$(oe.id,ot=>{const Qt=ot.data.videoUrls.slice();return Qt[Ue]=lt,{...ot,data:{...ot.data,videoUrls:Qt}}}),onAddVideo:()=>$(oe.id,Ue=>({...Ue,data:{...Ue.data,videoUrls:[...Ue.data.videoUrls,""]}})),onRemoveVideo:Ue=>$(oe.id,lt=>{const ot=lt.data.videoUrls.slice();return ot.splice(Ue,1),{...lt,data:{...lt.data,videoUrls:ot.length?ot:[""]}}}),onCollaboratorChange:(Ue,lt)=>$(oe.id,ot=>{const Qt=ot.data.collaborators.slice();return Qt[Ue]=lt,{...ot,data:{...ot.data,collaborators:Qt}}}),onAddCollaborator:()=>$(oe.id,Ue=>Ue.data.collaborators.length>=D1?Ue:{...Ue,data:{...Ue.data,collaborators:[...Ue.data.collaborators,""]}}),onRemoveCollaborator:Ue=>$(oe.id,lt=>{const ot=lt.data.collaborators.slice();return ot.splice(Ue,1),ot.length||ot.push(""),{...lt,data:{...lt.data,collaborators:ot}}}),onSave:()=>void we(oe.id),onCancel:()=>ke(oe.id),isNew:oe.isNew,canEditContent:Ye,canManageSharing:tt,isSaving:A===oe.id,isOwner:Wt,ownerEmail:(yt=oe.work)==null?void 0:yt.ownerEmail},oe.id)}if(!oe.work)return null;const U=oe.work.nextWorkId?H.get(oe.work.nextWorkId)??((dt=N.get(oe.work.nextWorkId))==null?void 0:dt.name):void 0,ie=oe.work.variantOfWorkId?H.get(oe.work.variantOfWorkId)??((Pt=N.get(oe.work.variantOfWorkId))==null?void 0:Pt.name):void 0;return g.jsx(w3,{work:oe.work,childCount:ee,depth:oe.depth,expanded:Ee,isTreeCollapsed:ce,isPersonalExcluded:(oe.work.tags??[]).map(Ye=>Ye.trim().toLowerCase()).includes(Na),canTogglePersonal:(oe.work.canEdit??!1)&&(oe.work.nodeType??"").trim().toLowerCase()!=="style",personalToggleBusy:L===oe.id,nextLabel:U,variantLabel:ie,onToggle:()=>le(oe.id),onToggleTree:()=>S(Ye=>{const tt=new Set(Ye);return tt.has(oe.id)?tt.delete(oe.id):tt.add(oe.id),tt}),onTogglePersonal:()=>{oe.work&&rt(oe.work)},onEdit:()=>{const Ye=oe.work;Ye&&(Ye.canEdit??!1)&&ne(Ye)},onDuplicate:()=>{const Ye=oe.work;Ye&&(Ye.canEdit??!1)&&he(Ye)},onCreateChild:()=>{const Ye=oe.work;Ye&&(Ye.canEdit??!1)&&Se(Ye)},onDelete:()=>{const Ye=oe.work;Ye&&(Ye.isOwner??!1)&&Ge(Ye.id)}},oe.id)})})]},(K==null?void 0:K.id)??"sin-objetivo")})})]})}const kh={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},K0=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function S3(){const e=Te(w=>w.objectives),t=Te(w=>w.addObjective),n=Te(w=>w.updateObjective),r=Te(w=>w.deleteObjective),i=Te(w=>w.works),[o,l]=k.useState(kh),[u,c]=k.useState(null),f=k.useMemo(()=>{const w=new Map;return i.forEach(S=>{w.set(S.objectiveId,(w.get(S.objectiveId)??0)+1)}),w},[i]),h=k.useMemo(()=>[...e].sort((w,S)=>(w.name??"").localeCompare(S.name??"","es")),[e]),p=w=>{if(w.preventDefault(),!o.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const S={name:o.name.trim(),colorHex:o.colorHex,descriptionMarkdown:o.descriptionMarkdown};o.id?(n(o.id,S),c({type:"success",text:"Objetivo actualizado."})):(t(S),c({type:"success",text:"Objetivo creado."})),l(kh)},v=w=>{l({id:w.id,name:w.name,colorHex:w.colorHex,descriptionMarkdown:w.descriptionMarkdown})},y=w=>{const S=r(w);c(S?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},E=()=>{if(e.length===0){c({type:"error",text:"No hay objetivos a los que asignar colores."});return}const w=[...K0];e.map((C,_)=>{const j=w[_%w.length];return{id:C.id,colorHex:j}}).forEach(({id:C,colorHex:_})=>n(C,{colorHex:_})),c({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),g.jsx("p",{className:"text-white/60",children:"Define categoras de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),g.jsx("div",{className:"flex flex-wrap gap-3",children:g.jsx("button",{type:"button",className:"btn-secondary",onClick:E,children:"Repartir colores"})})]}),u&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${u.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:u.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:o.id?"Editar objetivo":"Nuevo objetivo"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:p,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:o.name,onChange:w=>l(S=>({...S,name:w.target.value})),placeholder:"Ej. Resistencia, Tcnica, Juego",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:o.colorHex,onChange:w=>l(S=>({...S,colorHex:w.target.value})),"aria-label":"Elegir color personalizado"}),g.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:o.colorHex,onChange:w=>l(S=>({...S,colorHex:w.target.value})),placeholder:"#60a5fa","aria-label":"Cdigo hex del color"})]}),g.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:K0.map(w=>g.jsx("button",{type:"button",onClick:()=>l(S=>({...S,colorHex:w})),className:Oe("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",o.colorHex.toLowerCase()===w.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:w},"aria-label":`Seleccionar color ${w}`,children:o.colorHex.toLowerCase()===w.toLowerCase()&&g.jsx("span",{className:"text-xs font-semibold text-slate-900",children:""})},w))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px]",value:o.descriptionMarkdown,onChange:w=>l(S=>({...S,descriptionMarkdown:w.target.value})),placeholder:"Explica cundo usar este tipo de trabajo, objetivos pedaggicos, etc."})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:o.id?"Guardar objetivo":"Crear objetivo"}),o.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l(kh),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-6",children:h.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripcin."}):h.map(w=>g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsx(Li,{objective:w}),g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[g.jsxs("span",{children:[f.get(w.id)??0," trabajos"]}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>v(w),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>y(w.id),children:"Eliminar"})]})]}),g.jsx(ys,{content:w.descriptionMarkdown})]},w.id))})]})]})}const Sh={name:"",notes:"",active:!0};function E3(){const e=Te(h=>h.assistants),t=Te(h=>h.addAssistant),n=Te(h=>h.updateAssistant),r=Te(h=>h.deleteAssistant),[i,o]=k.useState(Sh),[l,u]=k.useState(null),c=h=>{if(h.preventDefault(),!i.name.trim()){u({type:"error",text:"El nombre es obligatorio."});return}const p={name:i.name.trim(),notes:i.notes,active:i.active};i.id?(n(i.id,p),u({type:"success",text:"Asistente actualizado."})):(t(p),u({type:"success",text:"Asistente aadido."})),o(Sh)},f=h=>{o({id:h.id,name:h.name,notes:h.notes??"",active:h.active})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),g.jsx("p",{className:"text-white/60",children:"Mantn una lista base de alumnado para registrar asistencia rpidamente durante cada sesin."})]})}),l&&g.jsx("div",{className:Oe("mt-4 rounded-2xl border px-4 py-3 text-sm",l.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:l.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:i.id?"Editar asistente":"Nuevo asistente"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:c,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:i.name,onChange:h=>o(p=>({...p,name:h.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:i.notes,onChange:h=>o(p=>({...p,notes:h.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:i.active,onChange:h=>o(p=>({...p,active:h.target.checked}))}),g.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecer en los listados de asistencia)"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:i.id?"Guardar asistente":"Aadir asistente"}),i.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(Sh),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-4",children:e.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todava no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(h=>g.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:h.name}),h.notes?g.jsx("p",{className:"text-sm text-white/60",children:h.notes}):null]}),g.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[g.jsx("span",{className:Oe("rounded-full border px-3 py-1 text-xs font-semibold",h.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:h.active?"Activo":"Inactivo"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(h),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(h.id),children:"Eliminar"})]})]})]},h.id))})]})]})}function ao(e,t){return g.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[g.jsx("span",{children:e}),g.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function _3(){var c,f,h,p,v,y;const e=Te(E=>E.exportBackup),t=Te(E=>E.importBackup),[n,r]=k.useState(null),[i,o]=k.useState(null),l=()=>{try{const E=e(),w=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),S=URL.createObjectURL(w),C=document.createElement("a");C.href=S,C.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,C.click(),URL.revokeObjectURL(S),r({type:"success",text:"Backup exportado correctamente."})}catch(E){console.error(E),r({type:"error",text:"No se pudo exportar el backup."})}},u=async E=>{var S;const w=(S=E.target.files)==null?void 0:S[0];if(w)try{const C=await w.text(),_=JSON.parse(C);t(_),o(_),r({type:"success",text:"Datos importados correctamente."})}catch(C){console.error(C),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON vlido."})}finally{E.target.value=""}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),g.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu informacin en JSON versionado para compartir o restaurar en cualquier momento."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx("button",{type:"button",className:"btn-primary",onClick:l,children:"Descargar backup"}),g.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:u})]})]})]}),n&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),i&&g.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"ltima importacin"}),g.jsxs("p",{className:"text-sm text-white/60",children:["Versin del backup: ",i.version]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[ao("Objetivos",((c=i.objetivos)==null?void 0:c.length)??0),ao("Trabajos",((f=i.trabajos)==null?void 0:f.length)??0),ao("Sesiones",((h=i.sesiones)==null?void 0:h.length)??0),ao("Asistentes",((p=i.asistentes)==null?void 0:p.length)??0),ao("Sesiones  Trabajos",((v=i.sesiones_trabajos)==null?void 0:v.length)??0),ao("Sesiones  Asistencias",((y=i.sesiones_asistencias)==null?void 0:y.length)??0)]})]}),g.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),g.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[g.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),g.jsx("li",{children:"Antes de importar, realiza una exportacin por seguridad. La restauracin sobrescribe los datos actuales sin posibilidad de deshacer."}),g.jsx("li",{children:"Los backups mantienen los IDs, as que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function C3(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=Ss(),[i,o]=k.useState("login"),[l,u]=k.useState(""),[c,f]=k.useState(""),[h,p]=k.useState(""),[v,y]=k.useState(!1),[E,w]=k.useState(null),[S,C]=k.useState(null);if(!r&&n)return g.jsx(bc,{to:"/",replace:!0});const _=async M=>{if(M.preventDefault(),w(null),C(null),!l||!c){w("Introduce tu email y contrasea.");return}if(i==="register"&&c!==h){w("Las contraseas no coinciden.");return}try{y(!0),i==="login"?await e(l,c):(await t(l,c),C("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesin."))}catch(A){const R=A instanceof Error?A.message:"No se pudo completar la operacin.";w(R)}finally{y(!1)}},j=()=>{o(M=>M==="login"?"register":"login"),w(null),C(null),f(""),p("")};return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:g.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[g.jsxs("header",{className:"mb-8 text-center",children:[g.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),g.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:i==="login"?"Inicia sesin":"Crea tu cuenta"}),g.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),g.jsxs("form",{className:"space-y-5",onSubmit:_,children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),g.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:l,onChange:M=>u(M.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contrasea"}),g.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:c,onChange:M=>f(M.target.value),autoComplete:i==="login"?"current-password":"new-password"})]}),i==="register"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contrasea"}),g.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:h,onChange:M=>p(M.target.value),autoComplete:"new-password"})]}),E&&g.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:E}),S&&g.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:S}),g.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:v,children:v?"Procesando":i==="login"?"Entrar":"Crear cuenta"})]}),g.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:i==="login"?g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:j,children:"No tienes cuenta? Regstrate"}):g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:j,children:"Ya tienes cuenta? Inicia sesin"})})]})})}He.locale("es");const Wu="personal-exclude",G0={ok:"OK",doubt:"Dudosa",fail:"Fallo"},j3={ok:"border-emerald-500/50 bg-emerald-500/15 text-emerald-100 hover:border-emerald-400",doubt:"border-amber-400/40 bg-amber-500/10 text-amber-200 hover:border-amber-300",fail:"border-rose-500/50 bg-rose-500/10 text-rose-200 hover:border-rose-400"},Eh=6;function Za(e){return Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(t=>t.length>0)))}function mc(e,t){const n=Za(e.tags),r=e.nodeType??"work";return!(t.byWorkIds&&t.byWorkIds.length>0&&!t.byWorkIds.includes(e.id)||t.byNodeTypes&&t.byNodeTypes.length>0&&!t.byNodeTypes.includes(r)||t.byTags&&t.byTags.length>0&&!t.byTags.map(o=>o.trim().toLowerCase()).filter(Boolean).every(o=>n.includes(o)))}function N3(e,t){const n=(t??[]).filter(r=>r.enabled);return Za(e.tags).includes(Wu)?!1:n.length===0?Za(e.tags).includes("kungfu"):n.some(r=>{const i=r.include.length===0?!0:r.include.some(l=>mc(e,l)),o=r.exclude.some(l=>mc(e,l));return i&&!o})}function T3(e,t){const n=e.nodeType??"work",r=t.targetsDays[n]??t.targetsDays.work??7,i=Za(e.tags),o=(t.overrides??[]).reduce((u,c)=>{var p,v;const f=((v=(p=c.match)==null?void 0:p.tagsAny)==null?void 0:v.map(y=>y.trim().toLowerCase()).filter(Boolean))??[];return f.length===0?u:f.some(y=>i.includes(y))?u*(c.multiplier||1):u},1);return Math.max(1,Math.round(r*o))}function I3(e){return(e.nodeType??"").trim().toLowerCase()!=="style"}function P3(e,t){const n=typeof e.estimatedMinutes=="number"?e.estimatedMinutes:0;if(Number.isFinite(n)&&n>0)return n;const r=(e.nodeType??"work").trim().toLowerCase()||"work",i=t.defaultMinutesByNodeType[r]??t.defaultMinutesByNodeType.work??3;return Math.max(.25,Number(i)||3)}function R3(e){var h,p,v;const t=e.groups??[];if(t.length>0)return[...t].sort((y,E)=>(y.order??0)-(E.order??0));const n=Math.max(0,Number((h=e.template)==null?void 0:h.focusMinutes)||18),r=Math.max(0,Number((p=e.template)==null?void 0:p.rouletteMinutes)||10),i=Math.max(0,Number((v=e.template)==null?void 0:v.recapMinutes)||0),o=e.focusSelectors??[],l=e.rouletteSelectors??[],u=o.length>0?o:[{byNodeTypes:["segment","form"]}],c=l.length>0?l:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],f=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:n,strategy:"overdue",hierarchyRule:"prefer_leaves",include:u,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:r,strategy:"weighted",hierarchyRule:"allow_all",include:c,exclude:[]}];return i>0&&f.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:i}),f}function A3(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function O3(e){let t=e>>>0;return()=>{t=t+1831565813>>>0;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function M3(e,t,n){const r=O3(A3(n));return e.map(i=>{const o=Math.max(1e-4,t(i)),l=Math.max(1e-9,r()),u=-Math.log(l)/o;return{item:i,score:u}}).sort((i,o)=>i.score-o.score).map(({item:i})=>i)}function D3(e){const t=new Map;return e.forEach(n=>{n.workItems.forEach(r=>{if(!((r.completed??!1)||typeof r.result<"u"))return;const o=t.get(r.workId);(!o||He(n.date).isAfter(o.date))&&t.set(r.workId,{date:n.date,result:r.result,effort:r.effort})})}),t}function L3(e){const{works:t,personalSessions:n,programs:r,cadence:i,today:o}=e,l=D3(n);return t.filter(u=>I3(u)).filter(u=>N3(u,r)).map(u=>{const c=l.get(u.id),f=T3(u,i);if(!c)return{work:u,targetDays:f,overdueScore:1e4};const h=Math.max(He(o).diff(He(c.date),"day"),0),p=Math.max(h-f,0);return{work:u,targetDays:f,lastSeen:c.date,daysSince:h,overdueScore:p,lastResult:c.result}}).sort((u,c)=>{if(c.overdueScore!==u.overdueScore)return c.overdueScore-u.overdueScore;const f=u.daysSince??1e4,h=c.daysSince??1e4;return h!==f?h-f:u.work.name.localeCompare(c.work.name,"es",{sensitivity:"base"})})}function $3(e){return e?He(e).format("D MMM YYYY"):"Nunca"}function F3(e){const{dueList:t,todaySession:n,plan:r,today:i,childCountByWorkId:o}=e,l=r.limitMode==="count"||r.limitMode==="both",u=r.limitMode==="minutes"||r.limitMode==="both",c=l?Math.max(1,Math.round(r.maxItems||12)):Number.POSITIVE_INFINITY,f=u?Math.max(0,Number(r.minutesBudget)||0):Number.POSITIVE_INFINITY,h=new Set(((n==null?void 0:n.workItems)??[]).filter(O=>(O.completed??!1)||typeof O.result<"u").map(O=>O.workId)),p=t.filter(O=>!h.has(O.work.id)),v=He(i).day(),y=R3(r).filter(O=>O.enabled).filter(O=>{const N=O.daysOfWeek??[];return N.length===0||N.includes(v)}).sort((O,N)=>(O.order??0)-(N.order??0)),E=y.filter(O=>(O.type??"work")==="note").reduce((O,N)=>N.limitMode==="minutes"||N.limitMode==="both"?O+Math.max(0,Number(N.minutesBudget)||0):O,0),w=Number.isFinite(f)?Math.max(0,f-E):Number.POSITIVE_INFINITY,S=`kungfu-${i}`,C=O=>{const N=O.overdueScore>=1e4?1e3:Math.max(0,O.overdueScore+1);return O.lastResult==="fail"?N*1.6:O.lastResult==="doubt"?N*1.25:N},_=O=>P3(O.work,r),j=O=>{const N=(O.nodeType??"work").trim().toLowerCase()||"work";return{segment:30,drill:22,form:20,work:10,application:0,technique:0,link:0,style:-100}[N]??5},M=O=>[...O].sort((N,Y)=>{if(Y.overdueScore!==N.overdueScore)return Y.overdueScore-N.overdueScore;const H=N.daysSince??1e4,B=Y.daysSince??1e4;if(B!==H)return B-H;const F=j(Y.work)-j(N.work);return F!==0?F:N.work.name.localeCompare(Y.work.name,"es",{sensitivity:"base"})}),A=new Set,R=[];let L=0,Z=0;for(const O of y){if((O.type??"work")==="note"){R.push({group:O,items:[],plannedMinutes:0});continue}const Y=O.include??[],H=O.exclude??[];let B=p.filter(Se=>A.has(Se.work.id)||!(Y.length===0?!0:Y.some(we=>mc(Se.work,we)))?!1:!H.some(we=>mc(Se.work,we)));if((O.hierarchyRule??"allow_all")==="prefer_leaves"){const Se=new Set(B.map(le=>le.work.parentWorkId).filter(Boolean));B=B.filter(le=>Se.has(le.work.id)?(o.get(le.work.id)??0)===0:!0)}const X=(O.strategy??"overdue")==="weighted"?M3(B,C,`${S}-${O.id}`):M(B),D=O.limitMode??"minutes",V=D==="count"||D==="both",P=D==="minutes"||D==="both",$=Number(O.maxItems),G=V&&Number.isFinite($)&&$>0?Math.round($):Number.POSITIVE_INFINITY,T=Number(O.minutesBudget),ne=P&&Number.isFinite(T)?Math.max(0,T):Number.POSITIVE_INFINITY,pe=[];let he=0;for(const Se of X){if(Z>=c||pe.length>=G)break;const le=_(Se);if(!(he+le>ne)&&!(L+le>w)&&(pe.push(Se),he+=le,L+=le,Z+=1,A.add(Se.work.id),u&&L>=w))break}if(R.push({group:O,items:pe,plannedMinutes:Math.round(he*10)/10}),Z>=c||u&&L>=w)break}const Q=Math.round((L+E)*10)/10;return{groups:R,plannedMinutes:{work:Math.round(L*10)/10,reserved:Math.round(E*10)/10,total:Q},totalItems:Z}}function z3(){const e=Te(T=>T.works),t=Te(T=>T.sessions),n=Te(T=>T.kungfuPrograms),r=Te(T=>T.kungfuCadence),i=Te(T=>T.kungfuTodayPlan),o=Te(T=>T.updateWork),{user:l}=Ss(),u=Te(T=>T.addSession),c=Te(T=>T.addWorkToSession),f=Te(T=>T.updateSessionWorkDetails),h=Te(T=>T.updateSession),p=He().format("YYYY-MM-DD"),v=k.useMemo(()=>t.filter(T=>T.kind==="personal"),[t]),y=k.useMemo(()=>v.find(T=>T.date===p),[v,p]),E=k.useMemo(()=>L3({works:e,personalSessions:v,programs:n,cadence:r,today:p}),[e,v,n,r,p]),w=k.useMemo(()=>{const T=new Map;return e.forEach(ne=>{const pe=ne.parentWorkId??"";pe&&T.set(pe,(T.get(pe)??0)+1)}),T},[e]),S=k.useMemo(()=>F3({dueList:E,todaySession:y,plan:i,today:p,childCountByWorkId:w}),[E,y,i,p,w]),C=k.useMemo(()=>l?{actorId:l.id,actorEmail:l.email??""}:null,[l]),[_,j]=k.useState({}),[M,A]=k.useState(null),[R,L]=k.useState((y==null?void 0:y.notes)??""),[Z,Q]=k.useState(null),[O,N]=k.useState(new Set);k.useEffect(()=>{L((y==null?void 0:y.notes)??"")},[y==null?void 0:y.notes]);const Y=()=>y||u({date:p,kind:"personal",title:"Entrenamiento personal",description:"",notes:""}),H=(T,ne)=>{try{const pe=Y(),he=_[T]??Eh,Se=Math.min(Math.max(Math.round(he),1),10),le=pe.workItems.find(ke=>ke.workId===T);if(le)f(pe.id,le.id,{result:ne,effort:Se,completed:!0});else{const ke=c(pe.id,{workId:T});if(!ke)throw new Error("No se pudo aadir el trabajo a la sesin.");f(pe.id,ke.id,{result:ne,effort:Se,completed:!0})}A({type:"success",text:"Registrado."}),window.setTimeout(()=>A(null),1800)}catch(pe){const he=pe instanceof Error?pe.message:"No se pudo registrar.";A({type:"error",text:he}),window.setTimeout(()=>A(null),2500)}},B=y?y.workItems.filter(T=>(T.completed??!1)||typeof T.result<"u").length:0,F=i.limitMode==="count"||i.limitMode==="both",J=i.limitMode==="minutes"||i.limitMode==="both",X=S.groups.filter(T=>(T.group.type??"work")!=="note"),D=S.groups.filter(T=>T.group.type==="note"),V=X.some(T=>T.items.length>0),P=[...X.map(T=>{const ne=Number(T.group.minutesBudget);return Number.isFinite(ne)&&ne>0?`${T.group.name} ${ne} min`:T.group.name}),...D.map(T=>{const ne=Number(T.group.minutesBudget);return Number.isFinite(ne)&&ne>0?`${T.group.name} ${ne} min`:T.group.name})].filter(Boolean).join("  "),$=T=>{const ne=T.work,pe=Za(ne.tags),he=pe.includes(Wu),Se=pe.filter(ve=>ve!==Wu),le=_[ne.id]??Eh,ke=(ne.canEdit??!1)&&(ne.nodeType??"").trim().toLowerCase()!=="style",we=Z===ne.id,Ge=O.has(ne.id),rt=(ne.descriptionMarkdown??"").trim(),Qe=(ne.notes??"").trim(),K=(ne.videoUrls??[]).map(ve=>ve.trim()).filter(Boolean),ae=rt.length>0||Qe.length>0||K.length>0,ue=async()=>{if(!C){A({type:"error",text:"Inicia sesin para editar trabajos."}),window.setTimeout(()=>A(null),2500);return}if(ke){Q(ne.id);try{const ve=he?Se:Array.from(new Set([...Se,Wu]));await o(ne.id,{tags:ve},C),A({type:"success",text:he?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>A(null),1800)}catch(ve){console.error("No se pudo actualizar el trabajo",ve),A({type:"error",text:"No se pudo actualizar el trabajo."}),window.setTimeout(()=>A(null),2500)}finally{Q(null)}}};return g.jsxs("article",{className:"flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-4 shadow shadow-black/15",children:[g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[ae?g.jsx("button",{type:"button",onClick:()=>N(ve=>{const me=new Set(ve);return me.has(ne.id)?me.delete(ne.id):me.add(ne.id),me}),className:Oe("mt-0.5 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white",Ge?"rotate-90 border-white/30 text-white":""),"aria-label":Ge?"Ocultar detalles":"Ver detalles",title:Ge?"Ocultar detalles":"Ver detalles",children:""}):null,g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:ne.name}),ne.subtitle?g.jsx("p",{className:"text-sm text-white/70",children:ne.subtitle}):null]})]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/15 bg-white/5 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:ne.nodeType??"work"}),Se.slice(0,6).map(ve=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5",children:ve},ve)),Se.length>6?g.jsxs("span",{className:"text-white/50",children:["+",Se.length-6]}):null]})]}),g.jsx("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/60 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"ltima vez"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:$3(T.lastSeen)}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:["Objetivo: ",T.targetDays," da",T.targetDays===1?"":"s"," "," ",T.overdueScore>=1e4?"Nuevo":`${T.overdueScore} vencido`]})]})})]}),ae&&Ge?g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[rt.length>0?g.jsx(ys,{content:rt,enableWorkLinks:!0}):null,Qe.length>0?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Notas"}),g.jsx(ys,{content:Qe,enableWorkLinks:!0})]}):null,K.length>0?g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Vdeos"}),g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:K.map((ve,me)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Wc,{url:ve,title:`${ne.name} vdeo ${me+1}`}),g.jsx("a",{href:ve,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${ne.id}-video-${me}`))})]}):null]}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Object.keys(G0).map(ve=>g.jsx("button",{type:"button",className:Oe("inline-flex items-center justify-center rounded-full border px-3 py-1 text-xs font-semibold transition",j3[ve]),onClick:()=>H(ne.id,ve),children:G0[ve]},ve))}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/40",children:"RPE"}),g.jsx("input",{type:"number",min:1,max:10,value:le,onChange:ve=>{const me=Number(ve.target.value);j(oe=>({...oe,[ne.id]:Number.isFinite(me)?me:Eh}))},className:"input-field w-20 text-center"}),g.jsx(ei,{to:`/catalog?workId=${encodeURIComponent(ne.id)}`,className:"btn-secondary",children:"Ver en catlogo"}),g.jsx("button",{type:"button",onClick:ue,disabled:!ke||we,className:Oe("inline-flex items-center rounded-full border px-4 py-2 text-xs font-semibold transition disabled:opacity-50",he?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400":"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400"),title:he?"Incluir en el plan personal":"Excluir del plan personal",children:we?"...":he?"Incluir":"Excluir"})]})]})]},ne.id)},G=()=>{const T=Y();h(T.id,{notes:R}),A({type:"success",text:"Recap guardado."}),window.setTimeout(()=>A(null),1800)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Hoy"}),g.jsx("p",{className:"text-white/60",children:"Plan directo de entrenamiento basado en cadencias y tu histrico personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesin de hoy"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:He(p).format("dddd, D [de] MMMM")}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:[B," ",B===1?"tem registrado":"tems registrados"]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx(ei,{to:"/personal/sessions",className:"btn-secondary",children:"Ver sesiones"}),g.jsx(ei,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"})]})]})]}),M&&g.jsx("div",{className:Oe("mt-4 rounded-2xl border px-4 py-3 text-sm",M.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:M.text})]}),E.length===0?g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay ningn trabajo incluido en tu programa activo. Aade la tag ",g.jsx("span",{className:"font-semibold text-white",children:"kungfu"})," a los trabajos que quieras entrenar."]}):g.jsxs("section",{className:"space-y-4",children:[g.jsxs("div",{className:"glass-panel flex flex-col gap-3 p-6 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Sugerencias"}),g.jsx("p",{className:"text-sm text-white/60",children:"Priorizadas por lo vencido respecto a su cadencia objetivo."}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:[P?`Grupos: ${P}`:"Grupos: (sin configurar)",F?`  mx ${i.maxItems} tems`:"",J?`  ${i.minutesBudget} min`:""]})]}),g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[S.totalItems," sugeridos  ",S.plannedMinutes.total," min"]})]}),g.jsxs("div",{className:"space-y-3",children:[V?null:g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay sugerencias con los lmites actuales. Revisa ",g.jsx("span",{className:"font-semibold text-white",children:"Ajustes"})," o marca ms trabajos como entrenables."]}),X.filter(T=>T.items.length>0).map(T=>g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-5 sm:p-6",children:[g.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:T.group.name}),g.jsxs("p",{className:"text-sm text-white/60",children:[T.items.length," tem",T.items.length===1?"":"s"]})]}),g.jsxs("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/70",children:[T.plannedMinutes," min"]})]}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:T.items.map($)})]},T.group.id)),D.length>0?g.jsxs("div",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[D[0].group.name," (",Math.max(0,Number(D[0].group.minutesBudget)||0)," min)"]}),g.jsx("p",{className:"text-sm text-white/60",children:"Una correccin concreta para maana."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:G,children:"Guardar recap"})]}),g.jsx("textarea",{className:"input-field min-h-[90px] w-full resize-y",value:R,onChange:T=>L(T.target.value),placeholder:"Ej: Transicin BC: bajar hombros y cerrar cadera."})]}):null]})]})]})}He.locale("es");function B3(){const e=Te(w=>w.sessions).filter(w=>w.kind==="personal"),t=Te(w=>w.works),n=Te(w=>w.objectives),r=Te(w=>w.assistants),i=Te(w=>w.addSession),[o,l]=Np(),u=k.useMemo(()=>[...e].sort((w,S)=>He(S.date).valueOf()-He(w.date).valueOf()),[e]),c=o.get("session")??void 0,f=c?e.find(w=>w.id===c):void 0,[h,p]=k.useState(f==null?void 0:f.id);k.useEffect(()=>{c&&!e.some(w=>w.id===c)&&(p(void 0),l({},{replace:!0}))},[c,e,l]);const v=h?e.find(w=>w.id===h):void 0,y=w=>{p(w),l({session:w},{replace:!0})},E=()=>{const w=He().format("YYYY-MM-DD"),S=e.find(_=>_.date===w);if(S){y(S.id);return}const C=i({date:w,kind:"personal",title:"Entrenamiento personal",description:"",notes:""});y(C.id)};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("header",{className:"glass-panel p-6 sm:p-10",children:g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Sesiones"}),g.jsx("p",{className:"text-white/60",children:"Histrico y edicin de sesiones de entreno personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx(ei,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsx(ei,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:E,children:"Crear/abrir hoy"})]})]})}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.9fr]",children:[g.jsxs("section",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Sesiones"}),g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:u.length})]}),u.length===0?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/50",children:"No hay sesiones personales todava. Crea la sesin de hoy para empezar a registrar tu entrenamiento."}):g.jsx("div",{className:"space-y-2",children:u.map(w=>{const S=w.workItems.filter(C=>(C.completed??!1)||typeof C.result<"u").length;return g.jsxs("button",{type:"button",onClick:()=>y(w.id),className:Oe("flex w-full flex-col gap-1 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30 hover:bg-white/10",w.id===h&&"border-sky-400/60 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:w.title||"Sesin sin ttulo"}),g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:He(w.date).format("ddd  D MMM YYYY")}),g.jsxs("p",{className:"text-xs text-white/60",children:[S,"/",w.workItems.length," registrados"]})]},w.id)})})]}),g.jsx("section",{className:"glass-panel p-6",children:v?g.jsx(O1,{session:v,works:t,objectives:n,assistants:r}):g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-10 text-center text-white/50",children:"Selecciona una sesin para verla y editarla."})})]})]})}const Rr=e=>Array.from(new Set(e.split(",").map(t=>t.trim().toLowerCase()).filter(Boolean))),Hu=e=>Array.from(new Set(e.split(",").map(t=>t.trim()).filter(Boolean))),Rn=e=>(e??[]).join(", ");function gc(e){const t=e.byTags?Rr(Rn(e.byTags)):void 0,n=e.byNodeTypes?Rr(Rn(e.byNodeTypes)):void 0,r=e.byWorkIds?Hu(Rn(e.byWorkIds)):void 0,i={};return t&&t.length>0&&(i.byTags=t),n&&n.length>0&&(i.byNodeTypes=n),r&&r.length>0&&(i.byWorkIds=r),i}function U3(e){return e.map(t=>({...t,name:t.name.trim()||"Kung Fu program",include:(t.include??[]).map(gc).filter(n=>Object.keys(n).length>0),exclude:(t.exclude??[]).map(gc).filter(n=>Object.keys(n).length>0)}))}function W3(e){const t={};Object.entries(e.targetsDays??{}).forEach(([r,i])=>{const o=r.trim().toLowerCase(),l=Number(i);o&&Number.isFinite(l)&&(t[o]=Math.max(1,Math.round(l)))});const n=(e.overrides??[]).map(r=>{var i;return{match:{tagsAny:Rr(Rn(((i=r.match)==null?void 0:i.tagsAny)??[]))},multiplier:Math.max(.1,Number(r.multiplier)||1)}}).filter(r=>r.match.tagsAny.length>0);return{targetsDays:t,overrides:n}}function H3(e){var _,j,M;const t=Math.max(1,Math.round(Number(e.maxItems)||12)),n=Math.max(1,Number(e.minutesBudget)||30),r={};Object.entries(e.defaultMinutesByNodeType??{}).forEach(([A,R])=>{const L=A.trim().toLowerCase(),Z=Number(R);L&&Number.isFinite(Z)&&(r[L]=Math.max(.25,Z))});const i=A=>A==="count"||A==="minutes"||A==="both",o=A=>A==="work"||A==="note",l=A=>A==="overdue"||A==="weighted",u=A=>A==="allow_all"||A==="prefer_leaves",c=A=>{if(!Array.isArray(A))return[];const R=A.map(L=>Number(L)).filter(L=>Number.isFinite(L)).map(L=>Math.round(L)).filter(L=>L>=0&&L<=6);return Array.from(new Set(R)).sort((L,Z)=>L-Z)},f=(A,R)=>{const L=(A.id??"").trim()||Gt(),Z=o(A.type)?A.type:"work",Q=typeof A.enabled=="boolean"?A.enabled:!0,O=Number.isFinite(Number(A.order))?Number(A.order):R,N=(A.name??"").trim()||(Z==="note"?"Recap":"Grupo"),Y=i(A.limitMode)?A.limitMode:"minutes",H=Number.isFinite(Number(A.maxItems))?Math.max(0,Math.round(Number(A.maxItems))):void 0,B=Number.isFinite(Number(A.minutesBudget))?Math.max(0,Number(A.minutesBudget)):void 0,F=l(A.strategy)?A.strategy:"overdue",J=u(A.hierarchyRule)?A.hierarchyRule:"allow_all",X=(A.include??[]).map(gc).filter(V=>Object.keys(V).length>0),D=(A.exclude??[]).map(gc).filter(V=>Object.keys(V).length>0);return{id:L,name:N,enabled:Q,order:O,type:Z,daysOfWeek:c(A.daysOfWeek),limitMode:Y,maxItems:H,minutesBudget:B,strategy:F,hierarchyRule:J,include:X,exclude:D}},p=((e.groups??[]).length>0?e.groups??[]:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]).map((A,R)=>f(A,R+1)).sort((A,R)=>A.order-R.order).map((A,R)=>({...A,order:R+1})),v=p.filter(A=>(A.type??"work")!=="note"),y=p.filter(A=>A.type==="note"),E=Math.max(0,Number((_=v[0])==null?void 0:_.minutesBudget)||0),w=Math.max(0,Number((j=v[1])==null?void 0:j.minutesBudget)||0),S=Math.max(0,Number((M=y[0])==null?void 0:M.minutesBudget)||0),C=Math.max(0,E+w+S);return{limitMode:e.limitMode,maxItems:t,minutesBudget:n,template:{totalMinutes:C,focusMinutes:E,rouletteMinutes:w,recapMinutes:S},defaultMinutesByNodeType:r,focusSelectors:[],rouletteSelectors:[],groups:p}}const _h={},V3=[{label:"L",value:1},{label:"M",value:2},{label:"X",value:3},{label:"J",value:4},{label:"V",value:5},{label:"S",value:6},{label:"D",value:0}];function q3(){const e=Te(_=>_.kungfuPrograms),t=Te(_=>_.kungfuCadence),n=Te(_=>_.kungfuTodayPlan),r=Te(_=>_.setKungfuPrograms),i=Te(_=>_.setKungfuCadence),o=Te(_=>_.setKungfuTodayPlan),[l,u]=k.useState(e),[c,f]=k.useState(t),[h,p]=k.useState(n),[v,y]=k.useState(null);k.useEffect(()=>{u(e)},[e]),k.useEffect(()=>{f(t)},[t]),k.useEffect(()=>{p(n)},[n]);const E=k.useMemo(()=>JSON.stringify(e)!==JSON.stringify(l)||JSON.stringify(t)!==JSON.stringify(c)||JSON.stringify(n)!==JSON.stringify(h),[e,t,n,l,c,h]),w=_=>{y(_),_&&window.setTimeout(()=>y(null),_.type==="success"?1800:2600)},S=()=>{try{const _=U3(l),j=W3(c),M=H3(h);r(_),i(j),o(M),w({type:"success",text:"Guardado."})}catch(_){const j=_ instanceof Error?_.message:"No se pudo guardar.";w({type:"error",text:j})}},C=()=>{u(e),f(t),p(n),w({type:"success",text:"Cambios descartados."})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Ajustes"}),g.jsx("p",{className:"text-white/60",children:"Programa, cadencias y plantilla de sesin para el modo Personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsx(ei,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:C,disabled:!E,children:"Descartar"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:S,disabled:!E,children:"Guardar"})]})]})]}),v?g.jsx("div",{className:Oe("mt-4 rounded-2xl border px-4 py-3 text-sm",v.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:v.text}):null]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Plan de hoy"}),g.jsx("p",{className:"text-sm text-white/60",children:"Controla cuntos tems se sugieren y el presupuesto de minutos."})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Modo de lmite"}),g.jsxs("select",{className:"input-field",value:h.limitMode,onChange:_=>p(j=>({...j,limitMode:_.target.value})),children:[g.jsx("option",{value:"count",children:"Por cantidad"}),g.jsx("option",{value:"minutes",children:"Por minutos"}),g.jsx("option",{value:"both",children:"Cantidad y minutos"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx. tems"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:h.maxItems,onChange:_=>p(j=>({...j,maxItems:Number(_.target.value)}))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Presupuesto (min)"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:h.minutesBudget,onChange:_=>p(j=>({...j,minutesBudget:Number(_.target.value)}))})]})]}),g.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Grupos"}),g.jsx("p",{className:"text-sm text-white/60",children:"Define bloques con reglas, das de la semana y lmites."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(_=>{const j=[..._.groups??[]].sort((R,L)=>(R.order??0)-(L.order??0)),M={id:Gt(),name:"Nuevo grupo",enabled:!0,order:j.length+1,type:"work",daysOfWeek:[],limitMode:"minutes",maxItems:12,minutesBudget:5,strategy:"overdue",hierarchyRule:"allow_all",include:[],exclude:[]},A=[...j,M].map((R,L)=>({...R,order:L+1}));return{..._,groups:A}}),children:"+ Grupo"})]}),g.jsx("div",{className:"space-y-4",children:[...h.groups??[]].sort((_,j)=>(_.order??0)-(j.order??0)).map((_,j,M)=>{const A=_.type??"work",R=_.daysOfWeek??[],L=R.length===0,Z=_.limitMode??"minutes",Q=_.strategy??"overdue",O=_.hierarchyRule??"allow_all",N=F=>{p(J=>{const D=[...J.groups??[]].sort((V,P)=>(V.order??0)-(P.order??0)).map(V=>V.id===_.id?{...V,...F}:V).map((V,P)=>({...V,order:P+1}));return{...J,groups:D}})},Y=F=>{p(J=>{const X=[...J.groups??[]].sort((G,T)=>(G.order??0)-(T.order??0)),D=X.findIndex(G=>G.id===_.id),V=D+F;if(D<0||V<0||V>=X.length)return J;const P=X.slice(),$=P[D];return P[D]=P[V],P[V]=$,{...J,groups:P.map((G,T)=>({...G,order:T+1}))}})},H=()=>{p(F=>{const X=[...F.groups??[]].sort((D,V)=>(D.order??0)-(V.order??0)).filter(D=>D.id!==_.id).map((D,V)=>({...D,order:V+1}));return{...F,groups:X.length>0?X:F.groups}})},B=(F,J)=>{const X=_[F]??[];N({[F]:J(X)})};return g.jsx("div",{className:"rounded-3xl border border-white/10 bg-slate-950/40 p-5",children:g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[g.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:_.enabled,onChange:F=>N({enabled:F.target.checked})}),"Enabled"]}),g.jsx("input",{type:"text",className:"input-field flex-1",value:_.name,onChange:F=>N({name:F.target.value}),placeholder:"Nombre del grupo"}),g.jsxs("select",{className:"input-field w-36",value:A,onChange:F=>N({type:F.target.value}),children:[g.jsx("option",{value:"work",children:"Trabajos"}),g.jsx("option",{value:"note",children:"Nota"})]})]}),g.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Das"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("button",{type:"button",className:Oe("rounded-full border px-3 py-1 text-xs font-semibold transition",L?"border-sky-500/40 bg-sky-500/10 text-sky-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>N({daysOfWeek:[]}),title:"Vaco = todos los das",children:"Todos"}),V3.map(F=>{const J=L?!0:R.includes(F.value);return g.jsx("button",{type:"button",className:Oe("h-8 w-8 rounded-full border text-xs font-semibold transition",J?"border-emerald-500/40 bg-emerald-500/10 text-emerald-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>{const X=L?[F.value]:R.includes(F.value)?R.filter(D=>D!==F.value):[...R,F.value];N({daysOfWeek:X.sort((D,V)=>D-V)})},title:J?"Activo":"Inactivo",children:F.label},F.value)})]}),g.jsx("p",{className:"text-xs text-white/50",children:"Si eliges das especficos, solo aparecer esos das."})]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Lmite"}),g.jsxs("select",{className:"input-field",value:Z,onChange:F=>N({limitMode:F.target.value}),children:[g.jsx("option",{value:"count",children:"Cantidad"}),g.jsx("option",{value:"minutes",children:"Minutos"}),g.jsx("option",{value:"both",children:"Ambos"})]})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx tems"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:_.maxItems??0,onChange:F=>N({maxItems:Number(F.target.value)})})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx min"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:_.minutesBudget??0,onChange:F=>N({minutesBudget:Number(F.target.value)})})]})]})]}),A==="work"?g.jsxs("div",{className:"mt-2 grid gap-4 lg:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Estrategia"}),g.jsxs("select",{className:"input-field",value:Q,onChange:F=>N({strategy:F.target.value}),children:[g.jsx("option",{value:"overdue",children:"Vencido (cadencia)"}),g.jsx("option",{value:"weighted",children:"Ponderado (ruleta)"})]})]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:O==="prefer_leaves",onChange:F=>N({hierarchyRule:F.target.checked?"prefer_leaves":"allow_all"})}),"Preferir hijos (evita padres cuando existan)"]})]}):null,A==="work"?g.jsx("div",{className:"mt-4 grid gap-5 lg:grid-cols-2",children:["include","exclude"].map(F=>g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-sm font-semibold text-white/80",children:F==="include"?"Include (OR)":"Exclude (OR)"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>B(F,J=>[...J,{..._h}]),children:"+ Regla"})]}),(_[F]??[]).length===0?g.jsx("p",{className:"text-xs text-white/50",children:F==="include"?"Vaco = incluye todo (se aplican excludes).":"Vaco = no excluye nada."}):null,(_[F]??[]).map((J,X)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Regla ",X+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>B(F,D=>D.filter((V,P)=>P!==X)),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (AND)"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(J.byTags),placeholder:"kungfu, bei-shaolin",onChange:D=>{const V=Rr(D.target.value);B(F,P=>{const $=[...P];return $[X]={...$[X],byTags:V},$})}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Node types"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(J.byNodeTypes),placeholder:"segment, form",onChange:D=>{const V=Rr(D.target.value);B(F,P=>{const $=[...P];return $[X]={...$[X],byNodeTypes:V},$})}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Work IDs"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(J.byWorkIds),placeholder:"id1, id2",onChange:D=>{const V=Hu(D.target.value);B(F,P=>{const $=[...P];return $[X]={...$[X],byWorkIds:V},$})}})]})]})]},`${F}-${_.id}-${X}`))]},`${_.id}-${F}`))}):null]}),g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Y(-1),disabled:j===0,title:"Subir",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Y(1),disabled:j===M.length-1,title:"Bajar",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:H,disabled:M.length<=1,children:"Eliminar"})]})]})},_.id)})})]}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Estimacin de minutos por tipo"}),g.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:Object.entries(h.defaultMinutesByNodeType).sort(([_],[j])=>_.localeCompare(j,"es",{sensitivity:"base"})).map(([_,j])=>g.jsxs("label",{className:"grid gap-2",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:_}),g.jsx("input",{type:"number",min:.25,step:.25,className:"input-field",value:j,onChange:M=>p(A=>({...A,defaultMinutesByNodeType:{...A.defaultMinutesByNodeType,[_]:Number(M.target.value)}}))})]},_))})]})]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Programas"}),g.jsx("p",{className:"text-sm text-white/60",children:"Define qu trabajos entran en el pool (include/exclude)."})]}),g.jsxs("div",{className:"space-y-4",children:[l.map((_,j)=>g.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-5",children:[g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:_.enabled,onChange:M=>{u(A=>A.map((R,L)=>L===j?{...R,enabled:M.target.checked}:R))}}),"Enabled"]}),g.jsxs("span",{className:"text-xs text-white/40",children:["id: ",_.id]})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>u(M=>M.filter((A,R)=>R!==j)),disabled:l.length<=1,children:"Eliminar"})]}),g.jsx("div",{className:"mt-4 grid gap-4 sm:grid-cols-2",children:g.jsxs("label",{className:"grid gap-2",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:_.name,onChange:M=>u(A=>A.map((R,L)=>L===j?{...R,name:M.target.value}:R))})]})}),g.jsxs("div",{className:"mt-4 grid gap-5 sm:grid-cols-2",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-sm font-semibold text-white/80",children:"Include (OR)"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>u(M=>M.map((A,R)=>R===j?{...A,include:[...A.include??[],{..._h}]}:A)),children:"+ Regla"})]}),(_.include??[]).length===0?g.jsx("p",{className:"text-xs text-white/50",children:"Vaco = incluye todo (se aplican excludes)."}):null,(_.include??[]).map((M,A)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Regla ",A+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>u(R=>R.map((L,Z)=>Z===j?{...L,include:(L.include??[]).filter((Q,O)=>O!==A)}:L)),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (AND)"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(M.byTags),placeholder:"kungfu, eagleclaw",onChange:R=>{const L=Rr(R.target.value);u(Z=>Z.map((Q,O)=>{if(O!==j)return Q;const N=[...Q.include??[]],Y={...N[A],byTags:L};return N[A]=Y,{...Q,include:N}}))}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Node types"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(M.byNodeTypes),placeholder:"technique, form",onChange:R=>{const L=Rr(R.target.value);u(Z=>Z.map((Q,O)=>{if(O!==j)return Q;const N=[...Q.include??[]],Y={...N[A],byNodeTypes:L};return N[A]=Y,{...Q,include:N}}))}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Work IDs"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(M.byWorkIds),placeholder:"id1, id2",onChange:R=>{const L=Hu(R.target.value);u(Z=>Z.map((Q,O)=>{if(O!==j)return Q;const N=[...Q.include??[]],Y={...N[A],byWorkIds:L};return N[A]=Y,{...Q,include:N}}))}})]})]})]},`include-${_.id}-${A}`))]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-sm font-semibold text-white/80",children:"Exclude (OR)"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>u(M=>M.map((A,R)=>R===j?{...A,exclude:[...A.exclude??[],{..._h}]}:A)),children:"+ Regla"})]}),(_.exclude??[]).length===0?g.jsx("p",{className:"text-xs text-white/50",children:"Opcional: excluye coincidencias (til para pausar cosas)."}):null,(_.exclude??[]).map((M,A)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Regla ",A+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>u(R=>R.map((L,Z)=>Z===j?{...L,exclude:(L.exclude??[]).filter((Q,O)=>O!==A)}:L)),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (AND)"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(M.byTags),placeholder:"pause",onChange:R=>{const L=Rr(R.target.value);u(Z=>Z.map((Q,O)=>{if(O!==j)return Q;const N=[...Q.exclude??[]],Y={...N[A],byTags:L};return N[A]=Y,{...Q,exclude:N}}))}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Node types"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(M.byNodeTypes),placeholder:"style",onChange:R=>{const L=Rr(R.target.value);u(Z=>Z.map((Q,O)=>{if(O!==j)return Q;const N=[...Q.exclude??[]],Y={...N[A],byNodeTypes:L};return N[A]=Y,{...Q,exclude:N}}))}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Work IDs"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(M.byWorkIds),placeholder:"id1, id2",onChange:R=>{const L=Hu(R.target.value);u(Z=>Z.map((Q,O)=>{if(O!==j)return Q;const N=[...Q.exclude??[]],Y={...N[A],byWorkIds:L};return N[A]=Y,{...Q,exclude:N}}))}})]})]})]},`exclude-${_.id}-${A}`))]})]})]},_.id)),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>u(_=>[..._,{id:Gt(),name:"Nuevo programa",enabled:!1,include:[{byTags:["kungfu"]}],exclude:[]}]),children:"+ Aadir programa"})]})]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Cadencias"}),g.jsx("p",{className:"text-sm text-white/60",children:"Objetivo de das por tipo, con overrides por tags."})]}),g.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Object.entries(c.targetsDays??{}).sort(([_],[j])=>_.localeCompare(j,"es",{sensitivity:"base"})).map(([_,j])=>g.jsxs("label",{className:"grid gap-2",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:_}),g.jsx("input",{type:"number",min:1,className:"input-field",value:j,onChange:M=>f(A=>({...A,targetsDays:{...A.targetsDays,[_]:Number(M.target.value)}}))})]},_))}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Overrides"}),g.jsxs("div",{className:"mt-3 space-y-3",children:[(c.overrides??[]).map((_,j)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Override ",j+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>f(M=>({...M,overrides:(M.overrides??[]).filter((A,R)=>R!==j)})),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (ANY)"}),g.jsx("input",{type:"text",className:"input-field",value:Rn(_.match.tagsAny),placeholder:"weapon",onChange:M=>{const A=Rr(M.target.value);f(R=>{const L=[...R.overrides??[]];return L[j]={..._,match:{tagsAny:A}},{...R,overrides:L}})}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Multiplier"}),g.jsx("input",{type:"number",min:.1,step:.1,className:"input-field",value:_.multiplier,onChange:M=>{const A=Number(M.target.value);f(R=>{const L=[...R.overrides??[]];return L[j]={..._,multiplier:A},{...R,overrides:L}})}})]})]})]},`override-${j}`)),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(_=>({..._,overrides:[..._.overrides??[],{match:{tagsAny:[]},multiplier:1}]})),children:"+ Aadir override"})]})]})]})]})}const J0=[{to:"/",label:"Sesiones"},{to:"/personal",label:"Personal"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function Y3(){const[e,t]=k.useState(!1),[n,r]=k.useState(!1),{user:i,signOut:o}=Ss(),l=async()=>{try{r(!0),await o()}catch(u){console.error("No se pudo cerrar sesin",u)}finally{r(!1),t(!1)}};return g.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[g.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[g.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),g.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increbles"})]})]}),g.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[g.jsx("nav",{className:"flex items-center gap-2",children:J0.map(u=>g.jsx(my,{to:u.to,className:({isActive:c})=>`rounded-full px-4 py-2 text-sm font-medium transition ${c?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:u.label},u.to))}),g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-white/50",children:"Sesin iniciada"}),g.jsx("p",{className:"text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"})]}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]}),g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),g.jsxs(tx,{open:e,onClose:t,className:"md:hidden",children:[g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),g.jsxs(tx.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegacin"}),g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsx("div",{className:"mt-6 flex flex-col gap-2",children:J0.map(u=>g.jsx(my,{to:u.to,className:({isActive:c})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${c?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:u.label},u.to))}),g.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesin iniciada"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]})]})]})}function K3(){return kA(),SA(),g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(Y3,{}),g.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:g.jsx(aw,{})})]})}function G3(){return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),g.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner"})]})})}function J3(){const{session:e,loading:t}=Ss(),n=ii();return t?g.jsx(G3,{}):e?g.jsx(aw,{}):g.jsx(bc,{to:"/login",replace:!0,state:{from:n}})}function Q3(){return g.jsx(F_,{children:g.jsxs(I_,{children:[g.jsx(Tn,{path:"/login",element:g.jsx(C3,{})}),g.jsx(Tn,{element:g.jsx(J3,{}),children:g.jsxs(Tn,{element:g.jsx(K3,{}),children:[g.jsx(Tn,{index:!0,element:g.jsx(g3,{})}),g.jsx(Tn,{path:"personal",element:g.jsx(z3,{})}),g.jsx(Tn,{path:"personal/sessions",element:g.jsx(B3,{})}),g.jsx(Tn,{path:"personal/settings",element:g.jsx(q3,{})}),g.jsx(Tn,{path:"plan",element:g.jsx(v3,{})}),g.jsx(Tn,{path:"catalog",element:g.jsx(k3,{})}),g.jsx(Tn,{path:"objectives",element:g.jsx(S3,{})}),g.jsx(Tn,{path:"assistants",element:g.jsx(E3,{})}),g.jsx(Tn,{path:"backups",element:g.jsx(_3,{})})]})}),g.jsx(Tn,{path:"*",element:g.jsx(bc,{to:"/",replace:!0})})]})})}function X3({children:e}){const[t,n]=k.useState(null),[r,i]=k.useState(null),[o,l]=k.useState(!0);k.useEffect(()=>{let c=!0;(async()=>{l(!0);const{data:{session:p}}=await Lt.auth.getSession();c&&(n(p),i((p==null?void 0:p.user)??null),l(!1))})();const{data:{subscription:h}}=Lt.auth.onAuthStateChange((p,v)=>{c&&(n(v),i((v==null?void 0:v.user)??null),l(!1))});return()=>{c=!1,h.unsubscribe()}},[]);const u=k.useMemo(()=>({session:t,user:r,loading:o,signInWithPassword:async(c,f)=>{const{error:h}=await Lt.auth.signInWithPassword({email:c,password:f});if(h)throw h},signUpWithPassword:async(c,f)=>{const p=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:v}=await Lt.auth.signUp({email:c,password:f,options:{emailRedirectTo:p}});if(v)throw v},signOut:async()=>{const{error:c}=await Lt.auth.signOut();if(c)throw c}}),[o,t,r]);return g.jsx(Rb.Provider,{value:u,children:e})}Te.getState().hydrate();FE.createRoot(document.getElementById("root")).render(g.jsx(Ce.StrictMode,{children:g.jsx(X3,{children:g.jsx(Q3,{})})}));
