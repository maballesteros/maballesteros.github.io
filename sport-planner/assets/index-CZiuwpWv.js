function RE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function OE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Cf={exports:{}},xa={},jf={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function ME(){if(ev)return qe;ev=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function _(z,U,I){this.props=z,this.context=U,this.refs=w,this.updater=I||v}_.prototype.isReactComponent={},_.prototype.setState=function(z,U){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,U,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function E(){}E.prototype=_.prototype;function j(z,U,I){this.props=z,this.context=U,this.refs=w,this.updater=I||v}var C=j.prototype=new E;C.constructor=j,S(C,_.prototype),C.isPureReactComponent=!0;var P=Array.isArray,M=Object.prototype.hasOwnProperty,A={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function Z(z,U,I){var ue,le={},ce=null,we=null;if(U!=null)for(ue in U.ref!==void 0&&(we=U.ref),U.key!==void 0&&(ce=""+U.key),U)M.call(U,ue)&&!F.hasOwnProperty(ue)&&(le[ue]=U[ue]);var ae=arguments.length-2;if(ae===1)le.children=I;else if(1<ae){for(var be=Array(ae),xe=0;xe<ae;xe++)be[xe]=arguments[xe+2];le.children=be}if(z&&z.defaultProps)for(ue in ae=z.defaultProps,ae)le[ue]===void 0&&(le[ue]=ae[ue]);return{$$typeof:e,type:z,key:ce,ref:we,props:le,_owner:A.current}}function se(z,U){return{$$typeof:e,type:z.type,key:U,ref:z.ref,props:z.props,_owner:z._owner}}function R(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function L(z){var U={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(I){return U[I]})}var Q=/\/+/g;function G(z,U){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):U.toString(36)}function V(z,U,I,ue,le){var ce=typeof z;(ce==="undefined"||ce==="boolean")&&(z=null);var we=!1;if(z===null)we=!0;else switch(ce){case"string":case"number":we=!0;break;case"object":switch(z.$$typeof){case e:case t:we=!0}}if(we)return we=z,le=le(we),z=ue===""?"."+G(we,0):ue,P(le)?(I="",z!=null&&(I=z.replace(Q,"$&/")+"/"),V(le,U,I,"",function(xe){return xe})):le!=null&&(R(le)&&(le=se(le,I+(!le.key||we&&we.key===le.key?"":(""+le.key).replace(Q,"$&/")+"/")+z)),U.push(le)),1;if(we=0,ue=ue===""?".":ue+":",P(z))for(var ae=0;ae<z.length;ae++){ce=z[ae];var be=ue+G(ce,ae);we+=V(ce,U,I,be,le)}else if(be=y(z),typeof be=="function")for(z=be.call(z),ae=0;!(ce=z.next()).done;)ce=ce.value,be=ue+G(ce,ae++),we+=V(ce,U,I,be,le);else if(ce==="object")throw U=String(z),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return we}function $(z,U,I){if(z==null)return z;var ue=[],le=0;return V(z,ue,"","",function(ce){return U.call(I,ce,le++)}),ue}function W(z){if(z._status===-1){var U=z._result;U=U(),U.then(function(I){(z._status===0||z._status===-1)&&(z._status=1,z._result=I)},function(I){(z._status===0||z._status===-1)&&(z._status=2,z._result=I)}),z._status===-1&&(z._status=0,z._result=U)}if(z._status===1)return z._result.default;throw z._result}var X={current:null},O={transition:null},q={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:O,ReactCurrentOwner:A};function N(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:$,forEach:function(z,U,I){$(z,function(){U.apply(this,arguments)},I)},count:function(z){var U=0;return $(z,function(){U++}),U},toArray:function(z){return $(z,function(U){return U})||[]},only:function(z){if(!R(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},qe.Component=_,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=j,qe.StrictMode=r,qe.Suspense=c,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,qe.act=N,qe.cloneElement=function(z,U,I){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ue=S({},z.props),le=z.key,ce=z.ref,we=z._owner;if(U!=null){if(U.ref!==void 0&&(ce=U.ref,we=A.current),U.key!==void 0&&(le=""+U.key),z.type&&z.type.defaultProps)var ae=z.type.defaultProps;for(be in U)M.call(U,be)&&!F.hasOwnProperty(be)&&(ue[be]=U[be]===void 0&&ae!==void 0?ae[be]:U[be])}var be=arguments.length-2;if(be===1)ue.children=I;else if(1<be){ae=Array(be);for(var xe=0;xe<be;xe++)ae[xe]=arguments[xe+2];ue.children=ae}return{$$typeof:e,type:z.type,key:le,ref:ce,props:ue,_owner:we}},qe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},qe.createElement=Z,qe.createFactory=function(z){var U=Z.bind(null,z);return U.type=z,U},qe.createRef=function(){return{current:null}},qe.forwardRef=function(z){return{$$typeof:u,render:z}},qe.isValidElement=R,qe.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:W}},qe.memo=function(z,U){return{$$typeof:f,type:z,compare:U===void 0?null:U}},qe.startTransition=function(z){var U=O.transition;O.transition={};try{z()}finally{O.transition=U}},qe.unstable_act=N,qe.useCallback=function(z,U){return X.current.useCallback(z,U)},qe.useContext=function(z){return X.current.useContext(z)},qe.useDebugValue=function(){},qe.useDeferredValue=function(z){return X.current.useDeferredValue(z)},qe.useEffect=function(z,U){return X.current.useEffect(z,U)},qe.useId=function(){return X.current.useId()},qe.useImperativeHandle=function(z,U,I){return X.current.useImperativeHandle(z,U,I)},qe.useInsertionEffect=function(z,U){return X.current.useInsertionEffect(z,U)},qe.useLayoutEffect=function(z,U){return X.current.useLayoutEffect(z,U)},qe.useMemo=function(z,U){return X.current.useMemo(z,U)},qe.useReducer=function(z,U,I){return X.current.useReducer(z,U,I)},qe.useRef=function(z){return X.current.useRef(z)},qe.useState=function(z){return X.current.useState(z)},qe.useSyncExternalStore=function(z,U,I){return X.current.useSyncExternalStore(z,U,I)},qe.useTransition=function(){return X.current.useTransition()},qe.version="18.3.1",qe}var tv;function pc(){return tv||(tv=1,jf.exports=ME()),jf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function LE(){if(nv)return xa;nv=1;var e=pc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var h,p={},y=null,v=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:t,type:u,key:y,ref:v,props:p,_owner:i.current}}return xa.Fragment=n,xa.jsx=l,xa.jsxs=l,xa}var rv;function DE(){return rv||(rv=1,Cf.exports=LE()),Cf.exports}var g=DE(),k=pc();const Se=No(k),Hu=RE({__proto__:null,default:Se},[k]);var vu={},Nf={exports:{}},Pn={},Tf={exports:{}},If={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function $E(){return iv||(iv=1,(function(e){function t(O,q){var N=O.length;O.push(q);e:for(;0<N;){var z=N-1>>>1,U=O[z];if(0<i(U,q))O[z]=q,O[N]=U,N=z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var q=O[0],N=O.pop();if(N!==q){O[0]=N;e:for(var z=0,U=O.length,I=U>>>1;z<I;){var ue=2*(z+1)-1,le=O[ue],ce=ue+1,we=O[ce];if(0>i(le,N))ce<U&&0>i(we,le)?(O[z]=we,O[ce]=N,z=ce):(O[z]=le,O[ue]=N,z=ue);else if(ce<U&&0>i(we,N))O[z]=we,O[ce]=N,z=ce;else break e}}return q}function i(O,q){var N=O.sortIndex-q.sortIndex;return N!==0?N:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],f=[],h=1,p=null,y=3,v=!1,S=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(O){for(var q=n(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=O)r(f),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(f)}}function P(O){if(w=!1,C(O),!S)if(n(c)!==null)S=!0,W(M);else{var q=n(f);q!==null&&X(P,q.startTime-O)}}function M(O,q){S=!1,w&&(w=!1,E(Z),Z=-1),v=!0;var N=y;try{for(C(q),p=n(c);p!==null&&(!(p.expirationTime>q)||O&&!L());){var z=p.callback;if(typeof z=="function"){p.callback=null,y=p.priorityLevel;var U=z(p.expirationTime<=q);q=e.unstable_now(),typeof U=="function"?p.callback=U:p===n(c)&&r(c),C(q)}else r(c);p=n(c)}if(p!==null)var I=!0;else{var ue=n(f);ue!==null&&X(P,ue.startTime-q),I=!1}return I}finally{p=null,y=N,v=!1}}var A=!1,F=null,Z=-1,se=5,R=-1;function L(){return!(e.unstable_now()-R<se)}function Q(){if(F!==null){var O=e.unstable_now();R=O;var q=!0;try{q=F(!0,O)}finally{q?G():(A=!1,F=null)}}else A=!1}var G;if(typeof j=="function")G=function(){j(Q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$=V.port2;V.port1.onmessage=Q,G=function(){$.postMessage(null)}}else G=function(){_(Q,0)};function W(O){F=O,A||(A=!0,G())}function X(O,q){Z=_(function(){O(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){S||v||(S=!0,W(M))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var N=y;y=q;try{return O()}finally{y=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=y;y=O;try{return q()}finally{y=N}},e.unstable_scheduleCallback=function(O,q,N){var z=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?z+N:z):N=z,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,O={id:h++,callback:q,priorityLevel:O,startTime:N,expirationTime:U,sortIndex:-1},N>z?(O.sortIndex=N,t(f,O),n(c)===null&&O===n(f)&&(w?(E(Z),Z=-1):w=!0,X(P,N-z))):(O.sortIndex=U,t(c,O),S||v||(S=!0,W(M))),O},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(O){var q=y;return function(){var N=y;y=q;try{return O.apply(this,arguments)}finally{y=N}}}})(If)),If}var sv;function FE(){return sv||(sv=1,Tf.exports=$E()),Tf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function zE(){if(ov)return Pn;ov=1;var e=pc(),t=FE();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function y(s){return c.call(p,s)?!0:c.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function v(s,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,d,m){if(a===null||typeof a>"u"||v(s,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,d,m,x,b,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=T}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];_[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(E,j);_[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(E,j);_[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(E,j);_[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,a,d,m){var x=_.hasOwnProperty(a)?_[a]:null;(x!==null?x.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,d,x,m)&&(d=null),m||x===null?y(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):x.mustUseProperty?s[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,m=x.attributeNamespace,d===null?s.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?s.setAttributeNS(m,a,d):s.setAttribute(a,d))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),A=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),L=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),O=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var N=Object.assign,z;function U(s){if(z===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+s}var I=!1;function ue(s,a){if(!s||I)return"";I=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ie){var m=ie}Reflect.construct(s,[],a)}else{try{a.call()}catch(ie){m=ie}s.call(a.prototype)}else{try{throw Error()}catch(ie){m=ie}s()}}catch(ie){if(ie&&m&&typeof ie.stack=="string"){for(var x=ie.stack.split(`
`),b=m.stack.split(`
`),T=x.length-1,B=b.length-1;1<=T&&0<=B&&x[T]!==b[B];)B--;for(;1<=T&&0<=B;T--,B--)if(x[T]!==b[B]){if(T!==1||B!==1)do if(T--,B--,0>B||x[T]!==b[B]){var H=`
`+x[T].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=T&&0<=B);break}}}finally{I=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?U(s):""}function le(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=ue(s.type,!1),s;case 11:return s=ue(s.type.render,!1),s;case 1:return s=ue(s.type,!0),s;default:return""}}function ce(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case A:return"Portal";case se:return"Profiler";case Z:return"StrictMode";case G:return"Suspense";case V:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case R:return(s._context.displayName||"Context")+".Provider";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return a=s.displayName||null,a!==null?a:ce(s.type)||"Memo";case W:a=s._payload,s=s._init;try{return ce(s(a))}catch{}}return null}function we(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(a);case 8:return a===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function be(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xe(s){var a=be(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,b=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,b.call(this,T)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ke(s){s._valueTracker||(s._valueTracker=xe(s))}function nt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return s&&(m=be(s)?s.checked?"true":"false":s.value),s=m,s!==d?(a.setValue(s),!0):!1}function Je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function pt(s,a){var d=a.checked;return N({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Nt(s,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=ae(a.value!=null?a.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function We(s,a){a=a.checked,a!=null&&C(s,"checked",a,!1)}function mt(s,a){We(s,a);var d=ae(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?J(s,a.type,d):a.hasOwnProperty("defaultValue")&&J(s,a.type,ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function En(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function J(s,a,d){(a!=="number"||Je(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var oe=Array.isArray;function de(s,a,d,m){if(s=s.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=a.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&m&&(s[d].defaultSelected=!0)}else{for(d=""+ae(d),a=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}a!==null||s[x].disabled||(a=s[x])}a!==null&&(a.selected=!0)}}function _e(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return N({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ve(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(oe(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:ae(d)}}function D(s,a){var d=ae(a.value),m=ae(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function te(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Y(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ee(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Y(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ge,Ie=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,x){MSApp.execUnsafeLocalFunction(function(){return s(a,d,m,x)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ge=ge||document.createElement("div"),ge.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ge.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function De(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(ke).forEach(function(s){lt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ke[a]=ke[s]})});function at(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||ke.hasOwnProperty(s)&&ke[s]?(""+a).trim():a+"px"}function Ve(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=at(d,a[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,x):s[d]=x}}var wt=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ze(s,a){if(a){if(wt[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ut(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=null;function mn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var st=null,gn=null,gt=null;function He(s){if(s=ia(s)){if(typeof st!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Rl(a),st(s.stateNode,s.type,a))}}function rt(s){gn?gt?gt.push(s):gt=[s]:gn=s}function et(){if(gn){var s=gn,a=gt;if(gt=gn=null,He(s),a)for(s=0;s<a.length;s++)He(a[s])}}function bt(s,a){return s(a)}function nn(){}var _n=!1;function Wr(s,a,d){if(_n)return s(a,d);_n=!0;try{return bt(s,a,d)}finally{_n=!1,(gn!==null||gt!==null)&&(nn(),et())}}function Et(s,a){var d=s.stateNode;if(d===null)return null;var m=Rl(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Jn=!1;if(u)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{Jn=!1}function ar(s,a,d,m,x,b,T,B,H){var ie=Array.prototype.slice.call(arguments,3);try{a.apply(d,ie)}catch(he){this.onError(he)}}var lr=!1,_r=null,$n=!1,Hr=null,Fo={onError:function(s){lr=!0,_r=s}};function B1(s,a,d,m,x,b,T,B,H){lr=!1,_r=null,ar.apply(Fo,arguments)}function U1(s,a,d,m,x,b,T,B,H){if(B1.apply(this,arguments),lr){if(lr){var ie=_r;lr=!1,_r=null}else throw Error(n(198));$n||($n=!0,Hr=ie)}}function Ui(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function Sm(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Em(s){if(Ui(s)!==s)throw Error(n(188))}function W1(s){var a=s.alternate;if(!a){if(a=Ui(s),a===null)throw Error(n(188));return a!==s?null:s}for(var d=s,m=a;;){var x=d.return;if(x===null)break;var b=x.alternate;if(b===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===d)return Em(x),s;if(b===m)return Em(x),a;b=b.sibling}throw Error(n(188))}if(d.return!==m.return)d=x,m=b;else{for(var T=!1,B=x.child;B;){if(B===d){T=!0,d=x,m=b;break}if(B===m){T=!0,m=x,d=b;break}B=B.sibling}if(!T){for(B=b.child;B;){if(B===d){T=!0,d=b,m=x;break}if(B===m){T=!0,m=b,d=x;break}B=B.sibling}if(!T)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:a}function _m(s){return s=W1(s),s!==null?Cm(s):null}function Cm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Cm(s);if(a!==null)return a;s=s.sibling}return null}var jm=t.unstable_scheduleCallback,Nm=t.unstable_cancelCallback,H1=t.unstable_shouldYield,V1=t.unstable_requestPaint,Rt=t.unstable_now,q1=t.unstable_getCurrentPriorityLevel,Vc=t.unstable_ImmediatePriority,Tm=t.unstable_UserBlockingPriority,hl=t.unstable_NormalPriority,Y1=t.unstable_LowPriority,Im=t.unstable_IdlePriority,pl=null,Cr=null;function K1(s){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(pl,s,void 0,(s.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Q1,G1=Math.log,J1=Math.LN2;function Q1(s){return s>>>=0,s===0?32:31-(G1(s)/J1|0)|0}var ml=64,gl=4194304;function zo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function yl(s,a){var d=s.pendingLanes;if(d===0)return 0;var m=0,x=s.suspendedLanes,b=s.pingedLanes,T=d&268435455;if(T!==0){var B=T&~x;B!==0?m=zo(B):(b&=T,b!==0&&(m=zo(b)))}else T=d&~x,T!==0?m=zo(T):b!==0&&(m=zo(b));if(m===0)return 0;if(a!==0&&a!==m&&(a&x)===0&&(x=m&-m,b=a&-a,x>=b||x===16&&(b&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)d=31-ur(a),x=1<<d,m|=s[d],a&=~x;return m}function X1(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z1(s,a){for(var d=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,b=s.pendingLanes;0<b;){var T=31-ur(b),B=1<<T,H=x[T];H===-1?((B&d)===0||(B&m)!==0)&&(x[T]=X1(B,a)):H<=a&&(s.expiredLanes|=B),b&=~B}}function qc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Pm(){var s=ml;return ml<<=1,(ml&4194240)===0&&(ml=64),s}function Yc(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function Bo(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ur(a),s[a]=d}function eS(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var x=31-ur(d),b=1<<x;a[x]=0,m[x]=-1,s[x]=-1,d&=~b}}function Kc(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var m=31-ur(d),x=1<<m;x&a|s[m]&a&&(s[m]|=a),d&=~x}}var ot=0;function Am(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Rm,Gc,Om,Mm,Lm,Jc=!1,vl=[],oi=null,ai=null,li=null,Uo=new Map,Wo=new Map,ui=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dm(s,a){switch(s){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Uo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(a.pointerId)}}function Ho(s,a,d,m,x,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[x]},a!==null&&(a=ia(a),a!==null&&Gc(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),s)}function nS(s,a,d,m,x){switch(a){case"focusin":return oi=Ho(oi,s,a,d,m,x),!0;case"dragenter":return ai=Ho(ai,s,a,d,m,x),!0;case"mouseover":return li=Ho(li,s,a,d,m,x),!0;case"pointerover":var b=x.pointerId;return Uo.set(b,Ho(Uo.get(b)||null,s,a,d,m,x)),!0;case"gotpointercapture":return b=x.pointerId,Wo.set(b,Ho(Wo.get(b)||null,s,a,d,m,x)),!0}return!1}function $m(s){var a=Wi(s.target);if(a!==null){var d=Ui(a);if(d!==null){if(a=d.tag,a===13){if(a=Sm(d),a!==null){s.blockedOn=a,Lm(s.priority,function(){Om(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=Xc(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);Tt=m,d.target.dispatchEvent(m),Tt=null}else return a=ia(d),a!==null&&Gc(a),s.blockedOn=d,!1;a.shift()}return!0}function Fm(s,a,d){xl(s)&&d.delete(a)}function rS(){Jc=!1,oi!==null&&xl(oi)&&(oi=null),ai!==null&&xl(ai)&&(ai=null),li!==null&&xl(li)&&(li=null),Uo.forEach(Fm),Wo.forEach(Fm)}function Vo(s,a){s.blockedOn===a&&(s.blockedOn=null,Jc||(Jc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rS)))}function qo(s){function a(x){return Vo(x,s)}if(0<vl.length){Vo(vl[0],s);for(var d=1;d<vl.length;d++){var m=vl[d];m.blockedOn===s&&(m.blockedOn=null)}}for(oi!==null&&Vo(oi,s),ai!==null&&Vo(ai,s),li!==null&&Vo(li,s),Uo.forEach(a),Wo.forEach(a),d=0;d<ui.length;d++)m=ui[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<ui.length&&(d=ui[0],d.blockedOn===null);)$m(d),d.blockedOn===null&&ui.shift()}var Ns=P.ReactCurrentBatchConfig,wl=!0;function iS(s,a,d,m){var x=ot,b=Ns.transition;Ns.transition=null;try{ot=1,Qc(s,a,d,m)}finally{ot=x,Ns.transition=b}}function sS(s,a,d,m){var x=ot,b=Ns.transition;Ns.transition=null;try{ot=4,Qc(s,a,d,m)}finally{ot=x,Ns.transition=b}}function Qc(s,a,d,m){if(wl){var x=Xc(s,a,d,m);if(x===null)md(s,a,m,bl,d),Dm(s,m);else if(nS(x,s,a,d,m))m.stopPropagation();else if(Dm(s,m),a&4&&-1<tS.indexOf(s)){for(;x!==null;){var b=ia(x);if(b!==null&&Rm(b),b=Xc(s,a,d,m),b===null&&md(s,a,m,bl,d),b===x)break;x=b}x!==null&&m.stopPropagation()}else md(s,a,m,null,d)}}var bl=null;function Xc(s,a,d,m){if(bl=null,s=mn(m),s=Wi(s),s!==null)if(a=Ui(s),a===null)s=null;else if(d=a.tag,d===13){if(s=Sm(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return bl=s,null}function zm(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q1()){case Vc:return 1;case Tm:return 4;case hl:case Y1:return 16;case Im:return 536870912;default:return 16}default:return 16}}var ci=null,Zc=null,kl=null;function Bm(){if(kl)return kl;var s,a=Zc,d=a.length,m,x="value"in ci?ci.value:ci.textContent,b=x.length;for(s=0;s<d&&a[s]===x[s];s++);var T=d-s;for(m=1;m<=T&&a[d-m]===x[b-m];m++);return kl=x.slice(s,1<m?1-m:void 0)}function Sl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function El(){return!0}function Um(){return!1}function Fn(s){function a(d,m,x,b,T){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(d=s[B],this[B]=d?d(b):b[B]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?El:Um,this.isPropagationStopped=Um,this}return N(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),a}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=Fn(Ts),Yo=N({},Ts,{view:0,detail:0}),oS=Fn(Yo),td,nd,Ko,_l=N({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ko&&(Ko&&s.type==="mousemove"?(td=s.screenX-Ko.screenX,nd=s.screenY-Ko.screenY):nd=td=0,Ko=s),td)},movementY:function(s){return"movementY"in s?s.movementY:nd}}),Wm=Fn(_l),aS=N({},_l,{dataTransfer:0}),lS=Fn(aS),uS=N({},Yo,{relatedTarget:0}),rd=Fn(uS),cS=N({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),dS=Fn(cS),fS=N({},Ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),hS=Fn(fS),pS=N({},Ts,{data:0}),Hm=Fn(pS),mS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=yS[s])?!!a[s]:!1}function id(){return vS}var xS=N({},Yo,{key:function(s){if(s.key){var a=mS[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Sl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(s){return s.type==="keypress"?Sl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),wS=Fn(xS),bS=N({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vm=Fn(bS),kS=N({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),SS=Fn(kS),ES=N({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),_S=Fn(ES),CS=N({},_l,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),jS=Fn(CS),NS=[9,13,27,32],sd=u&&"CompositionEvent"in window,Go=null;u&&"documentMode"in document&&(Go=document.documentMode);var TS=u&&"TextEvent"in window&&!Go,qm=u&&(!sd||Go&&8<Go&&11>=Go),Ym=" ",Km=!1;function Gm(s,a){switch(s){case"keyup":return NS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Is=!1;function IS(s,a){switch(s){case"compositionend":return Jm(a);case"keypress":return a.which!==32?null:(Km=!0,Ym);case"textInput":return s=a.data,s===Ym&&Km?null:s;default:return null}}function PS(s,a){if(Is)return s==="compositionend"||!sd&&Gm(s,a)?(s=Bm(),kl=Zc=ci=null,Is=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qm&&a.locale!=="ko"?null:a.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!AS[s.type]:a==="textarea"}function Xm(s,a,d,m){rt(m),a=Il(a,"onChange"),0<a.length&&(d=new ed("onChange","change",null,d,m),s.push({event:d,listeners:a}))}var Jo=null,Qo=null;function RS(s){gg(s,0)}function Cl(s){var a=Ms(s);if(nt(a))return s}function OS(s,a){if(s==="change")return a}var Zm=!1;if(u){var od;if(u){var ad="oninput"in document;if(!ad){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),ad=typeof eg.oninput=="function"}od=ad}else od=!1;Zm=od&&(!document.documentMode||9<document.documentMode)}function tg(){Jo&&(Jo.detachEvent("onpropertychange",ng),Qo=Jo=null)}function ng(s){if(s.propertyName==="value"&&Cl(Qo)){var a=[];Xm(a,Qo,s,mn(s)),Wr(RS,a)}}function MS(s,a,d){s==="focusin"?(tg(),Jo=a,Qo=d,Jo.attachEvent("onpropertychange",ng)):s==="focusout"&&tg()}function LS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cl(Qo)}function DS(s,a){if(s==="click")return Cl(a)}function $S(s,a){if(s==="input"||s==="change")return Cl(a)}function FS(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var cr=typeof Object.is=="function"?Object.is:FS;function Xo(s,a){if(cr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!c.call(a,x)||!cr(s[x],a[x]))return!1}return!0}function rg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ig(s,a){var d=rg(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=a&&m>=a)return{node:d,offset:a-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=rg(d)}}function sg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?sg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function og(){for(var s=window,a=Je();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=Je(s.document)}return a}function ld(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function zS(s){var a=og(),d=s.focusedElem,m=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&sg(d.ownerDocument.documentElement,d)){if(m!==null&&ld(d)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var x=d.textContent.length,b=Math.min(m.start,x);m=m.end===void 0?b:Math.min(m.end,x),!s.extend&&b>m&&(x=m,m=b,b=x),x=ig(d,b);var T=ig(d,m);x&&T&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),s.removeAllRanges(),b>m?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var BS=u&&"documentMode"in document&&11>=document.documentMode,Ps=null,ud=null,Zo=null,cd=!1;function ag(s,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;cd||Ps==null||Ps!==Je(m)||(m=Ps,"selectionStart"in m&&ld(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zo&&Xo(Zo,m)||(Zo=m,m=Il(ud,"onSelect"),0<m.length&&(a=new ed("onSelect","select",null,a,d),s.push({event:a,listeners:m}),a.target=Ps)))}function jl(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var As={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},dd={},lg={};u&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Nl(s){if(dd[s])return dd[s];if(!As[s])return s;var a=As[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in lg)return dd[s]=a[d];return s}var ug=Nl("animationend"),cg=Nl("animationiteration"),dg=Nl("animationstart"),fg=Nl("transitionend"),hg=new Map,pg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(s,a){hg.set(s,a),o(a,[s])}for(var fd=0;fd<pg.length;fd++){var hd=pg[fd],US=hd.toLowerCase(),WS=hd[0].toUpperCase()+hd.slice(1);di(US,"on"+WS)}di(ug,"onAnimationEnd"),di(cg,"onAnimationIteration"),di(dg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(fg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function mg(s,a,d){var m=s.type||"unknown-event";s.currentTarget=d,U1(m,a,void 0,s),s.currentTarget=null}function gg(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],x=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var T=m.length-1;0<=T;T--){var B=m[T],H=B.instance,ie=B.currentTarget;if(B=B.listener,H!==b&&x.isPropagationStopped())break e;mg(x,B,ie),b=H}else for(T=0;T<m.length;T++){if(B=m[T],H=B.instance,ie=B.currentTarget,B=B.listener,H!==b&&x.isPropagationStopped())break e;mg(x,B,ie),b=H}}}if($n)throw s=Hr,$n=!1,Hr=null,s}function yt(s,a){var d=a[bd];d===void 0&&(d=a[bd]=new Set);var m=s+"__bubble";d.has(m)||(yg(a,s,2,!1),d.add(m))}function pd(s,a,d){var m=0;a&&(m|=4),yg(d,s,m,a)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function ta(s){if(!s[Tl]){s[Tl]=!0,r.forEach(function(d){d!=="selectionchange"&&(HS.has(d)||pd(d,!1,s),pd(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Tl]||(a[Tl]=!0,pd("selectionchange",!1,a))}}function yg(s,a,d,m){switch(zm(a)){case 1:var x=iS;break;case 4:x=sS;break;default:x=Qc}d=x.bind(null,a,d,s),x=void 0,!Jn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(a,d,{capture:!0,passive:x}):s.addEventListener(a,d,!0):x!==void 0?s.addEventListener(a,d,{passive:x}):s.addEventListener(a,d,!1)}function md(s,a,d,m,x){var b=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var B=m.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if(T===4)for(T=m.return;T!==null;){var H=T.tag;if((H===3||H===4)&&(H=T.stateNode.containerInfo,H===x||H.nodeType===8&&H.parentNode===x))return;T=T.return}for(;B!==null;){if(T=Wi(B),T===null)return;if(H=T.tag,H===5||H===6){m=b=T;continue e}B=B.parentNode}}m=m.return}Wr(function(){var ie=b,he=mn(d),pe=[];e:{var fe=hg.get(s);if(fe!==void 0){var Ce=ed,Ne=s;switch(s){case"keypress":if(Sl(d)===0)break e;case"keydown":case"keyup":Ce=wS;break;case"focusin":Ne="focus",Ce=rd;break;case"focusout":Ne="blur",Ce=rd;break;case"beforeblur":case"afterblur":Ce=rd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=lS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=SS;break;case ug:case cg:case dg:Ce=dS;break;case fg:Ce=_S;break;case"scroll":Ce=oS;break;case"wheel":Ce=jS;break;case"copy":case"cut":case"paste":Ce=hS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Vm}var Te=(a&4)!==0,Ot=!Te&&s==="scroll",ne=Te?fe!==null?fe+"Capture":null:fe;Te=[];for(var K=ie,re;K!==null;){re=K;var ye=re.stateNode;if(re.tag===5&&ye!==null&&(re=ye,ne!==null&&(ye=Et(K,ne),ye!=null&&Te.push(na(K,ye,re)))),Ot)break;K=K.return}0<Te.length&&(fe=new Ce(fe,Ne,null,d,he),pe.push({event:fe,listeners:Te}))}}if((a&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",fe&&d!==Tt&&(Ne=d.relatedTarget||d.fromElement)&&(Wi(Ne)||Ne[Vr]))break e;if((Ce||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ce?(Ne=d.relatedTarget||d.toElement,Ce=ie,Ne=Ne?Wi(Ne):null,Ne!==null&&(Ot=Ui(Ne),Ne!==Ot||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Ce=null,Ne=ie),Ce!==Ne)){if(Te=Wm,ye="onMouseLeave",ne="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Te=Vm,ye="onPointerLeave",ne="onPointerEnter",K="pointer"),Ot=Ce==null?fe:Ms(Ce),re=Ne==null?fe:Ms(Ne),fe=new Te(ye,K+"leave",Ce,d,he),fe.target=Ot,fe.relatedTarget=re,ye=null,Wi(he)===ie&&(Te=new Te(ne,K+"enter",Ne,d,he),Te.target=re,Te.relatedTarget=Ot,ye=Te),Ot=ye,Ce&&Ne)t:{for(Te=Ce,ne=Ne,K=0,re=Te;re;re=Rs(re))K++;for(re=0,ye=ne;ye;ye=Rs(ye))re++;for(;0<K-re;)Te=Rs(Te),K--;for(;0<re-K;)ne=Rs(ne),re--;for(;K--;){if(Te===ne||ne!==null&&Te===ne.alternate)break t;Te=Rs(Te),ne=Rs(ne)}Te=null}else Te=null;Ce!==null&&vg(pe,fe,Ce,Te,!1),Ne!==null&&Ot!==null&&vg(pe,Ot,Ne,Te,!0)}}e:{if(fe=ie?Ms(ie):window,Ce=fe.nodeName&&fe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&fe.type==="file")var Pe=OS;else if(Qm(fe))if(Zm)Pe=$S;else{Pe=LS;var Re=MS}else(Ce=fe.nodeName)&&Ce.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Pe=DS);if(Pe&&(Pe=Pe(s,ie))){Xm(pe,Pe,d,he);break e}Re&&Re(s,fe,ie),s==="focusout"&&(Re=fe._wrapperState)&&Re.controlled&&fe.type==="number"&&J(fe,"number",fe.value)}switch(Re=ie?Ms(ie):window,s){case"focusin":(Qm(Re)||Re.contentEditable==="true")&&(Ps=Re,ud=ie,Zo=null);break;case"focusout":Zo=ud=Ps=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,ag(pe,d,he);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":ag(pe,d,he)}var Oe;if(sd)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Is?Gm(s,d)&&(Fe="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Fe="onCompositionStart");Fe&&(qm&&d.locale!=="ko"&&(Is||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Is&&(Oe=Bm()):(ci=he,Zc="value"in ci?ci.value:ci.textContent,Is=!0)),Re=Il(ie,Fe),0<Re.length&&(Fe=new Hm(Fe,s,null,d,he),pe.push({event:Fe,listeners:Re}),Oe?Fe.data=Oe:(Oe=Jm(d),Oe!==null&&(Fe.data=Oe)))),(Oe=TS?IS(s,d):PS(s,d))&&(ie=Il(ie,"onBeforeInput"),0<ie.length&&(he=new Hm("onBeforeInput","beforeinput",null,d,he),pe.push({event:he,listeners:ie}),he.data=Oe))}gg(pe,a)})}function na(s,a,d){return{instance:s,listener:a,currentTarget:d}}function Il(s,a){for(var d=a+"Capture",m=[];s!==null;){var x=s,b=x.stateNode;x.tag===5&&b!==null&&(x=b,b=Et(s,d),b!=null&&m.unshift(na(s,b,x)),b=Et(s,a),b!=null&&m.push(na(s,b,x))),s=s.return}return m}function Rs(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function vg(s,a,d,m,x){for(var b=a._reactName,T=[];d!==null&&d!==m;){var B=d,H=B.alternate,ie=B.stateNode;if(H!==null&&H===m)break;B.tag===5&&ie!==null&&(B=ie,x?(H=Et(d,b),H!=null&&T.unshift(na(d,H,B))):x||(H=Et(d,b),H!=null&&T.push(na(d,H,B)))),d=d.return}T.length!==0&&s.push({event:a,listeners:T})}var VS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function xg(s){return(typeof s=="string"?s:""+s).replace(VS,`
`).replace(qS,"")}function Pl(s,a,d){if(a=xg(a),xg(s)!==a&&d)throw Error(n(425))}function Al(){}var gd=null,yd=null;function vd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var xd=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(s){return wg.resolve(null).then(s).catch(GS)}:xd;function GS(s){setTimeout(function(){throw s})}function wd(s,a){var d=a,m=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){s.removeChild(x),qo(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);qo(a)}function fi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function bg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var Os=Math.random().toString(36).slice(2),jr="__reactFiber$"+Os,ra="__reactProps$"+Os,Vr="__reactContainer$"+Os,bd="__reactEvents$"+Os,JS="__reactListeners$"+Os,QS="__reactHandles$"+Os;function Wi(s){var a=s[jr];if(a)return a;for(var d=s.parentNode;d;){if(a=d[Vr]||d[jr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=bg(s);s!==null;){if(d=s[jr])return d;s=bg(s)}return a}s=d,d=s.parentNode}return null}function ia(s){return s=s[jr]||s[Vr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ms(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Rl(s){return s[ra]||null}var kd=[],Ls=-1;function hi(s){return{current:s}}function vt(s){0>Ls||(s.current=kd[Ls],kd[Ls]=null,Ls--)}function dt(s,a){Ls++,kd[Ls]=s.current,s.current=a}var pi={},sn=hi(pi),Cn=hi(!1),Hi=pi;function Ds(s,a){var d=s.type.contextTypes;if(!d)return pi;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var x={},b;for(b in d)x[b]=a[b];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=x),x}function jn(s){return s=s.childContextTypes,s!=null}function Ol(){vt(Cn),vt(sn)}function kg(s,a,d){if(sn.current!==pi)throw Error(n(168));dt(sn,a),dt(Cn,d)}function Sg(s,a,d){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in a))throw Error(n(108,we(s)||"Unknown",x));return N({},d,m)}function Ml(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||pi,Hi=sn.current,dt(sn,s),dt(Cn,Cn.current),!0}function Eg(s,a,d){var m=s.stateNode;if(!m)throw Error(n(169));d?(s=Sg(s,a,Hi),m.__reactInternalMemoizedMergedChildContext=s,vt(Cn),vt(sn),dt(sn,s)):vt(Cn),dt(Cn,d)}var qr=null,Ll=!1,Sd=!1;function _g(s){qr===null?qr=[s]:qr.push(s)}function XS(s){Ll=!0,_g(s)}function mi(){if(!Sd&&qr!==null){Sd=!0;var s=0,a=ot;try{var d=qr;for(ot=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}qr=null,Ll=!1}catch(x){throw qr!==null&&(qr=qr.slice(s+1)),jm(Vc,mi),x}finally{ot=a,Sd=!1}}return null}var $s=[],Fs=0,Dl=null,$l=0,Qn=[],Xn=0,Vi=null,Yr=1,Kr="";function qi(s,a){$s[Fs++]=$l,$s[Fs++]=Dl,Dl=s,$l=a}function Cg(s,a,d){Qn[Xn++]=Yr,Qn[Xn++]=Kr,Qn[Xn++]=Vi,Vi=s;var m=Yr;s=Kr;var x=32-ur(m)-1;m&=~(1<<x),d+=1;var b=32-ur(a)+x;if(30<b){var T=x-x%5;b=(m&(1<<T)-1).toString(32),m>>=T,x-=T,Yr=1<<32-ur(a)+x|d<<x|m,Kr=b+s}else Yr=1<<b|d<<x|m,Kr=s}function Ed(s){s.return!==null&&(qi(s,1),Cg(s,1,0))}function _d(s){for(;s===Dl;)Dl=$s[--Fs],$s[Fs]=null,$l=$s[--Fs],$s[Fs]=null;for(;s===Vi;)Vi=Qn[--Xn],Qn[Xn]=null,Kr=Qn[--Xn],Qn[Xn]=null,Yr=Qn[--Xn],Qn[Xn]=null}var zn=null,Bn=null,kt=!1,dr=null;function jg(s,a){var d=nr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function Ng(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,zn=s,Bn=fi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,zn=s,Bn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Vi!==null?{id:Yr,overflow:Kr}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=nr(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,zn=s,Bn=null,!0):!1;default:return!1}}function Cd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function jd(s){if(kt){var a=Bn;if(a){var d=a;if(!Ng(s,a)){if(Cd(s))throw Error(n(418));a=fi(d.nextSibling);var m=zn;a&&Ng(s,a)?jg(m,d):(s.flags=s.flags&-4097|2,kt=!1,zn=s)}}else{if(Cd(s))throw Error(n(418));s.flags=s.flags&-4097|2,kt=!1,zn=s}}}function Tg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zn=s}function Fl(s){if(s!==zn)return!1;if(!kt)return Tg(s),kt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!vd(s.type,s.memoizedProps)),a&&(a=Bn)){if(Cd(s))throw Ig(),Error(n(418));for(;a;)jg(s,a),a=fi(a.nextSibling)}if(Tg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){Bn=fi(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}Bn=null}}else Bn=zn?fi(s.stateNode.nextSibling):null;return!0}function Ig(){for(var s=Bn;s;)s=fi(s.nextSibling)}function zs(){Bn=zn=null,kt=!1}function Nd(s){dr===null?dr=[s]:dr.push(s)}var ZS=P.ReactCurrentBatchConfig;function sa(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,s));var x=m,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(T){var B=x.refs;T===null?delete B[b]:B[b]=T},a._stringRef=b,a)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function zl(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Pg(s){var a=s._init;return a(s._payload)}function Ag(s){function a(ne,K){if(s){var re=ne.deletions;re===null?(ne.deletions=[K],ne.flags|=16):re.push(K)}}function d(ne,K){if(!s)return null;for(;K!==null;)a(ne,K),K=K.sibling;return null}function m(ne,K){for(ne=new Map;K!==null;)K.key!==null?ne.set(K.key,K):ne.set(K.index,K),K=K.sibling;return ne}function x(ne,K){return ne=Si(ne,K),ne.index=0,ne.sibling=null,ne}function b(ne,K,re){return ne.index=re,s?(re=ne.alternate,re!==null?(re=re.index,re<K?(ne.flags|=2,K):re):(ne.flags|=2,K)):(ne.flags|=1048576,K)}function T(ne){return s&&ne.alternate===null&&(ne.flags|=2),ne}function B(ne,K,re,ye){return K===null||K.tag!==6?(K=wf(re,ne.mode,ye),K.return=ne,K):(K=x(K,re),K.return=ne,K)}function H(ne,K,re,ye){var Pe=re.type;return Pe===F?he(ne,K,re.props.children,ye,re.key):K!==null&&(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===W&&Pg(Pe)===K.type)?(ye=x(K,re.props),ye.ref=sa(ne,K,re),ye.return=ne,ye):(ye=cu(re.type,re.key,re.props,null,ne.mode,ye),ye.ref=sa(ne,K,re),ye.return=ne,ye)}function ie(ne,K,re,ye){return K===null||K.tag!==4||K.stateNode.containerInfo!==re.containerInfo||K.stateNode.implementation!==re.implementation?(K=bf(re,ne.mode,ye),K.return=ne,K):(K=x(K,re.children||[]),K.return=ne,K)}function he(ne,K,re,ye,Pe){return K===null||K.tag!==7?(K=es(re,ne.mode,ye,Pe),K.return=ne,K):(K=x(K,re),K.return=ne,K)}function pe(ne,K,re){if(typeof K=="string"&&K!==""||typeof K=="number")return K=wf(""+K,ne.mode,re),K.return=ne,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case M:return re=cu(K.type,K.key,K.props,null,ne.mode,re),re.ref=sa(ne,null,K),re.return=ne,re;case A:return K=bf(K,ne.mode,re),K.return=ne,K;case W:var ye=K._init;return pe(ne,ye(K._payload),re)}if(oe(K)||q(K))return K=es(K,ne.mode,re,null),K.return=ne,K;zl(ne,K)}return null}function fe(ne,K,re,ye){var Pe=K!==null?K.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Pe!==null?null:B(ne,K,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case M:return re.key===Pe?H(ne,K,re,ye):null;case A:return re.key===Pe?ie(ne,K,re,ye):null;case W:return Pe=re._init,fe(ne,K,Pe(re._payload),ye)}if(oe(re)||q(re))return Pe!==null?null:he(ne,K,re,ye,null);zl(ne,re)}return null}function Ce(ne,K,re,ye,Pe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ne=ne.get(re)||null,B(K,ne,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case M:return ne=ne.get(ye.key===null?re:ye.key)||null,H(K,ne,ye,Pe);case A:return ne=ne.get(ye.key===null?re:ye.key)||null,ie(K,ne,ye,Pe);case W:var Re=ye._init;return Ce(ne,K,re,Re(ye._payload),Pe)}if(oe(ye)||q(ye))return ne=ne.get(re)||null,he(K,ne,ye,Pe,null);zl(K,ye)}return null}function Ne(ne,K,re,ye){for(var Pe=null,Re=null,Oe=K,Fe=K=0,Gt=null;Oe!==null&&Fe<re.length;Fe++){Oe.index>Fe?(Gt=Oe,Oe=null):Gt=Oe.sibling;var tt=fe(ne,Oe,re[Fe],ye);if(tt===null){Oe===null&&(Oe=Gt);break}s&&Oe&&tt.alternate===null&&a(ne,Oe),K=b(tt,K,Fe),Re===null?Pe=tt:Re.sibling=tt,Re=tt,Oe=Gt}if(Fe===re.length)return d(ne,Oe),kt&&qi(ne,Fe),Pe;if(Oe===null){for(;Fe<re.length;Fe++)Oe=pe(ne,re[Fe],ye),Oe!==null&&(K=b(Oe,K,Fe),Re===null?Pe=Oe:Re.sibling=Oe,Re=Oe);return kt&&qi(ne,Fe),Pe}for(Oe=m(ne,Oe);Fe<re.length;Fe++)Gt=Ce(Oe,ne,Fe,re[Fe],ye),Gt!==null&&(s&&Gt.alternate!==null&&Oe.delete(Gt.key===null?Fe:Gt.key),K=b(Gt,K,Fe),Re===null?Pe=Gt:Re.sibling=Gt,Re=Gt);return s&&Oe.forEach(function(Ei){return a(ne,Ei)}),kt&&qi(ne,Fe),Pe}function Te(ne,K,re,ye){var Pe=q(re);if(typeof Pe!="function")throw Error(n(150));if(re=Pe.call(re),re==null)throw Error(n(151));for(var Re=Pe=null,Oe=K,Fe=K=0,Gt=null,tt=re.next();Oe!==null&&!tt.done;Fe++,tt=re.next()){Oe.index>Fe?(Gt=Oe,Oe=null):Gt=Oe.sibling;var Ei=fe(ne,Oe,tt.value,ye);if(Ei===null){Oe===null&&(Oe=Gt);break}s&&Oe&&Ei.alternate===null&&a(ne,Oe),K=b(Ei,K,Fe),Re===null?Pe=Ei:Re.sibling=Ei,Re=Ei,Oe=Gt}if(tt.done)return d(ne,Oe),kt&&qi(ne,Fe),Pe;if(Oe===null){for(;!tt.done;Fe++,tt=re.next())tt=pe(ne,tt.value,ye),tt!==null&&(K=b(tt,K,Fe),Re===null?Pe=tt:Re.sibling=tt,Re=tt);return kt&&qi(ne,Fe),Pe}for(Oe=m(ne,Oe);!tt.done;Fe++,tt=re.next())tt=Ce(Oe,ne,Fe,tt.value,ye),tt!==null&&(s&&tt.alternate!==null&&Oe.delete(tt.key===null?Fe:tt.key),K=b(tt,K,Fe),Re===null?Pe=tt:Re.sibling=tt,Re=tt);return s&&Oe.forEach(function(AE){return a(ne,AE)}),kt&&qi(ne,Fe),Pe}function Ot(ne,K,re,ye){if(typeof re=="object"&&re!==null&&re.type===F&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case M:e:{for(var Pe=re.key,Re=K;Re!==null;){if(Re.key===Pe){if(Pe=re.type,Pe===F){if(Re.tag===7){d(ne,Re.sibling),K=x(Re,re.props.children),K.return=ne,ne=K;break e}}else if(Re.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===W&&Pg(Pe)===Re.type){d(ne,Re.sibling),K=x(Re,re.props),K.ref=sa(ne,Re,re),K.return=ne,ne=K;break e}d(ne,Re);break}else a(ne,Re);Re=Re.sibling}re.type===F?(K=es(re.props.children,ne.mode,ye,re.key),K.return=ne,ne=K):(ye=cu(re.type,re.key,re.props,null,ne.mode,ye),ye.ref=sa(ne,K,re),ye.return=ne,ne=ye)}return T(ne);case A:e:{for(Re=re.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===re.containerInfo&&K.stateNode.implementation===re.implementation){d(ne,K.sibling),K=x(K,re.children||[]),K.return=ne,ne=K;break e}else{d(ne,K);break}else a(ne,K);K=K.sibling}K=bf(re,ne.mode,ye),K.return=ne,ne=K}return T(ne);case W:return Re=re._init,Ot(ne,K,Re(re._payload),ye)}if(oe(re))return Ne(ne,K,re,ye);if(q(re))return Te(ne,K,re,ye);zl(ne,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,K!==null&&K.tag===6?(d(ne,K.sibling),K=x(K,re),K.return=ne,ne=K):(d(ne,K),K=wf(re,ne.mode,ye),K.return=ne,ne=K),T(ne)):d(ne,K)}return Ot}var Bs=Ag(!0),Rg=Ag(!1),Bl=hi(null),Ul=null,Us=null,Td=null;function Id(){Td=Us=Ul=null}function Pd(s){var a=Bl.current;vt(Bl),s._currentValue=a}function Ad(s,a,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===d)break;s=s.return}}function Ws(s,a){Ul=s,Td=Us=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Nn=!0),s.firstContext=null)}function Zn(s){var a=s._currentValue;if(Td!==s)if(s={context:s,memoizedValue:a,next:null},Us===null){if(Ul===null)throw Error(n(308));Us=s,Ul.dependencies={lanes:0,firstContext:s}}else Us=Us.next=s;return a}var Yi=null;function Rd(s){Yi===null?Yi=[s]:Yi.push(s)}function Og(s,a,d,m){var x=a.interleaved;return x===null?(d.next=d,Rd(a)):(d.next=x.next,x.next=d),a.interleaved=d,Gr(s,m)}function Gr(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var gi=!1;function Od(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Jr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function yi(s,a,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Xe&2)!==0){var x=m.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),m.pending=a,Gr(s,d)}return x=m.interleaved,x===null?(a.next=a,Rd(m)):(a.next=x.next,x.next=a),m.interleaved=a,Gr(s,d)}function Wl(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Kc(s,d)}}function Lg(s,a){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var T={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?x=b=T:b=b.next=T,d=d.next}while(d!==null);b===null?x=b=a:b=b.next=a}else x=b=a;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function Hl(s,a,d,m){var x=s.updateQueue;gi=!1;var b=x.firstBaseUpdate,T=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var H=B,ie=H.next;H.next=null,T===null?b=ie:T.next=ie,T=H;var he=s.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==T&&(B===null?he.firstBaseUpdate=ie:B.next=ie,he.lastBaseUpdate=H))}if(b!==null){var pe=x.baseState;T=0,he=ie=H=null,B=b;do{var fe=B.lane,Ce=B.eventTime;if((m&fe)===fe){he!==null&&(he=he.next={eventTime:Ce,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ne=s,Te=B;switch(fe=a,Ce=d,Te.tag){case 1:if(Ne=Te.payload,typeof Ne=="function"){pe=Ne.call(Ce,pe,fe);break e}pe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Te.payload,fe=typeof Ne=="function"?Ne.call(Ce,pe,fe):Ne,fe==null)break e;pe=N({},pe,fe);break e;case 2:gi=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,fe=x.effects,fe===null?x.effects=[B]:fe.push(B))}else Ce={eventTime:Ce,lane:fe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(ie=he=Ce,H=pe):he=he.next=Ce,T|=fe;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;fe=B,B=fe.next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}while(!0);if(he===null&&(H=pe),x.baseState=H,x.firstBaseUpdate=ie,x.lastBaseUpdate=he,a=x.shared.interleaved,a!==null){x=a;do T|=x.lane,x=x.next;while(x!==a)}else b===null&&(x.shared.lanes=0);Ji|=T,s.lanes=T,s.memoizedState=pe}}function Dg(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var oa={},Nr=hi(oa),aa=hi(oa),la=hi(oa);function Ki(s){if(s===oa)throw Error(n(174));return s}function Md(s,a){switch(dt(la,a),dt(aa,s),dt(Nr,oa),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ee(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ee(a,s)}vt(Nr),dt(Nr,a)}function Hs(){vt(Nr),vt(aa),vt(la)}function $g(s){Ki(la.current);var a=Ki(Nr.current),d=ee(a,s.type);a!==d&&(dt(aa,s),dt(Nr,d))}function Ld(s){aa.current===s&&(vt(Nr),vt(aa))}var _t=hi(0);function Vl(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dd=[];function $d(){for(var s=0;s<Dd.length;s++)Dd[s]._workInProgressVersionPrimary=null;Dd.length=0}var ql=P.ReactCurrentDispatcher,Fd=P.ReactCurrentBatchConfig,Gi=0,Ct=null,Wt=null,Yt=null,Yl=!1,ua=!1,ca=0,eE=0;function on(){throw Error(n(321))}function zd(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!cr(s[d],a[d]))return!1;return!0}function Bd(s,a,d,m,x,b){if(Gi=b,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ql.current=s===null||s.memoizedState===null?iE:sE,s=d(m,x),ua){b=0;do{if(ua=!1,ca=0,25<=b)throw Error(n(301));b+=1,Yt=Wt=null,a.updateQueue=null,ql.current=oE,s=d(m,x)}while(ua)}if(ql.current=Jl,a=Wt!==null&&Wt.next!==null,Gi=0,Yt=Wt=Ct=null,Yl=!1,a)throw Error(n(300));return s}function Ud(){var s=ca!==0;return ca=0,s}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ct.memoizedState=Yt=s:Yt=Yt.next=s,Yt}function er(){if(Wt===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Wt.next;var a=Yt===null?Ct.memoizedState:Yt.next;if(a!==null)Yt=a,Wt=s;else{if(s===null)throw Error(n(310));Wt=s,s={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Yt===null?Ct.memoizedState=Yt=s:Yt=Yt.next=s}return Yt}function da(s,a){return typeof a=="function"?a(s):a}function Wd(s){var a=er(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=Wt,x=m.baseQueue,b=d.pending;if(b!==null){if(x!==null){var T=x.next;x.next=b.next,b.next=T}m.baseQueue=x=b,d.pending=null}if(x!==null){b=x.next,m=m.baseState;var B=T=null,H=null,ie=b;do{var he=ie.lane;if((Gi&he)===he)H!==null&&(H=H.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),m=ie.hasEagerState?ie.eagerState:s(m,ie.action);else{var pe={lane:he,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};H===null?(B=H=pe,T=m):H=H.next=pe,Ct.lanes|=he,Ji|=he}ie=ie.next}while(ie!==null&&ie!==b);H===null?T=m:H.next=B,cr(m,a.memoizedState)||(Nn=!0),a.memoizedState=m,a.baseState=T,a.baseQueue=H,d.lastRenderedState=m}if(s=d.interleaved,s!==null){x=s;do b=x.lane,Ct.lanes|=b,Ji|=b,x=x.next;while(x!==s)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Hd(s){var a=er(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=d.dispatch,x=d.pending,b=a.memoizedState;if(x!==null){d.pending=null;var T=x=x.next;do b=s(b,T.action),T=T.next;while(T!==x);cr(b,a.memoizedState)||(Nn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),d.lastRenderedState=b}return[b,m]}function Fg(){}function zg(s,a){var d=Ct,m=er(),x=a(),b=!cr(m.memoizedState,x);if(b&&(m.memoizedState=x,Nn=!0),m=m.queue,Vd(Wg.bind(null,d,m,s),[s]),m.getSnapshot!==a||b||Yt!==null&&Yt.memoizedState.tag&1){if(d.flags|=2048,fa(9,Ug.bind(null,d,m,x,a),void 0,null),Kt===null)throw Error(n(349));(Gi&30)!==0||Bg(d,a,x)}return x}function Bg(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function Ug(s,a,d,m){a.value=d,a.getSnapshot=m,Hg(a)&&Vg(s)}function Wg(s,a,d){return d(function(){Hg(a)&&Vg(s)})}function Hg(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!cr(s,d)}catch{return!0}}function Vg(s){var a=Gr(s,1);a!==null&&mr(a,s,1,-1)}function qg(s){var a=Tr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:s},a.queue=s,s=s.dispatch=rE.bind(null,Ct,s),[a.memoizedState,s]}function fa(s,a,d,m){return s={tag:s,create:a,destroy:d,deps:m,next:null},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,a.lastEffect=s)),s}function Yg(){return er().memoizedState}function Kl(s,a,d,m){var x=Tr();Ct.flags|=s,x.memoizedState=fa(1|a,d,void 0,m===void 0?null:m)}function Gl(s,a,d,m){var x=er();m=m===void 0?null:m;var b=void 0;if(Wt!==null){var T=Wt.memoizedState;if(b=T.destroy,m!==null&&zd(m,T.deps)){x.memoizedState=fa(a,d,b,m);return}}Ct.flags|=s,x.memoizedState=fa(1|a,d,b,m)}function Kg(s,a){return Kl(8390656,8,s,a)}function Vd(s,a){return Gl(2048,8,s,a)}function Gg(s,a){return Gl(4,2,s,a)}function Jg(s,a){return Gl(4,4,s,a)}function Qg(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Xg(s,a,d){return d=d!=null?d.concat([s]):null,Gl(4,4,Qg.bind(null,a,s),d)}function qd(){}function Zg(s,a){var d=er();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&zd(a,m[1])?m[0]:(d.memoizedState=[s,a],s)}function ey(s,a){var d=er();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&zd(a,m[1])?m[0]:(s=s(),d.memoizedState=[s,a],s)}function ty(s,a,d){return(Gi&21)===0?(s.baseState&&(s.baseState=!1,Nn=!0),s.memoizedState=d):(cr(d,a)||(d=Pm(),Ct.lanes|=d,Ji|=d,s.baseState=!0),a)}function tE(s,a){var d=ot;ot=d!==0&&4>d?d:4,s(!0);var m=Fd.transition;Fd.transition={};try{s(!1),a()}finally{ot=d,Fd.transition=m}}function ny(){return er().memoizedState}function nE(s,a,d){var m=bi(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},ry(s))iy(a,d);else if(d=Og(s,a,d,m),d!==null){var x=vn();mr(d,s,m,x),sy(d,a,m)}}function rE(s,a,d){var m=bi(s),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(ry(s))iy(a,x);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var T=a.lastRenderedState,B=b(T,d);if(x.hasEagerState=!0,x.eagerState=B,cr(B,T)){var H=a.interleaved;H===null?(x.next=x,Rd(a)):(x.next=H.next,H.next=x),a.interleaved=x;return}}catch{}finally{}d=Og(s,a,x,m),d!==null&&(x=vn(),mr(d,s,m,x),sy(d,a,m))}}function ry(s){var a=s.alternate;return s===Ct||a!==null&&a===Ct}function iy(s,a){ua=Yl=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function sy(s,a,d){if((d&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Kc(s,d)}}var Jl={readContext:Zn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},iE={readContext:Zn,useCallback:function(s,a){return Tr().memoizedState=[s,a===void 0?null:a],s},useContext:Zn,useEffect:Kg,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,Kl(4194308,4,Qg.bind(null,a,s),d)},useLayoutEffect:function(s,a){return Kl(4194308,4,s,a)},useInsertionEffect:function(s,a){return Kl(4,2,s,a)},useMemo:function(s,a){var d=Tr();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var m=Tr();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=nE.bind(null,Ct,s),[m.memoizedState,s]},useRef:function(s){var a=Tr();return s={current:s},a.memoizedState=s},useState:qg,useDebugValue:qd,useDeferredValue:function(s){return Tr().memoizedState=s},useTransition:function(){var s=qg(!1),a=s[0];return s=tE.bind(null,s[1]),Tr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var m=Ct,x=Tr();if(kt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),Kt===null)throw Error(n(349));(Gi&30)!==0||Bg(m,a,d)}x.memoizedState=d;var b={value:d,getSnapshot:a};return x.queue=b,Kg(Wg.bind(null,m,b,s),[s]),m.flags|=2048,fa(9,Ug.bind(null,m,b,d,a),void 0,null),d},useId:function(){var s=Tr(),a=Kt.identifierPrefix;if(kt){var d=Kr,m=Yr;d=(m&~(1<<32-ur(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=ca++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=eE++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},sE={readContext:Zn,useCallback:Zg,useContext:Zn,useEffect:Vd,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Jg,useMemo:ey,useReducer:Wd,useRef:Yg,useState:function(){return Wd(da)},useDebugValue:qd,useDeferredValue:function(s){var a=er();return ty(a,Wt.memoizedState,s)},useTransition:function(){var s=Wd(da)[0],a=er().memoizedState;return[s,a]},useMutableSource:Fg,useSyncExternalStore:zg,useId:ny,unstable_isNewReconciler:!1},oE={readContext:Zn,useCallback:Zg,useContext:Zn,useEffect:Vd,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Jg,useMemo:ey,useReducer:Hd,useRef:Yg,useState:function(){return Hd(da)},useDebugValue:qd,useDeferredValue:function(s){var a=er();return Wt===null?a.memoizedState=s:ty(a,Wt.memoizedState,s)},useTransition:function(){var s=Hd(da)[0],a=er().memoizedState;return[s,a]},useMutableSource:Fg,useSyncExternalStore:zg,useId:ny,unstable_isNewReconciler:!1};function fr(s,a){if(s&&s.defaultProps){a=N({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function Yd(s,a,d,m){a=s.memoizedState,d=d(m,a),d=d==null?a:N({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ql={isMounted:function(s){return(s=s._reactInternals)?Ui(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var m=vn(),x=bi(s),b=Jr(m,x);b.payload=a,d!=null&&(b.callback=d),a=yi(s,b,x),a!==null&&(mr(a,s,x,m),Wl(a,s,x))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var m=vn(),x=bi(s),b=Jr(m,x);b.tag=1,b.payload=a,d!=null&&(b.callback=d),a=yi(s,b,x),a!==null&&(mr(a,s,x,m),Wl(a,s,x))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=vn(),m=bi(s),x=Jr(d,m);x.tag=2,a!=null&&(x.callback=a),a=yi(s,x,m),a!==null&&(mr(a,s,m,d),Wl(a,s,m))}};function oy(s,a,d,m,x,b,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,T):a.prototype&&a.prototype.isPureReactComponent?!Xo(d,m)||!Xo(x,b):!0}function ay(s,a,d){var m=!1,x=pi,b=a.contextType;return typeof b=="object"&&b!==null?b=Zn(b):(x=jn(a)?Hi:sn.current,m=a.contextTypes,b=(m=m!=null)?Ds(s,x):pi),a=new a(d,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ql,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=b),a}function ly(s,a,d,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==s&&Ql.enqueueReplaceState(a,a.state,null)}function Kd(s,a,d,m){var x=s.stateNode;x.props=d,x.state=s.memoizedState,x.refs={},Od(s);var b=a.contextType;typeof b=="object"&&b!==null?x.context=Zn(b):(b=jn(a)?Hi:sn.current,x.context=Ds(s,b)),x.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Yd(s,a,b,d),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Ql.enqueueReplaceState(x,x.state,null),Hl(s,d,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Vs(s,a){try{var d="",m=a;do d+=le(m),m=m.return;while(m);var x=d}catch(b){x=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:x,digest:null}}function Gd(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function Jd(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var aE=typeof WeakMap=="function"?WeakMap:Map;function uy(s,a,d){d=Jr(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){iu||(iu=!0,ff=m),Jd(s,a)},d}function cy(s,a,d){d=Jr(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=a.value;d.payload=function(){return m(x)},d.callback=function(){Jd(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Jd(s,a),typeof m!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),d}function dy(s,a,d){var m=s.pingCache;if(m===null){m=s.pingCache=new aE;var x=new Set;m.set(a,x)}else x=m.get(a),x===void 0&&(x=new Set,m.set(a,x));x.has(d)||(x.add(d),s=bE.bind(null,s,a,d),a.then(s,s))}function fy(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function hy(s,a,d,m,x){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Jr(-1,1),a.tag=2,yi(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var lE=P.ReactCurrentOwner,Nn=!1;function yn(s,a,d,m){a.child=s===null?Rg(a,null,d,m):Bs(a,s.child,d,m)}function py(s,a,d,m,x){d=d.render;var b=a.ref;return Ws(a,x),m=Bd(s,a,d,m,b,x),d=Ud(),s!==null&&!Nn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Qr(s,a,x)):(kt&&d&&Ed(a),a.flags|=1,yn(s,a,m,x),a.child)}function my(s,a,d,m,x){if(s===null){var b=d.type;return typeof b=="function"&&!xf(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=b,gy(s,a,b,m,x)):(s=cu(d.type,null,m,a,a.mode,x),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,(s.lanes&x)===0){var T=b.memoizedProps;if(d=d.compare,d=d!==null?d:Xo,d(T,m)&&s.ref===a.ref)return Qr(s,a,x)}return a.flags|=1,s=Si(b,m),s.ref=a.ref,s.return=a,a.child=s}function gy(s,a,d,m,x){if(s!==null){var b=s.memoizedProps;if(Xo(b,m)&&s.ref===a.ref)if(Nn=!1,a.pendingProps=m=b,(s.lanes&x)!==0)(s.flags&131072)!==0&&(Nn=!0);else return a.lanes=s.lanes,Qr(s,a,x)}return Qd(s,a,d,m,x)}function yy(s,a,d){var m=a.pendingProps,x=m.children,b=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Ys,Un),Un|=d;else{if((d&1073741824)===0)return s=b!==null?b.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,dt(Ys,Un),Un|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:d,dt(Ys,Un),Un|=m}else b!==null?(m=b.baseLanes|d,a.memoizedState=null):m=d,dt(Ys,Un),Un|=m;return yn(s,a,x,d),a.child}function vy(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Qd(s,a,d,m,x){var b=jn(d)?Hi:sn.current;return b=Ds(a,b),Ws(a,x),d=Bd(s,a,d,m,b,x),m=Ud(),s!==null&&!Nn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Qr(s,a,x)):(kt&&m&&Ed(a),a.flags|=1,yn(s,a,d,x),a.child)}function xy(s,a,d,m,x){if(jn(d)){var b=!0;Ml(a)}else b=!1;if(Ws(a,x),a.stateNode===null)Zl(s,a),ay(a,d,m),Kd(a,d,m,x),m=!0;else if(s===null){var T=a.stateNode,B=a.memoizedProps;T.props=B;var H=T.context,ie=d.contextType;typeof ie=="object"&&ie!==null?ie=Zn(ie):(ie=jn(d)?Hi:sn.current,ie=Ds(a,ie));var he=d.getDerivedStateFromProps,pe=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function";pe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==m||H!==ie)&&ly(a,T,m,ie),gi=!1;var fe=a.memoizedState;T.state=fe,Hl(a,m,T,x),H=a.memoizedState,B!==m||fe!==H||Cn.current||gi?(typeof he=="function"&&(Yd(a,d,he,m),H=a.memoizedState),(B=gi||oy(a,d,B,m,fe,H,ie))?(pe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),T.props=m,T.state=H,T.context=ie,m=B):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{T=a.stateNode,Mg(s,a),B=a.memoizedProps,ie=a.type===a.elementType?B:fr(a.type,B),T.props=ie,pe=a.pendingProps,fe=T.context,H=d.contextType,typeof H=="object"&&H!==null?H=Zn(H):(H=jn(d)?Hi:sn.current,H=Ds(a,H));var Ce=d.getDerivedStateFromProps;(he=typeof Ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==pe||fe!==H)&&ly(a,T,m,H),gi=!1,fe=a.memoizedState,T.state=fe,Hl(a,m,T,x);var Ne=a.memoizedState;B!==pe||fe!==Ne||Cn.current||gi?(typeof Ce=="function"&&(Yd(a,d,Ce,m),Ne=a.memoizedState),(ie=gi||oy(a,d,ie,m,fe,Ne,H)||!1)?(he||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,Ne,H),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,Ne,H)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Ne),T.props=m,T.state=Ne,T.context=H,m=ie):(typeof T.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),m=!1)}return Xd(s,a,d,m,b,x)}function Xd(s,a,d,m,x,b){vy(s,a);var T=(a.flags&128)!==0;if(!m&&!T)return x&&Eg(a,d,!1),Qr(s,a,b);m=a.stateNode,lE.current=a;var B=T&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&T?(a.child=Bs(a,s.child,null,b),a.child=Bs(a,null,B,b)):yn(s,a,B,b),a.memoizedState=m.state,x&&Eg(a,d,!0),a.child}function wy(s){var a=s.stateNode;a.pendingContext?kg(s,a.pendingContext,a.pendingContext!==a.context):a.context&&kg(s,a.context,!1),Md(s,a.containerInfo)}function by(s,a,d,m,x){return zs(),Nd(x),a.flags|=256,yn(s,a,d,m),a.child}var Zd={dehydrated:null,treeContext:null,retryLane:0};function ef(s){return{baseLanes:s,cachePool:null,transitions:null}}function ky(s,a,d){var m=a.pendingProps,x=_t.current,b=!1,T=(a.flags&128)!==0,B;if((B=T)||(B=s!==null&&s.memoizedState===null?!1:(x&2)!==0),B?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),dt(_t,x&1),s===null)return jd(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=m.children,s=m.fallback,b?(m=a.mode,b=a.child,T={mode:"hidden",children:T},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=T):b=du(T,m,0,null),s=es(s,m,d,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=ef(d),a.memoizedState=Zd,s):tf(a,T));if(x=s.memoizedState,x!==null&&(B=x.dehydrated,B!==null))return uE(s,a,T,m,B,x,d);if(b){b=m.fallback,T=a.mode,x=s.child,B=x.sibling;var H={mode:"hidden",children:m.children};return(T&1)===0&&a.child!==x?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=Si(x,H),m.subtreeFlags=x.subtreeFlags&14680064),B!==null?b=Si(B,b):(b=es(b,T,d,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,T=s.child.memoizedState,T=T===null?ef(d):{baseLanes:T.baseLanes|d,cachePool:null,transitions:T.transitions},b.memoizedState=T,b.childLanes=s.childLanes&~d,a.memoizedState=Zd,m}return b=s.child,s=b.sibling,m=Si(b,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=m,a.memoizedState=null,m}function tf(s,a){return a=du({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Xl(s,a,d,m){return m!==null&&Nd(m),Bs(a,s.child,null,d),s=tf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function uE(s,a,d,m,x,b,T){if(d)return a.flags&256?(a.flags&=-257,m=Gd(Error(n(422))),Xl(s,a,T,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=m.fallback,x=a.mode,m=du({mode:"visible",children:m.children},x,0,null),b=es(b,x,T,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,(a.mode&1)!==0&&Bs(a,s.child,null,T),a.child.memoizedState=ef(T),a.memoizedState=Zd,b);if((a.mode&1)===0)return Xl(s,a,T,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var B=m.dgst;return m=B,b=Error(n(419)),m=Gd(b,m,void 0),Xl(s,a,T,m)}if(B=(T&s.childLanes)!==0,Nn||B){if(m=Kt,m!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|T))!==0?0:x,x!==0&&x!==b.retryLane&&(b.retryLane=x,Gr(s,x),mr(m,s,x,-1))}return vf(),m=Gd(Error(n(421))),Xl(s,a,T,m)}return x.data==="$?"?(a.flags|=128,a.child=s.child,a=kE.bind(null,s),x._reactRetry=a,null):(s=b.treeContext,Bn=fi(x.nextSibling),zn=a,kt=!0,dr=null,s!==null&&(Qn[Xn++]=Yr,Qn[Xn++]=Kr,Qn[Xn++]=Vi,Yr=s.id,Kr=s.overflow,Vi=a),a=tf(a,m.children),a.flags|=4096,a)}function Sy(s,a,d){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Ad(s.return,a,d)}function nf(s,a,d,m,x){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=d,b.tailMode=x)}function Ey(s,a,d){var m=a.pendingProps,x=m.revealOrder,b=m.tail;if(yn(s,a,m.children,d),m=_t.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Sy(s,d,a);else if(s.tag===19)Sy(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(dt(_t,m),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)s=d.alternate,s!==null&&Vl(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),nf(a,!1,x,d,b);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(s=x.alternate,s!==null&&Vl(s)===null){a.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}nf(a,!0,d,null,b);break;case"together":nf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zl(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Qr(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),Ji|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,d=Si(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=Si(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function cE(s,a,d){switch(a.tag){case 3:wy(a),zs();break;case 5:$g(a);break;case 1:jn(a.type)&&Ml(a);break;case 4:Md(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,x=a.memoizedProps.value;dt(Bl,m._currentValue),m._currentValue=x;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(dt(_t,_t.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?ky(s,a,d):(dt(_t,_t.current&1),s=Qr(s,a,d),s!==null?s.sibling:null);dt(_t,_t.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(s.flags&128)!==0){if(m)return Ey(s,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),dt(_t,_t.current),m)break;return null;case 22:case 23:return a.lanes=0,yy(s,a,d)}return Qr(s,a,d)}var _y,rf,Cy,jy;_y=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},rf=function(){},Cy=function(s,a,d,m){var x=s.memoizedProps;if(x!==m){s=a.stateNode,Ki(Nr.current);var b=null;switch(d){case"input":x=pt(s,x),m=pt(s,m),b=[];break;case"select":x=N({},x,{value:void 0}),m=N({},m,{value:void 0}),b=[];break;case"textarea":x=_e(s,x),m=_e(s,m),b=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Al)}Ze(d,m);var T;d=null;for(ie in x)if(!m.hasOwnProperty(ie)&&x.hasOwnProperty(ie)&&x[ie]!=null)if(ie==="style"){var B=x[ie];for(T in B)B.hasOwnProperty(T)&&(d||(d={}),d[T]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?b||(b=[]):(b=b||[]).push(ie,null));for(ie in m){var H=m[ie];if(B=x!=null?x[ie]:void 0,m.hasOwnProperty(ie)&&H!==B&&(H!=null||B!=null))if(ie==="style")if(B){for(T in B)!B.hasOwnProperty(T)||H&&H.hasOwnProperty(T)||(d||(d={}),d[T]="");for(T in H)H.hasOwnProperty(T)&&B[T]!==H[T]&&(d||(d={}),d[T]=H[T])}else d||(b||(b=[]),b.push(ie,d)),d=H;else ie==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(b=b||[]).push(ie,H)):ie==="children"?typeof H!="string"&&typeof H!="number"||(b=b||[]).push(ie,""+H):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(H!=null&&ie==="onScroll"&&yt("scroll",s),b||B===H||(b=[])):(b=b||[]).push(ie,H))}d&&(b=b||[]).push("style",d);var ie=b;(a.updateQueue=ie)&&(a.flags|=4)}},jy=function(s,a,d,m){d!==m&&(a.flags|=4)};function ha(s,a){if(!kt)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function an(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(a)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=d,a}function dE(s,a,d){var m=a.pendingProps;switch(_d(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(a),null;case 1:return jn(a.type)&&Ol(),an(a),null;case 3:return m=a.stateNode,Hs(),vt(Cn),vt(sn),$d(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Fl(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,dr!==null&&(mf(dr),dr=null))),rf(s,a),an(a),null;case 5:Ld(a);var x=Ki(la.current);if(d=a.type,s!==null&&a.stateNode!=null)Cy(s,a,d,m,x),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return an(a),null}if(s=Ki(Nr.current),Fl(a)){m=a.stateNode,d=a.type;var b=a.memoizedProps;switch(m[jr]=a,m[ra]=b,s=(a.mode&1)!==0,d){case"dialog":yt("cancel",m),yt("close",m);break;case"iframe":case"object":case"embed":yt("load",m);break;case"video":case"audio":for(x=0;x<ea.length;x++)yt(ea[x],m);break;case"source":yt("error",m);break;case"img":case"image":case"link":yt("error",m),yt("load",m);break;case"details":yt("toggle",m);break;case"input":Nt(m,b),yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},yt("invalid",m);break;case"textarea":ve(m,b),yt("invalid",m)}Ze(d,b),x=null;for(var T in b)if(b.hasOwnProperty(T)){var B=b[T];T==="children"?typeof B=="string"?m.textContent!==B&&(b.suppressHydrationWarning!==!0&&Pl(m.textContent,B,s),x=["children",B]):typeof B=="number"&&m.textContent!==""+B&&(b.suppressHydrationWarning!==!0&&Pl(m.textContent,B,s),x=["children",""+B]):i.hasOwnProperty(T)&&B!=null&&T==="onScroll"&&yt("scroll",m)}switch(d){case"input":Ke(m),En(m,b,!0);break;case"textarea":Ke(m),te(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=Al)}m=x,a.updateQueue=m,m!==null&&(a.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Y(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=T.createElement(d,{is:m.is}):(s=T.createElement(d),d==="select"&&(T=s,m.multiple?T.multiple=!0:m.size&&(T.size=m.size))):s=T.createElementNS(s,d),s[jr]=a,s[ra]=m,_y(s,a,!1,!1),a.stateNode=s;e:{switch(T=Ut(d,m),d){case"dialog":yt("cancel",s),yt("close",s),x=m;break;case"iframe":case"object":case"embed":yt("load",s),x=m;break;case"video":case"audio":for(x=0;x<ea.length;x++)yt(ea[x],s);x=m;break;case"source":yt("error",s),x=m;break;case"img":case"image":case"link":yt("error",s),yt("load",s),x=m;break;case"details":yt("toggle",s),x=m;break;case"input":Nt(s,m),x=pt(s,m),yt("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=N({},m,{value:void 0}),yt("invalid",s);break;case"textarea":ve(s,m),x=_e(s,m),yt("invalid",s);break;default:x=m}Ze(d,x),B=x;for(b in B)if(B.hasOwnProperty(b)){var H=B[b];b==="style"?Ve(s,H):b==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ie(s,H)):b==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&De(s,H):typeof H=="number"&&De(s,""+H):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?H!=null&&b==="onScroll"&&yt("scroll",s):H!=null&&C(s,b,H,T))}switch(d){case"input":Ke(s),En(s,m,!1);break;case"textarea":Ke(s),te(s);break;case"option":m.value!=null&&s.setAttribute("value",""+ae(m.value));break;case"select":s.multiple=!!m.multiple,b=m.value,b!=null?de(s,!!m.multiple,b,!1):m.defaultValue!=null&&de(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Al)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return an(a),null;case 6:if(s&&a.stateNode!=null)jy(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(d=Ki(la.current),Ki(Nr.current),Fl(a)){if(m=a.stateNode,d=a.memoizedProps,m[jr]=a,(b=m.nodeValue!==d)&&(s=zn,s!==null))switch(s.tag){case 3:Pl(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Pl(m.nodeValue,d,(s.mode&1)!==0)}b&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[jr]=a,a.stateNode=m}return an(a),null;case 13:if(vt(_t),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(kt&&Bn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ig(),zs(),a.flags|=98560,b=!1;else if(b=Fl(a),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[jr]=a}else zs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;an(a),b=!1}else dr!==null&&(mf(dr),dr=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(_t.current&1)!==0?Ht===0&&(Ht=3):vf())),a.updateQueue!==null&&(a.flags|=4),an(a),null);case 4:return Hs(),rf(s,a),s===null&&ta(a.stateNode.containerInfo),an(a),null;case 10:return Pd(a.type._context),an(a),null;case 17:return jn(a.type)&&Ol(),an(a),null;case 19:if(vt(_t),b=a.memoizedState,b===null)return an(a),null;if(m=(a.flags&128)!==0,T=b.rendering,T===null)if(m)ha(b,!1);else{if(Ht!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Vl(s),T!==null){for(a.flags|=128,ha(b,!1),m=T.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)b=d,s=m,b.flags&=14680066,T=b.alternate,T===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=T.childLanes,b.lanes=T.lanes,b.child=T.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=T.memoizedProps,b.memoizedState=T.memoizedState,b.updateQueue=T.updateQueue,b.type=T.type,s=T.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return dt(_t,_t.current&1|2),a.child}s=s.sibling}b.tail!==null&&Rt()>Ks&&(a.flags|=128,m=!0,ha(b,!1),a.lanes=4194304)}else{if(!m)if(s=Vl(T),s!==null){if(a.flags|=128,m=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),ha(b,!0),b.tail===null&&b.tailMode==="hidden"&&!T.alternate&&!kt)return an(a),null}else 2*Rt()-b.renderingStartTime>Ks&&d!==1073741824&&(a.flags|=128,m=!0,ha(b,!1),a.lanes=4194304);b.isBackwards?(T.sibling=a.child,a.child=T):(d=b.last,d!==null?d.sibling=T:a.child=T,b.last=T)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=Rt(),a.sibling=null,d=_t.current,dt(_t,m?d&1|2:d&1),a):(an(a),null);case 22:case 23:return yf(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Un&1073741824)!==0&&(an(a),a.subtreeFlags&6&&(a.flags|=8192)):an(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function fE(s,a){switch(_d(a),a.tag){case 1:return jn(a.type)&&Ol(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Hs(),vt(Cn),vt(sn),$d(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Ld(a),null;case 13:if(vt(_t),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));zs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return vt(_t),null;case 4:return Hs(),null;case 10:return Pd(a.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var eu=!1,ln=!1,hE=typeof WeakSet=="function"?WeakSet:Set,je=null;function qs(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){It(s,a,m)}else d.current=null}function sf(s,a,d){try{d()}catch(m){It(s,a,m)}}var Ny=!1;function pE(s,a){if(gd=wl,s=og(),ld(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var T=0,B=-1,H=-1,ie=0,he=0,pe=s,fe=null;t:for(;;){for(var Ce;pe!==d||x!==0&&pe.nodeType!==3||(B=T+x),pe!==b||m!==0&&pe.nodeType!==3||(H=T+m),pe.nodeType===3&&(T+=pe.nodeValue.length),(Ce=pe.firstChild)!==null;)fe=pe,pe=Ce;for(;;){if(pe===s)break t;if(fe===d&&++ie===x&&(B=T),fe===b&&++he===m&&(H=T),(Ce=pe.nextSibling)!==null)break;pe=fe,fe=pe.parentNode}pe=Ce}d=B===-1||H===-1?null:{start:B,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(yd={focusedElem:s,selectionRange:d},wl=!1,je=a;je!==null;)if(a=je,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,je=s;else for(;je!==null;){a=je;try{var Ne=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Te=Ne.memoizedProps,Ot=Ne.memoizedState,ne=a.stateNode,K=ne.getSnapshotBeforeUpdate(a.elementType===a.type?Te:fr(a.type,Te),Ot);ne.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var re=a.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){It(a,a.return,ye)}if(s=a.sibling,s!==null){s.return=a.return,je=s;break}je=a.return}return Ne=Ny,Ny=!1,Ne}function pa(s,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var b=x.destroy;x.destroy=void 0,b!==void 0&&sf(a,d,b)}x=x.next}while(x!==m)}}function tu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function of(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function Ty(s){var a=s.alternate;a!==null&&(s.alternate=null,Ty(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[jr],delete a[ra],delete a[bd],delete a[JS],delete a[QS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Iy(s){return s.tag===5||s.tag===3||s.tag===4}function Py(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Iy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function af(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Al));else if(m!==4&&(s=s.child,s!==null))for(af(s,a,d),s=s.sibling;s!==null;)af(s,a,d),s=s.sibling}function lf(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(lf(s,a,d),s=s.sibling;s!==null;)lf(s,a,d),s=s.sibling}var Zt=null,hr=!1;function vi(s,a,d){for(d=d.child;d!==null;)Ay(s,a,d),d=d.sibling}function Ay(s,a,d){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(pl,d)}catch{}switch(d.tag){case 5:ln||qs(d,a);case 6:var m=Zt,x=hr;Zt=null,vi(s,a,d),Zt=m,hr=x,Zt!==null&&(hr?(s=Zt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Zt.removeChild(d.stateNode));break;case 18:Zt!==null&&(hr?(s=Zt,d=d.stateNode,s.nodeType===8?wd(s.parentNode,d):s.nodeType===1&&wd(s,d),qo(s)):wd(Zt,d.stateNode));break;case 4:m=Zt,x=hr,Zt=d.stateNode.containerInfo,hr=!0,vi(s,a,d),Zt=m,hr=x;break;case 0:case 11:case 14:case 15:if(!ln&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var b=x,T=b.destroy;b=b.tag,T!==void 0&&((b&2)!==0||(b&4)!==0)&&sf(d,a,T),x=x.next}while(x!==m)}vi(s,a,d);break;case 1:if(!ln&&(qs(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(B){It(d,a,B)}vi(s,a,d);break;case 21:vi(s,a,d);break;case 22:d.mode&1?(ln=(m=ln)||d.memoizedState!==null,vi(s,a,d),ln=m):vi(s,a,d);break;default:vi(s,a,d)}}function Ry(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new hE),a.forEach(function(m){var x=SE.bind(null,s,m);d.has(m)||(d.add(m),m.then(x,x))})}}function pr(s,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var b=s,T=a,B=T;e:for(;B!==null;){switch(B.tag){case 5:Zt=B.stateNode,hr=!1;break e;case 3:Zt=B.stateNode.containerInfo,hr=!0;break e;case 4:Zt=B.stateNode.containerInfo,hr=!0;break e}B=B.return}if(Zt===null)throw Error(n(160));Ay(b,T,x),Zt=null,hr=!1;var H=x.alternate;H!==null&&(H.return=null),x.return=null}catch(ie){It(x,a,ie)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Oy(a,s),a=a.sibling}function Oy(s,a){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pr(a,s),Ir(s),m&4){try{pa(3,s,s.return),tu(3,s)}catch(Te){It(s,s.return,Te)}try{pa(5,s,s.return)}catch(Te){It(s,s.return,Te)}}break;case 1:pr(a,s),Ir(s),m&512&&d!==null&&qs(d,d.return);break;case 5:if(pr(a,s),Ir(s),m&512&&d!==null&&qs(d,d.return),s.flags&32){var x=s.stateNode;try{De(x,"")}catch(Te){It(s,s.return,Te)}}if(m&4&&(x=s.stateNode,x!=null)){var b=s.memoizedProps,T=d!==null?d.memoizedProps:b,B=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{B==="input"&&b.type==="radio"&&b.name!=null&&We(x,b),Ut(B,T);var ie=Ut(B,b);for(T=0;T<H.length;T+=2){var he=H[T],pe=H[T+1];he==="style"?Ve(x,pe):he==="dangerouslySetInnerHTML"?Ie(x,pe):he==="children"?De(x,pe):C(x,he,pe,ie)}switch(B){case"input":mt(x,b);break;case"textarea":D(x,b);break;case"select":var fe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!b.multiple;var Ce=b.value;Ce!=null?de(x,!!b.multiple,Ce,!1):fe!==!!b.multiple&&(b.defaultValue!=null?de(x,!!b.multiple,b.defaultValue,!0):de(x,!!b.multiple,b.multiple?[]:"",!1))}x[ra]=b}catch(Te){It(s,s.return,Te)}}break;case 6:if(pr(a,s),Ir(s),m&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,b=s.memoizedProps;try{x.nodeValue=b}catch(Te){It(s,s.return,Te)}}break;case 3:if(pr(a,s),Ir(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(Te){It(s,s.return,Te)}break;case 4:pr(a,s),Ir(s);break;case 13:pr(a,s),Ir(s),x=s.child,x.flags&8192&&(b=x.memoizedState!==null,x.stateNode.isHidden=b,!b||x.alternate!==null&&x.alternate.memoizedState!==null||(df=Rt())),m&4&&Ry(s);break;case 22:if(he=d!==null&&d.memoizedState!==null,s.mode&1?(ln=(ie=ln)||he,pr(a,s),ln=ie):pr(a,s),Ir(s),m&8192){if(ie=s.memoizedState!==null,(s.stateNode.isHidden=ie)&&!he&&(s.mode&1)!==0)for(je=s,he=s.child;he!==null;){for(pe=je=he;je!==null;){switch(fe=je,Ce=fe.child,fe.tag){case 0:case 11:case 14:case 15:pa(4,fe,fe.return);break;case 1:qs(fe,fe.return);var Ne=fe.stateNode;if(typeof Ne.componentWillUnmount=="function"){m=fe,d=fe.return;try{a=m,Ne.props=a.memoizedProps,Ne.state=a.memoizedState,Ne.componentWillUnmount()}catch(Te){It(m,d,Te)}}break;case 5:qs(fe,fe.return);break;case 22:if(fe.memoizedState!==null){Dy(pe);continue}}Ce!==null?(Ce.return=fe,je=Ce):Dy(pe)}he=he.sibling}e:for(he=null,pe=s;;){if(pe.tag===5){if(he===null){he=pe;try{x=pe.stateNode,ie?(b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(B=pe.stateNode,H=pe.memoizedProps.style,T=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=at("display",T))}catch(Te){It(s,s.return,Te)}}}else if(pe.tag===6){if(he===null)try{pe.stateNode.nodeValue=ie?"":pe.memoizedProps}catch(Te){It(s,s.return,Te)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===s)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===s)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===s)break e;he===pe&&(he=null),pe=pe.return}he===pe&&(he=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:pr(a,s),Ir(s),m&4&&Ry(s);break;case 21:break;default:pr(a,s),Ir(s)}}function Ir(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(Iy(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(De(x,""),m.flags&=-33);var b=Py(s);lf(s,b,x);break;case 3:case 4:var T=m.stateNode.containerInfo,B=Py(s);af(s,B,T);break;default:throw Error(n(161))}}catch(H){It(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function mE(s,a,d){je=s,My(s)}function My(s,a,d){for(var m=(s.mode&1)!==0;je!==null;){var x=je,b=x.child;if(x.tag===22&&m){var T=x.memoizedState!==null||eu;if(!T){var B=x.alternate,H=B!==null&&B.memoizedState!==null||ln;B=eu;var ie=ln;if(eu=T,(ln=H)&&!ie)for(je=x;je!==null;)T=je,H=T.child,T.tag===22&&T.memoizedState!==null?$y(x):H!==null?(H.return=T,je=H):$y(x);for(;b!==null;)je=b,My(b),b=b.sibling;je=x,eu=B,ln=ie}Ly(s)}else(x.subtreeFlags&8772)!==0&&b!==null?(b.return=x,je=b):Ly(s)}}function Ly(s){for(;je!==null;){var a=je;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ln||tu(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!ln)if(d===null)m.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:fr(a.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&Dg(a,b,m);break;case 3:var T=a.updateQueue;if(T!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Dg(a,T,d)}break;case 5:var B=a.stateNode;if(d===null&&a.flags&4){d=B;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ie=a.alternate;if(ie!==null){var he=ie.memoizedState;if(he!==null){var pe=he.dehydrated;pe!==null&&qo(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||a.flags&512&&of(a)}catch(fe){It(a,a.return,fe)}}if(a===s){je=null;break}if(d=a.sibling,d!==null){d.return=a.return,je=d;break}je=a.return}}function Dy(s){for(;je!==null;){var a=je;if(a===s){je=null;break}var d=a.sibling;if(d!==null){d.return=a.return,je=d;break}je=a.return}}function $y(s){for(;je!==null;){var a=je;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{tu(4,a)}catch(H){It(a,d,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var x=a.return;try{m.componentDidMount()}catch(H){It(a,x,H)}}var b=a.return;try{of(a)}catch(H){It(a,b,H)}break;case 5:var T=a.return;try{of(a)}catch(H){It(a,T,H)}}}catch(H){It(a,a.return,H)}if(a===s){je=null;break}var B=a.sibling;if(B!==null){B.return=a.return,je=B;break}je=a.return}}var gE=Math.ceil,nu=P.ReactCurrentDispatcher,uf=P.ReactCurrentOwner,tr=P.ReactCurrentBatchConfig,Xe=0,Kt=null,Mt=null,en=0,Un=0,Ys=hi(0),Ht=0,ma=null,Ji=0,ru=0,cf=0,ga=null,Tn=null,df=0,Ks=1/0,Xr=null,iu=!1,ff=null,xi=null,su=!1,wi=null,ou=0,ya=0,hf=null,au=-1,lu=0;function vn(){return(Xe&6)!==0?Rt():au!==-1?au:au=Rt()}function bi(s){return(s.mode&1)===0?1:(Xe&2)!==0&&en!==0?en&-en:ZS.transition!==null?(lu===0&&(lu=Pm()),lu):(s=ot,s!==0||(s=window.event,s=s===void 0?16:zm(s.type)),s)}function mr(s,a,d,m){if(50<ya)throw ya=0,hf=null,Error(n(185));Bo(s,d,m),((Xe&2)===0||s!==Kt)&&(s===Kt&&((Xe&2)===0&&(ru|=d),Ht===4&&ki(s,en)),In(s,m),d===1&&Xe===0&&(a.mode&1)===0&&(Ks=Rt()+500,Ll&&mi()))}function In(s,a){var d=s.callbackNode;Z1(s,a);var m=yl(s,s===Kt?en:0);if(m===0)d!==null&&Nm(d),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(d!=null&&Nm(d),a===1)s.tag===0?XS(zy.bind(null,s)):_g(zy.bind(null,s)),KS(function(){(Xe&6)===0&&mi()}),d=null;else{switch(Am(m)){case 1:d=Vc;break;case 4:d=Tm;break;case 16:d=hl;break;case 536870912:d=Im;break;default:d=hl}d=Ky(d,Fy.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function Fy(s,a){if(au=-1,lu=0,(Xe&6)!==0)throw Error(n(327));var d=s.callbackNode;if(Gs()&&s.callbackNode!==d)return null;var m=yl(s,s===Kt?en:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=uu(s,m);else{a=m;var x=Xe;Xe|=2;var b=Uy();(Kt!==s||en!==a)&&(Xr=null,Ks=Rt()+500,Xi(s,a));do try{xE();break}catch(B){By(s,B)}while(!0);Id(),nu.current=b,Xe=x,Mt!==null?a=0:(Kt=null,en=0,a=Ht)}if(a!==0){if(a===2&&(x=qc(s),x!==0&&(m=x,a=pf(s,x))),a===1)throw d=ma,Xi(s,0),ki(s,m),In(s,Rt()),d;if(a===6)ki(s,m);else{if(x=s.current.alternate,(m&30)===0&&!yE(x)&&(a=uu(s,m),a===2&&(b=qc(s),b!==0&&(m=b,a=pf(s,b))),a===1))throw d=ma,Xi(s,0),ki(s,m),In(s,Rt()),d;switch(s.finishedWork=x,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Zi(s,Tn,Xr);break;case 3:if(ki(s,m),(m&130023424)===m&&(a=df+500-Rt(),10<a)){if(yl(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){vn(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=xd(Zi.bind(null,s,Tn,Xr),a);break}Zi(s,Tn,Xr);break;case 4:if(ki(s,m),(m&4194240)===m)break;for(a=s.eventTimes,x=-1;0<m;){var T=31-ur(m);b=1<<T,T=a[T],T>x&&(x=T),m&=~b}if(m=x,m=Rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*gE(m/1960))-m,10<m){s.timeoutHandle=xd(Zi.bind(null,s,Tn,Xr),m);break}Zi(s,Tn,Xr);break;case 5:Zi(s,Tn,Xr);break;default:throw Error(n(329))}}}return In(s,Rt()),s.callbackNode===d?Fy.bind(null,s):null}function pf(s,a){var d=ga;return s.current.memoizedState.isDehydrated&&(Xi(s,a).flags|=256),s=uu(s,a),s!==2&&(a=Tn,Tn=d,a!==null&&mf(a)),s}function mf(s){Tn===null?Tn=s:Tn.push.apply(Tn,s)}function yE(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],b=x.getSnapshot;x=x.value;try{if(!cr(b(),x))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ki(s,a){for(a&=~cf,a&=~ru,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-ur(a),m=1<<d;s[d]=-1,a&=~m}}function zy(s){if((Xe&6)!==0)throw Error(n(327));Gs();var a=yl(s,0);if((a&1)===0)return In(s,Rt()),null;var d=uu(s,a);if(s.tag!==0&&d===2){var m=qc(s);m!==0&&(a=m,d=pf(s,m))}if(d===1)throw d=ma,Xi(s,0),ki(s,a),In(s,Rt()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Zi(s,Tn,Xr),In(s,Rt()),null}function gf(s,a){var d=Xe;Xe|=1;try{return s(a)}finally{Xe=d,Xe===0&&(Ks=Rt()+500,Ll&&mi())}}function Qi(s){wi!==null&&wi.tag===0&&(Xe&6)===0&&Gs();var a=Xe;Xe|=1;var d=tr.transition,m=ot;try{if(tr.transition=null,ot=1,s)return s()}finally{ot=m,tr.transition=d,Xe=a,(Xe&6)===0&&mi()}}function yf(){Un=Ys.current,vt(Ys)}function Xi(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,YS(d)),Mt!==null)for(d=Mt.return;d!==null;){var m=d;switch(_d(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ol();break;case 3:Hs(),vt(Cn),vt(sn),$d();break;case 5:Ld(m);break;case 4:Hs();break;case 13:vt(_t);break;case 19:vt(_t);break;case 10:Pd(m.type._context);break;case 22:case 23:yf()}d=d.return}if(Kt=s,Mt=s=Si(s.current,null),en=Un=a,Ht=0,ma=null,cf=ru=Ji=0,Tn=ga=null,Yi!==null){for(a=0;a<Yi.length;a++)if(d=Yi[a],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,b=d.pending;if(b!==null){var T=b.next;b.next=x,m.next=T}d.pending=m}Yi=null}return s}function By(s,a){do{var d=Mt;try{if(Id(),ql.current=Jl,Yl){for(var m=Ct.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Yl=!1}if(Gi=0,Yt=Wt=Ct=null,ua=!1,ca=0,uf.current=null,d===null||d.return===null){Ht=1,ma=a,Mt=null;break}e:{var b=s,T=d.return,B=d,H=a;if(a=en,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=H,he=B,pe=he.tag;if((he.mode&1)===0&&(pe===0||pe===11||pe===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ce=fy(T);if(Ce!==null){Ce.flags&=-257,hy(Ce,T,B,b,a),Ce.mode&1&&dy(b,ie,a),a=Ce,H=ie;var Ne=a.updateQueue;if(Ne===null){var Te=new Set;Te.add(H),a.updateQueue=Te}else Ne.add(H);break e}else{if((a&1)===0){dy(b,ie,a),vf();break e}H=Error(n(426))}}else if(kt&&B.mode&1){var Ot=fy(T);if(Ot!==null){(Ot.flags&65536)===0&&(Ot.flags|=256),hy(Ot,T,B,b,a),Nd(Vs(H,B));break e}}b=H=Vs(H,B),Ht!==4&&(Ht=2),ga===null?ga=[b]:ga.push(b),b=T;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var ne=uy(b,H,a);Lg(b,ne);break e;case 1:B=H;var K=b.type,re=b.stateNode;if((b.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(xi===null||!xi.has(re)))){b.flags|=65536,a&=-a,b.lanes|=a;var ye=cy(b,B,a);Lg(b,ye);break e}}b=b.return}while(b!==null)}Hy(d)}catch(Pe){a=Pe,Mt===d&&d!==null&&(Mt=d=d.return);continue}break}while(!0)}function Uy(){var s=nu.current;return nu.current=Jl,s===null?Jl:s}function vf(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Kt===null||(Ji&268435455)===0&&(ru&268435455)===0||ki(Kt,en)}function uu(s,a){var d=Xe;Xe|=2;var m=Uy();(Kt!==s||en!==a)&&(Xr=null,Xi(s,a));do try{vE();break}catch(x){By(s,x)}while(!0);if(Id(),Xe=d,nu.current=m,Mt!==null)throw Error(n(261));return Kt=null,en=0,Ht}function vE(){for(;Mt!==null;)Wy(Mt)}function xE(){for(;Mt!==null&&!H1();)Wy(Mt)}function Wy(s){var a=Yy(s.alternate,s,Un);s.memoizedProps=s.pendingProps,a===null?Hy(s):Mt=a,uf.current=null}function Hy(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=dE(d,a,Un),d!==null){Mt=d;return}}else{if(d=fE(d,a),d!==null){d.flags&=32767,Mt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ht=6,Mt=null;return}}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=s}while(a!==null);Ht===0&&(Ht=5)}function Zi(s,a,d){var m=ot,x=tr.transition;try{tr.transition=null,ot=1,wE(s,a,d,m)}finally{tr.transition=x,ot=m}return null}function wE(s,a,d,m){do Gs();while(wi!==null);if((Xe&6)!==0)throw Error(n(327));d=s.finishedWork;var x=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=d.lanes|d.childLanes;if(eS(s,b),s===Kt&&(Mt=Kt=null,en=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||su||(su=!0,Ky(hl,function(){return Gs(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=tr.transition,tr.transition=null;var T=ot;ot=1;var B=Xe;Xe|=4,uf.current=null,pE(s,d),Oy(d,s),zS(yd),wl=!!gd,yd=gd=null,s.current=d,mE(d),V1(),Xe=B,ot=T,tr.transition=b}else s.current=d;if(su&&(su=!1,wi=s,ou=x),b=s.pendingLanes,b===0&&(xi=null),K1(d.stateNode),In(s,Rt()),a!==null)for(m=s.onRecoverableError,d=0;d<a.length;d++)x=a[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(iu)throw iu=!1,s=ff,ff=null,s;return(ou&1)!==0&&s.tag!==0&&Gs(),b=s.pendingLanes,(b&1)!==0?s===hf?ya++:(ya=0,hf=s):ya=0,mi(),null}function Gs(){if(wi!==null){var s=Am(ou),a=tr.transition,d=ot;try{if(tr.transition=null,ot=16>s?16:s,wi===null)var m=!1;else{if(s=wi,wi=null,ou=0,(Xe&6)!==0)throw Error(n(331));var x=Xe;for(Xe|=4,je=s.current;je!==null;){var b=je,T=b.child;if((je.flags&16)!==0){var B=b.deletions;if(B!==null){for(var H=0;H<B.length;H++){var ie=B[H];for(je=ie;je!==null;){var he=je;switch(he.tag){case 0:case 11:case 15:pa(8,he,b)}var pe=he.child;if(pe!==null)pe.return=he,je=pe;else for(;je!==null;){he=je;var fe=he.sibling,Ce=he.return;if(Ty(he),he===ie){je=null;break}if(fe!==null){fe.return=Ce,je=fe;break}je=Ce}}}var Ne=b.alternate;if(Ne!==null){var Te=Ne.child;if(Te!==null){Ne.child=null;do{var Ot=Te.sibling;Te.sibling=null,Te=Ot}while(Te!==null)}}je=b}}if((b.subtreeFlags&2064)!==0&&T!==null)T.return=b,je=T;else e:for(;je!==null;){if(b=je,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:pa(9,b,b.return)}var ne=b.sibling;if(ne!==null){ne.return=b.return,je=ne;break e}je=b.return}}var K=s.current;for(je=K;je!==null;){T=je;var re=T.child;if((T.subtreeFlags&2064)!==0&&re!==null)re.return=T,je=re;else e:for(T=K;je!==null;){if(B=je,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:tu(9,B)}}catch(Pe){It(B,B.return,Pe)}if(B===T){je=null;break e}var ye=B.sibling;if(ye!==null){ye.return=B.return,je=ye;break e}je=B.return}}if(Xe=x,mi(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(pl,s)}catch{}m=!0}return m}finally{ot=d,tr.transition=a}}return!1}function Vy(s,a,d){a=Vs(d,a),a=uy(s,a,1),s=yi(s,a,1),a=vn(),s!==null&&(Bo(s,1,a),In(s,a))}function It(s,a,d){if(s.tag===3)Vy(s,s,d);else for(;a!==null;){if(a.tag===3){Vy(a,s,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xi===null||!xi.has(m))){s=Vs(d,s),s=cy(a,s,1),a=yi(a,s,1),s=vn(),a!==null&&(Bo(a,1,s),In(a,s));break}}a=a.return}}function bE(s,a,d){var m=s.pingCache;m!==null&&m.delete(a),a=vn(),s.pingedLanes|=s.suspendedLanes&d,Kt===s&&(en&d)===d&&(Ht===4||Ht===3&&(en&130023424)===en&&500>Rt()-df?Xi(s,0):cf|=d),In(s,a)}function qy(s,a){a===0&&((s.mode&1)===0?a=1:(a=gl,gl<<=1,(gl&130023424)===0&&(gl=4194304)));var d=vn();s=Gr(s,a),s!==null&&(Bo(s,a,d),In(s,d))}function kE(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),qy(s,d)}function SE(s,a){var d=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),qy(s,d)}var Yy;Yy=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||Cn.current)Nn=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return Nn=!1,cE(s,a,d);Nn=(s.flags&131072)!==0}else Nn=!1,kt&&(a.flags&1048576)!==0&&Cg(a,$l,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Zl(s,a),s=a.pendingProps;var x=Ds(a,sn.current);Ws(a,d),x=Bd(null,a,m,s,x,d);var b=Ud();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,jn(m)?(b=!0,Ml(a)):b=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Od(a),x.updater=Ql,a.stateNode=x,x._reactInternals=a,Kd(a,m,s,d),a=Xd(null,a,m,!0,b,d)):(a.tag=0,kt&&b&&Ed(a),yn(null,a,x,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Zl(s,a),s=a.pendingProps,x=m._init,m=x(m._payload),a.type=m,x=a.tag=_E(m),s=fr(m,s),x){case 0:a=Qd(null,a,m,s,d);break e;case 1:a=xy(null,a,m,s,d);break e;case 11:a=py(null,a,m,s,d);break e;case 14:a=my(null,a,m,fr(m.type,s),d);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),Qd(s,a,m,x,d);case 1:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),xy(s,a,m,x,d);case 3:e:{if(wy(a),s===null)throw Error(n(387));m=a.pendingProps,b=a.memoizedState,x=b.element,Mg(s,a),Hl(a,m,null,d);var T=a.memoizedState;if(m=T.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){x=Vs(Error(n(423)),a),a=by(s,a,m,d,x);break e}else if(m!==x){x=Vs(Error(n(424)),a),a=by(s,a,m,d,x);break e}else for(Bn=fi(a.stateNode.containerInfo.firstChild),zn=a,kt=!0,dr=null,d=Rg(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(zs(),m===x){a=Qr(s,a,d);break e}yn(s,a,m,d)}a=a.child}return a;case 5:return $g(a),s===null&&jd(a),m=a.type,x=a.pendingProps,b=s!==null?s.memoizedProps:null,T=x.children,vd(m,x)?T=null:b!==null&&vd(m,b)&&(a.flags|=32),vy(s,a),yn(s,a,T,d),a.child;case 6:return s===null&&jd(a),null;case 13:return ky(s,a,d);case 4:return Md(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Bs(a,null,m,d):yn(s,a,m,d),a.child;case 11:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),py(s,a,m,x,d);case 7:return yn(s,a,a.pendingProps,d),a.child;case 8:return yn(s,a,a.pendingProps.children,d),a.child;case 12:return yn(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,x=a.pendingProps,b=a.memoizedProps,T=x.value,dt(Bl,m._currentValue),m._currentValue=T,b!==null)if(cr(b.value,T)){if(b.children===x.children&&!Cn.current){a=Qr(s,a,d);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var B=b.dependencies;if(B!==null){T=b.child;for(var H=B.firstContext;H!==null;){if(H.context===m){if(b.tag===1){H=Jr(-1,d&-d),H.tag=2;var ie=b.updateQueue;if(ie!==null){ie=ie.shared;var he=ie.pending;he===null?H.next=H:(H.next=he.next,he.next=H),ie.pending=H}}b.lanes|=d,H=b.alternate,H!==null&&(H.lanes|=d),Ad(b.return,d,a),B.lanes|=d;break}H=H.next}}else if(b.tag===10)T=b.type===a.type?null:b.child;else if(b.tag===18){if(T=b.return,T===null)throw Error(n(341));T.lanes|=d,B=T.alternate,B!==null&&(B.lanes|=d),Ad(T,d,a),T=b.sibling}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===a){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}yn(s,a,x.children,d),a=a.child}return a;case 9:return x=a.type,m=a.pendingProps.children,Ws(a,d),x=Zn(x),m=m(x),a.flags|=1,yn(s,a,m,d),a.child;case 14:return m=a.type,x=fr(m,a.pendingProps),x=fr(m.type,x),my(s,a,m,x,d);case 15:return gy(s,a,a.type,a.pendingProps,d);case 17:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),Zl(s,a),a.tag=1,jn(m)?(s=!0,Ml(a)):s=!1,Ws(a,d),ay(a,m,x),Kd(a,m,x,d),Xd(null,a,m,!0,s,d);case 19:return Ey(s,a,d);case 22:return yy(s,a,d)}throw Error(n(156,a.tag))};function Ky(s,a){return jm(s,a)}function EE(s,a,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(s,a,d,m){return new EE(s,a,d,m)}function xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _E(s){if(typeof s=="function")return xf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Q)return 11;if(s===$)return 14}return 2}function Si(s,a){var d=s.alternate;return d===null?(d=nr(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function cu(s,a,d,m,x,b){var T=2;if(m=s,typeof s=="function")xf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case F:return es(d.children,x,b,a);case Z:T=8,x|=8;break;case se:return s=nr(12,d,a,x|2),s.elementType=se,s.lanes=b,s;case G:return s=nr(13,d,a,x),s.elementType=G,s.lanes=b,s;case V:return s=nr(19,d,a,x),s.elementType=V,s.lanes=b,s;case X:return du(d,x,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:T=10;break e;case L:T=9;break e;case Q:T=11;break e;case $:T=14;break e;case W:T=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=nr(T,d,a,x),a.elementType=s,a.type=m,a.lanes=b,a}function es(s,a,d,m){return s=nr(7,s,m,a),s.lanes=d,s}function du(s,a,d,m){return s=nr(22,s,m,a),s.elementType=X,s.lanes=d,s.stateNode={isHidden:!1},s}function wf(s,a,d){return s=nr(6,s,null,a),s.lanes=d,s}function bf(s,a,d){return a=nr(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function CE(s,a,d,m,x){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function kf(s,a,d,m,x,b,T,B,H){return s=new CE(s,a,d,B,H),a===1?(a=1,b===!0&&(a|=8)):a=0,b=nr(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Od(b),s}function jE(s,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:s,containerInfo:a,implementation:d}}function Gy(s){if(!s)return pi;s=s._reactInternals;e:{if(Ui(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(jn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(jn(d))return Sg(s,d,a)}return a}function Jy(s,a,d,m,x,b,T,B,H){return s=kf(d,m,!0,s,x,b,T,B,H),s.context=Gy(null),d=s.current,m=vn(),x=bi(d),b=Jr(m,x),b.callback=a??null,yi(d,b,x),s.current.lanes=x,Bo(s,x,m),In(s,m),s}function fu(s,a,d,m){var x=a.current,b=vn(),T=bi(x);return d=Gy(d),a.context===null?a.context=d:a.pendingContext=d,a=Jr(b,T),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=yi(x,a,T),s!==null&&(mr(s,x,T,b),Wl(s,x,T)),T}function hu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Qy(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function Sf(s,a){Qy(s,a),(s=s.alternate)&&Qy(s,a)}function NE(){return null}var Xy=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ef(s){this._internalRoot=s}pu.prototype.render=Ef.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));fu(s,a,null,null)},pu.prototype.unmount=Ef.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Qi(function(){fu(null,s,null,null)}),a[Vr]=null}};function pu(s){this._internalRoot=s}pu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Mm();s={blockedOn:null,target:s,priority:a};for(var d=0;d<ui.length&&a!==0&&a<ui[d].priority;d++);ui.splice(d,0,s),d===0&&$m(s)}};function _f(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function mu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Zy(){}function TE(s,a,d,m,x){if(x){if(typeof m=="function"){var b=m;m=function(){var ie=hu(T);b.call(ie)}}var T=Jy(a,m,s,0,null,!1,!1,"",Zy);return s._reactRootContainer=T,s[Vr]=T.current,ta(s.nodeType===8?s.parentNode:s),Qi(),T}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var B=m;m=function(){var ie=hu(H);B.call(ie)}}var H=kf(s,0,!1,null,null,!1,!1,"",Zy);return s._reactRootContainer=H,s[Vr]=H.current,ta(s.nodeType===8?s.parentNode:s),Qi(function(){fu(a,H,d,m)}),H}function gu(s,a,d,m,x){var b=d._reactRootContainer;if(b){var T=b;if(typeof x=="function"){var B=x;x=function(){var H=hu(T);B.call(H)}}fu(a,T,s,x)}else T=TE(d,a,s,x,m);return hu(T)}Rm=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=zo(a.pendingLanes);d!==0&&(Kc(a,d|1),In(a,Rt()),(Xe&6)===0&&(Ks=Rt()+500,mi()))}break;case 13:Qi(function(){var m=Gr(s,1);if(m!==null){var x=vn();mr(m,s,1,x)}}),Sf(s,1)}},Gc=function(s){if(s.tag===13){var a=Gr(s,134217728);if(a!==null){var d=vn();mr(a,s,134217728,d)}Sf(s,134217728)}},Om=function(s){if(s.tag===13){var a=bi(s),d=Gr(s,a);if(d!==null){var m=vn();mr(d,s,a,m)}Sf(s,a)}},Mm=function(){return ot},Lm=function(s,a){var d=ot;try{return ot=s,a()}finally{ot=d}},st=function(s,a,d){switch(a){case"input":if(mt(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==s&&m.form===s.form){var x=Rl(m);if(!x)throw Error(n(90));nt(m),mt(m,x)}}}break;case"textarea":D(s,d);break;case"select":a=d.value,a!=null&&de(s,!!d.multiple,a,!1)}},bt=gf,nn=Qi;var IE={usingClientEntryPoint:!1,Events:[ia,Ms,Rl,rt,et,gf]},va={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PE={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=_m(s),s===null?null:s.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||NE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{pl=yu.inject(PE),Cr=yu}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IE,Pn.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_f(a))throw Error(n(200));return jE(s,a,null,d)},Pn.createRoot=function(s,a){if(!_f(s))throw Error(n(299));var d=!1,m="",x=Xy;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=kf(s,1,!1,null,null,d,!1,m,x),s[Vr]=a.current,ta(s.nodeType===8?s.parentNode:s),new Ef(a)},Pn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=_m(a),s=s===null?null:s.stateNode,s},Pn.flushSync=function(s){return Qi(s)},Pn.hydrate=function(s,a,d){if(!mu(a))throw Error(n(200));return gu(null,s,a,!0,d)},Pn.hydrateRoot=function(s,a,d){if(!_f(s))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,x=!1,b="",T=Xy;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),a=Jy(a,null,s,1,d??null,x,!1,b,T),s[Vr]=a.current,ta(s),m)for(s=0;s<m.length;s++)d=m[s],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new pu(a)},Pn.render=function(s,a,d){if(!mu(a))throw Error(n(200));return gu(null,s,a,!1,d)},Pn.unmountComponentAtNode=function(s){if(!mu(s))throw Error(n(40));return s._reactRootContainer?(Qi(function(){gu(null,null,s,!1,function(){s._reactRootContainer=null,s[Vr]=null})}),!0):!1},Pn.unstable_batchedUpdates=gf,Pn.unstable_renderSubtreeIntoContainer=function(s,a,d,m){if(!mu(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return gu(s,a,d,!1,m)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var av;function Z0(){if(av)return Nf.exports;av=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Nf.exports=zE(),Nf.exports}var lv;function BE(){if(lv)return vu;lv=1;var e=Z0();return vu.createRoot=e.createRoot,vu.hydrateRoot=e.hydrateRoot,vu}var UE=BE();const WE=No(UE);var qn=Z0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(this,arguments)}var Ri;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ri||(Ri={}));const uv="popstate";function HE(e){e===void 0&&(e={});function t(i,o){let{pathname:l="/",search:u="",hash:c=""}=bs(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),_h("",{pathname:l,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof o=="string"?o:Vu(o))}function r(i,o){Ep(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return qE(t,n,r,e)}function jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ep(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VE(){return Math.random().toString(36).substr(2,8)}function cv(e,t){return{usr:e.state,key:e.key,idx:t}}function _h(e,t,n,r){return n===void 0&&(n=null),Ua({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bs(t):t,{state:n,key:t&&t.key||r||VE()})}function Vu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Ri.Pop,c=null,f=h();f==null&&(f=0,l.replaceState(Ua({},l.state,{idx:f}),""));function h(){return(l.state||{idx:null}).idx}function p(){u=Ri.Pop;let _=h(),E=_==null?null:_-f;f=_,c&&c({action:u,location:w.location,delta:E})}function y(_,E){u=Ri.Push;let j=_h(w.location,_,E);n&&n(j,_),f=h()+1;let C=cv(j,f),P=w.createHref(j);try{l.pushState(C,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}o&&c&&c({action:u,location:w.location,delta:1})}function v(_,E){u=Ri.Replace;let j=_h(w.location,_,E);n&&n(j,_),f=h();let C=cv(j,f),P=w.createHref(j);l.replaceState(C,"",P),o&&c&&c({action:u,location:w.location,delta:0})}function S(_){let E=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof _=="string"?_:Vu(_);return j=j.replace(/ $/,"%20"),jt(E,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,E)}let w={get action(){return u},get location(){return e(i,l)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(uv,p),c=_,()=>{i.removeEventListener(uv,p),c=null}},createHref(_){return t(i,_)},createURL:S,encodeLocation(_){let E=S(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:v,go(_){return l.go(_)}};return w}var dv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dv||(dv={}));function YE(e,t,n){return n===void 0&&(n="/"),KE(e,t,n)}function KE(e,t,n,r){let i=typeof t=="string"?bs(t):t,o=ko(i.pathname||"/",n);if(o==null)return null;let l=ew(e);GE(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let f=o_(o);u=i_(l[c],f)}return u}function ew(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(jt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=Mi([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),ew(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:n_(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let c of tw(o.path))i(o,l,c)}),t}function tw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=tw(r.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function GE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:r_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JE=/^:[\w-]+$/,QE=3,XE=2,ZE=1,e_=10,t_=-2,fv=e=>e==="*";function n_(e,t){let n=e.split("/"),r=n.length;return n.some(fv)&&(r+=t_),t&&(r+=XE),n.filter(i=>!fv(i)).reduce((i,o)=>i+(JE.test(o)?QE:o===""?ZE:e_),r)}function r_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function i_(e,t,n){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",p=Ch({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),y=c.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Mi([o,p.pathname]),pathnameBase:c_(Mi([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=Mi([o,p.pathnameBase]))}return l}function Ch(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=s_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,h,p)=>{let{paramName:y,isOptional:v}=h;if(y==="*"){let w=u[p]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const S=u[p];return v&&!S?f[y]=void 0:f[y]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function s_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ep(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function o_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ep(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ko(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function a_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bs(e):e;return{pathname:n?n.startsWith("/")?n:l_(n,t):t,search:d_(r),hash:f_(i)}}function l_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _p(e,t){let n=u_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cp(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=bs(e):(i=Ua({},e),jt(!i.pathname||!i.pathname.includes("?"),Pf("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),Pf("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),Pf("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?t[p]:"/"}let c=a_(i,u),f=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const Mi=e=>e.join("/").replace(/\/\/+/g,"/"),c_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function h_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nw=["post","put","patch","delete"];new Set(nw);const p_=["get",...nw];new Set(p_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wa.apply(this,arguments)}const mc=k.createContext(null),rw=k.createContext(null),ni=k.createContext(null),gc=k.createContext(null),ri=k.createContext({outlet:null,matches:[],isDataRoute:!1}),iw=k.createContext(null);function m_(e,t){let{relative:n}=t===void 0?{}:t;To()||jt(!1);let{basename:r,navigator:i}=k.useContext(ni),{hash:o,pathname:l,search:u}=yc(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:Mi([r,l])),i.createHref({pathname:c,search:u,hash:o})}function To(){return k.useContext(gc)!=null}function ii(){return To()||jt(!1),k.useContext(gc).location}function sw(e){k.useContext(ni).static||k.useLayoutEffect(e)}function jp(){let{isDataRoute:e}=k.useContext(ri);return e?I_():g_()}function g_(){To()||jt(!1);let e=k.useContext(mc),{basename:t,future:n,navigator:r}=k.useContext(ni),{matches:i}=k.useContext(ri),{pathname:o}=ii(),l=JSON.stringify(_p(i,n.v7_relativeSplatPath)),u=k.useRef(!1);return sw(()=>{u.current=!0}),k.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let p=Cp(f,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Mi([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,l,o,e])}const y_=k.createContext(null);function v_(e){let t=k.useContext(ri).outlet;return t&&k.createElement(y_.Provider,{value:e},t)}function yc(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(ni),{matches:i}=k.useContext(ri),{pathname:o}=ii(),l=JSON.stringify(_p(i,r.v7_relativeSplatPath));return k.useMemo(()=>Cp(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function x_(e,t){return w_(e,t)}function w_(e,t,n,r){To()||jt(!1);let{navigator:i}=k.useContext(ni),{matches:o}=k.useContext(ri),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let f=ii(),h;if(t){var p;let _=typeof t=="string"?bs(t):t;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||jt(!1),h=_}else h=f;let y=h.pathname||"/",v=y;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=YE(e,{pathname:v}),w=__(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Mi([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Mi([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&w?k.createElement(gc.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ri.Pop}},w):w}function b_(){let e=T_(),t=h_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,null)}const k_=k.createElement(b_,null);class S_ extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(ri.Provider,{value:this.props.routeContext},k.createElement(iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E_(e){let{routeContext:t,match:n,children:r}=e,i=k.useContext(mc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(ri.Provider,{value:t},r)}function __(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let h=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);h>=0||jt(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<l.length;h++){let p=l[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:y,errors:v}=n,S=p.route.loader&&y[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||S){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,p,y)=>{let v,S=!1,w=null,_=null;n&&(v=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||k_,c&&(f<0&&y===0?(P_("route-fallback"),S=!0,_=null):f===y&&(S=!0,_=p.route.hydrateFallbackElement||null)));let E=t.concat(l.slice(0,y+1)),j=()=>{let C;return v?C=w:S?C=_:p.route.Component?C=k.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,k.createElement(E_,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?k.createElement(S_,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):j()},null)}var ow=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(ow||{}),aw=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(aw||{});function C_(e){let t=k.useContext(mc);return t||jt(!1),t}function j_(e){let t=k.useContext(rw);return t||jt(!1),t}function N_(e){let t=k.useContext(ri);return t||jt(!1),t}function lw(e){let t=N_(),n=t.matches[t.matches.length-1];return n.route.id||jt(!1),n.route.id}function T_(){var e;let t=k.useContext(iw),n=j_(),r=lw();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function I_(){let{router:e}=C_(ow.UseNavigateStable),t=lw(aw.UseNavigateStable),n=k.useRef(!1);return sw(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Wa({fromRouteId:t},o)))},[e,t])}const hv={};function P_(e,t,n){hv[e]||(hv[e]=!0)}function A_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vc(e){let{to:t,replace:n,state:r,relative:i}=e;To()||jt(!1);let{future:o,static:l}=k.useContext(ni),{matches:u}=k.useContext(ri),{pathname:c}=ii(),f=jp(),h=Cp(t,_p(u,o.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return k.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:i}),[f,p,i,n,r]),null}function uw(e){return v_(e.context)}function xn(e){jt(!1)}function R_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ri.Pop,navigator:o,static:l=!1,future:u}=e;To()&&jt(!1);let c=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:o,static:l,future:Wa({v7_relativeSplatPath:!1},u)}),[c,u,o,l]);typeof r=="string"&&(r=bs(r));let{pathname:h="/",search:p="",hash:y="",state:v=null,key:S="default"}=r,w=k.useMemo(()=>{let _=ko(h,c);return _==null?null:{location:{pathname:_,search:p,hash:y,state:v,key:S},navigationType:i}},[c,h,p,y,v,S,i]);return w==null?null:k.createElement(ni.Provider,{value:f},k.createElement(gc.Provider,{children:n,value:w}))}function O_(e){let{children:t,location:n}=e;return x_(jh(t),n)}new Promise(()=>{});function jh(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let o=[...t,i];if(r.type===k.Fragment){n.push.apply(n,jh(r.props.children,o));return}r.type!==xn&&jt(!1),!r.props.index||!r.props.children||jt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=jh(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qu.apply(this,arguments)}function cw(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function M_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L_(e,t){return e.button===0&&(!t||t==="_self")&&!M_(e)}function Nh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function D_(e,t){let n=Nh(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const $_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],z_="6";try{window.__reactRouterVersion=z_}catch{}const B_=k.createContext({isTransitioning:!1}),U_="startTransition",pv=Hu[U_];function W_(e){let{basename:t,children:n,future:r,window:i}=e,o=k.useRef();o.current==null&&(o.current=HE({window:i,v5Compat:!0}));let l=o.current,[u,c]=k.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},h=k.useCallback(p=>{f&&pv?pv(()=>c(p)):c(p)},[c,f]);return k.useLayoutEffect(()=>l.listen(h),[l,h]),k.useEffect(()=>A_(r),[r]),k.createElement(R_,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const H_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wr=k.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p}=t,y=cw(t,$_),{basename:v}=k.useContext(ni),S,w=!1;if(typeof f=="string"&&V_.test(f)&&(S=f,H_))try{let C=new URL(window.location.href),P=f.startsWith("//")?new URL(C.protocol+f):new URL(f),M=ko(P.pathname,v);P.origin===C.origin&&M!=null?f=M+P.search+P.hash:w=!0}catch{}let _=m_(f,{relative:i}),E=Y_(f,{replace:l,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p});function j(C){r&&r(C),C.defaultPrevented||E(C)}return k.createElement("a",qu({},y,{href:S||_,onClick:w||o?r:j,ref:n,target:c}))}),mv=k.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:c,viewTransition:f,children:h}=t,p=cw(t,F_),y=yc(c,{relative:p.relative}),v=ii(),S=k.useContext(rw),{navigator:w,basename:_}=k.useContext(ni),E=S!=null&&K_(y)&&f===!0,j=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,C=v.pathname,P=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(C=C.toLowerCase(),P=P?P.toLowerCase():null,j=j.toLowerCase()),P&&_&&(P=ko(P,_)||P);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let A=C===j||!l&&C.startsWith(j)&&C.charAt(M)==="/",F=P!=null&&(P===j||!l&&P.startsWith(j)&&P.charAt(j.length)==="/"),Z={isActive:A,isPending:F,isTransitioning:E},se=A?r:void 0,R;typeof o=="function"?R=o(Z):R=[o,A?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(Z):u;return k.createElement(wr,qu({},p,{"aria-current":se,className:R,ref:n,style:L,to:c,viewTransition:f}),typeof h=="function"?h(Z):h)});var Th;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Th||(Th={}));var gv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gv||(gv={}));function q_(e){let t=k.useContext(mc);return t||jt(!1),t}function Y_(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,c=jp(),f=ii(),h=yc(e,{relative:l});return k.useCallback(p=>{if(L_(p,n)){p.preventDefault();let y=r!==void 0?r:Vu(f)===Vu(h);c(e,{replace:y,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,c,h,r,i,n,e,o,l,u])}function Np(e){let t=k.useRef(Nh(e)),n=k.useRef(!1),r=ii(),i=k.useMemo(()=>D_(r.search,n.current?null:t.current),[r.search]),o=jp(),l=k.useCallback((u,c)=>{const f=Nh(typeof u=="function"?u(i):u);n.current=!0,o("?"+f,c)},[o,i]);return[i,l]}function K_(e,t){t===void 0&&(t={});let n=k.useContext(B_);n==null&&jt(!1);let{basename:r}=q_(Th.useViewTransitionState),i=yc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ko(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ko(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ch(i.pathname,l)!=null||Ch(i.pathname,o)!=null}const dw=typeof document<"u"?Se.useLayoutEffect:()=>{};var Af;const G_=(Af=Se.useInsertionEffect)!==null&&Af!==void 0?Af:dw;function J_(e){const t=k.useRef(null);return G_(()=>{t.current=e},[e]),k.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Fi=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},hs=e=>e&&"window"in e&&e.window===e?e:Fi(e).defaultView||window;function Q_(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function X_(e){return Q_(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let Z_=!1;function Tp(){return Z_}function fw(e,t){if(!Tp())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:X_(n)?n=n.host:n=n.parentNode}return!1}const Ih=(e=document)=>{var t;if(!Tp())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function hw(e){return Tp()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function pw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pw(e))&&(r&&(r+=" "),r+=t);return r}function eC(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function tC(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function mw(e){let t=null;return()=>(t==null&&(t=e()),t)}const nC=mw(function(){return tC(/^Mac/i)}),rC=mw(function(){return eC(/Android/i)});function gw(){let e=k.useRef(new Map),t=k.useCallback((i,o,l,u)=>{let c=u!=null&&u.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:o,eventTarget:i,fn:c,options:u}),i.addEventListener(o,c,u)},[]),n=k.useCallback((i,o,l,u)=>{var c;let f=((c=e.current.get(l))===null||c===void 0?void 0:c.fn)||l;i.removeEventListener(o,f,u),e.current.delete(l)},[]),r=k.useCallback(()=>{e.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return k.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function iC(e){return e.pointerType===""&&e.isTrusted?!0:rC()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function yw(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function sC(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function vw(e){let t=k.useRef({isFocused:!1,observer:null});dw(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=J_(r=>{e==null||e(r)});return k.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=l=>{if(t.current.isFocused=!1,i.disabled){let u=yw(l);n(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let oC=!1,el=null,Ph=new Set,Ta=new Map,gs=!1,Ah=!1;const aC={Tab:!0,Escape:!0};function Ip(e,t){for(let n of Ph)n(e,t)}function lC(e){return!(e.metaKey||!nC()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Yu(e){gs=!0,lC(e)&&(el="keyboard",Ip("keyboard",e))}function mo(e){el="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(gs=!0,Ip("pointer",e))}function xw(e){iC(e)&&(gs=!0,el="virtual")}function ww(e){e.target===window||e.target===document||oC||!e.isTrusted||(!gs&&!Ah&&(el="virtual",Ip("virtual",e)),gs=!1,Ah=!1)}function bw(){gs=!1,Ah=!0}function Rh(e){if(typeof window>"u"||typeof document>"u"||Ta.get(hs(e)))return;const t=hs(e),n=Fi(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){gs=!0,r.apply(this,arguments)},n.addEventListener("keydown",Yu,!0),n.addEventListener("keyup",Yu,!0),n.addEventListener("click",xw,!0),t.addEventListener("focus",ww,!0),t.addEventListener("blur",bw,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",mo,!0),n.addEventListener("pointermove",mo,!0),n.addEventListener("pointerup",mo,!0)),t.addEventListener("beforeunload",()=>{kw(e)},{once:!0}),Ta.set(t,{focus:r})}const kw=(e,t)=>{const n=hs(e),r=Fi(e);t&&r.removeEventListener("DOMContentLoaded",t),Ta.has(n)&&(n.HTMLElement.prototype.focus=Ta.get(n).focus,r.removeEventListener("keydown",Yu,!0),r.removeEventListener("keyup",Yu,!0),r.removeEventListener("click",xw,!0),n.removeEventListener("focus",ww,!0),n.removeEventListener("blur",bw,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",mo,!0),r.removeEventListener("pointermove",mo,!0),r.removeEventListener("pointerup",mo,!0)),Ta.delete(n))};function uC(e){const t=Fi(e);let n;return t.readyState!=="loading"?Rh(e):(n=()=>{Rh(e)},t.addEventListener("DOMContentLoaded",n)),()=>kw(e,n)}typeof document<"u"&&uC();function Sw(){return el!=="pointer"}const cC=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function dC(e,t,n){let r=Fi(n==null?void 0:n.target);const i=typeof window<"u"?hs(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?hs(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?hs(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?hs(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof i&&!cC.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!aC[n.key])}function fC(e,t,n){Rh(),k.useEffect(()=>{let r=(i,o)=>{dC(!!(n!=null&&n.isTextInput),i,o)&&e(Sw())};return Ph.add(r),()=>{Ph.delete(r)}},t)}function hC(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=k.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),i&&i(!1),!0},[r,i]),l=vw(o),u=k.useCallback(c=>{const f=Fi(c.target),h=f?Ih(f):Ih();c.target===c.currentTarget&&h===hw(c.nativeEvent)&&(n&&n(c),i&&i(!0),l(c))},[i,n,l]);return{focusProps:{onFocus:!t&&(n||i||r)?u:void 0,onBlur:!t&&(r||i)?o:void 0}}}function pC(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=k.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=gw(),c=k.useCallback(p=>{p.currentTarget.contains(p.target)&&o.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(o.current.isFocusWithin=!1,u(),n&&n(p),i&&i(!1))},[n,i,o,u]),f=vw(c),h=k.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const y=Fi(p.target),v=Ih(y);if(!o.current.isFocusWithin&&v===hw(p.nativeEvent)){r&&r(p),i&&i(!0),o.current.isFocusWithin=!0,f(p);let S=p.currentTarget;l(y,"focus",w=>{if(o.current.isFocusWithin&&!fw(S,w.target)){let _=new y.defaultView.FocusEvent("blur",{relatedTarget:w.target});sC(_,S);let E=yw(_);c(E)}},{capture:!0})}},[r,i,f,l,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:c}}}let Oh=!1,xu=0;function mC(){Oh=!0,setTimeout(()=>{Oh=!1},50)}function yv(e){e.pointerType==="touch"&&mC()}function gC(){if(!(typeof document>"u"))return xu===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",yv),xu++,()=>{xu--,!(xu>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",yv)}}function yC(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,l]=k.useState(!1),u=k.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;k.useEffect(gC,[]);let{addGlobalListener:c,removeAllGlobalListeners:f}=gw(),{hoverProps:h,triggerHoverEnd:p}=k.useMemo(()=>{let y=(w,_)=>{if(u.pointerType=_,i||_==="touch"||u.isHovered||!w.currentTarget.contains(w.target))return;u.isHovered=!0;let E=w.currentTarget;u.target=E,c(Fi(w.target),"pointerover",j=>{u.isHovered&&u.target&&!fw(u.target,j.target)&&v(j,j.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:E,pointerType:_}),n&&n(!0),l(!0)},v=(w,_)=>{let E=u.target;u.pointerType="",u.target=null,!(_==="touch"||!u.isHovered||!E)&&(u.isHovered=!1,f(),r&&r({type:"hoverend",target:E,pointerType:_}),n&&n(!1),l(!1))},S={};return typeof PointerEvent<"u"&&(S.onPointerEnter=w=>{Oh&&w.pointerType==="mouse"||y(w,w.pointerType)},S.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&v(w,w.pointerType)}),{hoverProps:S,triggerHoverEnd:v}},[t,n,r,i,u,c,f]);return k.useEffect(()=>{i&&p({currentTarget:u.target},u.pointerType)},[i]),{hoverProps:h,isHovered:o}}function vC(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=k.useRef({isFocused:!1,isFocusVisible:t||Sw()}),[o,l]=k.useState(!1),[u,c]=k.useState(()=>i.current.isFocused&&i.current.isFocusVisible),f=k.useCallback(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),h=k.useCallback(v=>{i.current.isFocused=v,l(v),f()},[f]);fC(v=>{i.current.isFocusVisible=v,f()},[],{isTextInput:n});let{focusProps:p}=hC({isDisabled:r,onFocusChange:h}),{focusWithinProps:y}=pC({isDisabled:!r,onFocusWithinChange:h});return{isFocused:o,isFocusVisible:u,focusProps:r?y:p}}var xC=Object.defineProperty,wC=(e,t,n)=>t in e?xC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rf=(e,t,n)=>(wC(e,typeof t!="symbol"?t+"":t,n),n);let bC=class{constructor(){Rf(this,"current",this.detect()),Rf(this,"handoffState","pending"),Rf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Mr=new bC;function ks(e){var t;return Mr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Ku(e){var t,n;return Mr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function Pp(e){var t,n;return(n=(t=Ku(e))==null?void 0:t.activeElement)!=null?n:null}function Ew(e){return Pp(e)===e}function xc(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Mn(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return xc(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Mn();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ss(){let[e]=k.useState(Mn);return k.useEffect(()=>()=>e.dispose(),[e]),e}let xt=(e,t)=>{Mr.isServer?k.useEffect(e,t):k.useLayoutEffect(e,t)};function Es(e){let t=k.useRef(e);return xt(()=>{t.current=e},[e]),t}let $e=function(e){let t=Es(e);return Se.useCallback((...n)=>t.current(...n),[t])};function kC(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function SC(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function EC({disabled:e=!1}={}){let t=k.useRef(null),[n,r]=k.useState(!1),i=Ss(),o=$e(()=>{t.current=null,r(!1),i.dispose()}),l=$e(u=>{if(i.dispose(),t.current===null){t.current=u.currentTarget,r(!0);{let c=ks(u.currentTarget);i.addEventListener(c,"pointerup",o,!1),i.addEventListener(c,"pointermove",f=>{if(t.current){let h=kC(f);r(SC(h,t.current.getBoundingClientRect()))}},!1),i.addEventListener(c,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:o,onClick:o}}}function zr(e){return k.useMemo(()=>e,Object.values(e))}let _C=k.createContext(void 0);function _w(){return k.useContext(_C)}function Mh(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function kr(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,kr),r}var So=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(So||{}),Oi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Oi||{});function Bt(){let e=jC();return k.useCallback(t=>CC({mergeRefs:e,...t}),[e])}function CC({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:u}){u=u??NC;let c=Cw(t,e);if(o)return wu(c,n,r,l,u);let f=i??0;if(f&2){let{static:h=!1,...p}=c;if(h)return wu(p,n,r,l,u)}if(f&1){let{unmount:h=!0,...p}=c;return kr(h?0:1,{0(){return null},1(){return wu({...p,hidden:!0,style:{display:"none"}},n,r,l,u)}})}return wu(c,n,r,l,u)}function wu(e,t={},n,r,i){let{as:o=n,children:l,refName:u="ref",...c}=Of(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},h=typeof l=="function"?l(t):l;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let p={};if(t){let y=!1,v=[];for(let[S,w]of Object.entries(t))typeof w=="boolean"&&(y=!0),w===!0&&v.push(S.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(y){p["data-headlessui-state"]=v.join(" ");for(let S of v)p[`data-${S}`]=""}}if(Ia(o)&&(Object.keys(ss(c)).length>0||Object.keys(ss(p)).length>0))if(!k.isValidElement(h)||Array.isArray(h)&&h.length>1||IC(h)){if(Object.keys(ss(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ss(c)).concat(Object.keys(ss(p))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=h.props,v=y==null?void 0:y.className,S=typeof v=="function"?(...E)=>Mh(v(...E),c.className):Mh(v,c.className),w=S?{className:S}:{},_=Cw(h.props,ss(Of(c,["ref"])));for(let E in p)E in _&&delete p[E];return k.cloneElement(h,Object.assign({},_,p,f,{ref:i(TC(h),f.ref)},w))}return k.createElement(o,Object.assign({},Of(c,["ref"]),!Ia(o)&&f,!Ia(o)&&p),h)}function jC(){let e=k.useRef([]),t=k.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function NC(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Cw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let l=n[r];for(let u of l){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;u(i,...o)}}});return t}function jw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let l of o)l==null||l(...i)}});return t}function At(e){var t;return Object.assign(k.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ss(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Of(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function TC(e){return Se.version.split(".")[0]>="19"?e.props.ref:e.ref}function Ia(e){return e===k.Fragment||e===Symbol.for("react.fragment")}function IC(e){return Ia(e.type)}let PC="span";var Gu=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Gu||{});function AC(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Bt()({ourProps:o,theirProps:i,slot:{},defaultTag:PC,name:"Hidden"})}let Lh=At(AC),RC=k.createContext(void 0);function OC(){return k.useContext(RC)}function Nw(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ti(e){return Nw(e)&&"tagName"in e}function Gn(e){return ti(e)&&"accessKey"in e}function Or(e){return ti(e)&&"tabIndex"in e}function MC(e){return ti(e)&&"style"in e}function LC(e){return Gn(e)&&e.nodeName==="IFRAME"}function Tw(e){return Gn(e)&&e.nodeName==="INPUT"}function vv(e){return Gn(e)&&e.nodeName==="LABEL"}function DC(e){return Gn(e)&&e.nodeName==="FIELDSET"}function Iw(e){return Gn(e)&&e.nodeName==="LEGEND"}function $C(e){return ti(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function xv(e){let t=e.parentElement,n=null;for(;t&&!DC(t);)Iw(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&FC(n)?!1:r}function FC(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Iw(t))return!1;t=t.previousElementSibling}return!0}let Pw=Symbol();function zC(e,t=!0){return Object.assign(e,{[Pw]:t})}function Sn(...e){let t=k.useRef(e);k.useEffect(()=>{t.current=e},[e]);let n=$e(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Pw]))?void 0:n}let Ap=k.createContext(null);Ap.displayName="DescriptionContext";function Aw(){let e=k.useContext(Ap);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Aw),t}return e}function Rw(){let[e,t]=k.useState([]);return[e.length>0?e.join(" "):void 0,k.useMemo(()=>function(n){let r=$e(o=>(t(l=>[...l,o]),()=>t(l=>{let u=l.slice(),c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}))),i=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Se.createElement(Ap.Provider,{value:i},n.children)},[t])]}let BC="p";function UC(e,t){let n=k.useId(),r=_w(),{id:i=`headlessui-description-${n}`,...o}=e,l=Aw(),u=Sn(t);xt(()=>l.register(i),[i,l.register]);let c=zr({...l.slot,disabled:r||!1}),f={ref:u,...l.props,id:i};return Bt()({ourProps:f,theirProps:o,slot:c,defaultTag:BC,name:l.name||"Description"})}let WC=At(UC),HC=Object.assign(WC,{});var Qt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Qt||{});let wc=k.createContext(null);wc.displayName="LabelContext";function Rp(){let e=k.useContext(wc);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Rp),t}return e}function VC(e){var t,n,r;let i=(n=(t=k.useContext(wc))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function Ow({inherit:e=!1}={}){let t=VC(),[n,r]=k.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,k.useMemo(()=>function(o){let l=$e(c=>(r(f=>[...f,c]),()=>r(f=>{let h=f.slice(),p=h.indexOf(c);return p!==-1&&h.splice(p,1),h}))),u=k.useMemo(()=>({register:l,slot:o.slot,name:o.name,props:o.props,value:o.value}),[l,o.slot,o.name,o.props,o.value]);return Se.createElement(wc.Provider,{value:u},o.children)},[r])]}let qC="label";function YC(e,t){var n;let r=k.useId(),i=Rp(),o=OC(),l=_w(),{id:u=`headlessui-label-${r}`,htmlFor:c=o??((n=i.props)==null?void 0:n.htmlFor),passive:f=!1,...h}=e,p=Sn(t);xt(()=>i.register(u),[u,i.register]);let y=$e(w=>{let _=w.currentTarget;if(!(w.target!==w.currentTarget&&$C(w.target))&&(vv(_)&&w.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(w),vv(_))){let E=document.getElementById(_.htmlFor);if(E){let j=E.getAttribute("disabled");if(j==="true"||j==="")return;let C=E.getAttribute("aria-disabled");if(C==="true"||C==="")return;(Tw(E)&&(E.type==="file"||E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),v=zr({...i.slot,disabled:l||!1}),S={ref:p,...i.props,id:u,htmlFor:c,onClick:y};return f&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in h&&delete h.onClick),Bt()({ourProps:S,theirProps:h,slot:v,defaultTag:c?qC:"div",name:i.name||"Label"})}let KC=At(YC);Object.assign(KC,{});let GC=k.createContext(()=>{});function JC({value:e,children:t}){return Se.createElement(GC.Provider,{value:e},t)}function wv(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function QC(e,t,n=!1){let[r,i]=k.useState(()=>wv(t));return xt(()=>{if(!t||!e)return;let o=Mn();return o.requestAnimationFrame(function l(){o.requestAnimationFrame(l),i(u=>{let c=wv(t);return c.width===u.width&&c.height===u.height?u:c})}),()=>{o.dispose()}},[t,e]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var Mw=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Mw||{});function XC(e){let t=k.useRef(null),n=$e(i=>{t.current=i.pointerType,!xv(i.currentTarget)&&i.pointerType==="mouse"&&i.button===Mw.Left&&(i.preventDefault(),e(i))}),r=$e(i=>{t.current!=="mouse"&&(xv(i.currentTarget)||e(i))});return{onPointerDown:n,onClick:r}}let Lw=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var ZC=Object.defineProperty,ej=(e,t,n)=>t in e?ZC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tj=(e,t,n)=>(ej(e,t+"",n),n),Dw=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},rr=(e,t,n)=>(Dw(e,t,"read from private field"),n?n.call(e):t.get(e)),Mf=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},bv=(e,t,n,r)=>(Dw(e,t,"write to private field"),t.set(e,n),n),Pr,Ea,_a;let $w=class{constructor(t){Mf(this,Pr,{}),Mf(this,Ea,new Lw(()=>new Set)),Mf(this,_a,new Set),tj(this,"disposables",Mn()),bv(this,Pr,t),Mr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return rr(this,Pr)}subscribe(t,n){if(Mr.isServer)return()=>{};let r={selector:t,callback:n,current:t(rr(this,Pr))};return rr(this,_a).add(r),this.disposables.add(()=>{rr(this,_a).delete(r)})}on(t,n){return Mr.isServer?()=>{}:(rr(this,Ea).get(t).add(n),this.disposables.add(()=>{rr(this,Ea).get(t).delete(n)}))}send(t){let n=this.reduce(rr(this,Pr),t);if(n!==rr(this,Pr)){bv(this,Pr,n);for(let r of rr(this,_a)){let i=r.selector(rr(this,Pr));Fw(r.current,i)||(r.current=i,r.callback(i))}for(let r of rr(this,Ea).get(t.type))r(rr(this,Pr),t)}}};Pr=new WeakMap,Ea=new WeakMap,_a=new WeakMap;function Fw(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Lf(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Lf(e.entries(),t.entries()):kv(e)&&kv(t)?Lf(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Lf(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function kv(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function Sv(e){let[t,n]=e(),r=Mn();return(...i)=>{t(...i),r.dispose(),r.microTask(n)}}var nj=Object.defineProperty,rj=(e,t,n)=>t in e?nj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ev=(e,t,n)=>(rj(e,typeof t!="symbol"?t+"":t,n),n),zw=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(zw||{});let ij={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let o=e.stack.slice();return o.splice(i,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},sj=class Bw extends $w{constructor(){super(...arguments),Ev(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Ev(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Bw({stack:[]})}reduce(t,n){return kr(n.type,ij,t,n)}};const bc=new Lw(()=>sj.new());var Df={exports:{}},$f={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function oj(){if(_v)return $f;_v=1;var e=pc();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return $f.useSyncExternalStoreWithSelector=function(c,f,h,p,y){var v=i(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=l(function(){function _(M){if(!E){if(E=!0,j=M,M=p(M),y!==void 0&&S.hasValue){var A=S.value;if(y(A,M))return C=A}return C=M}if(A=C,n(j,M))return A;var F=p(M);return y!==void 0&&y(A,F)?(j=M,A):(j=M,C=F)}var E=!1,j,C,P=h===void 0?null:h;return[function(){return _(f())},P===null?void 0:function(){return _(P())}]},[f,h,p,y]);var w=r(c,v[0],v[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},$f}var Cv;function aj(){return Cv||(Cv=1,Df.exports=oj()),Df.exports}var lj=aj();function or(e,t,n=Fw){return lj.useSyncExternalStoreWithSelector($e(r=>e.subscribe(uj,r)),$e(()=>e.state),$e(()=>e.state),$e(t),n)}function uj(e){return e}function tl(e,t){let n=k.useId(),r=bc.get(t),[i,o]=or(r,k.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return xt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?i:!0:!1}let Dh=new Map,Pa=new Map;function jv(e){var t;let n=(t=Pa.get(e))!=null?t:0;return Pa.set(e,n+1),n!==0?()=>Nv(e):(Dh.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Nv(e))}function Nv(e){var t;let n=(t=Pa.get(e))!=null?t:1;if(n===1?Pa.delete(e):Pa.set(e,n-1),n!==1)return;let r=Dh.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Dh.delete(e))}function Uw(e,{allowed:t,disallowed:n}={}){let r=tl(e,"inert-others");xt(()=>{var i,o;if(!r)return;let l=Mn();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&l.add(jv(c));let u=(o=t==null?void 0:t())!=null?o:[];for(let c of u){if(!c)continue;let f=ks(c);if(!f)continue;let h=c.parentElement;for(;h&&h!==f.body;){for(let p of h.children)u.some(y=>p.contains(y))||l.add(jv(p));h=h.parentElement}}return l.dispose},[r,t,n])}function Ww(e,t,n){let r=Es(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});k.useEffect(()=>{if(!e)return;let i=t===null?null:Gn(t)?t:t.current;if(!i)return;let o=Mn();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[t,r,e])}let Ju=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),cj=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var xr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(xr||{}),$h=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))($h||{}),dj=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(dj||{});function Hw(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ju)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function fj(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(cj)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Op=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Op||{});function Mp(e,t=0){var n;return e===((n=ks(e))==null?void 0:n.body)?!1:kr(t,{0(){return e.matches(Ju)},1(){let r=e;for(;r!==null;){if(r.matches(Ju))return!0;r=r.parentElement}return!1}})}function Vw(e){Mn().nextFrame(()=>{let t=Pp(e);t&&Or(t)&&!Mp(t,0)&&Lr(e)})}var hj=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(hj||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Lr(e){e==null||e.focus({preventScroll:!0})}let pj=["textarea","input"].join(",");function mj(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,pj))!=null?n:!1}function qw(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function gj(e,t,n=e===null?document.body:Ku(e)){return go(Hw(n),t,{relativeTo:e})}function go(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?Ku(e[0]):document:Ku(e),l=Array.isArray(e)?n?qw(e):e:t&64?fj(e):Hw(e);i.length>0&&l.length>1&&(l=l.filter(v=>!i.some(S=>S!=null&&"current"in S?(S==null?void 0:S.current)===v:S===v))),r=r??(o==null?void 0:o.activeElement);let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,p=l.length,y;do{if(h>=p||h+p<=0)return 0;let v=c+h;if(t&16)v=(v+p)%p;else{if(v<0)return 3;if(v>=p)return 1}y=l[v],y==null||y.focus(f),h+=u}while(y!==Pp(y));return t&6&&mj(y)&&y.select(),2}function Yw(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function yj(){return/Android/gi.test(window.navigator.userAgent)}function Tv(){return Yw()||yj()}function po(e,t,n,r){let i=Es(n);k.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function Kw(e,t,n,r){let i=Es(n);k.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Iv=30;function Gw(e,t,n){let r=Es(n),i=k.useCallback(function(u,c){if(u.defaultPrevented)return;let f=c(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=(function p(y){return typeof y=="function"?p(y()):Array.isArray(y)||y instanceof Set?y:[y]})(t);for(let p of h)if(p!==null&&(p.contains(f)||u.composed&&u.composedPath().includes(p)))return;return!Mp(f,Op.Loose)&&f.tabIndex!==-1&&u.preventDefault(),r.current(u,f)},[r,t]),o=k.useRef(null);po(e,"pointerdown",u=>{var c,f;Tv()||(o.current=((f=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:f[0])||u.target)},!0),po(e,"pointerup",u=>{if(Tv()||!o.current)return;let c=o.current;return o.current=null,i(u,()=>c)},!0);let l=k.useRef({x:0,y:0});po(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),po(e,"touchend",u=>{let c={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(c.x-l.current.x)>=Iv||Math.abs(c.y-l.current.y)>=Iv))return i(u,()=>Or(u.target)?u.target:null)},!0),Kw(e,"blur",u=>i(u,()=>LC(window.document.activeElement)?window.document.activeElement:null),!0)}function Ha(...e){return k.useMemo(()=>ks(...e),[...e])}var vj=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(vj||{});const bu={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},xj=200,Pv=5;function wj(e,{trigger:t,action:n,close:r,select:i}){let o=k.useRef(null),l=k.useRef(null),u=k.useRef(null);po(e&&t!==null,"pointerdown",c=>{Nw(c==null?void 0:c.target)&&t!=null&&t.contains(c.target)&&(l.current=c.x,u.current=c.y,o.current=c.timeStamp)}),po(e&&t!==null,"pointerup",c=>{var f,h;let p=o.current;if(p===null||(o.current=null,!Or(c.target))||Math.abs(c.x-((f=l.current)!=null?f:c.x))<Pv&&Math.abs(c.y-((h=u.current)!=null?h:c.y))<Pv)return;let y=n(c);switch(y.kind){case 0:return;case 1:{c.timeStamp-p>xj&&(i(y.target),r());break}case 2:{r();break}}},{capture:!0})}function Jw(e,t,n,r){let i=Es(n);k.useEffect(()=>{e=e??window;function o(l){i.current(l)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function bj(e,t){return k.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function kj(e){return k.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Sj(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=t[i].call(n,...o);l&&(n=l,r.forEach(u=>u()))}}}function Ej(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function _j(){return Yw()?{before({doc:e,d:t,meta:n}){function r(i){for(let o of n().containers)for(let l of o())if(l.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=Mn();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Or(u.target))try{let c=u.target.closest("a");if(!c)return;let{hash:f}=new URL(c.href),h=e.querySelector(f);Or(h)&&!r(h)&&(l=h)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",c=>{if(u.dispose(),Or(c.target)&&MC(c.target))if(r(c.target)){let f=c.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Or(u.target)){if(Tw(u.target))return;if(r(u.target)){let c=u.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let c=(u=window.scrollY)!=null?u:window.pageYOffset;o!==c&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Cj(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Av(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ps=Sj(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Mn(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Av(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Av(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[_j(),Ej(),Cj()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ps.subscribe(()=>{let e=ps.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ps.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ps.dispatch("TEARDOWN",n)}});function jj(e,t,n=()=>({containers:[]})){let r=kj(ps),i=t?r.get(t):void 0,o=i?i.count>0:!1;return xt(()=>{if(!(!t||!e))return ps.dispatch("PUSH",t,n),()=>ps.dispatch("POP",t,n)},[e,t]),o}function Qw(e,t,n=()=>[document.body]){let r=tl(e,"scroll-lock");jj(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function Rv(e){return[e.screenX,e.screenY]}function Nj(){let e=k.useRef([-1,-1]);return{wasMoved(t){let n=Rv(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Rv(t)}}}function Tj(e=0){let[t,n]=k.useState(e),r=k.useCallback(c=>n(c),[]),i=k.useCallback(c=>n(f=>f|c),[]),o=k.useCallback(c=>(t&c)===c,[t]),l=k.useCallback(c=>n(f=>f&~c),[]),u=k.useCallback(c=>n(f=>f^c),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:u}}var Ij={},Ov,Mv;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Ov=process==null?void 0:Ij)==null?void 0:Ov.NODE_ENV)==="test"&&typeof((Mv=Element==null?void 0:Element.prototype)==null?void 0:Mv.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Pj=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Pj||{});function Xw(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Zw(e,t,n,r){let[i,o]=k.useState(n),{hasFlag:l,addFlag:u,removeFlag:c}=Tj(e&&i?3:0),f=k.useRef(!1),h=k.useRef(!1),p=Ss();return xt(()=>{var y;if(e){if(n&&o(!0),!t){n&&u(3);return}return(y=r==null?void 0:r.start)==null||y.call(r,n),Aj(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(u(3),c(4)):(u(4),c(2)))},run(){h.current?n?(c(3),u(4)):(c(4),u(3)):n?c(1):u(1)},done(){var v;h.current&&Mj(t)||(f.current=!1,c(7),n||o(!1),(v=r==null?void 0:r.end)==null||v.call(r,n))}})}},[e,n,t,p]),e?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Aj(e,{prepare:t,run:n,done:r,inFlight:i}){let o=Mn();return Oj(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(Rj(e,r))})}),o.dispose}function Rj(e,t){var n,r;let i=Mn();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),i.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{o||t()}),i.dispose)}function Oj(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Mj(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Lj(e,{container:t,accept:n,walk:r}){let i=k.useRef(n),o=k.useRef(r);k.useEffect(()=>{i.current=n,o.current=r},[n,r]),xt(()=>{if(!t||!e)return;let l=ks(t);if(!l)return;let u=i.current,c=o.current,f=Object.assign(p=>u(p),{acceptNode:u}),h=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;h.nextNode();)c(h.currentNode)},[t,e,i,o])}function Lp(e,t){let n=k.useRef([]),r=$e(e);k.useEffect(()=>{let i=[...n.current];for(let[o,l]of t.entries())if(n.current[o]!==l){let u=r(t,i);return n.current=t,u}},[r,...t])}function kc(){return typeof window<"u"}function Io(e){return eb(e)?(e.nodeName||"").toLowerCase():"#document"}function Yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Br(e){var t;return(t=(eb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eb(e){return kc()?e instanceof Node||e instanceof Yn(e).Node:!1}function bn(e){return kc()?e instanceof Element||e instanceof Yn(e).Element:!1}function $r(e){return kc()?e instanceof HTMLElement||e instanceof Yn(e).HTMLElement:!1}function Lv(e){return!kc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yn(e).ShadowRoot}const Dj=new Set(["inline","contents"]);function nl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Sr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Dj.has(i)}const $j=new Set(["table","td","th"]);function Fj(e){return $j.has(Io(e))}const zj=[":popover-open",":modal"];function Sc(e){return zj.some(t=>{try{return e.matches(t)}catch{return!1}})}const Bj=["transform","translate","scale","rotate","perspective"],Uj=["transform","translate","scale","rotate","perspective","filter"],Wj=["paint","layout","strict","content"];function Dp(e){const t=$p(),n=bn(e)?Sr(e):e;return Bj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Uj.some(r=>(n.willChange||"").includes(r))||Wj.some(r=>(n.contain||"").includes(r))}function Hj(e){let t=Li(e);for(;$r(t)&&!Eo(t);){if(Dp(t))return t;if(Sc(t))return null;t=Li(t)}return null}function $p(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vj=new Set(["html","body","#document"]);function Eo(e){return Vj.has(Io(e))}function Sr(e){return Yn(e).getComputedStyle(e)}function Ec(e){return bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Li(e){if(Io(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lv(e)&&e.host||Br(e);return Lv(t)?t.host:t}function tb(e){const t=Li(e);return Eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:$r(t)&&nl(t)?t:tb(t)}function Va(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=tb(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=Yn(i);if(o){const u=Fh(l);return t.concat(l,l.visualViewport||[],nl(i)?i:[],u&&n?Va(u):[])}return t.concat(i,Va(i,[],n))}function Fh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qj(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const ys=Math.min,fn=Math.max,qa=Math.round,ku=Math.floor,Dr=e=>({x:e,y:e}),Yj={left:"right",right:"left",bottom:"top",top:"bottom"},Kj={start:"end",end:"start"};function Dv(e,t,n){return fn(e,ys(t,n))}function Po(e,t){return typeof e=="function"?e(t):e}function Di(e){return e.split("-")[0]}function rl(e){return e.split("-")[1]}function nb(e){return e==="x"?"y":"x"}function rb(e){return e==="y"?"height":"width"}const Gj=new Set(["top","bottom"]);function ei(e){return Gj.has(Di(e))?"y":"x"}function ib(e){return nb(ei(e))}function Jj(e,t,n){n===void 0&&(n=!1);const r=rl(e),i=ib(e),o=rb(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Qu(l)),[l,Qu(l)]}function Qj(e){const t=Qu(e);return[zh(e),t,zh(t)]}function zh(e){return e.replace(/start|end/g,t=>Kj[t])}const $v=["left","right"],Fv=["right","left"],Xj=["top","bottom"],Zj=["bottom","top"];function eN(e,t,n){switch(e){case"top":case"bottom":return n?t?Fv:$v:t?$v:Fv;case"left":case"right":return t?Xj:Zj;default:return[]}}function tN(e,t,n,r){const i=rl(e);let o=eN(Di(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(zh)))),o}function Qu(e){return e.replace(/left|right|bottom|top/g,t=>Yj[t])}function nN(e){return{top:0,right:0,bottom:0,left:0,...e}}function rN(e){return typeof e!="number"?nN(e):{top:e,right:e,bottom:e,left:e}}function Xu(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function zv(e,t,n){let{reference:r,floating:i}=e;const o=ei(t),l=ib(t),u=rb(l),c=Di(t),f=o==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,y=r[u]/2-i[u]/2;let v;switch(c){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-i.width,y:p};break;default:v={x:r.x,y:r.y}}switch(rl(t)){case"start":v[l]-=y*(n&&f?-1:1);break;case"end":v[l]+=y*(n&&f?-1:1);break}return v}const iN=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=zv(f,r,c),y=r,v={},S=0;for(let w=0;w<u.length;w++){const{name:_,fn:E}=u[w],{x:j,y:C,data:P,reset:M}=await E({x:h,y:p,initialPlacement:r,placement:y,strategy:i,middlewareData:v,rects:f,platform:l,elements:{reference:e,floating:t}});h=j??h,p=C??p,v={...v,[_]:{...v[_],...P}},M&&S<=50&&(S++,typeof M=="object"&&(M.placement&&(y=M.placement),M.rects&&(f=M.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:h,y:p}=zv(f,y,c)),w=-1)}return{x:h,y:p,placement:y,strategy:i,middlewareData:v}};async function _c(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:u,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:y=!1,padding:v=0}=Po(t,e),S=rN(v),_=u[y?p==="floating"?"reference":"floating":p],E=Xu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:c})),j=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),P=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},M=Xu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:C,strategy:c}):j);return{top:(E.top-M.top+S.top)/P.y,bottom:(M.bottom-E.bottom+S.bottom)/P.y,left:(E.left-M.left+S.left)/P.x,right:(M.right-E.right+S.right)/P.x}}const sN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:c,elements:f}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,..._}=Po(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=Di(i),j=ei(u),C=Di(u)===u,P=await(c.isRTL==null?void 0:c.isRTL(f.floating)),M=y||(C||!w?[Qu(u)]:Qj(u)),A=S!=="none";!y&&A&&M.push(...tN(u,w,S,P));const F=[u,...M],Z=await _c(t,_),se=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&se.push(Z[E]),p){const V=Jj(i,l,P);se.push(Z[V[0]],Z[V[1]])}if(R=[...R,{placement:i,overflows:se}],!se.every(V=>V<=0)){var L,Q;const V=(((L=o.flip)==null?void 0:L.index)||0)+1,$=F[V];if($&&(!(p==="alignment"?j!==ei($):!1)||R.every(O=>ei(O.placement)===j?O.overflows[0]>0:!0)))return{data:{index:V,overflows:R},reset:{placement:$}};let W=(Q=R.filter(X=>X.overflows[0]<=0).sort((X,O)=>X.overflows[1]-O.overflows[1])[0])==null?void 0:Q.placement;if(!W)switch(v){case"bestFit":{var G;const X=(G=R.filter(O=>{if(A){const q=ei(O.placement);return q===j||q==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(q=>q>0).reduce((q,N)=>q+N,0)]).sort((O,q)=>O[1]-q[1])[0])==null?void 0:G[0];X&&(W=X);break}case"initialPlacement":W=u;break}if(i!==W)return{reset:{placement:W}}}return{}}}},oN=new Set(["left","top"]);async function aN(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Di(n),u=rl(n),c=ei(n)==="y",f=oN.has(l)?-1:1,h=o&&c?-1:1,p=Po(t,e);let{mainAxis:y,crossAxis:v,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof S=="number"&&(v=u==="end"?S*-1:S),c?{x:v*h,y:y*f}:{x:y*f,y:v*h}}const lN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:u}=t,c=await aN(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:l}}}}},uN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:_=>{let{x:E,y:j}=_;return{x:E,y:j}}},...c}=Po(e,t),f={x:n,y:r},h=await _c(t,c),p=ei(Di(i)),y=nb(p);let v=f[y],S=f[p];if(o){const _=y==="y"?"top":"left",E=y==="y"?"bottom":"right",j=v+h[_],C=v-h[E];v=Dv(j,v,C)}if(l){const _=p==="y"?"top":"left",E=p==="y"?"bottom":"right",j=S+h[_],C=S-h[E];S=Dv(j,S,C)}const w=u.fn({...t,[y]:v,[p]:S});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[y]:o,[p]:l}}}}}},cN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:c=()=>{},...f}=Po(e,t),h=await _c(t,f),p=Di(i),y=rl(i),v=ei(i)==="y",{width:S,height:w}=o.floating;let _,E;p==="top"||p==="bottom"?(_=p,E=y===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(E=p,_=y==="end"?"top":"bottom");const j=w-h.top-h.bottom,C=S-h.left-h.right,P=ys(w-h[_],j),M=ys(S-h[E],C),A=!t.middlewareData.shift;let F=P,Z=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Z=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=j),A&&!y){const R=fn(h.left,0),L=fn(h.right,0),Q=fn(h.top,0),G=fn(h.bottom,0);v?Z=S-2*(R!==0||L!==0?R+L:fn(h.left,h.right)):F=w-2*(Q!==0||G!==0?Q+G:fn(h.top,h.bottom))}await c({...t,availableWidth:Z,availableHeight:F});const se=await l.getDimensions(u.floating);return S!==se.width||w!==se.height?{reset:{rects:!0}}:{}}}};function sb(e){const t=Sr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=$r(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=qa(n)!==o||qa(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function Fp(e){return bn(e)?e:e.contextElement}function yo(e){const t=Fp(e);if(!$r(t))return Dr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=sb(t);let l=(o?qa(n.width):n.width)/r,u=(o?qa(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const dN=Dr(0);function ob(e){const t=Yn(e);return!$p()||!t.visualViewport?dN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yn(e)?!1:t}function vs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Fp(e);let l=Dr(1);t&&(r?bn(r)&&(l=yo(r)):l=yo(e));const u=fN(o,n,r)?ob(o):Dr(0);let c=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,h=i.width/l.x,p=i.height/l.y;if(o){const y=Yn(o),v=r&&bn(r)?Yn(r):r;let S=y,w=Fh(S);for(;w&&r&&v!==S;){const _=yo(w),E=w.getBoundingClientRect(),j=Sr(w),C=E.left+(w.clientLeft+parseFloat(j.paddingLeft))*_.x,P=E.top+(w.clientTop+parseFloat(j.paddingTop))*_.y;c*=_.x,f*=_.y,h*=_.x,p*=_.y,c+=C,f+=P,S=Yn(w),w=Fh(S)}}return Xu({width:h,height:p,x:c,y:f})}function Cc(e,t){const n=Ec(e).scrollLeft;return t?t.left+n:vs(Br(e)).left+n}function ab(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Cc(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function hN(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=Br(r),u=t?Sc(t.floating):!1;if(r===l||u&&o)return n;let c={scrollLeft:0,scrollTop:0},f=Dr(1);const h=Dr(0),p=$r(r);if((p||!p&&!o)&&((Io(r)!=="body"||nl(l))&&(c=Ec(r)),$r(r))){const v=vs(r);f=yo(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const y=l&&!p&&!o?ab(l,c):Dr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+h.x+y.x,y:n.y*f.y-c.scrollTop*f.y+h.y+y.y}}function pN(e){return Array.from(e.getClientRects())}function mN(e){const t=Br(e),n=Ec(e),r=e.ownerDocument.body,i=fn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=fn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Cc(e);const u=-n.scrollTop;return Sr(r).direction==="rtl"&&(l+=fn(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:u}}const Bv=25;function gN(e,t){const n=Yn(e),r=Br(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,c=0;if(i){o=i.width,l=i.height;const h=$p();(!h||h&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}const f=Cc(r);if(f<=0){const h=r.ownerDocument,p=h.body,y=getComputedStyle(p),v=h.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(r.clientWidth-p.clientWidth-v);S<=Bv&&(o-=S)}else f<=Bv&&(o+=f);return{width:o,height:l,x:u,y:c}}const yN=new Set(["absolute","fixed"]);function vN(e,t){const n=vs(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=$r(e)?yo(e):Dr(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:l,height:u,x:c,y:f}}function Uv(e,t,n){let r;if(t==="viewport")r=gN(e,n);else if(t==="document")r=mN(Br(e));else if(bn(t))r=vN(t,n);else{const i=ob(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Xu(r)}function lb(e,t){const n=Li(e);return n===t||!bn(n)||Eo(n)?!1:Sr(n).position==="fixed"||lb(n,t)}function xN(e,t){const n=t.get(e);if(n)return n;let r=Va(e,[],!1).filter(u=>bn(u)&&Io(u)!=="body"),i=null;const o=Sr(e).position==="fixed";let l=o?Li(e):e;for(;bn(l)&&!Eo(l);){const u=Sr(l),c=Dp(l);!c&&u.position==="fixed"&&(i=null),(o?!c&&!i:!c&&u.position==="static"&&!!i&&yN.has(i.position)||nl(l)&&!c&&lb(e,l))?r=r.filter(h=>h!==l):i=u,l=Li(l)}return t.set(e,r),r}function wN(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?Sc(t)?[]:xN(t,this._c):[].concat(n),r],u=l[0],c=l.reduce((f,h)=>{const p=Uv(t,h,i);return f.top=fn(p.top,f.top),f.right=ys(p.right,f.right),f.bottom=ys(p.bottom,f.bottom),f.left=fn(p.left,f.left),f},Uv(t,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bN(e){const{width:t,height:n}=sb(e);return{width:t,height:n}}function kN(e,t,n){const r=$r(t),i=Br(t),o=n==="fixed",l=vs(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const c=Dr(0);function f(){c.x=Cc(i)}if(r||!r&&!o)if((Io(t)!=="body"||nl(i))&&(u=Ec(t)),r){const v=vs(t,!0,o,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else i&&f();o&&!r&&i&&f();const h=i&&!r&&!o?ab(i,u):Dr(0),p=l.left+u.scrollLeft-c.x-h.x,y=l.top+u.scrollTop-c.y-h.y;return{x:p,y,width:l.width,height:l.height}}function Ff(e){return Sr(e).position==="static"}function Wv(e,t){if(!$r(e)||Sr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Br(e)===n&&(n=n.ownerDocument.body),n}function ub(e,t){const n=Yn(e);if(Sc(e))return n;if(!$r(e)){let i=Li(e);for(;i&&!Eo(i);){if(bn(i)&&!Ff(i))return i;i=Li(i)}return n}let r=Wv(e,t);for(;r&&Fj(r)&&Ff(r);)r=Wv(r,t);return r&&Eo(r)&&Ff(r)&&!Dp(r)?n:r||Hj(e)||n}const SN=async function(e){const t=this.getOffsetParent||ub,n=this.getDimensions,r=await n(e.floating);return{reference:kN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EN(e){return Sr(e).direction==="rtl"}const _N={convertOffsetParentRelativeRectToViewportRelativeRect:hN,getDocumentElement:Br,getClippingRect:wN,getOffsetParent:ub,getElementRects:SN,getClientRects:pN,getDimensions:bN,getScale:yo,isElement:bn,isRTL:EN};function cb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CN(e,t){let n=null,r;const i=Br(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const f=e.getBoundingClientRect(),{left:h,top:p,width:y,height:v}=f;if(u||t(),!y||!v)return;const S=ku(p),w=ku(i.clientWidth-(h+y)),_=ku(i.clientHeight-(p+v)),E=ku(h),C={rootMargin:-S+"px "+-w+"px "+-_+"px "+-E+"px",threshold:fn(0,ys(1,c))||1};let P=!0;function M(A){const F=A[0].intersectionRatio;if(F!==c){if(!P)return l();F?l(!1,F):r=setTimeout(()=>{l(!1,1e-7)},1e3)}F===1&&!cb(f,e.getBoundingClientRect())&&l(),P=!1}try{n=new IntersectionObserver(M,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,C)}n.observe(e)}return l(!0),o}function jN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Fp(e),h=i||o?[...f?Va(f):[],...Va(t)]:[];h.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const p=f&&u?CN(f,n):null;let y=-1,v=null;l&&(v=new ResizeObserver(E=>{let[j]=E;j&&j.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),n()}),f&&!c&&v.observe(f),v.observe(t));let S,w=c?vs(e):null;c&&_();function _(){const E=vs(e);w&&!cb(w,E)&&n(),w=E,S=requestAnimationFrame(_)}return n(),()=>{var E;h.forEach(j=>{i&&j.removeEventListener("scroll",n),o&&j.removeEventListener("resize",n)}),p==null||p(),(E=v)==null||E.disconnect(),v=null,c&&cancelAnimationFrame(S)}}const zf=_c,NN=lN,TN=uN,IN=sN,PN=cN,AN=(e,t,n)=>{const r=new Map,i={platform:_N,...n},o={...i.platform,_c:r};return iN(e,t,{...i,platform:o})};var RN=typeof document<"u",ON=function(){},Lu=RN?k.useLayoutEffect:ON;function Zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Zu(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Zu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function db(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hv(e,t){const n=db(e);return Math.round(t*n)/n}function Bf(e){const t=k.useRef(e);return Lu(()=>{t.current=e}),t}function MN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:c,open:f}=e,[h,p]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,v]=k.useState(r);Zu(y,r)||v(r);const[S,w]=k.useState(null),[_,E]=k.useState(null),j=k.useCallback(O=>{O!==A.current&&(A.current=O,w(O))},[]),C=k.useCallback(O=>{O!==F.current&&(F.current=O,E(O))},[]),P=o||S,M=l||_,A=k.useRef(null),F=k.useRef(null),Z=k.useRef(h),se=c!=null,R=Bf(c),L=Bf(i),Q=Bf(f),G=k.useCallback(()=>{if(!A.current||!F.current)return;const O={placement:t,strategy:n,middleware:y};L.current&&(O.platform=L.current),AN(A.current,F.current,O).then(q=>{const N={...q,isPositioned:Q.current!==!1};V.current&&!Zu(Z.current,N)&&(Z.current=N,qn.flushSync(()=>{p(N)}))})},[y,t,n,L,Q]);Lu(()=>{f===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[f]);const V=k.useRef(!1);Lu(()=>(V.current=!0,()=>{V.current=!1}),[]),Lu(()=>{if(P&&(A.current=P),M&&(F.current=M),P&&M){if(R.current)return R.current(P,M,G);G()}},[P,M,G,R,se]);const $=k.useMemo(()=>({reference:A,floating:F,setReference:j,setFloating:C}),[j,C]),W=k.useMemo(()=>({reference:P,floating:M}),[P,M]),X=k.useMemo(()=>{const O={position:n,left:0,top:0};if(!W.floating)return O;const q=Hv(W.floating,h.x),N=Hv(W.floating,h.y);return u?{...O,transform:"translate("+q+"px, "+N+"px)",...db(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:N}},[n,u,W.floating,h.x,h.y]);return k.useMemo(()=>({...h,update:G,refs:$,elements:W,floatingStyles:X}),[h,G,$,W,X])}const fb=(e,t)=>({...NN(e),options:[e,t]}),LN=(e,t)=>({...TN(e),options:[e,t]}),DN=(e,t)=>({...IN(e),options:[e,t]}),$N=(e,t)=>({...PN(e),options:[e,t]}),hb={...Hu},FN=hb.useInsertionEffect,zN=FN||(e=>e());function pb(e){const t=k.useRef(()=>{});return zN(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Bh=typeof document<"u"?k.useLayoutEffect:k.useEffect;let Vv=!1,BN=0;const qv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+BN++;function UN(){const[e,t]=k.useState(()=>Vv?qv():void 0);return Bh(()=>{e==null&&t(qv())},[]),k.useEffect(()=>{Vv=!0},[]),e}const WN=hb.useId,HN=WN||UN;function VN(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const qN=k.createContext(null),YN=k.createContext(null),KN=()=>{var e;return((e=k.useContext(qN))==null?void 0:e.id)||null},GN=()=>k.useContext(YN),JN="data-floating-ui-focusable";function QN(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=HN(),o=k.useRef({}),[l]=k.useState(()=>VN()),u=KN()!=null,[c,f]=k.useState(r.reference),h=pb((v,S,w)=>{o.current.openEvent=v?S:void 0,l.emit("openchange",{open:v,event:S,reason:w,nested:u}),n==null||n(v,S,w)}),p=k.useMemo(()=>({setPositionReference:f}),[]),y=k.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return k.useMemo(()=>({dataRef:o,open:t,onOpenChange:h,elements:y,events:l,floatingId:i,refs:p}),[t,h,y,l,i,p])}function XN(e){e===void 0&&(e={});const{nodeId:t}=e,n=QN({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,l]=k.useState(null),[u,c]=k.useState(null),h=(i==null?void 0:i.domReference)||o,p=k.useRef(null),y=GN();Bh(()=>{h&&(p.current=h)},[h]);const v=MN({...e,elements:{...i,...u&&{reference:u}}}),S=k.useCallback(C=>{const P=bn(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;c(P),v.refs.setReference(P)},[v.refs]),w=k.useCallback(C=>{(bn(C)||C===null)&&(p.current=C,l(C)),(bn(v.refs.reference.current)||v.refs.reference.current===null||C!==null&&!bn(C))&&v.refs.setReference(C)},[v.refs]),_=k.useMemo(()=>({...v.refs,setReference:w,setPositionReference:S,domReference:p}),[v.refs,w,S]),E=k.useMemo(()=>({...v.elements,domReference:h}),[v.elements,h]),j=k.useMemo(()=>({...v,...r,refs:_,elements:E,nodeId:t}),[v,_,E,t,r]);return Bh(()=>{r.dataRef.current.floatingContext=j;const C=y==null?void 0:y.nodesRef.current.find(P=>P.id===t);C&&(C.context=j)}),k.useMemo(()=>({...v,context:j,refs:_,elements:E}),[v,_,E,j])}const Yv="active",Kv="selected";function Uf(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Yv]:l,[Kv]:u,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1,[JN]:""},...o,...t.map(l=>{const u=l?l[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((l,u)=>(u&&Object.entries(u).forEach(c=>{let[f,h]=c;if(!(i&&[Yv,Kv].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof h=="function"){var p;(p=r.get(f))==null||p.push(h),l[f]=function(){for(var y,v=arguments.length,S=new Array(v),w=0;w<v;w++)S[w]=arguments[w];return(y=r.get(f))==null?void 0:y.map(_=>_(...S)).find(_=>_!==void 0)}}}else l[f]=h}),l),{})}}function ZN(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),n=e.map(u=>u==null?void 0:u.floating),r=e.map(u=>u==null?void 0:u.item),i=k.useCallback(u=>Uf(u,e,"reference"),t),o=k.useCallback(u=>Uf(u,e,"floating"),n),l=k.useCallback(u=>Uf(u,e,"item"),r);return k.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}function Gv(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const eT=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:l=0,minItemsVisible:u=4,referenceOverflowThreshold:c=0,scrollRef:f,...h}=Po(e,t),{rects:p,elements:{floating:y}}=t,v=n.current[l],S=(f==null?void 0:f.current)||y,w=y.clientTop||S.clientTop,_=y.clientTop!==0,E=S.clientTop!==0,j=y===S;if(!v)return{};const C={...t,...await fb(-v.offsetTop-y.clientTop-p.reference.height/2-v.offsetHeight/2-o).fn(t)},P=await zf(Gv(C,S.scrollHeight+w+y.clientTop),h),M=await zf(C,{...h,elementContext:"reference"}),A=fn(0,P.top),F=C.y+A,R=(S.scrollHeight>S.clientHeight?L=>L:qa)(fn(0,S.scrollHeight+(_&&j||E?w*2:0)-A-fn(0,P.bottom)));if(S.style.maxHeight=R+"px",S.scrollTop=A,i){const L=S.offsetHeight<v.offsetHeight*ys(u,n.current.length)-1||M.top>=-c||M.bottom>=-c;qn.flushSync(()=>i(L))}return r&&(r.current=await zf(Gv({...C,y:F},S.offsetHeight+w+y.clientTop),h)),{y:F}}});function tT(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:l,onChange:u}=t,c=pb(u),f=k.useRef(!1),h=k.useRef(null),p=k.useRef(null);k.useEffect(()=>{if(!i)return;function v(w){if(w.ctrlKey||!S||o.current==null)return;const _=w.deltaY,E=o.current.top>=-.5,j=o.current.bottom>=-.5,C=S.scrollHeight-S.clientHeight,P=_<0?-1:1,M=_<0?"max":"min";S.scrollHeight<=S.clientHeight||(!E&&_>0||!j&&_<0?(w.preventDefault(),qn.flushSync(()=>{c(A=>A+Math[M](_,C*P))})):/firefox/i.test(qj())&&(S.scrollTop+=_))}const S=(l==null?void 0:l.current)||r.floating;if(n&&S)return S.addEventListener("wheel",v),requestAnimationFrame(()=>{h.current=S.scrollTop,o.current!=null&&(p.current={...o.current})}),()=>{h.current=null,p.current=null,S.removeEventListener("wheel",v)}},[i,n,r.floating,o,l,c]);const y=k.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const v=(l==null?void 0:l.current)||r.floating;if(!(!o.current||!v||!f.current)){if(h.current!==null){const S=v.scrollTop-h.current;(o.current.bottom<-.5&&S<-1||o.current.top<-.5&&S>1)&&qn.flushSync(()=>c(w=>w+S))}requestAnimationFrame(()=>{h.current=v.scrollTop})}}}),[r.floating,c,o,l]);return k.useMemo(()=>i?{floating:y}:{},[i,y])}let Ao=k.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ao.displayName="FloatingContext";let zp=k.createContext(null);zp.displayName="PlacementContext";function nT(e){return k.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function rT(){return k.useContext(Ao).setReference}function iT(){return k.useContext(Ao).getReferenceProps}function sT(){let{getFloatingProps:e,slot:t}=k.useContext(Ao);return k.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function oT(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=k.useContext(zp),n=k.useMemo(()=>e,[JSON.stringify(e,(i,o)=>{var l;return(l=o==null?void 0:o.outerHTML)!=null?l:o})]);xt(()=>{t==null||t(n??null)},[t,n]);let r=k.useContext(Ao);return k.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Jv=4;function aT({children:e,enabled:t=!0}){let[n,r]=k.useState(null),[i,o]=k.useState(0),l=k.useRef(null),[u,c]=k.useState(null);lT(u);let f=t&&n!==null&&u!==null,{to:h="bottom",gap:p=0,offset:y=0,padding:v=0,inner:S}=uT(n,u),[w,_="center"]=h.split(" ");xt(()=>{f&&o(0)},[f]);let{refs:E,floatingStyles:j,context:C}=XN({open:f,placement:w==="selection"?_==="center"?"bottom":`bottom-${_}`:_==="center"?`${w}`:`${w}-${_}`,strategy:"absolute",transform:!1,middleware:[fb({mainAxis:w==="selection"?0:p,crossAxis:y}),LN({padding:v}),w!=="selection"&&DN({padding:v}),w==="selection"&&S?eT({...S,padding:v,overflowRef:l,offset:i,minItemsVisible:Jv,referenceOverflowThreshold:v,onFallbackChange(L){var Q,G;if(!L)return;let V=C.elements.floating;if(!V)return;let $=parseFloat(getComputedStyle(V).scrollPaddingBottom)||0,W=Math.min(Jv,V.childElementCount),X=0,O=0;for(let q of(G=(Q=C.elements.floating)==null?void 0:Q.childNodes)!=null?G:[])if(Gn(q)){let N=q.offsetTop,z=N+q.clientHeight+$,U=V.scrollTop,I=U+V.clientHeight;if(N>=U&&z<=I)W--;else{O=Math.max(0,Math.min(z,I)-Math.max(N,U)),X=q.clientHeight;break}}W>=1&&o(q=>{let N=X*W-O+$;return q>=N?q:N})}}):null,$N({padding:v,apply({availableWidth:L,availableHeight:Q,elements:G}){Object.assign(G.floating.style,{overflow:"auto",maxWidth:`${L}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Q}px)`})}})].filter(Boolean),whileElementsMounted:jN}),[P=w,M=_]=C.placement.split("-");w==="selection"&&(P="selection");let A=k.useMemo(()=>({anchor:[P,M].filter(Boolean).join(" ")}),[P,M]),F=tT(C,{overflowRef:l,onChange:o}),{getReferenceProps:Z,getFloatingProps:se}=ZN([F]),R=$e(L=>{c(L),E.setFloating(L)});return k.createElement(zp.Provider,{value:r},k.createElement(Ao.Provider,{value:{setFloating:R,setReference:E.setReference,styles:j,getReferenceProps:Z,getFloatingProps:se,slot:A}},e))}function lT(e){xt(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function uT(e,t){var n,r,i;let o=Wf((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=Wf((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),u=Wf((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:l,padding:u}}function Wf(e,t,n=void 0){let r=Ss(),i=$e((c,f)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!f)return[n,null];let h=Qv(c,f);return[h,p=>{let y=mb(c);{let v=y.map(S=>window.getComputedStyle(f).getPropertyValue(S));r.requestAnimationFrame(function S(){r.nextFrame(S);let w=!1;for(let[E,j]of y.entries()){let C=window.getComputedStyle(f).getPropertyValue(j);if(v[E]!==C){v[E]=C,w=!0;break}}if(!w)return;let _=Qv(c,f);h!==_&&(p(_),h=_)})}return r.dispose}]}return[n,null]}),o=k.useMemo(()=>i(e,t)[0],[e,t]),[l=o,u]=k.useState();return xt(()=>{let[c,f]=i(e,t);if(u(c),!!f)return f(u)},[e,t]),l}function mb(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...mb(i)]:[r]}return[]}function Qv(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let jc=k.createContext(null);jc.displayName="OpenClosedContext";var kn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(kn||{});function il(){return k.useContext(jc)}function gb({value:e,children:t}){return Se.createElement(jc.Provider,{value:e},t)}function cT({children:e}){return Se.createElement(jc.Provider,{value:null},e)}function dT(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ii=[];dT(()=>{function e(t){if(!Or(t.target)||t.target===document.body||Ii[0]===t.target)return;let n=t.target;n=n.closest(Ju),Ii.unshift(n??t.target),Ii=Ii.filter(r=>r!=null&&r.isConnected),Ii.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function fT(e){throw new Error("Unexpected object: "+e)}var Ft=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ft||{});function Su(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:fT(e)}}function Bp(e){let t=$e(e),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,xc(()=>{n.current&&t()})}),[t])}let yb=k.createContext(!1);function hT(){return k.useContext(yb)}function Xv(e){return Se.createElement(yb.Provider,{value:e.force},e.children)}function pT(e){let t=hT(),n=k.useContext(xb),[r,i]=k.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(Mr.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return k.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),k.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let vb=k.Fragment,mT=At(function(e,t){let{ownerDocument:n=null,...r}=e,i=k.useRef(null),o=Sn(zC(y=>{i.current=y}),t),l=Ha(i.current),u=n??l,c=pT(u),f=k.useContext(Uh),h=Ss(),p=Bt();return Bp(()=>{var y;c&&c.childNodes.length<=0&&((y=c.parentElement)==null||y.removeChild(c))}),c?qn.createPortal(Se.createElement("div",{"data-headlessui-portal":"",ref:y=>{h.dispose(),f&&y&&h.add(f.register(y))}},p({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:vb,name:"Portal"})),c):null});function gT(e,t){let n=Sn(t),{enabled:r=!0,ownerDocument:i,...o}=e,l=Bt();return r?Se.createElement(mT,{...o,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:vb,name:"Portal"})}let yT=k.Fragment,xb=k.createContext(null);function vT(e,t){let{target:n,...r}=e,i={ref:Sn(t)},o=Bt();return Se.createElement(xb.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:yT,name:"Popover.Group"}))}let Uh=k.createContext(null);function xT(){let e=k.useContext(Uh),t=k.useRef([]),n=$e(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=$e(o=>{let l=t.current.indexOf(o);l!==-1&&t.current.splice(l,1),e&&e.unregister(o)}),i=k.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,k.useMemo(()=>function({children:o}){return Se.createElement(Uh.Provider,{value:i},o)},[i])]}let wT=At(gT),wb=At(vT),bb=Object.assign(wT,{Group:wb});const Du={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function kb(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function bT(e,t,n){let r=Mn();if(t.kind==="Tracked"){let i=function(){o!==kb(e)&&(r.dispose(),n())},{position:o}=t,l=new ResizeObserver(i);l.observe(e),r.add(()=>l.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function kT(e,t=typeof document<"u"?document.defaultView:null,n){let r=tl(e,"escape");Jw(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===Qt.Escape&&n(i))})}function ST(){var e;let[t]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((e=t==null?void 0:t.matches)!=null?e:!1);return xt(()=>{if(!t)return;function i(o){r(o.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function ET({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=$e(()=>{var i,o;let l=ks(n),u=[];for(let c of e)c!==null&&(ti(c)?u.push(c):"current"in c&&ti(c.current)&&u.push(c.current));if(t!=null&&t.current)for(let c of t.current)u.push(c);for(let c of(i=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&ti(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||u.some(f=>c.contains(f))||u.push(c));return u});return{resolveContainers:r,contains:$e(i=>r().some(o=>o.contains(i)))}}let Sb=k.createContext(null);function Zv({children:e,node:t}){let[n,r]=k.useState(null),i=Eb(t??n);return Se.createElement(Sb.Provider,{value:i},e,i===null&&Se.createElement(Lh,{features:Gu.Hidden,ref:o=>{var l,u;if(o){for(let c of(u=(l=ks(o))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(c!==document.body&&c!==document.head&&ti(c)&&c!=null&&c.contains(o)){r(c);break}}}}))}function Eb(e=null){var t;return(t=k.useContext(Sb))!=null?t:e}function _T(){let e=typeof document>"u";return"useSyncExternalStore"in Hu?(t=>t.useSyncExternalStore)(Hu)(()=>()=>{},()=>!1,()=>!e):!1}function Nc(){let e=_T(),[t,n]=k.useState(Mr.isHandoffComplete);return t&&Mr.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{t!==!0&&n(!0)},[t]),k.useEffect(()=>Mr.handoff(),[]),e?!1:t}function Up(){let e=k.useRef(!1);return xt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ca=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ca||{});function CT(){let e=k.useRef(0);return Kw(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function _b(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ti(n.current)&&t.add(n.current);return t}let jT="div";var ls=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ls||{});function NT(e,t){let n=k.useRef(null),r=Sn(n,t),{initialFocus:i,initialFocusFallback:o,containers:l,features:u=15,...c}=e;Nc()||(u=0);let f=Ha(n.current);AT(u,{ownerDocument:f});let h=RT(u,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:o});OT(u,{ownerDocument:f,container:n,containers:l,previousActiveElement:h});let p=CT(),y=$e(j=>{if(!Gn(n.current))return;let C=n.current;(P=>P())(()=>{kr(p.current,{[Ca.Forwards]:()=>{go(C,xr.First,{skipElements:[j.relatedTarget,o]})},[Ca.Backwards]:()=>{go(C,xr.Last,{skipElements:[j.relatedTarget,o]})}})})}),v=tl(!!(u&2),"focus-trap#tab-lock"),S=Ss(),w=k.useRef(!1),_={ref:r,onKeyDown(j){j.key=="Tab"&&(w.current=!0,S.requestAnimationFrame(()=>{w.current=!1}))},onBlur(j){if(!(u&4))return;let C=_b(l);Gn(n.current)&&C.add(n.current);let P=j.relatedTarget;Or(P)&&P.dataset.headlessuiFocusGuard!=="true"&&(Cb(C,P)||(w.current?go(n.current,kr(p.current,{[Ca.Forwards]:()=>xr.Next,[Ca.Backwards]:()=>xr.Previous})|xr.WrapAround,{relativeTo:j.target}):Or(j.target)&&Lr(j.target)))}},E=Bt();return Se.createElement(Se.Fragment,null,v&&Se.createElement(Lh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Gu.Focusable}),E({ourProps:_,theirProps:c,defaultTag:jT,name:"FocusTrap"}),v&&Se.createElement(Lh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Gu.Focusable}))}let TT=At(NT),IT=Object.assign(TT,{features:ls});function PT(e=!0){let t=k.useRef(Ii.slice());return Lp(([n],[r])=>{r===!0&&n===!1&&xc(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Ii.slice())},[e,Ii,t]),$e(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function AT(e,{ownerDocument:t}){let n=!!(e&8),r=PT(n);Lp(()=>{n||Ew(t==null?void 0:t.body)&&Lr(r())},[n]),Bp(()=>{n&&Lr(r())})}function RT(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let o=k.useRef(null),l=tl(!!(e&1),"focus-trap#initial-focus"),u=Up();return Lp(()=>{if(e===0)return;if(!l){i!=null&&i.current&&Lr(i.current);return}let c=n.current;c&&xc(()=>{if(!u.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){o.current=f;return}}else if(c.contains(f)){o.current=f;return}if(r!=null&&r.current)Lr(r.current);else{if(e&16){if(go(c,xr.First|xr.AutoFocus)!==$h.Error)return}else if(go(c,xr.First)!==$h.Error)return;if(i!=null&&i.current&&(Lr(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t==null?void 0:t.activeElement})},[i,l,e]),o}function OT(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let o=Up(),l=!!(e&4);Jw(t==null?void 0:t.defaultView,"focus",u=>{if(!l||!o.current)return;let c=_b(r);Gn(n.current)&&c.add(n.current);let f=i.current;if(!f)return;let h=u.target;Gn(h)?Cb(c,h)?(i.current=h,Lr(h)):(u.preventDefault(),u.stopPropagation(),Lr(f)):Lr(i.current)},!0)}function Cb(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function jb(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Ia((t=e.as)!=null?t:Tb)||Se.Children.count(e.children)===1}let Tc=k.createContext(null);Tc.displayName="TransitionContext";var MT=(e=>(e.Visible="visible",e.Hidden="hidden",e))(MT||{});function LT(){let e=k.useContext(Tc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function DT(){let e=k.useContext(Ic);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ic=k.createContext(null);Ic.displayName="NestingContext";function Pc(e){return"children"in e?Pc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Nb(e,t){let n=Es(e),r=k.useRef([]),i=Up(),o=Ss(),l=$e((v,S=Oi.Hidden)=>{let w=r.current.findIndex(({el:_})=>_===v);w!==-1&&(kr(S,{[Oi.Unmount](){r.current.splice(w,1)},[Oi.Hidden](){r.current[w].state="hidden"}}),o.microTask(()=>{var _;!Pc(r)&&i.current&&((_=n.current)==null||_.call(n))}))}),u=$e(v=>{let S=r.current.find(({el:w})=>w===v);return S?S.state!=="visible"&&(S.state="visible"):r.current.push({el:v,state:"visible"}),()=>l(v,Oi.Unmount)}),c=k.useRef([]),f=k.useRef(Promise.resolve()),h=k.useRef({enter:[],leave:[]}),p=$e((v,S,w)=>{c.current.splice(0),t&&(t.chains.current[S]=t.chains.current[S].filter(([_])=>_!==v)),t==null||t.chains.current[S].push([v,new Promise(_=>{c.current.push(_)})]),t==null||t.chains.current[S].push([v,new Promise(_=>{Promise.all(h.current[S].map(([E,j])=>j)).then(()=>_())})]),S==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(S)):w(S)}),y=$e((v,S,w)=>{Promise.all(h.current[S].splice(0).map(([_,E])=>E)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>w(S))});return k.useMemo(()=>({children:r,register:u,unregister:l,onStart:p,onStop:y,wait:f,chains:h}),[u,l,r,p,y,h,f])}let Tb=k.Fragment,Ib=So.RenderStrategy;function $T(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:l,beforeLeave:u,afterLeave:c,enter:f,enterFrom:h,enterTo:p,entered:y,leave:v,leaveFrom:S,leaveTo:w,..._}=e,[E,j]=k.useState(null),C=k.useRef(null),P=jb(e),M=Sn(...P?[C,t,j]:t===null?[]:[t]),A=(n=_.unmount)==null||n?Oi.Unmount:Oi.Hidden,{show:F,appear:Z,initial:se}=LT(),[R,L]=k.useState(F?"visible":"hidden"),Q=DT(),{register:G,unregister:V}=Q;xt(()=>G(C),[G,C]),xt(()=>{if(A===Oi.Hidden&&C.current){if(F&&R!=="visible"){L("visible");return}return kr(R,{hidden:()=>V(C),visible:()=>G(C)})}},[R,C,G,V,F,A]);let $=Nc();xt(()=>{if(P&&$&&R==="visible"&&C.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[C,R,$,P]);let W=se&&!Z,X=Z&&F&&se,O=k.useRef(!1),q=Nb(()=>{O.current||(L("hidden"),V(C))},Q),N=$e(we=>{O.current=!0;let ae=we?"enter":"leave";q.onStart(C,ae,be=>{be==="enter"?o==null||o():be==="leave"&&(u==null||u())})}),z=$e(we=>{let ae=we?"enter":"leave";O.current=!1,q.onStop(C,ae,be=>{be==="enter"?l==null||l():be==="leave"&&(c==null||c())}),ae==="leave"&&!Pc(q)&&(L("hidden"),V(C))});k.useEffect(()=>{P&&i||(N(F),z(F))},[F,P,i]);let U=!(!i||!P||!$||W),[,I]=Zw(U,E,F,{start:N,end:z}),ue=ss({ref:M,className:((r=Mh(_.className,X&&f,X&&h,I.enter&&f,I.enter&&I.closed&&h,I.enter&&!I.closed&&p,I.leave&&v,I.leave&&!I.closed&&S,I.leave&&I.closed&&w,!I.transition&&F&&y))==null?void 0:r.trim())||void 0,...Xw(I)}),le=0;R==="visible"&&(le|=kn.Open),R==="hidden"&&(le|=kn.Closed),F&&R==="hidden"&&(le|=kn.Opening),!F&&R==="visible"&&(le|=kn.Closing);let ce=Bt();return Se.createElement(Ic.Provider,{value:q},Se.createElement(gb,{value:le},ce({ourProps:ue,theirProps:_,defaultTag:Tb,features:Ib,visible:R==="visible",name:"Transition.Child"})))}function FT(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,l=k.useRef(null),u=jb(e),c=Sn(...u?[l,t]:t===null?[]:[t]);Nc();let f=il();if(n===void 0&&f!==null&&(n=(f&kn.Open)===kn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=k.useState(n?"visible":"hidden"),y=Nb(()=>{n||p("hidden")}),[v,S]=k.useState(!0),w=k.useRef([n]);xt(()=>{v!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),S(!1))},[w,n]);let _=k.useMemo(()=>({show:n,appear:r,initial:v}),[n,r,v]);xt(()=>{n?p("visible"):!Pc(y)&&l.current!==null&&p("hidden")},[n,y]);let E={unmount:i},j=$e(()=>{var M;v&&S(!1),(M=e.beforeEnter)==null||M.call(e)}),C=$e(()=>{var M;v&&S(!1),(M=e.beforeLeave)==null||M.call(e)}),P=Bt();return Se.createElement(Ic.Provider,{value:y},Se.createElement(Tc.Provider,{value:_},P({ourProps:{...E,as:k.Fragment,children:Se.createElement(Pb,{ref:c,...E,...o,beforeEnter:j,beforeLeave:C})},theirProps:{},defaultTag:k.Fragment,features:Ib,visible:h==="visible",name:"Transition"})))}function zT(e,t){let n=k.useContext(Tc)!==null,r=il()!==null;return Se.createElement(Se.Fragment,null,!n&&r?Se.createElement(Wh,{ref:t,...e}):Se.createElement(Pb,{ref:t,...e}))}let Wh=At(FT),Pb=At($T),Wp=At(zT),BT=Object.assign(Wh,{Child:Wp,Root:Wh});var UT=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(UT||{}),WT=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(WT||{});let HT={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Hp=k.createContext(null);Hp.displayName="DialogContext";function Ac(e){let t=k.useContext(Hp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ac),n}return t}function VT(e,t){return kr(t.type,HT,e,t)}let ex=At(function(e,t){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:l,role:u="dialog",autoFocus:c=!0,__demoMode:f=!1,unmount:h=!1,...p}=e,y=k.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(y.current||(y.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let v=il();i===void 0&&v!==null&&(i=(v&kn.Open)===kn.Open);let S=k.useRef(null),w=Sn(S,t),_=Ha(S.current),E=i?0:1,[j,C]=k.useReducer(VT,{titleId:null,descriptionId:null,panelRef:k.createRef()}),P=$e(()=>o(!1)),M=$e(I=>C({type:0,id:I})),A=Nc()?E===0:!1,[F,Z]=xT(),se={get current(){var I;return(I=j.panelRef.current)!=null?I:S.current}},R=Eb(),{resolveContainers:L}=ET({mainTreeNode:R,portals:F,defaultContainers:[se]}),Q=v!==null?(v&kn.Closing)===kn.Closing:!1;Uw(f||Q?!1:A,{allowed:$e(()=>{var I,ue;return[(ue=(I=S.current)==null?void 0:I.closest("[data-headlessui-portal]"))!=null?ue:null]}),disallowed:$e(()=>{var I;return[(I=R==null?void 0:R.closest("body > *:not(#headlessui-portal-root)"))!=null?I:null]})});let G=bc.get(null);xt(()=>{if(A)return G.actions.push(r),()=>G.actions.pop(r)},[G,r,A]);let V=or(G,k.useCallback(I=>G.selectors.isTop(I,r),[G,r]));Gw(V,L,I=>{I.preventDefault(),P()}),kT(V,_==null?void 0:_.defaultView,I=>{I.preventDefault(),I.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),P()}),Qw(f||Q?!1:A,_,L),Ww(A,S,P);let[$,W]=Rw(),X=k.useMemo(()=>[{dialogState:E,close:P,setTitleId:M,unmount:h},j],[E,P,M,h,j]),O=zr({open:E===0}),q={ref:w,id:r,role:u,tabIndex:-1,"aria-modal":f?void 0:E===0?!0:void 0,"aria-labelledby":j.titleId,"aria-describedby":$,unmount:h},N=!ST(),z=ls.None;A&&!f&&(z|=ls.RestoreFocus,z|=ls.TabLock,c&&(z|=ls.AutoFocus),N&&(z|=ls.InitialFocus));let U=Bt();return Se.createElement(cT,null,Se.createElement(Xv,{force:!0},Se.createElement(bb,null,Se.createElement(Hp.Provider,{value:X},Se.createElement(wb,{target:S},Se.createElement(Xv,{force:!1},Se.createElement(W,{slot:O},Se.createElement(Z,null,Se.createElement(IT,{initialFocus:l,initialFocusFallback:S,containers:L,features:z},Se.createElement(JC,{value:P},U({ourProps:q,theirProps:p,slot:O,defaultTag:qT,features:YT,visible:E===0,name:"Dialog"})))))))))))}),qT="div",YT=So.RenderStrategy|So.Static;function KT(e,t){let{transition:n=!1,open:r,...i}=e,o=il(),l=e.hasOwnProperty("open")||o!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Se.createElement(Zv,null,Se.createElement(BT,{show:r,transition:n,unmount:i.unmount},Se.createElement(ex,{ref:t,...i}))):Se.createElement(Zv,null,Se.createElement(ex,{ref:t,open:r,...i}))}let GT="div";function JT(e,t){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=e,[{dialogState:l,unmount:u},c]=Ac("Dialog.Panel"),f=Sn(t,c.panelRef),h=zr({open:l===0}),p=$e(_=>{_.stopPropagation()}),y={ref:f,id:r,onClick:p},v=i?Wp:k.Fragment,S=i?{unmount:u}:{},w=Bt();return Se.createElement(v,{...S},w({ourProps:y,theirProps:o,slot:h,defaultTag:GT,name:"Dialog.Panel"}))}let QT="div";function XT(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:o}]=Ac("Dialog.Backdrop"),l=zr({open:i===0}),u={ref:t,"aria-hidden":!0},c=n?Wp:k.Fragment,f=n?{unmount:o}:{},h=Bt();return Se.createElement(c,{...f},h({ourProps:u,theirProps:r,slot:l,defaultTag:QT,name:"Dialog.Backdrop"}))}let ZT="h2";function eI(e,t){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:l}]=Ac("Dialog.Title"),u=Sn(t);k.useEffect(()=>(l(r),()=>l(null)),[r,l]);let c=zr({open:o===0}),f={ref:u,id:r};return Bt()({ourProps:f,theirProps:i,slot:c,defaultTag:ZT,name:"Dialog.Title"})}let tI=At(KT),nI=At(JT);At(XT);let rI=At(eI),tx=Object.assign(tI,{Panel:nI,Title:rI,Description:HC}),nx=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function rx(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!Gn(i))return r;let o=!1;for(let u of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),o=!0;let l=o?(n=i.innerText)!=null?n:"":r;return nx.test(l)&&(l=l.replace(nx,"")),l}function iI(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():rx(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return rx(e).trim()}function sI(e){let t=k.useRef(""),n=k.useRef("");return $e(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=iI(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var oI=Object.defineProperty,aI=(e,t,n)=>t in e?oI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ix=(e,t,n)=>(aI(e,typeof t!="symbol"?t+"":t,n),n),cn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(cn||{}),ec=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ec||{}),ut=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(ut||{});function sx(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=qw(t(e.items.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let lI={1(e){if(e.menuState===1)return e;let t=e.buttonElement?Du.Tracked(kb(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:Ft.Nothing},menuState:1,buttonPositionState:t}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:Du.Idle}},2:(e,t)=>{var n,r,i,o,l;if(e.menuState===1)return e;let u={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===Ft.Nothing)return{...u,activeItemIndex:null};if(t.focus===Ft.Specific)return{...u,activeItemIndex:e.items.findIndex(h=>h.id===t.id)};if(t.focus===Ft.Previous){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,y=Su(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.current.disabled});if(y!==null){let v=e.items[y].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===v.current||((i=v.current)==null?void 0:i.previousElementSibling)===null)return{...u,activeItemIndex:y}}}}else if(t.focus===Ft.Next){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,y=Su(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.current.disabled});if(y!==null){let v=e.items[y].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.nextElementSibling)===v.current||((l=v.current)==null?void 0:l.nextElementSibling)===null)return{...u,activeItemIndex:y}}}}let c=sx(e),f=Su(t,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...u,...c,activeItemIndex:f}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(l=>{var u;return((u=l.dataRef.current.textValue)==null?void 0:u.startsWith(r))&&!l.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(i=>i)),r=e.activeItemIndex;return e.pendingFocus.focus!==Ft.Nothing&&(r=Su(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:Ft.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],i=new Set(t.items);for(let[o,l]of n.entries())if(i.has(l.id)&&(r.push(o),i.delete(l.id),i.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...sx(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Du.Moved}}};class Vp extends $w{constructor(t){super(t),ix(this,"actions",{registerItem:Sv(()=>{let n=[],r=new Set;return[(i,o)=>{r.has(o)||(r.add(o),n.push({id:i,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:Sv(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),ix(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,o=n.items;return i===null||(r=o[i])==null?void 0:r.id},isActive(n,r){var i;let o=n.activeItemIndex,l=n.items;return o!==null?((i=l[o])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=bc.get(null);this.disposables.add(r.on(zw.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(bT(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:t,__demoMode:n=!1}){return new Vp({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Ft.Nothing},buttonPositionState:Du.Idle})}reduce(t,n){return kr(n.type,lI,t,n)}}const Ab=k.createContext(null);function qp(e){let t=k.useContext(Ab);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Rb),n}return t}function Rb({id:e,__demoMode:t=!1}){let n=k.useMemo(()=>Vp.new({id:e,__demoMode:t}),[]);return Bp(()=>n.dispose()),n}let uI=k.Fragment;function cI(e,t){let n=k.useId(),{__demoMode:r=!1,...i}=e,o=Rb({id:n,__demoMode:r}),[l,u,c]=or(o,_=>[_.menuState,_.itemsElement,_.buttonElement]),f=Sn(t),h=bc.get(null),p=or(h,k.useCallback(_=>h.selectors.isTop(_,n),[h,n]));Gw(p,[c,u],(_,E)=>{var j;o.send({type:ut.CloseMenu}),Mp(E,Op.Loose)||(_.preventDefault(),(j=o.state.buttonElement)==null||j.focus())});let y=$e(()=>{o.send({type:ut.CloseMenu})}),v=zr({open:l===cn.Open,close:y}),S={ref:f},w=Bt();return Se.createElement(aT,null,Se.createElement(Ab.Provider,{value:o},Se.createElement(gb,{value:kr(l,{[cn.Open]:kn.Open,[cn.Closed]:kn.Closed})},w({ourProps:S,theirProps:i,slot:v,defaultTag:uI,name:"Menu"}))))}let dI="button";function fI(e,t){let n=qp("Menu.Button"),r=k.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:l=!1,...u}=e,c=k.useRef(null),f=iT(),h=Sn(t,c,rT(),$e(R=>n.send({type:ut.SetButtonElement,element:R}))),p=$e(R=>{switch(R.key){case Qt.Space:case Qt.Enter:case Qt.ArrowDown:R.preventDefault(),R.stopPropagation(),n.send({type:ut.OpenMenu,focus:{focus:Ft.First}});break;case Qt.ArrowUp:R.preventDefault(),R.stopPropagation(),n.send({type:ut.OpenMenu,focus:{focus:Ft.Last}});break}}),y=$e(R=>{switch(R.key){case Qt.Space:R.preventDefault();break}}),[v,S,w]=or(n,R=>[R.menuState,R.buttonElement,R.itemsElement]),_=v===cn.Open;wj(_,{trigger:S,action:k.useCallback(R=>{if(S!=null&&S.contains(R.target))return bu.Ignore;let L=R.target.closest('[role="menuitem"]:not([data-disabled])');return Gn(L)?bu.Select(L):w!=null&&w.contains(R.target)?bu.Ignore:bu.Close},[S,w]),close:k.useCallback(()=>n.send({type:ut.CloseMenu}),[]),select:k.useCallback(R=>R.click(),[])});let E=XC(R=>{var L;o||(v===cn.Open?(qn.flushSync(()=>n.send({type:ut.CloseMenu})),(L=c.current)==null||L.focus({preventScroll:!0})):(R.preventDefault(),n.send({type:ut.OpenMenu,focus:{focus:Ft.Nothing},trigger:ec.Pointer})))}),{isFocusVisible:j,focusProps:C}=vC({autoFocus:l}),{isHovered:P,hoverProps:M}=yC({isDisabled:o}),{pressed:A,pressProps:F}=EC({disabled:o}),Z=zr({open:v===cn.Open,active:A||v===cn.Open,disabled:o,hover:P,focus:j,autofocus:l}),se=jw(f(),{ref:h,id:i,type:bj(e,c.current),"aria-haspopup":"menu","aria-controls":w==null?void 0:w.id,"aria-expanded":v===cn.Open,disabled:o||void 0,autoFocus:l,onKeyDown:p,onKeyUp:y},E,C,M,F);return Bt()({ourProps:se,theirProps:u,slot:Z,defaultTag:dI,name:"Menu.Button"})}let hI="div",pI=So.RenderStrategy|So.Static;function mI(e,t){let n=k.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:o=!1,modal:l=!0,transition:u=!1,...c}=e,f=nT(i),h=qp("Menu.Items"),[p,y]=oT(f),v=sT(),[S,w]=k.useState(null),_=Sn(t,f?p:null,$e(O=>h.send({type:ut.SetItemsElement,element:O})),w),[E,j]=or(h,O=>[O.menuState,O.buttonElement]),C=Ha(j),P=Ha(S);f&&(o=!0);let M=il(),[A,F]=Zw(u,S,M!==null?(M&kn.Open)===kn.Open:E===cn.Open);Ww(A,j,()=>{h.send({type:ut.CloseMenu})});let Z=or(h,O=>O.__demoMode),se=Z?!1:l&&E===cn.Open;Qw(se,P);let R=Z?!1:l&&E===cn.Open;Uw(R,{allowed:k.useCallback(()=>[j,S],[j,S])});let L=or(h,h.selectors.didButtonMove)?!1:A;k.useEffect(()=>{let O=S;O&&E===cn.Open&&(Ew(O)||O.focus({preventScroll:!0}))},[E,S]),Lj(E===cn.Open,{container:S,accept(O){return O.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:O.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(O){O.setAttribute("role","none")}});let Q=Ss(),G=$e(O=>{var q,N,z;switch(Q.dispose(),O.key){case Qt.Space:if(h.state.searchQuery!=="")return O.preventDefault(),O.stopPropagation(),h.send({type:ut.Search,value:O.key});case Qt.Enter:if(O.preventDefault(),O.stopPropagation(),h.state.activeItemIndex!==null){let{dataRef:U}=h.state.items[h.state.activeItemIndex];(N=(q=U.current)==null?void 0:q.domRef.current)==null||N.click()}h.send({type:ut.CloseMenu}),Vw(h.state.buttonElement);break;case Qt.ArrowDown:return O.preventDefault(),O.stopPropagation(),h.send({type:ut.GoToItem,focus:Ft.Next});case Qt.ArrowUp:return O.preventDefault(),O.stopPropagation(),h.send({type:ut.GoToItem,focus:Ft.Previous});case Qt.Home:case Qt.PageUp:return O.preventDefault(),O.stopPropagation(),h.send({type:ut.GoToItem,focus:Ft.First});case Qt.End:case Qt.PageDown:return O.preventDefault(),O.stopPropagation(),h.send({type:ut.GoToItem,focus:Ft.Last});case Qt.Escape:O.preventDefault(),O.stopPropagation(),qn.flushSync(()=>h.send({type:ut.CloseMenu})),(z=h.state.buttonElement)==null||z.focus({preventScroll:!0});break;case Qt.Tab:O.preventDefault(),O.stopPropagation(),qn.flushSync(()=>h.send({type:ut.CloseMenu})),gj(h.state.buttonElement,O.shiftKey?xr.Previous:xr.Next);break;default:O.key.length===1&&(h.send({type:ut.Search,value:O.key}),Q.setTimeout(()=>h.send({type:ut.ClearSearch}),350));break}}),V=$e(O=>{switch(O.key){case Qt.Space:O.preventDefault();break}}),$=zr({open:E===cn.Open}),W=jw(f?v():{},{"aria-activedescendant":or(h,h.selectors.activeDescendantId),"aria-labelledby":or(h,O=>{var q;return(q=O.buttonElement)==null?void 0:q.id}),id:r,onKeyDown:G,onKeyUp:V,role:"menu",tabIndex:E===cn.Open?0:void 0,ref:_,style:{...c.style,...y,"--button-width":QC(A,j,!0).width},...Xw(F)}),X=Bt();return Se.createElement(bb,{enabled:o?e.static||A:!1,ownerDocument:C},X({ourProps:W,theirProps:c,slot:$,defaultTag:hI,features:pI,visible:L,name:"Menu.Items"}))}let gI=k.Fragment;function yI(e,t){let n=k.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=e,l=qp("Menu.Item"),u=or(l,L=>l.selectors.isActive(L,r)),c=k.useRef(null),f=Sn(t,c),h=or(l,L=>l.selectors.shouldScrollIntoView(L,r));xt(()=>{if(h)return Mn().requestAnimationFrame(()=>{var L,Q;(Q=(L=c.current)==null?void 0:L.scrollIntoView)==null||Q.call(L,{block:"nearest"})})},[h,c]);let p=sI(c),y=k.useRef({disabled:i,domRef:c,get textValue(){return p()}});xt(()=>{y.current.disabled=i},[y,i]),xt(()=>(l.actions.registerItem(r,y),()=>l.actions.unregisterItem(r)),[y,r]);let v=$e(()=>{l.send({type:ut.CloseMenu})}),S=$e(L=>{if(i)return L.preventDefault();l.send({type:ut.CloseMenu}),Vw(l.state.buttonElement)}),w=$e(()=>{if(i)return l.send({type:ut.GoToItem,focus:Ft.Nothing});l.send({type:ut.GoToItem,focus:Ft.Specific,id:r})}),_=Nj(),E=$e(L=>_.update(L)),j=$e(L=>{_.wasMoved(L)&&(i||u||l.send({type:ut.GoToItem,focus:Ft.Specific,id:r,trigger:ec.Pointer}))}),C=$e(L=>{_.wasMoved(L)&&(i||u&&l.state.activationTrigger===ec.Pointer&&l.send({type:ut.GoToItem,focus:Ft.Nothing}))}),[P,M]=Ow(),[A,F]=Rw(),Z=zr({active:u,focus:u,disabled:i,close:v}),se={id:r,ref:f,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":P,"aria-describedby":A,disabled:void 0,onClick:S,onFocus:w,onPointerEnter:E,onMouseEnter:E,onPointerMove:j,onMouseMove:j,onPointerLeave:C,onMouseLeave:C},R=Bt();return Se.createElement(M,null,Se.createElement(F,null,R({ourProps:se,theirProps:o,slot:Z,defaultTag:gI,name:"Menu.Item"})))}let vI="div";function xI(e,t){let[n,r]=Ow(),i=e,o={ref:t,"aria-labelledby":n,role:"group"},l=Bt();return Se.createElement(r,null,l({ourProps:o,theirProps:i,slot:{},defaultTag:vI,name:"Menu.Section"}))}let wI="header";function bI(e,t){let n=k.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=e,o=Rp();xt(()=>o.register(r),[r,o.register]);let l={id:r,ref:t,role:"presentation",...o.props};return Bt()({ourProps:l,theirProps:i,slot:{},defaultTag:wI,name:"Menu.Heading"})}let kI="div";function SI(e,t){let n=e,r={ref:t,role:"separator"};return Bt()({ourProps:r,theirProps:n,slot:{},defaultTag:kI,name:"Menu.Separator"})}let EI=At(cI),_I=At(fI),CI=At(mI),jI=At(yI),NI=At(xI),TI=At(bI),II=At(SI),ts=Object.assign(EI,{Button:_I,Items:CI,Item:jI,Section:NI,Heading:TI,Separator:II});const Ob=k.createContext(void 0);function _s(){const e=k.useContext(Ob);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const PI="modulepreload",AI=function(e){return"/sport-planner/"+e},ox={},sl=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(f=>{if(f=AI(f),f in ox)return;ox[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":PI,h||(y.as="script"),y.crossOrigin="",y.href=f,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((v,S)=>{y.addEventListener("load",v),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},RI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Yp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ax extends Yp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lx extends Yp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ux extends Yp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hh||(Hh={}));var OI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class MI{constructor(t,{headers:n={},customFetch:r,region:i=Hh.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=RI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return OI(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:c}=r;let f={},{region:h}=r;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)));const v=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:y,signal:c}).catch(E=>{throw E.name==="AbortError"?E:new ax(E)}),S=v.headers.get("x-relay-error");if(S&&S==="true")throw new lx(v);if(!v.ok)throw new ux(v);let w=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield v.json():w==="application/octet-stream"?_=yield v.blob():w==="text/event-stream"?_=v:w==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new ax(o)}:{data:null,error:o,response:o instanceof ux||o instanceof lx?o.context:void 0}}})}}var Jt={},Js={},Qs={},Xs={},Zs={},eo={},LI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_o=LI();const DI=_o.fetch,Mb=_o.fetch.bind(_o),Lb=_o.Headers,$I=_o.Request,FI=_o.Response,Ro=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lb,Request:$I,Response:FI,default:Mb,fetch:DI},Symbol.toStringTag,{value:"Module"})),zI=OE(Ro);var Eu={},cx;function Db(){if(cx)return Eu;cx=1,Object.defineProperty(Eu,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Eu.default=e,Eu}var dx;function $b(){if(dx)return eo;dx=1;var e=eo&&eo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(eo,"__esModule",{value:!0});const t=e(zI),n=e(Db());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,p,y,v;let S=null,w=null,_=null,E=f.status,j=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?w=A:w=JSON.parse(A))}const P=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),M=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");P&&M&&M.length>1&&(_=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(S={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,E=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const P=await f.text();try{S=JSON.parse(P),Array.isArray(S)&&f.status===404&&(w=[],S=null,E=200,j="OK")}catch{f.status===404&&P===""?(E=204,j="No Content"):S={message:P}}if(S&&this.isMaybeSingle&&(!((v=S==null?void 0:S.details)===null||v===void 0)&&v.includes("0 rows"))&&(S=null,E=200,j="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:w,count:_,status:E,statusText:j}});return this.shouldThrowOnError||(c=c.catch(f=>{var h,p,y;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(p=f==null?void 0:f.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=f==null?void 0:f.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,l)}returns(){return this}overrideTypes(){return this}}return eo.default=r,eo}var fx;function Fb(){if(fx)return Zs;fx=1;var e=Zs&&Zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zs,"__esModule",{value:!0});const t=e($b());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var h;const p=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Zs.default=n,Zs}var hx;function Kp(){if(hx)return Xs;hx=1;var e=Xs&&Xs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xs,"__esModule",{value:!0});const t=e(Fb());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Xs.default=n,Xs}var px;function zb(){if(px)return Qs;px=1;var e=Qs&&Qs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qs,"__esModule",{value:!0});const t=e(Kp());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},c=l?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:c=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Qs.default=n,Qs}var mx;function BI(){if(mx)return Js;mx=1;var e=Js&&Js.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Js,"__esModule",{value:!0});const t=e(zb()),n=e(Kp());class r{constructor(o,{headers:l={},schema:u,fetch:c}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=c}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:c=!1,count:f}={}){var h;let p;const y=new URL(`${this.url}/rpc/${o}`);let v;u||c?(p=u?"HEAD":"GET",Object.entries(l).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{y.searchParams.append(w,_)})):(p="POST",v=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new n.default({method:p,url:y,headers:S,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Js.default=r,Js}var gx;function UI(){if(gx)return Jt;gx=1;var e=Jt&&Jt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.PostgrestError=Jt.PostgrestBuilder=Jt.PostgrestTransformBuilder=Jt.PostgrestFilterBuilder=Jt.PostgrestQueryBuilder=Jt.PostgrestClient=void 0;const t=e(BI());Jt.PostgrestClient=t.default;const n=e(zb());Jt.PostgrestQueryBuilder=n.default;const r=e(Kp());Jt.PostgrestFilterBuilder=r.default;const i=e(Fb());Jt.PostgrestTransformBuilder=i.default;const o=e($b());Jt.PostgrestBuilder=o.default;const l=e(Db());return Jt.PostgrestError=l.default,Jt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},Jt}var WI=UI();const HI=No(WI),{PostgrestClient:VI,PostgrestQueryBuilder:u5,PostgrestFilterBuilder:c5,PostgrestTransformBuilder:d5,PostgrestBuilder:f5,PostgrestError:h5}=HI;class qI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const YI="2.75.0",KI=`realtime-js/${YI}`,GI="1.0.0",Vh=1e4,JI=1e3,QI=100;var Aa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Aa||(Aa={}));var Vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vt||(Vt={}));var vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vr||(vr={}));var qh;(function(e){e.websocket="websocket"})(qh||(qh={}));var us;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(us||(us={}));class XI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class Bb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const yx=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=ZI(l,e,t,i),o),{}):{}},ZI=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?Ub(o,l):Yh(l)},Ub=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return rP(t,n)}switch(e){case ft.bool:return eP(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return tP(t);case ft.json:case ft.jsonb:return nP(t);case ft.timestamp:return iP(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return Yh(t);default:return Yh(t)}},Yh=e=>e,eP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rP=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Ub(t,u))}return e},iP=e=>typeof e=="string"?e.replace(" ","T"):e,Wb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Hf{constructor(t,n,r={},i=Vh){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vx||(vx={}));class Ra{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ra.syncState(this.state,i,o,l),this.pendingDiffs.forEach(c=>{this.state=Ra.syncDiff(this.state,c,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ra.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},c={};return this.map(o,(f,h)=>{l[f]||(c[f]=h)}),this.map(l,(f,h)=>{const p=o[f];if(p){const y=h.map(_=>_.presence_ref),v=p.map(_=>_.presence_ref),S=h.filter(_=>v.indexOf(_.presence_ref)<0),w=p.filter(_=>y.indexOf(_.presence_ref)<0);S.length>0&&(u[f]=S),w.length>0&&(c[f]=w)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,c)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(c),h.length>0){const p=t[u].map(v=>v.presence_ref),y=h.filter(v=>p.indexOf(v.presence_ref)<0);t[u].unshift(...y)}r(u,h,c)}),this.map(l,(u,c)=>{let f=t[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=f,i(u,f,c),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xx||(xx={}));var Oa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oa||(Oa={}));var Zr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zr||(Zr={}));class Gp{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hf(this,vr.join,this.params,this.timeout),this.rejoinTimer=new Bb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ra(this),this.broadcastEndpointURL=Wb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:l,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Oa.PRESENCE]&&this.bindings[Oa.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(Zr.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Zr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var S;if(this.socket.setAuth(),v===void 0){t==null||t(Zr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(S=w==null?void 0:w.length)!==null&&S!==void 0?S:0,E=[];for(let j=0;j<_;j++){const C=w[j],{filter:{event:P,schema:M,table:A,filter:F}}=C,Z=v&&v[j];if(Z&&Z.event===P&&Z.schema===M&&Z.table===A&&Z.filter===F)E.push(Object.assign(Object.assign({},C),{id:Z.id}));else{this.unsubscribe(),this.state=Vt.errored,t==null||t(Zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Zr.SUBSCRIBED);return}}).receive("error",v=>{this.state=Vt.errored,t==null||t(Zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Vt.joined&&t===Oa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Hf(this,vr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hf(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=vr;if(r&&[u,c,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var S,w,_;return((S=v.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(v=>v.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(v=>{var S,w,_,E,j,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const P=v.id,M=(S=v.filter)===null||S===void 0?void 0:S.event;return P&&((w=n.ids)===null||w===void 0?void 0:w.includes(P))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const P=(j=(E=v==null?void 0:v.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return P==="*"||P===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:w,table:_,commit_timestamp:E,type:j,errors:C}=S;y=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:E,eventType:j,new:{},old:{},errors:C}),this._getPayloadRecords(S))}v.callback(y,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Gp.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vr.close,{},t)}_onError(t){this._on(vr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yx(t.columns,t.old_record)),n}}const Vf=()=>{},_u={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sP=[1e3,2e3,5e3,1e4],oP=1e4,aP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lP{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vh,this.transport=null,this.heartbeatIntervalMs=_u.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vf,this.ref=0,this.reconnectTimer=null,this.logger=Vf,this.conn=null,this.sendBuffer=[],this.serializer=new XI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>sl(async()=>{const{default:u}=await Promise.resolve().then(()=>Ro);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${qh.websocket}`,this.httpEndpoint=Wb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:GI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Aa.connecting:return us.Connecting;case Aa.open:return us.Open;case Aa.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Gp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(JI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_u.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([aP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:KI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(vr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Bb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_u.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,c,f,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Vh,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:_u.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Vf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(p=>sP[p-1]||oP),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((p,y)=>y(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Jp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class uP extends Jp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kh extends Jp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var cP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Hb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},dP=()=>cP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>Ro),void 0)).Response:Response}),Gh=e=>{if(Array.isArray(e))return e.map(n=>Gh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Gh(r)}),t},fP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Cs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const qf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hP=(e,t,n)=>Cs(void 0,void 0,void 0,function*(){const r=yield dP();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new uP(qf(i),o,l))}).catch(i=>{t(new Kh(qf(i),i))}):t(new Kh(qf(e),e))}),pP=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(fP(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ol(e,t,n,r,i,o){return Cs(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,pP(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>hP(c,u,r))})})}function tc(e,t,n,r){return Cs(this,void 0,void 0,function*(){return ol(e,"GET",t,n,r)})}function Ar(e,t,n,r,i){return Cs(this,void 0,void 0,function*(){return ol(e,"POST",t,r,i,n)})}function Jh(e,t,n,r,i){return Cs(this,void 0,void 0,function*(){return ol(e,"PUT",t,r,i,n)})}function mP(e,t,n,r){return Cs(this,void 0,void 0,function*(){return ol(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Vb(e,t,n,r,i){return Cs(this,void 0,void 0,function*(){return ol(e,"DELETE",t,r,i,n)})}var gP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class yP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return gP(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}var vP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class xP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new yP(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return vP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}var An=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const wP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bP{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hb(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return An(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},wx),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?Jh:Ar)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($t(o))return{data:null,error:o};throw o}})}upload(t,n,r){return An(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return An(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:wx.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield Jh(this.fetch,u.toString(),c,{headers:h});return{data:{path:o,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($t(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return An(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Ar(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new Jp("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}update(t,n,r){return An(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return An(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}copy(t,n,r){return An(this,void 0,void 0,function*(){try{return{data:{path:(yield Ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return An(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Ar(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return An(this,void 0,void 0,function*(){try{const i=yield Ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),c=()=>tc(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new xP(c,this.shouldThrowOnError)}info(t){return An(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield tc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}exists(t){return An(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield mP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r)&&r instanceof Kh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return An(this,void 0,void 0,function*(){try{return{data:yield Vb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}list(t,n,r){return An(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wP),n),{prefix:t||""});return{data:yield Ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}listV2(t,n){return An(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const kP="2.75.0",SP={"X-Client-Info":`storage-js/${kP}`};var to=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class EP{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SP),n),this.fetch=Hb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return to(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}getBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}createBucket(t){return to(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return to(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}emptyBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}deleteBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield Vb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}}class _P extends EP{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new bP(this.url,this.headers,t,this.fetch)}}const CP="2.75.0";let ja="";typeof Deno<"u"?ja="deno":typeof document<"u"?ja="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ja="react-native":ja="node";const jP={"X-Client-Info":`supabase-js-${ja}/${CP}`},NP={headers:jP},TP={schema:"public"},IP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PP={};var AP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const RP=e=>{let t;return e?t=e:typeof fetch>"u"?t=Mb:t=fetch,(...n)=>t(...n)},OP=()=>typeof Headers>"u"?Lb:Headers,MP=(e,t,n)=>{const r=RP(n),i=OP();return(o,l)=>AP(void 0,void 0,void 0,function*(){var u;const c=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var LP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};function DP(e){return e.endsWith("/")?e:e+"/"}function $P(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:c,auth:f,realtime:h,global:p}=t,y={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>LP(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function FP(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qb="2.75.0",co=30*1e3,Qh=3,Yf=Qh*co,zP="http://localhost:9999",BP="supabase.auth.token",UP={"X-Client-Info":`gotrue-js/${qb}`},Xh="X-Supabase-Api-Version",Yb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HP=600*1e3;class Ya extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class VP extends Ya{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qP(e){return Me(e)&&e.name==="AuthApiError"}class cs extends Ya{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zi extends Ya{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ji extends zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YP(e){return Me(e)&&e.name==="AuthSessionMissingError"}class no extends zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cu extends zi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends zi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KP(e){return Me(e)&&e.name==="AuthImplicitGrantRedirectError"}class bx extends zi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zh extends zi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Kf(e){return Me(e)&&e.name==="AuthRetryableFetchError"}class kx extends zi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ep extends zi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sx=` 	
\r=`.split(""),GP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sx.length;t+=1)e[Sx[t].charCodeAt(0)]=-2;for(let t=0;t<nc.length;t+=1)e[nc[t].charCodeAt(0)]=t;return e})();function Ex(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(nc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(nc[r]),t.queuedBits-=6}}function Kb(e,t,n){const r=GP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _x(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{XP(l,r,n)};for(let l=0;l<e.length;l+=1)Kb(e.charCodeAt(l),i,o);return t.join("")}function JP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function QP(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}JP(r,t)}}function XP(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function vo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Kb(e.charCodeAt(i),n,r);return new Uint8Array(t)}function ZP(e){const t=[];return QP(e,n=>t.push(n)),new Uint8Array(t)}function ms(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Ex(i,n,r)),Ex(null,n,r),t.join("")}function eA(e){return Math.round(Date.now()/1e3)+e}function tA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},Gb=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function nA(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Jb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},rA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},rs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_i=async(e,t)=>{await e.removeItem(t)};class Rc{constructor(){this.promise=new Rc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Rc.promiseConstructor=Promise;function Gf(e){const t=e.split(".");if(t.length!==3)throw new ep("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!WP.test(t[r]))throw new ep("JWT not in base64url format");return{header:JSON.parse(_x(t[0])),payload:JSON.parse(_x(t[1])),signature:vo(t[2]),raw:{header:t[0],payload:t[1]}}}async function iA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sA(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function oA(e){return("0"+e.toString(16)).substr(-2)}function aA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,oA).join("")}async function lA(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function uA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await lA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ro(e,t,n=!1){const r=aA();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await fo(e,`${t}-code-verifier`,i);const o=await uA(r);return[o,r===o?"plain":"s256"]}const cA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dA(e){const t=e.headers.get(Xh);if(!t||!t.match(cA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function io(e){if(!pA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cx(e){return JSON.parse(JSON.stringify(e))}var mA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gA=[502,503,504];async function jx(e){var t;if(!rA(e))throw new Zh(os(e),0);if(gA.includes(e.status))throw new Zh(os(e),e.status);let n;try{n=await e.json()}catch(o){throw new cs(os(o),o)}let r;const i=dA(e);if(i&&i.getTime()>=Yb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new kx(os(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new kx(os(n),e.status,n.weak_password.reasons);throw new VP(os(n),e.status||500,r)}const yA=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ze(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Xh]||(o[Xh]=Yb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await vA(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function vA(e,t,n,r,i,o){const l=yA(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(c){throw console.error(c),new Zh(os(c),0)}if(u.ok||await jx(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await jx(c)}}function gr(e){var t;let n=null;bA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=eA(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Nx(e){const t=gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xA(e){return{data:e,error:null}}function wA(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=mA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function Tx(e){return e}function bA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qf=["global","local","others"];var kA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class SA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Jb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Qf[0]){if(Qf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qf.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pi})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=kA(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pi})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Tx});if(h.error)throw h.error;const p=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Me(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){io(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pi})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){io(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pi})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){io(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pi})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){io(t.userId);try{const{data:n,error:r}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteFactor(t){io(t.userId),io(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Tx});if(h.error)throw h.error;const p=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Me(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}}function Ix(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const so={debug:!!(globalThis&&Gb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class EA extends Qb{}async function _A(e,t,n){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new EA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(so.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function CA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Xb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function jA(e){return parseInt(e,16)}function NA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function TA(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Xb(e.address),S=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${v}

${w}`;let E=`URI: ${p}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),c&&(E+=`
Request ID: ${c}`),f){let j=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);j+=`
- ${C}`}E+=j}return`${_}
${E}`}class Dt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class rc extends Dt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function IA({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(ek(l)){if(o.rp.id!==l)return new Dt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function PA({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(ek(r)){if(n.rpId!==r)return new Dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Zb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class AA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const RA=new AA;function OA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Zb(e,["challenge","user","excludeCredentials"]),o=vo(t).buffer,l=Object.assign(Object.assign({},n),{id:vo(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:vo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function MA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Zb(e,["challenge","allowCredentials"]),i=vo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:vo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function LA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ms(new Uint8Array(e.response.attestationObject)),clientDataJSON:ms(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ms(new Uint8Array(i.authenticatorData)),clientDataJSON:ms(new Uint8Array(i.clientDataJSON)),signature:ms(new Uint8Array(i.signature)),userHandle:i.userHandle?ms(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ek(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Px(){var e,t;return!!(Vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function $A(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rc("Browser returned unexpected credential type",t)}:{data:null,error:new rc("Empty credential response",t)}}catch(t){return{data:null,error:IA({error:t,options:e})}}}async function FA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rc("Browser returned unexpected credential type",t)}:{data:null,error:new rc("Empty credential response",t)}}catch(t){return{data:null,error:PA({error:t,options:e})}}}const zA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},BA={userVerification:"preferred",hints:["security-key"]};function ic(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=ic(u,l):r[o]=ic(l)}else r[o]=l}return r}function UA(e,t){return ic(zA,e,t||{})}function WA(e,t){return ic(BA,e,t||{})}class HA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const c=i??RA.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=UA(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:p}=await $A({publicKey:f,signal:c});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=WA(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:p}=await FA(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Ya("rpId is required for WebAuthn authentication")};try{if(!Px())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:c}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Ya("rpId is required for WebAuthn registration")};try{if(!Px())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in register",l)}}}}CA();const VA={url:zP,storageKey:BP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ax(e,t,n){return await n()}const oo={};class Ka{get jwks(){var t,n;return(n=(t=oo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=oo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ka.nextInstanceID,Ka.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},VA),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new SA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Jb(i.fetch),this.lock=i.lock||Ax,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_A:this.lock=Ax,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HA(this)},this.persistSession?(i.storage?this.storage=i.storage:Gb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ix(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ix(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=nA(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),KP(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Me(n)?{error:n}:{error:new cs("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:p,options:y}=t;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await ro(this.storage,this.storageKey)),o=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:S},xform:gr})}else if("phone"in t){const{phone:h,password:p,options:y}=t;o=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:gr})}else throw new Cu("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Nx})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Nx})}else throw new Cu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new no}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,c,f,h,p,y;let v,S;if("message"in t)v=t.message,S=t.signature;else{const{chain:w,wallet:_,statement:E,options:j}=t;let C;if(Vn())if(typeof _=="object")C=_;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")C=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const P=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href),M=await C.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=Xb(M[0]);let F=(r=j==null?void 0:j.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const se=await C.request({method:"eth_chainId"});F=jA(se)}const Z={domain:P.host,address:A,statement:E,uri:P.href,version:"1",chainId:F,nonce:(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=j==null?void 0:j.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=j==null?void 0:j.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=j==null?void 0:j.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=TA(Z),S=await C.request({method:"personal_sign",params:[NA(v),A]})}try{const{data:w,error:_}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:gr});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new no}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(Me(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var n,r,i,o,l,u,c,f,h,p,y,v;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:_,wallet:E,statement:j,options:C}=t;let P;if(Vn())if(typeof E=="object")P=E;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))P=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=E}const M=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const A=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),j?{statement:j}:null));let F;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")F=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)F=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)S=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),w=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${M.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(h=C==null?void 0:C.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const A=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=A}}try{const{data:_,error:E}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ms(w)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gr});if(E)throw E;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new no}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:E})}catch(_){if(Me(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:gr});if(await _i(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new no}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Me(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gr}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new no}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:c}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await ro(this.storage,this.storageKey));const{error:p}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:c}=t,{data:f,error:h}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Cu("You must provide either an email or phone number.")}catch(u){if(Me(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:gr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,f=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await ro(this.storage,this.storageKey)),await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:xA})}catch(o){if(Me(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ji;const{error:i}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await ze(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await ze(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Cu("You must provide either an email or phone number and a type")}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Yf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await rs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Jf()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,f,h)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pi}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Pi})})}catch(n){if(Me(n))return YP(n)&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new ji;const l=i.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await ro(this.storage,this.storageKey));const{data:f,error:h}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:Pi});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ji;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Gf(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ji;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Vn())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bx("No code detected.");const{data:j,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:c,token_type:f}=t;if(!o||!u||!l||!f)throw new ju("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let y=h+p;c&&(y=parseInt(c));const v=y-h;v*1e3<=co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const S=y-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,h);const{data:w,error:_}=await this._getUser(o);if(_)throw _;const E={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:y,refresh_token:l,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(Me(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(qP(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=tA(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ro(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Me(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,c,f,h;const{data:p,error:y}=o;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Me(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:c,access_token:f,nonce:h}=t,p=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gr}),{data:y,error:v}=p;return v?{data:{user:null,session:null},error:v}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new no}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:v})}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sA(async i=>(i>0&&await iA(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Kf(o)&&Date.now()+l-r<co})}catch(r){if(this._debug(n,"error",r),Me(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await rs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await fo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Jf()}else if(i&&!i.user&&!i.user){const l=await rs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await _i(this.storage,this.storageKey+"-user"),await fo(this.storage,this.storageKey,i)):i.user=Jf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Yf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Yf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Kf(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rc;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new ji;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Me(o)){const l={data:null,error:o};return Kf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Cx(i);await fo(this.storage,this.storageKey,o)}else{const i=Cx(n);await fo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _i(this.storage,this.storageKey),await _i(this.storage,this.storageKey+"-code-verifier"),await _i(this.storage,this.storageKey+"-user"),this.userStorage&&await _i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),co);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${co}ms, refresh threshold is ${Qh} ticks`),i<=Qh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Qb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ro(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:f}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?LA(t.webauthn.credential_response):DA(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:c}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:OA(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:MA(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gf(i.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+HP>i)return r;const{data:o,error:l}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:S}=await this.getSession();if(S||!v.session)return{data:null,error:S};r=v.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:c}}=Gf(r);n!=null&&n.allowExpired||fA(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:o,header:i,signature:l},error:null}}const h=hA(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,ZP(`${u}.${c}`)))throw new ep("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}}Ka.nextInstanceID=0;const qA=Ka;class YA extends qA{constructor(t){super(t)}}var KA=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class GA{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=FP(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:TP,realtime:PP,auth:Object.assign(Object.assign({},IP),{storageKey:c}),global:NP},h=$P(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=MP(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new VI(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new _P(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new MI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return KA(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:c,debug:f},h,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YA({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:c,debug:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new lP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JA=(e,t,n)=>new GA(e,t,n);function QA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}QA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XA="https://kjsdmygqhxaryvfmnhqr.supabase.co",ZA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",zt=JA(XA,ZA,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Rx=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,y))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=t=e(r,i,u);return u},eR=(e=>e?Rx(e):Rx),tR=e=>e;function nR(e,t=tR){const n=Se.useSyncExternalStore(e.subscribe,Se.useCallback(()=>t(e.getState()),[e,t]),Se.useCallback(()=>t(e.getInitialState()),[e,t]));return Se.useDebugValue(n),n}const Ox=e=>{const t=eR(e),n=r=>nR(t,r);return Object.assign(n,t),n},rR=(e=>e?Ox(e):Ox),iR="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let tn=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=iR[n[e]&63];return t};var $u={exports:{}},sR=$u.exports,Mx;function tk(){return Mx||(Mx=1,(function(e,t){(function(n,r){e.exports=r()})(sR,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",u="minute",c="hour",f="day",h="week",p="month",y="quarter",v="year",S="date",w="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var $=["th","st","nd","rd"],W=V%100;return"["+V+($[(W-20)%10]||$[W]||$[0])+"]"}},C=function(V,$,W){var X=String(V);return!X||X.length>=$?V:""+Array($+1-X.length).join(W)+V},P={s:C,z:function(V){var $=-V.utcOffset(),W=Math.abs($),X=Math.floor(W/60),O=W%60;return($<=0?"+":"-")+C(X,2,"0")+":"+C(O,2,"0")},m:function V($,W){if($.date()<W.date())return-V(W,$);var X=12*(W.year()-$.year())+(W.month()-$.month()),O=$.clone().add(X,p),q=W-O<0,N=$.clone().add(X+(q?-1:1),p);return+(-(X+(W-O)/(q?O-N:N-O))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:p,y:v,w:h,d:f,D:S,h:c,m:u,s:l,ms:o,Q:y}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},M="en",A={};A[M]=j;var F="$isDayjsObject",Z=function(V){return V instanceof Q||!(!V||!V[F])},se=function V($,W,X){var O;if(!$)return M;if(typeof $=="string"){var q=$.toLowerCase();A[q]&&(O=q),W&&(A[q]=W,O=q);var N=$.split("-");if(!O&&N.length>1)return V(N[0])}else{var z=$.name;A[z]=$,O=z}return!X&&O&&(M=O),O||!X&&M},R=function(V,$){if(Z(V))return V.clone();var W=typeof $=="object"?$:{};return W.date=V,W.args=arguments,new Q(W)},L=P;L.l=se,L.i=Z,L.w=function(V,$){return R(V,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var Q=(function(){function V(W){this.$L=se(W.locale,null,!0),this.parse(W),this.$x=this.$x||W.x||{},this[F]=!0}var $=V.prototype;return $.parse=function(W){this.$d=(function(X){var O=X.date,q=X.utc;if(O===null)return new Date(NaN);if(L.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var N=O.match(_);if(N){var z=N[2]-1||0,U=(N[7]||"0").substring(0,3);return q?new Date(Date.UTC(N[1],z,N[3]||1,N[4]||0,N[5]||0,N[6]||0,U)):new Date(N[1],z,N[3]||1,N[4]||0,N[5]||0,N[6]||0,U)}}return new Date(O)})(W),this.init()},$.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},$.$utils=function(){return L},$.isValid=function(){return this.$d.toString()!==w},$.isSame=function(W,X){var O=R(W);return this.startOf(X)<=O&&O<=this.endOf(X)},$.isAfter=function(W,X){return R(W)<this.startOf(X)},$.isBefore=function(W,X){return this.endOf(X)<R(W)},$.$g=function(W,X,O){return L.u(W)?this[X]:this.set(O,W)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(W,X){var O=this,q=!!L.u(X)||X,N=L.p(W),z=function(be,xe){var Ke=L.w(O.$u?Date.UTC(O.$y,xe,be):new Date(O.$y,xe,be),O);return q?Ke:Ke.endOf(f)},U=function(be,xe){return L.w(O.toDate()[be].apply(O.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(xe)),O)},I=this.$W,ue=this.$M,le=this.$D,ce="set"+(this.$u?"UTC":"");switch(N){case v:return q?z(1,0):z(31,11);case p:return q?z(1,ue):z(0,ue+1);case h:var we=this.$locale().weekStart||0,ae=(I<we?I+7:I)-we;return z(q?le-ae:le+(6-ae),ue);case f:case S:return U(ce+"Hours",0);case c:return U(ce+"Minutes",1);case u:return U(ce+"Seconds",2);case l:return U(ce+"Milliseconds",3);default:return this.clone()}},$.endOf=function(W){return this.startOf(W,!1)},$.$set=function(W,X){var O,q=L.p(W),N="set"+(this.$u?"UTC":""),z=(O={},O[f]=N+"Date",O[S]=N+"Date",O[p]=N+"Month",O[v]=N+"FullYear",O[c]=N+"Hours",O[u]=N+"Minutes",O[l]=N+"Seconds",O[o]=N+"Milliseconds",O)[q],U=q===f?this.$D+(X-this.$W):X;if(q===p||q===v){var I=this.clone().set(S,1);I.$d[z](U),I.init(),this.$d=I.set(S,Math.min(this.$D,I.daysInMonth())).$d}else z&&this.$d[z](U);return this.init(),this},$.set=function(W,X){return this.clone().$set(W,X)},$.get=function(W){return this[L.p(W)]()},$.add=function(W,X){var O,q=this;W=Number(W);var N=L.p(X),z=function(ue){var le=R(q);return L.w(le.date(le.date()+Math.round(ue*W)),q)};if(N===p)return this.set(p,this.$M+W);if(N===v)return this.set(v,this.$y+W);if(N===f)return z(1);if(N===h)return z(7);var U=(O={},O[u]=r,O[c]=i,O[l]=n,O)[N]||1,I=this.$d.getTime()+W*U;return L.w(I,this)},$.subtract=function(W,X){return this.add(-1*W,X)},$.format=function(W){var X=this,O=this.$locale();if(!this.isValid())return O.invalidDate||w;var q=W||"YYYY-MM-DDTHH:mm:ssZ",N=L.z(this),z=this.$H,U=this.$m,I=this.$M,ue=O.weekdays,le=O.months,ce=O.meridiem,we=function(xe,Ke,nt,Je){return xe&&(xe[Ke]||xe(X,q))||nt[Ke].slice(0,Je)},ae=function(xe){return L.s(z%12||12,xe,"0")},be=ce||function(xe,Ke,nt){var Je=xe<12?"AM":"PM";return nt?Je.toLowerCase():Je};return q.replace(E,(function(xe,Ke){return Ke||(function(nt){switch(nt){case"YY":return String(X.$y).slice(-2);case"YYYY":return L.s(X.$y,4,"0");case"M":return I+1;case"MM":return L.s(I+1,2,"0");case"MMM":return we(O.monthsShort,I,le,3);case"MMMM":return we(le,I);case"D":return X.$D;case"DD":return L.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return we(O.weekdaysMin,X.$W,ue,2);case"ddd":return we(O.weekdaysShort,X.$W,ue,3);case"dddd":return ue[X.$W];case"H":return String(z);case"HH":return L.s(z,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return be(z,U,!0);case"A":return be(z,U,!1);case"m":return String(U);case"mm":return L.s(U,2,"0");case"s":return String(X.$s);case"ss":return L.s(X.$s,2,"0");case"SSS":return L.s(X.$ms,3,"0");case"Z":return N}return null})(xe)||N.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(W,X,O){var q,N=this,z=L.p(X),U=R(W),I=(U.utcOffset()-this.utcOffset())*r,ue=this-U,le=function(){return L.m(N,U)};switch(z){case v:q=le()/12;break;case p:q=le();break;case y:q=le()/3;break;case h:q=(ue-I)/6048e5;break;case f:q=(ue-I)/864e5;break;case c:q=ue/i;break;case u:q=ue/r;break;case l:q=ue/n;break;default:q=ue}return O?q:L.a(q)},$.daysInMonth=function(){return this.endOf(p).$D},$.$locale=function(){return A[this.$L]},$.locale=function(W,X){if(!W)return this.$L;var O=this.clone(),q=se(W,X,!0);return q&&(O.$L=q),O},$.clone=function(){return L.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},V})(),G=Q.prototype;return R.prototype=G,[["$ms",o],["$s",l],["$m",u],["$H",c],["$W",f],["$M",p],["$y",v],["$D",S]].forEach((function(V){G[V[1]]=function($){return this.$g($,V[0],V[1])}})),R.extend=function(V,$){return V.$i||(V($,Q,R),V.$i=!0),R},R.locale=se,R.isDayjs=Z,R.unix=function(V){return R(1e3*V)},R.en=A[M],R.Ls=A,R.p={},R}))})($u)),$u.exports}var oR=tk();const Be=No(oR);function Xf(e){return e.trim().toLowerCase().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"").replace(/-{2,}/g,"-")}const xo=`
  id,
  name,
  subtitle,
  objective_id,
  parent_work_id,
  node_type,
  tags,
  order_hint,
  next_work_id,
  variant_of_work_id,
  description_markdown,
  estimated_minutes,
  notes,
  video_urls,
  visibility,
  owner_id,
  owner_email,
  created_at,
  updated_at,
  work_collaborators (
    id,
    email,
    role,
    user_id,
    created_at
  )
`,nk=e=>Array.from(new Set(e.map(t=>t.trim().toLowerCase()).filter(t=>t.length>0))),aR=e=>Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t.length>0):[],Qp=e=>Array.isArray(e)?Array.from(new Set(e.map(t=>typeof t=="string"?t.trim().toLowerCase():"").filter(t=>t.length>0))):[],rk=e=>(e??[]).map(t=>({id:`${t.id}`,email:t.email.toLowerCase(),role:t.role,userId:t.user_id??void 0,createdAt:t.created_at})),Xp=(e,t)=>{var u,c;const n=rk(e.work_collaborators),r=n.map(f=>f.email),i=((u=t==null?void 0:t.actorEmail)==null?void 0:u.toLowerCase())??"",o=t?e.owner_id===t.actorId:!1,l=o||r.includes(i);return{id:e.id,name:e.name,subtitle:e.subtitle??void 0,objectiveId:e.objective_id,parentWorkId:e.parent_work_id??null,nodeType:e.node_type??void 0,tags:Qp(e.tags),orderHint:typeof e.order_hint=="number"?e.order_hint:void 0,nextWorkId:e.next_work_id??null,variantOfWorkId:e.variant_of_work_id??null,descriptionMarkdown:e.description_markdown??"",estimatedMinutes:e.estimated_minutes??0,notes:e.notes??void 0,videoUrls:aR(e.video_urls),visibility:e.visibility??"private",ownerId:e.owner_id,ownerEmail:((c=e.owner_email)==null?void 0:c.toLowerCase())??"",collaborators:n,collaboratorEmails:r,createdAt:e.created_at,updatedAt:e.updated_at,canEdit:l,isOwner:o}};async function lR(e){const{data:t,error:n}=await zt.from("works").select(xo).order("name");if(n)throw console.error("No se pudieron cargar los trabajos compartidos",n),n;return t.map(r=>Xp(r,e))}async function Lx(e,t){var S;const n=e.id??tn(),r=nk(e.collaboratorEmails),i=t.actorEmail.trim().toLowerCase(),o=(S=e.nodeType)!=null&&S.trim()?e.nodeType.trim():null,l=Qp(e.tags??[]),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:null,c=e.nextWorkId??null,f=e.variantOfWorkId??null,{data:h,error:p}=await zt.from("works").insert({id:n,name:e.name,subtitle:e.subtitle??null,objective_id:e.objectiveId,parent_work_id:e.parentWorkId??null,node_type:o,tags:l,order_hint:u,next_work_id:c,variant_of_work_id:f,description_markdown:e.descriptionMarkdown,estimated_minutes:e.estimatedMinutes,notes:e.notes??null,video_urls:e.videoUrls,visibility:e.visibility,owner_id:t.actorId,owner_email:i,updated_at:new Date().toISOString()}).select(xo).maybeSingle();if(p||!h)throw console.error("No se pudo crear el trabajo",p),p??new Error("Falta respuesta al crear trabajo");if(r.length>0){const w=r.map(E=>({work_id:h.id,email:E})),{error:_}=await zt.from("work_collaborators").insert(w);if(_)throw console.error("No se pudieron guardar los colaboradores",_),_}const{data:y,error:v}=await zt.from("works").select(xo).eq("id",h.id).maybeSingle();if(v||!y)throw console.error("No se pudo refrescar el trabajo creado",v),v??new Error("No se pudo cargar el trabajo creado");return Xp(y,t)}async function uR(e,t,n){const r={};t.name!==void 0&&(r.name=t.name),t.subtitle!==void 0&&(r.subtitle=t.subtitle),t.objectiveId!==void 0&&(r.objective_id=t.objectiveId),t.parentWorkId!==void 0&&(r.parent_work_id=t.parentWorkId),t.nodeType!==void 0&&(r.node_type=t.nodeType),t.tags!==void 0&&(r.tags=Qp(t.tags)),t.orderHint!==void 0&&(r.order_hint=t.orderHint),t.nextWorkId!==void 0&&(r.next_work_id=t.nextWorkId),t.variantOfWorkId!==void 0&&(r.variant_of_work_id=t.variantOfWorkId),t.descriptionMarkdown!==void 0&&(r.description_markdown=t.descriptionMarkdown),t.estimatedMinutes!==void 0&&(r.estimated_minutes=t.estimatedMinutes),t.notes!==void 0&&(r.notes=t.notes),t.videoUrls!==void 0&&(r.video_urls=t.videoUrls),t.visibility!==void 0&&(r.visibility=t.visibility),r.updated_at=new Date().toISOString();let i=null;if(Object.keys(r).length>0){const{data:o,error:l}=await zt.from("works").update(r).eq("id",e).select(xo).maybeSingle();if(l||!o)throw console.error("No se pudo actualizar el trabajo",l),l??new Error("Falta respuesta al actualizar trabajo");i=o}else{const{data:o,error:l}=await zt.from("works").select(xo).eq("id",e).maybeSingle();if(l||!o)throw l??new Error("Trabajo no encontrado");i=o}if(t.collaboratorEmails){const o=nk(t.collaboratorEmails),l=rk(i.work_collaborators),u=l.map(y=>y.email),c=o.filter(y=>!u.includes(y)),f=l.filter(y=>!o.includes(y.email));if(c.length>0){const y=c.map(S=>({work_id:e,email:S})),{error:v}=await zt.from("work_collaborators").insert(y);if(v)throw console.error("No se pudieron aadir los colaboradores",v),v}if(f.length>0){const y=f.map(S=>S.email),{error:v}=await zt.from("work_collaborators").delete().eq("work_id",e).in("email",y);if(v)throw console.error("No se pudieron eliminar colaboradores",v),v}const{data:h,error:p}=await zt.from("works").select(xo).eq("id",e).maybeSingle();if(p||!h)throw p??new Error("Error al refrescar colaboradores");i=h}return Xp(i,n)}async function cR(e){const{error:t}=await zt.from("works").delete().eq("id",e);if(t)throw console.error("No se pudo eliminar el trabajo",t),t}const St={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes",kungfuPrograms:"sport-planner-kungfu-programs",kungfuCadence:"sport-planner-kungfu-cadence",kungfuTodayPlan:"sport-planner-kungfu-today-plan",workTaxonomy:"sport-planner-work-taxonomy"},ik=typeof window<"u",Pt=()=>new Date().toISOString(),as="18:30",ds=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],fs={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},dn={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},Ai={nodeTypes:[{key:"form",label:"Form"},{key:"segment",label:"Segment"},{key:"application",label:"Application"},{key:"technique",label:"Technique"},{key:"drill",label:"Drill"},{key:"work",label:"Work"},{key:"link",label:"Link"},{key:"style",label:"Style"}],tags:[]},dR=e=>{const n=(Array.isArray(e)?e:[]).map(i=>{if(!i||typeof i!="object")return null;const o=i,l=String(o.key??"").trim().toLowerCase(),u=String(o.label??"").trim();return l?{key:l,label:u||l}:null}).filter(Boolean),r=new Map;return n.forEach(i=>{r.set(i.key,i)}),Ai.nodeTypes.forEach(i=>{r.has(i.key)||r.set(i.key,i)}),Array.from(r.values()).sort((i,o)=>i.label.localeCompare(o.label,"en",{sensitivity:"base"}))},fR=e=>{const n=(Array.isArray(e)?e:[]).map(i=>{if(typeof i=="string"){const u=i.trim().toLowerCase();return u?{name:u}:null}if(!i||typeof i!="object")return null;const l=String(i.name??"").trim().toLowerCase();return l?{name:l}:null}).filter(Boolean),r=new Map;return n.forEach(i=>r.set(i.name,i)),Array.from(r.values()).sort((i,o)=>i.name.localeCompare(o.name,"en",{sensitivity:"base"}))},Wn=(e,t)=>{const n=(e&&typeof e=="object"?e:{})??{},r=dR(n.nodeTypes),i=fR(n.tags),o=new Map(r.map(u=>[u.key,u])),l=new Map(i.map(u=>[u.name,u]));return t.forEach(u=>{const c=(u.nodeType??"").trim().toLowerCase();c&&!o.has(c)&&o.set(c,{key:c,label:c}),(u.tags??[]).forEach(f=>{const h=String(f??"").trim().toLowerCase();h&&!l.has(h)&&l.set(h,{name:h})})}),{nodeTypes:Array.from(o.values()).sort((u,c)=>u.label.localeCompare(c.label,"en",{sensitivity:"base"})),tags:Array.from(l.values()).sort((u,c)=>u.name.localeCompare(c.name,"en",{sensitivity:"base"}))}},Dx=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim().toLowerCase()).filter(t=>t.length>0))),hR=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim()).filter(t=>t.length>0))),sk=e=>e==="count"||e==="minutes"||e==="both",pR=e=>e==="work"||e==="note",mR=e=>e==="overdue"||e==="weighted",gR=e=>e==="allow_all"||e==="prefer_leaves",yR=e=>{const t={},n=Dx(e.byTags),r=Dx(e.byNodeTypes),i=hR(e.byWorkIds);return n.length>0&&(t.byTags=n),r.length>0&&(t.byNodeTypes=r),i.length>0&&(t.byWorkIds=i),t},Co=e=>(e??[]).map(yR).filter(t=>Object.keys(t).length>0),vR=e=>{if(!Array.isArray(e))return[];const t=e.map(n=>Number(n)).filter(n=>Number.isFinite(n)).map(n=>Math.round(n)).filter(n=>n>=0&&n<=6);return Array.from(new Set(t)).sort((n,r)=>n-r)},xR=e=>{const t={};return!e||typeof e!="object"?{...dn.defaultMinutesByNodeType}:(Object.entries(e).forEach(([n,r])=>{const i=n.trim().toLowerCase(),o=Number(r);i&&Number.isFinite(o)&&(t[i]=Math.max(.25,o))}),Object.keys(t).length>0?t:{...dn.defaultMinutesByNodeType})},wR=(e,t)=>{const n=String(e.id??"").trim()||tn(),r=pR(e.type)?e.type:"work",i=typeof e.enabled=="boolean"?e.enabled:!0,o=String(e.name??"").trim()||(r==="note"?"Recap":"Grupo"),l=Number.isFinite(Number(e.order))?Number(e.order):t,u=vR(e.daysOfWeek),c=sk(e.limitMode)?e.limitMode:"minutes",f=Number.isFinite(Number(e.maxItems))?Math.max(0,Math.round(Number(e.maxItems))):void 0,h=Number.isFinite(Number(e.minutesBudget))?Math.max(0,Number(e.minutesBudget)):void 0,p=mR(e.strategy)?e.strategy:"overdue",y=gR(e.hierarchyRule)?e.hierarchyRule:"allow_all",v=Co(e.include),S=Co(e.exclude);return{id:n,name:o,enabled:i,order:l,type:r,daysOfWeek:u,limitMode:c,maxItems:f,minutesBudget:h,strategy:p,hierarchyRule:y,include:v,exclude:S}},bR=e=>{var f,h,p;const t=Math.max(0,Number((f=e.template)==null?void 0:f.focusMinutes)||0),n=Math.max(0,Number((h=e.template)==null?void 0:h.rouletteMinutes)||0),r=Math.max(0,Number((p=e.template)==null?void 0:p.recapMinutes)||0),i=Co(e.focusSelectors),o=Co(e.rouletteSelectors),l=i.length>0?i:[{byNodeTypes:["segment","form"]}],u=o.length>0?o:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],c=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:t>0?t:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:l,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:n>0?n:10,strategy:"weighted",hierarchyRule:"allow_all",include:u,exclude:[]}];return r>0&&c.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:r}),c},tp=e=>{var S,w,_;const t=e??dn,n=sk(t.limitMode)?t.limitMode:dn.limitMode,r=Math.max(1,Math.round(Number(t.maxItems)||dn.maxItems)),i=Math.max(1,Number(t.minutesBudget)||dn.minutesBudget),o=Math.max(0,Number((S=t.template)==null?void 0:S.focusMinutes)||dn.template.focusMinutes),l=Math.max(0,Number((w=t.template)==null?void 0:w.rouletteMinutes)||dn.template.rouletteMinutes),u=Math.max(0,Number((_=t.template)==null?void 0:_.recapMinutes)||dn.template.recapMinutes),c=Math.max(0,o+l+u),f=xR(t.defaultMinutesByNodeType),h=Co(t.focusSelectors),p=Co(t.rouletteSelectors),v=((t.groups??[]).length>0?t.groups??[]:bR(t)).map((E,j)=>wR(E,j+1)).sort((E,j)=>E.order-j.order).map((E,j)=>({...E,order:j+1}));return{...t,limitMode:n,maxItems:r,minutesBudget:i,template:{totalMinutes:c,focusMinutes:o,rouletteMinutes:l,recapMinutes:u},defaultMinutesByNodeType:f,focusSelectors:h,rouletteSelectors:p,groups:v}},On=e=>{if(!e)return null;const t=e.trim();return t.length>0?t:null},Fu=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),yr=e=>{if(!e)return;const t=e.trim();return t.length>0?t:void 0},np=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),Ni=e=>{const t=Pt(),n=On(e.parentWorkId??null),r=On(e.nextWorkId??null),i=On(e.variantOfWorkId??null),o=yr(e.nodeType??void 0),l=Fu(e.tags),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:void 0,c=(e.collaborators??[]).map((p,y)=>({id:p.id??`${e.id}-collab-${y}`,email:(p.email??"").trim().toLowerCase(),role:p.role??"editor",userId:p.userId??null,createdAt:p.createdAt??t})),f=np([...e.collaboratorEmails??[],...c.map(p=>p.email)]),h=Array.isArray(e.videoUrls)?e.videoUrls.map(p=>typeof p=="string"?p.trim():"").filter(Boolean):[];return{id:e.id,name:e.name??"Trabajo sin nombre",subtitle:yr(e.subtitle),objectiveId:e.objectiveId??"",parentWorkId:n,nodeType:o,tags:l,orderHint:u,nextWorkId:r,variantOfWorkId:i,descriptionMarkdown:e.descriptionMarkdown??"",estimatedMinutes:e.estimatedMinutes??0,notes:yr(e.notes),videoUrls:h,createdAt:e.createdAt??t,updatedAt:e.updatedAt??t,visibility:e.visibility??"private",ownerId:e.ownerId??"local-owner",ownerEmail:(e.ownerEmail??"").trim().toLowerCase(),collaborators:c,collaboratorEmails:f,canEdit:e.canEdit??!0,isOwner:e.isOwner??!0}},kR=(e,t,n)=>{var o;if(!n)return!1;if(n===t)return!0;const r=new Set;let i=n;for(;i;){if(i===t)return!0;if(r.has(i))break;r.add(i),i=((o=e.find(u=>u.id===i))==null?void 0:o.parentWorkId)??null}return!1},un=(e,t)=>{if(!ik)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},ok=e=>e==="present"||e==="absent"||e==="pending",ak=e=>e==="present"||e==="absent",rp=e=>(e??[]).map(t=>{const n=ok(t.status)?t.status:"pending",r=ak(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),Ge=e=>{if(!ik)return;const t={objectives:un(St.objectives,[]),works:un(St.works,[]),sessions:un(St.sessions,[]),assistants:un(St.assistants,[]),kungfuPrograms:un(St.kungfuPrograms,ds),kungfuCadence:un(St.kungfuCadence,fs),kungfuTodayPlan:un(St.kungfuTodayPlan,dn),workTaxonomy:un(St.workTaxonomy,Ai)},n=ip({...t,...e});window.localStorage.setItem(St.objectives,JSON.stringify(n.objectives)),window.localStorage.setItem(St.works,JSON.stringify(n.works)),window.localStorage.setItem(St.sessions,JSON.stringify(n.sessions)),window.localStorage.setItem(St.assistants,JSON.stringify(n.assistants)),window.localStorage.setItem(St.kungfuPrograms,JSON.stringify(n.kungfuPrograms)),window.localStorage.setItem(St.kungfuCadence,JSON.stringify(n.kungfuCadence)),window.localStorage.setItem(St.kungfuTodayPlan,JSON.stringify(n.kungfuTodayPlan)),window.localStorage.setItem(St.workTaxonomy,JSON.stringify(n.workTaxonomy))},ip=e=>{const t=(e.works??[]).map(r=>{const i=r.parent_work_id;return Ni({...r,id:r.id,parentWorkId:On(r.parentWorkId??i??null)})}),n=Wn(e.workTaxonomy??Ai,t);return{objectives:e.objectives??[],works:t,sessions:(e.sessions??[]).map(r=>({...r,kind:r.kind??"class",startTime:r.startTime??as,workItems:(r.workItems??[]).map(i=>({...i,focusLabel:i.focusLabel,completed:i.completed??!1})),attendance:rp(r.attendance)})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??ds,kungfuCadence:e.kungfuCadence??fs,kungfuTodayPlan:tp(e.kungfuTodayPlan??dn),workTaxonomy:n}},Ee=rR((e,t)=>({ready:!1,objectives:[],works:[],worksLoading:!1,sessions:[],assistants:[],kungfuPrograms:ds,kungfuCadence:fs,kungfuTodayPlan:dn,workTaxonomy:Ai,hydrate:()=>{if(t().ready)return;const n=un(St.objectives,[]),r=un(St.works,[]).map(p=>{const y=p.parent_work_id;return Ni({...p,id:p.id,parentWorkId:On(p.parentWorkId??y??null)})}),i=un(St.workTaxonomy,Ai),o=Wn(i,r),l=un(St.sessions,[]).map(p=>({...p,kind:p.kind??"class",startTime:p.startTime??as,workItems:(p.workItems??[]).map(y=>({...y,focusLabel:y.focusLabel,completed:y.completed??!1})),attendance:rp(p.attendance)})),u=un(St.assistants,[]),c=un(St.kungfuPrograms,ds),f=un(St.kungfuCadence,fs),h=un(St.kungfuTodayPlan,dn);e({objectives:n,works:r,sessions:l,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:tp(h),workTaxonomy:o,ready:!0})},setCollections:n=>{e(r=>{const i=ip({objectives:n.objectives??r.objectives,works:n.works??r.works,sessions:n.sessions??r.sessions,assistants:n.assistants??r.assistants,kungfuPrograms:n.kungfuPrograms??r.kungfuPrograms,kungfuCadence:n.kungfuCadence??r.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan??r.kungfuTodayPlan,workTaxonomy:n.workTaxonomy??r.workTaxonomy}),o={...r,...i,ready:!0};return Ge(i),o})},setWorks:n=>{const r=n.map(i=>Ni(i));e(i=>{const o=Wn(i.workTaxonomy,r),l={...i,works:r,workTaxonomy:o};return Ge({works:r}),l})},loadWorks:async n=>{e({worksLoading:!0});try{const i=(await lR(n)).map(p=>Ni(p)),o=t().works,l=new Set(i.map(p=>p.id)),u=o.filter(p=>!l.has(p.id)&&(!p.ownerId||p.ownerId==="local-owner"||p.ownerId===n.actorId)),c=[];for(const p of u)try{const y=await Lx({id:p.id,name:p.name,subtitle:p.subtitle,objectiveId:p.objectiveId,parentWorkId:p.parentWorkId??null,nodeType:p.nodeType,tags:p.tags,orderHint:p.orderHint,nextWorkId:p.nextWorkId??null,variantOfWorkId:p.variantOfWorkId??null,descriptionMarkdown:p.descriptionMarkdown,estimatedMinutes:p.estimatedMinutes,notes:p.notes,videoUrls:p.videoUrls,visibility:p.visibility??"private",collaboratorEmails:p.collaboratorEmails??[]},n),v=Ni(y);c.push(v),l.add(v.id)}catch(y){console.error(`No se pudo migrar el trabajo legacy ${p.id}`,y)}const f=[...i];c.forEach(p=>{if(!l.has(p.id))l.add(p.id),f.push(p);else{const y=f.findIndex(v=>v.id===p.id);y>=0?f[y]=p:f.push(p)}});const h=f.map(p=>Ni(p)).sort((p,y)=>p.name.localeCompare(y.name,"es",{sensitivity:"base"}));e(p=>{const y=Wn(p.workTaxonomy,h),v={...p,works:h,workTaxonomy:y};return Ge({works:h}),v})}finally{e({worksLoading:!1})}},reset:()=>{e(n=>{const r=ip({objectives:[],works:[],sessions:[],assistants:[],kungfuPrograms:ds,kungfuCadence:fs,kungfuTodayPlan:dn,workTaxonomy:Ai}),i={...n,...r,ready:!0,worksLoading:!1};return Ge(i),i})},setKungfuPrograms:n=>{const r=Array.isArray(n)?n:ds;e(i=>{const o={...i,kungfuPrograms:r};return Ge(o),o})},setKungfuCadence:n=>{const r=n??fs;e(i=>{const o={...i,kungfuCadence:r};return Ge(o),o})},setKungfuTodayPlan:n=>{const r=tp(n??dn);e(i=>{const o={...i,kungfuTodayPlan:r};return Ge(o),o})},setWorkTaxonomy:n=>{e(r=>{const i=Wn(n??Ai,r.works),o={...r,workTaxonomy:i};return Ge(o),o})},upsertNodeType:n=>{const r=Xf(n);if(!r)return null;const i=n.trim()||r;return e(o=>{const l=o.workTaxonomy.nodeTypes??[],u=l.some(h=>h.key===r)?l.map(h=>h.key===r?{...h,label:i}:h):[...l,{key:r,label:i}],c=Wn({...o.workTaxonomy,nodeTypes:u},o.works),f={...o,workTaxonomy:c};return Ge(f),f}),r},removeNodeType:n=>{const r=(n??"").trim().toLowerCase();return!r||t().works.some(o=>(o.nodeType??"").trim().toLowerCase()===r)?!1:(e(o=>{const l=(o.workTaxonomy.nodeTypes??[]).filter(f=>f.key!==r),u=Wn({...o.workTaxonomy,nodeTypes:l},o.works),c={...o,workTaxonomy:u};return Ge(c),c}),!0)},upsertTag:n=>{const r=Xf(n);return r?(e(i=>{const o=i.workTaxonomy.tags??[],l=o.some(f=>f.name===r)?o:[...o,{name:r}],u=Wn({...i.workTaxonomy,tags:l},i.works),c={...i,workTaxonomy:u};return Ge(c),c}),r):null},removeTag:n=>{const r=Xf(n??"");return!r||t().works.some(o=>(o.tags??[]).includes(r))?!1:(e(o=>{const l=(o.workTaxonomy.tags??[]).filter(f=>f.name!==r),u=Wn({...o.workTaxonomy,tags:l},o.works),c={...o,workTaxonomy:u};return Ge(c),c}),!0)},addObjective:n=>{const r={id:tn(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:Pt(),updatedAt:Pt()};return e(i=>{const o={objectives:[...i.objectives,r]},l={...i,...o};return Ge(l),l}),r},updateObjective:(n,r)=>{e(i=>{const o=i.objectives.map(u=>u.id===n?{...u,...r,updatedAt:Pt()}:u),l={...i,objectives:o};return Ge(l),l})},deleteObjective:n=>t().works.some(i=>i.objectiveId===n)?!1:(e(i=>{const o=i.objectives.filter(u=>u.id!==n),l={...i,objectives:o};return Ge(l),l}),!0),addWork:async(n,r)=>{const i=t(),o=On(n.parentWorkId),l=o&&i.works.some(h=>h.id===o)?o:null,u={name:n.name,subtitle:yr(n.subtitle),objectiveId:n.objectiveId,parentWorkId:l,nodeType:yr(n.nodeType)??void 0,tags:Fu(n.tags),orderHint:typeof n.orderHint=="number"&&Number.isFinite(n.orderHint)?n.orderHint:void 0,nextWorkId:On(n.nextWorkId??null),variantOfWorkId:On(n.variantOfWorkId??null),descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:yr(n.notes),videoUrls:(n.videoUrls??[]).map(h=>h.trim()).filter(h=>h.length>0),visibility:n.visibility??"private",collaboratorEmails:np(n.collaboratorEmails??[])},c=await Lx(u,r),f=Ni(c);return e(h=>{const p=[...h.works.filter(v=>v.id!==f.id),f],y=Wn(h.workTaxonomy,p);return Ge({works:p,workTaxonomy:y}),{...h,works:p,workTaxonomy:y}}),f},updateWork:async(n,r,i)=>{const o=t(),l=o.works.find(p=>p.id===n);if(!l)throw new Error("Trabajo no encontrado");let u=l.parentWorkId??null;if(r.parentWorkId!==void 0){const p=On(r.parentWorkId);p&&(!o.works.some(y=>y.id===p)||kR(o.works,n,p))?u=null:u=p}const c={...r,subtitle:r.subtitle!==void 0?yr(r.subtitle)??null:void 0,parentWorkId:u,nodeType:r.nodeType!==void 0?yr(r.nodeType??void 0)??null:void 0,tags:r.tags?Fu(r.tags):void 0,orderHint:r.orderHint!==void 0?typeof r.orderHint=="number"&&Number.isFinite(r.orderHint)?r.orderHint:null:void 0,nextWorkId:r.nextWorkId!==void 0?On(r.nextWorkId??null):void 0,variantOfWorkId:r.variantOfWorkId!==void 0?On(r.variantOfWorkId??null):void 0,notes:r.notes!==void 0?yr(r.notes)??null:void 0,videoUrls:r.videoUrls?r.videoUrls.map(p=>p.trim()).filter(p=>p.length>0):void 0,collaboratorEmails:r.collaboratorEmails?np(r.collaboratorEmails):void 0},f=await uR(n,c,i),h=Ni(f);return e(p=>{const y=p.works.map(S=>S.id===h.id?h:S),v=Wn(p.workTaxonomy,y);return Ge({works:y,workTaxonomy:v}),{...p,works:y,workTaxonomy:v}}),h},deleteWork:async(n,r)=>t().sessions.some(l=>l.workItems.some(u=>u.workId===n))||t().works.some(l=>l.parentWorkId===n)?!1:(await cR(n),e(l=>{const u=l.works.filter(f=>f.id!==n),c=Wn(l.workTaxonomy,u);return Ge({works:u,workTaxonomy:c}),{...l,works:u,workTaxonomy:c}}),!0),addSession:n=>{const r={id:tn(),date:n.date,kind:n.kind??"class",title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??as,createdAt:Pt(),updatedAt:Pt()};return e(i=>{const o=[...i.sessions,r],l={...i,sessions:o};return Ge(l),l}),r},duplicateSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o=Pt(),l={...i,id:tn(),date:r,startTime:i.startTime??as,createdAt:o,updatedAt:o,title:`${i.title} (copia)`};return l.workItems=i.workItems.slice().sort((u,c)=>u.order-c.order).map((u,c)=>({...u,id:tn(),order:c,completed:!1})),l.attendance=i.attendance.map(u=>({assistantId:u.assistantId,status:"pending",notes:u.notes,actualStatus:void 0,actualNotes:void 0})),e(u=>{const c=[...u.sessions,l],f={...u,sessions:c};return Ge(f),f}),l},updateSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,...r,updatedAt:Pt()}:u),l={...i,sessions:o};return Ge(l),l})},deleteSession:n=>{e(r=>{const i=r.sessions.filter(l=>l.id!==n),o={...r,sessions:i};return Ge(o),o})},updateSessionWorkItems:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,workItems:r.map((c,f)=>({...c,order:f})),updatedAt:Pt()}:u),l={...i,sessions:o};return Ge(l),l})},addWorkToSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o={id:tn(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:i.workItems.length},l={...i,workItems:[...i.workItems,o],updatedAt:Pt()};return e(u=>{const c=u.sessions.map(h=>h.id===n?l:h),f={...u,sessions:c};return Ge(f),f}),o},duplicateSessionWork:(n,r)=>{let i,o=!1;return e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.workItems.findIndex(w=>w.id===r);if(h===-1)return f;o=!0;const y={...f.workItems[h],id:tn(),completed:!1},v=[...f.workItems];v.splice(h+1,0,y);const S=v.map((w,_)=>{const E={...w,order:_};return w.id===y.id&&(i=E),E});return{...f,workItems:S,updatedAt:Pt()}});if(!o)return l;const c={...l,sessions:u};return Ge(c),c}),i},removeWorkFromSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>{if(u.id!==n)return u;const c=u.workItems.filter(f=>f.id!==r).map((f,h)=>({...f,order:h}));return{...u,workItems:c,updatedAt:Pt()}}),l={...i,sessions:o};return Ge(l),l})},toggleSessionWorkCompletion:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,completed:i}:f),updatedAt:Pt()}),u={...o,sessions:l};return Ge(u),u})},reorderSessionWork:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=[...c.workItems],[h]=f.splice(r,1);return f.splice(i,0,h),{...c,workItems:f.map((p,y)=>({...p,order:y})),updatedAt:Pt()}}),u={...o,sessions:l};return Ge(u),u})},updateSessionWorkDetails:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,...i}:f),updatedAt:Pt()}),u={...o,sessions:l};return Ge(u),u})},replaceSessionWork:(n,r,i)=>{t().works.some(o=>o.id===i)&&e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=c.workItems.map(h=>h.id!==r?h:{...h,workId:i,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...c,workItems:f,updatedAt:Pt()}}),u={...o,sessions:l};return Ge(u),u})},setAttendanceActualStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(y=>y.assistantId===r);let p;if(h)p=f.attendance.map(y=>{if(y.assistantId!==r)return y;const v={...y,actualStatus:i};return typeof o<"u"&&(v.actualNotes=o),v});else{const y={assistantId:r,status:"pending",actualStatus:i};typeof o<"u"&&(y.actualNotes=o),p=[...f.attendance,y]}return{...f,attendance:p,updatedAt:Pt()}}),c={...l,sessions:u};return Ge(c),c})},setAttendanceStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(y=>y.assistantId===r);let p;return h?p=f.attendance.map(y=>y.assistantId===r?{...y,status:i,notes:o}:y):p=[...f.attendance,{assistantId:r,status:i,notes:o}],{...f,attendance:p,updatedAt:Pt()}}),c={...l,sessions:u};return Ge(c),c})},addAssistant:n=>{const r={id:tn(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:Pt(),updatedAt:Pt()};return e(i=>{const o=[...i.assistants,r],l={...i,assistants:o};return Ge(l),l}),r},updateAssistant:(n,r)=>{e(i=>{const o=i.assistants.map(u=>u.id===n?{...u,...r,updatedAt:Pt()}:u),l={...i,assistants:o};return Ge(l),l})},deleteAssistant:n=>{e(r=>{const i=r.assistants.filter(u=>u.id!==n),o=r.sessions.map(u=>({...u,attendance:u.attendance.filter(c=>c.assistantId!==n)})),l={...r,assistants:i,sessions:o};return Ge(l),l})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versin de backup no soportada");const i=Pt(),o=(n.objetivos??[]).map(E=>({...E,createdAt:E.createdAt??i,updatedAt:E.updatedAt??i})),l=(n.trabajos??[]).map(E=>{const j=E.parent_work_id,C=E.node_type,P=E.tags,M=E.order_hint,A=E.next_work_id,F=E.variant_of_work_id;return{...E,subtitle:yr(E.subtitle),parentWorkId:On(E.parentWorkId??j??null),nodeType:yr(E.nodeType??C??void 0),tags:Fu(Array.isArray(E.tags)?E.tags:Array.isArray(P)?P:[]),orderHint:typeof E.orderHint=="number"?E.orderHint:typeof M=="number"?M:void 0,nextWorkId:On(E.nextWorkId??A??null),variantOfWorkId:On(E.variantOfWorkId??F??null),createdAt:E.createdAt??i,updatedAt:E.updatedAt??i,videoUrls:E.videoUrls??[]}}),u=(n.asistentes??[]).map(E=>({...E,createdAt:E.createdAt??i,updatedAt:E.updatedAt??i,active:E.active??!0})),c=n.kungfuPrograms??ds,f=n.kungfuCadence??fs,h=n.kungfuTodayPlan??dn,p=Wn(n.workTaxonomy??Ai,l),y=new Map;(n.sesiones??[]).forEach(E=>{const j=E.id??tn(),C={id:j,date:E.date??Be().format("YYYY-MM-DD"),kind:E.kind??"class",title:E.title??"Sesin importada",description:E.description,notes:E.notes,workItems:(E.workItems??[]).map((P,M)=>({id:P.id??tn(),workId:P.workId,order:P.order??M,customDescriptionMarkdown:P.customDescriptionMarkdown,customDurationMinutes:P.customDurationMinutes,notes:P.notes,focusLabel:P.focusLabel,completed:P.completed??!1,result:P.result,effort:P.effort})),attendance:rp(E.attendance),startTime:E.startTime??as,createdAt:E.createdAt??i,updatedAt:E.updatedAt??i};C.workItems=C.workItems.sort((P,M)=>P.order-M.order).map((P,M)=>({...P,order:M})),y.set(j,C)}),(n.sesiones_trabajos??[]).forEach(E=>{const j=E.session_id;if(!j)return;y.has(j)||y.set(j,{id:j,date:E.fecha?Be(E.fecha).format("YYYY-MM-DD"):Be().format("YYYY-MM-DD"),kind:"class",title:E.titulo??"Sesin importada",description:E.descripcion,notes:E.notasSesion??E.notas,workItems:[],attendance:[],startTime:as,createdAt:i,updatedAt:i});const C=y.get(j);C.workItems.push({id:E.id??tn(),workId:E.trabajo_id,order:E.orden??C.workItems.length,customDescriptionMarkdown:E.descripcionPersonalizada,customDurationMinutes:E.duracionPersonalizada,notes:E.notas,focusLabel:E.focusLabel??E.foco,completed:E.completed??!1,result:E.result??E.resultado,effort:E.effort??E.esfuerzo})}),y.forEach(E=>{E.workItems=E.workItems.sort((j,C)=>j.order-C.order).map((j,C)=>({...j,order:C})),E.startTime=E.startTime??as});const v=new Map,S=E=>ok(E)?E:void 0,w=E=>ak(E)?E:void 0;(n.sesiones_asistencias??[]).forEach(E=>{const j=E.session_id;if(!j)return;const C=E.assistantId??E.asistente_id;if(!C)return;const P=S(E.status??E.estado)??"pending",M=w(E.actualStatus??E.estado_real),A={assistantId:C,status:P,notes:E.notes??E.notas,actualStatus:M,actualNotes:E.actualNotes??E.notas_reales},F=v.get(j)??[];F.push(A),v.set(j,F)}),v.forEach((E,j)=>{const C=y.get(j);C&&(C.attendance=E)});const _=Array.from(y.values());e({objectives:o,works:l,sessions:_,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h,workTaxonomy:p,ready:!0}),Ge({objectives:o,works:l,sessions:_,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h,workTaxonomy:p})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(u=>u.workItems.map(c=>({id:c.id,session_id:u.id,trabajo_id:c.workId,orden:c.order,descripcionPersonalizada:c.customDescriptionMarkdown,duracionPersonalizada:c.customDurationMinutes,notas:c.notes,foco:c.focusLabel,focusLabel:c.focusLabel,completed:c.completed??!1,result:c.result,effort:c.effort}))),i=n.sessions.flatMap(u=>u.attendance.map(c=>({session_id:u.id,assistantId:c.assistantId,estado:c.status,notas:c.notes,...c.actualStatus?{actualStatus:c.actualStatus,estado_real:c.actualStatus}:{},...c.actualNotes?{actualNotes:c.actualNotes,notas_reales:c.actualNotes}:{}}))),o=n.sessions.map(u=>({id:u.id,date:u.date,kind:u.kind,title:u.title,description:u.description,notes:u.notes,startTime:u.startTime,createdAt:u.createdAt,updatedAt:u.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:o,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:i,kungfuPrograms:n.kungfuPrograms,kungfuCadence:n.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan,workTaxonomy:n.workTaxonomy}}})),$x=1,SR=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],ER={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},_R={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},CR={nodeTypes:[{key:"form",label:"Form"},{key:"segment",label:"Segment"},{key:"application",label:"Application"},{key:"technique",label:"Technique"},{key:"drill",label:"Drill"},{key:"work",label:"Work"},{key:"link",label:"Link"},{key:"style",label:"Style"}],tags:[]},Nu=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants,kungfuPrograms:e.kungfuPrograms,kungfuCadence:e.kungfuCadence,kungfuTodayPlan:e.kungfuTodayPlan,workTaxonomy:e.workTaxonomy}),jR=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,kind:t.kind??"class",workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??SR,kungfuCadence:e.kungfuCadence??ER,kungfuTodayPlan:e.kungfuTodayPlan??_R,workTaxonomy:e.workTaxonomy??CR}),NR=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants||e.kungfuPrograms!==t.kungfuPrograms||e.kungfuCadence!==t.kungfuCadence||e.kungfuTodayPlan!==t.kungfuTodayPlan||e.workTaxonomy!==t.workTaxonomy;function TR(){const{user:e}=_s(),t=Ee(f=>f.setCollections),n=Ee(f=>f.reset),r=Ee(f=>f.ready),i=k.useRef(!1),o=k.useRef(null),l=k.useRef(null),u=k.useRef(null),c=k.useRef(Nu(Ee.getState()));k.useEffect(()=>()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]),k.useEffect(()=>{e||(n(),u.current=null,l.current=null,i.current=!1,c.current=Nu(Ee.getState()),o.current&&(window.clearTimeout(o.current),o.current=null))},[e,n]),k.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:y,error:v}=await zt.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(v&&v.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",v);return}const S=y;if(S!=null&&S.data){const w=jR(S.data??{});i.current=!0,u.current=S.updated_at,c.current=w,t(w)}else if(r){const w=Nu(Ee.getState());l.current=null;const{error:_,data:E}=await zt.from("planner_states").upsert({user_id:e.id,data:{version:$x,...w}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),j=E;_?console.error("No se pudo inicializar el estado remoto",_):j&&(u.current=j.updated_at)}})();const p=Ee.subscribe(y=>{if(!f)return;const v=Nu(y);if(i.current){i.current=!1,c.current=v,l.current=null;return}const S=c.current;NR(v,S)&&(c.current=v,l.current=v,o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{if(!l.current)return;const w=l.current;l.current=null,(async()=>{const{error:_,data:E}=await zt.from("planner_states").upsert({user_id:e.id,data:{version:$x,...w}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),j=E;_?console.error("No se pudo guardar el estado remoto",_):j&&(u.current=j.updated_at)})()},600))});return()=>{f=!1,p(),o.current&&(window.clearTimeout(o.current),o.current=null)}},[e,r,t])}function IR(){const{user:e}=_s(),t=Ee(r=>r.loadWorks),n=Ee(r=>r.setWorks);k.useEffect(()=>{if(!e){n([]);return}const r={actorId:e.id,actorEmail:e.email??""},i=async()=>{try{await t(r)}catch(l){console.error("No se pudieron sincronizar los trabajos colaborativos",l)}};i();const o=zt.channel("works-collaboration").on("postgres_changes",{event:"*",schema:"public",table:"works"},()=>{i()}).on("postgres_changes",{event:"*",schema:"public",table:"work_collaborators"},()=>{i()}).subscribe();return()=>{zt.removeChannel(o)}},[e,t,n])}var zu={exports:{}},PR=zu.exports,Fx;function AR(){return Fx||(Fx=1,(function(e,t){(function(n,r){e.exports=r(tk())})(PR,(function(n){function r(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=r(n),o={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(l){return l+""}};return i.default.locale(o,null,!0),o}))})(zu)),zu.exports}AR();function $i({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return g.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[g.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function RR(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const OR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,MR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,LR={};function zx(e,t){return(LR.jsx?MR:OR).test(e)}const DR=/[ \t\n\f\r]/g;function $R(e){return typeof e=="object"?e.type==="text"?Bx(e.value):!1:Bx(e)}function Bx(e){return e.replace(DR,"")===""}class al{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}al.prototype.normal={};al.prototype.property={};al.prototype.space=void 0;function lk(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new al(n,r,t)}function sp(e){return e.toLowerCase()}class Ln{constructor(t,n){this.attribute=n,this.property=t}}Ln.prototype.attribute="";Ln.prototype.booleanish=!1;Ln.prototype.boolean=!1;Ln.prototype.commaOrSpaceSeparated=!1;Ln.prototype.commaSeparated=!1;Ln.prototype.defined=!1;Ln.prototype.mustUseProperty=!1;Ln.prototype.number=!1;Ln.prototype.overloadedBoolean=!1;Ln.prototype.property="";Ln.prototype.spaceSeparated=!1;Ln.prototype.space=void 0;let FR=0;const Ue=js(),Lt=js(),op=js(),me=js(),ht=js(),wo=js(),Hn=js();function js(){return 2**++FR}const ap=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ue,booleanish:Lt,commaOrSpaceSeparated:Hn,commaSeparated:wo,number:me,overloadedBoolean:op,spaceSeparated:ht},Symbol.toStringTag,{value:"Module"})),Zf=Object.keys(ap);class Zp extends Ln{constructor(t,n,r,i){let o=-1;if(super(t,n),Ux(this,"space",i),typeof r=="number")for(;++o<Zf.length;){const l=Zf[o];Ux(this,Zf[o],(r&ap[l])===ap[l])}}}Zp.prototype.defined=!0;function Ux(e,t,n){n&&(e[t]=n)}function Oo(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Zp(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[sp(r)]=r,n[sp(o.attribute)]=r}return new al(t,n,e.space)}const uk=Oo({properties:{ariaActiveDescendant:null,ariaAtomic:Lt,ariaAutoComplete:null,ariaBusy:Lt,ariaChecked:Lt,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:ht,ariaCurrent:null,ariaDescribedBy:ht,ariaDetails:null,ariaDisabled:Lt,ariaDropEffect:ht,ariaErrorMessage:null,ariaExpanded:Lt,ariaFlowTo:ht,ariaGrabbed:Lt,ariaHasPopup:null,ariaHidden:Lt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ht,ariaLevel:me,ariaLive:null,ariaModal:Lt,ariaMultiLine:Lt,ariaMultiSelectable:Lt,ariaOrientation:null,ariaOwns:ht,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Lt,ariaReadOnly:Lt,ariaRelevant:null,ariaRequired:Lt,ariaRoleDescription:ht,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Lt,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function ck(e,t){return t in e?e[t]:t}function dk(e,t){return ck(e,t.toLowerCase())}const zR=Oo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wo,acceptCharset:ht,accessKey:ht,action:null,allow:null,allowFullScreen:Ue,allowPaymentRequest:Ue,allowUserMedia:Ue,alt:null,as:null,async:Ue,autoCapitalize:null,autoComplete:ht,autoFocus:Ue,autoPlay:Ue,blocking:ht,capture:null,charSet:null,checked:Ue,cite:null,className:ht,cols:me,colSpan:null,content:null,contentEditable:Lt,controls:Ue,controlsList:ht,coords:me|wo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ue,defer:Ue,dir:null,dirName:null,disabled:Ue,download:op,draggable:Lt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ue,formTarget:null,headers:ht,height:me,hidden:op,high:me,href:null,hrefLang:null,htmlFor:ht,httpEquiv:ht,id:null,imageSizes:null,imageSrcSet:null,inert:Ue,inputMode:null,integrity:null,is:null,isMap:Ue,itemId:null,itemProp:ht,itemRef:ht,itemScope:Ue,itemType:ht,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ue,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:Ue,muted:Ue,name:null,nonce:null,noModule:Ue,noValidate:Ue,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ue,optimum:me,pattern:null,ping:ht,placeholder:null,playsInline:Ue,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ue,referrerPolicy:null,rel:ht,required:Ue,reversed:Ue,rows:me,rowSpan:me,sandbox:ht,scope:null,scoped:Ue,seamless:Ue,selected:Ue,shadowRootClonable:Ue,shadowRootDelegatesFocus:Ue,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Lt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:Ue,useMap:null,value:Lt,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ht,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ue,declare:Ue,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:Ue,noHref:Ue,noShade:Ue,noWrap:Ue,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Lt,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ue,disableRemotePlayback:Ue,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:dk}),BR=Oo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hn,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:ht,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:Ue,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wo,g2:wo,glyphName:wo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:Hn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ht,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hn,rev:Hn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hn,requiredFeatures:Hn,requiredFonts:Hn,requiredFormats:Hn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:Hn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hn,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ck}),fk=Oo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),hk=Oo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:dk}),pk=Oo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),UR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},WR=/[A-Z]/g,Wx=/-[a-z]/g,HR=/^data[-\w.:]+$/i;function VR(e,t){const n=sp(t);let r=t,i=Ln;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&HR.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Wx,YR);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Wx.test(o)){let l=o.replace(WR,qR);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=Zp}return new i(r,t)}function qR(e){return"-"+e.toLowerCase()}function YR(e){return e.charAt(1).toUpperCase()}const KR=lk([uk,zR,fk,hk,pk],"html"),em=lk([uk,BR,fk,hk,pk],"svg");function GR(e){return e.join(" ").trim()}var ao={},eh,Hx;function JR(){if(Hx)return eh;Hx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",h="*",p="",y="comment",v="declaration";eh=function(w,_){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];_=_||{};var E=1,j=1;function C(G){var V=G.match(t);V&&(E+=V.length);var $=G.lastIndexOf(c);j=~$?G.length-$:j+G.length}function P(){var G={line:E,column:j};return function(V){return V.position=new M(G),Z(),V}}function M(G){this.start=G,this.end={line:E,column:j},this.source=_.source}M.prototype.content=w;function A(G){var V=new Error(_.source+":"+E+":"+j+": "+G);if(V.reason=G,V.filename=_.source,V.line=E,V.column=j,V.source=w,!_.silent)throw V}function F(G){var V=G.exec(w);if(V){var $=V[0];return C($),w=w.slice($.length),V}}function Z(){F(n)}function se(G){var V;for(G=G||[];V=R();)V!==!1&&G.push(V);return G}function R(){var G=P();if(!(f!=w.charAt(0)||h!=w.charAt(1))){for(var V=2;p!=w.charAt(V)&&(h!=w.charAt(V)||f!=w.charAt(V+1));)++V;if(V+=2,p===w.charAt(V-1))return A("End of comment missing");var $=w.slice(2,V-2);return j+=2,C($),w=w.slice(V),j+=2,G({type:y,comment:$})}}function L(){var G=P(),V=F(r);if(V){if(R(),!F(i))return A("property missing ':'");var $=F(o),W=G({type:v,property:S(V[0].replace(e,p)),value:$?S($[0].replace(e,p)):p});return F(l),W}}function Q(){var G=[];se(G);for(var V;V=L();)V!==!1&&(G.push(V),se(G));return G}return Z(),Q()};function S(w){return w?w.replace(u,p):p}return eh}var Vx;function QR(){if(Vx)return ao;Vx=1;var e=ao&&ao.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ao,"__esModule",{value:!0}),ao.default=n;var t=e(JR());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var l=(0,t.default)(r),u=typeof i=="function";return l.forEach(function(c){if(c.type==="declaration"){var f=c.property,h=c.value;u?i(f,h,c):h&&(o=o||{},o[f]=h)}}),o}return ao}var wa={},qx;function XR(){if(qx)return wa;qx=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},c=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,l))};return wa.camelCase=c,wa}var ba,Yx;function ZR(){if(Yx)return ba;Yx=1;var e=ba&&ba.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(QR()),n=XR();function r(i,o){var l={};return!i||typeof i!="string"||(0,t.default)(i,function(u,c){u&&c&&(l[(0,n.camelCase)(u,o)]=c)}),l}return r.default=r,ba=r,ba}var eO=ZR();const tO=No(eO),mk=gk("end"),tm=gk("start");function gk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function nO(e){const t=tm(e),n=mk(e);if(t&&n)return{start:t,end:n}}function Ma(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Kx(e.position):"start"in e||"end"in e?Kx(e):"line"in e||"column"in e?lp(e):""}function lp(e){return Gx(e&&e.line)+":"+Gx(e&&e.column)}function Kx(e){return lp(e&&e.start)+"-"+lp(e&&e.end)}function Gx(e){return e&&typeof e=="number"?e:1}class pn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Ma(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pn.prototype.file="";pn.prototype.name="";pn.prototype.reason="";pn.prototype.message="";pn.prototype.stack="";pn.prototype.column=void 0;pn.prototype.line=void 0;pn.prototype.ancestors=void 0;pn.prototype.cause=void 0;pn.prototype.fatal=void 0;pn.prototype.place=void 0;pn.prototype.ruleId=void 0;pn.prototype.source=void 0;const nm={}.hasOwnProperty,rO=new Map,iO=/[A-Z]/g,sO=new Set(["table","tbody","thead","tfoot","tr"]),oO=new Set(["td","th"]),yk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function aO(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=mO(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=pO(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?em:KR,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=vk(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function vk(e,t,n){if(t.type==="element")return lO(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return uO(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return dO(e,t,n);if(t.type==="mdxjsEsm")return cO(e,t);if(t.type==="root")return fO(e,t,n);if(t.type==="text")return hO(e,t)}function lO(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=em,e.schema=i),e.ancestors.push(t);const o=wk(e,t.tagName,!1),l=gO(e,t);let u=im(e,t);return sO.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!$R(c):!0})),xk(e,l,o,t),rm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function uO(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ga(e,t.position)}function cO(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ga(e,t.position)}function dO(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=em,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:wk(e,t.name,!0),l=yO(e,t),u=im(e,t);return xk(e,l,o,t),rm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function fO(e,t,n){const r={};return rm(r,im(e,t)),e.create(t,e.Fragment,r,n)}function hO(e,t){return t.value}function xk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function rm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function pO(e,t,n){return r;function r(i,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function mO(e,t){return n;function n(r,i,o,l){const u=Array.isArray(o.children),c=tm(r);return t(i,o,l,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function gO(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&nm.call(t.properties,i)){const o=vO(e,i,t.properties[i]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&oO.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function yO(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Ga(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else Ga(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function im(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:rO;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=i.get(c)||0;l=c+"-"+f,i.set(c,f+1)}}const u=vk(e,o,l);u!==void 0&&n.push(u)}return n}function vO(e,t,n){const r=VR(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?RR(n):GR(n)),r.property==="style"){let i=typeof n=="object"?n:xO(e,String(n));return e.stylePropertyNameCase==="css"&&(i=wO(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?UR[r.property]||r.property:r.attribute,n]}}function xO(e,t){try{return tO(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new pn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=yk+"#cannot-parse-style-attribute",i}}function wk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const u=zx(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=zx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return nm.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ga(e)}function Ga(e,t){const n=new pn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=yk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function wO(e){const t={};let n;for(n in e)nm.call(e,n)&&(t[bO(n)]=e[n]);return t}function bO(e){let t=e.replace(iO,kO);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function kO(e){return"-"+e.toLowerCase()}const th={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},SO={};function sm(e,t){const n=SO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return bk(e,r,i)}function bk(e,t,n){if(EO(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Jx(e.children,t,n)}return Array.isArray(e)?Jx(e,t,n):""}function Jx(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=bk(e[i],t,n);return r.join("")}function EO(e){return!!(e&&typeof e=="object")}const Qx=document.createElement("i");function om(e){const t="&"+e+";";Qx.innerHTML=t;const n=Qx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Kn(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function sr(e,t){return e.length>0?(Kn(e,e.length,0,t),e):t}const Xx={}.hasOwnProperty;function kk(e){const t={};let n=-1;for(;++n<e.length;)_O(t,e[n]);return t}function _O(e,t){let n;for(n in t){const i=(Xx.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){Xx.call(i,l)||(i[l]=[]);const u=o[l];CO(i[l],Array.isArray(u)?u:u?[u]:[])}}}function CO(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Kn(e,0,0,r)}function Sk(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function br(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const wn=Bi(/[A-Za-z]/),hn=Bi(/[\dA-Za-z]/),jO=Bi(/[#-'*+\--9=?A-Z^-~]/);function sc(e){return e!==null&&(e<32||e===127)}const up=Bi(/\d/),NO=Bi(/[\dA-Fa-f]/),TO=Bi(/[!-/:-@[-`{-~]/);function Le(e){return e!==null&&e<-2}function ct(e){return e!==null&&(e<0||e===32)}function Ye(e){return e===-2||e===-1||e===32}const Oc=Bi(new RegExp("\\p{P}|\\p{S}","u")),xs=Bi(/\s/);function Bi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Mo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&hn(e.charCodeAt(n+1))&&hn(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Qe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(c){return Ye(c)?(e.enter(n),u(c)):t(c)}function u(c){return Ye(c)&&o++<i?(e.consume(c),u):(e.exit(n),t(c))}}const IO={tokenize:PO};function PO(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Qe(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),o(u)}function o(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Le(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const AO={tokenize:RO},Zx={tokenize:OO};function RO(e){const t=this,n=[];let r=0,i,o,l;return u;function u(C){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,c,f)(C)}return f(C)}function c(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&j();const P=t.events.length;let M=P,A;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){A=t.events[M][1].end;break}E(r);let F=P;for(;F<t.events.length;)t.events[F][1].end={...A},F++;return Kn(t.events,M+1,0,t.events.slice(P)),t.events.length=F,f(C)}return u(C)}function f(C){if(r===n.length){if(!i)return y(C);if(i.currentConstruct&&i.currentConstruct.concrete)return S(C);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Zx,h,p)(C)}function h(C){return i&&j(),E(r),y(C)}function p(C){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,S(C)}function y(C){return t.containerState={},e.attempt(Zx,v,S)(C)}function v(C){return r++,n.push([t.currentConstruct,t.containerState]),y(C)}function S(C){if(C===null){i&&j(),E(0),e.consume(C);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),w(C)}function w(C){if(C===null){_(e.exit("chunkFlow"),!0),E(0),e.consume(C);return}return Le(C)?(e.consume(C),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(C),w)}function _(C,P){const M=t.sliceStream(C);if(P&&M.push(null),C.previous=o,o&&(o.next=C),o=C,i.defineSkip(C.start),i.write(M),t.parser.lazy[C.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<l&&(!i.events[A][1].end||i.events[A][1].end.offset>l))return;const F=t.events.length;let Z=F,se,R;for(;Z--;)if(t.events[Z][0]==="exit"&&t.events[Z][1].type==="chunkFlow"){if(se){R=t.events[Z][1].end;break}se=!0}for(E(r),A=F;A<t.events.length;)t.events[A][1].end={...R},A++;Kn(t.events,Z+1,0,t.events.slice(F)),t.events.length=A}}function E(C){let P=n.length;for(;P-- >C;){const M=n[P];t.containerState=M[1],M[0].exit.call(t,e)}n.length=C}function j(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function OO(e,t,n){return Qe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jo(e){if(e===null||ct(e)||xs(e))return 1;if(Oc(e))return 2}function Mc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const cp={name:"attention",resolveAll:MO,tokenize:LO};function MO(e,t){let n=-1,r,i,o,l,u,c,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},y={...e[n][1].start};e0(p,-c),e0(y,c),l={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:y},o={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=sr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=sr(f,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=sr(f,Mc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=sr(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=sr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Kn(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function LO(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jo(r);let o;return l;function l(c){return o=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===o)return e.consume(c),u;const f=e.exit("attentionSequence"),h=jo(c),p=!h||h===2&&i||n.includes(c),y=!i||i===2&&h||n.includes(r);return f._open=!!(o===42?p:p&&(i||!y)),f._close=!!(o===42?y:y&&(h||!p)),t(c)}}function e0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const DO={name:"autolink",tokenize:$O};function $O(e,t,n){let r=0;return i;function i(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(v){return wn(v)?(e.consume(v),l):v===64?n(v):f(v)}function l(v){return v===43||v===45||v===46||hn(v)?(r=1,u(v)):f(v)}function u(v){return v===58?(e.consume(v),r=0,c):(v===43||v===45||v===46||hn(v))&&r++<32?(e.consume(v),u):(r=0,f(v))}function c(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||sc(v)?n(v):(e.consume(v),c)}function f(v){return v===64?(e.consume(v),h):jO(v)?(e.consume(v),f):n(v)}function h(v){return hn(v)?p(v):n(v)}function p(v){return v===46?(e.consume(v),r=0,h):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):y(v)}function y(v){if((v===45||hn(v))&&r++<63){const S=v===45?y:p;return e.consume(v),S}return n(v)}}const ll={partial:!0,tokenize:FO};function FO(e,t,n){return r;function r(o){return Ye(o)?Qe(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Le(o)?t(o):n(o)}}const Ek={continuation:{tokenize:BO},exit:UO,name:"blockQuote",tokenize:zO};function zO(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Ye(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function BO(e,t,n){const r=this;return i;function i(l){return Ye(l)?Qe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(Ek,t,n)(l)}}function UO(e){e.exit("blockQuote")}const _k={name:"characterEscape",tokenize:WO};function WO(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return TO(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Ck={name:"characterReference",tokenize:HO};function HO(e,t,n){const r=this;let i=0,o,l;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=hn,h(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=NO,h):(e.enter("characterReferenceValue"),o=7,l=up,h(p))}function h(p){if(p===59&&i){const y=e.exit("characterReferenceValue");return l===hn&&!om(r.sliceSerialize(y))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&i++<o?(e.consume(p),h):n(p)}}const t0={partial:!0,tokenize:qO},n0={concrete:!0,name:"codeFenced",tokenize:VO};function VO(e,t,n){const r=this,i={partial:!0,tokenize:M};let o=0,l=0,u;return c;function c(A){return f(A)}function f(A){const F=r.events[r.events.length-1];return o=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,u=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===u?(l++,e.consume(A),h):l<3?n(A):(e.exit("codeFencedFenceSequence"),Ye(A)?Qe(e,p,"whitespace")(A):p(A))}function p(A){return A===null||Le(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(t0,w,P)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===null||Le(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(A)):Ye(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qe(e,v,"whitespace")(A)):A===96&&A===u?n(A):(e.consume(A),y)}function v(A){return A===null||Le(A)?p(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(A))}function S(A){return A===null||Le(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(A)):A===96&&A===u?n(A):(e.consume(A),S)}function w(A){return e.attempt(i,P,_)(A)}function _(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),E}function E(A){return o>0&&Ye(A)?Qe(e,j,"linePrefix",o+1)(A):j(A)}function j(A){return A===null||Le(A)?e.check(t0,w,P)(A):(e.enter("codeFlowValue"),C(A))}function C(A){return A===null||Le(A)?(e.exit("codeFlowValue"),j(A)):(e.consume(A),C)}function P(A){return e.exit("codeFenced"),t(A)}function M(A,F,Z){let se=0;return R;function R($){return A.enter("lineEnding"),A.consume($),A.exit("lineEnding"),L}function L($){return A.enter("codeFencedFence"),Ye($)?Qe(A,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):Q($)}function Q($){return $===u?(A.enter("codeFencedFenceSequence"),G($)):Z($)}function G($){return $===u?(se++,A.consume($),G):se>=l?(A.exit("codeFencedFenceSequence"),Ye($)?Qe(A,V,"whitespace")($):V($)):Z($)}function V($){return $===null||Le($)?(A.exit("codeFencedFence"),F($)):Z($)}}}function qO(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const nh={name:"codeIndented",tokenize:KO},YO={partial:!0,tokenize:GO};function KO(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),Qe(e,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?c(f):Le(f)?e.attempt(YO,l,c)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||Le(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function c(f){return e.exit("codeIndented"),t(f)}}function GO(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Le(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):Qe(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Le(l)?i(l):n(l)}}const JO={name:"codeText",previous:XO,resolve:QO,tokenize:ZO};function QO(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function XO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ZO(e,t,n){let r=0,i,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),r++,u):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(o=e.enter("codeTextSequence"),i=0,h(p)):Le(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||Le(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),f)}function h(p){return p===96?(e.consume(p),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",f(p))}}class eM{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ka(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ka(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ka(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ka(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ka(this.left,n.reverse())}}}function ka(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function jk(e){const t={};let n=-1,r,i,o,l,u,c,f;const h=new eM(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,tM(h,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return Kn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function tM(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,c=[],f={};let h,p,y=-1,v=n,S=0,w=0;const _=[w];for(;v;){for(;e.get(++i)[1]!==v;);o.push(i),v._tokenizer||(h=r.sliceStream(v),v.next||h.push(null),p&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++y<u.length;)u[y][0]==="exit"&&u[y-1][0]==="enter"&&u[y][1].type===u[y-1][1].type&&u[y][1].start.line!==u[y][1].end.line&&(w=y+1,_.push(w),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):_.pop(),y=_.length;y--;){const E=u.slice(_[y],_[y+1]),j=o.pop();c.push([j,j+E.length-1]),e.splice(j,2,E)}for(c.reverse(),y=-1;++y<c.length;)f[S+c[y][0]]=S+c[y][1],S+=c[y][1]-c[y][0]-1;return f}const nM={resolve:iM,tokenize:sM},rM={partial:!0,tokenize:oM};function iM(e){return jk(e),e}function sM(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):Le(u)?e.check(rM,l,o)(u):(e.consume(u),i)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function oM(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Qe(e,o,"linePrefix")}function o(l){if(l===null||Le(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Nk(e,t,n,r,i,o,l,u,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(E){return E===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(E),e.exit(o),y):E===null||E===32||E===41||sc(E)?n(E):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),w(E))}function y(E){return E===62?(e.enter(o),e.consume(E),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===62?(e.exit("chunkString"),e.exit(u),y(E)):E===null||E===60||Le(E)?n(E):(e.consume(E),E===92?S:v)}function S(E){return E===60||E===62||E===92?(e.consume(E),v):v(E)}function w(E){return!h&&(E===null||E===41||ct(E))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(E)):h<f&&E===40?(e.consume(E),h++,w):E===41?(e.consume(E),h--,w):E===null||E===32||E===40||sc(E)?n(E):(e.consume(E),E===92?_:w)}function _(E){return E===40||E===41||E===92?(e.consume(E),w):w(E)}}function Tk(e,t,n,r,i,o){const l=this;let u=0,c;return f;function f(v){return e.enter(r),e.enter(i),e.consume(v),e.exit(i),e.enter(o),h}function h(v){return u>999||v===null||v===91||v===93&&!c||v===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(v):v===93?(e.exit(o),e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):Le(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||Le(v)||u++>999?(e.exit("chunkString"),h(v)):(e.consume(v),c||(c=!Ye(v)),v===92?y:p)}function y(v){return v===91||v===92||v===93?(e.consume(v),u++,p):p(v)}}function Ik(e,t,n,r,i,o){let l;return u;function u(y){return y===34||y===39||y===40?(e.enter(r),e.enter(i),e.consume(y),e.exit(i),l=y===40?41:y,c):n(y)}function c(y){return y===l?(e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):(e.enter(o),f(y))}function f(y){return y===l?(e.exit(o),c(l)):y===null?n(y):Le(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),Qe(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===l||y===null||Le(y)?(e.exit("chunkString"),f(y)):(e.consume(y),y===92?p:h)}function p(y){return y===l||y===92?(e.consume(y),h):h(y)}}function La(e,t){let n;return r;function r(i){return Le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ye(i)?Qe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const aM={name:"definition",tokenize:uM},lM={partial:!0,tokenize:cM};function uM(e,t,n){const r=this;let i;return o;function o(v){return e.enter("definition"),l(v)}function l(v){return Tk.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return i=br(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),c):n(v)}function c(v){return ct(v)?La(e,f)(v):f(v)}function f(v){return Nk(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return e.attempt(lM,p,p)(v)}function p(v){return Ye(v)?Qe(e,y,"whitespace")(v):y(v)}function y(v){return v===null||Le(v)?(e.exit("definition"),r.parser.defined.push(i),t(v)):n(v)}}function cM(e,t,n){return r;function r(u){return ct(u)?La(e,i)(u):n(u)}function i(u){return Ik(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Ye(u)?Qe(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Le(u)?t(u):n(u)}}const dM={name:"hardBreakEscape",tokenize:fM};function fM(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Le(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const hM={name:"headingAtx",resolve:pM,tokenize:mM};function pM(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Kn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function mM(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||ct(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||Le(h)?(e.exit("atxHeading"),t(h)):Ye(h)?Qe(e,u,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||ct(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),f)}}const gM=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],r0=["pre","script","style","textarea"],yM={concrete:!0,name:"htmlFlow",resolveTo:wM,tokenize:bM},vM={partial:!0,tokenize:SM},xM={partial:!0,tokenize:kM};function wM(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function bM(e,t,n){const r=this;let i,o,l,u,c;return f;function f(I){return h(I)}function h(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),p}function p(I){return I===33?(e.consume(I),y):I===47?(e.consume(I),o=!0,w):I===63?(e.consume(I),i=3,r.interrupt?t:N):wn(I)?(e.consume(I),l=String.fromCharCode(I),_):n(I)}function y(I){return I===45?(e.consume(I),i=2,v):I===91?(e.consume(I),i=5,u=0,S):wn(I)?(e.consume(I),i=4,r.interrupt?t:N):n(I)}function v(I){return I===45?(e.consume(I),r.interrupt?t:N):n(I)}function S(I){const ue="CDATA[";return I===ue.charCodeAt(u++)?(e.consume(I),u===ue.length?r.interrupt?t:Q:S):n(I)}function w(I){return wn(I)?(e.consume(I),l=String.fromCharCode(I),_):n(I)}function _(I){if(I===null||I===47||I===62||ct(I)){const ue=I===47,le=l.toLowerCase();return!ue&&!o&&r0.includes(le)?(i=1,r.interrupt?t(I):Q(I)):gM.includes(l.toLowerCase())?(i=6,ue?(e.consume(I),E):r.interrupt?t(I):Q(I)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):o?j(I):C(I))}return I===45||hn(I)?(e.consume(I),l+=String.fromCharCode(I),_):n(I)}function E(I){return I===62?(e.consume(I),r.interrupt?t:Q):n(I)}function j(I){return Ye(I)?(e.consume(I),j):R(I)}function C(I){return I===47?(e.consume(I),R):I===58||I===95||wn(I)?(e.consume(I),P):Ye(I)?(e.consume(I),C):R(I)}function P(I){return I===45||I===46||I===58||I===95||hn(I)?(e.consume(I),P):M(I)}function M(I){return I===61?(e.consume(I),A):Ye(I)?(e.consume(I),M):C(I)}function A(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),c=I,F):Ye(I)?(e.consume(I),A):Z(I)}function F(I){return I===c?(e.consume(I),c=null,se):I===null||Le(I)?n(I):(e.consume(I),F)}function Z(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||ct(I)?M(I):(e.consume(I),Z)}function se(I){return I===47||I===62||Ye(I)?C(I):n(I)}function R(I){return I===62?(e.consume(I),L):n(I)}function L(I){return I===null||Le(I)?Q(I):Ye(I)?(e.consume(I),L):n(I)}function Q(I){return I===45&&i===2?(e.consume(I),W):I===60&&i===1?(e.consume(I),X):I===62&&i===4?(e.consume(I),z):I===63&&i===3?(e.consume(I),N):I===93&&i===5?(e.consume(I),q):Le(I)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(vM,U,G)(I)):I===null||Le(I)?(e.exit("htmlFlowData"),G(I)):(e.consume(I),Q)}function G(I){return e.check(xM,V,U)(I)}function V(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),$}function $(I){return I===null||Le(I)?G(I):(e.enter("htmlFlowData"),Q(I))}function W(I){return I===45?(e.consume(I),N):Q(I)}function X(I){return I===47?(e.consume(I),l="",O):Q(I)}function O(I){if(I===62){const ue=l.toLowerCase();return r0.includes(ue)?(e.consume(I),z):Q(I)}return wn(I)&&l.length<8?(e.consume(I),l+=String.fromCharCode(I),O):Q(I)}function q(I){return I===93?(e.consume(I),N):Q(I)}function N(I){return I===62?(e.consume(I),z):I===45&&i===2?(e.consume(I),N):Q(I)}function z(I){return I===null||Le(I)?(e.exit("htmlFlowData"),U(I)):(e.consume(I),z)}function U(I){return e.exit("htmlFlow"),t(I)}}function kM(e,t,n){const r=this;return i;function i(l){return Le(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function SM(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ll,t,n)}}const EM={name:"htmlText",tokenize:_M};function _M(e,t,n){const r=this;let i,o,l;return u;function u(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),c}function c(N){return N===33?(e.consume(N),f):N===47?(e.consume(N),M):N===63?(e.consume(N),C):wn(N)?(e.consume(N),Z):n(N)}function f(N){return N===45?(e.consume(N),h):N===91?(e.consume(N),o=0,S):wn(N)?(e.consume(N),j):n(N)}function h(N){return N===45?(e.consume(N),v):n(N)}function p(N){return N===null?n(N):N===45?(e.consume(N),y):Le(N)?(l=p,X(N)):(e.consume(N),p)}function y(N){return N===45?(e.consume(N),v):p(N)}function v(N){return N===62?W(N):N===45?y(N):p(N)}function S(N){const z="CDATA[";return N===z.charCodeAt(o++)?(e.consume(N),o===z.length?w:S):n(N)}function w(N){return N===null?n(N):N===93?(e.consume(N),_):Le(N)?(l=w,X(N)):(e.consume(N),w)}function _(N){return N===93?(e.consume(N),E):w(N)}function E(N){return N===62?W(N):N===93?(e.consume(N),E):w(N)}function j(N){return N===null||N===62?W(N):Le(N)?(l=j,X(N)):(e.consume(N),j)}function C(N){return N===null?n(N):N===63?(e.consume(N),P):Le(N)?(l=C,X(N)):(e.consume(N),C)}function P(N){return N===62?W(N):C(N)}function M(N){return wn(N)?(e.consume(N),A):n(N)}function A(N){return N===45||hn(N)?(e.consume(N),A):F(N)}function F(N){return Le(N)?(l=F,X(N)):Ye(N)?(e.consume(N),F):W(N)}function Z(N){return N===45||hn(N)?(e.consume(N),Z):N===47||N===62||ct(N)?se(N):n(N)}function se(N){return N===47?(e.consume(N),W):N===58||N===95||wn(N)?(e.consume(N),R):Le(N)?(l=se,X(N)):Ye(N)?(e.consume(N),se):W(N)}function R(N){return N===45||N===46||N===58||N===95||hn(N)?(e.consume(N),R):L(N)}function L(N){return N===61?(e.consume(N),Q):Le(N)?(l=L,X(N)):Ye(N)?(e.consume(N),L):se(N)}function Q(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),i=N,G):Le(N)?(l=Q,X(N)):Ye(N)?(e.consume(N),Q):(e.consume(N),V)}function G(N){return N===i?(e.consume(N),i=void 0,$):N===null?n(N):Le(N)?(l=G,X(N)):(e.consume(N),G)}function V(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||ct(N)?se(N):(e.consume(N),V)}function $(N){return N===47||N===62||ct(N)?se(N):n(N)}function W(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function X(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),O}function O(N){return Ye(N)?Qe(e,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):q(N)}function q(N){return e.enter("htmlTextData"),l(N)}}const am={name:"labelEnd",resolveAll:TM,resolveTo:IM,tokenize:PM},CM={tokenize:AM},jM={tokenize:RM},NM={tokenize:OM};function TM(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Kn(e,0,e.length,n),e}function IM(e,t){let n=e.length,r=0,i,o,l,u;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",c,t],["enter",f,t]],u=sr(u,e.slice(o+1,o+r+3)),u=sr(u,[["enter",h,t]]),u=sr(u,Mc(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=sr(u,[["exit",h,t],e[l-2],e[l-1],["exit",f,t]]),u=sr(u,e.slice(l+1)),u=sr(u,[["exit",c,t]]),Kn(e,o,e.length,u),e}function PM(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(y){return o?o._inactive?p(y):(l=r.parser.defined.includes(br(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelEnd"),c):n(y)}function c(y){return y===40?e.attempt(CM,h,l?h:p)(y):y===91?e.attempt(jM,h,l?f:p)(y):l?h(y):p(y)}function f(y){return e.attempt(NM,h,p)(y)}function h(y){return t(y)}function p(y){return o._balanced=!0,n(y)}}function AM(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return ct(p)?La(e,o)(p):o(p)}function o(p){return p===41?h(p):Nk(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return ct(p)?La(e,c)(p):h(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?Ik(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return ct(p)?La(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function RM(e,t,n){const r=this;return i;function i(u){return Tk.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(br(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function OM(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const MM={name:"labelStartImage",resolveAll:am.resolveAll,tokenize:LM};function LM(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const DM={name:"labelStartLink",resolveAll:am.resolveAll,tokenize:$M};function $M(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const rh={name:"lineEnding",tokenize:FM};function FM(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Qe(e,t,"linePrefix")}}const Bu={name:"thematicBreak",tokenize:zM};function zM(e,t,n){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||Le(f))?(e.exit("thematicBreak"),t(f)):n(f)}function c(f){return f===i?(e.consume(f),r++,c):(e.exit("thematicBreakSequence"),Ye(f)?Qe(e,u,"whitespace")(f):u(f))}}const Rn={continuation:{tokenize:HM},exit:qM,name:"list",tokenize:WM},BM={partial:!0,tokenize:YM},UM={partial:!0,tokenize:VM};function WM(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(v){const S=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:up(v)){if(r.containerState.type||(r.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(Bu,n,f)(v):f(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(v)}return n(v)}function c(v){return up(v)&&++l<10?(e.consume(v),c):(!r.interrupt||l<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),f(v)):n(v)}function f(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(ll,r.interrupt?n:h,e.attempt(BM,y,p))}function h(v){return r.containerState.initialBlankLine=!0,o++,y(v)}function p(v){return Ye(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),y):n(v)}function y(v){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function HM(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ll,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Qe(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!Ye(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(UM,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Qe(e,e.attempt(Rn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function VM(e,t,n){const r=this;return Qe(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function qM(e){e.exit(this.containerState.type)}function YM(e,t,n){const r=this;return Qe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!Ye(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const i0={name:"setextUnderline",resolveTo:KM,tokenize:GM};function KM(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function GM(e,t,n){const r=this;let i;return o;function o(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Ye(f)?Qe(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||Le(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const JM={tokenize:QM};function QM(e){const t=this,n=e.attempt(ll,r,e.attempt(this.parser.constructs.flowInitial,i,Qe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(nM,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const XM={resolveAll:Ak()},ZM=Pk("string"),e2=Pk("text");function Pk(e){return{resolveAll:Ak(e==="text"?t2:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,u);return l;function l(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const p=i[h];let y=-1;if(p)for(;++y<p.length;){const v=p[y];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function Ak(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function t2(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,u=0,c;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)c=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const n2={42:Rn,43:Rn,45:Rn,48:Rn,49:Rn,50:Rn,51:Rn,52:Rn,53:Rn,54:Rn,55:Rn,56:Rn,57:Rn,62:Ek},r2={91:aM},i2={[-2]:nh,[-1]:nh,32:nh},s2={35:hM,42:Bu,45:[i0,Bu],60:yM,61:i0,95:Bu,96:n0,126:n0},o2={38:Ck,92:_k},a2={[-5]:rh,[-4]:rh,[-3]:rh,33:MM,38:Ck,42:cp,60:[DO,EM],91:DM,92:[dM,_k],93:am,95:cp,96:JO},l2={null:[cp,XM]},u2={null:[42,95]},c2={null:[]},d2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:u2,contentInitial:r2,disable:c2,document:n2,flow:s2,flowInitial:i2,insideSpan:l2,string:o2,text:a2},Symbol.toStringTag,{value:"Module"}));function f2(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const c={attempt:F(M),check:F(A),consume:j,enter:C,exit:P,interrupt:F(A,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:S,parser:e,previous:null,sliceSerialize:y,sliceStream:v,write:p};let h=t.tokenize.call(f,c);return t.resolveAll&&o.push(t),f;function p(L){return l=sr(l,L),_(),l[l.length-1]!==null?[]:(Z(t,0),f.events=Mc(o,f.events,f),f.events)}function y(L,Q){return p2(v(L),Q)}function v(L){return h2(l,L)}function S(){const{_bufferIndex:L,_index:Q,line:G,column:V,offset:$}=r;return{_bufferIndex:L,_index:Q,line:G,column:V,offset:$}}function w(L){i[L.line]=L.column,R()}function _(){let L;for(;r._index<l.length;){const Q=l[r._index];if(typeof Q=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<Q.length;)E(Q.charCodeAt(r._bufferIndex));else E(Q)}}function E(L){h=h(L)}function j(L){Le(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,R()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=L}function C(L,Q){const G=Q||{};return G.type=L,G.start=S(),f.events.push(["enter",G,f]),u.push(G),G}function P(L){const Q=u.pop();return Q.end=S(),f.events.push(["exit",Q,f]),Q}function M(L,Q){Z(L,Q.from)}function A(L,Q){Q.restore()}function F(L,Q){return G;function G(V,$,W){let X,O,q,N;return Array.isArray(V)?U(V):"tokenize"in V?U([V]):z(V);function z(ce){return we;function we(ae){const be=ae!==null&&ce[ae],xe=ae!==null&&ce.null,Ke=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(xe)?xe:xe?[xe]:[]];return U(Ke)(ae)}}function U(ce){return X=ce,O=0,ce.length===0?W:I(ce[O])}function I(ce){return we;function we(ae){return N=se(),q=ce,ce.partial||(f.currentConstruct=ce),ce.name&&f.parser.constructs.disable.null.includes(ce.name)?le():ce.tokenize.call(Q?Object.assign(Object.create(f),Q):f,c,ue,le)(ae)}}function ue(ce){return L(q,N),$}function le(ce){return N.restore(),++O<X.length?I(X[O]):W}}}function Z(L,Q){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&Kn(f.events,Q,f.events.length-Q,L.resolve(f.events.slice(Q),f)),L.resolveTo&&(f.events=L.resolveTo(f.events,f))}function se(){const L=S(),Q=f.previous,G=f.currentConstruct,V=f.events.length,$=Array.from(u);return{from:V,restore:W};function W(){r=L,f.previous=Q,f.currentConstruct=G,f.events.length=V,u=$,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function h2(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function p2(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function m2(e){const r={constructs:kk([d2,...(e||{}).extensions||[]]),content:i(IO),defined:[],document:i(AO),flow:i(JM),lazy:{},string:i(ZM),text:i(e2)};return r;function i(o){return l;function l(u){return f2(r,o,u)}}}function g2(e){for(;!jk(e););return e}const s0=/[\0\t\n\r]/g;function y2(){let e=1,t="",n=!0,r;return i;function i(o,l,u){const c=[];let f,h,p,y,v;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(s0.lastIndex=p,f=s0.exec(o),y=f&&f.index!==void 0?f.index:o.length,v=o.charCodeAt(y),!f){t=o.slice(p);break}if(v===10&&p===y&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<y&&(c.push(o.slice(p,y)),e+=y-p),v){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}p=y+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const v2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function x2(e){return e.replace(v2,w2)}function w2(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Sk(n.slice(o?2:1),o?16:10)}return om(n)||e}const Rk={}.hasOwnProperty;function b2(e,t,n){return typeof t!="string"&&(n=t,t=void 0),k2(n)(g2(m2(n).document().write(y2()(e,t,!0))))}function k2(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(J),autolinkProtocol:se,autolinkEmail:se,atxHeading:o(Nt),blockQuote:o(xe),characterEscape:se,characterReference:se,codeFenced:o(Ke),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Ke,l),codeText:o(nt,l),codeTextData:se,data:se,codeFlowValue:se,definition:o(Je),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(pt),hardBreakEscape:o(We),hardBreakTrailing:o(We),htmlFlow:o(mt,l),htmlFlowData:se,htmlText:o(mt,l),htmlTextData:se,image:o(En),label:l,link:o(J),listItem:o(de),listItemValue:y,listOrdered:o(oe,p),listUnordered:o(oe),paragraph:o(_e),reference:I,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Nt),strong:o(ve),thematicBreak:o(te)},exit:{atxHeading:c(),atxHeadingSequence:M,autolink:c(),autolinkEmail:be,autolinkProtocol:ae,blockQuote:c(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ce,characterReference:we,codeFenced:c(_),codeFencedFence:w,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:R,codeIndented:c(E),codeText:c($),codeTextData:R,data:R,definition:c(),definitionDestinationString:P,definitionLabelString:j,definitionTitleString:C,emphasis:c(),hardBreakEscape:c(Q),hardBreakTrailing:c(Q),htmlFlow:c(G),htmlFlowData:R,htmlText:c(V),htmlTextData:R,image:c(X),label:q,labelText:O,lineEnding:L,link:c(W),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ue,resourceDestinationString:N,resourceTitleString:z,resource:U,setextHeading:c(Z),setextHeadingLineSequence:F,setextHeadingText:A,strong:c(),thematicBreak:c()}};Ok(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Y){let ee={type:"root",children:[]};const ge={stack:[ee],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:h,data:n},Ie=[];let De=-1;for(;++De<Y.length;)if(Y[De][1].type==="listOrdered"||Y[De][1].type==="listUnordered")if(Y[De][0]==="enter")Ie.push(De);else{const ke=Ie.pop();De=i(Y,ke,De)}for(De=-1;++De<Y.length;){const ke=t[Y[De][0]];Rk.call(ke,Y[De][1].type)&&ke[Y[De][1].type].call(Object.assign({sliceSerialize:Y[De][2].sliceSerialize},ge),Y[De][1])}if(ge.tokenStack.length>0){const ke=ge.tokenStack[ge.tokenStack.length-1];(ke[1]||o0).call(ge,void 0,ke[0])}for(ee.position={start:Ci(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:Ci(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<t.transforms.length;)ee=t.transforms[De](ee)||ee;return ee}function i(Y,ee,ge){let Ie=ee-1,De=-1,ke=!1,lt,at,Ve,wt;for(;++Ie<=ge;){const Ze=Y[Ie];switch(Ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ze[0]==="enter"?De++:De--,wt=void 0;break}case"lineEndingBlank":{Ze[0]==="enter"&&(lt&&!wt&&!De&&!Ve&&(Ve=Ie),wt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wt=void 0}if(!De&&Ze[0]==="enter"&&Ze[1].type==="listItemPrefix"||De===-1&&Ze[0]==="exit"&&(Ze[1].type==="listUnordered"||Ze[1].type==="listOrdered")){if(lt){let Ut=Ie;for(at=void 0;Ut--;){const Tt=Y[Ut];if(Tt[1].type==="lineEnding"||Tt[1].type==="lineEndingBlank"){if(Tt[0]==="exit")continue;at&&(Y[at][1].type="lineEndingBlank",ke=!0),Tt[1].type="lineEnding",at=Ut}else if(!(Tt[1].type==="linePrefix"||Tt[1].type==="blockQuotePrefix"||Tt[1].type==="blockQuotePrefixWhitespace"||Tt[1].type==="blockQuoteMarker"||Tt[1].type==="listItemIndent"))break}Ve&&(!at||Ve<at)&&(lt._spread=!0),lt.end=Object.assign({},at?Y[at][1].start:Ze[1].end),Y.splice(at||Ie,0,["exit",lt,Ze[2]]),Ie++,ge++}if(Ze[1].type==="listItemPrefix"){const Ut={type:"listItem",_spread:!1,start:Object.assign({},Ze[1].start),end:void 0};lt=Ut,Y.splice(Ie,0,["enter",Ut,Ze[2]]),Ie++,ge++,Ve=void 0,wt=!0}}}return Y[ee][1]._spread=ke,ge}function o(Y,ee){return ge;function ge(Ie){u.call(this,Y(Ie),Ie),ee&&ee.call(this,Ie)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(Y,ee,ge){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([ee,ge||void 0]),Y.position={start:Ci(ee.start),end:void 0}}function c(Y){return ee;function ee(ge){Y&&Y.call(this,ge),f.call(this,ge)}}function f(Y,ee){const ge=this.stack.pop(),Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==Y.type&&(ee?ee.call(this,Y,Ie[0]):(Ie[1]||o0).call(this,Y,Ie[0]));else throw new Error("Cannot close `"+Y.type+"` ("+Ma({start:Y.start,end:Y.end})+"): its not open");ge.position.end=Ci(Y.end)}function h(){return sm(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function y(Y){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function v(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=Y}function S(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=Y}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y.replace(/(\r?\n|\r)$/g,"")}function j(Y){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.label=ee,ge.identifier=br(this.sliceSerialize(Y)).toLowerCase()}function C(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.title=Y}function P(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.url=Y}function M(Y){const ee=this.stack[this.stack.length-1];if(!ee.depth){const ge=this.sliceSerialize(Y).length;ee.depth=ge}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function F(Y){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function Z(){this.data.setextHeadingSlurpLineEnding=void 0}function se(Y){const ge=this.stack[this.stack.length-1].children;let Ie=ge[ge.length-1];(!Ie||Ie.type!=="text")&&(Ie=D(),Ie.position={start:Ci(Y.start),end:void 0},ge.push(Ie)),this.stack.push(Ie)}function R(Y){const ee=this.stack.pop();ee.value+=this.sliceSerialize(Y),ee.position.end=Ci(Y.end)}function L(Y){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=ee.children[ee.children.length-1];ge.position.end=Ci(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(se.call(this,Y),R.call(this,Y))}function Q(){this.data.atHardBreak=!0}function G(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y}function V(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y}function $(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y}function W(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ee,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function X(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ee,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function O(Y){const ee=this.sliceSerialize(Y),ge=this.stack[this.stack.length-2];ge.label=x2(ee),ge.identifier=br(ee).toLowerCase()}function q(){const Y=this.stack[this.stack.length-1],ee=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Ie=Y.children;ge.children=Ie}else ge.alt=ee}function N(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.url=Y}function z(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.title=Y}function U(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function ue(Y){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.label=ee,ge.identifier=br(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function le(Y){this.data.characterReferenceType=Y.type}function ce(Y){const ee=this.sliceSerialize(Y),ge=this.data.characterReferenceType;let Ie;ge?(Ie=Sk(ee,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ie=om(ee);const De=this.stack[this.stack.length-1];De.value+=Ie}function we(Y){const ee=this.stack.pop();ee.position.end=Ci(Y.end)}function ae(Y){R.call(this,Y);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(Y)}function be(Y){R.call(this,Y);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(Y)}function xe(){return{type:"blockquote",children:[]}}function Ke(){return{type:"code",lang:null,meta:null,value:""}}function nt(){return{type:"inlineCode",value:""}}function Je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pt(){return{type:"emphasis",children:[]}}function Nt(){return{type:"heading",depth:0,children:[]}}function We(){return{type:"break"}}function mt(){return{type:"html",value:""}}function En(){return{type:"image",title:null,url:"",alt:null}}function J(){return{type:"link",title:null,url:"",children:[]}}function oe(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function de(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function _e(){return{type:"paragraph",children:[]}}function ve(){return{type:"strong",children:[]}}function D(){return{type:"text",value:""}}function te(){return{type:"thematicBreak"}}}function Ci(e){return{line:e.line,column:e.column,offset:e.offset}}function Ok(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Ok(e,r):S2(e,r)}}function S2(e,t){let n;for(n in t)if(Rk.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function o0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ma({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is still open")}function E2(e){const t=this;t.parser=n;function n(r){return b2(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function _2(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function C2(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function j2(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function N2(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function T2(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I2(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Mo(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,f),e.applyData(t,f)}function P2(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function A2(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Mk(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function R2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Mk(e,t);const i={src:Mo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function O2(e,t){const n={src:Mo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function M2(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function L2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Mk(e,t);const i={href:Mo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function D2(e,t){const n={href:Mo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function $2(e,t,n){const r=e.all(t),i=n?F2(n):Lk(t),o={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?l.push(...h.children):l.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function F2(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Lk(n[r])}return t}function Lk(e){const t=e.spread;return t??e.children.length>1}function z2(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function B2(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U2(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function W2(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function H2(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=tm(t.children[1]),c=mk(t.children[t.children.length-1]);u&&c&&(l.position={start:u,end:c}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function V2(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let c=-1;const f=[];for(;++c<u;){const p=t.children[c],y={},v=l?l[c]:void 0;v&&(y.align=v);let S={type:"element",tagName:o,properties:y,children:[]};p&&(S.children=e.all(p),e.patch(p,S),S=e.applyData(p,S)),f.push(S)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function q2(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const a0=9,l0=32;function Y2(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(u0(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(u0(t.slice(i),i>0,!1)),o.join("")}function u0(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===a0||o===l0;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===a0||o===l0;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function K2(e,t){const n={type:"text",value:Y2(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function G2(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const J2={blockquote:_2,break:C2,code:j2,delete:N2,emphasis:T2,footnoteReference:I2,heading:P2,html:A2,imageReference:R2,image:O2,inlineCode:M2,linkReference:L2,link:D2,listItem:$2,list:z2,paragraph:B2,root:U2,strong:W2,table:H2,tableCell:q2,tableRow:V2,text:K2,thematicBreak:G2,toml:Tu,yaml:Tu,definition:Tu,footnoteDefinition:Tu};function Tu(){}const Dk=-1,Lc=0,Da=1,oc=2,lm=3,um=4,cm=5,dm=6,$k=7,Fk=8,c0=typeof self=="object"?self:globalThis,Q2=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case Lc:case Dk:return n(l,i);case Da:{const u=n([],i);for(const c of l)u.push(r(c));return u}case oc:{const u=n({},i);for(const[c,f]of l)u[r(c)]=r(f);return u}case lm:return n(new Date(l),i);case um:{const{source:u,flags:c}=l;return n(new RegExp(u,c),i)}case cm:{const u=n(new Map,i);for(const[c,f]of l)u.set(r(c),r(f));return u}case dm:{const u=n(new Set,i);for(const c of l)u.add(r(c));return u}case $k:{const{name:u,message:c}=l;return n(new c0[u](c),i)}case Fk:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new c0[o](l),i)};return r},d0=e=>Q2(new Map,e)(0),lo="",{toString:X2}={},{keys:Z2}=Object,Sa=e=>{const t=typeof e;if(t!=="object"||!e)return[Lc,t];const n=X2.call(e).slice(8,-1);switch(n){case"Array":return[Da,lo];case"Object":return[oc,lo];case"Date":return[lm,lo];case"RegExp":return[um,lo];case"Map":return[cm,lo];case"Set":return[dm,lo];case"DataView":return[Da,n]}return n.includes("Array")?[Da,n]:n.includes("Error")?[$k,n]:[oc,n]},Iu=([e,t])=>e===Lc&&(t==="function"||t==="symbol"),eL=(e,t,n,r)=>{const i=(l,u)=>{const c=r.push(l)-1;return n.set(u,c),c},o=l=>{if(n.has(l))return n.get(l);let[u,c]=Sa(l);switch(u){case Lc:{let h=l;switch(c){case"bigint":u=Fk,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([Dk],l)}return i([u,h],l)}case Da:{if(c){let y=l;return c==="DataView"?y=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(y=new Uint8Array(l)),i([c,[...y]],l)}const h=[],p=i([u,h],l);for(const y of l)h.push(o(y));return p}case oc:{if(c)switch(c){case"BigInt":return i([c,l.toString()],l);case"Boolean":case"Number":case"String":return i([c,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const h=[],p=i([u,h],l);for(const y of Z2(l))(e||!Iu(Sa(l[y])))&&h.push([o(y),o(l[y])]);return p}case lm:return i([u,l.toISOString()],l);case um:{const{source:h,flags:p}=l;return i([u,{source:h,flags:p}],l)}case cm:{const h=[],p=i([u,h],l);for(const[y,v]of l)(e||!(Iu(Sa(y))||Iu(Sa(v))))&&h.push([o(y),o(v)]);return p}case dm:{const h=[],p=i([u,h],l);for(const y of l)(e||!Iu(Sa(y)))&&h.push(o(y));return p}}const{message:f}=l;return i([u,{name:c,message:f}],l)};return o},f0=(e,{json:t,lossy:n}={})=>{const r=[];return eL(!(t||n),!!t,new Map,r)(e),r},ac=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?d0(f0(e,t)):structuredClone(e):(e,t)=>d0(f0(e,t));function tL(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function nL(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function rL(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||tL,r=e.options.footnoteBackLabel||nL,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const h=e.all(f),p=String(f.identifier).toUpperCase(),y=Mo(p.toLowerCase());let v=0;const S=[],w=e.footnoteCounts.get(p);for(;w!==void 0&&++v<=w;){S.length>0&&S.push({type:"text",value:" "});let j=typeof n=="string"?n:n(c,v);typeof j=="string"&&(j={type:"text",value:j}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,v),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const j=_.children[_.children.length-1];j&&j.type==="text"?j.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...S)}else h.push(...S);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:e.wrap(h,!0)};e.patch(f,E),u.push(E)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ac(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Dc=(function(e){if(e==null)return aL;if(typeof e=="function")return $c(e);if(typeof e=="object")return Array.isArray(e)?iL(e):sL(e);if(typeof e=="string")return oL(e);throw new Error("Expected function, string, or object as test")});function iL(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Dc(e[n]);return $c(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function sL(e){const t=e;return $c(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function oL(e){return $c(t);function t(n){return n&&n.type===e}}function $c(e){return t;function t(n,r,i){return!!(lL(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function aL(){return!0}function lL(e){return e!==null&&typeof e=="object"&&"type"in e}const zk=[],uL=!0,dp=!1,cL="skip";function Bk(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Dc(i),l=r?-1:1;u(e,void 0,[])();function u(c,f,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=zk,S,w,_;if((!t||o(c,f,h[h.length-1]||void 0))&&(v=dL(n(c,h)),v[0]===dp))return v;if("children"in c&&c.children){const E=c;if(E.children&&v[0]!==cL)for(w=(r?E.children.length:-1)+l,_=h.concat(E);w>-1&&w<E.children.length;){const j=E.children[w];if(S=u(j,w,_)(),S[0]===dp)return S;w=typeof S[1]=="number"?S[1]:w+l}}return v}}}function dL(e){return Array.isArray(e)?e:typeof e=="number"?[uL,e]:e==null?zk:[e]}function Fc(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),Bk(e,o,u,i);function u(c,f){const h=f[f.length-1],p=h?h.children.indexOf(c):void 0;return l(c,p,h)}}const fp={}.hasOwnProperty,fL={};function hL(e,t){const n=t||fL,r=new Map,i=new Map,o=new Map,l={...J2,...n.handlers},u={all:f,applyData:mL,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:c,options:n,patch:pL,wrap:yL};return Fc(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,y=String(h.identifier).toUpperCase();p.has(y)||p.set(y,h)}}),u;function c(h,p){const y=h.type,v=u.handlers[y];if(fp.call(u.handlers,y)&&v)return v(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(y)){if("children"in h){const{children:w,..._}=h,E=ac(_);return E.children=u.all(h),E}return ac(h)}return(u.options.unknownHandler||gL)(u,h,p)}function f(h){const p=[];if("children"in h){const y=h.children;let v=-1;for(;++v<y.length;){const S=u.one(y[v],h);if(S){if(v&&y[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=h0(S.value)),!Array.isArray(S)&&S.type==="element")){const w=S.children[0];w&&w.type==="text"&&(w.value=h0(w.value))}Array.isArray(S)?p.push(...S):p.push(S)}}}return p}}function pL(e,t){e.position&&(t.position=nO(e))}function mL(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,ac(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function gL(e,t){const n=t.data||{},r="value"in t&&!(fp.call(n,"hProperties")||fp.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function yL(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function h0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function p0(e,t){const n=hL(e,t),r=n.one(e,void 0),i=rL(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function vL(e,t){return e&&"run"in e?async function(n,r){const i=p0(n,{file:r,...t});await e.run(i,r)}:function(n,r){return p0(n,{file:r,...e||t})}}function m0(e){if(e)throw e}var ih,g0;function xL(){if(g0)return ih;g0=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var y;for(y in f);return typeof y>"u"||e.call(f,y)},l=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return ih=function c(){var f,h,p,y,v,S,w=arguments[0],_=1,E=arguments.length,j=!1;for(typeof w=="boolean"&&(j=w,w=arguments[1]||{},_=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});_<E;++_)if(f=arguments[_],f!=null)for(h in f)p=u(w,h),y=u(f,h),w!==y&&(j&&y&&(o(y)||(v=i(y)))?(v?(v=!1,S=p&&i(p)?p:[]):S=p&&o(p)?p:{},l(w,{name:h,newValue:c(j,S,y)})):typeof y<"u"&&l(w,{name:h,newValue:y}));return w},ih}var wL=xL();const sh=No(wL);function hp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function bL(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(c,...f){const h=e[++o];let p=-1;if(c){l(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?kL(h,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function kL(e,t){let n;return r;function r(...l){const u=e.length>l.length;let c;u&&l.push(i);try{c=e.apply(this,l)}catch(f){const h=f;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(l,...u){n||(n=!0,t(l,...u))}function o(l){i(null,l)}}const Rr={basename:SL,dirname:EL,extname:_L,join:CL,sep:"/"};function SL(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ul(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function EL(e){if(ul(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function _L(e){ul(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function CL(...e){let t=-1,n;for(;++t<e.length;)ul(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":jL(n)}function jL(e){ul(e);const t=e.codePointAt(0)===47;let n=NL(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function NL(e,t){let n="",r=0,i=-1,o=0,l=-1,u,c;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function ul(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const TL={cwd:IL};function IL(){return"/"}function pp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function PL(e){if(typeof e=="string")e=new URL(e);else if(!pp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return AL(e)}function AL(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const oh=["history","path","basename","stem","extname","dirname"];class Uk{constructor(t){let n;t?pp(t)?n={path:t}:typeof t=="string"||RL(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":TL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<oh.length;){const o=oh[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)oh.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Rr.basename(this.path):void 0}set basename(t){lh(t,"basename"),ah(t,"basename"),this.path=Rr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rr.dirname(this.path):void 0}set dirname(t){y0(this.basename,"dirname"),this.path=Rr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rr.extname(this.path):void 0}set extname(t){if(ah(t,"extname"),y0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){pp(t)&&(t=PL(t)),lh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rr.basename(this.path,this.extname):void 0}set stem(t){lh(t,"stem"),ah(t,"stem"),this.path=Rr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new pn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ah(e,t){if(e&&e.includes(Rr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rr.sep+"`")}function lh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function y0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function RL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const OL=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),ML={}.hasOwnProperty;class fm extends OL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=bL()}copy(){const t=new fm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(sh(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(dh("data",this.frozen),this.namespace[t]=n,this):ML.call(this.namespace,t)&&this.namespace[t]||void 0:t?(dh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pu(t),r=this.parser||this.Parser;return uh("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),uh("process",this.parser||this.Parser),ch("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=Pu(t),c=r.parse(u);r.run(c,u,function(h,p,y){if(h||!p||!y)return f(h);const v=p,S=r.stringify(v,y);$L(S)?y.value=S:y.result=S,f(h,y)});function f(h,p){h||!p?l(h):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),uh("processSync",this.parser||this.Parser),ch("processSync",this.compiler||this.Compiler),this.process(t,i),x0("processSync","process",n),r;function i(o,l){n=!0,m0(o),r=l}}run(t,n,r){v0(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const c=Pu(n);i.run(t,c,f);function f(h,p,y){const v=p||t;h?u(h):l?l(v):r(void 0,v,y)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),x0("runSync","run",r),i;function o(l,u){m0(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=Pu(n),i=this.compiler||this.Compiler;return ch("stringify",i),v0(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(dh("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;c(h,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=sh(!0,i.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let p=-1,y=-1;for(;++p<r.length;)if(r[p][0]===f){y=p;break}if(y===-1)r.push([f,...h]);else if(h.length>0){let[v,...S]=h;const w=r[y][1];hp(w)&&hp(v)&&(v=sh(!0,w,v)),r[y]=[f,v,...S]}}}}const LL=new fm().freeze();function uh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ch(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function dh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function v0(e){if(!hp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function x0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pu(e){return DL(e)?e:new Uk(e)}function DL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $L(e){return typeof e=="string"||FL(e)}function FL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",w0=[],b0={allowDangerousHtml:!0},BL=/^(https?|ircs?|mailto|xmpp)$/i,UL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function WL(e){const t=HL(e),n=VL(e);return qL(t.runSync(t.parse(n),n),e)}function HL(e){const t=e.rehypePlugins||w0,n=e.remarkPlugins||w0,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...b0}:b0;return LL().use(E2).use(n).use(vL,r).use(t)}function VL(e){const t=e.children||"",n=new Uk;return typeof t=="string"&&(n.value=t),n}function qL(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||YL;for(const h of UL)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+zL+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Fc(e,f),aO(e,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function f(h,p,y){if(h.type==="raw"&&y&&typeof p=="number")return l?y.children.splice(p,1):y.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let v;for(v in th)if(Object.hasOwn(th,v)&&Object.hasOwn(h.properties,v)){const S=h.properties[v],w=th[v];(w===null||w.includes(h.tagName))&&(h.properties[v]=c(String(S||""),v,h))}}if(h.type==="element"){let v=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(h,p,y)),v&&y&&typeof p=="number")return u&&h.children?y.children.splice(p,1,...h.children):y.children.splice(p,1),p}}}function YL(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||BL.test(e.slice(0,t))?e:""}function k0(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function KL(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function GL(e,t,n){const i=Dc((n||{}).ignore||[]),o=JL(t);let l=-1;for(;++l<o.length;)Bk(e,"text",u);function u(f,h){let p=-1,y;for(;++p<h.length;){const v=h[p],S=y?y.children:void 0;if(i(v,S?S.indexOf(v):void 0,y))return;y=v}if(y)return c(f,h)}function c(f,h){const p=h[h.length-1],y=o[l][0],v=o[l][1];let S=0;const _=p.children.indexOf(f);let E=!1,j=[];y.lastIndex=0;let C=y.exec(f.value);for(;C;){const P=C.index,M={index:C.index,input:C.input,stack:[...h,f]};let A=v(...C,M);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?y.lastIndex=P+1:(S!==P&&j.push({type:"text",value:f.value.slice(S,P)}),Array.isArray(A)?j.push(...A):A&&j.push(A),S=P+C[0].length,E=!0),!y.global)break;C=y.exec(f.value)}return E?(S<f.value.length&&j.push({type:"text",value:f.value.slice(S)}),p.children.splice(_,1,...j)):j=[f],_+j.length}}function JL(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([QL(i[0]),XL(i[1])])}return t}function QL(e){return typeof e=="string"?new RegExp(KL(e),"g"):e}function XL(e){return typeof e=="function"?e:function(){return e}}const fh="phrasing",hh=["autolink","link","image","label"];function ZL(){return{transforms:[oD],enter:{literalAutolink:tD,literalAutolinkEmail:ph,literalAutolinkHttp:ph,literalAutolinkWww:ph},exit:{literalAutolink:sD,literalAutolinkEmail:iD,literalAutolinkHttp:nD,literalAutolinkWww:rD}}}function eD(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:fh,notInConstruct:hh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:fh,notInConstruct:hh},{character:":",before:"[ps]",after:"\\/",inConstruct:fh,notInConstruct:hh}]}}function tD(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ph(e){this.config.enter.autolinkProtocol.call(this,e)}function nD(e){this.config.exit.autolinkProtocol.call(this,e)}function rD(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function iD(e){this.config.exit.autolinkEmail.call(this,e)}function sD(e){this.exit(e)}function oD(e){GL(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,aD],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),lD]],{ignore:["link","linkReference"]})}function aD(e,t,n,r,i){let o="";if(!Wk(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!uD(n)))return!1;const l=cD(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function lD(e,t,n,r){return!Wk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function uD(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function cD(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=k0(e,"(");let o=k0(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function Wk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||xs(n)||Oc(n))&&(!t||n!==47)}Hk.peek=xD;function dD(){this.buffer()}function fD(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function hD(){this.buffer()}function pD(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function mD(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=br(this.sliceSerialize(e)).toLowerCase(),n.label=t}function gD(e){this.exit(e)}function yD(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=br(this.sliceSerialize(e)).toLowerCase(),n.label=t}function vD(e){this.exit(e)}function xD(){return"["}function Hk(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),l(),o+=i.move("]"),o}function wD(){return{enter:{gfmFootnoteCallString:dD,gfmFootnoteCall:fD,gfmFootnoteDefinitionLabelString:hD,gfmFootnoteDefinition:pD},exit:{gfmFootnoteCallString:mD,gfmFootnoteCall:gD,gfmFootnoteDefinitionLabelString:yD,gfmFootnoteDefinition:vD}}}function bD(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Hk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const u=o.createTracker(l);let c=u.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return c+=u.move(o.safe(o.associationId(r),{before:c,after:"]"})),h(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?Vk:kD))),f(),c}}function kD(e,t,n){return t===0?e:Vk(e,t,n)}function Vk(e,t,n){return(n?"":"    ")+e}const SD=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];qk.peek=ND;function ED(){return{canContainEols:["delete"],enter:{strikethrough:CD},exit:{strikethrough:jD}}}function _D(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:SD}],handlers:{delete:qk}}}function CD(e){this.enter({type:"delete",children:[]},e)}function jD(e){this.exit(e)}function qk(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function ND(){return"~"}function TD(e){return e.length}function ID(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||TD,o=[],l=[],u=[],c=[];let f=0,h=-1;for(;++h<e.length;){const w=[],_=[];let E=-1;for(e[h].length>f&&(f=e[h].length);++E<e[h].length;){const j=PD(e[h][E]);if(n.alignDelimiters!==!1){const C=i(j);_[E]=C,(c[E]===void 0||C>c[E])&&(c[E]=C)}w.push(j)}l[h]=w,u[h]=_}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)o[p]=S0(r[p]);else{const w=S0(r);for(;++p<f;)o[p]=w}p=-1;const y=[],v=[];for(;++p<f;){const w=o[p];let _="",E="";w===99?(_=":",E=":"):w===108?_=":":w===114&&(E=":");let j=n.alignDelimiters===!1?1:Math.max(1,c[p]-_.length-E.length);const C=_+"-".repeat(j)+E;n.alignDelimiters!==!1&&(j=_.length+j+E.length,j>c[p]&&(c[p]=j),v[p]=j),y[p]=C}l.splice(1,0,y),u.splice(1,0,v),h=-1;const S=[];for(;++h<l.length;){const w=l[h],_=u[h];p=-1;const E=[];for(;++p<f;){const j=w[p]||"";let C="",P="";if(n.alignDelimiters!==!1){const M=c[p]-(_[p]||0),A=o[p];A===114?C=" ".repeat(M):A===99?M%2?(C=" ".repeat(M/2+.5),P=" ".repeat(M/2-.5)):(C=" ".repeat(M/2),P=C):P=" ".repeat(M)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&j==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(C),E.push(j),n.alignDelimiters!==!1&&E.push(P),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&E.push("|")}S.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return S.join(`
`)}function PD(e){return e==null?"":String(e)}function S0(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function AD(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),RD);return i(),l}function RD(e,t,n){return">"+(n?"":" ")+e}function OD(e,t){return E0(e,t.inConstruct,!0)&&!E0(e,t.notInConstruct,!1)}function E0(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function _0(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&OD(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function MD(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+t.length,r=n.indexOf(t,i);return l}function LD(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function DD(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function $D(e,t,n,r){const i=DD(n),o=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(LD(e,n)){const p=n.enter("codeIndented"),y=n.indentLines(o,FD);return p(),y}const u=n.createTracker(r),c=i.repeat(Math.max(MD(o,i)+1,3)),f=n.enter("codeFenced");let h=u.move(c);if(e.lang){const p=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...u.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...u.current()})),p()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(c),f(),h}function FD(e,t,n){return(n?"":"    ")+e}function hm(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function zD(e,t,n,r){const i=hm(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("[");return f+=c.move(n.safe(n.associationId(e),{before:f,after:"]",...c.current()})),f+=c.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),l(),f}function BD(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ja(e){return"&#x"+e.toString(16).toUpperCase()+";"}function lc(e,t,n){const r=jo(e),i=jo(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Yk.peek=UD;function Yk(e,t,n,r){const i=BD(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=lc(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ja(f)+c.slice(1));const p=c.charCodeAt(c.length-1),y=lc(r.after.charCodeAt(0),p,i);y.inside&&(c=c.slice(0,-1)+Ja(p));const v=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:y.outside,before:h.outside},u+c+v}function UD(e,t,n){return n.options.emphasis||"*"}function WD(e,t){let n=!1;return Fc(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,dp}),!!((!e.depth||e.depth<3)&&sm(e)&&(t.options.setext||n))}function HD(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(WD(e,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),y=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),h(),y+`
`+(i===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const l="#".repeat(i),u=n.enter("headingAtx"),c=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Ja(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),c(),u(),f}Kk.peek=VD;function Kk(e){return e.value||""}function VD(){return"<"}Gk.peek=qD;function Gk(e,t,n,r){const i=hm(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("![");return f+=c.move(n.safe(e.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":")",...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),f+=c.move(")"),l(),f}function qD(){return"!"}Jk.peek=YD;function Jk(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const f=n.safe(e.alt,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function YD(){return"!"}Qk.peek=KD;function Qk(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],u=n.compilePattern(l);let c;if(l.atBreak)for(;c=u.exec(r);){let f=c.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(c.index+1)}}return i+r+i}function KD(){return"`"}function Xk(e,t){const n=sm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Zk.peek=GD;function Zk(e,t,n,r){const i=hm(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,c;if(Xk(e,n)){const h=n.stack;n.stack=[],u=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),u(),n.stack=h,p}u=n.enter("link"),c=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(c=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),c(),e.title&&(c=n.enter(`title${o}`),f+=l.move(" "+i),f+=l.move(n.safe(e.title,{before:f,after:i,...l.current()})),f+=l.move(i),c()),f+=l.move(")"),u(),f}function GD(e,t,n){return Xk(e,n)?"<":"["}e1.peek=JD;function e1(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const f=n.containerPhrasing(e,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function JD(){return"["}function pm(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function QD(e){const t=pm(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function XD(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function t1(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ZD(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?XD(n):pm(n);const u=e.ordered?l==="."?")":".":QD(n);let c=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),t1(n)===l&&h){let p=-1;for(;++p<e.children.length;){const y=e.children[p];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=u),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),f}function e$(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function t$(e,t,n,r){const i=e$(n);let o=n.bulletCurrent||pm(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);const c=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),h);return c(),f;function h(p,y,v){return y?(v?"":" ".repeat(l))+p:(v?o:o+" ".repeat(l-o.length))+p}}function n$(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),i(),l}const r$=Dc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function i$(e,t,n,r){return(e.children.some(function(l){return r$(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function s$(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}n1.peek=o$;function n1(e,t,n,r){const i=s$(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=lc(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ja(f)+c.slice(1));const p=c.charCodeAt(c.length-1),y=lc(r.after.charCodeAt(0),p,i);y.inside&&(c=c.slice(0,-1)+Ja(p));const v=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:y.outside,before:h.outside},u+c+v}function o$(e,t,n){return n.options.strong||"*"}function a$(e,t,n,r){return n.safe(e.value,r)}function l$(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function u$(e,t,n){const r=(t1(n)+(n.options.ruleSpaces?" ":"")).repeat(l$(n));return n.options.ruleSpaces?r.slice(0,-1):r}const r1={blockquote:AD,break:_0,code:$D,definition:zD,emphasis:Yk,hardBreak:_0,heading:HD,html:Kk,image:Gk,imageReference:Jk,inlineCode:Qk,link:Zk,linkReference:e1,list:ZD,listItem:t$,paragraph:n$,root:i$,strong:n1,text:a$,thematicBreak:u$};function c$(){return{enter:{table:d$,tableData:C0,tableHeader:C0,tableRow:h$},exit:{codeText:p$,table:f$,tableData:mh,tableHeader:mh,tableRow:mh}}}function d$(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function f$(e){this.exit(e),this.data.inTable=void 0}function h$(e){this.enter({type:"tableRow",children:[]},e)}function mh(e){this.exit(e)}function C0(e){this.enter({type:"tableCell",children:[]},e)}function p$(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,m$));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function m$(e,t){return t==="|"?t:e}function g$(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:l,tableCell:c,tableRow:u}};function l(v,S,w,_){return f(h(v,w,_),v.align)}function u(v,S,w,_){const E=p(v,w,_),j=f([E]);return j.slice(0,j.indexOf(`
`))}function c(v,S,w,_){const E=w.enter("tableCell"),j=w.enter("phrasing"),C=w.containerPhrasing(v,{..._,before:o,after:o});return j(),E(),C}function f(v,S){return ID(v,{align:S,alignDelimiters:r,padding:n,stringLength:i})}function h(v,S,w){const _=v.children;let E=-1;const j=[],C=S.enter("table");for(;++E<_.length;)j[E]=p(_[E],S,w);return C(),j}function p(v,S,w){const _=v.children;let E=-1;const j=[],C=S.enter("tableRow");for(;++E<_.length;)j[E]=c(_[E],v,S,w);return C(),j}function y(v,S,w){let _=r1.inlineCode(v,S,w);return w.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function y$(){return{exit:{taskListCheckValueChecked:j0,taskListCheckValueUnchecked:j0,paragraph:x$}}}function v$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:w$}}}function j0(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function x$(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,l;for(;++o<i.length;){const u=i[o];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function w$(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(l);let c=r1.listItem(e,t,n,{...r,...u.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(h){return h+l}}function b$(){return[ZL(),wD(),ED(),c$(),y$()]}function k$(e){return{extensions:[eD(),bD(e),_D(),g$(e),v$()]}}const S$={tokenize:T$,partial:!0},i1={tokenize:I$,partial:!0},s1={tokenize:P$,partial:!0},o1={tokenize:A$,partial:!0},E$={tokenize:R$,partial:!0},a1={name:"wwwAutolink",tokenize:j$,previous:u1},l1={name:"protocolAutolink",tokenize:N$,previous:c1},si={name:"emailAutolink",tokenize:C$,previous:d1},Ur={};function _$(){return{text:Ur}}let is=48;for(;is<123;)Ur[is]=si,is++,is===58?is=65:is===91&&(is=97);Ur[43]=si;Ur[45]=si;Ur[46]=si;Ur[95]=si;Ur[72]=[si,l1];Ur[104]=[si,l1];Ur[87]=[si,a1];Ur[119]=[si,a1];function C$(e,t,n){const r=this;let i,o;return l;function l(p){return!mp(p)||!d1.call(r,r.previous)||mm(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(p))}function u(p){return mp(p)?(e.consume(p),u):p===64?(e.consume(p),c):n(p)}function c(p){return p===46?e.check(E$,h,f)(p):p===45||p===95||hn(p)?(o=!0,e.consume(p),c):h(p)}function f(p){return e.consume(p),i=!0,c}function h(p){return o&&i&&wn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function j$(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!u1.call(r,r.previous)||mm(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(S$,e.attempt(i1,e.attempt(s1,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function N$(e,t,n){const r=this;let i="",o=!1;return l;function l(p){return(p===72||p===104)&&c1.call(r,r.previous)&&!mm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),u):n(p)}function u(p){if(wn(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),u;if(p===58){const y=i.toLowerCase();if(y==="http"||y==="https")return e.consume(p),c}return n(p)}function c(p){return p===47?(e.consume(p),o?f:(o=!0,c)):n(p)}function f(p){return p===null||sc(p)||ct(p)||xs(p)||Oc(p)?n(p):e.attempt(i1,e.attempt(s1,h),n)(p)}function h(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function T$(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function I$(e,t,n){let r,i,o;return l;function l(f){return f===46||f===95?e.check(o1,c,u)(f):f===null||ct(f)||xs(f)||f!==45&&Oc(f)?c(f):(o=!0,e.consume(f),l)}function u(f){return f===95?r=!0:(i=r,r=void 0),e.consume(f),l}function c(f){return i||r||!o?n(f):t(f)}}function P$(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(o1,t,o)(l):l===null||ct(l)||xs(l)?t(l):(e.consume(l),i)}function o(l){return l===41&&r++,e.consume(l),i}}function A$(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),i):u===60||u===null||ct(u)||xs(u)?t(u):n(u)}function i(u){return u===null||u===40||u===91||ct(u)||xs(u)?t(u):r(u)}function o(u){return wn(u)?l(u):n(u)}function l(u){return u===59?(e.consume(u),r):wn(u)?(e.consume(u),l):n(u)}}function R$(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return hn(o)?n(o):t(o)}}function u1(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ct(e)}function c1(e){return!wn(e)}function d1(e){return!(e===47||mp(e))}function mp(e){return e===43||e===45||e===46||e===95||hn(e)}function mm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const O$={tokenize:U$,partial:!0};function M$(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:F$,continuation:{tokenize:z$},exit:B$}},text:{91:{name:"gfmFootnoteCall",tokenize:$$},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:L$,resolveTo:D$}}}}function L$(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!l||!l._balanced)return n(c);const f=br(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function D$(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function $$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return u;function u(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(o>999||p===93&&!l||p===null||p===91||ct(p))return n(p);if(p===93){e.exit("chunkString");const y=e.exit("gfmFootnoteCallString");return i.includes(br(r.sliceSerialize(y)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return ct(p)||(l=!0),o++,e.consume(p),p===92?h:f}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function F$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,u;return c;function c(S){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(S){return S===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(S)}function h(S){if(l>999||S===93&&!u||S===null||S===91||ct(S))return n(S);if(S===93){e.exit("chunkString");const w=e.exit("gfmFootnoteDefinitionLabelString");return o=br(r.sliceSerialize(w)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),y}return ct(S)||(u=!0),l++,e.consume(S),S===92?p:h}function p(S){return S===91||S===92||S===93?(e.consume(S),l++,h):h(S)}function y(S){return S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),i.includes(o)||i.push(o),Qe(e,v,"gfmFootnoteDefinitionWhitespace")):n(S)}function v(S){return t(S)}}function z$(e,t,n){return e.check(ll,t,e.attempt(O$,t,n))}function B$(e){e.exit("gfmFootnoteDefinition")}function U$(e,t,n){const r=this;return Qe(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function W$(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,u){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let f=c;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[c][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[c][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[c][1].start)},y=[["enter",h,u],["enter",l[f][1],u],["exit",l[f][1],u],["enter",p,u]],v=u.parser.constructs.insideSpan.null;v&&Kn(y,y.length,0,Mc(v,l.slice(f+1,c),u)),Kn(y,y.length,0,[["exit",p,u],["enter",l[c][1],u],["exit",l[c][1],u],["exit",h,u]]),Kn(l,f-1,c-f+3,y),c=f+y.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}function o(l,u,c){const f=this.previous,h=this.events;let p=0;return y;function y(S){return f===126&&h[h.length-1][1].type!=="characterEscape"?c(S):(l.enter("strikethroughSequenceTemporary"),v(S))}function v(S){const w=jo(f);if(S===126)return p>1?c(S):(l.consume(S),p++,v);if(p<2&&!n)return c(S);const _=l.exit("strikethroughSequenceTemporary"),E=jo(S);return _._open=!E||E===2&&!!w,_._close=!w||w===2&&!!E,u(S)}}}class H${constructor(){this.map=[]}add(t,n,r){V$(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function V$(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function q$(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Y$(){return{flow:{null:{name:"table",tokenize:K$,resolveAll:G$}}}}function K$(e,t,n){const r=this;let i=0,o=0,l;return u;function u(R){let L=r.events.length-1;for(;L>-1;){const V=r.events[L][1].type;if(V==="lineEnding"||V==="linePrefix")L--;else break}const Q=L>-1?r.events[L][1].type:null,G=Q==="tableHead"||Q==="tableRow"?A:c;return G===A&&r.parser.lazy[r.now().line]?n(R):G(R)}function c(R){return e.enter("tableHead"),e.enter("tableRow"),f(R)}function f(R){return R===124||(l=!0,o+=1),h(R)}function h(R){return R===null?n(R):Le(R)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),v):n(R):Ye(R)?Qe(e,h,"whitespace")(R):(o+=1,l&&(l=!1,i+=1),R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),l=!0,h):(e.enter("data"),p(R)))}function p(R){return R===null||R===124||ct(R)?(e.exit("data"),h(R)):(e.consume(R),R===92?y:p)}function y(R){return R===92||R===124?(e.consume(R),p):p(R)}function v(R){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(R):(e.enter("tableDelimiterRow"),l=!1,Ye(R)?Qe(e,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):S(R))}function S(R){return R===45||R===58?_(R):R===124?(l=!0,e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),w):M(R)}function w(R){return Ye(R)?Qe(e,_,"whitespace")(R):_(R)}function _(R){return R===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),E):R===45?(o+=1,E(R)):R===null||Le(R)?P(R):M(R)}function E(R){return R===45?(e.enter("tableDelimiterFiller"),j(R)):M(R)}function j(R){return R===45?(e.consume(R),j):R===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),C):(e.exit("tableDelimiterFiller"),C(R))}function C(R){return Ye(R)?Qe(e,P,"whitespace")(R):P(R)}function P(R){return R===124?S(R):R===null||Le(R)?!l||i!==o?M(R):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(R)):M(R)}function M(R){return n(R)}function A(R){return e.enter("tableRow"),F(R)}function F(R){return R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),F):R===null||Le(R)?(e.exit("tableRow"),t(R)):Ye(R)?Qe(e,F,"whitespace")(R):(e.enter("data"),Z(R))}function Z(R){return R===null||R===124||ct(R)?(e.exit("data"),F(R)):(e.consume(R),R===92?se:Z)}function se(R){return R===92||R===124?(e.consume(R),Z):Z(R)}}function G$(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,c=0,f,h,p;const y=new H$;for(;++n<e.length;){const v=e[n],S=v[1];v[0]==="enter"?S.type==="tableHead"?(u=!1,c!==0&&(N0(y,t,c,f,h),h=void 0,c=0),f={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},y.add(n,0,[["enter",f,t]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(r=!0,p=void 0,o=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},y.add(n,0,[["enter",h,t]])),i=S.type==="tableDelimiterRow"?2:h?3:1):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],p=Au(y,t,o,i,void 0,p),o=[0,0,0,0]),l[2]=n)):S.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],p=Au(y,t,o,i,void 0,p)),o=l,l=[o[1],n,0,0])):S.type==="tableHead"?(u=!0,c=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(c=n,o[1]!==0?(l[0]=l[1],p=Au(y,t,o,i,n,p)):l[1]!==0&&(p=Au(y,t,l,i,n,p)),i=0):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(l[3]=n)}for(c!==0&&N0(y,t,c,f,h),y.consume(t.events),n=-1;++n<t.events.length;){const v=t.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=q$(t.events,n))}return e}function Au(e,t,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},ho(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=ho(t.events,n[1]);if(o={type:l,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=ho(t.events,n[2]),h=ho(t.events,n[3]),p={type:u,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const y=t.events[n[2]],v=t.events[n[3]];if(y[1].end=Object.assign({},v[1].end),y[1].type="chunkText",y[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,w=n[3]-n[2]-1;e.add(S,w,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(o.end=Object.assign({},ho(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function N0(e,t,n,r,i){const o=[],l=ho(t.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function ho(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const J$={name:"tasklistCheck",tokenize:X$};function Q$(){return{text:{91:J$}}}function X$(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return ct(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),l):n(c)}function l(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(c)}function u(c){return Le(c)?t(c):Ye(c)?e.check({tokenize:Z$},t,n)(c):n(c)}}function Z$(e,t,n){return Qe(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function e4(e){return kk([_$(),M$(),W$(e),Y$(),Q$()])}const t4={};function n4(e){const t=this,n=e||t4,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(e4(n)),o.push(b$()),l.push(k$(n))}const r4=e=>e!=null;function i4(){const e=Ee(t=>t.works);return k.useMemo(()=>{const t=new Map;e.forEach(o=>{var c;const l=(c=o.name)==null?void 0:c.trim();if(!l)return;const u=t.get(l)??[];u.push(o),t.set(l,u)});const n=new Map,r=new Map;t.forEach((o,l)=>{o.length===1?n.set(l,o[0]):o.length>1&&r.set(l,o.filter(r4))});const i=Array.from(n.entries()).map(([o,l])=>({name:o,work:l}));return i.sort((o,l)=>l.name.length-o.name.length||o.name.localeCompare(l.name,"es")),{uniqueByName:n,duplicates:r,entries:i}},[e])}const s4=new RegExp("\\p{L}|\\p{N}","u"),T0=e=>e?s4.test(e):!1,o4=(e,t,n)=>{const r=t===0?void 0:e[t-1],i=n>=e.length?void 0:e[n];return!T0(r)&&!T0(i)},a4=(e,t)=>{const n=[];t.forEach(o=>{let l=0;for(;l<e.length;){const u=e.indexOf(o.name,l);if(u===-1)break;const c=u+o.name.length;o4(e,u,c)&&n.push({start:u,end:c,entry:o}),l=u+o.name.length}}),n.sort((o,l)=>o.start!==l.start?o.start-l.start:l.entry.name.length-o.entry.name.length);const r=[];let i=-1;return n.forEach(o=>{o.start<i||(r.push(o),i=o.end)}),r},l4=e=>e?new Set(["link","linkReference","definition","inlineCode","code"]).has(e.type):!0,u4=e=>{const t=(e==null?void 0:e.entries)??[];return t.length===0?()=>{}:n=>{Fc(n,"text",(r,i,o)=>{if(l4(o)||typeof i!="number"||!o)return;const u=r.value;if(!u)return;const c=a4(u,t);if(c.length===0)return;const f=[];let h=0;c.forEach(p=>{p.start>h&&f.push({type:"text",value:u.slice(h,p.start)}),f.push({type:"link",title:null,url:p.entry.href,children:[{type:"text",value:p.entry.name}]}),h=p.end}),h<u.length&&f.push({type:"text",value:u.slice(h)}),o.children.splice(i,1,...f)})}},c4=e=>{var f,h,p;const t="/sport-planner/".replace(/\/$/,""),r=`${t?`${t}/`:"/"}#/`,i=((f=e.href)==null?void 0:f.startsWith("#/"))??!1,o=((h=e.href)==null?void 0:h.startsWith(r))??!1,l=(((p=e.href)==null?void 0:p.startsWith("/"))??!1)||i||o,u=l?e.rel:e.rel??"noreferrer",c=l?e.target:e.target??"_blank";return g.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:c,rel:u})},d4=e=>g.jsx("ul",{...e,className:Ae("my-2 list-disc space-y-1 pl-6",e.className)}),f4=e=>g.jsx("ol",{...e,className:Ae("my-2 list-decimal space-y-1 pl-6",e.className)}),h4=e=>g.jsx("li",{...e,className:Ae("leading-relaxed",e.className)});function p4(e){const t=e.trim(),n=t.match(/^(["'])(.*)(["'])$/s);return n?n[2].trim():t}function m4(e){var l;const n=p4(e.trim()).match(/^\[!([^\]]+)\]([+-])?\s*(.*)$/i);if(!n)return null;const r=n[1].toLowerCase(),o=(((l=n[3])==null?void 0:l.trim())??"")||r;return{type:r,title:o}}function f1(e){return typeof e=="object"&&e!==null&&"props"in e&&"type"in e}function gp(e){return e==null||typeof e=="boolean"?"":typeof e=="string"||typeof e=="number"?String(e):Array.isArray(e)?e.map(gp).join(""):f1(e)?gp(e.props.children):""}const I0={danger:{icon:"",containerClassName:"border-rose-500/25 bg-rose-500/10",titleClassName:"text-rose-200"},warning:{icon:"",containerClassName:"border-amber-500/25 bg-amber-500/10",titleClassName:"text-amber-200"},info:{icon:"",containerClassName:"border-sky-500/25 bg-sky-500/10",titleClassName:"text-sky-200"},note:{icon:"",containerClassName:"border-indigo-500/25 bg-indigo-500/10",titleClassName:"text-indigo-200"},tip:{icon:"",containerClassName:"border-emerald-500/25 bg-emerald-500/10",titleClassName:"text-emerald-200"}},g4=e=>{const{node:t,children:n,...r}=e,i=Array.isArray(n)?n:[n],o=i.findIndex(p=>f1(p)&&p.type==="p"),l=o>=0?i[o]:void 0,u=gp(l).trim(),c=m4(u);if(!c)return g.jsx("blockquote",{...r,children:n});const f=I0[c.type]??I0.info,h=i.filter((p,y)=>y!==o);return g.jsxs("aside",{className:Ae("my-4 rounded-2xl border p-5",f.containerClassName),children:[g.jsxs("div",{className:Ae("flex items-center gap-2 text-lg font-semibold",f.titleClassName),children:[g.jsx("span",{"aria-hidden":"true",children:f.icon}),g.jsx("span",{children:c.title})]}),g.jsx("div",{className:"mt-3",children:h})]})},y4={a:c4,blockquote:g4,ul:d4,ol:f4,li:h4};function ws({content:e,enableWorkLinks:t=!1}){const{entries:n}=i4(),r=k.useMemo(()=>{if(!t||n.length===0)return null;const o="/sport-planner/".replace(/\/$/,""),u=`${o?`${o}/`:"/"}#/catalog`;return{entries:n.map(({name:c,work:f})=>({name:c,href:`${u}?workId=${encodeURIComponent(f.id)}`}))}},[t,n]),i=k.useMemo(()=>{const o=[n4];return r&&o.push([u4,r]),o},[r]);return e?g.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:g.jsx(WL,{remarkPlugins:i,components:y4,children:e})}):null}function P0(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\\d+(\\.\\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\\d+:)+\\d+$/.test(t)){const r=t.split(":").map(i=>Number(i));return r.some(i=>Number.isNaN(i))?null:r.reduce((i,o)=>i*60+o,0)}const n=t.match(/^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,i=n[2]?Number(n[2]):0,o=n[3]?Number(n[3]):0;if(r||i||o)return r*3600+i*60+o}return null}function v4(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const i=new URL(`https://www.youtube-nocookie.com/embed/${r}`),o=P0(t.searchParams.get("start")??t.searchParams.get("t"));o!==null&&i.searchParams.set("start",String(o));const l=P0(t.searchParams.get("end"));l!==null&&i.searchParams.set("end",String(l));const u=t.searchParams.get("list");return u&&i.searchParams.set("list",u),i.toString()}catch{return null}}function zc({url:e,title:t,maxWidth:n=300,className:r}){const i=e.trim();if(!i)return null;const o=v4(i);return o?g.jsx("div",{className:Ae("flex w-full justify-center",r),children:g.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:g.jsx("iframe",{src:o,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):g.jsx("div",{className:Ae("flex w-full justify-center",r),children:g.jsx("a",{href:i,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function x4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Bc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function gm(e){return"nodeType"in e}function Dn(e){var t,n;return e?Lo(e)?e:gm(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ym(e){const{Document:t}=Dn(e);return e instanceof t}function cl(e){return Lo(e)?!1:e instanceof Dn(e).HTMLElement}function h1(e){return e instanceof Dn(e).SVGElement}function Do(e){return e?Lo(e)?e.document:gm(e)?ym(e)?e:cl(e)||h1(e)?e.ownerDocument:document:document:document}const Fr=Bc?k.useLayoutEffect:k.useEffect;function vm(e){const t=k.useRef(e);return Fr(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function w4(){const e=k.useRef(null),t=k.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Qa(e,t){t===void 0&&(t=[e]);const n=k.useRef(e);return Fr(()=>{n.current!==e&&(n.current=e)},t),n}function dl(e,t){const n=k.useRef();return k.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function uc(e){const t=vm(e),n=k.useRef(null),r=k.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function yp(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let gh={};function fl(e,t){return k.useMemo(()=>{if(t)return t;const n=gh[e]==null?0:gh[e]+1;return gh[e]=n,e+"-"+n},[e,t])}function p1(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[c,f]of u){const h=o[c];h!=null&&(o[c]=h+e*f)}return o},{...t})}}const bo=p1(1),cc=p1(-1);function b4(e){return"clientX"in e&&"clientY"in e}function xm(e){if(!e)return!1;const{KeyboardEvent:t}=Dn(e.target);return t&&e instanceof t}function k4(e){if(!e)return!1;const{TouchEvent:t}=Dn(e.target);return t&&e instanceof t}function vp(e){if(k4(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return b4(e)?{x:e.clientX,y:e.clientY}:null}const Xa=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Xa.Translate.toString(e),Xa.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),A0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function S4(e){return e.matches(A0)?e:e.querySelector(A0)}const E4={display:"none"};function _4(e){let{id:t,value:n}=e;return Se.createElement("div",{id:t,style:E4},n)}function C4(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Se.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function j4(){const[e,t]=k.useState("");return{announce:k.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const m1=k.createContext(null);function N4(e){const t=k.useContext(m1);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function T4(){const[e]=k.useState(()=>new Set),t=k.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[k.useCallback(r=>{let{type:i,event:o}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,o)})},[e]),t]}const I4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},P4={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function A4(e){let{announcements:t=P4,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=I4}=e;const{announce:o,announcement:l}=j4(),u=fl("DndLiveRegion"),[c,f]=k.useState(!1);if(k.useEffect(()=>{f(!0)},[]),N4(k.useMemo(()=>({onDragStart(p){let{active:y}=p;o(t.onDragStart({active:y}))},onDragMove(p){let{active:y,over:v}=p;t.onDragMove&&o(t.onDragMove({active:y,over:v}))},onDragOver(p){let{active:y,over:v}=p;o(t.onDragOver({active:y,over:v}))},onDragEnd(p){let{active:y,over:v}=p;o(t.onDragEnd({active:y,over:v}))},onDragCancel(p){let{active:y,over:v}=p;o(t.onDragCancel({active:y,over:v}))}}),[o,t])),!c)return null;const h=Se.createElement(Se.Fragment,null,Se.createElement(_4,{id:r,value:i.draggable}),Se.createElement(C4,{id:u,announcement:l}));return n?qn.createPortal(h,n):h}var qt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(qt||(qt={}));function dc(){}const Er=Object.freeze({x:0,y:0});function R4(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function O4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function M4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function L4(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function R0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const D4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=R0(t,t.left,t.top),o=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const f=R4(R0(c),i);o.push({id:u,data:{droppableContainer:l,value:f}})}}return o.sort(O4)};function $4(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=o-n;if(r<i&&n<o){const c=t.width*t.height,f=e.width*e.height,h=l*u,p=h/(c+f-h);return Number(p.toFixed(4))}return 0}const F4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const c=$4(u,t);c>0&&i.push({id:l,data:{droppableContainer:o,value:c}})}}return i.sort(M4)};function z4(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function g1(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Er}function B4(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const U4=B4(1);function W4(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function H4(e,t,n){const r=W4(t);if(!r)return e;const{scaleX:i,scaleY:o,x:l,y:u}=r,c=e.left-l-(1-i)*parseFloat(n),f=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?e.width/i:e.width,p=o?e.height/o:e.height;return{width:h,height:p,top:f,right:c+h,bottom:f+p,left:c}}const V4={ignoreTransform:!1};function $o(e,t){t===void 0&&(t=V4);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=Dn(e).getComputedStyle(e);f&&(n=H4(n,f,h))}const{top:r,left:i,width:o,height:l,bottom:u,right:c}=n;return{top:r,left:i,width:o,height:l,bottom:u,right:c}}function O0(e){return $o(e,{ignoreTransform:!0})}function q4(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Y4(e,t){return t===void 0&&(t=Dn(e).getComputedStyle(e)),t.position==="fixed"}function K4(e,t){t===void 0&&(t=Dn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function wm(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(ym(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!cl(i)||h1(i)||n.includes(i))return n;const o=Dn(e).getComputedStyle(i);return i!==e&&K4(i,o)&&n.push(i),Y4(i,o)?n:r(i.parentNode)}return e?r(e):n}function y1(e){const[t]=wm(e,1);return t??null}function yh(e){return!Bc||!e?null:Lo(e)?e:gm(e)?ym(e)||e===Do(e).scrollingElement?window:cl(e)?e:null:null}function v1(e){return Lo(e)?e.scrollX:e.scrollLeft}function x1(e){return Lo(e)?e.scrollY:e.scrollTop}function xp(e){return{x:v1(e),y:x1(e)}}var Xt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Xt||(Xt={}));function w1(e){return!Bc||!e?!1:e===document.scrollingElement}function b1(e){const t={x:0,y:0},n=w1(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const G4={x:.2,y:.2};function J4(e,t,n,r,i){let{top:o,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=G4);const{isTop:f,isBottom:h,isLeft:p,isRight:y}=b1(e),v={x:0,y:0},S={x:0,y:0},w={height:t.height*i.y,width:t.width*i.x};return!f&&o<=t.top+w.height?(v.y=Xt.Backward,S.y=r*Math.abs((t.top+w.height-o)/w.height)):!h&&c>=t.bottom-w.height&&(v.y=Xt.Forward,S.y=r*Math.abs((t.bottom-w.height-c)/w.height)),!y&&u>=t.right-w.width?(v.x=Xt.Forward,S.x=r*Math.abs((t.right-w.width-u)/w.width)):!p&&l<=t.left+w.width&&(v.x=Xt.Backward,S.x=r*Math.abs((t.left+w.width-l)/w.width)),{direction:v,speed:S}}function Q4(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function k1(e){return e.reduce((t,n)=>bo(t,xp(n)),Er)}function X4(e){return e.reduce((t,n)=>t+v1(n),0)}function Z4(e){return e.reduce((t,n)=>t+x1(n),0)}function eF(e,t){if(t===void 0&&(t=$o),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);y1(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const tF=[["x",["left","right"],X4],["y",["top","bottom"],Z4]];class bm{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wm(n),i=k1(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,u]of tF)for(const c of l)Object.defineProperty(this,c,{get:()=>{const f=u(r),h=i[o]-f;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $a{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function nF(e){const{EventTarget:t}=Dn(e);return e instanceof t?e:Do(e)}function vh(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ir;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ir||(ir={}));function M0(e){e.preventDefault()}function rF(e){e.stopPropagation()}var it;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(it||(it={}));const S1={start:[it.Space,it.Enter],cancel:[it.Esc],end:[it.Space,it.Enter,it.Tab]},iF=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case it.Right:return{...n,x:n.x+25};case it.Left:return{...n,x:n.x-25};case it.Down:return{...n,y:n.y+25};case it.Up:return{...n,y:n.y-25}}};class E1{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new $a(Do(n)),this.windowListeners=new $a(Dn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ir.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&eF(r),n(Er)}handleKeyDown(t){if(xm(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=S1,coordinateGetter:l=iF,scrollBehavior:u="smooth"}=i,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:Er;this.referenceCoordinates||(this.referenceCoordinates=h);const p=l(t,{active:n,context:r.current,currentCoordinates:h});if(p){const y=cc(p,h),v={x:0,y:0},{scrollableAncestors:S}=r.current;for(const w of S){const _=t.code,{isTop:E,isRight:j,isLeft:C,isBottom:P,maxScroll:M,minScroll:A}=b1(w),F=Q4(w),Z={x:Math.min(_===it.Right?F.right-F.width/2:F.right,Math.max(_===it.Right?F.left:F.left+F.width/2,p.x)),y:Math.min(_===it.Down?F.bottom-F.height/2:F.bottom,Math.max(_===it.Down?F.top:F.top+F.height/2,p.y))},se=_===it.Right&&!j||_===it.Left&&!C,R=_===it.Down&&!P||_===it.Up&&!E;if(se&&Z.x!==p.x){const L=w.scrollLeft+y.x,Q=_===it.Right&&L<=M.x||_===it.Left&&L>=A.x;if(Q&&!y.y){w.scrollTo({left:L,behavior:u});return}Q?v.x=w.scrollLeft-L:v.x=_===it.Right?w.scrollLeft-M.x:w.scrollLeft-A.x,v.x&&w.scrollBy({left:-v.x,behavior:u});break}else if(R&&Z.y!==p.y){const L=w.scrollTop+y.y,Q=_===it.Down&&L<=M.y||_===it.Up&&L>=A.y;if(Q&&!y.x){w.scrollTo({top:L,behavior:u});return}Q?v.y=w.scrollTop-L:v.y=_===it.Down?w.scrollTop-M.y:w.scrollTop-A.y,v.y&&w.scrollBy({top:-v.y,behavior:u});break}}this.handleMove(t,bo(cc(p,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}E1.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=S1,onActivation:i}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function L0(e){return!!(e&&"distance"in e)}function D0(e){return!!(e&&"delay"in e)}class km{constructor(t,n,r){var i;r===void 0&&(r=nF(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Do(l),this.documentListeners=new $a(this.document),this.listeners=new $a(r),this.windowListeners=new $a(Dn(l)),this.initialCoordinates=(i=vp(o))!=null?i:Er,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.DragStart,M0),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),this.windowListeners.add(ir.ContextMenu,M0),this.documentListeners.add(ir.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(D0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(L0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ir.Click,rF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ir.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!i)return;const c=(n=vp(t))!=null?n:Er,f=cc(i,c);if(!r&&u){if(L0(u)){if(u.tolerance!=null&&vh(f,u.tolerance))return this.handleCancel();if(vh(f,u.distance))return this.handleStart()}if(D0(u)&&vh(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===it.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const sF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _1 extends km{constructor(t){const{event:n}=t,r=Do(n.target);super(t,sF,r)}}_1.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const oF={move:{name:"mousemove"},end:{name:"mouseup"}};var wp;(function(e){e[e.RightClick=2]="RightClick"})(wp||(wp={}));class aF extends km{constructor(t){super(t,oF,Do(t.event.target))}}aF.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===wp.RightClick?!1:(r==null||r({event:n}),!0)}}];const xh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lF extends km{constructor(t){super(t,xh)}static setup(){return window.addEventListener(xh.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(xh.move.name,t)};function t(){}}}lF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Fa;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fa||(Fa={}));var fc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(fc||(fc={}));function uF(e){let{acceleration:t,activator:n=Fa.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:l=5,order:u=fc.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:h,delta:p,threshold:y}=e;const v=dF({delta:p,disabled:!o}),[S,w]=w4(),_=k.useRef({x:0,y:0}),E=k.useRef({x:0,y:0}),j=k.useMemo(()=>{switch(n){case Fa.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Fa.DraggableRect:return i}},[n,i,c]),C=k.useRef(null),P=k.useCallback(()=>{const A=C.current;if(!A)return;const F=_.current.x*E.current.x,Z=_.current.y*E.current.y;A.scrollBy(F,Z)},[]),M=k.useMemo(()=>u===fc.TreeOrder?[...f].reverse():f,[u,f]);k.useEffect(()=>{if(!o||!f.length||!j){w();return}for(const A of M){if((r==null?void 0:r(A))===!1)continue;const F=f.indexOf(A),Z=h[F];if(!Z)continue;const{direction:se,speed:R}=J4(A,Z,j,t,y);for(const L of["x","y"])v[L][se[L]]||(R[L]=0,se[L]=0);if(R.x>0||R.y>0){w(),C.current=A,S(P,l),_.current=R,E.current=se;return}}_.current={x:0,y:0},E.current={x:0,y:0},w()},[t,P,r,w,o,l,JSON.stringify(j),JSON.stringify(v),S,f,M,h,JSON.stringify(y)])}const cF={x:{[Xt.Backward]:!1,[Xt.Forward]:!1},y:{[Xt.Backward]:!1,[Xt.Forward]:!1}};function dF(e){let{delta:t,disabled:n}=e;const r=yp(t);return dl(i=>{if(n||!r||!i)return cF;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Xt.Backward]:i.x[Xt.Backward]||o.x===-1,[Xt.Forward]:i.x[Xt.Forward]||o.x===1},y:{[Xt.Backward]:i.y[Xt.Backward]||o.y===-1,[Xt.Forward]:i.y[Xt.Forward]||o.y===1}}},[n,t,r])}function fF(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return dl(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function hF(e,t){return k.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...o]},[]),[e,t])}var Za;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Za||(Za={}));var bp;(function(e){e.Optimized="optimized"})(bp||(bp={}));const $0=new Map;function pF(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,l]=k.useState(null),{frequency:u,measure:c,strategy:f}=i,h=k.useRef(e),p=_(),y=Qa(p),v=k.useCallback(function(E){E===void 0&&(E=[]),!y.current&&l(j=>j===null?E:j.concat(E.filter(C=>!j.includes(C))))},[y]),S=k.useRef(null),w=dl(E=>{if(p&&!n)return $0;if(!E||E===$0||h.current!==e||o!=null){const j=new Map;for(let C of e){if(!C)continue;if(o&&o.length>0&&!o.includes(C.id)&&C.rect.current){j.set(C.id,C.rect.current);continue}const P=C.node.current,M=P?new bm(c(P),P):null;C.rect.current=M,M&&j.set(C.id,M)}return j}return E},[e,o,n,p,c]);return k.useEffect(()=>{h.current=e},[e]),k.useEffect(()=>{p||v()},[n,p]),k.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),k.useEffect(()=>{p||typeof u!="number"||S.current!==null||(S.current=setTimeout(()=>{v(),S.current=null},u))},[u,p,v,...r]),{droppableRects:w,measureDroppableContainers:v,measuringScheduled:o!=null};function _(){switch(f){case Za.Always:return!1;case Za.BeforeDragging:return n;default:return!n}}}function C1(e,t){return dl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function mF(e,t){return C1(e,t)}function gF(e){let{callback:t,disabled:n}=e;const r=vm(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Uc(e){let{callback:t,disabled:n}=e;const r=vm(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function yF(e){return new bm($o(e),e)}function F0(e,t,n){t===void 0&&(t=yF);const[r,i]=k.useState(null);function o(){i(c=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=c??n)!=null?f:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const l=gF({callback(c){if(e)for(const f of c){const{type:h,target:p}=f;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){o();break}}}}),u=Uc({callback:o});return Fr(()=>{o(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function vF(e){const t=C1(e);return g1(e,t)}const z0=[];function xF(e){const t=k.useRef(e),n=dl(r=>e?r&&r!==z0&&e&&t.current&&e.parentNode===t.current.parentNode?r:wm(e):z0,[e]);return k.useEffect(()=>{t.current=e},[e]),n}function wF(e){const[t,n]=k.useState(null),r=k.useRef(e),i=k.useCallback(o=>{const l=yh(o.target);l&&n(u=>u?(u.set(l,xp(l)),new Map(u)):null)},[]);return k.useEffect(()=>{const o=r.current;if(e!==o){l(o);const u=e.map(c=>{const f=yh(c);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,xp(f)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(o)};function l(u){u.forEach(c=>{const f=yh(c);f==null||f.removeEventListener("scroll",i)})}},[i,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>bo(o,l),Er):k1(e):Er,[e,t])}function B0(e,t){t===void 0&&(t=[]);const n=k.useRef(null);return k.useEffect(()=>{n.current=null},t),k.useEffect(()=>{const r=e!==Er;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?cc(e,n.current):Er}function bF(e){k.useEffect(()=>{if(!Bc)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function kF(e,t){return k.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=l=>{o(l,t)},n},{}),[e,t])}function j1(e){return k.useMemo(()=>e?q4(e):null,[e])}const U0=[];function SF(e,t){t===void 0&&(t=$o);const[n]=e,r=j1(n?Dn(n):null),[i,o]=k.useState(U0);function l(){o(()=>e.length?e.map(c=>w1(c)?r:new bm(t(c),c)):U0)}const u=Uc({callback:l});return Fr(()=>{u==null||u.disconnect(),l(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),i}function EF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return cl(t)?t:e}function _F(e){let{measure:t}=e;const[n,r]=k.useState(null),i=k.useCallback(f=>{for(const{target:h}of f)if(cl(h)){r(p=>{const y=t(h);return p?{...p,width:y.width,height:y.height}:y});break}},[t]),o=Uc({callback:i}),l=k.useCallback(f=>{const h=EF(f);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[u,c]=uc(l);return k.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const CF=[{sensor:_1,options:{}},{sensor:E1,options:{}}],jF={current:{}},Uu={draggable:{measure:O0},droppable:{measure:O0,strategy:Za.WhileDragging,frequency:bp.Optimized},dragOverlay:{measure:$o}};class za extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const NF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new za,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:dc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uu,measureDroppableContainers:dc,windowRect:null,measuringScheduled:!1},TF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:dc,draggableNodes:new Map,over:null,measureDroppableContainers:dc},Wc=k.createContext(TF),N1=k.createContext(NF);function IF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new za}}}function PF(e,t){switch(t.type){case qt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case qt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case qt.DragEnd:case qt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case qt.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new za(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case qt.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new za(e.droppable.containers);return l.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case qt.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new za(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function AF(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=k.useContext(Wc),o=yp(r),l=yp(n==null?void 0:n.id);return k.useEffect(()=>{if(!t&&!r&&o&&l!=null){if(!xm(o)||document.activeElement===o.target)return;const u=i.get(l);if(!u)return;const{activatorNode:c,node:f}=u;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[c.current,f.current]){if(!h)continue;const p=S4(h);if(p){p.focus();break}}})}},[r,t,i,l,o]),null}function RF(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function OF(e){return k.useMemo(()=>({draggable:{...Uu.draggable,...e==null?void 0:e.draggable},droppable:{...Uu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Uu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function MF(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=k.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;Fr(()=>{if(!l&&!u||!t){o.current=!1;return}if(o.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),p=g1(h,r);if(l||(p.x=0),u||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const y=y1(f);y&&y.scrollBy({top:p.y,left:p.x})}},[t,l,u,r,n])}const T1=k.createContext({...Er,scaleX:1,scaleY:1});var Ti;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ti||(Ti={}));const LF=k.memo(function(t){var n,r,i,o;let{id:l,accessibility:u,autoScroll:c=!0,children:f,sensors:h=CF,collisionDetection:p=F4,measuring:y,modifiers:v,...S}=t;const w=k.useReducer(PF,void 0,IF),[_,E]=w,[j,C]=T4(),[P,M]=k.useState(Ti.Uninitialized),A=P===Ti.Initialized,{draggable:{active:F,nodes:Z,translate:se},droppable:{containers:R}}=_,L=F!=null?Z.get(F):null,Q=k.useRef({initial:null,translated:null}),G=k.useMemo(()=>{var gt;return F!=null?{id:F,data:(gt=L==null?void 0:L.data)!=null?gt:jF,rect:Q}:null},[F,L]),V=k.useRef(null),[$,W]=k.useState(null),[X,O]=k.useState(null),q=Qa(S,Object.values(S)),N=fl("DndDescribedBy",l),z=k.useMemo(()=>R.getEnabled(),[R]),U=OF(y),{droppableRects:I,measureDroppableContainers:ue,measuringScheduled:le}=pF(z,{dragging:A,dependencies:[se.x,se.y],config:U.droppable}),ce=fF(Z,F),we=k.useMemo(()=>X?vp(X):null,[X]),ae=gn(),be=mF(ce,U.draggable.measure);MF({activeNode:F!=null?Z.get(F):null,config:ae.layoutShiftCompensation,initialRect:be,measure:U.draggable.measure});const xe=F0(ce,U.draggable.measure,be),Ke=F0(ce?ce.parentElement:null),nt=k.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:I,draggableNodes:Z,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Je=R.getNodeFor((n=nt.current.over)==null?void 0:n.id),pt=_F({measure:U.dragOverlay.measure}),Nt=(r=pt.nodeRef.current)!=null?r:ce,We=A?(i=pt.rect)!=null?i:xe:null,mt=!!(pt.nodeRef.current&&pt.rect),En=vF(mt?null:xe),J=j1(Nt?Dn(Nt):null),oe=xF(A?Je??ce:null),de=SF(oe),_e=RF(v,{transform:{x:se.x-En.x,y:se.y-En.y,scaleX:1,scaleY:1},activatorEvent:X,active:G,activeNodeRect:xe,containerNodeRect:Ke,draggingNodeRect:We,over:nt.current.over,overlayNodeRect:pt.rect,scrollableAncestors:oe,scrollableAncestorRects:de,windowRect:J}),ve=we?bo(we,se):null,D=wF(oe),te=B0(D),Y=B0(D,[xe]),ee=bo(_e,te),ge=We?U4(We,_e):null,Ie=G&&ge?p({active:G,collisionRect:ge,droppableRects:I,droppableContainers:z,pointerCoordinates:ve}):null,De=L4(Ie,"id"),[ke,lt]=k.useState(null),at=mt?_e:bo(_e,Y),Ve=z4(at,(o=ke==null?void 0:ke.rect)!=null?o:null,xe),wt=k.useRef(null),Ze=k.useCallback((gt,He)=>{let{sensor:rt,options:et}=He;if(V.current==null)return;const bt=Z.get(V.current);if(!bt)return;const nn=gt.nativeEvent,_n=new rt({active:V.current,activeNode:bt,event:nn,options:et,context:nt,onAbort(Et){if(!Z.get(Et))return;const{onDragAbort:rn}=q.current,ar={id:Et};rn==null||rn(ar),j({type:"onDragAbort",event:ar})},onPending(Et,Jn,rn,ar){if(!Z.get(Et))return;const{onDragPending:_r}=q.current,$n={id:Et,constraint:Jn,initialCoordinates:rn,offset:ar};_r==null||_r($n),j({type:"onDragPending",event:$n})},onStart(Et){const Jn=V.current;if(Jn==null)return;const rn=Z.get(Jn);if(!rn)return;const{onDragStart:ar}=q.current,lr={activatorEvent:nn,active:{id:Jn,data:rn.data,rect:Q}};qn.unstable_batchedUpdates(()=>{ar==null||ar(lr),M(Ti.Initializing),E({type:qt.DragStart,initialCoordinates:Et,active:Jn}),j({type:"onDragStart",event:lr}),W(wt.current),O(nn)})},onMove(Et){E({type:qt.DragMove,coordinates:Et})},onEnd:Wr(qt.DragEnd),onCancel:Wr(qt.DragCancel)});wt.current=_n;function Wr(Et){return async function(){const{active:rn,collisions:ar,over:lr,scrollAdjustedTranslate:_r}=nt.current;let $n=null;if(rn&&_r){const{cancelDrop:Hr}=q.current;$n={activatorEvent:nn,active:rn,collisions:ar,delta:_r,over:lr},Et===qt.DragEnd&&typeof Hr=="function"&&await Promise.resolve(Hr($n))&&(Et=qt.DragCancel)}V.current=null,qn.unstable_batchedUpdates(()=>{E({type:Et}),M(Ti.Uninitialized),lt(null),W(null),O(null),wt.current=null;const Hr=Et===qt.DragEnd?"onDragEnd":"onDragCancel";if($n){const Fo=q.current[Hr];Fo==null||Fo($n),j({type:Hr,event:$n})}})}}},[Z]),Ut=k.useCallback((gt,He)=>(rt,et)=>{const bt=rt.nativeEvent,nn=Z.get(et);if(V.current!==null||!nn||bt.dndKit||bt.defaultPrevented)return;const _n={active:nn};gt(rt,He.options,_n)===!0&&(bt.dndKit={capturedBy:He.sensor},V.current=et,Ze(rt,He))},[Z,Ze]),Tt=hF(h,Ut);bF(h),Fr(()=>{xe&&P===Ti.Initializing&&M(Ti.Initialized)},[xe,P]),k.useEffect(()=>{const{onDragMove:gt}=q.current,{active:He,activatorEvent:rt,collisions:et,over:bt}=nt.current;if(!He||!rt)return;const nn={active:He,activatorEvent:rt,collisions:et,delta:{x:ee.x,y:ee.y},over:bt};qn.unstable_batchedUpdates(()=>{gt==null||gt(nn),j({type:"onDragMove",event:nn})})},[ee.x,ee.y]),k.useEffect(()=>{const{active:gt,activatorEvent:He,collisions:rt,droppableContainers:et,scrollAdjustedTranslate:bt}=nt.current;if(!gt||V.current==null||!He||!bt)return;const{onDragOver:nn}=q.current,_n=et.get(De),Wr=_n&&_n.rect.current?{id:_n.id,rect:_n.rect.current,data:_n.data,disabled:_n.disabled}:null,Et={active:gt,activatorEvent:He,collisions:rt,delta:{x:bt.x,y:bt.y},over:Wr};qn.unstable_batchedUpdates(()=>{lt(Wr),nn==null||nn(Et),j({type:"onDragOver",event:Et})})},[De]),Fr(()=>{nt.current={activatorEvent:X,active:G,activeNode:ce,collisionRect:ge,collisions:Ie,droppableRects:I,draggableNodes:Z,draggingNode:Nt,draggingNodeRect:We,droppableContainers:R,over:ke,scrollableAncestors:oe,scrollAdjustedTranslate:ee},Q.current={initial:We,translated:ge}},[G,ce,Ie,ge,Z,Nt,We,I,R,ke,oe,ee]),uF({...ae,delta:se,draggingRect:ge,pointerCoordinates:ve,scrollableAncestors:oe,scrollableAncestorRects:de});const mn=k.useMemo(()=>({active:G,activeNode:ce,activeNodeRect:xe,activatorEvent:X,collisions:Ie,containerNodeRect:Ke,dragOverlay:pt,draggableNodes:Z,droppableContainers:R,droppableRects:I,over:ke,measureDroppableContainers:ue,scrollableAncestors:oe,scrollableAncestorRects:de,measuringConfiguration:U,measuringScheduled:le,windowRect:J}),[G,ce,xe,X,Ie,Ke,pt,Z,R,I,ke,ue,oe,de,U,le,J]),st=k.useMemo(()=>({activatorEvent:X,activators:Tt,active:G,activeNodeRect:xe,ariaDescribedById:{draggable:N},dispatch:E,draggableNodes:Z,over:ke,measureDroppableContainers:ue}),[X,Tt,G,xe,E,N,Z,ke,ue]);return Se.createElement(m1.Provider,{value:C},Se.createElement(Wc.Provider,{value:st},Se.createElement(N1.Provider,{value:mn},Se.createElement(T1.Provider,{value:Ve},f)),Se.createElement(AF,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Se.createElement(A4,{...u,hiddenTextDescribedById:N}));function gn(){const gt=($==null?void 0:$.autoScrollEnabled)===!1,He=typeof c=="object"?c.enabled===!1:c===!1,rt=A&&!gt&&!He;return typeof c=="object"?{...c,enabled:rt}:{enabled:rt}}}),DF=k.createContext(null),W0="button",$F="Draggable";function FF(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=fl($F),{activators:l,activatorEvent:u,active:c,activeNodeRect:f,ariaDescribedById:h,draggableNodes:p,over:y}=k.useContext(Wc),{role:v=W0,roleDescription:S="draggable",tabIndex:w=0}=i??{},_=(c==null?void 0:c.id)===t,E=k.useContext(_?T1:DF),[j,C]=uc(),[P,M]=uc(),A=kF(l,t),F=Qa(n);Fr(()=>(p.set(t,{id:t,key:o,node:j,activatorNode:P,data:F}),()=>{const se=p.get(t);se&&se.key===o&&p.delete(t)}),[p,t]);const Z=k.useMemo(()=>({role:v,tabIndex:w,"aria-disabled":r,"aria-pressed":_&&v===W0?!0:void 0,"aria-roledescription":S,"aria-describedby":h.draggable}),[r,v,w,_,S,h.draggable]);return{active:c,activatorEvent:u,activeNodeRect:f,attributes:Z,isDragging:_,listeners:r?void 0:A,node:j,over:y,setNodeRef:C,setActivatorNodeRef:M,transform:E}}function zF(){return k.useContext(N1)}const BF="Droppable",UF={timeout:25};function WF(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=fl(BF),{active:l,dispatch:u,over:c,measureDroppableContainers:f}=k.useContext(Wc),h=k.useRef({disabled:n}),p=k.useRef(!1),y=k.useRef(null),v=k.useRef(null),{disabled:S,updateMeasurementsFor:w,timeout:_}={...UF,...i},E=Qa(w??r),j=k.useCallback(()=>{if(!p.current){p.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(E.current)?E.current:[E.current]),v.current=null},_)},[_]),C=Uc({callback:j,disabled:S||!l}),P=k.useCallback((Z,se)=>{C&&(se&&(C.unobserve(se),p.current=!1),Z&&C.observe(Z))},[C]),[M,A]=uc(P),F=Qa(t);return k.useEffect(()=>{!C||!M.current||(C.disconnect(),p.current=!1,C.observe(M.current))},[M,C]),k.useEffect(()=>(u({type:qt.RegisterDroppable,element:{id:r,key:o,disabled:n,node:M,rect:y,data:F}}),()=>u({type:qt.UnregisterDroppable,key:o,id:r})),[r]),k.useEffect(()=>{n!==h.current.disabled&&(u({type:qt.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,u]),{active:l,rect:y,isOver:(c==null?void 0:c.id)===r,node:M,over:c,setNodeRef:A}}function I1(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function HF(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function Ru(e){return e!==null&&e>=0}function VF(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function qF(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const P1=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=I1(t,r,n),l=t[i],u=o[i];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},Ou={scaleX:1,scaleY:1},YF=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:l}=e;const u=(t=o[n])!=null?t:r;if(!u)return null;if(i===n){const f=o[l];return f?{x:0,y:n<l?f.top+f.height-(u.top+u.height):f.top-u.top,...Ou}:null}const c=KF(o,i,n);return i>n&&i<=l?{x:0,y:-u.height-c,...Ou}:i<n&&i>=l?{x:0,y:u.height+c,...Ou}:{x:0,y:0,...Ou}};function KF(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const A1="Sortable",R1=Se.createContext({activeIndex:-1,containerId:A1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:P1,disabled:{draggable:!1,droppable:!1}});function GF(e){let{children:t,id:n,items:r,strategy:i=P1,disabled:o=!1}=e;const{active:l,dragOverlay:u,droppableRects:c,over:f,measureDroppableContainers:h}=zF(),p=fl(A1,n),y=u.rect!==null,v=k.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),S=l!=null,w=l?v.indexOf(l.id):-1,_=f?v.indexOf(f.id):-1,E=k.useRef(v),j=!VF(v,E.current),C=_!==-1&&w===-1||j,P=qF(o);Fr(()=>{j&&S&&h(v)},[j,v,S,h]),k.useEffect(()=>{E.current=v},[v]);const M=k.useMemo(()=>({activeIndex:w,containerId:p,disabled:P,disableTransforms:C,items:v,overIndex:_,useDragOverlay:y,sortedRects:HF(v,c),strategy:i}),[w,p,P.draggable,P.droppable,C,v,_,c,y,i]);return Se.createElement(R1.Provider,{value:M},t)}const JF=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return I1(n,r,i).indexOf(t)},QF=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:l,previousItems:u,previousContainerId:c,transition:f}=e;return!f||!r||u!==o&&i===l?!1:n?!0:l!==i&&t===c},XF={duration:200,easing:"ease"},O1="transform",ZF=Xa.Transition.toString({property:O1,duration:0,easing:"linear"}),e3={roleDescription:"sortable"};function t3(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,l]=k.useState(null),u=k.useRef(n);return Fr(()=>{if(!t&&n!==u.current&&r.current){const c=i.current;if(c){const f=$o(r.current,{ignoreTransform:!0}),h={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(h.x||h.y)&&l(h)}}n!==u.current&&(u.current=n)},[t,n,r,i]),k.useEffect(()=>{o&&l(null)},[o]),o}function n3(e){let{animateLayoutChanges:t=QF,attributes:n,disabled:r,data:i,getNewIndex:o=JF,id:l,strategy:u,resizeObserverConfig:c,transition:f=XF}=e;const{items:h,containerId:p,activeIndex:y,disabled:v,disableTransforms:S,sortedRects:w,overIndex:_,useDragOverlay:E,strategy:j}=k.useContext(R1),C=r3(r,v),P=h.indexOf(l),M=k.useMemo(()=>({sortable:{containerId:p,index:P,items:h},...i}),[p,i,P,h]),A=k.useMemo(()=>h.slice(h.indexOf(l)),[h,l]),{rect:F,node:Z,isOver:se,setNodeRef:R}=WF({id:l,data:M,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:L,activatorEvent:Q,activeNodeRect:G,attributes:V,setNodeRef:$,listeners:W,isDragging:X,over:O,setActivatorNodeRef:q,transform:N}=FF({id:l,data:M,attributes:{...e3,...n},disabled:C.draggable}),z=x4(R,$),U=!!L,I=U&&!S&&Ru(y)&&Ru(_),ue=!E&&X,le=ue&&I?N:null,we=I?le??(u??j)({rects:w,activeNodeRect:G,activeIndex:y,overIndex:_,index:P}):null,ae=Ru(y)&&Ru(_)?o({id:l,items:h,activeIndex:y,overIndex:_}):P,be=L==null?void 0:L.id,xe=k.useRef({activeId:be,items:h,newIndex:ae,containerId:p}),Ke=h!==xe.current.items,nt=t({active:L,containerId:p,isDragging:X,isSorting:U,id:l,index:P,items:h,newIndex:xe.current.newIndex,previousItems:xe.current.items,previousContainerId:xe.current.containerId,transition:f,wasDragging:xe.current.activeId!=null}),Je=t3({disabled:!nt,index:P,node:Z,rect:F});return k.useEffect(()=>{U&&xe.current.newIndex!==ae&&(xe.current.newIndex=ae),p!==xe.current.containerId&&(xe.current.containerId=p),h!==xe.current.items&&(xe.current.items=h)},[U,ae,p,h]),k.useEffect(()=>{if(be===xe.current.activeId)return;if(be&&!xe.current.activeId){xe.current.activeId=be;return}const Nt=setTimeout(()=>{xe.current.activeId=be},50);return()=>clearTimeout(Nt)},[be]),{active:L,activeIndex:y,attributes:V,data:M,rect:F,index:P,newIndex:ae,items:h,isOver:se,isSorting:U,isDragging:X,listeners:W,node:Z,overIndex:_,over:O,setNodeRef:z,setActivatorNodeRef:q,setDroppableNodeRef:R,setDraggableNodeRef:$,transform:Je??we,transition:pt()};function pt(){if(Je||Ke&&xe.current.newIndex===P)return ZF;if(!(ue&&!xm(Q)||!f)&&(U||nt))return Xa.Transition.toString({...f,property:O1})}}function r3(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}it.Down,it.Right,it.Up,it.Left;function hc(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return hc(t,t);const i=Number(r[1]),o=Number(r[2]);return Number.isNaN(i)||Number.isNaN(o)?hc(t,t):(i*60+o)%1440}function kp(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,i=n.toString().padStart(2,"0"),o=r.toString().padStart(2,"0");return`${i}:${o}`}const H0={present:"Presente",absent:"Ausente",pending:"Pendiente"};function M1({work:e,objective:t,parentChain:n,onSelect:r}){const i=(e.subtitle??"").trim();return g.jsxs("button",{type:"button",onClick:()=>r(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),i?g.jsx("p",{className:"text-xs text-white/60",children:i}):null,g.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]}),n?g.jsxs("p",{className:"text-[11px] text-white/40",children:["Deriva de ",n]}):null]}),g.jsx($i,{objective:t,size:"sm"})]})}function i3({item:e,work:t,objective:n,expanded:r,isPersonal:i,onToggleExpanded:o,onRemove:l,onDuplicate:u,onUpdateDetails:c,onReplace:f,startTimeLabel:h,durationMinutes:p,works:y,objectiveMap:v,workPathById:S}){const{attributes:w,listeners:_,setNodeRef:E,transform:j,transition:C,isDragging:P}=n3({id:e.id}),[M,A]=k.useState(!1),[F,Z]=k.useState(""),se={transform:Xa.Transform.toString(j),transition:C},L=(e.focusLabel??"").trim(),Q=L.length>0,G=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",V=G.trim().length>0,$=((t==null?void 0:t.videoUrls)??[]).map(ae=>ae.trim()).filter(Boolean),W=$.length>0,X=V||W,q=(t!=null&&t.id?S.get(t.id)??(t==null?void 0:t.name)??"":"").split("  ").slice(0,-1).join("  "),N=((t==null?void 0:t.subtitle)??"").trim(),z=ae=>{const be=ae.target.value;c(e.id,{focusLabel:be===""?void 0:be})},U=F.trim().toLowerCase(),I=k.useMemo(()=>y.filter(ae=>ae.id!==(t==null?void 0:t.id)),[y,t==null?void 0:t.id]),ue=k.useMemo(()=>U?I.filter(ae=>{var pt;const be=(ae.subtitle??"").toLowerCase(),xe=((pt=v.get(ae.objectiveId))==null?void 0:pt.name.toLowerCase())??"",Ke=(S.get(ae.id)??"").toLowerCase(),nt=(ae.descriptionMarkdown??"").toLowerCase(),Je=U;return ae.name.toLowerCase().includes(Je)||be.includes(Je)||nt.includes(Je)||xe.includes(Je)||Ke.includes(Je)}):[],[I,U,v,S]);k.useEffect(()=>{M||Z("")},[M]);const le=I.length>0,ce=e.effort??6,we=e.result;return g.jsxs("article",{ref:E,style:se,className:Ae("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",P&&"ring-2 ring-sky-400/70"),children:[n?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",..._,...w,"aria-label":"Reordenar trabajo",children:""}),g.jsx("div",{className:"flex-1 space-y-1",children:g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",Q?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",L]}):null]}),N?g.jsx("p",{className:"text-sm text-white/70",children:N}):null,q?g.jsxs("p",{className:"text-xs text-white/50",children:["Deriva de ",q]}):null,g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:h}),g.jsx("span",{className:"text-white/30",children:""}),g.jsxs("span",{children:[p," min"]})]}),g.jsxs("div",{className:"max-w-md",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),g.jsx("input",{type:"text",value:e.focusLabel??"",onChange:z,placeholder:"Ej. 1/7  Apertura",className:"input-field mt-1"})]}),i?g.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:["ok","doubt","fail"].map(ae=>g.jsx("button",{type:"button",onClick:()=>c(e.id,{result:ae,completed:!0}),className:Ae("rounded-full border px-3 py-1 text-xs font-semibold transition",we===ae?ae==="ok"?"border-emerald-500/60 bg-emerald-500/20 text-emerald-200":ae==="doubt"?"border-amber-400/50 bg-amber-500/15 text-amber-200":"border-rose-500/60 bg-rose-500/15 text-rose-200":"border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:ae==="ok"?"OK":ae==="doubt"?"Dudosa":"Fallo"},ae))}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"RPE"}),g.jsx("input",{type:"number",min:1,max:10,value:ce,onChange:ae=>{const be=Number(ae.target.value),xe=Number.isFinite(be)?Math.min(Math.max(be,1),10):6;c(e.id,{effort:xe,completed:!0})},className:"input-field w-20 text-center"})]})]}):null]}),g.jsxs("div",{className:"flex items-center gap-2",children:[X?g.jsxs("button",{type:"button",onClick:()=>o(e.id),className:Ae("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[g.jsx("span",{className:Ae("transition-transform",r?"rotate-90":"rotate-0"),children:""}),r?"Ocultar detalles":"Ver detalles"]}):null,g.jsx($i,{objective:n,size:"sm"})]})]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:()=>A(ae=>!ae),disabled:!le,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categora","aria-expanded":M,children:""}),g.jsx("button",{type:"button",onClick:u,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white","aria-label":"Duplicar trabajo en la sesin",children:"x2"}),g.jsx("button",{type:"button",onClick:l,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesin",children:""})]})]}),M?g.jsx("div",{className:"mt-3 space-y-3 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Buscar en el catlogo"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"search",className:"input-field",placeholder:"Buscar en el catlogo",value:F,onChange:ae=>Z(ae.target.value)}),F?g.jsx("div",{className:"absolute top-14 z-10 max-h-60 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:ue.length===0?g.jsx("p",{className:"p-3 text-sm text-white/50",children:"Sin resultados. Ajusta la bsqueda."}):g.jsx("div",{className:"space-y-2",children:ue.map(ae=>{const xe=(S.get(ae.id)??ae.name).split("  ").slice(0,-1).join("  ");return g.jsx(M1,{work:ae,objective:v.get(ae.objectiveId),parentChain:xe,onSelect:Ke=>{f(Ke),A(!1),Z("")}},ae.id)})})}):null]}),F?null:g.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"Escribe para encontrar un reemplazo. Se mostrarn resultados coincidentes del catlogo."})]})}):null,X&&r?g.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[V?g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsx(ws,{content:G,enableWorkLinks:!0})})]}):null,W?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de referencia"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(ae=>g.jsxs("a",{href:ae,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:""}),"Ver vdeo"]},ae))})]}):null]}):null,g.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function L1({session:e,works:t,objectives:n,assistants:r,onDateChange:i}){const o=Ee(L=>L.updateSession),l=Ee(L=>L.addWorkToSession),u=Ee(L=>L.duplicateSessionWork),c=Ee(L=>L.removeWorkFromSession),f=Ee(L=>L.reorderSessionWork),h=Ee(L=>L.updateSessionWorkDetails),p=Ee(L=>L.replaceSessionWork),y=Ee(L=>L.setAttendanceStatus),v=e.kind==="personal",[S,w]=k.useState(""),[_,E]=k.useState(new Set),j=k.useMemo(()=>new Map(n.map(L=>[L.id,L])),[n]),C=k.useMemo(()=>new Map(t.map(L=>[L.id,L])),[t]),P=k.useMemo(()=>{const L=new Map,Q=(G,V)=>{if(L.has(G))return L.get(G);const $=C.get(G);if(!$)return"";const W=$.parentWorkId;if(!W||V.has(G))return L.set(G,$.name),$.name;V.add(G);const X=Q(W,V);V.delete(G);const O=X?`${X}  ${$.name}`:$.name;return L.set(G,O),O};return t.forEach(G=>Q(G.id,new Set)),L},[t,C]),M=k.useMemo(()=>{if(!S)return t;const L=S.toLowerCase();return t.filter(Q=>{const G=j.get(Q.objectiveId),V=P.get(Q.id)??"";return Q.name.toLowerCase().includes(L)||Q.descriptionMarkdown.toLowerCase().includes(L)||(G==null?void 0:G.name.toLowerCase().includes(L))||V.toLowerCase().includes(L)})},[t,S,j,P]),A=k.useCallback(L=>{const Q=P.get(L);if(!Q)return"";const G=Q.split("  ");return G.pop(),G.join("  ")},[P]),F=L=>{E(Q=>{const G=new Set(Q);return G.has(L)?G.delete(L):G.add(L),G})},Z=L=>{l(e.id,{workId:L}),w("")},se=L=>{const{active:Q,over:G}=L;if(!G||Q.id===G.id)return;const V=e.workItems.findIndex(W=>W.id===Q.id),$=e.workItems.findIndex(W=>W.id===G.id);V===-1||$===-1||f(e.id,V,$)},R=L=>Q=>{const G=Q.target.value;o(e.id,{[L]:G}),L==="date"&&i&&i(G)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Ttulo"}),g.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:R("title"),placeholder:"Nombre de la sesin"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),g.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:R("date")})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),g.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:R("startTime")})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:R("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),g.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:R("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesin"}),g.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa  para ajustar detalles."})]}),g.jsxs("div",{className:"relative w-full sm:w-72",children:[g.jsx("input",{type:"search",className:"input-field",value:S,onChange:L=>w(L.target.value),placeholder:"Buscar en catlogo"}),S&&g.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:M.length===0?g.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catlogo."}):g.jsx("div",{className:"space-y-2",children:M.map(L=>g.jsx(M1,{work:L,objective:j.get(L.objectiveId),parentChain:A(L.id),onSelect:Z},L.id))})})]})]}),g.jsx("div",{className:"space-y-4",children:g.jsx(LF,{collisionDetection:D4,onDragEnd:se,children:g.jsx(GF,{items:e.workItems.map(L=>L.id),strategy:YF,children:g.jsx("div",{className:"space-y-5",children:e.workItems.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Aade trabajos desde el catlogo con el buscador superior."}):(()=>{let L=0;const Q=hc(e.startTime,"18:30");return e.workItems.map(G=>{const V=C.get(G.workId),$=V?j.get(V.objectiveId):void 0,W=G.customDurationMinutes??(V==null?void 0:V.estimatedMinutes)??0,X=kp(Q+L);return L+=W,g.jsx(i3,{item:G,work:V,objective:$,expanded:_.has(G.id),isPersonal:v,onToggleExpanded:F,onRemove:()=>c(e.id,G.id),onDuplicate:()=>u(e.id,G.id),onUpdateDetails:(O,q)=>h(e.id,O,q),onReplace:O=>p(e.id,G.id,O),startTimeLabel:X,durationMinutes:W,works:t,objectiveMap:j,workPathById:P},G.id)})})()})})})})]}),v?null:g.jsxs("section",{className:"space-y-4",children:[g.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsin de asistencia"}),g.jsx("p",{className:"text-sm text-white/60",children:"Indica quin esperas que asista. La asistencia real se marca durante la sesin desde la Home."})]})}),g.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"An no tienes asistentes definidos. Adelos desde la seccin correspondiente para empezar a registrar asistencia."}):r.map(L=>{const Q=e.attendance.find($=>$.assistantId===L.id),G=(Q==null?void 0:Q.status)??"pending",V=Q==null?void 0:Q.actualStatus;return g.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:L.name}),L.notes?g.jsx("p",{className:"text-xs text-white/50",children:L.notes}):null,V?g.jsxs("p",{className:"text-xs text-white/40",children:["ltimo registro real: ",H0[V]]}):null]}),g.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map($=>g.jsx("button",{type:"button",onClick:()=>y(e.id,L.id,$),className:Ae("rounded-full px-3 py-1 text-xs font-semibold transition",G===$?$==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":$==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:H0[$]},$))})]},L.id)})})]})]})}function s3(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function o3(e){const t=s3(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(i,o)=>t.add(r*7+o,"day")))}function Mu(e,t){return Be(e).format("YYYY-MM-DD")===Be(t).format("YYYY-MM-DD")}Be.locale("es");const a3={present:"Presente",absent:"Ausente",pending:"Pendiente"},l3={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},u3=["present","absent"],c3={present:"Han venido",absent:"Faltan"},d3={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},f3="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",h3="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",p3="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",m3="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",g3="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",y3="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",v3=[];function x3(e){return Be(e).locale("es").format("dddd, D [de] MMMM")}function w3(e){return Be(e).format("MMMM YYYY")}function V0({mode:e,onChange:t}){return g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 p-1",children:[g.jsx("button",{type:"button",className:Ae("rounded-full px-4 py-2 text-sm font-semibold transition",e==="view"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="view"&&t("view")},children:"Vista"}),g.jsx("button",{type:"button",className:Ae("rounded-full px-4 py-2 text-sm font-semibold transition",e==="edit"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="edit"&&t("edit")},children:"Editar"})]})}function b3({session:e,objectives:t,works:n,isActive:r,onSelect:i,onDuplicate:o,onDelete:l}){const u=k.useMemo(()=>new Map(t.map(p=>[p.id,p])),[t]),c=k.useMemo(()=>new Map(n.map(p=>[p.id,p])),[n]),f=k.useMemo(()=>{const p=e.workItems[0];if(!p)return;const y=c.get(p.workId);if(y)return u.get(y.objectiveId)},[e.workItems,c,u]),h=e.workItems.reduce((p,y)=>{const v=c.get(y.workId);return p+(y.customDurationMinutes??(v==null?void 0:v.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:i,className:Ae("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesin sin ttulo"}),g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos  ",h," min"]})]}),g.jsx($i,{objective:f,size:"sm"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(p=>{const y=c.get(p.workId),v=((y==null?void 0:y.subtitle)??"").trim();return g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:v?`${(y==null?void 0:y.name)??"Trabajo"}  ${v}`:(y==null?void 0:y.name)??"Trabajo"},p.id)}),e.workItems.length>3?g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx($i,{objective:f,size:"sm"}),g.jsxs("div",{className:"ml-auto flex gap-2",children:[g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function k3(){const e=Ee(D=>D.sessions).filter(D=>D.kind==="class"),t=Ee(D=>D.works),n=Ee(D=>D.objectives),r=Ee(D=>D.assistants),i=Ee(D=>D.addSession),o=Ee(D=>D.duplicateSession),l=Ee(D=>D.deleteSession),u=Ee(D=>D.setAttendanceActualStatus),c=Ee(D=>D.toggleSessionWorkCompletion),[f,h]=Np(),p=f.get("session")??void 0,y=f.get("mode")==="edit"?"edit":"view",[v,S]=k.useState(()=>y==="edit"),[w,_]=k.useState(new Set),E=k.useMemo(()=>[...e].sort((D,te)=>Be(D.date).valueOf()-Be(te.date).valueOf()),[e]),j=Be().format("YYYY-MM-DD"),C=k.useMemo(()=>E.find(D=>D.date>=j)??E[E.length-1],[E,j]),[P,M]=k.useState(()=>p&&e.some(D=>D.id===p)?p:C==null?void 0:C.id),A=D=>{const te=new URLSearchParams(f);D==="edit"?te.set("mode","edit"):te.delete("mode"),h(te,{replace:!0})};k.useEffect(()=>{p&&e.some(D=>D.id===p)&&M(p)},[p,e]),k.useEffect(()=>{if(!(P&&e.some(D=>D.id===P))){if(p&&e.some(D=>D.id===p)){M(p);return}M(C==null?void 0:C.id)}},[P,p,e,C]);const F=k.useMemo(()=>P?E.find(D=>D.id===P)??C:C,[E,P,C]),Z=D=>{const te=new URLSearchParams(f);D?te.set("session",D):te.delete("session"),h(te,{replace:!0})},se=D=>{M(D),Z(D)},R=(F==null?void 0:F.date)??j,[L,Q]=k.useState(R),[G,V]=k.useState(Be(R).startOf("month").format("YYYY-MM-DD"));k.useEffect(()=>{F&&(Q(F.date),V(Be(F.date).startOf("month").format("YYYY-MM-DD")))},[F]);const $=k.useMemo(()=>{const D=new Map;return e.forEach(te=>{const Y=Be(te.date).format("YYYY-MM-DD"),ee=D.get(Y)??[];ee.push(te),D.set(Y,ee)}),D.forEach(te=>te.sort((Y,ee)=>(Y.title??"").localeCompare(ee.title??"","es"))),D},[e]),W=k.useMemo(()=>$.get(L)??[],[$,L]),X=k.useMemo(()=>o3(Be(G)),[G]),O=k.useMemo(()=>{const D=Be(G);return e.filter(te=>{const Y=Be(te.date);return Y.year()===D.year()&&Y.month()===D.month()}).sort((te,Y)=>Be(te.date).valueOf()-Be(Y.date).valueOf())},[e,G]),q=k.useMemo(()=>{const D=new Map;return O.forEach(te=>{const Y=Be(te.date).format("YYYY-MM-DD"),ee=D.get(Y)??[];ee.push(te),D.set(Y,ee)}),Array.from(D.entries()).sort((te,Y)=>Be(te[0]).valueOf()-Be(Y[0]).valueOf()).map(([te,Y])=>({date:te,sessions:Y.slice().sort((ee,ge)=>(ee.title??"").localeCompare(ge.title??"","es"))}))},[O]),N=D=>{Q(D),V(Be(D).startOf("month").format("YYYY-MM-DD"));const te=$.get(D)??[];te.length>0?se(te[0].id):se(void 0)},z=()=>{const D=i({date:L,title:"Nueva sesin",description:"",notes:""});se(D.id)},U=D=>{const te=o(D,L);te&&se(te.id)},I=D=>{l(D),P===D&&se(void 0)},ue=D=>{const te=Be(G).add(D,"month");V(te.format("YYYY-MM-DD")),Q(Y=>{const ee=Be(Y);return ee.month()===te.month()&&ee.year()===te.year()?Y:te.startOf("month").format("YYYY-MM-DD")})},le=k.useMemo(()=>new Map(n.map(D=>[D.id,D])),[n]),ce=k.useMemo(()=>new Map(t.map(D=>[D.id,D])),[t]),we=E.length===0,ae=k.useMemo(()=>r.filter(D=>D.active).slice().sort((D,te)=>D.name.localeCompare(te.name,"es",{sensitivity:"base"})),[r]),be=(F==null?void 0:F.attendance)??v3,xe=k.useMemo(()=>{const D=new Map;be.forEach(ee=>{D.set(ee.assistantId,ee)});let te=0;ae.forEach(ee=>{var ge;((ge=D.get(ee.id))==null?void 0:ge.actualStatus)==="present"&&(te+=1)});const Y={present:te,absent:Math.max(ae.length-te,0)};return{map:D,summary:Y}},[be,ae]),Ke=xe.map,nt=xe.summary,Je=k.useMemo(()=>hc(F==null?void 0:F.startTime,"18:30"),[F==null?void 0:F.startTime]),pt=k.useMemo(()=>{if(!F)return new Map;let D=0;const te=new Map;return F.workItems.forEach(Y=>{const ee=ce.get(Y.workId),ge=Y.customDurationMinutes??(ee==null?void 0:ee.estimatedMinutes)??0,Ie=kp(Je+D);te.set(Y.id,{startLabel:Ie,duration:ge}),D+=ge}),te},[F,ce,Je]),Nt=F?E.findIndex(D=>D.id===F.id):-1,We=Nt>0,mt=Nt>=0&&Nt<E.length-1,En=()=>{We&&se(E[Nt-1].id)},J=()=>{mt&&se(E[Nt+1].id)},oe=D=>{const te=D.target.value;if(!te)return;N(te);const Y=$.get(te);Y&&Y.length>0&&se(Y[0].id)},de=D=>{_(te=>{const Y=new Set(te);return Y.has(D)?Y.delete(D):Y.add(D),Y})},_e=(D,te)=>{F&&u(F.id,D,te)},ve=v?g.jsxs("section",{className:"glass-panel space-y-6 p-6",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Calendario"}),g.jsx("h2",{className:"text-xl font-semibold text-white",children:w3(G)})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ue(-1),children:" Mes anterior"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ue(1),children:"Mes siguiente "})]})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.3fr_1.7fr]",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(D=>g.jsx("div",{className:"rounded-full bg-white/5 py-2",children:D},D))}),g.jsx("div",{className:"grid grid-cols-7 gap-2",children:X.flat().map(D=>{const te=D.format("YYYY-MM-DD"),Y=$.get(te)??[],ee=D.month()===Be(G).month(),ge=Mu(te,j),Ie=Mu(te,L);return g.jsxs("button",{type:"button",onClick:()=>N(te),className:Ae("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",Ie?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!ee&&"text-white/30"),children:[g.jsx("span",{className:Ae("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",ge?"bg-white text-slate-900":""),children:D.format("D")}),g.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[Y.slice(0,3).map(De=>{const ke=De.workItems[0],lt=ke?t.find(Ve=>Ve.id===ke.workId):void 0,at=lt?n.find(Ve=>Ve.id===lt.objectiveId):void 0;return g.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(at==null?void 0:at.colorHex)??"rgba(255,255,255,0.4)"}},De.id)}),Y.length>3?g.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},te)})})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),g.jsx("h3",{className:"text-2xl font-semibold text-white",children:Be(L).format("dddd, D [de] MMMM")})]}),g.jsx("div",{className:"flex gap-3",children:g.jsx("button",{type:"button",onClick:z,className:"btn-primary",children:"+ Nueva sesin"})})]}),g.jsx("div",{className:"space-y-3",children:W.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"An no hay sesiones planificadas este da. Crea una con el botn superior."}):W.map(D=>g.jsx(b3,{session:D,objectives:n,works:t,isActive:D.id===(F==null?void 0:F.id),onSelect:()=>se(D.id),onDuplicate:()=>U(D.id),onDelete:()=>I(D.id)},D.id))}),q.length>0?g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:["Ver sesiones del mes (",O.length,")"]}),g.jsx("div",{className:"custom-scrollbar mt-3 max-h-[22rem] space-y-3 overflow-y-auto pr-1",children:q.map(({date:D,sessions:te})=>{const Y=te.length===1?"1 sesin":`${te.length} sesiones`;return g.jsxs("div",{role:"button",tabIndex:0,onClick:()=>N(D),onKeyDown:ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),N(D))},className:Ae("cursor-pointer rounded-2xl border border-white/10 bg-white/5 p-3 text-sm transition hover:border-white/40 hover:bg-white/10",Mu(D,L)&&"border-sky-400/50 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsxs("p",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{children:Be(D).format("ddd  D MMM")}),g.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-[9px] font-semibold tracking-[0.2em] text-white/50",children:Y})]}),g.jsx("div",{className:"mt-3 space-y-2 text-xs",children:te.map(ee=>{const ge=(ee.description??"").trim(),Ie=ee.workItems.reduce((De,ke)=>{const lt=t.find(at=>at.id===ke.workId);return De+(ke.customDurationMinutes??(lt==null?void 0:lt.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:De=>{De.stopPropagation(),N(D),se(ee.id)},className:Ae("flex w-full flex-col gap-1 rounded-xl border border-white/10 bg-slate-950/60 px-3 py-2 text-left transition hover:border-white/30 hover:text-white",ee.id===(F==null?void 0:F.id)&&Mu(D,L)&&"border-sky-400/60 text-white"),children:[g.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[g.jsx("span",{className:"truncate font-medium",children:ee.title||"Sesin sin ttulo"}),g.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-white/40",children:[ee.workItems.length,"  ",Ie," min"]})]}),ge?g.jsx("p",{className:"text-[11px] leading-relaxed text-white/60",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ge}):null]},ee.id)})})]},D)})})]}):null]})]})]}):null;return g.jsxs("div",{className:"space-y-6",children:[we||!F?g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end",children:[g.jsx(V0,{mode:y,onChange:A}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>S(D=>!D),children:v?"Ocultar calendario":"Abrir calendario"})]}):null,ve,we?g.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[g.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:g.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:g.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-lg font-semibold text-white sm:text-2xl",children:"An no hay sesiones"}),g.jsx("p",{className:"mx-auto max-w-md text-sm text-white/60 sm:text-base",children:"Crea tu primera sesin en el calendario y empieza a construir tu plan reutilizable."})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>S(!0),children:"Abrir calendario"})]}):F?g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[g.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{className:"sm:hidden",children:"Sesin"}),g.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),g.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:x3(F.date)}),g.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:F.title})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Duracin estimada"}),g.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[F.workItems.map(D=>{const te=ce.get(D.workId);return D.customDurationMinutes??(te==null?void 0:te.estimatedMinutes)??0}).reduce((D,te)=>D+te,0)||0," ","min"]})]}),g.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[g.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),g.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:F.date??j,onChange:oe})]})]})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:En,disabled:!We,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:" Anterior"}),g.jsx("button",{type:"button",onClick:J,disabled:!mt,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente "})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(V0,{mode:y,onChange:A}),g.jsx("button",{type:"button",className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",onClick:()=>S(D=>!D),children:v?"Ocultar calendario":"Abrir calendario"})]})]}),y==="edit"?g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-3 sm:p-4",children:g.jsx(L1,{session:F,works:t,objectives:n,assistants:r,onDateChange:D=>{Q(D),V(Be(D).startOf("month").format("YYYY-MM-DD"))}})}):g.jsxs(g.Fragment,{children:[F.description&&g.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:g.jsx(ws,{content:F.description})}),g.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[g.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:F.workItems.map(D=>{const te=ce.get(D.workId),Y=te?le.get(te.objectiveId):void 0,ee=w.has(D.id),ge=pt.get(D.id),Ie=(ge==null?void 0:ge.startLabel)??kp(Je),De=(ge==null?void 0:ge.duration)??D.customDurationMinutes??(te==null?void 0:te.estimatedMinutes)??0,ke=(D.focusLabel??"").trim(),lt=ke.length>0,at=D.customDescriptionMarkdown??(te==null?void 0:te.descriptionMarkdown)??"",Ve=at.trim().length>0,wt=((te==null?void 0:te.videoUrls)??[]).map(mn=>mn.trim()).filter(Boolean),Ze=wt.length>0,Ut=Ve||Ze,Tt=((te==null?void 0:te.subtitle)??"").trim();return g.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:Y?{background:`linear-gradient(120deg, ${Y.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:g.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:D.completed??!1,onChange:mn=>c(F.id,D.id,mn.target.checked)})}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(te==null?void 0:te.name)??"Trabajo eliminado",lt?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",ke]}):null]}),Tt?g.jsx("p",{className:"text-sm text-white/70",children:Tt}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:Ie}),g.jsx("span",{className:"mx-2 text-white/30",children:""}),g.jsxs("span",{children:[De," min"]})]})]}),g.jsx($i,{objective:Y,size:"sm"})]}),(Ut||Ze)&&g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[Ut?g.jsxs("button",{type:"button",onClick:()=>de(D.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:Ae("transition-transform",ee?"rotate-90":"rotate-0"),children:""}),ee?"Ocultar detalles":"Ver detalles"]}):null,Ze?g.jsxs("span",{children:[wt.length," vdeo",wt.length>1?"s":""]}):null]})]}),g.jsx("div",{className:Ae("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",D.completed?"bg-white/20 text-white":""),children:D.order+1})]}),Ut&&ee&&g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[Ve?g.jsx(ws,{content:at,enableWorkLinks:!0}):null,Ze?g.jsx("div",{className:"space-y-3",children:wt.map((mn,st)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(zc,{url:mn,title:`${(te==null?void 0:te.name)??"Trabajo"} vdeo ${st+1}`}),g.jsx("a",{href:mn,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${D.id}-video-${st}`))}):null]})]},D.id)})})]})]}),y==="view"?r.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Quines participan?"}),g.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quin ha venido a clase en tiempo real."}),g.jsx(wr,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):ae.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes estn inactivos."}),g.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la seccin de asistentes para poder marcar su asistencia."}),g.jsx(wr,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),g.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quin est presente en la sesin actual."})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:u3.map(D=>g.jsxs("span",{className:Ae("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",d3[D]),children:[nt[D]," ",c3[D]]},D))})]}),g.jsx("div",{className:"space-y-2",children:ae.map(D=>{const te=Ke.get(D.id),Y=(te==null?void 0:te.status)??"pending",ee=(te==null?void 0:te.actualStatus)==="present",ge=()=>_e(D.id,ee?"absent":"present");return g.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:D.name}),g.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsin"}),g.jsx("span",{className:Ae("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",l3[Y]),children:a3[Y]}),g.jsx("span",{className:"hidden text-white/30 sm:inline",children:""}),g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),g.jsx("span",{className:Ae("font-semibold",ee?"text-emerald-200":"text-white/60"),children:ee?"Presente":"No asisti"})]})]}),g.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[g.jsxs("button",{type:"button",onClick:ge,"aria-pressed":ee,"aria-label":`${ee?"Desmarcar asistencia de":"Marcar asistencia de"} ${D.name}`,title:ee?"Desmarcar asistencia":"Marcar como presente",className:Ae(f3,ee?h3:p3),children:[g.jsx("span",{className:Ae(m3,ee?g3:y3),children:ee?g.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:g.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):g.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),g.jsx("span",{children:ee?"Ha asistido":"Marcar asistencia"})]}),g.jsx("span",{className:Ae("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",ee?"text-emerald-200":"text-white/40"),children:ee?"PRESENTE":"AUSENTE"})]})]})},D.id)})})]}):null]}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Selecciona una sesin desde el calendario."})]})}function S3(){return g.jsx(k3,{})}function E3(){const[e]=Np(),t=new URLSearchParams(e);return t.set("mode","edit"),g.jsx(vc,{to:{pathname:"/",search:`?${t.toString()}`},replace:!0})}function wh(e){return Array.from(new Set(e))}function Ba({options:e,value:t,onChange:n,disabled:r=!1,placeholder:i="Search",allowCreate:o=!1,onCreate:l,maxSelected:u}){const[c,f]=k.useState(""),h=k.useMemo(()=>wh(t.map(E=>E.trim()).filter(Boolean)),[t]),p=k.useMemo(()=>new Set(h),[h]),y=k.useMemo(()=>new Map(e.map(E=>[E.value,E])),[e]),v=k.useMemo(()=>{const E=c.trim().toLowerCase();return E?e.filter(j=>(j.label??j.value).toLowerCase().includes(E)||j.value.toLowerCase().includes(E)):e},[e,c]),S=typeof u=="number"?h.length<u:!0,w=c.trim(),_=o&&!!w&&typeof l=="function"&&!e.some(E=>E.value.toLowerCase()===w.toLowerCase())&&!e.some(E=>(E.label??"").toLowerCase()===w.toLowerCase());return g.jsxs("div",{className:Ae("space-y-2",r&&"opacity-60"),children:[h.length>0?g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.map(E=>{var C;const j=((C=y.get(E))==null?void 0:C.label)??E;return g.jsxs("button",{type:"button",disabled:r,className:"inline-flex items-center gap-2 rounded-full border border-sky-500/30 bg-sky-500/10 px-3 py-1 text-xs font-semibold text-sky-100 transition hover:border-sky-400/50",onClick:()=>n(h.filter(P=>P!==E)),title:"Remove",children:[j,g.jsx("span",{className:"text-sky-200/80",children:""})]},E)}),g.jsx("button",{type:"button",disabled:r,className:"rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",onClick:()=>n([]),children:"Clear"})]}):null,g.jsx("input",{type:"text",className:"input-field",value:c,disabled:r,placeholder:i,onChange:E=>f(E.target.value)}),g.jsx("div",{className:"max-h-48 overflow-auto rounded-2xl border border-white/10 bg-white/5 p-2",children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[_?g.jsxs("button",{type:"button",disabled:r||!S,className:"rounded-full border border-emerald-500/30 bg-emerald-500/10 px-3 py-1 text-xs font-semibold text-emerald-100 transition hover:border-emerald-400/50 disabled:opacity-50",onClick:()=>{const E=(l==null?void 0:l(w))??null;if(!E)return;const j=wh([...h,E.createdValue]);n(j),f("")},title:"Create",children:["+ Create ",w,""]}):null,v.map(E=>{const j=E.label??E.value,C=p.has(E.value);return g.jsx("button",{type:"button",disabled:r||!C&&!S,className:Ae("rounded-full border px-3 py-1 text-xs font-semibold transition disabled:opacity-50",C?"border-sky-500/40 bg-sky-500/10 text-sky-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>{const P=C?h.filter(M=>M!==E.value):wh([...h,E.value]);n(P)},children:j},E.value)})]})})]})}const q0={name:"",subtitle:"",objectiveId:"",parentWorkId:"",nodeType:"",tags:[],orderHint:0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""],visibility:"private",collaborators:[""]},_3=e=>Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(Boolean))),bh="__no_objective__",D1={private:"Privado",shared:"Compartido",public:"Pblico"},C3={private:"Solo t puedes ver y editar este trabajo.",shared:"Solo las personas que aadas pueden editarlo contigo.",public:"Cualquier persona con acceso al catlogo puede verlo. Solo tus editores pueden cambiarlo."},$1=5,Na="personal-exclude";function j3({work:e,childCount:t,depth:n,expanded:r,isTreeCollapsed:i,isPersonalExcluded:o,canTogglePersonal:l,personalToggleBusy:u,nextLabel:c,variantLabel:f,onToggle:h,onToggleTree:p,onTogglePersonal:y,onEdit:v,onDuplicate:S,onCreateChild:w,onDelete:_}){var ue;const E=(e.descriptionMarkdown??"").trim(),j=(e.subtitle??"").trim(),C=(e.notes??"").trim(),P=e.videoUrls.filter(le=>le.trim().length>0),M=E.length>0,A=j.length>0,F=C.length>0,Z=P.length>0,se=M||F||Z,R=t>0,L=n>0?{marginLeft:`${n*1.5}rem`}:void 0,Q=e.visibility??"private",G=D1[Q],V=((ue=e.collaboratorEmails)==null?void 0:ue.length)??0,$=e.canEdit??!1,W=e.isOwner??!1,X=(e.ownerEmail??"").trim(),O=(e.nodeType??"").trim(),q=(e.tags??[]).filter(le=>le!==Na),N=(O||"work").trim().toLowerCase(),z=Ee(le=>{var ce;return(ce=le.workTaxonomy.nodeTypes.find(we=>we.key===N))==null?void 0:ce.label}),U=(()=>{const le={form:"Forma",segment:"Segmento",application:"Aplicacin",technique:"Tcnica",drill:"Drill",style:"Estilo",link:"Link",work:"Trabajo"},ce={form:"border-indigo-500/40 bg-indigo-500/15 text-indigo-100",segment:"border-sky-500/40 bg-sky-500/15 text-sky-100",application:"border-amber-500/40 bg-amber-500/15 text-amber-100",technique:"border-emerald-500/40 bg-emerald-500/15 text-emerald-100",drill:"border-purple-500/40 bg-purple-500/15 text-purple-100",style:"border-white/20 bg-white/10 text-white/70",link:"border-white/20 bg-white/10 text-white/70",work:"border-white/20 bg-white/10 text-white/70"},we=z??le[N]??(O||"Trabajo"),ae=ce[N]??ce.work;return g.jsx("span",{className:Ae("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold",ae),children:we})})(),I=(()=>{const le={form:"border-indigo-500/25",segment:"border-sky-500/25",application:"border-amber-500/25",technique:"border-emerald-500/25",drill:"border-purple-500/25",work:"border-white/10"},ce={form:"bg-indigo-500",segment:"bg-sky-500",application:"bg-amber-500",technique:"bg-emerald-500",drill:"bg-purple-500",work:""},we={form:"bg-indigo-400/60",segment:"bg-sky-400/60",application:"bg-amber-400/60",technique:"bg-emerald-400/60",drill:"bg-purple-400/60",work:"bg-white/10"},ae=le[N]??le.work,be=ce[N]??ce.work,xe=we[N]??we.work;return{borderClassName:ae,glowClassName:be,barClassName:xe}})();return g.jsxs("article",{id:`work-${e.id}`,className:Ae("group relative space-y-4 rounded-xl border bg-white/5 p-4 pb-5 shadow shadow-black/30",I.borderClassName),style:L,children:[g.jsx("div",{className:Ae("absolute inset-y-0 left-0 w-1 rounded-r-full",I.barClassName),"aria-hidden":!0}),I.glowClassName?g.jsx("div",{className:Ae("absolute inset-0 -z-[1] rounded-xl opacity-10 blur-3xl",I.glowClassName)}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{role:se?"button":void 0,tabIndex:se?0:void 0,onClick:()=>{se&&h()},onKeyDown:le=>{se&&(le.key==="Enter"||le.key===" ")&&(le.preventDefault(),h())},className:Ae("flex flex-1 items-start gap-3 border border-transparent px-2 py-2 text-left transition",se?"cursor-pointer hover:border-white/10 hover:bg-white/5 focus-visible:border-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40":"cursor-default"),"aria-expanded":se?r:void 0,children:[R?g.jsx("button",{type:"button",onClick:le=>{le.stopPropagation(),p()},className:Ae("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white"),"aria-label":i?"Mostrar trabajos hijos":"Ocultar trabajos hijos",title:i?"Mostrar hijos":"Ocultar hijos",children:i?"":""}):null,se?g.jsx("span",{className:Ae("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition",r?"rotate-90 border-white/30 text-white":""),"aria-hidden":!0,children:""}):null,g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),A?g.jsx("p",{className:"text-sm text-white/70",children:j}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/20 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:G}),q.slice(0,3).map(le=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] font-semibold text-white/60",children:le},le)),W?g.jsx("span",{children:"Propietario"}):X?g.jsx("span",{children:X}):null,V>0?g.jsxs("span",{children:["+",V," colaborador",V===1?"":"es"]}):null,f?g.jsxs("span",{className:"text-white/50",children:["Variante de: ",f]}):null,c?g.jsxs("span",{className:"text-white/50",children:["Siguiente: ",c]}):null,$?null:g.jsx("span",{className:"text-amber-300/80",children:"Solo lectura"})]})]})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[U,g.jsx("button",{type:"button",onClick:le=>{le.stopPropagation(),y()},disabled:!l||u,className:Ae("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition disabled:opacity-50",o?"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400":"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400"),title:o?"Incluir en el plan personal":"Excluir del plan personal",children:u?"...":o?"Fuera":"En plan"}),g.jsxs(ts,{as:"div",className:"relative inline-flex",children:[g.jsxs(ts.Button,{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-white/40 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40",children:[g.jsx("span",{className:"sr-only",children:"Abrir acciones"}),g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5","aria-hidden":"true",children:[g.jsx("circle",{cx:"12",cy:"5",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"19",r:"1.5"})]})]}),g.jsxs(ts.Items,{className:"absolute right-0 z-10 mt-2 w-44 overflow-hidden rounded-2xl border border-white/10 bg-slate-900/95 p-1 text-sm text-white shadow-lg shadow-black/40 focus:outline-none",children:[g.jsx(ts.Item,{children:({active:le})=>g.jsx("button",{type:"button",onClick:$?v:void 0,disabled:!$,className:Ae("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",le&&$?"bg-white/10 text-white":"text-white/70"),children:"Editar"})}),g.jsx(ts.Item,{children:({active:le})=>g.jsx("button",{type:"button",onClick:$?S:void 0,disabled:!$,className:Ae("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",le&&$?"bg-white/10 text-white":"text-white/70"),children:"Duplicar"})}),g.jsx(ts.Item,{children:({active:le})=>g.jsx("button",{type:"button",onClick:$?w:void 0,disabled:!$,className:Ae("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",le&&$?"bg-white/10 text-white":"text-white/70"),children:"Nuevo hijo"})}),g.jsx(ts.Item,{children:({active:le})=>g.jsx("button",{type:"button",onClick:W?_:void 0,disabled:!W,className:Ae("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",le&&W?"bg-rose-500/20 text-rose-100":"text-rose-300"),children:"Eliminar"})})]})]})]})]}),se&&r&&g.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[M?g.jsx(ws,{content:e.descriptionMarkdown,enableWorkLinks:!0}):null,F?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,Z?g.jsx("div",{className:"space-y-3",children:g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:P.map((le,ce)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(zc,{url:le,title:`${e.name} vdeo ${ce+1}`}),g.jsx("a",{href:le,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${ce}`))})}):null]}),g.jsx("button",{type:"button",onClick:$?w:void 0,disabled:!$,className:Ae("absolute bottom-0 left-1/2 flex -translate-x-1/2 translate-y-1/2 items-center justify-center rounded-full border border-dashed border-white/20 bg-slate-950/80 px-4 py-2 text-sm font-semibold text-white/80 opacity-0 transition hover:border-white/40 hover:text-white focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto focus-visible:pointer-events-auto",!$&&"opacity-30"),title:$?R?"Aadir trabajo hijo":"Crear primer trabajo hijo":"No tienes permisos para crear trabajos hijos","aria-label":"Crear trabajo hijo",children:"+"})]})}function N3({form:e,objectiveOptions:t,parentOptions:n,workOptions:r,nodeTypeOptions:i,tagOptions:o,onCreateNodeType:l,onCreateTag:u,depth:c,onFieldChange:f,onVideoChange:h,onAddVideo:p,onRemoveVideo:y,onCollaboratorChange:v,onAddCollaborator:S,onRemoveCollaborator:w,onSave:_,onCancel:E,isNew:j,canEditContent:C,canManageSharing:P,isSaving:M,isOwner:A,ownerEmail:F}){const Z=t.find($=>$.id===e.objectiveId),se=n.find($=>$.id===e.parentWorkId),R=r.find($=>$.id===e.nextWorkId),L=r.find($=>$.id===e.variantOfWorkId),Q=c>0?{marginLeft:`${c*1.5}rem`}:void 0,G=e.id?`work-name-${e.id}`:void 0,V=e.id?`work-subtitle-${e.id}`:void 0;return g.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",style:Q,children:[g.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex-1 space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:j?"Nuevo trabajo":"Editando trabajo"}),g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:G,children:"Nombre"}),g.jsx("input",{id:G,type:"text",className:"input-field w-full text-base font-semibold disabled:opacity-60",placeholder:"Nombre descriptivo",value:e.name,onChange:$=>f({name:$.target.value}),disabled:!C})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:V,children:"Subttulo (opcional)"}),g.jsx("input",{id:V,type:"text",className:"input-field w-full disabled:opacity-60",placeholder:"Aade un subttulo breve",value:e.subtitle,onChange:$=>f({subtitle:$.target.value}),disabled:!C})]})]}),g.jsx($i,{objective:Z,size:"sm"})]}),C?null:g.jsx("div",{className:"rounded-2xl border border-amber-400/40 bg-amber-500/10 p-3 text-xs text-amber-200",children:"No tienes permisos para editar el contenido de este trabajo. Puedes revisar la informacin y sugerir cambios al propietario."}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.objectiveId,onChange:$=>f({objectiveId:$.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map($=>g.jsx("option",{value:$.id,children:$.name},$.id))]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Trabajo padre (opcional)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.parentWorkId,onChange:$=>f({parentWorkId:$.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Sin trabajo padre"}),n.map($=>g.jsx("option",{value:$.id,children:$.label},$.id))]}),e.parentWorkId&&se?g.jsxs("p",{className:"text-xs text-white/40",children:["Deriva de: ",se.label]}):null]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duracin estimada (min)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.estimatedMinutes,onChange:$=>f({estimatedMinutes:Number($.target.value)}),disabled:!C})]})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Node type (opcional)"}),g.jsx(Ba,{options:i,value:e.nodeType?[e.nodeType]:[],maxSelected:1,onChange:$=>f({nodeType:$[0]??""}),placeholder:"Search node types",disabled:!C,allowCreate:!0,onCreate:$=>{const W=l($);return W?{createdValue:W,createdLabel:$.trim()}:null}})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Tags"}),g.jsx(Ba,{options:o,value:e.tags??[],onChange:$=>f({tags:$}),placeholder:"Search tags",disabled:!C,allowCreate:!0,onCreate:$=>{const W=u($);return W?{createdValue:W,createdLabel:W}:null}})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Order hint (opcional)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.orderHint,onChange:$=>f({orderHint:Number($.target.value)}),disabled:!C})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Siguiente (next)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.nextWorkId,onChange:$=>f({nextWorkId:$.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Sin siguiente"}),r.filter($=>$.id!==e.id).map($=>g.jsx("option",{value:$.id,children:$.label},$.id))]}),e.nextWorkId&&R?g.jsxs("p",{className:"text-xs text-white/40",children:["Siguiente: ",R.label]}):null]}),g.jsxs("div",{className:"grid gap-2 sm:col-span-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Variante de (variant_of)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.variantOfWorkId,onChange:$=>f({variantOfWorkId:$.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Sin base"}),r.filter($=>$.id!==e.id).map($=>g.jsx("option",{value:$.id,children:$.label},$.id))]}),e.variantOfWorkId&&L?g.jsxs("p",{className:"text-xs text-white/40",children:["Variante de: ",L.label]}):null]})]}),g.jsxs("section",{className:"space-y-3 rounded-3xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Visibilidad"}),g.jsx("p",{className:"text-sm text-white/60",children:A?"Eres el propietario de este trabajo.":F?`Propietario: ${F}`:""})]}),P?null:g.jsx("p",{className:"text-xs text-amber-300/80",children:"Solo el propietario puede cambiar la visibilidad o los colaboradores."})]}),g.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:["private","shared","public"].map($=>g.jsxs("label",{className:Ae("inline-flex items-center gap-2 rounded-2xl border px-3 py-2 text-sm transition",e.visibility===$?"border-sky-400/80 bg-sky-400/10 text-white":"border-white/15 text-white/70 hover:border-white/30 hover:text-white",!P&&"opacity-50"),children:[g.jsx("input",{type:"radio",className:"accent-sky-400",checked:e.visibility===$,onChange:()=>f({visibility:$}),disabled:!P}),D1[$]]},$))}),g.jsx("p",{className:"text-xs text-white/50",children:C3[e.visibility]}),e.visibility==="private"?null:g.jsxs("div",{className:"space-y-2 rounded-2xl border border-white/10 bg-white/5 p-3",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Colaboradores (edicin)"}),g.jsx("p",{className:"text-xs text-white/50",children:"Aade hasta 5 direcciones de correo. Tendrn permisos de edicin completos."}),g.jsx("div",{className:"space-y-2",children:e.collaborators.map(($,W)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"email",className:"input-field flex-1 disabled:opacity-60",placeholder:"colega@ejemplo.com",value:$,onChange:X=>v(W,X.target.value),disabled:!P}),e.collaborators.length>1?g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200 disabled:opacity-40",onClick:()=>w(W),"aria-label":"Eliminar colaborador",disabled:!P,children:""}):null]},`collaborator-${W}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-40",onClick:S,disabled:!P||e.collaborators.length>=$1,children:"+ Aadir colaborador"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px] disabled:opacity-60",value:e.descriptionMarkdown,onChange:$=>f({descriptionMarkdown:$.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes.",disabled:!C})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),g.jsx("textarea",{className:"input-field min-h-[100px] disabled:opacity-60",value:e.notes,onChange:$=>f({notes:$.target.value}),disabled:!C})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de YouTube"}),g.jsx("div",{className:"space-y-3",children:e.videoUrls.map(($,W)=>g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"url",className:"input-field flex-1 disabled:opacity-60",value:$,onChange:X=>h(W,X.target.value),placeholder:"https://www.youtube.com/watch?v=...",disabled:!C}),e.videoUrls.length>1?g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>y(W),"aria-label":"Eliminar enlace de vdeo",disabled:!C,children:""}):null]}),g.jsx(zc,{url:$,title:`Vista previa vdeo ${W+1}`})]},`video-field-${W}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-50",onClick:p,disabled:!C,children:"+ Aadir vdeo"})]}),g.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:_,className:"btn-primary disabled:opacity-60",disabled:M,children:M?"Guardando":"Guardar"}),g.jsx("button",{type:"button",className:"btn-secondary disabled:opacity-50",onClick:E,disabled:M,children:"Cancelar"})]})]})}function T3(){var En;const e=Ee(J=>J.works),t=Ee(J=>J.objectives),n=Ee(J=>J.workTaxonomy),r=Ee(J=>J.addWork),i=Ee(J=>J.updateWork),o=Ee(J=>J.deleteWork),l=Ee(J=>J.upsertNodeType),u=Ee(J=>J.upsertTag),c=Ee(J=>J.worksLoading),f=ii(),{user:h}=_s(),p=k.useMemo(()=>h?{actorId:h.id,actorEmail:h.email??""}:null,[h]),[y,v]=k.useState(""),[S,w]=k.useState(null),[_,E]=k.useState(new Set),[j,C]=k.useState(new Set),[P,M]=k.useState(new Set),[A,F]=k.useState({}),[Z,se]=k.useState(null),[R,L]=k.useState(null),Q=k.useMemo(()=>new Map(t.map(J=>[J.id,J])),[t]),G=k.useMemo(()=>[...t].sort((J,oe)=>(J.name??"").localeCompare(oe.name??"","es")),[t]),V=k.useMemo(()=>(n.nodeTypes??[]).slice().sort((J,oe)=>J.label.localeCompare(oe.label,"en",{sensitivity:"base"})).map(J=>({value:J.key,label:J.label})),[n.nodeTypes]),$=k.useMemo(()=>(n.tags??[]).slice().sort((J,oe)=>J.name.localeCompare(oe.name,"en",{sensitivity:"base"})).map(J=>({value:J.name,label:J.name})),[n.tags]),W=k.useMemo(()=>new Map(e.map(J=>[J.id,J])),[e]),X=k.useMemo(()=>{const J=new Map;return e.forEach(oe=>{const de=oe.parentWorkId;if(!de)return;const _e=J.get(de)??[];_e.push(oe),J.set(de,_e)}),J.forEach(oe=>{oe.sort((de,_e)=>de.name.localeCompare(_e.name,"es",{sensitivity:"base"}))}),J},[e]),O=k.useMemo(()=>{const J=new Map,oe=(de,_e)=>{if(J.has(de))return J.get(de);const ve=W.get(de);if(!ve)return"";if(!ve.parentWorkId||_e.has(de))return J.set(de,ve.name),ve.name;_e.add(de);const D=oe(ve.parentWorkId,_e);_e.delete(de);const te=D?`${D}  ${ve.name}`:ve.name;return J.set(de,te),te};return e.forEach(de=>{oe(de.id,new Set)}),J},[e,W]);k.useEffect(()=>{const J=f.hash,oe="#work-";let de=null;if(J.startsWith(oe)&&(de=J.slice(oe.length)),!de){const D=new URLSearchParams(f.search);de=D.get("workId")??D.get("work")}if(!de)return;E(D=>{if(D.has(de))return D;const te=new Set(D);return te.add(de),te});const _e=document.getElementById(`work-${de}`);if(!_e)return;_e.scrollIntoView({behavior:"smooth",block:"start"}),_e.classList.add("ring-2","ring-sky-500/60");const ve=window.setTimeout(()=>{_e.classList.remove("ring-2","ring-sky-500/60")},1500);return()=>{window.clearTimeout(ve),_e.classList.remove("ring-2","ring-sky-500/60")}},[f.hash,f.search,e]);const q=k.useMemo(()=>{const J=new Map,oe=de=>{if(J.has(de))return J.get(de);const _e=new Set;return(X.get(de)??[]).forEach(D=>{_e.add(D.id),oe(D.id).forEach(te=>_e.add(te))}),J.set(de,_e),_e};return e.forEach(de=>oe(de.id)),J},[e,X]),N=k.useCallback((J,oe)=>{var ve,D;const de=new Set;J&&(de.add(J),(ve=q.get(J))==null||ve.forEach(te=>de.add(te)));const _e=e.filter(te=>!de.has(te.id)).map(te=>({id:te.id,label:(()=>{var ge;const Y=O.get(te.id)??te.name,ee=(ge=Q.get(te.objectiveId))==null?void 0:ge.name;return ee?`${ee}  ${Y}`:Y})()})).sort((te,Y)=>te.label.localeCompare(Y.label,"es",{sensitivity:"base"}));if(oe&&oe.length>0&&!_e.some(te=>te.id===oe)){const te=W.get(oe),Y=O.get(oe)??(te==null?void 0:te.name)??"Trabajo no disponible",ee=te?(D=Q.get(te.objectiveId))==null?void 0:D.name:void 0,ge=ee?`${ee}  ${Y}`:Y;_e.unshift({id:oe,label:ge})}return _e},[e,O,q,W,Q]),z=k.useMemo(()=>e.map(J=>{var ve;const oe=O.get(J.id)??J.name,de=(ve=Q.get(J.objectiveId))==null?void 0:ve.name,_e=de?`${de}  ${oe}`:oe;return{id:J.id,label:_e}}).sort((J,oe)=>J.label.localeCompare(oe.label,"es",{sensitivity:"base"})),[e,O,Q]),U=k.useMemo(()=>{const J=y.trim().toLowerCase(),oe=ve=>{var Ie;if(!J)return!0;const D=((Ie=Q.get(ve.objectiveId))==null?void 0:Ie.name)??"",te=ve.parentWorkId?O.get(ve.parentWorkId)??"":"",Y=ve.id?O.get(ve.id)??"":"",ee=(ve.nodeType??"").toLowerCase(),ge=Array.isArray(ve.tags)?ve.tags.join(" "):ve.tags??"";return ve.name.toLowerCase().includes(J)||(ve.subtitle??"").toLowerCase().includes(J)||ve.descriptionMarkdown.toLowerCase().includes(J)||D.toLowerCase().includes(J)||te.toLowerCase().includes(J)||Y.toLowerCase().includes(J)||ee.includes(J)||ge.toLowerCase().includes(J)},de=[],_e=ve=>{if(!ve)return 0;let D=1,te=W.get(ve);const Y=new Set(ve?[ve]:[]);for(;te&&te.parentWorkId;){const ee=te.parentWorkId;if(!ee||Y.has(ee))break;D+=1,Y.add(ee),te=W.get(ee)}return D};return e.forEach(ve=>{const D=A[ve.id],te=(D==null?void 0:D.data)??{id:ve.id,name:ve.name,subtitle:ve.subtitle??"",nodeType:ve.nodeType??"",tags:ve.tags??[],descriptionMarkdown:ve.descriptionMarkdown,objectiveId:ve.objectiveId,parentWorkId:ve.parentWorkId??""};!D&&!oe(te)||de.push({id:ve.id,objectiveId:te.objectiveId,parentWorkId:te.parentWorkId??"",depth:_e(te.parentWorkId),work:ve,isNew:!1,isEditing:!!D,form:D==null?void 0:D.data})}),Object.entries(A).filter(([,ve])=>ve.isNew).forEach(([ve,D])=>{oe(D.data)&&de.push({id:ve,objectiveId:D.data.objectiveId,parentWorkId:D.data.parentWorkId,depth:_e(D.data.parentWorkId||void 0),work:void 0,isNew:!0,isEditing:!0,form:D.data})}),de},[e,W,A,Q,O,y]),I=k.useCallback(J=>{var ve;const oe=(J.isEditing&&J.form?J.form.parentWorkId:J.parentWorkId)??"";if(!oe)return!1;let de=oe;const _e=new Set;for(;de&&!_e.has(de);){if(_e.add(de),j.has(de))return!0;de=(((ve=W.get(de))==null?void 0:ve.parentWorkId)??"")||""}return!1},[j,W]),ue=k.useMemo(()=>{const J=new Map;U.forEach(D=>{const te=Q.has(D.objectiveId)?D.objectiveId:bh,Y=J.get(te)??[];Y.push(D),J.set(te,Y)});const oe=D=>{var te,Y;if(D.isEditing&&D.form){const ee=D.form.name.trim()||(((te=D.work)==null?void 0:te.name)??""),ge=D.form.parentWorkId&&D.form.parentWorkId.length>0?O.get(D.form.parentWorkId)??((Y=W.get(D.form.parentWorkId))==null?void 0:Y.name)??"":"";return ge?`${ge}  ${ee}`:ee}return D.work?O.get(D.work.id)??D.work.name:D.id},de=(D,te)=>{const Y=oe(D),ee=oe(te);return Y.localeCompare(ee,"es",{sensitivity:"base"})},_e=[];G.forEach(D=>{const te=J.get(D.id);te&&te.length&&_e.push({objective:D,items:te.slice().sort(de)})});const ve=J.get(bh);return ve&&ve.length&&_e.push({objective:void 0,items:ve.slice().sort(de)}),_e},[U,Q,G,O,W]),le=((En=G[0])==null?void 0:En.id)??"",ce=(J,oe)=>{F(de=>{const _e=de[J];return _e?{...de,[J]:oe(_e)}:de})},we=J=>J.length>0?J:[""],ae=J=>J.length>0?J:[""],be=J=>{F(oe=>oe[J.id]?oe:{...oe,[J.id]:{data:{id:J.id,name:J.name,subtitle:J.subtitle??"",objectiveId:J.objectiveId,parentWorkId:J.parentWorkId??"",nodeType:J.nodeType??"",tags:J.tags??[],orderHint:J.orderHint??0,nextWorkId:J.nextWorkId??"",variantOfWorkId:J.variantOfWorkId??"",descriptionMarkdown:J.descriptionMarkdown,estimatedMinutes:J.estimatedMinutes,notes:J.notes??"",videoUrls:we(J.videoUrls.slice()),visibility:J.visibility??"private",collaborators:ae(J.collaboratorEmails??[])},isNew:!1,originalId:J.id}}),E(oe=>{const de=new Set(oe);return de.add(J.id),de})},xe=()=>{const J=`draft-${tn()}`;F(oe=>({...oe,[J]:{data:{...q0,id:J,subtitle:"",objectiveId:le},isNew:!0}})),E(oe=>{const de=new Set(oe);return de.add(J),de})},Ke=J=>{const oe=`draft-${tn()}`;F(de=>({...de,[oe]:{data:{id:oe,name:`${J.name} (copia)`,subtitle:J.subtitle??"",objectiveId:J.objectiveId,parentWorkId:J.parentWorkId??"",nodeType:J.nodeType??"",tags:J.tags??[],orderHint:J.orderHint??0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:J.descriptionMarkdown,estimatedMinutes:J.estimatedMinutes,notes:J.notes??"",videoUrls:we(J.videoUrls.slice()),visibility:"private",collaborators:[""]},isNew:!0}})),E(de=>{const _e=new Set(de);return _e.add(oe),_e}),w({type:"success",text:"Duplicacin creada. Ajusta y guarda para confirmarla."})},nt=J=>{const oe=`draft-${tn()}`;F(de=>({...de,[oe]:{data:{...q0,id:oe,subtitle:"",objectiveId:J.objectiveId,parentWorkId:J.id,estimatedMinutes:J.estimatedMinutes,visibility:J.visibility??"private",collaborators:[""]},isNew:!0}})),E(de=>{const _e=new Set(de);return _e.add(oe),_e}),w({type:"success",text:`Creando un trabajo hijo para ${J.name}. Ajusta y guarda para confirmarlo.`})},Je=J=>{E(oe=>{const de=new Set(oe);return de.has(J)?de.delete(J):de.add(J),de})},pt=J=>{F(oe=>{const de={...oe};return delete de[J],de}),J.startsWith("draft-")&&E(oe=>{const de=new Set(oe);return de.delete(J),de})},Nt=async J=>{const oe=A[J];if(!oe||Z)return;if(!p){w({type:"error",text:"Inicia sesin para guardar este trabajo."});return}const de=(oe.data.parentWorkId??"").trim(),_e=de.length>0?de:void 0,ve=oe.data.nodeType.trim(),D=ve.length>0?ve:void 0,te=_3(oe.data.tags??[]),Y=Number(oe.data.orderHint)>0?Number(oe.data.orderHint):void 0,ee=(oe.data.nextWorkId??"").trim(),ge=ee.length>0?ee:void 0,Ie=(oe.data.variantOfWorkId??"").trim(),De=Ie.length>0?Ie:void 0,ke={name:oe.data.name.trim(),subtitle:oe.data.subtitle.trim()||void 0,objectiveId:oe.data.objectiveId,nodeType:D,tags:te,orderHint:Y,nextWorkId:ge,variantOfWorkId:De,descriptionMarkdown:oe.data.descriptionMarkdown,estimatedMinutes:Number(oe.data.estimatedMinutes)||0,notes:oe.data.notes.trim()||void 0,videoUrls:oe.data.videoUrls.map(Ve=>Ve.trim()).filter(Boolean),parentWorkId:_e,visibility:oe.data.visibility,collaboratorEmails:Array.from(new Set(oe.data.collaborators.map(Ve=>Ve.trim().toLowerCase()).filter(Ve=>Ve.length>0)))};if(!ke.name){w({type:"error",text:"El nombre es obligatorio."});return}if(!ke.objectiveId){w({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if(ke.parentWorkId&&oe.originalId){if(ke.parentWorkId===oe.originalId){w({type:"error",text:"Un trabajo no puede ser su propio padre."});return}const Ve=q.get(oe.originalId);if(Ve&&Ve.has(ke.parentWorkId)){w({type:"error",text:"Selecciona un trabajo padre que no sea un descendiente."});return}}if(oe.originalId&&ke.nextWorkId===oe.originalId){w({type:"error",text:"Un trabajo no puede tenerse como siguiente."});return}if(oe.originalId&&ke.variantOfWorkId===oe.originalId){w({type:"error",text:"Un trabajo no puede ser variante de s mismo."});return}const lt=oe.originalId?W.get(oe.originalId):void 0,at=oe.isNew||((lt==null?void 0:lt.isOwner)??!1);se(J);try{if(oe.isNew){const Ve=await r({name:ke.name,subtitle:ke.subtitle,objectiveId:ke.objectiveId,parentWorkId:ke.parentWorkId,nodeType:ke.nodeType,tags:ke.tags,orderHint:ke.orderHint,nextWorkId:ke.nextWorkId,variantOfWorkId:ke.variantOfWorkId,descriptionMarkdown:ke.descriptionMarkdown,estimatedMinutes:ke.estimatedMinutes,notes:ke.notes,videoUrls:ke.videoUrls,visibility:ke.visibility,collaboratorEmails:ke.collaboratorEmails},p);w({type:"success",text:"Trabajo creado correctamente."}),E(wt=>{const Ze=new Set(wt);return Ze.delete(J),Ze.add(Ve.id),Ze})}else if(oe.originalId){const Ve={name:ke.name,subtitle:ke.subtitle??null,objectiveId:ke.objectiveId,parentWorkId:ke.parentWorkId??null,nodeType:ke.nodeType??null,tags:ke.tags,orderHint:ke.orderHint??null,nextWorkId:ke.nextWorkId??null,variantOfWorkId:ke.variantOfWorkId??null,descriptionMarkdown:ke.descriptionMarkdown,estimatedMinutes:ke.estimatedMinutes,notes:ke.notes??null,videoUrls:ke.videoUrls};at&&(Ve.visibility=ke.visibility,Ve.collaboratorEmails=ke.collaboratorEmails),await i(oe.originalId,Ve,p),w({type:"success",text:"Trabajo actualizado."})}F(Ve=>{const wt={...Ve};return delete wt[J],wt})}catch(Ve){console.error("No se pudo guardar el trabajo",Ve),w({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{se(null)}},We=async J=>{var de;if(!p){w({type:"error",text:"Inicia sesin para eliminar trabajos."});return}const oe=(((de=q.get(J))==null?void 0:de.size)??0)>0;try{if(!await o(J,p)){w({type:"error",text:oe?"No se puede eliminar porque tiene trabajos hijos.":"No se puede eliminar porque est siendo usado en alguna sesin."});return}w({type:"success",text:"Trabajo eliminado."}),F(ve=>{const D={...ve};return delete D[J],D}),E(ve=>{const D=new Set(ve);return D.delete(J),D})}catch(_e){console.error("No se pudo eliminar el trabajo",_e),w({type:"error",text:"No tienes permisos para eliminar este trabajo o se ha producido un error."})}},mt=async J=>{if(!p){w({type:"error",text:"Inicia sesin para editar trabajos."});return}if(!(J.canEdit??!1)||(J.nodeType??"").trim().toLowerCase()==="style")return;const oe=(J.tags??[]).map(ve=>ve.trim().toLowerCase()).filter(Boolean),de=oe.includes(Na),_e=de?oe.filter(ve=>ve!==Na):Array.from(new Set([...oe,Na]));L(J.id);try{await i(J.id,{tags:_e},p),w({type:"success",text:de?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>w(null),1800)}catch(ve){console.error("No se pudo actualizar el trabajo",ve),w({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{L(null)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),g.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),g.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[g.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:y,onChange:J=>v(J.target.value),placeholder:"Buscar por nombre, descripcin u objetivo"}),g.jsx(wr,{to:"/catalog/taxonomy",className:"btn-secondary",children:"Taxonomy"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:xe,children:"Nuevo trabajo"}),c?g.jsx("span",{className:"text-xs text-white/60 sm:ml-3",children:"Sincronizando trabajos"}):null]})]}),S&&g.jsx("div",{className:Ae("rounded-2xl border px-4 py-3 text-sm",S.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:S.text})]}),g.jsx("section",{className:"space-y-6",children:ue.length===0?c?g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Sincronizando trabajos"}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no hay trabajos guardados. Empieza creando uno con el botn Nuevo trabajo."}):ue.map(({objective:J,items:oe})=>{const de=J?J.name:"Sin objetivo asignado",_e=(J==null?void 0:J.id)??bh,ve=P.has(_e);return g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{type:"button",onClick:()=>M(D=>{const te=new Set(D);return te.has(_e)?te.delete(_e):te.add(_e),te}),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white","aria-label":ve?"Expandir grupo":"Colapsar grupo",title:ve?"Expandir":"Colapsar",children:ve?"":""}),g.jsx("h3",{className:"text-lg font-semibold text-white",children:de}),g.jsx($i,{objective:J,size:"sm"})]}),g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[oe.length," trabajo",oe.length===1?"":"s"]})]}),ve?null:g.jsx("div",{className:"space-y-4",children:oe.filter(D=>!I(D)).map(D=>{var at,Ve,wt,Ze,Ut,Tt,mn;const te=_.has(D.id),Y=(D.isEditing&&D.form?D.form.parentWorkId:D.parentWorkId)??"",ee=D.isEditing?N((at=D.work)==null?void 0:at.id,Y):[],Ie=(D.work?X.get(D.work.id)??[]:[]).length,De=j.has(D.id);if(D.isEditing&&D.form){const st=D.isNew||(((Ve=D.work)==null?void 0:Ve.canEdit)??!1),gn=D.isNew||(((wt=D.work)==null?void 0:wt.isOwner)??!1),gt=D.isNew||(((Ze=D.work)==null?void 0:Ze.isOwner)??!1);return g.jsx(N3,{form:D.form,objectiveOptions:G,parentOptions:ee,workOptions:z,nodeTypeOptions:V,tagOptions:$,onCreateNodeType:l,onCreateTag:u,depth:D.depth,onFieldChange:He=>ce(D.id,rt=>{const et={...rt.data,...He};if(He.parentWorkId!==void 0&&He.parentWorkId.length>0){const bt=W.get(He.parentWorkId);bt&&(et.objectiveId=bt.objectiveId)}return He.visibility==="private"&&(et.collaborators=[""]),{...rt,data:et}}),onVideoChange:(He,rt)=>ce(D.id,et=>{const bt=et.data.videoUrls.slice();return bt[He]=rt,{...et,data:{...et.data,videoUrls:bt}}}),onAddVideo:()=>ce(D.id,He=>({...He,data:{...He.data,videoUrls:[...He.data.videoUrls,""]}})),onRemoveVideo:He=>ce(D.id,rt=>{const et=rt.data.videoUrls.slice();return et.splice(He,1),{...rt,data:{...rt.data,videoUrls:et.length?et:[""]}}}),onCollaboratorChange:(He,rt)=>ce(D.id,et=>{const bt=et.data.collaborators.slice();return bt[He]=rt,{...et,data:{...et.data,collaborators:bt}}}),onAddCollaborator:()=>ce(D.id,He=>He.data.collaborators.length>=$1?He:{...He,data:{...He.data,collaborators:[...He.data.collaborators,""]}}),onRemoveCollaborator:He=>ce(D.id,rt=>{const et=rt.data.collaborators.slice();return et.splice(He,1),et.length||et.push(""),{...rt,data:{...rt.data,collaborators:et}}}),onSave:()=>void Nt(D.id),onCancel:()=>pt(D.id),isNew:D.isNew,canEditContent:st,canManageSharing:gn,isSaving:Z===D.id,isOwner:gt,ownerEmail:(Ut=D.work)==null?void 0:Ut.ownerEmail},D.id)}if(!D.work)return null;const ke=D.work.nextWorkId?O.get(D.work.nextWorkId)??((Tt=W.get(D.work.nextWorkId))==null?void 0:Tt.name):void 0,lt=D.work.variantOfWorkId?O.get(D.work.variantOfWorkId)??((mn=W.get(D.work.variantOfWorkId))==null?void 0:mn.name):void 0;return g.jsx(j3,{work:D.work,childCount:Ie,depth:D.depth,expanded:te,isTreeCollapsed:De,isPersonalExcluded:(D.work.tags??[]).map(st=>st.trim().toLowerCase()).includes(Na),canTogglePersonal:(D.work.canEdit??!1)&&(D.work.nodeType??"").trim().toLowerCase()!=="style",personalToggleBusy:R===D.id,nextLabel:ke,variantLabel:lt,onToggle:()=>Je(D.id),onToggleTree:()=>C(st=>{const gn=new Set(st);return gn.has(D.id)?gn.delete(D.id):gn.add(D.id),gn}),onTogglePersonal:()=>{D.work&&mt(D.work)},onEdit:()=>{const st=D.work;st&&(st.canEdit??!1)&&be(st)},onDuplicate:()=>{const st=D.work;st&&(st.canEdit??!1)&&Ke(st)},onCreateChild:()=>{const st=D.work;st&&(st.canEdit??!1)&&nt(st)},onDelete:()=>{const st=D.work;st&&(st.isOwner??!1)&&We(st.id)}},D.id)})})]},(J==null?void 0:J.id)??"sin-objetivo")})})]})}function Y0(e){return e.reduce((t,n)=>(t[n]=(t[n]??0)+1,t),{})}function I3(){const{works:e,workTaxonomy:t,upsertNodeType:n,removeNodeType:r,upsertTag:i,removeTag:o}=Ee(_=>({works:_.works,workTaxonomy:_.workTaxonomy,upsertNodeType:_.upsertNodeType,removeNodeType:_.removeNodeType,upsertTag:_.upsertTag,removeTag:_.removeTag})),[l,u]=k.useState(""),[c,f]=k.useState(""),[h,p]=k.useState(null),y=k.useMemo(()=>{const _=e.map(E=>(E.nodeType??"").trim().toLowerCase()).filter(Boolean);return Y0(_)},[e]),v=k.useMemo(()=>{const _=e.flatMap(E=>(E.tags??[]).map(j=>j.trim().toLowerCase()).filter(Boolean));return Y0(_)},[e]),S=t.nodeTypes.slice().sort((_,E)=>_.label.localeCompare(E.label,"en",{sensitivity:"base"})),w=t.tags.slice().sort((_,E)=>_.name.localeCompare(E.name,"en",{sensitivity:"base"}));return g.jsxs("div",{className:"space-y-6",children:[g.jsx("header",{className:"flex flex-wrap items-start justify-between gap-4 rounded-3xl border border-white/10 bg-white/5 px-6 py-5",children:g.jsxs("div",{children:[g.jsx("p",{className:"font-display text-2xl font-semibold",children:"Taxonomy"}),g.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Node types and tags used across the catalog and personal planning."}),g.jsx("p",{className:"mt-2 text-sm",children:g.jsx(wr,{to:"/catalog",className:"text-sky-300 hover:text-sky-200",children:" Back to Catalog"})})]})}),h?g.jsx("div",{className:`rounded-2xl border px-4 py-3 text-sm ${h.type==="success"?"border-emerald-500/30 bg-emerald-500/10 text-emerald-100":"border-rose-500/30 bg-rose-500/10 text-rose-100"}`,children:h.text}):null,g.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[g.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsx("div",{className:"flex items-start justify-between gap-4",children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold",children:"Node types"}),g.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Used by works and group rules. Keys are stored in works."})]})}),g.jsxs("div",{className:"mt-5 flex flex-col gap-3 sm:flex-row sm:items-end",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/50",children:"New node type"}),g.jsx("input",{className:"input-field mt-2",value:l,onChange:_=>u(_.target.value),placeholder:"e.g. Dance figures"})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{const _=n(l);if(!_){p({type:"error",text:"Please enter a valid node type."});return}u(""),p({type:"success",text:`Node type created: ${_}`})},children:"Add"})]}),g.jsxs("div",{className:"mt-6 space-y-2",children:[S.map(_=>{const E=(y[_.key]??0)>0;return g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-white/10 bg-slate-950/30 px-4 py-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-white",children:_.label}),g.jsxs("p",{className:"text-xs text-white/50",children:["key: ",g.jsx("span",{className:"font-mono",children:_.key}),"  used by ",y[_.key]??0," works"]})]}),g.jsx("button",{type:"button",disabled:E,className:"rounded-full border border-white/15 bg-white/5 px-3 py-2 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white disabled:opacity-50",title:E?"Cannot delete: in use":"Delete",onClick:()=>{const j=r(_.key);p(j?{type:"success",text:`Node type removed: ${_.key}`}:{type:"error",text:"Cannot remove node type (it may be in use)."})},children:"Delete"})]},_.key)}),S.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"No node types yet."}):null]})]}),g.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsx("div",{className:"flex items-start justify-between gap-4",children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold",children:"Tags"}),g.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Lowercase slugs (spaces become hyphens). Deleting is blocked if used."})]})}),g.jsxs("div",{className:"mt-5 flex flex-col gap-3 sm:flex-row sm:items-end",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/50",children:"New tag"}),g.jsx("input",{className:"input-field mt-2",value:c,onChange:_=>f(_.target.value),placeholder:"e.g. bei-shaolin"})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{const _=i(c);if(!_){p({type:"error",text:"Please enter a valid tag."});return}f(""),p({type:"success",text:`Tag created: ${_}`})},children:"Add"})]}),g.jsxs("div",{className:"mt-6 space-y-2",children:[w.map(_=>{const E=(v[_.name]??0)>0;return g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-white/10 bg-slate-950/30 px-4 py-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-white",children:_.name}),g.jsxs("p",{className:"text-xs text-white/50",children:["used by ",v[_.name]??0," works"]})]}),g.jsx("button",{type:"button",disabled:E,className:"rounded-full border border-white/15 bg-white/5 px-3 py-2 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white disabled:opacity-50",title:E?"Cannot delete: in use":"Delete",onClick:()=>{const j=o(_.name);p(j?{type:"success",text:`Tag removed: ${_.name}`}:{type:"error",text:"Cannot remove tag (it may be in use)."})},children:"Delete"})]},_.name)}),w.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"No tags yet."}):null]})]})]})]})}const kh={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},K0=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function P3(){const e=Ee(w=>w.objectives),t=Ee(w=>w.addObjective),n=Ee(w=>w.updateObjective),r=Ee(w=>w.deleteObjective),i=Ee(w=>w.works),[o,l]=k.useState(kh),[u,c]=k.useState(null),f=k.useMemo(()=>{const w=new Map;return i.forEach(_=>{w.set(_.objectiveId,(w.get(_.objectiveId)??0)+1)}),w},[i]),h=k.useMemo(()=>[...e].sort((w,_)=>(w.name??"").localeCompare(_.name??"","es")),[e]),p=w=>{if(w.preventDefault(),!o.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const _={name:o.name.trim(),colorHex:o.colorHex,descriptionMarkdown:o.descriptionMarkdown};o.id?(n(o.id,_),c({type:"success",text:"Objetivo actualizado."})):(t(_),c({type:"success",text:"Objetivo creado."})),l(kh)},y=w=>{l({id:w.id,name:w.name,colorHex:w.colorHex,descriptionMarkdown:w.descriptionMarkdown})},v=w=>{const _=r(w);c(_?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},S=()=>{if(e.length===0){c({type:"error",text:"No hay objetivos a los que asignar colores."});return}const w=[...K0];e.map((E,j)=>{const C=w[j%w.length];return{id:E.id,colorHex:C}}).forEach(({id:E,colorHex:j})=>n(E,{colorHex:j})),c({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),g.jsx("p",{className:"text-white/60",children:"Define categoras de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),g.jsx("div",{className:"flex flex-wrap gap-3",children:g.jsx("button",{type:"button",className:"btn-secondary",onClick:S,children:"Repartir colores"})})]}),u&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${u.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:u.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:o.id?"Editar objetivo":"Nuevo objetivo"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:p,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:o.name,onChange:w=>l(_=>({..._,name:w.target.value})),placeholder:"Ej. Resistencia, Tcnica, Juego",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:o.colorHex,onChange:w=>l(_=>({..._,colorHex:w.target.value})),"aria-label":"Elegir color personalizado"}),g.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:o.colorHex,onChange:w=>l(_=>({..._,colorHex:w.target.value})),placeholder:"#60a5fa","aria-label":"Cdigo hex del color"})]}),g.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:K0.map(w=>g.jsx("button",{type:"button",onClick:()=>l(_=>({..._,colorHex:w})),className:Ae("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",o.colorHex.toLowerCase()===w.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:w},"aria-label":`Seleccionar color ${w}`,children:o.colorHex.toLowerCase()===w.toLowerCase()&&g.jsx("span",{className:"text-xs font-semibold text-slate-900",children:""})},w))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px]",value:o.descriptionMarkdown,onChange:w=>l(_=>({..._,descriptionMarkdown:w.target.value})),placeholder:"Explica cundo usar este tipo de trabajo, objetivos pedaggicos, etc."})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:o.id?"Guardar objetivo":"Crear objetivo"}),o.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l(kh),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-6",children:h.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripcin."}):h.map(w=>g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsx($i,{objective:w}),g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[g.jsxs("span",{children:[f.get(w.id)??0," trabajos"]}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>y(w),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>v(w.id),children:"Eliminar"})]})]}),g.jsx(ws,{content:w.descriptionMarkdown})]},w.id))})]})]})}const Sh={name:"",notes:"",active:!0};function A3(){const e=Ee(h=>h.assistants),t=Ee(h=>h.addAssistant),n=Ee(h=>h.updateAssistant),r=Ee(h=>h.deleteAssistant),[i,o]=k.useState(Sh),[l,u]=k.useState(null),c=h=>{if(h.preventDefault(),!i.name.trim()){u({type:"error",text:"El nombre es obligatorio."});return}const p={name:i.name.trim(),notes:i.notes,active:i.active};i.id?(n(i.id,p),u({type:"success",text:"Asistente actualizado."})):(t(p),u({type:"success",text:"Asistente aadido."})),o(Sh)},f=h=>{o({id:h.id,name:h.name,notes:h.notes??"",active:h.active})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),g.jsx("p",{className:"text-white/60",children:"Mantn una lista base de alumnado para registrar asistencia rpidamente durante cada sesin."})]})}),l&&g.jsx("div",{className:Ae("mt-4 rounded-2xl border px-4 py-3 text-sm",l.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:l.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:i.id?"Editar asistente":"Nuevo asistente"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:c,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:i.name,onChange:h=>o(p=>({...p,name:h.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:i.notes,onChange:h=>o(p=>({...p,notes:h.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:i.active,onChange:h=>o(p=>({...p,active:h.target.checked}))}),g.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecer en los listados de asistencia)"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:i.id?"Guardar asistente":"Aadir asistente"}),i.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(Sh),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-4",children:e.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todava no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(h=>g.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:h.name}),h.notes?g.jsx("p",{className:"text-sm text-white/60",children:h.notes}):null]}),g.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[g.jsx("span",{className:Ae("rounded-full border px-3 py-1 text-xs font-semibold",h.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:h.active?"Activo":"Inactivo"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(h),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(h.id),children:"Eliminar"})]})]})]},h.id))})]})]})}function uo(e,t){return g.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[g.jsx("span",{children:e}),g.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function R3(){var c,f,h,p,y,v;const e=Ee(S=>S.exportBackup),t=Ee(S=>S.importBackup),[n,r]=k.useState(null),[i,o]=k.useState(null),l=()=>{try{const S=e(),w=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),_=URL.createObjectURL(w),E=document.createElement("a");E.href=_,E.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,E.click(),URL.revokeObjectURL(_),r({type:"success",text:"Backup exportado correctamente."})}catch(S){console.error(S),r({type:"error",text:"No se pudo exportar el backup."})}},u=async S=>{var _;const w=(_=S.target.files)==null?void 0:_[0];if(w)try{const E=await w.text(),j=JSON.parse(E);t(j),o(j),r({type:"success",text:"Datos importados correctamente."})}catch(E){console.error(E),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON vlido."})}finally{S.target.value=""}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),g.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu informacin en JSON versionado para compartir o restaurar en cualquier momento."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx("button",{type:"button",className:"btn-primary",onClick:l,children:"Descargar backup"}),g.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:u})]})]})]}),n&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),i&&g.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"ltima importacin"}),g.jsxs("p",{className:"text-sm text-white/60",children:["Versin del backup: ",i.version]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[uo("Objetivos",((c=i.objetivos)==null?void 0:c.length)??0),uo("Trabajos",((f=i.trabajos)==null?void 0:f.length)??0),uo("Sesiones",((h=i.sesiones)==null?void 0:h.length)??0),uo("Asistentes",((p=i.asistentes)==null?void 0:p.length)??0),uo("Sesiones  Trabajos",((y=i.sesiones_trabajos)==null?void 0:y.length)??0),uo("Sesiones  Asistencias",((v=i.sesiones_asistencias)==null?void 0:v.length)??0)]})]}),g.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),g.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[g.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),g.jsx("li",{children:"Antes de importar, realiza una exportacin por seguridad. La restauracin sobrescribe los datos actuales sin posibilidad de deshacer."}),g.jsx("li",{children:"Los backups mantienen los IDs, as que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function O3(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=_s(),[i,o]=k.useState("login"),[l,u]=k.useState(""),[c,f]=k.useState(""),[h,p]=k.useState(""),[y,v]=k.useState(!1),[S,w]=k.useState(null),[_,E]=k.useState(null);if(!r&&n)return g.jsx(vc,{to:"/",replace:!0});const j=async P=>{if(P.preventDefault(),w(null),E(null),!l||!c){w("Introduce tu email y contrasea.");return}if(i==="register"&&c!==h){w("Las contraseas no coinciden.");return}try{v(!0),i==="login"?await e(l,c):(await t(l,c),E("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesin."))}catch(M){const A=M instanceof Error?M.message:"No se pudo completar la operacin.";w(A)}finally{v(!1)}},C=()=>{o(P=>P==="login"?"register":"login"),w(null),E(null),f(""),p("")};return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:g.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[g.jsxs("header",{className:"mb-8 text-center",children:[g.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),g.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:i==="login"?"Inicia sesin":"Crea tu cuenta"}),g.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),g.jsxs("form",{className:"space-y-5",onSubmit:j,children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),g.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:l,onChange:P=>u(P.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contrasea"}),g.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:c,onChange:P=>f(P.target.value),autoComplete:i==="login"?"current-password":"new-password"})]}),i==="register"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contrasea"}),g.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:h,onChange:P=>p(P.target.value),autoComplete:"new-password"})]}),S&&g.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:S}),_&&g.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:_}),g.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:y,children:y?"Procesando":i==="login"?"Entrar":"Crear cuenta"})]}),g.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:i==="login"?g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:C,children:"No tienes cuenta? Regstrate"}):g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:C,children:"Ya tienes cuenta? Inicia sesin"})})]})})}Be.locale("es");const Wu="personal-exclude",G0={ok:"OK",doubt:"Dudosa",fail:"Fallo"},M3={ok:"border-emerald-500/50 bg-emerald-500/15 text-emerald-100 hover:border-emerald-400",doubt:"border-amber-400/40 bg-amber-500/10 text-amber-200 hover:border-amber-300",fail:"border-rose-500/50 bg-rose-500/10 text-rose-200 hover:border-rose-400"},Eh=6;function Hc(e){return Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(t=>t.length>0)))}function J0(e,t){const n=Hc(e.tags),r=e.nodeType??"work";return!(t.byWorkIds&&t.byWorkIds.length>0&&!t.byWorkIds.includes(e.id)||t.byNodeTypes&&t.byNodeTypes.length>0&&!t.byNodeTypes.includes(r)||t.byTags&&t.byTags.length>0&&!t.byTags.map(o=>o.trim().toLowerCase()).filter(Boolean).every(o=>n.includes(o)))}function L3(e,t){const n=e.nodeType??"work",r=t.targetsDays[n]??t.targetsDays.work??7,i=Hc(e.tags),o=(t.overrides??[]).reduce((u,c)=>{var p,y;const f=((y=(p=c.match)==null?void 0:p.tagsAny)==null?void 0:y.map(v=>v.trim().toLowerCase()).filter(Boolean))??[];return f.length===0?u:f.some(v=>i.includes(v))?u*(c.multiplier||1):u},1);return Math.max(1,Math.round(r*o))}function D3(e){return(e.nodeType??"").trim().toLowerCase()!=="style"}function $3(e,t){const n=typeof e.estimatedMinutes=="number"?e.estimatedMinutes:0;if(Number.isFinite(n)&&n>0)return n;const r=(e.nodeType??"work").trim().toLowerCase()||"work",i=t.defaultMinutesByNodeType[r]??t.defaultMinutesByNodeType.work??3;return Math.max(.25,Number(i)||3)}function F3(e){var h,p,y;const t=e.groups??[];if(t.length>0)return[...t].sort((v,S)=>(v.order??0)-(S.order??0));const n=Math.max(0,Number((h=e.template)==null?void 0:h.focusMinutes)||18),r=Math.max(0,Number((p=e.template)==null?void 0:p.rouletteMinutes)||10),i=Math.max(0,Number((y=e.template)==null?void 0:y.recapMinutes)||0),o=e.focusSelectors??[],l=e.rouletteSelectors??[],u=o.length>0?o:[{byNodeTypes:["segment","form"]}],c=l.length>0?l:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],f=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:n,strategy:"overdue",hierarchyRule:"prefer_leaves",include:u,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:r,strategy:"weighted",hierarchyRule:"allow_all",include:c,exclude:[]}];return i>0&&f.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:i}),f}function z3(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function B3(e){let t=e>>>0;return()=>{t=t+1831565813>>>0;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function U3(e,t,n){const r=B3(z3(n));return e.map(i=>{const o=Math.max(1e-4,t(i)),l=Math.max(1e-9,r()),u=-Math.log(l)/o;return{item:i,score:u}}).sort((i,o)=>i.score-o.score).map(({item:i})=>i)}function W3(e){const t=new Map;return e.forEach(n=>{n.workItems.forEach(r=>{if(!((r.completed??!1)||typeof r.result<"u"))return;const o=t.get(r.workId);(!o||Be(n.date).isAfter(o.date))&&t.set(r.workId,{date:n.date,result:r.result,effort:r.effort})})}),t}function H3(e){const{works:t,personalSessions:n,cadence:r,today:i}=e,o=W3(n);return t.filter(l=>D3(l)).filter(l=>!Hc(l.tags).includes(Wu)).map(l=>{const u=o.get(l.id),c=L3(l,r);if(!u)return{work:l,targetDays:c,overdueScore:1e4};const f=Math.max(Be(i).diff(Be(u.date),"day"),0),h=Math.max(f-c,0);return{work:l,targetDays:c,lastSeen:u.date,daysSince:f,overdueScore:h,lastResult:u.result}}).sort((l,u)=>{if(u.overdueScore!==l.overdueScore)return u.overdueScore-l.overdueScore;const c=l.daysSince??1e4,f=u.daysSince??1e4;return f!==c?f-c:l.work.name.localeCompare(u.work.name,"es",{sensitivity:"base"})})}function V3(e){return e?Be(e).format("D MMM YYYY"):"Nunca"}function q3(e){const{dueList:t,todaySession:n,plan:r,today:i,childCountByWorkId:o}=e,l=r.limitMode==="count"||r.limitMode==="both",u=r.limitMode==="minutes"||r.limitMode==="both",c=l?Math.max(1,Math.round(r.maxItems||12)):Number.POSITIVE_INFINITY,f=u?Math.max(0,Number(r.minutesBudget)||0):Number.POSITIVE_INFINITY,h=new Set(((n==null?void 0:n.workItems)??[]).filter(R=>(R.completed??!1)||typeof R.result<"u").map(R=>R.workId)),p=t.filter(R=>!h.has(R.work.id)),y=Be(i).day(),v=F3(r).filter(R=>R.enabled).filter(R=>{const L=R.daysOfWeek??[];return L.length===0||L.includes(y)}).sort((R,L)=>(R.order??0)-(L.order??0)),S=v.filter(R=>(R.type??"work")==="note").reduce((R,L)=>L.limitMode==="minutes"||L.limitMode==="both"?R+Math.max(0,Number(L.minutesBudget)||0):R,0),w=Number.isFinite(f)?Math.max(0,f-S):Number.POSITIVE_INFINITY,_=`kungfu-${i}`,E=R=>{const L=R.overdueScore>=1e4?1e3:Math.max(0,R.overdueScore+1);return R.lastResult==="fail"?L*1.6:R.lastResult==="doubt"?L*1.25:L},j=R=>$3(R.work,r),C=R=>{const L=(R.nodeType??"work").trim().toLowerCase()||"work";return{segment:30,drill:22,form:20,work:10,application:0,technique:0,link:0,style:-100}[L]??5},P=R=>[...R].sort((L,Q)=>{if(Q.overdueScore!==L.overdueScore)return Q.overdueScore-L.overdueScore;const G=L.daysSince??1e4,V=Q.daysSince??1e4;if(V!==G)return V-G;const $=C(Q.work)-C(L.work);return $!==0?$:L.work.name.localeCompare(Q.work.name,"es",{sensitivity:"base"})}),M=new Set,A=[];let F=0,Z=0;for(const R of v){if((R.type??"work")==="note"){A.push({group:R,items:[],plannedMinutes:0});continue}const Q=R.include??[],G=R.exclude??[];let V=p.filter(we=>M.has(we.work.id)||!(Q.length===0?!0:Q.some(xe=>J0(we.work,xe)))?!1:!G.some(xe=>J0(we.work,xe)));if((R.hierarchyRule??"allow_all")==="prefer_leaves"){const we=new Set(V.map(ae=>ae.work.parentWorkId).filter(Boolean));V=V.filter(ae=>we.has(ae.work.id)?(o.get(ae.work.id)??0)===0:!0)}const X=(R.strategy??"overdue")==="weighted"?U3(V,E,`${_}-${R.id}`):P(V),O=R.limitMode??"minutes",q=O==="count"||O==="both",N=O==="minutes"||O==="both",z=Number(R.maxItems),U=q&&Number.isFinite(z)&&z>0?Math.round(z):Number.POSITIVE_INFINITY,I=Number(R.minutesBudget),ue=N&&Number.isFinite(I)?Math.max(0,I):Number.POSITIVE_INFINITY,le=[];let ce=0;for(const we of X){if(Z>=c||le.length>=U)break;const ae=j(we);if(!(ce+ae>ue)&&!(F+ae>w)&&(le.push(we),ce+=ae,F+=ae,Z+=1,M.add(we.work.id),u&&F>=w))break}if(A.push({group:R,items:le,plannedMinutes:Math.round(ce*10)/10}),Z>=c||u&&F>=w)break}const se=Math.round((F+S)*10)/10;return{groups:A,plannedMinutes:{work:Math.round(F*10)/10,reserved:Math.round(S*10)/10,total:se},totalItems:Z}}function Y3(){const e=Ee(U=>U.works),t=Ee(U=>U.sessions),n=Ee(U=>U.kungfuCadence),r=Ee(U=>U.kungfuTodayPlan),i=Ee(U=>U.updateWork),{user:o}=_s(),l=Ee(U=>U.addSession),u=Ee(U=>U.addWorkToSession),c=Ee(U=>U.updateSessionWorkDetails),f=Ee(U=>U.updateSession),h=Be().format("YYYY-MM-DD"),p=k.useMemo(()=>t.filter(U=>U.kind==="personal"),[t]),y=k.useMemo(()=>p.find(U=>U.date===h),[p,h]),v=k.useMemo(()=>H3({works:e,personalSessions:p,cadence:n,today:h}),[e,p,n,h]),S=k.useMemo(()=>{const U=new Map;return e.forEach(I=>{const ue=I.parentWorkId??"";ue&&U.set(ue,(U.get(ue)??0)+1)}),U},[e]),w=k.useMemo(()=>q3({dueList:v,todaySession:y,plan:r,today:h,childCountByWorkId:S}),[v,y,r,h,S]),_=k.useMemo(()=>o?{actorId:o.id,actorEmail:o.email??""}:null,[o]),[E,j]=k.useState({}),[C,P]=k.useState(null),[M,A]=k.useState((y==null?void 0:y.notes)??""),[F,Z]=k.useState(null),[se,R]=k.useState(new Set);k.useEffect(()=>{A((y==null?void 0:y.notes)??"")},[y==null?void 0:y.notes]);const L=()=>y||l({date:h,kind:"personal",title:"Entrenamiento personal",description:"",notes:""}),Q=(U,I)=>{try{const ue=L(),le=E[U]??Eh,ce=Math.min(Math.max(Math.round(le),1),10),we=ue.workItems.find(ae=>ae.workId===U);if(we)c(ue.id,we.id,{result:I,effort:ce,completed:!0});else{const ae=u(ue.id,{workId:U});if(!ae)throw new Error("No se pudo aadir el trabajo a la sesin.");c(ue.id,ae.id,{result:I,effort:ce,completed:!0})}P({type:"success",text:"Registrado."}),window.setTimeout(()=>P(null),1800)}catch(ue){const le=ue instanceof Error?ue.message:"No se pudo registrar.";P({type:"error",text:le}),window.setTimeout(()=>P(null),2500)}},G=y?y.workItems.filter(U=>(U.completed??!1)||typeof U.result<"u").length:0,V=r.limitMode==="count"||r.limitMode==="both",$=r.limitMode==="minutes"||r.limitMode==="both",W=w.groups.filter(U=>(U.group.type??"work")!=="note"),X=w.groups.filter(U=>U.group.type==="note"),O=W.some(U=>U.items.length>0),q=[...W.map(U=>{const I=Number(U.group.minutesBudget);return Number.isFinite(I)&&I>0?`${U.group.name} ${I} min`:U.group.name}),...X.map(U=>{const I=Number(U.group.minutesBudget);return Number.isFinite(I)&&I>0?`${U.group.name} ${I} min`:U.group.name})].filter(Boolean).join("  "),N=U=>{const I=U.work,ue=Hc(I.tags),le=ue.includes(Wu),ce=ue.filter(We=>We!==Wu),we=E[I.id]??Eh,ae=(I.canEdit??!1)&&(I.nodeType??"").trim().toLowerCase()!=="style",be=F===I.id,xe=se.has(I.id),Ke=(I.descriptionMarkdown??"").trim(),nt=(I.notes??"").trim(),Je=(I.videoUrls??[]).map(We=>We.trim()).filter(Boolean),pt=Ke.length>0||nt.length>0||Je.length>0,Nt=async()=>{if(!_){P({type:"error",text:"Inicia sesin para editar trabajos."}),window.setTimeout(()=>P(null),2500);return}if(ae){Z(I.id);try{const We=le?ce:Array.from(new Set([...ce,Wu]));await i(I.id,{tags:We},_),P({type:"success",text:le?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>P(null),1800)}catch(We){console.error("No se pudo actualizar el trabajo",We),P({type:"error",text:"No se pudo actualizar el trabajo."}),window.setTimeout(()=>P(null),2500)}finally{Z(null)}}};return g.jsxs("article",{className:"flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-4 shadow shadow-black/15",children:[g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[pt?g.jsx("button",{type:"button",onClick:()=>R(We=>{const mt=new Set(We);return mt.has(I.id)?mt.delete(I.id):mt.add(I.id),mt}),className:Ae("mt-0.5 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white",xe?"rotate-90 border-white/30 text-white":""),"aria-label":xe?"Ocultar detalles":"Ver detalles",title:xe?"Ocultar detalles":"Ver detalles",children:""}):null,g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:I.name}),I.subtitle?g.jsx("p",{className:"text-sm text-white/70",children:I.subtitle}):null]})]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/15 bg-white/5 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:I.nodeType??"work"}),ce.slice(0,6).map(We=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5",children:We},We)),ce.length>6?g.jsxs("span",{className:"text-white/50",children:["+",ce.length-6]}):null]})]}),g.jsx("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/60 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"ltima vez"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:V3(U.lastSeen)}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:["Objetivo: ",U.targetDays," da",U.targetDays===1?"":"s"," "," ",U.overdueScore>=1e4?"Nuevo":`${U.overdueScore} vencido`]})]})})]}),pt&&xe?g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[Ke.length>0?g.jsx(ws,{content:Ke,enableWorkLinks:!0}):null,nt.length>0?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Notas"}),g.jsx(ws,{content:nt,enableWorkLinks:!0})]}):null,Je.length>0?g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Vdeos"}),g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:Je.map((We,mt)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(zc,{url:We,title:`${I.name} vdeo ${mt+1}`}),g.jsx("a",{href:We,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${I.id}-video-${mt}`))})]}):null]}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Object.keys(G0).map(We=>g.jsx("button",{type:"button",className:Ae("inline-flex items-center justify-center rounded-full border px-3 py-1 text-xs font-semibold transition",M3[We]),onClick:()=>Q(I.id,We),children:G0[We]},We))}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/40",children:"RPE"}),g.jsx("input",{type:"number",min:1,max:10,value:we,onChange:We=>{const mt=Number(We.target.value);j(En=>({...En,[I.id]:Number.isFinite(mt)?mt:Eh}))},className:"input-field w-20 text-center"}),g.jsx(wr,{to:`/catalog?workId=${encodeURIComponent(I.id)}`,className:"btn-secondary",children:"Ver en catlogo"}),g.jsx("button",{type:"button",onClick:Nt,disabled:!ae||be,className:Ae("inline-flex items-center rounded-full border px-4 py-2 text-xs font-semibold transition disabled:opacity-50",le?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400":"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400"),title:le?"Incluir en el plan personal":"Excluir del plan personal",children:be?"...":le?"Incluir":"Excluir"})]})]})]},I.id)},z=()=>{const U=L();f(U.id,{notes:M}),P({type:"success",text:"Recap guardado."}),window.setTimeout(()=>P(null),1800)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Hoy"}),g.jsx("p",{className:"text-white/60",children:"Plan directo de entrenamiento basado en cadencias y tu histrico personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesin de hoy"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:Be(h).format("dddd, D [de] MMMM")}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:[G," ",G===1?"tem registrado":"tems registrados"]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx(wr,{to:"/personal/sessions",className:"btn-secondary",children:"Ver sesiones"}),g.jsx(wr,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"})]})]})]}),C&&g.jsx("div",{className:Ae("mt-4 rounded-2xl border px-4 py-3 text-sm",C.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:C.text})]}),v.length===0?g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay ningn trabajo incluido en tu programa activo. Aade la tag ",g.jsx("span",{className:"font-semibold text-white",children:"kungfu"})," a los trabajos que quieras entrenar."]}):g.jsxs("section",{className:"space-y-4",children:[g.jsxs("div",{className:"glass-panel flex flex-col gap-3 p-6 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Sugerencias"}),g.jsx("p",{className:"text-sm text-white/60",children:"Priorizadas por lo vencido respecto a su cadencia objetivo."}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:[q?`Grupos: ${q}`:"Grupos: (sin configurar)",V?`  mx ${r.maxItems} tems`:"",$?`  ${r.minutesBudget} min`:""]})]}),g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[w.totalItems," sugeridos  ",w.plannedMinutes.total," min"]})]}),g.jsxs("div",{className:"space-y-3",children:[O?null:g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay sugerencias con los lmites actuales. Revisa ",g.jsx("span",{className:"font-semibold text-white",children:"Ajustes"})," o marca ms trabajos como entrenables."]}),W.filter(U=>U.items.length>0).map(U=>g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-5 sm:p-6",children:[g.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:U.group.name}),g.jsxs("p",{className:"text-sm text-white/60",children:[U.items.length," tem",U.items.length===1?"":"s"]})]}),g.jsxs("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/70",children:[U.plannedMinutes," min"]})]}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:U.items.map(N)})]},U.group.id)),X.length>0?g.jsxs("div",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[X[0].group.name," (",Math.max(0,Number(X[0].group.minutesBudget)||0)," min)"]}),g.jsx("p",{className:"text-sm text-white/60",children:"Una correccin concreta para maana."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:z,children:"Guardar recap"})]}),g.jsx("textarea",{className:"input-field min-h-[90px] w-full resize-y",value:M,onChange:U=>A(U.target.value),placeholder:"Ej: Transicin BC: bajar hombros y cerrar cadera."})]}):null]})]})]})}Be.locale("es");function K3(){const e=Ee(w=>w.sessions).filter(w=>w.kind==="personal"),t=Ee(w=>w.works),n=Ee(w=>w.objectives),r=Ee(w=>w.assistants),i=Ee(w=>w.addSession),[o,l]=Np(),u=k.useMemo(()=>[...e].sort((w,_)=>Be(_.date).valueOf()-Be(w.date).valueOf()),[e]),c=o.get("session")??void 0,f=c?e.find(w=>w.id===c):void 0,[h,p]=k.useState(f==null?void 0:f.id);k.useEffect(()=>{c&&!e.some(w=>w.id===c)&&(p(void 0),l({},{replace:!0}))},[c,e,l]);const y=h?e.find(w=>w.id===h):void 0,v=w=>{p(w),l({session:w},{replace:!0})},S=()=>{const w=Be().format("YYYY-MM-DD"),_=e.find(j=>j.date===w);if(_){v(_.id);return}const E=i({date:w,kind:"personal",title:"Entrenamiento personal",description:"",notes:""});v(E.id)};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("header",{className:"glass-panel p-6 sm:p-10",children:g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Sesiones"}),g.jsx("p",{className:"text-white/60",children:"Histrico y edicin de sesiones de entreno personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx(wr,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsx(wr,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:S,children:"Crear/abrir hoy"})]})]})}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.9fr]",children:[g.jsxs("section",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Sesiones"}),g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:u.length})]}),u.length===0?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/50",children:"No hay sesiones personales todava. Crea la sesin de hoy para empezar a registrar tu entrenamiento."}):g.jsx("div",{className:"space-y-2",children:u.map(w=>{const _=w.workItems.filter(E=>(E.completed??!1)||typeof E.result<"u").length;return g.jsxs("button",{type:"button",onClick:()=>v(w.id),className:Ae("flex w-full flex-col gap-1 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30 hover:bg-white/10",w.id===h&&"border-sky-400/60 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:w.title||"Sesin sin ttulo"}),g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:Be(w.date).format("ddd  D MMM YYYY")}),g.jsxs("p",{className:"text-xs text-white/60",children:[_,"/",w.workItems.length," registrados"]})]},w.id)})})]}),g.jsx("section",{className:"glass-panel p-6",children:y?g.jsx(L1,{session:y,works:t,objectives:n,assistants:r}):g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-10 text-center text-white/50",children:"Selecciona una sesin para verla y editarla."})})]})]})}const Sp=e=>Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(Boolean))),F1=e=>Array.from(new Set(e.split(",").map(t=>t.trim()).filter(Boolean))),z1=e=>(e??[]).join(", ");function Q0(e){const t=Sp(e.byTags),n=Sp(e.byNodeTypes),r=F1(z1(e.byWorkIds)),i={};return t&&t.length>0&&(i.byTags=t),n&&n.length>0&&(i.byNodeTypes=n),r&&r.length>0&&(i.byWorkIds=r),i}function G3(e){const t={};Object.entries(e.targetsDays??{}).forEach(([r,i])=>{const o=r.trim().toLowerCase(),l=Number(i);o&&Number.isFinite(l)&&(t[o]=Math.max(1,Math.round(l)))});const n=(e.overrides??[]).map(r=>{var i;return{match:{tagsAny:Sp(((i=r.match)==null?void 0:i.tagsAny)??[])},multiplier:Math.max(.1,Number(r.multiplier)||1)}}).filter(r=>r.match.tagsAny.length>0);return{targetsDays:t,overrides:n}}function J3(e){var j,C,P;const t=Math.max(1,Math.round(Number(e.maxItems)||12)),n=Math.max(1,Number(e.minutesBudget)||30),r={};Object.entries(e.defaultMinutesByNodeType??{}).forEach(([M,A])=>{const F=M.trim().toLowerCase(),Z=Number(A);F&&Number.isFinite(Z)&&(r[F]=Math.max(.25,Z))});const i=M=>M==="count"||M==="minutes"||M==="both",o=M=>M==="work"||M==="note",l=M=>M==="overdue"||M==="weighted",u=M=>M==="allow_all"||M==="prefer_leaves",c=M=>{if(!Array.isArray(M))return[];const A=M.map(F=>Number(F)).filter(F=>Number.isFinite(F)).map(F=>Math.round(F)).filter(F=>F>=0&&F<=6);return Array.from(new Set(A)).sort((F,Z)=>F-Z)},f=(M,A)=>{const F=(M.id??"").trim()||tn(),Z=o(M.type)?M.type:"work",se=typeof M.enabled=="boolean"?M.enabled:!0,R=Number.isFinite(Number(M.order))?Number(M.order):A,L=(M.name??"").trim()||(Z==="note"?"Recap":"Grupo"),Q=i(M.limitMode)?M.limitMode:"minutes",G=Number.isFinite(Number(M.maxItems))?Math.max(0,Math.round(Number(M.maxItems))):void 0,V=Number.isFinite(Number(M.minutesBudget))?Math.max(0,Number(M.minutesBudget)):void 0,$=l(M.strategy)?M.strategy:"overdue",W=u(M.hierarchyRule)?M.hierarchyRule:"allow_all",X=(M.include??[]).map(Q0).filter(q=>Object.keys(q).length>0),O=(M.exclude??[]).map(Q0).filter(q=>Object.keys(q).length>0);return{id:F,name:L,enabled:se,order:R,type:Z,daysOfWeek:c(M.daysOfWeek),limitMode:Q,maxItems:G,minutesBudget:V,strategy:$,hierarchyRule:W,include:X,exclude:O}},p=((e.groups??[]).length>0?e.groups??[]:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]).map((M,A)=>f(M,A+1)).sort((M,A)=>M.order-A.order).map((M,A)=>({...M,order:A+1})),y=p.filter(M=>(M.type??"work")!=="note"),v=p.filter(M=>M.type==="note"),S=Math.max(0,Number((j=y[0])==null?void 0:j.minutesBudget)||0),w=Math.max(0,Number((C=y[1])==null?void 0:C.minutesBudget)||0),_=Math.max(0,Number((P=v[0])==null?void 0:P.minutesBudget)||0),E=Math.max(0,S+w+_);return{limitMode:e.limitMode,maxItems:t,minutesBudget:n,template:{totalMinutes:E,focusMinutes:S,rouletteMinutes:w,recapMinutes:_},defaultMinutesByNodeType:r,focusSelectors:[],rouletteSelectors:[],groups:p}}const Q3={},X3=[{label:"L",value:1},{label:"M",value:2},{label:"X",value:3},{label:"J",value:4},{label:"V",value:5},{label:"S",value:6},{label:"D",value:0}];function Z3(){const e=Ee(C=>C.kungfuCadence),t=Ee(C=>C.kungfuTodayPlan),n=Ee(C=>C.workTaxonomy),r=Ee(C=>C.upsertNodeType),i=Ee(C=>C.upsertTag),o=Ee(C=>C.setKungfuCadence),l=Ee(C=>C.setKungfuTodayPlan),[u,c]=k.useState(e),[f,h]=k.useState(t),[p,y]=k.useState(null);k.useEffect(()=>{c(e)},[e]),k.useEffect(()=>{h(t)},[t]);const v=k.useMemo(()=>JSON.stringify(e)!==JSON.stringify(u)||JSON.stringify(t)!==JSON.stringify(f),[e,t,u,f]),S=C=>{y(C),C&&window.setTimeout(()=>y(null),C.type==="success"?1800:2600)},w=()=>{try{const C=G3(u),P=J3(f);o(C),l(P),S({type:"success",text:"Guardado."})}catch(C){const P=C instanceof Error?C.message:"No se pudo guardar.";S({type:"error",text:P})}},_=()=>{c(e),h(t),S({type:"success",text:"Cambios descartados."})},E=k.useMemo(()=>(n.nodeTypes??[]).slice().sort((C,P)=>C.label.localeCompare(P.label,"en",{sensitivity:"base"})).map(C=>({value:C.key,label:C.label})),[n.nodeTypes]),j=k.useMemo(()=>(n.tags??[]).slice().sort((C,P)=>C.name.localeCompare(P.name,"en",{sensitivity:"base"})).map(C=>({value:C.name,label:C.name})),[n.tags]);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Ajustes"}),g.jsx("p",{className:"text-white/60",children:"Grupos, cadencias y plantilla de sesin para el modo Personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsx(wr,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:_,disabled:!v,children:"Descartar"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:w,disabled:!v,children:"Guardar"})]})]})]}),p?g.jsx("div",{className:Ae("mt-4 rounded-2xl border px-4 py-3 text-sm",p.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:p.text}):null]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Plan de hoy"}),g.jsx("p",{className:"text-sm text-white/60",children:"Controla cuntos tems se sugieren y el presupuesto de minutos."})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Modo de lmite"}),g.jsxs("select",{className:"input-field",value:f.limitMode,onChange:C=>h(P=>({...P,limitMode:C.target.value})),children:[g.jsx("option",{value:"count",children:"Por cantidad"}),g.jsx("option",{value:"minutes",children:"Por minutos"}),g.jsx("option",{value:"both",children:"Cantidad y minutos"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx. tems"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:f.maxItems,onChange:C=>h(P=>({...P,maxItems:Number(C.target.value)}))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Presupuesto (min)"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:f.minutesBudget,onChange:C=>h(P=>({...P,minutesBudget:Number(C.target.value)}))})]})]}),g.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Grupos"}),g.jsx("p",{className:"text-sm text-white/60",children:"Define bloques con reglas, das de la semana y lmites."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>h(C=>{const P=[...C.groups??[]].sort((F,Z)=>(F.order??0)-(Z.order??0)),M={id:tn(),name:"Nuevo grupo",enabled:!0,order:P.length+1,type:"work",daysOfWeek:[],limitMode:"minutes",maxItems:12,minutesBudget:5,strategy:"overdue",hierarchyRule:"allow_all",include:[],exclude:[]},A=[...P,M].map((F,Z)=>({...F,order:Z+1}));return{...C,groups:A}}),children:"+ Grupo"})]}),g.jsx("div",{className:"space-y-4",children:[...f.groups??[]].sort((C,P)=>(C.order??0)-(P.order??0)).map((C,P,M)=>{const A=C.type??"work",F=C.daysOfWeek??[],Z=F.length===0,se=C.limitMode??"minutes",R=C.strategy??"overdue",L=C.hierarchyRule??"allow_all",Q=W=>{h(X=>{const q=[...X.groups??[]].sort((N,z)=>(N.order??0)-(z.order??0)).map(N=>N.id===C.id?{...N,...W}:N).map((N,z)=>({...N,order:z+1}));return{...X,groups:q}})},G=W=>{h(X=>{const O=[...X.groups??[]].sort((I,ue)=>(I.order??0)-(ue.order??0)),q=O.findIndex(I=>I.id===C.id),N=q+W;if(q<0||N<0||N>=O.length)return X;const z=O.slice(),U=z[q];return z[q]=z[N],z[N]=U,{...X,groups:z.map((I,ue)=>({...I,order:ue+1}))}})},V=()=>{h(W=>{const O=[...W.groups??[]].sort((q,N)=>(q.order??0)-(N.order??0)).filter(q=>q.id!==C.id).map((q,N)=>({...q,order:N+1}));return{...W,groups:O.length>0?O:W.groups}})},$=(W,X)=>{const O=C[W]??[];Q({[W]:X(O)})};return g.jsx("div",{className:"rounded-3xl border border-white/10 bg-slate-950/40 p-5",children:g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[g.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:C.enabled,onChange:W=>Q({enabled:W.target.checked})}),"Enabled"]}),g.jsx("input",{type:"text",className:"input-field flex-1",value:C.name,onChange:W=>Q({name:W.target.value}),placeholder:"Nombre del grupo"}),g.jsxs("select",{className:"input-field w-36",value:A,onChange:W=>Q({type:W.target.value}),children:[g.jsx("option",{value:"work",children:"Trabajos"}),g.jsx("option",{value:"note",children:"Nota"})]})]}),g.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Das"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("button",{type:"button",className:Ae("rounded-full border px-3 py-1 text-xs font-semibold transition",Z?"border-sky-500/40 bg-sky-500/10 text-sky-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>Q({daysOfWeek:[]}),title:"Vaco = todos los das",children:"Todos"}),X3.map(W=>{const X=Z?!0:F.includes(W.value);return g.jsx("button",{type:"button",className:Ae("h-8 w-8 rounded-full border text-xs font-semibold transition",X?"border-emerald-500/40 bg-emerald-500/10 text-emerald-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>{const O=Z?[W.value]:F.includes(W.value)?F.filter(q=>q!==W.value):[...F,W.value];Q({daysOfWeek:O.sort((q,N)=>q-N)})},title:X?"Activo":"Inactivo",children:W.label},W.value)})]}),g.jsx("p",{className:"text-xs text-white/50",children:"Si eliges das especficos, solo aparecer esos das."})]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Lmite"}),g.jsxs("select",{className:"input-field",value:se,onChange:W=>Q({limitMode:W.target.value}),children:[g.jsx("option",{value:"count",children:"Cantidad"}),g.jsx("option",{value:"minutes",children:"Minutos"}),g.jsx("option",{value:"both",children:"Ambos"})]})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx tems"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:C.maxItems??0,onChange:W=>Q({maxItems:Number(W.target.value)})})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx min"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:C.minutesBudget??0,onChange:W=>Q({minutesBudget:Number(W.target.value)})})]})]})]}),A==="work"?g.jsxs("div",{className:"mt-2 grid gap-4 lg:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Estrategia"}),g.jsxs("select",{className:"input-field",value:R,onChange:W=>Q({strategy:W.target.value}),children:[g.jsx("option",{value:"overdue",children:"Vencido (cadencia)"}),g.jsx("option",{value:"weighted",children:"Ponderado (ruleta)"})]})]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:L==="prefer_leaves",onChange:W=>Q({hierarchyRule:W.target.checked?"prefer_leaves":"allow_all"})}),"Preferir hijos (evita padres cuando existan)"]})]}):null,A==="work"?g.jsx("div",{className:"mt-4 grid gap-5 lg:grid-cols-2",children:["include","exclude"].map(W=>g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-sm font-semibold text-white/80",children:W==="include"?"Include (OR)":"Exclude (OR)"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>$(W,X=>[...X,{...Q3}]),children:"+ Regla"})]}),(C[W]??[]).length===0?g.jsx("p",{className:"text-xs text-white/50",children:W==="include"?"Vaco = incluye todo (se aplican excludes).":"Vaco = no excluye nada."}):null,(C[W]??[]).map((X,O)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Regla ",O+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>$(W,q=>q.filter((N,z)=>z!==O)),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (AND)"}),g.jsx(Ba,{options:j,value:X.byTags??[],onChange:q=>$(W,N=>{const z=[...N];return z[O]={...z[O],byTags:q},z}),placeholder:"Search tags",allowCreate:!0,onCreate:q=>{const N=i(q);return N?{createdValue:N,createdLabel:N}:null}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Node types"}),g.jsx(Ba,{options:E,value:X.byNodeTypes??[],onChange:q=>$(W,N=>{const z=[...N];return z[O]={...z[O],byNodeTypes:q},z}),placeholder:"Search node types",allowCreate:!0,onCreate:q=>{const N=r(q);return N?{createdValue:N,createdLabel:q.trim()}:null}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Work IDs"}),g.jsx("input",{type:"text",className:"input-field",value:z1(X.byWorkIds),placeholder:"id1, id2",onChange:q=>{const N=F1(q.target.value);$(W,z=>{const U=[...z];return U[O]={...U[O],byWorkIds:N},U})}})]})]})]},`${W}-${C.id}-${O}`))]},`${C.id}-${W}`))}):null]}),g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>G(-1),disabled:P===0,title:"Subir",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>G(1),disabled:P===M.length-1,title:"Bajar",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:V,disabled:M.length<=1,children:"Eliminar"})]})]})},C.id)})})]}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Estimacin de minutos por tipo"}),g.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:Object.entries(f.defaultMinutesByNodeType).sort(([C],[P])=>C.localeCompare(P,"es",{sensitivity:"base"})).map(([C,P])=>g.jsxs("label",{className:"grid gap-2",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:C}),g.jsx("input",{type:"number",min:.25,step:.25,className:"input-field",value:P,onChange:M=>h(A=>({...A,defaultMinutesByNodeType:{...A.defaultMinutesByNodeType,[C]:Number(M.target.value)}}))})]},C))})]})]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Cadencias"}),g.jsx("p",{className:"text-sm text-white/60",children:"Objetivo de das por tipo, con overrides por tags."})]}),g.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Array.from(new Set([...Object.keys(u.targetsDays??{}),...(n.nodeTypes??[]).map(C=>C.key)])).map(C=>C.trim().toLowerCase()).filter(Boolean).sort((C,P)=>C.localeCompare(P,"en",{sensitivity:"base"})).map(C=>{var A;const P=((A=(n.nodeTypes??[]).find(F=>F.key===C))==null?void 0:A.label)??C,M=(u.targetsDays??{})[C]??(u.targetsDays??{}).work??7;return g.jsxs("label",{className:"grid gap-2",children:[g.jsxs("span",{className:"text-xs uppercase tracking-wide text-white/40",children:[P," ",g.jsxs("span",{className:"text-white/30",children:["(",C,")"]})]}),g.jsx("input",{type:"number",min:1,className:"input-field",value:M,onChange:F=>c(Z=>({...Z,targetsDays:{...Z.targetsDays,[C]:Number(F.target.value)}}))})]},C)})}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Overrides"}),g.jsxs("div",{className:"mt-3 space-y-3",children:[(u.overrides??[]).map((C,P)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Override ",P+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>c(M=>({...M,overrides:(M.overrides??[]).filter((A,F)=>F!==P)})),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (ANY)"}),g.jsx(Ba,{options:j,value:C.match.tagsAny??[],onChange:M=>c(A=>{const F=[...A.overrides??[]];return F[P]={...C,match:{tagsAny:M}},{...A,overrides:F}}),placeholder:"Search tags",allowCreate:!0,onCreate:M=>{const A=i(M);return A?{createdValue:A,createdLabel:A}:null}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Multiplier"}),g.jsx("input",{type:"number",min:.1,step:.1,className:"input-field",value:C.multiplier,onChange:M=>{const A=Number(M.target.value);c(F=>{const Z=[...F.overrides??[]];return Z[P]={...C,multiplier:A},{...F,overrides:Z}})}})]})]})]},`override-${P}`)),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>c(C=>({...C,overrides:[...C.overrides??[],{match:{tagsAny:[]},multiplier:1}]})),children:"+ Aadir override"})]})]})]})]})}const X0=[{to:"/",label:"Sesiones"},{to:"/personal",label:"Personal"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function e5(){const[e,t]=k.useState(!1),[n,r]=k.useState(!1),{user:i,signOut:o}=_s(),l=async()=>{try{r(!0),await o()}catch(u){console.error("No se pudo cerrar sesin",u)}finally{r(!1),t(!1)}};return g.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[g.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[g.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),g.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increbles"})]})]}),g.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[g.jsx("nav",{className:"flex items-center gap-2",children:X0.map(u=>g.jsx(mv,{to:u.to,className:({isActive:c})=>`rounded-full px-4 py-2 text-sm font-medium transition ${c?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:u.label},u.to))}),g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-white/50",children:"Sesin iniciada"}),g.jsx("p",{className:"text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"})]}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]}),g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),g.jsxs(tx,{open:e,onClose:t,className:"md:hidden",children:[g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),g.jsxs(tx.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegacin"}),g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsx("div",{className:"mt-6 flex flex-col gap-2",children:X0.map(u=>g.jsx(mv,{to:u.to,className:({isActive:c})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${c?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:u.label},u.to))}),g.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesin iniciada"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]})]})]})}function t5(){return TR(),IR(),g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(e5,{}),g.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:g.jsx(uw,{})})]})}function n5(){return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),g.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner"})]})})}function r5(){const{session:e,loading:t}=_s(),n=ii();return t?g.jsx(n5,{}):e?g.jsx(uw,{}):g.jsx(vc,{to:"/login",replace:!0,state:{from:n}})}function i5(){return g.jsx(W_,{children:g.jsxs(O_,{children:[g.jsx(xn,{path:"/login",element:g.jsx(O3,{})}),g.jsx(xn,{element:g.jsx(r5,{}),children:g.jsxs(xn,{element:g.jsx(t5,{}),children:[g.jsx(xn,{index:!0,element:g.jsx(S3,{})}),g.jsx(xn,{path:"personal",element:g.jsx(Y3,{})}),g.jsx(xn,{path:"personal/sessions",element:g.jsx(K3,{})}),g.jsx(xn,{path:"personal/settings",element:g.jsx(Z3,{})}),g.jsx(xn,{path:"plan",element:g.jsx(E3,{})}),g.jsx(xn,{path:"catalog",element:g.jsx(T3,{})}),g.jsx(xn,{path:"catalog/taxonomy",element:g.jsx(I3,{})}),g.jsx(xn,{path:"objectives",element:g.jsx(P3,{})}),g.jsx(xn,{path:"assistants",element:g.jsx(A3,{})}),g.jsx(xn,{path:"backups",element:g.jsx(R3,{})})]})}),g.jsx(xn,{path:"*",element:g.jsx(vc,{to:"/",replace:!0})})]})})}function s5({children:e}){const[t,n]=k.useState(null),[r,i]=k.useState(null),[o,l]=k.useState(!0);k.useEffect(()=>{let c=!0;(async()=>{l(!0);const{data:{session:p}}=await zt.auth.getSession();c&&(n(p),i((p==null?void 0:p.user)??null),l(!1))})();const{data:{subscription:h}}=zt.auth.onAuthStateChange((p,y)=>{c&&(n(y),i((y==null?void 0:y.user)??null),l(!1))});return()=>{c=!1,h.unsubscribe()}},[]);const u=k.useMemo(()=>({session:t,user:r,loading:o,signInWithPassword:async(c,f)=>{const{error:h}=await zt.auth.signInWithPassword({email:c,password:f});if(h)throw h},signUpWithPassword:async(c,f)=>{const p=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:y}=await zt.auth.signUp({email:c,password:f,options:{emailRedirectTo:p}});if(y)throw y},signOut:async()=>{const{error:c}=await zt.auth.signOut();if(c)throw c}}),[o,t,r]);return g.jsx(Ob.Provider,{value:u,children:e})}Ee.getState().hydrate();WE.createRoot(document.getElementById("root")).render(g.jsx(Se.StrictMode,{children:g.jsx(s5,{children:g.jsx(i5,{})})}));
