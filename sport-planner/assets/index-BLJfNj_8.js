function DE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $E(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Nf={exports:{}},xa={},Tf={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function FE(){if(rv)return Ge;rv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=p&&P[p]||P["@@iterator"],typeof P=="function"?P:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function _(P,W,I){this.props=P,this.context=W,this.refs=w,this.updater=I||y}_.prototype.isReactComponent={},_.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function E(){}E.prototype=_.prototype;function j(P,W,I){this.props=P,this.context=W,this.refs=w,this.updater=I||y}var C=j.prototype=new E;C.constructor=j,S(C,_.prototype),C.isPureReactComponent=!0;var A=Array.isArray,O=Object.prototype.hasOwnProperty,R={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function re(P,W,I){var oe,ae={},ue=null,ve=null;if(W!=null)for(oe in W.ref!==void 0&&(ve=W.ref),W.key!==void 0&&(ue=""+W.key),W)O.call(W,oe)&&!z.hasOwnProperty(oe)&&(ae[oe]=W[oe]);var ce=arguments.length-2;if(ce===1)ae.children=I;else if(1<ce){for(var we=Array(ce),be=0;be<ce;be++)we[be]=arguments[be+2];ae.children=we}if(P&&P.defaultProps)for(oe in ce=P.defaultProps,ce)ae[oe]===void 0&&(ae[oe]=ce[oe]);return{$$typeof:e,type:P,key:ue,ref:ve,props:ae,_owner:R.current}}function X(P,W){return{$$typeof:e,type:P.type,key:W,ref:P.ref,props:P.props,_owner:P._owner}}function L(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function $(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(I){return W[I]})}var Q=/\/+/g;function q(P,W){return typeof P=="object"&&P!==null&&P.key!=null?$(""+P.key):W.toString(36)}function V(P,W,I,oe,ae){var ue=typeof P;(ue==="undefined"||ue==="boolean")&&(P=null);var ve=!1;if(P===null)ve=!0;else switch(ue){case"string":case"number":ve=!0;break;case"object":switch(P.$$typeof){case e:case t:ve=!0}}if(ve)return ve=P,ae=ae(ve),P=oe===""?"."+q(ve,0):oe,A(ae)?(I="",P!=null&&(I=P.replace(Q,"$&/")+"/"),V(ae,W,I,"",function(be){return be})):ae!=null&&(L(ae)&&(ae=X(ae,I+(!ae.key||ve&&ve.key===ae.key?"":(""+ae.key).replace(Q,"$&/")+"/")+P)),W.push(ae)),1;if(ve=0,oe=oe===""?".":oe+":",A(P))for(var ce=0;ce<P.length;ce++){ue=P[ce];var we=oe+q(ue,ce);ve+=V(ue,W,I,we,ae)}else if(we=v(P),typeof we=="function")for(P=we.call(P),ce=0;!(ue=P.next()).done;)ue=ue.value,we=oe+q(ue,ce++),ve+=V(ue,W,I,we,ae);else if(ue==="object")throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ve}function F(P,W,I){if(P==null)return P;var oe=[],ae=0;return V(P,oe,"","",function(ue){return W.call(I,ue,ae++)}),oe}function U(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(I){(P._status===0||P._status===-1)&&(P._status=1,P._result=I)},function(I){(P._status===0||P._status===-1)&&(P._status=2,P._result=I)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var Z={current:null},M={transition:null},Y={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:M,ReactCurrentOwner:R};function N(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:F,forEach:function(P,W,I){F(P,function(){W.apply(this,arguments)},I)},count:function(P){var W=0;return F(P,function(){W++}),W},toArray:function(P){return F(P,function(W){return W})||[]},only:function(P){if(!L(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ge.Component=_,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=j,Ge.StrictMode=r,Ge.Suspense=c,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ge.act=N,Ge.cloneElement=function(P,W,I){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var oe=S({},P.props),ae=P.key,ue=P.ref,ve=P._owner;if(W!=null){if(W.ref!==void 0&&(ue=W.ref,ve=R.current),W.key!==void 0&&(ae=""+W.key),P.type&&P.type.defaultProps)var ce=P.type.defaultProps;for(we in W)O.call(W,we)&&!z.hasOwnProperty(we)&&(oe[we]=W[we]===void 0&&ce!==void 0?ce[we]:W[we])}var we=arguments.length-2;if(we===1)oe.children=I;else if(1<we){ce=Array(we);for(var be=0;be<we;be++)ce[be]=arguments[be+2];oe.children=ce}return{$$typeof:e,type:P.type,key:ae,ref:ue,props:oe,_owner:ve}},Ge.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:o,_context:P},P.Consumer=P},Ge.createElement=re,Ge.createFactory=function(P){var W=re.bind(null,P);return W.type=P,W},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(P){return{$$typeof:u,render:P}},Ge.isValidElement=L,Ge.lazy=function(P){return{$$typeof:h,_payload:{_status:-1,_result:P},_init:U}},Ge.memo=function(P,W){return{$$typeof:f,type:P,compare:W===void 0?null:W}},Ge.startTransition=function(P){var W=M.transition;M.transition={};try{P()}finally{M.transition=W}},Ge.unstable_act=N,Ge.useCallback=function(P,W){return Z.current.useCallback(P,W)},Ge.useContext=function(P){return Z.current.useContext(P)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(P){return Z.current.useDeferredValue(P)},Ge.useEffect=function(P,W){return Z.current.useEffect(P,W)},Ge.useId=function(){return Z.current.useId()},Ge.useImperativeHandle=function(P,W,I){return Z.current.useImperativeHandle(P,W,I)},Ge.useInsertionEffect=function(P,W){return Z.current.useInsertionEffect(P,W)},Ge.useLayoutEffect=function(P,W){return Z.current.useLayoutEffect(P,W)},Ge.useMemo=function(P,W){return Z.current.useMemo(P,W)},Ge.useReducer=function(P,W,I){return Z.current.useReducer(P,W,I)},Ge.useRef=function(P){return Z.current.useRef(P)},Ge.useState=function(P){return Z.current.useState(P)},Ge.useSyncExternalStore=function(P,W,I){return Z.current.useSyncExternalStore(P,W,I)},Ge.useTransition=function(){return Z.current.useTransition()},Ge.version="18.3.1",Ge}var iv;function gc(){return iv||(iv=1,Tf.exports=FE()),Tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function zE(){if(sv)return xa;sv=1;var e=gc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var h,p={},v=null,y=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:t,type:u,key:v,ref:y,props:p,_owner:i.current}}return xa.Fragment=n,xa.jsx=l,xa.jsxs=l,xa}var ov;function BE(){return ov||(ov=1,Nf.exports=zE()),Nf.exports}var g=BE(),k=gc();const Se=No(k),Vu=DE({__proto__:null,default:Se},[k]);var vu={},If={exports:{}},Pn={},Pf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function UE(){return av||(av=1,(function(e){function t(M,Y){var N=M.length;M.push(Y);e:for(;0<N;){var P=N-1>>>1,W=M[P];if(0<i(W,Y))M[P]=Y,M[N]=W,N=P;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var Y=M[0],N=M.pop();if(N!==Y){M[0]=N;e:for(var P=0,W=M.length,I=W>>>1;P<I;){var oe=2*(P+1)-1,ae=M[oe],ue=oe+1,ve=M[ue];if(0>i(ae,N))ue<W&&0>i(ve,ae)?(M[P]=ve,M[ue]=N,P=ue):(M[P]=ae,M[oe]=N,P=oe);else if(ue<W&&0>i(ve,N))M[P]=ve,M[ue]=N,P=ue;else break e}}return Y}function i(M,Y){var N=M.sortIndex-Y.sortIndex;return N!==0?N:M.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],f=[],h=1,p=null,v=3,y=!1,S=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(M){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=M)r(f),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=n(f)}}function A(M){if(w=!1,C(M),!S)if(n(c)!==null)S=!0,U(O);else{var Y=n(f);Y!==null&&Z(A,Y.startTime-M)}}function O(M,Y){S=!1,w&&(w=!1,E(re),re=-1),y=!0;var N=v;try{for(C(Y),p=n(c);p!==null&&(!(p.expirationTime>Y)||M&&!$());){var P=p.callback;if(typeof P=="function"){p.callback=null,v=p.priorityLevel;var W=P(p.expirationTime<=Y);Y=e.unstable_now(),typeof W=="function"?p.callback=W:p===n(c)&&r(c),C(Y)}else r(c);p=n(c)}if(p!==null)var I=!0;else{var oe=n(f);oe!==null&&Z(A,oe.startTime-Y),I=!1}return I}finally{p=null,v=N,y=!1}}var R=!1,z=null,re=-1,X=5,L=-1;function $(){return!(e.unstable_now()-L<X)}function Q(){if(z!==null){var M=e.unstable_now();L=M;var Y=!0;try{Y=z(!0,M)}finally{Y?q():(R=!1,z=null)}}else R=!1}var q;if(typeof j=="function")q=function(){j(Q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=Q,q=function(){F.postMessage(null)}}else q=function(){_(Q,0)};function U(M){z=M,R||(R=!0,q())}function Z(M,Y){re=_(function(){M(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,U(O))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var N=v;v=Y;try{return M()}finally{v=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var N=v;v=M;try{return Y()}finally{v=N}},e.unstable_scheduleCallback=function(M,Y,N){var P=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?P+N:P):N=P,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=N+W,M={id:h++,callback:Y,priorityLevel:M,startTime:N,expirationTime:W,sortIndex:-1},N>P?(M.sortIndex=N,t(f,M),n(c)===null&&M===n(f)&&(w?(E(re),re=-1):w=!0,Z(A,N-P))):(M.sortIndex=W,t(c,M),S||y||(S=!0,U(O))),M},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(M){var Y=v;return function(){var N=v;v=Y;try{return M.apply(this,arguments)}finally{v=N}}}})(Af)),Af}var lv;function WE(){return lv||(lv=1,Pf.exports=UE()),Pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function HE(){if(uv)return Pn;uv=1;var e=gc(),t=WE();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(s){return c.call(p,s)?!0:c.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function y(s,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,d,m){if(a===null||typeof a>"u"||y(s,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,d,m,x,b,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=T}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];_[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(E,j);_[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(E,j);_[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(E,j);_[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,a,d,m){var x=_.hasOwnProperty(a)?_[a]:null;(x!==null?x.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,d,x,m)&&(d=null),m||x===null?v(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):x.mustUseProperty?s[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,m=x.attributeNamespace,d===null?s.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?s.setAttributeNS(m,a,d):s.setAttribute(a,d))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),R=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),M=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var N=Object.assign,P;function W(s){if(P===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||""}return`
`+P+s}var I=!1;function oe(s,a){if(!s||I)return"";I=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(se){var m=se}Reflect.construct(s,[],a)}else{try{a.call()}catch(se){m=se}s.call(a.prototype)}else{try{throw Error()}catch(se){m=se}s()}}catch(se){if(se&&m&&typeof se.stack=="string"){for(var x=se.stack.split(`
`),b=m.stack.split(`
`),T=x.length-1,B=b.length-1;1<=T&&0<=B&&x[T]!==b[B];)B--;for(;1<=T&&0<=B;T--,B--)if(x[T]!==b[B]){if(T!==1||B!==1)do if(T--,B--,0>B||x[T]!==b[B]){var H=`
`+x[T].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=T&&0<=B);break}}}finally{I=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?W(s):""}function ae(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case R:return"Portal";case X:return"Profiler";case re:return"StrictMode";case q:return"Suspense";case V:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return a=s.displayName||null,a!==null?a:ue(s.type)||"Memo";case U:a=s._payload,s=s._init;try{return ue(s(a))}catch{}}return null}function ve(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(a);case 8:return a===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function we(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function be(s){var a=we(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,b=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,b.call(this,T)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ve(s){s._valueTracker||(s._valueTracker=be(s))}function Ze(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return s&&(m=we(s)?s.checked?"true":"false":s.value),s=m,s!==d?(a.setValue(s),!0):!1}function _e(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ue(s,a){var d=a.checked;return N({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Xe(s,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=ce(a.value!=null?a.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function yt(s,a){a=a.checked,a!=null&&C(s,"checked",a,!1)}function Be(s,a){yt(s,a);var d=ce(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?J(s,a.type,d):a.hasOwnProperty("defaultValue")&&J(s,a.type,ce(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function lt(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function J(s,a,d){(a!=="number"||_e(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var le=Array.isArray;function de(s,a,d,m){if(s=s.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=a.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&m&&(s[d].defaultSelected=!0)}else{for(d=""+ce(d),a=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}a!==null||s[x].disabled||(a=s[x])}a!==null&&(a.selected=!0)}}function Ce(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return N({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function xe(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(le(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:ce(d)}}function D(s,a){var d=ce(a.value),m=ce(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function te(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function K(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ee(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?K(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ge,Pe=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,x){MSApp.execUnsafeLocalFunction(function(){return s(a,d,m,x)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ge=ge||document.createElement("div"),ge.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ge.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function $e(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];Object.keys(ke).forEach(function(s){dt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ke[a]=ke[s]})});function ct(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||ke.hasOwnProperty(s)&&ke[s]?(""+a).trim():a+"px"}function Ke(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=ct(d,a[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,x):s[d]=x}}var kt=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nt(s,a){if(a){if(kt[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Wt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=null;function gn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var at=null,yn=null,vt=null;function Ye(s){if(s=ia(s)){if(typeof at!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Rl(a),at(s.stateNode,s.type,a))}}function st(s){yn?vt?vt.push(s):vt=[s]:yn=s}function rt(){if(yn){var s=yn,a=vt;if(vt=yn=null,Ye(s),a)for(s=0;s<a.length;s++)Ye(a[s])}}function St(s,a){return s(a)}function rn(){}var _n=!1;function Wr(s,a,d){if(_n)return s(a,d);_n=!0;try{return St(s,a,d)}finally{_n=!1,(yn!==null||vt!==null)&&(rn(),rt())}}function Ct(s,a){var d=s.stateNode;if(d===null)return null;var m=Rl(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Jn=!1;if(u)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Jn=!1}function ar(s,a,d,m,x,b,T,B,H){var se=Array.prototype.slice.call(arguments,3);try{a.apply(d,se)}catch(he){this.onError(he)}}var lr=!1,_r=null,$n=!1,Hr=null,Fo={onError:function(s){lr=!0,_r=s}};function V1(s,a,d,m,x,b,T,B,H){lr=!1,_r=null,ar.apply(Fo,arguments)}function q1(s,a,d,m,x,b,T,B,H){if(V1.apply(this,arguments),lr){if(lr){var se=_r;lr=!1,_r=null}else throw Error(n(198));$n||($n=!0,Hr=se)}}function Ui(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function Cm(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function jm(s){if(Ui(s)!==s)throw Error(n(188))}function Y1(s){var a=s.alternate;if(!a){if(a=Ui(s),a===null)throw Error(n(188));return a!==s?null:s}for(var d=s,m=a;;){var x=d.return;if(x===null)break;var b=x.alternate;if(b===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===d)return jm(x),s;if(b===m)return jm(x),a;b=b.sibling}throw Error(n(188))}if(d.return!==m.return)d=x,m=b;else{for(var T=!1,B=x.child;B;){if(B===d){T=!0,d=x,m=b;break}if(B===m){T=!0,m=x,d=b;break}B=B.sibling}if(!T){for(B=b.child;B;){if(B===d){T=!0,d=b,m=x;break}if(B===m){T=!0,m=b,d=x;break}B=B.sibling}if(!T)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:a}function Nm(s){return s=Y1(s),s!==null?Tm(s):null}function Tm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Tm(s);if(a!==null)return a;s=s.sibling}return null}var Im=t.unstable_scheduleCallback,Pm=t.unstable_cancelCallback,K1=t.unstable_shouldYield,G1=t.unstable_requestPaint,Ot=t.unstable_now,J1=t.unstable_getCurrentPriorityLevel,Yc=t.unstable_ImmediatePriority,Am=t.unstable_UserBlockingPriority,hl=t.unstable_NormalPriority,Q1=t.unstable_LowPriority,Rm=t.unstable_IdlePriority,pl=null,Cr=null;function X1(s){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(pl,s,void 0,(s.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:tS,Z1=Math.log,eS=Math.LN2;function tS(s){return s>>>=0,s===0?32:31-(Z1(s)/eS|0)|0}var ml=64,gl=4194304;function zo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function yl(s,a){var d=s.pendingLanes;if(d===0)return 0;var m=0,x=s.suspendedLanes,b=s.pingedLanes,T=d&268435455;if(T!==0){var B=T&~x;B!==0?m=zo(B):(b&=T,b!==0&&(m=zo(b)))}else T=d&~x,T!==0?m=zo(T):b!==0&&(m=zo(b));if(m===0)return 0;if(a!==0&&a!==m&&(a&x)===0&&(x=m&-m,b=a&-a,x>=b||x===16&&(b&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)d=31-ur(a),x=1<<d,m|=s[d],a&=~x;return m}function nS(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rS(s,a){for(var d=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,b=s.pendingLanes;0<b;){var T=31-ur(b),B=1<<T,H=x[T];H===-1?((B&d)===0||(B&m)!==0)&&(x[T]=nS(B,a)):H<=a&&(s.expiredLanes|=B),b&=~B}}function Kc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Om(){var s=ml;return ml<<=1,(ml&4194240)===0&&(ml=64),s}function Gc(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function Bo(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ur(a),s[a]=d}function iS(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var x=31-ur(d),b=1<<x;a[x]=0,m[x]=-1,s[x]=-1,d&=~b}}function Jc(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var m=31-ur(d),x=1<<m;x&a|s[m]&a&&(s[m]|=a),d&=~x}}var ut=0;function Mm(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Lm,Qc,Dm,$m,Fm,Xc=!1,vl=[],oi=null,ai=null,li=null,Uo=new Map,Wo=new Map,ui=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zm(s,a){switch(s){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Uo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(a.pointerId)}}function Ho(s,a,d,m,x,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[x]},a!==null&&(a=ia(a),a!==null&&Qc(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),s)}function oS(s,a,d,m,x){switch(a){case"focusin":return oi=Ho(oi,s,a,d,m,x),!0;case"dragenter":return ai=Ho(ai,s,a,d,m,x),!0;case"mouseover":return li=Ho(li,s,a,d,m,x),!0;case"pointerover":var b=x.pointerId;return Uo.set(b,Ho(Uo.get(b)||null,s,a,d,m,x)),!0;case"gotpointercapture":return b=x.pointerId,Wo.set(b,Ho(Wo.get(b)||null,s,a,d,m,x)),!0}return!1}function Bm(s){var a=Wi(s.target);if(a!==null){var d=Ui(a);if(d!==null){if(a=d.tag,a===13){if(a=Cm(d),a!==null){s.blockedOn=a,Fm(s.priority,function(){Dm(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=ed(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);It=m,d.target.dispatchEvent(m),It=null}else return a=ia(d),a!==null&&Qc(a),s.blockedOn=d,!1;a.shift()}return!0}function Um(s,a,d){xl(s)&&d.delete(a)}function aS(){Xc=!1,oi!==null&&xl(oi)&&(oi=null),ai!==null&&xl(ai)&&(ai=null),li!==null&&xl(li)&&(li=null),Uo.forEach(Um),Wo.forEach(Um)}function Vo(s,a){s.blockedOn===a&&(s.blockedOn=null,Xc||(Xc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aS)))}function qo(s){function a(x){return Vo(x,s)}if(0<vl.length){Vo(vl[0],s);for(var d=1;d<vl.length;d++){var m=vl[d];m.blockedOn===s&&(m.blockedOn=null)}}for(oi!==null&&Vo(oi,s),ai!==null&&Vo(ai,s),li!==null&&Vo(li,s),Uo.forEach(a),Wo.forEach(a),d=0;d<ui.length;d++)m=ui[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<ui.length&&(d=ui[0],d.blockedOn===null);)Bm(d),d.blockedOn===null&&ui.shift()}var Ns=A.ReactCurrentBatchConfig,wl=!0;function lS(s,a,d,m){var x=ut,b=Ns.transition;Ns.transition=null;try{ut=1,Zc(s,a,d,m)}finally{ut=x,Ns.transition=b}}function uS(s,a,d,m){var x=ut,b=Ns.transition;Ns.transition=null;try{ut=4,Zc(s,a,d,m)}finally{ut=x,Ns.transition=b}}function Zc(s,a,d,m){if(wl){var x=ed(s,a,d,m);if(x===null)yd(s,a,m,bl,d),zm(s,m);else if(oS(x,s,a,d,m))m.stopPropagation();else if(zm(s,m),a&4&&-1<sS.indexOf(s)){for(;x!==null;){var b=ia(x);if(b!==null&&Lm(b),b=ed(s,a,d,m),b===null&&yd(s,a,m,bl,d),b===x)break;x=b}x!==null&&m.stopPropagation()}else yd(s,a,m,null,d)}}var bl=null;function ed(s,a,d,m){if(bl=null,s=gn(m),s=Wi(s),s!==null)if(a=Ui(s),a===null)s=null;else if(d=a.tag,d===13){if(s=Cm(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return bl=s,null}function Wm(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J1()){case Yc:return 1;case Am:return 4;case hl:case Q1:return 16;case Rm:return 536870912;default:return 16}default:return 16}}var ci=null,td=null,kl=null;function Hm(){if(kl)return kl;var s,a=td,d=a.length,m,x="value"in ci?ci.value:ci.textContent,b=x.length;for(s=0;s<d&&a[s]===x[s];s++);var T=d-s;for(m=1;m<=T&&a[d-m]===x[b-m];m++);return kl=x.slice(s,1<m?1-m:void 0)}function Sl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function El(){return!0}function Vm(){return!1}function Fn(s){function a(d,m,x,b,T){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(d=s[B],this[B]=d?d(b):b[B]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?El:Vm,this.isPropagationStopped=Vm,this}return N(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),a}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nd=Fn(Ts),Yo=N({},Ts,{view:0,detail:0}),cS=Fn(Yo),rd,id,Ko,_l=N({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ko&&(Ko&&s.type==="mousemove"?(rd=s.screenX-Ko.screenX,id=s.screenY-Ko.screenY):id=rd=0,Ko=s),rd)},movementY:function(s){return"movementY"in s?s.movementY:id}}),qm=Fn(_l),dS=N({},_l,{dataTransfer:0}),fS=Fn(dS),hS=N({},Yo,{relatedTarget:0}),sd=Fn(hS),pS=N({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),mS=Fn(pS),gS=N({},Ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yS=Fn(gS),vS=N({},Ts,{data:0}),Ym=Fn(vS),xS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kS(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=bS[s])?!!a[s]:!1}function od(){return kS}var SS=N({},Yo,{key:function(s){if(s.key){var a=xS[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Sl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(s){return s.type==="keypress"?Sl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ES=Fn(SS),_S=N({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Km=Fn(_S),CS=N({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),jS=Fn(CS),NS=N({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),TS=Fn(NS),IS=N({},_l,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=Fn(IS),AS=[9,13,27,32],ad=u&&"CompositionEvent"in window,Go=null;u&&"documentMode"in document&&(Go=document.documentMode);var RS=u&&"TextEvent"in window&&!Go,Gm=u&&(!ad||Go&&8<Go&&11>=Go),Jm=" ",Qm=!1;function Xm(s,a){switch(s){case"keyup":return AS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Is=!1;function OS(s,a){switch(s){case"compositionend":return Zm(a);case"keypress":return a.which!==32?null:(Qm=!0,Jm);case"textInput":return s=a.data,s===Jm&&Qm?null:s;default:return null}}function MS(s,a){if(Is)return s==="compositionend"||!ad&&Xm(s,a)?(s=Hm(),kl=td=ci=null,Is=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gm&&a.locale!=="ko"?null:a.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!LS[s.type]:a==="textarea"}function tg(s,a,d,m){st(m),a=Il(a,"onChange"),0<a.length&&(d=new nd("onChange","change",null,d,m),s.push({event:d,listeners:a}))}var Jo=null,Qo=null;function DS(s){xg(s,0)}function Cl(s){var a=Ms(s);if(Ze(a))return s}function $S(s,a){if(s==="change")return a}var ng=!1;if(u){var ld;if(u){var ud="oninput"in document;if(!ud){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),ud=typeof rg.oninput=="function"}ld=ud}else ld=!1;ng=ld&&(!document.documentMode||9<document.documentMode)}function ig(){Jo&&(Jo.detachEvent("onpropertychange",sg),Qo=Jo=null)}function sg(s){if(s.propertyName==="value"&&Cl(Qo)){var a=[];tg(a,Qo,s,gn(s)),Wr(DS,a)}}function FS(s,a,d){s==="focusin"?(ig(),Jo=a,Qo=d,Jo.attachEvent("onpropertychange",sg)):s==="focusout"&&ig()}function zS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cl(Qo)}function BS(s,a){if(s==="click")return Cl(a)}function US(s,a){if(s==="input"||s==="change")return Cl(a)}function WS(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var cr=typeof Object.is=="function"?Object.is:WS;function Xo(s,a){if(cr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!c.call(a,x)||!cr(s[x],a[x]))return!1}return!0}function og(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ag(s,a){var d=og(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=a&&m>=a)return{node:d,offset:a-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=og(d)}}function lg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?lg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ug(){for(var s=window,a=_e();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=_e(s.document)}return a}function cd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function HS(s){var a=ug(),d=s.focusedElem,m=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&lg(d.ownerDocument.documentElement,d)){if(m!==null&&cd(d)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var x=d.textContent.length,b=Math.min(m.start,x);m=m.end===void 0?b:Math.min(m.end,x),!s.extend&&b>m&&(x=m,m=b,b=x),x=ag(d,b);var T=ag(d,m);x&&T&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),s.removeAllRanges(),b>m?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var VS=u&&"documentMode"in document&&11>=document.documentMode,Ps=null,dd=null,Zo=null,fd=!1;function cg(s,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;fd||Ps==null||Ps!==_e(m)||(m=Ps,"selectionStart"in m&&cd(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zo&&Xo(Zo,m)||(Zo=m,m=Il(dd,"onSelect"),0<m.length&&(a=new nd("onSelect","select",null,a,d),s.push({event:a,listeners:m}),a.target=Ps)))}function jl(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var As={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},hd={},dg={};u&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Nl(s){if(hd[s])return hd[s];if(!As[s])return s;var a=As[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in dg)return hd[s]=a[d];return s}var fg=Nl("animationend"),hg=Nl("animationiteration"),pg=Nl("animationstart"),mg=Nl("transitionend"),gg=new Map,yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(s,a){gg.set(s,a),o(a,[s])}for(var pd=0;pd<yg.length;pd++){var md=yg[pd],qS=md.toLowerCase(),YS=md[0].toUpperCase()+md.slice(1);di(qS,"on"+YS)}di(fg,"onAnimationEnd"),di(hg,"onAnimationIteration"),di(pg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(mg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function vg(s,a,d){var m=s.type||"unknown-event";s.currentTarget=d,q1(m,a,void 0,s),s.currentTarget=null}function xg(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],x=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var T=m.length-1;0<=T;T--){var B=m[T],H=B.instance,se=B.currentTarget;if(B=B.listener,H!==b&&x.isPropagationStopped())break e;vg(x,B,se),b=H}else for(T=0;T<m.length;T++){if(B=m[T],H=B.instance,se=B.currentTarget,B=B.listener,H!==b&&x.isPropagationStopped())break e;vg(x,B,se),b=H}}}if($n)throw s=Hr,$n=!1,Hr=null,s}function xt(s,a){var d=a[Sd];d===void 0&&(d=a[Sd]=new Set);var m=s+"__bubble";d.has(m)||(wg(a,s,2,!1),d.add(m))}function gd(s,a,d){var m=0;a&&(m|=4),wg(d,s,m,a)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function ta(s){if(!s[Tl]){s[Tl]=!0,r.forEach(function(d){d!=="selectionchange"&&(KS.has(d)||gd(d,!1,s),gd(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Tl]||(a[Tl]=!0,gd("selectionchange",!1,a))}}function wg(s,a,d,m){switch(Wm(a)){case 1:var x=lS;break;case 4:x=uS;break;default:x=Zc}d=x.bind(null,a,d,s),x=void 0,!Jn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(a,d,{capture:!0,passive:x}):s.addEventListener(a,d,!0):x!==void 0?s.addEventListener(a,d,{passive:x}):s.addEventListener(a,d,!1)}function yd(s,a,d,m,x){var b=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var B=m.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if(T===4)for(T=m.return;T!==null;){var H=T.tag;if((H===3||H===4)&&(H=T.stateNode.containerInfo,H===x||H.nodeType===8&&H.parentNode===x))return;T=T.return}for(;B!==null;){if(T=Wi(B),T===null)return;if(H=T.tag,H===5||H===6){m=b=T;continue e}B=B.parentNode}}m=m.return}Wr(function(){var se=b,he=gn(d),pe=[];e:{var fe=gg.get(s);if(fe!==void 0){var je=nd,Te=s;switch(s){case"keypress":if(Sl(d)===0)break e;case"keydown":case"keyup":je=ES;break;case"focusin":Te="focus",je=sd;break;case"focusout":Te="blur",je=sd;break;case"beforeblur":case"afterblur":je=sd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=fS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=jS;break;case fg:case hg:case pg:je=mS;break;case mg:je=TS;break;case"scroll":je=cS;break;case"wheel":je=PS;break;case"copy":case"cut":case"paste":je=yS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Km}var Ie=(a&4)!==0,Mt=!Ie&&s==="scroll",ne=Ie?fe!==null?fe+"Capture":null:fe;Ie=[];for(var G=se,ie;G!==null;){ie=G;var ye=ie.stateNode;if(ie.tag===5&&ye!==null&&(ie=ye,ne!==null&&(ye=Ct(G,ne),ye!=null&&Ie.push(na(G,ye,ie)))),Mt)break;G=G.return}0<Ie.length&&(fe=new je(fe,Te,null,d,he),pe.push({event:fe,listeners:Ie}))}}if((a&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",je=s==="mouseout"||s==="pointerout",fe&&d!==It&&(Te=d.relatedTarget||d.fromElement)&&(Wi(Te)||Te[Vr]))break e;if((je||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,je?(Te=d.relatedTarget||d.toElement,je=se,Te=Te?Wi(Te):null,Te!==null&&(Mt=Ui(Te),Te!==Mt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(je=null,Te=se),je!==Te)){if(Ie=qm,ye="onMouseLeave",ne="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Km,ye="onPointerLeave",ne="onPointerEnter",G="pointer"),Mt=je==null?fe:Ms(je),ie=Te==null?fe:Ms(Te),fe=new Ie(ye,G+"leave",je,d,he),fe.target=Mt,fe.relatedTarget=ie,ye=null,Wi(he)===se&&(Ie=new Ie(ne,G+"enter",Te,d,he),Ie.target=ie,Ie.relatedTarget=Mt,ye=Ie),Mt=ye,je&&Te)t:{for(Ie=je,ne=Te,G=0,ie=Ie;ie;ie=Rs(ie))G++;for(ie=0,ye=ne;ye;ye=Rs(ye))ie++;for(;0<G-ie;)Ie=Rs(Ie),G--;for(;0<ie-G;)ne=Rs(ne),ie--;for(;G--;){if(Ie===ne||ne!==null&&Ie===ne.alternate)break t;Ie=Rs(Ie),ne=Rs(ne)}Ie=null}else Ie=null;je!==null&&bg(pe,fe,je,Ie,!1),Te!==null&&Mt!==null&&bg(pe,Mt,Te,Ie,!0)}}e:{if(fe=se?Ms(se):window,je=fe.nodeName&&fe.nodeName.toLowerCase(),je==="select"||je==="input"&&fe.type==="file")var Ae=$S;else if(eg(fe))if(ng)Ae=US;else{Ae=zS;var Oe=FS}else(je=fe.nodeName)&&je.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Ae=BS);if(Ae&&(Ae=Ae(s,se))){tg(pe,Ae,d,he);break e}Oe&&Oe(s,fe,se),s==="focusout"&&(Oe=fe._wrapperState)&&Oe.controlled&&fe.type==="number"&&J(fe,"number",fe.value)}switch(Oe=se?Ms(se):window,s){case"focusin":(eg(Oe)||Oe.contentEditable==="true")&&(Ps=Oe,dd=se,Zo=null);break;case"focusout":Zo=dd=Ps=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,cg(pe,d,he);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":cg(pe,d,he)}var Me;if(ad)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Is?Xm(s,d)&&(ze="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(ze="onCompositionStart");ze&&(Gm&&d.locale!=="ko"&&(Is||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Is&&(Me=Hm()):(ci=he,td="value"in ci?ci.value:ci.textContent,Is=!0)),Oe=Il(se,ze),0<Oe.length&&(ze=new Ym(ze,s,null,d,he),pe.push({event:ze,listeners:Oe}),Me?ze.data=Me:(Me=Zm(d),Me!==null&&(ze.data=Me)))),(Me=RS?OS(s,d):MS(s,d))&&(se=Il(se,"onBeforeInput"),0<se.length&&(he=new Ym("onBeforeInput","beforeinput",null,d,he),pe.push({event:he,listeners:se}),he.data=Me))}xg(pe,a)})}function na(s,a,d){return{instance:s,listener:a,currentTarget:d}}function Il(s,a){for(var d=a+"Capture",m=[];s!==null;){var x=s,b=x.stateNode;x.tag===5&&b!==null&&(x=b,b=Ct(s,d),b!=null&&m.unshift(na(s,b,x)),b=Ct(s,a),b!=null&&m.push(na(s,b,x))),s=s.return}return m}function Rs(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function bg(s,a,d,m,x){for(var b=a._reactName,T=[];d!==null&&d!==m;){var B=d,H=B.alternate,se=B.stateNode;if(H!==null&&H===m)break;B.tag===5&&se!==null&&(B=se,x?(H=Ct(d,b),H!=null&&T.unshift(na(d,H,B))):x||(H=Ct(d,b),H!=null&&T.push(na(d,H,B)))),d=d.return}T.length!==0&&s.push({event:a,listeners:T})}var GS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function kg(s){return(typeof s=="string"?s:""+s).replace(GS,`
`).replace(JS,"")}function Pl(s,a,d){if(a=kg(a),kg(s)!==a&&d)throw Error(n(425))}function Al(){}var vd=null,xd=null;function wd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,QS=typeof clearTimeout=="function"?clearTimeout:void 0,Sg=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof Sg<"u"?function(s){return Sg.resolve(null).then(s).catch(ZS)}:bd;function ZS(s){setTimeout(function(){throw s})}function kd(s,a){var d=a,m=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){s.removeChild(x),qo(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);qo(a)}function fi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Eg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var Os=Math.random().toString(36).slice(2),jr="__reactFiber$"+Os,ra="__reactProps$"+Os,Vr="__reactContainer$"+Os,Sd="__reactEvents$"+Os,eE="__reactListeners$"+Os,tE="__reactHandles$"+Os;function Wi(s){var a=s[jr];if(a)return a;for(var d=s.parentNode;d;){if(a=d[Vr]||d[jr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=Eg(s);s!==null;){if(d=s[jr])return d;s=Eg(s)}return a}s=d,d=s.parentNode}return null}function ia(s){return s=s[jr]||s[Vr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ms(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Rl(s){return s[ra]||null}var Ed=[],Ls=-1;function hi(s){return{current:s}}function wt(s){0>Ls||(s.current=Ed[Ls],Ed[Ls]=null,Ls--)}function pt(s,a){Ls++,Ed[Ls]=s.current,s.current=a}var pi={},on=hi(pi),Cn=hi(!1),Hi=pi;function Ds(s,a){var d=s.type.contextTypes;if(!d)return pi;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var x={},b;for(b in d)x[b]=a[b];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=x),x}function jn(s){return s=s.childContextTypes,s!=null}function Ol(){wt(Cn),wt(on)}function _g(s,a,d){if(on.current!==pi)throw Error(n(168));pt(on,a),pt(Cn,d)}function Cg(s,a,d){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in a))throw Error(n(108,ve(s)||"Unknown",x));return N({},d,m)}function Ml(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||pi,Hi=on.current,pt(on,s),pt(Cn,Cn.current),!0}function jg(s,a,d){var m=s.stateNode;if(!m)throw Error(n(169));d?(s=Cg(s,a,Hi),m.__reactInternalMemoizedMergedChildContext=s,wt(Cn),wt(on),pt(on,s)):wt(Cn),pt(Cn,d)}var qr=null,Ll=!1,_d=!1;function Ng(s){qr===null?qr=[s]:qr.push(s)}function nE(s){Ll=!0,Ng(s)}function mi(){if(!_d&&qr!==null){_d=!0;var s=0,a=ut;try{var d=qr;for(ut=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}qr=null,Ll=!1}catch(x){throw qr!==null&&(qr=qr.slice(s+1)),Im(Yc,mi),x}finally{ut=a,_d=!1}}return null}var $s=[],Fs=0,Dl=null,$l=0,Qn=[],Xn=0,Vi=null,Yr=1,Kr="";function qi(s,a){$s[Fs++]=$l,$s[Fs++]=Dl,Dl=s,$l=a}function Tg(s,a,d){Qn[Xn++]=Yr,Qn[Xn++]=Kr,Qn[Xn++]=Vi,Vi=s;var m=Yr;s=Kr;var x=32-ur(m)-1;m&=~(1<<x),d+=1;var b=32-ur(a)+x;if(30<b){var T=x-x%5;b=(m&(1<<T)-1).toString(32),m>>=T,x-=T,Yr=1<<32-ur(a)+x|d<<x|m,Kr=b+s}else Yr=1<<b|d<<x|m,Kr=s}function Cd(s){s.return!==null&&(qi(s,1),Tg(s,1,0))}function jd(s){for(;s===Dl;)Dl=$s[--Fs],$s[Fs]=null,$l=$s[--Fs],$s[Fs]=null;for(;s===Vi;)Vi=Qn[--Xn],Qn[Xn]=null,Kr=Qn[--Xn],Qn[Xn]=null,Yr=Qn[--Xn],Qn[Xn]=null}var zn=null,Bn=null,Et=!1,dr=null;function Ig(s,a){var d=nr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function Pg(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,zn=s,Bn=fi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,zn=s,Bn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Vi!==null?{id:Yr,overflow:Kr}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=nr(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,zn=s,Bn=null,!0):!1;default:return!1}}function Nd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Td(s){if(Et){var a=Bn;if(a){var d=a;if(!Pg(s,a)){if(Nd(s))throw Error(n(418));a=fi(d.nextSibling);var m=zn;a&&Pg(s,a)?Ig(m,d):(s.flags=s.flags&-4097|2,Et=!1,zn=s)}}else{if(Nd(s))throw Error(n(418));s.flags=s.flags&-4097|2,Et=!1,zn=s}}}function Ag(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zn=s}function Fl(s){if(s!==zn)return!1;if(!Et)return Ag(s),Et=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!wd(s.type,s.memoizedProps)),a&&(a=Bn)){if(Nd(s))throw Rg(),Error(n(418));for(;a;)Ig(s,a),a=fi(a.nextSibling)}if(Ag(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){Bn=fi(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}Bn=null}}else Bn=zn?fi(s.stateNode.nextSibling):null;return!0}function Rg(){for(var s=Bn;s;)s=fi(s.nextSibling)}function zs(){Bn=zn=null,Et=!1}function Id(s){dr===null?dr=[s]:dr.push(s)}var rE=A.ReactCurrentBatchConfig;function sa(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,s));var x=m,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(T){var B=x.refs;T===null?delete B[b]:B[b]=T},a._stringRef=b,a)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function zl(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Og(s){var a=s._init;return a(s._payload)}function Mg(s){function a(ne,G){if(s){var ie=ne.deletions;ie===null?(ne.deletions=[G],ne.flags|=16):ie.push(G)}}function d(ne,G){if(!s)return null;for(;G!==null;)a(ne,G),G=G.sibling;return null}function m(ne,G){for(ne=new Map;G!==null;)G.key!==null?ne.set(G.key,G):ne.set(G.index,G),G=G.sibling;return ne}function x(ne,G){return ne=Si(ne,G),ne.index=0,ne.sibling=null,ne}function b(ne,G,ie){return ne.index=ie,s?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<G?(ne.flags|=2,G):ie):(ne.flags|=2,G)):(ne.flags|=1048576,G)}function T(ne){return s&&ne.alternate===null&&(ne.flags|=2),ne}function B(ne,G,ie,ye){return G===null||G.tag!==6?(G=kf(ie,ne.mode,ye),G.return=ne,G):(G=x(G,ie),G.return=ne,G)}function H(ne,G,ie,ye){var Ae=ie.type;return Ae===z?he(ne,G,ie.props.children,ye,ie.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===U&&Og(Ae)===G.type)?(ye=x(G,ie.props),ye.ref=sa(ne,G,ie),ye.return=ne,ye):(ye=cu(ie.type,ie.key,ie.props,null,ne.mode,ye),ye.ref=sa(ne,G,ie),ye.return=ne,ye)}function se(ne,G,ie,ye){return G===null||G.tag!==4||G.stateNode.containerInfo!==ie.containerInfo||G.stateNode.implementation!==ie.implementation?(G=Sf(ie,ne.mode,ye),G.return=ne,G):(G=x(G,ie.children||[]),G.return=ne,G)}function he(ne,G,ie,ye,Ae){return G===null||G.tag!==7?(G=es(ie,ne.mode,ye,Ae),G.return=ne,G):(G=x(G,ie),G.return=ne,G)}function pe(ne,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number")return G=kf(""+G,ne.mode,ie),G.return=ne,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case O:return ie=cu(G.type,G.key,G.props,null,ne.mode,ie),ie.ref=sa(ne,null,G),ie.return=ne,ie;case R:return G=Sf(G,ne.mode,ie),G.return=ne,G;case U:var ye=G._init;return pe(ne,ye(G._payload),ie)}if(le(G)||Y(G))return G=es(G,ne.mode,ie,null),G.return=ne,G;zl(ne,G)}return null}function fe(ne,G,ie,ye){var Ae=G!==null?G.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ae!==null?null:B(ne,G,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return ie.key===Ae?H(ne,G,ie,ye):null;case R:return ie.key===Ae?se(ne,G,ie,ye):null;case U:return Ae=ie._init,fe(ne,G,Ae(ie._payload),ye)}if(le(ie)||Y(ie))return Ae!==null?null:he(ne,G,ie,ye,null);zl(ne,ie)}return null}function je(ne,G,ie,ye,Ae){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ne=ne.get(ie)||null,B(G,ne,""+ye,Ae);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case O:return ne=ne.get(ye.key===null?ie:ye.key)||null,H(G,ne,ye,Ae);case R:return ne=ne.get(ye.key===null?ie:ye.key)||null,se(G,ne,ye,Ae);case U:var Oe=ye._init;return je(ne,G,ie,Oe(ye._payload),Ae)}if(le(ye)||Y(ye))return ne=ne.get(ie)||null,he(G,ne,ye,Ae,null);zl(G,ye)}return null}function Te(ne,G,ie,ye){for(var Ae=null,Oe=null,Me=G,ze=G=0,Jt=null;Me!==null&&ze<ie.length;ze++){Me.index>ze?(Jt=Me,Me=null):Jt=Me.sibling;var it=fe(ne,Me,ie[ze],ye);if(it===null){Me===null&&(Me=Jt);break}s&&Me&&it.alternate===null&&a(ne,Me),G=b(it,G,ze),Oe===null?Ae=it:Oe.sibling=it,Oe=it,Me=Jt}if(ze===ie.length)return d(ne,Me),Et&&qi(ne,ze),Ae;if(Me===null){for(;ze<ie.length;ze++)Me=pe(ne,ie[ze],ye),Me!==null&&(G=b(Me,G,ze),Oe===null?Ae=Me:Oe.sibling=Me,Oe=Me);return Et&&qi(ne,ze),Ae}for(Me=m(ne,Me);ze<ie.length;ze++)Jt=je(Me,ne,ze,ie[ze],ye),Jt!==null&&(s&&Jt.alternate!==null&&Me.delete(Jt.key===null?ze:Jt.key),G=b(Jt,G,ze),Oe===null?Ae=Jt:Oe.sibling=Jt,Oe=Jt);return s&&Me.forEach(function(Ei){return a(ne,Ei)}),Et&&qi(ne,ze),Ae}function Ie(ne,G,ie,ye){var Ae=Y(ie);if(typeof Ae!="function")throw Error(n(150));if(ie=Ae.call(ie),ie==null)throw Error(n(151));for(var Oe=Ae=null,Me=G,ze=G=0,Jt=null,it=ie.next();Me!==null&&!it.done;ze++,it=ie.next()){Me.index>ze?(Jt=Me,Me=null):Jt=Me.sibling;var Ei=fe(ne,Me,it.value,ye);if(Ei===null){Me===null&&(Me=Jt);break}s&&Me&&Ei.alternate===null&&a(ne,Me),G=b(Ei,G,ze),Oe===null?Ae=Ei:Oe.sibling=Ei,Oe=Ei,Me=Jt}if(it.done)return d(ne,Me),Et&&qi(ne,ze),Ae;if(Me===null){for(;!it.done;ze++,it=ie.next())it=pe(ne,it.value,ye),it!==null&&(G=b(it,G,ze),Oe===null?Ae=it:Oe.sibling=it,Oe=it);return Et&&qi(ne,ze),Ae}for(Me=m(ne,Me);!it.done;ze++,it=ie.next())it=je(Me,ne,ze,it.value,ye),it!==null&&(s&&it.alternate!==null&&Me.delete(it.key===null?ze:it.key),G=b(it,G,ze),Oe===null?Ae=it:Oe.sibling=it,Oe=it);return s&&Me.forEach(function(LE){return a(ne,LE)}),Et&&qi(ne,ze),Ae}function Mt(ne,G,ie,ye){if(typeof ie=="object"&&ie!==null&&ie.type===z&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:e:{for(var Ae=ie.key,Oe=G;Oe!==null;){if(Oe.key===Ae){if(Ae=ie.type,Ae===z){if(Oe.tag===7){d(ne,Oe.sibling),G=x(Oe,ie.props.children),G.return=ne,ne=G;break e}}else if(Oe.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===U&&Og(Ae)===Oe.type){d(ne,Oe.sibling),G=x(Oe,ie.props),G.ref=sa(ne,Oe,ie),G.return=ne,ne=G;break e}d(ne,Oe);break}else a(ne,Oe);Oe=Oe.sibling}ie.type===z?(G=es(ie.props.children,ne.mode,ye,ie.key),G.return=ne,ne=G):(ye=cu(ie.type,ie.key,ie.props,null,ne.mode,ye),ye.ref=sa(ne,G,ie),ye.return=ne,ne=ye)}return T(ne);case R:e:{for(Oe=ie.key;G!==null;){if(G.key===Oe)if(G.tag===4&&G.stateNode.containerInfo===ie.containerInfo&&G.stateNode.implementation===ie.implementation){d(ne,G.sibling),G=x(G,ie.children||[]),G.return=ne,ne=G;break e}else{d(ne,G);break}else a(ne,G);G=G.sibling}G=Sf(ie,ne.mode,ye),G.return=ne,ne=G}return T(ne);case U:return Oe=ie._init,Mt(ne,G,Oe(ie._payload),ye)}if(le(ie))return Te(ne,G,ie,ye);if(Y(ie))return Ie(ne,G,ie,ye);zl(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,G!==null&&G.tag===6?(d(ne,G.sibling),G=x(G,ie),G.return=ne,ne=G):(d(ne,G),G=kf(ie,ne.mode,ye),G.return=ne,ne=G),T(ne)):d(ne,G)}return Mt}var Bs=Mg(!0),Lg=Mg(!1),Bl=hi(null),Ul=null,Us=null,Pd=null;function Ad(){Pd=Us=Ul=null}function Rd(s){var a=Bl.current;wt(Bl),s._currentValue=a}function Od(s,a,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===d)break;s=s.return}}function Ws(s,a){Ul=s,Pd=Us=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Nn=!0),s.firstContext=null)}function Zn(s){var a=s._currentValue;if(Pd!==s)if(s={context:s,memoizedValue:a,next:null},Us===null){if(Ul===null)throw Error(n(308));Us=s,Ul.dependencies={lanes:0,firstContext:s}}else Us=Us.next=s;return a}var Yi=null;function Md(s){Yi===null?Yi=[s]:Yi.push(s)}function Dg(s,a,d,m){var x=a.interleaved;return x===null?(d.next=d,Md(a)):(d.next=x.next,x.next=d),a.interleaved=d,Gr(s,m)}function Gr(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var gi=!1;function Ld(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $g(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Jr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function yi(s,a,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var x=m.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),m.pending=a,Gr(s,d)}return x=m.interleaved,x===null?(a.next=a,Md(m)):(a.next=x.next,x.next=a),m.interleaved=a,Gr(s,d)}function Wl(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Jc(s,d)}}function Fg(s,a){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var T={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?x=b=T:b=b.next=T,d=d.next}while(d!==null);b===null?x=b=a:b=b.next=a}else x=b=a;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function Hl(s,a,d,m){var x=s.updateQueue;gi=!1;var b=x.firstBaseUpdate,T=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var H=B,se=H.next;H.next=null,T===null?b=se:T.next=se,T=H;var he=s.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==T&&(B===null?he.firstBaseUpdate=se:B.next=se,he.lastBaseUpdate=H))}if(b!==null){var pe=x.baseState;T=0,he=se=H=null,B=b;do{var fe=B.lane,je=B.eventTime;if((m&fe)===fe){he!==null&&(he=he.next={eventTime:je,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Te=s,Ie=B;switch(fe=a,je=d,Ie.tag){case 1:if(Te=Ie.payload,typeof Te=="function"){pe=Te.call(je,pe,fe);break e}pe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ie.payload,fe=typeof Te=="function"?Te.call(je,pe,fe):Te,fe==null)break e;pe=N({},pe,fe);break e;case 2:gi=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,fe=x.effects,fe===null?x.effects=[B]:fe.push(B))}else je={eventTime:je,lane:fe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(se=he=je,H=pe):he=he.next=je,T|=fe;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;fe=B,B=fe.next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}while(!0);if(he===null&&(H=pe),x.baseState=H,x.firstBaseUpdate=se,x.lastBaseUpdate=he,a=x.shared.interleaved,a!==null){x=a;do T|=x.lane,x=x.next;while(x!==a)}else b===null&&(x.shared.lanes=0);Ji|=T,s.lanes=T,s.memoizedState=pe}}function zg(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var oa={},Nr=hi(oa),aa=hi(oa),la=hi(oa);function Ki(s){if(s===oa)throw Error(n(174));return s}function Dd(s,a){switch(pt(la,a),pt(aa,s),pt(Nr,oa),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ee(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ee(a,s)}wt(Nr),pt(Nr,a)}function Hs(){wt(Nr),wt(aa),wt(la)}function Bg(s){Ki(la.current);var a=Ki(Nr.current),d=ee(a,s.type);a!==d&&(pt(aa,s),pt(Nr,d))}function $d(s){aa.current===s&&(wt(Nr),wt(aa))}var jt=hi(0);function Vl(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fd=[];function zd(){for(var s=0;s<Fd.length;s++)Fd[s]._workInProgressVersionPrimary=null;Fd.length=0}var ql=A.ReactCurrentDispatcher,Bd=A.ReactCurrentBatchConfig,Gi=0,Nt=null,Ht=null,Kt=null,Yl=!1,ua=!1,ca=0,iE=0;function an(){throw Error(n(321))}function Ud(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!cr(s[d],a[d]))return!1;return!0}function Wd(s,a,d,m,x,b){if(Gi=b,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ql.current=s===null||s.memoizedState===null?lE:uE,s=d(m,x),ua){b=0;do{if(ua=!1,ca=0,25<=b)throw Error(n(301));b+=1,Kt=Ht=null,a.updateQueue=null,ql.current=cE,s=d(m,x)}while(ua)}if(ql.current=Jl,a=Ht!==null&&Ht.next!==null,Gi=0,Kt=Ht=Nt=null,Yl=!1,a)throw Error(n(300));return s}function Hd(){var s=ca!==0;return ca=0,s}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Nt.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function er(){if(Ht===null){var s=Nt.alternate;s=s!==null?s.memoizedState:null}else s=Ht.next;var a=Kt===null?Nt.memoizedState:Kt.next;if(a!==null)Kt=a,Ht=s;else{if(s===null)throw Error(n(310));Ht=s,s={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Kt===null?Nt.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function da(s,a){return typeof a=="function"?a(s):a}function Vd(s){var a=er(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=Ht,x=m.baseQueue,b=d.pending;if(b!==null){if(x!==null){var T=x.next;x.next=b.next,b.next=T}m.baseQueue=x=b,d.pending=null}if(x!==null){b=x.next,m=m.baseState;var B=T=null,H=null,se=b;do{var he=se.lane;if((Gi&he)===he)H!==null&&(H=H.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),m=se.hasEagerState?se.eagerState:s(m,se.action);else{var pe={lane:he,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};H===null?(B=H=pe,T=m):H=H.next=pe,Nt.lanes|=he,Ji|=he}se=se.next}while(se!==null&&se!==b);H===null?T=m:H.next=B,cr(m,a.memoizedState)||(Nn=!0),a.memoizedState=m,a.baseState=T,a.baseQueue=H,d.lastRenderedState=m}if(s=d.interleaved,s!==null){x=s;do b=x.lane,Nt.lanes|=b,Ji|=b,x=x.next;while(x!==s)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function qd(s){var a=er(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=d.dispatch,x=d.pending,b=a.memoizedState;if(x!==null){d.pending=null;var T=x=x.next;do b=s(b,T.action),T=T.next;while(T!==x);cr(b,a.memoizedState)||(Nn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),d.lastRenderedState=b}return[b,m]}function Ug(){}function Wg(s,a){var d=Nt,m=er(),x=a(),b=!cr(m.memoizedState,x);if(b&&(m.memoizedState=x,Nn=!0),m=m.queue,Yd(qg.bind(null,d,m,s),[s]),m.getSnapshot!==a||b||Kt!==null&&Kt.memoizedState.tag&1){if(d.flags|=2048,fa(9,Vg.bind(null,d,m,x,a),void 0,null),Gt===null)throw Error(n(349));(Gi&30)!==0||Hg(d,a,x)}return x}function Hg(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function Vg(s,a,d,m){a.value=d,a.getSnapshot=m,Yg(a)&&Kg(s)}function qg(s,a,d){return d(function(){Yg(a)&&Kg(s)})}function Yg(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!cr(s,d)}catch{return!0}}function Kg(s){var a=Gr(s,1);a!==null&&mr(a,s,1,-1)}function Gg(s){var a=Tr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:s},a.queue=s,s=s.dispatch=aE.bind(null,Nt,s),[a.memoizedState,s]}function fa(s,a,d,m){return s={tag:s,create:a,destroy:d,deps:m,next:null},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,a.lastEffect=s)),s}function Jg(){return er().memoizedState}function Kl(s,a,d,m){var x=Tr();Nt.flags|=s,x.memoizedState=fa(1|a,d,void 0,m===void 0?null:m)}function Gl(s,a,d,m){var x=er();m=m===void 0?null:m;var b=void 0;if(Ht!==null){var T=Ht.memoizedState;if(b=T.destroy,m!==null&&Ud(m,T.deps)){x.memoizedState=fa(a,d,b,m);return}}Nt.flags|=s,x.memoizedState=fa(1|a,d,b,m)}function Qg(s,a){return Kl(8390656,8,s,a)}function Yd(s,a){return Gl(2048,8,s,a)}function Xg(s,a){return Gl(4,2,s,a)}function Zg(s,a){return Gl(4,4,s,a)}function ey(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function ty(s,a,d){return d=d!=null?d.concat([s]):null,Gl(4,4,ey.bind(null,a,s),d)}function Kd(){}function ny(s,a){var d=er();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Ud(a,m[1])?m[0]:(d.memoizedState=[s,a],s)}function ry(s,a){var d=er();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Ud(a,m[1])?m[0]:(s=s(),d.memoizedState=[s,a],s)}function iy(s,a,d){return(Gi&21)===0?(s.baseState&&(s.baseState=!1,Nn=!0),s.memoizedState=d):(cr(d,a)||(d=Om(),Nt.lanes|=d,Ji|=d,s.baseState=!0),a)}function sE(s,a){var d=ut;ut=d!==0&&4>d?d:4,s(!0);var m=Bd.transition;Bd.transition={};try{s(!1),a()}finally{ut=d,Bd.transition=m}}function sy(){return er().memoizedState}function oE(s,a,d){var m=bi(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},oy(s))ay(a,d);else if(d=Dg(s,a,d,m),d!==null){var x=xn();mr(d,s,m,x),ly(d,a,m)}}function aE(s,a,d){var m=bi(s),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(oy(s))ay(a,x);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var T=a.lastRenderedState,B=b(T,d);if(x.hasEagerState=!0,x.eagerState=B,cr(B,T)){var H=a.interleaved;H===null?(x.next=x,Md(a)):(x.next=H.next,H.next=x),a.interleaved=x;return}}catch{}finally{}d=Dg(s,a,x,m),d!==null&&(x=xn(),mr(d,s,m,x),ly(d,a,m))}}function oy(s){var a=s.alternate;return s===Nt||a!==null&&a===Nt}function ay(s,a){ua=Yl=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function ly(s,a,d){if((d&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Jc(s,d)}}var Jl={readContext:Zn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},lE={readContext:Zn,useCallback:function(s,a){return Tr().memoizedState=[s,a===void 0?null:a],s},useContext:Zn,useEffect:Qg,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,Kl(4194308,4,ey.bind(null,a,s),d)},useLayoutEffect:function(s,a){return Kl(4194308,4,s,a)},useInsertionEffect:function(s,a){return Kl(4,2,s,a)},useMemo:function(s,a){var d=Tr();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var m=Tr();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=oE.bind(null,Nt,s),[m.memoizedState,s]},useRef:function(s){var a=Tr();return s={current:s},a.memoizedState=s},useState:Gg,useDebugValue:Kd,useDeferredValue:function(s){return Tr().memoizedState=s},useTransition:function(){var s=Gg(!1),a=s[0];return s=sE.bind(null,s[1]),Tr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var m=Nt,x=Tr();if(Et){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),Gt===null)throw Error(n(349));(Gi&30)!==0||Hg(m,a,d)}x.memoizedState=d;var b={value:d,getSnapshot:a};return x.queue=b,Qg(qg.bind(null,m,b,s),[s]),m.flags|=2048,fa(9,Vg.bind(null,m,b,d,a),void 0,null),d},useId:function(){var s=Tr(),a=Gt.identifierPrefix;if(Et){var d=Kr,m=Yr;d=(m&~(1<<32-ur(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=ca++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=iE++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},uE={readContext:Zn,useCallback:ny,useContext:Zn,useEffect:Yd,useImperativeHandle:ty,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:ry,useReducer:Vd,useRef:Jg,useState:function(){return Vd(da)},useDebugValue:Kd,useDeferredValue:function(s){var a=er();return iy(a,Ht.memoizedState,s)},useTransition:function(){var s=Vd(da)[0],a=er().memoizedState;return[s,a]},useMutableSource:Ug,useSyncExternalStore:Wg,useId:sy,unstable_isNewReconciler:!1},cE={readContext:Zn,useCallback:ny,useContext:Zn,useEffect:Yd,useImperativeHandle:ty,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:ry,useReducer:qd,useRef:Jg,useState:function(){return qd(da)},useDebugValue:Kd,useDeferredValue:function(s){var a=er();return Ht===null?a.memoizedState=s:iy(a,Ht.memoizedState,s)},useTransition:function(){var s=qd(da)[0],a=er().memoizedState;return[s,a]},useMutableSource:Ug,useSyncExternalStore:Wg,useId:sy,unstable_isNewReconciler:!1};function fr(s,a){if(s&&s.defaultProps){a=N({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function Gd(s,a,d,m){a=s.memoizedState,d=d(m,a),d=d==null?a:N({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ql={isMounted:function(s){return(s=s._reactInternals)?Ui(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var m=xn(),x=bi(s),b=Jr(m,x);b.payload=a,d!=null&&(b.callback=d),a=yi(s,b,x),a!==null&&(mr(a,s,x,m),Wl(a,s,x))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var m=xn(),x=bi(s),b=Jr(m,x);b.tag=1,b.payload=a,d!=null&&(b.callback=d),a=yi(s,b,x),a!==null&&(mr(a,s,x,m),Wl(a,s,x))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=xn(),m=bi(s),x=Jr(d,m);x.tag=2,a!=null&&(x.callback=a),a=yi(s,x,m),a!==null&&(mr(a,s,m,d),Wl(a,s,m))}};function uy(s,a,d,m,x,b,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,T):a.prototype&&a.prototype.isPureReactComponent?!Xo(d,m)||!Xo(x,b):!0}function cy(s,a,d){var m=!1,x=pi,b=a.contextType;return typeof b=="object"&&b!==null?b=Zn(b):(x=jn(a)?Hi:on.current,m=a.contextTypes,b=(m=m!=null)?Ds(s,x):pi),a=new a(d,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ql,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=b),a}function dy(s,a,d,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==s&&Ql.enqueueReplaceState(a,a.state,null)}function Jd(s,a,d,m){var x=s.stateNode;x.props=d,x.state=s.memoizedState,x.refs={},Ld(s);var b=a.contextType;typeof b=="object"&&b!==null?x.context=Zn(b):(b=jn(a)?Hi:on.current,x.context=Ds(s,b)),x.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Gd(s,a,b,d),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Ql.enqueueReplaceState(x,x.state,null),Hl(s,d,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Vs(s,a){try{var d="",m=a;do d+=ae(m),m=m.return;while(m);var x=d}catch(b){x=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:x,digest:null}}function Qd(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function Xd(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var dE=typeof WeakMap=="function"?WeakMap:Map;function fy(s,a,d){d=Jr(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){iu||(iu=!0,pf=m),Xd(s,a)},d}function hy(s,a,d){d=Jr(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=a.value;d.payload=function(){return m(x)},d.callback=function(){Xd(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Xd(s,a),typeof m!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),d}function py(s,a,d){var m=s.pingCache;if(m===null){m=s.pingCache=new dE;var x=new Set;m.set(a,x)}else x=m.get(a),x===void 0&&(x=new Set,m.set(a,x));x.has(d)||(x.add(d),s=_E.bind(null,s,a,d),a.then(s,s))}function my(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function gy(s,a,d,m,x){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Jr(-1,1),a.tag=2,yi(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var fE=A.ReactCurrentOwner,Nn=!1;function vn(s,a,d,m){a.child=s===null?Lg(a,null,d,m):Bs(a,s.child,d,m)}function yy(s,a,d,m,x){d=d.render;var b=a.ref;return Ws(a,x),m=Wd(s,a,d,m,b,x),d=Hd(),s!==null&&!Nn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Qr(s,a,x)):(Et&&d&&Cd(a),a.flags|=1,vn(s,a,m,x),a.child)}function vy(s,a,d,m,x){if(s===null){var b=d.type;return typeof b=="function"&&!bf(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=b,xy(s,a,b,m,x)):(s=cu(d.type,null,m,a,a.mode,x),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,(s.lanes&x)===0){var T=b.memoizedProps;if(d=d.compare,d=d!==null?d:Xo,d(T,m)&&s.ref===a.ref)return Qr(s,a,x)}return a.flags|=1,s=Si(b,m),s.ref=a.ref,s.return=a,a.child=s}function xy(s,a,d,m,x){if(s!==null){var b=s.memoizedProps;if(Xo(b,m)&&s.ref===a.ref)if(Nn=!1,a.pendingProps=m=b,(s.lanes&x)!==0)(s.flags&131072)!==0&&(Nn=!0);else return a.lanes=s.lanes,Qr(s,a,x)}return Zd(s,a,d,m,x)}function wy(s,a,d){var m=a.pendingProps,x=m.children,b=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Ys,Un),Un|=d;else{if((d&1073741824)===0)return s=b!==null?b.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,pt(Ys,Un),Un|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:d,pt(Ys,Un),Un|=m}else b!==null?(m=b.baseLanes|d,a.memoizedState=null):m=d,pt(Ys,Un),Un|=m;return vn(s,a,x,d),a.child}function by(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Zd(s,a,d,m,x){var b=jn(d)?Hi:on.current;return b=Ds(a,b),Ws(a,x),d=Wd(s,a,d,m,b,x),m=Hd(),s!==null&&!Nn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Qr(s,a,x)):(Et&&m&&Cd(a),a.flags|=1,vn(s,a,d,x),a.child)}function ky(s,a,d,m,x){if(jn(d)){var b=!0;Ml(a)}else b=!1;if(Ws(a,x),a.stateNode===null)Zl(s,a),cy(a,d,m),Jd(a,d,m,x),m=!0;else if(s===null){var T=a.stateNode,B=a.memoizedProps;T.props=B;var H=T.context,se=d.contextType;typeof se=="object"&&se!==null?se=Zn(se):(se=jn(d)?Hi:on.current,se=Ds(a,se));var he=d.getDerivedStateFromProps,pe=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function";pe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==m||H!==se)&&dy(a,T,m,se),gi=!1;var fe=a.memoizedState;T.state=fe,Hl(a,m,T,x),H=a.memoizedState,B!==m||fe!==H||Cn.current||gi?(typeof he=="function"&&(Gd(a,d,he,m),H=a.memoizedState),(B=gi||uy(a,d,B,m,fe,H,se))?(pe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),T.props=m,T.state=H,T.context=se,m=B):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{T=a.stateNode,$g(s,a),B=a.memoizedProps,se=a.type===a.elementType?B:fr(a.type,B),T.props=se,pe=a.pendingProps,fe=T.context,H=d.contextType,typeof H=="object"&&H!==null?H=Zn(H):(H=jn(d)?Hi:on.current,H=Ds(a,H));var je=d.getDerivedStateFromProps;(he=typeof je=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==pe||fe!==H)&&dy(a,T,m,H),gi=!1,fe=a.memoizedState,T.state=fe,Hl(a,m,T,x);var Te=a.memoizedState;B!==pe||fe!==Te||Cn.current||gi?(typeof je=="function"&&(Gd(a,d,je,m),Te=a.memoizedState),(se=gi||uy(a,d,se,m,fe,Te,H)||!1)?(he||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,Te,H),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,Te,H)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Te),T.props=m,T.state=Te,T.context=H,m=se):(typeof T.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),m=!1)}return ef(s,a,d,m,b,x)}function ef(s,a,d,m,x,b){by(s,a);var T=(a.flags&128)!==0;if(!m&&!T)return x&&jg(a,d,!1),Qr(s,a,b);m=a.stateNode,fE.current=a;var B=T&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&T?(a.child=Bs(a,s.child,null,b),a.child=Bs(a,null,B,b)):vn(s,a,B,b),a.memoizedState=m.state,x&&jg(a,d,!0),a.child}function Sy(s){var a=s.stateNode;a.pendingContext?_g(s,a.pendingContext,a.pendingContext!==a.context):a.context&&_g(s,a.context,!1),Dd(s,a.containerInfo)}function Ey(s,a,d,m,x){return zs(),Id(x),a.flags|=256,vn(s,a,d,m),a.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(s){return{baseLanes:s,cachePool:null,transitions:null}}function _y(s,a,d){var m=a.pendingProps,x=jt.current,b=!1,T=(a.flags&128)!==0,B;if((B=T)||(B=s!==null&&s.memoizedState===null?!1:(x&2)!==0),B?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),pt(jt,x&1),s===null)return Td(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=m.children,s=m.fallback,b?(m=a.mode,b=a.child,T={mode:"hidden",children:T},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=T):b=du(T,m,0,null),s=es(s,m,d,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=nf(d),a.memoizedState=tf,s):rf(a,T));if(x=s.memoizedState,x!==null&&(B=x.dehydrated,B!==null))return hE(s,a,T,m,B,x,d);if(b){b=m.fallback,T=a.mode,x=s.child,B=x.sibling;var H={mode:"hidden",children:m.children};return(T&1)===0&&a.child!==x?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=Si(x,H),m.subtreeFlags=x.subtreeFlags&14680064),B!==null?b=Si(B,b):(b=es(b,T,d,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,T=s.child.memoizedState,T=T===null?nf(d):{baseLanes:T.baseLanes|d,cachePool:null,transitions:T.transitions},b.memoizedState=T,b.childLanes=s.childLanes&~d,a.memoizedState=tf,m}return b=s.child,s=b.sibling,m=Si(b,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=m,a.memoizedState=null,m}function rf(s,a){return a=du({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Xl(s,a,d,m){return m!==null&&Id(m),Bs(a,s.child,null,d),s=rf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function hE(s,a,d,m,x,b,T){if(d)return a.flags&256?(a.flags&=-257,m=Qd(Error(n(422))),Xl(s,a,T,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=m.fallback,x=a.mode,m=du({mode:"visible",children:m.children},x,0,null),b=es(b,x,T,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,(a.mode&1)!==0&&Bs(a,s.child,null,T),a.child.memoizedState=nf(T),a.memoizedState=tf,b);if((a.mode&1)===0)return Xl(s,a,T,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var B=m.dgst;return m=B,b=Error(n(419)),m=Qd(b,m,void 0),Xl(s,a,T,m)}if(B=(T&s.childLanes)!==0,Nn||B){if(m=Gt,m!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|T))!==0?0:x,x!==0&&x!==b.retryLane&&(b.retryLane=x,Gr(s,x),mr(m,s,x,-1))}return wf(),m=Qd(Error(n(421))),Xl(s,a,T,m)}return x.data==="$?"?(a.flags|=128,a.child=s.child,a=CE.bind(null,s),x._reactRetry=a,null):(s=b.treeContext,Bn=fi(x.nextSibling),zn=a,Et=!0,dr=null,s!==null&&(Qn[Xn++]=Yr,Qn[Xn++]=Kr,Qn[Xn++]=Vi,Yr=s.id,Kr=s.overflow,Vi=a),a=rf(a,m.children),a.flags|=4096,a)}function Cy(s,a,d){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Od(s.return,a,d)}function sf(s,a,d,m,x){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=d,b.tailMode=x)}function jy(s,a,d){var m=a.pendingProps,x=m.revealOrder,b=m.tail;if(vn(s,a,m.children,d),m=jt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Cy(s,d,a);else if(s.tag===19)Cy(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(pt(jt,m),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)s=d.alternate,s!==null&&Vl(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),sf(a,!1,x,d,b);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(s=x.alternate,s!==null&&Vl(s)===null){a.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}sf(a,!0,d,null,b);break;case"together":sf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zl(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Qr(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),Ji|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,d=Si(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=Si(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function pE(s,a,d){switch(a.tag){case 3:Sy(a),zs();break;case 5:Bg(a);break;case 1:jn(a.type)&&Ml(a);break;case 4:Dd(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,x=a.memoizedProps.value;pt(Bl,m._currentValue),m._currentValue=x;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(pt(jt,jt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?_y(s,a,d):(pt(jt,jt.current&1),s=Qr(s,a,d),s!==null?s.sibling:null);pt(jt,jt.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(s.flags&128)!==0){if(m)return jy(s,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),pt(jt,jt.current),m)break;return null;case 22:case 23:return a.lanes=0,wy(s,a,d)}return Qr(s,a,d)}var Ny,of,Ty,Iy;Ny=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},of=function(){},Ty=function(s,a,d,m){var x=s.memoizedProps;if(x!==m){s=a.stateNode,Ki(Nr.current);var b=null;switch(d){case"input":x=Ue(s,x),m=Ue(s,m),b=[];break;case"select":x=N({},x,{value:void 0}),m=N({},m,{value:void 0}),b=[];break;case"textarea":x=Ce(s,x),m=Ce(s,m),b=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Al)}nt(d,m);var T;d=null;for(se in x)if(!m.hasOwnProperty(se)&&x.hasOwnProperty(se)&&x[se]!=null)if(se==="style"){var B=x[se];for(T in B)B.hasOwnProperty(T)&&(d||(d={}),d[T]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?b||(b=[]):(b=b||[]).push(se,null));for(se in m){var H=m[se];if(B=x!=null?x[se]:void 0,m.hasOwnProperty(se)&&H!==B&&(H!=null||B!=null))if(se==="style")if(B){for(T in B)!B.hasOwnProperty(T)||H&&H.hasOwnProperty(T)||(d||(d={}),d[T]="");for(T in H)H.hasOwnProperty(T)&&B[T]!==H[T]&&(d||(d={}),d[T]=H[T])}else d||(b||(b=[]),b.push(se,d)),d=H;else se==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(b=b||[]).push(se,H)):se==="children"?typeof H!="string"&&typeof H!="number"||(b=b||[]).push(se,""+H):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(H!=null&&se==="onScroll"&&xt("scroll",s),b||B===H||(b=[])):(b=b||[]).push(se,H))}d&&(b=b||[]).push("style",d);var se=b;(a.updateQueue=se)&&(a.flags|=4)}},Iy=function(s,a,d,m){d!==m&&(a.flags|=4)};function ha(s,a){if(!Et)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function ln(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(a)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=d,a}function mE(s,a,d){var m=a.pendingProps;switch(jd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(a),null;case 1:return jn(a.type)&&Ol(),ln(a),null;case 3:return m=a.stateNode,Hs(),wt(Cn),wt(on),zd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Fl(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,dr!==null&&(yf(dr),dr=null))),of(s,a),ln(a),null;case 5:$d(a);var x=Ki(la.current);if(d=a.type,s!==null&&a.stateNode!=null)Ty(s,a,d,m,x),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return ln(a),null}if(s=Ki(Nr.current),Fl(a)){m=a.stateNode,d=a.type;var b=a.memoizedProps;switch(m[jr]=a,m[ra]=b,s=(a.mode&1)!==0,d){case"dialog":xt("cancel",m),xt("close",m);break;case"iframe":case"object":case"embed":xt("load",m);break;case"video":case"audio":for(x=0;x<ea.length;x++)xt(ea[x],m);break;case"source":xt("error",m);break;case"img":case"image":case"link":xt("error",m),xt("load",m);break;case"details":xt("toggle",m);break;case"input":Xe(m,b),xt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},xt("invalid",m);break;case"textarea":xe(m,b),xt("invalid",m)}nt(d,b),x=null;for(var T in b)if(b.hasOwnProperty(T)){var B=b[T];T==="children"?typeof B=="string"?m.textContent!==B&&(b.suppressHydrationWarning!==!0&&Pl(m.textContent,B,s),x=["children",B]):typeof B=="number"&&m.textContent!==""+B&&(b.suppressHydrationWarning!==!0&&Pl(m.textContent,B,s),x=["children",""+B]):i.hasOwnProperty(T)&&B!=null&&T==="onScroll"&&xt("scroll",m)}switch(d){case"input":Ve(m),lt(m,b,!0);break;case"textarea":Ve(m),te(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=Al)}m=x,a.updateQueue=m,m!==null&&(a.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=K(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=T.createElement(d,{is:m.is}):(s=T.createElement(d),d==="select"&&(T=s,m.multiple?T.multiple=!0:m.size&&(T.size=m.size))):s=T.createElementNS(s,d),s[jr]=a,s[ra]=m,Ny(s,a,!1,!1),a.stateNode=s;e:{switch(T=Wt(d,m),d){case"dialog":xt("cancel",s),xt("close",s),x=m;break;case"iframe":case"object":case"embed":xt("load",s),x=m;break;case"video":case"audio":for(x=0;x<ea.length;x++)xt(ea[x],s);x=m;break;case"source":xt("error",s),x=m;break;case"img":case"image":case"link":xt("error",s),xt("load",s),x=m;break;case"details":xt("toggle",s),x=m;break;case"input":Xe(s,m),x=Ue(s,m),xt("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=N({},m,{value:void 0}),xt("invalid",s);break;case"textarea":xe(s,m),x=Ce(s,m),xt("invalid",s);break;default:x=m}nt(d,x),B=x;for(b in B)if(B.hasOwnProperty(b)){var H=B[b];b==="style"?Ke(s,H):b==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Pe(s,H)):b==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&$e(s,H):typeof H=="number"&&$e(s,""+H):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?H!=null&&b==="onScroll"&&xt("scroll",s):H!=null&&C(s,b,H,T))}switch(d){case"input":Ve(s),lt(s,m,!1);break;case"textarea":Ve(s),te(s);break;case"option":m.value!=null&&s.setAttribute("value",""+ce(m.value));break;case"select":s.multiple=!!m.multiple,b=m.value,b!=null?de(s,!!m.multiple,b,!1):m.defaultValue!=null&&de(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Al)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ln(a),null;case 6:if(s&&a.stateNode!=null)Iy(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(d=Ki(la.current),Ki(Nr.current),Fl(a)){if(m=a.stateNode,d=a.memoizedProps,m[jr]=a,(b=m.nodeValue!==d)&&(s=zn,s!==null))switch(s.tag){case 3:Pl(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Pl(m.nodeValue,d,(s.mode&1)!==0)}b&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[jr]=a,a.stateNode=m}return ln(a),null;case 13:if(wt(jt),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Et&&Bn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Rg(),zs(),a.flags|=98560,b=!1;else if(b=Fl(a),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[jr]=a}else zs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ln(a),b=!1}else dr!==null&&(yf(dr),dr=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(jt.current&1)!==0?Vt===0&&(Vt=3):wf())),a.updateQueue!==null&&(a.flags|=4),ln(a),null);case 4:return Hs(),of(s,a),s===null&&ta(a.stateNode.containerInfo),ln(a),null;case 10:return Rd(a.type._context),ln(a),null;case 17:return jn(a.type)&&Ol(),ln(a),null;case 19:if(wt(jt),b=a.memoizedState,b===null)return ln(a),null;if(m=(a.flags&128)!==0,T=b.rendering,T===null)if(m)ha(b,!1);else{if(Vt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Vl(s),T!==null){for(a.flags|=128,ha(b,!1),m=T.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)b=d,s=m,b.flags&=14680066,T=b.alternate,T===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=T.childLanes,b.lanes=T.lanes,b.child=T.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=T.memoizedProps,b.memoizedState=T.memoizedState,b.updateQueue=T.updateQueue,b.type=T.type,s=T.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return pt(jt,jt.current&1|2),a.child}s=s.sibling}b.tail!==null&&Ot()>Ks&&(a.flags|=128,m=!0,ha(b,!1),a.lanes=4194304)}else{if(!m)if(s=Vl(T),s!==null){if(a.flags|=128,m=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),ha(b,!0),b.tail===null&&b.tailMode==="hidden"&&!T.alternate&&!Et)return ln(a),null}else 2*Ot()-b.renderingStartTime>Ks&&d!==1073741824&&(a.flags|=128,m=!0,ha(b,!1),a.lanes=4194304);b.isBackwards?(T.sibling=a.child,a.child=T):(d=b.last,d!==null?d.sibling=T:a.child=T,b.last=T)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=Ot(),a.sibling=null,d=jt.current,pt(jt,m?d&1|2:d&1),a):(ln(a),null);case 22:case 23:return xf(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Un&1073741824)!==0&&(ln(a),a.subtreeFlags&6&&(a.flags|=8192)):ln(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function gE(s,a){switch(jd(a),a.tag){case 1:return jn(a.type)&&Ol(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Hs(),wt(Cn),wt(on),zd(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return $d(a),null;case 13:if(wt(jt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));zs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return wt(jt),null;case 4:return Hs(),null;case 10:return Rd(a.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var eu=!1,un=!1,yE=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function qs(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Pt(s,a,m)}else d.current=null}function af(s,a,d){try{d()}catch(m){Pt(s,a,m)}}var Py=!1;function vE(s,a){if(vd=wl,s=ug(),cd(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var T=0,B=-1,H=-1,se=0,he=0,pe=s,fe=null;t:for(;;){for(var je;pe!==d||x!==0&&pe.nodeType!==3||(B=T+x),pe!==b||m!==0&&pe.nodeType!==3||(H=T+m),pe.nodeType===3&&(T+=pe.nodeValue.length),(je=pe.firstChild)!==null;)fe=pe,pe=je;for(;;){if(pe===s)break t;if(fe===d&&++se===x&&(B=T),fe===b&&++he===m&&(H=T),(je=pe.nextSibling)!==null)break;pe=fe,fe=pe.parentNode}pe=je}d=B===-1||H===-1?null:{start:B,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(xd={focusedElem:s,selectionRange:d},wl=!1,Ne=a;Ne!==null;)if(a=Ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ne=s;else for(;Ne!==null;){a=Ne;try{var Te=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ie=Te.memoizedProps,Mt=Te.memoizedState,ne=a.stateNode,G=ne.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:fr(a.type,Ie),Mt);ne.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Pt(a,a.return,ye)}if(s=a.sibling,s!==null){s.return=a.return,Ne=s;break}Ne=a.return}return Te=Py,Py=!1,Te}function pa(s,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var b=x.destroy;x.destroy=void 0,b!==void 0&&af(a,d,b)}x=x.next}while(x!==m)}}function tu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function lf(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function Ay(s){var a=s.alternate;a!==null&&(s.alternate=null,Ay(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[jr],delete a[ra],delete a[Sd],delete a[eE],delete a[tE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ry(s){return s.tag===5||s.tag===3||s.tag===4}function Oy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ry(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function uf(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Al));else if(m!==4&&(s=s.child,s!==null))for(uf(s,a,d),s=s.sibling;s!==null;)uf(s,a,d),s=s.sibling}function cf(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(cf(s,a,d),s=s.sibling;s!==null;)cf(s,a,d),s=s.sibling}var en=null,hr=!1;function vi(s,a,d){for(d=d.child;d!==null;)My(s,a,d),d=d.sibling}function My(s,a,d){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(pl,d)}catch{}switch(d.tag){case 5:un||qs(d,a);case 6:var m=en,x=hr;en=null,vi(s,a,d),en=m,hr=x,en!==null&&(hr?(s=en,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):en.removeChild(d.stateNode));break;case 18:en!==null&&(hr?(s=en,d=d.stateNode,s.nodeType===8?kd(s.parentNode,d):s.nodeType===1&&kd(s,d),qo(s)):kd(en,d.stateNode));break;case 4:m=en,x=hr,en=d.stateNode.containerInfo,hr=!0,vi(s,a,d),en=m,hr=x;break;case 0:case 11:case 14:case 15:if(!un&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var b=x,T=b.destroy;b=b.tag,T!==void 0&&((b&2)!==0||(b&4)!==0)&&af(d,a,T),x=x.next}while(x!==m)}vi(s,a,d);break;case 1:if(!un&&(qs(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(B){Pt(d,a,B)}vi(s,a,d);break;case 21:vi(s,a,d);break;case 22:d.mode&1?(un=(m=un)||d.memoizedState!==null,vi(s,a,d),un=m):vi(s,a,d);break;default:vi(s,a,d)}}function Ly(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new yE),a.forEach(function(m){var x=jE.bind(null,s,m);d.has(m)||(d.add(m),m.then(x,x))})}}function pr(s,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var b=s,T=a,B=T;e:for(;B!==null;){switch(B.tag){case 5:en=B.stateNode,hr=!1;break e;case 3:en=B.stateNode.containerInfo,hr=!0;break e;case 4:en=B.stateNode.containerInfo,hr=!0;break e}B=B.return}if(en===null)throw Error(n(160));My(b,T,x),en=null,hr=!1;var H=x.alternate;H!==null&&(H.return=null),x.return=null}catch(se){Pt(x,a,se)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Dy(a,s),a=a.sibling}function Dy(s,a){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pr(a,s),Ir(s),m&4){try{pa(3,s,s.return),tu(3,s)}catch(Ie){Pt(s,s.return,Ie)}try{pa(5,s,s.return)}catch(Ie){Pt(s,s.return,Ie)}}break;case 1:pr(a,s),Ir(s),m&512&&d!==null&&qs(d,d.return);break;case 5:if(pr(a,s),Ir(s),m&512&&d!==null&&qs(d,d.return),s.flags&32){var x=s.stateNode;try{$e(x,"")}catch(Ie){Pt(s,s.return,Ie)}}if(m&4&&(x=s.stateNode,x!=null)){var b=s.memoizedProps,T=d!==null?d.memoizedProps:b,B=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{B==="input"&&b.type==="radio"&&b.name!=null&&yt(x,b),Wt(B,T);var se=Wt(B,b);for(T=0;T<H.length;T+=2){var he=H[T],pe=H[T+1];he==="style"?Ke(x,pe):he==="dangerouslySetInnerHTML"?Pe(x,pe):he==="children"?$e(x,pe):C(x,he,pe,se)}switch(B){case"input":Be(x,b);break;case"textarea":D(x,b);break;case"select":var fe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!b.multiple;var je=b.value;je!=null?de(x,!!b.multiple,je,!1):fe!==!!b.multiple&&(b.defaultValue!=null?de(x,!!b.multiple,b.defaultValue,!0):de(x,!!b.multiple,b.multiple?[]:"",!1))}x[ra]=b}catch(Ie){Pt(s,s.return,Ie)}}break;case 6:if(pr(a,s),Ir(s),m&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,b=s.memoizedProps;try{x.nodeValue=b}catch(Ie){Pt(s,s.return,Ie)}}break;case 3:if(pr(a,s),Ir(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(Ie){Pt(s,s.return,Ie)}break;case 4:pr(a,s),Ir(s);break;case 13:pr(a,s),Ir(s),x=s.child,x.flags&8192&&(b=x.memoizedState!==null,x.stateNode.isHidden=b,!b||x.alternate!==null&&x.alternate.memoizedState!==null||(hf=Ot())),m&4&&Ly(s);break;case 22:if(he=d!==null&&d.memoizedState!==null,s.mode&1?(un=(se=un)||he,pr(a,s),un=se):pr(a,s),Ir(s),m&8192){if(se=s.memoizedState!==null,(s.stateNode.isHidden=se)&&!he&&(s.mode&1)!==0)for(Ne=s,he=s.child;he!==null;){for(pe=Ne=he;Ne!==null;){switch(fe=Ne,je=fe.child,fe.tag){case 0:case 11:case 14:case 15:pa(4,fe,fe.return);break;case 1:qs(fe,fe.return);var Te=fe.stateNode;if(typeof Te.componentWillUnmount=="function"){m=fe,d=fe.return;try{a=m,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(Ie){Pt(m,d,Ie)}}break;case 5:qs(fe,fe.return);break;case 22:if(fe.memoizedState!==null){zy(pe);continue}}je!==null?(je.return=fe,Ne=je):zy(pe)}he=he.sibling}e:for(he=null,pe=s;;){if(pe.tag===5){if(he===null){he=pe;try{x=pe.stateNode,se?(b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(B=pe.stateNode,H=pe.memoizedProps.style,T=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=ct("display",T))}catch(Ie){Pt(s,s.return,Ie)}}}else if(pe.tag===6){if(he===null)try{pe.stateNode.nodeValue=se?"":pe.memoizedProps}catch(Ie){Pt(s,s.return,Ie)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===s)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===s)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===s)break e;he===pe&&(he=null),pe=pe.return}he===pe&&(he=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:pr(a,s),Ir(s),m&4&&Ly(s);break;case 21:break;default:pr(a,s),Ir(s)}}function Ir(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(Ry(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&($e(x,""),m.flags&=-33);var b=Oy(s);cf(s,b,x);break;case 3:case 4:var T=m.stateNode.containerInfo,B=Oy(s);uf(s,B,T);break;default:throw Error(n(161))}}catch(H){Pt(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function xE(s,a,d){Ne=s,$y(s)}function $y(s,a,d){for(var m=(s.mode&1)!==0;Ne!==null;){var x=Ne,b=x.child;if(x.tag===22&&m){var T=x.memoizedState!==null||eu;if(!T){var B=x.alternate,H=B!==null&&B.memoizedState!==null||un;B=eu;var se=un;if(eu=T,(un=H)&&!se)for(Ne=x;Ne!==null;)T=Ne,H=T.child,T.tag===22&&T.memoizedState!==null?By(x):H!==null?(H.return=T,Ne=H):By(x);for(;b!==null;)Ne=b,$y(b),b=b.sibling;Ne=x,eu=B,un=se}Fy(s)}else(x.subtreeFlags&8772)!==0&&b!==null?(b.return=x,Ne=b):Fy(s)}}function Fy(s){for(;Ne!==null;){var a=Ne;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:un||tu(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!un)if(d===null)m.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:fr(a.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&zg(a,b,m);break;case 3:var T=a.updateQueue;if(T!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}zg(a,T,d)}break;case 5:var B=a.stateNode;if(d===null&&a.flags&4){d=B;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var se=a.alternate;if(se!==null){var he=se.memoizedState;if(he!==null){var pe=he.dehydrated;pe!==null&&qo(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}un||a.flags&512&&lf(a)}catch(fe){Pt(a,a.return,fe)}}if(a===s){Ne=null;break}if(d=a.sibling,d!==null){d.return=a.return,Ne=d;break}Ne=a.return}}function zy(s){for(;Ne!==null;){var a=Ne;if(a===s){Ne=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Ne=d;break}Ne=a.return}}function By(s){for(;Ne!==null;){var a=Ne;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{tu(4,a)}catch(H){Pt(a,d,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var x=a.return;try{m.componentDidMount()}catch(H){Pt(a,x,H)}}var b=a.return;try{lf(a)}catch(H){Pt(a,b,H)}break;case 5:var T=a.return;try{lf(a)}catch(H){Pt(a,T,H)}}}catch(H){Pt(a,a.return,H)}if(a===s){Ne=null;break}var B=a.sibling;if(B!==null){B.return=a.return,Ne=B;break}Ne=a.return}}var wE=Math.ceil,nu=A.ReactCurrentDispatcher,df=A.ReactCurrentOwner,tr=A.ReactCurrentBatchConfig,tt=0,Gt=null,Lt=null,tn=0,Un=0,Ys=hi(0),Vt=0,ma=null,Ji=0,ru=0,ff=0,ga=null,Tn=null,hf=0,Ks=1/0,Xr=null,iu=!1,pf=null,xi=null,su=!1,wi=null,ou=0,ya=0,mf=null,au=-1,lu=0;function xn(){return(tt&6)!==0?Ot():au!==-1?au:au=Ot()}function bi(s){return(s.mode&1)===0?1:(tt&2)!==0&&tn!==0?tn&-tn:rE.transition!==null?(lu===0&&(lu=Om()),lu):(s=ut,s!==0||(s=window.event,s=s===void 0?16:Wm(s.type)),s)}function mr(s,a,d,m){if(50<ya)throw ya=0,mf=null,Error(n(185));Bo(s,d,m),((tt&2)===0||s!==Gt)&&(s===Gt&&((tt&2)===0&&(ru|=d),Vt===4&&ki(s,tn)),In(s,m),d===1&&tt===0&&(a.mode&1)===0&&(Ks=Ot()+500,Ll&&mi()))}function In(s,a){var d=s.callbackNode;rS(s,a);var m=yl(s,s===Gt?tn:0);if(m===0)d!==null&&Pm(d),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(d!=null&&Pm(d),a===1)s.tag===0?nE(Wy.bind(null,s)):Ng(Wy.bind(null,s)),XS(function(){(tt&6)===0&&mi()}),d=null;else{switch(Mm(m)){case 1:d=Yc;break;case 4:d=Am;break;case 16:d=hl;break;case 536870912:d=Rm;break;default:d=hl}d=Qy(d,Uy.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function Uy(s,a){if(au=-1,lu=0,(tt&6)!==0)throw Error(n(327));var d=s.callbackNode;if(Gs()&&s.callbackNode!==d)return null;var m=yl(s,s===Gt?tn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=uu(s,m);else{a=m;var x=tt;tt|=2;var b=Vy();(Gt!==s||tn!==a)&&(Xr=null,Ks=Ot()+500,Xi(s,a));do try{SE();break}catch(B){Hy(s,B)}while(!0);Ad(),nu.current=b,tt=x,Lt!==null?a=0:(Gt=null,tn=0,a=Vt)}if(a!==0){if(a===2&&(x=Kc(s),x!==0&&(m=x,a=gf(s,x))),a===1)throw d=ma,Xi(s,0),ki(s,m),In(s,Ot()),d;if(a===6)ki(s,m);else{if(x=s.current.alternate,(m&30)===0&&!bE(x)&&(a=uu(s,m),a===2&&(b=Kc(s),b!==0&&(m=b,a=gf(s,b))),a===1))throw d=ma,Xi(s,0),ki(s,m),In(s,Ot()),d;switch(s.finishedWork=x,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Zi(s,Tn,Xr);break;case 3:if(ki(s,m),(m&130023424)===m&&(a=hf+500-Ot(),10<a)){if(yl(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){xn(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=bd(Zi.bind(null,s,Tn,Xr),a);break}Zi(s,Tn,Xr);break;case 4:if(ki(s,m),(m&4194240)===m)break;for(a=s.eventTimes,x=-1;0<m;){var T=31-ur(m);b=1<<T,T=a[T],T>x&&(x=T),m&=~b}if(m=x,m=Ot()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*wE(m/1960))-m,10<m){s.timeoutHandle=bd(Zi.bind(null,s,Tn,Xr),m);break}Zi(s,Tn,Xr);break;case 5:Zi(s,Tn,Xr);break;default:throw Error(n(329))}}}return In(s,Ot()),s.callbackNode===d?Uy.bind(null,s):null}function gf(s,a){var d=ga;return s.current.memoizedState.isDehydrated&&(Xi(s,a).flags|=256),s=uu(s,a),s!==2&&(a=Tn,Tn=d,a!==null&&yf(a)),s}function yf(s){Tn===null?Tn=s:Tn.push.apply(Tn,s)}function bE(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],b=x.getSnapshot;x=x.value;try{if(!cr(b(),x))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ki(s,a){for(a&=~ff,a&=~ru,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-ur(a),m=1<<d;s[d]=-1,a&=~m}}function Wy(s){if((tt&6)!==0)throw Error(n(327));Gs();var a=yl(s,0);if((a&1)===0)return In(s,Ot()),null;var d=uu(s,a);if(s.tag!==0&&d===2){var m=Kc(s);m!==0&&(a=m,d=gf(s,m))}if(d===1)throw d=ma,Xi(s,0),ki(s,a),In(s,Ot()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Zi(s,Tn,Xr),In(s,Ot()),null}function vf(s,a){var d=tt;tt|=1;try{return s(a)}finally{tt=d,tt===0&&(Ks=Ot()+500,Ll&&mi())}}function Qi(s){wi!==null&&wi.tag===0&&(tt&6)===0&&Gs();var a=tt;tt|=1;var d=tr.transition,m=ut;try{if(tr.transition=null,ut=1,s)return s()}finally{ut=m,tr.transition=d,tt=a,(tt&6)===0&&mi()}}function xf(){Un=Ys.current,wt(Ys)}function Xi(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,QS(d)),Lt!==null)for(d=Lt.return;d!==null;){var m=d;switch(jd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ol();break;case 3:Hs(),wt(Cn),wt(on),zd();break;case 5:$d(m);break;case 4:Hs();break;case 13:wt(jt);break;case 19:wt(jt);break;case 10:Rd(m.type._context);break;case 22:case 23:xf()}d=d.return}if(Gt=s,Lt=s=Si(s.current,null),tn=Un=a,Vt=0,ma=null,ff=ru=Ji=0,Tn=ga=null,Yi!==null){for(a=0;a<Yi.length;a++)if(d=Yi[a],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,b=d.pending;if(b!==null){var T=b.next;b.next=x,m.next=T}d.pending=m}Yi=null}return s}function Hy(s,a){do{var d=Lt;try{if(Ad(),ql.current=Jl,Yl){for(var m=Nt.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Yl=!1}if(Gi=0,Kt=Ht=Nt=null,ua=!1,ca=0,df.current=null,d===null||d.return===null){Vt=1,ma=a,Lt=null;break}e:{var b=s,T=d.return,B=d,H=a;if(a=tn,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=H,he=B,pe=he.tag;if((he.mode&1)===0&&(pe===0||pe===11||pe===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var je=my(T);if(je!==null){je.flags&=-257,gy(je,T,B,b,a),je.mode&1&&py(b,se,a),a=je,H=se;var Te=a.updateQueue;if(Te===null){var Ie=new Set;Ie.add(H),a.updateQueue=Ie}else Te.add(H);break e}else{if((a&1)===0){py(b,se,a),wf();break e}H=Error(n(426))}}else if(Et&&B.mode&1){var Mt=my(T);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),gy(Mt,T,B,b,a),Id(Vs(H,B));break e}}b=H=Vs(H,B),Vt!==4&&(Vt=2),ga===null?ga=[b]:ga.push(b),b=T;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var ne=fy(b,H,a);Fg(b,ne);break e;case 1:B=H;var G=b.type,ie=b.stateNode;if((b.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(xi===null||!xi.has(ie)))){b.flags|=65536,a&=-a,b.lanes|=a;var ye=hy(b,B,a);Fg(b,ye);break e}}b=b.return}while(b!==null)}Yy(d)}catch(Ae){a=Ae,Lt===d&&d!==null&&(Lt=d=d.return);continue}break}while(!0)}function Vy(){var s=nu.current;return nu.current=Jl,s===null?Jl:s}function wf(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Gt===null||(Ji&268435455)===0&&(ru&268435455)===0||ki(Gt,tn)}function uu(s,a){var d=tt;tt|=2;var m=Vy();(Gt!==s||tn!==a)&&(Xr=null,Xi(s,a));do try{kE();break}catch(x){Hy(s,x)}while(!0);if(Ad(),tt=d,nu.current=m,Lt!==null)throw Error(n(261));return Gt=null,tn=0,Vt}function kE(){for(;Lt!==null;)qy(Lt)}function SE(){for(;Lt!==null&&!K1();)qy(Lt)}function qy(s){var a=Jy(s.alternate,s,Un);s.memoizedProps=s.pendingProps,a===null?Yy(s):Lt=a,df.current=null}function Yy(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=mE(d,a,Un),d!==null){Lt=d;return}}else{if(d=gE(d,a),d!==null){d.flags&=32767,Lt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Vt=6,Lt=null;return}}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=s}while(a!==null);Vt===0&&(Vt=5)}function Zi(s,a,d){var m=ut,x=tr.transition;try{tr.transition=null,ut=1,EE(s,a,d,m)}finally{tr.transition=x,ut=m}return null}function EE(s,a,d,m){do Gs();while(wi!==null);if((tt&6)!==0)throw Error(n(327));d=s.finishedWork;var x=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=d.lanes|d.childLanes;if(iS(s,b),s===Gt&&(Lt=Gt=null,tn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||su||(su=!0,Qy(hl,function(){return Gs(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=tr.transition,tr.transition=null;var T=ut;ut=1;var B=tt;tt|=4,df.current=null,vE(s,d),Dy(d,s),HS(xd),wl=!!vd,xd=vd=null,s.current=d,xE(d),G1(),tt=B,ut=T,tr.transition=b}else s.current=d;if(su&&(su=!1,wi=s,ou=x),b=s.pendingLanes,b===0&&(xi=null),X1(d.stateNode),In(s,Ot()),a!==null)for(m=s.onRecoverableError,d=0;d<a.length;d++)x=a[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(iu)throw iu=!1,s=pf,pf=null,s;return(ou&1)!==0&&s.tag!==0&&Gs(),b=s.pendingLanes,(b&1)!==0?s===mf?ya++:(ya=0,mf=s):ya=0,mi(),null}function Gs(){if(wi!==null){var s=Mm(ou),a=tr.transition,d=ut;try{if(tr.transition=null,ut=16>s?16:s,wi===null)var m=!1;else{if(s=wi,wi=null,ou=0,(tt&6)!==0)throw Error(n(331));var x=tt;for(tt|=4,Ne=s.current;Ne!==null;){var b=Ne,T=b.child;if((Ne.flags&16)!==0){var B=b.deletions;if(B!==null){for(var H=0;H<B.length;H++){var se=B[H];for(Ne=se;Ne!==null;){var he=Ne;switch(he.tag){case 0:case 11:case 15:pa(8,he,b)}var pe=he.child;if(pe!==null)pe.return=he,Ne=pe;else for(;Ne!==null;){he=Ne;var fe=he.sibling,je=he.return;if(Ay(he),he===se){Ne=null;break}if(fe!==null){fe.return=je,Ne=fe;break}Ne=je}}}var Te=b.alternate;if(Te!==null){var Ie=Te.child;if(Ie!==null){Te.child=null;do{var Mt=Ie.sibling;Ie.sibling=null,Ie=Mt}while(Ie!==null)}}Ne=b}}if((b.subtreeFlags&2064)!==0&&T!==null)T.return=b,Ne=T;else e:for(;Ne!==null;){if(b=Ne,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:pa(9,b,b.return)}var ne=b.sibling;if(ne!==null){ne.return=b.return,Ne=ne;break e}Ne=b.return}}var G=s.current;for(Ne=G;Ne!==null;){T=Ne;var ie=T.child;if((T.subtreeFlags&2064)!==0&&ie!==null)ie.return=T,Ne=ie;else e:for(T=G;Ne!==null;){if(B=Ne,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:tu(9,B)}}catch(Ae){Pt(B,B.return,Ae)}if(B===T){Ne=null;break e}var ye=B.sibling;if(ye!==null){ye.return=B.return,Ne=ye;break e}Ne=B.return}}if(tt=x,mi(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(pl,s)}catch{}m=!0}return m}finally{ut=d,tr.transition=a}}return!1}function Ky(s,a,d){a=Vs(d,a),a=fy(s,a,1),s=yi(s,a,1),a=xn(),s!==null&&(Bo(s,1,a),In(s,a))}function Pt(s,a,d){if(s.tag===3)Ky(s,s,d);else for(;a!==null;){if(a.tag===3){Ky(a,s,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xi===null||!xi.has(m))){s=Vs(d,s),s=hy(a,s,1),a=yi(a,s,1),s=xn(),a!==null&&(Bo(a,1,s),In(a,s));break}}a=a.return}}function _E(s,a,d){var m=s.pingCache;m!==null&&m.delete(a),a=xn(),s.pingedLanes|=s.suspendedLanes&d,Gt===s&&(tn&d)===d&&(Vt===4||Vt===3&&(tn&130023424)===tn&&500>Ot()-hf?Xi(s,0):ff|=d),In(s,a)}function Gy(s,a){a===0&&((s.mode&1)===0?a=1:(a=gl,gl<<=1,(gl&130023424)===0&&(gl=4194304)));var d=xn();s=Gr(s,a),s!==null&&(Bo(s,a,d),In(s,d))}function CE(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),Gy(s,d)}function jE(s,a){var d=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),Gy(s,d)}var Jy;Jy=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||Cn.current)Nn=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return Nn=!1,pE(s,a,d);Nn=(s.flags&131072)!==0}else Nn=!1,Et&&(a.flags&1048576)!==0&&Tg(a,$l,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Zl(s,a),s=a.pendingProps;var x=Ds(a,on.current);Ws(a,d),x=Wd(null,a,m,s,x,d);var b=Hd();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,jn(m)?(b=!0,Ml(a)):b=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Ld(a),x.updater=Ql,a.stateNode=x,x._reactInternals=a,Jd(a,m,s,d),a=ef(null,a,m,!0,b,d)):(a.tag=0,Et&&b&&Cd(a),vn(null,a,x,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Zl(s,a),s=a.pendingProps,x=m._init,m=x(m._payload),a.type=m,x=a.tag=TE(m),s=fr(m,s),x){case 0:a=Zd(null,a,m,s,d);break e;case 1:a=ky(null,a,m,s,d);break e;case 11:a=yy(null,a,m,s,d);break e;case 14:a=vy(null,a,m,fr(m.type,s),d);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),Zd(s,a,m,x,d);case 1:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),ky(s,a,m,x,d);case 3:e:{if(Sy(a),s===null)throw Error(n(387));m=a.pendingProps,b=a.memoizedState,x=b.element,$g(s,a),Hl(a,m,null,d);var T=a.memoizedState;if(m=T.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){x=Vs(Error(n(423)),a),a=Ey(s,a,m,d,x);break e}else if(m!==x){x=Vs(Error(n(424)),a),a=Ey(s,a,m,d,x);break e}else for(Bn=fi(a.stateNode.containerInfo.firstChild),zn=a,Et=!0,dr=null,d=Lg(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(zs(),m===x){a=Qr(s,a,d);break e}vn(s,a,m,d)}a=a.child}return a;case 5:return Bg(a),s===null&&Td(a),m=a.type,x=a.pendingProps,b=s!==null?s.memoizedProps:null,T=x.children,wd(m,x)?T=null:b!==null&&wd(m,b)&&(a.flags|=32),by(s,a),vn(s,a,T,d),a.child;case 6:return s===null&&Td(a),null;case 13:return _y(s,a,d);case 4:return Dd(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Bs(a,null,m,d):vn(s,a,m,d),a.child;case 11:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),yy(s,a,m,x,d);case 7:return vn(s,a,a.pendingProps,d),a.child;case 8:return vn(s,a,a.pendingProps.children,d),a.child;case 12:return vn(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,x=a.pendingProps,b=a.memoizedProps,T=x.value,pt(Bl,m._currentValue),m._currentValue=T,b!==null)if(cr(b.value,T)){if(b.children===x.children&&!Cn.current){a=Qr(s,a,d);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var B=b.dependencies;if(B!==null){T=b.child;for(var H=B.firstContext;H!==null;){if(H.context===m){if(b.tag===1){H=Jr(-1,d&-d),H.tag=2;var se=b.updateQueue;if(se!==null){se=se.shared;var he=se.pending;he===null?H.next=H:(H.next=he.next,he.next=H),se.pending=H}}b.lanes|=d,H=b.alternate,H!==null&&(H.lanes|=d),Od(b.return,d,a),B.lanes|=d;break}H=H.next}}else if(b.tag===10)T=b.type===a.type?null:b.child;else if(b.tag===18){if(T=b.return,T===null)throw Error(n(341));T.lanes|=d,B=T.alternate,B!==null&&(B.lanes|=d),Od(T,d,a),T=b.sibling}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===a){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}vn(s,a,x.children,d),a=a.child}return a;case 9:return x=a.type,m=a.pendingProps.children,Ws(a,d),x=Zn(x),m=m(x),a.flags|=1,vn(s,a,m,d),a.child;case 14:return m=a.type,x=fr(m,a.pendingProps),x=fr(m.type,x),vy(s,a,m,x,d);case 15:return xy(s,a,a.type,a.pendingProps,d);case 17:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),Zl(s,a),a.tag=1,jn(m)?(s=!0,Ml(a)):s=!1,Ws(a,d),cy(a,m,x),Jd(a,m,x,d),ef(null,a,m,!0,s,d);case 19:return jy(s,a,d);case 22:return wy(s,a,d)}throw Error(n(156,a.tag))};function Qy(s,a){return Im(s,a)}function NE(s,a,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(s,a,d,m){return new NE(s,a,d,m)}function bf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function TE(s){if(typeof s=="function")return bf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Q)return 11;if(s===F)return 14}return 2}function Si(s,a){var d=s.alternate;return d===null?(d=nr(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function cu(s,a,d,m,x,b){var T=2;if(m=s,typeof s=="function")bf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case z:return es(d.children,x,b,a);case re:T=8,x|=8;break;case X:return s=nr(12,d,a,x|2),s.elementType=X,s.lanes=b,s;case q:return s=nr(13,d,a,x),s.elementType=q,s.lanes=b,s;case V:return s=nr(19,d,a,x),s.elementType=V,s.lanes=b,s;case Z:return du(d,x,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:T=10;break e;case $:T=9;break e;case Q:T=11;break e;case F:T=14;break e;case U:T=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=nr(T,d,a,x),a.elementType=s,a.type=m,a.lanes=b,a}function es(s,a,d,m){return s=nr(7,s,m,a),s.lanes=d,s}function du(s,a,d,m){return s=nr(22,s,m,a),s.elementType=Z,s.lanes=d,s.stateNode={isHidden:!1},s}function kf(s,a,d){return s=nr(6,s,null,a),s.lanes=d,s}function Sf(s,a,d){return a=nr(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function IE(s,a,d,m,x){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ef(s,a,d,m,x,b,T,B,H){return s=new IE(s,a,d,B,H),a===1?(a=1,b===!0&&(a|=8)):a=0,b=nr(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ld(b),s}function PE(s,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:m==null?null:""+m,children:s,containerInfo:a,implementation:d}}function Xy(s){if(!s)return pi;s=s._reactInternals;e:{if(Ui(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(jn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(jn(d))return Cg(s,d,a)}return a}function Zy(s,a,d,m,x,b,T,B,H){return s=Ef(d,m,!0,s,x,b,T,B,H),s.context=Xy(null),d=s.current,m=xn(),x=bi(d),b=Jr(m,x),b.callback=a??null,yi(d,b,x),s.current.lanes=x,Bo(s,x,m),In(s,m),s}function fu(s,a,d,m){var x=a.current,b=xn(),T=bi(x);return d=Xy(d),a.context===null?a.context=d:a.pendingContext=d,a=Jr(b,T),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=yi(x,a,T),s!==null&&(mr(s,x,T,b),Wl(s,x,T)),T}function hu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function ev(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function _f(s,a){ev(s,a),(s=s.alternate)&&ev(s,a)}function AE(){return null}var tv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Cf(s){this._internalRoot=s}pu.prototype.render=Cf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));fu(s,a,null,null)},pu.prototype.unmount=Cf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Qi(function(){fu(null,s,null,null)}),a[Vr]=null}};function pu(s){this._internalRoot=s}pu.prototype.unstable_scheduleHydration=function(s){if(s){var a=$m();s={blockedOn:null,target:s,priority:a};for(var d=0;d<ui.length&&a!==0&&a<ui[d].priority;d++);ui.splice(d,0,s),d===0&&Bm(s)}};function jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function mu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function nv(){}function RE(s,a,d,m,x){if(x){if(typeof m=="function"){var b=m;m=function(){var se=hu(T);b.call(se)}}var T=Zy(a,m,s,0,null,!1,!1,"",nv);return s._reactRootContainer=T,s[Vr]=T.current,ta(s.nodeType===8?s.parentNode:s),Qi(),T}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var B=m;m=function(){var se=hu(H);B.call(se)}}var H=Ef(s,0,!1,null,null,!1,!1,"",nv);return s._reactRootContainer=H,s[Vr]=H.current,ta(s.nodeType===8?s.parentNode:s),Qi(function(){fu(a,H,d,m)}),H}function gu(s,a,d,m,x){var b=d._reactRootContainer;if(b){var T=b;if(typeof x=="function"){var B=x;x=function(){var H=hu(T);B.call(H)}}fu(a,T,s,x)}else T=RE(d,a,s,x,m);return hu(T)}Lm=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=zo(a.pendingLanes);d!==0&&(Jc(a,d|1),In(a,Ot()),(tt&6)===0&&(Ks=Ot()+500,mi()))}break;case 13:Qi(function(){var m=Gr(s,1);if(m!==null){var x=xn();mr(m,s,1,x)}}),_f(s,1)}},Qc=function(s){if(s.tag===13){var a=Gr(s,134217728);if(a!==null){var d=xn();mr(a,s,134217728,d)}_f(s,134217728)}},Dm=function(s){if(s.tag===13){var a=bi(s),d=Gr(s,a);if(d!==null){var m=xn();mr(d,s,a,m)}_f(s,a)}},$m=function(){return ut},Fm=function(s,a){var d=ut;try{return ut=s,a()}finally{ut=d}},at=function(s,a,d){switch(a){case"input":if(Be(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==s&&m.form===s.form){var x=Rl(m);if(!x)throw Error(n(90));Ze(m),Be(m,x)}}}break;case"textarea":D(s,d);break;case"select":a=d.value,a!=null&&de(s,!!d.multiple,a,!1)}},St=vf,rn=Qi;var OE={usingClientEntryPoint:!1,Events:[ia,Ms,Rl,st,rt,vf]},va={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ME={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Nm(s),s===null?null:s.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||AE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{pl=yu.inject(ME),Cr=yu}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OE,Pn.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(a))throw Error(n(200));return PE(s,a,null,d)},Pn.createRoot=function(s,a){if(!jf(s))throw Error(n(299));var d=!1,m="",x=tv;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Ef(s,1,!1,null,null,d,!1,m,x),s[Vr]=a.current,ta(s.nodeType===8?s.parentNode:s),new Cf(a)},Pn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Nm(a),s=s===null?null:s.stateNode,s},Pn.flushSync=function(s){return Qi(s)},Pn.hydrate=function(s,a,d){if(!mu(a))throw Error(n(200));return gu(null,s,a,!0,d)},Pn.hydrateRoot=function(s,a,d){if(!jf(s))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,x=!1,b="",T=tv;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),a=Zy(a,null,s,1,d??null,x,!1,b,T),s[Vr]=a.current,ta(s),m)for(s=0;s<m.length;s++)d=m[s],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new pu(a)},Pn.render=function(s,a,d){if(!mu(a))throw Error(n(200));return gu(null,s,a,!1,d)},Pn.unmountComponentAtNode=function(s){if(!mu(s))throw Error(n(40));return s._reactRootContainer?(Qi(function(){gu(null,null,s,!1,function(){s._reactRootContainer=null,s[Vr]=null})}),!0):!1},Pn.unstable_batchedUpdates=vf,Pn.unstable_renderSubtreeIntoContainer=function(s,a,d,m){if(!mu(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return gu(s,a,d,!1,m)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var cv;function tw(){if(cv)return If.exports;cv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),If.exports=HE(),If.exports}var dv;function VE(){if(dv)return vu;dv=1;var e=tw();return vu.createRoot=e.createRoot,vu.hydrateRoot=e.hydrateRoot,vu}var qE=VE();const YE=No(qE);var qn=tw();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(this,arguments)}var Ri;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ri||(Ri={}));const fv="popstate";function KE(e){e===void 0&&(e={});function t(i,o){let{pathname:l="/",search:u="",hash:c=""}=bs(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Nh("",{pathname:l,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof o=="string"?o:qu(o))}function r(i,o){jp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return JE(t,n,r,e)}function Tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GE(){return Math.random().toString(36).substr(2,8)}function hv(e,t){return{usr:e.state,key:e.key,idx:t}}function Nh(e,t,n,r){return n===void 0&&(n=null),Ua({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bs(t):t,{state:n,key:t&&t.key||r||GE()})}function qu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function JE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Ri.Pop,c=null,f=h();f==null&&(f=0,l.replaceState(Ua({},l.state,{idx:f}),""));function h(){return(l.state||{idx:null}).idx}function p(){u=Ri.Pop;let _=h(),E=_==null?null:_-f;f=_,c&&c({action:u,location:w.location,delta:E})}function v(_,E){u=Ri.Push;let j=Nh(w.location,_,E);n&&n(j,_),f=h()+1;let C=hv(j,f),A=w.createHref(j);try{l.pushState(C,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(A)}o&&c&&c({action:u,location:w.location,delta:1})}function y(_,E){u=Ri.Replace;let j=Nh(w.location,_,E);n&&n(j,_),f=h();let C=hv(j,f),A=w.createHref(j);l.replaceState(C,"",A),o&&c&&c({action:u,location:w.location,delta:0})}function S(_){let E=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof _=="string"?_:qu(_);return j=j.replace(/ $/,"%20"),Tt(E,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,E)}let w={get action(){return u},get location(){return e(i,l)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(fv,p),c=_,()=>{i.removeEventListener(fv,p),c=null}},createHref(_){return t(i,_)},createURL:S,encodeLocation(_){let E=S(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:y,go(_){return l.go(_)}};return w}var pv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pv||(pv={}));function QE(e,t,n){return n===void 0&&(n="/"),XE(e,t,n)}function XE(e,t,n,r){let i=typeof t=="string"?bs(t):t,o=ko(i.pathname||"/",n);if(o==null)return null;let l=nw(e);ZE(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let f=c_(o);u=l_(l[c],f)}return u}function nw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(Tt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=Mi([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),nw(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:o_(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let c of rw(o.path))i(o,l,c)}),t}function rw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=rw(r.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function ZE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e_=/^:[\w-]+$/,t_=3,n_=2,r_=1,i_=10,s_=-2,mv=e=>e==="*";function o_(e,t){let n=e.split("/"),r=n.length;return n.some(mv)&&(r+=s_),t&&(r+=n_),n.filter(i=>!mv(i)).reduce((i,o)=>i+(e_.test(o)?t_:o===""?r_:i_),r)}function a_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function l_(e,t,n){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",p=Th({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Mi([o,p.pathname]),pathnameBase:p_(Mi([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=Mi([o,p.pathnameBase]))}return l}function Th(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=u_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,h,p)=>{let{paramName:v,isOptional:y}=h;if(v==="*"){let w=u[p]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const S=u[p];return y&&!S?f[v]=void 0:f[v]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function u_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function c_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ko(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function d_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bs(e):e;return{pathname:n?n.startsWith("/")?n:f_(n,t):t,search:m_(r),hash:g_(i)}}function f_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Np(e,t){let n=h_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tp(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=bs(e):(i=Ua({},e),Tt(!i.pathname||!i.pathname.includes("?"),Rf("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Rf("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Rf("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}u=p>=0?t[p]:"/"}let c=d_(i,u),f=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const Mi=e=>e.join("/").replace(/\/\/+/g,"/"),p_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iw=["post","put","patch","delete"];new Set(iw);const v_=["get",...iw];new Set(v_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wa.apply(this,arguments)}const yc=k.createContext(null),sw=k.createContext(null),ni=k.createContext(null),vc=k.createContext(null),ri=k.createContext({outlet:null,matches:[],isDataRoute:!1}),ow=k.createContext(null);function x_(e,t){let{relative:n}=t===void 0?{}:t;To()||Tt(!1);let{basename:r,navigator:i}=k.useContext(ni),{hash:o,pathname:l,search:u}=xc(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:Mi([r,l])),i.createHref({pathname:c,search:u,hash:o})}function To(){return k.useContext(vc)!=null}function ii(){return To()||Tt(!1),k.useContext(vc).location}function aw(e){k.useContext(ni).static||k.useLayoutEffect(e)}function Ip(){let{isDataRoute:e}=k.useContext(ri);return e?O_():w_()}function w_(){To()||Tt(!1);let e=k.useContext(yc),{basename:t,future:n,navigator:r}=k.useContext(ni),{matches:i}=k.useContext(ri),{pathname:o}=ii(),l=JSON.stringify(Np(i,n.v7_relativeSplatPath)),u=k.useRef(!1);return aw(()=>{u.current=!0}),k.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let p=Tp(f,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Mi([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,l,o,e])}const b_=k.createContext(null);function k_(e){let t=k.useContext(ri).outlet;return t&&k.createElement(b_.Provider,{value:e},t)}function xc(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(ni),{matches:i}=k.useContext(ri),{pathname:o}=ii(),l=JSON.stringify(Np(i,r.v7_relativeSplatPath));return k.useMemo(()=>Tp(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function S_(e,t){return E_(e,t)}function E_(e,t,n,r){To()||Tt(!1);let{navigator:i}=k.useContext(ni),{matches:o}=k.useContext(ri),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let f=ii(),h;if(t){var p;let _=typeof t=="string"?bs(t):t;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||Tt(!1),h=_}else h=f;let v=h.pathname||"/",y=v;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=QE(e,{pathname:y}),w=T_(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Mi([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Mi([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&w?k.createElement(vc.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ri.Pop}},w):w}function __(){let e=R_(),t=y_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,null)}const C_=k.createElement(__,null);class j_ extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(ri.Provider,{value:this.props.routeContext},k.createElement(ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N_(e){let{routeContext:t,match:n,children:r}=e,i=k.useContext(yc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(ri.Provider,{value:t},r)}function T_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let h=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);h>=0||Tt(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<l.length;h++){let p=l[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:v,errors:y}=n,S=p.route.loader&&v[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||S){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,p,v)=>{let y,S=!1,w=null,_=null;n&&(y=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||C_,c&&(f<0&&v===0?(M_("route-fallback"),S=!0,_=null):f===v&&(S=!0,_=p.route.hydrateFallbackElement||null)));let E=t.concat(l.slice(0,v+1)),j=()=>{let C;return y?C=w:S?C=_:p.route.Component?C=k.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,k.createElement(N_,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?k.createElement(j_,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):j()},null)}var lw=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(lw||{}),uw=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(uw||{});function I_(e){let t=k.useContext(yc);return t||Tt(!1),t}function P_(e){let t=k.useContext(sw);return t||Tt(!1),t}function A_(e){let t=k.useContext(ri);return t||Tt(!1),t}function cw(e){let t=A_(),n=t.matches[t.matches.length-1];return n.route.id||Tt(!1),n.route.id}function R_(){var e;let t=k.useContext(ow),n=P_(),r=cw();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function O_(){let{router:e}=I_(lw.UseNavigateStable),t=cw(uw.UseNavigateStable),n=k.useRef(!1);return aw(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Wa({fromRouteId:t},o)))},[e,t])}const gv={};function M_(e,t,n){gv[e]||(gv[e]=!0)}function L_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wc(e){let{to:t,replace:n,state:r,relative:i}=e;To()||Tt(!1);let{future:o,static:l}=k.useContext(ni),{matches:u}=k.useContext(ri),{pathname:c}=ii(),f=Ip(),h=Tp(t,Np(u,o.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return k.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:i}),[f,p,i,n,r]),null}function dw(e){return k_(e.context)}function wn(e){Tt(!1)}function D_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ri.Pop,navigator:o,static:l=!1,future:u}=e;To()&&Tt(!1);let c=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:o,static:l,future:Wa({v7_relativeSplatPath:!1},u)}),[c,u,o,l]);typeof r=="string"&&(r=bs(r));let{pathname:h="/",search:p="",hash:v="",state:y=null,key:S="default"}=r,w=k.useMemo(()=>{let _=ko(h,c);return _==null?null:{location:{pathname:_,search:p,hash:v,state:y,key:S},navigationType:i}},[c,h,p,v,y,S,i]);return w==null?null:k.createElement(ni.Provider,{value:f},k.createElement(vc.Provider,{children:n,value:w}))}function $_(e){let{children:t,location:n}=e;return S_(Ih(t),n)}new Promise(()=>{});function Ih(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let o=[...t,i];if(r.type===k.Fragment){n.push.apply(n,Ih(r.props.children,o));return}r.type!==wn&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ih(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}function fw(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function F_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z_(e,t){return e.button===0&&(!t||t==="_self")&&!F_(e)}function Ph(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function B_(e,t){let n=Ph(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const U_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],W_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],H_="6";try{window.__reactRouterVersion=H_}catch{}const V_=k.createContext({isTransitioning:!1}),q_="startTransition",yv=Vu[q_];function Y_(e){let{basename:t,children:n,future:r,window:i}=e,o=k.useRef();o.current==null&&(o.current=KE({window:i,v5Compat:!0}));let l=o.current,[u,c]=k.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},h=k.useCallback(p=>{f&&yv?yv(()=>c(p)):c(p)},[c,f]);return k.useLayoutEffect(()=>l.listen(h),[l,h]),k.useEffect(()=>L_(r),[r]),k.createElement(D_,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wr=k.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p}=t,v=fw(t,U_),{basename:y}=k.useContext(ni),S,w=!1;if(typeof f=="string"&&G_.test(f)&&(S=f,K_))try{let C=new URL(window.location.href),A=f.startsWith("//")?new URL(C.protocol+f):new URL(f),O=ko(A.pathname,y);A.origin===C.origin&&O!=null?f=O+A.search+A.hash:w=!0}catch{}let _=x_(f,{relative:i}),E=Q_(f,{replace:l,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p});function j(C){r&&r(C),C.defaultPrevented||E(C)}return k.createElement("a",Yu({},v,{href:S||_,onClick:w||o?r:j,ref:n,target:c}))}),vv=k.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:c,viewTransition:f,children:h}=t,p=fw(t,W_),v=xc(c,{relative:p.relative}),y=ii(),S=k.useContext(sw),{navigator:w,basename:_}=k.useContext(ni),E=S!=null&&X_(v)&&f===!0,j=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,C=y.pathname,A=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(C=C.toLowerCase(),A=A?A.toLowerCase():null,j=j.toLowerCase()),A&&_&&(A=ko(A,_)||A);const O=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let R=C===j||!l&&C.startsWith(j)&&C.charAt(O)==="/",z=A!=null&&(A===j||!l&&A.startsWith(j)&&A.charAt(j.length)==="/"),re={isActive:R,isPending:z,isTransitioning:E},X=R?r:void 0,L;typeof o=="function"?L=o(re):L=[o,R?"active":null,z?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let $=typeof u=="function"?u(re):u;return k.createElement(wr,Yu({},p,{"aria-current":X,className:L,ref:n,style:$,to:c,viewTransition:f}),typeof h=="function"?h(re):h)});var Ah;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ah||(Ah={}));var xv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xv||(xv={}));function J_(e){let t=k.useContext(yc);return t||Tt(!1),t}function Q_(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,c=Ip(),f=ii(),h=xc(e,{relative:l});return k.useCallback(p=>{if(z_(p,n)){p.preventDefault();let v=r!==void 0?r:qu(f)===qu(h);c(e,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,c,h,r,i,n,e,o,l,u])}function Pp(e){let t=k.useRef(Ph(e)),n=k.useRef(!1),r=ii(),i=k.useMemo(()=>B_(r.search,n.current?null:t.current),[r.search]),o=Ip(),l=k.useCallback((u,c)=>{const f=Ph(typeof u=="function"?u(i):u);n.current=!0,o("?"+f,c)},[o,i]);return[i,l]}function X_(e,t){t===void 0&&(t={});let n=k.useContext(V_);n==null&&Tt(!1);let{basename:r}=J_(Ah.useViewTransitionState),i=xc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ko(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ko(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Th(i.pathname,l)!=null||Th(i.pathname,o)!=null}const hw=typeof document<"u"?Se.useLayoutEffect:()=>{};var Of;const Z_=(Of=Se.useInsertionEffect)!==null&&Of!==void 0?Of:hw;function eC(e){const t=k.useRef(null);return Z_(()=>{t.current=e},[e]),k.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Fi=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},hs=e=>e&&"window"in e&&e.window===e?e:Fi(e).defaultView||window;function tC(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function nC(e){return tC(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let rC=!1;function Ap(){return rC}function pw(e,t){if(!Ap())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:nC(n)?n=n.host:n=n.parentNode}return!1}const Rh=(e=document)=>{var t;if(!Ap())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function mw(e){return Ap()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function gw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=gw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=gw(e))&&(r&&(r+=" "),r+=t);return r}function iC(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function sC(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function yw(e){let t=null;return()=>(t==null&&(t=e()),t)}const oC=yw(function(){return sC(/^Mac/i)}),aC=yw(function(){return iC(/Android/i)});function vw(){let e=k.useRef(new Map),t=k.useCallback((i,o,l,u)=>{let c=u!=null&&u.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:o,eventTarget:i,fn:c,options:u}),i.addEventListener(o,c,u)},[]),n=k.useCallback((i,o,l,u)=>{var c;let f=((c=e.current.get(l))===null||c===void 0?void 0:c.fn)||l;i.removeEventListener(o,f,u),e.current.delete(l)},[]),r=k.useCallback(()=>{e.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return k.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function lC(e){return e.pointerType===""&&e.isTrusted?!0:aC()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function xw(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function uC(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function ww(e){let t=k.useRef({isFocused:!1,observer:null});hw(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=eC(r=>{e==null||e(r)});return k.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=l=>{if(t.current.isFocused=!1,i.disabled){let u=xw(l);n(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let cC=!1,el=null,Oh=new Set,Ta=new Map,gs=!1,Mh=!1;const dC={Tab:!0,Escape:!0};function Rp(e,t){for(let n of Oh)n(e,t)}function fC(e){return!(e.metaKey||!oC()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ku(e){gs=!0,fC(e)&&(el="keyboard",Rp("keyboard",e))}function mo(e){el="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(gs=!0,Rp("pointer",e))}function bw(e){lC(e)&&(gs=!0,el="virtual")}function kw(e){e.target===window||e.target===document||cC||!e.isTrusted||(!gs&&!Mh&&(el="virtual",Rp("virtual",e)),gs=!1,Mh=!1)}function Sw(){gs=!1,Mh=!0}function Lh(e){if(typeof window>"u"||typeof document>"u"||Ta.get(hs(e)))return;const t=hs(e),n=Fi(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){gs=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ku,!0),n.addEventListener("keyup",Ku,!0),n.addEventListener("click",bw,!0),t.addEventListener("focus",kw,!0),t.addEventListener("blur",Sw,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",mo,!0),n.addEventListener("pointermove",mo,!0),n.addEventListener("pointerup",mo,!0)),t.addEventListener("beforeunload",()=>{Ew(e)},{once:!0}),Ta.set(t,{focus:r})}const Ew=(e,t)=>{const n=hs(e),r=Fi(e);t&&r.removeEventListener("DOMContentLoaded",t),Ta.has(n)&&(n.HTMLElement.prototype.focus=Ta.get(n).focus,r.removeEventListener("keydown",Ku,!0),r.removeEventListener("keyup",Ku,!0),r.removeEventListener("click",bw,!0),n.removeEventListener("focus",kw,!0),n.removeEventListener("blur",Sw,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",mo,!0),r.removeEventListener("pointermove",mo,!0),r.removeEventListener("pointerup",mo,!0)),Ta.delete(n))};function hC(e){const t=Fi(e);let n;return t.readyState!=="loading"?Lh(e):(n=()=>{Lh(e)},t.addEventListener("DOMContentLoaded",n)),()=>Ew(e,n)}typeof document<"u"&&hC();function _w(){return el!=="pointer"}const pC=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function mC(e,t,n){let r=Fi(n==null?void 0:n.target);const i=typeof window<"u"?hs(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?hs(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?hs(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?hs(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof i&&!pC.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!dC[n.key])}function gC(e,t,n){Lh(),k.useEffect(()=>{let r=(i,o)=>{mC(!!(n!=null&&n.isTextInput),i,o)&&e(_w())};return Oh.add(r),()=>{Oh.delete(r)}},t)}function yC(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=k.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),i&&i(!1),!0},[r,i]),l=ww(o),u=k.useCallback(c=>{const f=Fi(c.target),h=f?Rh(f):Rh();c.target===c.currentTarget&&h===mw(c.nativeEvent)&&(n&&n(c),i&&i(!0),l(c))},[i,n,l]);return{focusProps:{onFocus:!t&&(n||i||r)?u:void 0,onBlur:!t&&(r||i)?o:void 0}}}function vC(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=k.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=vw(),c=k.useCallback(p=>{p.currentTarget.contains(p.target)&&o.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(o.current.isFocusWithin=!1,u(),n&&n(p),i&&i(!1))},[n,i,o,u]),f=ww(c),h=k.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const v=Fi(p.target),y=Rh(v);if(!o.current.isFocusWithin&&y===mw(p.nativeEvent)){r&&r(p),i&&i(!0),o.current.isFocusWithin=!0,f(p);let S=p.currentTarget;l(v,"focus",w=>{if(o.current.isFocusWithin&&!pw(S,w.target)){let _=new v.defaultView.FocusEvent("blur",{relatedTarget:w.target});uC(_,S);let E=xw(_);c(E)}},{capture:!0})}},[r,i,f,l,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:c}}}let Dh=!1,xu=0;function xC(){Dh=!0,setTimeout(()=>{Dh=!1},50)}function wv(e){e.pointerType==="touch"&&xC()}function wC(){if(!(typeof document>"u"))return xu===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",wv),xu++,()=>{xu--,!(xu>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",wv)}}function bC(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,l]=k.useState(!1),u=k.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;k.useEffect(wC,[]);let{addGlobalListener:c,removeAllGlobalListeners:f}=vw(),{hoverProps:h,triggerHoverEnd:p}=k.useMemo(()=>{let v=(w,_)=>{if(u.pointerType=_,i||_==="touch"||u.isHovered||!w.currentTarget.contains(w.target))return;u.isHovered=!0;let E=w.currentTarget;u.target=E,c(Fi(w.target),"pointerover",j=>{u.isHovered&&u.target&&!pw(u.target,j.target)&&y(j,j.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:E,pointerType:_}),n&&n(!0),l(!0)},y=(w,_)=>{let E=u.target;u.pointerType="",u.target=null,!(_==="touch"||!u.isHovered||!E)&&(u.isHovered=!1,f(),r&&r({type:"hoverend",target:E,pointerType:_}),n&&n(!1),l(!1))},S={};return typeof PointerEvent<"u"&&(S.onPointerEnter=w=>{Dh&&w.pointerType==="mouse"||v(w,w.pointerType)},S.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&y(w,w.pointerType)}),{hoverProps:S,triggerHoverEnd:y}},[t,n,r,i,u,c,f]);return k.useEffect(()=>{i&&p({currentTarget:u.target},u.pointerType)},[i]),{hoverProps:h,isHovered:o}}function kC(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=k.useRef({isFocused:!1,isFocusVisible:t||_w()}),[o,l]=k.useState(!1),[u,c]=k.useState(()=>i.current.isFocused&&i.current.isFocusVisible),f=k.useCallback(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),h=k.useCallback(y=>{i.current.isFocused=y,l(y),f()},[f]);gC(y=>{i.current.isFocusVisible=y,f()},[],{isTextInput:n});let{focusProps:p}=yC({isDisabled:r,onFocusChange:h}),{focusWithinProps:v}=vC({isDisabled:!r,onFocusWithinChange:h});return{isFocused:o,isFocusVisible:u,focusProps:r?v:p}}var SC=Object.defineProperty,EC=(e,t,n)=>t in e?SC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mf=(e,t,n)=>(EC(e,typeof t!="symbol"?t+"":t,n),n);let _C=class{constructor(){Mf(this,"current",this.detect()),Mf(this,"handoffState","pending"),Mf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Mr=new _C;function ks(e){var t;return Mr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Gu(e){var t,n;return Mr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function Op(e){var t,n;return(n=(t=Gu(e))==null?void 0:t.activeElement)!=null?n:null}function Cw(e){return Op(e)===e}function bc(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Mn(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return bc(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Mn();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ss(){let[e]=k.useState(Mn);return k.useEffect(()=>()=>e.dispose(),[e]),e}let bt=(e,t)=>{Mr.isServer?k.useEffect(e,t):k.useLayoutEffect(e,t)};function Es(e){let t=k.useRef(e);return bt(()=>{t.current=e},[e]),t}let Fe=function(e){let t=Es(e);return Se.useCallback((...n)=>t.current(...n),[t])};function CC(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function jC(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function NC({disabled:e=!1}={}){let t=k.useRef(null),[n,r]=k.useState(!1),i=Ss(),o=Fe(()=>{t.current=null,r(!1),i.dispose()}),l=Fe(u=>{if(i.dispose(),t.current===null){t.current=u.currentTarget,r(!0);{let c=ks(u.currentTarget);i.addEventListener(c,"pointerup",o,!1),i.addEventListener(c,"pointermove",f=>{if(t.current){let h=CC(f);r(jC(h,t.current.getBoundingClientRect()))}},!1),i.addEventListener(c,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:o,onClick:o}}}function zr(e){return k.useMemo(()=>e,Object.values(e))}let TC=k.createContext(void 0);function jw(){return k.useContext(TC)}function $h(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function kr(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,kr),r}var So=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(So||{}),Oi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Oi||{});function Ut(){let e=PC();return k.useCallback(t=>IC({mergeRefs:e,...t}),[e])}function IC({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:u}){u=u??AC;let c=Nw(t,e);if(o)return wu(c,n,r,l,u);let f=i??0;if(f&2){let{static:h=!1,...p}=c;if(h)return wu(p,n,r,l,u)}if(f&1){let{unmount:h=!0,...p}=c;return kr(h?0:1,{0(){return null},1(){return wu({...p,hidden:!0,style:{display:"none"}},n,r,l,u)}})}return wu(c,n,r,l,u)}function wu(e,t={},n,r,i){let{as:o=n,children:l,refName:u="ref",...c}=Lf(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},h=typeof l=="function"?l(t):l;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let p={};if(t){let v=!1,y=[];for(let[S,w]of Object.entries(t))typeof w=="boolean"&&(v=!0),w===!0&&y.push(S.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(v){p["data-headlessui-state"]=y.join(" ");for(let S of y)p[`data-${S}`]=""}}if(Ia(o)&&(Object.keys(ss(c)).length>0||Object.keys(ss(p)).length>0))if(!k.isValidElement(h)||Array.isArray(h)&&h.length>1||OC(h)){if(Object.keys(ss(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ss(c)).concat(Object.keys(ss(p))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,y=v==null?void 0:v.className,S=typeof y=="function"?(...E)=>$h(y(...E),c.className):$h(y,c.className),w=S?{className:S}:{},_=Nw(h.props,ss(Lf(c,["ref"])));for(let E in p)E in _&&delete p[E];return k.cloneElement(h,Object.assign({},_,p,f,{ref:i(RC(h),f.ref)},w))}return k.createElement(o,Object.assign({},Lf(c,["ref"]),!Ia(o)&&f,!Ia(o)&&p),h)}function PC(){let e=k.useRef([]),t=k.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function AC(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Nw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let l=n[r];for(let u of l){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;u(i,...o)}}});return t}function Tw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let l of o)l==null||l(...i)}});return t}function Rt(e){var t;return Object.assign(k.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ss(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Lf(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function RC(e){return Se.version.split(".")[0]>="19"?e.props.ref:e.ref}function Ia(e){return e===k.Fragment||e===Symbol.for("react.fragment")}function OC(e){return Ia(e.type)}let MC="span";var Ju=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ju||{});function LC(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ut()({ourProps:o,theirProps:i,slot:{},defaultTag:MC,name:"Hidden"})}let Fh=Rt(LC),DC=k.createContext(void 0);function $C(){return k.useContext(DC)}function Iw(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ti(e){return Iw(e)&&"tagName"in e}function Gn(e){return ti(e)&&"accessKey"in e}function Or(e){return ti(e)&&"tabIndex"in e}function FC(e){return ti(e)&&"style"in e}function zC(e){return Gn(e)&&e.nodeName==="IFRAME"}function Pw(e){return Gn(e)&&e.nodeName==="INPUT"}function bv(e){return Gn(e)&&e.nodeName==="LABEL"}function BC(e){return Gn(e)&&e.nodeName==="FIELDSET"}function Aw(e){return Gn(e)&&e.nodeName==="LEGEND"}function UC(e){return ti(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function kv(e){let t=e.parentElement,n=null;for(;t&&!BC(t);)Aw(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&WC(n)?!1:r}function WC(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Aw(t))return!1;t=t.previousElementSibling}return!0}let Rw=Symbol();function HC(e,t=!0){return Object.assign(e,{[Rw]:t})}function En(...e){let t=k.useRef(e);k.useEffect(()=>{t.current=e},[e]);let n=Fe(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Rw]))?void 0:n}let Mp=k.createContext(null);Mp.displayName="DescriptionContext";function Ow(){let e=k.useContext(Mp);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Ow),t}return e}function Mw(){let[e,t]=k.useState([]);return[e.length>0?e.join(" "):void 0,k.useMemo(()=>function(n){let r=Fe(o=>(t(l=>[...l,o]),()=>t(l=>{let u=l.slice(),c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}))),i=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Se.createElement(Mp.Provider,{value:i},n.children)},[t])]}let VC="p";function qC(e,t){let n=k.useId(),r=jw(),{id:i=`headlessui-description-${n}`,...o}=e,l=Ow(),u=En(t);bt(()=>l.register(i),[i,l.register]);let c=zr({...l.slot,disabled:r||!1}),f={ref:u,...l.props,id:i};return Ut()({ourProps:f,theirProps:o,slot:c,defaultTag:VC,name:l.name||"Description"})}let YC=Rt(qC),KC=Object.assign(YC,{});var Xt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Xt||{});let kc=k.createContext(null);kc.displayName="LabelContext";function Lp(){let e=k.useContext(kc);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Lp),t}return e}function GC(e){var t,n,r;let i=(n=(t=k.useContext(kc))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function Lw({inherit:e=!1}={}){let t=GC(),[n,r]=k.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,k.useMemo(()=>function(o){let l=Fe(c=>(r(f=>[...f,c]),()=>r(f=>{let h=f.slice(),p=h.indexOf(c);return p!==-1&&h.splice(p,1),h}))),u=k.useMemo(()=>({register:l,slot:o.slot,name:o.name,props:o.props,value:o.value}),[l,o.slot,o.name,o.props,o.value]);return Se.createElement(kc.Provider,{value:u},o.children)},[r])]}let JC="label";function QC(e,t){var n;let r=k.useId(),i=Lp(),o=$C(),l=jw(),{id:u=`headlessui-label-${r}`,htmlFor:c=o??((n=i.props)==null?void 0:n.htmlFor),passive:f=!1,...h}=e,p=En(t);bt(()=>i.register(u),[u,i.register]);let v=Fe(w=>{let _=w.currentTarget;if(!(w.target!==w.currentTarget&&UC(w.target))&&(bv(_)&&w.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(w),bv(_))){let E=document.getElementById(_.htmlFor);if(E){let j=E.getAttribute("disabled");if(j==="true"||j==="")return;let C=E.getAttribute("aria-disabled");if(C==="true"||C==="")return;(Pw(E)&&(E.type==="file"||E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),y=zr({...i.slot,disabled:l||!1}),S={ref:p,...i.props,id:u,htmlFor:c,onClick:v};return f&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in h&&delete h.onClick),Ut()({ourProps:S,theirProps:h,slot:y,defaultTag:c?JC:"div",name:i.name||"Label"})}let XC=Rt(QC);Object.assign(XC,{});let ZC=k.createContext(()=>{});function ej({value:e,children:t}){return Se.createElement(ZC.Provider,{value:e},t)}function Sv(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function tj(e,t,n=!1){let[r,i]=k.useState(()=>Sv(t));return bt(()=>{if(!t||!e)return;let o=Mn();return o.requestAnimationFrame(function l(){o.requestAnimationFrame(l),i(u=>{let c=Sv(t);return c.width===u.width&&c.height===u.height?u:c})}),()=>{o.dispose()}},[t,e]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var Dw=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Dw||{});function nj(e){let t=k.useRef(null),n=Fe(i=>{t.current=i.pointerType,!kv(i.currentTarget)&&i.pointerType==="mouse"&&i.button===Dw.Left&&(i.preventDefault(),e(i))}),r=Fe(i=>{t.current!=="mouse"&&(kv(i.currentTarget)||e(i))});return{onPointerDown:n,onClick:r}}let $w=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var rj=Object.defineProperty,ij=(e,t,n)=>t in e?rj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sj=(e,t,n)=>(ij(e,t+"",n),n),Fw=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},rr=(e,t,n)=>(Fw(e,t,"read from private field"),n?n.call(e):t.get(e)),Df=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ev=(e,t,n,r)=>(Fw(e,t,"write to private field"),t.set(e,n),n),Pr,Ea,_a;let zw=class{constructor(t){Df(this,Pr,{}),Df(this,Ea,new $w(()=>new Set)),Df(this,_a,new Set),sj(this,"disposables",Mn()),Ev(this,Pr,t),Mr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return rr(this,Pr)}subscribe(t,n){if(Mr.isServer)return()=>{};let r={selector:t,callback:n,current:t(rr(this,Pr))};return rr(this,_a).add(r),this.disposables.add(()=>{rr(this,_a).delete(r)})}on(t,n){return Mr.isServer?()=>{}:(rr(this,Ea).get(t).add(n),this.disposables.add(()=>{rr(this,Ea).get(t).delete(n)}))}send(t){let n=this.reduce(rr(this,Pr),t);if(n!==rr(this,Pr)){Ev(this,Pr,n);for(let r of rr(this,_a)){let i=r.selector(rr(this,Pr));Bw(r.current,i)||(r.current=i,r.callback(i))}for(let r of rr(this,Ea).get(t.type))r(rr(this,Pr),t)}}};Pr=new WeakMap,Ea=new WeakMap,_a=new WeakMap;function Bw(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:$f(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:$f(e.entries(),t.entries()):_v(e)&&_v(t)?$f(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function $f(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function _v(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function Cv(e){let[t,n]=e(),r=Mn();return(...i)=>{t(...i),r.dispose(),r.microTask(n)}}var oj=Object.defineProperty,aj=(e,t,n)=>t in e?oj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jv=(e,t,n)=>(aj(e,typeof t!="symbol"?t+"":t,n),n),Uw=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Uw||{});let lj={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let o=e.stack.slice();return o.splice(i,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},uj=class Ww extends zw{constructor(){super(...arguments),jv(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),jv(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Ww({stack:[]})}reduce(t,n){return kr(n.type,lj,t,n)}};const Sc=new $w(()=>uj.new());var Ff={exports:{}},zf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function cj(){if(Nv)return zf;Nv=1;var e=gc();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return zf.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var y=i(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=l(function(){function _(O){if(!E){if(E=!0,j=O,O=p(O),v!==void 0&&S.hasValue){var R=S.value;if(v(R,O))return C=R}return C=O}if(R=C,n(j,O))return R;var z=p(O);return v!==void 0&&v(R,z)?(j=O,R):(j=O,C=z)}var E=!1,j,C,A=h===void 0?null:h;return[function(){return _(f())},A===null?void 0:function(){return _(A())}]},[f,h,p,v]);var w=r(c,y[0],y[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},zf}var Tv;function dj(){return Tv||(Tv=1,Ff.exports=cj()),Ff.exports}var fj=dj();function or(e,t,n=Bw){return fj.useSyncExternalStoreWithSelector(Fe(r=>e.subscribe(hj,r)),Fe(()=>e.state),Fe(()=>e.state),Fe(t),n)}function hj(e){return e}function tl(e,t){let n=k.useId(),r=Sc.get(t),[i,o]=or(r,k.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return bt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?i:!0:!1}let zh=new Map,Pa=new Map;function Iv(e){var t;let n=(t=Pa.get(e))!=null?t:0;return Pa.set(e,n+1),n!==0?()=>Pv(e):(zh.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Pv(e))}function Pv(e){var t;let n=(t=Pa.get(e))!=null?t:1;if(n===1?Pa.delete(e):Pa.set(e,n-1),n!==1)return;let r=zh.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,zh.delete(e))}function Hw(e,{allowed:t,disallowed:n}={}){let r=tl(e,"inert-others");bt(()=>{var i,o;if(!r)return;let l=Mn();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&l.add(Iv(c));let u=(o=t==null?void 0:t())!=null?o:[];for(let c of u){if(!c)continue;let f=ks(c);if(!f)continue;let h=c.parentElement;for(;h&&h!==f.body;){for(let p of h.children)u.some(v=>p.contains(v))||l.add(Iv(p));h=h.parentElement}}return l.dispose},[r,t,n])}function Vw(e,t,n){let r=Es(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});k.useEffect(()=>{if(!e)return;let i=t===null?null:Gn(t)?t:t.current;if(!i)return;let o=Mn();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[t,r,e])}let Qu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),pj=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var xr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(xr||{}),Bh=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Bh||{}),mj=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(mj||{});function qw(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Qu)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function gj(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(pj)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Dp=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Dp||{});function $p(e,t=0){var n;return e===((n=ks(e))==null?void 0:n.body)?!1:kr(t,{0(){return e.matches(Qu)},1(){let r=e;for(;r!==null;){if(r.matches(Qu))return!0;r=r.parentElement}return!1}})}function Yw(e){Mn().nextFrame(()=>{let t=Op(e);t&&Or(t)&&!$p(t,0)&&Lr(e)})}var yj=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(yj||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Lr(e){e==null||e.focus({preventScroll:!0})}let vj=["textarea","input"].join(",");function xj(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,vj))!=null?n:!1}function Kw(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function wj(e,t,n=e===null?document.body:Gu(e)){return go(qw(n),t,{relativeTo:e})}function go(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?Gu(e[0]):document:Gu(e),l=Array.isArray(e)?n?Kw(e):e:t&64?gj(e):qw(e);i.length>0&&l.length>1&&(l=l.filter(y=>!i.some(S=>S!=null&&"current"in S?(S==null?void 0:S.current)===y:S===y))),r=r??(o==null?void 0:o.activeElement);let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,p=l.length,v;do{if(h>=p||h+p<=0)return 0;let y=c+h;if(t&16)y=(y+p)%p;else{if(y<0)return 3;if(y>=p)return 1}v=l[y],v==null||v.focus(f),h+=u}while(v!==Op(v));return t&6&&xj(v)&&v.select(),2}function Gw(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function bj(){return/Android/gi.test(window.navigator.userAgent)}function Av(){return Gw()||bj()}function po(e,t,n,r){let i=Es(n);k.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function Jw(e,t,n,r){let i=Es(n);k.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Rv=30;function Qw(e,t,n){let r=Es(n),i=k.useCallback(function(u,c){if(u.defaultPrevented)return;let f=c(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=(function p(v){return typeof v=="function"?p(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let p of h)if(p!==null&&(p.contains(f)||u.composed&&u.composedPath().includes(p)))return;return!$p(f,Dp.Loose)&&f.tabIndex!==-1&&u.preventDefault(),r.current(u,f)},[r,t]),o=k.useRef(null);po(e,"pointerdown",u=>{var c,f;Av()||(o.current=((f=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:f[0])||u.target)},!0),po(e,"pointerup",u=>{if(Av()||!o.current)return;let c=o.current;return o.current=null,i(u,()=>c)},!0);let l=k.useRef({x:0,y:0});po(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),po(e,"touchend",u=>{let c={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(c.x-l.current.x)>=Rv||Math.abs(c.y-l.current.y)>=Rv))return i(u,()=>Or(u.target)?u.target:null)},!0),Jw(e,"blur",u=>i(u,()=>zC(window.document.activeElement)?window.document.activeElement:null),!0)}function Ha(...e){return k.useMemo(()=>ks(...e),[...e])}var kj=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(kj||{});const bu={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},Sj=200,Ov=5;function Ej(e,{trigger:t,action:n,close:r,select:i}){let o=k.useRef(null),l=k.useRef(null),u=k.useRef(null);po(e&&t!==null,"pointerdown",c=>{Iw(c==null?void 0:c.target)&&t!=null&&t.contains(c.target)&&(l.current=c.x,u.current=c.y,o.current=c.timeStamp)}),po(e&&t!==null,"pointerup",c=>{var f,h;let p=o.current;if(p===null||(o.current=null,!Or(c.target))||Math.abs(c.x-((f=l.current)!=null?f:c.x))<Ov&&Math.abs(c.y-((h=u.current)!=null?h:c.y))<Ov)return;let v=n(c);switch(v.kind){case 0:return;case 1:{c.timeStamp-p>Sj&&(i(v.target),r());break}case 2:{r();break}}},{capture:!0})}function Xw(e,t,n,r){let i=Es(n);k.useEffect(()=>{e=e??window;function o(l){i.current(l)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function _j(e,t){return k.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Cj(e){return k.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function jj(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=t[i].call(n,...o);l&&(n=l,r.forEach(u=>u()))}}}function Nj(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function Tj(){return Gw()?{before({doc:e,d:t,meta:n}){function r(i){for(let o of n().containers)for(let l of o())if(l.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=Mn();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Or(u.target))try{let c=u.target.closest("a");if(!c)return;let{hash:f}=new URL(c.href),h=e.querySelector(f);Or(h)&&!r(h)&&(l=h)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",c=>{if(u.dispose(),Or(c.target)&&FC(c.target))if(r(c.target)){let f=c.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Or(u.target)){if(Pw(u.target))return;if(r(u.target)){let c=u.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let c=(u=window.scrollY)!=null?u:window.pageYOffset;o!==c&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Ij(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Mv(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ps=jj(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Mn(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Mv(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Mv(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[Tj(),Nj(),Ij()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ps.subscribe(()=>{let e=ps.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ps.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ps.dispatch("TEARDOWN",n)}});function Pj(e,t,n=()=>({containers:[]})){let r=Cj(ps),i=t?r.get(t):void 0,o=i?i.count>0:!1;return bt(()=>{if(!(!t||!e))return ps.dispatch("PUSH",t,n),()=>ps.dispatch("POP",t,n)},[e,t]),o}function Zw(e,t,n=()=>[document.body]){let r=tl(e,"scroll-lock");Pj(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function Lv(e){return[e.screenX,e.screenY]}function Aj(){let e=k.useRef([-1,-1]);return{wasMoved(t){let n=Lv(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Lv(t)}}}function Rj(e=0){let[t,n]=k.useState(e),r=k.useCallback(c=>n(c),[]),i=k.useCallback(c=>n(f=>f|c),[]),o=k.useCallback(c=>(t&c)===c,[t]),l=k.useCallback(c=>n(f=>f&~c),[]),u=k.useCallback(c=>n(f=>f^c),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:u}}var Oj={},Dv,$v;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Dv=process==null?void 0:Oj)==null?void 0:Dv.NODE_ENV)==="test"&&typeof(($v=Element==null?void 0:Element.prototype)==null?void 0:$v.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Mj=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Mj||{});function eb(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function tb(e,t,n,r){let[i,o]=k.useState(n),{hasFlag:l,addFlag:u,removeFlag:c}=Rj(e&&i?3:0),f=k.useRef(!1),h=k.useRef(!1),p=Ss();return bt(()=>{var v;if(e){if(n&&o(!0),!t){n&&u(3);return}return(v=r==null?void 0:r.start)==null||v.call(r,n),Lj(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(u(3),c(4)):(u(4),c(2)))},run(){h.current?n?(c(3),u(4)):(c(4),u(3)):n?c(1):u(1)},done(){var y;h.current&&Fj(t)||(f.current=!1,c(7),n||o(!1),(y=r==null?void 0:r.end)==null||y.call(r,n))}})}},[e,n,t,p]),e?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Lj(e,{prepare:t,run:n,done:r,inFlight:i}){let o=Mn();return $j(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(Dj(e,r))})}),o.dispose}function Dj(e,t){var n,r;let i=Mn();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),i.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{o||t()}),i.dispose)}function $j(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Fj(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function zj(e,{container:t,accept:n,walk:r}){let i=k.useRef(n),o=k.useRef(r);k.useEffect(()=>{i.current=n,o.current=r},[n,r]),bt(()=>{if(!t||!e)return;let l=ks(t);if(!l)return;let u=i.current,c=o.current,f=Object.assign(p=>u(p),{acceptNode:u}),h=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;h.nextNode();)c(h.currentNode)},[t,e,i,o])}function Fp(e,t){let n=k.useRef([]),r=Fe(e);k.useEffect(()=>{let i=[...n.current];for(let[o,l]of t.entries())if(n.current[o]!==l){let u=r(t,i);return n.current=t,u}},[r,...t])}function Ec(){return typeof window<"u"}function Io(e){return nb(e)?(e.nodeName||"").toLowerCase():"#document"}function Yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Br(e){var t;return(t=(nb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nb(e){return Ec()?e instanceof Node||e instanceof Yn(e).Node:!1}function kn(e){return Ec()?e instanceof Element||e instanceof Yn(e).Element:!1}function $r(e){return Ec()?e instanceof HTMLElement||e instanceof Yn(e).HTMLElement:!1}function Fv(e){return!Ec()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yn(e).ShadowRoot}const Bj=new Set(["inline","contents"]);function nl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Sr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Bj.has(i)}const Uj=new Set(["table","td","th"]);function Wj(e){return Uj.has(Io(e))}const Hj=[":popover-open",":modal"];function _c(e){return Hj.some(t=>{try{return e.matches(t)}catch{return!1}})}const Vj=["transform","translate","scale","rotate","perspective"],qj=["transform","translate","scale","rotate","perspective","filter"],Yj=["paint","layout","strict","content"];function zp(e){const t=Bp(),n=kn(e)?Sr(e):e;return Vj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||qj.some(r=>(n.willChange||"").includes(r))||Yj.some(r=>(n.contain||"").includes(r))}function Kj(e){let t=Li(e);for(;$r(t)&&!Eo(t);){if(zp(t))return t;if(_c(t))return null;t=Li(t)}return null}function Bp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gj=new Set(["html","body","#document"]);function Eo(e){return Gj.has(Io(e))}function Sr(e){return Yn(e).getComputedStyle(e)}function Cc(e){return kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Li(e){if(Io(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Fv(e)&&e.host||Br(e);return Fv(t)?t.host:t}function rb(e){const t=Li(e);return Eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:$r(t)&&nl(t)?t:rb(t)}function Va(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=rb(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=Yn(i);if(o){const u=Uh(l);return t.concat(l,l.visualViewport||[],nl(i)?i:[],u&&n?Va(u):[])}return t.concat(i,Va(i,[],n))}function Uh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jj(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const ys=Math.min,hn=Math.max,qa=Math.round,ku=Math.floor,Dr=e=>({x:e,y:e}),Qj={left:"right",right:"left",bottom:"top",top:"bottom"},Xj={start:"end",end:"start"};function zv(e,t,n){return hn(e,ys(t,n))}function Po(e,t){return typeof e=="function"?e(t):e}function Di(e){return e.split("-")[0]}function rl(e){return e.split("-")[1]}function ib(e){return e==="x"?"y":"x"}function sb(e){return e==="y"?"height":"width"}const Zj=new Set(["top","bottom"]);function ei(e){return Zj.has(Di(e))?"y":"x"}function ob(e){return ib(ei(e))}function eN(e,t,n){n===void 0&&(n=!1);const r=rl(e),i=ob(e),o=sb(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Xu(l)),[l,Xu(l)]}function tN(e){const t=Xu(e);return[Wh(e),t,Wh(t)]}function Wh(e){return e.replace(/start|end/g,t=>Xj[t])}const Bv=["left","right"],Uv=["right","left"],nN=["top","bottom"],rN=["bottom","top"];function iN(e,t,n){switch(e){case"top":case"bottom":return n?t?Uv:Bv:t?Bv:Uv;case"left":case"right":return t?nN:rN;default:return[]}}function sN(e,t,n,r){const i=rl(e);let o=iN(Di(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(Wh)))),o}function Xu(e){return e.replace(/left|right|bottom|top/g,t=>Qj[t])}function oN(e){return{top:0,right:0,bottom:0,left:0,...e}}function aN(e){return typeof e!="number"?oN(e):{top:e,right:e,bottom:e,left:e}}function Zu(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Wv(e,t,n){let{reference:r,floating:i}=e;const o=ei(t),l=ob(t),u=sb(l),c=Di(t),f=o==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[u]/2-i[u]/2;let y;switch(c){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(rl(t)){case"start":y[l]-=v*(n&&f?-1:1);break;case"end":y[l]+=v*(n&&f?-1:1);break}return y}const lN=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=Wv(f,r,c),v=r,y={},S=0;for(let w=0;w<u.length;w++){const{name:_,fn:E}=u[w],{x:j,y:C,data:A,reset:O}=await E({x:h,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:f,platform:l,elements:{reference:e,floating:t}});h=j??h,p=C??p,y={...y,[_]:{...y[_],...A}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(v=O.placement),O.rects&&(f=O.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:h,y:p}=Wv(f,v,c)),w=-1)}return{x:h,y:p,placement:v,strategy:i,middlewareData:y}};async function jc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:u,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=Po(t,e),S=aN(y),_=u[v?p==="floating"?"reference":"floating":p],E=Zu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:c})),j=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),A=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},O=Zu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:C,strategy:c}):j);return{top:(E.top-O.top+S.top)/A.y,bottom:(O.bottom-E.bottom+S.bottom)/A.y,left:(E.left-O.left+S.left)/A.x,right:(O.right-E.right+S.right)/A.x}}const uN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:c,elements:f}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,..._}=Po(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=Di(i),j=ei(u),C=Di(u)===u,A=await(c.isRTL==null?void 0:c.isRTL(f.floating)),O=v||(C||!w?[Xu(u)]:tN(u)),R=S!=="none";!v&&R&&O.push(...sN(u,w,S,A));const z=[u,...O],re=await jc(t,_),X=[];let L=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&X.push(re[E]),p){const V=eN(i,l,A);X.push(re[V[0]],re[V[1]])}if(L=[...L,{placement:i,overflows:X}],!X.every(V=>V<=0)){var $,Q;const V=((($=o.flip)==null?void 0:$.index)||0)+1,F=z[V];if(F&&(!(p==="alignment"?j!==ei(F):!1)||L.every(M=>ei(M.placement)===j?M.overflows[0]>0:!0)))return{data:{index:V,overflows:L},reset:{placement:F}};let U=(Q=L.filter(Z=>Z.overflows[0]<=0).sort((Z,M)=>Z.overflows[1]-M.overflows[1])[0])==null?void 0:Q.placement;if(!U)switch(y){case"bestFit":{var q;const Z=(q=L.filter(M=>{if(R){const Y=ei(M.placement);return Y===j||Y==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(Y=>Y>0).reduce((Y,N)=>Y+N,0)]).sort((M,Y)=>M[1]-Y[1])[0])==null?void 0:q[0];Z&&(U=Z);break}case"initialPlacement":U=u;break}if(i!==U)return{reset:{placement:U}}}return{}}}},cN=new Set(["left","top"]);async function dN(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Di(n),u=rl(n),c=ei(n)==="y",f=cN.has(l)?-1:1,h=o&&c?-1:1,p=Po(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof S=="number"&&(y=u==="end"?S*-1:S),c?{x:y*h,y:v*f}:{x:v*f,y:y*h}}const fN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:u}=t,c=await dN(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:l}}}}},hN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:_=>{let{x:E,y:j}=_;return{x:E,y:j}}},...c}=Po(e,t),f={x:n,y:r},h=await jc(t,c),p=ei(Di(i)),v=ib(p);let y=f[v],S=f[p];if(o){const _=v==="y"?"top":"left",E=v==="y"?"bottom":"right",j=y+h[_],C=y-h[E];y=zv(j,y,C)}if(l){const _=p==="y"?"top":"left",E=p==="y"?"bottom":"right",j=S+h[_],C=S-h[E];S=zv(j,S,C)}const w=u.fn({...t,[v]:y,[p]:S});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[v]:o,[p]:l}}}}}},pN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:c=()=>{},...f}=Po(e,t),h=await jc(t,f),p=Di(i),v=rl(i),y=ei(i)==="y",{width:S,height:w}=o.floating;let _,E;p==="top"||p==="bottom"?(_=p,E=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(E=p,_=v==="end"?"top":"bottom");const j=w-h.top-h.bottom,C=S-h.left-h.right,A=ys(w-h[_],j),O=ys(S-h[E],C),R=!t.middlewareData.shift;let z=A,re=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(re=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(z=j),R&&!v){const L=hn(h.left,0),$=hn(h.right,0),Q=hn(h.top,0),q=hn(h.bottom,0);y?re=S-2*(L!==0||$!==0?L+$:hn(h.left,h.right)):z=w-2*(Q!==0||q!==0?Q+q:hn(h.top,h.bottom))}await c({...t,availableWidth:re,availableHeight:z});const X=await l.getDimensions(u.floating);return S!==X.width||w!==X.height?{reset:{rects:!0}}:{}}}};function ab(e){const t=Sr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=$r(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=qa(n)!==o||qa(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function Up(e){return kn(e)?e:e.contextElement}function yo(e){const t=Up(e);if(!$r(t))return Dr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=ab(t);let l=(o?qa(n.width):n.width)/r,u=(o?qa(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const mN=Dr(0);function lb(e){const t=Yn(e);return!Bp()||!t.visualViewport?mN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yn(e)?!1:t}function vs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Up(e);let l=Dr(1);t&&(r?kn(r)&&(l=yo(r)):l=yo(e));const u=gN(o,n,r)?lb(o):Dr(0);let c=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,h=i.width/l.x,p=i.height/l.y;if(o){const v=Yn(o),y=r&&kn(r)?Yn(r):r;let S=v,w=Uh(S);for(;w&&r&&y!==S;){const _=yo(w),E=w.getBoundingClientRect(),j=Sr(w),C=E.left+(w.clientLeft+parseFloat(j.paddingLeft))*_.x,A=E.top+(w.clientTop+parseFloat(j.paddingTop))*_.y;c*=_.x,f*=_.y,h*=_.x,p*=_.y,c+=C,f+=A,S=Yn(w),w=Uh(S)}}return Zu({width:h,height:p,x:c,y:f})}function Nc(e,t){const n=Cc(e).scrollLeft;return t?t.left+n:vs(Br(e)).left+n}function ub(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Nc(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function yN(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=Br(r),u=t?_c(t.floating):!1;if(r===l||u&&o)return n;let c={scrollLeft:0,scrollTop:0},f=Dr(1);const h=Dr(0),p=$r(r);if((p||!p&&!o)&&((Io(r)!=="body"||nl(l))&&(c=Cc(r)),$r(r))){const y=vs(r);f=yo(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const v=l&&!p&&!o?ub(l,c):Dr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+h.x+v.x,y:n.y*f.y-c.scrollTop*f.y+h.y+v.y}}function vN(e){return Array.from(e.getClientRects())}function xN(e){const t=Br(e),n=Cc(e),r=e.ownerDocument.body,i=hn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=hn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Nc(e);const u=-n.scrollTop;return Sr(r).direction==="rtl"&&(l+=hn(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:u}}const Hv=25;function wN(e,t){const n=Yn(e),r=Br(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,c=0;if(i){o=i.width,l=i.height;const h=Bp();(!h||h&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}const f=Nc(r);if(f<=0){const h=r.ownerDocument,p=h.body,v=getComputedStyle(p),y=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(r.clientWidth-p.clientWidth-y);S<=Hv&&(o-=S)}else f<=Hv&&(o+=f);return{width:o,height:l,x:u,y:c}}const bN=new Set(["absolute","fixed"]);function kN(e,t){const n=vs(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=$r(e)?yo(e):Dr(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:l,height:u,x:c,y:f}}function Vv(e,t,n){let r;if(t==="viewport")r=wN(e,n);else if(t==="document")r=xN(Br(e));else if(kn(t))r=kN(t,n);else{const i=lb(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Zu(r)}function cb(e,t){const n=Li(e);return n===t||!kn(n)||Eo(n)?!1:Sr(n).position==="fixed"||cb(n,t)}function SN(e,t){const n=t.get(e);if(n)return n;let r=Va(e,[],!1).filter(u=>kn(u)&&Io(u)!=="body"),i=null;const o=Sr(e).position==="fixed";let l=o?Li(e):e;for(;kn(l)&&!Eo(l);){const u=Sr(l),c=zp(l);!c&&u.position==="fixed"&&(i=null),(o?!c&&!i:!c&&u.position==="static"&&!!i&&bN.has(i.position)||nl(l)&&!c&&cb(e,l))?r=r.filter(h=>h!==l):i=u,l=Li(l)}return t.set(e,r),r}function EN(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?_c(t)?[]:SN(t,this._c):[].concat(n),r],u=l[0],c=l.reduce((f,h)=>{const p=Vv(t,h,i);return f.top=hn(p.top,f.top),f.right=ys(p.right,f.right),f.bottom=ys(p.bottom,f.bottom),f.left=hn(p.left,f.left),f},Vv(t,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _N(e){const{width:t,height:n}=ab(e);return{width:t,height:n}}function CN(e,t,n){const r=$r(t),i=Br(t),o=n==="fixed",l=vs(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const c=Dr(0);function f(){c.x=Nc(i)}if(r||!r&&!o)if((Io(t)!=="body"||nl(i))&&(u=Cc(t)),r){const y=vs(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else i&&f();o&&!r&&i&&f();const h=i&&!r&&!o?ub(i,u):Dr(0),p=l.left+u.scrollLeft-c.x-h.x,v=l.top+u.scrollTop-c.y-h.y;return{x:p,y:v,width:l.width,height:l.height}}function Bf(e){return Sr(e).position==="static"}function qv(e,t){if(!$r(e)||Sr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Br(e)===n&&(n=n.ownerDocument.body),n}function db(e,t){const n=Yn(e);if(_c(e))return n;if(!$r(e)){let i=Li(e);for(;i&&!Eo(i);){if(kn(i)&&!Bf(i))return i;i=Li(i)}return n}let r=qv(e,t);for(;r&&Wj(r)&&Bf(r);)r=qv(r,t);return r&&Eo(r)&&Bf(r)&&!zp(r)?n:r||Kj(e)||n}const jN=async function(e){const t=this.getOffsetParent||db,n=this.getDimensions,r=await n(e.floating);return{reference:CN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NN(e){return Sr(e).direction==="rtl"}const TN={convertOffsetParentRelativeRectToViewportRelativeRect:yN,getDocumentElement:Br,getClippingRect:EN,getOffsetParent:db,getElementRects:jN,getClientRects:vN,getDimensions:_N,getScale:yo,isElement:kn,isRTL:NN};function fb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IN(e,t){let n=null,r;const i=Br(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const f=e.getBoundingClientRect(),{left:h,top:p,width:v,height:y}=f;if(u||t(),!v||!y)return;const S=ku(p),w=ku(i.clientWidth-(h+v)),_=ku(i.clientHeight-(p+y)),E=ku(h),C={rootMargin:-S+"px "+-w+"px "+-_+"px "+-E+"px",threshold:hn(0,ys(1,c))||1};let A=!0;function O(R){const z=R[0].intersectionRatio;if(z!==c){if(!A)return l();z?l(!1,z):r=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!fb(f,e.getBoundingClientRect())&&l(),A=!1}try{n=new IntersectionObserver(O,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,C)}n.observe(e)}return l(!0),o}function PN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Up(e),h=i||o?[...f?Va(f):[],...Va(t)]:[];h.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const p=f&&u?IN(f,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(E=>{let[j]=E;j&&j.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),f&&!c&&y.observe(f),y.observe(t));let S,w=c?vs(e):null;c&&_();function _(){const E=vs(e);w&&!fb(w,E)&&n(),w=E,S=requestAnimationFrame(_)}return n(),()=>{var E;h.forEach(j=>{i&&j.removeEventListener("scroll",n),o&&j.removeEventListener("resize",n)}),p==null||p(),(E=y)==null||E.disconnect(),y=null,c&&cancelAnimationFrame(S)}}const Uf=jc,AN=fN,RN=hN,ON=uN,MN=pN,LN=(e,t,n)=>{const r=new Map,i={platform:TN,...n},o={...i.platform,_c:r};return lN(e,t,{...i,platform:o})};var DN=typeof document<"u",$N=function(){},Lu=DN?k.useLayoutEffect:$N;function ec(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ec(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ec(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function hb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Yv(e,t){const n=hb(e);return Math.round(t*n)/n}function Wf(e){const t=k.useRef(e);return Lu(()=>{t.current=e}),t}function FN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:c,open:f}=e,[h,p]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=k.useState(r);ec(v,r)||y(r);const[S,w]=k.useState(null),[_,E]=k.useState(null),j=k.useCallback(M=>{M!==R.current&&(R.current=M,w(M))},[]),C=k.useCallback(M=>{M!==z.current&&(z.current=M,E(M))},[]),A=o||S,O=l||_,R=k.useRef(null),z=k.useRef(null),re=k.useRef(h),X=c!=null,L=Wf(c),$=Wf(i),Q=Wf(f),q=k.useCallback(()=>{if(!R.current||!z.current)return;const M={placement:t,strategy:n,middleware:v};$.current&&(M.platform=$.current),LN(R.current,z.current,M).then(Y=>{const N={...Y,isPositioned:Q.current!==!1};V.current&&!ec(re.current,N)&&(re.current=N,qn.flushSync(()=>{p(N)}))})},[v,t,n,$,Q]);Lu(()=>{f===!1&&re.current.isPositioned&&(re.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[f]);const V=k.useRef(!1);Lu(()=>(V.current=!0,()=>{V.current=!1}),[]),Lu(()=>{if(A&&(R.current=A),O&&(z.current=O),A&&O){if(L.current)return L.current(A,O,q);q()}},[A,O,q,L,X]);const F=k.useMemo(()=>({reference:R,floating:z,setReference:j,setFloating:C}),[j,C]),U=k.useMemo(()=>({reference:A,floating:O}),[A,O]),Z=k.useMemo(()=>{const M={position:n,left:0,top:0};if(!U.floating)return M;const Y=Yv(U.floating,h.x),N=Yv(U.floating,h.y);return u?{...M,transform:"translate("+Y+"px, "+N+"px)",...hb(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:N}},[n,u,U.floating,h.x,h.y]);return k.useMemo(()=>({...h,update:q,refs:F,elements:U,floatingStyles:Z}),[h,q,F,U,Z])}const pb=(e,t)=>({...AN(e),options:[e,t]}),zN=(e,t)=>({...RN(e),options:[e,t]}),BN=(e,t)=>({...ON(e),options:[e,t]}),UN=(e,t)=>({...MN(e),options:[e,t]}),mb={...Vu},WN=mb.useInsertionEffect,HN=WN||(e=>e());function gb(e){const t=k.useRef(()=>{});return HN(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Hh=typeof document<"u"?k.useLayoutEffect:k.useEffect;let Kv=!1,VN=0;const Gv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+VN++;function qN(){const[e,t]=k.useState(()=>Kv?Gv():void 0);return Hh(()=>{e==null&&t(Gv())},[]),k.useEffect(()=>{Kv=!0},[]),e}const YN=mb.useId,KN=YN||qN;function GN(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const JN=k.createContext(null),QN=k.createContext(null),XN=()=>{var e;return((e=k.useContext(JN))==null?void 0:e.id)||null},ZN=()=>k.useContext(QN),eT="data-floating-ui-focusable";function tT(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=KN(),o=k.useRef({}),[l]=k.useState(()=>GN()),u=XN()!=null,[c,f]=k.useState(r.reference),h=gb((y,S,w)=>{o.current.openEvent=y?S:void 0,l.emit("openchange",{open:y,event:S,reason:w,nested:u}),n==null||n(y,S,w)}),p=k.useMemo(()=>({setPositionReference:f}),[]),v=k.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return k.useMemo(()=>({dataRef:o,open:t,onOpenChange:h,elements:v,events:l,floatingId:i,refs:p}),[t,h,v,l,i,p])}function nT(e){e===void 0&&(e={});const{nodeId:t}=e,n=tT({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,l]=k.useState(null),[u,c]=k.useState(null),h=(i==null?void 0:i.domReference)||o,p=k.useRef(null),v=ZN();Hh(()=>{h&&(p.current=h)},[h]);const y=FN({...e,elements:{...i,...u&&{reference:u}}}),S=k.useCallback(C=>{const A=kn(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;c(A),y.refs.setReference(A)},[y.refs]),w=k.useCallback(C=>{(kn(C)||C===null)&&(p.current=C,l(C)),(kn(y.refs.reference.current)||y.refs.reference.current===null||C!==null&&!kn(C))&&y.refs.setReference(C)},[y.refs]),_=k.useMemo(()=>({...y.refs,setReference:w,setPositionReference:S,domReference:p}),[y.refs,w,S]),E=k.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),j=k.useMemo(()=>({...y,...r,refs:_,elements:E,nodeId:t}),[y,_,E,t,r]);return Hh(()=>{r.dataRef.current.floatingContext=j;const C=v==null?void 0:v.nodesRef.current.find(A=>A.id===t);C&&(C.context=j)}),k.useMemo(()=>({...y,context:j,refs:_,elements:E}),[y,_,E,j])}const Jv="active",Qv="selected";function Hf(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Jv]:l,[Qv]:u,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1,[eT]:""},...o,...t.map(l=>{const u=l?l[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((l,u)=>(u&&Object.entries(u).forEach(c=>{let[f,h]=c;if(!(i&&[Jv,Qv].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof h=="function"){var p;(p=r.get(f))==null||p.push(h),l[f]=function(){for(var v,y=arguments.length,S=new Array(y),w=0;w<y;w++)S[w]=arguments[w];return(v=r.get(f))==null?void 0:v.map(_=>_(...S)).find(_=>_!==void 0)}}}else l[f]=h}),l),{})}}function rT(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),n=e.map(u=>u==null?void 0:u.floating),r=e.map(u=>u==null?void 0:u.item),i=k.useCallback(u=>Hf(u,e,"reference"),t),o=k.useCallback(u=>Hf(u,e,"floating"),n),l=k.useCallback(u=>Hf(u,e,"item"),r);return k.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}function Xv(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const iT=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:l=0,minItemsVisible:u=4,referenceOverflowThreshold:c=0,scrollRef:f,...h}=Po(e,t),{rects:p,elements:{floating:v}}=t,y=n.current[l],S=(f==null?void 0:f.current)||v,w=v.clientTop||S.clientTop,_=v.clientTop!==0,E=S.clientTop!==0,j=v===S;if(!y)return{};const C={...t,...await pb(-y.offsetTop-v.clientTop-p.reference.height/2-y.offsetHeight/2-o).fn(t)},A=await Uf(Xv(C,S.scrollHeight+w+v.clientTop),h),O=await Uf(C,{...h,elementContext:"reference"}),R=hn(0,A.top),z=C.y+R,L=(S.scrollHeight>S.clientHeight?$=>$:qa)(hn(0,S.scrollHeight+(_&&j||E?w*2:0)-R-hn(0,A.bottom)));if(S.style.maxHeight=L+"px",S.scrollTop=R,i){const $=S.offsetHeight<y.offsetHeight*ys(u,n.current.length)-1||O.top>=-c||O.bottom>=-c;qn.flushSync(()=>i($))}return r&&(r.current=await Uf(Xv({...C,y:z},S.offsetHeight+w+v.clientTop),h)),{y:z}}});function sT(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:l,onChange:u}=t,c=gb(u),f=k.useRef(!1),h=k.useRef(null),p=k.useRef(null);k.useEffect(()=>{if(!i)return;function y(w){if(w.ctrlKey||!S||o.current==null)return;const _=w.deltaY,E=o.current.top>=-.5,j=o.current.bottom>=-.5,C=S.scrollHeight-S.clientHeight,A=_<0?-1:1,O=_<0?"max":"min";S.scrollHeight<=S.clientHeight||(!E&&_>0||!j&&_<0?(w.preventDefault(),qn.flushSync(()=>{c(R=>R+Math[O](_,C*A))})):/firefox/i.test(Jj())&&(S.scrollTop+=_))}const S=(l==null?void 0:l.current)||r.floating;if(n&&S)return S.addEventListener("wheel",y),requestAnimationFrame(()=>{h.current=S.scrollTop,o.current!=null&&(p.current={...o.current})}),()=>{h.current=null,p.current=null,S.removeEventListener("wheel",y)}},[i,n,r.floating,o,l,c]);const v=k.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const y=(l==null?void 0:l.current)||r.floating;if(!(!o.current||!y||!f.current)){if(h.current!==null){const S=y.scrollTop-h.current;(o.current.bottom<-.5&&S<-1||o.current.top<-.5&&S>1)&&qn.flushSync(()=>c(w=>w+S))}requestAnimationFrame(()=>{h.current=y.scrollTop})}}}),[r.floating,c,o,l]);return k.useMemo(()=>i?{floating:v}:{},[i,v])}let Ao=k.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ao.displayName="FloatingContext";let Wp=k.createContext(null);Wp.displayName="PlacementContext";function oT(e){return k.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function aT(){return k.useContext(Ao).setReference}function lT(){return k.useContext(Ao).getReferenceProps}function uT(){let{getFloatingProps:e,slot:t}=k.useContext(Ao);return k.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function cT(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=k.useContext(Wp),n=k.useMemo(()=>e,[JSON.stringify(e,(i,o)=>{var l;return(l=o==null?void 0:o.outerHTML)!=null?l:o})]);bt(()=>{t==null||t(n??null)},[t,n]);let r=k.useContext(Ao);return k.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Zv=4;function dT({children:e,enabled:t=!0}){let[n,r]=k.useState(null),[i,o]=k.useState(0),l=k.useRef(null),[u,c]=k.useState(null);fT(u);let f=t&&n!==null&&u!==null,{to:h="bottom",gap:p=0,offset:v=0,padding:y=0,inner:S}=hT(n,u),[w,_="center"]=h.split(" ");bt(()=>{f&&o(0)},[f]);let{refs:E,floatingStyles:j,context:C}=nT({open:f,placement:w==="selection"?_==="center"?"bottom":`bottom-${_}`:_==="center"?`${w}`:`${w}-${_}`,strategy:"absolute",transform:!1,middleware:[pb({mainAxis:w==="selection"?0:p,crossAxis:v}),zN({padding:y}),w!=="selection"&&BN({padding:y}),w==="selection"&&S?iT({...S,padding:y,overflowRef:l,offset:i,minItemsVisible:Zv,referenceOverflowThreshold:y,onFallbackChange($){var Q,q;if(!$)return;let V=C.elements.floating;if(!V)return;let F=parseFloat(getComputedStyle(V).scrollPaddingBottom)||0,U=Math.min(Zv,V.childElementCount),Z=0,M=0;for(let Y of(q=(Q=C.elements.floating)==null?void 0:Q.childNodes)!=null?q:[])if(Gn(Y)){let N=Y.offsetTop,P=N+Y.clientHeight+F,W=V.scrollTop,I=W+V.clientHeight;if(N>=W&&P<=I)U--;else{M=Math.max(0,Math.min(P,I)-Math.max(N,W)),Z=Y.clientHeight;break}}U>=1&&o(Y=>{let N=Z*U-M+F;return Y>=N?Y:N})}}):null,UN({padding:y,apply({availableWidth:$,availableHeight:Q,elements:q}){Object.assign(q.floating.style,{overflow:"auto",maxWidth:`${$}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Q}px)`})}})].filter(Boolean),whileElementsMounted:PN}),[A=w,O=_]=C.placement.split("-");w==="selection"&&(A="selection");let R=k.useMemo(()=>({anchor:[A,O].filter(Boolean).join(" ")}),[A,O]),z=sT(C,{overflowRef:l,onChange:o}),{getReferenceProps:re,getFloatingProps:X}=rT([z]),L=Fe($=>{c($),E.setFloating($)});return k.createElement(Wp.Provider,{value:r},k.createElement(Ao.Provider,{value:{setFloating:L,setReference:E.setReference,styles:j,getReferenceProps:re,getFloatingProps:X,slot:R}},e))}function fT(e){bt(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function hT(e,t){var n,r,i;let o=Vf((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=Vf((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),u=Vf((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:l,padding:u}}function Vf(e,t,n=void 0){let r=Ss(),i=Fe((c,f)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!f)return[n,null];let h=ex(c,f);return[h,p=>{let v=yb(c);{let y=v.map(S=>window.getComputedStyle(f).getPropertyValue(S));r.requestAnimationFrame(function S(){r.nextFrame(S);let w=!1;for(let[E,j]of v.entries()){let C=window.getComputedStyle(f).getPropertyValue(j);if(y[E]!==C){y[E]=C,w=!0;break}}if(!w)return;let _=ex(c,f);h!==_&&(p(_),h=_)})}return r.dispose}]}return[n,null]}),o=k.useMemo(()=>i(e,t)[0],[e,t]),[l=o,u]=k.useState();return bt(()=>{let[c,f]=i(e,t);if(u(c),!!f)return f(u)},[e,t]),l}function yb(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...yb(i)]:[r]}return[]}function ex(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let Tc=k.createContext(null);Tc.displayName="OpenClosedContext";var Sn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Sn||{});function il(){return k.useContext(Tc)}function vb({value:e,children:t}){return Se.createElement(Tc.Provider,{value:e},t)}function pT({children:e}){return Se.createElement(Tc.Provider,{value:null},e)}function mT(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ii=[];mT(()=>{function e(t){if(!Or(t.target)||t.target===document.body||Ii[0]===t.target)return;let n=t.target;n=n.closest(Qu),Ii.unshift(n??t.target),Ii=Ii.filter(r=>r!=null&&r.isConnected),Ii.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function gT(e){throw new Error("Unexpected object: "+e)}var zt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(zt||{});function Su(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:gT(e)}}function Hp(e){let t=Fe(e),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,bc(()=>{n.current&&t()})}),[t])}let xb=k.createContext(!1);function yT(){return k.useContext(xb)}function tx(e){return Se.createElement(xb.Provider,{value:e.force},e.children)}function vT(e){let t=yT(),n=k.useContext(bb),[r,i]=k.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(Mr.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return k.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),k.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let wb=k.Fragment,xT=Rt(function(e,t){let{ownerDocument:n=null,...r}=e,i=k.useRef(null),o=En(HC(v=>{i.current=v}),t),l=Ha(i.current),u=n??l,c=vT(u),f=k.useContext(Vh),h=Ss(),p=Ut();return Hp(()=>{var v;c&&c.childNodes.length<=0&&((v=c.parentElement)==null||v.removeChild(c))}),c?qn.createPortal(Se.createElement("div",{"data-headlessui-portal":"",ref:v=>{h.dispose(),f&&v&&h.add(f.register(v))}},p({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:wb,name:"Portal"})),c):null});function wT(e,t){let n=En(t),{enabled:r=!0,ownerDocument:i,...o}=e,l=Ut();return r?Se.createElement(xT,{...o,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:wb,name:"Portal"})}let bT=k.Fragment,bb=k.createContext(null);function kT(e,t){let{target:n,...r}=e,i={ref:En(t)},o=Ut();return Se.createElement(bb.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:bT,name:"Popover.Group"}))}let Vh=k.createContext(null);function ST(){let e=k.useContext(Vh),t=k.useRef([]),n=Fe(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Fe(o=>{let l=t.current.indexOf(o);l!==-1&&t.current.splice(l,1),e&&e.unregister(o)}),i=k.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,k.useMemo(()=>function({children:o}){return Se.createElement(Vh.Provider,{value:i},o)},[i])]}let ET=Rt(wT),kb=Rt(kT),Sb=Object.assign(ET,{Group:kb});const Du={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function Eb(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function _T(e,t,n){let r=Mn();if(t.kind==="Tracked"){let i=function(){o!==Eb(e)&&(r.dispose(),n())},{position:o}=t,l=new ResizeObserver(i);l.observe(e),r.add(()=>l.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function CT(e,t=typeof document<"u"?document.defaultView:null,n){let r=tl(e,"escape");Xw(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===Xt.Escape&&n(i))})}function jT(){var e;let[t]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((e=t==null?void 0:t.matches)!=null?e:!1);return bt(()=>{if(!t)return;function i(o){r(o.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function NT({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Fe(()=>{var i,o;let l=ks(n),u=[];for(let c of e)c!==null&&(ti(c)?u.push(c):"current"in c&&ti(c.current)&&u.push(c.current));if(t!=null&&t.current)for(let c of t.current)u.push(c);for(let c of(i=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&ti(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||u.some(f=>c.contains(f))||u.push(c));return u});return{resolveContainers:r,contains:Fe(i=>r().some(o=>o.contains(i)))}}let _b=k.createContext(null);function nx({children:e,node:t}){let[n,r]=k.useState(null),i=Cb(t??n);return Se.createElement(_b.Provider,{value:i},e,i===null&&Se.createElement(Fh,{features:Ju.Hidden,ref:o=>{var l,u;if(o){for(let c of(u=(l=ks(o))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(c!==document.body&&c!==document.head&&ti(c)&&c!=null&&c.contains(o)){r(c);break}}}}))}function Cb(e=null){var t;return(t=k.useContext(_b))!=null?t:e}function TT(){let e=typeof document>"u";return"useSyncExternalStore"in Vu?(t=>t.useSyncExternalStore)(Vu)(()=>()=>{},()=>!1,()=>!e):!1}function Ic(){let e=TT(),[t,n]=k.useState(Mr.isHandoffComplete);return t&&Mr.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{t!==!0&&n(!0)},[t]),k.useEffect(()=>Mr.handoff(),[]),e?!1:t}function Vp(){let e=k.useRef(!1);return bt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ca=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ca||{});function IT(){let e=k.useRef(0);return Jw(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function jb(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ti(n.current)&&t.add(n.current);return t}let PT="div";var ls=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ls||{});function AT(e,t){let n=k.useRef(null),r=En(n,t),{initialFocus:i,initialFocusFallback:o,containers:l,features:u=15,...c}=e;Ic()||(u=0);let f=Ha(n.current);LT(u,{ownerDocument:f});let h=DT(u,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:o});$T(u,{ownerDocument:f,container:n,containers:l,previousActiveElement:h});let p=IT(),v=Fe(j=>{if(!Gn(n.current))return;let C=n.current;(A=>A())(()=>{kr(p.current,{[Ca.Forwards]:()=>{go(C,xr.First,{skipElements:[j.relatedTarget,o]})},[Ca.Backwards]:()=>{go(C,xr.Last,{skipElements:[j.relatedTarget,o]})}})})}),y=tl(!!(u&2),"focus-trap#tab-lock"),S=Ss(),w=k.useRef(!1),_={ref:r,onKeyDown(j){j.key=="Tab"&&(w.current=!0,S.requestAnimationFrame(()=>{w.current=!1}))},onBlur(j){if(!(u&4))return;let C=jb(l);Gn(n.current)&&C.add(n.current);let A=j.relatedTarget;Or(A)&&A.dataset.headlessuiFocusGuard!=="true"&&(Nb(C,A)||(w.current?go(n.current,kr(p.current,{[Ca.Forwards]:()=>xr.Next,[Ca.Backwards]:()=>xr.Previous})|xr.WrapAround,{relativeTo:j.target}):Or(j.target)&&Lr(j.target)))}},E=Ut();return Se.createElement(Se.Fragment,null,y&&Se.createElement(Fh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ju.Focusable}),E({ourProps:_,theirProps:c,defaultTag:PT,name:"FocusTrap"}),y&&Se.createElement(Fh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ju.Focusable}))}let RT=Rt(AT),OT=Object.assign(RT,{features:ls});function MT(e=!0){let t=k.useRef(Ii.slice());return Fp(([n],[r])=>{r===!0&&n===!1&&bc(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Ii.slice())},[e,Ii,t]),Fe(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function LT(e,{ownerDocument:t}){let n=!!(e&8),r=MT(n);Fp(()=>{n||Cw(t==null?void 0:t.body)&&Lr(r())},[n]),Hp(()=>{n&&Lr(r())})}function DT(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let o=k.useRef(null),l=tl(!!(e&1),"focus-trap#initial-focus"),u=Vp();return Fp(()=>{if(e===0)return;if(!l){i!=null&&i.current&&Lr(i.current);return}let c=n.current;c&&bc(()=>{if(!u.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){o.current=f;return}}else if(c.contains(f)){o.current=f;return}if(r!=null&&r.current)Lr(r.current);else{if(e&16){if(go(c,xr.First|xr.AutoFocus)!==Bh.Error)return}else if(go(c,xr.First)!==Bh.Error)return;if(i!=null&&i.current&&(Lr(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t==null?void 0:t.activeElement})},[i,l,e]),o}function $T(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let o=Vp(),l=!!(e&4);Xw(t==null?void 0:t.defaultView,"focus",u=>{if(!l||!o.current)return;let c=jb(r);Gn(n.current)&&c.add(n.current);let f=i.current;if(!f)return;let h=u.target;Gn(h)?Nb(c,h)?(i.current=h,Lr(h)):(u.preventDefault(),u.stopPropagation(),Lr(f)):Lr(i.current)},!0)}function Nb(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Tb(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Ia((t=e.as)!=null?t:Pb)||Se.Children.count(e.children)===1}let Pc=k.createContext(null);Pc.displayName="TransitionContext";var FT=(e=>(e.Visible="visible",e.Hidden="hidden",e))(FT||{});function zT(){let e=k.useContext(Pc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function BT(){let e=k.useContext(Ac);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ac=k.createContext(null);Ac.displayName="NestingContext";function Rc(e){return"children"in e?Rc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Ib(e,t){let n=Es(e),r=k.useRef([]),i=Vp(),o=Ss(),l=Fe((y,S=Oi.Hidden)=>{let w=r.current.findIndex(({el:_})=>_===y);w!==-1&&(kr(S,{[Oi.Unmount](){r.current.splice(w,1)},[Oi.Hidden](){r.current[w].state="hidden"}}),o.microTask(()=>{var _;!Rc(r)&&i.current&&((_=n.current)==null||_.call(n))}))}),u=Fe(y=>{let S=r.current.find(({el:w})=>w===y);return S?S.state!=="visible"&&(S.state="visible"):r.current.push({el:y,state:"visible"}),()=>l(y,Oi.Unmount)}),c=k.useRef([]),f=k.useRef(Promise.resolve()),h=k.useRef({enter:[],leave:[]}),p=Fe((y,S,w)=>{c.current.splice(0),t&&(t.chains.current[S]=t.chains.current[S].filter(([_])=>_!==y)),t==null||t.chains.current[S].push([y,new Promise(_=>{c.current.push(_)})]),t==null||t.chains.current[S].push([y,new Promise(_=>{Promise.all(h.current[S].map(([E,j])=>j)).then(()=>_())})]),S==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(S)):w(S)}),v=Fe((y,S,w)=>{Promise.all(h.current[S].splice(0).map(([_,E])=>E)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>w(S))});return k.useMemo(()=>({children:r,register:u,unregister:l,onStart:p,onStop:v,wait:f,chains:h}),[u,l,r,p,v,h,f])}let Pb=k.Fragment,Ab=So.RenderStrategy;function UT(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:l,beforeLeave:u,afterLeave:c,enter:f,enterFrom:h,enterTo:p,entered:v,leave:y,leaveFrom:S,leaveTo:w,..._}=e,[E,j]=k.useState(null),C=k.useRef(null),A=Tb(e),O=En(...A?[C,t,j]:t===null?[]:[t]),R=(n=_.unmount)==null||n?Oi.Unmount:Oi.Hidden,{show:z,appear:re,initial:X}=zT(),[L,$]=k.useState(z?"visible":"hidden"),Q=BT(),{register:q,unregister:V}=Q;bt(()=>q(C),[q,C]),bt(()=>{if(R===Oi.Hidden&&C.current){if(z&&L!=="visible"){$("visible");return}return kr(L,{hidden:()=>V(C),visible:()=>q(C)})}},[L,C,q,V,z,R]);let F=Ic();bt(()=>{if(A&&F&&L==="visible"&&C.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[C,L,F,A]);let U=X&&!re,Z=re&&z&&X,M=k.useRef(!1),Y=Ib(()=>{M.current||($("hidden"),V(C))},Q),N=Fe(ve=>{M.current=!0;let ce=ve?"enter":"leave";Y.onStart(C,ce,we=>{we==="enter"?o==null||o():we==="leave"&&(u==null||u())})}),P=Fe(ve=>{let ce=ve?"enter":"leave";M.current=!1,Y.onStop(C,ce,we=>{we==="enter"?l==null||l():we==="leave"&&(c==null||c())}),ce==="leave"&&!Rc(Y)&&($("hidden"),V(C))});k.useEffect(()=>{A&&i||(N(z),P(z))},[z,A,i]);let W=!(!i||!A||!F||U),[,I]=tb(W,E,z,{start:N,end:P}),oe=ss({ref:O,className:((r=$h(_.className,Z&&f,Z&&h,I.enter&&f,I.enter&&I.closed&&h,I.enter&&!I.closed&&p,I.leave&&y,I.leave&&!I.closed&&S,I.leave&&I.closed&&w,!I.transition&&z&&v))==null?void 0:r.trim())||void 0,...eb(I)}),ae=0;L==="visible"&&(ae|=Sn.Open),L==="hidden"&&(ae|=Sn.Closed),z&&L==="hidden"&&(ae|=Sn.Opening),!z&&L==="visible"&&(ae|=Sn.Closing);let ue=Ut();return Se.createElement(Ac.Provider,{value:Y},Se.createElement(vb,{value:ae},ue({ourProps:oe,theirProps:_,defaultTag:Pb,features:Ab,visible:L==="visible",name:"Transition.Child"})))}function WT(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,l=k.useRef(null),u=Tb(e),c=En(...u?[l,t]:t===null?[]:[t]);Ic();let f=il();if(n===void 0&&f!==null&&(n=(f&Sn.Open)===Sn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=k.useState(n?"visible":"hidden"),v=Ib(()=>{n||p("hidden")}),[y,S]=k.useState(!0),w=k.useRef([n]);bt(()=>{y!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),S(!1))},[w,n]);let _=k.useMemo(()=>({show:n,appear:r,initial:y}),[n,r,y]);bt(()=>{n?p("visible"):!Rc(v)&&l.current!==null&&p("hidden")},[n,v]);let E={unmount:i},j=Fe(()=>{var O;y&&S(!1),(O=e.beforeEnter)==null||O.call(e)}),C=Fe(()=>{var O;y&&S(!1),(O=e.beforeLeave)==null||O.call(e)}),A=Ut();return Se.createElement(Ac.Provider,{value:v},Se.createElement(Pc.Provider,{value:_},A({ourProps:{...E,as:k.Fragment,children:Se.createElement(Rb,{ref:c,...E,...o,beforeEnter:j,beforeLeave:C})},theirProps:{},defaultTag:k.Fragment,features:Ab,visible:h==="visible",name:"Transition"})))}function HT(e,t){let n=k.useContext(Pc)!==null,r=il()!==null;return Se.createElement(Se.Fragment,null,!n&&r?Se.createElement(qh,{ref:t,...e}):Se.createElement(Rb,{ref:t,...e}))}let qh=Rt(WT),Rb=Rt(UT),qp=Rt(HT),VT=Object.assign(qh,{Child:qp,Root:qh});var qT=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(qT||{}),YT=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(YT||{});let KT={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Yp=k.createContext(null);Yp.displayName="DialogContext";function Oc(e){let t=k.useContext(Yp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Oc),n}return t}function GT(e,t){return kr(t.type,KT,e,t)}let rx=Rt(function(e,t){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:l,role:u="dialog",autoFocus:c=!0,__demoMode:f=!1,unmount:h=!1,...p}=e,v=k.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=il();i===void 0&&y!==null&&(i=(y&Sn.Open)===Sn.Open);let S=k.useRef(null),w=En(S,t),_=Ha(S.current),E=i?0:1,[j,C]=k.useReducer(GT,{titleId:null,descriptionId:null,panelRef:k.createRef()}),A=Fe(()=>o(!1)),O=Fe(I=>C({type:0,id:I})),R=Ic()?E===0:!1,[z,re]=ST(),X={get current(){var I;return(I=j.panelRef.current)!=null?I:S.current}},L=Cb(),{resolveContainers:$}=NT({mainTreeNode:L,portals:z,defaultContainers:[X]}),Q=y!==null?(y&Sn.Closing)===Sn.Closing:!1;Hw(f||Q?!1:R,{allowed:Fe(()=>{var I,oe;return[(oe=(I=S.current)==null?void 0:I.closest("[data-headlessui-portal]"))!=null?oe:null]}),disallowed:Fe(()=>{var I;return[(I=L==null?void 0:L.closest("body > *:not(#headlessui-portal-root)"))!=null?I:null]})});let q=Sc.get(null);bt(()=>{if(R)return q.actions.push(r),()=>q.actions.pop(r)},[q,r,R]);let V=or(q,k.useCallback(I=>q.selectors.isTop(I,r),[q,r]));Qw(V,$,I=>{I.preventDefault(),A()}),CT(V,_==null?void 0:_.defaultView,I=>{I.preventDefault(),I.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),Zw(f||Q?!1:R,_,$),Vw(R,S,A);let[F,U]=Mw(),Z=k.useMemo(()=>[{dialogState:E,close:A,setTitleId:O,unmount:h},j],[E,A,O,h,j]),M=zr({open:E===0}),Y={ref:w,id:r,role:u,tabIndex:-1,"aria-modal":f?void 0:E===0?!0:void 0,"aria-labelledby":j.titleId,"aria-describedby":F,unmount:h},N=!jT(),P=ls.None;R&&!f&&(P|=ls.RestoreFocus,P|=ls.TabLock,c&&(P|=ls.AutoFocus),N&&(P|=ls.InitialFocus));let W=Ut();return Se.createElement(pT,null,Se.createElement(tx,{force:!0},Se.createElement(Sb,null,Se.createElement(Yp.Provider,{value:Z},Se.createElement(kb,{target:S},Se.createElement(tx,{force:!1},Se.createElement(U,{slot:M},Se.createElement(re,null,Se.createElement(OT,{initialFocus:l,initialFocusFallback:S,containers:$,features:P},Se.createElement(ej,{value:A},W({ourProps:Y,theirProps:p,slot:M,defaultTag:JT,features:QT,visible:E===0,name:"Dialog"})))))))))))}),JT="div",QT=So.RenderStrategy|So.Static;function XT(e,t){let{transition:n=!1,open:r,...i}=e,o=il(),l=e.hasOwnProperty("open")||o!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Se.createElement(nx,null,Se.createElement(VT,{show:r,transition:n,unmount:i.unmount},Se.createElement(rx,{ref:t,...i}))):Se.createElement(nx,null,Se.createElement(rx,{ref:t,open:r,...i}))}let ZT="div";function eI(e,t){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=e,[{dialogState:l,unmount:u},c]=Oc("Dialog.Panel"),f=En(t,c.panelRef),h=zr({open:l===0}),p=Fe(_=>{_.stopPropagation()}),v={ref:f,id:r,onClick:p},y=i?qp:k.Fragment,S=i?{unmount:u}:{},w=Ut();return Se.createElement(y,{...S},w({ourProps:v,theirProps:o,slot:h,defaultTag:ZT,name:"Dialog.Panel"}))}let tI="div";function nI(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:o}]=Oc("Dialog.Backdrop"),l=zr({open:i===0}),u={ref:t,"aria-hidden":!0},c=n?qp:k.Fragment,f=n?{unmount:o}:{},h=Ut();return Se.createElement(c,{...f},h({ourProps:u,theirProps:r,slot:l,defaultTag:tI,name:"Dialog.Backdrop"}))}let rI="h2";function iI(e,t){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:l}]=Oc("Dialog.Title"),u=En(t);k.useEffect(()=>(l(r),()=>l(null)),[r,l]);let c=zr({open:o===0}),f={ref:u,id:r};return Ut()({ourProps:f,theirProps:i,slot:c,defaultTag:rI,name:"Dialog.Title"})}let sI=Rt(XT),oI=Rt(eI);Rt(nI);let aI=Rt(iI),ix=Object.assign(sI,{Panel:oI,Title:aI,Description:KC}),sx=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ox(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!Gn(i))return r;let o=!1;for(let u of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),o=!0;let l=o?(n=i.innerText)!=null?n:"":r;return sx.test(l)&&(l=l.replace(sx,"")),l}function lI(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():ox(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return ox(e).trim()}function uI(e){let t=k.useRef(""),n=k.useRef("");return Fe(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=lI(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var cI=Object.defineProperty,dI=(e,t,n)=>t in e?cI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ax=(e,t,n)=>(dI(e,typeof t!="symbol"?t+"":t,n),n),dn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(dn||{}),tc=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(tc||{}),ft=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(ft||{});function lx(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Kw(t(e.items.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let fI={1(e){if(e.menuState===1)return e;let t=e.buttonElement?Du.Tracked(Eb(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:zt.Nothing},menuState:1,buttonPositionState:t}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:Du.Idle}},2:(e,t)=>{var n,r,i,o,l;if(e.menuState===1)return e;let u={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===zt.Nothing)return{...u,activeItemIndex:null};if(t.focus===zt.Specific)return{...u,activeItemIndex:e.items.findIndex(h=>h.id===t.id)};if(t.focus===zt.Previous){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=Su(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=e.items[v].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===y.current||((i=y.current)==null?void 0:i.previousElementSibling)===null)return{...u,activeItemIndex:v}}}}else if(t.focus===zt.Next){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=Su(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=e.items[v].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.nextElementSibling)===y.current||((l=y.current)==null?void 0:l.nextElementSibling)===null)return{...u,activeItemIndex:v}}}}let c=lx(e),f=Su(t,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...u,...c,activeItemIndex:f}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(l=>{var u;return((u=l.dataRef.current.textValue)==null?void 0:u.startsWith(r))&&!l.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(i=>i)),r=e.activeItemIndex;return e.pendingFocus.focus!==zt.Nothing&&(r=Su(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:zt.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],i=new Set(t.items);for(let[o,l]of n.entries())if(i.has(l.id)&&(r.push(o),i.delete(l.id),i.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...lx(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Du.Moved}}};class Kp extends zw{constructor(t){super(t),ax(this,"actions",{registerItem:Cv(()=>{let n=[],r=new Set;return[(i,o)=>{r.has(o)||(r.add(o),n.push({id:i,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:Cv(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),ax(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,o=n.items;return i===null||(r=o[i])==null?void 0:r.id},isActive(n,r){var i;let o=n.activeItemIndex,l=n.items;return o!==null?((i=l[o])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=Sc.get(null);this.disposables.add(r.on(Uw.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(_T(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:t,__demoMode:n=!1}){return new Kp({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:zt.Nothing},buttonPositionState:Du.Idle})}reduce(t,n){return kr(n.type,fI,t,n)}}const Ob=k.createContext(null);function Gp(e){let t=k.useContext(Ob);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mb),n}return t}function Mb({id:e,__demoMode:t=!1}){let n=k.useMemo(()=>Kp.new({id:e,__demoMode:t}),[]);return Hp(()=>n.dispose()),n}let hI=k.Fragment;function pI(e,t){let n=k.useId(),{__demoMode:r=!1,...i}=e,o=Mb({id:n,__demoMode:r}),[l,u,c]=or(o,_=>[_.menuState,_.itemsElement,_.buttonElement]),f=En(t),h=Sc.get(null),p=or(h,k.useCallback(_=>h.selectors.isTop(_,n),[h,n]));Qw(p,[c,u],(_,E)=>{var j;o.send({type:ft.CloseMenu}),$p(E,Dp.Loose)||(_.preventDefault(),(j=o.state.buttonElement)==null||j.focus())});let v=Fe(()=>{o.send({type:ft.CloseMenu})}),y=zr({open:l===dn.Open,close:v}),S={ref:f},w=Ut();return Se.createElement(dT,null,Se.createElement(Ob.Provider,{value:o},Se.createElement(vb,{value:kr(l,{[dn.Open]:Sn.Open,[dn.Closed]:Sn.Closed})},w({ourProps:S,theirProps:i,slot:y,defaultTag:hI,name:"Menu"}))))}let mI="button";function gI(e,t){let n=Gp("Menu.Button"),r=k.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:l=!1,...u}=e,c=k.useRef(null),f=lT(),h=En(t,c,aT(),Fe(L=>n.send({type:ft.SetButtonElement,element:L}))),p=Fe(L=>{switch(L.key){case Xt.Space:case Xt.Enter:case Xt.ArrowDown:L.preventDefault(),L.stopPropagation(),n.send({type:ft.OpenMenu,focus:{focus:zt.First}});break;case Xt.ArrowUp:L.preventDefault(),L.stopPropagation(),n.send({type:ft.OpenMenu,focus:{focus:zt.Last}});break}}),v=Fe(L=>{switch(L.key){case Xt.Space:L.preventDefault();break}}),[y,S,w]=or(n,L=>[L.menuState,L.buttonElement,L.itemsElement]),_=y===dn.Open;Ej(_,{trigger:S,action:k.useCallback(L=>{if(S!=null&&S.contains(L.target))return bu.Ignore;let $=L.target.closest('[role="menuitem"]:not([data-disabled])');return Gn($)?bu.Select($):w!=null&&w.contains(L.target)?bu.Ignore:bu.Close},[S,w]),close:k.useCallback(()=>n.send({type:ft.CloseMenu}),[]),select:k.useCallback(L=>L.click(),[])});let E=nj(L=>{var $;o||(y===dn.Open?(qn.flushSync(()=>n.send({type:ft.CloseMenu})),($=c.current)==null||$.focus({preventScroll:!0})):(L.preventDefault(),n.send({type:ft.OpenMenu,focus:{focus:zt.Nothing},trigger:tc.Pointer})))}),{isFocusVisible:j,focusProps:C}=kC({autoFocus:l}),{isHovered:A,hoverProps:O}=bC({isDisabled:o}),{pressed:R,pressProps:z}=NC({disabled:o}),re=zr({open:y===dn.Open,active:R||y===dn.Open,disabled:o,hover:A,focus:j,autofocus:l}),X=Tw(f(),{ref:h,id:i,type:_j(e,c.current),"aria-haspopup":"menu","aria-controls":w==null?void 0:w.id,"aria-expanded":y===dn.Open,disabled:o||void 0,autoFocus:l,onKeyDown:p,onKeyUp:v},E,C,O,z);return Ut()({ourProps:X,theirProps:u,slot:re,defaultTag:mI,name:"Menu.Button"})}let yI="div",vI=So.RenderStrategy|So.Static;function xI(e,t){let n=k.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:o=!1,modal:l=!0,transition:u=!1,...c}=e,f=oT(i),h=Gp("Menu.Items"),[p,v]=cT(f),y=uT(),[S,w]=k.useState(null),_=En(t,f?p:null,Fe(M=>h.send({type:ft.SetItemsElement,element:M})),w),[E,j]=or(h,M=>[M.menuState,M.buttonElement]),C=Ha(j),A=Ha(S);f&&(o=!0);let O=il(),[R,z]=tb(u,S,O!==null?(O&Sn.Open)===Sn.Open:E===dn.Open);Vw(R,j,()=>{h.send({type:ft.CloseMenu})});let re=or(h,M=>M.__demoMode),X=re?!1:l&&E===dn.Open;Zw(X,A);let L=re?!1:l&&E===dn.Open;Hw(L,{allowed:k.useCallback(()=>[j,S],[j,S])});let $=or(h,h.selectors.didButtonMove)?!1:R;k.useEffect(()=>{let M=S;M&&E===dn.Open&&(Cw(M)||M.focus({preventScroll:!0}))},[E,S]),zj(E===dn.Open,{container:S,accept(M){return M.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:M.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(M){M.setAttribute("role","none")}});let Q=Ss(),q=Fe(M=>{var Y,N,P;switch(Q.dispose(),M.key){case Xt.Space:if(h.state.searchQuery!=="")return M.preventDefault(),M.stopPropagation(),h.send({type:ft.Search,value:M.key});case Xt.Enter:if(M.preventDefault(),M.stopPropagation(),h.state.activeItemIndex!==null){let{dataRef:W}=h.state.items[h.state.activeItemIndex];(N=(Y=W.current)==null?void 0:Y.domRef.current)==null||N.click()}h.send({type:ft.CloseMenu}),Yw(h.state.buttonElement);break;case Xt.ArrowDown:return M.preventDefault(),M.stopPropagation(),h.send({type:ft.GoToItem,focus:zt.Next});case Xt.ArrowUp:return M.preventDefault(),M.stopPropagation(),h.send({type:ft.GoToItem,focus:zt.Previous});case Xt.Home:case Xt.PageUp:return M.preventDefault(),M.stopPropagation(),h.send({type:ft.GoToItem,focus:zt.First});case Xt.End:case Xt.PageDown:return M.preventDefault(),M.stopPropagation(),h.send({type:ft.GoToItem,focus:zt.Last});case Xt.Escape:M.preventDefault(),M.stopPropagation(),qn.flushSync(()=>h.send({type:ft.CloseMenu})),(P=h.state.buttonElement)==null||P.focus({preventScroll:!0});break;case Xt.Tab:M.preventDefault(),M.stopPropagation(),qn.flushSync(()=>h.send({type:ft.CloseMenu})),wj(h.state.buttonElement,M.shiftKey?xr.Previous:xr.Next);break;default:M.key.length===1&&(h.send({type:ft.Search,value:M.key}),Q.setTimeout(()=>h.send({type:ft.ClearSearch}),350));break}}),V=Fe(M=>{switch(M.key){case Xt.Space:M.preventDefault();break}}),F=zr({open:E===dn.Open}),U=Tw(f?y():{},{"aria-activedescendant":or(h,h.selectors.activeDescendantId),"aria-labelledby":or(h,M=>{var Y;return(Y=M.buttonElement)==null?void 0:Y.id}),id:r,onKeyDown:q,onKeyUp:V,role:"menu",tabIndex:E===dn.Open?0:void 0,ref:_,style:{...c.style,...v,"--button-width":tj(R,j,!0).width},...eb(z)}),Z=Ut();return Se.createElement(Sb,{enabled:o?e.static||R:!1,ownerDocument:C},Z({ourProps:U,theirProps:c,slot:F,defaultTag:yI,features:vI,visible:$,name:"Menu.Items"}))}let wI=k.Fragment;function bI(e,t){let n=k.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=e,l=Gp("Menu.Item"),u=or(l,$=>l.selectors.isActive($,r)),c=k.useRef(null),f=En(t,c),h=or(l,$=>l.selectors.shouldScrollIntoView($,r));bt(()=>{if(h)return Mn().requestAnimationFrame(()=>{var $,Q;(Q=($=c.current)==null?void 0:$.scrollIntoView)==null||Q.call($,{block:"nearest"})})},[h,c]);let p=uI(c),v=k.useRef({disabled:i,domRef:c,get textValue(){return p()}});bt(()=>{v.current.disabled=i},[v,i]),bt(()=>(l.actions.registerItem(r,v),()=>l.actions.unregisterItem(r)),[v,r]);let y=Fe(()=>{l.send({type:ft.CloseMenu})}),S=Fe($=>{if(i)return $.preventDefault();l.send({type:ft.CloseMenu}),Yw(l.state.buttonElement)}),w=Fe(()=>{if(i)return l.send({type:ft.GoToItem,focus:zt.Nothing});l.send({type:ft.GoToItem,focus:zt.Specific,id:r})}),_=Aj(),E=Fe($=>_.update($)),j=Fe($=>{_.wasMoved($)&&(i||u||l.send({type:ft.GoToItem,focus:zt.Specific,id:r,trigger:tc.Pointer}))}),C=Fe($=>{_.wasMoved($)&&(i||u&&l.state.activationTrigger===tc.Pointer&&l.send({type:ft.GoToItem,focus:zt.Nothing}))}),[A,O]=Lw(),[R,z]=Mw(),re=zr({active:u,focus:u,disabled:i,close:y}),X={id:r,ref:f,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":A,"aria-describedby":R,disabled:void 0,onClick:S,onFocus:w,onPointerEnter:E,onMouseEnter:E,onPointerMove:j,onMouseMove:j,onPointerLeave:C,onMouseLeave:C},L=Ut();return Se.createElement(O,null,Se.createElement(z,null,L({ourProps:X,theirProps:o,slot:re,defaultTag:wI,name:"Menu.Item"})))}let kI="div";function SI(e,t){let[n,r]=Lw(),i=e,o={ref:t,"aria-labelledby":n,role:"group"},l=Ut();return Se.createElement(r,null,l({ourProps:o,theirProps:i,slot:{},defaultTag:kI,name:"Menu.Section"}))}let EI="header";function _I(e,t){let n=k.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=e,o=Lp();bt(()=>o.register(r),[r,o.register]);let l={id:r,ref:t,role:"presentation",...o.props};return Ut()({ourProps:l,theirProps:i,slot:{},defaultTag:EI,name:"Menu.Heading"})}let CI="div";function jI(e,t){let n=e,r={ref:t,role:"separator"};return Ut()({ourProps:r,theirProps:n,slot:{},defaultTag:CI,name:"Menu.Separator"})}let NI=Rt(pI),TI=Rt(gI),II=Rt(xI),PI=Rt(bI),AI=Rt(SI),RI=Rt(_I),OI=Rt(jI),ts=Object.assign(NI,{Button:TI,Items:II,Item:PI,Section:AI,Heading:RI,Separator:OI});const Lb=k.createContext(void 0);function _s(){const e=k.useContext(Lb);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const MI="modulepreload",LI=function(e){return"/sport-planner/"+e},ux={},sl=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(f=>{if(f=LI(f),f in ux)return;ux[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":MI,h||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((y,S)=>{v.addEventListener("load",y),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},DI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Jp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class cx extends Jp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dx extends Jp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fx extends Jp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yh||(Yh={}));var $I=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class FI{constructor(t,{headers:n={},customFetch:r,region:i=Yh.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=DI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $I(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:c}=r;let f={},{region:h}=r;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)));const y=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:c}).catch(E=>{throw E.name==="AbortError"?E:new cx(E)}),S=y.headers.get("x-relay-error");if(S&&S==="true")throw new dx(y);if(!y.ok)throw new fx(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield y.json():w==="application/octet-stream"?_=yield y.blob():w==="text/event-stream"?_=y:w==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new cx(o)}:{data:null,error:o,response:o instanceof fx||o instanceof dx?o.context:void 0}}})}}var Qt={},Js={},Qs={},Xs={},Zs={},eo={},zI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_o=zI();const BI=_o.fetch,Db=_o.fetch.bind(_o),$b=_o.Headers,UI=_o.Request,WI=_o.Response,Ro=Object.freeze(Object.defineProperty({__proto__:null,Headers:$b,Request:UI,Response:WI,default:Db,fetch:BI},Symbol.toStringTag,{value:"Module"})),HI=$E(Ro);var Eu={},hx;function Fb(){if(hx)return Eu;hx=1,Object.defineProperty(Eu,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Eu.default=e,Eu}var px;function zb(){if(px)return eo;px=1;var e=eo&&eo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(eo,"__esModule",{value:!0});const t=e(HI),n=e(Fb());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,p,v,y;let S=null,w=null,_=null,E=f.status,j=f.statusText;if(f.ok){if(this.method!=="HEAD"){const R=await f.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?w=R:w=JSON.parse(R))}const A=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),O=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");A&&O&&O.length>1&&(_=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(S={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,E=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await f.text();try{S=JSON.parse(A),Array.isArray(S)&&f.status===404&&(w=[],S=null,E=200,j="OK")}catch{f.status===404&&A===""?(E=204,j="No Content"):S={message:A}}if(S&&this.isMaybeSingle&&(!((y=S==null?void 0:S.details)===null||y===void 0)&&y.includes("0 rows"))&&(S=null,E=200,j="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:w,count:_,status:E,statusText:j}});return this.shouldThrowOnError||(c=c.catch(f=>{var h,p,v;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(p=f==null?void 0:f.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,l)}returns(){return this}overrideTypes(){return this}}return eo.default=r,eo}var mx;function Bb(){if(mx)return Zs;mx=1;var e=Zs&&Zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zs,"__esModule",{value:!0});const t=e(zb());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var h;const p=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Zs.default=n,Zs}var gx;function Qp(){if(gx)return Xs;gx=1;var e=Xs&&Xs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xs,"__esModule",{value:!0});const t=e(Bb());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Xs.default=n,Xs}var yx;function Ub(){if(yx)return Qs;yx=1;var e=Qs&&Qs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qs,"__esModule",{value:!0});const t=e(Qp());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},c=l?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:c=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Qs.default=n,Qs}var vx;function VI(){if(vx)return Js;vx=1;var e=Js&&Js.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Js,"__esModule",{value:!0});const t=e(Ub()),n=e(Qp());class r{constructor(o,{headers:l={},schema:u,fetch:c}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=c}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:c=!1,count:f}={}){var h;let p;const v=new URL(`${this.url}/rpc/${o}`);let y;u||c?(p=u?"HEAD":"GET",Object.entries(l).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{v.searchParams.append(w,_)})):(p="POST",y=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new n.default({method:p,url:v,headers:S,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Js.default=r,Js}var xx;function qI(){if(xx)return Qt;xx=1;var e=Qt&&Qt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.PostgrestError=Qt.PostgrestBuilder=Qt.PostgrestTransformBuilder=Qt.PostgrestFilterBuilder=Qt.PostgrestQueryBuilder=Qt.PostgrestClient=void 0;const t=e(VI());Qt.PostgrestClient=t.default;const n=e(Ub());Qt.PostgrestQueryBuilder=n.default;const r=e(Qp());Qt.PostgrestFilterBuilder=r.default;const i=e(Bb());Qt.PostgrestTransformBuilder=i.default;const o=e(zb());Qt.PostgrestBuilder=o.default;const l=e(Fb());return Qt.PostgrestError=l.default,Qt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},Qt}var YI=qI();const KI=No(YI),{PostgrestClient:GI,PostgrestQueryBuilder:c5,PostgrestFilterBuilder:d5,PostgrestTransformBuilder:f5,PostgrestBuilder:h5,PostgrestError:p5}=KI;class JI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const QI="2.75.0",XI=`realtime-js/${QI}`,ZI="1.0.0",Kh=1e4,eP=1e3,tP=100;var Aa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Aa||(Aa={}));var qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qt||(qt={}));var vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vr||(vr={}));var Gh;(function(e){e.websocket="websocket"})(Gh||(Gh={}));var us;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(us||(us={}));class nP{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class Wb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(mt||(mt={}));const wx=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=rP(l,e,t,i),o),{}):{}},rP=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?Hb(o,l):Jh(l)},Hb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return aP(t,n)}switch(e){case mt.bool:return iP(t);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return sP(t);case mt.json:case mt.jsonb:return oP(t);case mt.timestamp:return lP(t);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return Jh(t);default:return Jh(t)}},Jh=e=>e,iP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aP=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Hb(t,u))}return e},lP=e=>typeof e=="string"?e.replace(" ","T"):e,Vb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class qf{constructor(t,n,r={},i=Kh){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bx||(bx={}));class Ra{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ra.syncState(this.state,i,o,l),this.pendingDiffs.forEach(c=>{this.state=Ra.syncDiff(this.state,c,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ra.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},c={};return this.map(o,(f,h)=>{l[f]||(c[f]=h)}),this.map(l,(f,h)=>{const p=o[f];if(p){const v=h.map(_=>_.presence_ref),y=p.map(_=>_.presence_ref),S=h.filter(_=>y.indexOf(_.presence_ref)<0),w=p.filter(_=>v.indexOf(_.presence_ref)<0);S.length>0&&(u[f]=S),w.length>0&&(c[f]=w)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,c)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(c),h.length>0){const p=t[u].map(y=>y.presence_ref),v=h.filter(y=>p.indexOf(y.presence_ref)<0);t[u].unshift(...v)}r(u,h,c)}),this.map(l,(u,c)=>{let f=t[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=f,i(u,f,c),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kx||(kx={}));var Oa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oa||(Oa={}));var Zr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zr||(Zr={}));class Xp{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qf(this,vr.join,this.params,this.timeout),this.rejoinTimer=new Wb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ra(this),this.broadcastEndpointURL=Vb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:l,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Oa.PRESENCE]&&this.bindings[Oa.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Zr.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Zr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var S;if(this.socket.setAuth(),y===void 0){t==null||t(Zr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(S=w==null?void 0:w.length)!==null&&S!==void 0?S:0,E=[];for(let j=0;j<_;j++){const C=w[j],{filter:{event:A,schema:O,table:R,filter:z}}=C,re=y&&y[j];if(re&&re.event===A&&re.schema===O&&re.table===R&&re.filter===z)E.push(Object.assign(Object.assign({},C),{id:re.id}));else{this.unsubscribe(),this.state=qt.errored,t==null||t(Zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Zr.SUBSCRIBED);return}}).receive("error",y=>{this.state=qt.errored,t==null||t(Zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===qt.joined&&t===Oa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new qf(this,vr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qf(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>tP){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=vr;if(r&&[u,c,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var S,w,_;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(y=>y.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(y=>{var S,w,_,E,j,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const A=y.id,O=(S=y.filter)===null||S===void 0?void 0:S.event;return A&&((w=n.ids)===null||w===void 0?void 0:w.includes(A))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(j=(E=y==null?void 0:y.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return A==="*"||A===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:w,table:_,commit_timestamp:E,type:j,errors:C}=S;v=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:E,eventType:j,new:{},old:{},errors:C}),this._getPayloadRecords(S))}y.callback(v,r)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Xp.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vr.close,{},t)}_onError(t){this._on(vr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=wx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=wx(t.columns,t.old_record)),n}}const Yf=()=>{},_u={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uP=[1e3,2e3,5e3,1e4],cP=1e4,dP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fP{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kh,this.transport=null,this.heartbeatIntervalMs=_u.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yf,this.ref=0,this.reconnectTimer=null,this.logger=Yf,this.conn=null,this.sendBuffer=[],this.serializer=new nP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>sl(async()=>{const{default:u}=await Promise.resolve().then(()=>Ro);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Gh.websocket}`,this.httpEndpoint=Vb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ZI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Aa.connecting:return us.Connecting;case Aa.open:return us.Open;case Aa.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Xp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(eP,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_u.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([dP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:XI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(vr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Wb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_u.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,c,f,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Kh,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:_u.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Yf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(p=>uP[p-1]||cP),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((p,v)=>v(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Zp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hP extends Zp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qh extends Zp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var pP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const qb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},mP=()=>pP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>Ro),void 0)).Response:Response}),Xh=e=>{if(Array.isArray(e))return e.map(n=>Xh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Xh(r)}),t},gP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Cs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Kf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yP=(e,t,n)=>Cs(void 0,void 0,void 0,function*(){const r=yield mP();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new hP(Kf(i),o,l))}).catch(i=>{t(new Qh(Kf(i),i))}):t(new Qh(Kf(e),e))}),vP=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(gP(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ol(e,t,n,r,i,o){return Cs(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,vP(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>yP(c,u,r))})})}function nc(e,t,n,r){return Cs(this,void 0,void 0,function*(){return ol(e,"GET",t,n,r)})}function Ar(e,t,n,r,i){return Cs(this,void 0,void 0,function*(){return ol(e,"POST",t,r,i,n)})}function Zh(e,t,n,r,i){return Cs(this,void 0,void 0,function*(){return ol(e,"PUT",t,r,i,n)})}function xP(e,t,n,r){return Cs(this,void 0,void 0,function*(){return ol(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Yb(e,t,n,r,i){return Cs(this,void 0,void 0,function*(){return ol(e,"DELETE",t,r,i,n)})}var wP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class bP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return wP(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}var kP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class SP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new bP(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return kP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}var An=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const EP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _P{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=qb(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return An(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Sx),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?Zh:Ar)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ft(o))return{data:null,error:o};throw o}})}upload(t,n,r){return An(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return An(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:Sx.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield Zh(this.fetch,u.toString(),c,{headers:h});return{data:{path:o,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ft(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return An(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Ar(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new Zp("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}update(t,n,r){return An(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return An(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}copy(t,n,r){return An(this,void 0,void 0,function*(){try{return{data:{path:(yield Ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return An(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Ar(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return An(this,void 0,void 0,function*(){try{const i=yield Ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),c=()=>nc(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new SP(c,this.shouldThrowOnError)}info(t){return An(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield nc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}exists(t){return An(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield xP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r)&&r instanceof Qh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return An(this,void 0,void 0,function*(){try{return{data:yield Yb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}list(t,n,r){return An(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},EP),n),{prefix:t||""});return{data:yield Ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}listV2(t,n){return An(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const CP="2.75.0",jP={"X-Client-Info":`storage-js/${CP}`};var to=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class NP{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jP),n),this.fetch=qb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return to(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}getBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}createBucket(t){return to(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return to(this,void 0,void 0,function*(){try{return{data:yield Zh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}emptyBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield Yb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}}class TP extends NP{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new _P(this.url,this.headers,t,this.fetch)}}const IP="2.75.0";let ja="";typeof Deno<"u"?ja="deno":typeof document<"u"?ja="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ja="react-native":ja="node";const PP={"X-Client-Info":`supabase-js-${ja}/${IP}`},AP={headers:PP},RP={schema:"public"},OP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MP={};var LP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const DP=e=>{let t;return e?t=e:typeof fetch>"u"?t=Db:t=fetch,(...n)=>t(...n)},$P=()=>typeof Headers>"u"?$b:Headers,FP=(e,t,n)=>{const r=DP(n),i=$P();return(o,l)=>LP(void 0,void 0,void 0,function*(){var u;const c=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var zP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};function BP(e){return e.endsWith("/")?e:e+"/"}function UP(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:c,auth:f,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>zP(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function WP(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Kb="2.75.0",co=30*1e3,ep=3,Gf=ep*co,HP="http://localhost:9999",VP="supabase.auth.token",qP={"X-Client-Info":`gotrue-js/${Kb}`},tp="X-Supabase-Api-Version",Gb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KP=600*1e3;class Ya extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GP extends Ya{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function JP(e){return Le(e)&&e.name==="AuthApiError"}class cs extends Ya{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zi extends Ya{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ji extends zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QP(e){return Le(e)&&e.name==="AuthSessionMissingError"}class no extends zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cu extends zi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends zi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XP(e){return Le(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ex extends zi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class np extends zi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Jf(e){return Le(e)&&e.name==="AuthRetryableFetchError"}class _x extends zi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class rp extends zi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cx=` 	
\r=`.split(""),ZP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cx.length;t+=1)e[Cx[t].charCodeAt(0)]=-2;for(let t=0;t<rc.length;t+=1)e[rc[t].charCodeAt(0)]=t;return e})();function jx(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rc[r]),t.queuedBits-=6}}function Jb(e,t,n){const r=ZP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Nx(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{nA(l,r,n)};for(let l=0;l<e.length;l+=1)Jb(e.charCodeAt(l),i,o);return t.join("")}function eA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}eA(r,t)}}function nA(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function vo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Jb(e.charCodeAt(i),n,r);return new Uint8Array(t)}function rA(e){const t=[];return tA(e,n=>t.push(n)),new Uint8Array(t)}function ms(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>jx(i,n,r)),jx(null,n,r),t.join("")}function iA(e){return Math.round(Date.now()/1e3)+e}function sA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},Qb=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function oA(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Xb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},aA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},rs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_i=async(e,t)=>{await e.removeItem(t)};class Mc{constructor(){this.promise=new Mc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mc.promiseConstructor=Promise;function Qf(e){const t=e.split(".");if(t.length!==3)throw new rp("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!YP.test(t[r]))throw new rp("JWT not in base64url format");return{header:JSON.parse(Nx(t[0])),payload:JSON.parse(Nx(t[1])),signature:vo(t[2]),raw:{header:t[0],payload:t[1]}}}async function lA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uA(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function cA(e){return("0"+e.toString(16)).substr(-2)}function dA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,cA).join("")}async function fA(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function hA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await fA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ro(e,t,n=!1){const r=dA();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await fo(e,`${t}-code-verifier`,i);const o=await hA(r);return[o,r===o?"plain":"s256"]}const pA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mA(e){const t=e.headers.get(tp);if(!t||!t.match(pA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function io(e){if(!vA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tx(e){return JSON.parse(JSON.stringify(e))}var xA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wA=[502,503,504];async function Ix(e){var t;if(!aA(e))throw new np(os(e),0);if(wA.includes(e.status))throw new np(os(e),e.status);let n;try{n=await e.json()}catch(o){throw new cs(os(o),o)}let r;const i=mA(e);if(i&&i.getTime()>=Gb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _x(os(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new _x(os(n),e.status,n.weak_password.reasons);throw new GP(os(n),e.status||500,r)}const bA=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function We(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[tp]||(o[tp]=Gb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await kA(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function kA(e,t,n,r,i,o){const l=bA(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(c){throw console.error(c),new np(os(c),0)}if(u.ok||await Ix(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await Ix(c)}}function gr(e){var t;let n=null;_A(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=iA(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Px(e){const t=gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SA(e){return{data:e,error:null}}function EA(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=xA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function Ax(e){return e}function _A(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zf=["global","local","others"];var CA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class jA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Xb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Zf[0]){if(Zf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zf.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=CA(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:EA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Ax});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Le(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){io(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){io(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){io(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){io(t.userId);try{const{data:n,error:r}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteFactor(t){io(t.userId),io(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Ax});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Le(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}}function Rx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const so={debug:!!(globalThis&&Qb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NA extends Zb{}async function TA(e,t,n){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(so.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function IA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ek(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function PA(e){return parseInt(e,16)}function AA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function RA(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=ek(e.address),S=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${y}

${w}`;let E=`URI: ${p}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),c&&(E+=`
Request ID: ${c}`),f){let j=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);j+=`
- ${C}`}E+=j}return`${_}
${E}`}class $t extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ic extends $t{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function OA({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new $t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new $t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new $t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new $t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new $t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new $t({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new $t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new $t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(nk(l)){if(o.rp.id!==l)return new $t({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new $t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MA({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new $t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new $t({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(nk(r)){if(n.rpId!==r)return new $t({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var tk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class LA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const DA=new LA;function $A(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=tk(e,["challenge","user","excludeCredentials"]),o=vo(t).buffer,l=Object.assign(Object.assign({},n),{id:vo(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:vo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function FA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=tk(e,["challenge","allowCredentials"]),i=vo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:vo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function zA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ms(new Uint8Array(e.response.attestationObject)),clientDataJSON:ms(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ms(new Uint8Array(i.authenticatorData)),clientDataJSON:ms(new Uint8Array(i.clientDataJSON)),signature:ms(new Uint8Array(i.signature)),userHandle:i.userHandle?ms(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ox(){var e,t;return!!(Vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",t)}:{data:null,error:new ic("Empty credential response",t)}}catch(t){return{data:null,error:OA({error:t,options:e})}}}async function WA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",t)}:{data:null,error:new ic("Empty credential response",t)}}catch(t){return{data:null,error:MA({error:t,options:e})}}}const HA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},VA={userVerification:"preferred",hints:["security-key"]};function sc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=sc(u,l):r[o]=sc(l)}else r[o]=l}return r}function qA(e,t){return sc(HA,e,t||{})}function YA(e,t){return sc(VA,e,t||{})}class KA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const c=i??DA.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=qA(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:p}=await UA({publicKey:f,signal:c});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=YA(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:p}=await WA(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Ya("rpId is required for WebAuthn authentication")};try{if(!Ox())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:c}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Ya("rpId is required for WebAuthn registration")};try{if(!Ox())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in register",l)}}}}IA();const GA={url:HP,storageKey:VP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mx(e,t,n){return await n()}const oo={};class Ka{get jwks(){var t,n;return(n=(t=oo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=oo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ka.nextInstanceID,Ka.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},GA),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Xb(i.fetch),this.lock=i.lock||Mx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=TA:this.lock=Mx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KA(this)},this.persistSession?(i.storage?this.storage=i.storage:Qb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rx(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Rx(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=oA(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),XP(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Le(n)?{error:n}:{error:new cs("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:p,options:v}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await ro(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:S},xform:gr})}else if("phone"in t){const{phone:h,password:p,options:v}=t;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:gr})}else throw new Cu("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Px})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Px})}else throw new Cu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new no}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,c,f,h,p,v;let y,S;if("message"in t)y=t.message,S=t.signature;else{const{chain:w,wallet:_,statement:E,options:j}=t;let C;if(Vn())if(typeof _=="object")C=_;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")C=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const A=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href),O=await C.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=ek(O[0]);let z=(r=j==null?void 0:j.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!z){const X=await C.request({method:"eth_chainId"});z=PA(X)}const re={domain:A.host,address:R,statement:E,uri:A.href,version:"1",chainId:z,nonce:(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=j==null?void 0:j.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=j==null?void 0:j.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=j==null?void 0:j.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=RA(re),S=await C.request({method:"personal_sign",params:[AA(y),R]})}try{const{data:w,error:_}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gr});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new no}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(Le(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var n,r,i,o,l,u,c,f,h,p,v,y;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:_,wallet:E,statement:j,options:C}=t;let A;if(Vn())if(typeof E=="object")A=E;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))A=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=E}const O=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const R=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),j?{statement:j}:null));let z;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")z=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)z=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)S=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),w=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(h=C==null?void 0:C.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const R=await A.signMessage(new TextEncoder().encode(S),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=R}}try{const{data:_,error:E}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ms(w)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:gr});if(E)throw E;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new no}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:E})}catch(_){if(Le(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:gr});if(await _i(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new no}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Le(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gr}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new no}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:c}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await ro(this.storage,this.storageKey));const{error:p}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:c}=t,{data:f,error:h}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Cu("You must provide either an email or phone number.")}catch(u){if(Le(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:gr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,f=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await ro(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:SA})}catch(o){if(Le(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ji;const{error:i}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await We(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await We(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Cu("You must provide either an email or phone number and a type")}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Gf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await rs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Xf()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,f,h)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pi}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Pi})})}catch(n){if(Le(n))return QP(n)&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new ji;const l=i.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await ro(this.storage,this.storageKey));const{data:f,error:h}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:Pi});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ji;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Qf(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ji;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Vn())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ex("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ex("No code detected.");const{data:j,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:c,token_type:f}=t;if(!o||!u||!l||!f)throw new ju("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let v=h+p;c&&(v=parseInt(c));const y=v-h;y*1e3<=co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const S=v-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,h);const{data:w,error:_}=await this._getUser(o);if(_)throw _;const E={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:v,refresh_token:l,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(Le(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(JP(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=sA(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ro(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Le(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,c,f,h;const{data:p,error:v}=o;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Le(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:c,access_token:f,nonce:h}=t,p=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gr}),{data:v,error:y}=p;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new no}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:y})}catch(i){if(Le(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uA(async i=>(i>0&&await lA(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Jf(o)&&Date.now()+l-r<co})}catch(r){if(this._debug(n,"error",r),Le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await rs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await fo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Xf()}else if(i&&!i.user&&!i.user){const l=await rs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await _i(this.storage,this.storageKey+"-user"),await fo(this.storage,this.storageKey,i)):i.user=Xf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Gf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Jf(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Mc;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new ji;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Le(o)){const l={data:null,error:o};return Jf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Tx(i);await fo(this.storage,this.storageKey,o)}else{const i=Tx(n);await fo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _i(this.storage,this.storageKey),await _i(this.storage,this.storageKey+"-code-verifier"),await _i(this.storage,this.storageKey+"-user"),this.userStorage&&await _i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),co);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${co}ms, refresh threshold is ${ep} ticks`),i<=ep&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ro(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:f}=await We(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?zA(t.webauthn.credential_response):BA(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:c}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:$A(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:FA(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Qf(i.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+KP>i)return r;const{data:o,error:l}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:S}=await this.getSession();if(S||!y.session)return{data:null,error:S};r=y.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:c}}=Qf(r);n!=null&&n.allowExpired||gA(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:i,signature:l},error:null}}const h=yA(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,rA(`${u}.${c}`)))throw new rp("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}}Ka.nextInstanceID=0;const JA=Ka;class QA extends JA{constructor(t){super(t)}}var XA=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class ZA{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=WP(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:RP,realtime:MP,auth:Object.assign(Object.assign({},OP),{storageKey:c}),global:AP},h=UP(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=FP(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new GI(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new TP(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new FI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return XA(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:c,debug:f},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QA({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:c,debug:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eR=(e,t,n)=>new ZA(e,t,n);function tR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}tR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nR="https://kjsdmygqhxaryvfmnhqr.supabase.co",rR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",Bt=eR(nR,rR,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Lx=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const v=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,v))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=t=e(r,i,u);return u},iR=(e=>e?Lx(e):Lx),sR=e=>e;function oR(e,t=sR){const n=Se.useSyncExternalStore(e.subscribe,Se.useCallback(()=>t(e.getState()),[e,t]),Se.useCallback(()=>t(e.getInitialState()),[e,t]));return Se.useDebugValue(n),n}const Dx=e=>{const t=iR(e),n=r=>oR(t,r);return Object.assign(n,t),n},aR=(e=>e?Dx(e):Dx),lR="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let nn=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=lR[n[e]&63];return t};var $u={exports:{}},uR=$u.exports,$x;function rk(){return $x||($x=1,(function(e,t){(function(n,r){e.exports=r()})(uR,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",u="minute",c="hour",f="day",h="week",p="month",v="quarter",y="year",S="date",w="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var F=["th","st","nd","rd"],U=V%100;return"["+V+(F[(U-20)%10]||F[U]||F[0])+"]"}},C=function(V,F,U){var Z=String(V);return!Z||Z.length>=F?V:""+Array(F+1-Z.length).join(U)+V},A={s:C,z:function(V){var F=-V.utcOffset(),U=Math.abs(F),Z=Math.floor(U/60),M=U%60;return(F<=0?"+":"-")+C(Z,2,"0")+":"+C(M,2,"0")},m:function V(F,U){if(F.date()<U.date())return-V(U,F);var Z=12*(U.year()-F.year())+(U.month()-F.month()),M=F.clone().add(Z,p),Y=U-M<0,N=F.clone().add(Z+(Y?-1:1),p);return+(-(Z+(U-M)/(Y?M-N:N-M))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:p,y,w:h,d:f,D:S,h:c,m:u,s:l,ms:o,Q:v}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},O="en",R={};R[O]=j;var z="$isDayjsObject",re=function(V){return V instanceof Q||!(!V||!V[z])},X=function V(F,U,Z){var M;if(!F)return O;if(typeof F=="string"){var Y=F.toLowerCase();R[Y]&&(M=Y),U&&(R[Y]=U,M=Y);var N=F.split("-");if(!M&&N.length>1)return V(N[0])}else{var P=F.name;R[P]=F,M=P}return!Z&&M&&(O=M),M||!Z&&O},L=function(V,F){if(re(V))return V.clone();var U=typeof F=="object"?F:{};return U.date=V,U.args=arguments,new Q(U)},$=A;$.l=X,$.i=re,$.w=function(V,F){return L(V,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var Q=(function(){function V(U){this.$L=X(U.locale,null,!0),this.parse(U),this.$x=this.$x||U.x||{},this[z]=!0}var F=V.prototype;return F.parse=function(U){this.$d=(function(Z){var M=Z.date,Y=Z.utc;if(M===null)return new Date(NaN);if($.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var N=M.match(_);if(N){var P=N[2]-1||0,W=(N[7]||"0").substring(0,3);return Y?new Date(Date.UTC(N[1],P,N[3]||1,N[4]||0,N[5]||0,N[6]||0,W)):new Date(N[1],P,N[3]||1,N[4]||0,N[5]||0,N[6]||0,W)}}return new Date(M)})(U),this.init()},F.init=function(){var U=this.$d;this.$y=U.getFullYear(),this.$M=U.getMonth(),this.$D=U.getDate(),this.$W=U.getDay(),this.$H=U.getHours(),this.$m=U.getMinutes(),this.$s=U.getSeconds(),this.$ms=U.getMilliseconds()},F.$utils=function(){return $},F.isValid=function(){return this.$d.toString()!==w},F.isSame=function(U,Z){var M=L(U);return this.startOf(Z)<=M&&M<=this.endOf(Z)},F.isAfter=function(U,Z){return L(U)<this.startOf(Z)},F.isBefore=function(U,Z){return this.endOf(Z)<L(U)},F.$g=function(U,Z,M){return $.u(U)?this[Z]:this.set(M,U)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(U,Z){var M=this,Y=!!$.u(Z)||Z,N=$.p(U),P=function(we,be){var Ve=$.w(M.$u?Date.UTC(M.$y,be,we):new Date(M.$y,be,we),M);return Y?Ve:Ve.endOf(f)},W=function(we,be){return $.w(M.toDate()[we].apply(M.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(be)),M)},I=this.$W,oe=this.$M,ae=this.$D,ue="set"+(this.$u?"UTC":"");switch(N){case y:return Y?P(1,0):P(31,11);case p:return Y?P(1,oe):P(0,oe+1);case h:var ve=this.$locale().weekStart||0,ce=(I<ve?I+7:I)-ve;return P(Y?ae-ce:ae+(6-ce),oe);case f:case S:return W(ue+"Hours",0);case c:return W(ue+"Minutes",1);case u:return W(ue+"Seconds",2);case l:return W(ue+"Milliseconds",3);default:return this.clone()}},F.endOf=function(U){return this.startOf(U,!1)},F.$set=function(U,Z){var M,Y=$.p(U),N="set"+(this.$u?"UTC":""),P=(M={},M[f]=N+"Date",M[S]=N+"Date",M[p]=N+"Month",M[y]=N+"FullYear",M[c]=N+"Hours",M[u]=N+"Minutes",M[l]=N+"Seconds",M[o]=N+"Milliseconds",M)[Y],W=Y===f?this.$D+(Z-this.$W):Z;if(Y===p||Y===y){var I=this.clone().set(S,1);I.$d[P](W),I.init(),this.$d=I.set(S,Math.min(this.$D,I.daysInMonth())).$d}else P&&this.$d[P](W);return this.init(),this},F.set=function(U,Z){return this.clone().$set(U,Z)},F.get=function(U){return this[$.p(U)]()},F.add=function(U,Z){var M,Y=this;U=Number(U);var N=$.p(Z),P=function(oe){var ae=L(Y);return $.w(ae.date(ae.date()+Math.round(oe*U)),Y)};if(N===p)return this.set(p,this.$M+U);if(N===y)return this.set(y,this.$y+U);if(N===f)return P(1);if(N===h)return P(7);var W=(M={},M[u]=r,M[c]=i,M[l]=n,M)[N]||1,I=this.$d.getTime()+U*W;return $.w(I,this)},F.subtract=function(U,Z){return this.add(-1*U,Z)},F.format=function(U){var Z=this,M=this.$locale();if(!this.isValid())return M.invalidDate||w;var Y=U||"YYYY-MM-DDTHH:mm:ssZ",N=$.z(this),P=this.$H,W=this.$m,I=this.$M,oe=M.weekdays,ae=M.months,ue=M.meridiem,ve=function(be,Ve,Ze,_e){return be&&(be[Ve]||be(Z,Y))||Ze[Ve].slice(0,_e)},ce=function(be){return $.s(P%12||12,be,"0")},we=ue||function(be,Ve,Ze){var _e=be<12?"AM":"PM";return Ze?_e.toLowerCase():_e};return Y.replace(E,(function(be,Ve){return Ve||(function(Ze){switch(Ze){case"YY":return String(Z.$y).slice(-2);case"YYYY":return $.s(Z.$y,4,"0");case"M":return I+1;case"MM":return $.s(I+1,2,"0");case"MMM":return ve(M.monthsShort,I,ae,3);case"MMMM":return ve(ae,I);case"D":return Z.$D;case"DD":return $.s(Z.$D,2,"0");case"d":return String(Z.$W);case"dd":return ve(M.weekdaysMin,Z.$W,oe,2);case"ddd":return ve(M.weekdaysShort,Z.$W,oe,3);case"dddd":return oe[Z.$W];case"H":return String(P);case"HH":return $.s(P,2,"0");case"h":return ce(1);case"hh":return ce(2);case"a":return we(P,W,!0);case"A":return we(P,W,!1);case"m":return String(W);case"mm":return $.s(W,2,"0");case"s":return String(Z.$s);case"ss":return $.s(Z.$s,2,"0");case"SSS":return $.s(Z.$ms,3,"0");case"Z":return N}return null})(be)||N.replace(":","")}))},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(U,Z,M){var Y,N=this,P=$.p(Z),W=L(U),I=(W.utcOffset()-this.utcOffset())*r,oe=this-W,ae=function(){return $.m(N,W)};switch(P){case y:Y=ae()/12;break;case p:Y=ae();break;case v:Y=ae()/3;break;case h:Y=(oe-I)/6048e5;break;case f:Y=(oe-I)/864e5;break;case c:Y=oe/i;break;case u:Y=oe/r;break;case l:Y=oe/n;break;default:Y=oe}return M?Y:$.a(Y)},F.daysInMonth=function(){return this.endOf(p).$D},F.$locale=function(){return R[this.$L]},F.locale=function(U,Z){if(!U)return this.$L;var M=this.clone(),Y=X(U,Z,!0);return Y&&(M.$L=Y),M},F.clone=function(){return $.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},V})(),q=Q.prototype;return L.prototype=q,[["$ms",o],["$s",l],["$m",u],["$H",c],["$W",f],["$M",p],["$y",y],["$D",S]].forEach((function(V){q[V[1]]=function(F){return this.$g(F,V[0],V[1])}})),L.extend=function(V,F){return V.$i||(V(F,Q,L),V.$i=!0),L},L.locale=X,L.isDayjs=re,L.unix=function(V){return L(1e3*V)},L.en=R[O],L.Ls=R,L.p={},L}))})($u)),$u.exports}var cR=rk();const He=No(cR);function eh(e){return e.trim().toLowerCase().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"").replace(/-{2,}/g,"-")}const xo=`
  id,
  name,
  subtitle,
  objective_id,
  parent_work_id,
  node_type,
  tags,
  order_hint,
  next_work_id,
  variant_of_work_id,
  description_markdown,
  estimated_minutes,
  notes,
  video_urls,
  visibility,
  owner_id,
  owner_email,
  created_at,
  updated_at,
  work_collaborators (
    id,
    email,
    role,
    user_id,
    created_at
  )
`,ik=e=>Array.from(new Set(e.map(t=>t.trim().toLowerCase()).filter(t=>t.length>0))),dR=e=>Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t.length>0):[],em=e=>Array.isArray(e)?Array.from(new Set(e.map(t=>typeof t=="string"?t.trim().toLowerCase():"").filter(t=>t.length>0))):[],sk=e=>(e??[]).map(t=>({id:`${t.id}`,email:t.email.toLowerCase(),role:t.role,userId:t.user_id??void 0,createdAt:t.created_at})),tm=(e,t)=>{var u,c;const n=sk(e.work_collaborators),r=n.map(f=>f.email),i=((u=t==null?void 0:t.actorEmail)==null?void 0:u.toLowerCase())??"",o=t?e.owner_id===t.actorId:!1,l=o||r.includes(i);return{id:e.id,name:e.name,subtitle:e.subtitle??void 0,objectiveId:e.objective_id,parentWorkId:e.parent_work_id??null,nodeType:e.node_type??void 0,tags:em(e.tags),orderHint:typeof e.order_hint=="number"?e.order_hint:void 0,nextWorkId:e.next_work_id??null,variantOfWorkId:e.variant_of_work_id??null,descriptionMarkdown:e.description_markdown??"",estimatedMinutes:e.estimated_minutes??0,notes:e.notes??void 0,videoUrls:dR(e.video_urls),visibility:e.visibility??"private",ownerId:e.owner_id,ownerEmail:((c=e.owner_email)==null?void 0:c.toLowerCase())??"",collaborators:n,collaboratorEmails:r,createdAt:e.created_at,updatedAt:e.updated_at,canEdit:l,isOwner:o}};async function fR(e){const{data:t,error:n}=await Bt.from("works").select(xo).order("name");if(n)throw console.error("No se pudieron cargar los trabajos compartidos",n),n;return t.map(r=>tm(r,e))}async function Fx(e,t){var S;const n=e.id??nn(),r=ik(e.collaboratorEmails),i=t.actorEmail.trim().toLowerCase(),o=(S=e.nodeType)!=null&&S.trim()?e.nodeType.trim():null,l=em(e.tags??[]),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:null,c=e.nextWorkId??null,f=e.variantOfWorkId??null,{data:h,error:p}=await Bt.from("works").insert({id:n,name:e.name,subtitle:e.subtitle??null,objective_id:e.objectiveId,parent_work_id:e.parentWorkId??null,node_type:o,tags:l,order_hint:u,next_work_id:c,variant_of_work_id:f,description_markdown:e.descriptionMarkdown,estimated_minutes:e.estimatedMinutes,notes:e.notes??null,video_urls:e.videoUrls,visibility:e.visibility,owner_id:t.actorId,owner_email:i,updated_at:new Date().toISOString()}).select(xo).maybeSingle();if(p||!h)throw console.error("No se pudo crear el trabajo",p),p??new Error("Falta respuesta al crear trabajo");if(r.length>0){const w=r.map(E=>({work_id:h.id,email:E})),{error:_}=await Bt.from("work_collaborators").insert(w);if(_)throw console.error("No se pudieron guardar los colaboradores",_),_}const{data:v,error:y}=await Bt.from("works").select(xo).eq("id",h.id).maybeSingle();if(y||!v)throw console.error("No se pudo refrescar el trabajo creado",y),y??new Error("No se pudo cargar el trabajo creado");return tm(v,t)}async function hR(e,t,n){const r={};t.name!==void 0&&(r.name=t.name),t.subtitle!==void 0&&(r.subtitle=t.subtitle),t.objectiveId!==void 0&&(r.objective_id=t.objectiveId),t.parentWorkId!==void 0&&(r.parent_work_id=t.parentWorkId),t.nodeType!==void 0&&(r.node_type=t.nodeType),t.tags!==void 0&&(r.tags=em(t.tags)),t.orderHint!==void 0&&(r.order_hint=t.orderHint),t.nextWorkId!==void 0&&(r.next_work_id=t.nextWorkId),t.variantOfWorkId!==void 0&&(r.variant_of_work_id=t.variantOfWorkId),t.descriptionMarkdown!==void 0&&(r.description_markdown=t.descriptionMarkdown),t.estimatedMinutes!==void 0&&(r.estimated_minutes=t.estimatedMinutes),t.notes!==void 0&&(r.notes=t.notes),t.videoUrls!==void 0&&(r.video_urls=t.videoUrls),t.visibility!==void 0&&(r.visibility=t.visibility),r.updated_at=new Date().toISOString();let i=null;if(Object.keys(r).length>0){const{data:o,error:l}=await Bt.from("works").update(r).eq("id",e).select(xo).maybeSingle();if(l||!o)throw console.error("No se pudo actualizar el trabajo",l),l??new Error("Falta respuesta al actualizar trabajo");i=o}else{const{data:o,error:l}=await Bt.from("works").select(xo).eq("id",e).maybeSingle();if(l||!o)throw l??new Error("Trabajo no encontrado");i=o}if(t.collaboratorEmails){const o=ik(t.collaboratorEmails),l=sk(i.work_collaborators),u=l.map(v=>v.email),c=o.filter(v=>!u.includes(v)),f=l.filter(v=>!o.includes(v.email));if(c.length>0){const v=c.map(S=>({work_id:e,email:S})),{error:y}=await Bt.from("work_collaborators").insert(v);if(y)throw console.error("No se pudieron aadir los colaboradores",y),y}if(f.length>0){const v=f.map(S=>S.email),{error:y}=await Bt.from("work_collaborators").delete().eq("work_id",e).in("email",v);if(y)throw console.error("No se pudieron eliminar colaboradores",y),y}const{data:h,error:p}=await Bt.from("works").select(xo).eq("id",e).maybeSingle();if(p||!h)throw p??new Error("Error al refrescar colaboradores");i=h}return tm(i,n)}async function pR(e){const{error:t}=await Bt.from("works").delete().eq("id",e);if(t)throw console.error("No se pudo eliminar el trabajo",t),t}const _t={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes",kungfuPrograms:"sport-planner-kungfu-programs",kungfuCadence:"sport-planner-kungfu-cadence",kungfuTodayPlan:"sport-planner-kungfu-today-plan",workTaxonomy:"sport-planner-work-taxonomy"},ok=typeof window<"u",At=()=>new Date().toISOString(),as="18:30",ds=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],fs={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},fn={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},Ai={nodeTypes:[{key:"form",label:"Form"},{key:"segment",label:"Segment"},{key:"application",label:"Application"},{key:"technique",label:"Technique"},{key:"drill",label:"Drill"},{key:"work",label:"Work"},{key:"link",label:"Link"},{key:"style",label:"Style"}],tags:[]},mR=e=>{const n=(Array.isArray(e)?e:[]).map(i=>{if(!i||typeof i!="object")return null;const o=i,l=String(o.key??"").trim().toLowerCase(),u=String(o.label??"").trim();return l?{key:l,label:u||l}:null}).filter(Boolean),r=new Map;return n.forEach(i=>{r.set(i.key,i)}),Ai.nodeTypes.forEach(i=>{r.has(i.key)||r.set(i.key,i)}),Array.from(r.values()).sort((i,o)=>i.label.localeCompare(o.label,"en",{sensitivity:"base"}))},gR=e=>{const n=(Array.isArray(e)?e:[]).map(i=>{if(typeof i=="string"){const u=i.trim().toLowerCase();return u?{name:u}:null}if(!i||typeof i!="object")return null;const l=String(i.name??"").trim().toLowerCase();return l?{name:l}:null}).filter(Boolean),r=new Map;return n.forEach(i=>r.set(i.name,i)),Array.from(r.values()).sort((i,o)=>i.name.localeCompare(o.name,"en",{sensitivity:"base"}))},Wn=(e,t)=>{const n=(e&&typeof e=="object"?e:{})??{},r=mR(n.nodeTypes),i=gR(n.tags),o=new Map(r.map(u=>[u.key,u])),l=new Map(i.map(u=>[u.name,u]));return t.forEach(u=>{const c=(u.nodeType??"").trim().toLowerCase();c&&!o.has(c)&&o.set(c,{key:c,label:c}),(u.tags??[]).forEach(f=>{const h=String(f??"").trim().toLowerCase();h&&!l.has(h)&&l.set(h,{name:h})})}),{nodeTypes:Array.from(o.values()).sort((u,c)=>u.label.localeCompare(c.label,"en",{sensitivity:"base"})),tags:Array.from(l.values()).sort((u,c)=>u.name.localeCompare(c.name,"en",{sensitivity:"base"}))}},zx=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim().toLowerCase()).filter(t=>t.length>0))),yR=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim()).filter(t=>t.length>0))),ak=e=>e==="count"||e==="minutes"||e==="both",vR=e=>e==="work"||e==="note",xR=e=>e==="overdue"||e==="weighted",wR=e=>e==="allow_all"||e==="prefer_leaves",bR=e=>{const t={},n=zx(e.byTags),r=zx(e.byNodeTypes),i=yR(e.byWorkIds);return n.length>0&&(t.byTags=n),r.length>0&&(t.byNodeTypes=r),i.length>0&&(t.byWorkIds=i),t},Co=e=>(e??[]).map(bR).filter(t=>Object.keys(t).length>0),kR=e=>{if(!Array.isArray(e))return[];const t=e.map(n=>Number(n)).filter(n=>Number.isFinite(n)).map(n=>Math.round(n)).filter(n=>n>=0&&n<=6);return Array.from(new Set(t)).sort((n,r)=>n-r)},SR=e=>{const t={};return!e||typeof e!="object"?{...fn.defaultMinutesByNodeType}:(Object.entries(e).forEach(([n,r])=>{const i=n.trim().toLowerCase(),o=Number(r);i&&Number.isFinite(o)&&(t[i]=Math.max(.25,o))}),Object.keys(t).length>0?t:{...fn.defaultMinutesByNodeType})},ER=(e,t)=>{const n=String(e.id??"").trim()||nn(),r=vR(e.type)?e.type:"work",i=typeof e.enabled=="boolean"?e.enabled:!0,o=String(e.name??"").trim()||(r==="note"?"Recap":"Grupo"),l=Number.isFinite(Number(e.order))?Number(e.order):t,u=kR(e.daysOfWeek),c=ak(e.limitMode)?e.limitMode:"minutes",f=Number.isFinite(Number(e.maxItems))?Math.max(0,Math.round(Number(e.maxItems))):void 0,h=Number.isFinite(Number(e.minutesBudget))?Math.max(0,Number(e.minutesBudget)):void 0,p=xR(e.strategy)?e.strategy:"overdue",v=wR(e.hierarchyRule)?e.hierarchyRule:"allow_all",y=Co(e.include),S=Co(e.exclude);return{id:n,name:o,enabled:i,order:l,type:r,daysOfWeek:u,limitMode:c,maxItems:f,minutesBudget:h,strategy:p,hierarchyRule:v,include:y,exclude:S}},_R=e=>{var f,h,p;const t=Math.max(0,Number((f=e.template)==null?void 0:f.focusMinutes)||0),n=Math.max(0,Number((h=e.template)==null?void 0:h.rouletteMinutes)||0),r=Math.max(0,Number((p=e.template)==null?void 0:p.recapMinutes)||0),i=Co(e.focusSelectors),o=Co(e.rouletteSelectors),l=i.length>0?i:[{byNodeTypes:["segment","form"]}],u=o.length>0?o:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],c=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:t>0?t:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:l,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:n>0?n:10,strategy:"weighted",hierarchyRule:"allow_all",include:u,exclude:[]}];return r>0&&c.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:r}),c},ip=e=>{var S,w,_;const t=e??fn,n=ak(t.limitMode)?t.limitMode:fn.limitMode,r=Math.max(1,Math.round(Number(t.maxItems)||fn.maxItems)),i=Math.max(1,Number(t.minutesBudget)||fn.minutesBudget),o=Math.max(0,Number((S=t.template)==null?void 0:S.focusMinutes)||fn.template.focusMinutes),l=Math.max(0,Number((w=t.template)==null?void 0:w.rouletteMinutes)||fn.template.rouletteMinutes),u=Math.max(0,Number((_=t.template)==null?void 0:_.recapMinutes)||fn.template.recapMinutes),c=Math.max(0,o+l+u),f=SR(t.defaultMinutesByNodeType),h=Co(t.focusSelectors),p=Co(t.rouletteSelectors),y=((t.groups??[]).length>0?t.groups??[]:_R(t)).map((E,j)=>ER(E,j+1)).sort((E,j)=>E.order-j.order).map((E,j)=>({...E,order:j+1}));return{...t,limitMode:n,maxItems:r,minutesBudget:i,template:{totalMinutes:c,focusMinutes:o,rouletteMinutes:l,recapMinutes:u},defaultMinutesByNodeType:f,focusSelectors:h,rouletteSelectors:p,groups:y}},On=e=>{if(!e)return null;const t=e.trim();return t.length>0?t:null},Fu=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),yr=e=>{if(!e)return;const t=e.trim();return t.length>0?t:void 0},sp=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),Ni=e=>{const t=At(),n=On(e.parentWorkId??null),r=On(e.nextWorkId??null),i=On(e.variantOfWorkId??null),o=yr(e.nodeType??void 0),l=Fu(e.tags),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:void 0,c=(e.collaborators??[]).map((p,v)=>({id:p.id??`${e.id}-collab-${v}`,email:(p.email??"").trim().toLowerCase(),role:p.role??"editor",userId:p.userId??null,createdAt:p.createdAt??t})),f=sp([...e.collaboratorEmails??[],...c.map(p=>p.email)]),h=Array.isArray(e.videoUrls)?e.videoUrls.map(p=>typeof p=="string"?p.trim():"").filter(Boolean):[];return{id:e.id,name:e.name??"Trabajo sin nombre",subtitle:yr(e.subtitle),objectiveId:e.objectiveId??"",parentWorkId:n,nodeType:o,tags:l,orderHint:u,nextWorkId:r,variantOfWorkId:i,descriptionMarkdown:e.descriptionMarkdown??"",estimatedMinutes:e.estimatedMinutes??0,notes:yr(e.notes),videoUrls:h,createdAt:e.createdAt??t,updatedAt:e.updatedAt??t,visibility:e.visibility??"private",ownerId:e.ownerId??"local-owner",ownerEmail:(e.ownerEmail??"").trim().toLowerCase(),collaborators:c,collaboratorEmails:f,canEdit:e.canEdit??!0,isOwner:e.isOwner??!0}},CR=(e,t,n)=>{var o;if(!n)return!1;if(n===t)return!0;const r=new Set;let i=n;for(;i;){if(i===t)return!0;if(r.has(i))break;r.add(i),i=((o=e.find(u=>u.id===i))==null?void 0:o.parentWorkId)??null}return!1},cn=(e,t)=>{if(!ok)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},lk=e=>e==="present"||e==="absent"||e==="pending",uk=e=>e==="present"||e==="absent",op=e=>(e??[]).map(t=>{const n=lk(t.status)?t.status:"pending",r=uk(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),Qe=e=>{if(!ok)return;const t={objectives:cn(_t.objectives,[]),works:cn(_t.works,[]),sessions:cn(_t.sessions,[]),assistants:cn(_t.assistants,[]),kungfuPrograms:cn(_t.kungfuPrograms,ds),kungfuCadence:cn(_t.kungfuCadence,fs),kungfuTodayPlan:cn(_t.kungfuTodayPlan,fn),workTaxonomy:cn(_t.workTaxonomy,Ai)},n=ap({...t,...e});window.localStorage.setItem(_t.objectives,JSON.stringify(n.objectives)),window.localStorage.setItem(_t.works,JSON.stringify(n.works)),window.localStorage.setItem(_t.sessions,JSON.stringify(n.sessions)),window.localStorage.setItem(_t.assistants,JSON.stringify(n.assistants)),window.localStorage.setItem(_t.kungfuPrograms,JSON.stringify(n.kungfuPrograms)),window.localStorage.setItem(_t.kungfuCadence,JSON.stringify(n.kungfuCadence)),window.localStorage.setItem(_t.kungfuTodayPlan,JSON.stringify(n.kungfuTodayPlan)),window.localStorage.setItem(_t.workTaxonomy,JSON.stringify(n.workTaxonomy))},ap=e=>{const t=(e.works??[]).map(r=>{const i=r.parent_work_id;return Ni({...r,id:r.id,parentWorkId:On(r.parentWorkId??i??null)})}),n=Wn(e.workTaxonomy??Ai,t);return{objectives:e.objectives??[],works:t,sessions:(e.sessions??[]).map(r=>({...r,kind:r.kind??"class",startTime:r.startTime??as,workItems:(r.workItems??[]).map(i=>({...i,focusLabel:i.focusLabel,completed:i.completed??!1})),attendance:op(r.attendance)})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??ds,kungfuCadence:e.kungfuCadence??fs,kungfuTodayPlan:ip(e.kungfuTodayPlan??fn),workTaxonomy:n}},Ee=aR((e,t)=>({ready:!1,objectives:[],works:[],worksLoading:!1,sessions:[],assistants:[],kungfuPrograms:ds,kungfuCadence:fs,kungfuTodayPlan:fn,workTaxonomy:Ai,hydrate:()=>{if(t().ready)return;const n=cn(_t.objectives,[]),r=cn(_t.works,[]).map(p=>{const v=p.parent_work_id;return Ni({...p,id:p.id,parentWorkId:On(p.parentWorkId??v??null)})}),i=cn(_t.workTaxonomy,Ai),o=Wn(i,r),l=cn(_t.sessions,[]).map(p=>({...p,kind:p.kind??"class",startTime:p.startTime??as,workItems:(p.workItems??[]).map(v=>({...v,focusLabel:v.focusLabel,completed:v.completed??!1})),attendance:op(p.attendance)})),u=cn(_t.assistants,[]),c=cn(_t.kungfuPrograms,ds),f=cn(_t.kungfuCadence,fs),h=cn(_t.kungfuTodayPlan,fn);e({objectives:n,works:r,sessions:l,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:ip(h),workTaxonomy:o,ready:!0})},setCollections:n=>{e(r=>{const i=ap({objectives:n.objectives??r.objectives,works:n.works??r.works,sessions:n.sessions??r.sessions,assistants:n.assistants??r.assistants,kungfuPrograms:n.kungfuPrograms??r.kungfuPrograms,kungfuCadence:n.kungfuCadence??r.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan??r.kungfuTodayPlan,workTaxonomy:n.workTaxonomy??r.workTaxonomy}),o={...r,...i,ready:!0};return Qe(i),o})},setWorks:n=>{const r=n.map(i=>Ni(i));e(i=>{const o=Wn(i.workTaxonomy,r),l={...i,works:r,workTaxonomy:o};return Qe({works:r}),l})},loadWorks:async n=>{e({worksLoading:!0});try{const i=(await fR(n)).map(p=>Ni(p)),o=t().works,l=new Set(i.map(p=>p.id)),u=o.filter(p=>!l.has(p.id)&&(!p.ownerId||p.ownerId==="local-owner"||p.ownerId===n.actorId)),c=[];for(const p of u)try{const v=await Fx({id:p.id,name:p.name,subtitle:p.subtitle,objectiveId:p.objectiveId,parentWorkId:p.parentWorkId??null,nodeType:p.nodeType,tags:p.tags,orderHint:p.orderHint,nextWorkId:p.nextWorkId??null,variantOfWorkId:p.variantOfWorkId??null,descriptionMarkdown:p.descriptionMarkdown,estimatedMinutes:p.estimatedMinutes,notes:p.notes,videoUrls:p.videoUrls,visibility:p.visibility??"private",collaboratorEmails:p.collaboratorEmails??[]},n),y=Ni(v);c.push(y),l.add(y.id)}catch(v){console.error(`No se pudo migrar el trabajo legacy ${p.id}`,v)}const f=[...i];c.forEach(p=>{if(!l.has(p.id))l.add(p.id),f.push(p);else{const v=f.findIndex(y=>y.id===p.id);v>=0?f[v]=p:f.push(p)}});const h=f.map(p=>Ni(p)).sort((p,v)=>p.name.localeCompare(v.name,"es",{sensitivity:"base"}));e(p=>{const v=Wn(p.workTaxonomy,h),y={...p,works:h,workTaxonomy:v};return Qe({works:h}),y})}finally{e({worksLoading:!1})}},reset:()=>{e(n=>{const r=ap({objectives:[],works:[],sessions:[],assistants:[],kungfuPrograms:ds,kungfuCadence:fs,kungfuTodayPlan:fn,workTaxonomy:Ai}),i={...n,...r,ready:!0,worksLoading:!1};return Qe(i),i})},setKungfuPrograms:n=>{const r=Array.isArray(n)?n:ds;e(i=>{const o={...i,kungfuPrograms:r};return Qe(o),o})},setKungfuCadence:n=>{const r=n??fs;e(i=>{const o={...i,kungfuCadence:r};return Qe(o),o})},setKungfuTodayPlan:n=>{const r=ip(n??fn);e(i=>{const o={...i,kungfuTodayPlan:r};return Qe(o),o})},setWorkTaxonomy:n=>{e(r=>{const i=Wn(n??Ai,r.works),o={...r,workTaxonomy:i};return Qe(o),o})},upsertNodeType:n=>{const r=eh(n);if(!r)return null;const i=n.trim()||r;return e(o=>{const l=o.workTaxonomy.nodeTypes??[],u=l.some(h=>h.key===r)?l.map(h=>h.key===r?{...h,label:i}:h):[...l,{key:r,label:i}],c=Wn({...o.workTaxonomy,nodeTypes:u},o.works),f={...o,workTaxonomy:c};return Qe(f),f}),r},removeNodeType:n=>{const r=(n??"").trim().toLowerCase();return!r||t().works.some(o=>(o.nodeType??"").trim().toLowerCase()===r)?!1:(e(o=>{const l=(o.workTaxonomy.nodeTypes??[]).filter(f=>f.key!==r),u=Wn({...o.workTaxonomy,nodeTypes:l},o.works),c={...o,workTaxonomy:u};return Qe(c),c}),!0)},upsertTag:n=>{const r=eh(n);return r?(e(i=>{const o=i.workTaxonomy.tags??[],l=o.some(f=>f.name===r)?o:[...o,{name:r}],u=Wn({...i.workTaxonomy,tags:l},i.works),c={...i,workTaxonomy:u};return Qe(c),c}),r):null},removeTag:n=>{const r=eh(n??"");return!r||t().works.some(o=>(o.tags??[]).includes(r))?!1:(e(o=>{const l=(o.workTaxonomy.tags??[]).filter(f=>f.name!==r),u=Wn({...o.workTaxonomy,tags:l},o.works),c={...o,workTaxonomy:u};return Qe(c),c}),!0)},addObjective:n=>{const r={id:nn(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:At(),updatedAt:At()};return e(i=>{const o={objectives:[...i.objectives,r]},l={...i,...o};return Qe(l),l}),r},updateObjective:(n,r)=>{e(i=>{const o=i.objectives.map(u=>u.id===n?{...u,...r,updatedAt:At()}:u),l={...i,objectives:o};return Qe(l),l})},deleteObjective:n=>t().works.some(i=>i.objectiveId===n)?!1:(e(i=>{const o=i.objectives.filter(u=>u.id!==n),l={...i,objectives:o};return Qe(l),l}),!0),addWork:async(n,r)=>{const i=t(),o=On(n.parentWorkId),l=o&&i.works.some(h=>h.id===o)?o:null,u={name:n.name,subtitle:yr(n.subtitle),objectiveId:n.objectiveId,parentWorkId:l,nodeType:yr(n.nodeType)??void 0,tags:Fu(n.tags),orderHint:typeof n.orderHint=="number"&&Number.isFinite(n.orderHint)?n.orderHint:void 0,nextWorkId:On(n.nextWorkId??null),variantOfWorkId:On(n.variantOfWorkId??null),descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:yr(n.notes),videoUrls:(n.videoUrls??[]).map(h=>h.trim()).filter(h=>h.length>0),visibility:n.visibility??"private",collaboratorEmails:sp(n.collaboratorEmails??[])},c=await Fx(u,r),f=Ni(c);return e(h=>{const p=[...h.works.filter(y=>y.id!==f.id),f],v=Wn(h.workTaxonomy,p);return Qe({works:p,workTaxonomy:v}),{...h,works:p,workTaxonomy:v}}),f},updateWork:async(n,r,i)=>{const o=t(),l=o.works.find(p=>p.id===n);if(!l)throw new Error("Trabajo no encontrado");let u=l.parentWorkId??null;if(r.parentWorkId!==void 0){const p=On(r.parentWorkId);p&&(!o.works.some(v=>v.id===p)||CR(o.works,n,p))?u=null:u=p}const c={...r,subtitle:r.subtitle!==void 0?yr(r.subtitle)??null:void 0,parentWorkId:u,nodeType:r.nodeType!==void 0?yr(r.nodeType??void 0)??null:void 0,tags:r.tags?Fu(r.tags):void 0,orderHint:r.orderHint!==void 0?typeof r.orderHint=="number"&&Number.isFinite(r.orderHint)?r.orderHint:null:void 0,nextWorkId:r.nextWorkId!==void 0?On(r.nextWorkId??null):void 0,variantOfWorkId:r.variantOfWorkId!==void 0?On(r.variantOfWorkId??null):void 0,notes:r.notes!==void 0?yr(r.notes)??null:void 0,videoUrls:r.videoUrls?r.videoUrls.map(p=>p.trim()).filter(p=>p.length>0):void 0,collaboratorEmails:r.collaboratorEmails?sp(r.collaboratorEmails):void 0},f=await hR(n,c,i),h=Ni(f);return e(p=>{const v=p.works.map(S=>S.id===h.id?h:S),y=Wn(p.workTaxonomy,v);return Qe({works:v,workTaxonomy:y}),{...p,works:v,workTaxonomy:y}}),h},deleteWork:async(n,r)=>t().sessions.some(l=>l.workItems.some(u=>u.workId===n))||t().works.some(l=>l.parentWorkId===n)?!1:(await pR(n),e(l=>{const u=l.works.filter(f=>f.id!==n),c=Wn(l.workTaxonomy,u);return Qe({works:u,workTaxonomy:c}),{...l,works:u,workTaxonomy:c}}),!0),addSession:n=>{const r={id:nn(),date:n.date,kind:n.kind??"class",title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??as,createdAt:At(),updatedAt:At()};return e(i=>{const o=[...i.sessions,r],l={...i,sessions:o};return Qe(l),l}),r},duplicateSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o=At(),l={...i,id:nn(),date:r,startTime:i.startTime??as,createdAt:o,updatedAt:o,title:`${i.title} (copia)`};return l.workItems=i.workItems.slice().sort((u,c)=>u.order-c.order).map((u,c)=>({...u,id:nn(),order:c,completed:!1})),l.attendance=i.attendance.map(u=>({assistantId:u.assistantId,status:"pending",notes:u.notes,actualStatus:void 0,actualNotes:void 0})),e(u=>{const c=[...u.sessions,l],f={...u,sessions:c};return Qe(f),f}),l},updateSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,...r,updatedAt:At()}:u),l={...i,sessions:o};return Qe(l),l})},deleteSession:n=>{e(r=>{const i=r.sessions.filter(l=>l.id!==n),o={...r,sessions:i};return Qe(o),o})},updateSessionWorkItems:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,workItems:r.map((c,f)=>({...c,order:f})),updatedAt:At()}:u),l={...i,sessions:o};return Qe(l),l})},addWorkToSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o={id:nn(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:i.workItems.length},l={...i,workItems:[...i.workItems,o],updatedAt:At()};return e(u=>{const c=u.sessions.map(h=>h.id===n?l:h),f={...u,sessions:c};return Qe(f),f}),o},duplicateSessionWork:(n,r)=>{let i,o=!1;return e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.workItems.findIndex(w=>w.id===r);if(h===-1)return f;o=!0;const v={...f.workItems[h],id:nn(),completed:!1},y=[...f.workItems];y.splice(h+1,0,v);const S=y.map((w,_)=>{const E={...w,order:_};return w.id===v.id&&(i=E),E});return{...f,workItems:S,updatedAt:At()}});if(!o)return l;const c={...l,sessions:u};return Qe(c),c}),i},removeWorkFromSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>{if(u.id!==n)return u;const c=u.workItems.filter(f=>f.id!==r).map((f,h)=>({...f,order:h}));return{...u,workItems:c,updatedAt:At()}}),l={...i,sessions:o};return Qe(l),l})},toggleSessionWorkCompletion:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,completed:i}:f),updatedAt:At()}),u={...o,sessions:l};return Qe(u),u})},reorderSessionWork:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=[...c.workItems],[h]=f.splice(r,1);return f.splice(i,0,h),{...c,workItems:f.map((p,v)=>({...p,order:v})),updatedAt:At()}}),u={...o,sessions:l};return Qe(u),u})},updateSessionWorkDetails:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,...i}:f),updatedAt:At()}),u={...o,sessions:l};return Qe(u),u})},replaceSessionWork:(n,r,i)=>{t().works.some(o=>o.id===i)&&e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=c.workItems.map(h=>h.id!==r?h:{...h,workId:i,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...c,workItems:f,updatedAt:At()}}),u={...o,sessions:l};return Qe(u),u})},setAttendanceActualStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;if(h)p=f.attendance.map(v=>{if(v.assistantId!==r)return v;const y={...v,actualStatus:i};return typeof o<"u"&&(y.actualNotes=o),y});else{const v={assistantId:r,status:"pending",actualStatus:i};typeof o<"u"&&(v.actualNotes=o),p=[...f.attendance,v]}return{...f,attendance:p,updatedAt:At()}}),c={...l,sessions:u};return Qe(c),c})},setAttendanceStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;return h?p=f.attendance.map(v=>v.assistantId===r?{...v,status:i,notes:o}:v):p=[...f.attendance,{assistantId:r,status:i,notes:o}],{...f,attendance:p,updatedAt:At()}}),c={...l,sessions:u};return Qe(c),c})},addAssistant:n=>{const r={id:nn(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:At(),updatedAt:At()};return e(i=>{const o=[...i.assistants,r],l={...i,assistants:o};return Qe(l),l}),r},updateAssistant:(n,r)=>{e(i=>{const o=i.assistants.map(u=>u.id===n?{...u,...r,updatedAt:At()}:u),l={...i,assistants:o};return Qe(l),l})},deleteAssistant:n=>{e(r=>{const i=r.assistants.filter(u=>u.id!==n),o=r.sessions.map(u=>({...u,attendance:u.attendance.filter(c=>c.assistantId!==n)})),l={...r,assistants:i,sessions:o};return Qe(l),l})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versin de backup no soportada");const i=At(),o=(n.objetivos??[]).map(E=>({...E,createdAt:E.createdAt??i,updatedAt:E.updatedAt??i})),l=(n.trabajos??[]).map(E=>{const j=E.parent_work_id,C=E.node_type,A=E.tags,O=E.order_hint,R=E.next_work_id,z=E.variant_of_work_id;return{...E,subtitle:yr(E.subtitle),parentWorkId:On(E.parentWorkId??j??null),nodeType:yr(E.nodeType??C??void 0),tags:Fu(Array.isArray(E.tags)?E.tags:Array.isArray(A)?A:[]),orderHint:typeof E.orderHint=="number"?E.orderHint:typeof O=="number"?O:void 0,nextWorkId:On(E.nextWorkId??R??null),variantOfWorkId:On(E.variantOfWorkId??z??null),createdAt:E.createdAt??i,updatedAt:E.updatedAt??i,videoUrls:E.videoUrls??[]}}),u=(n.asistentes??[]).map(E=>({...E,createdAt:E.createdAt??i,updatedAt:E.updatedAt??i,active:E.active??!0})),c=n.kungfuPrograms??ds,f=n.kungfuCadence??fs,h=n.kungfuTodayPlan??fn,p=Wn(n.workTaxonomy??Ai,l),v=new Map;(n.sesiones??[]).forEach(E=>{const j=E.id??nn(),C={id:j,date:E.date??He().format("YYYY-MM-DD"),kind:E.kind??"class",title:E.title??"Sesin importada",description:E.description,notes:E.notes,workItems:(E.workItems??[]).map((A,O)=>({id:A.id??nn(),workId:A.workId,order:A.order??O,customDescriptionMarkdown:A.customDescriptionMarkdown,customDurationMinutes:A.customDurationMinutes,notes:A.notes,focusLabel:A.focusLabel,completed:A.completed??!1,result:A.result,effort:A.effort})),attendance:op(E.attendance),startTime:E.startTime??as,createdAt:E.createdAt??i,updatedAt:E.updatedAt??i};C.workItems=C.workItems.sort((A,O)=>A.order-O.order).map((A,O)=>({...A,order:O})),v.set(j,C)}),(n.sesiones_trabajos??[]).forEach(E=>{const j=E.session_id;if(!j)return;v.has(j)||v.set(j,{id:j,date:E.fecha?He(E.fecha).format("YYYY-MM-DD"):He().format("YYYY-MM-DD"),kind:"class",title:E.titulo??"Sesin importada",description:E.descripcion,notes:E.notasSesion??E.notas,workItems:[],attendance:[],startTime:as,createdAt:i,updatedAt:i});const C=v.get(j);C.workItems.push({id:E.id??nn(),workId:E.trabajo_id,order:E.orden??C.workItems.length,customDescriptionMarkdown:E.descripcionPersonalizada,customDurationMinutes:E.duracionPersonalizada,notes:E.notas,focusLabel:E.focusLabel??E.foco,completed:E.completed??!1,result:E.result??E.resultado,effort:E.effort??E.esfuerzo})}),v.forEach(E=>{E.workItems=E.workItems.sort((j,C)=>j.order-C.order).map((j,C)=>({...j,order:C})),E.startTime=E.startTime??as});const y=new Map,S=E=>lk(E)?E:void 0,w=E=>uk(E)?E:void 0;(n.sesiones_asistencias??[]).forEach(E=>{const j=E.session_id;if(!j)return;const C=E.assistantId??E.asistente_id;if(!C)return;const A=S(E.status??E.estado)??"pending",O=w(E.actualStatus??E.estado_real),R={assistantId:C,status:A,notes:E.notes??E.notas,actualStatus:O,actualNotes:E.actualNotes??E.notas_reales},z=y.get(j)??[];z.push(R),y.set(j,z)}),y.forEach((E,j)=>{const C=v.get(j);C&&(C.attendance=E)});const _=Array.from(v.values());e({objectives:o,works:l,sessions:_,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h,workTaxonomy:p,ready:!0}),Qe({objectives:o,works:l,sessions:_,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h,workTaxonomy:p})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(u=>u.workItems.map(c=>({id:c.id,session_id:u.id,trabajo_id:c.workId,orden:c.order,descripcionPersonalizada:c.customDescriptionMarkdown,duracionPersonalizada:c.customDurationMinutes,notas:c.notes,foco:c.focusLabel,focusLabel:c.focusLabel,completed:c.completed??!1,result:c.result,effort:c.effort}))),i=n.sessions.flatMap(u=>u.attendance.map(c=>({session_id:u.id,assistantId:c.assistantId,estado:c.status,notas:c.notes,...c.actualStatus?{actualStatus:c.actualStatus,estado_real:c.actualStatus}:{},...c.actualNotes?{actualNotes:c.actualNotes,notas_reales:c.actualNotes}:{}}))),o=n.sessions.map(u=>({id:u.id,date:u.date,kind:u.kind,title:u.title,description:u.description,notes:u.notes,startTime:u.startTime,createdAt:u.createdAt,updatedAt:u.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:o,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:i,kungfuPrograms:n.kungfuPrograms,kungfuCadence:n.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan,workTaxonomy:n.workTaxonomy}}})),Bx=1,jR=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],NR={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},TR={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},IR={nodeTypes:[{key:"form",label:"Form"},{key:"segment",label:"Segment"},{key:"application",label:"Application"},{key:"technique",label:"Technique"},{key:"drill",label:"Drill"},{key:"work",label:"Work"},{key:"link",label:"Link"},{key:"style",label:"Style"}],tags:[]},Nu=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants,kungfuPrograms:e.kungfuPrograms,kungfuCadence:e.kungfuCadence,kungfuTodayPlan:e.kungfuTodayPlan,workTaxonomy:e.workTaxonomy}),PR=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,kind:t.kind??"class",workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??jR,kungfuCadence:e.kungfuCadence??NR,kungfuTodayPlan:e.kungfuTodayPlan??TR,workTaxonomy:e.workTaxonomy??IR}),AR=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants||e.kungfuPrograms!==t.kungfuPrograms||e.kungfuCadence!==t.kungfuCadence||e.kungfuTodayPlan!==t.kungfuTodayPlan||e.workTaxonomy!==t.workTaxonomy;function RR(){const{user:e}=_s(),t=Ee(f=>f.setCollections),n=Ee(f=>f.reset),r=Ee(f=>f.ready),i=k.useRef(!1),o=k.useRef(null),l=k.useRef(null),u=k.useRef(null),c=k.useRef(Nu(Ee.getState()));k.useEffect(()=>()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]),k.useEffect(()=>{e||(n(),u.current=null,l.current=null,i.current=!1,c.current=Nu(Ee.getState()),o.current&&(window.clearTimeout(o.current),o.current=null))},[e,n]),k.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:v,error:y}=await Bt.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(y&&y.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",y);return}const S=v;if(S!=null&&S.data){const w=PR(S.data??{});i.current=!0,u.current=S.updated_at,c.current=w,t(w)}else if(r){const w=Nu(Ee.getState());l.current=null;const{error:_,data:E}=await Bt.from("planner_states").upsert({user_id:e.id,data:{version:Bx,...w}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),j=E;_?console.error("No se pudo inicializar el estado remoto",_):j&&(u.current=j.updated_at)}})();const p=Ee.subscribe(v=>{if(!f)return;const y=Nu(v);if(i.current){i.current=!1,c.current=y,l.current=null;return}const S=c.current;AR(y,S)&&(c.current=y,l.current=y,o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{if(!l.current)return;const w=l.current;l.current=null,(async()=>{const{error:_,data:E}=await Bt.from("planner_states").upsert({user_id:e.id,data:{version:Bx,...w}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),j=E;_?console.error("No se pudo guardar el estado remoto",_):j&&(u.current=j.updated_at)})()},600))});return()=>{f=!1,p(),o.current&&(window.clearTimeout(o.current),o.current=null)}},[e,r,t])}function OR(){const{user:e}=_s(),t=Ee(r=>r.loadWorks),n=Ee(r=>r.setWorks);k.useEffect(()=>{if(!e){n([]);return}const r={actorId:e.id,actorEmail:e.email??""},i=async()=>{try{await t(r)}catch(l){console.error("No se pudieron sincronizar los trabajos colaborativos",l)}};i();const o=Bt.channel("works-collaboration").on("postgres_changes",{event:"*",schema:"public",table:"works"},()=>{i()}).on("postgres_changes",{event:"*",schema:"public",table:"work_collaborators"},()=>{i()}).subscribe();return()=>{Bt.removeChannel(o)}},[e,t,n])}var zu={exports:{}},MR=zu.exports,Ux;function LR(){return Ux||(Ux=1,(function(e,t){(function(n,r){e.exports=r(rk())})(MR,(function(n){function r(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=r(n),o={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(l){return l+""}};return i.default.locale(o,null,!0),o}))})(zu)),zu.exports}LR();function $i({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return g.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[g.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function DR(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $R=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zR={};function Wx(e,t){return(zR.jsx?FR:$R).test(e)}const BR=/[ \t\n\f\r]/g;function UR(e){return typeof e=="object"?e.type==="text"?Hx(e.value):!1:Hx(e)}function Hx(e){return e.replace(BR,"")===""}class al{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}al.prototype.normal={};al.prototype.property={};al.prototype.space=void 0;function ck(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new al(n,r,t)}function lp(e){return e.toLowerCase()}class Ln{constructor(t,n){this.attribute=n,this.property=t}}Ln.prototype.attribute="";Ln.prototype.booleanish=!1;Ln.prototype.boolean=!1;Ln.prototype.commaOrSpaceSeparated=!1;Ln.prototype.commaSeparated=!1;Ln.prototype.defined=!1;Ln.prototype.mustUseProperty=!1;Ln.prototype.number=!1;Ln.prototype.overloadedBoolean=!1;Ln.prototype.property="";Ln.prototype.spaceSeparated=!1;Ln.prototype.space=void 0;let WR=0;const qe=js(),Dt=js(),up=js(),me=js(),gt=js(),wo=js(),Hn=js();function js(){return 2**++WR}const cp=Object.freeze(Object.defineProperty({__proto__:null,boolean:qe,booleanish:Dt,commaOrSpaceSeparated:Hn,commaSeparated:wo,number:me,overloadedBoolean:up,spaceSeparated:gt},Symbol.toStringTag,{value:"Module"})),th=Object.keys(cp);class nm extends Ln{constructor(t,n,r,i){let o=-1;if(super(t,n),Vx(this,"space",i),typeof r=="number")for(;++o<th.length;){const l=th[o];Vx(this,th[o],(r&cp[l])===cp[l])}}}nm.prototype.defined=!0;function Vx(e,t,n){n&&(e[t]=n)}function Oo(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new nm(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[lp(r)]=r,n[lp(o.attribute)]=r}return new al(t,n,e.space)}const dk=Oo({properties:{ariaActiveDescendant:null,ariaAtomic:Dt,ariaAutoComplete:null,ariaBusy:Dt,ariaChecked:Dt,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:gt,ariaCurrent:null,ariaDescribedBy:gt,ariaDetails:null,ariaDisabled:Dt,ariaDropEffect:gt,ariaErrorMessage:null,ariaExpanded:Dt,ariaFlowTo:gt,ariaGrabbed:Dt,ariaHasPopup:null,ariaHidden:Dt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gt,ariaLevel:me,ariaLive:null,ariaModal:Dt,ariaMultiLine:Dt,ariaMultiSelectable:Dt,ariaOrientation:null,ariaOwns:gt,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Dt,ariaReadOnly:Dt,ariaRelevant:null,ariaRequired:Dt,ariaRoleDescription:gt,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Dt,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function fk(e,t){return t in e?e[t]:t}function hk(e,t){return fk(e,t.toLowerCase())}const HR=Oo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wo,acceptCharset:gt,accessKey:gt,action:null,allow:null,allowFullScreen:qe,allowPaymentRequest:qe,allowUserMedia:qe,alt:null,as:null,async:qe,autoCapitalize:null,autoComplete:gt,autoFocus:qe,autoPlay:qe,blocking:gt,capture:null,charSet:null,checked:qe,cite:null,className:gt,cols:me,colSpan:null,content:null,contentEditable:Dt,controls:qe,controlsList:gt,coords:me|wo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qe,defer:qe,dir:null,dirName:null,disabled:qe,download:up,draggable:Dt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qe,formTarget:null,headers:gt,height:me,hidden:up,high:me,href:null,hrefLang:null,htmlFor:gt,httpEquiv:gt,id:null,imageSizes:null,imageSrcSet:null,inert:qe,inputMode:null,integrity:null,is:null,isMap:qe,itemId:null,itemProp:gt,itemRef:gt,itemScope:qe,itemType:gt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qe,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:qe,muted:qe,name:null,nonce:null,noModule:qe,noValidate:qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qe,optimum:me,pattern:null,ping:gt,placeholder:null,playsInline:qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qe,referrerPolicy:null,rel:gt,required:qe,reversed:qe,rows:me,rowSpan:me,sandbox:gt,scope:null,scoped:qe,seamless:qe,selected:qe,shadowRootClonable:qe,shadowRootDelegatesFocus:qe,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Dt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:qe,useMap:null,value:Dt,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gt,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qe,declare:qe,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:qe,noHref:qe,noShade:qe,noWrap:qe,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Dt,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qe,disableRemotePlayback:qe,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:hk}),VR=Oo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hn,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:gt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wo,g2:wo,glyphName:wo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:Hn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hn,rev:Hn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hn,requiredFeatures:Hn,requiredFonts:Hn,requiredFormats:Hn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:Hn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hn,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:fk}),pk=Oo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),mk=Oo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:hk}),gk=Oo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),qR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},YR=/[A-Z]/g,qx=/-[a-z]/g,KR=/^data[-\w.:]+$/i;function GR(e,t){const n=lp(t);let r=t,i=Ln;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&KR.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(qx,QR);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!qx.test(o)){let l=o.replace(YR,JR);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=nm}return new i(r,t)}function JR(e){return"-"+e.toLowerCase()}function QR(e){return e.charAt(1).toUpperCase()}const XR=ck([dk,HR,pk,mk,gk],"html"),rm=ck([dk,VR,pk,mk,gk],"svg");function ZR(e){return e.join(" ").trim()}var ao={},nh,Yx;function eO(){if(Yx)return nh;Yx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",h="*",p="",v="comment",y="declaration";nh=function(w,_){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];_=_||{};var E=1,j=1;function C(q){var V=q.match(t);V&&(E+=V.length);var F=q.lastIndexOf(c);j=~F?q.length-F:j+q.length}function A(){var q={line:E,column:j};return function(V){return V.position=new O(q),re(),V}}function O(q){this.start=q,this.end={line:E,column:j},this.source=_.source}O.prototype.content=w;function R(q){var V=new Error(_.source+":"+E+":"+j+": "+q);if(V.reason=q,V.filename=_.source,V.line=E,V.column=j,V.source=w,!_.silent)throw V}function z(q){var V=q.exec(w);if(V){var F=V[0];return C(F),w=w.slice(F.length),V}}function re(){z(n)}function X(q){var V;for(q=q||[];V=L();)V!==!1&&q.push(V);return q}function L(){var q=A();if(!(f!=w.charAt(0)||h!=w.charAt(1))){for(var V=2;p!=w.charAt(V)&&(h!=w.charAt(V)||f!=w.charAt(V+1));)++V;if(V+=2,p===w.charAt(V-1))return R("End of comment missing");var F=w.slice(2,V-2);return j+=2,C(F),w=w.slice(V),j+=2,q({type:v,comment:F})}}function $(){var q=A(),V=z(r);if(V){if(L(),!z(i))return R("property missing ':'");var F=z(o),U=q({type:y,property:S(V[0].replace(e,p)),value:F?S(F[0].replace(e,p)):p});return z(l),U}}function Q(){var q=[];X(q);for(var V;V=$();)V!==!1&&(q.push(V),X(q));return q}return re(),Q()};function S(w){return w?w.replace(u,p):p}return nh}var Kx;function tO(){if(Kx)return ao;Kx=1;var e=ao&&ao.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ao,"__esModule",{value:!0}),ao.default=n;var t=e(eO());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var l=(0,t.default)(r),u=typeof i=="function";return l.forEach(function(c){if(c.type==="declaration"){var f=c.property,h=c.value;u?i(f,h,c):h&&(o=o||{},o[f]=h)}}),o}return ao}var wa={},Gx;function nO(){if(Gx)return wa;Gx=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},c=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,l))};return wa.camelCase=c,wa}var ba,Jx;function rO(){if(Jx)return ba;Jx=1;var e=ba&&ba.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(tO()),n=nO();function r(i,o){var l={};return!i||typeof i!="string"||(0,t.default)(i,function(u,c){u&&c&&(l[(0,n.camelCase)(u,o)]=c)}),l}return r.default=r,ba=r,ba}var iO=rO();const sO=No(iO),yk=vk("end"),im=vk("start");function vk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oO(e){const t=im(e),n=yk(e);if(t&&n)return{start:t,end:n}}function Ma(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Qx(e.position):"start"in e||"end"in e?Qx(e):"line"in e||"column"in e?dp(e):""}function dp(e){return Xx(e&&e.line)+":"+Xx(e&&e.column)}function Qx(e){return dp(e&&e.start)+"-"+dp(e&&e.end)}function Xx(e){return e&&typeof e=="number"?e:1}class mn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Ma(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}mn.prototype.file="";mn.prototype.name="";mn.prototype.reason="";mn.prototype.message="";mn.prototype.stack="";mn.prototype.column=void 0;mn.prototype.line=void 0;mn.prototype.ancestors=void 0;mn.prototype.cause=void 0;mn.prototype.fatal=void 0;mn.prototype.place=void 0;mn.prototype.ruleId=void 0;mn.prototype.source=void 0;const sm={}.hasOwnProperty,aO=new Map,lO=/[A-Z]/g,uO=new Set(["table","tbody","thead","tfoot","tr"]),cO=new Set(["td","th"]),xk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dO(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=xO(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=vO(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?rm:XR,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=wk(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function wk(e,t,n){if(t.type==="element")return fO(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return hO(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mO(e,t,n);if(t.type==="mdxjsEsm")return pO(e,t);if(t.type==="root")return gO(e,t,n);if(t.type==="text")return yO(e,t)}function fO(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=rm,e.schema=i),e.ancestors.push(t);const o=kk(e,t.tagName,!1),l=wO(e,t);let u=am(e,t);return uO.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!UR(c):!0})),bk(e,l,o,t),om(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function hO(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ga(e,t.position)}function pO(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ga(e,t.position)}function mO(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=rm,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:kk(e,t.name,!0),l=bO(e,t),u=am(e,t);return bk(e,l,o,t),om(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function gO(e,t,n){const r={};return om(r,am(e,t)),e.create(t,e.Fragment,r,n)}function yO(e,t){return t.value}function bk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function om(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function vO(e,t,n){return r;function r(i,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function xO(e,t){return n;function n(r,i,o,l){const u=Array.isArray(o.children),c=im(r);return t(i,o,l,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function wO(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&sm.call(t.properties,i)){const o=kO(e,i,t.properties[i]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&cO.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function bO(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Ga(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else Ga(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function am(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:aO;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=i.get(c)||0;l=c+"-"+f,i.set(c,f+1)}}const u=wk(e,o,l);u!==void 0&&n.push(u)}return n}function kO(e,t,n){const r=GR(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?DR(n):ZR(n)),r.property==="style"){let i=typeof n=="object"?n:SO(e,String(n));return e.stylePropertyNameCase==="css"&&(i=EO(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?qR[r.property]||r.property:r.attribute,n]}}function SO(e,t){try{return sO(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new mn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=xk+"#cannot-parse-style-attribute",i}}function kk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const u=Wx(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=Wx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return sm.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ga(e)}function Ga(e,t){const n=new mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=xk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function EO(e){const t={};let n;for(n in e)sm.call(e,n)&&(t[_O(n)]=e[n]);return t}function _O(e){let t=e.replace(lO,CO);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function CO(e){return"-"+e.toLowerCase()}const rh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},jO={};function lm(e,t){const n=jO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Sk(e,r,i)}function Sk(e,t,n){if(NO(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Zx(e.children,t,n)}return Array.isArray(e)?Zx(e,t,n):""}function Zx(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Sk(e[i],t,n);return r.join("")}function NO(e){return!!(e&&typeof e=="object")}const e0=document.createElement("i");function um(e){const t="&"+e+";";e0.innerHTML=t;const n=e0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Kn(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function sr(e,t){return e.length>0?(Kn(e,e.length,0,t),e):t}const t0={}.hasOwnProperty;function Ek(e){const t={};let n=-1;for(;++n<e.length;)TO(t,e[n]);return t}function TO(e,t){let n;for(n in t){const i=(t0.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){t0.call(i,l)||(i[l]=[]);const u=o[l];IO(i[l],Array.isArray(u)?u:u?[u]:[])}}}function IO(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Kn(e,0,0,r)}function _k(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function br(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const bn=Bi(/[A-Za-z]/),pn=Bi(/[\dA-Za-z]/),PO=Bi(/[#-'*+\--9=?A-Z^-~]/);function oc(e){return e!==null&&(e<32||e===127)}const fp=Bi(/\d/),AO=Bi(/[\dA-Fa-f]/),RO=Bi(/[!-/:-@[-`{-~]/);function De(e){return e!==null&&e<-2}function ht(e){return e!==null&&(e<0||e===32)}function Je(e){return e===-2||e===-1||e===32}const Lc=Bi(new RegExp("\\p{P}|\\p{S}","u")),xs=Bi(/\s/);function Bi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Mo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&pn(e.charCodeAt(n+1))&&pn(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function et(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(c){return Je(c)?(e.enter(n),u(c)):t(c)}function u(c){return Je(c)&&o++<i?(e.consume(c),u):(e.exit(n),t(c))}}const OO={tokenize:MO};function MO(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),et(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),o(u)}function o(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return De(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const LO={tokenize:DO},n0={tokenize:$O};function DO(e){const t=this,n=[];let r=0,i,o,l;return u;function u(C){if(r<n.length){const A=n[r];return t.containerState=A[1],e.attempt(A[0].continuation,c,f)(C)}return f(C)}function c(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&j();const A=t.events.length;let O=A,R;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){R=t.events[O][1].end;break}E(r);let z=A;for(;z<t.events.length;)t.events[z][1].end={...R},z++;return Kn(t.events,O+1,0,t.events.slice(A)),t.events.length=z,f(C)}return u(C)}function f(C){if(r===n.length){if(!i)return v(C);if(i.currentConstruct&&i.currentConstruct.concrete)return S(C);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(n0,h,p)(C)}function h(C){return i&&j(),E(r),v(C)}function p(C){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,S(C)}function v(C){return t.containerState={},e.attempt(n0,y,S)(C)}function y(C){return r++,n.push([t.currentConstruct,t.containerState]),v(C)}function S(C){if(C===null){i&&j(),E(0),e.consume(C);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),w(C)}function w(C){if(C===null){_(e.exit("chunkFlow"),!0),E(0),e.consume(C);return}return De(C)?(e.consume(C),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(C),w)}function _(C,A){const O=t.sliceStream(C);if(A&&O.push(null),C.previous=o,o&&(o.next=C),o=C,i.defineSkip(C.start),i.write(O),t.parser.lazy[C.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<l&&(!i.events[R][1].end||i.events[R][1].end.offset>l))return;const z=t.events.length;let re=z,X,L;for(;re--;)if(t.events[re][0]==="exit"&&t.events[re][1].type==="chunkFlow"){if(X){L=t.events[re][1].end;break}X=!0}for(E(r),R=z;R<t.events.length;)t.events[R][1].end={...L},R++;Kn(t.events,re+1,0,t.events.slice(z)),t.events.length=R}}function E(C){let A=n.length;for(;A-- >C;){const O=n[A];t.containerState=O[1],O[0].exit.call(t,e)}n.length=C}function j(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function $O(e,t,n){return et(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jo(e){if(e===null||ht(e)||xs(e))return 1;if(Lc(e))return 2}function Dc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const hp={name:"attention",resolveAll:FO,tokenize:zO};function FO(e,t){let n=-1,r,i,o,l,u,c,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},v={...e[n][1].start};r0(p,-c),r0(v,c),l={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=sr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=sr(f,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=sr(f,Dc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=sr(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=sr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Kn(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function zO(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jo(r);let o;return l;function l(c){return o=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===o)return e.consume(c),u;const f=e.exit("attentionSequence"),h=jo(c),p=!h||h===2&&i||n.includes(c),v=!i||i===2&&h||n.includes(r);return f._open=!!(o===42?p:p&&(i||!v)),f._close=!!(o===42?v:v&&(h||!p)),t(c)}}function r0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const BO={name:"autolink",tokenize:UO};function UO(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(y){return bn(y)?(e.consume(y),l):y===64?n(y):f(y)}function l(y){return y===43||y===45||y===46||pn(y)?(r=1,u(y)):f(y)}function u(y){return y===58?(e.consume(y),r=0,c):(y===43||y===45||y===46||pn(y))&&r++<32?(e.consume(y),u):(r=0,f(y))}function c(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||oc(y)?n(y):(e.consume(y),c)}function f(y){return y===64?(e.consume(y),h):PO(y)?(e.consume(y),f):n(y)}function h(y){return pn(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,h):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):v(y)}function v(y){if((y===45||pn(y))&&r++<63){const S=y===45?v:p;return e.consume(y),S}return n(y)}}const ll={partial:!0,tokenize:WO};function WO(e,t,n){return r;function r(o){return Je(o)?et(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||De(o)?t(o):n(o)}}const Ck={continuation:{tokenize:VO},exit:qO,name:"blockQuote",tokenize:HO};function HO(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Je(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function VO(e,t,n){const r=this;return i;function i(l){return Je(l)?et(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(Ck,t,n)(l)}}function qO(e){e.exit("blockQuote")}const jk={name:"characterEscape",tokenize:YO};function YO(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return RO(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Nk={name:"characterReference",tokenize:KO};function KO(e,t,n){const r=this;let i=0,o,l;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=pn,h(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=AO,h):(e.enter("characterReferenceValue"),o=7,l=fp,h(p))}function h(p){if(p===59&&i){const v=e.exit("characterReferenceValue");return l===pn&&!um(r.sliceSerialize(v))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&i++<o?(e.consume(p),h):n(p)}}const i0={partial:!0,tokenize:JO},s0={concrete:!0,name:"codeFenced",tokenize:GO};function GO(e,t,n){const r=this,i={partial:!0,tokenize:O};let o=0,l=0,u;return c;function c(R){return f(R)}function f(R){const z=r.events[r.events.length-1];return o=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,u=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(R)}function h(R){return R===u?(l++,e.consume(R),h):l<3?n(R):(e.exit("codeFencedFenceSequence"),Je(R)?et(e,p,"whitespace")(R):p(R))}function p(R){return R===null||De(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(i0,w,A)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(R))}function v(R){return R===null||De(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(R)):Je(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),et(e,y,"whitespace")(R)):R===96&&R===u?n(R):(e.consume(R),v)}function y(R){return R===null||De(R)?p(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(R))}function S(R){return R===null||De(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(R)):R===96&&R===u?n(R):(e.consume(R),S)}function w(R){return e.attempt(i,A,_)(R)}function _(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),E}function E(R){return o>0&&Je(R)?et(e,j,"linePrefix",o+1)(R):j(R)}function j(R){return R===null||De(R)?e.check(i0,w,A)(R):(e.enter("codeFlowValue"),C(R))}function C(R){return R===null||De(R)?(e.exit("codeFlowValue"),j(R)):(e.consume(R),C)}function A(R){return e.exit("codeFenced"),t(R)}function O(R,z,re){let X=0;return L;function L(F){return R.enter("lineEnding"),R.consume(F),R.exit("lineEnding"),$}function $(F){return R.enter("codeFencedFence"),Je(F)?et(R,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):Q(F)}function Q(F){return F===u?(R.enter("codeFencedFenceSequence"),q(F)):re(F)}function q(F){return F===u?(X++,R.consume(F),q):X>=l?(R.exit("codeFencedFenceSequence"),Je(F)?et(R,V,"whitespace")(F):V(F)):re(F)}function V(F){return F===null||De(F)?(R.exit("codeFencedFence"),z(F)):re(F)}}}function JO(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const ih={name:"codeIndented",tokenize:XO},QO={partial:!0,tokenize:ZO};function XO(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),et(e,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?c(f):De(f)?e.attempt(QO,l,c)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||De(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function c(f){return e.exit("codeIndented"),t(f)}}function ZO(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):De(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):et(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):De(l)?i(l):n(l)}}const eM={name:"codeText",previous:nM,resolve:tM,tokenize:rM};function tM(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function nM(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function rM(e,t,n){let r=0,i,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),r++,u):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(o=e.enter("codeTextSequence"),i=0,h(p)):De(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||De(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),f)}function h(p){return p===96?(e.consume(p),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",f(p))}}class iM{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ka(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ka(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ka(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ka(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ka(this.left,n.reverse())}}}function ka(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Tk(e){const t={};let n=-1,r,i,o,l,u,c,f;const h=new iM(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,sM(h,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return Kn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function sM(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,c=[],f={};let h,p,v=-1,y=n,S=0,w=0;const _=[w];for(;y;){for(;e.get(++i)[1]!==y;);o.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(w=v+1,_.push(w),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):_.pop(),v=_.length;v--;){const E=u.slice(_[v],_[v+1]),j=o.pop();c.push([j,j+E.length-1]),e.splice(j,2,E)}for(c.reverse(),v=-1;++v<c.length;)f[S+c[v][0]]=S+c[v][1],S+=c[v][1]-c[v][0]-1;return f}const oM={resolve:lM,tokenize:uM},aM={partial:!0,tokenize:cM};function lM(e){return Tk(e),e}function uM(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):De(u)?e.check(aM,l,o)(u):(e.consume(u),i)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function cM(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),et(e,o,"linePrefix")}function o(l){if(l===null||De(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Ik(e,t,n,r,i,o,l,u,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(E){return E===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(E),e.exit(o),v):E===null||E===32||E===41||oc(E)?n(E):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),w(E))}function v(E){return E===62?(e.enter(o),e.consume(E),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===62?(e.exit("chunkString"),e.exit(u),v(E)):E===null||E===60||De(E)?n(E):(e.consume(E),E===92?S:y)}function S(E){return E===60||E===62||E===92?(e.consume(E),y):y(E)}function w(E){return!h&&(E===null||E===41||ht(E))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(E)):h<f&&E===40?(e.consume(E),h++,w):E===41?(e.consume(E),h--,w):E===null||E===32||E===40||oc(E)?n(E):(e.consume(E),E===92?_:w)}function _(E){return E===40||E===41||E===92?(e.consume(E),w):w(E)}}function Pk(e,t,n,r,i,o){const l=this;let u=0,c;return f;function f(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(o),h}function h(y){return u>999||y===null||y===91||y===93&&!c||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(e.exit(o),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):De(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||De(y)||u++>999?(e.exit("chunkString"),h(y)):(e.consume(y),c||(c=!Je(y)),y===92?v:p)}function v(y){return y===91||y===92||y===93?(e.consume(y),u++,p):p(y)}}function Ak(e,t,n,r,i,o){let l;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),l=v===40?41:v,c):n(v)}function c(v){return v===l?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(o),f(v))}function f(v){return v===l?(e.exit(o),c(l)):v===null?n(v):De(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),et(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===l||v===null||De(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?p:h)}function p(v){return v===l||v===92?(e.consume(v),h):h(v)}}function La(e,t){let n;return r;function r(i){return De(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Je(i)?et(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const dM={name:"definition",tokenize:hM},fM={partial:!0,tokenize:pM};function hM(e,t,n){const r=this;let i;return o;function o(y){return e.enter("definition"),l(y)}function l(y){return Pk.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return i=br(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),c):n(y)}function c(y){return ht(y)?La(e,f)(y):f(y)}function f(y){return Ik(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return e.attempt(fM,p,p)(y)}function p(y){return Je(y)?et(e,v,"whitespace")(y):v(y)}function v(y){return y===null||De(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function pM(e,t,n){return r;function r(u){return ht(u)?La(e,i)(u):n(u)}function i(u){return Ak(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Je(u)?et(e,l,"whitespace")(u):l(u)}function l(u){return u===null||De(u)?t(u):n(u)}}const mM={name:"hardBreakEscape",tokenize:gM};function gM(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return De(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const yM={name:"headingAtx",resolve:vM,tokenize:xM};function vM(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Kn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function xM(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||ht(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||De(h)?(e.exit("atxHeading"),t(h)):Je(h)?et(e,u,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||ht(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),f)}}const wM=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],o0=["pre","script","style","textarea"],bM={concrete:!0,name:"htmlFlow",resolveTo:EM,tokenize:_M},kM={partial:!0,tokenize:jM},SM={partial:!0,tokenize:CM};function EM(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function _M(e,t,n){const r=this;let i,o,l,u,c;return f;function f(I){return h(I)}function h(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),p}function p(I){return I===33?(e.consume(I),v):I===47?(e.consume(I),o=!0,w):I===63?(e.consume(I),i=3,r.interrupt?t:N):bn(I)?(e.consume(I),l=String.fromCharCode(I),_):n(I)}function v(I){return I===45?(e.consume(I),i=2,y):I===91?(e.consume(I),i=5,u=0,S):bn(I)?(e.consume(I),i=4,r.interrupt?t:N):n(I)}function y(I){return I===45?(e.consume(I),r.interrupt?t:N):n(I)}function S(I){const oe="CDATA[";return I===oe.charCodeAt(u++)?(e.consume(I),u===oe.length?r.interrupt?t:Q:S):n(I)}function w(I){return bn(I)?(e.consume(I),l=String.fromCharCode(I),_):n(I)}function _(I){if(I===null||I===47||I===62||ht(I)){const oe=I===47,ae=l.toLowerCase();return!oe&&!o&&o0.includes(ae)?(i=1,r.interrupt?t(I):Q(I)):wM.includes(l.toLowerCase())?(i=6,oe?(e.consume(I),E):r.interrupt?t(I):Q(I)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):o?j(I):C(I))}return I===45||pn(I)?(e.consume(I),l+=String.fromCharCode(I),_):n(I)}function E(I){return I===62?(e.consume(I),r.interrupt?t:Q):n(I)}function j(I){return Je(I)?(e.consume(I),j):L(I)}function C(I){return I===47?(e.consume(I),L):I===58||I===95||bn(I)?(e.consume(I),A):Je(I)?(e.consume(I),C):L(I)}function A(I){return I===45||I===46||I===58||I===95||pn(I)?(e.consume(I),A):O(I)}function O(I){return I===61?(e.consume(I),R):Je(I)?(e.consume(I),O):C(I)}function R(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),c=I,z):Je(I)?(e.consume(I),R):re(I)}function z(I){return I===c?(e.consume(I),c=null,X):I===null||De(I)?n(I):(e.consume(I),z)}function re(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||ht(I)?O(I):(e.consume(I),re)}function X(I){return I===47||I===62||Je(I)?C(I):n(I)}function L(I){return I===62?(e.consume(I),$):n(I)}function $(I){return I===null||De(I)?Q(I):Je(I)?(e.consume(I),$):n(I)}function Q(I){return I===45&&i===2?(e.consume(I),U):I===60&&i===1?(e.consume(I),Z):I===62&&i===4?(e.consume(I),P):I===63&&i===3?(e.consume(I),N):I===93&&i===5?(e.consume(I),Y):De(I)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(kM,W,q)(I)):I===null||De(I)?(e.exit("htmlFlowData"),q(I)):(e.consume(I),Q)}function q(I){return e.check(SM,V,W)(I)}function V(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),F}function F(I){return I===null||De(I)?q(I):(e.enter("htmlFlowData"),Q(I))}function U(I){return I===45?(e.consume(I),N):Q(I)}function Z(I){return I===47?(e.consume(I),l="",M):Q(I)}function M(I){if(I===62){const oe=l.toLowerCase();return o0.includes(oe)?(e.consume(I),P):Q(I)}return bn(I)&&l.length<8?(e.consume(I),l+=String.fromCharCode(I),M):Q(I)}function Y(I){return I===93?(e.consume(I),N):Q(I)}function N(I){return I===62?(e.consume(I),P):I===45&&i===2?(e.consume(I),N):Q(I)}function P(I){return I===null||De(I)?(e.exit("htmlFlowData"),W(I)):(e.consume(I),P)}function W(I){return e.exit("htmlFlow"),t(I)}}function CM(e,t,n){const r=this;return i;function i(l){return De(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function jM(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ll,t,n)}}const NM={name:"htmlText",tokenize:TM};function TM(e,t,n){const r=this;let i,o,l;return u;function u(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),c}function c(N){return N===33?(e.consume(N),f):N===47?(e.consume(N),O):N===63?(e.consume(N),C):bn(N)?(e.consume(N),re):n(N)}function f(N){return N===45?(e.consume(N),h):N===91?(e.consume(N),o=0,S):bn(N)?(e.consume(N),j):n(N)}function h(N){return N===45?(e.consume(N),y):n(N)}function p(N){return N===null?n(N):N===45?(e.consume(N),v):De(N)?(l=p,Z(N)):(e.consume(N),p)}function v(N){return N===45?(e.consume(N),y):p(N)}function y(N){return N===62?U(N):N===45?v(N):p(N)}function S(N){const P="CDATA[";return N===P.charCodeAt(o++)?(e.consume(N),o===P.length?w:S):n(N)}function w(N){return N===null?n(N):N===93?(e.consume(N),_):De(N)?(l=w,Z(N)):(e.consume(N),w)}function _(N){return N===93?(e.consume(N),E):w(N)}function E(N){return N===62?U(N):N===93?(e.consume(N),E):w(N)}function j(N){return N===null||N===62?U(N):De(N)?(l=j,Z(N)):(e.consume(N),j)}function C(N){return N===null?n(N):N===63?(e.consume(N),A):De(N)?(l=C,Z(N)):(e.consume(N),C)}function A(N){return N===62?U(N):C(N)}function O(N){return bn(N)?(e.consume(N),R):n(N)}function R(N){return N===45||pn(N)?(e.consume(N),R):z(N)}function z(N){return De(N)?(l=z,Z(N)):Je(N)?(e.consume(N),z):U(N)}function re(N){return N===45||pn(N)?(e.consume(N),re):N===47||N===62||ht(N)?X(N):n(N)}function X(N){return N===47?(e.consume(N),U):N===58||N===95||bn(N)?(e.consume(N),L):De(N)?(l=X,Z(N)):Je(N)?(e.consume(N),X):U(N)}function L(N){return N===45||N===46||N===58||N===95||pn(N)?(e.consume(N),L):$(N)}function $(N){return N===61?(e.consume(N),Q):De(N)?(l=$,Z(N)):Je(N)?(e.consume(N),$):X(N)}function Q(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),i=N,q):De(N)?(l=Q,Z(N)):Je(N)?(e.consume(N),Q):(e.consume(N),V)}function q(N){return N===i?(e.consume(N),i=void 0,F):N===null?n(N):De(N)?(l=q,Z(N)):(e.consume(N),q)}function V(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||ht(N)?X(N):(e.consume(N),V)}function F(N){return N===47||N===62||ht(N)?X(N):n(N)}function U(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function Z(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),M}function M(N){return Je(N)?et(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):Y(N)}function Y(N){return e.enter("htmlTextData"),l(N)}}const cm={name:"labelEnd",resolveAll:RM,resolveTo:OM,tokenize:MM},IM={tokenize:LM},PM={tokenize:DM},AM={tokenize:$M};function RM(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Kn(e,0,e.length,n),e}function OM(e,t){let n=e.length,r=0,i,o,l,u;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",c,t],["enter",f,t]],u=sr(u,e.slice(o+1,o+r+3)),u=sr(u,[["enter",h,t]]),u=sr(u,Dc(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=sr(u,[["exit",h,t],e[l-2],e[l-1],["exit",f,t]]),u=sr(u,e.slice(l+1)),u=sr(u,[["exit",c,t]]),Kn(e,o,e.length,u),e}function MM(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(v){return o?o._inactive?p(v):(l=r.parser.defined.includes(br(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):n(v)}function c(v){return v===40?e.attempt(IM,h,l?h:p)(v):v===91?e.attempt(PM,h,l?f:p)(v):l?h(v):p(v)}function f(v){return e.attempt(AM,h,p)(v)}function h(v){return t(v)}function p(v){return o._balanced=!0,n(v)}}function LM(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return ht(p)?La(e,o)(p):o(p)}function o(p){return p===41?h(p):Ik(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return ht(p)?La(e,c)(p):h(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?Ak(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return ht(p)?La(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function DM(e,t,n){const r=this;return i;function i(u){return Pk.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(br(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function $M(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const FM={name:"labelStartImage",resolveAll:cm.resolveAll,tokenize:zM};function zM(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const BM={name:"labelStartLink",resolveAll:cm.resolveAll,tokenize:UM};function UM(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const sh={name:"lineEnding",tokenize:WM};function WM(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),et(e,t,"linePrefix")}}const Bu={name:"thematicBreak",tokenize:HM};function HM(e,t,n){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||De(f))?(e.exit("thematicBreak"),t(f)):n(f)}function c(f){return f===i?(e.consume(f),r++,c):(e.exit("thematicBreakSequence"),Je(f)?et(e,u,"whitespace")(f):u(f))}}const Rn={continuation:{tokenize:KM},exit:JM,name:"list",tokenize:YM},VM={partial:!0,tokenize:QM},qM={partial:!0,tokenize:GM};function YM(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(y){const S=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:fp(y)){if(r.containerState.type||(r.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Bu,n,f)(y):f(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(y)}return n(y)}function c(y){return fp(y)&&++l<10?(e.consume(y),c):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),f(y)):n(y)}function f(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(ll,r.interrupt?n:h,e.attempt(VM,v,p))}function h(y){return r.containerState.initialBlankLine=!0,o++,v(y)}function p(y){return Je(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),v):n(y)}function v(y){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function KM(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ll,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,et(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!Je(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qM,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,et(e,e.attempt(Rn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function GM(e,t,n){const r=this;return et(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function JM(e){e.exit(this.containerState.type)}function QM(e,t,n){const r=this;return et(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!Je(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const a0={name:"setextUnderline",resolveTo:XM,tokenize:ZM};function XM(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function ZM(e,t,n){const r=this;let i;return o;function o(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Je(f)?et(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||De(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const e2={tokenize:t2};function t2(e){const t=this,n=e.attempt(ll,r,e.attempt(this.parser.constructs.flowInitial,i,et(e,e.attempt(this.parser.constructs.flow,i,e.attempt(oM,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const n2={resolveAll:Ok()},r2=Rk("string"),i2=Rk("text");function Rk(e){return{resolveAll:Ok(e==="text"?s2:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,u);return l;function l(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const p=i[h];let v=-1;if(p)for(;++v<p.length;){const y=p[v];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Ok(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function s2(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,u=0,c;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)c=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const o2={42:Rn,43:Rn,45:Rn,48:Rn,49:Rn,50:Rn,51:Rn,52:Rn,53:Rn,54:Rn,55:Rn,56:Rn,57:Rn,62:Ck},a2={91:dM},l2={[-2]:ih,[-1]:ih,32:ih},u2={35:yM,42:Bu,45:[a0,Bu],60:bM,61:a0,95:Bu,96:s0,126:s0},c2={38:Nk,92:jk},d2={[-5]:sh,[-4]:sh,[-3]:sh,33:FM,38:Nk,42:hp,60:[BO,NM],91:BM,92:[mM,jk],93:cm,95:hp,96:eM},f2={null:[hp,n2]},h2={null:[42,95]},p2={null:[]},m2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:h2,contentInitial:a2,disable:p2,document:o2,flow:u2,flowInitial:l2,insideSpan:f2,string:c2,text:d2},Symbol.toStringTag,{value:"Module"}));function g2(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const c={attempt:z(O),check:z(R),consume:j,enter:C,exit:A,interrupt:z(R,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:S,parser:e,previous:null,sliceSerialize:v,sliceStream:y,write:p};let h=t.tokenize.call(f,c);return t.resolveAll&&o.push(t),f;function p($){return l=sr(l,$),_(),l[l.length-1]!==null?[]:(re(t,0),f.events=Dc(o,f.events,f),f.events)}function v($,Q){return v2(y($),Q)}function y($){return y2(l,$)}function S(){const{_bufferIndex:$,_index:Q,line:q,column:V,offset:F}=r;return{_bufferIndex:$,_index:Q,line:q,column:V,offset:F}}function w($){i[$.line]=$.column,L()}function _(){let $;for(;r._index<l.length;){const Q=l[r._index];if(typeof Q=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<Q.length;)E(Q.charCodeAt(r._bufferIndex));else E(Q)}}function E($){h=h($)}function j($){De($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,L()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=$}function C($,Q){const q=Q||{};return q.type=$,q.start=S(),f.events.push(["enter",q,f]),u.push(q),q}function A($){const Q=u.pop();return Q.end=S(),f.events.push(["exit",Q,f]),Q}function O($,Q){re($,Q.from)}function R($,Q){Q.restore()}function z($,Q){return q;function q(V,F,U){let Z,M,Y,N;return Array.isArray(V)?W(V):"tokenize"in V?W([V]):P(V);function P(ue){return ve;function ve(ce){const we=ce!==null&&ue[ce],be=ce!==null&&ue.null,Ve=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(be)?be:be?[be]:[]];return W(Ve)(ce)}}function W(ue){return Z=ue,M=0,ue.length===0?U:I(ue[M])}function I(ue){return ve;function ve(ce){return N=X(),Y=ue,ue.partial||(f.currentConstruct=ue),ue.name&&f.parser.constructs.disable.null.includes(ue.name)?ae():ue.tokenize.call(Q?Object.assign(Object.create(f),Q):f,c,oe,ae)(ce)}}function oe(ue){return $(Y,N),F}function ae(ue){return N.restore(),++M<Z.length?I(Z[M]):U}}}function re($,Q){$.resolveAll&&!o.includes($)&&o.push($),$.resolve&&Kn(f.events,Q,f.events.length-Q,$.resolve(f.events.slice(Q),f)),$.resolveTo&&(f.events=$.resolveTo(f.events,f))}function X(){const $=S(),Q=f.previous,q=f.currentConstruct,V=f.events.length,F=Array.from(u);return{from:V,restore:U};function U(){r=$,f.previous=Q,f.currentConstruct=q,f.events.length=V,u=F,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function y2(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function v2(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function x2(e){const r={constructs:Ek([m2,...(e||{}).extensions||[]]),content:i(OO),defined:[],document:i(LO),flow:i(e2),lazy:{},string:i(r2),text:i(i2)};return r;function i(o){return l;function l(u){return g2(r,o,u)}}}function w2(e){for(;!Tk(e););return e}const l0=/[\0\t\n\r]/g;function b2(){let e=1,t="",n=!0,r;return i;function i(o,l,u){const c=[];let f,h,p,v,y;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(l0.lastIndex=p,f=l0.exec(o),v=f&&f.index!==void 0?f.index:o.length,y=o.charCodeAt(v),!f){t=o.slice(p);break}if(y===10&&p===v&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<v&&(c.push(o.slice(p,v)),e+=v-p),y){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}p=v+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const k2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function S2(e){return e.replace(k2,E2)}function E2(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return _k(n.slice(o?2:1),o?16:10)}return um(n)||e}const Mk={}.hasOwnProperty;function _2(e,t,n){return typeof t!="string"&&(n=t,t=void 0),C2(n)(w2(x2(n).document().write(b2()(e,t,!0))))}function C2(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(J),autolinkProtocol:X,autolinkEmail:X,atxHeading:o(Xe),blockQuote:o(be),characterEscape:X,characterReference:X,codeFenced:o(Ve),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Ve,l),codeText:o(Ze,l),codeTextData:X,data:X,codeFlowValue:X,definition:o(_e),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Ue),hardBreakEscape:o(yt),hardBreakTrailing:o(yt),htmlFlow:o(Be,l),htmlFlowData:X,htmlText:o(Be,l),htmlTextData:X,image:o(lt),label:l,link:o(J),listItem:o(de),listItemValue:v,listOrdered:o(le,p),listUnordered:o(le),paragraph:o(Ce),reference:I,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Xe),strong:o(xe),thematicBreak:o(te)},exit:{atxHeading:c(),atxHeadingSequence:O,autolink:c(),autolinkEmail:we,autolinkProtocol:ce,blockQuote:c(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:ue,characterReference:ve,codeFenced:c(_),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:S,codeFlowValue:L,codeIndented:c(E),codeText:c(F),codeTextData:L,data:L,definition:c(),definitionDestinationString:A,definitionLabelString:j,definitionTitleString:C,emphasis:c(),hardBreakEscape:c(Q),hardBreakTrailing:c(Q),htmlFlow:c(q),htmlFlowData:L,htmlText:c(V),htmlTextData:L,image:c(Z),label:Y,labelText:M,lineEnding:$,link:c(U),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:oe,resourceDestinationString:N,resourceTitleString:P,resource:W,setextHeading:c(re),setextHeadingLineSequence:z,setextHeadingText:R,strong:c(),thematicBreak:c()}};Lk(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(K){let ee={type:"root",children:[]};const ge={stack:[ee],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:h,data:n},Pe=[];let $e=-1;for(;++$e<K.length;)if(K[$e][1].type==="listOrdered"||K[$e][1].type==="listUnordered")if(K[$e][0]==="enter")Pe.push($e);else{const ke=Pe.pop();$e=i(K,ke,$e)}for($e=-1;++$e<K.length;){const ke=t[K[$e][0]];Mk.call(ke,K[$e][1].type)&&ke[K[$e][1].type].call(Object.assign({sliceSerialize:K[$e][2].sliceSerialize},ge),K[$e][1])}if(ge.tokenStack.length>0){const ke=ge.tokenStack[ge.tokenStack.length-1];(ke[1]||u0).call(ge,void 0,ke[0])}for(ee.position={start:Ci(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Ci(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<t.transforms.length;)ee=t.transforms[$e](ee)||ee;return ee}function i(K,ee,ge){let Pe=ee-1,$e=-1,ke=!1,dt,ct,Ke,kt;for(;++Pe<=ge;){const nt=K[Pe];switch(nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{nt[0]==="enter"?$e++:$e--,kt=void 0;break}case"lineEndingBlank":{nt[0]==="enter"&&(dt&&!kt&&!$e&&!Ke&&(Ke=Pe),kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kt=void 0}if(!$e&&nt[0]==="enter"&&nt[1].type==="listItemPrefix"||$e===-1&&nt[0]==="exit"&&(nt[1].type==="listUnordered"||nt[1].type==="listOrdered")){if(dt){let Wt=Pe;for(ct=void 0;Wt--;){const It=K[Wt];if(It[1].type==="lineEnding"||It[1].type==="lineEndingBlank"){if(It[0]==="exit")continue;ct&&(K[ct][1].type="lineEndingBlank",ke=!0),It[1].type="lineEnding",ct=Wt}else if(!(It[1].type==="linePrefix"||It[1].type==="blockQuotePrefix"||It[1].type==="blockQuotePrefixWhitespace"||It[1].type==="blockQuoteMarker"||It[1].type==="listItemIndent"))break}Ke&&(!ct||Ke<ct)&&(dt._spread=!0),dt.end=Object.assign({},ct?K[ct][1].start:nt[1].end),K.splice(ct||Pe,0,["exit",dt,nt[2]]),Pe++,ge++}if(nt[1].type==="listItemPrefix"){const Wt={type:"listItem",_spread:!1,start:Object.assign({},nt[1].start),end:void 0};dt=Wt,K.splice(Pe,0,["enter",Wt,nt[2]]),Pe++,ge++,Ke=void 0,kt=!0}}}return K[ee][1]._spread=ke,ge}function o(K,ee){return ge;function ge(Pe){u.call(this,K(Pe),Pe),ee&&ee.call(this,Pe)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(K,ee,ge){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([ee,ge||void 0]),K.position={start:Ci(ee.start),end:void 0}}function c(K){return ee;function ee(ge){K&&K.call(this,ge),f.call(this,ge)}}function f(K,ee){const ge=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==K.type&&(ee?ee.call(this,K,Pe[0]):(Pe[1]||u0).call(this,K,Pe[0]));else throw new Error("Cannot close `"+K.type+"` ("+Ma({start:K.start,end:K.end})+"): its not open");ge.position.end=Ci(K.end)}function h(){return lm(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(K){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function y(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=K}function S(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=K}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K.replace(/(\r?\n|\r)$/g,"")}function j(K){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.label=ee,ge.identifier=br(this.sliceSerialize(K)).toLowerCase()}function C(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.title=K}function A(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.url=K}function O(K){const ee=this.stack[this.stack.length-1];if(!ee.depth){const ge=this.sliceSerialize(K).length;ee.depth=ge}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function z(K){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function re(){this.data.setextHeadingSlurpLineEnding=void 0}function X(K){const ge=this.stack[this.stack.length-1].children;let Pe=ge[ge.length-1];(!Pe||Pe.type!=="text")&&(Pe=D(),Pe.position={start:Ci(K.start),end:void 0},ge.push(Pe)),this.stack.push(Pe)}function L(K){const ee=this.stack.pop();ee.value+=this.sliceSerialize(K),ee.position.end=Ci(K.end)}function $(K){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=ee.children[ee.children.length-1];ge.position.end=Ci(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(X.call(this,K),L.call(this,K))}function Q(){this.data.atHardBreak=!0}function q(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function V(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function F(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function U(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ee,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function Z(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ee,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function M(K){const ee=this.sliceSerialize(K),ge=this.stack[this.stack.length-2];ge.label=S2(ee),ge.identifier=br(ee).toLowerCase()}function Y(){const K=this.stack[this.stack.length-1],ee=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Pe=K.children;ge.children=Pe}else ge.alt=ee}function N(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.url=K}function P(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.title=K}function W(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function oe(K){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.label=ee,ge.identifier=br(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function ae(K){this.data.characterReferenceType=K.type}function ue(K){const ee=this.sliceSerialize(K),ge=this.data.characterReferenceType;let Pe;ge?(Pe=_k(ee,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=um(ee);const $e=this.stack[this.stack.length-1];$e.value+=Pe}function ve(K){const ee=this.stack.pop();ee.position.end=Ci(K.end)}function ce(K){L.call(this,K);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(K)}function we(K){L.call(this,K);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(K)}function be(){return{type:"blockquote",children:[]}}function Ve(){return{type:"code",lang:null,meta:null,value:""}}function Ze(){return{type:"inlineCode",value:""}}function _e(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ue(){return{type:"emphasis",children:[]}}function Xe(){return{type:"heading",depth:0,children:[]}}function yt(){return{type:"break"}}function Be(){return{type:"html",value:""}}function lt(){return{type:"image",title:null,url:"",alt:null}}function J(){return{type:"link",title:null,url:"",children:[]}}function le(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function de(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function Ce(){return{type:"paragraph",children:[]}}function xe(){return{type:"strong",children:[]}}function D(){return{type:"text",value:""}}function te(){return{type:"thematicBreak"}}}function Ci(e){return{line:e.line,column:e.column,offset:e.offset}}function Lk(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Lk(e,r):j2(e,r)}}function j2(e,t){let n;for(n in t)if(Mk.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function u0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ma({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is still open")}function N2(e){const t=this;t.parser=n;function n(r){return _2(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function T2(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function I2(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function P2(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function A2(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function R2(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function O2(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Mo(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,f),e.applyData(t,f)}function M2(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L2(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Dk(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function D2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Dk(e,t);const i={src:Mo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function $2(e,t){const n={src:Mo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function F2(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function z2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Dk(e,t);const i={href:Mo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function B2(e,t){const n={href:Mo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function U2(e,t,n){const r=e.all(t),i=n?W2(n):$k(t),o={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?l.push(...h.children):l.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function W2(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=$k(n[r])}return t}function $k(e){const t=e.spread;return t??e.children.length>1}function H2(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function V2(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q2(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Y2(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function K2(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=im(t.children[1]),c=yk(t.children[t.children.length-1]);u&&c&&(l.position={start:u,end:c}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function G2(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let c=-1;const f=[];for(;++c<u;){const p=t.children[c],v={},y=l?l[c]:void 0;y&&(v.align=y);let S={type:"element",tagName:o,properties:v,children:[]};p&&(S.children=e.all(p),e.patch(p,S),S=e.applyData(p,S)),f.push(S)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function J2(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const c0=9,d0=32;function Q2(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(f0(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(f0(t.slice(i),i>0,!1)),o.join("")}function f0(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===c0||o===d0;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===c0||o===d0;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function X2(e,t){const n={type:"text",value:Q2(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Z2(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const eL={blockquote:T2,break:I2,code:P2,delete:A2,emphasis:R2,footnoteReference:O2,heading:M2,html:L2,imageReference:D2,image:$2,inlineCode:F2,linkReference:z2,link:B2,listItem:U2,list:H2,paragraph:V2,root:q2,strong:Y2,table:K2,tableCell:J2,tableRow:G2,text:X2,thematicBreak:Z2,toml:Tu,yaml:Tu,definition:Tu,footnoteDefinition:Tu};function Tu(){}const Fk=-1,$c=0,Da=1,ac=2,dm=3,fm=4,hm=5,pm=6,zk=7,Bk=8,h0=typeof self=="object"?self:globalThis,tL=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case $c:case Fk:return n(l,i);case Da:{const u=n([],i);for(const c of l)u.push(r(c));return u}case ac:{const u=n({},i);for(const[c,f]of l)u[r(c)]=r(f);return u}case dm:return n(new Date(l),i);case fm:{const{source:u,flags:c}=l;return n(new RegExp(u,c),i)}case hm:{const u=n(new Map,i);for(const[c,f]of l)u.set(r(c),r(f));return u}case pm:{const u=n(new Set,i);for(const c of l)u.add(r(c));return u}case zk:{const{name:u,message:c}=l;return n(new h0[u](c),i)}case Bk:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new h0[o](l),i)};return r},p0=e=>tL(new Map,e)(0),lo="",{toString:nL}={},{keys:rL}=Object,Sa=e=>{const t=typeof e;if(t!=="object"||!e)return[$c,t];const n=nL.call(e).slice(8,-1);switch(n){case"Array":return[Da,lo];case"Object":return[ac,lo];case"Date":return[dm,lo];case"RegExp":return[fm,lo];case"Map":return[hm,lo];case"Set":return[pm,lo];case"DataView":return[Da,n]}return n.includes("Array")?[Da,n]:n.includes("Error")?[zk,n]:[ac,n]},Iu=([e,t])=>e===$c&&(t==="function"||t==="symbol"),iL=(e,t,n,r)=>{const i=(l,u)=>{const c=r.push(l)-1;return n.set(u,c),c},o=l=>{if(n.has(l))return n.get(l);let[u,c]=Sa(l);switch(u){case $c:{let h=l;switch(c){case"bigint":u=Bk,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([Fk],l)}return i([u,h],l)}case Da:{if(c){let v=l;return c==="DataView"?v=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(l)),i([c,[...v]],l)}const h=[],p=i([u,h],l);for(const v of l)h.push(o(v));return p}case ac:{if(c)switch(c){case"BigInt":return i([c,l.toString()],l);case"Boolean":case"Number":case"String":return i([c,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const h=[],p=i([u,h],l);for(const v of rL(l))(e||!Iu(Sa(l[v])))&&h.push([o(v),o(l[v])]);return p}case dm:return i([u,l.toISOString()],l);case fm:{const{source:h,flags:p}=l;return i([u,{source:h,flags:p}],l)}case hm:{const h=[],p=i([u,h],l);for(const[v,y]of l)(e||!(Iu(Sa(v))||Iu(Sa(y))))&&h.push([o(v),o(y)]);return p}case pm:{const h=[],p=i([u,h],l);for(const v of l)(e||!Iu(Sa(v)))&&h.push(o(v));return p}}const{message:f}=l;return i([u,{name:c,message:f}],l)};return o},m0=(e,{json:t,lossy:n}={})=>{const r=[];return iL(!(t||n),!!t,new Map,r)(e),r},lc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?p0(m0(e,t)):structuredClone(e):(e,t)=>p0(m0(e,t));function sL(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function oL(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function aL(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||sL,r=e.options.footnoteBackLabel||oL,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const h=e.all(f),p=String(f.identifier).toUpperCase(),v=Mo(p.toLowerCase());let y=0;const S=[],w=e.footnoteCounts.get(p);for(;w!==void 0&&++y<=w;){S.length>0&&S.push({type:"text",value:" "});let j=typeof n=="string"?n:n(c,y);typeof j=="string"&&(j={type:"text",value:j}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,y),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const j=_.children[_.children.length-1];j&&j.type==="text"?j.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...S)}else h.push(...S);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(h,!0)};e.patch(f,E),u.push(E)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...lc(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Fc=(function(e){if(e==null)return dL;if(typeof e=="function")return zc(e);if(typeof e=="object")return Array.isArray(e)?lL(e):uL(e);if(typeof e=="string")return cL(e);throw new Error("Expected function, string, or object as test")});function lL(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Fc(e[n]);return zc(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function uL(e){const t=e;return zc(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function cL(e){return zc(t);function t(n){return n&&n.type===e}}function zc(e){return t;function t(n,r,i){return!!(fL(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function dL(){return!0}function fL(e){return e!==null&&typeof e=="object"&&"type"in e}const Uk=[],hL=!0,pp=!1,pL="skip";function Wk(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Fc(i),l=r?-1:1;u(e,void 0,[])();function u(c,f,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=Uk,S,w,_;if((!t||o(c,f,h[h.length-1]||void 0))&&(y=mL(n(c,h)),y[0]===pp))return y;if("children"in c&&c.children){const E=c;if(E.children&&y[0]!==pL)for(w=(r?E.children.length:-1)+l,_=h.concat(E);w>-1&&w<E.children.length;){const j=E.children[w];if(S=u(j,w,_)(),S[0]===pp)return S;w=typeof S[1]=="number"?S[1]:w+l}}return y}}}function mL(e){return Array.isArray(e)?e:typeof e=="number"?[hL,e]:e==null?Uk:[e]}function Bc(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),Wk(e,o,u,i);function u(c,f){const h=f[f.length-1],p=h?h.children.indexOf(c):void 0;return l(c,p,h)}}const mp={}.hasOwnProperty,gL={};function yL(e,t){const n=t||gL,r=new Map,i=new Map,o=new Map,l={...eL,...n.handlers},u={all:f,applyData:xL,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:c,options:n,patch:vL,wrap:bL};return Bc(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,v=String(h.identifier).toUpperCase();p.has(v)||p.set(v,h)}}),u;function c(h,p){const v=h.type,y=u.handlers[v];if(mp.call(u.handlers,v)&&y)return y(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in h){const{children:w,..._}=h,E=lc(_);return E.children=u.all(h),E}return lc(h)}return(u.options.unknownHandler||wL)(u,h,p)}function f(h){const p=[];if("children"in h){const v=h.children;let y=-1;for(;++y<v.length;){const S=u.one(v[y],h);if(S){if(y&&v[y-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=g0(S.value)),!Array.isArray(S)&&S.type==="element")){const w=S.children[0];w&&w.type==="text"&&(w.value=g0(w.value))}Array.isArray(S)?p.push(...S):p.push(S)}}}return p}}function vL(e,t){e.position&&(t.position=oO(e))}function xL(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,lc(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function wL(e,t){const n=t.data||{},r="value"in t&&!(mp.call(n,"hProperties")||mp.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bL(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function g0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function y0(e,t){const n=yL(e,t),r=n.one(e,void 0),i=aL(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function kL(e,t){return e&&"run"in e?async function(n,r){const i=y0(n,{file:r,...t});await e.run(i,r)}:function(n,r){return y0(n,{file:r,...e||t})}}function v0(e){if(e)throw e}var oh,x0;function SL(){if(x0)return oh;x0=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},l=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return oh=function c(){var f,h,p,v,y,S,w=arguments[0],_=1,E=arguments.length,j=!1;for(typeof w=="boolean"&&(j=w,w=arguments[1]||{},_=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});_<E;++_)if(f=arguments[_],f!=null)for(h in f)p=u(w,h),v=u(f,h),w!==v&&(j&&v&&(o(v)||(y=i(v)))?(y?(y=!1,S=p&&i(p)?p:[]):S=p&&o(p)?p:{},l(w,{name:h,newValue:c(j,S,v)})):typeof v<"u"&&l(w,{name:h,newValue:v}));return w},oh}var EL=SL();const ah=No(EL);function gp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function _L(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(c,...f){const h=e[++o];let p=-1;if(c){l(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?CL(h,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function CL(e,t){let n;return r;function r(...l){const u=e.length>l.length;let c;u&&l.push(i);try{c=e.apply(this,l)}catch(f){const h=f;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(l,...u){n||(n=!0,t(l,...u))}function o(l){i(null,l)}}const Rr={basename:jL,dirname:NL,extname:TL,join:IL,sep:"/"};function jL(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ul(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function NL(e){if(ul(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function TL(e){ul(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function IL(...e){let t=-1,n;for(;++t<e.length;)ul(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":PL(n)}function PL(e){ul(e);const t=e.codePointAt(0)===47;let n=AL(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function AL(e,t){let n="",r=0,i=-1,o=0,l=-1,u,c;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function ul(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const RL={cwd:OL};function OL(){return"/"}function yp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ML(e){if(typeof e=="string")e=new URL(e);else if(!yp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return LL(e)}function LL(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const lh=["history","path","basename","stem","extname","dirname"];class Hk{constructor(t){let n;t?yp(t)?n={path:t}:typeof t=="string"||DL(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":RL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lh.length;){const o=lh[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)lh.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Rr.basename(this.path):void 0}set basename(t){ch(t,"basename"),uh(t,"basename"),this.path=Rr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rr.dirname(this.path):void 0}set dirname(t){w0(this.basename,"dirname"),this.path=Rr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rr.extname(this.path):void 0}set extname(t){if(uh(t,"extname"),w0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){yp(t)&&(t=ML(t)),ch(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rr.basename(this.path,this.extname):void 0}set stem(t){ch(t,"stem"),uh(t,"stem"),this.path=Rr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new mn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function uh(e,t){if(e&&e.includes(Rr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rr.sep+"`")}function ch(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function w0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function DL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $L=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),FL={}.hasOwnProperty;class mm extends $L{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_L()}copy(){const t=new mm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(ah(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(hh("data",this.frozen),this.namespace[t]=n,this):FL.call(this.namespace,t)&&this.namespace[t]||void 0:t?(hh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pu(t),r=this.parser||this.Parser;return dh("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),dh("process",this.parser||this.Parser),fh("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=Pu(t),c=r.parse(u);r.run(c,u,function(h,p,v){if(h||!p||!v)return f(h);const y=p,S=r.stringify(y,v);UL(S)?v.value=S:v.result=S,f(h,v)});function f(h,p){h||!p?l(h):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),dh("processSync",this.parser||this.Parser),fh("processSync",this.compiler||this.Compiler),this.process(t,i),k0("processSync","process",n),r;function i(o,l){n=!0,v0(o),r=l}}run(t,n,r){b0(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const c=Pu(n);i.run(t,c,f);function f(h,p,v){const y=p||t;h?u(h):l?l(y):r(void 0,y,v)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),k0("runSync","run",r),i;function o(l,u){v0(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=Pu(n),i=this.compiler||this.Compiler;return fh("stringify",i),b0(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(hh("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;c(h,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=ah(!0,i.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let p=-1,v=-1;for(;++p<r.length;)if(r[p][0]===f){v=p;break}if(v===-1)r.push([f,...h]);else if(h.length>0){let[y,...S]=h;const w=r[v][1];gp(w)&&gp(y)&&(y=ah(!0,w,y)),r[v]=[f,y,...S]}}}}const zL=new mm().freeze();function dh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function fh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function hh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function b0(e){if(!gp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function k0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pu(e){return BL(e)?e:new Hk(e)}function BL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function UL(e){return typeof e=="string"||WL(e)}function WL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const HL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",S0=[],E0={allowDangerousHtml:!0},VL=/^(https?|ircs?|mailto|xmpp)$/i,qL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function YL(e){const t=KL(e),n=GL(e);return JL(t.runSync(t.parse(n),n),e)}function KL(e){const t=e.rehypePlugins||S0,n=e.remarkPlugins||S0,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...E0}:E0;return zL().use(N2).use(n).use(kL,r).use(t)}function GL(e){const t=e.children||"",n=new Hk;return typeof t=="string"&&(n.value=t),n}function JL(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||QL;for(const h of qL)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+HL+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Bc(e,f),dO(e,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function f(h,p,v){if(h.type==="raw"&&v&&typeof p=="number")return l?v.children.splice(p,1):v.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let y;for(y in rh)if(Object.hasOwn(rh,y)&&Object.hasOwn(h.properties,y)){const S=h.properties[y],w=rh[y];(w===null||w.includes(h.tagName))&&(h.properties[y]=c(String(S||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(h,p,v)),y&&v&&typeof p=="number")return u&&h.children?v.children.splice(p,1,...h.children):v.children.splice(p,1),p}}}function QL(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||VL.test(e.slice(0,t))?e:""}function _0(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function XL(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function ZL(e,t,n){const i=Fc((n||{}).ignore||[]),o=eD(t);let l=-1;for(;++l<o.length;)Wk(e,"text",u);function u(f,h){let p=-1,v;for(;++p<h.length;){const y=h[p],S=v?v.children:void 0;if(i(y,S?S.indexOf(y):void 0,v))return;v=y}if(v)return c(f,h)}function c(f,h){const p=h[h.length-1],v=o[l][0],y=o[l][1];let S=0;const _=p.children.indexOf(f);let E=!1,j=[];v.lastIndex=0;let C=v.exec(f.value);for(;C;){const A=C.index,O={index:C.index,input:C.input,stack:[...h,f]};let R=y(...C,O);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?v.lastIndex=A+1:(S!==A&&j.push({type:"text",value:f.value.slice(S,A)}),Array.isArray(R)?j.push(...R):R&&j.push(R),S=A+C[0].length,E=!0),!v.global)break;C=v.exec(f.value)}return E?(S<f.value.length&&j.push({type:"text",value:f.value.slice(S)}),p.children.splice(_,1,...j)):j=[f],_+j.length}}function eD(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([tD(i[0]),nD(i[1])])}return t}function tD(e){return typeof e=="string"?new RegExp(XL(e),"g"):e}function nD(e){return typeof e=="function"?e:function(){return e}}const ph="phrasing",mh=["autolink","link","image","label"];function rD(){return{transforms:[cD],enter:{literalAutolink:sD,literalAutolinkEmail:gh,literalAutolinkHttp:gh,literalAutolinkWww:gh},exit:{literalAutolink:uD,literalAutolinkEmail:lD,literalAutolinkHttp:oD,literalAutolinkWww:aD}}}function iD(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ph,notInConstruct:mh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ph,notInConstruct:mh},{character:":",before:"[ps]",after:"\\/",inConstruct:ph,notInConstruct:mh}]}}function sD(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function gh(e){this.config.enter.autolinkProtocol.call(this,e)}function oD(e){this.config.exit.autolinkProtocol.call(this,e)}function aD(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function lD(e){this.config.exit.autolinkEmail.call(this,e)}function uD(e){this.exit(e)}function cD(e){ZL(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,dD],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),fD]],{ignore:["link","linkReference"]})}function dD(e,t,n,r,i){let o="";if(!Vk(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!hD(n)))return!1;const l=pD(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function fD(e,t,n,r){return!Vk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function hD(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function pD(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=_0(e,"(");let o=_0(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function Vk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||xs(n)||Lc(n))&&(!t||n!==47)}qk.peek=SD;function mD(){this.buffer()}function gD(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function yD(){this.buffer()}function vD(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function xD(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=br(this.sliceSerialize(e)).toLowerCase(),n.label=t}function wD(e){this.exit(e)}function bD(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=br(this.sliceSerialize(e)).toLowerCase(),n.label=t}function kD(e){this.exit(e)}function SD(){return"["}function qk(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),l(),o+=i.move("]"),o}function ED(){return{enter:{gfmFootnoteCallString:mD,gfmFootnoteCall:gD,gfmFootnoteDefinitionLabelString:yD,gfmFootnoteDefinition:vD},exit:{gfmFootnoteCallString:xD,gfmFootnoteCall:wD,gfmFootnoteDefinitionLabelString:bD,gfmFootnoteDefinition:kD}}}function _D(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:qk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const u=o.createTracker(l);let c=u.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return c+=u.move(o.safe(o.associationId(r),{before:c,after:"]"})),h(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?Yk:CD))),f(),c}}function CD(e,t,n){return t===0?e:Yk(e,t,n)}function Yk(e,t,n){return(n?"":"    ")+e}const jD=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Kk.peek=AD;function ND(){return{canContainEols:["delete"],enter:{strikethrough:ID},exit:{strikethrough:PD}}}function TD(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:jD}],handlers:{delete:Kk}}}function ID(e){this.enter({type:"delete",children:[]},e)}function PD(e){this.exit(e)}function Kk(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function AD(){return"~"}function RD(e){return e.length}function OD(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||RD,o=[],l=[],u=[],c=[];let f=0,h=-1;for(;++h<e.length;){const w=[],_=[];let E=-1;for(e[h].length>f&&(f=e[h].length);++E<e[h].length;){const j=MD(e[h][E]);if(n.alignDelimiters!==!1){const C=i(j);_[E]=C,(c[E]===void 0||C>c[E])&&(c[E]=C)}w.push(j)}l[h]=w,u[h]=_}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)o[p]=C0(r[p]);else{const w=C0(r);for(;++p<f;)o[p]=w}p=-1;const v=[],y=[];for(;++p<f;){const w=o[p];let _="",E="";w===99?(_=":",E=":"):w===108?_=":":w===114&&(E=":");let j=n.alignDelimiters===!1?1:Math.max(1,c[p]-_.length-E.length);const C=_+"-".repeat(j)+E;n.alignDelimiters!==!1&&(j=_.length+j+E.length,j>c[p]&&(c[p]=j),y[p]=j),v[p]=C}l.splice(1,0,v),u.splice(1,0,y),h=-1;const S=[];for(;++h<l.length;){const w=l[h],_=u[h];p=-1;const E=[];for(;++p<f;){const j=w[p]||"";let C="",A="";if(n.alignDelimiters!==!1){const O=c[p]-(_[p]||0),R=o[p];R===114?C=" ".repeat(O):R===99?O%2?(C=" ".repeat(O/2+.5),A=" ".repeat(O/2-.5)):(C=" ".repeat(O/2),A=C):A=" ".repeat(O)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&j==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(C),E.push(j),n.alignDelimiters!==!1&&E.push(A),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&E.push("|")}S.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return S.join(`
`)}function MD(e){return e==null?"":String(e)}function C0(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function LD(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),DD);return i(),l}function DD(e,t,n){return">"+(n?"":" ")+e}function $D(e,t){return j0(e,t.inConstruct,!0)&&!j0(e,t.notInConstruct,!1)}function j0(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function N0(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&$D(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function FD(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+t.length,r=n.indexOf(t,i);return l}function zD(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function BD(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function UD(e,t,n,r){const i=BD(n),o=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(zD(e,n)){const p=n.enter("codeIndented"),v=n.indentLines(o,WD);return p(),v}const u=n.createTracker(r),c=i.repeat(Math.max(FD(o,i)+1,3)),f=n.enter("codeFenced");let h=u.move(c);if(e.lang){const p=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...u.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...u.current()})),p()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(c),f(),h}function WD(e,t,n){return(n?"":"    ")+e}function gm(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function HD(e,t,n,r){const i=gm(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("[");return f+=c.move(n.safe(n.associationId(e),{before:f,after:"]",...c.current()})),f+=c.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),l(),f}function VD(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ja(e){return"&#x"+e.toString(16).toUpperCase()+";"}function uc(e,t,n){const r=jo(e),i=jo(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Gk.peek=qD;function Gk(e,t,n,r){const i=VD(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=uc(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ja(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=uc(r.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ja(p));const y=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+y}function qD(e,t,n){return n.options.emphasis||"*"}function YD(e,t){let n=!1;return Bc(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,pp}),!!((!e.depth||e.depth<3)&&lm(e)&&(t.options.setext||n))}function KD(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(YD(e,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),v=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),h(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const l="#".repeat(i),u=n.enter("headingAtx"),c=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Ja(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),c(),u(),f}Jk.peek=GD;function Jk(e){return e.value||""}function GD(){return"<"}Qk.peek=JD;function Qk(e,t,n,r){const i=gm(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("![");return f+=c.move(n.safe(e.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":")",...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),f+=c.move(")"),l(),f}function JD(){return"!"}Xk.peek=QD;function Xk(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const f=n.safe(e.alt,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function QD(){return"!"}Zk.peek=XD;function Zk(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],u=n.compilePattern(l);let c;if(l.atBreak)for(;c=u.exec(r);){let f=c.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(c.index+1)}}return i+r+i}function XD(){return"`"}function e1(e,t){const n=lm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}t1.peek=ZD;function t1(e,t,n,r){const i=gm(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,c;if(e1(e,n)){const h=n.stack;n.stack=[],u=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),u(),n.stack=h,p}u=n.enter("link"),c=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(c=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),c(),e.title&&(c=n.enter(`title${o}`),f+=l.move(" "+i),f+=l.move(n.safe(e.title,{before:f,after:i,...l.current()})),f+=l.move(i),c()),f+=l.move(")"),u(),f}function ZD(e,t,n){return e1(e,n)?"<":"["}n1.peek=e$;function n1(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const f=n.containerPhrasing(e,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function e$(){return"["}function ym(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function t$(e){const t=ym(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function n$(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function r1(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function r$(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?n$(n):ym(n);const u=e.ordered?l==="."?")":".":t$(n);let c=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),r1(n)===l&&h){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=u),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),f}function i$(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function s$(e,t,n,r){const i=i$(n);let o=n.bulletCurrent||ym(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);const c=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),h);return c(),f;function h(p,v,y){return v?(y?"":" ".repeat(l))+p:(y?o:o+" ".repeat(l-o.length))+p}}function o$(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),i(),l}const a$=Fc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function l$(e,t,n,r){return(e.children.some(function(l){return a$(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function u$(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}i1.peek=c$;function i1(e,t,n,r){const i=u$(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=uc(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ja(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=uc(r.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ja(p));const y=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+y}function c$(e,t,n){return n.options.strong||"*"}function d$(e,t,n,r){return n.safe(e.value,r)}function f$(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function h$(e,t,n){const r=(r1(n)+(n.options.ruleSpaces?" ":"")).repeat(f$(n));return n.options.ruleSpaces?r.slice(0,-1):r}const s1={blockquote:LD,break:N0,code:UD,definition:HD,emphasis:Gk,hardBreak:N0,heading:KD,html:Jk,image:Qk,imageReference:Xk,inlineCode:Zk,link:t1,linkReference:n1,list:r$,listItem:s$,paragraph:o$,root:l$,strong:i1,text:d$,thematicBreak:h$};function p$(){return{enter:{table:m$,tableData:T0,tableHeader:T0,tableRow:y$},exit:{codeText:v$,table:g$,tableData:yh,tableHeader:yh,tableRow:yh}}}function m$(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function g$(e){this.exit(e),this.data.inTable=void 0}function y$(e){this.enter({type:"tableRow",children:[]},e)}function yh(e){this.exit(e)}function T0(e){this.enter({type:"tableCell",children:[]},e)}function v$(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,x$));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function x$(e,t){return t==="|"?t:e}function w$(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:l,tableCell:c,tableRow:u}};function l(y,S,w,_){return f(h(y,w,_),y.align)}function u(y,S,w,_){const E=p(y,w,_),j=f([E]);return j.slice(0,j.indexOf(`
`))}function c(y,S,w,_){const E=w.enter("tableCell"),j=w.enter("phrasing"),C=w.containerPhrasing(y,{..._,before:o,after:o});return j(),E(),C}function f(y,S){return OD(y,{align:S,alignDelimiters:r,padding:n,stringLength:i})}function h(y,S,w){const _=y.children;let E=-1;const j=[],C=S.enter("table");for(;++E<_.length;)j[E]=p(_[E],S,w);return C(),j}function p(y,S,w){const _=y.children;let E=-1;const j=[],C=S.enter("tableRow");for(;++E<_.length;)j[E]=c(_[E],y,S,w);return C(),j}function v(y,S,w){let _=s1.inlineCode(y,S,w);return w.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function b$(){return{exit:{taskListCheckValueChecked:I0,taskListCheckValueUnchecked:I0,paragraph:S$}}}function k$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:E$}}}function I0(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function S$(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,l;for(;++o<i.length;){const u=i[o];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function E$(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(l);let c=s1.listItem(e,t,n,{...r,...u.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(h){return h+l}}function _$(){return[rD(),ED(),ND(),p$(),b$()]}function C$(e){return{extensions:[iD(),_D(e),TD(),w$(e),k$()]}}const j$={tokenize:R$,partial:!0},o1={tokenize:O$,partial:!0},a1={tokenize:M$,partial:!0},l1={tokenize:L$,partial:!0},N$={tokenize:D$,partial:!0},u1={name:"wwwAutolink",tokenize:P$,previous:d1},c1={name:"protocolAutolink",tokenize:A$,previous:f1},si={name:"emailAutolink",tokenize:I$,previous:h1},Ur={};function T$(){return{text:Ur}}let is=48;for(;is<123;)Ur[is]=si,is++,is===58?is=65:is===91&&(is=97);Ur[43]=si;Ur[45]=si;Ur[46]=si;Ur[95]=si;Ur[72]=[si,c1];Ur[104]=[si,c1];Ur[87]=[si,u1];Ur[119]=[si,u1];function I$(e,t,n){const r=this;let i,o;return l;function l(p){return!vp(p)||!h1.call(r,r.previous)||vm(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(p))}function u(p){return vp(p)?(e.consume(p),u):p===64?(e.consume(p),c):n(p)}function c(p){return p===46?e.check(N$,h,f)(p):p===45||p===95||pn(p)?(o=!0,e.consume(p),c):h(p)}function f(p){return e.consume(p),i=!0,c}function h(p){return o&&i&&bn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function P$(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!d1.call(r,r.previous)||vm(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(j$,e.attempt(o1,e.attempt(a1,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function A$(e,t,n){const r=this;let i="",o=!1;return l;function l(p){return(p===72||p===104)&&f1.call(r,r.previous)&&!vm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),u):n(p)}function u(p){if(bn(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),u;if(p===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(p),c}return n(p)}function c(p){return p===47?(e.consume(p),o?f:(o=!0,c)):n(p)}function f(p){return p===null||oc(p)||ht(p)||xs(p)||Lc(p)?n(p):e.attempt(o1,e.attempt(a1,h),n)(p)}function h(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function R$(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function O$(e,t,n){let r,i,o;return l;function l(f){return f===46||f===95?e.check(l1,c,u)(f):f===null||ht(f)||xs(f)||f!==45&&Lc(f)?c(f):(o=!0,e.consume(f),l)}function u(f){return f===95?r=!0:(i=r,r=void 0),e.consume(f),l}function c(f){return i||r||!o?n(f):t(f)}}function M$(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(l1,t,o)(l):l===null||ht(l)||xs(l)?t(l):(e.consume(l),i)}function o(l){return l===41&&r++,e.consume(l),i}}function L$(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),i):u===60||u===null||ht(u)||xs(u)?t(u):n(u)}function i(u){return u===null||u===40||u===91||ht(u)||xs(u)?t(u):r(u)}function o(u){return bn(u)?l(u):n(u)}function l(u){return u===59?(e.consume(u),r):bn(u)?(e.consume(u),l):n(u)}}function D$(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return pn(o)?n(o):t(o)}}function d1(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ht(e)}function f1(e){return!bn(e)}function h1(e){return!(e===47||vp(e))}function vp(e){return e===43||e===45||e===46||e===95||pn(e)}function vm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const $$={tokenize:q$,partial:!0};function F$(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:W$,continuation:{tokenize:H$},exit:V$}},text:{91:{name:"gfmFootnoteCall",tokenize:U$},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:z$,resolveTo:B$}}}}function z$(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!l||!l._balanced)return n(c);const f=br(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function B$(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function U$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return u;function u(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(o>999||p===93&&!l||p===null||p===91||ht(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(br(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return ht(p)||(l=!0),o++,e.consume(p),p===92?h:f}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function W$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,u;return c;function c(S){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(S){return S===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(S)}function h(S){if(l>999||S===93&&!u||S===null||S===91||ht(S))return n(S);if(S===93){e.exit("chunkString");const w=e.exit("gfmFootnoteDefinitionLabelString");return o=br(r.sliceSerialize(w)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return ht(S)||(u=!0),l++,e.consume(S),S===92?p:h}function p(S){return S===91||S===92||S===93?(e.consume(S),l++,h):h(S)}function v(S){return S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),i.includes(o)||i.push(o),et(e,y,"gfmFootnoteDefinitionWhitespace")):n(S)}function y(S){return t(S)}}function H$(e,t,n){return e.check(ll,t,e.attempt($$,t,n))}function V$(e){e.exit("gfmFootnoteDefinition")}function q$(e,t,n){const r=this;return et(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function Y$(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,u){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let f=c;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[c][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[c][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[c][1].start)},v=[["enter",h,u],["enter",l[f][1],u],["exit",l[f][1],u],["enter",p,u]],y=u.parser.constructs.insideSpan.null;y&&Kn(v,v.length,0,Dc(y,l.slice(f+1,c),u)),Kn(v,v.length,0,[["exit",p,u],["enter",l[c][1],u],["exit",l[c][1],u],["exit",h,u]]),Kn(l,f-1,c-f+3,v),c=f+v.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}function o(l,u,c){const f=this.previous,h=this.events;let p=0;return v;function v(S){return f===126&&h[h.length-1][1].type!=="characterEscape"?c(S):(l.enter("strikethroughSequenceTemporary"),y(S))}function y(S){const w=jo(f);if(S===126)return p>1?c(S):(l.consume(S),p++,y);if(p<2&&!n)return c(S);const _=l.exit("strikethroughSequenceTemporary"),E=jo(S);return _._open=!E||E===2&&!!w,_._close=!w||w===2&&!!E,u(S)}}}class K${constructor(){this.map=[]}add(t,n,r){G$(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function G$(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function J$(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Q$(){return{flow:{null:{name:"table",tokenize:X$,resolveAll:Z$}}}}function X$(e,t,n){const r=this;let i=0,o=0,l;return u;function u(L){let $=r.events.length-1;for(;$>-1;){const V=r.events[$][1].type;if(V==="lineEnding"||V==="linePrefix")$--;else break}const Q=$>-1?r.events[$][1].type:null,q=Q==="tableHead"||Q==="tableRow"?R:c;return q===R&&r.parser.lazy[r.now().line]?n(L):q(L)}function c(L){return e.enter("tableHead"),e.enter("tableRow"),f(L)}function f(L){return L===124||(l=!0,o+=1),h(L)}function h(L){return L===null?n(L):De(L)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),y):n(L):Je(L)?et(e,h,"whitespace")(L):(o+=1,l&&(l=!1,i+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),l=!0,h):(e.enter("data"),p(L)))}function p(L){return L===null||L===124||ht(L)?(e.exit("data"),h(L)):(e.consume(L),L===92?v:p)}function v(L){return L===92||L===124?(e.consume(L),p):p(L)}function y(L){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(L):(e.enter("tableDelimiterRow"),l=!1,Je(L)?et(e,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):S(L))}function S(L){return L===45||L===58?_(L):L===124?(l=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),w):O(L)}function w(L){return Je(L)?et(e,_,"whitespace")(L):_(L)}function _(L){return L===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),E):L===45?(o+=1,E(L)):L===null||De(L)?A(L):O(L)}function E(L){return L===45?(e.enter("tableDelimiterFiller"),j(L)):O(L)}function j(L){return L===45?(e.consume(L),j):L===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),C):(e.exit("tableDelimiterFiller"),C(L))}function C(L){return Je(L)?et(e,A,"whitespace")(L):A(L)}function A(L){return L===124?S(L):L===null||De(L)?!l||i!==o?O(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):O(L)}function O(L){return n(L)}function R(L){return e.enter("tableRow"),z(L)}function z(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),z):L===null||De(L)?(e.exit("tableRow"),t(L)):Je(L)?et(e,z,"whitespace")(L):(e.enter("data"),re(L))}function re(L){return L===null||L===124||ht(L)?(e.exit("data"),z(L)):(e.consume(L),L===92?X:re)}function X(L){return L===92||L===124?(e.consume(L),re):re(L)}}function Z$(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,c=0,f,h,p;const v=new K$;for(;++n<e.length;){const y=e[n],S=y[1];y[0]==="enter"?S.type==="tableHead"?(u=!1,c!==0&&(P0(v,t,c,f,h),h=void 0,c=0),f={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},v.add(n,0,[["enter",f,t]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(r=!0,p=void 0,o=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},v.add(n,0,[["enter",h,t]])),i=S.type==="tableDelimiterRow"?2:h?3:1):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],p=Au(v,t,o,i,void 0,p),o=[0,0,0,0]),l[2]=n)):S.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],p=Au(v,t,o,i,void 0,p)),o=l,l=[o[1],n,0,0])):S.type==="tableHead"?(u=!0,c=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(c=n,o[1]!==0?(l[0]=l[1],p=Au(v,t,o,i,n,p)):l[1]!==0&&(p=Au(v,t,l,i,n,p)),i=0):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(l[3]=n)}for(c!==0&&P0(v,t,c,f,h),v.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=J$(t.events,n))}return e}function Au(e,t,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},ho(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=ho(t.events,n[1]);if(o={type:l,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=ho(t.events,n[2]),h=ho(t.events,n[3]),p={type:u,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const v=t.events[n[2]],y=t.events[n[3]];if(v[1].end=Object.assign({},y[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,w=n[3]-n[2]-1;e.add(S,w,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(o.end=Object.assign({},ho(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function P0(e,t,n,r,i){const o=[],l=ho(t.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function ho(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const e4={name:"tasklistCheck",tokenize:n4};function t4(){return{text:{91:e4}}}function n4(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return ht(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),l):n(c)}function l(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(c)}function u(c){return De(c)?t(c):Je(c)?e.check({tokenize:r4},t,n)(c):n(c)}}function r4(e,t,n){return et(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function i4(e){return Ek([T$(),F$(),Y$(e),Q$(),t4()])}const s4={};function o4(e){const t=this,n=e||s4,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(i4(n)),o.push(_$()),l.push(C$(n))}const a4=e=>e!=null;function l4(){const e=Ee(t=>t.works);return k.useMemo(()=>{const t=new Map;e.forEach(o=>{var c;const l=(c=o.name)==null?void 0:c.trim();if(!l)return;const u=t.get(l)??[];u.push(o),t.set(l,u)});const n=new Map,r=new Map;t.forEach((o,l)=>{o.length===1?n.set(l,o[0]):o.length>1&&r.set(l,o.filter(a4))});const i=Array.from(n.entries()).map(([o,l])=>({name:o,work:l}));return i.sort((o,l)=>l.name.length-o.name.length||o.name.localeCompare(l.name,"es")),{uniqueByName:n,duplicates:r,entries:i}},[e])}const u4=new RegExp("\\p{L}|\\p{N}","u"),A0=e=>e?u4.test(e):!1,c4=(e,t,n)=>{const r=t===0?void 0:e[t-1],i=n>=e.length?void 0:e[n];return!A0(r)&&!A0(i)},d4=(e,t)=>{const n=[];t.forEach(o=>{let l=0;for(;l<e.length;){const u=e.indexOf(o.name,l);if(u===-1)break;const c=u+o.name.length;c4(e,u,c)&&n.push({start:u,end:c,entry:o}),l=u+o.name.length}}),n.sort((o,l)=>o.start!==l.start?o.start-l.start:l.entry.name.length-o.entry.name.length);const r=[];let i=-1;return n.forEach(o=>{o.start<i||(r.push(o),i=o.end)}),r},f4=e=>e?new Set(["link","linkReference","definition","inlineCode","code"]).has(e.type):!0,h4=e=>{const t=(e==null?void 0:e.entries)??[];return t.length===0?()=>{}:n=>{Bc(n,"text",(r,i,o)=>{if(f4(o)||typeof i!="number"||!o)return;const u=r.value;if(!u)return;const c=d4(u,t);if(c.length===0)return;const f=[];let h=0;c.forEach(p=>{p.start>h&&f.push({type:"text",value:u.slice(h,p.start)}),f.push({type:"link",title:null,url:p.entry.href,children:[{type:"text",value:p.entry.name}]}),h=p.end}),h<u.length&&f.push({type:"text",value:u.slice(h)}),o.children.splice(i,1,...f)})}},p4=e=>{var f,h,p;const t="/sport-planner/".replace(/\/$/,""),r=`${t?`${t}/`:"/"}#/`,i=((f=e.href)==null?void 0:f.startsWith("#/"))??!1,o=((h=e.href)==null?void 0:h.startsWith(r))??!1,l=(((p=e.href)==null?void 0:p.startsWith("/"))??!1)||i||o,u=l?e.rel:e.rel??"noreferrer",c=l?e.target:e.target??"_blank";return g.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:c,rel:u})},m4=e=>g.jsx("ul",{...e,className:Re("my-2 list-disc space-y-1 pl-6",e.className)}),g4=e=>g.jsx("ol",{...e,className:Re("my-2 list-decimal space-y-1 pl-6",e.className)}),y4=e=>g.jsx("li",{...e,className:Re("leading-relaxed",e.className)});function v4(e){const t=e.trim(),n=t.match(/^(["'])(.*)(["'])$/s);return n?n[2].trim():t}function x4(e){var l;const n=v4(e.trim()).match(/^\[!([^\]]+)\]([+-])?\s*(.*)$/i);if(!n)return null;const r=n[1].toLowerCase(),o=(((l=n[3])==null?void 0:l.trim())??"")||r;return{type:r,title:o}}function p1(e){return typeof e=="object"&&e!==null&&"props"in e&&"type"in e}function xp(e){return e==null||typeof e=="boolean"?"":typeof e=="string"||typeof e=="number"?String(e):Array.isArray(e)?e.map(xp).join(""):p1(e)?xp(e.props.children):""}const R0={danger:{icon:"",containerClassName:"border-rose-500/25 bg-rose-500/10",titleClassName:"text-rose-200"},warning:{icon:"",containerClassName:"border-amber-500/25 bg-amber-500/10",titleClassName:"text-amber-200"},info:{icon:"",containerClassName:"border-sky-500/25 bg-sky-500/10",titleClassName:"text-sky-200"},note:{icon:"",containerClassName:"border-indigo-500/25 bg-indigo-500/10",titleClassName:"text-indigo-200"},tip:{icon:"",containerClassName:"border-emerald-500/25 bg-emerald-500/10",titleClassName:"text-emerald-200"}},w4=e=>{const{node:t,children:n,...r}=e,i=Array.isArray(n)?n:[n],o=i.findIndex(p=>p1(p)&&p.type==="p"),l=o>=0?i[o]:void 0,u=xp(l).trim(),c=x4(u);if(!c)return g.jsx("blockquote",{...r,children:n});const f=R0[c.type]??R0.info,h=i.filter((p,v)=>v!==o);return g.jsxs("aside",{className:Re("my-4 rounded-2xl border p-5",f.containerClassName),children:[g.jsxs("div",{className:Re("flex items-center gap-2 text-lg font-semibold",f.titleClassName),children:[g.jsx("span",{"aria-hidden":"true",children:f.icon}),g.jsx("span",{children:c.title})]}),g.jsx("div",{className:"mt-3",children:h})]})},b4={a:p4,blockquote:w4,ul:m4,ol:g4,li:y4};function ws({content:e,enableWorkLinks:t=!1}){const{entries:n}=l4(),r=k.useMemo(()=>{if(!t||n.length===0)return null;const o="/sport-planner/".replace(/\/$/,""),u=`${o?`${o}/`:"/"}#/catalog`;return{entries:n.map(({name:c,work:f})=>({name:c,href:`${u}?workId=${encodeURIComponent(f.id)}`}))}},[t,n]),i=k.useMemo(()=>{const o=[o4];return r&&o.push([h4,r]),o},[r]);return e?g.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:g.jsx(YL,{remarkPlugins:i,components:b4,children:e})}):null}function O0(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\\d+(\\.\\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\\d+:)+\\d+$/.test(t)){const r=t.split(":").map(i=>Number(i));return r.some(i=>Number.isNaN(i))?null:r.reduce((i,o)=>i*60+o,0)}const n=t.match(/^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,i=n[2]?Number(n[2]):0,o=n[3]?Number(n[3]):0;if(r||i||o)return r*3600+i*60+o}return null}function k4(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const i=new URL(`https://www.youtube-nocookie.com/embed/${r}`),o=O0(t.searchParams.get("start")??t.searchParams.get("t"));o!==null&&i.searchParams.set("start",String(o));const l=O0(t.searchParams.get("end"));l!==null&&i.searchParams.set("end",String(l));const u=t.searchParams.get("list");return u&&i.searchParams.set("list",u),i.toString()}catch{return null}}function Uc({url:e,title:t,maxWidth:n=300,className:r}){const i=e.trim();if(!i)return null;const o=k4(i);return o?g.jsx("div",{className:Re("flex w-full justify-center",r),children:g.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:g.jsx("iframe",{src:o,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):g.jsx("div",{className:Re("flex w-full justify-center",r),children:g.jsx("a",{href:i,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function S4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Wc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function xm(e){return"nodeType"in e}function Dn(e){var t,n;return e?Lo(e)?e:xm(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function wm(e){const{Document:t}=Dn(e);return e instanceof t}function cl(e){return Lo(e)?!1:e instanceof Dn(e).HTMLElement}function m1(e){return e instanceof Dn(e).SVGElement}function Do(e){return e?Lo(e)?e.document:xm(e)?wm(e)?e:cl(e)||m1(e)?e.ownerDocument:document:document:document}const Fr=Wc?k.useLayoutEffect:k.useEffect;function bm(e){const t=k.useRef(e);return Fr(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function E4(){const e=k.useRef(null),t=k.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Qa(e,t){t===void 0&&(t=[e]);const n=k.useRef(e);return Fr(()=>{n.current!==e&&(n.current=e)},t),n}function dl(e,t){const n=k.useRef();return k.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function cc(e){const t=bm(e),n=k.useRef(null),r=k.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function wp(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let vh={};function fl(e,t){return k.useMemo(()=>{if(t)return t;const n=vh[e]==null?0:vh[e]+1;return vh[e]=n,e+"-"+n},[e,t])}function g1(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[c,f]of u){const h=o[c];h!=null&&(o[c]=h+e*f)}return o},{...t})}}const bo=g1(1),dc=g1(-1);function _4(e){return"clientX"in e&&"clientY"in e}function km(e){if(!e)return!1;const{KeyboardEvent:t}=Dn(e.target);return t&&e instanceof t}function C4(e){if(!e)return!1;const{TouchEvent:t}=Dn(e.target);return t&&e instanceof t}function bp(e){if(C4(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return _4(e)?{x:e.clientX,y:e.clientY}:null}const Xa=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Xa.Translate.toString(e),Xa.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),M0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function j4(e){return e.matches(M0)?e:e.querySelector(M0)}const N4={display:"none"};function T4(e){let{id:t,value:n}=e;return Se.createElement("div",{id:t,style:N4},n)}function I4(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Se.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function P4(){const[e,t]=k.useState("");return{announce:k.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const y1=k.createContext(null);function A4(e){const t=k.useContext(y1);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function R4(){const[e]=k.useState(()=>new Set),t=k.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[k.useCallback(r=>{let{type:i,event:o}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,o)})},[e]),t]}const O4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},M4={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function L4(e){let{announcements:t=M4,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=O4}=e;const{announce:o,announcement:l}=P4(),u=fl("DndLiveRegion"),[c,f]=k.useState(!1);if(k.useEffect(()=>{f(!0)},[]),A4(k.useMemo(()=>({onDragStart(p){let{active:v}=p;o(t.onDragStart({active:v}))},onDragMove(p){let{active:v,over:y}=p;t.onDragMove&&o(t.onDragMove({active:v,over:y}))},onDragOver(p){let{active:v,over:y}=p;o(t.onDragOver({active:v,over:y}))},onDragEnd(p){let{active:v,over:y}=p;o(t.onDragEnd({active:v,over:y}))},onDragCancel(p){let{active:v,over:y}=p;o(t.onDragCancel({active:v,over:y}))}}),[o,t])),!c)return null;const h=Se.createElement(Se.Fragment,null,Se.createElement(T4,{id:r,value:i.draggable}),Se.createElement(I4,{id:u,announcement:l}));return n?qn.createPortal(h,n):h}var Yt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Yt||(Yt={}));function fc(){}const Er=Object.freeze({x:0,y:0});function D4(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function F4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function z4(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function L0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const B4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=L0(t,t.left,t.top),o=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const f=D4(L0(c),i);o.push({id:u,data:{droppableContainer:l,value:f}})}}return o.sort($4)};function U4(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=o-n;if(r<i&&n<o){const c=t.width*t.height,f=e.width*e.height,h=l*u,p=h/(c+f-h);return Number(p.toFixed(4))}return 0}const W4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const c=U4(u,t);c>0&&i.push({id:l,data:{droppableContainer:o,value:c}})}}return i.sort(F4)};function H4(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function v1(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Er}function V4(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const q4=V4(1);function Y4(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function K4(e,t,n){const r=Y4(t);if(!r)return e;const{scaleX:i,scaleY:o,x:l,y:u}=r,c=e.left-l-(1-i)*parseFloat(n),f=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?e.width/i:e.width,p=o?e.height/o:e.height;return{width:h,height:p,top:f,right:c+h,bottom:f+p,left:c}}const G4={ignoreTransform:!1};function $o(e,t){t===void 0&&(t=G4);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=Dn(e).getComputedStyle(e);f&&(n=K4(n,f,h))}const{top:r,left:i,width:o,height:l,bottom:u,right:c}=n;return{top:r,left:i,width:o,height:l,bottom:u,right:c}}function D0(e){return $o(e,{ignoreTransform:!0})}function J4(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Q4(e,t){return t===void 0&&(t=Dn(e).getComputedStyle(e)),t.position==="fixed"}function X4(e,t){t===void 0&&(t=Dn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function Sm(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(wm(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!cl(i)||m1(i)||n.includes(i))return n;const o=Dn(e).getComputedStyle(i);return i!==e&&X4(i,o)&&n.push(i),Q4(i,o)?n:r(i.parentNode)}return e?r(e):n}function x1(e){const[t]=Sm(e,1);return t??null}function xh(e){return!Wc||!e?null:Lo(e)?e:xm(e)?wm(e)||e===Do(e).scrollingElement?window:cl(e)?e:null:null}function w1(e){return Lo(e)?e.scrollX:e.scrollLeft}function b1(e){return Lo(e)?e.scrollY:e.scrollTop}function kp(e){return{x:w1(e),y:b1(e)}}var Zt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Zt||(Zt={}));function k1(e){return!Wc||!e?!1:e===document.scrollingElement}function S1(e){const t={x:0,y:0},n=k1(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const Z4={x:.2,y:.2};function eF(e,t,n,r,i){let{top:o,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=Z4);const{isTop:f,isBottom:h,isLeft:p,isRight:v}=S1(e),y={x:0,y:0},S={x:0,y:0},w={height:t.height*i.y,width:t.width*i.x};return!f&&o<=t.top+w.height?(y.y=Zt.Backward,S.y=r*Math.abs((t.top+w.height-o)/w.height)):!h&&c>=t.bottom-w.height&&(y.y=Zt.Forward,S.y=r*Math.abs((t.bottom-w.height-c)/w.height)),!v&&u>=t.right-w.width?(y.x=Zt.Forward,S.x=r*Math.abs((t.right-w.width-u)/w.width)):!p&&l<=t.left+w.width&&(y.x=Zt.Backward,S.x=r*Math.abs((t.left+w.width-l)/w.width)),{direction:y,speed:S}}function tF(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function E1(e){return e.reduce((t,n)=>bo(t,kp(n)),Er)}function nF(e){return e.reduce((t,n)=>t+w1(n),0)}function rF(e){return e.reduce((t,n)=>t+b1(n),0)}function iF(e,t){if(t===void 0&&(t=$o),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);x1(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const sF=[["x",["left","right"],nF],["y",["top","bottom"],rF]];class Em{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Sm(n),i=E1(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,u]of sF)for(const c of l)Object.defineProperty(this,c,{get:()=>{const f=u(r),h=i[o]-f;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $a{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function oF(e){const{EventTarget:t}=Dn(e);return e instanceof t?e:Do(e)}function wh(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ir;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ir||(ir={}));function $0(e){e.preventDefault()}function aF(e){e.stopPropagation()}var ot;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ot||(ot={}));const _1={start:[ot.Space,ot.Enter],cancel:[ot.Esc],end:[ot.Space,ot.Enter,ot.Tab]},lF=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ot.Right:return{...n,x:n.x+25};case ot.Left:return{...n,x:n.x-25};case ot.Down:return{...n,y:n.y+25};case ot.Up:return{...n,y:n.y-25}}};class C1{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new $a(Do(n)),this.windowListeners=new $a(Dn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ir.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&iF(r),n(Er)}handleKeyDown(t){if(km(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=_1,coordinateGetter:l=lF,scrollBehavior:u="smooth"}=i,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:Er;this.referenceCoordinates||(this.referenceCoordinates=h);const p=l(t,{active:n,context:r.current,currentCoordinates:h});if(p){const v=dc(p,h),y={x:0,y:0},{scrollableAncestors:S}=r.current;for(const w of S){const _=t.code,{isTop:E,isRight:j,isLeft:C,isBottom:A,maxScroll:O,minScroll:R}=S1(w),z=tF(w),re={x:Math.min(_===ot.Right?z.right-z.width/2:z.right,Math.max(_===ot.Right?z.left:z.left+z.width/2,p.x)),y:Math.min(_===ot.Down?z.bottom-z.height/2:z.bottom,Math.max(_===ot.Down?z.top:z.top+z.height/2,p.y))},X=_===ot.Right&&!j||_===ot.Left&&!C,L=_===ot.Down&&!A||_===ot.Up&&!E;if(X&&re.x!==p.x){const $=w.scrollLeft+v.x,Q=_===ot.Right&&$<=O.x||_===ot.Left&&$>=R.x;if(Q&&!v.y){w.scrollTo({left:$,behavior:u});return}Q?y.x=w.scrollLeft-$:y.x=_===ot.Right?w.scrollLeft-O.x:w.scrollLeft-R.x,y.x&&w.scrollBy({left:-y.x,behavior:u});break}else if(L&&re.y!==p.y){const $=w.scrollTop+v.y,Q=_===ot.Down&&$<=O.y||_===ot.Up&&$>=R.y;if(Q&&!v.x){w.scrollTo({top:$,behavior:u});return}Q?y.y=w.scrollTop-$:y.y=_===ot.Down?w.scrollTop-O.y:w.scrollTop-R.y,y.y&&w.scrollBy({top:-y.y,behavior:u});break}}this.handleMove(t,bo(dc(p,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}C1.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=_1,onActivation:i}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function F0(e){return!!(e&&"distance"in e)}function z0(e){return!!(e&&"delay"in e)}class _m{constructor(t,n,r){var i;r===void 0&&(r=oF(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Do(l),this.documentListeners=new $a(this.document),this.listeners=new $a(r),this.windowListeners=new $a(Dn(l)),this.initialCoordinates=(i=bp(o))!=null?i:Er,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.DragStart,$0),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),this.windowListeners.add(ir.ContextMenu,$0),this.documentListeners.add(ir.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(z0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(F0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ir.Click,aF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ir.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!i)return;const c=(n=bp(t))!=null?n:Er,f=dc(i,c);if(!r&&u){if(F0(u)){if(u.tolerance!=null&&wh(f,u.tolerance))return this.handleCancel();if(wh(f,u.distance))return this.handleStart()}if(z0(u)&&wh(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ot.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const uF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class j1 extends _m{constructor(t){const{event:n}=t,r=Do(n.target);super(t,uF,r)}}j1.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const cF={move:{name:"mousemove"},end:{name:"mouseup"}};var Sp;(function(e){e[e.RightClick=2]="RightClick"})(Sp||(Sp={}));class dF extends _m{constructor(t){super(t,cF,Do(t.event.target))}}dF.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Sp.RightClick?!1:(r==null||r({event:n}),!0)}}];const bh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class fF extends _m{constructor(t){super(t,bh)}static setup(){return window.addEventListener(bh.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(bh.move.name,t)};function t(){}}}fF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Fa;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fa||(Fa={}));var hc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(hc||(hc={}));function hF(e){let{acceleration:t,activator:n=Fa.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:l=5,order:u=hc.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:h,delta:p,threshold:v}=e;const y=mF({delta:p,disabled:!o}),[S,w]=E4(),_=k.useRef({x:0,y:0}),E=k.useRef({x:0,y:0}),j=k.useMemo(()=>{switch(n){case Fa.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Fa.DraggableRect:return i}},[n,i,c]),C=k.useRef(null),A=k.useCallback(()=>{const R=C.current;if(!R)return;const z=_.current.x*E.current.x,re=_.current.y*E.current.y;R.scrollBy(z,re)},[]),O=k.useMemo(()=>u===hc.TreeOrder?[...f].reverse():f,[u,f]);k.useEffect(()=>{if(!o||!f.length||!j){w();return}for(const R of O){if((r==null?void 0:r(R))===!1)continue;const z=f.indexOf(R),re=h[z];if(!re)continue;const{direction:X,speed:L}=eF(R,re,j,t,v);for(const $ of["x","y"])y[$][X[$]]||(L[$]=0,X[$]=0);if(L.x>0||L.y>0){w(),C.current=R,S(A,l),_.current=L,E.current=X;return}}_.current={x:0,y:0},E.current={x:0,y:0},w()},[t,A,r,w,o,l,JSON.stringify(j),JSON.stringify(y),S,f,O,h,JSON.stringify(v)])}const pF={x:{[Zt.Backward]:!1,[Zt.Forward]:!1},y:{[Zt.Backward]:!1,[Zt.Forward]:!1}};function mF(e){let{delta:t,disabled:n}=e;const r=wp(t);return dl(i=>{if(n||!r||!i)return pF;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Zt.Backward]:i.x[Zt.Backward]||o.x===-1,[Zt.Forward]:i.x[Zt.Forward]||o.x===1},y:{[Zt.Backward]:i.y[Zt.Backward]||o.y===-1,[Zt.Forward]:i.y[Zt.Forward]||o.y===1}}},[n,t,r])}function gF(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return dl(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function yF(e,t){return k.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...o]},[]),[e,t])}var Za;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Za||(Za={}));var Ep;(function(e){e.Optimized="optimized"})(Ep||(Ep={}));const B0=new Map;function vF(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,l]=k.useState(null),{frequency:u,measure:c,strategy:f}=i,h=k.useRef(e),p=_(),v=Qa(p),y=k.useCallback(function(E){E===void 0&&(E=[]),!v.current&&l(j=>j===null?E:j.concat(E.filter(C=>!j.includes(C))))},[v]),S=k.useRef(null),w=dl(E=>{if(p&&!n)return B0;if(!E||E===B0||h.current!==e||o!=null){const j=new Map;for(let C of e){if(!C)continue;if(o&&o.length>0&&!o.includes(C.id)&&C.rect.current){j.set(C.id,C.rect.current);continue}const A=C.node.current,O=A?new Em(c(A),A):null;C.rect.current=O,O&&j.set(C.id,O)}return j}return E},[e,o,n,p,c]);return k.useEffect(()=>{h.current=e},[e]),k.useEffect(()=>{p||y()},[n,p]),k.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),k.useEffect(()=>{p||typeof u!="number"||S.current!==null||(S.current=setTimeout(()=>{y(),S.current=null},u))},[u,p,y,...r]),{droppableRects:w,measureDroppableContainers:y,measuringScheduled:o!=null};function _(){switch(f){case Za.Always:return!1;case Za.BeforeDragging:return n;default:return!n}}}function N1(e,t){return dl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function xF(e,t){return N1(e,t)}function wF(e){let{callback:t,disabled:n}=e;const r=bm(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Hc(e){let{callback:t,disabled:n}=e;const r=bm(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function bF(e){return new Em($o(e),e)}function U0(e,t,n){t===void 0&&(t=bF);const[r,i]=k.useState(null);function o(){i(c=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=c??n)!=null?f:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const l=wF({callback(c){if(e)for(const f of c){const{type:h,target:p}=f;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){o();break}}}}),u=Hc({callback:o});return Fr(()=>{o(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function kF(e){const t=N1(e);return v1(e,t)}const W0=[];function SF(e){const t=k.useRef(e),n=dl(r=>e?r&&r!==W0&&e&&t.current&&e.parentNode===t.current.parentNode?r:Sm(e):W0,[e]);return k.useEffect(()=>{t.current=e},[e]),n}function EF(e){const[t,n]=k.useState(null),r=k.useRef(e),i=k.useCallback(o=>{const l=xh(o.target);l&&n(u=>u?(u.set(l,kp(l)),new Map(u)):null)},[]);return k.useEffect(()=>{const o=r.current;if(e!==o){l(o);const u=e.map(c=>{const f=xh(c);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,kp(f)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(o)};function l(u){u.forEach(c=>{const f=xh(c);f==null||f.removeEventListener("scroll",i)})}},[i,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>bo(o,l),Er):E1(e):Er,[e,t])}function H0(e,t){t===void 0&&(t=[]);const n=k.useRef(null);return k.useEffect(()=>{n.current=null},t),k.useEffect(()=>{const r=e!==Er;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?dc(e,n.current):Er}function _F(e){k.useEffect(()=>{if(!Wc)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function CF(e,t){return k.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=l=>{o(l,t)},n},{}),[e,t])}function T1(e){return k.useMemo(()=>e?J4(e):null,[e])}const V0=[];function jF(e,t){t===void 0&&(t=$o);const[n]=e,r=T1(n?Dn(n):null),[i,o]=k.useState(V0);function l(){o(()=>e.length?e.map(c=>k1(c)?r:new Em(t(c),c)):V0)}const u=Hc({callback:l});return Fr(()=>{u==null||u.disconnect(),l(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),i}function NF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return cl(t)?t:e}function TF(e){let{measure:t}=e;const[n,r]=k.useState(null),i=k.useCallback(f=>{for(const{target:h}of f)if(cl(h)){r(p=>{const v=t(h);return p?{...p,width:v.width,height:v.height}:v});break}},[t]),o=Hc({callback:i}),l=k.useCallback(f=>{const h=NF(f);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[u,c]=cc(l);return k.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const IF=[{sensor:j1,options:{}},{sensor:C1,options:{}}],PF={current:{}},Uu={draggable:{measure:D0},droppable:{measure:D0,strategy:Za.WhileDragging,frequency:Ep.Optimized},dragOverlay:{measure:$o}};class za extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const AF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new za,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uu,measureDroppableContainers:fc,windowRect:null,measuringScheduled:!1},RF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fc,draggableNodes:new Map,over:null,measureDroppableContainers:fc},Vc=k.createContext(RF),I1=k.createContext(AF);function OF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new za}}}function MF(e,t){switch(t.type){case Yt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Yt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Yt.DragEnd:case Yt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Yt.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new za(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Yt.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new za(e.droppable.containers);return l.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case Yt.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new za(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function LF(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=k.useContext(Vc),o=wp(r),l=wp(n==null?void 0:n.id);return k.useEffect(()=>{if(!t&&!r&&o&&l!=null){if(!km(o)||document.activeElement===o.target)return;const u=i.get(l);if(!u)return;const{activatorNode:c,node:f}=u;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[c.current,f.current]){if(!h)continue;const p=j4(h);if(p){p.focus();break}}})}},[r,t,i,l,o]),null}function DF(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function $F(e){return k.useMemo(()=>({draggable:{...Uu.draggable,...e==null?void 0:e.draggable},droppable:{...Uu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Uu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function FF(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=k.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;Fr(()=>{if(!l&&!u||!t){o.current=!1;return}if(o.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),p=v1(h,r);if(l||(p.x=0),u||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=x1(f);v&&v.scrollBy({top:p.y,left:p.x})}},[t,l,u,r,n])}const P1=k.createContext({...Er,scaleX:1,scaleY:1});var Ti;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ti||(Ti={}));const zF=k.memo(function(t){var n,r,i,o;let{id:l,accessibility:u,autoScroll:c=!0,children:f,sensors:h=IF,collisionDetection:p=W4,measuring:v,modifiers:y,...S}=t;const w=k.useReducer(MF,void 0,OF),[_,E]=w,[j,C]=R4(),[A,O]=k.useState(Ti.Uninitialized),R=A===Ti.Initialized,{draggable:{active:z,nodes:re,translate:X},droppable:{containers:L}}=_,$=z!=null?re.get(z):null,Q=k.useRef({initial:null,translated:null}),q=k.useMemo(()=>{var vt;return z!=null?{id:z,data:(vt=$==null?void 0:$.data)!=null?vt:PF,rect:Q}:null},[z,$]),V=k.useRef(null),[F,U]=k.useState(null),[Z,M]=k.useState(null),Y=Qa(S,Object.values(S)),N=fl("DndDescribedBy",l),P=k.useMemo(()=>L.getEnabled(),[L]),W=$F(v),{droppableRects:I,measureDroppableContainers:oe,measuringScheduled:ae}=vF(P,{dragging:R,dependencies:[X.x,X.y],config:W.droppable}),ue=gF(re,z),ve=k.useMemo(()=>Z?bp(Z):null,[Z]),ce=yn(),we=xF(ue,W.draggable.measure);FF({activeNode:z!=null?re.get(z):null,config:ce.layoutShiftCompensation,initialRect:we,measure:W.draggable.measure});const be=U0(ue,W.draggable.measure,we),Ve=U0(ue?ue.parentElement:null),Ze=k.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:I,draggableNodes:re,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_e=L.getNodeFor((n=Ze.current.over)==null?void 0:n.id),Ue=TF({measure:W.dragOverlay.measure}),Xe=(r=Ue.nodeRef.current)!=null?r:ue,yt=R?(i=Ue.rect)!=null?i:be:null,Be=!!(Ue.nodeRef.current&&Ue.rect),lt=kF(Be?null:be),J=T1(Xe?Dn(Xe):null),le=SF(R?_e??ue:null),de=jF(le),Ce=DF(y,{transform:{x:X.x-lt.x,y:X.y-lt.y,scaleX:1,scaleY:1},activatorEvent:Z,active:q,activeNodeRect:be,containerNodeRect:Ve,draggingNodeRect:yt,over:Ze.current.over,overlayNodeRect:Ue.rect,scrollableAncestors:le,scrollableAncestorRects:de,windowRect:J}),xe=ve?bo(ve,X):null,D=EF(le),te=H0(D),K=H0(D,[be]),ee=bo(Ce,te),ge=yt?q4(yt,Ce):null,Pe=q&&ge?p({active:q,collisionRect:ge,droppableRects:I,droppableContainers:P,pointerCoordinates:xe}):null,$e=z4(Pe,"id"),[ke,dt]=k.useState(null),ct=Be?Ce:bo(Ce,K),Ke=H4(ct,(o=ke==null?void 0:ke.rect)!=null?o:null,be),kt=k.useRef(null),nt=k.useCallback((vt,Ye)=>{let{sensor:st,options:rt}=Ye;if(V.current==null)return;const St=re.get(V.current);if(!St)return;const rn=vt.nativeEvent,_n=new st({active:V.current,activeNode:St,event:rn,options:rt,context:Ze,onAbort(Ct){if(!re.get(Ct))return;const{onDragAbort:sn}=Y.current,ar={id:Ct};sn==null||sn(ar),j({type:"onDragAbort",event:ar})},onPending(Ct,Jn,sn,ar){if(!re.get(Ct))return;const{onDragPending:_r}=Y.current,$n={id:Ct,constraint:Jn,initialCoordinates:sn,offset:ar};_r==null||_r($n),j({type:"onDragPending",event:$n})},onStart(Ct){const Jn=V.current;if(Jn==null)return;const sn=re.get(Jn);if(!sn)return;const{onDragStart:ar}=Y.current,lr={activatorEvent:rn,active:{id:Jn,data:sn.data,rect:Q}};qn.unstable_batchedUpdates(()=>{ar==null||ar(lr),O(Ti.Initializing),E({type:Yt.DragStart,initialCoordinates:Ct,active:Jn}),j({type:"onDragStart",event:lr}),U(kt.current),M(rn)})},onMove(Ct){E({type:Yt.DragMove,coordinates:Ct})},onEnd:Wr(Yt.DragEnd),onCancel:Wr(Yt.DragCancel)});kt.current=_n;function Wr(Ct){return async function(){const{active:sn,collisions:ar,over:lr,scrollAdjustedTranslate:_r}=Ze.current;let $n=null;if(sn&&_r){const{cancelDrop:Hr}=Y.current;$n={activatorEvent:rn,active:sn,collisions:ar,delta:_r,over:lr},Ct===Yt.DragEnd&&typeof Hr=="function"&&await Promise.resolve(Hr($n))&&(Ct=Yt.DragCancel)}V.current=null,qn.unstable_batchedUpdates(()=>{E({type:Ct}),O(Ti.Uninitialized),dt(null),U(null),M(null),kt.current=null;const Hr=Ct===Yt.DragEnd?"onDragEnd":"onDragCancel";if($n){const Fo=Y.current[Hr];Fo==null||Fo($n),j({type:Hr,event:$n})}})}}},[re]),Wt=k.useCallback((vt,Ye)=>(st,rt)=>{const St=st.nativeEvent,rn=re.get(rt);if(V.current!==null||!rn||St.dndKit||St.defaultPrevented)return;const _n={active:rn};vt(st,Ye.options,_n)===!0&&(St.dndKit={capturedBy:Ye.sensor},V.current=rt,nt(st,Ye))},[re,nt]),It=yF(h,Wt);_F(h),Fr(()=>{be&&A===Ti.Initializing&&O(Ti.Initialized)},[be,A]),k.useEffect(()=>{const{onDragMove:vt}=Y.current,{active:Ye,activatorEvent:st,collisions:rt,over:St}=Ze.current;if(!Ye||!st)return;const rn={active:Ye,activatorEvent:st,collisions:rt,delta:{x:ee.x,y:ee.y},over:St};qn.unstable_batchedUpdates(()=>{vt==null||vt(rn),j({type:"onDragMove",event:rn})})},[ee.x,ee.y]),k.useEffect(()=>{const{active:vt,activatorEvent:Ye,collisions:st,droppableContainers:rt,scrollAdjustedTranslate:St}=Ze.current;if(!vt||V.current==null||!Ye||!St)return;const{onDragOver:rn}=Y.current,_n=rt.get($e),Wr=_n&&_n.rect.current?{id:_n.id,rect:_n.rect.current,data:_n.data,disabled:_n.disabled}:null,Ct={active:vt,activatorEvent:Ye,collisions:st,delta:{x:St.x,y:St.y},over:Wr};qn.unstable_batchedUpdates(()=>{dt(Wr),rn==null||rn(Ct),j({type:"onDragOver",event:Ct})})},[$e]),Fr(()=>{Ze.current={activatorEvent:Z,active:q,activeNode:ue,collisionRect:ge,collisions:Pe,droppableRects:I,draggableNodes:re,draggingNode:Xe,draggingNodeRect:yt,droppableContainers:L,over:ke,scrollableAncestors:le,scrollAdjustedTranslate:ee},Q.current={initial:yt,translated:ge}},[q,ue,Pe,ge,re,Xe,yt,I,L,ke,le,ee]),hF({...ce,delta:X,draggingRect:ge,pointerCoordinates:xe,scrollableAncestors:le,scrollableAncestorRects:de});const gn=k.useMemo(()=>({active:q,activeNode:ue,activeNodeRect:be,activatorEvent:Z,collisions:Pe,containerNodeRect:Ve,dragOverlay:Ue,draggableNodes:re,droppableContainers:L,droppableRects:I,over:ke,measureDroppableContainers:oe,scrollableAncestors:le,scrollableAncestorRects:de,measuringConfiguration:W,measuringScheduled:ae,windowRect:J}),[q,ue,be,Z,Pe,Ve,Ue,re,L,I,ke,oe,le,de,W,ae,J]),at=k.useMemo(()=>({activatorEvent:Z,activators:It,active:q,activeNodeRect:be,ariaDescribedById:{draggable:N},dispatch:E,draggableNodes:re,over:ke,measureDroppableContainers:oe}),[Z,It,q,be,E,N,re,ke,oe]);return Se.createElement(y1.Provider,{value:C},Se.createElement(Vc.Provider,{value:at},Se.createElement(I1.Provider,{value:gn},Se.createElement(P1.Provider,{value:Ke},f)),Se.createElement(LF,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Se.createElement(L4,{...u,hiddenTextDescribedById:N}));function yn(){const vt=(F==null?void 0:F.autoScrollEnabled)===!1,Ye=typeof c=="object"?c.enabled===!1:c===!1,st=R&&!vt&&!Ye;return typeof c=="object"?{...c,enabled:st}:{enabled:st}}}),BF=k.createContext(null),q0="button",UF="Draggable";function WF(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=fl(UF),{activators:l,activatorEvent:u,active:c,activeNodeRect:f,ariaDescribedById:h,draggableNodes:p,over:v}=k.useContext(Vc),{role:y=q0,roleDescription:S="draggable",tabIndex:w=0}=i??{},_=(c==null?void 0:c.id)===t,E=k.useContext(_?P1:BF),[j,C]=cc(),[A,O]=cc(),R=CF(l,t),z=Qa(n);Fr(()=>(p.set(t,{id:t,key:o,node:j,activatorNode:A,data:z}),()=>{const X=p.get(t);X&&X.key===o&&p.delete(t)}),[p,t]);const re=k.useMemo(()=>({role:y,tabIndex:w,"aria-disabled":r,"aria-pressed":_&&y===q0?!0:void 0,"aria-roledescription":S,"aria-describedby":h.draggable}),[r,y,w,_,S,h.draggable]);return{active:c,activatorEvent:u,activeNodeRect:f,attributes:re,isDragging:_,listeners:r?void 0:R,node:j,over:v,setNodeRef:C,setActivatorNodeRef:O,transform:E}}function HF(){return k.useContext(I1)}const VF="Droppable",qF={timeout:25};function YF(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=fl(VF),{active:l,dispatch:u,over:c,measureDroppableContainers:f}=k.useContext(Vc),h=k.useRef({disabled:n}),p=k.useRef(!1),v=k.useRef(null),y=k.useRef(null),{disabled:S,updateMeasurementsFor:w,timeout:_}={...qF,...i},E=Qa(w??r),j=k.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{f(Array.isArray(E.current)?E.current:[E.current]),y.current=null},_)},[_]),C=Hc({callback:j,disabled:S||!l}),A=k.useCallback((re,X)=>{C&&(X&&(C.unobserve(X),p.current=!1),re&&C.observe(re))},[C]),[O,R]=cc(A),z=Qa(t);return k.useEffect(()=>{!C||!O.current||(C.disconnect(),p.current=!1,C.observe(O.current))},[O,C]),k.useEffect(()=>(u({type:Yt.RegisterDroppable,element:{id:r,key:o,disabled:n,node:O,rect:v,data:z}}),()=>u({type:Yt.UnregisterDroppable,key:o,id:r})),[r]),k.useEffect(()=>{n!==h.current.disabled&&(u({type:Yt.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,u]),{active:l,rect:v,isOver:(c==null?void 0:c.id)===r,node:O,over:c,setNodeRef:R}}function A1(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function KF(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function Ru(e){return e!==null&&e>=0}function GF(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function JF(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const R1=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=A1(t,r,n),l=t[i],u=o[i];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},Ou={scaleX:1,scaleY:1},QF=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:l}=e;const u=(t=o[n])!=null?t:r;if(!u)return null;if(i===n){const f=o[l];return f?{x:0,y:n<l?f.top+f.height-(u.top+u.height):f.top-u.top,...Ou}:null}const c=XF(o,i,n);return i>n&&i<=l?{x:0,y:-u.height-c,...Ou}:i<n&&i>=l?{x:0,y:u.height+c,...Ou}:{x:0,y:0,...Ou}};function XF(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const O1="Sortable",M1=Se.createContext({activeIndex:-1,containerId:O1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:R1,disabled:{draggable:!1,droppable:!1}});function ZF(e){let{children:t,id:n,items:r,strategy:i=R1,disabled:o=!1}=e;const{active:l,dragOverlay:u,droppableRects:c,over:f,measureDroppableContainers:h}=HF(),p=fl(O1,n),v=u.rect!==null,y=k.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),S=l!=null,w=l?y.indexOf(l.id):-1,_=f?y.indexOf(f.id):-1,E=k.useRef(y),j=!GF(y,E.current),C=_!==-1&&w===-1||j,A=JF(o);Fr(()=>{j&&S&&h(y)},[j,y,S,h]),k.useEffect(()=>{E.current=y},[y]);const O=k.useMemo(()=>({activeIndex:w,containerId:p,disabled:A,disableTransforms:C,items:y,overIndex:_,useDragOverlay:v,sortedRects:KF(y,c),strategy:i}),[w,p,A.draggable,A.droppable,C,y,_,c,v,i]);return Se.createElement(M1.Provider,{value:O},t)}const e3=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return A1(n,r,i).indexOf(t)},t3=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:l,previousItems:u,previousContainerId:c,transition:f}=e;return!f||!r||u!==o&&i===l?!1:n?!0:l!==i&&t===c},n3={duration:200,easing:"ease"},L1="transform",r3=Xa.Transition.toString({property:L1,duration:0,easing:"linear"}),i3={roleDescription:"sortable"};function s3(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,l]=k.useState(null),u=k.useRef(n);return Fr(()=>{if(!t&&n!==u.current&&r.current){const c=i.current;if(c){const f=$o(r.current,{ignoreTransform:!0}),h={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(h.x||h.y)&&l(h)}}n!==u.current&&(u.current=n)},[t,n,r,i]),k.useEffect(()=>{o&&l(null)},[o]),o}function o3(e){let{animateLayoutChanges:t=t3,attributes:n,disabled:r,data:i,getNewIndex:o=e3,id:l,strategy:u,resizeObserverConfig:c,transition:f=n3}=e;const{items:h,containerId:p,activeIndex:v,disabled:y,disableTransforms:S,sortedRects:w,overIndex:_,useDragOverlay:E,strategy:j}=k.useContext(M1),C=a3(r,y),A=h.indexOf(l),O=k.useMemo(()=>({sortable:{containerId:p,index:A,items:h},...i}),[p,i,A,h]),R=k.useMemo(()=>h.slice(h.indexOf(l)),[h,l]),{rect:z,node:re,isOver:X,setNodeRef:L}=YF({id:l,data:O,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...c}}),{active:$,activatorEvent:Q,activeNodeRect:q,attributes:V,setNodeRef:F,listeners:U,isDragging:Z,over:M,setActivatorNodeRef:Y,transform:N}=WF({id:l,data:O,attributes:{...i3,...n},disabled:C.draggable}),P=S4(L,F),W=!!$,I=W&&!S&&Ru(v)&&Ru(_),oe=!E&&Z,ae=oe&&I?N:null,ve=I?ae??(u??j)({rects:w,activeNodeRect:q,activeIndex:v,overIndex:_,index:A}):null,ce=Ru(v)&&Ru(_)?o({id:l,items:h,activeIndex:v,overIndex:_}):A,we=$==null?void 0:$.id,be=k.useRef({activeId:we,items:h,newIndex:ce,containerId:p}),Ve=h!==be.current.items,Ze=t({active:$,containerId:p,isDragging:Z,isSorting:W,id:l,index:A,items:h,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:f,wasDragging:be.current.activeId!=null}),_e=s3({disabled:!Ze,index:A,node:re,rect:z});return k.useEffect(()=>{W&&be.current.newIndex!==ce&&(be.current.newIndex=ce),p!==be.current.containerId&&(be.current.containerId=p),h!==be.current.items&&(be.current.items=h)},[W,ce,p,h]),k.useEffect(()=>{if(we===be.current.activeId)return;if(we&&!be.current.activeId){be.current.activeId=we;return}const Xe=setTimeout(()=>{be.current.activeId=we},50);return()=>clearTimeout(Xe)},[we]),{active:$,activeIndex:v,attributes:V,data:O,rect:z,index:A,newIndex:ce,items:h,isOver:X,isSorting:W,isDragging:Z,listeners:U,node:re,overIndex:_,over:M,setNodeRef:P,setActivatorNodeRef:Y,setDroppableNodeRef:L,setDraggableNodeRef:F,transform:_e??ve,transition:Ue()};function Ue(){if(_e||Ve&&be.current.newIndex===A)return r3;if(!(oe&&!km(Q)||!f)&&(W||Ze))return Xa.Transition.toString({...f,property:L1})}}function a3(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}ot.Down,ot.Right,ot.Up,ot.Left;function pc(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return pc(t,t);const i=Number(r[1]),o=Number(r[2]);return Number.isNaN(i)||Number.isNaN(o)?pc(t,t):(i*60+o)%1440}function _p(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,i=n.toString().padStart(2,"0"),o=r.toString().padStart(2,"0");return`${i}:${o}`}const Y0={present:"Presente",absent:"Ausente",pending:"Pendiente"};function D1({work:e,objective:t,parentChain:n,onSelect:r}){const i=(e.subtitle??"").trim();return g.jsxs("button",{type:"button",onClick:()=>r(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),i?g.jsx("p",{className:"text-xs text-white/60",children:i}):null,g.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]}),n?g.jsxs("p",{className:"text-[11px] text-white/40",children:["Deriva de ",n]}):null]}),g.jsx($i,{objective:t,size:"sm"})]})}function l3({item:e,work:t,objective:n,expanded:r,isPersonal:i,onToggleExpanded:o,onRemove:l,onDuplicate:u,onUpdateDetails:c,onReplace:f,startTimeLabel:h,durationMinutes:p,works:v,objectiveMap:y,workPathById:S}){const{attributes:w,listeners:_,setNodeRef:E,transform:j,transition:C,isDragging:A}=o3({id:e.id}),[O,R]=k.useState(!1),[z,re]=k.useState(""),X={transform:Xa.Transform.toString(j),transition:C},$=(e.focusLabel??"").trim(),Q=$.length>0,q=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",V=q.trim().length>0,F=((t==null?void 0:t.videoUrls)??[]).map(ce=>ce.trim()).filter(Boolean),U=F.length>0,Z=V||U,Y=(t!=null&&t.id?S.get(t.id)??(t==null?void 0:t.name)??"":"").split("  ").slice(0,-1).join("  "),N=((t==null?void 0:t.subtitle)??"").trim(),P=ce=>{const we=ce.target.value;c(e.id,{focusLabel:we===""?void 0:we})},W=z.trim().toLowerCase(),I=k.useMemo(()=>v.filter(ce=>ce.id!==(t==null?void 0:t.id)),[v,t==null?void 0:t.id]),oe=k.useMemo(()=>W?I.filter(ce=>{var Ue;const we=(ce.subtitle??"").toLowerCase(),be=((Ue=y.get(ce.objectiveId))==null?void 0:Ue.name.toLowerCase())??"",Ve=(S.get(ce.id)??"").toLowerCase(),Ze=(ce.descriptionMarkdown??"").toLowerCase(),_e=W;return ce.name.toLowerCase().includes(_e)||we.includes(_e)||Ze.includes(_e)||be.includes(_e)||Ve.includes(_e)}):[],[I,W,y,S]);k.useEffect(()=>{O||re("")},[O]);const ae=I.length>0,ue=e.effort??6,ve=e.result;return g.jsxs("article",{ref:E,style:X,className:Re("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",A&&"ring-2 ring-sky-400/70"),children:[n?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",..._,...w,"aria-label":"Reordenar trabajo",children:""}),g.jsx("div",{className:"flex-1 space-y-1",children:g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",Q?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",$]}):null]}),N?g.jsx("p",{className:"text-sm text-white/70",children:N}):null,Y?g.jsxs("p",{className:"text-xs text-white/50",children:["Deriva de ",Y]}):null,g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:h}),g.jsx("span",{className:"text-white/30",children:""}),g.jsxs("span",{children:[p," min"]})]}),g.jsxs("div",{className:"max-w-md",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),g.jsx("input",{type:"text",value:e.focusLabel??"",onChange:P,placeholder:"Ej. 1/7  Apertura",className:"input-field mt-1"})]}),i?g.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:["ok","doubt","fail"].map(ce=>g.jsx("button",{type:"button",onClick:()=>c(e.id,{result:ce,completed:!0}),className:Re("rounded-full border px-3 py-1 text-xs font-semibold transition",ve===ce?ce==="ok"?"border-emerald-500/60 bg-emerald-500/20 text-emerald-200":ce==="doubt"?"border-amber-400/50 bg-amber-500/15 text-amber-200":"border-rose-500/60 bg-rose-500/15 text-rose-200":"border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:ce==="ok"?"OK":ce==="doubt"?"Dudosa":"Fallo"},ce))}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"RPE"}),g.jsx("input",{type:"number",min:1,max:10,value:ue,onChange:ce=>{const we=Number(ce.target.value),be=Number.isFinite(we)?Math.min(Math.max(we,1),10):6;c(e.id,{effort:be,completed:!0})},className:"input-field w-20 text-center"})]})]}):null]}),g.jsxs("div",{className:"flex items-center gap-2",children:[Z?g.jsxs("button",{type:"button",onClick:()=>o(e.id),className:Re("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[g.jsx("span",{className:Re("transition-transform",r?"rotate-90":"rotate-0"),children:""}),r?"Ocultar detalles":"Ver detalles"]}):null,g.jsx($i,{objective:n,size:"sm"})]})]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:()=>R(ce=>!ce),disabled:!ae,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categora","aria-expanded":O,children:""}),g.jsx("button",{type:"button",onClick:u,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white","aria-label":"Duplicar trabajo en la sesin",children:"x2"}),g.jsx("button",{type:"button",onClick:l,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesin",children:""})]})]}),O?g.jsx("div",{className:"mt-3 space-y-3 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Buscar en el catlogo"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"search",className:"input-field",placeholder:"Buscar en el catlogo",value:z,onChange:ce=>re(ce.target.value)}),z?g.jsx("div",{className:"absolute top-14 z-10 max-h-60 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:oe.length===0?g.jsx("p",{className:"p-3 text-sm text-white/50",children:"Sin resultados. Ajusta la bsqueda."}):g.jsx("div",{className:"space-y-2",children:oe.map(ce=>{const be=(S.get(ce.id)??ce.name).split("  ").slice(0,-1).join("  ");return g.jsx(D1,{work:ce,objective:y.get(ce.objectiveId),parentChain:be,onSelect:Ve=>{f(Ve),R(!1),re("")}},ce.id)})})}):null]}),z?null:g.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"Escribe para encontrar un reemplazo. Se mostrarn resultados coincidentes del catlogo."})]})}):null,Z&&r?g.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[V?g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsx(ws,{content:q,enableWorkLinks:!0})})]}):null,U?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de referencia"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(ce=>g.jsxs("a",{href:ce,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:""}),"Ver vdeo"]},ce))})]}):null]}):null,g.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function $1({session:e,works:t,objectives:n,assistants:r,onDateChange:i}){const o=Ee($=>$.updateSession),l=Ee($=>$.addWorkToSession),u=Ee($=>$.duplicateSessionWork),c=Ee($=>$.removeWorkFromSession),f=Ee($=>$.reorderSessionWork),h=Ee($=>$.updateSessionWorkDetails),p=Ee($=>$.replaceSessionWork),v=Ee($=>$.setAttendanceStatus),y=e.kind==="personal",[S,w]=k.useState(""),[_,E]=k.useState(new Set),j=k.useMemo(()=>new Map(n.map($=>[$.id,$])),[n]),C=k.useMemo(()=>new Map(t.map($=>[$.id,$])),[t]),A=k.useMemo(()=>{const $=new Map,Q=(q,V)=>{if($.has(q))return $.get(q);const F=C.get(q);if(!F)return"";const U=F.parentWorkId;if(!U||V.has(q))return $.set(q,F.name),F.name;V.add(q);const Z=Q(U,V);V.delete(q);const M=Z?`${Z}  ${F.name}`:F.name;return $.set(q,M),M};return t.forEach(q=>Q(q.id,new Set)),$},[t,C]),O=k.useMemo(()=>{if(!S)return t;const $=S.toLowerCase();return t.filter(Q=>{const q=j.get(Q.objectiveId),V=A.get(Q.id)??"";return Q.name.toLowerCase().includes($)||Q.descriptionMarkdown.toLowerCase().includes($)||(q==null?void 0:q.name.toLowerCase().includes($))||V.toLowerCase().includes($)})},[t,S,j,A]),R=k.useCallback($=>{const Q=A.get($);if(!Q)return"";const q=Q.split("  ");return q.pop(),q.join("  ")},[A]),z=$=>{E(Q=>{const q=new Set(Q);return q.has($)?q.delete($):q.add($),q})},re=$=>{l(e.id,{workId:$}),w("")},X=$=>{const{active:Q,over:q}=$;if(!q||Q.id===q.id)return;const V=e.workItems.findIndex(U=>U.id===Q.id),F=e.workItems.findIndex(U=>U.id===q.id);V===-1||F===-1||f(e.id,V,F)},L=$=>Q=>{const q=Q.target.value;o(e.id,{[$]:q}),$==="date"&&i&&i(q)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Ttulo"}),g.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:L("title"),placeholder:"Nombre de la sesin"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),g.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:L("date")})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),g.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:L("startTime")})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:L("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),g.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:L("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesin"}),g.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa  para ajustar detalles."})]}),g.jsxs("div",{className:"relative w-full sm:w-72",children:[g.jsx("input",{type:"search",className:"input-field",value:S,onChange:$=>w($.target.value),placeholder:"Buscar en catlogo"}),S&&g.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:O.length===0?g.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catlogo."}):g.jsx("div",{className:"space-y-2",children:O.map($=>g.jsx(D1,{work:$,objective:j.get($.objectiveId),parentChain:R($.id),onSelect:re},$.id))})})]})]}),g.jsx("div",{className:"space-y-4",children:g.jsx(zF,{collisionDetection:B4,onDragEnd:X,children:g.jsx(ZF,{items:e.workItems.map($=>$.id),strategy:QF,children:g.jsx("div",{className:"space-y-5",children:e.workItems.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Aade trabajos desde el catlogo con el buscador superior."}):(()=>{let $=0;const Q=pc(e.startTime,"18:30");return e.workItems.map(q=>{const V=C.get(q.workId),F=V?j.get(V.objectiveId):void 0,U=q.customDurationMinutes??(V==null?void 0:V.estimatedMinutes)??0,Z=_p(Q+$);return $+=U,g.jsx(l3,{item:q,work:V,objective:F,expanded:_.has(q.id),isPersonal:y,onToggleExpanded:z,onRemove:()=>c(e.id,q.id),onDuplicate:()=>u(e.id,q.id),onUpdateDetails:(M,Y)=>h(e.id,M,Y),onReplace:M=>p(e.id,q.id,M),startTimeLabel:Z,durationMinutes:U,works:t,objectiveMap:j,workPathById:A},q.id)})})()})})})})]}),y?null:g.jsxs("section",{className:"space-y-4",children:[g.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsin de asistencia"}),g.jsx("p",{className:"text-sm text-white/60",children:"Indica quin esperas que asista. La asistencia real se marca durante la sesin desde la Home."})]})}),g.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"An no tienes asistentes definidos. Adelos desde la seccin correspondiente para empezar a registrar asistencia."}):r.map($=>{const Q=e.attendance.find(F=>F.assistantId===$.id),q=(Q==null?void 0:Q.status)??"pending",V=Q==null?void 0:Q.actualStatus;return g.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:$.name}),$.notes?g.jsx("p",{className:"text-xs text-white/50",children:$.notes}):null,V?g.jsxs("p",{className:"text-xs text-white/40",children:["ltimo registro real: ",Y0[V]]}):null]}),g.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(F=>g.jsx("button",{type:"button",onClick:()=>v(e.id,$.id,F),className:Re("rounded-full px-3 py-1 text-xs font-semibold transition",q===F?F==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":F==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:Y0[F]},F))})]},$.id)})})]})]})}function u3(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function c3(e){const t=u3(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(i,o)=>t.add(r*7+o,"day")))}function Mu(e,t){return He(e).format("YYYY-MM-DD")===He(t).format("YYYY-MM-DD")}He.locale("es");const d3={present:"Presente",absent:"Ausente",pending:"Pendiente"},f3={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},h3=["present","absent"],p3={present:"Han venido",absent:"Faltan"},m3={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},g3="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",y3="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",v3="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",x3="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",w3="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",b3="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",k3=[];function S3(e){return He(e).locale("es").format("dddd, D [de] MMMM")}function E3(e){return He(e).format("MMMM YYYY")}function K0({mode:e,onChange:t}){return g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 p-1",children:[g.jsx("button",{type:"button",className:Re("rounded-full px-4 py-2 text-sm font-semibold transition",e==="view"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="view"&&t("view")},children:"Vista"}),g.jsx("button",{type:"button",className:Re("rounded-full px-4 py-2 text-sm font-semibold transition",e==="edit"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="edit"&&t("edit")},children:"Editar"})]})}function _3({session:e,objectives:t,works:n,isActive:r,onSelect:i,onDuplicate:o,onDelete:l}){const u=k.useMemo(()=>new Map(t.map(p=>[p.id,p])),[t]),c=k.useMemo(()=>new Map(n.map(p=>[p.id,p])),[n]),f=k.useMemo(()=>{const p=e.workItems[0];if(!p)return;const v=c.get(p.workId);if(v)return u.get(v.objectiveId)},[e.workItems,c,u]),h=e.workItems.reduce((p,v)=>{const y=c.get(v.workId);return p+(v.customDurationMinutes??(y==null?void 0:y.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:i,className:Re("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesin sin ttulo"}),g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos  ",h," min"]})]}),g.jsx($i,{objective:f,size:"sm"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(p=>{const v=c.get(p.workId),y=((v==null?void 0:v.subtitle)??"").trim();return g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:y?`${(v==null?void 0:v.name)??"Trabajo"}  ${y}`:(v==null?void 0:v.name)??"Trabajo"},p.id)}),e.workItems.length>3?g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx($i,{objective:f,size:"sm"}),g.jsxs("div",{className:"ml-auto flex gap-2",children:[g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function C3(){const e=Ee(D=>D.sessions).filter(D=>D.kind==="class"),t=Ee(D=>D.works),n=Ee(D=>D.objectives),r=Ee(D=>D.assistants),i=Ee(D=>D.addSession),o=Ee(D=>D.duplicateSession),l=Ee(D=>D.deleteSession),u=Ee(D=>D.setAttendanceActualStatus),c=Ee(D=>D.toggleSessionWorkCompletion),[f,h]=Pp(),p=f.get("session")??void 0,v=f.get("mode")==="edit"?"edit":"view",[y,S]=k.useState(()=>v==="edit"),[w,_]=k.useState(new Set),E=k.useMemo(()=>[...e].sort((D,te)=>He(D.date).valueOf()-He(te.date).valueOf()),[e]),j=He().format("YYYY-MM-DD"),C=k.useMemo(()=>E.find(D=>D.date>=j)??E[E.length-1],[E,j]),[A,O]=k.useState(()=>p&&e.some(D=>D.id===p)?p:C==null?void 0:C.id),R=D=>{const te=new URLSearchParams(f);D==="edit"?te.set("mode","edit"):te.delete("mode"),h(te,{replace:!0})};k.useEffect(()=>{p&&e.some(D=>D.id===p)&&O(p)},[p,e]),k.useEffect(()=>{if(!(A&&e.some(D=>D.id===A))){if(p&&e.some(D=>D.id===p)){O(p);return}O(C==null?void 0:C.id)}},[A,p,e,C]);const z=k.useMemo(()=>A?E.find(D=>D.id===A)??C:C,[E,A,C]),re=D=>{const te=new URLSearchParams(f);D?te.set("session",D):te.delete("session"),h(te,{replace:!0})},X=D=>{O(D),re(D)},L=(z==null?void 0:z.date)??j,[$,Q]=k.useState(L),[q,V]=k.useState(He(L).startOf("month").format("YYYY-MM-DD"));k.useEffect(()=>{z&&(Q(z.date),V(He(z.date).startOf("month").format("YYYY-MM-DD")))},[z]);const F=k.useMemo(()=>{const D=new Map;return e.forEach(te=>{const K=He(te.date).format("YYYY-MM-DD"),ee=D.get(K)??[];ee.push(te),D.set(K,ee)}),D.forEach(te=>te.sort((K,ee)=>(K.title??"").localeCompare(ee.title??"","es"))),D},[e]),U=k.useMemo(()=>F.get($)??[],[F,$]),Z=k.useMemo(()=>c3(He(q)),[q]),M=k.useMemo(()=>{const D=He(q);return e.filter(te=>{const K=He(te.date);return K.year()===D.year()&&K.month()===D.month()}).sort((te,K)=>He(te.date).valueOf()-He(K.date).valueOf())},[e,q]),Y=k.useMemo(()=>{const D=new Map;return M.forEach(te=>{const K=He(te.date).format("YYYY-MM-DD"),ee=D.get(K)??[];ee.push(te),D.set(K,ee)}),Array.from(D.entries()).sort((te,K)=>He(te[0]).valueOf()-He(K[0]).valueOf()).map(([te,K])=>({date:te,sessions:K.slice().sort((ee,ge)=>(ee.title??"").localeCompare(ge.title??"","es"))}))},[M]),N=D=>{Q(D),V(He(D).startOf("month").format("YYYY-MM-DD"));const te=F.get(D)??[];te.length>0?X(te[0].id):X(void 0)},P=()=>{const D=i({date:$,title:"Nueva sesin",description:"",notes:""});X(D.id)},W=D=>{const te=o(D,$);te&&X(te.id)},I=D=>{l(D),A===D&&X(void 0)},oe=D=>{const te=He(q).add(D,"month");V(te.format("YYYY-MM-DD")),Q(K=>{const ee=He(K);return ee.month()===te.month()&&ee.year()===te.year()?K:te.startOf("month").format("YYYY-MM-DD")})},ae=k.useMemo(()=>new Map(n.map(D=>[D.id,D])),[n]),ue=k.useMemo(()=>new Map(t.map(D=>[D.id,D])),[t]),ve=E.length===0,ce=k.useMemo(()=>r.filter(D=>D.active).slice().sort((D,te)=>D.name.localeCompare(te.name,"es",{sensitivity:"base"})),[r]),we=(z==null?void 0:z.attendance)??k3,be=k.useMemo(()=>{const D=new Map;we.forEach(ee=>{D.set(ee.assistantId,ee)});let te=0;ce.forEach(ee=>{var ge;((ge=D.get(ee.id))==null?void 0:ge.actualStatus)==="present"&&(te+=1)});const K={present:te,absent:Math.max(ce.length-te,0)};return{map:D,summary:K}},[we,ce]),Ve=be.map,Ze=be.summary,_e=k.useMemo(()=>pc(z==null?void 0:z.startTime,"18:30"),[z==null?void 0:z.startTime]),Ue=k.useMemo(()=>{if(!z)return new Map;let D=0;const te=new Map;return z.workItems.forEach(K=>{const ee=ue.get(K.workId),ge=K.customDurationMinutes??(ee==null?void 0:ee.estimatedMinutes)??0,Pe=_p(_e+D);te.set(K.id,{startLabel:Pe,duration:ge}),D+=ge}),te},[z,ue,_e]),Xe=z?E.findIndex(D=>D.id===z.id):-1,yt=Xe>0,Be=Xe>=0&&Xe<E.length-1,lt=()=>{yt&&X(E[Xe-1].id)},J=()=>{Be&&X(E[Xe+1].id)},le=D=>{const te=D.target.value;if(!te)return;N(te);const K=F.get(te);K&&K.length>0&&X(K[0].id)},de=D=>{_(te=>{const K=new Set(te);return K.has(D)?K.delete(D):K.add(D),K})},Ce=(D,te)=>{z&&u(z.id,D,te)},xe=y?g.jsxs("section",{className:"glass-panel space-y-6 p-6",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Calendario"}),g.jsx("h2",{className:"text-xl font-semibold text-white",children:E3(q)})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>oe(-1),children:" Mes anterior"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>oe(1),children:"Mes siguiente "})]})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.3fr_1.7fr]",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(D=>g.jsx("div",{className:"rounded-full bg-white/5 py-2",children:D},D))}),g.jsx("div",{className:"grid grid-cols-7 gap-2",children:Z.flat().map(D=>{const te=D.format("YYYY-MM-DD"),K=F.get(te)??[],ee=D.month()===He(q).month(),ge=Mu(te,j),Pe=Mu(te,$);return g.jsxs("button",{type:"button",onClick:()=>N(te),className:Re("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",Pe?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!ee&&"text-white/30"),children:[g.jsx("span",{className:Re("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",ge?"bg-white text-slate-900":""),children:D.format("D")}),g.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[K.slice(0,3).map($e=>{const ke=$e.workItems[0],dt=ke?t.find(Ke=>Ke.id===ke.workId):void 0,ct=dt?n.find(Ke=>Ke.id===dt.objectiveId):void 0;return g.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(ct==null?void 0:ct.colorHex)??"rgba(255,255,255,0.4)"}},$e.id)}),K.length>3?g.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},te)})})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),g.jsx("h3",{className:"text-2xl font-semibold text-white",children:He($).format("dddd, D [de] MMMM")})]}),g.jsx("div",{className:"flex gap-3",children:g.jsx("button",{type:"button",onClick:P,className:"btn-primary",children:"+ Nueva sesin"})})]}),g.jsx("div",{className:"space-y-3",children:U.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"An no hay sesiones planificadas este da. Crea una con el botn superior."}):U.map(D=>g.jsx(_3,{session:D,objectives:n,works:t,isActive:D.id===(z==null?void 0:z.id),onSelect:()=>X(D.id),onDuplicate:()=>W(D.id),onDelete:()=>I(D.id)},D.id))}),Y.length>0?g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:["Ver sesiones del mes (",M.length,")"]}),g.jsx("div",{className:"custom-scrollbar mt-3 max-h-[22rem] space-y-3 overflow-y-auto pr-1",children:Y.map(({date:D,sessions:te})=>{const K=te.length===1?"1 sesin":`${te.length} sesiones`;return g.jsxs("div",{role:"button",tabIndex:0,onClick:()=>N(D),onKeyDown:ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),N(D))},className:Re("cursor-pointer rounded-2xl border border-white/10 bg-white/5 p-3 text-sm transition hover:border-white/40 hover:bg-white/10",Mu(D,$)&&"border-sky-400/50 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsxs("p",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{children:He(D).format("ddd  D MMM")}),g.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-[9px] font-semibold tracking-[0.2em] text-white/50",children:K})]}),g.jsx("div",{className:"mt-3 space-y-2 text-xs",children:te.map(ee=>{const ge=(ee.description??"").trim(),Pe=ee.workItems.reduce(($e,ke)=>{const dt=t.find(ct=>ct.id===ke.workId);return $e+(ke.customDurationMinutes??(dt==null?void 0:dt.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:$e=>{$e.stopPropagation(),N(D),X(ee.id)},className:Re("flex w-full flex-col gap-1 rounded-xl border border-white/10 bg-slate-950/60 px-3 py-2 text-left transition hover:border-white/30 hover:text-white",ee.id===(z==null?void 0:z.id)&&Mu(D,$)&&"border-sky-400/60 text-white"),children:[g.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[g.jsx("span",{className:"truncate font-medium",children:ee.title||"Sesin sin ttulo"}),g.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-white/40",children:[ee.workItems.length,"  ",Pe," min"]})]}),ge?g.jsx("p",{className:"text-[11px] leading-relaxed text-white/60",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ge}):null]},ee.id)})})]},D)})})]}):null]})]})]}):null;return g.jsxs("div",{className:"space-y-6",children:[ve||!z?g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end",children:[g.jsx(K0,{mode:v,onChange:R}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>S(D=>!D),children:y?"Ocultar calendario":"Abrir calendario"})]}):null,xe,ve?g.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[g.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:g.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:g.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-lg font-semibold text-white sm:text-2xl",children:"An no hay sesiones"}),g.jsx("p",{className:"mx-auto max-w-md text-sm text-white/60 sm:text-base",children:"Crea tu primera sesin en el calendario y empieza a construir tu plan reutilizable."})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>S(!0),children:"Abrir calendario"})]}):z?g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[g.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{className:"sm:hidden",children:"Sesin"}),g.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),g.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:S3(z.date)}),g.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:z.title})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Duracin estimada"}),g.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[z.workItems.map(D=>{const te=ue.get(D.workId);return D.customDurationMinutes??(te==null?void 0:te.estimatedMinutes)??0}).reduce((D,te)=>D+te,0)||0," ","min"]})]}),g.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[g.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),g.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:z.date??j,onChange:le})]})]})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:lt,disabled:!yt,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:" Anterior"}),g.jsx("button",{type:"button",onClick:J,disabled:!Be,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente "})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(K0,{mode:v,onChange:R}),g.jsx("button",{type:"button",className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",onClick:()=>S(D=>!D),children:y?"Ocultar calendario":"Abrir calendario"})]})]}),v==="edit"?g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-3 sm:p-4",children:g.jsx($1,{session:z,works:t,objectives:n,assistants:r,onDateChange:D=>{Q(D),V(He(D).startOf("month").format("YYYY-MM-DD"))}})}):g.jsxs(g.Fragment,{children:[z.description&&g.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:g.jsx(ws,{content:z.description})}),g.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[g.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:z.workItems.map(D=>{const te=ue.get(D.workId),K=te?ae.get(te.objectiveId):void 0,ee=w.has(D.id),ge=Ue.get(D.id),Pe=(ge==null?void 0:ge.startLabel)??_p(_e),$e=(ge==null?void 0:ge.duration)??D.customDurationMinutes??(te==null?void 0:te.estimatedMinutes)??0,ke=(D.focusLabel??"").trim(),dt=ke.length>0,ct=D.customDescriptionMarkdown??(te==null?void 0:te.descriptionMarkdown)??"",Ke=ct.trim().length>0,kt=((te==null?void 0:te.videoUrls)??[]).map(gn=>gn.trim()).filter(Boolean),nt=kt.length>0,Wt=Ke||nt,It=((te==null?void 0:te.subtitle)??"").trim();return g.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:K?{background:`linear-gradient(120deg, ${K.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:g.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:D.completed??!1,onChange:gn=>c(z.id,D.id,gn.target.checked)})}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(te==null?void 0:te.name)??"Trabajo eliminado",dt?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",ke]}):null]}),It?g.jsx("p",{className:"text-sm text-white/70",children:It}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:Pe}),g.jsx("span",{className:"mx-2 text-white/30",children:""}),g.jsxs("span",{children:[$e," min"]})]})]}),g.jsx($i,{objective:K,size:"sm"})]}),(Wt||nt)&&g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[Wt?g.jsxs("button",{type:"button",onClick:()=>de(D.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:Re("transition-transform",ee?"rotate-90":"rotate-0"),children:""}),ee?"Ocultar detalles":"Ver detalles"]}):null,nt?g.jsxs("span",{children:[kt.length," vdeo",kt.length>1?"s":""]}):null]})]}),g.jsx("div",{className:Re("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",D.completed?"bg-white/20 text-white":""),children:D.order+1})]}),Wt&&ee&&g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[Ke?g.jsx(ws,{content:ct,enableWorkLinks:!0}):null,nt?g.jsx("div",{className:"space-y-3",children:kt.map((gn,at)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Uc,{url:gn,title:`${(te==null?void 0:te.name)??"Trabajo"} vdeo ${at+1}`}),g.jsx("a",{href:gn,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${D.id}-video-${at}`))}):null]})]},D.id)})})]})]}),v==="view"?r.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Quines participan?"}),g.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quin ha venido a clase en tiempo real."}),g.jsx(wr,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):ce.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes estn inactivos."}),g.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la seccin de asistentes para poder marcar su asistencia."}),g.jsx(wr,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),g.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quin est presente en la sesin actual."})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:h3.map(D=>g.jsxs("span",{className:Re("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",m3[D]),children:[Ze[D]," ",p3[D]]},D))})]}),g.jsx("div",{className:"space-y-2",children:ce.map(D=>{const te=Ve.get(D.id),K=(te==null?void 0:te.status)??"pending",ee=(te==null?void 0:te.actualStatus)==="present",ge=()=>Ce(D.id,ee?"absent":"present");return g.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:D.name}),g.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsin"}),g.jsx("span",{className:Re("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",f3[K]),children:d3[K]}),g.jsx("span",{className:"hidden text-white/30 sm:inline",children:""}),g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),g.jsx("span",{className:Re("font-semibold",ee?"text-emerald-200":"text-white/60"),children:ee?"Presente":"No asisti"})]})]}),g.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[g.jsxs("button",{type:"button",onClick:ge,"aria-pressed":ee,"aria-label":`${ee?"Desmarcar asistencia de":"Marcar asistencia de"} ${D.name}`,title:ee?"Desmarcar asistencia":"Marcar como presente",className:Re(g3,ee?y3:v3),children:[g.jsx("span",{className:Re(x3,ee?w3:b3),children:ee?g.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:g.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):g.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),g.jsx("span",{children:ee?"Ha asistido":"Marcar asistencia"})]}),g.jsx("span",{className:Re("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",ee?"text-emerald-200":"text-white/40"),children:ee?"PRESENTE":"AUSENTE"})]})]})},D.id)})})]}):null]}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Selecciona una sesin desde el calendario."})]})}function j3(){return g.jsx(C3,{})}function N3(){const[e]=Pp(),t=new URLSearchParams(e);return t.set("mode","edit"),g.jsx(wc,{to:{pathname:"/",search:`?${t.toString()}`},replace:!0})}function kh(e){return Array.from(new Set(e))}function Ba({options:e,value:t,onChange:n,disabled:r=!1,placeholder:i="Search",allowCreate:o=!1,onCreate:l,maxSelected:u}){const[c,f]=k.useState(""),h=k.useMemo(()=>kh(t.map(E=>E.trim()).filter(Boolean)),[t]),p=k.useMemo(()=>new Set(h),[h]),v=k.useMemo(()=>new Map(e.map(E=>[E.value,E])),[e]),y=k.useMemo(()=>{const E=c.trim().toLowerCase();return E?e.filter(j=>(j.label??j.value).toLowerCase().includes(E)||j.value.toLowerCase().includes(E)):e},[e,c]),S=typeof u=="number"?h.length<u:!0,w=c.trim(),_=o&&!!w&&typeof l=="function"&&!e.some(E=>E.value.toLowerCase()===w.toLowerCase())&&!e.some(E=>(E.label??"").toLowerCase()===w.toLowerCase());return g.jsxs("div",{className:Re("space-y-2",r&&"opacity-60"),children:[h.length>0?g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.map(E=>{var C;const j=((C=v.get(E))==null?void 0:C.label)??E;return g.jsxs("button",{type:"button",disabled:r,className:"inline-flex items-center gap-2 rounded-full border border-sky-500/30 bg-sky-500/10 px-3 py-1 text-xs font-semibold text-sky-100 transition hover:border-sky-400/50",onClick:()=>n(h.filter(A=>A!==E)),title:"Remove",children:[j,g.jsx("span",{className:"text-sky-200/80",children:""})]},E)}),g.jsx("button",{type:"button",disabled:r,className:"rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",onClick:()=>n([]),children:"Clear"})]}):null,g.jsx("input",{type:"text",className:"input-field",value:c,disabled:r,placeholder:i,onChange:E=>f(E.target.value)}),g.jsx("div",{className:"max-h-48 overflow-auto rounded-2xl border border-white/10 bg-white/5 p-2",children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[_?g.jsxs("button",{type:"button",disabled:r||!S,className:"rounded-full border border-emerald-500/30 bg-emerald-500/10 px-3 py-1 text-xs font-semibold text-emerald-100 transition hover:border-emerald-400/50 disabled:opacity-50",onClick:()=>{const E=(l==null?void 0:l(w))??null;if(!E)return;const j=kh([...h,E.createdValue]);n(j),f("")},title:"Create",children:["+ Create ",w,""]}):null,y.map(E=>{const j=E.label??E.value,C=p.has(E.value);return g.jsx("button",{type:"button",disabled:r||!C&&!S,className:Re("rounded-full border px-3 py-1 text-xs font-semibold transition disabled:opacity-50",C?"border-sky-500/40 bg-sky-500/10 text-sky-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>{const A=C?h.filter(O=>O!==E.value):kh([...h,E.value]);n(A)},children:j},E.value)})]})})]})}const G0={name:"",subtitle:"",objectiveId:"",parentWorkId:"",nodeType:"",tags:[],orderHint:0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""],visibility:"private",collaborators:[""]},T3=e=>Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(Boolean))),Sh="__no_objective__",F1={private:"Privado",shared:"Compartido",public:"Pblico"},I3={private:"Solo t puedes ver y editar este trabajo.",shared:"Solo las personas que aadas pueden editarlo contigo.",public:"Cualquier persona con acceso al catlogo puede verlo. Solo tus editores pueden cambiarlo."},z1=5,Na="personal-exclude";function P3({work:e,childCount:t,depth:n,expanded:r,isTreeCollapsed:i,isPersonalExcluded:o,canTogglePersonal:l,personalToggleBusy:u,nextLabel:c,variantLabel:f,onToggle:h,onToggleTree:p,onTogglePersonal:v,onEdit:y,onDuplicate:S,onCreateChild:w,onDelete:_}){var oe;const E=(e.descriptionMarkdown??"").trim(),j=(e.subtitle??"").trim(),C=(e.notes??"").trim(),A=e.videoUrls.filter(ae=>ae.trim().length>0),O=E.length>0,R=j.length>0,z=C.length>0,re=A.length>0,X=O||z||re,L=t>0,$=n>0?{marginLeft:`${n*1.5}rem`}:void 0,Q=e.visibility??"private",q=F1[Q],V=((oe=e.collaboratorEmails)==null?void 0:oe.length)??0,F=e.canEdit??!1,U=e.isOwner??!1,Z=(e.ownerEmail??"").trim(),M=(e.nodeType??"").trim(),Y=(e.tags??[]).filter(ae=>ae!==Na),N=(M||"work").trim().toLowerCase(),P=Ee(ae=>{var ue;return(ue=ae.workTaxonomy.nodeTypes.find(ve=>ve.key===N))==null?void 0:ue.label}),W=(()=>{const ae={form:"Forma",segment:"Segmento",application:"Aplicacin",technique:"Tcnica",drill:"Drill",style:"Estilo",link:"Link",work:"Trabajo"},ue={form:"border-indigo-500/40 bg-indigo-500/15 text-indigo-100",segment:"border-sky-500/40 bg-sky-500/15 text-sky-100",application:"border-amber-500/40 bg-amber-500/15 text-amber-100",technique:"border-emerald-500/40 bg-emerald-500/15 text-emerald-100",drill:"border-purple-500/40 bg-purple-500/15 text-purple-100",style:"border-white/20 bg-white/10 text-white/70",link:"border-white/20 bg-white/10 text-white/70",work:"border-white/20 bg-white/10 text-white/70"},ve=P??ae[N]??(M||"Trabajo"),ce=ue[N]??ue.work;return g.jsx("span",{className:Re("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold",ce),children:ve})})(),I=(()=>{const ae={form:"border-indigo-500/25",segment:"border-sky-500/25",application:"border-amber-500/25",technique:"border-emerald-500/25",drill:"border-purple-500/25",work:"border-white/10"},ue={form:"bg-indigo-500",segment:"bg-sky-500",application:"bg-amber-500",technique:"bg-emerald-500",drill:"bg-purple-500",work:""},ve={form:"bg-indigo-400/60",segment:"bg-sky-400/60",application:"bg-amber-400/60",technique:"bg-emerald-400/60",drill:"bg-purple-400/60",work:"bg-white/10"},ce=ae[N]??ae.work,we=ue[N]??ue.work,be=ve[N]??ve.work;return{borderClassName:ce,glowClassName:we,barClassName:be}})();return g.jsxs("article",{id:`work-${e.id}`,className:Re("group relative space-y-4 rounded-xl border bg-white/5 p-4 pb-5 shadow shadow-black/30",I.borderClassName),style:$,children:[g.jsx("div",{className:Re("absolute inset-y-0 left-0 w-1 rounded-r-full",I.barClassName),"aria-hidden":!0}),I.glowClassName?g.jsx("div",{className:Re("absolute inset-0 -z-[1] rounded-xl opacity-10 blur-3xl",I.glowClassName)}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{role:X?"button":void 0,tabIndex:X?0:void 0,onClick:()=>{X&&h()},onKeyDown:ae=>{X&&(ae.key==="Enter"||ae.key===" ")&&(ae.preventDefault(),h())},className:Re("flex flex-1 items-start gap-3 border border-transparent px-2 py-2 text-left transition",X?"cursor-pointer hover:border-white/10 hover:bg-white/5 focus-visible:border-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40":"cursor-default"),"aria-expanded":X?r:void 0,children:[L?g.jsx("button",{type:"button",onClick:ae=>{ae.stopPropagation(),p()},className:Re("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white"),"aria-label":i?"Mostrar trabajos hijos":"Ocultar trabajos hijos",title:i?"Mostrar hijos":"Ocultar hijos",children:i?"":""}):null,X?g.jsx("span",{className:Re("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition",r?"rotate-90 border-white/30 text-white":""),"aria-hidden":!0,children:""}):null,g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),R?g.jsx("p",{className:"text-sm text-white/70",children:j}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/20 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:q}),Y.slice(0,3).map(ae=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] font-semibold text-white/60",children:ae},ae)),U?g.jsx("span",{children:"Propietario"}):Z?g.jsx("span",{children:Z}):null,V>0?g.jsxs("span",{children:["+",V," colaborador",V===1?"":"es"]}):null,f?g.jsxs("span",{className:"text-white/50",children:["Variante de: ",f]}):null,c?g.jsxs("span",{className:"text-white/50",children:["Siguiente: ",c]}):null,F?null:g.jsx("span",{className:"text-amber-300/80",children:"Solo lectura"})]})]})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[W,g.jsx("button",{type:"button",onClick:ae=>{ae.stopPropagation(),v()},disabled:!l||u,className:Re("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition disabled:opacity-50",o?"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400":"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400"),title:o?"Incluir en el plan personal":"Excluir del plan personal",children:u?"...":o?"Fuera":"En plan"}),g.jsxs(ts,{as:"div",className:"relative inline-flex",children:[g.jsxs(ts.Button,{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-white/40 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40",children:[g.jsx("span",{className:"sr-only",children:"Abrir acciones"}),g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5","aria-hidden":"true",children:[g.jsx("circle",{cx:"12",cy:"5",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"19",r:"1.5"})]})]}),g.jsxs(ts.Items,{className:"absolute right-0 z-10 mt-2 w-44 overflow-hidden rounded-2xl border border-white/10 bg-slate-900/95 p-1 text-sm text-white shadow-lg shadow-black/40 focus:outline-none",children:[g.jsx(ts.Item,{children:({active:ae})=>g.jsx("button",{type:"button",onClick:F?y:void 0,disabled:!F,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",ae&&F?"bg-white/10 text-white":"text-white/70"),children:"Editar"})}),g.jsx(ts.Item,{children:({active:ae})=>g.jsx("button",{type:"button",onClick:F?S:void 0,disabled:!F,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",ae&&F?"bg-white/10 text-white":"text-white/70"),children:"Duplicar"})}),g.jsx(ts.Item,{children:({active:ae})=>g.jsx("button",{type:"button",onClick:F?w:void 0,disabled:!F,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",ae&&F?"bg-white/10 text-white":"text-white/70"),children:"Nuevo hijo"})}),g.jsx(ts.Item,{children:({active:ae})=>g.jsx("button",{type:"button",onClick:U?_:void 0,disabled:!U,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",ae&&U?"bg-rose-500/20 text-rose-100":"text-rose-300"),children:"Eliminar"})})]})]})]})]}),X&&r&&g.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[O?g.jsx(ws,{content:e.descriptionMarkdown,enableWorkLinks:!0}):null,z?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,re?g.jsx("div",{className:"space-y-3",children:g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:A.map((ae,ue)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Uc,{url:ae,title:`${e.name} vdeo ${ue+1}`}),g.jsx("a",{href:ae,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${ue}`))})}):null]}),g.jsx("button",{type:"button",onClick:F?w:void 0,disabled:!F,className:Re("absolute bottom-0 left-1/2 flex -translate-x-1/2 translate-y-1/2 items-center justify-center rounded-full border border-dashed border-white/20 bg-slate-950/80 px-4 py-2 text-sm font-semibold text-white/80 opacity-0 transition hover:border-white/40 hover:text-white focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto focus-visible:pointer-events-auto",!F&&"opacity-30"),title:F?L?"Aadir trabajo hijo":"Crear primer trabajo hijo":"No tienes permisos para crear trabajos hijos","aria-label":"Crear trabajo hijo",children:"+"})]})}function A3({form:e,objectiveOptions:t,parentOptions:n,workOptions:r,nodeTypeOptions:i,tagOptions:o,onCreateNodeType:l,onCreateTag:u,depth:c,onFieldChange:f,onVideoChange:h,onAddVideo:p,onRemoveVideo:v,onCollaboratorChange:y,onAddCollaborator:S,onRemoveCollaborator:w,onSave:_,onCancel:E,isNew:j,canEditContent:C,canManageSharing:A,isSaving:O,isOwner:R,ownerEmail:z}){const re=t.find(F=>F.id===e.objectiveId),X=n.find(F=>F.id===e.parentWorkId),L=r.find(F=>F.id===e.nextWorkId),$=r.find(F=>F.id===e.variantOfWorkId),Q=c>0?{marginLeft:`${c*1.5}rem`}:void 0,q=e.id?`work-name-${e.id}`:void 0,V=e.id?`work-subtitle-${e.id}`:void 0;return g.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",style:Q,children:[g.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex-1 space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:j?"Nuevo trabajo":"Editando trabajo"}),g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:q,children:"Nombre"}),g.jsx("input",{id:q,type:"text",className:"input-field w-full text-base font-semibold disabled:opacity-60",placeholder:"Nombre descriptivo",value:e.name,onChange:F=>f({name:F.target.value}),disabled:!C})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:V,children:"Subttulo (opcional)"}),g.jsx("input",{id:V,type:"text",className:"input-field w-full disabled:opacity-60",placeholder:"Aade un subttulo breve",value:e.subtitle,onChange:F=>f({subtitle:F.target.value}),disabled:!C})]})]}),g.jsx($i,{objective:re,size:"sm"})]}),C?null:g.jsx("div",{className:"rounded-2xl border border-amber-400/40 bg-amber-500/10 p-3 text-xs text-amber-200",children:"No tienes permisos para editar el contenido de este trabajo. Puedes revisar la informacin y sugerir cambios al propietario."}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.objectiveId,onChange:F=>f({objectiveId:F.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map(F=>g.jsx("option",{value:F.id,children:F.name},F.id))]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Trabajo padre (opcional)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.parentWorkId,onChange:F=>f({parentWorkId:F.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Sin trabajo padre"}),n.map(F=>g.jsx("option",{value:F.id,children:F.label},F.id))]}),e.parentWorkId&&X?g.jsxs("p",{className:"text-xs text-white/40",children:["Deriva de: ",X.label]}):null]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duracin estimada (min)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.estimatedMinutes,onChange:F=>f({estimatedMinutes:Number(F.target.value)}),disabled:!C})]})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Node type (opcional)"}),g.jsx(Ba,{options:i,value:e.nodeType?[e.nodeType]:[],maxSelected:1,onChange:F=>f({nodeType:F[0]??""}),placeholder:"Search node types",disabled:!C,allowCreate:!0,onCreate:F=>{const U=l(F);return U?{createdValue:U,createdLabel:F.trim()}:null}})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Tags"}),g.jsx(Ba,{options:o,value:e.tags??[],onChange:F=>f({tags:F}),placeholder:"Search tags",disabled:!C,allowCreate:!0,onCreate:F=>{const U=u(F);return U?{createdValue:U,createdLabel:U}:null}})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Order hint (opcional)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.orderHint,onChange:F=>f({orderHint:Number(F.target.value)}),disabled:!C})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Siguiente (next)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.nextWorkId,onChange:F=>f({nextWorkId:F.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Sin siguiente"}),r.filter(F=>F.id!==e.id).map(F=>g.jsx("option",{value:F.id,children:F.label},F.id))]}),e.nextWorkId&&L?g.jsxs("p",{className:"text-xs text-white/40",children:["Siguiente: ",L.label]}):null]}),g.jsxs("div",{className:"grid gap-2 sm:col-span-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Variante de (variant_of)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.variantOfWorkId,onChange:F=>f({variantOfWorkId:F.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Sin base"}),r.filter(F=>F.id!==e.id).map(F=>g.jsx("option",{value:F.id,children:F.label},F.id))]}),e.variantOfWorkId&&$?g.jsxs("p",{className:"text-xs text-white/40",children:["Variante de: ",$.label]}):null]})]}),g.jsxs("section",{className:"space-y-3 rounded-3xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Visibilidad"}),g.jsx("p",{className:"text-sm text-white/60",children:R?"Eres el propietario de este trabajo.":z?`Propietario: ${z}`:""})]}),A?null:g.jsx("p",{className:"text-xs text-amber-300/80",children:"Solo el propietario puede cambiar la visibilidad o los colaboradores."})]}),g.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:["private","shared","public"].map(F=>g.jsxs("label",{className:Re("inline-flex items-center gap-2 rounded-2xl border px-3 py-2 text-sm transition",e.visibility===F?"border-sky-400/80 bg-sky-400/10 text-white":"border-white/15 text-white/70 hover:border-white/30 hover:text-white",!A&&"opacity-50"),children:[g.jsx("input",{type:"radio",className:"accent-sky-400",checked:e.visibility===F,onChange:()=>f({visibility:F}),disabled:!A}),F1[F]]},F))}),g.jsx("p",{className:"text-xs text-white/50",children:I3[e.visibility]}),e.visibility==="private"?null:g.jsxs("div",{className:"space-y-2 rounded-2xl border border-white/10 bg-white/5 p-3",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Colaboradores (edicin)"}),g.jsx("p",{className:"text-xs text-white/50",children:"Aade hasta 5 direcciones de correo. Tendrn permisos de edicin completos."}),g.jsx("div",{className:"space-y-2",children:e.collaborators.map((F,U)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"email",className:"input-field flex-1 disabled:opacity-60",placeholder:"colega@ejemplo.com",value:F,onChange:Z=>y(U,Z.target.value),disabled:!A}),e.collaborators.length>1?g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200 disabled:opacity-40",onClick:()=>w(U),"aria-label":"Eliminar colaborador",disabled:!A,children:""}):null]},`collaborator-${U}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-40",onClick:S,disabled:!A||e.collaborators.length>=z1,children:"+ Aadir colaborador"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px] disabled:opacity-60",value:e.descriptionMarkdown,onChange:F=>f({descriptionMarkdown:F.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes.",disabled:!C})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),g.jsx("textarea",{className:"input-field min-h-[100px] disabled:opacity-60",value:e.notes,onChange:F=>f({notes:F.target.value}),disabled:!C})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de YouTube"}),g.jsx("div",{className:"space-y-3",children:e.videoUrls.map((F,U)=>g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"url",className:"input-field flex-1 disabled:opacity-60",value:F,onChange:Z=>h(U,Z.target.value),placeholder:"https://www.youtube.com/watch?v=...",disabled:!C}),e.videoUrls.length>1?g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>v(U),"aria-label":"Eliminar enlace de vdeo",disabled:!C,children:""}):null]}),g.jsx(Uc,{url:F,title:`Vista previa vdeo ${U+1}`})]},`video-field-${U}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-50",onClick:p,disabled:!C,children:"+ Aadir vdeo"})]}),g.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:_,className:"btn-primary disabled:opacity-60",disabled:O,children:O?"Guardando":"Guardar"}),g.jsx("button",{type:"button",className:"btn-secondary disabled:opacity-50",onClick:E,disabled:O,children:"Cancelar"})]})]})}function R3(){var lt;const e=Ee(J=>J.works),t=Ee(J=>J.objectives),n=Ee(J=>J.workTaxonomy),r=Ee(J=>J.addWork),i=Ee(J=>J.updateWork),o=Ee(J=>J.deleteWork),l=Ee(J=>J.upsertNodeType),u=Ee(J=>J.upsertTag),c=Ee(J=>J.worksLoading),f=ii(),{user:h}=_s(),p=k.useMemo(()=>h?{actorId:h.id,actorEmail:h.email??""}:null,[h]),[v,y]=k.useState(""),[S,w]=k.useState(null),[_,E]=k.useState(new Set),[j,C]=k.useState(new Set),[A,O]=k.useState(new Set),[R,z]=k.useState({}),[re,X]=k.useState(null),[L,$]=k.useState(null),Q=k.useMemo(()=>new Map(t.map(J=>[J.id,J])),[t]),q=k.useMemo(()=>[...t].sort((J,le)=>(J.name??"").localeCompare(le.name??"","es")),[t]),V=k.useMemo(()=>(n.nodeTypes??[]).slice().sort((J,le)=>J.label.localeCompare(le.label,"en",{sensitivity:"base"})).map(J=>({value:J.key,label:J.label})),[n.nodeTypes]),F=k.useMemo(()=>(n.tags??[]).slice().sort((J,le)=>J.name.localeCompare(le.name,"en",{sensitivity:"base"})).map(J=>({value:J.name,label:J.name})),[n.tags]),U=k.useMemo(()=>new Map(e.map(J=>[J.id,J])),[e]),Z=k.useMemo(()=>{const J=new Map;return e.forEach(le=>{const de=le.parentWorkId;if(!de)return;const Ce=J.get(de)??[];Ce.push(le),J.set(de,Ce)}),J.forEach(le=>{le.sort((de,Ce)=>de.name.localeCompare(Ce.name,"es",{sensitivity:"base"}))}),J},[e]),M=k.useMemo(()=>{const J=new Map,le=(de,Ce)=>{if(J.has(de))return J.get(de);const xe=U.get(de);if(!xe)return"";if(!xe.parentWorkId||Ce.has(de))return J.set(de,xe.name),xe.name;Ce.add(de);const D=le(xe.parentWorkId,Ce);Ce.delete(de);const te=D?`${D}  ${xe.name}`:xe.name;return J.set(de,te),te};return e.forEach(de=>{le(de.id,new Set)}),J},[e,U]);k.useEffect(()=>{const J=f.hash,le="#work-";let de=null;if(J.startsWith(le)&&(de=J.slice(le.length)),!de){const D=new URLSearchParams(f.search);de=D.get("workId")??D.get("work")}if(!de)return;E(D=>{if(D.has(de))return D;const te=new Set(D);return te.add(de),te});const Ce=document.getElementById(`work-${de}`);if(!Ce)return;Ce.scrollIntoView({behavior:"smooth",block:"start"}),Ce.classList.add("ring-2","ring-sky-500/60");const xe=window.setTimeout(()=>{Ce.classList.remove("ring-2","ring-sky-500/60")},1500);return()=>{window.clearTimeout(xe),Ce.classList.remove("ring-2","ring-sky-500/60")}},[f.hash,f.search,e]);const Y=k.useMemo(()=>{const J=new Map,le=de=>{if(J.has(de))return J.get(de);const Ce=new Set;return(Z.get(de)??[]).forEach(D=>{Ce.add(D.id),le(D.id).forEach(te=>Ce.add(te))}),J.set(de,Ce),Ce};return e.forEach(de=>le(de.id)),J},[e,Z]),N=k.useCallback((J,le)=>{var xe,D;const de=new Set;J&&(de.add(J),(xe=Y.get(J))==null||xe.forEach(te=>de.add(te)));const Ce=e.filter(te=>!de.has(te.id)).map(te=>({id:te.id,label:(()=>{var ge;const K=M.get(te.id)??te.name,ee=(ge=Q.get(te.objectiveId))==null?void 0:ge.name;return ee?`${ee}  ${K}`:K})()})).sort((te,K)=>te.label.localeCompare(K.label,"es",{sensitivity:"base"}));if(le&&le.length>0&&!Ce.some(te=>te.id===le)){const te=U.get(le),K=M.get(le)??(te==null?void 0:te.name)??"Trabajo no disponible",ee=te?(D=Q.get(te.objectiveId))==null?void 0:D.name:void 0,ge=ee?`${ee}  ${K}`:K;Ce.unshift({id:le,label:ge})}return Ce},[e,M,Y,U,Q]),P=k.useMemo(()=>e.map(J=>{var xe;const le=M.get(J.id)??J.name,de=(xe=Q.get(J.objectiveId))==null?void 0:xe.name,Ce=de?`${de}  ${le}`:le;return{id:J.id,label:Ce}}).sort((J,le)=>J.label.localeCompare(le.label,"es",{sensitivity:"base"})),[e,M,Q]),W=k.useMemo(()=>{const J=v.trim().toLowerCase(),le=xe=>{var Pe;if(!J)return!0;const D=((Pe=Q.get(xe.objectiveId))==null?void 0:Pe.name)??"",te=xe.parentWorkId?M.get(xe.parentWorkId)??"":"",K=xe.id?M.get(xe.id)??"":"",ee=(xe.nodeType??"").toLowerCase(),ge=Array.isArray(xe.tags)?xe.tags.join(" "):xe.tags??"";return xe.name.toLowerCase().includes(J)||(xe.subtitle??"").toLowerCase().includes(J)||xe.descriptionMarkdown.toLowerCase().includes(J)||D.toLowerCase().includes(J)||te.toLowerCase().includes(J)||K.toLowerCase().includes(J)||ee.includes(J)||ge.toLowerCase().includes(J)},de=[],Ce=xe=>{if(!xe)return 0;let D=1,te=U.get(xe);const K=new Set(xe?[xe]:[]);for(;te&&te.parentWorkId;){const ee=te.parentWorkId;if(!ee||K.has(ee))break;D+=1,K.add(ee),te=U.get(ee)}return D};return e.forEach(xe=>{const D=R[xe.id],te=(D==null?void 0:D.data)??{id:xe.id,name:xe.name,subtitle:xe.subtitle??"",nodeType:xe.nodeType??"",tags:xe.tags??[],descriptionMarkdown:xe.descriptionMarkdown,objectiveId:xe.objectiveId,parentWorkId:xe.parentWorkId??""};!D&&!le(te)||de.push({id:xe.id,objectiveId:te.objectiveId,parentWorkId:te.parentWorkId??"",depth:Ce(te.parentWorkId),work:xe,isNew:!1,isEditing:!!D,form:D==null?void 0:D.data})}),Object.entries(R).filter(([,xe])=>xe.isNew).forEach(([xe,D])=>{le(D.data)&&de.push({id:xe,objectiveId:D.data.objectiveId,parentWorkId:D.data.parentWorkId,depth:Ce(D.data.parentWorkId||void 0),work:void 0,isNew:!0,isEditing:!0,form:D.data})}),de},[e,U,R,Q,M,v]),I=k.useCallback(J=>{var xe;const le=(J.isEditing&&J.form?J.form.parentWorkId:J.parentWorkId)??"";if(!le)return!1;let de=le;const Ce=new Set;for(;de&&!Ce.has(de);){if(Ce.add(de),j.has(de))return!0;de=(((xe=U.get(de))==null?void 0:xe.parentWorkId)??"")||""}return!1},[j,U]),oe=k.useMemo(()=>{const J=new Map;W.forEach(D=>{const te=Q.has(D.objectiveId)?D.objectiveId:Sh,K=J.get(te)??[];K.push(D),J.set(te,K)});const le=D=>{var te,K;if(D.isEditing&&D.form){const ee=D.form.name.trim()||(((te=D.work)==null?void 0:te.name)??""),ge=D.form.parentWorkId&&D.form.parentWorkId.length>0?M.get(D.form.parentWorkId)??((K=U.get(D.form.parentWorkId))==null?void 0:K.name)??"":"";return ge?`${ge}  ${ee}`:ee}return D.work?M.get(D.work.id)??D.work.name:D.id},de=(D,te)=>{const K=le(D),ee=le(te);return K.localeCompare(ee,"es",{sensitivity:"base"})},Ce=[];q.forEach(D=>{const te=J.get(D.id);te&&te.length&&Ce.push({objective:D,items:te.slice().sort(de)})});const xe=J.get(Sh);return xe&&xe.length&&Ce.push({objective:void 0,items:xe.slice().sort(de)}),Ce},[W,Q,q,M,U]),ae=((lt=q[0])==null?void 0:lt.id)??"",ue=(J,le)=>{z(de=>{const Ce=de[J];return Ce?{...de,[J]:le(Ce)}:de})},ve=J=>J.length>0?J:[""],ce=J=>J.length>0?J:[""],we=J=>{z(le=>le[J.id]?le:{...le,[J.id]:{data:{id:J.id,name:J.name,subtitle:J.subtitle??"",objectiveId:J.objectiveId,parentWorkId:J.parentWorkId??"",nodeType:J.nodeType??"",tags:J.tags??[],orderHint:J.orderHint??0,nextWorkId:J.nextWorkId??"",variantOfWorkId:J.variantOfWorkId??"",descriptionMarkdown:J.descriptionMarkdown,estimatedMinutes:J.estimatedMinutes,notes:J.notes??"",videoUrls:ve(J.videoUrls.slice()),visibility:J.visibility??"private",collaborators:ce(J.collaboratorEmails??[])},isNew:!1,originalId:J.id}}),E(le=>{const de=new Set(le);return de.add(J.id),de})},be=()=>{const J=`draft-${nn()}`;z(le=>({...le,[J]:{data:{...G0,id:J,subtitle:"",objectiveId:ae},isNew:!0}})),E(le=>{const de=new Set(le);return de.add(J),de})},Ve=J=>{const le=`draft-${nn()}`;z(de=>({...de,[le]:{data:{id:le,name:`${J.name} (copia)`,subtitle:J.subtitle??"",objectiveId:J.objectiveId,parentWorkId:J.parentWorkId??"",nodeType:J.nodeType??"",tags:J.tags??[],orderHint:J.orderHint??0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:J.descriptionMarkdown,estimatedMinutes:J.estimatedMinutes,notes:J.notes??"",videoUrls:ve(J.videoUrls.slice()),visibility:"private",collaborators:[""]},isNew:!0}})),E(de=>{const Ce=new Set(de);return Ce.add(le),Ce}),w({type:"success",text:"Duplicacin creada. Ajusta y guarda para confirmarla."})},Ze=J=>{const le=`draft-${nn()}`;z(de=>({...de,[le]:{data:{...G0,id:le,subtitle:"",objectiveId:J.objectiveId,parentWorkId:J.id,estimatedMinutes:J.estimatedMinutes,visibility:J.visibility??"private",collaborators:[""]},isNew:!0}})),E(de=>{const Ce=new Set(de);return Ce.add(le),Ce}),w({type:"success",text:`Creando un trabajo hijo para ${J.name}. Ajusta y guarda para confirmarlo.`})},_e=J=>{E(le=>{const de=new Set(le);return de.has(J)?de.delete(J):de.add(J),de})},Ue=J=>{z(le=>{const de={...le};return delete de[J],de}),J.startsWith("draft-")&&E(le=>{const de=new Set(le);return de.delete(J),de})},Xe=async J=>{const le=R[J];if(!le||re)return;if(!p){w({type:"error",text:"Inicia sesin para guardar este trabajo."});return}const de=(le.data.parentWorkId??"").trim(),Ce=de.length>0?de:void 0,xe=le.data.nodeType.trim(),D=xe.length>0?xe:void 0,te=T3(le.data.tags??[]),K=Number(le.data.orderHint)>0?Number(le.data.orderHint):void 0,ee=(le.data.nextWorkId??"").trim(),ge=ee.length>0?ee:void 0,Pe=(le.data.variantOfWorkId??"").trim(),$e=Pe.length>0?Pe:void 0,ke={name:le.data.name.trim(),subtitle:le.data.subtitle.trim()||void 0,objectiveId:le.data.objectiveId,nodeType:D,tags:te,orderHint:K,nextWorkId:ge,variantOfWorkId:$e,descriptionMarkdown:le.data.descriptionMarkdown,estimatedMinutes:Number(le.data.estimatedMinutes)||0,notes:le.data.notes.trim()||void 0,videoUrls:le.data.videoUrls.map(Ke=>Ke.trim()).filter(Boolean),parentWorkId:Ce,visibility:le.data.visibility,collaboratorEmails:Array.from(new Set(le.data.collaborators.map(Ke=>Ke.trim().toLowerCase()).filter(Ke=>Ke.length>0)))};if(!ke.name){w({type:"error",text:"El nombre es obligatorio."});return}if(!ke.objectiveId){w({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if(ke.parentWorkId&&le.originalId){if(ke.parentWorkId===le.originalId){w({type:"error",text:"Un trabajo no puede ser su propio padre."});return}const Ke=Y.get(le.originalId);if(Ke&&Ke.has(ke.parentWorkId)){w({type:"error",text:"Selecciona un trabajo padre que no sea un descendiente."});return}}if(le.originalId&&ke.nextWorkId===le.originalId){w({type:"error",text:"Un trabajo no puede tenerse como siguiente."});return}if(le.originalId&&ke.variantOfWorkId===le.originalId){w({type:"error",text:"Un trabajo no puede ser variante de s mismo."});return}const dt=le.originalId?U.get(le.originalId):void 0,ct=le.isNew||((dt==null?void 0:dt.isOwner)??!1);X(J);try{if(le.isNew){const Ke=await r({name:ke.name,subtitle:ke.subtitle,objectiveId:ke.objectiveId,parentWorkId:ke.parentWorkId,nodeType:ke.nodeType,tags:ke.tags,orderHint:ke.orderHint,nextWorkId:ke.nextWorkId,variantOfWorkId:ke.variantOfWorkId,descriptionMarkdown:ke.descriptionMarkdown,estimatedMinutes:ke.estimatedMinutes,notes:ke.notes,videoUrls:ke.videoUrls,visibility:ke.visibility,collaboratorEmails:ke.collaboratorEmails},p);w({type:"success",text:"Trabajo creado correctamente."}),E(kt=>{const nt=new Set(kt);return nt.delete(J),nt.add(Ke.id),nt})}else if(le.originalId){const Ke={name:ke.name,subtitle:ke.subtitle??null,objectiveId:ke.objectiveId,parentWorkId:ke.parentWorkId??null,nodeType:ke.nodeType??null,tags:ke.tags,orderHint:ke.orderHint??null,nextWorkId:ke.nextWorkId??null,variantOfWorkId:ke.variantOfWorkId??null,descriptionMarkdown:ke.descriptionMarkdown,estimatedMinutes:ke.estimatedMinutes,notes:ke.notes??null,videoUrls:ke.videoUrls};ct&&(Ke.visibility=ke.visibility,Ke.collaboratorEmails=ke.collaboratorEmails),await i(le.originalId,Ke,p),w({type:"success",text:"Trabajo actualizado."})}z(Ke=>{const kt={...Ke};return delete kt[J],kt})}catch(Ke){console.error("No se pudo guardar el trabajo",Ke),w({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{X(null)}},yt=async J=>{var de;if(!p){w({type:"error",text:"Inicia sesin para eliminar trabajos."});return}const le=(((de=Y.get(J))==null?void 0:de.size)??0)>0;try{if(!await o(J,p)){w({type:"error",text:le?"No se puede eliminar porque tiene trabajos hijos.":"No se puede eliminar porque est siendo usado en alguna sesin."});return}w({type:"success",text:"Trabajo eliminado."}),z(xe=>{const D={...xe};return delete D[J],D}),E(xe=>{const D=new Set(xe);return D.delete(J),D})}catch(Ce){console.error("No se pudo eliminar el trabajo",Ce),w({type:"error",text:"No tienes permisos para eliminar este trabajo o se ha producido un error."})}},Be=async J=>{if(!p){w({type:"error",text:"Inicia sesin para editar trabajos."});return}if(!(J.canEdit??!1)||(J.nodeType??"").trim().toLowerCase()==="style")return;const le=(J.tags??[]).map(xe=>xe.trim().toLowerCase()).filter(Boolean),de=le.includes(Na),Ce=de?le.filter(xe=>xe!==Na):Array.from(new Set([...le,Na]));$(J.id);try{await i(J.id,{tags:Ce},p),w({type:"success",text:de?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>w(null),1800)}catch(xe){console.error("No se pudo actualizar el trabajo",xe),w({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{$(null)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),g.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),g.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[g.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:v,onChange:J=>y(J.target.value),placeholder:"Buscar por nombre, descripcin u objetivo"}),g.jsx(wr,{to:"/catalog/taxonomy",className:"btn-secondary",children:"Taxonomy"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:be,children:"Nuevo trabajo"}),c?g.jsx("span",{className:"text-xs text-white/60 sm:ml-3",children:"Sincronizando trabajos"}):null]})]}),S&&g.jsx("div",{className:Re("rounded-2xl border px-4 py-3 text-sm",S.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:S.text})]}),g.jsx("section",{className:"space-y-6",children:oe.length===0?c?g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Sincronizando trabajos"}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no hay trabajos guardados. Empieza creando uno con el botn Nuevo trabajo."}):oe.map(({objective:J,items:le})=>{const de=J?J.name:"Sin objetivo asignado",Ce=(J==null?void 0:J.id)??Sh,xe=A.has(Ce);return g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{type:"button",onClick:()=>O(D=>{const te=new Set(D);return te.has(Ce)?te.delete(Ce):te.add(Ce),te}),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white","aria-label":xe?"Expandir grupo":"Colapsar grupo",title:xe?"Expandir":"Colapsar",children:xe?"":""}),g.jsx("h3",{className:"text-lg font-semibold text-white",children:de}),g.jsx($i,{objective:J,size:"sm"})]}),g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[le.length," trabajo",le.length===1?"":"s"]})]}),xe?null:g.jsx("div",{className:"space-y-4",children:le.filter(D=>!I(D)).map(D=>{var ct,Ke,kt,nt,Wt,It,gn;const te=_.has(D.id),K=(D.isEditing&&D.form?D.form.parentWorkId:D.parentWorkId)??"",ee=D.isEditing?N((ct=D.work)==null?void 0:ct.id,K):[],Pe=(D.work?Z.get(D.work.id)??[]:[]).length,$e=j.has(D.id);if(D.isEditing&&D.form){const at=D.isNew||(((Ke=D.work)==null?void 0:Ke.canEdit)??!1),yn=D.isNew||(((kt=D.work)==null?void 0:kt.isOwner)??!1),vt=D.isNew||(((nt=D.work)==null?void 0:nt.isOwner)??!1);return g.jsx(A3,{form:D.form,objectiveOptions:q,parentOptions:ee,workOptions:P,nodeTypeOptions:V,tagOptions:F,onCreateNodeType:l,onCreateTag:u,depth:D.depth,onFieldChange:Ye=>ue(D.id,st=>{const rt={...st.data,...Ye};if(Ye.parentWorkId!==void 0&&Ye.parentWorkId.length>0){const St=U.get(Ye.parentWorkId);St&&(rt.objectiveId=St.objectiveId)}return Ye.visibility==="private"&&(rt.collaborators=[""]),{...st,data:rt}}),onVideoChange:(Ye,st)=>ue(D.id,rt=>{const St=rt.data.videoUrls.slice();return St[Ye]=st,{...rt,data:{...rt.data,videoUrls:St}}}),onAddVideo:()=>ue(D.id,Ye=>({...Ye,data:{...Ye.data,videoUrls:[...Ye.data.videoUrls,""]}})),onRemoveVideo:Ye=>ue(D.id,st=>{const rt=st.data.videoUrls.slice();return rt.splice(Ye,1),{...st,data:{...st.data,videoUrls:rt.length?rt:[""]}}}),onCollaboratorChange:(Ye,st)=>ue(D.id,rt=>{const St=rt.data.collaborators.slice();return St[Ye]=st,{...rt,data:{...rt.data,collaborators:St}}}),onAddCollaborator:()=>ue(D.id,Ye=>Ye.data.collaborators.length>=z1?Ye:{...Ye,data:{...Ye.data,collaborators:[...Ye.data.collaborators,""]}}),onRemoveCollaborator:Ye=>ue(D.id,st=>{const rt=st.data.collaborators.slice();return rt.splice(Ye,1),rt.length||rt.push(""),{...st,data:{...st.data,collaborators:rt}}}),onSave:()=>void Xe(D.id),onCancel:()=>Ue(D.id),isNew:D.isNew,canEditContent:at,canManageSharing:yn,isSaving:re===D.id,isOwner:vt,ownerEmail:(Wt=D.work)==null?void 0:Wt.ownerEmail},D.id)}if(!D.work)return null;const ke=D.work.nextWorkId?M.get(D.work.nextWorkId)??((It=U.get(D.work.nextWorkId))==null?void 0:It.name):void 0,dt=D.work.variantOfWorkId?M.get(D.work.variantOfWorkId)??((gn=U.get(D.work.variantOfWorkId))==null?void 0:gn.name):void 0;return g.jsx(P3,{work:D.work,childCount:Pe,depth:D.depth,expanded:te,isTreeCollapsed:$e,isPersonalExcluded:(D.work.tags??[]).map(at=>at.trim().toLowerCase()).includes(Na),canTogglePersonal:(D.work.canEdit??!1)&&(D.work.nodeType??"").trim().toLowerCase()!=="style",personalToggleBusy:L===D.id,nextLabel:ke,variantLabel:dt,onToggle:()=>_e(D.id),onToggleTree:()=>C(at=>{const yn=new Set(at);return yn.has(D.id)?yn.delete(D.id):yn.add(D.id),yn}),onTogglePersonal:()=>{D.work&&Be(D.work)},onEdit:()=>{const at=D.work;at&&(at.canEdit??!1)&&we(at)},onDuplicate:()=>{const at=D.work;at&&(at.canEdit??!1)&&Ve(at)},onCreateChild:()=>{const at=D.work;at&&(at.canEdit??!1)&&Ze(at)},onDelete:()=>{const at=D.work;at&&(at.isOwner??!1)&&yt(at.id)}},D.id)})})]},(J==null?void 0:J.id)??"sin-objetivo")})})]})}function J0(e){return e.reduce((t,n)=>(t[n]=(t[n]??0)+1,t),{})}function O3(){const{works:e,workTaxonomy:t,upsertNodeType:n,removeNodeType:r,upsertTag:i,removeTag:o}=Ee(_=>({works:_.works,workTaxonomy:_.workTaxonomy,upsertNodeType:_.upsertNodeType,removeNodeType:_.removeNodeType,upsertTag:_.upsertTag,removeTag:_.removeTag})),[l,u]=k.useState(""),[c,f]=k.useState(""),[h,p]=k.useState(null),v=k.useMemo(()=>{const _=e.map(E=>(E.nodeType??"").trim().toLowerCase()).filter(Boolean);return J0(_)},[e]),y=k.useMemo(()=>{const _=e.flatMap(E=>(E.tags??[]).map(j=>j.trim().toLowerCase()).filter(Boolean));return J0(_)},[e]),S=t.nodeTypes.slice().sort((_,E)=>_.label.localeCompare(E.label,"en",{sensitivity:"base"})),w=t.tags.slice().sort((_,E)=>_.name.localeCompare(E.name,"en",{sensitivity:"base"}));return g.jsxs("div",{className:"space-y-6",children:[g.jsx("header",{className:"flex flex-wrap items-start justify-between gap-4 rounded-3xl border border-white/10 bg-white/5 px-6 py-5",children:g.jsxs("div",{children:[g.jsx("p",{className:"font-display text-2xl font-semibold",children:"Taxonomy"}),g.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Node types and tags used across the catalog and personal planning."}),g.jsx("p",{className:"mt-2 text-sm",children:g.jsx(wr,{to:"/catalog",className:"text-sky-300 hover:text-sky-200",children:" Back to Catalog"})})]})}),h?g.jsx("div",{className:`rounded-2xl border px-4 py-3 text-sm ${h.type==="success"?"border-emerald-500/30 bg-emerald-500/10 text-emerald-100":"border-rose-500/30 bg-rose-500/10 text-rose-100"}`,children:h.text}):null,g.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[g.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsx("div",{className:"flex items-start justify-between gap-4",children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold",children:"Node types"}),g.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Used by works and group rules. Keys are stored in works."})]})}),g.jsxs("div",{className:"mt-5 flex flex-col gap-3 sm:flex-row sm:items-end",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/50",children:"New node type"}),g.jsx("input",{className:"input-field mt-2",value:l,onChange:_=>u(_.target.value),placeholder:"e.g. Dance figures"})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{const _=n(l);if(!_){p({type:"error",text:"Please enter a valid node type."});return}u(""),p({type:"success",text:`Node type created: ${_}`})},children:"Add"})]}),g.jsxs("div",{className:"mt-6 space-y-2",children:[S.map(_=>{const E=(v[_.key]??0)>0;return g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-white/10 bg-slate-950/30 px-4 py-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-white",children:_.label}),g.jsxs("p",{className:"text-xs text-white/50",children:["key: ",g.jsx("span",{className:"font-mono",children:_.key}),"  used by ",v[_.key]??0," works"]})]}),g.jsx("button",{type:"button",disabled:E,className:"rounded-full border border-white/15 bg-white/5 px-3 py-2 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white disabled:opacity-50",title:E?"Cannot delete: in use":"Delete",onClick:()=>{const j=r(_.key);p(j?{type:"success",text:`Node type removed: ${_.key}`}:{type:"error",text:"Cannot remove node type (it may be in use)."})},children:"Delete"})]},_.key)}),S.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"No node types yet."}):null]})]}),g.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsx("div",{className:"flex items-start justify-between gap-4",children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold",children:"Tags"}),g.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Lowercase slugs (spaces become hyphens). Deleting is blocked if used."})]})}),g.jsxs("div",{className:"mt-5 flex flex-col gap-3 sm:flex-row sm:items-end",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/50",children:"New tag"}),g.jsx("input",{className:"input-field mt-2",value:c,onChange:_=>f(_.target.value),placeholder:"e.g. bei-shaolin"})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{const _=i(c);if(!_){p({type:"error",text:"Please enter a valid tag."});return}f(""),p({type:"success",text:`Tag created: ${_}`})},children:"Add"})]}),g.jsxs("div",{className:"mt-6 space-y-2",children:[w.map(_=>{const E=(y[_.name]??0)>0;return g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-white/10 bg-slate-950/30 px-4 py-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-white",children:_.name}),g.jsxs("p",{className:"text-xs text-white/50",children:["used by ",y[_.name]??0," works"]})]}),g.jsx("button",{type:"button",disabled:E,className:"rounded-full border border-white/15 bg-white/5 px-3 py-2 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white disabled:opacity-50",title:E?"Cannot delete: in use":"Delete",onClick:()=>{const j=o(_.name);p(j?{type:"success",text:`Tag removed: ${_.name}`}:{type:"error",text:"Cannot remove tag (it may be in use)."})},children:"Delete"})]},_.name)}),w.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"No tags yet."}):null]})]})]})]})}const Eh={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},Q0=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function M3(){const e=Ee(w=>w.objectives),t=Ee(w=>w.addObjective),n=Ee(w=>w.updateObjective),r=Ee(w=>w.deleteObjective),i=Ee(w=>w.works),[o,l]=k.useState(Eh),[u,c]=k.useState(null),f=k.useMemo(()=>{const w=new Map;return i.forEach(_=>{w.set(_.objectiveId,(w.get(_.objectiveId)??0)+1)}),w},[i]),h=k.useMemo(()=>[...e].sort((w,_)=>(w.name??"").localeCompare(_.name??"","es")),[e]),p=w=>{if(w.preventDefault(),!o.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const _={name:o.name.trim(),colorHex:o.colorHex,descriptionMarkdown:o.descriptionMarkdown};o.id?(n(o.id,_),c({type:"success",text:"Objetivo actualizado."})):(t(_),c({type:"success",text:"Objetivo creado."})),l(Eh)},v=w=>{l({id:w.id,name:w.name,colorHex:w.colorHex,descriptionMarkdown:w.descriptionMarkdown})},y=w=>{const _=r(w);c(_?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},S=()=>{if(e.length===0){c({type:"error",text:"No hay objetivos a los que asignar colores."});return}const w=[...Q0];e.map((E,j)=>{const C=w[j%w.length];return{id:E.id,colorHex:C}}).forEach(({id:E,colorHex:j})=>n(E,{colorHex:j})),c({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),g.jsx("p",{className:"text-white/60",children:"Define categoras de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),g.jsx("div",{className:"flex flex-wrap gap-3",children:g.jsx("button",{type:"button",className:"btn-secondary",onClick:S,children:"Repartir colores"})})]}),u&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${u.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:u.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:o.id?"Editar objetivo":"Nuevo objetivo"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:p,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:o.name,onChange:w=>l(_=>({..._,name:w.target.value})),placeholder:"Ej. Resistencia, Tcnica, Juego",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:o.colorHex,onChange:w=>l(_=>({..._,colorHex:w.target.value})),"aria-label":"Elegir color personalizado"}),g.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:o.colorHex,onChange:w=>l(_=>({..._,colorHex:w.target.value})),placeholder:"#60a5fa","aria-label":"Cdigo hex del color"})]}),g.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:Q0.map(w=>g.jsx("button",{type:"button",onClick:()=>l(_=>({..._,colorHex:w})),className:Re("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",o.colorHex.toLowerCase()===w.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:w},"aria-label":`Seleccionar color ${w}`,children:o.colorHex.toLowerCase()===w.toLowerCase()&&g.jsx("span",{className:"text-xs font-semibold text-slate-900",children:""})},w))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px]",value:o.descriptionMarkdown,onChange:w=>l(_=>({..._,descriptionMarkdown:w.target.value})),placeholder:"Explica cundo usar este tipo de trabajo, objetivos pedaggicos, etc."})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:o.id?"Guardar objetivo":"Crear objetivo"}),o.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l(Eh),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-6",children:h.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripcin."}):h.map(w=>g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsx($i,{objective:w}),g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[g.jsxs("span",{children:[f.get(w.id)??0," trabajos"]}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>v(w),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>y(w.id),children:"Eliminar"})]})]}),g.jsx(ws,{content:w.descriptionMarkdown})]},w.id))})]})]})}const _h={name:"",notes:"",active:!0};function L3(){const e=Ee(h=>h.assistants),t=Ee(h=>h.addAssistant),n=Ee(h=>h.updateAssistant),r=Ee(h=>h.deleteAssistant),[i,o]=k.useState(_h),[l,u]=k.useState(null),c=h=>{if(h.preventDefault(),!i.name.trim()){u({type:"error",text:"El nombre es obligatorio."});return}const p={name:i.name.trim(),notes:i.notes,active:i.active};i.id?(n(i.id,p),u({type:"success",text:"Asistente actualizado."})):(t(p),u({type:"success",text:"Asistente aadido."})),o(_h)},f=h=>{o({id:h.id,name:h.name,notes:h.notes??"",active:h.active})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),g.jsx("p",{className:"text-white/60",children:"Mantn una lista base de alumnado para registrar asistencia rpidamente durante cada sesin."})]})}),l&&g.jsx("div",{className:Re("mt-4 rounded-2xl border px-4 py-3 text-sm",l.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:l.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:i.id?"Editar asistente":"Nuevo asistente"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:c,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:i.name,onChange:h=>o(p=>({...p,name:h.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:i.notes,onChange:h=>o(p=>({...p,notes:h.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:i.active,onChange:h=>o(p=>({...p,active:h.target.checked}))}),g.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecer en los listados de asistencia)"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:i.id?"Guardar asistente":"Aadir asistente"}),i.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(_h),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-4",children:e.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todava no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(h=>g.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:h.name}),h.notes?g.jsx("p",{className:"text-sm text-white/60",children:h.notes}):null]}),g.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[g.jsx("span",{className:Re("rounded-full border px-3 py-1 text-xs font-semibold",h.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:h.active?"Activo":"Inactivo"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(h),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(h.id),children:"Eliminar"})]})]})]},h.id))})]})]})}function uo(e,t){return g.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[g.jsx("span",{children:e}),g.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function D3(){var c,f,h,p,v,y;const e=Ee(S=>S.exportBackup),t=Ee(S=>S.importBackup),[n,r]=k.useState(null),[i,o]=k.useState(null),l=()=>{try{const S=e(),w=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),_=URL.createObjectURL(w),E=document.createElement("a");E.href=_,E.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,E.click(),URL.revokeObjectURL(_),r({type:"success",text:"Backup exportado correctamente."})}catch(S){console.error(S),r({type:"error",text:"No se pudo exportar el backup."})}},u=async S=>{var _;const w=(_=S.target.files)==null?void 0:_[0];if(w)try{const E=await w.text(),j=JSON.parse(E);t(j),o(j),r({type:"success",text:"Datos importados correctamente."})}catch(E){console.error(E),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON vlido."})}finally{S.target.value=""}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),g.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu informacin en JSON versionado para compartir o restaurar en cualquier momento."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx("button",{type:"button",className:"btn-primary",onClick:l,children:"Descargar backup"}),g.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:u})]})]})]}),n&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),i&&g.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"ltima importacin"}),g.jsxs("p",{className:"text-sm text-white/60",children:["Versin del backup: ",i.version]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[uo("Objetivos",((c=i.objetivos)==null?void 0:c.length)??0),uo("Trabajos",((f=i.trabajos)==null?void 0:f.length)??0),uo("Sesiones",((h=i.sesiones)==null?void 0:h.length)??0),uo("Asistentes",((p=i.asistentes)==null?void 0:p.length)??0),uo("Sesiones  Trabajos",((v=i.sesiones_trabajos)==null?void 0:v.length)??0),uo("Sesiones  Asistencias",((y=i.sesiones_asistencias)==null?void 0:y.length)??0)]})]}),g.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),g.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[g.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),g.jsx("li",{children:"Antes de importar, realiza una exportacin por seguridad. La restauracin sobrescribe los datos actuales sin posibilidad de deshacer."}),g.jsx("li",{children:"Los backups mantienen los IDs, as que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function $3(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=_s(),[i,o]=k.useState("login"),[l,u]=k.useState(""),[c,f]=k.useState(""),[h,p]=k.useState(""),[v,y]=k.useState(!1),[S,w]=k.useState(null),[_,E]=k.useState(null);if(!r&&n)return g.jsx(wc,{to:"/",replace:!0});const j=async A=>{if(A.preventDefault(),w(null),E(null),!l||!c){w("Introduce tu email y contrasea.");return}if(i==="register"&&c!==h){w("Las contraseas no coinciden.");return}try{y(!0),i==="login"?await e(l,c):(await t(l,c),E("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesin."))}catch(O){const R=O instanceof Error?O.message:"No se pudo completar la operacin.";w(R)}finally{y(!1)}},C=()=>{o(A=>A==="login"?"register":"login"),w(null),E(null),f(""),p("")};return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:g.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[g.jsxs("header",{className:"mb-8 text-center",children:[g.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),g.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:i==="login"?"Inicia sesin":"Crea tu cuenta"}),g.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),g.jsxs("form",{className:"space-y-5",onSubmit:j,children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),g.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:l,onChange:A=>u(A.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contrasea"}),g.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:c,onChange:A=>f(A.target.value),autoComplete:i==="login"?"current-password":"new-password"})]}),i==="register"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contrasea"}),g.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:h,onChange:A=>p(A.target.value),autoComplete:"new-password"})]}),S&&g.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:S}),_&&g.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:_}),g.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:v,children:v?"Procesando":i==="login"?"Entrar":"Crear cuenta"})]}),g.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:i==="login"?g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:C,children:"No tienes cuenta? Regstrate"}):g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:C,children:"Ya tienes cuenta? Inicia sesin"})})]})})}He.locale("es");const Wu="personal-exclude",Ch={ok:"OK",doubt:"Dudosa",fail:"Fallo"},X0={ok:"border-emerald-500/50 bg-emerald-500/15 text-emerald-100 hover:border-emerald-400",doubt:"border-amber-400/40 bg-amber-500/10 text-amber-200 hover:border-amber-300",fail:"border-rose-500/50 bg-rose-500/10 text-rose-200 hover:border-rose-400"},F3={ok:"border-emerald-500/25 bg-emerald-500/10",doubt:"border-amber-400/25 bg-amber-500/10",fail:"border-rose-500/25 bg-rose-500/10"},jh=6;function qc(e){return Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(t=>t.length>0)))}function mc(e,t){const n=qc(e.tags),r=e.nodeType??"work";return!(t.byWorkIds&&t.byWorkIds.length>0&&!t.byWorkIds.includes(e.id)||t.byNodeTypes&&t.byNodeTypes.length>0&&!t.byNodeTypes.includes(r)||t.byTags&&t.byTags.length>0&&!t.byTags.map(o=>o.trim().toLowerCase()).filter(Boolean).every(o=>n.includes(o)))}function B1(e,t){const n=e.nodeType??"work",r=t.targetsDays[n]??t.targetsDays.work??7,i=qc(e.tags),o=(t.overrides??[]).reduce((u,c)=>{var p,v;const f=((v=(p=c.match)==null?void 0:p.tagsAny)==null?void 0:v.map(y=>y.trim().toLowerCase()).filter(Boolean))??[];return f.length===0?u:f.some(y=>i.includes(y))?u*(c.multiplier||1):u},1);return Math.max(1,Math.round(r*o))}function z3(e){return(e.nodeType??"").trim().toLowerCase()!=="style"}function Hu(e,t){const n=typeof e.estimatedMinutes=="number"?e.estimatedMinutes:0;if(Number.isFinite(n)&&n>0)return n;const r=(e.nodeType??"work").trim().toLowerCase()||"work",i=t.defaultMinutesByNodeType[r]??t.defaultMinutesByNodeType.work??3;return Math.max(.25,Number(i)||3)}function U1(e){var h,p,v;const t=e.groups??[];if(t.length>0)return[...t].sort((y,S)=>(y.order??0)-(S.order??0));const n=Math.max(0,Number((h=e.template)==null?void 0:h.focusMinutes)||18),r=Math.max(0,Number((p=e.template)==null?void 0:p.rouletteMinutes)||10),i=Math.max(0,Number((v=e.template)==null?void 0:v.recapMinutes)||0),o=e.focusSelectors??[],l=e.rouletteSelectors??[],u=o.length>0?o:[{byNodeTypes:["segment","form"]}],c=l.length>0?l:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],f=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:n,strategy:"overdue",hierarchyRule:"prefer_leaves",include:u,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:r,strategy:"weighted",hierarchyRule:"allow_all",include:c,exclude:[]}];return i>0&&f.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:i}),f}function B3(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function U3(e){let t=e>>>0;return()=>{t=t+1831565813>>>0;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function W3(e,t,n){const r=U3(B3(n));return e.map(i=>{const o=Math.max(1e-4,t(i)),l=Math.max(1e-9,r()),u=-Math.log(l)/o;return{item:i,score:u}}).sort((i,o)=>i.score-o.score).map(({item:i})=>i)}function H3(e){const t=new Map;return e.forEach(n=>{n.workItems.forEach(r=>{if(!((r.completed??!1)||typeof r.result<"u"))return;const o=t.get(r.workId);(!o||He(n.date).isAfter(o.date))&&t.set(r.workId,{date:n.date,result:r.result,effort:r.effort})})}),t}function V3(e){const{works:t,personalSessions:n,cadence:r,today:i}=e,o=H3(n);return t.filter(l=>z3(l)).filter(l=>!qc(l.tags).includes(Wu)).map(l=>{const u=o.get(l.id),c=B1(l,r);if(!u)return{work:l,targetDays:c,overdueScore:1e4};const f=Math.max(He(i).diff(He(u.date),"day"),0),h=Math.max(f-c,0);return{work:l,targetDays:c,lastSeen:u.date,daysSince:f,overdueScore:h,lastResult:u.result}}).sort((l,u)=>{if(u.overdueScore!==l.overdueScore)return u.overdueScore-l.overdueScore;const c=l.daysSince??1e4,f=u.daysSince??1e4;return f!==c?f-c:l.work.name.localeCompare(u.work.name,"es",{sensitivity:"base"})})}function q3(e){return e?He(e).format("D MMM YYYY"):"Nunca"}function Y3(e){const{dueList:t,plan:n,today:r,childCountByWorkId:i}=e,o=n.limitMode==="count"||n.limitMode==="both",l=n.limitMode==="minutes"||n.limitMode==="both",u=o?Math.max(1,Math.round(n.maxItems||12)):Number.POSITIVE_INFINITY,c=l?Math.max(0,Number(n.minutesBudget)||0):Number.POSITIVE_INFINITY,f=new Set([].filter(X=>(X.completed??!1)||typeof X.result<"u").map(X=>X.workId)),h=t.filter(X=>!f.has(X.work.id)),p=He(r).day(),v=U1(n).filter(X=>X.enabled).filter(X=>{const L=X.daysOfWeek??[];return L.length===0||L.includes(p)}).sort((X,L)=>(X.order??0)-(L.order??0)),y=v.filter(X=>(X.type??"work")==="note").reduce((X,L)=>L.limitMode==="minutes"||L.limitMode==="both"?X+Math.max(0,Number(L.minutesBudget)||0):X,0),S=Number.isFinite(c)?Math.max(0,c-y):Number.POSITIVE_INFINITY,w=`kungfu-${r}`,_=X=>{const L=X.overdueScore>=1e4?1e3:Math.max(0,X.overdueScore+1);return X.lastResult==="fail"?L*1.6:X.lastResult==="doubt"?L*1.25:L},E=X=>Hu(X.work,n),j=X=>{const L=(X.nodeType??"work").trim().toLowerCase()||"work";return{segment:30,drill:22,form:20,work:10,application:0,technique:0,link:0,style:-100}[L]??5},C=X=>[...X].sort((L,$)=>{if($.overdueScore!==L.overdueScore)return $.overdueScore-L.overdueScore;const Q=L.daysSince??1e4,q=$.daysSince??1e4;if(q!==Q)return q-Q;const V=j($.work)-j(L.work);return V!==0?V:L.work.name.localeCompare($.work.name,"es",{sensitivity:"base"})}),A=new Set,O=[];let R=0,z=0;for(const X of v){if((X.type??"work")==="note"){O.push({group:X,items:[],plannedMinutes:0});continue}const $=X.include??[],Q=X.exclude??[];let q=h.filter(ue=>A.has(ue.work.id)||!($.length===0?!0:$.some(we=>mc(ue.work,we)))?!1:!Q.some(we=>mc(ue.work,we)));if((X.hierarchyRule??"allow_all")==="prefer_leaves"){const ue=new Set(q.map(ve=>ve.work.parentWorkId).filter(Boolean));q=q.filter(ve=>ue.has(ve.work.id)?(i.get(ve.work.id)??0)===0:!0)}const U=(X.strategy??"overdue")==="weighted"?W3(q,_,`${w}-${X.id}`):C(q),Z=X.limitMode??"minutes",M=Z==="count"||Z==="both",Y=Z==="minutes"||Z==="both",N=Number(X.maxItems),P=M&&Number.isFinite(N)&&N>0?Math.round(N):Number.POSITIVE_INFINITY,W=Number(X.minutesBudget),I=Y&&Number.isFinite(W)?Math.max(0,W):Number.POSITIVE_INFINITY,oe=[];let ae=0;for(const ue of U){if(z>=u||oe.length>=P)break;const ve=E(ue);if(!(ae+ve>I)&&!(R+ve>S)&&(oe.push(ue),ae+=ve,R+=ve,z+=1,A.add(ue.work.id),l&&R>=S))break}if(O.push({group:X,items:oe,plannedMinutes:Math.round(ae*10)/10}),z>=u||l&&R>=S)break}const re=Math.round((R+y)*10)/10;return{groups:O,plannedMinutes:{work:Math.round(R*10)/10,reserved:Math.round(y*10)/10,total:re},totalItems:z}}function K3(){const e=Ee(P=>P.works),t=Ee(P=>P.sessions),n=Ee(P=>P.kungfuCadence),r=Ee(P=>P.kungfuTodayPlan),i=Ee(P=>P.updateWork),{user:o}=_s(),l=Ee(P=>P.addSession),u=Ee(P=>P.addWorkToSession),c=Ee(P=>P.updateSessionWorkDetails),f=Ee(P=>P.updateSessionWorkItems),h=Ee(P=>P.updateSession),p=He().format("YYYY-MM-DD"),v=k.useMemo(()=>t.filter(P=>P.kind==="personal"),[t]),y=k.useMemo(()=>v.find(P=>P.date===p),[v,p]),S=k.useMemo(()=>V3({works:e,personalSessions:v,cadence:n,today:p}),[e,v,n,p]),w=k.useMemo(()=>{const P=new Map;return e.forEach(W=>{const I=W.parentWorkId??"";I&&P.set(I,(P.get(I)??0)+1)}),P},[e]),_=k.useMemo(()=>new Map(e.map(P=>[P.id,P])),[e]),E=k.useMemo(()=>o?{actorId:o.id,actorEmail:o.email??""}:null,[o]),[j,C]=k.useState({}),[A,O]=k.useState(null),[R,z]=k.useState((y==null?void 0:y.notes)??""),[re,X]=k.useState(null),[L,$]=k.useState(new Set);k.useEffect(()=>{z((y==null?void 0:y.notes)??"")},[y==null?void 0:y.notes]);const Q=k.useCallback(()=>y||l({date:p,kind:"personal",title:"Entrenamiento personal",description:"",notes:""}),[l,p,y]),q=k.useMemo(()=>{const P=He(p).day();return U1(r).filter(W=>W.enabled).filter(W=>{const I=W.daysOfWeek??[];return I.length===0||I.includes(P)}).sort((W,I)=>(W.order??0)-(I.order??0))},[r,p]),V=k.useMemo(()=>{const P=new Map;return q.filter(W=>(W.type??"work")!=="note").forEach((W,I)=>{P.set(W.name,I)}),P},[q]),F=k.useCallback(P=>{const W=q.filter(I=>(I.type??"work")!=="note");for(const I of W){const oe=I.include??[],ae=I.exclude??[];if(!(!(oe.length===0||oe.some(ce=>mc(P,ce)))||ae.some(ce=>mc(P,ce))))return I.name}return"Hoy"},[q]);k.useEffect(()=>{if(S.length===0)return;const P=y??Q();if(!!(P.workItems??[]).some(_e=>!!_e.focusLabel))return;const oe=new Set((P.workItems??[]).map(_e=>_e.workId));if((r.limitMode==="count"||r.limitMode==="both")&&oe.size>=Math.max(1,Math.round(r.maxItems||12)))return;const ue=new Map;(P.workItems??[]).forEach(_e=>{const Ue=_.get(_e.workId);if(!Ue)return;const Xe=F(Ue),yt=q.find(J=>J.name===Xe),Be=(yt==null?void 0:yt.id)??Xe,lt=ue.get(Be)??{minutes:0,items:0};ue.set(Be,{minutes:lt.minutes+Hu(Ue,r),items:lt.items+1})});const ve=(P.workItems??[]).reduce((_e,Ue)=>{const Xe=_.get(Ue.workId);return Xe?_e+Hu(Xe,r):_e},0),ce={...r,maxItems:Math.max(0,Math.round((r.maxItems??0)-oe.size)),minutesBudget:Math.max(0,Number(r.minutesBudget??0)-ve),groups:q.map(_e=>{const Ue=ue.get(_e.id),Xe={..._e};return Ue&&(typeof _e.minutesBudget=="number"&&Number.isFinite(_e.minutesBudget)&&(Xe.minutesBudget=Math.max(0,_e.minutesBudget-Ue.minutes)),typeof _e.maxItems=="number"&&Number.isFinite(_e.maxItems)&&(Xe.maxItems=Math.max(0,Math.round(_e.maxItems-Ue.items)))),Xe})},we=S.filter(_e=>!oe.has(_e.work.id));Y3({dueList:we,plan:ce,today:p,childCountByWorkId:w}).groups.filter(_e=>(_e.group.type??"work")!=="note").forEach(_e=>{_e.items.forEach(Ue=>{u(P.id,{workId:Ue.work.id,focusLabel:_e.group.name,customDurationMinutes:Hu(Ue.work,r)})})});const Ve=Ee.getState().sessions.find(_e=>_e.id===P.id);if(!Ve)return;const Ze=(Ve.workItems??[]).map(_e=>{if(_e.focusLabel)return _e;const Ue=_.get(_e.workId);return Ue?{..._e,focusLabel:F(Ue)}:_e});Ze.sort((_e,Ue)=>{const Xe=_e.focusLabel??"Hoy",yt=Ue.focusLabel??"Hoy",Be=V.get(Xe)??999,lt=V.get(yt)??999;return Be!==lt?Be-lt:(_e.order??0)-(Ue.order??0)}),f(P.id,Ze)},[S,y,r,p,w,u,f,_,q,V,F,Q]);const U=(P,W)=>{try{const I=Q(),oe=j[P]??jh,ae=Math.min(Math.max(Math.round(oe),1),10),ue=I.workItems.find(ve=>ve.workId===P);if(ue)c(I.id,ue.id,{result:W,effort:ae,completed:!0});else{const ve=u(I.id,{workId:P});if(!ve)throw new Error("No se pudo aadir el trabajo a la sesin.");c(I.id,ve.id,{result:W,effort:ae,completed:!0})}O({type:"success",text:"Registrado."}),window.setTimeout(()=>O(null),1800)}catch(I){const oe=I instanceof Error?I.message:"No se pudo registrar.";O({type:"error",text:oe}),window.setTimeout(()=>O(null),2500)}},Z=y?y.workItems.filter(P=>(P.completed??!1)||typeof P.result<"u").length:0,M=k.useMemo(()=>{const P=new Map;return((y==null?void 0:y.workItems)??[]).slice().sort((I,oe)=>(I.order??0)-(oe.order??0)).forEach(I=>{const oe=S.find(be=>be.work.id===I.workId),ae=_.get(I.workId);if(!ae)return;const ue={work:ae,targetDays:B1(ae,n),overdueScore:0,lastSeen:oe==null?void 0:oe.lastSeen,daysSince:oe==null?void 0:oe.daysSince,lastResult:oe==null?void 0:oe.lastResult},ve=oe??ue,ce=I.focusLabel??F(ae),we=P.get(ce)??[];we.push(ve),P.set(ce,we)}),Array.from(P.entries()).sort(([I],[oe])=>{const ae=V.get(I)??999,ue=V.get(oe)??999;return ae!==ue?ae-ue:I.localeCompare(oe,"es",{sensitivity:"base"})})},[y==null?void 0:y.workItems,S,_,n,V,F]),Y=P=>{const W=P.work,I=qc(W.tags),oe=I.includes(Wu),ae=I.filter(Be=>Be!==Wu),ue=j[W.id]??jh,ve=(W.canEdit??!1)&&(W.nodeType??"").trim().toLowerCase()!=="style",ce=re===W.id,we=L.has(W.id),be=y==null?void 0:y.workItems.find(Be=>Be.workId===W.id),Ve=be==null?void 0:be.result,Ze=(W.descriptionMarkdown??"").trim(),_e=(W.notes??"").trim(),Ue=(W.videoUrls??[]).map(Be=>Be.trim()).filter(Boolean),Xe=Ze.length>0||_e.length>0||Ue.length>0,yt=async()=>{if(!E){O({type:"error",text:"Inicia sesin para editar trabajos."}),window.setTimeout(()=>O(null),2500);return}if(ve){X(W.id);try{const Be=oe?ae:Array.from(new Set([...ae,Wu]));await i(W.id,{tags:Be},E),O({type:"success",text:oe?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>O(null),1800)}catch(Be){console.error("No se pudo actualizar el trabajo",Be),O({type:"error",text:"No se pudo actualizar el trabajo."}),window.setTimeout(()=>O(null),2500)}finally{X(null)}}};return g.jsxs("article",{className:Re("flex flex-col gap-3 rounded-3xl border p-4 shadow shadow-black/15",Ve?F3[Ve]:"border-white/10 bg-white/5"),children:[g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[Xe?g.jsx("button",{type:"button",onClick:()=>$(Be=>{const lt=new Set(Be);return lt.has(W.id)?lt.delete(W.id):lt.add(W.id),lt}),className:Re("mt-0.5 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white",we?"rotate-90 border-white/30 text-white":""),"aria-label":we?"Ocultar detalles":"Ver detalles",title:we?"Ocultar detalles":"Ver detalles",children:""}):null,g.jsxs("div",{children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:W.name}),Ve?g.jsx("span",{className:Re("inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold",X0[Ve]),children:Ch[Ve]}):null]}),W.subtitle?g.jsx("p",{className:"text-sm text-white/70",children:W.subtitle}):null]})]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/15 bg-white/5 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:W.nodeType??"work"}),ae.slice(0,6).map(Be=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5",children:Be},Be)),ae.length>6?g.jsxs("span",{className:"text-white/50",children:["+",ae.length-6]}):null]})]}),g.jsx("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/60 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"ltima vez"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:q3(P.lastSeen)}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:["Objetivo: ",P.targetDays," da",P.targetDays===1?"":"s"," "," ",P.overdueScore>=1e4?"Nuevo":`${P.overdueScore} vencido`]})]})})]}),Xe&&we?g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[Ze.length>0?g.jsx(ws,{content:Ze,enableWorkLinks:!0}):null,_e.length>0?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Notas"}),g.jsx(ws,{content:_e,enableWorkLinks:!0})]}):null,Ue.length>0?g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Vdeos"}),g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:Ue.map((Be,lt)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Uc,{url:Be,title:`${W.name} vdeo ${lt+1}`}),g.jsx("a",{href:Be,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${W.id}-video-${lt}`))})]}):null]}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Object.keys(Ch).map(Be=>g.jsx("button",{type:"button",className:Re("inline-flex items-center justify-center rounded-full border px-3 py-1 text-xs font-semibold transition",X0[Be],Ve===Be?"ring-2 ring-white/30":"opacity-90 hover:opacity-100"),onClick:()=>U(W.id,Be),children:Ch[Be]},Be))}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/40",children:"RPE"}),g.jsx("input",{type:"number",min:1,max:10,value:ue,onChange:Be=>{const lt=Number(Be.target.value);C(J=>({...J,[W.id]:Number.isFinite(lt)?lt:jh}))},className:"input-field w-20 text-center"}),g.jsx(wr,{to:`/catalog?workId=${encodeURIComponent(W.id)}`,className:"btn-secondary",children:"Ver en catlogo"}),g.jsx("button",{type:"button",onClick:yt,disabled:!ve||ce,className:Re("inline-flex items-center rounded-full border px-4 py-2 text-xs font-semibold transition disabled:opacity-50",oe?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400":"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400"),title:oe?"Incluir en el plan personal":"Excluir del plan personal",children:ce?"...":oe?"Incluir":"Excluir"})]})]})]},W.id)},N=()=>{const P=Q();h(P.id,{notes:R}),O({type:"success",text:"Recap guardado."}),window.setTimeout(()=>O(null),1800)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Hoy"}),g.jsx("p",{className:"text-white/60",children:"Plan directo de entrenamiento basado en cadencias y tu histrico personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesin de hoy"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:He(p).format("dddd, D [de] MMMM")}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:[Z," ",Z===1?"tem registrado":"tems registrados"]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx(wr,{to:"/personal/sessions",className:"btn-secondary",children:"Ver sesiones"}),g.jsx(wr,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"})]})]})]}),A&&g.jsx("div",{className:Re("mt-4 rounded-2xl border px-4 py-3 text-sm",A.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:A.text})]}),S.length===0?g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay ningn trabajo incluido en tu programa activo. Aade la tag ",g.jsx("span",{className:"font-semibold text-white",children:"kungfu"})," a los trabajos que quieras entrenar."]}):g.jsx("section",{className:"space-y-4",children:g.jsxs("div",{className:"space-y-3",children:[M.length===0?g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay tems planificados para hoy. Revisa ",g.jsx("span",{className:"font-semibold text-white",children:"Ajustes"})," o marca ms trabajos como entrenables."]}):null,M.map(([P,W])=>g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-5 sm:p-6",children:[g.jsx("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:P}),g.jsxs("p",{className:"text-sm text-white/60",children:[W.length," tem",W.length===1?"":"s"]})]})}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:W.map(Y)})]},P)),q.filter(P=>P.type==="note").length>0?g.jsxs("div",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[q.filter(P=>P.type==="note")[0].name," (",Math.max(0,Number(q.filter(P=>P.type==="note")[0].minutesBudget)||0)," min)"]}),g.jsx("p",{className:"text-sm text-white/60",children:"Una correccin concreta para maana."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:N,children:"Guardar recap"})]}),g.jsx("textarea",{className:"input-field min-h-[90px] w-full resize-y",value:R,onChange:P=>z(P.target.value),placeholder:"Ej: Transicin BC: bajar hombros y cerrar cadera."})]}):null]})})]})}He.locale("es");function G3(){const e=Ee(w=>w.sessions).filter(w=>w.kind==="personal"),t=Ee(w=>w.works),n=Ee(w=>w.objectives),r=Ee(w=>w.assistants),i=Ee(w=>w.addSession),[o,l]=Pp(),u=k.useMemo(()=>[...e].sort((w,_)=>He(_.date).valueOf()-He(w.date).valueOf()),[e]),c=o.get("session")??void 0,f=c?e.find(w=>w.id===c):void 0,[h,p]=k.useState(f==null?void 0:f.id);k.useEffect(()=>{c&&!e.some(w=>w.id===c)&&(p(void 0),l({},{replace:!0}))},[c,e,l]);const v=h?e.find(w=>w.id===h):void 0,y=w=>{p(w),l({session:w},{replace:!0})},S=()=>{const w=He().format("YYYY-MM-DD"),_=e.find(j=>j.date===w);if(_){y(_.id);return}const E=i({date:w,kind:"personal",title:"Entrenamiento personal",description:"",notes:""});y(E.id)};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("header",{className:"glass-panel p-6 sm:p-10",children:g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Sesiones"}),g.jsx("p",{className:"text-white/60",children:"Histrico y edicin de sesiones de entreno personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx(wr,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsx(wr,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:S,children:"Crear/abrir hoy"})]})]})}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.9fr]",children:[g.jsxs("section",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Sesiones"}),g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:u.length})]}),u.length===0?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/50",children:"No hay sesiones personales todava. Crea la sesin de hoy para empezar a registrar tu entrenamiento."}):g.jsx("div",{className:"space-y-2",children:u.map(w=>{const _=w.workItems.filter(E=>(E.completed??!1)||typeof E.result<"u").length;return g.jsxs("button",{type:"button",onClick:()=>y(w.id),className:Re("flex w-full flex-col gap-1 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30 hover:bg-white/10",w.id===h&&"border-sky-400/60 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:w.title||"Sesin sin ttulo"}),g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:He(w.date).format("ddd  D MMM YYYY")}),g.jsxs("p",{className:"text-xs text-white/60",children:[_,"/",w.workItems.length," registrados"]})]},w.id)})})]}),g.jsx("section",{className:"glass-panel p-6",children:v?g.jsx($1,{session:v,works:t,objectives:n,assistants:r}):g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-10 text-center text-white/50",children:"Selecciona una sesin para verla y editarla."})})]})]})}const Cp=e=>Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(Boolean))),W1=e=>Array.from(new Set(e.split(",").map(t=>t.trim()).filter(Boolean))),H1=e=>(e??[]).join(", ");function Z0(e){const t=Cp(e.byTags),n=Cp(e.byNodeTypes),r=W1(H1(e.byWorkIds)),i={};return t&&t.length>0&&(i.byTags=t),n&&n.length>0&&(i.byNodeTypes=n),r&&r.length>0&&(i.byWorkIds=r),i}function J3(e){const t={};Object.entries(e.targetsDays??{}).forEach(([r,i])=>{const o=r.trim().toLowerCase(),l=Number(i);o&&Number.isFinite(l)&&(t[o]=Math.max(1,Math.round(l)))});const n=(e.overrides??[]).map(r=>{var i;return{match:{tagsAny:Cp(((i=r.match)==null?void 0:i.tagsAny)??[])},multiplier:Math.max(.1,Number(r.multiplier)||1)}}).filter(r=>r.match.tagsAny.length>0);return{targetsDays:t,overrides:n}}function Q3(e){var j,C,A;const t=Math.max(1,Math.round(Number(e.maxItems)||12)),n=Math.max(1,Number(e.minutesBudget)||30),r={};Object.entries(e.defaultMinutesByNodeType??{}).forEach(([O,R])=>{const z=O.trim().toLowerCase(),re=Number(R);z&&Number.isFinite(re)&&(r[z]=Math.max(.25,re))});const i=O=>O==="count"||O==="minutes"||O==="both",o=O=>O==="work"||O==="note",l=O=>O==="overdue"||O==="weighted",u=O=>O==="allow_all"||O==="prefer_leaves",c=O=>{if(!Array.isArray(O))return[];const R=O.map(z=>Number(z)).filter(z=>Number.isFinite(z)).map(z=>Math.round(z)).filter(z=>z>=0&&z<=6);return Array.from(new Set(R)).sort((z,re)=>z-re)},f=(O,R)=>{const z=(O.id??"").trim()||nn(),re=o(O.type)?O.type:"work",X=typeof O.enabled=="boolean"?O.enabled:!0,L=Number.isFinite(Number(O.order))?Number(O.order):R,$=(O.name??"").trim()||(re==="note"?"Recap":"Grupo"),Q=i(O.limitMode)?O.limitMode:"minutes",q=Number.isFinite(Number(O.maxItems))?Math.max(0,Math.round(Number(O.maxItems))):void 0,V=Number.isFinite(Number(O.minutesBudget))?Math.max(0,Number(O.minutesBudget)):void 0,F=l(O.strategy)?O.strategy:"overdue",U=u(O.hierarchyRule)?O.hierarchyRule:"allow_all",Z=(O.include??[]).map(Z0).filter(Y=>Object.keys(Y).length>0),M=(O.exclude??[]).map(Z0).filter(Y=>Object.keys(Y).length>0);return{id:z,name:$,enabled:X,order:L,type:re,daysOfWeek:c(O.daysOfWeek),limitMode:Q,maxItems:q,minutesBudget:V,strategy:F,hierarchyRule:U,include:Z,exclude:M}},p=((e.groups??[]).length>0?e.groups??[]:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]).map((O,R)=>f(O,R+1)).sort((O,R)=>O.order-R.order).map((O,R)=>({...O,order:R+1})),v=p.filter(O=>(O.type??"work")!=="note"),y=p.filter(O=>O.type==="note"),S=Math.max(0,Number((j=v[0])==null?void 0:j.minutesBudget)||0),w=Math.max(0,Number((C=v[1])==null?void 0:C.minutesBudget)||0),_=Math.max(0,Number((A=y[0])==null?void 0:A.minutesBudget)||0),E=Math.max(0,S+w+_);return{limitMode:e.limitMode,maxItems:t,minutesBudget:n,template:{totalMinutes:E,focusMinutes:S,rouletteMinutes:w,recapMinutes:_},defaultMinutesByNodeType:r,focusSelectors:[],rouletteSelectors:[],groups:p}}const X3={},Z3=[{label:"L",value:1},{label:"M",value:2},{label:"X",value:3},{label:"J",value:4},{label:"V",value:5},{label:"S",value:6},{label:"D",value:0}];function e5(){const e=Ee(C=>C.kungfuCadence),t=Ee(C=>C.kungfuTodayPlan),n=Ee(C=>C.workTaxonomy),r=Ee(C=>C.upsertNodeType),i=Ee(C=>C.upsertTag),o=Ee(C=>C.setKungfuCadence),l=Ee(C=>C.setKungfuTodayPlan),[u,c]=k.useState(e),[f,h]=k.useState(t),[p,v]=k.useState(null);k.useEffect(()=>{c(e)},[e]),k.useEffect(()=>{h(t)},[t]);const y=k.useMemo(()=>JSON.stringify(e)!==JSON.stringify(u)||JSON.stringify(t)!==JSON.stringify(f),[e,t,u,f]),S=C=>{v(C),C&&window.setTimeout(()=>v(null),C.type==="success"?1800:2600)},w=()=>{try{const C=J3(u),A=Q3(f);o(C),l(A),S({type:"success",text:"Guardado."})}catch(C){const A=C instanceof Error?C.message:"No se pudo guardar.";S({type:"error",text:A})}},_=()=>{c(e),h(t),S({type:"success",text:"Cambios descartados."})},E=k.useMemo(()=>(n.nodeTypes??[]).slice().sort((C,A)=>C.label.localeCompare(A.label,"en",{sensitivity:"base"})).map(C=>({value:C.key,label:C.label})),[n.nodeTypes]),j=k.useMemo(()=>(n.tags??[]).slice().sort((C,A)=>C.name.localeCompare(A.name,"en",{sensitivity:"base"})).map(C=>({value:C.name,label:C.name})),[n.tags]);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Ajustes"}),g.jsx("p",{className:"text-white/60",children:"Grupos, cadencias y plantilla de sesin para el modo Personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsx(wr,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:_,disabled:!y,children:"Descartar"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:w,disabled:!y,children:"Guardar"})]})]})]}),p?g.jsx("div",{className:Re("mt-4 rounded-2xl border px-4 py-3 text-sm",p.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:p.text}):null]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Plan de hoy"}),g.jsx("p",{className:"text-sm text-white/60",children:"Controla cuntos tems se sugieren y el presupuesto de minutos."})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Modo de lmite"}),g.jsxs("select",{className:"input-field",value:f.limitMode,onChange:C=>h(A=>({...A,limitMode:C.target.value})),children:[g.jsx("option",{value:"count",children:"Por cantidad"}),g.jsx("option",{value:"minutes",children:"Por minutos"}),g.jsx("option",{value:"both",children:"Cantidad y minutos"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx. tems"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:f.maxItems,onChange:C=>h(A=>({...A,maxItems:Number(C.target.value)}))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Presupuesto (min)"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:f.minutesBudget,onChange:C=>h(A=>({...A,minutesBudget:Number(C.target.value)}))})]})]}),g.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Grupos"}),g.jsx("p",{className:"text-sm text-white/60",children:"Define bloques con reglas, das de la semana y lmites."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>h(C=>{const A=[...C.groups??[]].sort((z,re)=>(z.order??0)-(re.order??0)),O={id:nn(),name:"Nuevo grupo",enabled:!0,order:A.length+1,type:"work",daysOfWeek:[],limitMode:"minutes",maxItems:12,minutesBudget:5,strategy:"overdue",hierarchyRule:"allow_all",include:[],exclude:[]},R=[...A,O].map((z,re)=>({...z,order:re+1}));return{...C,groups:R}}),children:"+ Grupo"})]}),g.jsx("div",{className:"space-y-4",children:[...f.groups??[]].sort((C,A)=>(C.order??0)-(A.order??0)).map((C,A,O)=>{const R=C.type??"work",z=C.daysOfWeek??[],re=z.length===0,X=C.limitMode??"minutes",L=C.strategy??"overdue",$=C.hierarchyRule??"allow_all",Q=U=>{h(Z=>{const Y=[...Z.groups??[]].sort((N,P)=>(N.order??0)-(P.order??0)).map(N=>N.id===C.id?{...N,...U}:N).map((N,P)=>({...N,order:P+1}));return{...Z,groups:Y}})},q=U=>{h(Z=>{const M=[...Z.groups??[]].sort((I,oe)=>(I.order??0)-(oe.order??0)),Y=M.findIndex(I=>I.id===C.id),N=Y+U;if(Y<0||N<0||N>=M.length)return Z;const P=M.slice(),W=P[Y];return P[Y]=P[N],P[N]=W,{...Z,groups:P.map((I,oe)=>({...I,order:oe+1}))}})},V=()=>{h(U=>{const M=[...U.groups??[]].sort((Y,N)=>(Y.order??0)-(N.order??0)).filter(Y=>Y.id!==C.id).map((Y,N)=>({...Y,order:N+1}));return{...U,groups:M.length>0?M:U.groups}})},F=(U,Z)=>{const M=C[U]??[];Q({[U]:Z(M)})};return g.jsx("div",{className:"rounded-3xl border border-white/10 bg-slate-950/40 p-5",children:g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[g.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:C.enabled,onChange:U=>Q({enabled:U.target.checked})}),"Enabled"]}),g.jsx("input",{type:"text",className:"input-field flex-1",value:C.name,onChange:U=>Q({name:U.target.value}),placeholder:"Nombre del grupo"}),g.jsxs("select",{className:"input-field w-36",value:R,onChange:U=>Q({type:U.target.value}),children:[g.jsx("option",{value:"work",children:"Trabajos"}),g.jsx("option",{value:"note",children:"Nota"})]})]}),g.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Das"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("button",{type:"button",className:Re("rounded-full border px-3 py-1 text-xs font-semibold transition",re?"border-sky-500/40 bg-sky-500/10 text-sky-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>Q({daysOfWeek:[]}),title:"Vaco = todos los das",children:"Todos"}),Z3.map(U=>{const Z=re?!0:z.includes(U.value);return g.jsx("button",{type:"button",className:Re("h-8 w-8 rounded-full border text-xs font-semibold transition",Z?"border-emerald-500/40 bg-emerald-500/10 text-emerald-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>{const M=re?[U.value]:z.includes(U.value)?z.filter(Y=>Y!==U.value):[...z,U.value];Q({daysOfWeek:M.sort((Y,N)=>Y-N)})},title:Z?"Activo":"Inactivo",children:U.label},U.value)})]}),g.jsx("p",{className:"text-xs text-white/50",children:"Si eliges das especficos, solo aparecer esos das."})]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Lmite"}),g.jsxs("select",{className:"input-field",value:X,onChange:U=>Q({limitMode:U.target.value}),children:[g.jsx("option",{value:"count",children:"Cantidad"}),g.jsx("option",{value:"minutes",children:"Minutos"}),g.jsx("option",{value:"both",children:"Ambos"})]})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx tems"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:C.maxItems??0,onChange:U=>Q({maxItems:Number(U.target.value)})})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx min"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:C.minutesBudget??0,onChange:U=>Q({minutesBudget:Number(U.target.value)})})]})]})]}),R==="work"?g.jsxs("div",{className:"mt-2 grid gap-4 lg:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Estrategia"}),g.jsxs("select",{className:"input-field",value:L,onChange:U=>Q({strategy:U.target.value}),children:[g.jsx("option",{value:"overdue",children:"Vencido (cadencia)"}),g.jsx("option",{value:"weighted",children:"Ponderado (ruleta)"})]})]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:$==="prefer_leaves",onChange:U=>Q({hierarchyRule:U.target.checked?"prefer_leaves":"allow_all"})}),"Preferir hijos (evita padres cuando existan)"]})]}):null,R==="work"?g.jsx("div",{className:"mt-4 grid gap-5 lg:grid-cols-2",children:["include","exclude"].map(U=>g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-sm font-semibold text-white/80",children:U==="include"?"Include (OR)":"Exclude (OR)"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>F(U,Z=>[...Z,{...X3}]),children:"+ Regla"})]}),(C[U]??[]).length===0?g.jsx("p",{className:"text-xs text-white/50",children:U==="include"?"Vaco = incluye todo (se aplican excludes).":"Vaco = no excluye nada."}):null,(C[U]??[]).map((Z,M)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Regla ",M+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>F(U,Y=>Y.filter((N,P)=>P!==M)),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (AND)"}),g.jsx(Ba,{options:j,value:Z.byTags??[],onChange:Y=>F(U,N=>{const P=[...N];return P[M]={...P[M],byTags:Y},P}),placeholder:"Search tags",allowCreate:!0,onCreate:Y=>{const N=i(Y);return N?{createdValue:N,createdLabel:N}:null}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Node types"}),g.jsx(Ba,{options:E,value:Z.byNodeTypes??[],onChange:Y=>F(U,N=>{const P=[...N];return P[M]={...P[M],byNodeTypes:Y},P}),placeholder:"Search node types",allowCreate:!0,onCreate:Y=>{const N=r(Y);return N?{createdValue:N,createdLabel:Y.trim()}:null}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Work IDs"}),g.jsx("input",{type:"text",className:"input-field",value:H1(Z.byWorkIds),placeholder:"id1, id2",onChange:Y=>{const N=W1(Y.target.value);F(U,P=>{const W=[...P];return W[M]={...W[M],byWorkIds:N},W})}})]})]})]},`${U}-${C.id}-${M}`))]},`${C.id}-${U}`))}):null]}),g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>q(-1),disabled:A===0,title:"Subir",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>q(1),disabled:A===O.length-1,title:"Bajar",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:V,disabled:O.length<=1,children:"Eliminar"})]})]})},C.id)})})]}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Estimacin de minutos por tipo"}),g.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:Object.entries(f.defaultMinutesByNodeType).sort(([C],[A])=>C.localeCompare(A,"es",{sensitivity:"base"})).map(([C,A])=>g.jsxs("label",{className:"grid gap-2",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:C}),g.jsx("input",{type:"number",min:.25,step:.25,className:"input-field",value:A,onChange:O=>h(R=>({...R,defaultMinutesByNodeType:{...R.defaultMinutesByNodeType,[C]:Number(O.target.value)}}))})]},C))})]})]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Cadencias"}),g.jsx("p",{className:"text-sm text-white/60",children:"Objetivo de das por tipo, con overrides por tags."})]}),g.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Array.from(new Set([...Object.keys(u.targetsDays??{}),...(n.nodeTypes??[]).map(C=>C.key)])).map(C=>C.trim().toLowerCase()).filter(Boolean).sort((C,A)=>C.localeCompare(A,"en",{sensitivity:"base"})).map(C=>{var R;const A=((R=(n.nodeTypes??[]).find(z=>z.key===C))==null?void 0:R.label)??C,O=(u.targetsDays??{})[C]??(u.targetsDays??{}).work??7;return g.jsxs("label",{className:"grid gap-2",children:[g.jsxs("span",{className:"text-xs uppercase tracking-wide text-white/40",children:[A," ",g.jsxs("span",{className:"text-white/30",children:["(",C,")"]})]}),g.jsx("input",{type:"number",min:1,className:"input-field",value:O,onChange:z=>c(re=>({...re,targetsDays:{...re.targetsDays,[C]:Number(z.target.value)}}))})]},C)})}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Overrides"}),g.jsxs("div",{className:"mt-3 space-y-3",children:[(u.overrides??[]).map((C,A)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Override ",A+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>c(O=>({...O,overrides:(O.overrides??[]).filter((R,z)=>z!==A)})),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (ANY)"}),g.jsx(Ba,{options:j,value:C.match.tagsAny??[],onChange:O=>c(R=>{const z=[...R.overrides??[]];return z[A]={...C,match:{tagsAny:O}},{...R,overrides:z}}),placeholder:"Search tags",allowCreate:!0,onCreate:O=>{const R=i(O);return R?{createdValue:R,createdLabel:R}:null}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Multiplier"}),g.jsx("input",{type:"number",min:.1,step:.1,className:"input-field",value:C.multiplier,onChange:O=>{const R=Number(O.target.value);c(z=>{const re=[...z.overrides??[]];return re[A]={...C,multiplier:R},{...z,overrides:re}})}})]})]})]},`override-${A}`)),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>c(C=>({...C,overrides:[...C.overrides??[],{match:{tagsAny:[]},multiplier:1}]})),children:"+ Aadir override"})]})]})]})]})}const ew=[{to:"/",label:"Sesiones"},{to:"/personal",label:"Personal"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function t5(){const[e,t]=k.useState(!1),[n,r]=k.useState(!1),{user:i,signOut:o}=_s(),l=async()=>{try{r(!0),await o()}catch(u){console.error("No se pudo cerrar sesin",u)}finally{r(!1),t(!1)}};return g.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[g.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[g.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),g.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increbles"})]})]}),g.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[g.jsx("nav",{className:"flex items-center gap-2",children:ew.map(u=>g.jsx(vv,{to:u.to,className:({isActive:c})=>`rounded-full px-4 py-2 text-sm font-medium transition ${c?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:u.label},u.to))}),g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-white/50",children:"Sesin iniciada"}),g.jsx("p",{className:"text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"})]}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]}),g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),g.jsxs(ix,{open:e,onClose:t,className:"md:hidden",children:[g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),g.jsxs(ix.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegacin"}),g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsx("div",{className:"mt-6 flex flex-col gap-2",children:ew.map(u=>g.jsx(vv,{to:u.to,className:({isActive:c})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${c?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:u.label},u.to))}),g.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesin iniciada"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]})]})]})}function n5(){return RR(),OR(),g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(t5,{}),g.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:g.jsx(dw,{})})]})}function r5(){return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),g.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner"})]})})}function i5(){const{session:e,loading:t}=_s(),n=ii();return t?g.jsx(r5,{}):e?g.jsx(dw,{}):g.jsx(wc,{to:"/login",replace:!0,state:{from:n}})}function s5(){return g.jsx(Y_,{children:g.jsxs($_,{children:[g.jsx(wn,{path:"/login",element:g.jsx($3,{})}),g.jsx(wn,{element:g.jsx(i5,{}),children:g.jsxs(wn,{element:g.jsx(n5,{}),children:[g.jsx(wn,{index:!0,element:g.jsx(j3,{})}),g.jsx(wn,{path:"personal",element:g.jsx(K3,{})}),g.jsx(wn,{path:"personal/sessions",element:g.jsx(G3,{})}),g.jsx(wn,{path:"personal/settings",element:g.jsx(e5,{})}),g.jsx(wn,{path:"plan",element:g.jsx(N3,{})}),g.jsx(wn,{path:"catalog",element:g.jsx(R3,{})}),g.jsx(wn,{path:"catalog/taxonomy",element:g.jsx(O3,{})}),g.jsx(wn,{path:"objectives",element:g.jsx(M3,{})}),g.jsx(wn,{path:"assistants",element:g.jsx(L3,{})}),g.jsx(wn,{path:"backups",element:g.jsx(D3,{})})]})}),g.jsx(wn,{path:"*",element:g.jsx(wc,{to:"/",replace:!0})})]})})}function o5({children:e}){const[t,n]=k.useState(null),[r,i]=k.useState(null),[o,l]=k.useState(!0);k.useEffect(()=>{let c=!0;(async()=>{l(!0);const{data:{session:p}}=await Bt.auth.getSession();c&&(n(p),i((p==null?void 0:p.user)??null),l(!1))})();const{data:{subscription:h}}=Bt.auth.onAuthStateChange((p,v)=>{c&&(n(v),i((v==null?void 0:v.user)??null),l(!1))});return()=>{c=!1,h.unsubscribe()}},[]);const u=k.useMemo(()=>({session:t,user:r,loading:o,signInWithPassword:async(c,f)=>{const{error:h}=await Bt.auth.signInWithPassword({email:c,password:f});if(h)throw h},signUpWithPassword:async(c,f)=>{const p=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:v}=await Bt.auth.signUp({email:c,password:f,options:{emailRedirectTo:p}});if(v)throw v},signOut:async()=>{const{error:c}=await Bt.auth.signOut();if(c)throw c}}),[o,t,r]);return g.jsx(Lb.Provider,{value:u,children:e})}Ee.getState().hydrate();YE.createRoot(document.getElementById("root")).render(g.jsx(Se.StrictMode,{children:g.jsx(o5,{children:g.jsx(s5,{})})}));
