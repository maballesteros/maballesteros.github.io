function Wb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Os(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hb(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var id={exports:{}},Eo={},sd={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function Vb(){if(Qm)return Re;Qm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=p&&A[p]||A["@@iterator"],typeof A=="function"?A:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,k={};function E(A,V,P){this.props=A,this.context=V,this.refs=k,this.updater=P||y}E.prototype.isReactComponent={},E.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function T(){}T.prototype=E.prototype;function R(A,V,P){this.props=A,this.context=V,this.refs=k,this.updater=P||y}var N=R.prototype=new T;N.constructor=R,b(N,E.prototype),N.isPureReactComponent=!0;var L=Array.isArray,H=Object.prototype.hasOwnProperty,j={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function J(A,V,P){var ae,fe={},ue=null,Ee=null;if(V!=null)for(ae in V.ref!==void 0&&(Ee=V.ref),V.key!==void 0&&(ue=""+V.key),V)H.call(V,ae)&&!$.hasOwnProperty(ae)&&(fe[ae]=V[ae]);var ye=arguments.length-2;if(ye===1)fe.children=P;else if(1<ye){for(var we=Array(ye),he=0;he<ye;he++)we[he]=arguments[he+2];fe.children=we}if(A&&A.defaultProps)for(ae in ye=A.defaultProps,ye)fe[ae]===void 0&&(fe[ae]=ye[ae]);return{$$typeof:e,type:A,key:ue,ref:Ee,props:fe,_owner:j.current}}function F(A,V){return{$$typeof:e,type:A.type,key:V,ref:A.ref,props:A.props,_owner:A._owner}}function I(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function z(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(P){return V[P]})}var U=/\/+/g;function Z(A,V){return typeof A=="object"&&A!==null&&A.key!=null?z(""+A.key):V.toString(36)}function K(A,V,P,ae,fe){var ue=typeof A;(ue==="undefined"||ue==="boolean")&&(A=null);var Ee=!1;if(A===null)Ee=!0;else switch(ue){case"string":case"number":Ee=!0;break;case"object":switch(A.$$typeof){case e:case t:Ee=!0}}if(Ee)return Ee=A,fe=fe(Ee),A=ae===""?"."+Z(Ee,0):ae,L(fe)?(P="",A!=null&&(P=A.replace(U,"$&/")+"/"),K(fe,V,P,"",function(he){return he})):fe!=null&&(I(fe)&&(fe=F(fe,P+(!fe.key||Ee&&Ee.key===fe.key?"":(""+fe.key).replace(U,"$&/")+"/")+A)),V.push(fe)),1;if(Ee=0,ae=ae===""?".":ae+":",L(A))for(var ye=0;ye<A.length;ye++){ue=A[ye];var we=ae+Z(ue,ye);Ee+=K(ue,V,P,we,fe)}else if(we=v(A),typeof we=="function")for(A=we.call(A),ye=0;!(ue=A.next()).done;)ue=ue.value,we=ae+Z(ue,ye++),Ee+=K(ue,V,P,we,fe);else if(ue==="object")throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Ee}function G(A,V,P){if(A==null)return A;var ae=[],fe=0;return K(A,ae,"","",function(ue){return V.call(P,ue,fe++)}),ae}function ee(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(P){(A._status===0||A._status===-1)&&(A._status=1,A._result=P)},function(P){(A._status===0||A._status===-1)&&(A._status=2,A._result=P)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var te={current:null},B={transition:null},X={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:B,ReactCurrentOwner:j};function C(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:G,forEach:function(A,V,P){G(A,function(){V.apply(this,arguments)},P)},count:function(A){var V=0;return G(A,function(){V++}),V},toArray:function(A){return G(A,function(V){return V})||[]},only:function(A){if(!I(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Re.Component=E,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=R,Re.StrictMode=r,Re.Suspense=d,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Re.act=C,Re.cloneElement=function(A,V,P){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ae=b({},A.props),fe=A.key,ue=A.ref,Ee=A._owner;if(V!=null){if(V.ref!==void 0&&(ue=V.ref,Ee=j.current),V.key!==void 0&&(fe=""+V.key),A.type&&A.type.defaultProps)var ye=A.type.defaultProps;for(we in V)H.call(V,we)&&!$.hasOwnProperty(we)&&(ae[we]=V[we]===void 0&&ye!==void 0?ye[we]:V[we])}var we=arguments.length-2;if(we===1)ae.children=P;else if(1<we){ye=Array(we);for(var he=0;he<we;he++)ye[he]=arguments[he+2];ae.children=ye}return{$$typeof:e,type:A.type,key:fe,ref:ue,props:ae,_owner:Ee}},Re.createContext=function(A){return A={$$typeof:a,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Re.createElement=J,Re.createFactory=function(A){var V=J.bind(null,A);return V.type=A,V},Re.createRef=function(){return{current:null}},Re.forwardRef=function(A){return{$$typeof:c,render:A}},Re.isValidElement=I,Re.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:ee}},Re.memo=function(A,V){return{$$typeof:f,type:A,compare:V===void 0?null:V}},Re.startTransition=function(A){var V=B.transition;B.transition={};try{A()}finally{B.transition=V}},Re.unstable_act=C,Re.useCallback=function(A,V){return te.current.useCallback(A,V)},Re.useContext=function(A){return te.current.useContext(A)},Re.useDebugValue=function(){},Re.useDeferredValue=function(A){return te.current.useDeferredValue(A)},Re.useEffect=function(A,V){return te.current.useEffect(A,V)},Re.useId=function(){return te.current.useId()},Re.useImperativeHandle=function(A,V,P){return te.current.useImperativeHandle(A,V,P)},Re.useInsertionEffect=function(A,V){return te.current.useInsertionEffect(A,V)},Re.useLayoutEffect=function(A,V){return te.current.useLayoutEffect(A,V)},Re.useMemo=function(A,V){return te.current.useMemo(A,V)},Re.useReducer=function(A,V,P){return te.current.useReducer(A,V,P)},Re.useRef=function(A){return te.current.useRef(A)},Re.useState=function(A){return te.current.useState(A)},Re.useSyncExternalStore=function(A,V,P){return te.current.useSyncExternalStore(A,V,P)},Re.useTransition=function(){return te.current.useTransition()},Re.version="18.3.1",Re}var Xm;function tu(){return Xm||(Xm=1,sd.exports=Vb()),sd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function qb(){if(Zm)return Eo;Zm=1;var e=tu(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var m,p={},v=null,y=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(y=d.ref);for(m in d)r.call(d,m)&&!l.hasOwnProperty(m)&&(p[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:t,type:c,key:v,ref:y,props:p,_owner:o.current}}return Eo.Fragment=n,Eo.jsx=a,Eo.jsxs=a,Eo}var eg;function Kb(){return eg||(eg=1,id.exports=qb()),id.exports}var x=Kb(),_=tu();const me=Os(_),Kd=Wb({__proto__:null,default:me},[_]);var ya={},od={exports:{}},Gt={},ld={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function Yb(){return tg||(tg=1,(function(e){function t(B,X){var C=B.length;B.push(X);e:for(;0<C;){var A=C-1>>>1,V=B[A];if(0<o(V,X))B[A]=X,B[C]=V,C=A;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var X=B[0],C=B.pop();if(C!==X){B[0]=C;e:for(var A=0,V=B.length,P=V>>>1;A<P;){var ae=2*(A+1)-1,fe=B[ae],ue=ae+1,Ee=B[ue];if(0>o(fe,C))ue<V&&0>o(Ee,fe)?(B[A]=Ee,B[ue]=C,A=ue):(B[A]=fe,B[ae]=C,A=ae);else if(ue<V&&0>o(Ee,C))B[A]=Ee,B[ue]=C,A=ue;else break e}}return X}function o(B,X){var C=B.sortIndex-X.sortIndex;return C!==0?C:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var d=[],f=[],m=1,p=null,v=3,y=!1,b=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(B){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=B)r(f),X.sortIndex=X.expirationTime,t(d,X);else break;X=n(f)}}function L(B){if(k=!1,N(B),!b)if(n(d)!==null)b=!0,ee(H);else{var X=n(f);X!==null&&te(L,X.startTime-B)}}function H(B,X){b=!1,k&&(k=!1,T(J),J=-1),y=!0;var C=v;try{for(N(X),p=n(d);p!==null&&(!(p.expirationTime>X)||B&&!z());){var A=p.callback;if(typeof A=="function"){p.callback=null,v=p.priorityLevel;var V=A(p.expirationTime<=X);X=e.unstable_now(),typeof V=="function"?p.callback=V:p===n(d)&&r(d),N(X)}else r(d);p=n(d)}if(p!==null)var P=!0;else{var ae=n(f);ae!==null&&te(L,ae.startTime-X),P=!1}return P}finally{p=null,v=C,y=!1}}var j=!1,$=null,J=-1,F=5,I=-1;function z(){return!(e.unstable_now()-I<F)}function U(){if($!==null){var B=e.unstable_now();I=B;var X=!0;try{X=$(!0,B)}finally{X?Z():(j=!1,$=null)}}else j=!1}var Z;if(typeof R=="function")Z=function(){R(U)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=U,Z=function(){G.postMessage(null)}}else Z=function(){E(U,0)};function ee(B){$=B,j||(j=!0,Z())}function te(B,X){J=E(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,ee(H))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var C=v;v=X;try{return B()}finally{v=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var C=v;v=B;try{return X()}finally{v=C}},e.unstable_scheduleCallback=function(B,X,C){var A=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?A+C:A):C=A,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=C+V,B={id:m++,callback:X,priorityLevel:B,startTime:C,expirationTime:V,sortIndex:-1},C>A?(B.sortIndex=C,t(f,B),n(d)===null&&B===n(f)&&(k?(T(J),J=-1):k=!0,te(L,C-A))):(B.sortIndex=V,t(d,B),b||y||(b=!0,ee(H))),B},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(B){var X=v;return function(){var C=v;v=X;try{return B.apply(this,arguments)}finally{v=C}}}})(ad)),ad}var ng;function Gb(){return ng||(ng=1,ld.exports=Yb()),ld.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Jb(){if(rg)return Gt;rg=1;var e=tu(),t=Gb();function n(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,s){a(i,s),a(i+"Capture",s)}function a(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function v(i){return d.call(p,i)?!0:d.call(m,i)?!1:f.test(i)?p[i]=!0:(m[i]=!0,!1)}function y(i,s,u,h){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,s,u,h){if(s===null||typeof s>"u"||y(i,s,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(i,s,u,h,g,w,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=w,this.removeEmptyString=S}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];E[s]=new k(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(T,R);E[s]=new k(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(T,R);E[s]=new k(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(T,R);E[s]=new k(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,s,u,h){var g=E.hasOwnProperty(s)?E[s]:null;(g!==null?g.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,u,g,h)&&(u=null),h||g===null?v(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(s=g.attributeName,h=g.attributeNamespace,u===null?i.removeAttribute(s):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?i.setAttributeNS(h,s,u):i.setAttribute(s,u))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),z=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),B=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var C=Object.assign,A;function V(i){if(A===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);A=s&&s[1]||""}return`
`+A+i}var P=!1;function ae(i,s){if(!i||P)return"";P=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var h=Y}Reflect.construct(i,[],s)}else{try{s.call()}catch(Y){h=Y}i.call(s.prototype)}else{try{throw Error()}catch(Y){h=Y}i()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),w=h.stack.split(`
`),S=g.length-1,O=w.length-1;1<=S&&0<=O&&g[S]!==w[O];)O--;for(;1<=S&&0<=O;S--,O--)if(g[S]!==w[O]){if(S!==1||O!==1)do if(S--,O--,0>O||g[S]!==w[O]){var D=`
`+g[S].replace(" at new "," at ");return i.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",i.displayName)),D}while(1<=S&&0<=O);break}}}finally{P=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?V(i):""}function fe(i){switch(i.tag){case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return i=ae(i.type,!1),i;case 11:return i=ae(i.type.render,!1),i;case 1:return i=ae(i.type,!0),i;default:return""}}function ue(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case $:return"Fragment";case j:return"Portal";case F:return"Profiler";case J:return"StrictMode";case Z:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case z:return(i.displayName||"Context")+".Consumer";case I:return(i._context.displayName||"Context")+".Provider";case U:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:ue(i.type)||"Memo";case ee:s=i._payload,i=i._init;try{return ue(i(s))}catch{}}return null}function Ee(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(s);case 8:return s===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ye(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function we(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function he(i){var s=we(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,w.call(this,S)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ke(i){i._valueTracker||(i._valueTracker=he(i))}function nt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=we(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function gt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Lt(i,s){var u=s.checked;return C({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function fn(i,s){var u=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;u=ye(s.value!=null?s.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function hn(i,s){s=s.checked,s!=null&&N(i,"checked",s,!1)}function lr(i,s){hn(i,s);var u=ye(s.value),h=s.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Hn(i,s.type,u):s.hasOwnProperty("defaultValue")&&Hn(i,s.type,ye(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function ui(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Hn(i,s,u){(s!=="number"||gt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var kt=Array.isArray;function nn(i,s,u,h){if(i=i.options,s){s={};for(var g=0;g<u.length;g++)s["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=s.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+ye(u),s=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Vn(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return C({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ci(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(n(92));if(kt(u)){if(1<u.length)throw Error(n(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:ye(u)}}function di(i,s){var u=ye(s.value),h=ye(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function zi(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Q(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Q(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xe,je=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,h,g){MSApp.execUnsafeLocalFunction(function(){return i(s,u,h,g)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(xe=xe||document.createElement("div"),xe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=xe.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Oe(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pn=["Webkit","ms","Moz","O"];Object.keys(Ue).forEach(function(i){pn.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Ue[s]=Ue[i]})});function Bt(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Ue.hasOwnProperty(i)&&Ue[i]?(""+s).trim():s+"px"}function qn(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Bt(u,s[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,g):i[u]=g}}var jn=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lt(i,s){if(s){if(jn[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function mn(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=null;function Bs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ws=null,Cr=null,Ge=null;function Ct(i){if(i=uo(i)){if(typeof Ws!="function")throw Error(n(280));var s=i.stateNode;s&&(s=Ol(s),Ws(i.stateNode,i.type,s))}}function jt(i){Cr?Ge?Ge.push(i):Ge=[i]:Cr=i}function Tn(){if(Cr){var i=Cr,s=Ge;if(Ge=Cr=null,Ct(i),s)for(i=0;i<s.length;i++)Ct(s[i])}}function Mt(i,s){return i(s)}function Tt(){}var Wt=!1;function ar(i,s,u){if(Wt)return i(s,u);Wt=!0;try{return Mt(i,s,u)}finally{Wt=!1,(Cr!==null||Ge!==null)&&(Tt(),Tn())}}function Je(i,s){var u=i.stateNode;if(u===null)return null;var h=Ol(u);if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var gn=!1;if(c)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){gn=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{gn=!1}function Pn(i,s,u,h,g,w,S,O,D){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(u,Y)}catch(re){this.onError(re)}}var Nn=!1,Kn=null,rn=!1,ur=null,Hs={onError:function(i){Nn=!0,Kn=i}};function Q0(i,s,u,h,g,w,S,O,D){Nn=!1,Kn=null,Pn.apply(Hs,arguments)}function X0(i,s,u,h,g,w,S,O,D){if(Q0.apply(this,arguments),Nn){if(Nn){var Y=Kn;Nn=!1,Kn=null}else throw Error(n(198));rn||(rn=!0,ur=Y)}}function fi(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function xh(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function bh(i){if(fi(i)!==i)throw Error(n(188))}function Z0(i){var s=i.alternate;if(!s){if(s=fi(i),s===null)throw Error(n(188));return s!==i?null:i}for(var u=i,h=s;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return bh(g),i;if(w===h)return bh(g),s;w=w.sibling}throw Error(n(188))}if(u.return!==h.return)u=g,h=w;else{for(var S=!1,O=g.child;O;){if(O===u){S=!0,u=g,h=w;break}if(O===h){S=!0,h=g,u=w;break}O=O.sibling}if(!S){for(O=w.child;O;){if(O===u){S=!0,u=w,h=g;break}if(O===h){S=!0,h=w,u=g;break}O=O.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:s}function kh(i){return i=Z0(i),i!==null?Sh(i):null}function Sh(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Sh(i);if(s!==null)return s;i=i.sibling}return null}var _h=t.unstable_scheduleCallback,Eh=t.unstable_cancelCallback,ex=t.unstable_shouldYield,tx=t.unstable_requestPaint,rt=t.unstable_now,nx=t.unstable_getCurrentPriorityLevel,_u=t.unstable_ImmediatePriority,Ch=t.unstable_UserBlockingPriority,hl=t.unstable_NormalPriority,rx=t.unstable_LowPriority,jh=t.unstable_IdlePriority,pl=null,Yn=null;function ix(i){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(pl,i,void 0,(i.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:lx,sx=Math.log,ox=Math.LN2;function lx(i){return i>>>=0,i===0?32:31-(sx(i)/ox|0)|0}var ml=64,gl=4194304;function Vs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function vl(i,s){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,w=i.pingedLanes,S=u&268435455;if(S!==0){var O=S&~g;O!==0?h=Vs(O):(w&=S,w!==0&&(h=Vs(w)))}else S=u&~g,S!==0?h=Vs(S):w!==0&&(h=Vs(w));if(h===0)return 0;if(s!==0&&s!==h&&(s&g)===0&&(g=h&-h,w=s&-s,g>=w||g===16&&(w&4194240)!==0))return s;if((h&4)!==0&&(h|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)u=31-Rn(s),g=1<<u,h|=i[u],s&=~g;return h}function ax(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ux(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes;0<w;){var S=31-Rn(w),O=1<<S,D=g[S];D===-1?((O&u)===0||(O&h)!==0)&&(g[S]=ax(O,s)):D<=s&&(i.expiredLanes|=O),w&=~O}}function Eu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Th(){var i=ml;return ml<<=1,(ml&4194240)===0&&(ml=64),i}function Cu(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function qs(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Rn(s),i[s]=u}function cx(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-Rn(u),w=1<<g;s[g]=0,h[g]=-1,i[g]=-1,u&=~w}}function ju(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-Rn(u),g=1<<h;g&s|i[h]&s&&(i[h]|=s),u&=~g}}var $e=0;function Ph(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Nh,Tu,Rh,Ih,Oh,Pu=!1,yl=[],jr=null,Tr=null,Pr=null,Ks=new Map,Ys=new Map,Nr=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ah(i,s){switch(i){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Ks.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(s.pointerId)}}function Gs(i,s,u,h,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},s!==null&&(s=uo(s),s!==null&&Tu(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function fx(i,s,u,h,g){switch(s){case"focusin":return jr=Gs(jr,i,s,u,h,g),!0;case"dragenter":return Tr=Gs(Tr,i,s,u,h,g),!0;case"mouseover":return Pr=Gs(Pr,i,s,u,h,g),!0;case"pointerover":var w=g.pointerId;return Ks.set(w,Gs(Ks.get(w)||null,i,s,u,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Ys.set(w,Gs(Ys.get(w)||null,i,s,u,h,g)),!0}return!1}function Dh(i){var s=hi(i.target);if(s!==null){var u=fi(s);if(u!==null){if(s=u.tag,s===13){if(s=xh(u),s!==null){i.blockedOn=s,Oh(i.priority,function(){Rh(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wl(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Ru(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Et=h,u.target.dispatchEvent(h),Et=null}else return s=uo(u),s!==null&&Tu(s),i.blockedOn=u,!1;s.shift()}return!0}function Lh(i,s,u){wl(i)&&u.delete(s)}function hx(){Pu=!1,jr!==null&&wl(jr)&&(jr=null),Tr!==null&&wl(Tr)&&(Tr=null),Pr!==null&&wl(Pr)&&(Pr=null),Ks.forEach(Lh),Ys.forEach(Lh)}function Js(i,s){i.blockedOn===s&&(i.blockedOn=null,Pu||(Pu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hx)))}function Qs(i){function s(g){return Js(g,i)}if(0<yl.length){Js(yl[0],i);for(var u=1;u<yl.length;u++){var h=yl[u];h.blockedOn===i&&(h.blockedOn=null)}}for(jr!==null&&Js(jr,i),Tr!==null&&Js(Tr,i),Pr!==null&&Js(Pr,i),Ks.forEach(s),Ys.forEach(s),u=0;u<Nr.length;u++)h=Nr[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<Nr.length&&(u=Nr[0],u.blockedOn===null);)Dh(u),u.blockedOn===null&&Nr.shift()}var Ui=L.ReactCurrentBatchConfig,xl=!0;function px(i,s,u,h){var g=$e,w=Ui.transition;Ui.transition=null;try{$e=1,Nu(i,s,u,h)}finally{$e=g,Ui.transition=w}}function mx(i,s,u,h){var g=$e,w=Ui.transition;Ui.transition=null;try{$e=4,Nu(i,s,u,h)}finally{$e=g,Ui.transition=w}}function Nu(i,s,u,h){if(xl){var g=Ru(i,s,u,h);if(g===null)Yu(i,s,h,bl,u),Ah(i,h);else if(fx(g,i,s,u,h))h.stopPropagation();else if(Ah(i,h),s&4&&-1<dx.indexOf(i)){for(;g!==null;){var w=uo(g);if(w!==null&&Nh(w),w=Ru(i,s,u,h),w===null&&Yu(i,s,h,bl,u),w===g)break;g=w}g!==null&&h.stopPropagation()}else Yu(i,s,h,null,u)}}var bl=null;function Ru(i,s,u,h){if(bl=null,i=Bs(h),i=hi(i),i!==null)if(s=fi(i),s===null)i=null;else if(u=s.tag,u===13){if(i=xh(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return bl=i,null}function Mh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nx()){case _u:return 1;case Ch:return 4;case hl:case rx:return 16;case jh:return 536870912;default:return 16}default:return 16}}var Rr=null,Iu=null,kl=null;function $h(){if(kl)return kl;var i,s=Iu,u=s.length,h,g="value"in Rr?Rr.value:Rr.textContent,w=g.length;for(i=0;i<u&&s[i]===g[i];i++);var S=u-i;for(h=1;h<=S&&s[u-h]===g[w-h];h++);return kl=g.slice(i,1<h?1-h:void 0)}function Sl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function _l(){return!0}function Fh(){return!1}function sn(i){function s(u,h,g,w,S){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(u=i[O],this[O]=u?u(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?_l:Fh,this.isPropagationStopped=Fh,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),s}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=sn(Bi),Xs=C({},Bi,{view:0,detail:0}),gx=sn(Xs),Au,Du,Zs,El=C({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zs&&(Zs&&i.type==="mousemove"?(Au=i.screenX-Zs.screenX,Du=i.screenY-Zs.screenY):Du=Au=0,Zs=i),Au)},movementY:function(i){return"movementY"in i?i.movementY:Du}}),zh=sn(El),vx=C({},El,{dataTransfer:0}),yx=sn(vx),wx=C({},Xs,{relatedTarget:0}),Lu=sn(wx),xx=C({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=sn(xx),kx=C({},Bi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Sx=sn(kx),_x=C({},Bi,{data:0}),Uh=sn(_x),Ex={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tx(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=jx[i])?!!s[i]:!1}function Mu(){return Tx}var Px=C({},Xs,{key:function(i){if(i.key){var s=Ex[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Sl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(i){return i.type==="keypress"?Sl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Sl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Nx=sn(Px),Rx=C({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bh=sn(Rx),Ix=C({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),Ox=sn(Ix),Ax=C({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=sn(Ax),Lx=C({},El,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=sn(Lx),$x=[9,13,27,32],$u=c&&"CompositionEvent"in window,eo=null;c&&"documentMode"in document&&(eo=document.documentMode);var Fx=c&&"TextEvent"in window&&!eo,Wh=c&&(!$u||eo&&8<eo&&11>=eo),Hh=" ",Vh=!1;function qh(i,s){switch(i){case"keyup":return $x.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wi=!1;function zx(i,s){switch(i){case"compositionend":return Kh(s);case"keypress":return s.which!==32?null:(Vh=!0,Hh);case"textInput":return i=s.data,i===Hh&&Vh?null:i;default:return null}}function Ux(i,s){if(Wi)return i==="compositionend"||!$u&&qh(i,s)?(i=$h(),kl=Iu=Rr=null,Wi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wh&&s.locale!=="ko"?null:s.data;default:return null}}var Bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Bx[i.type]:s==="textarea"}function Gh(i,s,u,h){jt(h),s=Nl(s,"onChange"),0<s.length&&(u=new Ou("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var to=null,no=null;function Wx(i){hp(i,0)}function Cl(i){var s=Yi(i);if(nt(s))return i}function Hx(i,s){if(i==="change")return s}var Jh=!1;if(c){var Fu;if(c){var zu="oninput"in document;if(!zu){var Qh=document.createElement("div");Qh.setAttribute("oninput","return;"),zu=typeof Qh.oninput=="function"}Fu=zu}else Fu=!1;Jh=Fu&&(!document.documentMode||9<document.documentMode)}function Xh(){to&&(to.detachEvent("onpropertychange",Zh),no=to=null)}function Zh(i){if(i.propertyName==="value"&&Cl(no)){var s=[];Gh(s,no,i,Bs(i)),ar(Wx,s)}}function Vx(i,s,u){i==="focusin"?(Xh(),to=s,no=u,to.attachEvent("onpropertychange",Zh)):i==="focusout"&&Xh()}function qx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cl(no)}function Kx(i,s){if(i==="click")return Cl(s)}function Yx(i,s){if(i==="input"||i==="change")return Cl(s)}function Gx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var In=typeof Object.is=="function"?Object.is:Gx;function ro(i,s){if(In(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!d.call(s,g)||!In(i[g],s[g]))return!1}return!0}function ep(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tp(i,s){var u=ep(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ep(u)}}function np(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?np(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function rp(){for(var i=window,s=gt();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=gt(i.document)}return s}function Uu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Jx(i){var s=rp(),u=i.focusedElem,h=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&np(u.ownerDocument.documentElement,u)){if(h!==null&&Uu(u)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!i.extend&&w>h&&(g=h,h=w,w=g),g=tp(u,w);var S=tp(u,h);g&&S&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),i.removeAllRanges(),w>h?(i.addRange(s),i.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Qx=c&&"documentMode"in document&&11>=document.documentMode,Hi=null,Bu=null,io=null,Wu=!1;function ip(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Wu||Hi==null||Hi!==gt(h)||(h=Hi,"selectionStart"in h&&Uu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),io&&ro(io,h)||(io=h,h=Nl(Bu,"onSelect"),0<h.length&&(s=new Ou("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=Hi)))}function jl(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Vi={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},Hu={},sp={};c&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Tl(i){if(Hu[i])return Hu[i];if(!Vi[i])return i;var s=Vi[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in sp)return Hu[i]=s[u];return i}var op=Tl("animationend"),lp=Tl("animationiteration"),ap=Tl("animationstart"),up=Tl("transitionend"),cp=new Map,dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(i,s){cp.set(i,s),l(s,[i])}for(var Vu=0;Vu<dp.length;Vu++){var qu=dp[Vu],Xx=qu.toLowerCase(),Zx=qu[0].toUpperCase()+qu.slice(1);Ir(Xx,"on"+Zx)}Ir(op,"onAnimationEnd"),Ir(lp,"onAnimationIteration"),Ir(ap,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(up,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function fp(i,s,u){var h=i.type||"unknown-event";i.currentTarget=u,X0(h,s,void 0,i),i.currentTarget=null}function hp(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var w=void 0;if(s)for(var S=h.length-1;0<=S;S--){var O=h[S],D=O.instance,Y=O.currentTarget;if(O=O.listener,D!==w&&g.isPropagationStopped())break e;fp(g,O,Y),w=D}else for(S=0;S<h.length;S++){if(O=h[S],D=O.instance,Y=O.currentTarget,O=O.listener,D!==w&&g.isPropagationStopped())break e;fp(g,O,Y),w=D}}}if(rn)throw i=ur,rn=!1,ur=null,i}function Ve(i,s){var u=s[ec];u===void 0&&(u=s[ec]=new Set);var h=i+"__bubble";u.has(h)||(pp(s,i,2,!1),u.add(h))}function Ku(i,s,u){var h=0;s&&(h|=4),pp(u,i,h,s)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function oo(i){if(!i[Pl]){i[Pl]=!0,r.forEach(function(u){u!=="selectionchange"&&(eb.has(u)||Ku(u,!1,i),Ku(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Pl]||(s[Pl]=!0,Ku("selectionchange",!1,s))}}function pp(i,s,u,h){switch(Mh(s)){case 1:var g=px;break;case 4:g=mx;break;default:g=Nu}u=g.bind(null,s,u,i),g=void 0,!gn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,u,{capture:!0,passive:g}):i.addEventListener(s,u,!0):g!==void 0?i.addEventListener(s,u,{passive:g}):i.addEventListener(s,u,!1)}function Yu(i,s,u,h,g){var w=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var O=h.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(S===4)for(S=h.return;S!==null;){var D=S.tag;if((D===3||D===4)&&(D=S.stateNode.containerInfo,D===g||D.nodeType===8&&D.parentNode===g))return;S=S.return}for(;O!==null;){if(S=hi(O),S===null)return;if(D=S.tag,D===5||D===6){h=w=S;continue e}O=O.parentNode}}h=h.return}ar(function(){var Y=w,re=Bs(u),ie=[];e:{var ne=cp.get(i);if(ne!==void 0){var ce=Ou,pe=i;switch(i){case"keypress":if(Sl(u)===0)break e;case"keydown":case"keyup":ce=Nx;break;case"focusin":pe="focus",ce=Lu;break;case"focusout":pe="blur",ce=Lu;break;case"beforeblur":case"afterblur":ce=Lu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Ox;break;case op:case lp:case ap:ce=bx;break;case up:ce=Dx;break;case"scroll":ce=gx;break;case"wheel":ce=Mx;break;case"copy":case"cut":case"paste":ce=Sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Bh}var ge=(s&4)!==0,it=!ge&&i==="scroll",W=ge?ne!==null?ne+"Capture":null:ne;ge=[];for(var M=Y,q;M!==null;){q=M;var le=q.stateNode;if(q.tag===5&&le!==null&&(q=le,W!==null&&(le=Je(M,W),le!=null&&ge.push(lo(M,le,q)))),it)break;M=M.return}0<ge.length&&(ne=new ce(ne,pe,null,u,re),ie.push({event:ne,listeners:ge}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",ne&&u!==Et&&(pe=u.relatedTarget||u.fromElement)&&(hi(pe)||pe[cr]))break e;if((ce||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ce?(pe=u.relatedTarget||u.toElement,ce=Y,pe=pe?hi(pe):null,pe!==null&&(it=fi(pe),pe!==it||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=Y),ce!==pe)){if(ge=zh,le="onMouseLeave",W="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(ge=Bh,le="onPointerLeave",W="onPointerEnter",M="pointer"),it=ce==null?ne:Yi(ce),q=pe==null?ne:Yi(pe),ne=new ge(le,M+"leave",ce,u,re),ne.target=it,ne.relatedTarget=q,le=null,hi(re)===Y&&(ge=new ge(W,M+"enter",pe,u,re),ge.target=q,ge.relatedTarget=it,le=ge),it=le,ce&&pe)t:{for(ge=ce,W=pe,M=0,q=ge;q;q=qi(q))M++;for(q=0,le=W;le;le=qi(le))q++;for(;0<M-q;)ge=qi(ge),M--;for(;0<q-M;)W=qi(W),q--;for(;M--;){if(ge===W||W!==null&&ge===W.alternate)break t;ge=qi(ge),W=qi(W)}ge=null}else ge=null;ce!==null&&mp(ie,ne,ce,ge,!1),pe!==null&&it!==null&&mp(ie,it,pe,ge,!0)}}e:{if(ne=Y?Yi(Y):window,ce=ne.nodeName&&ne.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ne.type==="file")var ve=Hx;else if(Yh(ne))if(Jh)ve=Yx;else{ve=qx;var be=Vx}else(ce=ne.nodeName)&&ce.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ve=Kx);if(ve&&(ve=ve(i,Y))){Gh(ie,ve,u,re);break e}be&&be(i,ne,Y),i==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&Hn(ne,"number",ne.value)}switch(be=Y?Yi(Y):window,i){case"focusin":(Yh(be)||be.contentEditable==="true")&&(Hi=be,Bu=Y,io=null);break;case"focusout":io=Bu=Hi=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,ip(ie,u,re);break;case"selectionchange":if(Qx)break;case"keydown":case"keyup":ip(ie,u,re)}var ke;if($u)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Wi?qh(i,u)&&(Ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Wh&&u.locale!=="ko"&&(Wi||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Wi&&(ke=$h()):(Rr=re,Iu="value"in Rr?Rr.value:Rr.textContent,Wi=!0)),be=Nl(Y,Ce),0<be.length&&(Ce=new Uh(Ce,i,null,u,re),ie.push({event:Ce,listeners:be}),ke?Ce.data=ke:(ke=Kh(u),ke!==null&&(Ce.data=ke)))),(ke=Fx?zx(i,u):Ux(i,u))&&(Y=Nl(Y,"onBeforeInput"),0<Y.length&&(re=new Uh("onBeforeInput","beforeinput",null,u,re),ie.push({event:re,listeners:Y}),re.data=ke))}hp(ie,s)})}function lo(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Nl(i,s){for(var u=s+"Capture",h=[];i!==null;){var g=i,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Je(i,u),w!=null&&h.unshift(lo(i,w,g)),w=Je(i,s),w!=null&&h.push(lo(i,w,g))),i=i.return}return h}function qi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function mp(i,s,u,h,g){for(var w=s._reactName,S=[];u!==null&&u!==h;){var O=u,D=O.alternate,Y=O.stateNode;if(D!==null&&D===h)break;O.tag===5&&Y!==null&&(O=Y,g?(D=Je(u,w),D!=null&&S.unshift(lo(u,D,O))):g||(D=Je(u,w),D!=null&&S.push(lo(u,D,O)))),u=u.return}S.length!==0&&i.push({event:s,listeners:S})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function gp(i){return(typeof i=="string"?i:""+i).replace(tb,`
`).replace(nb,"")}function Rl(i,s,u){if(s=gp(s),gp(i)!==s&&u)throw Error(n(425))}function Il(){}var Gu=null,Ju=null;function Qu(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,rb=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,ib=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(i){return vp.resolve(null).then(i).catch(sb)}:Xu;function sb(i){setTimeout(function(){throw i})}function Zu(i,s){var u=s,h=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){i.removeChild(g),Qs(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);Qs(s)}function Or(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function yp(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ki,ao="__reactProps$"+Ki,cr="__reactContainer$"+Ki,ec="__reactEvents$"+Ki,ob="__reactListeners$"+Ki,lb="__reactHandles$"+Ki;function hi(i){var s=i[Gn];if(s)return s;for(var u=i.parentNode;u;){if(s=u[cr]||u[Gn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=yp(i);i!==null;){if(u=i[Gn])return u;i=yp(i)}return s}i=u,u=i.parentNode}return null}function uo(i){return i=i[Gn]||i[cr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Yi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ol(i){return i[ao]||null}var tc=[],Gi=-1;function Ar(i){return{current:i}}function qe(i){0>Gi||(i.current=tc[Gi],tc[Gi]=null,Gi--)}function Be(i,s){Gi++,tc[Gi]=i.current,i.current=s}var Dr={},Nt=Ar(Dr),Ht=Ar(!1),pi=Dr;function Ji(i,s){var u=i.type.contextTypes;if(!u)return Dr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=s[w];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=g),g}function Vt(i){return i=i.childContextTypes,i!=null}function Al(){qe(Ht),qe(Nt)}function wp(i,s,u){if(Nt.current!==Dr)throw Error(n(168));Be(Nt,s),Be(Ht,u)}function xp(i,s,u){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in s))throw Error(n(108,Ee(i)||"Unknown",g));return C({},u,h)}function Dl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Dr,pi=Nt.current,Be(Nt,i),Be(Ht,Ht.current),!0}function bp(i,s,u){var h=i.stateNode;if(!h)throw Error(n(169));u?(i=xp(i,s,pi),h.__reactInternalMemoizedMergedChildContext=i,qe(Ht),qe(Nt),Be(Nt,i)):qe(Ht),Be(Ht,u)}var dr=null,Ll=!1,nc=!1;function kp(i){dr===null?dr=[i]:dr.push(i)}function ab(i){Ll=!0,kp(i)}function Lr(){if(!nc&&dr!==null){nc=!0;var i=0,s=$e;try{var u=dr;for($e=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}dr=null,Ll=!1}catch(g){throw dr!==null&&(dr=dr.slice(i+1)),_h(_u,Lr),g}finally{$e=s,nc=!1}}return null}var Qi=[],Xi=0,Ml=null,$l=0,vn=[],yn=0,mi=null,fr=1,hr="";function gi(i,s){Qi[Xi++]=$l,Qi[Xi++]=Ml,Ml=i,$l=s}function Sp(i,s,u){vn[yn++]=fr,vn[yn++]=hr,vn[yn++]=mi,mi=i;var h=fr;i=hr;var g=32-Rn(h)-1;h&=~(1<<g),u+=1;var w=32-Rn(s)+g;if(30<w){var S=g-g%5;w=(h&(1<<S)-1).toString(32),h>>=S,g-=S,fr=1<<32-Rn(s)+g|u<<g|h,hr=w+i}else fr=1<<w|u<<g|h,hr=i}function rc(i){i.return!==null&&(gi(i,1),Sp(i,1,0))}function ic(i){for(;i===Ml;)Ml=Qi[--Xi],Qi[Xi]=null,$l=Qi[--Xi],Qi[Xi]=null;for(;i===mi;)mi=vn[--yn],vn[yn]=null,hr=vn[--yn],vn[yn]=null,fr=vn[--yn],vn[yn]=null}var on=null,ln=null,Ye=!1,On=null;function _p(i,s){var u=kn(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function Ep(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,on=i,ln=Or(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,on=i,ln=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=mi!==null?{id:fr,overflow:hr}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=kn(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,on=i,ln=null,!0):!1;default:return!1}}function sc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function oc(i){if(Ye){var s=ln;if(s){var u=s;if(!Ep(i,s)){if(sc(i))throw Error(n(418));s=Or(u.nextSibling);var h=on;s&&Ep(i,s)?_p(h,u):(i.flags=i.flags&-4097|2,Ye=!1,on=i)}}else{if(sc(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ye=!1,on=i}}}function Cp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;on=i}function Fl(i){if(i!==on)return!1;if(!Ye)return Cp(i),Ye=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Qu(i.type,i.memoizedProps)),s&&(s=ln)){if(sc(i))throw jp(),Error(n(418));for(;s;)_p(i,s),s=Or(s.nextSibling)}if(Cp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){ln=Or(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}ln=null}}else ln=on?Or(i.stateNode.nextSibling):null;return!0}function jp(){for(var i=ln;i;)i=Or(i.nextSibling)}function Zi(){ln=on=null,Ye=!1}function lc(i){On===null?On=[i]:On.push(i)}var ub=L.ReactCurrentBatchConfig;function co(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,i));var g=h,w=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===w?s.ref:(s=function(S){var O=g.refs;S===null?delete O[w]:O[w]=S},s._stringRef=w,s)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function zl(i,s){throw i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Tp(i){var s=i._init;return s(i._payload)}function Pp(i){function s(W,M){if(i){var q=W.deletions;q===null?(W.deletions=[M],W.flags|=16):q.push(M)}}function u(W,M){if(!i)return null;for(;M!==null;)s(W,M),M=M.sibling;return null}function h(W,M){for(W=new Map;M!==null;)M.key!==null?W.set(M.key,M):W.set(M.index,M),M=M.sibling;return W}function g(W,M){return W=Hr(W,M),W.index=0,W.sibling=null,W}function w(W,M,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<M?(W.flags|=2,M):q):(W.flags|=2,M)):(W.flags|=1048576,M)}function S(W){return i&&W.alternate===null&&(W.flags|=2),W}function O(W,M,q,le){return M===null||M.tag!==6?(M=Xc(q,W.mode,le),M.return=W,M):(M=g(M,q),M.return=W,M)}function D(W,M,q,le){var ve=q.type;return ve===$?re(W,M,q.props.children,le,q.key):M!==null&&(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ee&&Tp(ve)===M.type)?(le=g(M,q.props),le.ref=co(W,M,q),le.return=W,le):(le=ca(q.type,q.key,q.props,null,W.mode,le),le.ref=co(W,M,q),le.return=W,le)}function Y(W,M,q,le){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Zc(q,W.mode,le),M.return=W,M):(M=g(M,q.children||[]),M.return=W,M)}function re(W,M,q,le,ve){return M===null||M.tag!==7?(M=_i(q,W.mode,le,ve),M.return=W,M):(M=g(M,q),M.return=W,M)}function ie(W,M,q){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Xc(""+M,W.mode,q),M.return=W,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case H:return q=ca(M.type,M.key,M.props,null,W.mode,q),q.ref=co(W,null,M),q.return=W,q;case j:return M=Zc(M,W.mode,q),M.return=W,M;case ee:var le=M._init;return ie(W,le(M._payload),q)}if(kt(M)||X(M))return M=_i(M,W.mode,q,null),M.return=W,M;zl(W,M)}return null}function ne(W,M,q,le){var ve=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:O(W,M,""+q,le);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case H:return q.key===ve?D(W,M,q,le):null;case j:return q.key===ve?Y(W,M,q,le):null;case ee:return ve=q._init,ne(W,M,ve(q._payload),le)}if(kt(q)||X(q))return ve!==null?null:re(W,M,q,le,null);zl(W,q)}return null}function ce(W,M,q,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number")return W=W.get(q)||null,O(M,W,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case H:return W=W.get(le.key===null?q:le.key)||null,D(M,W,le,ve);case j:return W=W.get(le.key===null?q:le.key)||null,Y(M,W,le,ve);case ee:var be=le._init;return ce(W,M,q,be(le._payload),ve)}if(kt(le)||X(le))return W=W.get(q)||null,re(M,W,le,ve,null);zl(M,le)}return null}function pe(W,M,q,le){for(var ve=null,be=null,ke=M,Ce=M=0,wt=null;ke!==null&&Ce<q.length;Ce++){ke.index>Ce?(wt=ke,ke=null):wt=ke.sibling;var Le=ne(W,ke,q[Ce],le);if(Le===null){ke===null&&(ke=wt);break}i&&ke&&Le.alternate===null&&s(W,ke),M=w(Le,M,Ce),be===null?ve=Le:be.sibling=Le,be=Le,ke=wt}if(Ce===q.length)return u(W,ke),Ye&&gi(W,Ce),ve;if(ke===null){for(;Ce<q.length;Ce++)ke=ie(W,q[Ce],le),ke!==null&&(M=w(ke,M,Ce),be===null?ve=ke:be.sibling=ke,be=ke);return Ye&&gi(W,Ce),ve}for(ke=h(W,ke);Ce<q.length;Ce++)wt=ce(ke,W,Ce,q[Ce],le),wt!==null&&(i&&wt.alternate!==null&&ke.delete(wt.key===null?Ce:wt.key),M=w(wt,M,Ce),be===null?ve=wt:be.sibling=wt,be=wt);return i&&ke.forEach(function(Vr){return s(W,Vr)}),Ye&&gi(W,Ce),ve}function ge(W,M,q,le){var ve=X(q);if(typeof ve!="function")throw Error(n(150));if(q=ve.call(q),q==null)throw Error(n(151));for(var be=ve=null,ke=M,Ce=M=0,wt=null,Le=q.next();ke!==null&&!Le.done;Ce++,Le=q.next()){ke.index>Ce?(wt=ke,ke=null):wt=ke.sibling;var Vr=ne(W,ke,Le.value,le);if(Vr===null){ke===null&&(ke=wt);break}i&&ke&&Vr.alternate===null&&s(W,ke),M=w(Vr,M,Ce),be===null?ve=Vr:be.sibling=Vr,be=Vr,ke=wt}if(Le.done)return u(W,ke),Ye&&gi(W,Ce),ve;if(ke===null){for(;!Le.done;Ce++,Le=q.next())Le=ie(W,Le.value,le),Le!==null&&(M=w(Le,M,Ce),be===null?ve=Le:be.sibling=Le,be=Le);return Ye&&gi(W,Ce),ve}for(ke=h(W,ke);!Le.done;Ce++,Le=q.next())Le=ce(ke,W,Ce,Le.value,le),Le!==null&&(i&&Le.alternate!==null&&ke.delete(Le.key===null?Ce:Le.key),M=w(Le,M,Ce),be===null?ve=Le:be.sibling=Le,be=Le);return i&&ke.forEach(function(Bb){return s(W,Bb)}),Ye&&gi(W,Ce),ve}function it(W,M,q,le){if(typeof q=="object"&&q!==null&&q.type===$&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case H:e:{for(var ve=q.key,be=M;be!==null;){if(be.key===ve){if(ve=q.type,ve===$){if(be.tag===7){u(W,be.sibling),M=g(be,q.props.children),M.return=W,W=M;break e}}else if(be.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ee&&Tp(ve)===be.type){u(W,be.sibling),M=g(be,q.props),M.ref=co(W,be,q),M.return=W,W=M;break e}u(W,be);break}else s(W,be);be=be.sibling}q.type===$?(M=_i(q.props.children,W.mode,le,q.key),M.return=W,W=M):(le=ca(q.type,q.key,q.props,null,W.mode,le),le.ref=co(W,M,q),le.return=W,W=le)}return S(W);case j:e:{for(be=q.key;M!==null;){if(M.key===be)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){u(W,M.sibling),M=g(M,q.children||[]),M.return=W,W=M;break e}else{u(W,M);break}else s(W,M);M=M.sibling}M=Zc(q,W.mode,le),M.return=W,W=M}return S(W);case ee:return be=q._init,it(W,M,be(q._payload),le)}if(kt(q))return pe(W,M,q,le);if(X(q))return ge(W,M,q,le);zl(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,M!==null&&M.tag===6?(u(W,M.sibling),M=g(M,q),M.return=W,W=M):(u(W,M),M=Xc(q,W.mode,le),M.return=W,W=M),S(W)):u(W,M)}return it}var es=Pp(!0),Np=Pp(!1),Ul=Ar(null),Bl=null,ts=null,ac=null;function uc(){ac=ts=Bl=null}function cc(i){var s=Ul.current;qe(Ul),i._currentValue=s}function dc(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function ns(i,s){Bl=i,ac=ts=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(qt=!0),i.firstContext=null)}function wn(i){var s=i._currentValue;if(ac!==i)if(i={context:i,memoizedValue:s,next:null},ts===null){if(Bl===null)throw Error(n(308));ts=i,Bl.dependencies={lanes:0,firstContext:i}}else ts=ts.next=i;return s}var vi=null;function fc(i){vi===null?vi=[i]:vi.push(i)}function Rp(i,s,u,h){var g=s.interleaved;return g===null?(u.next=u,fc(s)):(u.next=g.next,g.next=u),s.interleaved=u,pr(i,h)}function pr(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Mr=!1;function hc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ip(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function $r(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(De&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,pr(i,u)}return g=h.interleaved,g===null?(s.next=s,fc(h)):(s.next=g.next,g.next=s),h.interleaved=s,pr(i,u)}function Wl(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,ju(i,u)}}function Op(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=S:w=w.next=S,u=u.next}while(u!==null);w===null?g=w=s:w=w.next=s}else g=w=s;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Hl(i,s,u,h){var g=i.updateQueue;Mr=!1;var w=g.firstBaseUpdate,S=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var D=O,Y=D.next;D.next=null,S===null?w=Y:S.next=Y,S=D;var re=i.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==S&&(O===null?re.firstBaseUpdate=Y:O.next=Y,re.lastBaseUpdate=D))}if(w!==null){var ie=g.baseState;S=0,re=Y=D=null,O=w;do{var ne=O.lane,ce=O.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:ce,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var pe=i,ge=O;switch(ne=s,ce=u,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){ie=pe.call(ce,ie,ne);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,ne=typeof pe=="function"?pe.call(ce,ie,ne):pe,ne==null)break e;ie=C({},ie,ne);break e;case 2:Mr=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ne=g.effects,ne===null?g.effects=[O]:ne.push(O))}else ce={eventTime:ce,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(Y=re=ce,D=ie):re=re.next=ce,S|=ne;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(re===null&&(D=ie),g.baseState=D,g.firstBaseUpdate=Y,g.lastBaseUpdate=re,s=g.shared.interleaved,s!==null){g=s;do S|=g.lane,g=g.next;while(g!==s)}else w===null&&(g.shared.lanes=0);xi|=S,i.lanes=S,i.memoizedState=ie}}function Ap(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var fo={},Jn=Ar(fo),ho=Ar(fo),po=Ar(fo);function yi(i){if(i===fo)throw Error(n(174));return i}function pc(i,s){switch(Be(po,s),Be(ho,i),Be(Jn,fo),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:oe(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=oe(s,i)}qe(Jn),Be(Jn,s)}function rs(){qe(Jn),qe(ho),qe(po)}function Dp(i){yi(po.current);var s=yi(Jn.current),u=oe(s,i.type);s!==u&&(Be(ho,i),Be(Jn,u))}function mc(i){ho.current===i&&(qe(Jn),qe(ho))}var Qe=Ar(0);function Vl(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gc=[];function vc(){for(var i=0;i<gc.length;i++)gc[i]._workInProgressVersionPrimary=null;gc.length=0}var ql=L.ReactCurrentDispatcher,yc=L.ReactCurrentBatchConfig,wi=0,Xe=null,ft=null,vt=null,Kl=!1,mo=!1,go=0,cb=0;function Rt(){throw Error(n(321))}function wc(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!In(i[u],s[u]))return!1;return!0}function xc(i,s,u,h,g,w){if(wi=w,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ql.current=i===null||i.memoizedState===null?pb:mb,i=u(h,g),mo){w=0;do{if(mo=!1,go=0,25<=w)throw Error(n(301));w+=1,vt=ft=null,s.updateQueue=null,ql.current=gb,i=u(h,g)}while(mo)}if(ql.current=Jl,s=ft!==null&&ft.next!==null,wi=0,vt=ft=Xe=null,Kl=!1,s)throw Error(n(300));return i}function bc(){var i=go!==0;return go=0,i}function Qn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=i:vt=vt.next=i,vt}function xn(){if(ft===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=ft.next;var s=vt===null?Xe.memoizedState:vt.next;if(s!==null)vt=s,ft=i;else{if(i===null)throw Error(n(310));ft=i,i={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Xe.memoizedState=vt=i:vt=vt.next=i}return vt}function vo(i,s){return typeof s=="function"?s(i):s}function kc(i){var s=xn(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=ft,g=h.baseQueue,w=u.pending;if(w!==null){if(g!==null){var S=g.next;g.next=w.next,w.next=S}h.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,h=h.baseState;var O=S=null,D=null,Y=w;do{var re=Y.lane;if((wi&re)===re)D!==null&&(D=D.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:i(h,Y.action);else{var ie={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};D===null?(O=D=ie,S=h):D=D.next=ie,Xe.lanes|=re,xi|=re}Y=Y.next}while(Y!==null&&Y!==w);D===null?S=h:D.next=O,In(h,s.memoizedState)||(qt=!0),s.memoizedState=h,s.baseState=S,s.baseQueue=D,u.lastRenderedState=h}if(i=u.interleaved,i!==null){g=i;do w=g.lane,Xe.lanes|=w,xi|=w,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Sc(i){var s=xn(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,w=s.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do w=i(w,S.action),S=S.next;while(S!==g);In(w,s.memoizedState)||(qt=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),u.lastRenderedState=w}return[w,h]}function Lp(){}function Mp(i,s){var u=Xe,h=xn(),g=s(),w=!In(h.memoizedState,g);if(w&&(h.memoizedState=g,qt=!0),h=h.queue,_c(zp.bind(null,u,h,i),[i]),h.getSnapshot!==s||w||vt!==null&&vt.memoizedState.tag&1){if(u.flags|=2048,yo(9,Fp.bind(null,u,h,g,s),void 0,null),yt===null)throw Error(n(349));(wi&30)!==0||$p(u,s,g)}return g}function $p(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Fp(i,s,u,h){s.value=u,s.getSnapshot=h,Up(s)&&Bp(i)}function zp(i,s,u){return u(function(){Up(s)&&Bp(i)})}function Up(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!In(i,u)}catch{return!0}}function Bp(i){var s=pr(i,1);s!==null&&Mn(s,i,1,-1)}function Wp(i){var s=Qn();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:i},s.queue=i,i=i.dispatch=hb.bind(null,Xe,i),[s.memoizedState,i]}function yo(i,s,u,h){return i={tag:i,create:s,destroy:u,deps:h,next:null},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i)),i}function Hp(){return xn().memoizedState}function Yl(i,s,u,h){var g=Qn();Xe.flags|=i,g.memoizedState=yo(1|s,u,void 0,h===void 0?null:h)}function Gl(i,s,u,h){var g=xn();h=h===void 0?null:h;var w=void 0;if(ft!==null){var S=ft.memoizedState;if(w=S.destroy,h!==null&&wc(h,S.deps)){g.memoizedState=yo(s,u,w,h);return}}Xe.flags|=i,g.memoizedState=yo(1|s,u,w,h)}function Vp(i,s){return Yl(8390656,8,i,s)}function _c(i,s){return Gl(2048,8,i,s)}function qp(i,s){return Gl(4,2,i,s)}function Kp(i,s){return Gl(4,4,i,s)}function Yp(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Gp(i,s,u){return u=u!=null?u.concat([i]):null,Gl(4,4,Yp.bind(null,s,i),u)}function Ec(){}function Jp(i,s){var u=xn();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&wc(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Qp(i,s){var u=xn();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&wc(s,h[1])?h[0]:(i=i(),u.memoizedState=[i,s],i)}function Xp(i,s,u){return(wi&21)===0?(i.baseState&&(i.baseState=!1,qt=!0),i.memoizedState=u):(In(u,s)||(u=Th(),Xe.lanes|=u,xi|=u,i.baseState=!0),s)}function db(i,s){var u=$e;$e=u!==0&&4>u?u:4,i(!0);var h=yc.transition;yc.transition={};try{i(!1),s()}finally{$e=u,yc.transition=h}}function Zp(){return xn().memoizedState}function fb(i,s,u){var h=Br(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},em(i))tm(s,u);else if(u=Rp(i,s,u,h),u!==null){var g=Ft();Mn(u,i,h,g),nm(u,s,h)}}function hb(i,s,u){var h=Br(i),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(em(i))tm(s,g);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var S=s.lastRenderedState,O=w(S,u);if(g.hasEagerState=!0,g.eagerState=O,In(O,S)){var D=s.interleaved;D===null?(g.next=g,fc(s)):(g.next=D.next,D.next=g),s.interleaved=g;return}}catch{}finally{}u=Rp(i,s,g,h),u!==null&&(g=Ft(),Mn(u,i,h,g),nm(u,s,h))}}function em(i){var s=i.alternate;return i===Xe||s!==null&&s===Xe}function tm(i,s){mo=Kl=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function nm(i,s,u){if((u&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,ju(i,u)}}var Jl={readContext:wn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},pb={readContext:wn,useCallback:function(i,s){return Qn().memoizedState=[i,s===void 0?null:s],i},useContext:wn,useEffect:Vp,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Yl(4194308,4,Yp.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Yl(4194308,4,i,s)},useInsertionEffect:function(i,s){return Yl(4,2,i,s)},useMemo:function(i,s){var u=Qn();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var h=Qn();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=fb.bind(null,Xe,i),[h.memoizedState,i]},useRef:function(i){var s=Qn();return i={current:i},s.memoizedState=i},useState:Wp,useDebugValue:Ec,useDeferredValue:function(i){return Qn().memoizedState=i},useTransition:function(){var i=Wp(!1),s=i[0];return i=db.bind(null,i[1]),Qn().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var h=Xe,g=Qn();if(Ye){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),yt===null)throw Error(n(349));(wi&30)!==0||$p(h,s,u)}g.memoizedState=u;var w={value:u,getSnapshot:s};return g.queue=w,Vp(zp.bind(null,h,w,i),[i]),h.flags|=2048,yo(9,Fp.bind(null,h,w,u,s),void 0,null),u},useId:function(){var i=Qn(),s=yt.identifierPrefix;if(Ye){var u=hr,h=fr;u=(h&~(1<<32-Rn(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=go++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=cb++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},mb={readContext:wn,useCallback:Jp,useContext:wn,useEffect:_c,useImperativeHandle:Gp,useInsertionEffect:qp,useLayoutEffect:Kp,useMemo:Qp,useReducer:kc,useRef:Hp,useState:function(){return kc(vo)},useDebugValue:Ec,useDeferredValue:function(i){var s=xn();return Xp(s,ft.memoizedState,i)},useTransition:function(){var i=kc(vo)[0],s=xn().memoizedState;return[i,s]},useMutableSource:Lp,useSyncExternalStore:Mp,useId:Zp,unstable_isNewReconciler:!1},gb={readContext:wn,useCallback:Jp,useContext:wn,useEffect:_c,useImperativeHandle:Gp,useInsertionEffect:qp,useLayoutEffect:Kp,useMemo:Qp,useReducer:Sc,useRef:Hp,useState:function(){return Sc(vo)},useDebugValue:Ec,useDeferredValue:function(i){var s=xn();return ft===null?s.memoizedState=i:Xp(s,ft.memoizedState,i)},useTransition:function(){var i=Sc(vo)[0],s=xn().memoizedState;return[i,s]},useMutableSource:Lp,useSyncExternalStore:Mp,useId:Zp,unstable_isNewReconciler:!1};function An(i,s){if(i&&i.defaultProps){s=C({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function Cc(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:C({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ql={isMounted:function(i){return(i=i._reactInternals)?fi(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Ft(),g=Br(i),w=mr(h,g);w.payload=s,u!=null&&(w.callback=u),s=$r(i,w,g),s!==null&&(Mn(s,i,g,h),Wl(s,i,g))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Ft(),g=Br(i),w=mr(h,g);w.tag=1,w.payload=s,u!=null&&(w.callback=u),s=$r(i,w,g),s!==null&&(Mn(s,i,g,h),Wl(s,i,g))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ft(),h=Br(i),g=mr(u,h);g.tag=2,s!=null&&(g.callback=s),s=$r(i,g,h),s!==null&&(Mn(s,i,h,u),Wl(s,i,h))}};function rm(i,s,u,h,g,w,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,S):s.prototype&&s.prototype.isPureReactComponent?!ro(u,h)||!ro(g,w):!0}function im(i,s,u){var h=!1,g=Dr,w=s.contextType;return typeof w=="object"&&w!==null?w=wn(w):(g=Vt(s)?pi:Nt.current,h=s.contextTypes,w=(h=h!=null)?Ji(i,g):Dr),s=new s(u,w),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ql,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=w),s}function sm(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&Ql.enqueueReplaceState(s,s.state,null)}function jc(i,s,u,h){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},hc(i);var w=s.contextType;typeof w=="object"&&w!==null?g.context=wn(w):(w=Vt(s)?pi:Nt.current,g.context=Ji(i,w)),g.state=i.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Cc(i,s,w,u),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&Ql.enqueueReplaceState(g,g.state,null),Hl(i,u,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function is(i,s){try{var u="",h=s;do u+=fe(h),h=h.return;while(h);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:s,stack:g,digest:null}}function Tc(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Pc(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var vb=typeof WeakMap=="function"?WeakMap:Map;function om(i,s,u){u=mr(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){ia||(ia=!0,Hc=h),Pc(i,s)},u}function lm(i,s,u){u=mr(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=s.value;u.payload=function(){return h(g)},u.callback=function(){Pc(i,s)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Pc(i,s),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),u}function am(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new vb;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(u)||(g.add(u),i=Rb.bind(null,i,s,u),s.then(i,i))}function um(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function cm(i,s,u,h,g){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=mr(-1,1),s.tag=2,$r(u,s,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var yb=L.ReactCurrentOwner,qt=!1;function $t(i,s,u,h){s.child=i===null?Np(s,null,u,h):es(s,i.child,u,h)}function dm(i,s,u,h,g){u=u.render;var w=s.ref;return ns(s,g),h=xc(i,s,u,h,w,g),u=bc(),i!==null&&!qt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,gr(i,s,g)):(Ye&&u&&rc(s),s.flags|=1,$t(i,s,h,g),s.child)}function fm(i,s,u,h,g){if(i===null){var w=u.type;return typeof w=="function"&&!Qc(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=w,hm(i,s,w,h,g)):(i=ca(u.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(w=i.child,(i.lanes&g)===0){var S=w.memoizedProps;if(u=u.compare,u=u!==null?u:ro,u(S,h)&&i.ref===s.ref)return gr(i,s,g)}return s.flags|=1,i=Hr(w,h),i.ref=s.ref,i.return=s,s.child=i}function hm(i,s,u,h,g){if(i!==null){var w=i.memoizedProps;if(ro(w,h)&&i.ref===s.ref)if(qt=!1,s.pendingProps=h=w,(i.lanes&g)!==0)(i.flags&131072)!==0&&(qt=!0);else return s.lanes=i.lanes,gr(i,s,g)}return Nc(i,s,u,h,g)}function pm(i,s,u){var h=s.pendingProps,g=h.children,w=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(os,an),an|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Be(os,an),an|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,Be(os,an),an|=h}else w!==null?(h=w.baseLanes|u,s.memoizedState=null):h=u,Be(os,an),an|=h;return $t(i,s,g,u),s.child}function mm(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Nc(i,s,u,h,g){var w=Vt(u)?pi:Nt.current;return w=Ji(s,w),ns(s,g),u=xc(i,s,u,h,w,g),h=bc(),i!==null&&!qt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,gr(i,s,g)):(Ye&&h&&rc(s),s.flags|=1,$t(i,s,u,g),s.child)}function gm(i,s,u,h,g){if(Vt(u)){var w=!0;Dl(s)}else w=!1;if(ns(s,g),s.stateNode===null)Zl(i,s),im(s,u,h),jc(s,u,h,g),h=!0;else if(i===null){var S=s.stateNode,O=s.memoizedProps;S.props=O;var D=S.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=wn(Y):(Y=Vt(u)?pi:Nt.current,Y=Ji(s,Y));var re=u.getDerivedStateFromProps,ie=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function";ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==h||D!==Y)&&sm(s,S,h,Y),Mr=!1;var ne=s.memoizedState;S.state=ne,Hl(s,h,S,g),D=s.memoizedState,O!==h||ne!==D||Ht.current||Mr?(typeof re=="function"&&(Cc(s,u,re,h),D=s.memoizedState),(O=Mr||rm(s,u,O,h,ne,D,Y))?(ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=D),S.props=h,S.state=D,S.context=Y,h=O):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{S=s.stateNode,Ip(i,s),O=s.memoizedProps,Y=s.type===s.elementType?O:An(s.type,O),S.props=Y,ie=s.pendingProps,ne=S.context,D=u.contextType,typeof D=="object"&&D!==null?D=wn(D):(D=Vt(u)?pi:Nt.current,D=Ji(s,D));var ce=u.getDerivedStateFromProps;(re=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==ie||ne!==D)&&sm(s,S,h,D),Mr=!1,ne=s.memoizedState,S.state=ne,Hl(s,h,S,g);var pe=s.memoizedState;O!==ie||ne!==pe||Ht.current||Mr?(typeof ce=="function"&&(Cc(s,u,ce,h),pe=s.memoizedState),(Y=Mr||rm(s,u,Y,h,ne,pe,D)||!1)?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,pe,D),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,pe,D)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),S.props=h,S.state=pe,S.context=D,h=Y):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),h=!1)}return Rc(i,s,u,h,w,g)}function Rc(i,s,u,h,g,w){mm(i,s);var S=(s.flags&128)!==0;if(!h&&!S)return g&&bp(s,u,!1),gr(i,s,w);h=s.stateNode,yb.current=s;var O=S&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&S?(s.child=es(s,i.child,null,w),s.child=es(s,null,O,w)):$t(i,s,O,w),s.memoizedState=h.state,g&&bp(s,u,!0),s.child}function vm(i){var s=i.stateNode;s.pendingContext?wp(i,s.pendingContext,s.pendingContext!==s.context):s.context&&wp(i,s.context,!1),pc(i,s.containerInfo)}function ym(i,s,u,h,g){return Zi(),lc(g),s.flags|=256,$t(i,s,u,h),s.child}var Ic={dehydrated:null,treeContext:null,retryLane:0};function Oc(i){return{baseLanes:i,cachePool:null,transitions:null}}function wm(i,s,u){var h=s.pendingProps,g=Qe.current,w=!1,S=(s.flags&128)!==0,O;if((O=S)||(O=i!==null&&i.memoizedState===null?!1:(g&2)!==0),O?(w=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Be(Qe,g&1),i===null)return oc(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(S=h.children,i=h.fallback,w?(h=s.mode,w=s.child,S={mode:"hidden",children:S},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=S):w=da(S,h,0,null),i=_i(i,h,u,null),w.return=s,i.return=s,w.sibling=i,s.child=w,s.child.memoizedState=Oc(u),s.memoizedState=Ic,i):Ac(s,S));if(g=i.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return wb(i,s,S,h,O,g,u);if(w){w=h.fallback,S=s.mode,g=i.child,O=g.sibling;var D={mode:"hidden",children:h.children};return(S&1)===0&&s.child!==g?(h=s.child,h.childLanes=0,h.pendingProps=D,s.deletions=null):(h=Hr(g,D),h.subtreeFlags=g.subtreeFlags&14680064),O!==null?w=Hr(O,w):(w=_i(w,S,u,null),w.flags|=2),w.return=s,h.return=s,h.sibling=w,s.child=h,h=w,w=s.child,S=i.child.memoizedState,S=S===null?Oc(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},w.memoizedState=S,w.childLanes=i.childLanes&~u,s.memoizedState=Ic,h}return w=i.child,i=w.sibling,h=Hr(w,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=u),h.return=s,h.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=h,s.memoizedState=null,h}function Ac(i,s){return s=da({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Xl(i,s,u,h){return h!==null&&lc(h),es(s,i.child,null,u),i=Ac(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function wb(i,s,u,h,g,w,S){if(u)return s.flags&256?(s.flags&=-257,h=Tc(Error(n(422))),Xl(i,s,S,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(w=h.fallback,g=s.mode,h=da({mode:"visible",children:h.children},g,0,null),w=_i(w,g,S,null),w.flags|=2,h.return=s,w.return=s,h.sibling=w,s.child=h,(s.mode&1)!==0&&es(s,i.child,null,S),s.child.memoizedState=Oc(S),s.memoizedState=Ic,w);if((s.mode&1)===0)return Xl(i,s,S,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var O=h.dgst;return h=O,w=Error(n(419)),h=Tc(w,h,void 0),Xl(i,s,S,h)}if(O=(S&i.childLanes)!==0,qt||O){if(h=yt,h!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|S))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,pr(i,g),Mn(h,i,g,-1))}return Jc(),h=Tc(Error(n(421))),Xl(i,s,S,h)}return g.data==="$?"?(s.flags|=128,s.child=i.child,s=Ib.bind(null,i),g._reactRetry=s,null):(i=w.treeContext,ln=Or(g.nextSibling),on=s,Ye=!0,On=null,i!==null&&(vn[yn++]=fr,vn[yn++]=hr,vn[yn++]=mi,fr=i.id,hr=i.overflow,mi=s),s=Ac(s,h.children),s.flags|=4096,s)}function xm(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),dc(i.return,s,u)}function Dc(i,s,u,h,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=g)}function bm(i,s,u){var h=s.pendingProps,g=h.revealOrder,w=h.tail;if($t(i,s,h.children,u),h=Qe.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xm(i,u,s);else if(i.tag===19)xm(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Be(Qe,h),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(u=s.child,g=null;u!==null;)i=u.alternate,i!==null&&Vl(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=s.child,s.child=null):(g=u.sibling,u.sibling=null),Dc(s,!1,g,u,w);break;case"backwards":for(u=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Vl(i)===null){s.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}Dc(s,!0,u,null,w);break;case"together":Dc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zl(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function gr(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),xi|=s.lanes,(u&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,u=Hr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Hr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function xb(i,s,u){switch(s.tag){case 3:vm(s),Zi();break;case 5:Dp(s);break;case 1:Vt(s.type)&&Dl(s);break;case 4:pc(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,g=s.memoizedProps.value;Be(Ul,h._currentValue),h._currentValue=g;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Be(Qe,Qe.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?wm(i,s,u):(Be(Qe,Qe.current&1),i=gr(i,s,u),i!==null?i.sibling:null);Be(Qe,Qe.current&1);break;case 19:if(h=(u&s.childLanes)!==0,(i.flags&128)!==0){if(h)return bm(i,s,u);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Be(Qe,Qe.current),h)break;return null;case 22:case 23:return s.lanes=0,pm(i,s,u)}return gr(i,s,u)}var km,Lc,Sm,_m;km=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Lc=function(){},Sm=function(i,s,u,h){var g=i.memoizedProps;if(g!==h){i=s.stateNode,yi(Jn.current);var w=null;switch(u){case"input":g=Lt(i,g),h=Lt(i,h),w=[];break;case"select":g=C({},g,{value:void 0}),h=C({},h,{value:void 0}),w=[];break;case"textarea":g=Vn(i,g),h=Vn(i,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Il)}lt(u,h);var S;u=null;for(Y in g)if(!h.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var O=g[Y];for(S in O)O.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in h){var D=h[Y];if(O=g!=null?g[Y]:void 0,h.hasOwnProperty(Y)&&D!==O&&(D!=null||O!=null))if(Y==="style")if(O){for(S in O)!O.hasOwnProperty(S)||D&&D.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in D)D.hasOwnProperty(S)&&O[S]!==D[S]&&(u||(u={}),u[S]=D[S])}else u||(w||(w=[]),w.push(Y,u)),u=D;else Y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,O=O?O.__html:void 0,D!=null&&O!==D&&(w=w||[]).push(Y,D)):Y==="children"?typeof D!="string"&&typeof D!="number"||(w=w||[]).push(Y,""+D):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(D!=null&&Y==="onScroll"&&Ve("scroll",i),w||O===D||(w=[])):(w=w||[]).push(Y,D))}u&&(w=w||[]).push("style",u);var Y=w;(s.updateQueue=Y)&&(s.flags|=4)}},_m=function(i,s,u,h){u!==h&&(s.flags|=4)};function wo(i,s){if(!Ye)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function It(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function bb(i,s,u){var h=s.pendingProps;switch(ic(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return Vt(s.type)&&Al(),It(s),null;case 3:return h=s.stateNode,rs(),qe(Ht),qe(Nt),vc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Fl(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,On!==null&&(Kc(On),On=null))),Lc(i,s),It(s),null;case 5:mc(s);var g=yi(po.current);if(u=s.type,i!==null&&s.stateNode!=null)Sm(i,s,u,h,g),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return It(s),null}if(i=yi(Jn.current),Fl(s)){h=s.stateNode,u=s.type;var w=s.memoizedProps;switch(h[Gn]=s,h[ao]=w,i=(s.mode&1)!==0,u){case"dialog":Ve("cancel",h),Ve("close",h);break;case"iframe":case"object":case"embed":Ve("load",h);break;case"video":case"audio":for(g=0;g<so.length;g++)Ve(so[g],h);break;case"source":Ve("error",h);break;case"img":case"image":case"link":Ve("error",h),Ve("load",h);break;case"details":Ve("toggle",h);break;case"input":fn(h,w),Ve("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},Ve("invalid",h);break;case"textarea":ci(h,w),Ve("invalid",h)}lt(u,w),g=null;for(var S in w)if(w.hasOwnProperty(S)){var O=w[S];S==="children"?typeof O=="string"?h.textContent!==O&&(w.suppressHydrationWarning!==!0&&Rl(h.textContent,O,i),g=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&Rl(h.textContent,O,i),g=["children",""+O]):o.hasOwnProperty(S)&&O!=null&&S==="onScroll"&&Ve("scroll",h)}switch(u){case"input":Ke(h),ui(h,w,!0);break;case"textarea":Ke(h),zi(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=Il)}h=g,s.updateQueue=h,h!==null&&(s.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Q(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(u,{is:h.is}):(i=S.createElement(u),u==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,u),i[Gn]=s,i[ao]=h,km(i,s,!1,!1),s.stateNode=i;e:{switch(S=mn(u,h),u){case"dialog":Ve("cancel",i),Ve("close",i),g=h;break;case"iframe":case"object":case"embed":Ve("load",i),g=h;break;case"video":case"audio":for(g=0;g<so.length;g++)Ve(so[g],i);g=h;break;case"source":Ve("error",i),g=h;break;case"img":case"image":case"link":Ve("error",i),Ve("load",i),g=h;break;case"details":Ve("toggle",i),g=h;break;case"input":fn(i,h),g=Lt(i,h),Ve("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=C({},h,{value:void 0}),Ve("invalid",i);break;case"textarea":ci(i,h),g=Vn(i,h),Ve("invalid",i);break;default:g=h}lt(u,g),O=g;for(w in O)if(O.hasOwnProperty(w)){var D=O[w];w==="style"?qn(i,D):w==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&je(i,D)):w==="children"?typeof D=="string"?(u!=="textarea"||D!=="")&&Oe(i,D):typeof D=="number"&&Oe(i,""+D):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?D!=null&&w==="onScroll"&&Ve("scroll",i):D!=null&&N(i,w,D,S))}switch(u){case"input":Ke(i),ui(i,h,!1);break;case"textarea":Ke(i),zi(i);break;case"option":h.value!=null&&i.setAttribute("value",""+ye(h.value));break;case"select":i.multiple=!!h.multiple,w=h.value,w!=null?nn(i,!!h.multiple,w,!1):h.defaultValue!=null&&nn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Il)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return It(s),null;case 6:if(i&&s.stateNode!=null)_m(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(u=yi(po.current),yi(Jn.current),Fl(s)){if(h=s.stateNode,u=s.memoizedProps,h[Gn]=s,(w=h.nodeValue!==u)&&(i=on,i!==null))switch(i.tag){case 3:Rl(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Rl(h.nodeValue,u,(i.mode&1)!==0)}w&&(s.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Gn]=s,s.stateNode=h}return It(s),null;case 13:if(qe(Qe),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ye&&ln!==null&&(s.mode&1)!==0&&(s.flags&128)===0)jp(),Zi(),s.flags|=98560,w=!1;else if(w=Fl(s),h!==null&&h.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Gn]=s}else Zi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),w=!1}else On!==null&&(Kc(On),On=null),w=!0;if(!w)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Qe.current&1)!==0?ht===0&&(ht=3):Jc())),s.updateQueue!==null&&(s.flags|=4),It(s),null);case 4:return rs(),Lc(i,s),i===null&&oo(s.stateNode.containerInfo),It(s),null;case 10:return cc(s.type._context),It(s),null;case 17:return Vt(s.type)&&Al(),It(s),null;case 19:if(qe(Qe),w=s.memoizedState,w===null)return It(s),null;if(h=(s.flags&128)!==0,S=w.rendering,S===null)if(h)wo(w,!1);else{if(ht!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(S=Vl(i),S!==null){for(s.flags|=128,wo(w,!1),h=S.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=u,u=s.child;u!==null;)w=u,i=h,w.flags&=14680066,S=w.alternate,S===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=S.childLanes,w.lanes=S.lanes,w.child=S.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=S.memoizedProps,w.memoizedState=S.memoizedState,w.updateQueue=S.updateQueue,w.type=S.type,i=S.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Be(Qe,Qe.current&1|2),s.child}i=i.sibling}w.tail!==null&&rt()>ls&&(s.flags|=128,h=!0,wo(w,!1),s.lanes=4194304)}else{if(!h)if(i=Vl(S),i!==null){if(s.flags|=128,h=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),wo(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!Ye)return It(s),null}else 2*rt()-w.renderingStartTime>ls&&u!==1073741824&&(s.flags|=128,h=!0,wo(w,!1),s.lanes=4194304);w.isBackwards?(S.sibling=s.child,s.child=S):(u=w.last,u!==null?u.sibling=S:s.child=S,w.last=S)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=rt(),s.sibling=null,u=Qe.current,Be(Qe,h?u&1|2:u&1),s):(It(s),null);case 22:case 23:return Gc(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(an&1073741824)!==0&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function kb(i,s){switch(ic(s),s.tag){case 1:return Vt(s.type)&&Al(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return rs(),qe(Ht),qe(Nt),vc(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return mc(s),null;case 13:if(qe(Qe),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Zi()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return qe(Qe),null;case 4:return rs(),null;case 10:return cc(s.type._context),null;case 22:case 23:return Gc(),null;case 24:return null;default:return null}}var ea=!1,Ot=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,de=null;function ss(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){tt(i,s,h)}else u.current=null}function Mc(i,s,u){try{u()}catch(h){tt(i,s,h)}}var Em=!1;function _b(i,s){if(Gu=xl,i=rp(),Uu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var S=0,O=-1,D=-1,Y=0,re=0,ie=i,ne=null;t:for(;;){for(var ce;ie!==u||g!==0&&ie.nodeType!==3||(O=S+g),ie!==w||h!==0&&ie.nodeType!==3||(D=S+h),ie.nodeType===3&&(S+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)ne=ie,ie=ce;for(;;){if(ie===i)break t;if(ne===u&&++Y===g&&(O=S),ne===w&&++re===h&&(D=S),(ce=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=ce}u=O===-1||D===-1?null:{start:O,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ju={focusedElem:i,selectionRange:u},xl=!1,de=s;de!==null;)if(s=de,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,de=i;else for(;de!==null;){s=de;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,it=pe.memoizedState,W=s.stateNode,M=W.getSnapshotBeforeUpdate(s.elementType===s.type?ge:An(s.type,ge),it);W.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){tt(s,s.return,le)}if(i=s.sibling,i!==null){i.return=s.return,de=i;break}de=s.return}return pe=Em,Em=!1,pe}function xo(i,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var w=g.destroy;g.destroy=void 0,w!==void 0&&Mc(s,u,w)}g=g.next}while(g!==h)}}function ta(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function $c(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Cm(i){var s=i.alternate;s!==null&&(i.alternate=null,Cm(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Gn],delete s[ao],delete s[ec],delete s[ob],delete s[lb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function jm(i){return i.tag===5||i.tag===3||i.tag===4}function Tm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Fc(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Il));else if(h!==4&&(i=i.child,i!==null))for(Fc(i,s,u),i=i.sibling;i!==null;)Fc(i,s,u),i=i.sibling}function zc(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(zc(i,s,u),i=i.sibling;i!==null;)zc(i,s,u),i=i.sibling}var St=null,Dn=!1;function Fr(i,s,u){for(u=u.child;u!==null;)Pm(i,s,u),u=u.sibling}function Pm(i,s,u){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(pl,u)}catch{}switch(u.tag){case 5:Ot||ss(u,s);case 6:var h=St,g=Dn;St=null,Fr(i,s,u),St=h,Dn=g,St!==null&&(Dn?(i=St,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):St.removeChild(u.stateNode));break;case 18:St!==null&&(Dn?(i=St,u=u.stateNode,i.nodeType===8?Zu(i.parentNode,u):i.nodeType===1&&Zu(i,u),Qs(i)):Zu(St,u.stateNode));break;case 4:h=St,g=Dn,St=u.stateNode.containerInfo,Dn=!0,Fr(i,s,u),St=h,Dn=g;break;case 0:case 11:case 14:case 15:if(!Ot&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,S=w.destroy;w=w.tag,S!==void 0&&((w&2)!==0||(w&4)!==0)&&Mc(u,s,S),g=g.next}while(g!==h)}Fr(i,s,u);break;case 1:if(!Ot&&(ss(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(O){tt(u,s,O)}Fr(i,s,u);break;case 21:Fr(i,s,u);break;case 22:u.mode&1?(Ot=(h=Ot)||u.memoizedState!==null,Fr(i,s,u),Ot=h):Fr(i,s,u);break;default:Fr(i,s,u)}}function Nm(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Sb),s.forEach(function(h){var g=Ob.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Ln(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var w=i,S=s,O=S;e:for(;O!==null;){switch(O.tag){case 5:St=O.stateNode,Dn=!1;break e;case 3:St=O.stateNode.containerInfo,Dn=!0;break e;case 4:St=O.stateNode.containerInfo,Dn=!0;break e}O=O.return}if(St===null)throw Error(n(160));Pm(w,S,g),St=null,Dn=!1;var D=g.alternate;D!==null&&(D.return=null),g.return=null}catch(Y){tt(g,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Rm(s,i),s=s.sibling}function Rm(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ln(s,i),Xn(i),h&4){try{xo(3,i,i.return),ta(3,i)}catch(ge){tt(i,i.return,ge)}try{xo(5,i,i.return)}catch(ge){tt(i,i.return,ge)}}break;case 1:Ln(s,i),Xn(i),h&512&&u!==null&&ss(u,u.return);break;case 5:if(Ln(s,i),Xn(i),h&512&&u!==null&&ss(u,u.return),i.flags&32){var g=i.stateNode;try{Oe(g,"")}catch(ge){tt(i,i.return,ge)}}if(h&4&&(g=i.stateNode,g!=null)){var w=i.memoizedProps,S=u!==null?u.memoizedProps:w,O=i.type,D=i.updateQueue;if(i.updateQueue=null,D!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&hn(g,w),mn(O,S);var Y=mn(O,w);for(S=0;S<D.length;S+=2){var re=D[S],ie=D[S+1];re==="style"?qn(g,ie):re==="dangerouslySetInnerHTML"?je(g,ie):re==="children"?Oe(g,ie):N(g,re,ie,Y)}switch(O){case"input":lr(g,w);break;case"textarea":di(g,w);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ce=w.value;ce!=null?nn(g,!!w.multiple,ce,!1):ne!==!!w.multiple&&(w.defaultValue!=null?nn(g,!!w.multiple,w.defaultValue,!0):nn(g,!!w.multiple,w.multiple?[]:"",!1))}g[ao]=w}catch(ge){tt(i,i.return,ge)}}break;case 6:if(Ln(s,i),Xn(i),h&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,w=i.memoizedProps;try{g.nodeValue=w}catch(ge){tt(i,i.return,ge)}}break;case 3:if(Ln(s,i),Xn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Qs(s.containerInfo)}catch(ge){tt(i,i.return,ge)}break;case 4:Ln(s,i),Xn(i);break;case 13:Ln(s,i),Xn(i),g=i.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Wc=rt())),h&4&&Nm(i);break;case 22:if(re=u!==null&&u.memoizedState!==null,i.mode&1?(Ot=(Y=Ot)||re,Ln(s,i),Ot=Y):Ln(s,i),Xn(i),h&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!re&&(i.mode&1)!==0)for(de=i,re=i.child;re!==null;){for(ie=de=re;de!==null;){switch(ne=de,ce=ne.child,ne.tag){case 0:case 11:case 14:case 15:xo(4,ne,ne.return);break;case 1:ss(ne,ne.return);var pe=ne.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ne,u=ne.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(ge){tt(h,u,ge)}}break;case 5:ss(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Am(ie);continue}}ce!==null?(ce.return=ne,de=ce):Am(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{g=ie.stateNode,Y?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=ie.stateNode,D=ie.memoizedProps.style,S=D!=null&&D.hasOwnProperty("display")?D.display:null,O.style.display=Bt("display",S))}catch(ge){tt(i,i.return,ge)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=Y?"":ie.memoizedProps}catch(ge){tt(i,i.return,ge)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Ln(s,i),Xn(i),h&4&&Nm(i);break;case 21:break;default:Ln(s,i),Xn(i)}}function Xn(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(jm(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Oe(g,""),h.flags&=-33);var w=Tm(i);zc(i,w,g);break;case 3:case 4:var S=h.stateNode.containerInfo,O=Tm(i);Fc(i,O,S);break;default:throw Error(n(161))}}catch(D){tt(i,i.return,D)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Eb(i,s,u){de=i,Im(i)}function Im(i,s,u){for(var h=(i.mode&1)!==0;de!==null;){var g=de,w=g.child;if(g.tag===22&&h){var S=g.memoizedState!==null||ea;if(!S){var O=g.alternate,D=O!==null&&O.memoizedState!==null||Ot;O=ea;var Y=Ot;if(ea=S,(Ot=D)&&!Y)for(de=g;de!==null;)S=de,D=S.child,S.tag===22&&S.memoizedState!==null?Dm(g):D!==null?(D.return=S,de=D):Dm(g);for(;w!==null;)de=w,Im(w),w=w.sibling;de=g,ea=O,Ot=Y}Om(i)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,de=w):Om(i)}}function Om(i){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ot||ta(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ot)if(u===null)h.componentDidMount();else{var g=s.elementType===s.type?u.memoizedProps:An(s.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=s.updateQueue;w!==null&&Ap(s,w,h);break;case 3:var S=s.updateQueue;if(S!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Ap(s,S,u)}break;case 5:var O=s.stateNode;if(u===null&&s.flags&4){u=O;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&u.focus();break;case"img":D.src&&(u.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Qs(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||s.flags&512&&$c(s)}catch(ne){tt(s,s.return,ne)}}if(s===i){de=null;break}if(u=s.sibling,u!==null){u.return=s.return,de=u;break}de=s.return}}function Am(i){for(;de!==null;){var s=de;if(s===i){de=null;break}var u=s.sibling;if(u!==null){u.return=s.return,de=u;break}de=s.return}}function Dm(i){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{ta(4,s)}catch(D){tt(s,u,D)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var g=s.return;try{h.componentDidMount()}catch(D){tt(s,g,D)}}var w=s.return;try{$c(s)}catch(D){tt(s,w,D)}break;case 5:var S=s.return;try{$c(s)}catch(D){tt(s,S,D)}}}catch(D){tt(s,s.return,D)}if(s===i){de=null;break}var O=s.sibling;if(O!==null){O.return=s.return,de=O;break}de=s.return}}var Cb=Math.ceil,na=L.ReactCurrentDispatcher,Uc=L.ReactCurrentOwner,bn=L.ReactCurrentBatchConfig,De=0,yt=null,at=null,_t=0,an=0,os=Ar(0),ht=0,bo=null,xi=0,ra=0,Bc=0,ko=null,Kt=null,Wc=0,ls=1/0,vr=null,ia=!1,Hc=null,zr=null,sa=!1,Ur=null,oa=0,So=0,Vc=null,la=-1,aa=0;function Ft(){return(De&6)!==0?rt():la!==-1?la:la=rt()}function Br(i){return(i.mode&1)===0?1:(De&2)!==0&&_t!==0?_t&-_t:ub.transition!==null?(aa===0&&(aa=Th()),aa):(i=$e,i!==0||(i=window.event,i=i===void 0?16:Mh(i.type)),i)}function Mn(i,s,u,h){if(50<So)throw So=0,Vc=null,Error(n(185));qs(i,u,h),((De&2)===0||i!==yt)&&(i===yt&&((De&2)===0&&(ra|=u),ht===4&&Wr(i,_t)),Yt(i,h),u===1&&De===0&&(s.mode&1)===0&&(ls=rt()+500,Ll&&Lr()))}function Yt(i,s){var u=i.callbackNode;ux(i,s);var h=vl(i,i===yt?_t:0);if(h===0)u!==null&&Eh(u),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(u!=null&&Eh(u),s===1)i.tag===0?ab(Mm.bind(null,i)):kp(Mm.bind(null,i)),ib(function(){(De&6)===0&&Lr()}),u=null;else{switch(Ph(h)){case 1:u=_u;break;case 4:u=Ch;break;case 16:u=hl;break;case 536870912:u=jh;break;default:u=hl}u=Vm(u,Lm.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Lm(i,s){if(la=-1,aa=0,(De&6)!==0)throw Error(n(327));var u=i.callbackNode;if(as()&&i.callbackNode!==u)return null;var h=vl(i,i===yt?_t:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=ua(i,h);else{s=h;var g=De;De|=2;var w=Fm();(yt!==i||_t!==s)&&(vr=null,ls=rt()+500,ki(i,s));do try{Pb();break}catch(O){$m(i,O)}while(!0);uc(),na.current=w,De=g,at!==null?s=0:(yt=null,_t=0,s=ht)}if(s!==0){if(s===2&&(g=Eu(i),g!==0&&(h=g,s=qc(i,g))),s===1)throw u=bo,ki(i,0),Wr(i,h),Yt(i,rt()),u;if(s===6)Wr(i,h);else{if(g=i.current.alternate,(h&30)===0&&!jb(g)&&(s=ua(i,h),s===2&&(w=Eu(i),w!==0&&(h=w,s=qc(i,w))),s===1))throw u=bo,ki(i,0),Wr(i,h),Yt(i,rt()),u;switch(i.finishedWork=g,i.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:Si(i,Kt,vr);break;case 3:if(Wr(i,h),(h&130023424)===h&&(s=Wc+500-rt(),10<s)){if(vl(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){Ft(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Xu(Si.bind(null,i,Kt,vr),s);break}Si(i,Kt,vr);break;case 4:if(Wr(i,h),(h&4194240)===h)break;for(s=i.eventTimes,g=-1;0<h;){var S=31-Rn(h);w=1<<S,S=s[S],S>g&&(g=S),h&=~w}if(h=g,h=rt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Cb(h/1960))-h,10<h){i.timeoutHandle=Xu(Si.bind(null,i,Kt,vr),h);break}Si(i,Kt,vr);break;case 5:Si(i,Kt,vr);break;default:throw Error(n(329))}}}return Yt(i,rt()),i.callbackNode===u?Lm.bind(null,i):null}function qc(i,s){var u=ko;return i.current.memoizedState.isDehydrated&&(ki(i,s).flags|=256),i=ua(i,s),i!==2&&(s=Kt,Kt=u,s!==null&&Kc(s)),i}function Kc(i){Kt===null?Kt=i:Kt.push.apply(Kt,i)}function jb(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],w=g.getSnapshot;g=g.value;try{if(!In(w(),g))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wr(i,s){for(s&=~Bc,s&=~ra,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Rn(s),h=1<<u;i[u]=-1,s&=~h}}function Mm(i){if((De&6)!==0)throw Error(n(327));as();var s=vl(i,0);if((s&1)===0)return Yt(i,rt()),null;var u=ua(i,s);if(i.tag!==0&&u===2){var h=Eu(i);h!==0&&(s=h,u=qc(i,h))}if(u===1)throw u=bo,ki(i,0),Wr(i,s),Yt(i,rt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Si(i,Kt,vr),Yt(i,rt()),null}function Yc(i,s){var u=De;De|=1;try{return i(s)}finally{De=u,De===0&&(ls=rt()+500,Ll&&Lr())}}function bi(i){Ur!==null&&Ur.tag===0&&(De&6)===0&&as();var s=De;De|=1;var u=bn.transition,h=$e;try{if(bn.transition=null,$e=1,i)return i()}finally{$e=h,bn.transition=u,De=s,(De&6)===0&&Lr()}}function Gc(){an=os.current,qe(os)}function ki(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,rb(u)),at!==null)for(u=at.return;u!==null;){var h=u;switch(ic(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Al();break;case 3:rs(),qe(Ht),qe(Nt),vc();break;case 5:mc(h);break;case 4:rs();break;case 13:qe(Qe);break;case 19:qe(Qe);break;case 10:cc(h.type._context);break;case 22:case 23:Gc()}u=u.return}if(yt=i,at=i=Hr(i.current,null),_t=an=s,ht=0,bo=null,Bc=ra=xi=0,Kt=ko=null,vi!==null){for(s=0;s<vi.length;s++)if(u=vi[s],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,w=u.pending;if(w!==null){var S=w.next;w.next=g,h.next=S}u.pending=h}vi=null}return i}function $m(i,s){do{var u=at;try{if(uc(),ql.current=Jl,Kl){for(var h=Xe.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Kl=!1}if(wi=0,vt=ft=Xe=null,mo=!1,go=0,Uc.current=null,u===null||u.return===null){ht=1,bo=s,at=null;break}e:{var w=i,S=u.return,O=u,D=s;if(s=_t,O.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=D,re=O,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ce=um(S);if(ce!==null){ce.flags&=-257,cm(ce,S,O,w,s),ce.mode&1&&am(w,Y,s),s=ce,D=Y;var pe=s.updateQueue;if(pe===null){var ge=new Set;ge.add(D),s.updateQueue=ge}else pe.add(D);break e}else{if((s&1)===0){am(w,Y,s),Jc();break e}D=Error(n(426))}}else if(Ye&&O.mode&1){var it=um(S);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),cm(it,S,O,w,s),lc(is(D,O));break e}}w=D=is(D,O),ht!==4&&(ht=2),ko===null?ko=[w]:ko.push(w),w=S;do{switch(w.tag){case 3:w.flags|=65536,s&=-s,w.lanes|=s;var W=om(w,D,s);Op(w,W);break e;case 1:O=D;var M=w.type,q=w.stateNode;if((w.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(zr===null||!zr.has(q)))){w.flags|=65536,s&=-s,w.lanes|=s;var le=lm(w,O,s);Op(w,le);break e}}w=w.return}while(w!==null)}Um(u)}catch(ve){s=ve,at===u&&u!==null&&(at=u=u.return);continue}break}while(!0)}function Fm(){var i=na.current;return na.current=Jl,i===null?Jl:i}function Jc(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||(xi&268435455)===0&&(ra&268435455)===0||Wr(yt,_t)}function ua(i,s){var u=De;De|=2;var h=Fm();(yt!==i||_t!==s)&&(vr=null,ki(i,s));do try{Tb();break}catch(g){$m(i,g)}while(!0);if(uc(),De=u,na.current=h,at!==null)throw Error(n(261));return yt=null,_t=0,ht}function Tb(){for(;at!==null;)zm(at)}function Pb(){for(;at!==null&&!ex();)zm(at)}function zm(i){var s=Hm(i.alternate,i,an);i.memoizedProps=i.pendingProps,s===null?Um(i):at=s,Uc.current=null}function Um(i){var s=i;do{var u=s.alternate;if(i=s.return,(s.flags&32768)===0){if(u=bb(u,s,an),u!==null){at=u;return}}else{if(u=kb(u,s),u!==null){u.flags&=32767,at=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ht=6,at=null;return}}if(s=s.sibling,s!==null){at=s;return}at=s=i}while(s!==null);ht===0&&(ht=5)}function Si(i,s,u){var h=$e,g=bn.transition;try{bn.transition=null,$e=1,Nb(i,s,u,h)}finally{bn.transition=g,$e=h}return null}function Nb(i,s,u,h){do as();while(Ur!==null);if((De&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(cx(i,w),i===yt&&(at=yt=null,_t=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||sa||(sa=!0,Vm(hl,function(){return as(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=bn.transition,bn.transition=null;var S=$e;$e=1;var O=De;De|=4,Uc.current=null,_b(i,u),Rm(u,i),Jx(Ju),xl=!!Gu,Ju=Gu=null,i.current=u,Eb(u),tx(),De=O,$e=S,bn.transition=w}else i.current=u;if(sa&&(sa=!1,Ur=i,oa=g),w=i.pendingLanes,w===0&&(zr=null),ix(u.stateNode),Yt(i,rt()),s!==null)for(h=i.onRecoverableError,u=0;u<s.length;u++)g=s[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(ia)throw ia=!1,i=Hc,Hc=null,i;return(oa&1)!==0&&i.tag!==0&&as(),w=i.pendingLanes,(w&1)!==0?i===Vc?So++:(So=0,Vc=i):So=0,Lr(),null}function as(){if(Ur!==null){var i=Ph(oa),s=bn.transition,u=$e;try{if(bn.transition=null,$e=16>i?16:i,Ur===null)var h=!1;else{if(i=Ur,Ur=null,oa=0,(De&6)!==0)throw Error(n(331));var g=De;for(De|=4,de=i.current;de!==null;){var w=de,S=w.child;if((de.flags&16)!==0){var O=w.deletions;if(O!==null){for(var D=0;D<O.length;D++){var Y=O[D];for(de=Y;de!==null;){var re=de;switch(re.tag){case 0:case 11:case 15:xo(8,re,w)}var ie=re.child;if(ie!==null)ie.return=re,de=ie;else for(;de!==null;){re=de;var ne=re.sibling,ce=re.return;if(Cm(re),re===Y){de=null;break}if(ne!==null){ne.return=ce,de=ne;break}de=ce}}}var pe=w.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var it=ge.sibling;ge.sibling=null,ge=it}while(ge!==null)}}de=w}}if((w.subtreeFlags&2064)!==0&&S!==null)S.return=w,de=S;else e:for(;de!==null;){if(w=de,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:xo(9,w,w.return)}var W=w.sibling;if(W!==null){W.return=w.return,de=W;break e}de=w.return}}var M=i.current;for(de=M;de!==null;){S=de;var q=S.child;if((S.subtreeFlags&2064)!==0&&q!==null)q.return=S,de=q;else e:for(S=M;de!==null;){if(O=de,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:ta(9,O)}}catch(ve){tt(O,O.return,ve)}if(O===S){de=null;break e}var le=O.sibling;if(le!==null){le.return=O.return,de=le;break e}de=O.return}}if(De=g,Lr(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(pl,i)}catch{}h=!0}return h}finally{$e=u,bn.transition=s}}return!1}function Bm(i,s,u){s=is(u,s),s=om(i,s,1),i=$r(i,s,1),s=Ft(),i!==null&&(qs(i,1,s),Yt(i,s))}function tt(i,s,u){if(i.tag===3)Bm(i,i,u);else for(;s!==null;){if(s.tag===3){Bm(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zr===null||!zr.has(h))){i=is(u,i),i=lm(s,i,1),s=$r(s,i,1),i=Ft(),s!==null&&(qs(s,1,i),Yt(s,i));break}}s=s.return}}function Rb(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),s=Ft(),i.pingedLanes|=i.suspendedLanes&u,yt===i&&(_t&u)===u&&(ht===4||ht===3&&(_t&130023424)===_t&&500>rt()-Wc?ki(i,0):Bc|=u),Yt(i,s)}function Wm(i,s){s===0&&((i.mode&1)===0?s=1:(s=gl,gl<<=1,(gl&130023424)===0&&(gl=4194304)));var u=Ft();i=pr(i,s),i!==null&&(qs(i,s,u),Yt(i,u))}function Ib(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Wm(i,u)}function Ob(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),Wm(i,u)}var Hm;Hm=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||Ht.current)qt=!0;else{if((i.lanes&u)===0&&(s.flags&128)===0)return qt=!1,xb(i,s,u);qt=(i.flags&131072)!==0}else qt=!1,Ye&&(s.flags&1048576)!==0&&Sp(s,$l,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Zl(i,s),i=s.pendingProps;var g=Ji(s,Nt.current);ns(s,u),g=xc(null,s,h,i,g,u);var w=bc();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Vt(h)?(w=!0,Dl(s)):w=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,hc(s),g.updater=Ql,s.stateNode=g,g._reactInternals=s,jc(s,h,i,u),s=Rc(null,s,h,!0,w,u)):(s.tag=0,Ye&&w&&rc(s),$t(null,s,g,u),s=s.child),s;case 16:h=s.elementType;e:{switch(Zl(i,s),i=s.pendingProps,g=h._init,h=g(h._payload),s.type=h,g=s.tag=Db(h),i=An(h,i),g){case 0:s=Nc(null,s,h,i,u);break e;case 1:s=gm(null,s,h,i,u);break e;case 11:s=dm(null,s,h,i,u);break e;case 14:s=fm(null,s,h,An(h.type,i),u);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:An(h,g),Nc(i,s,h,g,u);case 1:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:An(h,g),gm(i,s,h,g,u);case 3:e:{if(vm(s),i===null)throw Error(n(387));h=s.pendingProps,w=s.memoizedState,g=w.element,Ip(i,s),Hl(s,h,null,u);var S=s.memoizedState;if(h=S.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){g=is(Error(n(423)),s),s=ym(i,s,h,u,g);break e}else if(h!==g){g=is(Error(n(424)),s),s=ym(i,s,h,u,g);break e}else for(ln=Or(s.stateNode.containerInfo.firstChild),on=s,Ye=!0,On=null,u=Np(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Zi(),h===g){s=gr(i,s,u);break e}$t(i,s,h,u)}s=s.child}return s;case 5:return Dp(s),i===null&&oc(s),h=s.type,g=s.pendingProps,w=i!==null?i.memoizedProps:null,S=g.children,Qu(h,g)?S=null:w!==null&&Qu(h,w)&&(s.flags|=32),mm(i,s),$t(i,s,S,u),s.child;case 6:return i===null&&oc(s),null;case 13:return wm(i,s,u);case 4:return pc(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=es(s,null,h,u):$t(i,s,h,u),s.child;case 11:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:An(h,g),dm(i,s,h,g,u);case 7:return $t(i,s,s.pendingProps,u),s.child;case 8:return $t(i,s,s.pendingProps.children,u),s.child;case 12:return $t(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,g=s.pendingProps,w=s.memoizedProps,S=g.value,Be(Ul,h._currentValue),h._currentValue=S,w!==null)if(In(w.value,S)){if(w.children===g.children&&!Ht.current){s=gr(i,s,u);break e}}else for(w=s.child,w!==null&&(w.return=s);w!==null;){var O=w.dependencies;if(O!==null){S=w.child;for(var D=O.firstContext;D!==null;){if(D.context===h){if(w.tag===1){D=mr(-1,u&-u),D.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?D.next=D:(D.next=re.next,re.next=D),Y.pending=D}}w.lanes|=u,D=w.alternate,D!==null&&(D.lanes|=u),dc(w.return,u,s),O.lanes|=u;break}D=D.next}}else if(w.tag===10)S=w.type===s.type?null:w.child;else if(w.tag===18){if(S=w.return,S===null)throw Error(n(341));S.lanes|=u,O=S.alternate,O!==null&&(O.lanes|=u),dc(S,u,s),S=w.sibling}else S=w.child;if(S!==null)S.return=w;else for(S=w;S!==null;){if(S===s){S=null;break}if(w=S.sibling,w!==null){w.return=S.return,S=w;break}S=S.return}w=S}$t(i,s,g.children,u),s=s.child}return s;case 9:return g=s.type,h=s.pendingProps.children,ns(s,u),g=wn(g),h=h(g),s.flags|=1,$t(i,s,h,u),s.child;case 14:return h=s.type,g=An(h,s.pendingProps),g=An(h.type,g),fm(i,s,h,g,u);case 15:return hm(i,s,s.type,s.pendingProps,u);case 17:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:An(h,g),Zl(i,s),s.tag=1,Vt(h)?(i=!0,Dl(s)):i=!1,ns(s,u),im(s,h,g),jc(s,h,g,u),Rc(null,s,h,!0,i,u);case 19:return bm(i,s,u);case 22:return pm(i,s,u)}throw Error(n(156,s.tag))};function Vm(i,s){return _h(i,s)}function Ab(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,s,u,h){return new Ab(i,s,u,h)}function Qc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Db(i){if(typeof i=="function")return Qc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===G)return 14}return 2}function Hr(i,s){var u=i.alternate;return u===null?(u=kn(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function ca(i,s,u,h,g,w){var S=2;if(h=i,typeof i=="function")Qc(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case $:return _i(u.children,g,w,s);case J:S=8,g|=8;break;case F:return i=kn(12,u,s,g|2),i.elementType=F,i.lanes=w,i;case Z:return i=kn(13,u,s,g),i.elementType=Z,i.lanes=w,i;case K:return i=kn(19,u,s,g),i.elementType=K,i.lanes=w,i;case te:return da(u,g,w,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:S=10;break e;case z:S=9;break e;case U:S=11;break e;case G:S=14;break e;case ee:S=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return s=kn(S,u,s,g),s.elementType=i,s.type=h,s.lanes=w,s}function _i(i,s,u,h){return i=kn(7,i,h,s),i.lanes=u,i}function da(i,s,u,h){return i=kn(22,i,h,s),i.elementType=te,i.lanes=u,i.stateNode={isHidden:!1},i}function Xc(i,s,u){return i=kn(6,i,null,s),i.lanes=u,i}function Zc(i,s,u){return s=kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Lb(i,s,u,h,g){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cu(0),this.expirationTimes=Cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function ed(i,s,u,h,g,w,S,O,D){return i=new Lb(i,s,u,O,D),s===1?(s=1,w===!0&&(s|=8)):s=0,w=kn(3,null,null,s),i.current=w,w.stateNode=i,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(w),i}function Mb(i,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:h==null?null:""+h,children:i,containerInfo:s,implementation:u}}function qm(i){if(!i)return Dr;i=i._reactInternals;e:{if(fi(i)!==i||i.tag!==1)throw Error(n(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Vt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Vt(u))return xp(i,u,s)}return s}function Km(i,s,u,h,g,w,S,O,D){return i=ed(u,h,!0,i,g,w,S,O,D),i.context=qm(null),u=i.current,h=Ft(),g=Br(u),w=mr(h,g),w.callback=s??null,$r(u,w,g),i.current.lanes=g,qs(i,g,h),Yt(i,h),i}function fa(i,s,u,h){var g=s.current,w=Ft(),S=Br(g);return u=qm(u),s.context===null?s.context=u:s.pendingContext=u,s=mr(w,S),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=$r(g,s,S),i!==null&&(Mn(i,g,S,w),Wl(i,g,S)),S}function ha(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ym(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function td(i,s){Ym(i,s),(i=i.alternate)&&Ym(i,s)}function $b(){return null}var Gm=typeof reportError=="function"?reportError:function(i){console.error(i)};function nd(i){this._internalRoot=i}pa.prototype.render=nd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));fa(i,s,null,null)},pa.prototype.unmount=nd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;bi(function(){fa(null,i,null,null)}),s[cr]=null}};function pa(i){this._internalRoot=i}pa.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ih();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Nr.length&&s!==0&&s<Nr[u].priority;u++);Nr.splice(u,0,i),u===0&&Dh(i)}};function rd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ma(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Jm(){}function Fb(i,s,u,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var Y=ha(S);w.call(Y)}}var S=Km(s,h,i,0,null,!1,!1,"",Jm);return i._reactRootContainer=S,i[cr]=S.current,oo(i.nodeType===8?i.parentNode:i),bi(),S}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var O=h;h=function(){var Y=ha(D);O.call(Y)}}var D=ed(i,0,!1,null,null,!1,!1,"",Jm);return i._reactRootContainer=D,i[cr]=D.current,oo(i.nodeType===8?i.parentNode:i),bi(function(){fa(s,D,u,h)}),D}function ga(i,s,u,h,g){var w=u._reactRootContainer;if(w){var S=w;if(typeof g=="function"){var O=g;g=function(){var D=ha(S);O.call(D)}}fa(s,S,i,g)}else S=Fb(u,s,i,g,h);return ha(S)}Nh=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Vs(s.pendingLanes);u!==0&&(ju(s,u|1),Yt(s,rt()),(De&6)===0&&(ls=rt()+500,Lr()))}break;case 13:bi(function(){var h=pr(i,1);if(h!==null){var g=Ft();Mn(h,i,1,g)}}),td(i,1)}},Tu=function(i){if(i.tag===13){var s=pr(i,134217728);if(s!==null){var u=Ft();Mn(s,i,134217728,u)}td(i,134217728)}},Rh=function(i){if(i.tag===13){var s=Br(i),u=pr(i,s);if(u!==null){var h=Ft();Mn(u,i,s,h)}td(i,s)}},Ih=function(){return $e},Oh=function(i,s){var u=$e;try{return $e=i,s()}finally{$e=u}},Ws=function(i,s,u){switch(s){case"input":if(lr(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var g=Ol(h);if(!g)throw Error(n(90));nt(h),lr(h,g)}}}break;case"textarea":di(i,u);break;case"select":s=u.value,s!=null&&nn(i,!!u.multiple,s,!1)}},Mt=Yc,Tt=bi;var zb={usingClientEntryPoint:!1,Events:[uo,Yi,Ol,jt,Tn,Yc]},_o={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ub={bundleType:_o.bundleType,version:_o.version,rendererPackageName:_o.rendererPackageName,rendererConfig:_o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=kh(i),i===null?null:i.stateNode},findFiberByHostInstance:_o.findFiberByHostInstance||$b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!va.isDisabled&&va.supportsFiber)try{pl=va.inject(Ub),Yn=va}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zb,Gt.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rd(s))throw Error(n(200));return Mb(i,s,null,u)},Gt.createRoot=function(i,s){if(!rd(i))throw Error(n(299));var u=!1,h="",g=Gm;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=ed(i,1,!1,null,null,u,!1,h,g),i[cr]=s.current,oo(i.nodeType===8?i.parentNode:i),new nd(s)},Gt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=kh(s),i=i===null?null:i.stateNode,i},Gt.flushSync=function(i){return bi(i)},Gt.hydrate=function(i,s,u){if(!ma(s))throw Error(n(200));return ga(null,i,s,!0,u)},Gt.hydrateRoot=function(i,s,u){if(!rd(i))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,g=!1,w="",S=Gm;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),s=Km(s,null,i,1,u??null,g,!1,w,S),i[cr]=s.current,oo(i),h)for(i=0;i<h.length;i++)u=h[i],g=u._getVersion,g=g(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,g]:s.mutableSourceEagerHydrationData.push(u,g);return new pa(s)},Gt.render=function(i,s,u){if(!ma(s))throw Error(n(200));return ga(null,i,s,!1,u)},Gt.unmountComponentAtNode=function(i){if(!ma(i))throw Error(n(40));return i._reactRootContainer?(bi(function(){ga(null,null,i,!1,function(){i._reactRootContainer=null,i[cr]=null})}),!0):!1},Gt.unstable_batchedUpdates=Yc,Gt.unstable_renderSubtreeIntoContainer=function(i,s,u,h){if(!ma(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ga(i,s,u,!1,h)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var ig;function hy(){if(ig)return od.exports;ig=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),od.exports=Jb(),od.exports}var sg;function Qb(){if(sg)return ya;sg=1;var e=hy();return ya.createRoot=e.createRoot,ya.hydrateRoot=e.hydrateRoot,ya}var Xb=Qb();const Zb=Os(Xb);var Cs=hy();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(this,arguments)}var Zr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zr||(Zr={}));const og="popstate";function ek(e){e===void 0&&(e={});function t(r,o){let{pathname:l,search:a,hash:c}=r.location;return Yd("",{pathname:l,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:$a(o)}return nk(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function py(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tk(){return Math.random().toString(36).substr(2,8)}function lg(e,t){return{usr:e.state,key:e.key,idx:t}}function Yd(e,t,n,r){return n===void 0&&(n=null),qo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?As(t):t,{state:n,key:t&&t.key||r||tk()})}function $a(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function As(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nk(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:l=!1}=r,a=o.history,c=Zr.Pop,d=null,f=m();f==null&&(f=0,a.replaceState(qo({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function p(){c=Zr.Pop;let E=m(),T=E==null?null:E-f;f=E,d&&d({action:c,location:k.location,delta:T})}function v(E,T){c=Zr.Push;let R=Yd(k.location,E,T);f=m()+1;let N=lg(R,f),L=k.createHref(R);try{a.pushState(N,"",L)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(L)}l&&d&&d({action:c,location:k.location,delta:1})}function y(E,T){c=Zr.Replace;let R=Yd(k.location,E,T);f=m();let N=lg(R,f),L=k.createHref(R);a.replaceState(N,"",L),l&&d&&d({action:c,location:k.location,delta:0})}function b(E){let T=o.location.origin!=="null"?o.location.origin:o.location.href,R=typeof E=="string"?E:$a(E);return R=R.replace(/ $/,"%20"),et(T,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,T)}let k={get action(){return c},get location(){return e(o,a)},listen(E){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(og,p),d=E,()=>{o.removeEventListener(og,p),d=null}},createHref(E){return t(o,E)},createURL:b,encodeLocation(E){let T=b(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:y,go(E){return a.go(E)}};return k}var ag;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ag||(ag={}));function rk(e,t,n){return n===void 0&&(n="/"),ik(e,t,n)}function ik(e,t,n,r){let o=typeof t=="string"?As(t):t,l=Ns(o.pathname||"/",n);if(l==null)return null;let a=my(e);sk(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=gk(l);c=pk(a[d],f)}return c}function my(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(l,a,c)=>{let d={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};d.relativePath.startsWith("/")&&(et(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=ri([r,d.relativePath]),m=n.concat(d);l.children&&l.children.length>0&&(et(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),my(l.children,t,m,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:fk(f,l.index),routesMeta:m})};return e.forEach((l,a)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))o(l,a);else for(let d of gy(l.path))o(l,a,d)}),t}function gy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let a=gy(r.join("/")),c=[];return c.push(...a.map(d=>d===""?l:[l,d].join("/"))),o&&c.push(...a),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function sk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ok=/^:[\w-]+$/,lk=3,ak=2,uk=1,ck=10,dk=-2,ug=e=>e==="*";function fk(e,t){let n=e.split("/"),r=n.length;return n.some(ug)&&(r+=dk),t&&(r+=ak),n.filter(o=>!ug(o)).reduce((o,l)=>o+(ok.test(l)?lk:l===""?uk:ck),r)}function hk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function pk(e,t,n){let{routesMeta:r}=e,o={},l="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=l==="/"?t:t.slice(l.length)||"/",p=Gd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!p)return null;Object.assign(o,p.params),a.push({params:o,pathname:ri([l,p.pathname]),pathnameBase:xk(ri([l,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(l=ri([l,p.pathnameBase]))}return a}function Gd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mk(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],a=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((f,m,p)=>{let{paramName:v,isOptional:y}=m;if(v==="*"){let k=c[p]||"";a=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const b=c[p];return y&&!b?f[v]=void 0:f[v]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:a,pattern:e}}function mk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),py(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function gk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return py(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ns(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vk(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?As(e):e;return{pathname:n?n.startsWith("/")?n:yk(n,t):t,search:bk(r),hash:kk(o)}}function yk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ud(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Df(e,t){let n=wk(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lf(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=As(e):(o=qo({},e),et(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let l=e===""||o.pathname==="",a=l?"/":o.pathname,c;if(a==null)c=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;o.pathname=v.join("/")}c=p>=0?t[p]:"/"}let d=vk(o,c),f=a&&a!=="/"&&a.endsWith("/"),m=(l||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const ri=e=>e.join("/").replace(/\/\/+/g,"/"),xk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vy=["post","put","patch","delete"];new Set(vy);const _k=["get",...vy];new Set(_k);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(this,arguments)}const nu=_.createContext(null),yy=_.createContext(null),kr=_.createContext(null),ru=_.createContext(null),Sr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),wy=_.createContext(null);function Ek(e,t){let{relative:n}=t===void 0?{}:t;Ds()||et(!1);let{basename:r,navigator:o}=_.useContext(kr),{hash:l,pathname:a,search:c}=iu(e,{relative:n}),d=a;return r!=="/"&&(d=a==="/"?r:ri([r,a])),o.createHref({pathname:d,search:c,hash:l})}function Ds(){return _.useContext(ru)!=null}function oi(){return Ds()||et(!1),_.useContext(ru).location}function xy(e){_.useContext(kr).static||_.useLayoutEffect(e)}function Mf(){let{isDataRoute:e}=_.useContext(Sr);return e?zk():Ck()}function Ck(){Ds()||et(!1);let e=_.useContext(nu),{basename:t,future:n,navigator:r}=_.useContext(kr),{matches:o}=_.useContext(Sr),{pathname:l}=oi(),a=JSON.stringify(Df(o,n.v7_relativeSplatPath)),c=_.useRef(!1);return xy(()=>{c.current=!0}),_.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let p=Lf(f,JSON.parse(a),l,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ri([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,a,l,e])}const jk=_.createContext(null);function Tk(e){let t=_.useContext(Sr).outlet;return t&&_.createElement(jk.Provider,{value:e},t)}function iu(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(kr),{matches:o}=_.useContext(Sr),{pathname:l}=oi(),a=JSON.stringify(Df(o,r.v7_relativeSplatPath));return _.useMemo(()=>Lf(e,JSON.parse(a),l,n==="path"),[e,a,l,n])}function Pk(e,t){return Nk(e,t)}function Nk(e,t,n,r){Ds()||et(!1);let{navigator:o}=_.useContext(kr),{matches:l}=_.useContext(Sr),a=l[l.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let f=oi(),m;if(t){var p;let E=typeof t=="string"?As(t):t;d==="/"||(p=E.pathname)!=null&&p.startsWith(d)||et(!1),m=E}else m=f;let v=m.pathname||"/",y=v;if(d!=="/"){let E=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=rk(e,{pathname:y}),k=Dk(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:ri([d,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:ri([d,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,n,r);return t&&k?_.createElement(ru.Provider,{value:{location:Ko({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Zr.Pop}},k):k}function Rk(){let e=Fk(),t=Sk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:o},n):null,null)}const Ik=_.createElement(Rk,null);class Ok extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(Sr.Provider,{value:this.props.routeContext},_.createElement(wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ak(e){let{routeContext:t,match:n,children:r}=e,o=_.useContext(nu);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Sr.Provider,{value:t},r)}function Dk(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=(o=n)==null?void 0:o.errors;if(c!=null){let m=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);m>=0||et(!1),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:v,errors:y}=n,b=p.route.loader&&v[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let y,b=!1,k=null,E=null;n&&(y=c&&p.route.id?c[p.route.id]:void 0,k=p.route.errorElement||Ik,d&&(f<0&&v===0?(Uk("route-fallback"),b=!0,E=null):f===v&&(b=!0,E=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,v+1)),R=()=>{let N;return y?N=k:b?N=E:p.route.Component?N=_.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,_.createElement(Ak,{match:p,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?_.createElement(Ok,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}var by=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(by||{}),ky=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(ky||{});function Lk(e){let t=_.useContext(nu);return t||et(!1),t}function Mk(e){let t=_.useContext(yy);return t||et(!1),t}function $k(e){let t=_.useContext(Sr);return t||et(!1),t}function Sy(e){let t=$k(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function Fk(){var e;let t=_.useContext(wy),n=Mk(),r=Sy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function zk(){let{router:e}=Lk(by.UseNavigateStable),t=Sy(ky.UseNavigateStable),n=_.useRef(!1);return xy(()=>{n.current=!0}),_.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ko({fromRouteId:t},l)))},[e,t])}const cg={};function Uk(e,t,n){cg[e]||(cg[e]=!0)}function Bk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $f(e){let{to:t,replace:n,state:r,relative:o}=e;Ds()||et(!1);let{future:l,static:a}=_.useContext(kr),{matches:c}=_.useContext(Sr),{pathname:d}=oi(),f=Mf(),m=Lf(t,Df(c,l.v7_relativeSplatPath),d,o==="path"),p=JSON.stringify(m);return _.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:o}),[f,p,o,n,r]),null}function _y(e){return Tk(e.context)}function $n(e){et(!1)}function Wk(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Zr.Pop,navigator:l,static:a=!1,future:c}=e;Ds()&&et(!1);let d=t.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:d,navigator:l,static:a,future:Ko({v7_relativeSplatPath:!1},c)}),[d,c,l,a]);typeof r=="string"&&(r=As(r));let{pathname:m="/",search:p="",hash:v="",state:y=null,key:b="default"}=r,k=_.useMemo(()=>{let E=Ns(m,d);return E==null?null:{location:{pathname:E,search:p,hash:v,state:y,key:b},navigationType:o}},[d,m,p,v,y,b,o]);return k==null?null:_.createElement(kr.Provider,{value:f},_.createElement(ru.Provider,{children:n,value:k}))}function Hk(e){let{children:t,location:n}=e;return Pk(Jd(t),n)}new Promise(()=>{});function Jd(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,o)=>{if(!_.isValidElement(r))return;let l=[...t,o];if(r.type===_.Fragment){n.push.apply(n,Jd(r.props.children,l));return}r.type!==$n&&et(!1),!r.props.index||!r.props.children||et(!1);let a={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Jd(r.props.children,l)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(this,arguments)}function Ey(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,l;for(l=0;l<r.length;l++)o=r[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Vk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qk(e,t){return e.button===0&&(!t||t==="_self")&&!Vk(e)}function Qd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function Kk(e,t){let n=Qd(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(l=>{n.append(o,l)})}),n}const Yk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gk=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Jk="6";try{window.__reactRouterVersion=Jk}catch{}const Qk=_.createContext({isTransitioning:!1}),Xk="startTransition",dg=Kd[Xk];function Zk(e){let{basename:t,children:n,future:r,window:o}=e,l=_.useRef();l.current==null&&(l.current=ek({window:o,v5Compat:!0}));let a=l.current,[c,d]=_.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},m=_.useCallback(p=>{f&&dg?dg(()=>d(p)):d(p)},[d,f]);return _.useLayoutEffect(()=>a.listen(m),[a,m]),_.useEffect(()=>Bk(r),[r]),_.createElement(Wk,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const e1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oa=_.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:l,replace:a,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p}=t,v=Ey(t,Yk),{basename:y}=_.useContext(kr),b,k=!1;if(typeof f=="string"&&t1.test(f)&&(b=f,e1))try{let N=new URL(window.location.href),L=f.startsWith("//")?new URL(N.protocol+f):new URL(f),H=Ns(L.pathname,y);L.origin===N.origin&&H!=null?f=H+L.search+L.hash:k=!0}catch{}let E=Ek(f,{relative:o}),T=r1(f,{replace:a,state:c,target:d,preventScrollReset:m,relative:o,viewTransition:p});function R(N){r&&r(N),N.defaultPrevented||T(N)}return _.createElement("a",Fa({},v,{href:b||E,onClick:k||l?r:R,ref:n,target:d}))}),fg=_.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:l="",end:a=!1,style:c,to:d,viewTransition:f,children:m}=t,p=Ey(t,Gk),v=iu(d,{relative:p.relative}),y=oi(),b=_.useContext(yy),{navigator:k,basename:E}=_.useContext(kr),T=b!=null&&s1(v)&&f===!0,R=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,N=y.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;o||(N=N.toLowerCase(),L=L?L.toLowerCase():null,R=R.toLowerCase()),L&&E&&(L=Ns(L,E)||L);const H=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let j=N===R||!a&&N.startsWith(R)&&N.charAt(H)==="/",$=L!=null&&(L===R||!a&&L.startsWith(R)&&L.charAt(R.length)==="/"),J={isActive:j,isPending:$,isTransitioning:T},F=j?r:void 0,I;typeof l=="function"?I=l(J):I=[l,j?"active":null,$?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let z=typeof c=="function"?c(J):c;return _.createElement(Oa,Fa({},p,{"aria-current":F,className:I,ref:n,style:z,to:d,viewTransition:f}),typeof m=="function"?m(J):m)});var Xd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xd||(Xd={}));var hg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hg||(hg={}));function n1(e){let t=_.useContext(nu);return t||et(!1),t}function r1(e,t){let{target:n,replace:r,state:o,preventScrollReset:l,relative:a,viewTransition:c}=t===void 0?{}:t,d=Mf(),f=oi(),m=iu(e,{relative:a});return _.useCallback(p=>{if(qk(p,n)){p.preventDefault();let v=r!==void 0?r:$a(f)===$a(m);d(e,{replace:v,state:o,preventScrollReset:l,relative:a,viewTransition:c})}},[f,d,m,r,o,n,e,l,a,c])}function i1(e){let t=_.useRef(Qd(e)),n=_.useRef(!1),r=oi(),o=_.useMemo(()=>Kk(r.search,n.current?null:t.current),[r.search]),l=Mf(),a=_.useCallback((c,d)=>{const f=Qd(typeof c=="function"?c(o):c);n.current=!0,l("?"+f,d)},[l,o]);return[o,a]}function s1(e,t){t===void 0&&(t={});let n=_.useContext(Qk);n==null&&et(!1);let{basename:r}=n1(Xd.useViewTransitionState),o=iu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gd(o.pathname,a)!=null||Gd(o.pathname,l)!=null}function Cy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Cy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ut(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Cy(e))&&(r&&(r+=" "),r+=t);return r}var o1=Object.defineProperty,l1=(e,t,n)=>t in e?o1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cd=(e,t,n)=>(l1(e,typeof t!="symbol"?t+"":t,n),n);let a1=class{constructor(){cd(this,"current",this.detect()),cd(this,"handoffState","pending"),cd(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},rr=new a1;function nl(e){var t;return rr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Zd(e){var t,n;return rr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function jy(e){var t,n;return(n=(t=Zd(e))==null?void 0:t.activeElement)!=null?n:null}function u1(e){return jy(e)===e}function su(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function _r(){let e=[],t={addEventListener(n,r,o,l){return n.addEventListener(r,o,l),t.add(()=>n.removeEventListener(r,o,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return su(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=_r();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function ou(){let[e]=_.useState(_r);return _.useEffect(()=>()=>e.dispose(),[e]),e}let Xt=(e,t)=>{rr.isServer?_.useEffect(e,t):_.useLayoutEffect(e,t)};function Mi(e){let t=_.useRef(e);return Xt(()=>{t.current=e},[e]),t}let Fe=function(e){let t=Mi(e);return me.useCallback((...n)=>t.current(...n),[t])};function rl(e){return _.useMemo(()=>e,Object.values(e))}let c1=_.createContext(void 0);function d1(){return _.useContext(c1)}function ef(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function br(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,br),r}var za=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(za||{}),ei=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ei||{});function Cn(){let e=h1();return _.useCallback(t=>f1({mergeRefs:e,...t}),[e])}function f1({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:l=!0,name:a,mergeRefs:c}){c=c??p1;let d=Ty(t,e);if(l)return wa(d,n,r,a,c);let f=o??0;if(f&2){let{static:m=!1,...p}=d;if(m)return wa(p,n,r,a,c)}if(f&1){let{unmount:m=!0,...p}=d;return br(m?0:1,{0(){return null},1(){return wa({...p,hidden:!0,style:{display:"none"}},n,r,a,c)}})}return wa(d,n,r,a,c)}function wa(e,t={},n,r,o){let{as:l=n,children:a,refName:c="ref",...d}=dd(e,["unmount","static"]),f=e.ref!==void 0?{[c]:e.ref}:{},m=typeof a=="function"?a(t):a;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let p={};if(t){let v=!1,y=[];for(let[b,k]of Object.entries(t))typeof k=="boolean"&&(v=!0),k===!0&&y.push(b.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(v){p["data-headlessui-state"]=y.join(" ");for(let b of y)p[`data-${b}`]=""}}if(Ao(l)&&(Object.keys(Ti(d)).length>0||Object.keys(Ti(p)).length>0))if(!_.isValidElement(m)||Array.isArray(m)&&m.length>1||g1(m)){if(Object.keys(Ti(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ti(d)).concat(Object.keys(Ti(p))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=m.props,y=v==null?void 0:v.className,b=typeof y=="function"?(...T)=>ef(y(...T),d.className):ef(y,d.className),k=b?{className:b}:{},E=Ty(m.props,Ti(dd(d,["ref"])));for(let T in p)T in E&&delete p[T];return _.cloneElement(m,Object.assign({},E,p,f,{ref:o(m1(m),f.ref)},k))}return _.createElement(l,Object.assign({},dd(d,["ref"]),!Ao(l)&&f,!Ao(l)&&p),m)}function h1(){let e=_.useRef([]),t=_.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function p1(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Ty(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var l;return(l=o==null?void 0:o.preventDefault)==null?void 0:l.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...l){let a=n[r];for(let c of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;c(o,...l)}}});return t}function Zt(e){var t;return Object.assign(_.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ti(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function dd(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function m1(e){return me.version.split(".")[0]>="19"?e.props.ref:e.ref}function Ao(e){return e===_.Fragment||e===Symbol.for("react.fragment")}function g1(e){return Ao(e.type)}let v1="span";var Ua=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ua||{});function y1(e,t){var n;let{features:r=1,...o}=e,l={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Cn()({ourProps:l,theirProps:o,slot:{},defaultTag:v1,name:"Hidden"})}let tf=Zt(y1);function w1(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ii(e){return w1(e)&&"tagName"in e}function Di(e){return ii(e)&&"accessKey"in e}function ti(e){return ii(e)&&"tabIndex"in e}function x1(e){return ii(e)&&"style"in e}function b1(e){return Di(e)&&e.nodeName==="IFRAME"}function k1(e){return Di(e)&&e.nodeName==="INPUT"}let Py=Symbol();function S1(e,t=!0){return Object.assign(e,{[Py]:t})}function sr(...e){let t=_.useRef(e);_.useEffect(()=>{t.current=e},[e]);let n=Fe(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Py]))?void 0:n}let Ff=_.createContext(null);Ff.displayName="DescriptionContext";function Ny(){let e=_.useContext(Ff);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Ny),t}return e}function _1(){let[e,t]=_.useState([]);return[e.length>0?e.join(" "):void 0,_.useMemo(()=>function(n){let r=Fe(l=>(t(a=>[...a,l]),()=>t(a=>{let c=a.slice(),d=c.indexOf(l);return d!==-1&&c.splice(d,1),c}))),o=_.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return me.createElement(Ff.Provider,{value:o},n.children)},[t])]}let E1="p";function C1(e,t){let n=_.useId(),r=d1(),{id:o=`headlessui-description-${n}`,...l}=e,a=Ny(),c=sr(t);Xt(()=>a.register(o),[o,a.register]);let d=rl({...a.slot,disabled:r||!1}),f={ref:c,...a.props,id:o};return Cn()({ourProps:f,theirProps:l,slot:d,defaultTag:E1,name:a.name||"Description"})}let j1=Zt(C1),T1=Object.assign(j1,{});var Ry=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ry||{});let P1=_.createContext(()=>{});function N1({value:e,children:t}){return me.createElement(P1.Provider,{value:e},t)}let Iy=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var R1=Object.defineProperty,I1=(e,t,n)=>t in e?R1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O1=(e,t,n)=>(I1(e,t+"",n),n),Oy=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Sn=(e,t,n)=>(Oy(e,t,"read from private field"),n?n.call(e):t.get(e)),fd=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},pg=(e,t,n,r)=>(Oy(e,t,"write to private field"),t.set(e,n),n),er,No,Ro;let A1=class{constructor(t){fd(this,er,{}),fd(this,No,new Iy(()=>new Set)),fd(this,Ro,new Set),O1(this,"disposables",_r()),pg(this,er,t),rr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Sn(this,er)}subscribe(t,n){if(rr.isServer)return()=>{};let r={selector:t,callback:n,current:t(Sn(this,er))};return Sn(this,Ro).add(r),this.disposables.add(()=>{Sn(this,Ro).delete(r)})}on(t,n){return rr.isServer?()=>{}:(Sn(this,No).get(t).add(n),this.disposables.add(()=>{Sn(this,No).get(t).delete(n)}))}send(t){let n=this.reduce(Sn(this,er),t);if(n!==Sn(this,er)){pg(this,er,n);for(let r of Sn(this,Ro)){let o=r.selector(Sn(this,er));Ay(r.current,o)||(r.current=o,r.callback(o))}for(let r of Sn(this,No).get(t.type))r(Sn(this,er),t)}}};er=new WeakMap,No=new WeakMap,Ro=new WeakMap;function Ay(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:hd(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:hd(e.entries(),t.entries()):mg(e)&&mg(t)?hd(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function hd(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function mg(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var D1=Object.defineProperty,L1=(e,t,n)=>t in e?D1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gg=(e,t,n)=>(L1(e,typeof t!="symbol"?t+"":t,n),n),M1=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(M1||{});let $1={0(e,t){let n=t.id,r=e.stack,o=e.stack.indexOf(n);if(o!==-1){let l=e.stack.slice();return l.splice(o,1),l.push(n),r=l,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let o=e.stack.slice();return o.splice(r,1),{...e,stack:o}}},F1=class Dy extends A1{constructor(){super(...arguments),gg(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),gg(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Dy({stack:[]})}reduce(t,n){return br(n.type,$1,t,n)}};const Ly=new Iy(()=>F1.new());var pd={exports:{}},md={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function z1(){if(vg)return md;vg=1;var e=tu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,l=e.useEffect,a=e.useMemo,c=e.useDebugValue;return md.useSyncExternalStoreWithSelector=function(d,f,m,p,v){var y=o(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function E(H){if(!T){if(T=!0,R=H,H=p(H),v!==void 0&&b.hasValue){var j=b.value;if(v(j,H))return N=j}return N=H}if(j=N,n(R,H))return j;var $=p(H);return v!==void 0&&v(j,$)?(R=H,j):(R=H,N=$)}var T=!1,R,N,L=m===void 0?null:m;return[function(){return E(f())},L===null?void 0:function(){return E(L())}]},[f,m,p,v]);var k=r(d,y[0],y[1]);return l(function(){b.hasValue=!0,b.value=k},[k]),c(k),k},md}var yg;function U1(){return yg||(yg=1,pd.exports=z1()),pd.exports}var B1=U1();function My(e,t,n=Ay){return B1.useSyncExternalStoreWithSelector(Fe(r=>e.subscribe(W1,r)),Fe(()=>e.state),Fe(()=>e.state),Fe(t),n)}function W1(e){return e}function il(e,t){let n=_.useId(),r=Ly.get(t),[o,l]=My(r,_.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return Xt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?l?o:!0:!1}let nf=new Map,Do=new Map;function wg(e){var t;let n=(t=Do.get(e))!=null?t:0;return Do.set(e,n+1),n!==0?()=>xg(e):(nf.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>xg(e))}function xg(e){var t;let n=(t=Do.get(e))!=null?t:1;if(n===1?Do.delete(e):Do.set(e,n-1),n!==1)return;let r=nf.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,nf.delete(e))}function H1(e,{allowed:t,disallowed:n}={}){let r=il(e,"inert-others");Xt(()=>{var o,l;if(!r)return;let a=_r();for(let d of(o=n==null?void 0:n())!=null?o:[])d&&a.add(wg(d));let c=(l=t==null?void 0:t())!=null?l:[];for(let d of c){if(!d)continue;let f=nl(d);if(!f)continue;let m=d.parentElement;for(;m&&m!==f.body;){for(let p of m.children)c.some(v=>p.contains(v))||a.add(wg(p));m=m.parentElement}}return a.dispose},[r,t,n])}function V1(e,t,n){let r=Mi(o=>{let l=o.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});_.useEffect(()=>{if(!e)return;let o=t===null?null:Di(t)?t:t.current;if(!o)return;let l=_r();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(o));a.observe(o),l.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(o));a.observe(o),l.add(()=>a.disconnect())}return()=>l.dispose()},[t,r,e])}let Ba=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),q1=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var wr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(wr||{}),rf=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(rf||{}),K1=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(K1||{});function Y1(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ba)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function G1(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(q1)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var $y=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))($y||{});function J1(e,t=0){var n;return e===((n=nl(e))==null?void 0:n.body)?!1:br(t,{0(){return e.matches(Ba)},1(){let r=e;for(;r!==null;){if(r.matches(Ba))return!0;r=r.parentElement}return!1}})}var Q1=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Q1||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xr(e){e==null||e.focus({preventScroll:!0})}let X1=["textarea","input"].join(",");function Z1(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,X1))!=null?n:!1}function eS(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),l=t(r);if(o===null||l===null)return 0;let a=o.compareDocumentPosition(l);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Lo(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let l=Array.isArray(e)?e.length>0?Zd(e[0]):document:Zd(e),a=Array.isArray(e)?n?eS(e):e:t&64?G1(e):Y1(e);o.length>0&&a.length>1&&(a=a.filter(y=>!o.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===y:b===y))),r=r??(l==null?void 0:l.activeElement);let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},m=0,p=a.length,v;do{if(m>=p||m+p<=0)return 0;let y=d+m;if(t&16)y=(y+p)%p;else{if(y<0)return 3;if(y>=p)return 1}v=a[y],v==null||v.focus(f),m+=c}while(v!==jy(v));return t&6&&Z1(v)&&v.select(),2}function Fy(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function tS(){return/Android/gi.test(window.navigator.userAgent)}function bg(){return Fy()||tS()}function xa(e,t,n,r){let o=Mi(n);_.useEffect(()=>{if(!e)return;function l(a){o.current(a)}return document.addEventListener(t,l,r),()=>document.removeEventListener(t,l,r)},[e,t,r])}function zy(e,t,n,r){let o=Mi(n);_.useEffect(()=>{if(!e)return;function l(a){o.current(a)}return window.addEventListener(t,l,r),()=>window.removeEventListener(t,l,r)},[e,t,r])}const kg=30;function nS(e,t,n){let r=Mi(n),o=_.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let m=(function p(v){return typeof v=="function"?p(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let p of m)if(p!==null&&(p.contains(f)||c.composed&&c.composedPath().includes(p)))return;return!J1(f,$y.Loose)&&f.tabIndex!==-1&&c.preventDefault(),r.current(c,f)},[r,t]),l=_.useRef(null);xa(e,"pointerdown",c=>{var d,f;bg()||(l.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target)},!0),xa(e,"pointerup",c=>{if(bg()||!l.current)return;let d=l.current;return l.current=null,o(c,()=>d)},!0);let a=_.useRef({x:0,y:0});xa(e,"touchstart",c=>{a.current.x=c.touches[0].clientX,a.current.y=c.touches[0].clientY},!0),xa(e,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-a.current.x)>=kg||Math.abs(d.y-a.current.y)>=kg))return o(c,()=>ti(c.target)?c.target:null)},!0),zy(e,"blur",c=>o(c,()=>b1(window.document.activeElement)?window.document.activeElement:null),!0)}function zf(...e){return _.useMemo(()=>nl(...e),[...e])}function Uy(e,t,n,r){let o=Mi(n);_.useEffect(()=>{e=e??window;function l(a){o.current(a)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function rS(e){return _.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function iS(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...l){let a=t[o].call(n,...l);a&&(n=a,r.forEach(c=>c()))}}}function sS(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),l=Math.max(0,e-o);n.style(r,"paddingRight",`${l}px`)}}}function oS(){return Fy()?{before({doc:e,d:t,meta:n}){function r(o){for(let l of n().containers)for(let a of l())if(a.contains(o))return!0;return!1}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=_r();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let l=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",c=>{if(ti(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),m=e.querySelector(f);ti(m)&&!r(m)&&(a=m)}catch{}},!0),t.group(c=>{t.addEventListener(e,"touchstart",d=>{if(c.dispose(),ti(d.target)&&x1(d.target))if(r(d.target)){let f=d.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;c.style(f,"overscrollBehavior","contain")}else c.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",c=>{if(ti(c.target)){if(k1(c.target))return;if(r(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;l!==d&&window.scrollTo(0,l),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function lS(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Sg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Oi=iS(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:_r(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Sg(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Sg(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[oS(),sS(),lS()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Oi.subscribe(()=>{let e=Oi.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&Oi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Oi.dispatch("TEARDOWN",n)}});function aS(e,t,n=()=>({containers:[]})){let r=rS(Oi),o=t?r.get(t):void 0,l=o?o.count>0:!1;return Xt(()=>{if(!(!t||!e))return Oi.dispatch("PUSH",t,n),()=>Oi.dispatch("POP",t,n)},[e,t]),l}function uS(e,t,n=()=>[document.body]){let r=il(e,"scroll-lock");aS(r,t,o=>{var l;return{containers:[...(l=o.containers)!=null?l:[],n]}})}function cS(e=0){let[t,n]=_.useState(e),r=_.useCallback(d=>n(d),[]),o=_.useCallback(d=>n(f=>f|d),[]),l=_.useCallback(d=>(t&d)===d,[t]),a=_.useCallback(d=>n(f=>f&~d),[]),c=_.useCallback(d=>n(f=>f^d),[]);return{flags:t,setFlag:r,addFlag:o,hasFlag:l,removeFlag:a,toggleFlag:c}}var dS={},_g,Eg;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((_g=process==null?void 0:dS)==null?void 0:_g.NODE_ENV)==="test"&&typeof((Eg=Element==null?void 0:Element.prototype)==null?void 0:Eg.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var fS=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(fS||{});function hS(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function pS(e,t,n,r){let[o,l]=_.useState(n),{hasFlag:a,addFlag:c,removeFlag:d}=cS(e&&o?3:0),f=_.useRef(!1),m=_.useRef(!1),p=ou();return Xt(()=>{var v;if(e){if(n&&l(!0),!t){n&&c(3);return}return(v=r==null?void 0:r.start)==null||v.call(r,n),mS(t,{inFlight:f,prepare(){m.current?m.current=!1:m.current=f.current,f.current=!0,!m.current&&(n?(c(3),d(4)):(c(4),d(2)))},run(){m.current?n?(d(3),c(4)):(d(4),c(3)):n?d(1):c(1)},done(){var y;m.current&&yS(t)||(f.current=!1,d(7),n||l(!1),(y=r==null?void 0:r.end)==null||y.call(r,n))}})}},[e,n,t,p]),e?[o,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function mS(e,{prepare:t,run:n,done:r,inFlight:o}){let l=_r();return vS(e,{prepare:t,inFlight:o}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(gS(e,r))})}),l.dispose}function gS(e,t){var n,r;let o=_r();if(!e)return o.dispose;let l=!1;o.add(()=>{l=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(c=>c instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),o.dispose):(Promise.allSettled(a.map(c=>c.finished)).then(()=>{l||t()}),o.dispose)}function vS(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function yS(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Uf(e,t){let n=_.useRef([]),r=Fe(e);_.useEffect(()=>{let o=[...n.current];for(let[l,a]of t.entries())if(n.current[l]!==a){let c=r(t,o);return n.current=t,c}},[r,...t])}let lu=_.createContext(null);lu.displayName="OpenClosedContext";var Un=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Un||{});function au(){return _.useContext(lu)}function wS({value:e,children:t}){return me.createElement(lu.Provider,{value:e},t)}function xS({children:e}){return me.createElement(lu.Provider,{value:null},e)}function bS(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Jr=[];bS(()=>{function e(t){if(!ti(t.target)||t.target===document.body||Jr[0]===t.target)return;let n=t.target;n=n.closest(Ba),Jr.unshift(n??t.target),Jr=Jr.filter(r=>r!=null&&r.isConnected),Jr.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function By(e){let t=Fe(e),n=_.useRef(!1);_.useEffect(()=>(n.current=!1,()=>{n.current=!0,su(()=>{n.current&&t()})}),[t])}let Wy=_.createContext(!1);function kS(){return _.useContext(Wy)}function Cg(e){return me.createElement(Wy.Provider,{value:e.force},e.children)}function SS(e){let t=kS(),n=_.useContext(Vy),[r,o]=_.useState(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(rr.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return _.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),_.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let Hy=_.Fragment,_S=Zt(function(e,t){let{ownerDocument:n=null,...r}=e,o=_.useRef(null),l=sr(S1(v=>{o.current=v}),t),a=zf(o.current),c=n??a,d=SS(c),f=_.useContext(sf),m=ou(),p=Cn();return By(()=>{var v;d&&d.childNodes.length<=0&&((v=d.parentElement)==null||v.removeChild(d))}),d?Cs.createPortal(me.createElement("div",{"data-headlessui-portal":"",ref:v=>{m.dispose(),f&&v&&m.add(f.register(v))}},p({ourProps:{ref:l},theirProps:r,slot:{},defaultTag:Hy,name:"Portal"})),d):null});function ES(e,t){let n=sr(t),{enabled:r=!0,ownerDocument:o,...l}=e,a=Cn();return r?me.createElement(_S,{...l,ownerDocument:o,ref:n}):a({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:Hy,name:"Portal"})}let CS=_.Fragment,Vy=_.createContext(null);function jS(e,t){let{target:n,...r}=e,o={ref:sr(t)},l=Cn();return me.createElement(Vy.Provider,{value:n},l({ourProps:o,theirProps:r,defaultTag:CS,name:"Popover.Group"}))}let sf=_.createContext(null);function TS(){let e=_.useContext(sf),t=_.useRef([]),n=Fe(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=Fe(l=>{let a=t.current.indexOf(l);a!==-1&&t.current.splice(a,1),e&&e.unregister(l)}),o=_.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,_.useMemo(()=>function({children:l}){return me.createElement(sf.Provider,{value:o},l)},[o])]}let PS=Zt(ES),qy=Zt(jS),NS=Object.assign(PS,{Group:qy});function RS(e,t=typeof document<"u"?document.defaultView:null,n){let r=il(e,"escape");Uy(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===Ry.Escape&&n(o))})}function IS(){var e;let[t]=_.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=_.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Xt(()=>{if(!t)return;function o(l){r(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function OS({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Fe(()=>{var o,l;let a=nl(n),c=[];for(let d of e)d!==null&&(ii(d)?c.push(d):"current"in d&&ii(d.current)&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(o=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])d!==document.body&&d!==document.head&&ii(d)&&d.id!=="headlessui-portal-root"&&(n&&(d.contains(n)||d.contains((l=n==null?void 0:n.getRootNode())==null?void 0:l.host))||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:r,contains:Fe(o=>r().some(l=>l.contains(o)))}}let Ky=_.createContext(null);function jg({children:e,node:t}){let[n,r]=_.useState(null),o=Yy(t??n);return me.createElement(Ky.Provider,{value:o},e,o===null&&me.createElement(tf,{features:Ua.Hidden,ref:l=>{var a,c;if(l){for(let d of(c=(a=nl(l))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&ii(d)&&d!=null&&d.contains(l)){r(d);break}}}}))}function Yy(e=null){var t;return(t=_.useContext(Ky))!=null?t:e}function AS(){let e=typeof document>"u";return"useSyncExternalStore"in Kd?(t=>t.useSyncExternalStore)(Kd)(()=>()=>{},()=>!1,()=>!e):!1}function uu(){let e=AS(),[t,n]=_.useState(rr.isHandoffComplete);return t&&rr.isHandoffComplete===!1&&n(!1),_.useEffect(()=>{t!==!0&&n(!0)},[t]),_.useEffect(()=>rr.handoff(),[]),e?!1:t}function Bf(){let e=_.useRef(!1);return Xt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Io=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Io||{});function DS(){let e=_.useRef(0);return zy(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Gy(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ii(n.current)&&t.add(n.current);return t}let LS="div";var Ni=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ni||{});function MS(e,t){let n=_.useRef(null),r=sr(n,t),{initialFocus:o,initialFocusFallback:l,containers:a,features:c=15,...d}=e;uu()||(c=0);let f=zf(n.current);US(c,{ownerDocument:f});let m=BS(c,{ownerDocument:f,container:n,initialFocus:o,initialFocusFallback:l});WS(c,{ownerDocument:f,container:n,containers:a,previousActiveElement:m});let p=DS(),v=Fe(R=>{if(!Di(n.current))return;let N=n.current;(L=>L())(()=>{br(p.current,{[Io.Forwards]:()=>{Lo(N,wr.First,{skipElements:[R.relatedTarget,l]})},[Io.Backwards]:()=>{Lo(N,wr.Last,{skipElements:[R.relatedTarget,l]})}})})}),y=il(!!(c&2),"focus-trap#tab-lock"),b=ou(),k=_.useRef(!1),E={ref:r,onKeyDown(R){R.key=="Tab"&&(k.current=!0,b.requestAnimationFrame(()=>{k.current=!1}))},onBlur(R){if(!(c&4))return;let N=Gy(a);Di(n.current)&&N.add(n.current);let L=R.relatedTarget;ti(L)&&L.dataset.headlessuiFocusGuard!=="true"&&(Jy(N,L)||(k.current?Lo(n.current,br(p.current,{[Io.Forwards]:()=>wr.Next,[Io.Backwards]:()=>wr.Previous})|wr.WrapAround,{relativeTo:R.target}):ti(R.target)&&xr(R.target)))}},T=Cn();return me.createElement(me.Fragment,null,y&&me.createElement(tf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ua.Focusable}),T({ourProps:E,theirProps:d,defaultTag:LS,name:"FocusTrap"}),y&&me.createElement(tf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ua.Focusable}))}let $S=Zt(MS),FS=Object.assign($S,{features:Ni});function zS(e=!0){let t=_.useRef(Jr.slice());return Uf(([n],[r])=>{r===!0&&n===!1&&su(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Jr.slice())},[e,Jr,t]),Fe(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function US(e,{ownerDocument:t}){let n=!!(e&8),r=zS(n);Uf(()=>{n||u1(t==null?void 0:t.body)&&xr(r())},[n]),By(()=>{n&&xr(r())})}function BS(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let l=_.useRef(null),a=il(!!(e&1),"focus-trap#initial-focus"),c=Bf();return Uf(()=>{if(e===0)return;if(!a){o!=null&&o.current&&xr(o.current);return}let d=n.current;d&&su(()=>{if(!c.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){l.current=f;return}}else if(d.contains(f)){l.current=f;return}if(r!=null&&r.current)xr(r.current);else{if(e&16){if(Lo(d,wr.First|wr.AutoFocus)!==rf.Error)return}else if(Lo(d,wr.First)!==rf.Error)return;if(o!=null&&o.current&&(xr(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[o,a,e]),l}function WS(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let l=Bf(),a=!!(e&4);Uy(t==null?void 0:t.defaultView,"focus",c=>{if(!a||!l.current)return;let d=Gy(r);Di(n.current)&&d.add(n.current);let f=o.current;if(!f)return;let m=c.target;Di(m)?Jy(d,m)?(o.current=m,xr(m)):(c.preventDefault(),c.stopPropagation(),xr(f)):xr(o.current)},!0)}function Jy(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Qy(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Ao((t=e.as)!=null?t:Zy)||me.Children.count(e.children)===1}let cu=_.createContext(null);cu.displayName="TransitionContext";var HS=(e=>(e.Visible="visible",e.Hidden="hidden",e))(HS||{});function VS(){let e=_.useContext(cu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function qS(){let e=_.useContext(du);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let du=_.createContext(null);du.displayName="NestingContext";function fu(e){return"children"in e?fu(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Xy(e,t){let n=Mi(e),r=_.useRef([]),o=Bf(),l=ou(),a=Fe((y,b=ei.Hidden)=>{let k=r.current.findIndex(({el:E})=>E===y);k!==-1&&(br(b,{[ei.Unmount](){r.current.splice(k,1)},[ei.Hidden](){r.current[k].state="hidden"}}),l.microTask(()=>{var E;!fu(r)&&o.current&&((E=n.current)==null||E.call(n))}))}),c=Fe(y=>{let b=r.current.find(({el:k})=>k===y);return b?b.state!=="visible"&&(b.state="visible"):r.current.push({el:y,state:"visible"}),()=>a(y,ei.Unmount)}),d=_.useRef([]),f=_.useRef(Promise.resolve()),m=_.useRef({enter:[],leave:[]}),p=Fe((y,b,k)=>{d.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([E])=>E!==y)),t==null||t.chains.current[b].push([y,new Promise(E=>{d.current.push(E)})]),t==null||t.chains.current[b].push([y,new Promise(E=>{Promise.all(m.current[b].map(([T,R])=>R)).then(()=>E())})]),b==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>k(b)):k(b)}),v=Fe((y,b,k)=>{Promise.all(m.current[b].splice(0).map(([E,T])=>T)).then(()=>{var E;(E=d.current.shift())==null||E()}).then(()=>k(b))});return _.useMemo(()=>({children:r,register:c,unregister:a,onStart:p,onStop:v,wait:f,chains:m}),[c,a,r,p,v,m,f])}let Zy=_.Fragment,ew=za.RenderStrategy;function KS(e,t){var n,r;let{transition:o=!0,beforeEnter:l,afterEnter:a,beforeLeave:c,afterLeave:d,enter:f,enterFrom:m,enterTo:p,entered:v,leave:y,leaveFrom:b,leaveTo:k,...E}=e,[T,R]=_.useState(null),N=_.useRef(null),L=Qy(e),H=sr(...L?[N,t,R]:t===null?[]:[t]),j=(n=E.unmount)==null||n?ei.Unmount:ei.Hidden,{show:$,appear:J,initial:F}=VS(),[I,z]=_.useState($?"visible":"hidden"),U=qS(),{register:Z,unregister:K}=U;Xt(()=>Z(N),[Z,N]),Xt(()=>{if(j===ei.Hidden&&N.current){if($&&I!=="visible"){z("visible");return}return br(I,{hidden:()=>K(N),visible:()=>Z(N)})}},[I,N,Z,K,$,j]);let G=uu();Xt(()=>{if(L&&G&&I==="visible"&&N.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[N,I,G,L]);let ee=F&&!J,te=J&&$&&F,B=_.useRef(!1),X=Xy(()=>{B.current||(z("hidden"),K(N))},U),C=Fe(Ee=>{B.current=!0;let ye=Ee?"enter":"leave";X.onStart(N,ye,we=>{we==="enter"?l==null||l():we==="leave"&&(c==null||c())})}),A=Fe(Ee=>{let ye=Ee?"enter":"leave";B.current=!1,X.onStop(N,ye,we=>{we==="enter"?a==null||a():we==="leave"&&(d==null||d())}),ye==="leave"&&!fu(X)&&(z("hidden"),K(N))});_.useEffect(()=>{L&&o||(C($),A($))},[$,L,o]);let V=!(!o||!L||!G||ee),[,P]=pS(V,T,$,{start:C,end:A}),ae=Ti({ref:H,className:((r=ef(E.className,te&&f,te&&m,P.enter&&f,P.enter&&P.closed&&m,P.enter&&!P.closed&&p,P.leave&&y,P.leave&&!P.closed&&b,P.leave&&P.closed&&k,!P.transition&&$&&v))==null?void 0:r.trim())||void 0,...hS(P)}),fe=0;I==="visible"&&(fe|=Un.Open),I==="hidden"&&(fe|=Un.Closed),$&&I==="hidden"&&(fe|=Un.Opening),!$&&I==="visible"&&(fe|=Un.Closing);let ue=Cn();return me.createElement(du.Provider,{value:X},me.createElement(wS,{value:fe},ue({ourProps:ae,theirProps:E,defaultTag:Zy,features:ew,visible:I==="visible",name:"Transition.Child"})))}function YS(e,t){let{show:n,appear:r=!1,unmount:o=!0,...l}=e,a=_.useRef(null),c=Qy(e),d=sr(...c?[a,t]:t===null?[]:[t]);uu();let f=au();if(n===void 0&&f!==null&&(n=(f&Un.Open)===Un.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,p]=_.useState(n?"visible":"hidden"),v=Xy(()=>{n||p("hidden")}),[y,b]=_.useState(!0),k=_.useRef([n]);Xt(()=>{y!==!1&&k.current[k.current.length-1]!==n&&(k.current.push(n),b(!1))},[k,n]);let E=_.useMemo(()=>({show:n,appear:r,initial:y}),[n,r,y]);Xt(()=>{n?p("visible"):!fu(v)&&a.current!==null&&p("hidden")},[n,v]);let T={unmount:o},R=Fe(()=>{var H;y&&b(!1),(H=e.beforeEnter)==null||H.call(e)}),N=Fe(()=>{var H;y&&b(!1),(H=e.beforeLeave)==null||H.call(e)}),L=Cn();return me.createElement(du.Provider,{value:v},me.createElement(cu.Provider,{value:E},L({ourProps:{...T,as:_.Fragment,children:me.createElement(tw,{ref:d,...T,...l,beforeEnter:R,beforeLeave:N})},theirProps:{},defaultTag:_.Fragment,features:ew,visible:m==="visible",name:"Transition"})))}function GS(e,t){let n=_.useContext(cu)!==null,r=au()!==null;return me.createElement(me.Fragment,null,!n&&r?me.createElement(of,{ref:t,...e}):me.createElement(tw,{ref:t,...e}))}let of=Zt(YS),tw=Zt(KS),Wf=Zt(GS),JS=Object.assign(of,{Child:Wf,Root:of});var QS=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(QS||{}),XS=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(XS||{});let ZS={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Hf=_.createContext(null);Hf.displayName="DialogContext";function hu(e){let t=_.useContext(Hf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,hu),n}return t}function e_(e,t){return br(t.type,ZS,e,t)}let Tg=Zt(function(e,t){let n=_.useId(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:l,initialFocus:a,role:c="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:m=!1,...p}=e,v=_.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(v.current||(v.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=au();o===void 0&&y!==null&&(o=(y&Un.Open)===Un.Open);let b=_.useRef(null),k=sr(b,t),E=zf(b.current),T=o?0:1,[R,N]=_.useReducer(e_,{titleId:null,descriptionId:null,panelRef:_.createRef()}),L=Fe(()=>l(!1)),H=Fe(P=>N({type:0,id:P})),j=uu()?T===0:!1,[$,J]=TS(),F={get current(){var P;return(P=R.panelRef.current)!=null?P:b.current}},I=Yy(),{resolveContainers:z}=OS({mainTreeNode:I,portals:$,defaultContainers:[F]}),U=y!==null?(y&Un.Closing)===Un.Closing:!1;H1(f||U?!1:j,{allowed:Fe(()=>{var P,ae;return[(ae=(P=b.current)==null?void 0:P.closest("[data-headlessui-portal]"))!=null?ae:null]}),disallowed:Fe(()=>{var P;return[(P=I==null?void 0:I.closest("body > *:not(#headlessui-portal-root)"))!=null?P:null]})});let Z=Ly.get(null);Xt(()=>{if(j)return Z.actions.push(r),()=>Z.actions.pop(r)},[Z,r,j]);let K=My(Z,_.useCallback(P=>Z.selectors.isTop(P,r),[Z,r]));nS(K,z,P=>{P.preventDefault(),L()}),RS(K,E==null?void 0:E.defaultView,P=>{P.preventDefault(),P.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),L()}),uS(f||U?!1:j,E,z),V1(j,b,L);let[G,ee]=_1(),te=_.useMemo(()=>[{dialogState:T,close:L,setTitleId:H,unmount:m},R],[T,L,H,m,R]),B=rl({open:T===0}),X={ref:k,id:r,role:c,tabIndex:-1,"aria-modal":f?void 0:T===0?!0:void 0,"aria-labelledby":R.titleId,"aria-describedby":G,unmount:m},C=!IS(),A=Ni.None;j&&!f&&(A|=Ni.RestoreFocus,A|=Ni.TabLock,d&&(A|=Ni.AutoFocus),C&&(A|=Ni.InitialFocus));let V=Cn();return me.createElement(xS,null,me.createElement(Cg,{force:!0},me.createElement(NS,null,me.createElement(Hf.Provider,{value:te},me.createElement(qy,{target:b},me.createElement(Cg,{force:!1},me.createElement(ee,{slot:B},me.createElement(J,null,me.createElement(FS,{initialFocus:a,initialFocusFallback:b,containers:z,features:A},me.createElement(N1,{value:L},V({ourProps:X,theirProps:p,slot:B,defaultTag:t_,features:n_,visible:T===0,name:"Dialog"})))))))))))}),t_="div",n_=za.RenderStrategy|za.Static;function r_(e,t){let{transition:n=!1,open:r,...o}=e,l=au(),a=e.hasOwnProperty("open")||l!==null,c=e.hasOwnProperty("onClose");if(!a&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?me.createElement(jg,null,me.createElement(JS,{show:r,transition:n,unmount:o.unmount},me.createElement(Tg,{ref:t,...o}))):me.createElement(jg,null,me.createElement(Tg,{ref:t,open:r,...o}))}let i_="div";function s_(e,t){let n=_.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...l}=e,[{dialogState:a,unmount:c},d]=hu("Dialog.Panel"),f=sr(t,d.panelRef),m=rl({open:a===0}),p=Fe(E=>{E.stopPropagation()}),v={ref:f,id:r,onClick:p},y=o?Wf:_.Fragment,b=o?{unmount:c}:{},k=Cn();return me.createElement(y,{...b},k({ourProps:v,theirProps:l,slot:m,defaultTag:i_,name:"Dialog.Panel"}))}let o_="div";function l_(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:l}]=hu("Dialog.Backdrop"),a=rl({open:o===0}),c={ref:t,"aria-hidden":!0},d=n?Wf:_.Fragment,f=n?{unmount:l}:{},m=Cn();return me.createElement(d,{...f},m({ourProps:c,theirProps:r,slot:a,defaultTag:o_,name:"Dialog.Backdrop"}))}let a_="h2";function u_(e,t){let n=_.useId(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:l,setTitleId:a}]=hu("Dialog.Title"),c=sr(t);_.useEffect(()=>(a(r),()=>a(null)),[r,a]);let d=rl({open:l===0}),f={ref:c,id:r};return Cn()({ourProps:f,theirProps:o,slot:d,defaultTag:a_,name:"Dialog.Title"})}let c_=Zt(r_),d_=Zt(s_);Zt(l_);let f_=Zt(u_),Pg=Object.assign(c_,{Panel:d_,Title:f_,Description:T1});const h_="modulepreload",p_=function(e){return"/sport-planner/"+e},Ng={},sl=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=a(n.map(f=>{if(f=p_(f),f in Ng)return;Ng[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":h_,m||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((y,b)=>{v.addEventListener("load",y),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return o.then(a=>{for(const c of a||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})},m_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Vf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Rg extends Vf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ig extends Vf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Og extends Vf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var lf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(lf||(lf={}));var g_=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class v_{constructor(t,{headers:n={},customFetch:r,region:o=lf.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=m_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return g_(this,arguments,void 0,function*(n,r={}){var o;try{const{headers:l,method:a,body:c,signal:d}=r;let f={},{region:m}=r;m||(m=this.region);const p=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let v;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)));const y=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v,signal:d}).catch(T=>{throw T.name==="AbortError"?T:new Rg(T)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new Ig(y);if(!y.ok)throw new Og(y);let k=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),E;return k==="application/json"?E=yield y.json():k==="application/octet-stream"?E=yield y.blob():k==="text/event-stream"?E=y:k==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Rg(l)}:{data:null,error:l,response:l instanceof Og||l instanceof Ig?l.context:void 0}}})}}var xt={},us={},cs={},ds={},fs={},hs={},y_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rs=y_();const w_=Rs.fetch,nw=Rs.fetch.bind(Rs),rw=Rs.Headers,x_=Rs.Request,b_=Rs.Response,Ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:rw,Request:x_,Response:b_,default:nw,fetch:w_},Symbol.toStringTag,{value:"Module"})),k_=Hb(Ls);var ba={},Ag;function iw(){if(Ag)return ba;Ag=1,Object.defineProperty(ba,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ba.default=e,ba}var Dg;function sw(){if(Dg)return hs;Dg=1;var e=hs&&hs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(hs,"__esModule",{value:!0});const t=e(k_),n=e(iw());class r{constructor(l){var a,c;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(c=l.isMaybeSingle)!==null&&c!==void 0?c:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,p,v,y;let b=null,k=null,E=null,T=f.status,R=f.statusText;if(f.ok){if(this.method!=="HEAD"){const j=await f.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?k=j:k=JSON.parse(j))}const L=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),H=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");L&&H&&H.length>1&&(E=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(b={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,E=null,T=406,R="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const L=await f.text();try{b=JSON.parse(L),Array.isArray(b)&&f.status===404&&(k=[],b=null,T=200,R="OK")}catch{f.status===404&&L===""?(T=204,R="No Content"):b={message:L}}if(b&&this.isMaybeSingle&&(!((y=b==null?void 0:b.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,T=200,R="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:k,count:E,status:T,statusText:R}});return this.shouldThrowOnError||(d=d.catch(f=>{var m,p,v;return{error:{message:`${(m=f==null?void 0:f.name)!==null&&m!==void 0?m:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(p=f==null?void 0:f.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(l,a)}returns(){return this}overrideTypes(){return this}}return hs.default=r,hs}var Lg;function ow(){if(Lg)return fs;Lg=1;var e=fs&&fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fs,"__esModule",{value:!0});const t=e(sw());class n extends t.default{select(o){let l=!1;const a=(o??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:a,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${o}.${l?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:a=l}={}){const c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${o}`),this}range(o,l,{foreignTable:a,referencedTable:c=a}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this.url.searchParams.set(f,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:a=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var m;const p=[o?"analyze":null,l?"verbose":null,a?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return fs.default=n,fs}var Mg;function qf(){if(Mg)return ds;Mg=1;var e=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ds,"__esModule",{value:!0});const t=e(ow());class n extends t.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const a=Array.from(new Set(l)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:a,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${d}fts${f}.${l}`),this}match(o){return Object.entries(o).forEach(([l,a])=>{this.url.searchParams.append(l,`eq.${a}`)}),this}not(o,l,a){return this.url.searchParams.append(o,`not.${l}.${a}`),this}or(o,{foreignTable:l,referencedTable:a=l}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,l,a){return this.url.searchParams.append(o,`${l}.${a}`),this}}return ds.default=n,ds}var $g;function lw(){if($g)return cs;$g=1;var e=cs&&cs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cs,"__esModule",{value:!0});const t=e(qf());class n{constructor(o,{headers:l={},schema:a,fetch:c}){this.url=o,this.headers=new Headers(l),this.schema=a,this.fetch=c}select(o,l){const{head:a=!1,count:c}=l??{},d=a?"HEAD":"GET";let f=!1;const m=(o??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:a=!0}={}){var c;const d="POST";if(l&&this.headers.append("Prefer",`count=${l}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:a=!1,count:c,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:l}={}){var a;const c="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:o}={}){var l;const a="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return cs.default=n,cs}var Fg;function S_(){if(Fg)return us;Fg=1;var e=us&&us.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(us,"__esModule",{value:!0});const t=e(lw()),n=e(qf());class r{constructor(l,{headers:a={},schema:c,fetch:d}={}){this.url=l,this.headers=new Headers(a),this.schemaName=c,this.fetch=d}from(l){const a=new URL(`${this.url}/${l}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,a={},{head:c=!1,get:d=!1,count:f}={}){var m;let p;const v=new URL(`${this.url}/rpc/${l}`);let y;c||d?(p=c?"HEAD":"GET",Object.entries(a).filter(([k,E])=>E!==void 0).map(([k,E])=>[k,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([k,E])=>{v.searchParams.append(k,E)})):(p="POST",y=a);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new n.default({method:p,url:v,headers:b,schema:this.schemaName,body:y,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return us.default=r,us}var zg;function __(){if(zg)return xt;zg=1;var e=xt&&xt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const t=e(S_());xt.PostgrestClient=t.default;const n=e(lw());xt.PostgrestQueryBuilder=n.default;const r=e(qf());xt.PostgrestFilterBuilder=r.default;const o=e(ow());xt.PostgrestTransformBuilder=o.default;const l=e(sw());xt.PostgrestBuilder=l.default;const a=e(iw());return xt.PostgrestError=a.default,xt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:a.default},xt}var E_=__();const C_=Os(E_),{PostgrestClient:j_,PostgrestQueryBuilder:ND,PostgrestFilterBuilder:RD,PostgrestTransformBuilder:ID,PostgrestBuilder:OD,PostgrestError:AD}=C_;class T_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const P_="2.75.0",N_=`realtime-js/${P_}`,R_="1.0.0",af=1e4,I_=1e3,O_=100;var Mo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mo||(Mo={}));var pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pt||(pt={}));var zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zn||(zn={}));var uf;(function(e){e.websocket="websocket"})(uf||(uf={}));var Ri;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ri||(Ri={}));class A_{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),l=n.getUint8(2);let a=this.HEADER_LENGTH+2;const c=r.decode(t.slice(a,a+o));a=a+o;const d=r.decode(t.slice(a,a+l));a=a+l;const f=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}class aw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(We||(We={}));const Ug=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((l,a)=>(l[a]=D_(a,e,t,o),l),{}):{}},D_=(e,t,n,r)=>{const o=t.find(c=>c.name===e),l=o==null?void 0:o.type,a=n[e];return l&&!r.includes(l)?uw(l,a):cf(a)},uw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return F_(t,n)}switch(e){case We.bool:return L_(t);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return M_(t);case We.json:case We.jsonb:return $_(t);case We.timestamp:return z_(t);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return cf(t);default:return cf(t)}},cf=e=>e,L_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},F_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let l;const a=e.slice(1,n);try{l=JSON.parse("["+a+"]")}catch{l=a?a.split(","):[]}return l.map(c=>uw(t,c))}return e},z_=e=>typeof e=="string"?e.replace(" ","T"):e,cw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class gd{constructor(t,n,r={},o=af){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bg||(Bg={}));class $o{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$o.syncState(this.state,o,l,a),this.pendingDiffs.forEach(d=>{this.state=$o.syncDiff(this.state,d,l,a)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=$o.syncDiff(this.state,o,l,a),c())}),this.onJoin((o,l,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:a})}),this.onLeave((o,l,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const l=this.cloneDeep(t),a=this.transformState(n),c={},d={};return this.map(l,(f,m)=>{a[f]||(d[f]=m)}),this.map(a,(f,m)=>{const p=l[f];if(p){const v=m.map(E=>E.presence_ref),y=p.map(E=>E.presence_ref),b=m.filter(E=>y.indexOf(E.presence_ref)<0),k=p.filter(E=>v.indexOf(E.presence_ref)<0);b.length>0&&(c[f]=b),k.length>0&&(d[f]=k)}else c[f]=m}),this.syncDiff(l,{joins:c,leaves:d},r,o)}static syncDiff(t,n,r,o){const{joins:l,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(c,d)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),m.length>0){const p=t[c].map(y=>y.presence_ref),v=m.filter(y=>p.indexOf(y.presence_ref)<0);t[c].unshift(...v)}r(c,m,d)}),this.map(a,(c,d)=>{let f=t[c];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,o(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wg||(Wg={}));var Fo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fo||(Fo={}));var yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class Kf{constructor(t,n={config:{}},r){var o,l;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gd(this,zn.join,this.params,this.timeout),this.rejoinTimer=new aw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zn.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new $o(this),this.broadcastEndpointURL=cw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:a,presence:c,private:d}}=this.params,f=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[Fo.PRESENCE]&&this.bindings[Fo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,p={},v={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(yr.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(yr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket.setAuth(),y===void 0){t==null||t(yr.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,E=(b=k==null?void 0:k.length)!==null&&b!==void 0?b:0,T=[];for(let R=0;R<E;R++){const N=k[R],{filter:{event:L,schema:H,table:j,filter:$}}=N,J=y&&y[R];if(J&&J.event===L&&J.schema===H&&J.table===j&&J.filter===$)T.push(Object.assign(Object.assign({},N),{id:J.id}));else{this.unsubscribe(),this.state=pt.errored,t==null||t(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(yr.SUBSCRIBED);return}}).receive("error",y=>{this.state=pt.errored,t==null||t(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===pt.joined&&t===Fo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:a}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var a,c,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new gd(this,zn.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new gd(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>O_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,l;const a=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:m}=zn;if(r&&[c,d,f,m].indexOf(a)>=0&&r!==this._joinRef())return;let v=this._onMessage(a,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var b,k,E;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(k=y.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(y=>y.callback(v,r)):(l=this.bindings[a])===null||l===void 0||l.filter(y=>{var b,k,E,T,R,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const L=y.id,H=(b=y.filter)===null||b===void 0?void 0:b.event;return L&&((k=n.ids)===null||k===void 0?void 0:k.includes(L))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const L=(R=(T=y==null?void 0:y.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return L==="*"||L===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:k,table:E,commit_timestamp:T,type:R,errors:N}=b;v=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:T,eventType:R,new:{},old:{},errors:N}),this._getPayloadRecords(b))}y.callback(v,r)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),l={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Kf.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zn.close,{},t)}_onError(t){this._on(zn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ug(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ug(t.columns,t.old_record)),n}}const vd=()=>{},ka={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},U_=[1e3,2e3,5e3,1e4],B_=1e4,W_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class H_{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=af,this.transport=null,this.heartbeatIntervalMs=ka.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vd,this.ref=0,this.reconnectTimer=null,this.logger=vd,this.conn=null,this.sendBuffer=[],this.serializer=new A_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...a)=>sl(async()=>{const{default:c}=await Promise.resolve().then(()=>Ls);return{default:c}},void 0).then(({default:c})=>c(...a)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...a)=>l(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${uf.websocket}`,this.httpEndpoint=cw(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=T_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:R_}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mo.connecting:return Ri.Connecting;case Mo.open:return Ri.Open;case Mo.closing:return Ri.Closing;default:return Ri.Closed}}isConnected(){return this.connectionState()===Ri.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(l=>l.topic===r);if(o)return o;{const l=new Kf(`realtime:${t}`,n,this);return this.channels.push(l),l}}push(t){const{topic:n,event:r,payload:o,ref:l}=t,a=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${l})`,o),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(I_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ka.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:l,ref:a}=n,c=a?`(${a})`:"",d=l.status||"";this.log("receive",`${d} ${r} ${o} ${c}`.trim(),l),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(o,l,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([W_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:N_};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(zn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new aw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ka.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,l,a,c,d,f,m;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:af,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:ka.HEARTBEAT_INTERVAL,this.worker=(l=t==null?void 0:t.worker)!==null&&l!==void 0?l:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:vd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(p=>U_[p-1]||B_),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((p,v)=>v(JSON.stringify(p))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Yf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class V_ extends Yf{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class df extends Yf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var q_=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const dw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},K_=()=>q_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>Ls),void 0)).Response:Response}),ff=e=>{if(Array.isArray(e))return e.map(n=>ff(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=ff(r)}),t},Y_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var $i=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const yd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G_=(e,t,n)=>$i(void 0,void 0,void 0,function*(){const r=yield K_();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{const l=e.status||500,a=(o==null?void 0:o.statusCode)||l+"";t(new V_(yd(o),l,a))}).catch(o=>{t(new df(yd(o),o))}):t(new df(yd(e),e))}),J_=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?o:(Y_(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function ol(e,t,n,r,o,l){return $i(this,void 0,void 0,function*(){return new Promise((a,c)=>{e(n,J_(t,r,o,l)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>a(d)).catch(d=>G_(d,c,r))})})}function Wa(e,t,n,r){return $i(this,void 0,void 0,function*(){return ol(e,"GET",t,n,r)})}function tr(e,t,n,r,o){return $i(this,void 0,void 0,function*(){return ol(e,"POST",t,r,o,n)})}function hf(e,t,n,r,o){return $i(this,void 0,void 0,function*(){return ol(e,"PUT",t,r,o,n)})}function Q_(e,t,n,r){return $i(this,void 0,void 0,function*(){return ol(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fw(e,t,n,r,o){return $i(this,void 0,void 0,function*(){return ol(e,"DELETE",t,r,o,n)})}var X_=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class Z_{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return X_(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var eE=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class tE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new Z_(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return eE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var Jt=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const nE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rE{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=dw(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return Jt(this,void 0,void 0,function*(){try{let l;const a=Object.assign(Object.assign({},Hg),o);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const d=a.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",a.cacheControl),d&&l.append("metadata",this.encodeMetadata(d)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",a.cacheControl),d&&l.append("metadata",this.encodeMetadata(d))):(l=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o!=null&&o.headers&&(c=Object.assign(Object.assign({},c),o.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?hf:tr)(this.fetch,`${this.url}/object/${m}`,l,Object.assign({headers:c},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(dt(l))return{data:null,error:l};throw l}})}upload(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Jt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),a=this._getFinalPath(l),c=new URL(this.url+`/object/upload/sign/${a}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:Hg.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield hf(this.fetch,c.toString(),d,{headers:m});return{data:{path:l,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(dt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const l=yield tr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),a=new URL(this.url+l.url),c=a.searchParams.get("token");if(!c)throw new Yf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Jt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),l=yield tr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${a}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Jt(this,void 0,void 0,function*(){try{const o=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}download(t,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=l?`?${l}`:"",c=this._getFinalPath(t),d=()=>Wa(this.fetch,`${this.url}/${o}/${c}${a}`,{headers:this.headers,noResolveJson:!0});return new tE(d,this.shouldThrowOnError)}info(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Wa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ff(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}exists(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Q_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r)&&r instanceof df){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&o.push(l);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Jt(this,void 0,void 0,function*(){try{return{data:yield fw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Jt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},nE),n),{prefix:t||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}listV2(t,n){return Jt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const iE="2.75.0",sE={"X-Client-Info":`storage-js/${iE}`};var ps=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class oE{constructor(t,n={},r,o){this.shouldThrowOnError=!1;const l=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sE),n),this.fetch=dw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ps(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return ps(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}createBucket(t){return ps(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}updateBucket(t,n){return ps(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ps(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ps(this,void 0,void 0,function*(){try{return{data:yield fw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}}class lE extends oE{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new rE(this.url,this.headers,t,this.fetch)}}const aE="2.75.0";let Oo="";typeof Deno<"u"?Oo="deno":typeof document<"u"?Oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oo="react-native":Oo="node";const uE={"X-Client-Info":`supabase-js-${Oo}/${aE}`},cE={headers:uE},dE={schema:"public"},fE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hE={};var pE=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const mE=e=>{let t;return e?t=e:typeof fetch>"u"?t=nw:t=fetch,(...n)=>t(...n)},gE=()=>typeof Headers>"u"?rw:Headers,vE=(e,t,n)=>{const r=mE(n),o=gE();return(l,a)=>pE(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let f=new o(a==null?void 0:a.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(l,Object.assign(Object.assign({},a),{headers:f}))})};var yE=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};function wE(e){return e.endsWith("/")?e:e+"/"}function xE(e,t){var n,r;const{db:o,auth:l,realtime:a,global:c}=e,{db:d,auth:f,realtime:m,global:p}=t,v={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},f),l),realtime:Object.assign(Object.assign({},m),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>yE(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function bE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hw="2.75.0",Ss=30*1e3,pf=3,wd=pf*Ss,kE="http://localhost:9999",SE="supabase.auth.token",_E={"X-Client-Info":`gotrue-js/${hw}`},mf="X-Supabase-Api-Version",pw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CE=600*1e3;class Yo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jE extends Yo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function TE(e){return Se(e)&&e.name==="AuthApiError"}class Ii extends Yo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class li extends Yo{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class Yr extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PE(e){return Se(e)&&e.name==="AuthSessionMissingError"}class ms extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sa extends li{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _a extends li{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NE(e){return Se(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vg extends li{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gf extends li{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function xd(e){return Se(e)&&e.name==="AuthRetryableFetchError"}class qg extends li{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vf extends li{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kg=` 	
\r=`.split(""),RE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kg.length;t+=1)e[Kg[t].charCodeAt(0)]=-2;for(let t=0;t<Ha.length;t+=1)e[Ha[t].charCodeAt(0)]=t;return e})();function Yg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ha[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ha[r]),t.queuedBits-=6}}function mw(e,t,n){const r=RE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gg(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=a=>{AE(a,r,n)};for(let a=0;a<e.length;a+=1)mw(e.charCodeAt(a),o,l);return t.join("")}function IE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function OE(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}IE(r,t)}}function AE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function js(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)mw(e.charCodeAt(o),n,r);return new Uint8Array(t)}function DE(e){const t=[];return OE(e,n=>t.push(n)),new Uint8Array(t)}function Ai(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>Yg(o,n,r)),Yg(null,n,r),t.join("")}function LE(e){return Math.round(Date.now()/1e3)+e}function ME(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const cn=()=>typeof window<"u"&&typeof document<"u",Ei={tested:!1,writable:!1},gw=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ei.tested)return Ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ei.tested=!0,Ei.writable=!0}catch{Ei.tested=!0,Ei.writable=!1}return Ei.writable};function $E(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const vw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},FE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_s=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ci=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qr=async(e,t)=>{await e.removeItem(t)};class pu{constructor(){this.promise=new pu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}pu.promiseConstructor=Promise;function bd(e){const t=e.split(".");if(t.length!==3)throw new vf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!EE.test(t[r]))throw new vf("JWT not in base64url format");return{header:JSON.parse(Gg(t[0])),payload:JSON.parse(Gg(t[1])),signature:js(t[2]),raw:{header:t[0],payload:t[1]}}}async function zE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function UE(e,t){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const a=await e(l);if(!t(l,null,a)){r(a);return}}catch(a){if(!t(l,a)){o(a);return}}})()})}function BE(e){return("0"+e.toString(16)).substr(-2)}function WE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,BE).join("")}async function HE(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function VE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await HE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(e,t,n=!1){const r=WE();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await _s(e,`${t}-code-verifier`,o);const l=await VE(r);return[l,r===l?"plain":"s256"]}const qE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KE(e){const t=e.headers.get(mf);if(!t||!t.match(qE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vs(e){if(!JE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jg(e){return JSON.parse(JSON.stringify(e))}var QE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Pi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XE=[502,503,504];async function Qg(e){var t;if(!FE(e))throw new gf(Pi(e),0);if(XE.includes(e.status))throw new gf(Pi(e),e.status);let n;try{n=await e.json()}catch(l){throw new Ii(Pi(l),l)}let r;const o=KE(e);if(o&&o.getTime()>=pw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new qg(Pi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Yr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,a)=>l&&typeof a=="string",!0))throw new qg(Pi(n),e.status,n.weak_password.reasons);throw new jE(Pi(n),e.status||500,r)}const ZE=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function Te(e,t,n,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[mf]||(l[mf]=pw["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const a=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",d=await eC(e,t,n+c,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function eC(e,t,n,r,o,l){const a=ZE(t,r,o,l);let c;try{c=await e(n,Object.assign({},a))}catch(d){throw console.error(d),new gf(Pi(d),0)}if(c.ok||await Qg(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await Qg(d)}}function Fn(e){var t;let n=null;rC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=LE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Xg(e){const t=Fn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tC(e){return{data:e,error:null}}function nC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l}=e,a=QE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l},d=Object.assign({},a);return{data:{properties:c,user:d},error:null}}function Zg(e){return e}function rC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Sd=["global","local","others"];var iC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class sC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=vw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Sd[0]){if(Sd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sd.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qr})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=iC(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:nC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qr})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,l,a,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Zg});if(m.error)throw m.error;const p=await m.json(),v=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);f[`${E}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Se(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){vs(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qr})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){vs(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Qr})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){vs(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qr})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){vs(t.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(t){vs(t.userId),vs(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,l,a,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Zg});if(m.error)throw m.error;const p=await m.json(),v=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);f[`${E}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Se(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}}function ev(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ys={debug:!!(globalThis&&gw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oC extends yw{}async function lC(e,t,n){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ys.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function aC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ww(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uC(e){return parseInt(e,16)}function cC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function dC(e){var t;const{chainId:n,domain:r,expirationTime:o,issuedAt:l=new Date,nonce:a,notBefore:c,requestId:d,resources:f,scheme:m,uri:p,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=ww(e.address),b=m?`${m}://${r}`:r,k=e.statement?`${e.statement}
`:"",E=`${b} wants you to sign in with your Ethereum account:
${y}

${k}`;let T=`URI: ${p}
Version: ${v}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${l.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),d&&(T+=`
Request ID: ${d}`),f){let R=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);R+=`
- ${N}`}T+=R}return`${E}
${T}`}class ct extends Error{constructor({message:t,code:n,cause:r,name:o}){var l;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=o??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Va extends ct{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function fC({error:e,options:t}){var n,r,o;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(bw(a)){if(l.rp.id!==a)return new ct({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(bw(r)){if(n.rpId!==r)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var xw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class pC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mC=new pC;function gC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,o=xw(e,["challenge","user","excludeCredentials"]),l=js(t).buffer,a=Object.assign(Object.assign({},n),{id:js(n.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:l,user:a});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:js(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function vC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=xw(e,["challenge","allowCredentials"]),o=js(t).buffer,l=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const c=n[a];l.allowCredentials[a]=Object.assign(Object.assign({},c),{id:js(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function yC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ai(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ai(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ai(new Uint8Array(o.authenticatorData)),clientDataJSON:Ai(new Uint8Array(o.clientDataJSON)),signature:Ai(new Uint8Array(o.signature)),userHandle:o.userHandle?Ai(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function tv(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Va("Browser returned unexpected credential type",t)}:{data:null,error:new Va("Empty credential response",t)}}catch(t){return{data:null,error:fC({error:t,options:e})}}}async function bC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Va("Browser returned unexpected credential type",t)}:{data:null,error:new Va("Empty credential response",t)}}catch(t){return{data:null,error:hC({error:t,options:e})}}}const kC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},SC={userVerification:"preferred",hints:["security-key"]};function qa(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of e)if(o)for(const l in o){const a=o[l];if(a!==void 0)if(Array.isArray(a))r[l]=a;else if(n(a))r[l]=a;else if(t(a)){const c=r[l];t(c)?r[l]=qa(c,a):r[l]=qa(a)}else r[l]=a}return r}function _C(e,t){return qa(kC,e,t||{})}function EC(e,t){return qa(SC,e,t||{})}class CC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},l){try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:c};const d=o??mC.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:f}=a.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(a.webauthn.type){case"create":{const f=_C(a.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:m,error:p}=await xC({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=EC(a.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:m,error:p}=await bC(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(a){return Se(a)?{data:null,error:a}:{data:null,error:new Ii("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!n)return{data:null,error:new Yo("rpId is required for WebAuthn authentication")};try{if(!tv())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:l});if(!a)return{data:null,error:c};const{webauthn:d}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(a){return Se(a)?{data:null,error:a}:{data:null,error:new Ii("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!n)return{data:null,error:new Yo("rpId is required for WebAuthn registration")};try{if(!tv())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:l});return d?this._verify({factorId:a.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(a){return Se(a)?{data:null,error:a}:{data:null,error:new Ii("Unexpected error in register",a)}}}}aC();const jC={url:kE,storageKey:SE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_E,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nv(e,t,n){return await n()}const ws={};class Go{get jwks(){var t,n;return(n=(t=ws[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ws[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Go.nextInstanceID,Go.nextInstanceID+=1,this.instanceID>0&&cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},jC),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new sC({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=vw(o.fetch),this.lock=o.lock||nv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:cn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lC:this.lock=nv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CC(this)},this.persistSession?(o.storage?this.storage=o.storage:gw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ev(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ev(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=$E(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),cn()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),NE(l)){const d=(t=l.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?{error:n}:{error:new Ii("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Fn}),{data:a,error:c}=l;if(c||!a)return{data:{user:null,session:null},error:c};const d=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(l){if(Se(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var n,r,o;try{let l;if("email"in t){const{email:m,password:p,options:v}=t;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await gs(this.storage,this.storageKey)),l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:b},xform:Fn})}else if("phone"in t){const{phone:m,password:p,options:v}=t;l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Fn})}else throw new Sa("You must provide either an email or phone number and a password");const{data:a,error:c}=l;if(c||!a)return{data:{user:null,session:null},error:c};const d=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(l){if(Se(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:a,options:c}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Xg})}else if("phone"in t){const{phone:l,password:a,options:c}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Xg})}else throw new Sa("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ms}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,o,l,a,c,d,f,m,p,v;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:k,wallet:E,statement:T,options:R}=t;let N;if(cn())if(typeof E=="object")N=E;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")N=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const L=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href),H=await N.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=ww(H[0]);let $=(r=R==null?void 0:R.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const F=await N.request({method:"eth_chainId"});$=uC(F)}const J={domain:L.host,address:j,statement:T,uri:L.href,version:"1",chainId:$,nonce:(o=R==null?void 0:R.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(l=R==null?void 0:R.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=R==null?void 0:R.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=R==null?void 0:R.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=R==null?void 0:R.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=R==null?void 0:R.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=dC(J),b=await N.request({method:"personal_sign",params:[cC(y),j]})}try{const{data:k,error:E}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Fn});if(E)throw E;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ms}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:E})}catch(k){if(Se(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(t){var n,r,o,l,a,c,d,f,m,p,v,y;let b,k;if("message"in t)b=t.message,k=t.signature;else{const{chain:E,wallet:T,statement:R,options:N}=t;let L;if(cn())if(typeof T=="object")L=T;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))L=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=T}const H=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const j=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),R?{statement:R}:null));let $;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")$=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)$=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)b=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),k=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${H.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(o=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((p=(m=N==null?void 0:N.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...N.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const j=await L.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=j}}try{const{data:E,error:T}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ai(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Fn});if(T)throw T;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ms}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:T})}catch(E){if(Se(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:l,error:a}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Fn});if(await qr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ms}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:a})}catch(l){if(Se(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:l,nonce:a}=t,c=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Fn}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ms}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,l,a;try{if("email"in t){const{email:c,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await gs(this.storage,this.storageKey));const{error:p}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:m}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(l=d==null?void 0:d.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(a=d==null?void 0:d.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new Sa("You must provide either an email or phone number.")}catch(c){if(Se(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let o,l;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:c}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Fn});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const d=a.session,f=a.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let l=null,a=null;return this.flowType==="pkce"&&([l,a]=await gs(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:a}),headers:this.headers,xform:tC})}catch(l){if(Se(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Yr;const{error:o}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:l}=t,{error:a}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:o,options:l}=t,{data:a,error:c}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:c}}throw new Sa("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<wd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Ci(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=kd()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,m)=>(!a&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,m))})}return{data:{session:t},error:null}}const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qr}):await this._useSession(async n=>{var r,o,l;const{data:a,error:c}=n;if(c)throw c;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yr}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Qr})})}catch(n){if(Se(n))return PE(n)&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new Yr;const a=o.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await gs(this.storage,this.storageKey));const{data:f,error:m}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:a.access_token,xform:Qr});if(m)throw m;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yr;const n=Date.now()/1e3;let r=n,o=!0,l=null;const{payload:a}=bd(t.access_token);if(a.exp&&(r=a.exp,o=r<=n),o){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;l={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:c}=n;if(c)throw c;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Yr;const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!cn())throw new _a("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _a(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Vg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _a("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vg("No code detected.");const{data:R,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:a,expires_in:c,expires_at:d,token_type:f}=t;if(!l||!c||!a||!f)throw new _a("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let v=m+p;d&&(v=parseInt(d));const y=v-m;y*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const b=v-p;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,m);const{data:k,error:E}=await this._getUser(l);if(E)throw E;const T={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:p,expires_at:v,refresh_token:a,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:t.type},error:null}}catch(r){if(Se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return{error:l};const a=(r=o.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:c}=await this.admin.signOut(a,t);if(c&&!(TE(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ME(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:l},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await gs(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Se(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:o}=await this._useSession(async l=>{var a,c,d,f,m;const{data:p,error:v}=l;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return cn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Se(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:a,provider:c,token:d,access_token:f,nonce:m}=t,p=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fn}),{data:v,error:y}=p;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new ms}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:y})}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:l,error:a}=n;if(a)throw a;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await UE(async o=>(o>0&&await zE(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fn})),(o,l)=>{const a=200*Math.pow(2,o);return l&&xd(l)&&Date.now()+a-r<Ss})}catch(r){if(this._debug(n,"error",r),Se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Ci(this.storage,this.storageKey);if(o&&this.userStorage){let a=await Ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await _s(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:kd()}else if(o&&!o.user&&!o.user){const a=await Ci(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(o.user=a.user,await qr(this.storage,this.storageKey+"-user"),await _s(this.storage,this.storageKey,o)):o.user=kd()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<wd;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${wd}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),xd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(o.access_token);!c&&(a!=null&&a.user)?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new pu;const{data:l,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!l.session)throw new Yr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(o,"error",l),Se(l)){const a={data:null,error:l};return xd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){l.push(d)}});if(await Promise.all(a),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await _s(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=Jg(o);await _s(this.storage,this.storageKey,l)}else{const o=Jg(n);await _s(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await qr(this.storage,this.storageKey),await qr(this.storage,this.storageKey+"-code-verifier"),await qr(this.storage,this.storageKey+"-user"),this.userStorage&&await qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ss}ms, refresh threshold is ${pf} ticks`),o<=pf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,a]=await gs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;return l?{data:null,error:l}:await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:l,error:a}=n;if(a)return{data:null,error:a};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&d.type==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return{data:null,error:l};const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yC(t.webauthn.credential_response):wC(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return{data:null,error:l};const a=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:gC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:vC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:l}=t;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=bd(o.access_token);let c=null;a.aal&&(c=a.aal);let d=c;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=a.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+CE>o)return r;const{data:l,error:a}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,r=l.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return{data:null,error:b};r=y.session.access_token}const{header:o,payload:l,signature:a,raw:{header:c,payload:d}}=bd(r);n!=null&&n.allowExpired||YE(l.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:l,header:o,signature:a},error:null}}const m=GE(o.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,a,DE(`${c}.${d}`)))throw new vf("Invalid JWT signature");return{data:{claims:l,header:o,signature:a},error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}}Go.nextInstanceID=0;const TC=Go;class PC extends TC{constructor(t){super(t)}}var NC=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(m){try{f(r.next(m))}catch(p){a(p)}}function d(m){try{f(r.throw(m))}catch(p){a(p)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class RC{constructor(t,n,r){var o,l,a;this.supabaseUrl=t,this.supabaseKey=n;const c=bE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:dE,realtime:hE,auth:Object.assign(Object.assign({},fE),{storageKey:d}),global:cE},m=xE(r??{},f);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=m.auth)!==null&&a!==void 0?a:{},this.headers,m.global.fetch),this.fetch=vE(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new j_(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new lE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new v_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return NC(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:l,storageKey:a,flowType:c,lock:d,debug:f},m,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PC({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:l,flowType:c,lock:d,debug:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new H_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const IC=(e,t,n)=>new RC(e,t,n);function OC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}OC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AC="https://kjsdmygqhxaryvfmnhqr.supabase.co",DC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",Xr=IC(AC,DC,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),kw=_.createContext(void 0);function LC({children:e}){const[t,n]=_.useState(null),[r,o]=_.useState(null),[l,a]=_.useState(!0);_.useEffect(()=>{let d=!0;(async()=>{a(!0);const{data:{session:p}}=await Xr.auth.getSession();d&&(n(p),o((p==null?void 0:p.user)??null),a(!1))})();const{data:{subscription:m}}=Xr.auth.onAuthStateChange((p,v)=>{d&&(n(v),o((v==null?void 0:v.user)??null),a(!1))});return()=>{d=!1,m.unsubscribe()}},[]);const c=_.useMemo(()=>({session:t,user:r,loading:l,signInWithPassword:async(d,f)=>{const{error:m}=await Xr.auth.signInWithPassword({email:d,password:f});if(m)throw m},signUpWithPassword:async(d,f)=>{const p=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:v}=await Xr.auth.signUp({email:d,password:f,options:{emailRedirectTo:p}});if(v)throw v},signOut:async()=>{const{error:d}=await Xr.auth.signOut();if(d)throw d}}),[l,t,r]);return x.jsx(kw.Provider,{value:c,children:e})}function mu(){const e=_.useContext(kw);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const rv=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const v=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,v))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,o,c);return c},MC=(e=>e?rv(e):rv),$C=e=>e;function FC(e,t=$C){const n=me.useSyncExternalStore(e.subscribe,me.useCallback(()=>t(e.getState()),[e,t]),me.useCallback(()=>t(e.getInitialState()),[e,t]));return me.useDebugValue(n),n}const iv=e=>{const t=MC(e),n=r=>FC(t,r);return Object.assign(n,t),n},zC=(e=>e?iv(e):iv),UC="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Zn=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=UC[n[e]&63];return t};var Aa={exports:{}},BC=Aa.exports,sv;function Sw(){return sv||(sv=1,(function(e,t){(function(n,r){e.exports=r()})(BC,(function(){var n=1e3,r=6e4,o=36e5,l="millisecond",a="second",c="minute",d="hour",f="day",m="week",p="month",v="quarter",y="year",b="date",k="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(K){var G=["th","st","nd","rd"],ee=K%100;return"["+K+(G[(ee-20)%10]||G[ee]||G[0])+"]"}},N=function(K,G,ee){var te=String(K);return!te||te.length>=G?K:""+Array(G+1-te.length).join(ee)+K},L={s:N,z:function(K){var G=-K.utcOffset(),ee=Math.abs(G),te=Math.floor(ee/60),B=ee%60;return(G<=0?"+":"-")+N(te,2,"0")+":"+N(B,2,"0")},m:function K(G,ee){if(G.date()<ee.date())return-K(ee,G);var te=12*(ee.year()-G.year())+(ee.month()-G.month()),B=G.clone().add(te,p),X=ee-B<0,C=G.clone().add(te+(X?-1:1),p);return+(-(te+(ee-B)/(X?B-C:C-B))||0)},a:function(K){return K<0?Math.ceil(K)||0:Math.floor(K)},p:function(K){return{M:p,y,w:m,d:f,D:b,h:d,m:c,s:a,ms:l,Q:v}[K]||String(K||"").toLowerCase().replace(/s$/,"")},u:function(K){return K===void 0}},H="en",j={};j[H]=R;var $="$isDayjsObject",J=function(K){return K instanceof U||!(!K||!K[$])},F=function K(G,ee,te){var B;if(!G)return H;if(typeof G=="string"){var X=G.toLowerCase();j[X]&&(B=X),ee&&(j[X]=ee,B=X);var C=G.split("-");if(!B&&C.length>1)return K(C[0])}else{var A=G.name;j[A]=G,B=A}return!te&&B&&(H=B),B||!te&&H},I=function(K,G){if(J(K))return K.clone();var ee=typeof G=="object"?G:{};return ee.date=K,ee.args=arguments,new U(ee)},z=L;z.l=F,z.i=J,z.w=function(K,G){return I(K,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var U=(function(){function K(ee){this.$L=F(ee.locale,null,!0),this.parse(ee),this.$x=this.$x||ee.x||{},this[$]=!0}var G=K.prototype;return G.parse=function(ee){this.$d=(function(te){var B=te.date,X=te.utc;if(B===null)return new Date(NaN);if(z.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var C=B.match(E);if(C){var A=C[2]-1||0,V=(C[7]||"0").substring(0,3);return X?new Date(Date.UTC(C[1],A,C[3]||1,C[4]||0,C[5]||0,C[6]||0,V)):new Date(C[1],A,C[3]||1,C[4]||0,C[5]||0,C[6]||0,V)}}return new Date(B)})(ee),this.init()},G.init=function(){var ee=this.$d;this.$y=ee.getFullYear(),this.$M=ee.getMonth(),this.$D=ee.getDate(),this.$W=ee.getDay(),this.$H=ee.getHours(),this.$m=ee.getMinutes(),this.$s=ee.getSeconds(),this.$ms=ee.getMilliseconds()},G.$utils=function(){return z},G.isValid=function(){return this.$d.toString()!==k},G.isSame=function(ee,te){var B=I(ee);return this.startOf(te)<=B&&B<=this.endOf(te)},G.isAfter=function(ee,te){return I(ee)<this.startOf(te)},G.isBefore=function(ee,te){return this.endOf(te)<I(ee)},G.$g=function(ee,te,B){return z.u(ee)?this[te]:this.set(B,ee)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(ee,te){var B=this,X=!!z.u(te)||te,C=z.p(ee),A=function(we,he){var Ke=z.w(B.$u?Date.UTC(B.$y,he,we):new Date(B.$y,he,we),B);return X?Ke:Ke.endOf(f)},V=function(we,he){return z.w(B.toDate()[we].apply(B.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(he)),B)},P=this.$W,ae=this.$M,fe=this.$D,ue="set"+(this.$u?"UTC":"");switch(C){case y:return X?A(1,0):A(31,11);case p:return X?A(1,ae):A(0,ae+1);case m:var Ee=this.$locale().weekStart||0,ye=(P<Ee?P+7:P)-Ee;return A(X?fe-ye:fe+(6-ye),ae);case f:case b:return V(ue+"Hours",0);case d:return V(ue+"Minutes",1);case c:return V(ue+"Seconds",2);case a:return V(ue+"Milliseconds",3);default:return this.clone()}},G.endOf=function(ee){return this.startOf(ee,!1)},G.$set=function(ee,te){var B,X=z.p(ee),C="set"+(this.$u?"UTC":""),A=(B={},B[f]=C+"Date",B[b]=C+"Date",B[p]=C+"Month",B[y]=C+"FullYear",B[d]=C+"Hours",B[c]=C+"Minutes",B[a]=C+"Seconds",B[l]=C+"Milliseconds",B)[X],V=X===f?this.$D+(te-this.$W):te;if(X===p||X===y){var P=this.clone().set(b,1);P.$d[A](V),P.init(),this.$d=P.set(b,Math.min(this.$D,P.daysInMonth())).$d}else A&&this.$d[A](V);return this.init(),this},G.set=function(ee,te){return this.clone().$set(ee,te)},G.get=function(ee){return this[z.p(ee)]()},G.add=function(ee,te){var B,X=this;ee=Number(ee);var C=z.p(te),A=function(ae){var fe=I(X);return z.w(fe.date(fe.date()+Math.round(ae*ee)),X)};if(C===p)return this.set(p,this.$M+ee);if(C===y)return this.set(y,this.$y+ee);if(C===f)return A(1);if(C===m)return A(7);var V=(B={},B[c]=r,B[d]=o,B[a]=n,B)[C]||1,P=this.$d.getTime()+ee*V;return z.w(P,this)},G.subtract=function(ee,te){return this.add(-1*ee,te)},G.format=function(ee){var te=this,B=this.$locale();if(!this.isValid())return B.invalidDate||k;var X=ee||"YYYY-MM-DDTHH:mm:ssZ",C=z.z(this),A=this.$H,V=this.$m,P=this.$M,ae=B.weekdays,fe=B.months,ue=B.meridiem,Ee=function(he,Ke,nt,gt){return he&&(he[Ke]||he(te,X))||nt[Ke].slice(0,gt)},ye=function(he){return z.s(A%12||12,he,"0")},we=ue||function(he,Ke,nt){var gt=he<12?"AM":"PM";return nt?gt.toLowerCase():gt};return X.replace(T,(function(he,Ke){return Ke||(function(nt){switch(nt){case"YY":return String(te.$y).slice(-2);case"YYYY":return z.s(te.$y,4,"0");case"M":return P+1;case"MM":return z.s(P+1,2,"0");case"MMM":return Ee(B.monthsShort,P,fe,3);case"MMMM":return Ee(fe,P);case"D":return te.$D;case"DD":return z.s(te.$D,2,"0");case"d":return String(te.$W);case"dd":return Ee(B.weekdaysMin,te.$W,ae,2);case"ddd":return Ee(B.weekdaysShort,te.$W,ae,3);case"dddd":return ae[te.$W];case"H":return String(A);case"HH":return z.s(A,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return we(A,V,!0);case"A":return we(A,V,!1);case"m":return String(V);case"mm":return z.s(V,2,"0");case"s":return String(te.$s);case"ss":return z.s(te.$s,2,"0");case"SSS":return z.s(te.$ms,3,"0");case"Z":return C}return null})(he)||C.replace(":","")}))},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(ee,te,B){var X,C=this,A=z.p(te),V=I(ee),P=(V.utcOffset()-this.utcOffset())*r,ae=this-V,fe=function(){return z.m(C,V)};switch(A){case y:X=fe()/12;break;case p:X=fe();break;case v:X=fe()/3;break;case m:X=(ae-P)/6048e5;break;case f:X=(ae-P)/864e5;break;case d:X=ae/o;break;case c:X=ae/r;break;case a:X=ae/n;break;default:X=ae}return B?X:z.a(X)},G.daysInMonth=function(){return this.endOf(p).$D},G.$locale=function(){return j[this.$L]},G.locale=function(ee,te){if(!ee)return this.$L;var B=this.clone(),X=F(ee,te,!0);return X&&(B.$L=X),B},G.clone=function(){return z.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},K})(),Z=U.prototype;return I.prototype=Z,[["$ms",l],["$s",a],["$m",c],["$H",d],["$W",f],["$M",p],["$y",y],["$D",b]].forEach((function(K){Z[K[1]]=function(G){return this.$g(G,K[0],K[1])}})),I.extend=function(K,G){return K.$i||(K(G,U,I),K.$i=!0),I},I.locale=F,I.isDayjs=J,I.unix=function(K){return I(1e3*K)},I.en=j[H],I.Ls=j,I.p={},I}))})(Aa)),Aa.exports}var WC=Sw();const ot=Os(WC),ni={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes"},_w=typeof window<"u",st=()=>new Date().toISOString(),Ea=(e,t)=>{if(!_w)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},Ze=e=>{if(!_w)return;const t=yf(e);window.localStorage.setItem(ni.objectives,JSON.stringify(t.objectives)),window.localStorage.setItem(ni.works,JSON.stringify(t.works)),window.localStorage.setItem(ni.sessions,JSON.stringify(t.sessions)),window.localStorage.setItem(ni.assistants,JSON.stringify(t.assistants))},yf=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[]}),Ne=zC((e,t)=>({ready:!1,objectives:[],works:[],sessions:[],assistants:[],hydrate:()=>{if(t().ready)return;const n=Ea(ni.objectives,[]),r=Ea(ni.works,[]),o=Ea(ni.sessions,[]).map(a=>({...a,workItems:a.workItems??[],attendance:a.attendance??[]})),l=Ea(ni.assistants,[]);e({objectives:n,works:r,sessions:o,assistants:l,ready:!0})},setCollections:n=>{e(r=>{const o=yf({objectives:n.objectives,works:n.works,sessions:n.sessions,assistants:n.assistants}),l={...r,...o,ready:!0};return Ze(l),l})},reset:()=>{e(n=>{const r=yf({objectives:[],works:[],sessions:[],assistants:[]}),o={...n,...r,ready:!0};return Ze(o),o})},addObjective:n=>{const r={id:Zn(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:st(),updatedAt:st()};return e(o=>{const l={objectives:[...o.objectives,r]},a={...o,...l};return Ze(a),a}),r},updateObjective:(n,r)=>{e(o=>{const l=o.objectives.map(c=>c.id===n?{...c,...r,updatedAt:st()}:c),a={...o,objectives:l};return Ze(a),a})},deleteObjective:n=>t().works.some(o=>o.objectiveId===n)?!1:(e(o=>{const l=o.objectives.filter(c=>c.id!==n),a={...o,objectives:l};return Ze(a),a}),!0),addWork:n=>{const r={id:Zn(),name:n.name,objectiveId:n.objectiveId,descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:n.notes,videoUrls:n.videoUrls,createdAt:st(),updatedAt:st()};return e(o=>{const l=[...o.works,r],a={...o,works:l};return Ze(a),a}),r},updateWork:(n,r)=>{e(o=>{const l=o.works.map(c=>c.id===n?{...c,...r,videoUrls:r.videoUrls??c.videoUrls,estimatedMinutes:r.estimatedMinutes??c.estimatedMinutes,updatedAt:st()}:c),a={...o,works:l};return Ze(a),a})},deleteWork:n=>t().sessions.some(o=>o.workItems.some(l=>l.workId===n))?!1:(e(o=>{const l=o.works.filter(c=>c.id!==n),a={...o,works:l};return Ze(a),a}),!0),addSession:n=>{const r={id:Zn(),date:n.date,title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],createdAt:st(),updatedAt:st()};return e(o=>{const l=[...o.sessions,r],a={...o,sessions:l};return Ze(a),a}),r},duplicateSession:(n,r)=>{const o=t().sessions.find(c=>c.id===n);if(!o)return;const l=st(),a={...o,id:Zn(),date:r,createdAt:l,updatedAt:l,title:`${o.title} (copia)`};return a.workItems=o.workItems.map((c,d)=>({...c,id:Zn(),order:d})),a.attendance=o.attendance.map(c=>({...c,status:"pending"})),e(c=>{const d=[...c.sessions,a],f={...c,sessions:d};return Ze(f),f}),a},updateSession:(n,r)=>{e(o=>{const l=o.sessions.map(c=>c.id===n?{...c,...r,updatedAt:st()}:c),a={...o,sessions:l};return Ze(a),a})},deleteSession:n=>{e(r=>{const o=r.sessions.filter(a=>a.id!==n),l={...r,sessions:o};return Ze(l),l})},updateSessionWorkItems:(n,r)=>{e(o=>{const l=o.sessions.map(c=>c.id===n?{...c,workItems:r.map((d,f)=>({...d,order:f})),updatedAt:st()}:c),a={...o,sessions:l};return Ze(a),a})},addWorkToSession:(n,r)=>{const o=t().sessions.find(c=>c.id===n);if(!o)return;const l={id:Zn(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,completed:!1,order:o.workItems.length},a={...o,workItems:[...o.workItems,l],updatedAt:st()};return e(c=>{const d=c.sessions.map(m=>m.id===n?a:m),f={...c,sessions:d};return Ze(f),f}),l},removeWorkFromSession:(n,r)=>{e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const d=c.workItems.filter(f=>f.id!==r).map((f,m)=>({...f,order:m}));return{...c,workItems:d,updatedAt:st()}}),a={...o,sessions:l};return Ze(a),a})},toggleSessionWorkCompletion:(n,r,o)=>{e(l=>{const a=l.sessions.map(d=>d.id!==n?d:{...d,workItems:d.workItems.map(f=>f.id===r?{...f,completed:o}:f),updatedAt:st()}),c={...l,sessions:a};return Ze(c),c})},reorderSessionWork:(n,r,o)=>{e(l=>{const a=l.sessions.map(d=>{if(d.id!==n)return d;const f=[...d.workItems],[m]=f.splice(r,1);return f.splice(o,0,m),{...d,workItems:f.map((p,v)=>({...p,order:v})),updatedAt:st()}}),c={...l,sessions:a};return Ze(c),c})},updateSessionWorkDetails:(n,r,o)=>{e(l=>{const a=l.sessions.map(d=>d.id!==n?d:{...d,workItems:d.workItems.map(f=>f.id===r?{...f,...o}:f),updatedAt:st()}),c={...l,sessions:a};return Ze(c),c})},setAttendanceStatus:(n,r,o,l)=>{e(a=>{const c=a.sessions.map(f=>{if(f.id!==n)return f;const m=f.attendance.find(v=>v.assistantId===r);let p;return m?p=f.attendance.map(v=>v.assistantId===r?{...v,status:o,notes:l}:v):p=[...f.attendance,{assistantId:r,status:o,notes:l}],{...f,attendance:p,updatedAt:st()}}),d={...a,sessions:c};return Ze(d),d})},addAssistant:n=>{const r={id:Zn(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:st(),updatedAt:st()};return e(o=>{const l=[...o.assistants,r],a={...o,assistants:l};return Ze(a),a}),r},updateAssistant:(n,r)=>{e(o=>{const l=o.assistants.map(c=>c.id===n?{...c,...r,updatedAt:st()}:c),a={...o,assistants:l};return Ze(a),a})},deleteAssistant:n=>{e(r=>{const o=r.assistants.filter(c=>c.id!==n),l=r.sessions.map(c=>({...c,attendance:c.attendance.filter(d=>d.assistantId!==n)})),a={...r,assistants:o,sessions:l};return Ze(a),a})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versión de backup no soportada");const o=st(),l=(n.objetivos??[]).map(p=>({...p,createdAt:p.createdAt??o,updatedAt:p.updatedAt??o})),a=(n.trabajos??[]).map(p=>({...p,createdAt:p.createdAt??o,updatedAt:p.updatedAt??o,videoUrls:p.videoUrls??[]})),c=(n.asistentes??[]).map(p=>({...p,createdAt:p.createdAt??o,updatedAt:p.updatedAt??o,active:p.active??!0})),d=new Map;(n.sesiones??[]).forEach(p=>{const v=p.id??Zn(),y={id:v,date:p.date??ot().format("YYYY-MM-DD"),title:p.title??"Sesión importada",description:p.description,notes:p.notes,workItems:(p.workItems??[]).map((b,k)=>({id:b.id??Zn(),workId:b.workId,order:b.order??k,customDescriptionMarkdown:b.customDescriptionMarkdown,customDurationMinutes:b.customDurationMinutes,notes:b.notes,completed:b.completed??!1})),attendance:p.attendance??[],createdAt:p.createdAt??o,updatedAt:p.updatedAt??o};y.workItems=y.workItems.sort((b,k)=>b.order-k.order).map((b,k)=>({...b,order:k})),d.set(v,y)}),(n.sesiones_trabajos??[]).forEach(p=>{const v=p.session_id;if(!v)return;d.has(v)||d.set(v,{id:v,date:p.fecha?ot(p.fecha).format("YYYY-MM-DD"):ot().format("YYYY-MM-DD"),title:p.titulo??"Sesión importada",description:p.descripcion,notes:p.notasSesion??p.notas,workItems:[],attendance:[],createdAt:o,updatedAt:o});const y=d.get(v);y.workItems.push({id:p.id??Zn(),workId:p.trabajo_id,order:p.orden??y.workItems.length,customDescriptionMarkdown:p.descripcionPersonalizada,customDurationMinutes:p.duracionPersonalizada,notes:p.notas,completed:!1})}),d.forEach(p=>{p.workItems=p.workItems.sort((v,y)=>v.order-y.order).map((v,y)=>({...v,order:y}))});const f=new Map;(n.sesiones_asistencias??[]).forEach(p=>{const v=p.session_id;if(!v)return;const y=p.assistantId??p.asistente_id;if(!y)return;const b=p.status??p.estado??"pending",k={assistantId:y,status:b,notes:p.notes??p.notas},E=f.get(v)??[];E.push(k),f.set(v,E)}),f.forEach((p,v)=>{const y=d.get(v);y&&(y.attendance=p)});const m=Array.from(d.values());e({objectives:l,works:a,sessions:m,assistants:c,ready:!0}),Ze({objectives:l,works:a,sessions:m,assistants:c})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(c=>c.workItems.map(d=>({id:d.id,session_id:c.id,trabajo_id:d.workId,orden:d.order,descripcionPersonalizada:d.customDescriptionMarkdown,duracionPersonalizada:d.customDurationMinutes,notas:d.notes}))),o=n.sessions.flatMap(c=>c.attendance.map(d=>({session_id:c.id,assistantId:d.assistantId,estado:d.status,notas:d.notes}))),l=n.sessions.map(c=>({id:c.id,date:c.date,title:c.title,description:c.description,notes:c.notes,createdAt:c.createdAt,updatedAt:c.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:l,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:o}}})),ov=1,Ca=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants}),HC=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[]}),VC=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants;function qC(){const{user:e}=mu(),t=Ne(f=>f.setCollections),n=Ne(f=>f.reset),r=Ne(f=>f.ready),o=_.useRef(!1),l=_.useRef(null),a=_.useRef(null),c=_.useRef(null),d=_.useRef(Ca(Ne.getState()));_.useEffect(()=>()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},[]),_.useEffect(()=>{e||(n(),c.current=null,a.current=null,o.current=!1,d.current=Ca(Ne.getState()),l.current&&(window.clearTimeout(l.current),l.current=null))},[e,n]),_.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:v,error:y}=await Xr.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(y&&y.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",y);return}const b=v;if(b!=null&&b.data){const k=HC(b.data??{});o.current=!0,c.current=b.updated_at,d.current=k,t(k)}else if(r){const k=Ca(Ne.getState());a.current=null;const{error:E,data:T}=await Xr.from("planner_states").upsert({user_id:e.id,data:{version:ov,...k}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),R=T;E?console.error("No se pudo inicializar el estado remoto",E):R&&(c.current=R.updated_at)}})();const p=Ne.subscribe(v=>{if(!f)return;const y=Ca(v);if(o.current){o.current=!1,d.current=y,a.current=null;return}const b=d.current;VC(y,b)&&(d.current=y,a.current=y,l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>{if(!a.current)return;const k=a.current;a.current=null,(async()=>{const{error:E,data:T}=await Xr.from("planner_states").upsert({user_id:e.id,data:{version:ov,...k}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),R=T;E?console.error("No se pudo guardar el estado remoto",E):R&&(c.current=R.updated_at)})()},600))});return()=>{f=!1,p(),l.current&&(window.clearTimeout(l.current),l.current=null)}},[e,r,t])}var Da={exports:{}},KC=Da.exports,lv;function YC(){return lv||(lv=1,(function(e,t){(function(n,r){e.exports=r(Sw())})(KC,(function(n){function r(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var o=r(n),l={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(a){return a+"º"}};return o.default.locale(l,null,!0),l}))})(Da)),Da.exports}YC();function si({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return x.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[x.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function GC(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const JC=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QC=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,XC={};function av(e,t){return(XC.jsx?QC:JC).test(e)}const ZC=/[ \t\n\f\r]/g;function ej(e){return typeof e=="object"?e.type==="text"?uv(e.value):!1:uv(e)}function uv(e){return e.replace(ZC,"")===""}class ll{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ll.prototype.normal={};ll.prototype.property={};ll.prototype.space=void 0;function Ew(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new ll(n,r,t)}function wf(e){return e.toLowerCase()}class en{constructor(t,n){this.attribute=n,this.property=t}}en.prototype.attribute="";en.prototype.booleanish=!1;en.prototype.boolean=!1;en.prototype.commaOrSpaceSeparated=!1;en.prototype.commaSeparated=!1;en.prototype.defined=!1;en.prototype.mustUseProperty=!1;en.prototype.number=!1;en.prototype.overloadedBoolean=!1;en.prototype.property="";en.prototype.spaceSeparated=!1;en.prototype.space=void 0;let tj=0;const Pe=Fi(),ut=Fi(),xf=Fi(),se=Fi(),He=Fi(),Ts=Fi(),un=Fi();function Fi(){return 2**++tj}const bf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:ut,commaOrSpaceSeparated:un,commaSeparated:Ts,number:se,overloadedBoolean:xf,spaceSeparated:He},Symbol.toStringTag,{value:"Module"})),_d=Object.keys(bf);class Gf extends en{constructor(t,n,r,o){let l=-1;if(super(t,n),cv(this,"space",o),typeof r=="number")for(;++l<_d.length;){const a=_d[l];cv(this,_d[l],(r&bf[a])===bf[a])}}}Gf.prototype.defined=!0;function cv(e,t,n){n&&(e[t]=n)}function Ms(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const l=new Gf(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[wf(r)]=r,n[wf(l.attribute)]=r}return new ll(t,n,e.space)}const Cw=Ms({properties:{ariaActiveDescendant:null,ariaAtomic:ut,ariaAutoComplete:null,ariaBusy:ut,ariaChecked:ut,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:He,ariaCurrent:null,ariaDescribedBy:He,ariaDetails:null,ariaDisabled:ut,ariaDropEffect:He,ariaErrorMessage:null,ariaExpanded:ut,ariaFlowTo:He,ariaGrabbed:ut,ariaHasPopup:null,ariaHidden:ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:He,ariaLevel:se,ariaLive:null,ariaModal:ut,ariaMultiLine:ut,ariaMultiSelectable:ut,ariaOrientation:null,ariaOwns:He,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:ut,ariaReadOnly:ut,ariaRelevant:null,ariaRequired:ut,ariaRoleDescription:He,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:ut,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function jw(e,t){return t in e?e[t]:t}function Tw(e,t){return jw(e,t.toLowerCase())}const nj=Ms({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ts,acceptCharset:He,accessKey:He,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:He,autoFocus:Pe,autoPlay:Pe,blocking:He,capture:null,charSet:null,checked:Pe,cite:null,className:He,cols:se,colSpan:null,content:null,contentEditable:ut,controls:Pe,controlsList:He,coords:se|Ts,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:xf,draggable:ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:He,height:se,hidden:xf,high:se,href:null,hrefLang:null,htmlFor:He,httpEquiv:He,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:He,itemRef:He,itemScope:Pe,itemType:He,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:se,pattern:null,ping:He,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:He,required:Pe,reversed:Pe,rows:se,rowSpan:se,sandbox:He,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:ut,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:He,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:ut,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:Tw}),rj=Ms({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:un,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:He,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ts,g2:Ts,glyphName:Ts,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:un,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:He,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:un,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:un,rev:un,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:un,requiredFeatures:un,requiredFonts:un,requiredFormats:un,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:un,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:un,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:un,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:jw}),Pw=Ms({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Nw=Ms({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Tw}),Rw=Ms({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),ij={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sj=/[A-Z]/g,dv=/-[a-z]/g,oj=/^data[-\w.:]+$/i;function lj(e,t){const n=wf(t);let r=t,o=en;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&oj.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(dv,uj);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!dv.test(l)){let a=l.replace(sj,aj);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}o=Gf}return new o(r,t)}function aj(e){return"-"+e.toLowerCase()}function uj(e){return e.charAt(1).toUpperCase()}const cj=Ew([Cw,nj,Pw,Nw,Rw],"html"),Jf=Ew([Cw,rj,Pw,Nw,Rw],"svg");function dj(e){return e.join(" ").trim()}var xs={},Ed,fv;function fj(){if(fv)return Ed;fv=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",m="*",p="",v="comment",y="declaration";Ed=function(k,E){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];E=E||{};var T=1,R=1;function N(Z){var K=Z.match(t);K&&(T+=K.length);var G=Z.lastIndexOf(d);R=~G?Z.length-G:R+Z.length}function L(){var Z={line:T,column:R};return function(K){return K.position=new H(Z),J(),K}}function H(Z){this.start=Z,this.end={line:T,column:R},this.source=E.source}H.prototype.content=k;function j(Z){var K=new Error(E.source+":"+T+":"+R+": "+Z);if(K.reason=Z,K.filename=E.source,K.line=T,K.column=R,K.source=k,!E.silent)throw K}function $(Z){var K=Z.exec(k);if(K){var G=K[0];return N(G),k=k.slice(G.length),K}}function J(){$(n)}function F(Z){var K;for(Z=Z||[];K=I();)K!==!1&&Z.push(K);return Z}function I(){var Z=L();if(!(f!=k.charAt(0)||m!=k.charAt(1))){for(var K=2;p!=k.charAt(K)&&(m!=k.charAt(K)||f!=k.charAt(K+1));)++K;if(K+=2,p===k.charAt(K-1))return j("End of comment missing");var G=k.slice(2,K-2);return R+=2,N(G),k=k.slice(K),R+=2,Z({type:v,comment:G})}}function z(){var Z=L(),K=$(r);if(K){if(I(),!$(o))return j("property missing ':'");var G=$(l),ee=Z({type:y,property:b(K[0].replace(e,p)),value:G?b(G[0].replace(e,p)):p});return $(a),ee}}function U(){var Z=[];F(Z);for(var K;K=z();)K!==!1&&(Z.push(K),F(Z));return Z}return J(),U()};function b(k){return k?k.replace(c,p):p}return Ed}var hv;function hj(){if(hv)return xs;hv=1;var e=xs&&xs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xs,"__esModule",{value:!0}),xs.default=n;var t=e(fj());function n(r,o){var l=null;if(!r||typeof r!="string")return l;var a=(0,t.default)(r),c=typeof o=="function";return a.forEach(function(d){if(d.type==="declaration"){var f=d.property,m=d.value;c?o(f,m,d):m&&(l=l||{},l[f]=m)}}),l}return xs}var Co={},pv;function pj(){if(pv)return Co;pv=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(f){return!f||n.test(f)||e.test(f)},a=function(f,m){return m.toUpperCase()},c=function(f,m){return"".concat(m,"-")},d=function(f,m){return m===void 0&&(m={}),l(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(o,c):f=f.replace(r,c),f.replace(t,a))};return Co.camelCase=d,Co}var jo,mv;function mj(){if(mv)return jo;mv=1;var e=jo&&jo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(hj()),n=pj();function r(o,l){var a={};return!o||typeof o!="string"||(0,t.default)(o,function(c,d){c&&d&&(a[(0,n.camelCase)(c,l)]=d)}),a}return r.default=r,jo=r,jo}var gj=mj();const vj=Os(gj),Iw=Ow("end"),Qf=Ow("start");function Ow(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function yj(e){const t=Qf(e),n=Iw(e);if(t&&n)return{start:t,end:n}}function zo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?gv(e.position):"start"in e||"end"in e?gv(e):"line"in e||"column"in e?kf(e):""}function kf(e){return vv(e&&e.line)+":"+vv(e&&e.column)}function gv(e){return kf(e&&e.start)+"-"+kf(e&&e.end)}function vv(e){return e&&typeof e=="number"?e:1}class Dt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",l={},a=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?o=t:!l.cause&&t&&(a=!0,o=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?l.ruleId=r:(l.source=r.slice(0,d),l.ruleId=r.slice(d+1))}if(!l.place&&l.ancestors&&l.ancestors){const d=l.ancestors[l.ancestors.length-1];d&&(l.place=d.position)}const c=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=zo(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=a&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Dt.prototype.file="";Dt.prototype.name="";Dt.prototype.reason="";Dt.prototype.message="";Dt.prototype.stack="";Dt.prototype.column=void 0;Dt.prototype.line=void 0;Dt.prototype.ancestors=void 0;Dt.prototype.cause=void 0;Dt.prototype.fatal=void 0;Dt.prototype.place=void 0;Dt.prototype.ruleId=void 0;Dt.prototype.source=void 0;const Xf={}.hasOwnProperty,wj=new Map,xj=/[A-Z]/g,bj=new Set(["table","tbody","thead","tfoot","tr"]),kj=new Set(["td","th"]),Aw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Sj(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Rj(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Nj(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Jf:cj,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Dw(o,e,void 0);return l&&typeof l!="string"?l:o.create(e,o.Fragment,{children:l||void 0},void 0)}function Dw(e,t,n){if(t.type==="element")return _j(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ej(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return jj(e,t,n);if(t.type==="mdxjsEsm")return Cj(e,t);if(t.type==="root")return Tj(e,t,n);if(t.type==="text")return Pj(e,t)}function _j(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Jf,e.schema=o),e.ancestors.push(t);const l=Mw(e,t.tagName,!1),a=Ij(e,t);let c=eh(e,t);return bj.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!ej(d):!0})),Lw(e,a,l,t),Zf(a,c),e.ancestors.pop(),e.schema=r,e.create(t,l,a,n)}function Ej(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Jo(e,t.position)}function Cj(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Jo(e,t.position)}function jj(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Jf,e.schema=o),e.ancestors.push(t);const l=t.name===null?e.Fragment:Mw(e,t.name,!0),a=Oj(e,t),c=eh(e,t);return Lw(e,a,l,t),Zf(a,c),e.ancestors.pop(),e.schema=r,e.create(t,l,a,n)}function Tj(e,t,n){const r={};return Zf(r,eh(e,t)),e.create(t,e.Fragment,r,n)}function Pj(e,t){return t.value}function Lw(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Zf(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Nj(e,t,n){return r;function r(o,l,a,c){const f=Array.isArray(a.children)?n:t;return c?f(l,a,c):f(l,a)}}function Rj(e,t){return n;function n(r,o,l,a){const c=Array.isArray(l.children),d=Qf(r);return t(o,l,a,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function Ij(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Xf.call(t.properties,o)){const l=Aj(e,o,t.properties[o]);if(l){const[a,c]=l;e.tableCellAlignToStyle&&a==="align"&&typeof c=="string"&&kj.has(t.tagName)?r=c:n[a]=c}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Oj(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const a=l.expression;a.type;const c=a.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Jo(e,t.position);else{const o=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,l=e.evaluater.evaluateExpression(c.expression)}else Jo(e,t.position);else l=r.value===null?!0:r.value;n[o]=l}return n}function eh(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:wj;for(;++r<t.children.length;){const l=t.children[r];let a;if(e.passKeys){const d=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(d){const f=o.get(d)||0;a=d+"-"+f,o.set(d,f+1)}}const c=Dw(e,l,a);c!==void 0&&n.push(c)}return n}function Aj(e,t,n){const r=lj(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?GC(n):dj(n)),r.property==="style"){let o=typeof n=="object"?n:Dj(e,String(n));return e.stylePropertyNameCase==="css"&&(o=Lj(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?ij[r.property]||r.property:r.attribute,n]}}function Dj(e,t){try{return vj(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new Dt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Aw+"#cannot-parse-style-attribute",o}}function Mw(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let l=-1,a;for(;++l<o.length;){const c=av(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};a=a?{type:"MemberExpression",object:a,property:c,computed:!!(l&&c.type==="Literal"),optional:!1}:c}r=a}else r=av(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Xf.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);Jo(e)}function Jo(e,t){const n=new Dt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Aw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Lj(e){const t={};let n;for(n in e)Xf.call(e,n)&&(t[Mj(n)]=e[n]);return t}function Mj(e){let t=e.replace(xj,$j);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function $j(e){return"-"+e.toLowerCase()}const Cd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Fj={};function th(e,t){const n=Fj,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return $w(e,r,o)}function $w(e,t,n){if(zj(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return yv(e.children,t,n)}return Array.isArray(e)?yv(e,t,n):""}function yv(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=$w(e[o],t,n);return r.join("")}function zj(e){return!!(e&&typeof e=="object")}const wv=document.createElement("i");function nh(e){const t="&"+e+";";wv.innerHTML=t;const n=wv.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function dn(e,t,n,r){const o=e.length;let l=0,a;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);l<r.length;)a=r.slice(l,l+1e4),a.unshift(t,0),e.splice(...a),l+=1e4,t+=1e4}function En(e,t){return e.length>0?(dn(e,e.length,0,t),e):t}const xv={}.hasOwnProperty;function Fw(e){const t={};let n=-1;for(;++n<e.length;)Uj(t,e[n]);return t}function Uj(e,t){let n;for(n in t){const o=(xv.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let a;if(l)for(a in l){xv.call(o,a)||(o[a]=[]);const c=l[a];Bj(o[a],Array.isArray(c)?c:c?[c]:[])}}}function Bj(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);dn(e,0,0,r)}function zw(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Bn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zt=ai(/[A-Za-z]/),At=ai(/[\dA-Za-z]/),Wj=ai(/[#-'*+\--9=?A-Z^-~]/);function Ka(e){return e!==null&&(e<32||e===127)}const Sf=ai(/\d/),Hj=ai(/[\dA-Fa-f]/),Vj=ai(/[!-/:-@[-`{-~]/);function _e(e){return e!==null&&e<-2}function ze(e){return e!==null&&(e<0||e===32)}function Ie(e){return e===-2||e===-1||e===32}const gu=ai(new RegExp("\\p{P}|\\p{S}","u")),Li=ai(/\s/);function ai(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function $s(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const l=e.charCodeAt(n);let a="";if(l===37&&At(e.charCodeAt(n+1))&&At(e.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(a=String.fromCharCode(l));else if(l>55295&&l<57344){const c=e.charCodeAt(n+1);l<56320&&c>56319&&c<57344?(a=String.fromCharCode(l,c),o=1):a="�"}else a=String.fromCharCode(l);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+o+1,a=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Ae(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(d){return Ie(d)?(e.enter(n),c(d)):t(d)}function c(d){return Ie(d)&&l++<o?(e.consume(d),c):(e.exit(n),t(d))}}const qj={tokenize:Kj};function Kj(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Ae(e,t,"linePrefix")}function o(c){return e.enter("paragraph"),l(c)}function l(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,a(c)}function a(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return _e(c)?(e.consume(c),e.exit("chunkText"),l):(e.consume(c),a)}}const Yj={tokenize:Gj},bv={tokenize:Jj};function Gj(e){const t=this,n=[];let r=0,o,l,a;return c;function c(N){if(r<n.length){const L=n[r];return t.containerState=L[1],e.attempt(L[0].continuation,d,f)(N)}return f(N)}function d(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&R();const L=t.events.length;let H=L,j;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){j=t.events[H][1].end;break}T(r);let $=L;for(;$<t.events.length;)t.events[$][1].end={...j},$++;return dn(t.events,H+1,0,t.events.slice(L)),t.events.length=$,f(N)}return c(N)}function f(N){if(r===n.length){if(!o)return v(N);if(o.currentConstruct&&o.currentConstruct.concrete)return b(N);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(bv,m,p)(N)}function m(N){return o&&R(),T(r),v(N)}function p(N){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,b(N)}function v(N){return t.containerState={},e.attempt(bv,y,b)(N)}function y(N){return r++,n.push([t.currentConstruct,t.containerState]),v(N)}function b(N){if(N===null){o&&R(),T(0),e.consume(N);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),k(N)}function k(N){if(N===null){E(e.exit("chunkFlow"),!0),T(0),e.consume(N);return}return _e(N)?(e.consume(N),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(N),k)}function E(N,L){const H=t.sliceStream(N);if(L&&H.push(null),N.previous=l,l&&(l.next=N),l=N,o.defineSkip(N.start),o.write(H),t.parser.lazy[N.start.line]){let j=o.events.length;for(;j--;)if(o.events[j][1].start.offset<a&&(!o.events[j][1].end||o.events[j][1].end.offset>a))return;const $=t.events.length;let J=$,F,I;for(;J--;)if(t.events[J][0]==="exit"&&t.events[J][1].type==="chunkFlow"){if(F){I=t.events[J][1].end;break}F=!0}for(T(r),j=$;j<t.events.length;)t.events[j][1].end={...I},j++;dn(t.events,J+1,0,t.events.slice($)),t.events.length=j}}function T(N){let L=n.length;for(;L-- >N;){const H=n[L];t.containerState=H[1],H[0].exit.call(t,e)}n.length=N}function R(){o.write([null]),l=void 0,o=void 0,t.containerState._closeFlow=void 0}}function Jj(e,t,n){return Ae(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Is(e){if(e===null||ze(e)||Li(e))return 1;if(gu(e))return 2}function vu(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const l=e[o].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const _f={name:"attention",resolveAll:Qj,tokenize:Xj};function Qj(e,t){let n=-1,r,o,l,a,c,d,f,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},v={...e[n][1].start};kv(p,-d),kv(v,d),a={type:d>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},l={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...a.start},end:{...c.end}},e[r][1].end={...a.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=En(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=En(f,[["enter",o,t],["enter",a,t],["exit",a,t],["enter",l,t]]),f=En(f,vu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=En(f,[["exit",l,t],["enter",c,t],["exit",c,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,f=En(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,dn(e,r-1,n-r+3,f),n=r+f.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Xj(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Is(r);let l;return a;function a(d){return l=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===l)return e.consume(d),c;const f=e.exit("attentionSequence"),m=Is(d),p=!m||m===2&&o||n.includes(d),v=!o||o===2&&m||n.includes(r);return f._open=!!(l===42?p:p&&(o||!v)),f._close=!!(l===42?v:v&&(m||!p)),t(d)}}function kv(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Zj={name:"autolink",tokenize:eT};function eT(e,t,n){let r=0;return o;function o(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(y){return zt(y)?(e.consume(y),a):y===64?n(y):f(y)}function a(y){return y===43||y===45||y===46||At(y)?(r=1,c(y)):f(y)}function c(y){return y===58?(e.consume(y),r=0,d):(y===43||y===45||y===46||At(y))&&r++<32?(e.consume(y),c):(r=0,f(y))}function d(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Ka(y)?n(y):(e.consume(y),d)}function f(y){return y===64?(e.consume(y),m):Wj(y)?(e.consume(y),f):n(y)}function m(y){return At(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,m):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):v(y)}function v(y){if((y===45||At(y))&&r++<63){const b=y===45?v:p;return e.consume(y),b}return n(y)}}const al={partial:!0,tokenize:tT};function tT(e,t,n){return r;function r(l){return Ie(l)?Ae(e,o,"linePrefix")(l):o(l)}function o(l){return l===null||_e(l)?t(l):n(l)}}const Uw={continuation:{tokenize:rT},exit:iT,name:"blockQuote",tokenize:nT};function nT(e,t,n){const r=this;return o;function o(a){if(a===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),l}return n(a)}function l(a){return Ie(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function rT(e,t,n){const r=this;return o;function o(a){return Ie(a)?Ae(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):l(a)}function l(a){return e.attempt(Uw,t,n)(a)}}function iT(e){e.exit("blockQuote")}const Bw={name:"characterEscape",tokenize:sT};function sT(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),o}function o(l){return Vj(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Ww={name:"characterReference",tokenize:oT};function oT(e,t,n){const r=this;let o=0,l,a;return c;function c(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),d}function d(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),l=31,a=At,m(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,a=Hj,m):(e.enter("characterReferenceValue"),l=7,a=Sf,m(p))}function m(p){if(p===59&&o){const v=e.exit("characterReferenceValue");return a===At&&!nh(r.sliceSerialize(v))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&o++<l?(e.consume(p),m):n(p)}}const Sv={partial:!0,tokenize:aT},_v={concrete:!0,name:"codeFenced",tokenize:lT};function lT(e,t,n){const r=this,o={partial:!0,tokenize:H};let l=0,a=0,c;return d;function d(j){return f(j)}function f(j){const $=r.events[r.events.length-1];return l=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,c=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(j)}function m(j){return j===c?(a++,e.consume(j),m):a<3?n(j):(e.exit("codeFencedFenceSequence"),Ie(j)?Ae(e,p,"whitespace")(j):p(j))}function p(j){return j===null||_e(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(Sv,k,L)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===null||_e(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(j)):Ie(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ae(e,y,"whitespace")(j)):j===96&&j===c?n(j):(e.consume(j),v)}function y(j){return j===null||_e(j)?p(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(j))}function b(j){return j===null||_e(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(j)):j===96&&j===c?n(j):(e.consume(j),b)}function k(j){return e.attempt(o,L,E)(j)}function E(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),T}function T(j){return l>0&&Ie(j)?Ae(e,R,"linePrefix",l+1)(j):R(j)}function R(j){return j===null||_e(j)?e.check(Sv,k,L)(j):(e.enter("codeFlowValue"),N(j))}function N(j){return j===null||_e(j)?(e.exit("codeFlowValue"),R(j)):(e.consume(j),N)}function L(j){return e.exit("codeFenced"),t(j)}function H(j,$,J){let F=0;return I;function I(G){return j.enter("lineEnding"),j.consume(G),j.exit("lineEnding"),z}function z(G){return j.enter("codeFencedFence"),Ie(G)?Ae(j,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):U(G)}function U(G){return G===c?(j.enter("codeFencedFenceSequence"),Z(G)):J(G)}function Z(G){return G===c?(F++,j.consume(G),Z):F>=a?(j.exit("codeFencedFenceSequence"),Ie(G)?Ae(j,K,"whitespace")(G):K(G)):J(G)}function K(G){return G===null||_e(G)?(j.exit("codeFencedFence"),$(G)):J(G)}}}function aT(e,t,n){const r=this;return o;function o(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l)}function l(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const jd={name:"codeIndented",tokenize:cT},uT={partial:!0,tokenize:dT};function cT(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),Ae(e,l,"linePrefix",5)(f)}function l(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?d(f):_e(f)?e.attempt(uT,a,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||_e(f)?(e.exit("codeFlowValue"),a(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function dT(e,t,n){const r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):_e(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):Ae(e,l,"linePrefix",5)(a)}function l(a){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):_e(a)?o(a):n(a)}}const fT={name:"codeText",previous:pT,resolve:hT,tokenize:mT};function hT(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function pT(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function mT(e,t,n){let r=0,o,l;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),c(p)}function c(p){return p===96?(e.consume(p),r++,c):(e.exit("codeTextSequence"),d(p))}function d(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),d):p===96?(l=e.enter("codeTextSequence"),o=0,m(p)):_e(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||_e(p)?(e.exit("codeTextData"),d(p)):(e.consume(p),f)}function m(p){return p===96?(e.consume(p),o++,m):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(l.type="codeTextData",f(p))}}class gT{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&To(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),To(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),To(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);To(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);To(this.left,n.reverse())}}}function To(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Hw(e){const t={};let n=-1,r,o,l,a,c,d,f;const m=new gT(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,l=0,l<d.length&&d[l][1].type==="lineEndingBlank"&&(l+=2),l<d.length&&d[l][1].type==="content"))for(;++l<d.length&&d[l][1].type!=="content";)d[l][1].type==="chunkText"&&(d[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,vT(m,n)),n=t[n],f=!0);else if(r[1]._container){for(l=n,o=void 0;l--;)if(a=m.get(l),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),a[1].type="lineEnding",o=l);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;o&&(r[1].end={...m.get(o)[1].start},c=m.slice(o,n),c.unshift(r),m.splice(o,n-o+1,c))}}return dn(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function vT(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const l=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const c=a.events,d=[],f={};let m,p,v=-1,y=n,b=0,k=0;const E=[k];for(;y;){for(;e.get(++o)[1]!==y;);l.push(o),y._tokenizer||(m=r.sliceStream(y),y.next||m.push(null),p&&a.defineSkip(y.start),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(m),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++v<c.length;)c[v][0]==="exit"&&c[v-1][0]==="enter"&&c[v][1].type===c[v-1][1].type&&c[v][1].start.line!==c[v][1].end.line&&(k=v+1,E.push(k),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(a.events=[],y?(y._tokenizer=void 0,y.previous=void 0):E.pop(),v=E.length;v--;){const T=c.slice(E[v],E[v+1]),R=l.pop();d.push([R,R+T.length-1]),e.splice(R,2,T)}for(d.reverse(),v=-1;++v<d.length;)f[b+d[v][0]]=b+d[v][1],b+=d[v][1]-d[v][0]-1;return f}const yT={resolve:xT,tokenize:bT},wT={partial:!0,tokenize:kT};function xT(e){return Hw(e),e}function bT(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?l(c):_e(c)?e.check(wT,a,l)(c):(e.consume(c),o)}function l(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function a(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function kT(e,t,n){const r=this;return o;function o(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ae(e,l,"linePrefix")}function l(a){if(a===null||_e(a))return n(a);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Vw(e,t,n,r,o,l,a,c,d){const f=d||Number.POSITIVE_INFINITY;let m=0;return p;function p(T){return T===60?(e.enter(r),e.enter(o),e.enter(l),e.consume(T),e.exit(l),v):T===null||T===32||T===41||Ka(T)?n(T):(e.enter(r),e.enter(a),e.enter(c),e.enter("chunkString",{contentType:"string"}),k(T))}function v(T){return T===62?(e.enter(l),e.consume(T),e.exit(l),e.exit(o),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===62?(e.exit("chunkString"),e.exit(c),v(T)):T===null||T===60||_e(T)?n(T):(e.consume(T),T===92?b:y)}function b(T){return T===60||T===62||T===92?(e.consume(T),y):y(T)}function k(T){return!m&&(T===null||T===41||ze(T))?(e.exit("chunkString"),e.exit(c),e.exit(a),e.exit(r),t(T)):m<f&&T===40?(e.consume(T),m++,k):T===41?(e.consume(T),m--,k):T===null||T===32||T===40||Ka(T)?n(T):(e.consume(T),T===92?E:k)}function E(T){return T===40||T===41||T===92?(e.consume(T),k):k(T)}}function qw(e,t,n,r,o,l){const a=this;let c=0,d;return f;function f(y){return e.enter(r),e.enter(o),e.consume(y),e.exit(o),e.enter(l),m}function m(y){return c>999||y===null||y===91||y===93&&!d||y===94&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs?n(y):y===93?(e.exit(l),e.enter(o),e.consume(y),e.exit(o),e.exit(r),t):_e(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||_e(y)||c++>999?(e.exit("chunkString"),m(y)):(e.consume(y),d||(d=!Ie(y)),y===92?v:p)}function v(y){return y===91||y===92||y===93?(e.consume(y),c++,p):p(y)}}function Kw(e,t,n,r,o,l){let a;return c;function c(v){return v===34||v===39||v===40?(e.enter(r),e.enter(o),e.consume(v),e.exit(o),a=v===40?41:v,d):n(v)}function d(v){return v===a?(e.enter(o),e.consume(v),e.exit(o),e.exit(r),t):(e.enter(l),f(v))}function f(v){return v===a?(e.exit(l),d(a)):v===null?n(v):_e(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Ae(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===a||v===null||_e(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?p:m)}function p(v){return v===a||v===92?(e.consume(v),m):m(v)}}function Uo(e,t){let n;return r;function r(o){return _e(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Ie(o)?Ae(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const ST={name:"definition",tokenize:ET},_T={partial:!0,tokenize:CT};function ET(e,t,n){const r=this;let o;return l;function l(y){return e.enter("definition"),a(y)}function a(y){return qw.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function c(y){return o=Bn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),d):n(y)}function d(y){return ze(y)?Uo(e,f)(y):f(y)}function f(y){return Vw(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function m(y){return e.attempt(_T,p,p)(y)}function p(y){return Ie(y)?Ae(e,v,"whitespace")(y):v(y)}function v(y){return y===null||_e(y)?(e.exit("definition"),r.parser.defined.push(o),t(y)):n(y)}}function CT(e,t,n){return r;function r(c){return ze(c)?Uo(e,o)(c):n(c)}function o(c){return Kw(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function l(c){return Ie(c)?Ae(e,a,"whitespace")(c):a(c)}function a(c){return c===null||_e(c)?t(c):n(c)}}const jT={name:"hardBreakEscape",tokenize:TT};function TT(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),o}function o(l){return _e(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const PT={name:"headingAtx",resolve:NT,tokenize:RT};function NT(e,t){let n=e.length-2,r=3,o,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},dn(e,r,n-r+1,[["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t]])),e}function RT(e,t,n){let r=0;return o;function o(m){return e.enter("atxHeading"),l(m)}function l(m){return e.enter("atxHeadingSequence"),a(m)}function a(m){return m===35&&r++<6?(e.consume(m),a):m===null||ze(m)?(e.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(e.enter("atxHeadingSequence"),d(m)):m===null||_e(m)?(e.exit("atxHeading"),t(m)):Ie(m)?Ae(e,c,"whitespace")(m):(e.enter("atxHeadingText"),f(m))}function d(m){return m===35?(e.consume(m),d):(e.exit("atxHeadingSequence"),c(m))}function f(m){return m===null||m===35||ze(m)?(e.exit("atxHeadingText"),c(m)):(e.consume(m),f)}}const IT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ev=["pre","script","style","textarea"],OT={concrete:!0,name:"htmlFlow",resolveTo:LT,tokenize:MT},AT={partial:!0,tokenize:FT},DT={partial:!0,tokenize:$T};function LT(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function MT(e,t,n){const r=this;let o,l,a,c,d;return f;function f(P){return m(P)}function m(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),p}function p(P){return P===33?(e.consume(P),v):P===47?(e.consume(P),l=!0,k):P===63?(e.consume(P),o=3,r.interrupt?t:C):zt(P)?(e.consume(P),a=String.fromCharCode(P),E):n(P)}function v(P){return P===45?(e.consume(P),o=2,y):P===91?(e.consume(P),o=5,c=0,b):zt(P)?(e.consume(P),o=4,r.interrupt?t:C):n(P)}function y(P){return P===45?(e.consume(P),r.interrupt?t:C):n(P)}function b(P){const ae="CDATA[";return P===ae.charCodeAt(c++)?(e.consume(P),c===ae.length?r.interrupt?t:U:b):n(P)}function k(P){return zt(P)?(e.consume(P),a=String.fromCharCode(P),E):n(P)}function E(P){if(P===null||P===47||P===62||ze(P)){const ae=P===47,fe=a.toLowerCase();return!ae&&!l&&Ev.includes(fe)?(o=1,r.interrupt?t(P):U(P)):IT.includes(a.toLowerCase())?(o=6,ae?(e.consume(P),T):r.interrupt?t(P):U(P)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):l?R(P):N(P))}return P===45||At(P)?(e.consume(P),a+=String.fromCharCode(P),E):n(P)}function T(P){return P===62?(e.consume(P),r.interrupt?t:U):n(P)}function R(P){return Ie(P)?(e.consume(P),R):I(P)}function N(P){return P===47?(e.consume(P),I):P===58||P===95||zt(P)?(e.consume(P),L):Ie(P)?(e.consume(P),N):I(P)}function L(P){return P===45||P===46||P===58||P===95||At(P)?(e.consume(P),L):H(P)}function H(P){return P===61?(e.consume(P),j):Ie(P)?(e.consume(P),H):N(P)}function j(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),d=P,$):Ie(P)?(e.consume(P),j):J(P)}function $(P){return P===d?(e.consume(P),d=null,F):P===null||_e(P)?n(P):(e.consume(P),$)}function J(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||ze(P)?H(P):(e.consume(P),J)}function F(P){return P===47||P===62||Ie(P)?N(P):n(P)}function I(P){return P===62?(e.consume(P),z):n(P)}function z(P){return P===null||_e(P)?U(P):Ie(P)?(e.consume(P),z):n(P)}function U(P){return P===45&&o===2?(e.consume(P),ee):P===60&&o===1?(e.consume(P),te):P===62&&o===4?(e.consume(P),A):P===63&&o===3?(e.consume(P),C):P===93&&o===5?(e.consume(P),X):_e(P)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(AT,V,Z)(P)):P===null||_e(P)?(e.exit("htmlFlowData"),Z(P)):(e.consume(P),U)}function Z(P){return e.check(DT,K,V)(P)}function K(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),G}function G(P){return P===null||_e(P)?Z(P):(e.enter("htmlFlowData"),U(P))}function ee(P){return P===45?(e.consume(P),C):U(P)}function te(P){return P===47?(e.consume(P),a="",B):U(P)}function B(P){if(P===62){const ae=a.toLowerCase();return Ev.includes(ae)?(e.consume(P),A):U(P)}return zt(P)&&a.length<8?(e.consume(P),a+=String.fromCharCode(P),B):U(P)}function X(P){return P===93?(e.consume(P),C):U(P)}function C(P){return P===62?(e.consume(P),A):P===45&&o===2?(e.consume(P),C):U(P)}function A(P){return P===null||_e(P)?(e.exit("htmlFlowData"),V(P)):(e.consume(P),A)}function V(P){return e.exit("htmlFlow"),t(P)}}function $T(e,t,n){const r=this;return o;function o(a){return _e(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l):n(a)}function l(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function FT(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(al,t,n)}}const zT={name:"htmlText",tokenize:UT};function UT(e,t,n){const r=this;let o,l,a;return c;function c(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),d}function d(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),H):C===63?(e.consume(C),N):zt(C)?(e.consume(C),J):n(C)}function f(C){return C===45?(e.consume(C),m):C===91?(e.consume(C),l=0,b):zt(C)?(e.consume(C),R):n(C)}function m(C){return C===45?(e.consume(C),y):n(C)}function p(C){return C===null?n(C):C===45?(e.consume(C),v):_e(C)?(a=p,te(C)):(e.consume(C),p)}function v(C){return C===45?(e.consume(C),y):p(C)}function y(C){return C===62?ee(C):C===45?v(C):p(C)}function b(C){const A="CDATA[";return C===A.charCodeAt(l++)?(e.consume(C),l===A.length?k:b):n(C)}function k(C){return C===null?n(C):C===93?(e.consume(C),E):_e(C)?(a=k,te(C)):(e.consume(C),k)}function E(C){return C===93?(e.consume(C),T):k(C)}function T(C){return C===62?ee(C):C===93?(e.consume(C),T):k(C)}function R(C){return C===null||C===62?ee(C):_e(C)?(a=R,te(C)):(e.consume(C),R)}function N(C){return C===null?n(C):C===63?(e.consume(C),L):_e(C)?(a=N,te(C)):(e.consume(C),N)}function L(C){return C===62?ee(C):N(C)}function H(C){return zt(C)?(e.consume(C),j):n(C)}function j(C){return C===45||At(C)?(e.consume(C),j):$(C)}function $(C){return _e(C)?(a=$,te(C)):Ie(C)?(e.consume(C),$):ee(C)}function J(C){return C===45||At(C)?(e.consume(C),J):C===47||C===62||ze(C)?F(C):n(C)}function F(C){return C===47?(e.consume(C),ee):C===58||C===95||zt(C)?(e.consume(C),I):_e(C)?(a=F,te(C)):Ie(C)?(e.consume(C),F):ee(C)}function I(C){return C===45||C===46||C===58||C===95||At(C)?(e.consume(C),I):z(C)}function z(C){return C===61?(e.consume(C),U):_e(C)?(a=z,te(C)):Ie(C)?(e.consume(C),z):F(C)}function U(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),o=C,Z):_e(C)?(a=U,te(C)):Ie(C)?(e.consume(C),U):(e.consume(C),K)}function Z(C){return C===o?(e.consume(C),o=void 0,G):C===null?n(C):_e(C)?(a=Z,te(C)):(e.consume(C),Z)}function K(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||ze(C)?F(C):(e.consume(C),K)}function G(C){return C===47||C===62||ze(C)?F(C):n(C)}function ee(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function te(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),B}function B(C){return Ie(C)?Ae(e,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):X(C)}function X(C){return e.enter("htmlTextData"),a(C)}}const rh={name:"labelEnd",resolveAll:VT,resolveTo:qT,tokenize:KT},BT={tokenize:YT},WT={tokenize:GT},HT={tokenize:JT};function VT(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&dn(e,0,e.length,n),e}function qT(e,t){let n=e.length,r=0,o,l,a,c;for(;n--;)if(o=e[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(a=n);const d={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[l][1].start},end:{...e[a][1].end}},m={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[a-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=En(c,e.slice(l+1,l+r+3)),c=En(c,[["enter",m,t]]),c=En(c,vu(t.parser.constructs.insideSpan.null,e.slice(l+r+4,a-3),t)),c=En(c,[["exit",m,t],e[a-2],e[a-1],["exit",f,t]]),c=En(c,e.slice(a+1)),c=En(c,[["exit",d,t]]),dn(e,l,e.length,c),e}function KT(e,t,n){const r=this;let o=r.events.length,l,a;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){l=r.events[o][1];break}return c;function c(v){return l?l._inactive?p(v):(a=r.parser.defined.includes(Bn(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),d):n(v)}function d(v){return v===40?e.attempt(BT,m,a?m:p)(v):v===91?e.attempt(WT,m,a?f:p)(v):a?m(v):p(v)}function f(v){return e.attempt(HT,m,p)(v)}function m(v){return t(v)}function p(v){return l._balanced=!0,n(v)}}function YT(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),o}function o(p){return ze(p)?Uo(e,l)(p):l(p)}function l(p){return p===41?m(p):Vw(e,a,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return ze(p)?Uo(e,d)(p):m(p)}function c(p){return n(p)}function d(p){return p===34||p===39||p===40?Kw(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):m(p)}function f(p){return ze(p)?Uo(e,m)(p):m(p)}function m(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function GT(e,t,n){const r=this;return o;function o(c){return qw.call(r,e,l,a,"reference","referenceMarker","referenceString")(c)}function l(c){return r.parser.defined.includes(Bn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function a(c){return n(c)}}function JT(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),o}function o(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const QT={name:"labelStartImage",resolveAll:rh.resolveAll,tokenize:XT};function XT(e,t,n){const r=this;return o;function o(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),l}function l(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),a):n(c)}function a(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const ZT={name:"labelStartLink",resolveAll:rh.resolveAll,tokenize:eP};function eP(e,t,n){const r=this;return o;function o(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),l}function l(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Td={name:"lineEnding",tokenize:tP};function tP(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ae(e,t,"linePrefix")}}const La={name:"thematicBreak",tokenize:nP};function nP(e,t,n){let r=0,o;return l;function l(f){return e.enter("thematicBreak"),a(f)}function a(f){return o=f,c(f)}function c(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||_e(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===o?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),Ie(f)?Ae(e,c,"whitespace")(f):c(f))}}const Qt={continuation:{tokenize:oP},exit:aP,name:"list",tokenize:sP},rP={partial:!0,tokenize:uP},iP={partial:!0,tokenize:lP};function sP(e,t,n){const r=this,o=r.events[r.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return c;function c(y){const b=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Sf(y)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(La,n,f)(y):f(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(y)}return n(y)}function d(y){return Sf(y)&&++a<10?(e.consume(y),d):(!r.interrupt||a<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),f(y)):n(y)}function f(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(al,r.interrupt?n:m,e.attempt(rP,v,p))}function m(y){return r.containerState.initialBlankLine=!0,l++,v(y)}function p(y){return Ie(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),v):n(y)}function v(y){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function oP(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(al,o,l);function o(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ae(e,t,"listItemIndent",r.containerState.size+1)(c)}function l(c){return r.containerState.furtherBlankLines||!Ie(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(iP,t,a)(c))}function a(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ae(e,e.attempt(Qt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function lP(e,t,n){const r=this;return Ae(e,o,"listItemIndent",r.containerState.size+1);function o(l){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(l):n(l)}}function aP(e){e.exit(this.containerState.type)}function uP(e,t,n){const r=this;return Ae(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const a=r.events[r.events.length-1];return!Ie(l)&&a&&a[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Cv={name:"setextUnderline",resolveTo:cP,tokenize:dP};function cP(e,t){let n=e.length,r,o,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",l?(e.splice(o,0,["enter",a,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function dP(e,t,n){const r=this;let o;return l;function l(f){let m=r.events.length,p;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){p=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),o=f,a(f)):n(f)}function a(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===o?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),Ie(f)?Ae(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||_e(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const fP={tokenize:hP};function hP(e){const t=this,n=e.attempt(al,r,e.attempt(this.parser.constructs.flowInitial,o,Ae(e,e.attempt(this.parser.constructs.flow,o,e.attempt(yT,o)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const pP={resolveAll:Gw()},mP=Yw("string"),gP=Yw("text");function Yw(e){return{resolveAll:Gw(e==="text"?vP:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],l=n.attempt(o,a,c);return a;function a(m){return f(m)?l(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return f(m)?(n.exit("data"),l(m)):(n.consume(m),d)}function f(m){if(m===null)return!0;const p=o[m];let v=-1;if(p)for(;++v<p.length;){const y=p[v];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Gw(e){return t;function t(n,r){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return e?e(n,r):n}}function vP(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let l=o.length,a=-1,c=0,d;for(;l--;){const f=o[l];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)c++,a--;if(a)break;a=-1}else if(f===-2)d=!0,c++;else if(f!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?a:r.start._bufferIndex+a,_index:r.start._index+l,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const yP={42:Qt,43:Qt,45:Qt,48:Qt,49:Qt,50:Qt,51:Qt,52:Qt,53:Qt,54:Qt,55:Qt,56:Qt,57:Qt,62:Uw},wP={91:ST},xP={[-2]:jd,[-1]:jd,32:jd},bP={35:PT,42:La,45:[Cv,La],60:OT,61:Cv,95:La,96:_v,126:_v},kP={38:Ww,92:Bw},SP={[-5]:Td,[-4]:Td,[-3]:Td,33:QT,38:Ww,42:_f,60:[Zj,zT],91:ZT,92:[jT,Bw],93:rh,95:_f,96:fT},_P={null:[_f,pP]},EP={null:[42,95]},CP={null:[]},jP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:EP,contentInitial:wP,disable:CP,document:yP,flow:bP,flowInitial:xP,insideSpan:_P,string:kP,text:SP},Symbol.toStringTag,{value:"Module"}));function TP(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let a=[],c=[];const d={attempt:$(H),check:$(j),consume:R,enter:N,exit:L,interrupt:$(j,{interrupt:!0})},f={code:null,containerState:{},defineSkip:k,events:[],now:b,parser:e,previous:null,sliceSerialize:v,sliceStream:y,write:p};let m=t.tokenize.call(f,d);return t.resolveAll&&l.push(t),f;function p(z){return a=En(a,z),E(),a[a.length-1]!==null?[]:(J(t,0),f.events=vu(l,f.events,f),f.events)}function v(z,U){return NP(y(z),U)}function y(z){return PP(a,z)}function b(){const{_bufferIndex:z,_index:U,line:Z,column:K,offset:G}=r;return{_bufferIndex:z,_index:U,line:Z,column:K,offset:G}}function k(z){o[z.line]=z.column,I()}function E(){let z;for(;r._index<a.length;){const U=a[r._index];if(typeof U=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<U.length;)T(U.charCodeAt(r._bufferIndex));else T(U)}}function T(z){m=m(z)}function R(z){_e(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,I()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=z}function N(z,U){const Z=U||{};return Z.type=z,Z.start=b(),f.events.push(["enter",Z,f]),c.push(Z),Z}function L(z){const U=c.pop();return U.end=b(),f.events.push(["exit",U,f]),U}function H(z,U){J(z,U.from)}function j(z,U){U.restore()}function $(z,U){return Z;function Z(K,G,ee){let te,B,X,C;return Array.isArray(K)?V(K):"tokenize"in K?V([K]):A(K);function A(ue){return Ee;function Ee(ye){const we=ye!==null&&ue[ye],he=ye!==null&&ue.null,Ke=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(he)?he:he?[he]:[]];return V(Ke)(ye)}}function V(ue){return te=ue,B=0,ue.length===0?ee:P(ue[B])}function P(ue){return Ee;function Ee(ye){return C=F(),X=ue,ue.partial||(f.currentConstruct=ue),ue.name&&f.parser.constructs.disable.null.includes(ue.name)?fe():ue.tokenize.call(U?Object.assign(Object.create(f),U):f,d,ae,fe)(ye)}}function ae(ue){return z(X,C),G}function fe(ue){return C.restore(),++B<te.length?P(te[B]):ee}}}function J(z,U){z.resolveAll&&!l.includes(z)&&l.push(z),z.resolve&&dn(f.events,U,f.events.length-U,z.resolve(f.events.slice(U),f)),z.resolveTo&&(f.events=z.resolveTo(f.events,f))}function F(){const z=b(),U=f.previous,Z=f.currentConstruct,K=f.events.length,G=Array.from(c);return{from:K,restore:ee};function ee(){r=z,f.previous=U,f.currentConstruct=Z,f.events.length=K,c=G,I()}}function I(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function PP(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,l=t.end._bufferIndex;let a;if(n===o)a=[e[n].slice(r,l)];else{if(a=e.slice(n,o),r>-1){const c=a[0];typeof c=="string"?a[0]=c.slice(r):a.shift()}l>0&&a.push(e[o].slice(0,l))}return a}function NP(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const l=e[n];let a;if(typeof l=="string")a=l;else switch(l){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&o)continue;a=" ";break}default:a=String.fromCharCode(l)}o=l===-2,r.push(a)}return r.join("")}function RP(e){const r={constructs:Fw([jP,...(e||{}).extensions||[]]),content:o(qj),defined:[],document:o(Yj),flow:o(fP),lazy:{},string:o(mP),text:o(gP)};return r;function o(l){return a;function a(c){return TP(r,l,c)}}}function IP(e){for(;!Hw(e););return e}const jv=/[\0\t\n\r]/g;function OP(){let e=1,t="",n=!0,r;return o;function o(l,a,c){const d=[];let f,m,p,v,y;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(a||void 0).decode(l)),p=0,t="",n&&(l.charCodeAt(0)===65279&&p++,n=void 0);p<l.length;){if(jv.lastIndex=p,f=jv.exec(l),v=f&&f.index!==void 0?f.index:l.length,y=l.charCodeAt(v),!f){t=l.slice(p);break}if(y===10&&p===v&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),p<v&&(d.push(l.slice(p,v)),e+=v-p),y){case 0:{d.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,d.push(-2);e++<m;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}p=v+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const AP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function DP(e){return e.replace(AP,LP)}function LP(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return zw(n.slice(l?2:1),l?16:10)}return nh(n)||e}const Jw={}.hasOwnProperty;function MP(e,t,n){return typeof t!="string"&&(n=t,t=void 0),$P(n)(IP(RP(n).document().write(OP()(e,t,!0))))}function $P(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Hn),autolinkProtocol:F,autolinkEmail:F,atxHeading:l(fn),blockQuote:l(he),characterEscape:F,characterReference:F,codeFenced:l(Ke),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:l(Ke,a),codeText:l(nt,a),codeTextData:F,data:F,codeFlowValue:F,definition:l(gt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:l(Lt),hardBreakEscape:l(hn),hardBreakTrailing:l(hn),htmlFlow:l(lr,a),htmlFlowData:F,htmlText:l(lr,a),htmlTextData:F,image:l(ui),label:a,link:l(Hn),listItem:l(nn),listItemValue:v,listOrdered:l(kt,p),listUnordered:l(kt),paragraph:l(Vn),reference:P,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:l(fn),strong:l(ci),thematicBreak:l(zi)},exit:{atxHeading:d(),atxHeadingSequence:H,autolink:d(),autolinkEmail:we,autolinkProtocol:ye,blockQuote:d(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:ue,characterReference:Ee,codeFenced:d(E),codeFencedFence:k,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:I,codeIndented:d(T),codeText:d(G),codeTextData:I,data:I,definition:d(),definitionDestinationString:L,definitionLabelString:R,definitionTitleString:N,emphasis:d(),hardBreakEscape:d(U),hardBreakTrailing:d(U),htmlFlow:d(Z),htmlFlowData:I,htmlText:d(K),htmlTextData:I,image:d(te),label:X,labelText:B,lineEnding:z,link:d(ee),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ae,resourceDestinationString:C,resourceTitleString:A,resource:V,setextHeading:d(J),setextHeadingLineSequence:$,setextHeadingText:j,strong:d(),thematicBreak:d()}};Qw(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Q){let oe={type:"root",children:[]};const xe={stack:[oe],tokenStack:[],config:t,enter:c,exit:f,buffer:a,resume:m,data:n},je=[];let Oe=-1;for(;++Oe<Q.length;)if(Q[Oe][1].type==="listOrdered"||Q[Oe][1].type==="listUnordered")if(Q[Oe][0]==="enter")je.push(Oe);else{const Ue=je.pop();Oe=o(Q,Ue,Oe)}for(Oe=-1;++Oe<Q.length;){const Ue=t[Q[Oe][0]];Jw.call(Ue,Q[Oe][1].type)&&Ue[Q[Oe][1].type].call(Object.assign({sliceSerialize:Q[Oe][2].sliceSerialize},xe),Q[Oe][1])}if(xe.tokenStack.length>0){const Ue=xe.tokenStack[xe.tokenStack.length-1];(Ue[1]||Tv).call(xe,void 0,Ue[0])}for(oe.position={start:Kr(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:Kr(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)oe=t.transforms[Oe](oe)||oe;return oe}function o(Q,oe,xe){let je=oe-1,Oe=-1,Ue=!1,pn,Bt,qn,jn;for(;++je<=xe;){const lt=Q[je];switch(lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{lt[0]==="enter"?Oe++:Oe--,jn=void 0;break}case"lineEndingBlank":{lt[0]==="enter"&&(pn&&!jn&&!Oe&&!qn&&(qn=je),jn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jn=void 0}if(!Oe&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||Oe===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(pn){let mn=je;for(Bt=void 0;mn--;){const Et=Q[mn];if(Et[1].type==="lineEnding"||Et[1].type==="lineEndingBlank"){if(Et[0]==="exit")continue;Bt&&(Q[Bt][1].type="lineEndingBlank",Ue=!0),Et[1].type="lineEnding",Bt=mn}else if(!(Et[1].type==="linePrefix"||Et[1].type==="blockQuotePrefix"||Et[1].type==="blockQuotePrefixWhitespace"||Et[1].type==="blockQuoteMarker"||Et[1].type==="listItemIndent"))break}qn&&(!Bt||qn<Bt)&&(pn._spread=!0),pn.end=Object.assign({},Bt?Q[Bt][1].start:lt[1].end),Q.splice(Bt||je,0,["exit",pn,lt[2]]),je++,xe++}if(lt[1].type==="listItemPrefix"){const mn={type:"listItem",_spread:!1,start:Object.assign({},lt[1].start),end:void 0};pn=mn,Q.splice(je,0,["enter",mn,lt[2]]),je++,xe++,qn=void 0,jn=!0}}}return Q[oe][1]._spread=Ue,xe}function l(Q,oe){return xe;function xe(je){c.call(this,Q(je),je),oe&&oe.call(this,je)}}function a(){this.stack.push({type:"fragment",children:[]})}function c(Q,oe,xe){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([oe,xe||void 0]),Q.position={start:Kr(oe.start),end:void 0}}function d(Q){return oe;function oe(xe){Q&&Q.call(this,xe),f.call(this,xe)}}function f(Q,oe){const xe=this.stack.pop(),je=this.tokenStack.pop();if(je)je[0].type!==Q.type&&(oe?oe.call(this,Q,je[0]):(je[1]||Tv).call(this,Q,je[0]));else throw new Error("Cannot close `"+Q.type+"` ("+zo({start:Q.start,end:Q.end})+"): it’s not open");xe.position.end=Kr(Q.end)}function m(){return th(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(Q){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Q}function b(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Q}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q.replace(/(\r?\n|\r)$/g,"")}function R(Q){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.label=oe,xe.identifier=Bn(this.sliceSerialize(Q)).toLowerCase()}function N(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Q}function L(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Q}function H(Q){const oe=this.stack[this.stack.length-1];if(!oe.depth){const xe=this.sliceSerialize(Q).length;oe.depth=xe}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function $(Q){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function J(){this.data.setextHeadingSlurpLineEnding=void 0}function F(Q){const xe=this.stack[this.stack.length-1].children;let je=xe[xe.length-1];(!je||je.type!=="text")&&(je=di(),je.position={start:Kr(Q.start),end:void 0},xe.push(je)),this.stack.push(je)}function I(Q){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Q),oe.position.end=Kr(Q.end)}function z(Q){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=oe.children[oe.children.length-1];xe.position.end=Kr(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(F.call(this,Q),I.call(this,Q))}function U(){this.data.atHardBreak=!0}function Z(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function K(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function G(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function ee(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=oe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function te(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=oe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function B(Q){const oe=this.sliceSerialize(Q),xe=this.stack[this.stack.length-2];xe.label=DP(oe),xe.identifier=Bn(oe).toLowerCase()}function X(){const Q=this.stack[this.stack.length-1],oe=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const je=Q.children;xe.children=je}else xe.alt=oe}function C(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Q}function A(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Q}function V(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function ae(Q){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.label=oe,xe.identifier=Bn(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function fe(Q){this.data.characterReferenceType=Q.type}function ue(Q){const oe=this.sliceSerialize(Q),xe=this.data.characterReferenceType;let je;xe?(je=zw(oe,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):je=nh(oe);const Oe=this.stack[this.stack.length-1];Oe.value+=je}function Ee(Q){const oe=this.stack.pop();oe.position.end=Kr(Q.end)}function ye(Q){I.call(this,Q);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Q)}function we(Q){I.call(this,Q);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Q)}function he(){return{type:"blockquote",children:[]}}function Ke(){return{type:"code",lang:null,meta:null,value:""}}function nt(){return{type:"inlineCode",value:""}}function gt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Lt(){return{type:"emphasis",children:[]}}function fn(){return{type:"heading",depth:0,children:[]}}function hn(){return{type:"break"}}function lr(){return{type:"html",value:""}}function ui(){return{type:"image",title:null,url:"",alt:null}}function Hn(){return{type:"link",title:null,url:"",children:[]}}function kt(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function nn(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function Vn(){return{type:"paragraph",children:[]}}function ci(){return{type:"strong",children:[]}}function di(){return{type:"text",value:""}}function zi(){return{type:"thematicBreak"}}}function Kr(e){return{line:e.line,column:e.column,offset:e.offset}}function Qw(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Qw(e,r):FP(e,r)}}function FP(e,t){let n;for(n in t)if(Jw.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Tv(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+zo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+zo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+zo({start:t.start,end:t.end})+") is still open")}function zP(e){const t=this;t.parser=n;function n(r){return MP(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function UP(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function BP(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function WP(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function HP(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VP(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qP(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=$s(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let a,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=l+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function KP(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YP(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Xw(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const a=o[o.length-1];return a&&a.type==="text"?a.value+=r:o.push({type:"text",value:r}),o}function GP(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Xw(e,t);const o={src:$s(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,l),e.applyData(t,l)}function JP(e,t){const n={src:$s(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function QP(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function XP(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Xw(e,t);const o={href:$s(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function ZP(e,t){const n={href:$s(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function eN(e,t,n){const r=e.all(t),o=n?tN(n):Zw(t),l={},a=[];if(typeof t.checked=="boolean"){const m=r[0];let p;m&&m.type==="element"&&m.tagName==="p"?p=m:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(o||c!==0||m.type!=="element"||m.tagName!=="p")&&a.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?a.push(...m.children):a.push(m)}const d=r[r.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:l,children:a};return e.patch(t,f),e.applyData(t,f)}function tN(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Zw(n[r])}return t}function Zw(e){const t=e.spread;return t??e.children.length>1}function nN(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const a=r[o];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function rN(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iN(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function sN(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oN(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),o.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=Qf(t.children[1]),d=Iw(t.children[t.children.length-1]);c&&d&&(a.position={start:c,end:d}),o.push(a)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,l),e.applyData(t,l)}function lN(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,c=a?a.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const p=t.children[d],v={},y=a?a[d]:void 0;y&&(v.align=y);let b={type:"element",tagName:l,properties:v,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),f.push(b)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,m),e.applyData(t,m)}function aN(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Pv=9,Nv=32;function uN(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const l=[];for(;r;)l.push(Rv(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return l.push(Rv(t.slice(o),o>0,!1)),l.join("")}function Rv(e,t,n){let r=0,o=e.length;if(t){let l=e.codePointAt(r);for(;l===Pv||l===Nv;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(o-1);for(;l===Pv||l===Nv;)o--,l=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function cN(e,t){const n={type:"text",value:uN(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function dN(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const fN={blockquote:UP,break:BP,code:WP,delete:HP,emphasis:VP,footnoteReference:qP,heading:KP,html:YP,imageReference:GP,image:JP,inlineCode:QP,linkReference:XP,link:ZP,listItem:eN,list:nN,paragraph:rN,root:iN,strong:sN,table:oN,tableCell:aN,tableRow:lN,text:cN,thematicBreak:dN,toml:ja,yaml:ja,definition:ja,footnoteDefinition:ja};function ja(){}const e0=-1,yu=0,Bo=1,Ya=2,ih=3,sh=4,oh=5,lh=6,t0=7,n0=8,Iv=typeof self=="object"?self:globalThis,hN=(e,t)=>{const n=(o,l)=>(e.set(l,o),o),r=o=>{if(e.has(o))return e.get(o);const[l,a]=t[o];switch(l){case yu:case e0:return n(a,o);case Bo:{const c=n([],o);for(const d of a)c.push(r(d));return c}case Ya:{const c=n({},o);for(const[d,f]of a)c[r(d)]=r(f);return c}case ih:return n(new Date(a),o);case sh:{const{source:c,flags:d}=a;return n(new RegExp(c,d),o)}case oh:{const c=n(new Map,o);for(const[d,f]of a)c.set(r(d),r(f));return c}case lh:{const c=n(new Set,o);for(const d of a)c.add(r(d));return c}case t0:{const{name:c,message:d}=a;return n(new Iv[c](d),o)}case n0:return n(BigInt(a),o);case"BigInt":return n(Object(BigInt(a)),o);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:c}=new Uint8Array(a);return n(new DataView(c),a)}}return n(new Iv[l](a),o)};return r},Ov=e=>hN(new Map,e)(0),bs="",{toString:pN}={},{keys:mN}=Object,Po=e=>{const t=typeof e;if(t!=="object"||!e)return[yu,t];const n=pN.call(e).slice(8,-1);switch(n){case"Array":return[Bo,bs];case"Object":return[Ya,bs];case"Date":return[ih,bs];case"RegExp":return[sh,bs];case"Map":return[oh,bs];case"Set":return[lh,bs];case"DataView":return[Bo,n]}return n.includes("Array")?[Bo,n]:n.includes("Error")?[t0,n]:[Ya,n]},Ta=([e,t])=>e===yu&&(t==="function"||t==="symbol"),gN=(e,t,n,r)=>{const o=(a,c)=>{const d=r.push(a)-1;return n.set(c,d),d},l=a=>{if(n.has(a))return n.get(a);let[c,d]=Po(a);switch(c){case yu:{let m=a;switch(d){case"bigint":c=n0,m=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return o([e0],a)}return o([c,m],a)}case Bo:{if(d){let v=a;return d==="DataView"?v=new Uint8Array(a.buffer):d==="ArrayBuffer"&&(v=new Uint8Array(a)),o([d,[...v]],a)}const m=[],p=o([c,m],a);for(const v of a)m.push(l(v));return p}case Ya:{if(d)switch(d){case"BigInt":return o([d,a.toString()],a);case"Boolean":case"Number":case"String":return o([d,a.valueOf()],a)}if(t&&"toJSON"in a)return l(a.toJSON());const m=[],p=o([c,m],a);for(const v of mN(a))(e||!Ta(Po(a[v])))&&m.push([l(v),l(a[v])]);return p}case ih:return o([c,a.toISOString()],a);case sh:{const{source:m,flags:p}=a;return o([c,{source:m,flags:p}],a)}case oh:{const m=[],p=o([c,m],a);for(const[v,y]of a)(e||!(Ta(Po(v))||Ta(Po(y))))&&m.push([l(v),l(y)]);return p}case lh:{const m=[],p=o([c,m],a);for(const v of a)(e||!Ta(Po(v)))&&m.push(l(v));return p}}const{message:f}=a;return o([c,{name:d,message:f}],a)};return l},Av=(e,{json:t,lossy:n}={})=>{const r=[];return gN(!(t||n),!!t,new Map,r)(e),r},Ga=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ov(Av(e,t)):structuredClone(e):(e,t)=>Ov(Av(e,t));function vN(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function yN(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function wN(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||vN,r=e.options.footnoteBackLabel||yN,o=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const m=e.all(f),p=String(f.identifier).toUpperCase(),v=$s(p.toLowerCase());let y=0;const b=[],k=e.footnoteCounts.get(p);for(;k!==void 0&&++y<=k;){b.length>0&&b.push({type:"text",value:" "});let R=typeof n=="string"?n:n(d,y);typeof R=="string"&&(R={type:"text",value:R}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,y),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const E=m[m.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const R=E.children[E.children.length-1];R&&R.type==="text"?R.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...b)}else m.push(...b);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(m,!0)};e.patch(f,T),c.push(T)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Ga(a),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const wu=(function(e){if(e==null)return SN;if(typeof e=="function")return xu(e);if(typeof e=="object")return Array.isArray(e)?xN(e):bN(e);if(typeof e=="string")return kN(e);throw new Error("Expected function, string, or object as test")});function xN(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=wu(e[n]);return xu(r);function r(...o){let l=-1;for(;++l<t.length;)if(t[l].apply(this,o))return!0;return!1}}function bN(e){const t=e;return xu(n);function n(r){const o=r;let l;for(l in e)if(o[l]!==t[l])return!1;return!0}}function kN(e){return xu(t);function t(n){return n&&n.type===e}}function xu(e){return t;function t(n,r,o){return!!(_N(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function SN(){return!0}function _N(e){return e!==null&&typeof e=="object"&&"type"in e}const r0=[],EN=!0,Ef=!1,CN="skip";function i0(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const l=wu(o),a=r?-1:1;c(e,void 0,[])();function c(d,f,m){const p=d&&typeof d=="object"?d:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(d.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=r0,b,k,E;if((!t||l(d,f,m[m.length-1]||void 0))&&(y=jN(n(d,m)),y[0]===Ef))return y;if("children"in d&&d.children){const T=d;if(T.children&&y[0]!==CN)for(k=(r?T.children.length:-1)+a,E=m.concat(T);k>-1&&k<T.children.length;){const R=T.children[k];if(b=c(R,k,E)(),b[0]===Ef)return b;k=typeof b[1]=="number"?b[1]:k+a}}return y}}}function jN(e){return Array.isArray(e)?e:typeof e=="number"?[EN,e]:e==null?r0:[e]}function ah(e,t,n,r){let o,l,a;typeof t=="function"&&typeof n!="function"?(l=void 0,a=t,o=n):(l=t,a=n,o=r),i0(e,l,c,o);function c(d,f){const m=f[f.length-1],p=m?m.children.indexOf(d):void 0;return a(d,p,m)}}const Cf={}.hasOwnProperty,TN={};function PN(e,t){const n=t||TN,r=new Map,o=new Map,l=new Map,a={...fN,...n.handlers},c={all:f,applyData:RN,definitionById:r,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:a,one:d,options:n,patch:NN,wrap:ON};return ah(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const p=m.type==="definition"?r:o,v=String(m.identifier).toUpperCase();p.has(v)||p.set(v,m)}}),c;function d(m,p){const v=m.type,y=c.handlers[v];if(Cf.call(c.handlers,v)&&y)return y(c,m,p);if(c.options.passThrough&&c.options.passThrough.includes(v)){if("children"in m){const{children:k,...E}=m,T=Ga(E);return T.children=c.all(m),T}return Ga(m)}return(c.options.unknownHandler||IN)(c,m,p)}function f(m){const p=[];if("children"in m){const v=m.children;let y=-1;for(;++y<v.length;){const b=c.one(v[y],m);if(b){if(y&&v[y-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=Dv(b.value)),!Array.isArray(b)&&b.type==="element")){const k=b.children[0];k&&k.type==="text"&&(k.value=Dv(k.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function NN(e,t){e.position&&(t.position=yj(e))}function RN(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&l&&Object.assign(n.properties,Ga(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function IN(e,t){const n=t.data||{},r="value"in t&&!(Cf.call(n,"hProperties")||Cf.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ON(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Dv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Lv(e,t){const n=PN(e,t),r=n.one(e,void 0),o=wN(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function AN(e,t){return e&&"run"in e?async function(n,r){const o=Lv(n,{file:r,...t});await e.run(o,r)}:function(n,r){return Lv(n,{file:r,...e||t})}}function Mv(e){if(e)throw e}var Pd,$v;function DN(){if($v)return Pd;$v=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},l=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var m=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!p)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},a=function(f,m){n&&m.name==="__proto__"?n(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},c=function(f,m){if(m==="__proto__")if(e.call(f,m)){if(r)return r(f,m).value}else return;return f[m]};return Pd=function d(){var f,m,p,v,y,b,k=arguments[0],E=1,T=arguments.length,R=!1;for(typeof k=="boolean"&&(R=k,k=arguments[1]||{},E=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});E<T;++E)if(f=arguments[E],f!=null)for(m in f)p=c(k,m),v=c(f,m),k!==v&&(R&&v&&(l(v)||(y=o(v)))?(y?(y=!1,b=p&&o(p)?p:[]):b=p&&l(p)?p:{},a(k,{name:m,newValue:d(R,b,v)})):typeof v<"u"&&a(k,{name:m,newValue:v}));return k},Pd}var LN=DN();const Nd=Os(LN);function jf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function MN(){const e=[],t={run:n,use:r};return t;function n(...o){let l=-1;const a=o.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);c(null,...o);function c(d,...f){const m=e[++l];let p=-1;if(d){a(d);return}for(;++p<o.length;)(f[p]===null||f[p]===void 0)&&(f[p]=o[p]);o=f,m?$N(m,c)(...f):a(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function $N(e,t){let n;return r;function r(...a){const c=e.length>a.length;let d;c&&a.push(o);try{d=e.apply(this,a)}catch(f){const m=f;if(c&&n)throw m;return o(m)}c||(d&&d.then&&typeof d.then=="function"?d.then(l,o):d instanceof Error?o(d):l(d))}function o(a,...c){n||(n=!0,t(a,...c))}function l(a){o(null,a)}}const nr={basename:FN,dirname:zN,extname:UN,join:BN,sep:"/"};function FN(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ul(e);let n=0,r=-1,o=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else r<0&&(l=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,c=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else a<0&&(l=!0,a=o+1),c>-1&&(e.codePointAt(o)===t.codePointAt(c--)?c<0&&(r=o):(c=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function zN(e){if(ul(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function UN(e){ul(e);let t=e.length,n=-1,r=0,o=-1,l=0,a;for(;t--;){const c=e.codePointAt(t);if(c===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),c===46?o<0?o=t:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function BN(...e){let t=-1,n;for(;++t<e.length;)ul(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":WN(n)}function WN(e){ul(e);const t=e.codePointAt(0)===47;let n=HN(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function HN(e,t){let n="",r=0,o=-1,l=0,a=-1,c,d;for(;++a<=e.length;){if(a<e.length)c=e.codePointAt(a);else{if(c===47)break;c=47}if(c===47){if(!(o===a-1||l===1))if(o!==a-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),o=a,l=0;continue}}else if(n.length>0){n="",r=0,o=a,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),r=a-o-1;o=a,l=0}else c===46&&l>-1?l++:l=-1}return n}function ul(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const VN={cwd:qN};function qN(){return"/"}function Tf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function KN(e){if(typeof e=="string")e=new URL(e);else if(!Tf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return YN(e)}function YN(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const Rd=["history","path","basename","stem","extname","dirname"];class s0{constructor(t){let n;t?Tf(t)?n={path:t}:typeof t=="string"||GN(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":VN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Rd.length;){const l=Rd[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)Rd.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?nr.basename(this.path):void 0}set basename(t){Od(t,"basename"),Id(t,"basename"),this.path=nr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?nr.dirname(this.path):void 0}set dirname(t){Fv(this.basename,"dirname"),this.path=nr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?nr.extname(this.path):void 0}set extname(t){if(Id(t,"extname"),Fv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Tf(t)&&(t=KN(t)),Od(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?nr.basename(this.path,this.extname):void 0}set stem(t){Od(t,"stem"),Id(t,"stem"),this.path=nr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Dt(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Id(e,t){if(e&&e.includes(nr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+nr.sep+"`")}function Od(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Fv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function GN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const JN=(function(e){const r=this.constructor.prototype,o=r[e],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),QN={}.hasOwnProperty;class uh extends JN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=MN()}copy(){const t=new uh;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Nd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ld("data",this.frozen),this.namespace[t]=n,this):QN.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ld("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pa(t),r=this.parser||this.Parser;return Ad("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ad("process",this.parser||this.Parser),Dd("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,a){const c=Pa(t),d=r.parse(c);r.run(d,c,function(m,p,v){if(m||!p||!v)return f(m);const y=p,b=r.stringify(y,v);eR(b)?v.value=b:v.result=b,f(m,v)});function f(m,p){m||!p?a(m):l?l(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Ad("processSync",this.parser||this.Parser),Dd("processSync",this.compiler||this.Compiler),this.process(t,o),Uv("processSync","process",n),r;function o(l,a){n=!0,Mv(l),r=a}}run(t,n,r){zv(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(a,c){const d=Pa(n);o.run(t,d,f);function f(m,p,v){const y=p||t;m?c(m):a?a(y):r(void 0,y,v)}}}runSync(t,n){let r=!1,o;return this.run(t,n,l),Uv("runSync","run",r),o;function l(a,c){Mv(a),o=c,r=!0}}stringify(t,n){this.freeze();const r=Pa(n),o=this.compiler||this.Compiler;return Dd("stringify",o),zv(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(Ld("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...p]=f;d(m,p)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(o.settings=Nd(!0,o.settings,f.settings))}function c(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const p=f[m];l(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,m){let p=-1,v=-1;for(;++p<r.length;)if(r[p][0]===f){v=p;break}if(v===-1)r.push([f,...m]);else if(m.length>0){let[y,...b]=m;const k=r[v][1];jf(k)&&jf(y)&&(y=Nd(!0,k,y)),r[v]=[f,y,...b]}}}}const XN=new uh().freeze();function Ad(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Dd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ld(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zv(e){if(!jf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Uv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pa(e){return ZN(e)?e:new s0(e)}function ZN(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function eR(e){return typeof e=="string"||tR(e)}function tR(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const nR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Bv=[],Wv={allowDangerousHtml:!0},rR=/^(https?|ircs?|mailto|xmpp)$/i,iR=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sR(e){const t=oR(e),n=lR(e);return aR(t.runSync(t.parse(n),n),e)}function oR(e){const t=e.rehypePlugins||Bv,n=e.remarkPlugins||Bv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Wv}:Wv;return XN().use(zP).use(n).use(AN,r).use(t)}function lR(e){const t=e.children||"",n=new s0;return typeof t=="string"&&(n.value=t),n}function aR(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,l=t.disallowedElements,a=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||uR;for(const m of iR)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+nR+m.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),ah(e,f),Sj(e,{Fragment:x.Fragment,components:o,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function f(m,p,v){if(m.type==="raw"&&v&&typeof p=="number")return a?v.children.splice(p,1):v.children[p]={type:"text",value:m.value},p;if(m.type==="element"){let y;for(y in Cd)if(Object.hasOwn(Cd,y)&&Object.hasOwn(m.properties,y)){const b=m.properties[y],k=Cd[y];(k===null||k.includes(m.tagName))&&(m.properties[y]=d(String(b||""),y,m))}}if(m.type==="element"){let y=n?!n.includes(m.tagName):l?l.includes(m.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(m,p,v)),y&&v&&typeof p=="number")return c&&m.children?v.children.splice(p,1,...m.children):v.children.splice(p,1),p}}}function uR(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||rR.test(e.slice(0,t))?e:""}function Hv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function cR(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function dR(e,t,n){const o=wu((n||{}).ignore||[]),l=fR(t);let a=-1;for(;++a<l.length;)i0(e,"text",c);function c(f,m){let p=-1,v;for(;++p<m.length;){const y=m[p],b=v?v.children:void 0;if(o(y,b?b.indexOf(y):void 0,v))return;v=y}if(v)return d(f,m)}function d(f,m){const p=m[m.length-1],v=l[a][0],y=l[a][1];let b=0;const E=p.children.indexOf(f);let T=!1,R=[];v.lastIndex=0;let N=v.exec(f.value);for(;N;){const L=N.index,H={index:N.index,input:N.input,stack:[...m,f]};let j=y(...N,H);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?v.lastIndex=L+1:(b!==L&&R.push({type:"text",value:f.value.slice(b,L)}),Array.isArray(j)?R.push(...j):j&&R.push(j),b=L+N[0].length,T=!0),!v.global)break;N=v.exec(f.value)}return T?(b<f.value.length&&R.push({type:"text",value:f.value.slice(b)}),p.children.splice(E,1,...R)):R=[f],E+R.length}}function fR(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([hR(o[0]),pR(o[1])])}return t}function hR(e){return typeof e=="string"?new RegExp(cR(e),"g"):e}function pR(e){return typeof e=="function"?e:function(){return e}}const Md="phrasing",$d=["autolink","link","image","label"];function mR(){return{transforms:[kR],enter:{literalAutolink:vR,literalAutolinkEmail:Fd,literalAutolinkHttp:Fd,literalAutolinkWww:Fd},exit:{literalAutolink:bR,literalAutolinkEmail:xR,literalAutolinkHttp:yR,literalAutolinkWww:wR}}}function gR(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Md,notInConstruct:$d},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Md,notInConstruct:$d},{character:":",before:"[ps]",after:"\\/",inConstruct:Md,notInConstruct:$d}]}}function vR(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Fd(e){this.config.enter.autolinkProtocol.call(this,e)}function yR(e){this.config.exit.autolinkProtocol.call(this,e)}function wR(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function xR(e){this.config.exit.autolinkEmail.call(this,e)}function bR(e){this.exit(e)}function kR(e){dR(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,SR],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),_R]],{ignore:["link","linkReference"]})}function SR(e,t,n,r,o){let l="";if(!o0(o)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!ER(n)))return!1;const a=CR(n+r);if(!a[0])return!1;const c={type:"link",title:null,url:l+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[c,{type:"text",value:a[1]}]:c}function _R(e,t,n,r){return!o0(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function ER(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function CR(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=Hv(e,"(");let l=Hv(e,")");for(;r!==-1&&o>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function o0(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Li(n)||gu(n))&&(!t||n!==47)}l0.peek=DR;function jR(){this.buffer()}function TR(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function PR(){this.buffer()}function NR(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function RR(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Bn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function IR(e){this.exit(e)}function OR(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Bn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function AR(e){this.exit(e)}function DR(){return"["}function l0(e,t,n,r){const o=n.createTracker(r);let l=o.move("[^");const a=n.enter("footnoteReference"),c=n.enter("reference");return l+=o.move(n.safe(n.associationId(e),{after:"]",before:l})),c(),a(),l+=o.move("]"),l}function LR(){return{enter:{gfmFootnoteCallString:jR,gfmFootnoteCall:TR,gfmFootnoteDefinitionLabelString:PR,gfmFootnoteDefinition:NR},exit:{gfmFootnoteCallString:RR,gfmFootnoteCall:IR,gfmFootnoteDefinitionLabelString:OR,gfmFootnoteDefinition:AR}}}function MR(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:l0},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,l,a){const c=l.createTracker(a);let d=c.move("[^");const f=l.enter("footnoteDefinition"),m=l.enter("label");return d+=c.move(l.safe(l.associationId(r),{before:d,after:"]"})),m(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,c.current()),t?a0:$R))),f(),d}}function $R(e,t,n){return t===0?e:a0(e,t,n)}function a0(e,t,n){return(n?"":"    ")+e}const FR=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];u0.peek=HR;function zR(){return{canContainEols:["delete"],enter:{strikethrough:BR},exit:{strikethrough:WR}}}function UR(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:FR}],handlers:{delete:u0}}}function BR(e){this.enter({type:"delete",children:[]},e)}function WR(e){this.exit(e)}function u0(e,t,n,r){const o=n.createTracker(r),l=n.enter("strikethrough");let a=o.move("~~");return a+=n.containerPhrasing(e,{...o.current(),before:a,after:"~"}),a+=o.move("~~"),l(),a}function HR(){return"~"}function VR(e){return e.length}function qR(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||VR,l=[],a=[],c=[],d=[];let f=0,m=-1;for(;++m<e.length;){const k=[],E=[];let T=-1;for(e[m].length>f&&(f=e[m].length);++T<e[m].length;){const R=KR(e[m][T]);if(n.alignDelimiters!==!1){const N=o(R);E[T]=N,(d[T]===void 0||N>d[T])&&(d[T]=N)}k.push(R)}a[m]=k,c[m]=E}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)l[p]=Vv(r[p]);else{const k=Vv(r);for(;++p<f;)l[p]=k}p=-1;const v=[],y=[];for(;++p<f;){const k=l[p];let E="",T="";k===99?(E=":",T=":"):k===108?E=":":k===114&&(T=":");let R=n.alignDelimiters===!1?1:Math.max(1,d[p]-E.length-T.length);const N=E+"-".repeat(R)+T;n.alignDelimiters!==!1&&(R=E.length+R+T.length,R>d[p]&&(d[p]=R),y[p]=R),v[p]=N}a.splice(1,0,v),c.splice(1,0,y),m=-1;const b=[];for(;++m<a.length;){const k=a[m],E=c[m];p=-1;const T=[];for(;++p<f;){const R=k[p]||"";let N="",L="";if(n.alignDelimiters!==!1){const H=d[p]-(E[p]||0),j=l[p];j===114?N=" ".repeat(H):j===99?H%2?(N=" ".repeat(H/2+.5),L=" ".repeat(H/2-.5)):(N=" ".repeat(H/2),L=N):L=" ".repeat(H)}n.delimiterStart!==!1&&!p&&T.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&R==="")&&(n.delimiterStart!==!1||p)&&T.push(" "),n.alignDelimiters!==!1&&T.push(N),T.push(R),n.alignDelimiters!==!1&&T.push(L),n.padding!==!1&&T.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&T.push("|")}b.push(n.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return b.join(`
`)}function KR(e){return e==null?"":String(e)}function Vv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function YR(e,t,n,r){const o=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const a=n.indentLines(n.containerFlow(e,l.current()),GR);return o(),a}function GR(e,t,n){return">"+(n?"":" ")+e}function JR(e,t){return qv(e,t.inConstruct,!0)&&!qv(e,t.notInConstruct,!1)}function qv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Kv(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&JR(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function QR(e,t){const n=String(e);let r=n.indexOf(t),o=r,l=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++l>a&&(a=l):l=1,o=r+t.length,r=n.indexOf(t,o);return a}function XR(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function ZR(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function eI(e,t,n,r){const o=ZR(n),l=e.value||"",a=o==="`"?"GraveAccent":"Tilde";if(XR(e,n)){const p=n.enter("codeIndented"),v=n.indentLines(l,tI);return p(),v}const c=n.createTracker(r),d=o.repeat(Math.max(QR(l,o)+1,3)),f=n.enter("codeFenced");let m=c.move(d);if(e.lang){const p=n.enter(`codeFencedLang${a}`);m+=c.move(n.safe(e.lang,{before:m,after:" ",encode:["`"],...c.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${a}`);m+=c.move(" "),m+=c.move(n.safe(e.meta,{before:m,after:`
`,encode:["`"],...c.current()})),p()}return m+=c.move(`
`),l&&(m+=c.move(l+`
`)),m+=c.move(d),f(),m}function tI(e,t,n){return(n?"":"    ")+e}function ch(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function nI(e,t,n,r){const o=ch(n),l=o==='"'?"Quote":"Apostrophe",a=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${l}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),a(),f}function rI(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Qo(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ja(e,t,n){const r=Is(e),o=Is(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}c0.peek=iI;function c0(e,t,n,r){const o=rI(n),l=n.enter("emphasis"),a=n.createTracker(r),c=a.move(o);let d=a.move(n.containerPhrasing(e,{after:o,before:c,...a.current()}));const f=d.charCodeAt(0),m=Ja(r.before.charCodeAt(r.before.length-1),f,o);m.inside&&(d=Qo(f)+d.slice(1));const p=d.charCodeAt(d.length-1),v=Ja(r.after.charCodeAt(0),p,o);v.inside&&(d=d.slice(0,-1)+Qo(p));const y=a.move(o);return l(),n.attentionEncodeSurroundingInfo={after:v.outside,before:m.outside},c+d+y}function iI(e,t,n){return n.options.emphasis||"*"}function sI(e,t){let n=!1;return ah(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Ef}),!!((!e.depth||e.depth<3)&&th(e)&&(t.options.setext||n))}function oI(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(sI(e,n)){const m=n.enter("headingSetext"),p=n.enter("phrasing"),v=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return p(),m(),v+`
`+(o===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const a="#".repeat(o),c=n.enter("headingAtx"),d=n.enter("phrasing");l.move(a+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(f)&&(f=Qo(f.charCodeAt(0))+f.slice(1)),f=f?a+" "+f:a,n.options.closeAtx&&(f+=" "+a),d(),c(),f}d0.peek=lI;function d0(e){return e.value||""}function lI(){return"<"}f0.peek=aI;function f0(e,t,n,r){const o=ch(n),l=o==='"'?"Quote":"Apostrophe",a=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${l}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),f+=d.move(")"),a(),f}function aI(){return"!"}h0.peek=uI;function h0(e,t,n,r){const o=e.referenceType,l=n.enter("imageReference");let a=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),a();const m=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return a(),n.stack=m,l(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function uI(){return"!"}p0.peek=cI;function p0(e,t,n){let r=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const a=n.unsafe[l],c=n.compilePattern(a);let d;if(a.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return o+r+o}function cI(){return"`"}function m0(e,t){const n=th(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}g0.peek=dI;function g0(e,t,n,r){const o=ch(n),l=o==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let c,d;if(m0(e,n)){const m=n.stack;n.stack=[],c=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),c(),n.stack=m,p}c=n.enter("link"),d=n.enter("label");let f=a.move("[");return f+=a.move(n.containerPhrasing(e,{before:f,after:"](",...a.current()})),f+=a.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=a.move("<"),f+=a.move(n.safe(e.url,{before:f,after:">",...a.current()})),f+=a.move(">")):(d=n.enter("destinationRaw"),f+=a.move(n.safe(e.url,{before:f,after:e.title?" ":")",...a.current()}))),d(),e.title&&(d=n.enter(`title${l}`),f+=a.move(" "+o),f+=a.move(n.safe(e.title,{before:f,after:o,...a.current()})),f+=a.move(o),d()),f+=a.move(")"),c(),f}function dI(e,t,n){return m0(e,n)?"<":"["}v0.peek=fI;function v0(e,t,n,r){const o=e.referenceType,l=n.enter("linkReference");let a=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),a();const m=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return a(),n.stack=m,l(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function fI(){return"["}function dh(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function hI(e){const t=dh(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function pI(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function y0(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function mI(e,t,n,r){const o=n.enter("list"),l=n.bulletCurrent;let a=e.ordered?pI(n):dh(n);const c=e.ordered?a==="."?")":".":hI(n);let d=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const m=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),y0(n)===a&&m){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(a=c),n.bulletCurrent=a;const f=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=l,o(),f}function gI(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function vI(e,t,n,r){const o=gI(n);let l=n.bulletCurrent||dh(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let a=l.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const c=n.createTracker(r);c.move(l+" ".repeat(a-l.length)),c.shift(a);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),m);return d(),f;function m(p,v,y){return v?(y?"":" ".repeat(a))+p:(y?l:l+" ".repeat(a-l.length))+p}}function yI(e,t,n,r){const o=n.enter("paragraph"),l=n.enter("phrasing"),a=n.containerPhrasing(e,r);return l(),o(),a}const wI=wu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function xI(e,t,n,r){return(e.children.some(function(a){return wI(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function bI(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}w0.peek=kI;function w0(e,t,n,r){const o=bI(n),l=n.enter("strong"),a=n.createTracker(r),c=a.move(o+o);let d=a.move(n.containerPhrasing(e,{after:o,before:c,...a.current()}));const f=d.charCodeAt(0),m=Ja(r.before.charCodeAt(r.before.length-1),f,o);m.inside&&(d=Qo(f)+d.slice(1));const p=d.charCodeAt(d.length-1),v=Ja(r.after.charCodeAt(0),p,o);v.inside&&(d=d.slice(0,-1)+Qo(p));const y=a.move(o+o);return l(),n.attentionEncodeSurroundingInfo={after:v.outside,before:m.outside},c+d+y}function kI(e,t,n){return n.options.strong||"*"}function SI(e,t,n,r){return n.safe(e.value,r)}function _I(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function EI(e,t,n){const r=(y0(n)+(n.options.ruleSpaces?" ":"")).repeat(_I(n));return n.options.ruleSpaces?r.slice(0,-1):r}const x0={blockquote:YR,break:Kv,code:eI,definition:nI,emphasis:c0,hardBreak:Kv,heading:oI,html:d0,image:f0,imageReference:h0,inlineCode:p0,link:g0,linkReference:v0,list:mI,listItem:vI,paragraph:yI,root:xI,strong:w0,text:SI,thematicBreak:EI};function CI(){return{enter:{table:jI,tableData:Yv,tableHeader:Yv,tableRow:PI},exit:{codeText:NI,table:TI,tableData:zd,tableHeader:zd,tableRow:zd}}}function jI(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function TI(e){this.exit(e),this.data.inTable=void 0}function PI(e){this.enter({type:"tableRow",children:[]},e)}function zd(e){this.exit(e)}function Yv(e){this.enter({type:"tableCell",children:[]},e)}function NI(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,RI));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function RI(e,t){return t==="|"?t:e}function II(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:a,tableCell:d,tableRow:c}};function a(y,b,k,E){return f(m(y,k,E),y.align)}function c(y,b,k,E){const T=p(y,k,E),R=f([T]);return R.slice(0,R.indexOf(`
`))}function d(y,b,k,E){const T=k.enter("tableCell"),R=k.enter("phrasing"),N=k.containerPhrasing(y,{...E,before:l,after:l});return R(),T(),N}function f(y,b){return qR(y,{align:b,alignDelimiters:r,padding:n,stringLength:o})}function m(y,b,k){const E=y.children;let T=-1;const R=[],N=b.enter("table");for(;++T<E.length;)R[T]=p(E[T],b,k);return N(),R}function p(y,b,k){const E=y.children;let T=-1;const R=[],N=b.enter("tableRow");for(;++T<E.length;)R[T]=d(E[T],y,b,k);return N(),R}function v(y,b,k){let E=x0.inlineCode(y,b,k);return k.stack.includes("tableCell")&&(E=E.replace(/\|/g,"\\$&")),E}}function OI(){return{exit:{taskListCheckValueChecked:Gv,taskListCheckValueUnchecked:Gv,paragraph:DI}}}function AI(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:LI}}}function Gv(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function DI(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let l=-1,a;for(;++l<o.length;){const c=o[l];if(c.type==="paragraph"){a=c;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function LI(e,t,n,r){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);l&&c.move(a);let d=x0.listItem(e,t,n,{...r,...c.current()});return l&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(m){return m+a}}function MI(){return[mR(),LR(),zR(),CI(),OI()]}function $I(e){return{extensions:[gR(),MR(e),UR(),II(e),AI()]}}const FI={tokenize:VI,partial:!0},b0={tokenize:qI,partial:!0},k0={tokenize:KI,partial:!0},S0={tokenize:YI,partial:!0},zI={tokenize:GI,partial:!0},_0={name:"wwwAutolink",tokenize:WI,previous:C0},E0={name:"protocolAutolink",tokenize:HI,previous:j0},Er={name:"emailAutolink",tokenize:BI,previous:T0},or={};function UI(){return{text:or}}let ji=48;for(;ji<123;)or[ji]=Er,ji++,ji===58?ji=65:ji===91&&(ji=97);or[43]=Er;or[45]=Er;or[46]=Er;or[95]=Er;or[72]=[Er,E0];or[104]=[Er,E0];or[87]=[Er,_0];or[119]=[Er,_0];function BI(e,t,n){const r=this;let o,l;return a;function a(p){return!Pf(p)||!T0.call(r,r.previous)||fh(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(p))}function c(p){return Pf(p)?(e.consume(p),c):p===64?(e.consume(p),d):n(p)}function d(p){return p===46?e.check(zI,m,f)(p):p===45||p===95||At(p)?(l=!0,e.consume(p),d):m(p)}function f(p){return e.consume(p),o=!0,d}function m(p){return l&&o&&zt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function WI(e,t,n){const r=this;return o;function o(a){return a!==87&&a!==119||!C0.call(r,r.previous)||fh(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(FI,e.attempt(b0,e.attempt(k0,l),n),n)(a))}function l(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function HI(e,t,n){const r=this;let o="",l=!1;return a;function a(p){return(p===72||p===104)&&j0.call(r,r.previous)&&!fh(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(p),e.consume(p),c):n(p)}function c(p){if(zt(p)&&o.length<5)return o+=String.fromCodePoint(p),e.consume(p),c;if(p===58){const v=o.toLowerCase();if(v==="http"||v==="https")return e.consume(p),d}return n(p)}function d(p){return p===47?(e.consume(p),l?f:(l=!0,d)):n(p)}function f(p){return p===null||Ka(p)||ze(p)||Li(p)||gu(p)?n(p):e.attempt(b0,e.attempt(k0,m),n)(p)}function m(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function VI(e,t,n){let r=0;return o;function o(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),o):a===46&&r===3?(e.consume(a),l):n(a)}function l(a){return a===null?n(a):t(a)}}function qI(e,t,n){let r,o,l;return a;function a(f){return f===46||f===95?e.check(S0,d,c)(f):f===null||ze(f)||Li(f)||f!==45&&gu(f)?d(f):(l=!0,e.consume(f),a)}function c(f){return f===95?r=!0:(o=r,r=void 0),e.consume(f),a}function d(f){return o||r||!l?n(f):t(f)}}function KI(e,t){let n=0,r=0;return o;function o(a){return a===40?(n++,e.consume(a),o):a===41&&r<n?l(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(S0,t,l)(a):a===null||ze(a)||Li(a)?t(a):(e.consume(a),o)}function l(a){return a===41&&r++,e.consume(a),o}}function YI(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),l):c===93?(e.consume(c),o):c===60||c===null||ze(c)||Li(c)?t(c):n(c)}function o(c){return c===null||c===40||c===91||ze(c)||Li(c)?t(c):r(c)}function l(c){return zt(c)?a(c):n(c)}function a(c){return c===59?(e.consume(c),r):zt(c)?(e.consume(c),a):n(c)}}function GI(e,t,n){return r;function r(l){return e.consume(l),o}function o(l){return At(l)?n(l):t(l)}}function C0(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ze(e)}function j0(e){return!zt(e)}function T0(e){return!(e===47||Pf(e))}function Pf(e){return e===43||e===45||e===46||e===95||At(e)}function fh(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const JI={tokenize:iO,partial:!0};function QI(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tO,continuation:{tokenize:nO},exit:rO}},text:{91:{name:"gfmFootnoteCall",tokenize:eO},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:XI,resolveTo:ZI}}}}function XI(e,t,n){const r=this;let o=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;o--;){const d=r.events[o][1];if(d.type==="labelImage"){a=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!a||!a._balanced)return n(d);const f=Bn(r.sliceSerialize({start:a.end,end:r.now()}));return f.codePointAt(0)!==94||!l.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function ZI(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",l,t],["enter",a,t],["exit",a,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function eO(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,a;return c;function c(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),d}function d(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(l>999||p===93&&!a||p===null||p===91||ze(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return o.includes(Bn(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return ze(p)||(a=!0),l++,e.consume(p),p===92?m:f}function m(p){return p===91||p===92||p===93?(e.consume(p),l++,f):f(p)}}function tO(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,a=0,c;return d;function d(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",m):n(b)}function m(b){if(a>999||b===93&&!c||b===null||b===91||ze(b))return n(b);if(b===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return l=Bn(r.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return ze(b)||(c=!0),a++,e.consume(b),b===92?p:m}function p(b){return b===91||b===92||b===93?(e.consume(b),a++,m):m(b)}function v(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),o.includes(l)||o.push(l),Ae(e,y,"gfmFootnoteDefinitionWhitespace")):n(b)}function y(b){return t(b)}}function nO(e,t,n){return e.check(al,t,e.attempt(JI,t,n))}function rO(e){e.exit("gfmFootnoteDefinition")}function iO(e,t,n){const r=this;return Ae(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(l):n(l)}}function sO(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(a,c){let d=-1;for(;++d<a.length;)if(a[d][0]==="enter"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._close){let f=d;for(;f--;)if(a[f][0]==="exit"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._open&&a[d][1].end.offset-a[d][1].start.offset===a[f][1].end.offset-a[f][1].start.offset){a[d][1].type="strikethroughSequence",a[f][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},a[f][1].start),end:Object.assign({},a[d][1].end)},p={type:"strikethroughText",start:Object.assign({},a[f][1].end),end:Object.assign({},a[d][1].start)},v=[["enter",m,c],["enter",a[f][1],c],["exit",a[f][1],c],["enter",p,c]],y=c.parser.constructs.insideSpan.null;y&&dn(v,v.length,0,vu(y,a.slice(f+1,d),c)),dn(v,v.length,0,[["exit",p,c],["enter",a[d][1],c],["exit",a[d][1],c],["exit",m,c]]),dn(a,f-1,d-f+3,v),d=f+v.length-2;break}}for(d=-1;++d<a.length;)a[d][1].type==="strikethroughSequenceTemporary"&&(a[d][1].type="data");return a}function l(a,c,d){const f=this.previous,m=this.events;let p=0;return v;function v(b){return f===126&&m[m.length-1][1].type!=="characterEscape"?d(b):(a.enter("strikethroughSequenceTemporary"),y(b))}function y(b){const k=Is(f);if(b===126)return p>1?d(b):(a.consume(b),p++,y);if(p<2&&!n)return d(b);const E=a.exit("strikethroughSequenceTemporary"),T=Is(b);return E._open=!T||T===2&&!!k,E._close=!k||k===2&&!!T,c(b)}}}class oO{constructor(){this.map=[]}add(t,n,r){lO(this,t,n,r)}consume(t){if(this.map.sort(function(l,a){return l[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const l of o)t.push(l);o=r.pop()}this.map.length=0}}function lO(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function aO(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function uO(){return{flow:{null:{name:"table",tokenize:cO,resolveAll:dO}}}}function cO(e,t,n){const r=this;let o=0,l=0,a;return c;function c(I){let z=r.events.length-1;for(;z>-1;){const K=r.events[z][1].type;if(K==="lineEnding"||K==="linePrefix")z--;else break}const U=z>-1?r.events[z][1].type:null,Z=U==="tableHead"||U==="tableRow"?j:d;return Z===j&&r.parser.lazy[r.now().line]?n(I):Z(I)}function d(I){return e.enter("tableHead"),e.enter("tableRow"),f(I)}function f(I){return I===124||(a=!0,l+=1),m(I)}function m(I){return I===null?n(I):_e(I)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),y):n(I):Ie(I)?Ae(e,m,"whitespace")(I):(l+=1,a&&(a=!1,o+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),a=!0,m):(e.enter("data"),p(I)))}function p(I){return I===null||I===124||ze(I)?(e.exit("data"),m(I)):(e.consume(I),I===92?v:p)}function v(I){return I===92||I===124?(e.consume(I),p):p(I)}function y(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(e.enter("tableDelimiterRow"),a=!1,Ie(I)?Ae(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):b(I))}function b(I){return I===45||I===58?E(I):I===124?(a=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),k):H(I)}function k(I){return Ie(I)?Ae(e,E,"whitespace")(I):E(I)}function E(I){return I===58?(l+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),T):I===45?(l+=1,T(I)):I===null||_e(I)?L(I):H(I)}function T(I){return I===45?(e.enter("tableDelimiterFiller"),R(I)):H(I)}function R(I){return I===45?(e.consume(I),R):I===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(I))}function N(I){return Ie(I)?Ae(e,L,"whitespace")(I):L(I)}function L(I){return I===124?b(I):I===null||_e(I)?!a||o!==l?H(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(I)):H(I)}function H(I){return n(I)}function j(I){return e.enter("tableRow"),$(I)}function $(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),$):I===null||_e(I)?(e.exit("tableRow"),t(I)):Ie(I)?Ae(e,$,"whitespace")(I):(e.enter("data"),J(I))}function J(I){return I===null||I===124||ze(I)?(e.exit("data"),$(I)):(e.consume(I),I===92?F:J)}function F(I){return I===92||I===124?(e.consume(I),J):J(I)}}function dO(e,t){let n=-1,r=!0,o=0,l=[0,0,0,0],a=[0,0,0,0],c=!1,d=0,f,m,p;const v=new oO;for(;++n<e.length;){const y=e[n],b=y[1];y[0]==="enter"?b.type==="tableHead"?(c=!1,d!==0&&(Jv(v,t,d,f,m),m=void 0,d=0),f={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(n,0,[["enter",f,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,p=void 0,l=[0,0,0,0],a=[0,n+1,0,0],c&&(c=!1,m={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(n,0,[["enter",m,t]])),o=b.type==="tableDelimiterRow"?2:m?3:1):o&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(l[1]!==0&&(a[0]=a[1],p=Na(v,t,l,o,void 0,p),l=[0,0,0,0]),a[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(a[0]=a[1],p=Na(v,t,l,o,void 0,p)),l=a,a=[l[1],n,0,0])):b.type==="tableHead"?(c=!0,d=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(d=n,l[1]!==0?(a[0]=a[1],p=Na(v,t,l,o,n,p)):a[1]!==0&&(p=Na(v,t,a,o,n,p)),o=0):o&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(a[3]=n)}for(d!==0&&Jv(v,t,d,f,m),v.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=aO(t.events,n))}return e}function Na(e,t,n,r,o,l){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(l.end=Object.assign({},Es(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const d=Es(t.events,n[1]);if(l={type:a,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const f=Es(t.events,n[2]),m=Es(t.events,n[3]),p={type:c,start:Object.assign({},f),end:Object.assign({},m)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const v=t.events[n[2]],y=t.events[n[3]];if(v[1].end=Object.assign({},y[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,k=n[3]-n[2]-1;e.add(b,k,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return o!==void 0&&(l.end=Object.assign({},Es(t.events,o)),e.add(o,0,[["exit",l,t]]),l=void 0),l}function Jv(e,t,n,r,o){const l=[],a=Es(t.events,n);o&&(o.end=Object.assign({},a),l.push(["exit",o,t])),r.end=Object.assign({},a),l.push(["exit",r,t]),e.add(n+1,0,l)}function Es(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const fO={name:"tasklistCheck",tokenize:pO};function hO(){return{text:{91:fO}}}function pO(e,t,n){const r=this;return o;function o(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),l)}function l(d){return ze(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),a):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),a):n(d)}function a(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return _e(d)?t(d):Ie(d)?e.check({tokenize:mO},t,n)(d):n(d)}}function mO(e,t,n){return Ae(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function gO(e){return Fw([UI(),QI(),sO(e),uO(),hO()])}const vO={};function yO(e){const t=this,n=e||vO,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(gO(n)),l.push(MI()),a.push($I(n))}const wO={a:e=>x.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:"_blank",rel:"noreferrer"})};function Xo({content:e}){return e?x.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:x.jsx(sR,{remarkPlugins:[yO],components:wO,children:e})}):null}function xO(e){return ot(e).locale("es").format("dddd, D [de] MMMM")}function bO(){const e=Ne(j=>j.sessions),t=Ne(j=>j.works),n=Ne(j=>j.objectives),r=Ne(j=>j.toggleSessionWorkCompletion),[o,l]=_.useState(new Set),a=_.useMemo(()=>[...e].sort((j,$)=>ot(j.date).valueOf()-ot($.date).valueOf()),[e]),c=ot().format("YYYY-MM-DD"),d=_.useMemo(()=>a.find(j=>j.date>=c)??a[a.length-1],[a,c]),[f,m]=_.useState(d==null?void 0:d.id);_.useEffect(()=>{!f&&d&&m(d.id)},[f,d]);const p=_.useMemo(()=>a.find(j=>j.id===f)??d,[a,f,d]),v=_.useMemo(()=>new Map(n.map($=>[$.id,$])),[n]),y=_.useMemo(()=>new Map(t.map($=>[$.id,$])),[t]),b=p?a.findIndex(j=>j.id===p.id):-1,k=b>0,E=b>=0&&b<a.length-1,T=()=>{k&&m(a[b-1].id)},R=()=>{E&&m(a[b+1].id)},N=j=>{const $=j.target.value;if(!$)return;const J=a.find(F=>F.date===$);J&&m(J.id)},L=a.length===0,H=j=>{l($=>{const J=new Set($);return J.has(j)?J.delete(j):J.add(j),J})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Próxima sesión"}),x.jsx("p",{className:"text-white/60",children:"Revisa la sesión que toca ahora y marca los trabajos que completes en tiempo real."})]}),a.length>0&&x.jsxs("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Ir a fecha"}),x.jsx("input",{type:"date",className:"input-field w-auto",value:(p==null?void 0:p.date)??c,onChange:N})]})]}),x.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[x.jsx("button",{type:"button",onClick:T,disabled:!k,className:"btn-secondary disabled:opacity-40",children:"← Anterior"}),x.jsx("button",{type:"button",onClick:R,disabled:!E,className:"btn-secondary disabled:opacity-40",children:"Siguiente →"}),x.jsx(Oa,{to:"/plan",className:"btn-primary",children:"Abrir planificador"}),p&&x.jsx(Oa,{to:`/plan?session=${p.id}`,className:"btn-secondary",children:"Editar sesión"})]})]}),L&&x.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-6 p-10 text-center",children:[x.jsx("div",{className:"grid h-32 w-32 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20",children:x.jsx("svg",{width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",className:"text-white/80",children:x.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:"Todavía no hay sesiones"}),x.jsx("p",{className:"max-w-md text-balance text-white/60",children:"Usa el planificador para crear tu primera sesión. Una vez guardada aparecerá aquí automáticamente."})]}),x.jsx(Oa,{to:"/plan",className:"btn-primary",children:"Planificar sesión"})]}),p&&!L&&x.jsxs("section",{className:"glass-panel space-y-6 p-6 sm:p-8",children:[x.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Fecha"}),x.jsx("h2",{className:"font-display text-3xl font-semibold text-white",children:xO(p.date)}),x.jsx("p",{className:"mt-1 text-lg font-medium text-white/80",children:p.title})]}),x.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70",children:[x.jsx("p",{className:"font-semibold text-white",children:"Duración estimada"}),x.jsxs("p",{children:[p.workItems.map(j=>{const $=y.get(j.workId);return j.customDurationMinutes??($==null?void 0:$.estimatedMinutes)??0}).reduce((j,$)=>j+$,0)," ","minutos"]})]})]}),p.description&&x.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-4",children:x.jsx(Xo,{content:p.description})}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),x.jsx("div",{className:"space-y-4",children:p.workItems.map(j=>{var I,z;const $=y.get(j.workId),J=$?v.get($.objectiveId):void 0,F=o.has(j.id);return x.jsxs("article",{className:"flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-4 shadow shadow-black/20",style:J?{background:`linear-gradient(120deg, ${J.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:x.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:j.completed??!1,onChange:U=>r(p.id,j.id,U.target.checked)})}),x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:($==null?void 0:$.name)??"Trabajo eliminado"}),x.jsxs("p",{className:"text-sm text-white/60",children:[j.customDurationMinutes??($==null?void 0:$.estimatedMinutes)??0," min"]})]}),x.jsx(si,{objective:J,size:"sm"})]}),x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[x.jsxs("button",{type:"button",onClick:()=>H(j.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:Ut("transition-transform",F?"rotate-90":"rotate-0"),children:"▶"}),F?"Ocultar detalles":"Ver detalles"]}),(I=$==null?void 0:$.videoUrls)!=null&&I.length?x.jsxs("span",{children:[$.videoUrls.length," vídeo",$.videoUrls.length>1?"s":""]}):null]})]}),x.jsx("div",{className:Ut("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",j.completed?"bg-white/20 text-white":""),children:j.order+1})]}),F&&x.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[x.jsx(Xo,{content:j.customDescriptionMarkdown??($==null?void 0:$.descriptionMarkdown)}),(z=$==null?void 0:$.videoUrls)!=null&&z.length?x.jsx("div",{className:"flex flex-wrap gap-2",children:$.videoUrls.map(U=>x.jsxs("a",{href:U,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:"▶"}),"Ver vídeo"]},U))}):null]})]},j.id)})})]})]})]})}function kO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const bu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function hh(e){return"nodeType"in e}function tn(e){var t,n;return e?Fs(e)?e:hh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ph(e){const{Document:t}=tn(e);return e instanceof t}function cl(e){return Fs(e)?!1:e instanceof tn(e).HTMLElement}function P0(e){return e instanceof tn(e).SVGElement}function zs(e){return e?Fs(e)?e.document:hh(e)?ph(e)?e:cl(e)||P0(e)?e.ownerDocument:document:document:document}const ir=bu?_.useLayoutEffect:_.useEffect;function mh(e){const t=_.useRef(e);return ir(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function SO(){const e=_.useRef(null),t=_.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Zo(e,t){t===void 0&&(t=[e]);const n=_.useRef(e);return ir(()=>{n.current!==e&&(n.current=e)},t),n}function dl(e,t){const n=_.useRef();return _.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Qa(e){const t=mh(e),n=_.useRef(null),r=_.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function Nf(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let Ud={};function fl(e,t){return _.useMemo(()=>{if(t)return t;const n=Ud[e]==null?0:Ud[e]+1;return Ud[e]=n,e+"-"+n},[e,t])}function N0(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((l,a)=>{const c=Object.entries(a);for(const[d,f]of c){const m=l[d];m!=null&&(l[d]=m+e*f)}return l},{...t})}}const Ps=N0(1),Xa=N0(-1);function _O(e){return"clientX"in e&&"clientY"in e}function gh(e){if(!e)return!1;const{KeyboardEvent:t}=tn(e.target);return t&&e instanceof t}function EO(e){if(!e)return!1;const{TouchEvent:t}=tn(e.target);return t&&e instanceof t}function Rf(e){if(EO(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return _O(e)?{x:e.clientX,y:e.clientY}:null}const el=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[el.Translate.toString(e),el.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Qv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function CO(e){return e.matches(Qv)?e:e.querySelector(Qv)}const jO={display:"none"};function TO(e){let{id:t,value:n}=e;return me.createElement("div",{id:t,style:jO},n)}function PO(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return me.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function NO(){const[e,t]=_.useState("");return{announce:_.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const R0=_.createContext(null);function RO(e){const t=_.useContext(R0);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function IO(){const[e]=_.useState(()=>new Set),t=_.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[_.useCallback(r=>{let{type:o,event:l}=r;e.forEach(a=>{var c;return(c=a[o])==null?void 0:c.call(a,l)})},[e]),t]}const OO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},AO={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function DO(e){let{announcements:t=AO,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=OO}=e;const{announce:l,announcement:a}=NO(),c=fl("DndLiveRegion"),[d,f]=_.useState(!1);if(_.useEffect(()=>{f(!0)},[]),RO(_.useMemo(()=>({onDragStart(p){let{active:v}=p;l(t.onDragStart({active:v}))},onDragMove(p){let{active:v,over:y}=p;t.onDragMove&&l(t.onDragMove({active:v,over:y}))},onDragOver(p){let{active:v,over:y}=p;l(t.onDragOver({active:v,over:y}))},onDragEnd(p){let{active:v,over:y}=p;l(t.onDragEnd({active:v,over:y}))},onDragCancel(p){let{active:v,over:y}=p;l(t.onDragCancel({active:v,over:y}))}}),[l,t])),!d)return null;const m=me.createElement(me.Fragment,null,me.createElement(TO,{id:r,value:o.draggable}),me.createElement(PO,{id:c,announcement:a}));return n?Cs.createPortal(m,n):m}var mt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(mt||(mt={}));function Za(){}const Wn=Object.freeze({x:0,y:0});function LO(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function MO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function $O(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function FO(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Xv(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const zO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Xv(t,t.left,t.top),l=[];for(const a of r){const{id:c}=a,d=n.get(c);if(d){const f=LO(Xv(d),o);l.push({id:c,data:{droppableContainer:a,value:f}})}}return l.sort(MO)};function UO(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),a=o-r,c=l-n;if(r<o&&n<l){const d=t.width*t.height,f=e.width*e.height,m=a*c,p=m/(d+f-m);return Number(p.toFixed(4))}return 0}const BO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const l of r){const{id:a}=l,c=n.get(a);if(c){const d=UO(c,t);d>0&&o.push({id:a,data:{droppableContainer:l,value:d}})}}return o.sort($O)};function WO(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function I0(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Wn}function HO(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return o.reduce((a,c)=>({...a,top:a.top+e*c.y,bottom:a.bottom+e*c.y,left:a.left+e*c.x,right:a.right+e*c.x}),{...n})}}const VO=HO(1);function qO(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function KO(e,t,n){const r=qO(t);if(!r)return e;const{scaleX:o,scaleY:l,x:a,y:c}=r,d=e.left-a-(1-o)*parseFloat(n),f=e.top-c-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),m=o?e.width/o:e.width,p=l?e.height/l:e.height;return{width:m,height:p,top:f,right:d+m,bottom:f+p,left:d}}const YO={ignoreTransform:!1};function Us(e,t){t===void 0&&(t=YO);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:m}=tn(e).getComputedStyle(e);f&&(n=KO(n,f,m))}const{top:r,left:o,width:l,height:a,bottom:c,right:d}=n;return{top:r,left:o,width:l,height:a,bottom:c,right:d}}function Zv(e){return Us(e,{ignoreTransform:!0})}function GO(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function JO(e,t){return t===void 0&&(t=tn(e).getComputedStyle(e)),t.position==="fixed"}function QO(e,t){t===void 0&&(t=tn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const l=t[o];return typeof l=="string"?n.test(l):!1})}function vh(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(ph(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!cl(o)||P0(o)||n.includes(o))return n;const l=tn(e).getComputedStyle(o);return o!==e&&QO(o,l)&&n.push(o),JO(o,l)?n:r(o.parentNode)}return e?r(e):n}function O0(e){const[t]=vh(e,1);return t??null}function Bd(e){return!bu||!e?null:Fs(e)?e:hh(e)?ph(e)||e===zs(e).scrollingElement?window:cl(e)?e:null:null}function A0(e){return Fs(e)?e.scrollX:e.scrollLeft}function D0(e){return Fs(e)?e.scrollY:e.scrollTop}function If(e){return{x:A0(e),y:D0(e)}}var bt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(bt||(bt={}));function L0(e){return!bu||!e?!1:e===document.scrollingElement}function M0(e){const t={x:0,y:0},n=L0(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,c=e.scrollLeft>=r.x;return{isTop:o,isLeft:l,isBottom:a,isRight:c,maxScroll:r,minScroll:t}}const XO={x:.2,y:.2};function ZO(e,t,n,r,o){let{top:l,left:a,right:c,bottom:d}=n;r===void 0&&(r=10),o===void 0&&(o=XO);const{isTop:f,isBottom:m,isLeft:p,isRight:v}=M0(e),y={x:0,y:0},b={x:0,y:0},k={height:t.height*o.y,width:t.width*o.x};return!f&&l<=t.top+k.height?(y.y=bt.Backward,b.y=r*Math.abs((t.top+k.height-l)/k.height)):!m&&d>=t.bottom-k.height&&(y.y=bt.Forward,b.y=r*Math.abs((t.bottom-k.height-d)/k.height)),!v&&c>=t.right-k.width?(y.x=bt.Forward,b.x=r*Math.abs((t.right-k.width-c)/k.width)):!p&&a<=t.left+k.width&&(y.x=bt.Backward,b.x=r*Math.abs((t.left+k.width-a)/k.width)),{direction:y,speed:b}}function eA(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:a}=window;return{top:0,left:0,right:l,bottom:a,width:l,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function $0(e){return e.reduce((t,n)=>Ps(t,If(n)),Wn)}function tA(e){return e.reduce((t,n)=>t+A0(n),0)}function nA(e){return e.reduce((t,n)=>t+D0(n),0)}function rA(e,t){if(t===void 0&&(t=Us),!e)return;const{top:n,left:r,bottom:o,right:l}=t(e);O0(e)&&(o<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const iA=[["x",["left","right"],tA],["y",["top","bottom"],nA]];class yh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=vh(n),o=$0(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,a,c]of iA)for(const d of a)Object.defineProperty(this,d,{get:()=>{const f=c(r),m=o[l]-f;return this.rect[d]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Wo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function sA(e){const{EventTarget:t}=tn(e);return e instanceof t?e:zs(e)}function Wd(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var _n;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(_n||(_n={}));function ey(e){e.preventDefault()}function oA(e){e.stopPropagation()}var Me;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Me||(Me={}));const F0={start:[Me.Space,Me.Enter],cancel:[Me.Esc],end:[Me.Space,Me.Enter,Me.Tab]},lA=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Me.Right:return{...n,x:n.x+25};case Me.Left:return{...n,x:n.x-25};case Me.Down:return{...n,y:n.y+25};case Me.Up:return{...n,y:n.y-25}}};class z0{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Wo(zs(n)),this.windowListeners=new Wo(tn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(_n.Resize,this.handleCancel),this.windowListeners.add(_n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(_n.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&rA(r),n(Wn)}handleKeyDown(t){if(gh(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:l=F0,coordinateGetter:a=lA,scrollBehavior:c="smooth"}=o,{code:d}=t;if(l.end.includes(d)){this.handleEnd(t);return}if(l.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=r.current,m=f?{x:f.left,y:f.top}:Wn;this.referenceCoordinates||(this.referenceCoordinates=m);const p=a(t,{active:n,context:r.current,currentCoordinates:m});if(p){const v=Xa(p,m),y={x:0,y:0},{scrollableAncestors:b}=r.current;for(const k of b){const E=t.code,{isTop:T,isRight:R,isLeft:N,isBottom:L,maxScroll:H,minScroll:j}=M0(k),$=eA(k),J={x:Math.min(E===Me.Right?$.right-$.width/2:$.right,Math.max(E===Me.Right?$.left:$.left+$.width/2,p.x)),y:Math.min(E===Me.Down?$.bottom-$.height/2:$.bottom,Math.max(E===Me.Down?$.top:$.top+$.height/2,p.y))},F=E===Me.Right&&!R||E===Me.Left&&!N,I=E===Me.Down&&!L||E===Me.Up&&!T;if(F&&J.x!==p.x){const z=k.scrollLeft+v.x,U=E===Me.Right&&z<=H.x||E===Me.Left&&z>=j.x;if(U&&!v.y){k.scrollTo({left:z,behavior:c});return}U?y.x=k.scrollLeft-z:y.x=E===Me.Right?k.scrollLeft-H.x:k.scrollLeft-j.x,y.x&&k.scrollBy({left:-y.x,behavior:c});break}else if(I&&J.y!==p.y){const z=k.scrollTop+v.y,U=E===Me.Down&&z<=H.y||E===Me.Up&&z>=j.y;if(U&&!v.x){k.scrollTo({top:z,behavior:c});return}U?y.y=k.scrollTop-z:y.y=E===Me.Down?k.scrollTop-H.y:k.scrollTop-j.y,y.y&&k.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(t,Ps(Xa(p,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}z0.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=F0,onActivation:o}=t,{active:l}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const c=l.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function ty(e){return!!(e&&"distance"in e)}function ny(e){return!!(e&&"delay"in e)}class wh{constructor(t,n,r){var o;r===void 0&&(r=sA(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:a}=l;this.props=t,this.events=n,this.document=zs(a),this.documentListeners=new Wo(this.document),this.listeners=new Wo(r),this.windowListeners=new Wo(tn(a)),this.initialCoordinates=(o=Rf(l))!=null?o:Wn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(_n.Resize,this.handleCancel),this.windowListeners.add(_n.DragStart,ey),this.windowListeners.add(_n.VisibilityChange,this.handleCancel),this.windowListeners.add(_n.ContextMenu,ey),this.documentListeners.add(_n.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ny(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ty(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(_n.Click,oA,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(_n.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:l}=this,{onMove:a,options:{activationConstraint:c}}=l;if(!o)return;const d=(n=Rf(t))!=null?n:Wn,f=Xa(o,d);if(!r&&c){if(ty(c)){if(c.tolerance!=null&&Wd(f,c.tolerance))return this.handleCancel();if(Wd(f,c.distance))return this.handleStart()}if(ny(c)&&Wd(f,c.tolerance))return this.handleCancel();this.handlePending(c,f);return}t.cancelable&&t.preventDefault(),a(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Me.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const aA={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class U0 extends wh{constructor(t){const{event:n}=t,r=zs(n.target);super(t,aA,r)}}U0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const uA={move:{name:"mousemove"},end:{name:"mouseup"}};var Of;(function(e){e[e.RightClick=2]="RightClick"})(Of||(Of={}));class cA extends wh{constructor(t){super(t,uA,zs(t.event.target))}}cA.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Of.RightClick?!1:(r==null||r({event:n}),!0)}}];const Hd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class dA extends wh{constructor(t){super(t,Hd)}static setup(){return window.addEventListener(Hd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Hd.move.name,t)};function t(){}}}dA.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Ho;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ho||(Ho={}));var eu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(eu||(eu={}));function fA(e){let{acceleration:t,activator:n=Ho.Pointer,canScroll:r,draggingRect:o,enabled:l,interval:a=5,order:c=eu.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:m,delta:p,threshold:v}=e;const y=pA({delta:p,disabled:!l}),[b,k]=SO(),E=_.useRef({x:0,y:0}),T=_.useRef({x:0,y:0}),R=_.useMemo(()=>{switch(n){case Ho.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Ho.DraggableRect:return o}},[n,o,d]),N=_.useRef(null),L=_.useCallback(()=>{const j=N.current;if(!j)return;const $=E.current.x*T.current.x,J=E.current.y*T.current.y;j.scrollBy($,J)},[]),H=_.useMemo(()=>c===eu.TreeOrder?[...f].reverse():f,[c,f]);_.useEffect(()=>{if(!l||!f.length||!R){k();return}for(const j of H){if((r==null?void 0:r(j))===!1)continue;const $=f.indexOf(j),J=m[$];if(!J)continue;const{direction:F,speed:I}=ZO(j,J,R,t,v);for(const z of["x","y"])y[z][F[z]]||(I[z]=0,F[z]=0);if(I.x>0||I.y>0){k(),N.current=j,b(L,a),E.current=I,T.current=F;return}}E.current={x:0,y:0},T.current={x:0,y:0},k()},[t,L,r,k,l,a,JSON.stringify(R),JSON.stringify(y),b,f,H,m,JSON.stringify(v)])}const hA={x:{[bt.Backward]:!1,[bt.Forward]:!1},y:{[bt.Backward]:!1,[bt.Forward]:!1}};function pA(e){let{delta:t,disabled:n}=e;const r=Nf(t);return dl(o=>{if(n||!r||!o)return hA;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[bt.Backward]:o.x[bt.Backward]||l.x===-1,[bt.Forward]:o.x[bt.Forward]||l.x===1},y:{[bt.Backward]:o.y[bt.Backward]||l.y===-1,[bt.Forward]:o.y[bt.Forward]||l.y===1}}},[n,t,r])}function mA(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return dl(o=>{var l;return t==null?null:(l=r??o)!=null?l:null},[r,t])}function gA(e,t){return _.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,l=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...l]},[]),[e,t])}var tl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(tl||(tl={}));var Af;(function(e){e.Optimized="optimized"})(Af||(Af={}));const ry=new Map;function vA(e,t){let{dragging:n,dependencies:r,config:o}=t;const[l,a]=_.useState(null),{frequency:c,measure:d,strategy:f}=o,m=_.useRef(e),p=E(),v=Zo(p),y=_.useCallback(function(T){T===void 0&&(T=[]),!v.current&&a(R=>R===null?T:R.concat(T.filter(N=>!R.includes(N))))},[v]),b=_.useRef(null),k=dl(T=>{if(p&&!n)return ry;if(!T||T===ry||m.current!==e||l!=null){const R=new Map;for(let N of e){if(!N)continue;if(l&&l.length>0&&!l.includes(N.id)&&N.rect.current){R.set(N.id,N.rect.current);continue}const L=N.node.current,H=L?new yh(d(L),L):null;N.rect.current=H,H&&R.set(N.id,H)}return R}return T},[e,l,n,p,d]);return _.useEffect(()=>{m.current=e},[e]),_.useEffect(()=>{p||y()},[n,p]),_.useEffect(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),_.useEffect(()=>{p||typeof c!="number"||b.current!==null||(b.current=setTimeout(()=>{y(),b.current=null},c))},[c,p,y,...r]),{droppableRects:k,measureDroppableContainers:y,measuringScheduled:l!=null};function E(){switch(f){case tl.Always:return!1;case tl.BeforeDragging:return n;default:return!n}}}function B0(e,t){return dl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function yA(e,t){return B0(e,t)}function wA(e){let{callback:t,disabled:n}=e;const r=mh(t),o=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return _.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function ku(e){let{callback:t,disabled:n}=e;const r=mh(t),o=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return _.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function xA(e){return new yh(Us(e),e)}function iy(e,t,n){t===void 0&&(t=xA);const[r,o]=_.useState(null);function l(){o(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const m=t(e);return JSON.stringify(d)===JSON.stringify(m)?d:m})}const a=wA({callback(d){if(e)for(const f of d){const{type:m,target:p}=f;if(m==="childList"&&p instanceof HTMLElement&&p.contains(e)){l();break}}}}),c=ku({callback:l});return ir(()=>{l(),e?(c==null||c.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),a==null||a.disconnect())},[e]),r}function bA(e){const t=B0(e);return I0(e,t)}const sy=[];function kA(e){const t=_.useRef(e),n=dl(r=>e?r&&r!==sy&&e&&t.current&&e.parentNode===t.current.parentNode?r:vh(e):sy,[e]);return _.useEffect(()=>{t.current=e},[e]),n}function SA(e){const[t,n]=_.useState(null),r=_.useRef(e),o=_.useCallback(l=>{const a=Bd(l.target);a&&n(c=>c?(c.set(a,If(a)),new Map(c)):null)},[]);return _.useEffect(()=>{const l=r.current;if(e!==l){a(l);const c=e.map(d=>{const f=Bd(d);return f?(f.addEventListener("scroll",o,{passive:!0}),[f,If(f)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),r.current=e}return()=>{a(e),a(l)};function a(c){c.forEach(d=>{const f=Bd(d);f==null||f.removeEventListener("scroll",o)})}},[o,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,a)=>Ps(l,a),Wn):$0(e):Wn,[e,t])}function oy(e,t){t===void 0&&(t=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},t),_.useEffect(()=>{const r=e!==Wn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Xa(e,n.current):Wn}function _A(e){_.useEffect(()=>{if(!bu)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function EA(e,t){return _.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:l}=r;return n[o]=a=>{l(a,t)},n},{}),[e,t])}function W0(e){return _.useMemo(()=>e?GO(e):null,[e])}const ly=[];function CA(e,t){t===void 0&&(t=Us);const[n]=e,r=W0(n?tn(n):null),[o,l]=_.useState(ly);function a(){l(()=>e.length?e.map(d=>L0(d)?r:new yh(t(d),d)):ly)}const c=ku({callback:a});return ir(()=>{c==null||c.disconnect(),a(),e.forEach(d=>c==null?void 0:c.observe(d))},[e]),o}function jA(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return cl(t)?t:e}function TA(e){let{measure:t}=e;const[n,r]=_.useState(null),o=_.useCallback(f=>{for(const{target:m}of f)if(cl(m)){r(p=>{const v=t(m);return p?{...p,width:v.width,height:v.height}:v});break}},[t]),l=ku({callback:o}),a=_.useCallback(f=>{const m=jA(f);l==null||l.disconnect(),m&&(l==null||l.observe(m)),r(m?t(m):null)},[t,l]),[c,d]=Qa(a);return _.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const PA=[{sensor:U0,options:{}},{sensor:z0,options:{}}],NA={current:{}},Ma={draggable:{measure:Zv},droppable:{measure:Zv,strategy:tl.WhileDragging,frequency:Af.Optimized},dragOverlay:{measure:Us}};class Vo extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const RA={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Za},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ma,measureDroppableContainers:Za,windowRect:null,measuringScheduled:!1},IA={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Za,draggableNodes:new Map,over:null,measureDroppableContainers:Za},Su=_.createContext(IA),H0=_.createContext(RA);function OA(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vo}}}function AA(e,t){switch(t.type){case mt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case mt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case mt.DragEnd:case mt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case mt.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Vo(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case mt.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const a=new Vo(e.droppable.containers);return a.set(n,{...l,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case mt.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new Vo(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function DA(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=_.useContext(Su),l=Nf(r),a=Nf(n==null?void 0:n.id);return _.useEffect(()=>{if(!t&&!r&&l&&a!=null){if(!gh(l)||document.activeElement===l.target)return;const c=o.get(a);if(!c)return;const{activatorNode:d,node:f}=c;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const m of[d.current,f.current]){if(!m)continue;const p=CO(m);if(p){p.focus();break}}})}},[r,t,o,a,l]),null}function LA(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,l)=>l({transform:o,...r}),n):n}function MA(e){return _.useMemo(()=>({draggable:{...Ma.draggable,...e==null?void 0:e.draggable},droppable:{...Ma.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ma.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function $A(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const l=_.useRef(!1),{x:a,y:c}=typeof o=="boolean"?{x:o,y:o}:o;ir(()=>{if(!a&&!c||!t){l.current=!1;return}if(l.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const m=n(f),p=I0(m,r);if(a||(p.x=0),c||(p.y=0),l.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=O0(f);v&&v.scrollBy({top:p.y,left:p.x})}},[t,a,c,r,n])}const V0=_.createContext({...Wn,scaleX:1,scaleY:1});var Gr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Gr||(Gr={}));const FA=_.memo(function(t){var n,r,o,l;let{id:a,accessibility:c,autoScroll:d=!0,children:f,sensors:m=PA,collisionDetection:p=BO,measuring:v,modifiers:y,...b}=t;const k=_.useReducer(AA,void 0,OA),[E,T]=k,[R,N]=IO(),[L,H]=_.useState(Gr.Uninitialized),j=L===Gr.Initialized,{draggable:{active:$,nodes:J,translate:F},droppable:{containers:I}}=E,z=$!=null?J.get($):null,U=_.useRef({initial:null,translated:null}),Z=_.useMemo(()=>{var Ge;return $!=null?{id:$,data:(Ge=z==null?void 0:z.data)!=null?Ge:NA,rect:U}:null},[$,z]),K=_.useRef(null),[G,ee]=_.useState(null),[te,B]=_.useState(null),X=Zo(b,Object.values(b)),C=fl("DndDescribedBy",a),A=_.useMemo(()=>I.getEnabled(),[I]),V=MA(v),{droppableRects:P,measureDroppableContainers:ae,measuringScheduled:fe}=vA(A,{dragging:j,dependencies:[F.x,F.y],config:V.droppable}),ue=mA(J,$),Ee=_.useMemo(()=>te?Rf(te):null,[te]),ye=Cr(),we=yA(ue,V.draggable.measure);$A({activeNode:$!=null?J.get($):null,config:ye.layoutShiftCompensation,initialRect:we,measure:V.draggable.measure});const he=iy(ue,V.draggable.measure,we),Ke=iy(ue?ue.parentElement:null),nt=_.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:J,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),gt=I.getNodeFor((n=nt.current.over)==null?void 0:n.id),Lt=TA({measure:V.dragOverlay.measure}),fn=(r=Lt.nodeRef.current)!=null?r:ue,hn=j?(o=Lt.rect)!=null?o:he:null,lr=!!(Lt.nodeRef.current&&Lt.rect),ui=bA(lr?null:he),Hn=W0(fn?tn(fn):null),kt=kA(j?gt??ue:null),nn=CA(kt),Vn=LA(y,{transform:{x:F.x-ui.x,y:F.y-ui.y,scaleX:1,scaleY:1},activatorEvent:te,active:Z,activeNodeRect:he,containerNodeRect:Ke,draggingNodeRect:hn,over:nt.current.over,overlayNodeRect:Lt.rect,scrollableAncestors:kt,scrollableAncestorRects:nn,windowRect:Hn}),ci=Ee?Ps(Ee,F):null,di=SA(kt),zi=oy(di),Q=oy(di,[he]),oe=Ps(Vn,zi),xe=hn?VO(hn,Vn):null,je=Z&&xe?p({active:Z,collisionRect:xe,droppableRects:P,droppableContainers:A,pointerCoordinates:ci}):null,Oe=FO(je,"id"),[Ue,pn]=_.useState(null),Bt=lr?Vn:Ps(Vn,Q),qn=WO(Bt,(l=Ue==null?void 0:Ue.rect)!=null?l:null,he),jn=_.useRef(null),lt=_.useCallback((Ge,Ct)=>{let{sensor:jt,options:Tn}=Ct;if(K.current==null)return;const Mt=J.get(K.current);if(!Mt)return;const Tt=Ge.nativeEvent,Wt=new jt({active:K.current,activeNode:Mt,event:Tt,options:Tn,context:nt,onAbort(Je){if(!J.get(Je))return;const{onDragAbort:Pt}=X.current,Pn={id:Je};Pt==null||Pt(Pn),R({type:"onDragAbort",event:Pn})},onPending(Je,gn,Pt,Pn){if(!J.get(Je))return;const{onDragPending:Kn}=X.current,rn={id:Je,constraint:gn,initialCoordinates:Pt,offset:Pn};Kn==null||Kn(rn),R({type:"onDragPending",event:rn})},onStart(Je){const gn=K.current;if(gn==null)return;const Pt=J.get(gn);if(!Pt)return;const{onDragStart:Pn}=X.current,Nn={activatorEvent:Tt,active:{id:gn,data:Pt.data,rect:U}};Cs.unstable_batchedUpdates(()=>{Pn==null||Pn(Nn),H(Gr.Initializing),T({type:mt.DragStart,initialCoordinates:Je,active:gn}),R({type:"onDragStart",event:Nn}),ee(jn.current),B(Tt)})},onMove(Je){T({type:mt.DragMove,coordinates:Je})},onEnd:ar(mt.DragEnd),onCancel:ar(mt.DragCancel)});jn.current=Wt;function ar(Je){return async function(){const{active:Pt,collisions:Pn,over:Nn,scrollAdjustedTranslate:Kn}=nt.current;let rn=null;if(Pt&&Kn){const{cancelDrop:ur}=X.current;rn={activatorEvent:Tt,active:Pt,collisions:Pn,delta:Kn,over:Nn},Je===mt.DragEnd&&typeof ur=="function"&&await Promise.resolve(ur(rn))&&(Je=mt.DragCancel)}K.current=null,Cs.unstable_batchedUpdates(()=>{T({type:Je}),H(Gr.Uninitialized),pn(null),ee(null),B(null),jn.current=null;const ur=Je===mt.DragEnd?"onDragEnd":"onDragCancel";if(rn){const Hs=X.current[ur];Hs==null||Hs(rn),R({type:ur,event:rn})}})}}},[J]),mn=_.useCallback((Ge,Ct)=>(jt,Tn)=>{const Mt=jt.nativeEvent,Tt=J.get(Tn);if(K.current!==null||!Tt||Mt.dndKit||Mt.defaultPrevented)return;const Wt={active:Tt};Ge(jt,Ct.options,Wt)===!0&&(Mt.dndKit={capturedBy:Ct.sensor},K.current=Tn,lt(jt,Ct))},[J,lt]),Et=gA(m,mn);_A(m),ir(()=>{he&&L===Gr.Initializing&&H(Gr.Initialized)},[he,L]),_.useEffect(()=>{const{onDragMove:Ge}=X.current,{active:Ct,activatorEvent:jt,collisions:Tn,over:Mt}=nt.current;if(!Ct||!jt)return;const Tt={active:Ct,activatorEvent:jt,collisions:Tn,delta:{x:oe.x,y:oe.y},over:Mt};Cs.unstable_batchedUpdates(()=>{Ge==null||Ge(Tt),R({type:"onDragMove",event:Tt})})},[oe.x,oe.y]),_.useEffect(()=>{const{active:Ge,activatorEvent:Ct,collisions:jt,droppableContainers:Tn,scrollAdjustedTranslate:Mt}=nt.current;if(!Ge||K.current==null||!Ct||!Mt)return;const{onDragOver:Tt}=X.current,Wt=Tn.get(Oe),ar=Wt&&Wt.rect.current?{id:Wt.id,rect:Wt.rect.current,data:Wt.data,disabled:Wt.disabled}:null,Je={active:Ge,activatorEvent:Ct,collisions:jt,delta:{x:Mt.x,y:Mt.y},over:ar};Cs.unstable_batchedUpdates(()=>{pn(ar),Tt==null||Tt(Je),R({type:"onDragOver",event:Je})})},[Oe]),ir(()=>{nt.current={activatorEvent:te,active:Z,activeNode:ue,collisionRect:xe,collisions:je,droppableRects:P,draggableNodes:J,draggingNode:fn,draggingNodeRect:hn,droppableContainers:I,over:Ue,scrollableAncestors:kt,scrollAdjustedTranslate:oe},U.current={initial:hn,translated:xe}},[Z,ue,je,xe,J,fn,hn,P,I,Ue,kt,oe]),fA({...ye,delta:F,draggingRect:xe,pointerCoordinates:ci,scrollableAncestors:kt,scrollableAncestorRects:nn});const Bs=_.useMemo(()=>({active:Z,activeNode:ue,activeNodeRect:he,activatorEvent:te,collisions:je,containerNodeRect:Ke,dragOverlay:Lt,draggableNodes:J,droppableContainers:I,droppableRects:P,over:Ue,measureDroppableContainers:ae,scrollableAncestors:kt,scrollableAncestorRects:nn,measuringConfiguration:V,measuringScheduled:fe,windowRect:Hn}),[Z,ue,he,te,je,Ke,Lt,J,I,P,Ue,ae,kt,nn,V,fe,Hn]),Ws=_.useMemo(()=>({activatorEvent:te,activators:Et,active:Z,activeNodeRect:he,ariaDescribedById:{draggable:C},dispatch:T,draggableNodes:J,over:Ue,measureDroppableContainers:ae}),[te,Et,Z,he,T,C,J,Ue,ae]);return me.createElement(R0.Provider,{value:N},me.createElement(Su.Provider,{value:Ws},me.createElement(H0.Provider,{value:Bs},me.createElement(V0.Provider,{value:qn},f)),me.createElement(DA,{disabled:(c==null?void 0:c.restoreFocus)===!1})),me.createElement(DO,{...c,hiddenTextDescribedById:C}));function Cr(){const Ge=(G==null?void 0:G.autoScrollEnabled)===!1,Ct=typeof d=="object"?d.enabled===!1:d===!1,jt=j&&!Ge&&!Ct;return typeof d=="object"?{...d,enabled:jt}:{enabled:jt}}}),zA=_.createContext(null),ay="button",UA="Draggable";function BA(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const l=fl(UA),{activators:a,activatorEvent:c,active:d,activeNodeRect:f,ariaDescribedById:m,draggableNodes:p,over:v}=_.useContext(Su),{role:y=ay,roleDescription:b="draggable",tabIndex:k=0}=o??{},E=(d==null?void 0:d.id)===t,T=_.useContext(E?V0:zA),[R,N]=Qa(),[L,H]=Qa(),j=EA(a,t),$=Zo(n);ir(()=>(p.set(t,{id:t,key:l,node:R,activatorNode:L,data:$}),()=>{const F=p.get(t);F&&F.key===l&&p.delete(t)}),[p,t]);const J=_.useMemo(()=>({role:y,tabIndex:k,"aria-disabled":r,"aria-pressed":E&&y===ay?!0:void 0,"aria-roledescription":b,"aria-describedby":m.draggable}),[r,y,k,E,b,m.draggable]);return{active:d,activatorEvent:c,activeNodeRect:f,attributes:J,isDragging:E,listeners:r?void 0:j,node:R,over:v,setNodeRef:N,setActivatorNodeRef:H,transform:T}}function WA(){return _.useContext(H0)}const HA="Droppable",VA={timeout:25};function qA(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const l=fl(HA),{active:a,dispatch:c,over:d,measureDroppableContainers:f}=_.useContext(Su),m=_.useRef({disabled:n}),p=_.useRef(!1),v=_.useRef(null),y=_.useRef(null),{disabled:b,updateMeasurementsFor:k,timeout:E}={...VA,...o},T=Zo(k??r),R=_.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{f(Array.isArray(T.current)?T.current:[T.current]),y.current=null},E)},[E]),N=ku({callback:R,disabled:b||!a}),L=_.useCallback((J,F)=>{N&&(F&&(N.unobserve(F),p.current=!1),J&&N.observe(J))},[N]),[H,j]=Qa(L),$=Zo(t);return _.useEffect(()=>{!N||!H.current||(N.disconnect(),p.current=!1,N.observe(H.current))},[H,N]),_.useEffect(()=>(c({type:mt.RegisterDroppable,element:{id:r,key:l,disabled:n,node:H,rect:v,data:$}}),()=>c({type:mt.UnregisterDroppable,key:l,id:r})),[r]),_.useEffect(()=>{n!==m.current.disabled&&(c({type:mt.SetDroppableDisabled,id:r,key:l,disabled:n}),m.current.disabled=n)},[r,l,n,c]),{active:a,rect:v,isOver:(d==null?void 0:d.id)===r,node:H,over:d,setNodeRef:j}}function q0(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function KA(e,t){return e.reduce((n,r,o)=>{const l=t.get(r);return l&&(n[o]=l),n},Array(e.length))}function Ra(e){return e!==null&&e>=0}function YA(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function GA(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const K0=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const l=q0(t,r,n),a=t[o],c=l[o];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},Ia={scaleX:1,scaleY:1},JA=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:l,overIndex:a}=e;const c=(t=l[n])!=null?t:r;if(!c)return null;if(o===n){const f=l[a];return f?{x:0,y:n<a?f.top+f.height-(c.top+c.height):f.top-c.top,...Ia}:null}const d=QA(l,o,n);return o>n&&o<=a?{x:0,y:-c.height-d,...Ia}:o<n&&o>=a?{x:0,y:c.height+d,...Ia}:{x:0,y:0,...Ia}};function QA(e,t,n){const r=e[t],o=e[t-1],l=e[t+1];return r?n<t?o?r.top-(o.top+o.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Y0="Sortable",G0=me.createContext({activeIndex:-1,containerId:Y0,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:K0,disabled:{draggable:!1,droppable:!1}});function XA(e){let{children:t,id:n,items:r,strategy:o=K0,disabled:l=!1}=e;const{active:a,dragOverlay:c,droppableRects:d,over:f,measureDroppableContainers:m}=WA(),p=fl(Y0,n),v=c.rect!==null,y=_.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),b=a!=null,k=a?y.indexOf(a.id):-1,E=f?y.indexOf(f.id):-1,T=_.useRef(y),R=!YA(y,T.current),N=E!==-1&&k===-1||R,L=GA(l);ir(()=>{R&&b&&m(y)},[R,y,b,m]),_.useEffect(()=>{T.current=y},[y]);const H=_.useMemo(()=>({activeIndex:k,containerId:p,disabled:L,disableTransforms:N,items:y,overIndex:E,useDragOverlay:v,sortedRects:KA(y,d),strategy:o}),[k,p,L.draggable,L.droppable,N,y,E,d,v,o]);return me.createElement(G0.Provider,{value:H},t)}const ZA=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return q0(n,r,o).indexOf(t)},eD=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:l,newIndex:a,previousItems:c,previousContainerId:d,transition:f}=e;return!f||!r||c!==l&&o===a?!1:n?!0:a!==o&&t===d},tD={duration:200,easing:"ease"},J0="transform",nD=el.Transition.toString({property:J0,duration:0,easing:"linear"}),rD={roleDescription:"sortable"};function iD(e){let{disabled:t,index:n,node:r,rect:o}=e;const[l,a]=_.useState(null),c=_.useRef(n);return ir(()=>{if(!t&&n!==c.current&&r.current){const d=o.current;if(d){const f=Us(r.current,{ignoreTransform:!0}),m={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(m.x||m.y)&&a(m)}}n!==c.current&&(c.current=n)},[t,n,r,o]),_.useEffect(()=>{l&&a(null)},[l]),l}function sD(e){let{animateLayoutChanges:t=eD,attributes:n,disabled:r,data:o,getNewIndex:l=ZA,id:a,strategy:c,resizeObserverConfig:d,transition:f=tD}=e;const{items:m,containerId:p,activeIndex:v,disabled:y,disableTransforms:b,sortedRects:k,overIndex:E,useDragOverlay:T,strategy:R}=_.useContext(G0),N=oD(r,y),L=m.indexOf(a),H=_.useMemo(()=>({sortable:{containerId:p,index:L,items:m},...o}),[p,o,L,m]),j=_.useMemo(()=>m.slice(m.indexOf(a)),[m,a]),{rect:$,node:J,isOver:F,setNodeRef:I}=qA({id:a,data:H,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...d}}),{active:z,activatorEvent:U,activeNodeRect:Z,attributes:K,setNodeRef:G,listeners:ee,isDragging:te,over:B,setActivatorNodeRef:X,transform:C}=BA({id:a,data:H,attributes:{...rD,...n},disabled:N.draggable}),A=kO(I,G),V=!!z,P=V&&!b&&Ra(v)&&Ra(E),ae=!T&&te,fe=ae&&P?C:null,Ee=P?fe??(c??R)({rects:k,activeNodeRect:Z,activeIndex:v,overIndex:E,index:L}):null,ye=Ra(v)&&Ra(E)?l({id:a,items:m,activeIndex:v,overIndex:E}):L,we=z==null?void 0:z.id,he=_.useRef({activeId:we,items:m,newIndex:ye,containerId:p}),Ke=m!==he.current.items,nt=t({active:z,containerId:p,isDragging:te,isSorting:V,id:a,index:L,items:m,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:f,wasDragging:he.current.activeId!=null}),gt=iD({disabled:!nt,index:L,node:J,rect:$});return _.useEffect(()=>{V&&he.current.newIndex!==ye&&(he.current.newIndex=ye),p!==he.current.containerId&&(he.current.containerId=p),m!==he.current.items&&(he.current.items=m)},[V,ye,p,m]),_.useEffect(()=>{if(we===he.current.activeId)return;if(we&&!he.current.activeId){he.current.activeId=we;return}const fn=setTimeout(()=>{he.current.activeId=we},50);return()=>clearTimeout(fn)},[we]),{active:z,activeIndex:v,attributes:K,data:H,rect:$,index:L,newIndex:ye,items:m,isOver:F,isSorting:V,isDragging:te,listeners:ee,node:J,overIndex:E,over:B,setNodeRef:A,setActivatorNodeRef:X,setDroppableNodeRef:I,setDraggableNodeRef:G,transform:gt??Ee,transition:Lt()};function Lt(){if(gt||Ke&&he.current.newIndex===L)return nD;if(!(ae&&!gh(U)||!f)&&(V||nt))return el.Transition.toString({...f,property:J0})}}function oD(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Me.Down,Me.Right,Me.Up,Me.Left;function lD({work:e,objective:t,onSelect:n}){return x.jsxs("button",{type:"button",onClick:()=>n(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),x.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]})]}),x.jsx(si,{objective:t,size:"sm"})]})}function aD({item:e,work:t,objective:n,expanded:r,onToggleExpanded:o,onRemove:l,onUpdateDetails:a}){var E;const{attributes:c,listeners:d,setNodeRef:f,transform:m,transition:p,isDragging:v}=sD({id:e.id}),y={transform:el.Transform.toString(m),transition:p},b=e.customDurationMinutes??(t==null?void 0:t.estimatedMinutes)??0,k=T=>R=>{const N=R.target.value;if(T==="customDurationMinutes"){const L=parseInt(N,10);a(e.id,{customDurationMinutes:Number.isNaN(L)?void 0:L})}else a(e.id,{[T]:N})};return x.jsxs("article",{ref:f,style:y,className:Ut("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",v&&"ring-2 ring-sky-400/70"),children:[n?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",...d,...c,"aria-label":"Reordenar trabajo",children:"⠿"}),x.jsx("div",{className:"flex-1 space-y-1",children:x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:(t==null?void 0:t.name)??"Trabajo eliminado"}),x.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[b," min"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:()=>o(e.id),className:Ut("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[x.jsx("span",{className:Ut("transition-transform",r?"rotate-90":"rotate-0"),children:"▶"}),r?"Ocultar detalles":"Ver detalles"]}),x.jsx(si,{objective:n,size:"sm"})]})]})}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsx("button",{type:"button",onClick:()=>l(e.id),className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesión",children:"✕"})})]}),r&&x.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:x.jsx(Xo,{content:e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)})})]}),(E=t==null?void 0:t.videoUrls)!=null&&E.length?x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de referencia"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.videoUrls.map(T=>x.jsxs("a",{href:T,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:"▶"}),"Ver vídeo"]},T))})]}):null,x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción personalizada"}),x.jsx("textarea",{className:"input-field min-h-[100px] resize-y",value:e.customDescriptionMarkdown??"",onChange:k("customDescriptionMarkdown"),placeholder:"Puedes detallar variaciones para esta sesión"})]}),x.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duración personalizada (min)"}),x.jsx("input",{type:"number",min:0,className:"input-field",value:e.customDurationMinutes??"",onChange:k("customDurationMinutes")})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas rápidas"}),x.jsx("textarea",{className:"input-field min-h-[80px]",value:e.notes??"",onChange:k("notes"),placeholder:"Notas visibles solo en modo edición"})]})]})]}),x.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function uD({session:e,works:t,objectives:n,assistants:r,onDateChange:o}){const l=Ne(j=>j.updateSession),a=Ne(j=>j.addWorkToSession),c=Ne(j=>j.removeWorkFromSession),d=Ne(j=>j.reorderSessionWork),f=Ne(j=>j.updateSessionWorkDetails),m=Ne(j=>j.setAttendanceStatus),[p,v]=_.useState(""),[y,b]=_.useState(new Set),k=_.useMemo(()=>new Map(n.map(j=>[j.id,j])),[n]),E=_.useMemo(()=>new Map(t.map(j=>[j.id,j])),[t]),T=_.useMemo(()=>{if(!p)return t;const j=p.toLowerCase();return t.filter($=>{const J=k.get($.objectiveId);return $.name.toLowerCase().includes(j)||$.descriptionMarkdown.toLowerCase().includes(j)||(J==null?void 0:J.name.toLowerCase().includes(j))})},[t,p,k]),R=j=>{b($=>{const J=new Set($);return J.has(j)?J.delete(j):J.add(j),J})},N=j=>{a(e.id,{workId:j}),v("")},L=j=>{const{active:$,over:J}=j;if(!J||$.id===J.id)return;const F=e.workItems.findIndex(z=>z.id===$.id),I=e.workItems.findIndex(z=>z.id===J.id);F===-1||I===-1||d(e.id,F,I)},H=j=>$=>{const J=$.target.value;l(e.id,{[j]:J}),j==="date"&&o&&o(J)};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[x.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Título"}),x.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:H("title"),placeholder:"Nombre de la sesión"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),x.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:H("date")})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:H("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:H("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesión"}),x.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa ⋮ para ajustar detalles."})]}),x.jsxs("div",{className:"relative w-full sm:w-72",children:[x.jsx("input",{type:"search",className:"input-field",value:p,onChange:j=>v(j.target.value),placeholder:"Buscar en catálogo"}),p&&x.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:T.length===0?x.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catálogo."}):x.jsx("div",{className:"space-y-2",children:T.map(j=>x.jsx(lD,{work:j,objective:k.get(j.objectiveId),onSelect:N},j.id))})})]})]}),x.jsx("div",{className:"space-y-4",children:x.jsx(FA,{collisionDetection:zO,onDragEnd:L,children:x.jsx(XA,{items:e.workItems.map(j=>j.id),strategy:JA,children:x.jsx("div",{className:"space-y-5",children:e.workItems.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Añade trabajos desde el catálogo con el buscador superior."}):e.workItems.map(j=>{var $;return x.jsx(aD,{item:j,work:E.get(j.workId),objective:k.get((($=E.get(j.workId))==null?void 0:$.objectiveId)??""),expanded:y.has(j.id),onToggleExpanded:R,onRemove:()=>c(e.id,j.id),onUpdateDetails:(J,F)=>f(e.id,J,F)},j.id)})})})})})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Asistencia"}),x.jsx("p",{className:"text-sm text-white/60",children:"Marca presencia por asistente. Esto se sincroniza con la vista de la sesión."})]})}),x.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?x.jsx("p",{className:"text-sm text-white/60",children:"Aún no tienes asistentes definidos. Añádelos desde la sección correspondiente para empezar a registrar asistencia."}):r.map(j=>{const $=e.attendance.find(F=>F.assistantId===j.id),J=($==null?void 0:$.status)??"pending";return x.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:j.name}),j.notes?x.jsx("p",{className:"text-xs text-white/50",children:j.notes}):null]}),x.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(F=>x.jsx("button",{type:"button",onClick:()=>m(e.id,j.id,F),className:Ut("rounded-full px-3 py-1 text-xs font-semibold transition",J===F?F==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":F==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:F==="present"?"Presente":F==="absent"?"Ausente":"Pendiente"},F))})]},j.id)})})]})]})}function cD(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function dD(e){const t=cD(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(o,l)=>t.add(r*7+l,"day")))}function uy(e,t){return ot(e).format("YYYY-MM-DD")===ot(t).format("YYYY-MM-DD")}ot.locale("es");function fD(e){return ot(e).format("MMMM YYYY")}function hD({session:e,objectives:t,works:n,isActive:r,onSelect:o,onDuplicate:l,onDelete:a}){const c=_.useMemo(()=>new Map(t.map(p=>[p.id,p])),[t]),d=_.useMemo(()=>new Map(n.map(p=>[p.id,p])),[n]),f=_.useMemo(()=>{const p=e.workItems[0];if(!p)return;const v=d.get(p.workId);if(v)return c.get(v.objectiveId)},[e.workItems,d,c]),m=e.workItems.reduce((p,v)=>{const y=d.get(v.workId);return p+(v.customDurationMinutes??(y==null?void 0:y.estimatedMinutes)??0)},0);return x.jsxs("button",{type:"button",onClick:o,className:Ut("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,x.jsxs("div",{className:"flex items-start justify-between gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesión sin título"}),x.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos · ",m," min"]})]}),x.jsx(si,{objective:f,size:"sm"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(p=>{const v=d.get(p.workId);return x.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:(v==null?void 0:v.name)??"Trabajo"},p.id)}),e.workItems.length>3?x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(si,{objective:f,size:"sm"}),x.jsxs("div",{className:"ml-auto flex gap-2",children:[x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),a()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function pD(){const e=Ne(U=>U.sessions),t=Ne(U=>U.works),n=Ne(U=>U.objectives),r=Ne(U=>U.assistants),o=Ne(U=>U.addSession),l=Ne(U=>U.duplicateSession),a=Ne(U=>U.deleteSession),[c,d]=i1(),f=_.useMemo(()=>{const U=new Map;return e.forEach(Z=>{const K=ot(Z.date).format("YYYY-MM-DD"),G=U.get(K)??[];G.push(Z),U.set(K,G)}),U.forEach(Z=>Z.sort((K,G)=>(K.title??"").localeCompare(G.title??"","es"))),U},[e]),m=c.get("session")??void 0,p=m?e.find(U=>U.id===m):void 0,v=ot().format("YYYY-MM-DD"),y=(p==null?void 0:p.date)??v,[b,k]=_.useState(y),[E,T]=_.useState(ot(b).startOf("month").format("YYYY-MM-DD")),[R,N]=_.useState(m);_.useEffect(()=>{m&&!e.find(U=>U.id===m)&&(N(void 0),d({},{replace:!0}))},[m,e,d]);const L=_.useMemo(()=>dD(ot(E)),[E]),H=f.get(b)??[];_.useEffect(()=>{H.length>0?(!R||!H.some(U=>U.id===R))&&N(H[0].id):N(void 0)},[H,R]);const j=R?e.find(U=>U.id===R):void 0,$=U=>{k(U),T(ot(U).startOf("month").format("YYYY-MM-DD"))},J=()=>{const U=o({date:b,title:"Nueva sesión",description:"",notes:""});N(U.id)},F=U=>{const Z=l(U,b);Z&&N(Z.id)},I=U=>{a(U),R===U&&N(void 0)},z=U=>{const Z=ot(E).add(U,"month");T(Z.format("YYYY-MM-DD")),k(K=>{const G=ot(K);return G.month()===Z.month()&&G.year()===Z.year()?K:Z.startOf("month").format("YYYY-MM-DD")})};return x.jsxs("div",{className:"space-y-6",children:[x.jsx("header",{className:"glass-panel p-6 sm:p-10",children:x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Planificador"}),x.jsx("p",{className:"text-white/60",children:"Organiza tus sesiones con un calendario gráfico, duplica lo que funciona y edita cada detalle con drag & drop."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>z(-1),children:"← Mes anterior"}),x.jsx("div",{className:"rounded-full border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white/80",children:fD(E)}),x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>z(1),children:"Mes siguiente →"})]})]})}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.5fr_2fr]",children:[x.jsxs("section",{className:"glass-panel flex flex-col gap-6 p-6",children:[x.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(U=>x.jsx("div",{className:"rounded-full bg-white/5 py-2",children:U},U))}),x.jsx("div",{className:"grid grid-cols-7 gap-2",children:L.flat().map(U=>{const Z=U.format("YYYY-MM-DD"),K=f.get(Z)??[],G=U.month()===ot(E).month(),ee=uy(Z,v),te=uy(Z,b);return x.jsxs("button",{type:"button",onClick:()=>$(Z),className:Ut("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",te?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!G&&"text-white/30"),children:[x.jsx("span",{className:Ut("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",ee?"bg-white text-slate-900":""),children:U.format("D")}),x.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[K.slice(0,3).map(B=>{const X=B.workItems[0],C=X?t.find(V=>V.id===X.workId):void 0,A=C?n.find(V=>V.id===C.objectiveId):void 0;return x.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(A==null?void 0:A.colorHex)??"rgba(255,255,255,0.4)"}},B.id)}),K.length>3?x.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},Z)})})]}),x.jsxs("section",{className:"space-y-6",children:[x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),x.jsx("h2",{className:"text-2xl font-semibold text-white",children:ot(b).format("dddd, D [de] MMMM")})]}),x.jsx("div",{className:"flex gap-3",children:x.jsx("button",{type:"button",onClick:J,className:"btn-primary",children:"+ Nueva sesión"})})]}),x.jsx("div",{className:"space-y-3",children:H.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"Aún no hay sesiones planificadas este día. Crea una con el botón superior."}):H.map(U=>x.jsx(hD,{session:U,objectives:n,works:t,isActive:U.id===R,onSelect:()=>N(U.id),onDuplicate:()=>F(U.id),onDelete:()=>I(U.id)},U.id))})]}),j&&x.jsx("div",{className:"glass-panel p-6",children:x.jsx(uD,{session:j,works:t,objectives:n,assistants:r,onDateChange:U=>{k(U),T(ot(U).startOf("month").format("YYYY-MM-DD"))}})})]})]})]})}const cy={name:"",objectiveId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""]};function mD({work:e,objective:t,expanded:n,onToggle:r,onEdit:o,onDelete:l}){return x.jsxs("article",{className:"relative space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5 shadow shadow-black/30",children:[t?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-3xl",style:{backgroundColor:t.colorHex}}):null,x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-white",children:e.name}),x.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[x.jsx(si,{objective:t,size:"sm"}),x.jsxs("button",{type:"button",onClick:r,className:Ut("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",n&&"border-white/40 text-white"),children:[x.jsx("span",{className:Ut("transition-transform",n?"rotate-90":"rotate-0"),children:"▶"}),n?"Ocultar detalles":"Ver detalles"]}),x.jsx("button",{type:"button",onClick:o,className:"btn-secondary px-3 py-1 text-xs",children:"Editar"}),x.jsx("button",{type:"button",onClick:l,className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]}),n&&x.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[x.jsx(Xo,{content:e.descriptionMarkdown}),e.notes?x.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,e.videoUrls.length>0&&x.jsx("div",{className:"flex flex-wrap gap-2",children:e.videoUrls.map(a=>x.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:"▶"}),"Ver vídeo"]},a))})]})]})}function gD(){const e=Ne(F=>F.works),t=Ne(F=>F.objectives),n=Ne(F=>F.addWork),r=Ne(F=>F.updateWork),o=Ne(F=>F.deleteWork),[l,a]=_.useState(""),[c,d]=_.useState(cy),[f,m]=_.useState(null),[p,v]=_.useState(new Set),y=_.useMemo(()=>new Map(t.map(F=>[F.id,F])),[t]),b=_.useMemo(()=>[...t].sort((F,I)=>(F.name??"").localeCompare(I.name??"","es")),[t]),k=_.useMemo(()=>{if(!l)return e;const F=l.toLowerCase();return e.filter(I=>{const z=y.get(I.objectiveId),U=I.name??"",Z=(z==null?void 0:z.name)??"",K=I.descriptionMarkdown??"";return U.toLowerCase().includes(F)||K.toLowerCase().includes(F)||Z.toLowerCase().includes(F)})},[e,l,y]),E=_.useMemo(()=>{const F=new Map;return k.forEach(I=>{const z=y.has(I.objectiveId)?I.objectiveId:"__no_objective__",U=F.get(z)??[];U.push(I),F.set(z,U)}),F},[k,y]),T=_.useMemo(()=>{const F=b.map(z=>({objective:z,works:(E.get(z.id)??[]).sort((U,Z)=>(U.name??"").localeCompare(Z.name??"","es"))})),I=(E.get("__no_objective__")??[]).sort((z,U)=>(z.name??"").localeCompare(U.name??"","es"));return I.length&&F.push({objective:void 0,works:I}),F.filter(z=>z.works.length>0)},[b,E]);_.useEffect(()=>{c.objectiveId||b.length===0||d(F=>{var I;return{...F,objectiveId:((I=b[0])==null?void 0:I.id)??""}})},[b,c.objectiveId]);const R=()=>{d(cy)},N=(F,I)=>{d(z=>{const U=[...z.videoUrls];return U[F]=I,{...z,videoUrls:U}})},L=()=>{d(F=>({...F,videoUrls:[...F.videoUrls,""]}))},H=F=>{v(I=>{const z=new Set(I);return z.has(F)?z.delete(F):z.add(F),z})},j=F=>{if(F.preventDefault(),!c.objectiveId){m({type:"error",text:"Selecciona un objetivo para el trabajo."});return}const I={name:c.name.trim(),objectiveId:c.objectiveId,descriptionMarkdown:c.descriptionMarkdown,estimatedMinutes:Number(c.estimatedMinutes)||0,notes:c.notes,videoUrls:c.videoUrls.map(z=>z.trim()).filter(Boolean)};if(!I.name){m({type:"error",text:"El nombre es obligatorio."});return}c.id?(r(c.id,I),m({type:"success",text:"Trabajo actualizado correctamente."})):(n(I),m({type:"success",text:"Trabajo creado."})),R()},$=F=>{d({id:F.id,name:F.name,objectiveId:F.objectiveId,descriptionMarkdown:F.descriptionMarkdown,estimatedMinutes:F.estimatedMinutes,notes:F.notes??"",videoUrls:F.videoUrls.length?F.videoUrls:[""]}),v(I=>{const z=new Set(I);return z.add(F.id),z})},J=F=>{o(F)?(m({type:"success",text:"Trabajo eliminado."}),v(z=>{if(!z.has(F))return z;const U=new Set(z);return U.delete(F),U})):m({type:"error",text:"No se puede eliminar porque está siendo usado en alguna sesión."})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),x.jsx("p",{className:"text-white/60",children:"Gestiona ejercicios reutilizables agrupados por objetivo y amplía los detalles solo cuando los necesites."})]}),x.jsx("input",{type:"search",className:"input-field w-full sm:w-80",value:l,onChange:F=>a(F.target.value),placeholder:"Buscar por nombre, descripción u objetivo"})]}),f&&x.jsx("div",{className:Ut("mt-4 rounded-2xl border px-4 py-3 text-sm",f.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:f.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:c.id?"Editar trabajo":"Nuevo trabajo"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:j,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:c.name,onChange:F=>d(I=>({...I,name:F.target.value})),placeholder:"Nombre descriptivo",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),x.jsxs("select",{className:"input-field",value:c.objectiveId,onChange:F=>d(I=>({...I,objectiveId:F.target.value})),required:!0,children:[x.jsx("option",{value:"",children:"Selecciona un objetivo"}),b.map(F=>x.jsx("option",{value:F.id,children:F.name},F.id))]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duración estimada (min)"}),x.jsx("input",{type:"number",min:0,className:"input-field",value:c.estimatedMinutes,onChange:F=>d(I=>({...I,estimatedMinutes:Number(F.target.value)}))})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:c.descriptionMarkdown,onChange:F=>d(I=>({...I,descriptionMarkdown:F.target.value})),placeholder:"Usa formato markdown para resaltar puntos importantes."})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:c.notes,onChange:F=>d(I=>({...I,notes:F.target.value}))})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de YouTube"}),x.jsx("div",{className:"space-y-2",children:c.videoUrls.map((F,I)=>x.jsx("input",{type:"url",className:"input-field",value:F,onChange:z=>N(I,z.target.value),placeholder:"https://www.youtube.com/watch?v=..."},I))}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:L,children:"+ Añadir enlace"})]}),x.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:c.id?"Guardar cambios":"Crear trabajo"}),c.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:R,children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-6",children:T.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no hay trabajos guardados. Empieza creando uno con el formulario."}):T.map(({objective:F,works:I})=>{const z=F?F.name:"Sin objetivo asignado";return x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:z}),x.jsx(si,{objective:F,size:"sm"})]}),x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[I.length," trabajo",I.length===1?"":"s"]})]}),x.jsx("div",{className:"space-y-4",children:I.map(U=>x.jsx(mD,{work:U,objective:y.get(U.objectiveId),expanded:p.has(U.id),onToggle:()=>H(U.id),onEdit:()=>$(U),onDelete:()=>J(U.id)},U.id))})]},(F==null?void 0:F.id)??"sin-objetivo")})})]})]})}const Vd={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},dy=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function vD(){const e=Ne(k=>k.objectives),t=Ne(k=>k.addObjective),n=Ne(k=>k.updateObjective),r=Ne(k=>k.deleteObjective),o=Ne(k=>k.works),[l,a]=_.useState(Vd),[c,d]=_.useState(null),f=_.useMemo(()=>{const k=new Map;return o.forEach(E=>{k.set(E.objectiveId,(k.get(E.objectiveId)??0)+1)}),k},[o]),m=_.useMemo(()=>[...e].sort((k,E)=>(k.name??"").localeCompare(E.name??"","es")),[e]),p=k=>{if(k.preventDefault(),!l.name.trim()){d({type:"error",text:"El nombre es obligatorio."});return}const E={name:l.name.trim(),colorHex:l.colorHex,descriptionMarkdown:l.descriptionMarkdown};l.id?(n(l.id,E),d({type:"success",text:"Objetivo actualizado."})):(t(E),d({type:"success",text:"Objetivo creado."})),a(Vd)},v=k=>{a({id:k.id,name:k.name,colorHex:k.colorHex,descriptionMarkdown:k.descriptionMarkdown})},y=k=>{const E=r(k);d(E?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},b=()=>{if(e.length===0){d({type:"error",text:"No hay objetivos a los que asignar colores."});return}const k=[...dy];e.map((T,R)=>{const N=k[R%k.length];return{id:T.id,colorHex:N}}).forEach(({id:T,colorHex:R})=>n(T,{colorHex:R})),d({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),x.jsx("p",{className:"text-white/60",children:"Define categorías de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),x.jsx("div",{className:"flex flex-wrap gap-3",children:x.jsx("button",{type:"button",className:"btn-secondary",onClick:b,children:"Repartir colores"})})]}),c&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${c.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:c.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:l.id?"Editar objetivo":"Nuevo objetivo"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:p,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:l.name,onChange:k=>a(E=>({...E,name:k.target.value})),placeholder:"Ej. Resistencia, Técnica, Juego",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),x.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:l.colorHex,onChange:k=>a(E=>({...E,colorHex:k.target.value})),"aria-label":"Elegir color personalizado"}),x.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:l.colorHex,onChange:k=>a(E=>({...E,colorHex:k.target.value})),placeholder:"#60a5fa","aria-label":"Código hex del color"})]}),x.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:dy.map(k=>x.jsx("button",{type:"button",onClick:()=>a(E=>({...E,colorHex:k})),className:Ut("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",l.colorHex.toLowerCase()===k.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:k},"aria-label":`Seleccionar color ${k}`,children:l.colorHex.toLowerCase()===k.toLowerCase()&&x.jsx("span",{className:"text-xs font-semibold text-slate-900",children:"✓"})},k))})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:l.descriptionMarkdown,onChange:k=>a(E=>({...E,descriptionMarkdown:k.target.value})),placeholder:"Explica cuándo usar este tipo de trabajo, objetivos pedagógicos, etc."})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:l.id?"Guardar objetivo":"Crear objetivo"}),l.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(Vd),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-6",children:m.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripción."}):m.map(k=>x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsx(si,{objective:k}),x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[x.jsxs("span",{children:[f.get(k.id)??0," trabajos"]}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>v(k),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>y(k.id),children:"Eliminar"})]})]}),x.jsx(Xo,{content:k.descriptionMarkdown})]},k.id))})]})]})}const qd={name:"",notes:"",active:!0};function yD(){const e=Ne(m=>m.assistants),t=Ne(m=>m.addAssistant),n=Ne(m=>m.updateAssistant),r=Ne(m=>m.deleteAssistant),[o,l]=_.useState(qd),[a,c]=_.useState(null),d=m=>{if(m.preventDefault(),!o.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const p={name:o.name.trim(),notes:o.notes,active:o.active};o.id?(n(o.id,p),c({type:"success",text:"Asistente actualizado."})):(t(p),c({type:"success",text:"Asistente añadido."})),l(qd)},f=m=>{l({id:m.id,name:m.name,notes:m.notes??"",active:m.active})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),x.jsx("p",{className:"text-white/60",children:"Mantén una lista base de alumnado para registrar asistencia rápidamente durante cada sesión."})]})}),a&&x.jsx("div",{className:Ut("mt-4 rounded-2xl border px-4 py-3 text-sm",a.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:a.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:o.id?"Editar asistente":"Nuevo asistente"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:d,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:o.name,onChange:m=>l(p=>({...p,name:m.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:o.notes,onChange:m=>l(p=>({...p,notes:m.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:o.active,onChange:m=>l(p=>({...p,active:m.target.checked}))}),x.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecerá en los listados de asistencia)"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:o.id?"Guardar asistente":"Añadir asistente"}),o.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l(qd),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-4",children:e.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todavía no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(m=>x.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:m.name}),m.notes?x.jsx("p",{className:"text-sm text-white/60",children:m.notes}):null]}),x.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[x.jsx("span",{className:Ut("rounded-full border px-3 py-1 text-xs font-semibold",m.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:m.active?"Activo":"Inactivo"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(m),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(m.id),children:"Eliminar"})]})]})]},m.id))})]})]})}function ks(e,t){return x.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[x.jsx("span",{children:e}),x.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function wD(){var d,f,m,p,v,y;const e=Ne(b=>b.exportBackup),t=Ne(b=>b.importBackup),[n,r]=_.useState(null),[o,l]=_.useState(null),a=()=>{try{const b=e(),k=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),E=URL.createObjectURL(k),T=document.createElement("a");T.href=E,T.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,T.click(),URL.revokeObjectURL(E),r({type:"success",text:"Backup exportado correctamente."})}catch(b){console.error(b),r({type:"error",text:"No se pudo exportar el backup."})}},c=async b=>{var E;const k=(E=b.target.files)==null?void 0:E[0];if(k)try{const T=await k.text(),R=JSON.parse(T);t(R),l(R),r({type:"success",text:"Datos importados correctamente."})}catch(T){console.error(T),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON válido."})}finally{b.target.value=""}};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),x.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu información en JSON versionado para compartir o restaurar en cualquier momento."})]}),x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[x.jsx("button",{type:"button",className:"btn-primary",onClick:a,children:"Descargar backup"}),x.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",x.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:c})]})]})]}),n&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),o&&x.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:"Última importación"}),x.jsxs("p",{className:"text-sm text-white/60",children:["Versión del backup: ",o.version]}),x.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[ks("Objetivos",((d=o.objetivos)==null?void 0:d.length)??0),ks("Trabajos",((f=o.trabajos)==null?void 0:f.length)??0),ks("Sesiones",((m=o.sesiones)==null?void 0:m.length)??0),ks("Asistentes",((p=o.asistentes)==null?void 0:p.length)??0),ks("Sesiones · Trabajos",((v=o.sesiones_trabajos)==null?void 0:v.length)??0),ks("Sesiones · Asistencias",((y=o.sesiones_asistencias)==null?void 0:y.length)??0)]})]}),x.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[x.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),x.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[x.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),x.jsx("li",{children:"Antes de importar, realiza una exportación por seguridad. La restauración sobrescribe los datos actuales sin posibilidad de deshacer."}),x.jsx("li",{children:"Los backups mantienen los IDs, así que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function xD(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=mu(),[o,l]=_.useState("login"),[a,c]=_.useState(""),[d,f]=_.useState(""),[m,p]=_.useState(""),[v,y]=_.useState(!1),[b,k]=_.useState(null),[E,T]=_.useState(null);if(!r&&n)return x.jsx($f,{to:"/",replace:!0});const R=async L=>{if(L.preventDefault(),k(null),T(null),!a||!d){k("Introduce tu email y contraseña.");return}if(o==="register"&&d!==m){k("Las contraseñas no coinciden.");return}try{y(!0),o==="login"?await e(a,d):(await t(a,d),T("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesión."))}catch(H){const j=H instanceof Error?H.message:"No se pudo completar la operación.";k(j)}finally{y(!1)}},N=()=>{l(L=>L==="login"?"register":"login"),k(null),T(null),f(""),p("")};return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:x.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[x.jsxs("header",{className:"mb-8 text-center",children:[x.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),x.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:o==="login"?"Inicia sesión":"Crea tu cuenta"}),x.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),x.jsxs("form",{className:"space-y-5",onSubmit:R,children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),x.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:a,onChange:L=>c(L.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contraseña"}),x.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:d,onChange:L=>f(L.target.value),autoComplete:o==="login"?"current-password":"new-password"})]}),o==="register"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contraseña"}),x.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:m,onChange:L=>p(L.target.value),autoComplete:"new-password"})]}),b&&x.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:b}),E&&x.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:E}),x.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:v,children:v?"Procesando…":o==="login"?"Entrar":"Crear cuenta"})]}),x.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:o==="login"?x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:N,children:"¿No tienes cuenta? Regístrate"}):x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:N,children:"¿Ya tienes cuenta? Inicia sesión"})})]})})}const bD="/sport-planner/".replace(/\/$/,""),fy=[{to:"/",label:"Home"},{to:"/plan",label:"Planificar"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function kD(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),{user:o,signOut:l}=mu(),a=async()=>{try{r(!0),await l()}catch(c){console.error("No se pudo cerrar sesión",c)}finally{r(!1),t(!1)}};return x.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/70 backdrop-blur-xl",children:[x.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-lg font-bold",children:"SP"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-display text-xl font-semibold",children:"Sport Planner"}),x.jsx("p",{className:"text-xs text-white/50",children:"Planifica sesiones increíbles"})]})]}),x.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[x.jsx("nav",{className:"flex items-center gap-2",children:fy.map(c=>x.jsx(fg,{to:c.to,className:({isActive:d})=>`rounded-full px-4 py-2 text-sm font-medium transition ${d?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:c.label},c.to))}),x.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-white/50",children:"Sesión iniciada"}),x.jsx("p",{className:"text-sm font-semibold text-white",children:(o==null?void 0:o.email)??"Cuenta"})]}),x.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]}),x.jsx("button",{type:"button",className:"md:hidden inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!0),"aria-label":"Abrir navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),x.jsxs(Pg,{open:e,onClose:t,className:"md:hidden",children:[x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),x.jsxs(Pg.Panel,{className:"fixed inset-y-4 right-4 flex w-72 flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegación"}),x.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"mt-6 flex flex-col gap-2",children:fy.map(c=>x.jsx(fg,{to:c.to,className:({isActive:d})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${d?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:c.label},c.to))}),x.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesión iniciada"}),x.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(o==null?void 0:o.email)??"Cuenta"}),x.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]})]})]})}function SD(){return qC(),x.jsxs("div",{className:"min-h-screen pb-16",children:[x.jsx(kD,{}),x.jsx("main",{className:"mx-auto w-full max-w-6xl px-4 py-8 sm:py-12",children:x.jsx(_y,{})})]})}function _D(){return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),x.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner…"})]})})}function ED(){const{session:e,loading:t}=mu(),n=oi();return t?x.jsx(_D,{}):e?x.jsx(_y,{}):x.jsx($f,{to:"/login",replace:!0,state:{from:n}})}function CD(){return x.jsx(Zk,{basename:bD||void 0,children:x.jsxs(Hk,{children:[x.jsx($n,{path:"/login",element:x.jsx(xD,{})}),x.jsx($n,{element:x.jsx(ED,{}),children:x.jsxs($n,{element:x.jsx(SD,{}),children:[x.jsx($n,{index:!0,element:x.jsx(bO,{})}),x.jsx($n,{path:"plan",element:x.jsx(pD,{})}),x.jsx($n,{path:"catalog",element:x.jsx(gD,{})}),x.jsx($n,{path:"objectives",element:x.jsx(vD,{})}),x.jsx($n,{path:"assistants",element:x.jsx(yD,{})}),x.jsx($n,{path:"backups",element:x.jsx(wD,{})})]})}),x.jsx($n,{path:"*",element:x.jsx($f,{to:"/",replace:!0})})]})})}Ne.getState().hydrate();Zb.createRoot(document.getElementById("root")).render(x.jsx(me.StrictMode,{children:x.jsx(LC,{children:x.jsx(CD,{})})}));
