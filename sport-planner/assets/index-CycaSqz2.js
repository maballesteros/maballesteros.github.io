function qS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function fo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function YS(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var cf={exports:{}},ol={},df={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function KS(){if(Iv)return Pe;Iv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,k={};function _(R,L,j){this.props=R,this.context=L,this.refs=k,this.updater=j||g}_.prototype.isReactComponent={},_.prototype.setState=function(R,L){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,L,"setState")},_.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=_.prototype;function N(R,L,j){this.props=R,this.context=L,this.refs=k,this.updater=j||g}var I=N.prototype=new C;I.constructor=N,x(I,_.prototype),I.isPureReactComponent=!0;var F=Array.isArray,H=Object.prototype.hasOwnProperty,A={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function ee(R,L,j){var J,te={},ne=null,fe=null;if(L!=null)for(J in L.ref!==void 0&&(fe=L.ref),L.key!==void 0&&(ne=""+L.key),L)H.call(L,J)&&!Y.hasOwnProperty(J)&&(te[J]=L[J]);var he=arguments.length-2;if(he===1)te.children=j;else if(1<he){for(var me=Array(he),de=0;de<he;de++)me[de]=arguments[de+2];te.children=me}if(R&&R.defaultProps)for(J in he=R.defaultProps,he)te[J]===void 0&&(te[J]=he[J]);return{$$typeof:e,type:R,key:ne,ref:fe,props:te,_owner:A.current}}function ie(R,L){return{$$typeof:e,type:R.type,key:L,ref:R.ref,props:R.props,_owner:R._owner}}function D(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function M(R){var L={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(j){return L[j]})}var X=/\/+/g;function K(R,L){return typeof R=="object"&&R!==null&&R.key!=null?M(""+R.key):L.toString(36)}function O(R,L,j,J,te){var ne=typeof R;(ne==="undefined"||ne==="boolean")&&(R=null);var fe=!1;if(R===null)fe=!0;else switch(ne){case"string":case"number":fe=!0;break;case"object":switch(R.$$typeof){case e:case t:fe=!0}}if(fe)return fe=R,te=te(fe),R=J===""?"."+K(fe,0):J,F(te)?(j="",R!=null&&(j=R.replace(X,"$&/")+"/"),O(te,L,j,"",function(de){return de})):te!=null&&(D(te)&&(te=ie(te,j+(!te.key||fe&&fe.key===te.key?"":(""+te.key).replace(X,"$&/")+"/")+R)),L.push(te)),1;if(fe=0,J=J===""?".":J+":",F(R))for(var he=0;he<R.length;he++){ne=R[he];var me=J+K(ne,he);fe+=O(ne,L,j,me,te)}else if(me=v(R),typeof me=="function")for(R=me.call(R),he=0;!(ne=R.next()).done;)ne=ne.value,me=J+K(ne,he++),fe+=O(ne,L,j,me,te);else if(ne==="object")throw L=String(R),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return fe}function B(R,L,j){if(R==null)return R;var J=[],te=0;return O(R,J,"","",function(ne){return L.call(j,ne,te++)}),J}function $(R){if(R._status===-1){var L=R._result;L=L(),L.then(function(j){(R._status===0||R._status===-1)&&(R._status=1,R._result=j)},function(j){(R._status===0||R._status===-1)&&(R._status=2,R._result=j)}),R._status===-1&&(R._status=0,R._result=L)}if(R._status===1)return R._result.default;throw R._result}var U={current:null},P={transition:null},q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:P,ReactCurrentOwner:A};function E(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:B,forEach:function(R,L,j){B(R,function(){L.apply(this,arguments)},j)},count:function(R){var L=0;return B(R,function(){L++}),L},toArray:function(R){return B(R,function(L){return L})||[]},only:function(R){if(!D(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Pe.Component=_,Pe.Fragment=n,Pe.Profiler=s,Pe.PureComponent=N,Pe.StrictMode=r,Pe.Suspense=c,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Pe.act=E,Pe.cloneElement=function(R,L,j){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var J=x({},R.props),te=R.key,ne=R.ref,fe=R._owner;if(L!=null){if(L.ref!==void 0&&(ne=L.ref,fe=A.current),L.key!==void 0&&(te=""+L.key),R.type&&R.type.defaultProps)var he=R.type.defaultProps;for(me in L)H.call(L,me)&&!Y.hasOwnProperty(me)&&(J[me]=L[me]===void 0&&he!==void 0?he[me]:L[me])}var me=arguments.length-2;if(me===1)J.children=j;else if(1<me){he=Array(me);for(var de=0;de<me;de++)he[de]=arguments[de+2];J.children=he}return{$$typeof:e,type:R.type,key:te,ref:ne,props:J,_owner:fe}},Pe.createContext=function(R){return R={$$typeof:a,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},Pe.createElement=ee,Pe.createFactory=function(R){var L=ee.bind(null,R);return L.type=R,L},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(R){return{$$typeof:u,render:R}},Pe.isValidElement=D,Pe.lazy=function(R){return{$$typeof:h,_payload:{_status:-1,_result:R},_init:$}},Pe.memo=function(R,L){return{$$typeof:f,type:R,compare:L===void 0?null:L}},Pe.startTransition=function(R){var L=P.transition;P.transition={};try{R()}finally{P.transition=L}},Pe.unstable_act=E,Pe.useCallback=function(R,L){return U.current.useCallback(R,L)},Pe.useContext=function(R){return U.current.useContext(R)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(R){return U.current.useDeferredValue(R)},Pe.useEffect=function(R,L){return U.current.useEffect(R,L)},Pe.useId=function(){return U.current.useId()},Pe.useImperativeHandle=function(R,L,j){return U.current.useImperativeHandle(R,L,j)},Pe.useInsertionEffect=function(R,L){return U.current.useInsertionEffect(R,L)},Pe.useLayoutEffect=function(R,L){return U.current.useLayoutEffect(R,L)},Pe.useMemo=function(R,L){return U.current.useMemo(R,L)},Pe.useReducer=function(R,L,j){return U.current.useReducer(R,L,j)},Pe.useRef=function(R){return U.current.useRef(R)},Pe.useState=function(R){return U.current.useState(R)},Pe.useSyncExternalStore=function(R,L,j){return U.current.useSyncExternalStore(R,L,j)},Pe.useTransition=function(){return U.current.useTransition()},Pe.version="18.3.1",Pe}var Nv;function tc(){return Nv||(Nv=1,df.exports=KS()),df.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function GS(){if(Rv)return ol;Rv=1;var e=tc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,f){var h,m={},v=null,g=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(g=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(m[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:t,type:u,key:v,ref:g,props:m,_owner:s.current}}return ol.Fragment=n,ol.jsx=a,ol.jsxs=a,ol}var Pv;function JS(){return Pv||(Pv=1,cf.exports=GS()),cf.exports}var b=JS(),S=tc();const pe=fo(S),Ru=qS({__proto__:null,default:pe},[S]);var su={},ff={exports:{}},ln={},hf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function QS(){return Av||(Av=1,(function(e){function t(P,q){var E=P.length;P.push(q);e:for(;0<E;){var R=E-1>>>1,L=P[R];if(0<s(L,q))P[R]=q,P[E]=L,E=R;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var q=P[0],E=P.pop();if(E!==q){P[0]=E;e:for(var R=0,L=P.length,j=L>>>1;R<j;){var J=2*(R+1)-1,te=P[J],ne=J+1,fe=P[ne];if(0>s(te,E))ne<L&&0>s(fe,te)?(P[R]=fe,P[ne]=E,R=ne):(P[R]=te,P[J]=E,R=J);else if(ne<L&&0>s(fe,E))P[R]=fe,P[ne]=E,R=ne;else break e}}return q}function s(P,q){var E=P.sortIndex-q.sortIndex;return E!==0?E:P.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var c=[],f=[],h=1,m=null,v=3,g=!1,x=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(P){for(var q=n(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=P)r(f),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(f)}}function F(P){if(k=!1,I(P),!x)if(n(c)!==null)x=!0,$(H);else{var q=n(f);q!==null&&U(F,q.startTime-P)}}function H(P,q){x=!1,k&&(k=!1,C(ee),ee=-1),g=!0;var E=v;try{for(I(q),m=n(c);m!==null&&(!(m.expirationTime>q)||P&&!M());){var R=m.callback;if(typeof R=="function"){m.callback=null,v=m.priorityLevel;var L=R(m.expirationTime<=q);q=e.unstable_now(),typeof L=="function"?m.callback=L:m===n(c)&&r(c),I(q)}else r(c);m=n(c)}if(m!==null)var j=!0;else{var J=n(f);J!==null&&U(F,J.startTime-q),j=!1}return j}finally{m=null,v=E,g=!1}}var A=!1,Y=null,ee=-1,ie=5,D=-1;function M(){return!(e.unstable_now()-D<ie)}function X(){if(Y!==null){var P=e.unstable_now();D=P;var q=!0;try{q=Y(!0,P)}finally{q?K():(A=!1,Y=null)}}else A=!1}var K;if(typeof N=="function")K=function(){N(X)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,B=O.port2;O.port1.onmessage=X,K=function(){B.postMessage(null)}}else K=function(){_(X,0)};function $(P){Y=P,A||(A=!0,K())}function U(P,q){ee=_(function(){P(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,$(H))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var E=v;v=q;try{return P()}finally{v=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var E=v;v=P;try{return q()}finally{v=E}},e.unstable_scheduleCallback=function(P,q,E){var R=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?R+E:R):E=R,P){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=E+L,P={id:h++,callback:q,priorityLevel:P,startTime:E,expirationTime:L,sortIndex:-1},E>R?(P.sortIndex=E,t(f,P),n(c)===null&&P===n(f)&&(k?(C(ee),ee=-1):k=!0,U(F,E-R))):(P.sortIndex=L,t(c,P),x||g||(x=!0,$(H))),P},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(P){var q=v;return function(){var E=v;v=q;try{return P.apply(this,arguments)}finally{v=E}}}})(pf)),pf}var Ov;function XS(){return Ov||(Ov=1,hf.exports=QS()),hf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function ZS(){if(Dv)return ln;Dv=1;var e=tc(),t=XS();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(i){return c.call(m,i)?!0:c.call(h,i)?!1:f.test(i)?m[i]=!0:(h[i]=!0,!1)}function g(i,l,d,p){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,l,d,p){if(l===null||typeof l>"u"||g(i,l,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(i,l,d,p,y,w,T){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=i,this.type=l,this.sanitizeURL=w,this.removeEmptyString=T}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];_[l]=new k(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(C,N);_[l]=new k(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(C,N);_[l]=new k(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(C,N);_[l]=new k(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function I(i,l,d,p){var y=_.hasOwnProperty(l)?_[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,d,y,p)&&(d=null),p||y===null?v(l)&&(d===null?i.removeAttribute(l):i.setAttribute(l,""+d)):y.mustUseProperty?i[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,p=y.attributeNamespace,d===null?i.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,p?i.setAttributeNS(p,l,d):i.setAttribute(l,d))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),A=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),P=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var E=Object.assign,R;function L(i){if(R===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);R=l&&l[1]||""}return`
`+R+i}var j=!1;function J(i,l){if(!i||j)return"";j=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var p=Z}Reflect.construct(i,[],l)}else{try{l.call()}catch(Z){p=Z}i.call(l.prototype)}else{try{throw Error()}catch(Z){p=Z}i()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=p.stack.split(`
`),T=y.length-1,z=w.length-1;1<=T&&0<=z&&y[T]!==w[z];)z--;for(;1<=T&&0<=z;T--,z--)if(y[T]!==w[z]){if(T!==1||z!==1)do if(T--,z--,0>z||y[T]!==w[z]){var W=`
`+y[T].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=T&&0<=z);break}}}finally{j=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?L(i):""}function te(i){switch(i.tag){case 5:return L(i.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return i=J(i.type,!1),i;case 11:return i=J(i.type.render,!1),i;case 1:return i=J(i.type,!0),i;default:return""}}function ne(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Y:return"Fragment";case A:return"Portal";case ie:return"Profiler";case ee:return"StrictMode";case K:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case X:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return l=i.displayName||null,l!==null?l:ne(i.type)||"Memo";case $:l=i._payload,i=i._init;try{return ne(i(l))}catch{}}return null}function fe(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(l);case 8:return l===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function he(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function me(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function de(i){var l=me(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),p=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return y.call(this)},set:function(T){p=""+T,w.call(this,T)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Oe(i){i._valueTracker||(i._valueTracker=de(i))}function $e(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return i&&(p=me(i)?i.checked?"true":"false":i.value),i=p,i!==d?(l.setValue(i),!0):!1}function et(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Vt(i,l){var d=l.checked;return E({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Cn(i,l){var d=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;d=he(l.value!=null?l.value:d),i._wrapperState={initialChecked:p,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function jn(i,l){l=l.checked,l!=null&&I(i,"checked",l,!1)}function jr(i,l){jn(i,l);var d=he(l.value),p=l.type;if(d!=null)p==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?or(i,l.type,d):l.hasOwnProperty("defaultValue")&&or(i,l.type,he(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Ti(i,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,d||l===i.value||(i.value=l),i.defaultValue=l}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function or(i,l,d){(l!=="number"||et(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var It=Array.isArray;function hn(i,l,d,p){if(i=i.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<i.length;d++)y=l.hasOwnProperty("$"+i[d].value),i[d].selected!==y&&(i[d].selected=y),y&&p&&(i[d].defaultSelected=!0)}else{for(d=""+he(d),l=null,y=0;y<i.length;y++){if(i[y].value===d){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}l!==null||i[y].disabled||(l=i[y])}l!==null&&(l.selected=!0)}}function lr(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return E({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ii(i,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(It(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}i._wrapperState={initialValue:he(d)}}function Ni(i,l){var d=he(l.value),p=he(l.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),l.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),p!=null&&(i.defaultValue=""+p)}function fs(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function re(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?re(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var be,Te=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,p,y){MSApp.execUnsafeLocalFunction(function(){return i(l,d,p,y)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=be.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function De(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tn=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(i){Tn.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),qe[l]=qe[i]})});function Zt(i,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||qe.hasOwnProperty(i)&&qe[i]?(""+l).trim():l+"px"}function ar(i,l){i=i.style;for(var d in l)if(l.hasOwnProperty(d)){var p=d.indexOf("--")===0,y=Zt(d,l[d],p);d==="float"&&(d="cssFloat"),p?i.setProperty(d,y):i[d]=y}}var Un=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ft(i,l){if(l){if(Un[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function In(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=null;function Eo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _o=null,Vr=null,nt=null;function At(i){if(i=Vo(i)){if(typeof _o!="function")throw Error(n(280));var l=i.stateNode;l&&(l=xa(l),_o(i.stateNode,i.type,l))}}function Ot(i){Vr?nt?nt.push(i):nt=[i]:Vr=i}function Bn(){if(Vr){var i=Vr,l=nt;if(nt=Vr=null,At(i),l)for(i=0;i<l.length;i++)At(l[i])}}function qt(i,l){return i(l)}function Dt(){}var en=!1;function Tr(i,l,d){if(en)return i(l,d);en=!0;try{return qt(i,l,d)}finally{en=!1,(Vr!==null||nt!==null)&&(Dt(),Bn())}}function rt(i,l){var d=i.stateNode;if(d===null)return null;var p=xa(d);if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Nn=!1;if(u)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{Nn=!1}function Wn(i,l,d,p,y,w,T,z,W){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(d,Z)}catch(oe){this.onError(oe)}}var Hn=!1,ur=null,pn=!1,Ir=null,Co={onError:function(i){Hn=!0,ur=i}};function e1(i,l,d,p,y,w,T,z,W){Hn=!1,ur=null,Wn.apply(Co,arguments)}function t1(i,l,d,p,y,w,T,z,W){if(e1.apply(this,arguments),Hn){if(Hn){var Z=ur;Hn=!1,ur=null}else throw Error(n(198));pn||(pn=!0,Ir=Z)}}function Ri(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function Xp(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Zp(i){if(Ri(i)!==i)throw Error(n(188))}function n1(i){var l=i.alternate;if(!l){if(l=Ri(i),l===null)throw Error(n(188));return l!==i?null:i}for(var d=i,p=l;;){var y=d.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){d=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===d)return Zp(y),i;if(w===p)return Zp(y),l;w=w.sibling}throw Error(n(188))}if(d.return!==p.return)d=y,p=w;else{for(var T=!1,z=y.child;z;){if(z===d){T=!0,d=y,p=w;break}if(z===p){T=!0,p=y,d=w;break}z=z.sibling}if(!T){for(z=w.child;z;){if(z===d){T=!0,d=w,p=y;break}if(z===p){T=!0,p=w,d=y;break}z=z.sibling}if(!T)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:l}function em(i){return i=n1(i),i!==null?tm(i):null}function tm(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=tm(i);if(l!==null)return l;i=i.sibling}return null}var nm=t.unstable_scheduleCallback,rm=t.unstable_cancelCallback,r1=t.unstable_shouldYield,i1=t.unstable_requestPaint,ct=t.unstable_now,s1=t.unstable_getCurrentPriorityLevel,Ic=t.unstable_ImmediatePriority,im=t.unstable_UserBlockingPriority,ea=t.unstable_NormalPriority,o1=t.unstable_LowPriority,sm=t.unstable_IdlePriority,ta=null,cr=null;function l1(i){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(ta,i,void 0,(i.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:c1,a1=Math.log,u1=Math.LN2;function c1(i){return i>>>=0,i===0?32:31-(a1(i)/u1|0)|0}var na=64,ra=4194304;function jo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ia(i,l){var d=i.pendingLanes;if(d===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes,T=d&268435455;if(T!==0){var z=T&~y;z!==0?p=jo(z):(w&=T,w!==0&&(p=jo(w)))}else T=d&~y,T!==0?p=jo(T):w!==0&&(p=jo(w));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((p&4)!==0&&(p|=d&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=p;0<l;)d=31-Vn(l),y=1<<d,p|=i[d],l&=~y;return p}function d1(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f1(i,l){for(var d=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes;0<w;){var T=31-Vn(w),z=1<<T,W=y[T];W===-1?((z&d)===0||(z&p)!==0)&&(y[T]=d1(z,l)):W<=l&&(i.expiredLanes|=z),w&=~z}}function Nc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function om(){var i=na;return na<<=1,(na&4194240)===0&&(na=64),i}function Rc(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function To(i,l,d){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Vn(l),i[l]=d}function h1(i,l){var d=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<d;){var y=31-Vn(d),w=1<<y;l[y]=0,p[y]=-1,i[y]=-1,d&=~w}}function Pc(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var p=31-Vn(d),y=1<<p;y&l|i[p]&l&&(i[p]|=l),d&=~y}}var Ue=0;function lm(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var am,Ac,um,cm,dm,Oc=!1,sa=[],qr=null,Yr=null,Kr=null,Io=new Map,No=new Map,Gr=[],p1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fm(i,l){switch(i){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Io.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(l.pointerId)}}function Ro(i,l,d,p,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},l!==null&&(l=Vo(l),l!==null&&Ac(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),i)}function m1(i,l,d,p,y){switch(l){case"focusin":return qr=Ro(qr,i,l,d,p,y),!0;case"dragenter":return Yr=Ro(Yr,i,l,d,p,y),!0;case"mouseover":return Kr=Ro(Kr,i,l,d,p,y),!0;case"pointerover":var w=y.pointerId;return Io.set(w,Ro(Io.get(w)||null,i,l,d,p,y)),!0;case"gotpointercapture":return w=y.pointerId,No.set(w,Ro(No.get(w)||null,i,l,d,p,y)),!0}return!1}function hm(i){var l=Pi(i.target);if(l!==null){var d=Ri(l);if(d!==null){if(l=d.tag,l===13){if(l=Xp(d),l!==null){i.blockedOn=l,dm(i.priority,function(){um(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function oa(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Lc(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Pt=p,d.target.dispatchEvent(p),Pt=null}else return l=Vo(d),l!==null&&Ac(l),i.blockedOn=d,!1;l.shift()}return!0}function pm(i,l,d){oa(i)&&d.delete(l)}function g1(){Oc=!1,qr!==null&&oa(qr)&&(qr=null),Yr!==null&&oa(Yr)&&(Yr=null),Kr!==null&&oa(Kr)&&(Kr=null),Io.forEach(pm),No.forEach(pm)}function Po(i,l){i.blockedOn===l&&(i.blockedOn=null,Oc||(Oc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,g1)))}function Ao(i){function l(y){return Po(y,i)}if(0<sa.length){Po(sa[0],i);for(var d=1;d<sa.length;d++){var p=sa[d];p.blockedOn===i&&(p.blockedOn=null)}}for(qr!==null&&Po(qr,i),Yr!==null&&Po(Yr,i),Kr!==null&&Po(Kr,i),Io.forEach(l),No.forEach(l),d=0;d<Gr.length;d++)p=Gr[d],p.blockedOn===i&&(p.blockedOn=null);for(;0<Gr.length&&(d=Gr[0],d.blockedOn===null);)hm(d),d.blockedOn===null&&Gr.shift()}var hs=F.ReactCurrentBatchConfig,la=!0;function v1(i,l,d,p){var y=Ue,w=hs.transition;hs.transition=null;try{Ue=1,Dc(i,l,d,p)}finally{Ue=y,hs.transition=w}}function y1(i,l,d,p){var y=Ue,w=hs.transition;hs.transition=null;try{Ue=4,Dc(i,l,d,p)}finally{Ue=y,hs.transition=w}}function Dc(i,l,d,p){if(la){var y=Lc(i,l,d,p);if(y===null)Zc(i,l,p,aa,d),fm(i,p);else if(m1(y,i,l,d,p))p.stopPropagation();else if(fm(i,p),l&4&&-1<p1.indexOf(i)){for(;y!==null;){var w=Vo(y);if(w!==null&&am(w),w=Lc(i,l,d,p),w===null&&Zc(i,l,p,aa,d),w===y)break;y=w}y!==null&&p.stopPropagation()}else Zc(i,l,p,null,d)}}var aa=null;function Lc(i,l,d,p){if(aa=null,i=Eo(p),i=Pi(i),i!==null)if(l=Ri(i),l===null)i=null;else if(d=l.tag,d===13){if(i=Xp(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return aa=i,null}function mm(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s1()){case Ic:return 1;case im:return 4;case ea:case o1:return 16;case sm:return 536870912;default:return 16}default:return 16}}var Jr=null,Mc=null,ua=null;function gm(){if(ua)return ua;var i,l=Mc,d=l.length,p,y="value"in Jr?Jr.value:Jr.textContent,w=y.length;for(i=0;i<d&&l[i]===y[i];i++);var T=d-i;for(p=1;p<=T&&l[d-p]===y[w-p];p++);return ua=y.slice(i,1<p?1-p:void 0)}function ca(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function da(){return!0}function vm(){return!1}function mn(i){function l(d,p,y,w,T){this._reactName=d,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(d=i[z],this[z]=d?d(w):w[z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?da:vm,this.isPropagationStopped=vm,this}return E(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da}),l}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=mn(ps),Oo=E({},ps,{view:0,detail:0}),w1=mn(Oo),Fc,zc,Do,fa=E({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Do&&(Do&&i.type==="mousemove"?(Fc=i.screenX-Do.screenX,zc=i.screenY-Do.screenY):zc=Fc=0,Do=i),Fc)},movementY:function(i){return"movementY"in i?i.movementY:zc}}),ym=mn(fa),x1=E({},fa,{dataTransfer:0}),b1=mn(x1),k1=E({},Oo,{relatedTarget:0}),Uc=mn(k1),S1=E({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),E1=mn(S1),_1=E({},ps,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),C1=mn(_1),j1=E({},ps,{data:0}),wm=mn(j1),T1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R1(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=N1[i])?!!l[i]:!1}function Bc(){return R1}var P1=E({},Oo,{key:function(i){if(i.key){var l=T1[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?I1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),A1=mn(P1),O1=E({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xm=mn(O1),D1=E({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),L1=mn(D1),M1=E({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),$1=mn(M1),F1=E({},fa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),z1=mn(F1),U1=[9,13,27,32],Wc=u&&"CompositionEvent"in window,Lo=null;u&&"documentMode"in document&&(Lo=document.documentMode);var B1=u&&"TextEvent"in window&&!Lo,bm=u&&(!Wc||Lo&&8<Lo&&11>=Lo),km=" ",Sm=!1;function Em(i,l){switch(i){case"keyup":return U1.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _m(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ms=!1;function W1(i,l){switch(i){case"compositionend":return _m(l);case"keypress":return l.which!==32?null:(Sm=!0,km);case"textInput":return i=l.data,i===km&&Sm?null:i;default:return null}}function H1(i,l){if(ms)return i==="compositionend"||!Wc&&Em(i,l)?(i=gm(),ua=Mc=Jr=null,ms=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return bm&&l.locale!=="ko"?null:l.data;default:return null}}var V1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!V1[i.type]:l==="textarea"}function jm(i,l,d,p){Ot(p),l=va(l,"onChange"),0<l.length&&(d=new $c("onChange","change",null,d,p),i.push({event:d,listeners:l}))}var Mo=null,$o=null;function q1(i){Vm(i,0)}function ha(i){var l=xs(i);if($e(l))return i}function Y1(i,l){if(i==="change")return l}var Tm=!1;if(u){var Hc;if(u){var Vc="oninput"in document;if(!Vc){var Im=document.createElement("div");Im.setAttribute("oninput","return;"),Vc=typeof Im.oninput=="function"}Hc=Vc}else Hc=!1;Tm=Hc&&(!document.documentMode||9<document.documentMode)}function Nm(){Mo&&(Mo.detachEvent("onpropertychange",Rm),$o=Mo=null)}function Rm(i){if(i.propertyName==="value"&&ha($o)){var l=[];jm(l,$o,i,Eo(i)),Tr(q1,l)}}function K1(i,l,d){i==="focusin"?(Nm(),Mo=l,$o=d,Mo.attachEvent("onpropertychange",Rm)):i==="focusout"&&Nm()}function G1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ha($o)}function J1(i,l){if(i==="click")return ha(l)}function Q1(i,l){if(i==="input"||i==="change")return ha(l)}function X1(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var qn=typeof Object.is=="function"?Object.is:X1;function Fo(i,l){if(qn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!c.call(l,y)||!qn(i[y],l[y]))return!1}return!0}function Pm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Am(i,l){var d=Pm(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=l&&p>=l)return{node:d,offset:l-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Pm(d)}}function Om(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Om(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Dm(){for(var i=window,l=et();l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=et(i.document)}return l}function qc(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Z1(i){var l=Dm(),d=i.focusedElem,p=i.selectionRange;if(l!==d&&d&&d.ownerDocument&&Om(d.ownerDocument.documentElement,d)){if(p!==null&&qc(d)){if(l=p.start,i=p.end,i===void 0&&(i=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(i,d.value.length);else if(i=(l=d.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var y=d.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!i.extend&&w>p&&(y=p,p=w,w=y),y=Am(d,w);var T=Am(d,p);y&&T&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),i.removeAllRanges(),w>p?(i.addRange(l),i.extend(T.node,T.offset)):(l.setEnd(T.node,T.offset),i.addRange(l)))}}for(l=[],i=d;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)i=l[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var eS=u&&"documentMode"in document&&11>=document.documentMode,gs=null,Yc=null,zo=null,Kc=!1;function Lm(i,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Kc||gs==null||gs!==et(p)||(p=gs,"selectionStart"in p&&qc(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),zo&&Fo(zo,p)||(zo=p,p=va(Yc,"onSelect"),0<p.length&&(l=new $c("onSelect","select",null,l,d),i.push({event:l,listeners:p}),l.target=gs)))}function pa(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var vs={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionend:pa("Transition","TransitionEnd")},Gc={},Mm={};u&&(Mm=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function ma(i){if(Gc[i])return Gc[i];if(!vs[i])return i;var l=vs[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in Mm)return Gc[i]=l[d];return i}var $m=ma("animationend"),Fm=ma("animationiteration"),zm=ma("animationstart"),Um=ma("transitionend"),Bm=new Map,Wm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(i,l){Bm.set(i,l),o(l,[i])}for(var Jc=0;Jc<Wm.length;Jc++){var Qc=Wm[Jc],tS=Qc.toLowerCase(),nS=Qc[0].toUpperCase()+Qc.slice(1);Qr(tS,"on"+nS)}Qr($m,"onAnimationEnd"),Qr(Fm,"onAnimationIteration"),Qr(zm,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(Um,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function Hm(i,l,d){var p=i.type||"unknown-event";i.currentTarget=d,t1(p,l,void 0,i),i.currentTarget=null}function Vm(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],y=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var T=p.length-1;0<=T;T--){var z=p[T],W=z.instance,Z=z.currentTarget;if(z=z.listener,W!==w&&y.isPropagationStopped())break e;Hm(y,z,Z),w=W}else for(T=0;T<p.length;T++){if(z=p[T],W=z.instance,Z=z.currentTarget,z=z.listener,W!==w&&y.isPropagationStopped())break e;Hm(y,z,Z),w=W}}}if(pn)throw i=Ir,pn=!1,Ir=null,i}function Je(i,l){var d=l[sd];d===void 0&&(d=l[sd]=new Set);var p=i+"__bubble";d.has(p)||(qm(l,i,2,!1),d.add(p))}function Xc(i,l,d){var p=0;l&&(p|=4),qm(d,i,p,l)}var ga="_reactListening"+Math.random().toString(36).slice(2);function Bo(i){if(!i[ga]){i[ga]=!0,r.forEach(function(d){d!=="selectionchange"&&(rS.has(d)||Xc(d,!1,i),Xc(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[ga]||(l[ga]=!0,Xc("selectionchange",!1,l))}}function qm(i,l,d,p){switch(mm(l)){case 1:var y=v1;break;case 4:y=y1;break;default:y=Dc}d=y.bind(null,l,d,i),y=void 0,!Nn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(l,d,{capture:!0,passive:y}):i.addEventListener(l,d,!0):y!==void 0?i.addEventListener(l,d,{passive:y}):i.addEventListener(l,d,!1)}function Zc(i,l,d,p,y){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var z=p.stateNode.containerInfo;if(z===y||z.nodeType===8&&z.parentNode===y)break;if(T===4)for(T=p.return;T!==null;){var W=T.tag;if((W===3||W===4)&&(W=T.stateNode.containerInfo,W===y||W.nodeType===8&&W.parentNode===y))return;T=T.return}for(;z!==null;){if(T=Pi(z),T===null)return;if(W=T.tag,W===5||W===6){p=w=T;continue e}z=z.parentNode}}p=p.return}Tr(function(){var Z=w,oe=Eo(d),le=[];e:{var se=Bm.get(i);if(se!==void 0){var ge=$c,ye=i;switch(i){case"keypress":if(ca(d)===0)break e;case"keydown":case"keyup":ge=A1;break;case"focusin":ye="focus",ge=Uc;break;case"focusout":ye="blur",ge=Uc;break;case"beforeblur":case"afterblur":ge=Uc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=L1;break;case $m:case Fm:case zm:ge=E1;break;case Um:ge=$1;break;case"scroll":ge=w1;break;case"wheel":ge=z1;break;case"copy":case"cut":case"paste":ge=C1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=xm}var we=(l&4)!==0,dt=!we&&i==="scroll",G=we?se!==null?se+"Capture":null:se;we=[];for(var V=Z,Q;V!==null;){Q=V;var ce=Q.stateNode;if(Q.tag===5&&ce!==null&&(Q=ce,G!==null&&(ce=rt(V,G),ce!=null&&we.push(Wo(V,ce,Q)))),dt)break;V=V.return}0<we.length&&(se=new ge(se,ye,null,d,oe),le.push({event:se,listeners:we}))}}if((l&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",se&&d!==Pt&&(ye=d.relatedTarget||d.fromElement)&&(Pi(ye)||ye[Nr]))break e;if((ge||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ge?(ye=d.relatedTarget||d.toElement,ge=Z,ye=ye?Pi(ye):null,ye!==null&&(dt=Ri(ye),ye!==dt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(ge=null,ye=Z),ge!==ye)){if(we=ym,ce="onMouseLeave",G="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(we=xm,ce="onPointerLeave",G="onPointerEnter",V="pointer"),dt=ge==null?se:xs(ge),Q=ye==null?se:xs(ye),se=new we(ce,V+"leave",ge,d,oe),se.target=dt,se.relatedTarget=Q,ce=null,Pi(oe)===Z&&(we=new we(G,V+"enter",ye,d,oe),we.target=Q,we.relatedTarget=dt,ce=we),dt=ce,ge&&ye)t:{for(we=ge,G=ye,V=0,Q=we;Q;Q=ys(Q))V++;for(Q=0,ce=G;ce;ce=ys(ce))Q++;for(;0<V-Q;)we=ys(we),V--;for(;0<Q-V;)G=ys(G),Q--;for(;V--;){if(we===G||G!==null&&we===G.alternate)break t;we=ys(we),G=ys(G)}we=null}else we=null;ge!==null&&Ym(le,se,ge,we,!1),ye!==null&&dt!==null&&Ym(le,dt,ye,we,!0)}}e:{if(se=Z?xs(Z):window,ge=se.nodeName&&se.nodeName.toLowerCase(),ge==="select"||ge==="input"&&se.type==="file")var xe=Y1;else if(Cm(se))if(Tm)xe=Q1;else{xe=G1;var ke=K1}else(ge=se.nodeName)&&ge.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(xe=J1);if(xe&&(xe=xe(i,Z))){jm(le,xe,d,oe);break e}ke&&ke(i,se,Z),i==="focusout"&&(ke=se._wrapperState)&&ke.controlled&&se.type==="number"&&or(se,"number",se.value)}switch(ke=Z?xs(Z):window,i){case"focusin":(Cm(ke)||ke.contentEditable==="true")&&(gs=ke,Yc=Z,zo=null);break;case"focusout":zo=Yc=gs=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Lm(le,d,oe);break;case"selectionchange":if(eS)break;case"keydown":case"keyup":Lm(le,d,oe)}var Se;if(Wc)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ms?Em(i,d)&&(je="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(je="onCompositionStart");je&&(bm&&d.locale!=="ko"&&(ms||je!=="onCompositionStart"?je==="onCompositionEnd"&&ms&&(Se=gm()):(Jr=oe,Mc="value"in Jr?Jr.value:Jr.textContent,ms=!0)),ke=va(Z,je),0<ke.length&&(je=new wm(je,i,null,d,oe),le.push({event:je,listeners:ke}),Se?je.data=Se:(Se=_m(d),Se!==null&&(je.data=Se)))),(Se=B1?W1(i,d):H1(i,d))&&(Z=va(Z,"onBeforeInput"),0<Z.length&&(oe=new wm("onBeforeInput","beforeinput",null,d,oe),le.push({event:oe,listeners:Z}),oe.data=Se))}Vm(le,l)})}function Wo(i,l,d){return{instance:i,listener:l,currentTarget:d}}function va(i,l){for(var d=l+"Capture",p=[];i!==null;){var y=i,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=rt(i,d),w!=null&&p.unshift(Wo(i,w,y)),w=rt(i,l),w!=null&&p.push(Wo(i,w,y))),i=i.return}return p}function ys(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ym(i,l,d,p,y){for(var w=l._reactName,T=[];d!==null&&d!==p;){var z=d,W=z.alternate,Z=z.stateNode;if(W!==null&&W===p)break;z.tag===5&&Z!==null&&(z=Z,y?(W=rt(d,w),W!=null&&T.unshift(Wo(d,W,z))):y||(W=rt(d,w),W!=null&&T.push(Wo(d,W,z)))),d=d.return}T.length!==0&&i.push({event:l,listeners:T})}var iS=/\r\n?/g,sS=/\u0000|\uFFFD/g;function Km(i){return(typeof i=="string"?i:""+i).replace(iS,`
`).replace(sS,"")}function ya(i,l,d){if(l=Km(l),Km(i)!==l&&d)throw Error(n(425))}function wa(){}var ed=null,td=null;function nd(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,oS=typeof clearTimeout=="function"?clearTimeout:void 0,Gm=typeof Promise=="function"?Promise:void 0,lS=typeof queueMicrotask=="function"?queueMicrotask:typeof Gm<"u"?function(i){return Gm.resolve(null).then(i).catch(aS)}:rd;function aS(i){setTimeout(function(){throw i})}function id(i,l){var d=l,p=0;do{var y=d.nextSibling;if(i.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(p===0){i.removeChild(y),Ao(l);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=y}while(d);Ao(l)}function Xr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Jm(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}var ws=Math.random().toString(36).slice(2),dr="__reactFiber$"+ws,Ho="__reactProps$"+ws,Nr="__reactContainer$"+ws,sd="__reactEvents$"+ws,uS="__reactListeners$"+ws,cS="__reactHandles$"+ws;function Pi(i){var l=i[dr];if(l)return l;for(var d=i.parentNode;d;){if(l=d[Nr]||d[dr]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=Jm(i);i!==null;){if(d=i[dr])return d;i=Jm(i)}return l}i=d,d=i.parentNode}return null}function Vo(i){return i=i[dr]||i[Nr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function xa(i){return i[Ho]||null}var od=[],bs=-1;function Zr(i){return{current:i}}function Qe(i){0>bs||(i.current=od[bs],od[bs]=null,bs--)}function Ye(i,l){bs++,od[bs]=i.current,i.current=l}var ei={},Mt=Zr(ei),tn=Zr(!1),Ai=ei;function ks(i,l){var d=i.type.contextTypes;if(!d)return ei;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in d)y[w]=l[w];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=y),y}function nn(i){return i=i.childContextTypes,i!=null}function ba(){Qe(tn),Qe(Mt)}function Qm(i,l,d){if(Mt.current!==ei)throw Error(n(168));Ye(Mt,l),Ye(tn,d)}function Xm(i,l,d){var p=i.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(n(108,fe(i)||"Unknown",y));return E({},d,p)}function ka(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ei,Ai=Mt.current,Ye(Mt,i),Ye(tn,tn.current),!0}function Zm(i,l,d){var p=i.stateNode;if(!p)throw Error(n(169));d?(i=Xm(i,l,Ai),p.__reactInternalMemoizedMergedChildContext=i,Qe(tn),Qe(Mt),Ye(Mt,i)):Qe(tn),Ye(tn,d)}var Rr=null,Sa=!1,ld=!1;function eg(i){Rr===null?Rr=[i]:Rr.push(i)}function dS(i){Sa=!0,eg(i)}function ti(){if(!ld&&Rr!==null){ld=!0;var i=0,l=Ue;try{var d=Rr;for(Ue=1;i<d.length;i++){var p=d[i];do p=p(!0);while(p!==null)}Rr=null,Sa=!1}catch(y){throw Rr!==null&&(Rr=Rr.slice(i+1)),nm(Ic,ti),y}finally{Ue=l,ld=!1}}return null}var Ss=[],Es=0,Ea=null,_a=0,Rn=[],Pn=0,Oi=null,Pr=1,Ar="";function Di(i,l){Ss[Es++]=_a,Ss[Es++]=Ea,Ea=i,_a=l}function tg(i,l,d){Rn[Pn++]=Pr,Rn[Pn++]=Ar,Rn[Pn++]=Oi,Oi=i;var p=Pr;i=Ar;var y=32-Vn(p)-1;p&=~(1<<y),d+=1;var w=32-Vn(l)+y;if(30<w){var T=y-y%5;w=(p&(1<<T)-1).toString(32),p>>=T,y-=T,Pr=1<<32-Vn(l)+y|d<<y|p,Ar=w+i}else Pr=1<<w|d<<y|p,Ar=i}function ad(i){i.return!==null&&(Di(i,1),tg(i,1,0))}function ud(i){for(;i===Ea;)Ea=Ss[--Es],Ss[Es]=null,_a=Ss[--Es],Ss[Es]=null;for(;i===Oi;)Oi=Rn[--Pn],Rn[Pn]=null,Ar=Rn[--Pn],Rn[Pn]=null,Pr=Rn[--Pn],Rn[Pn]=null}var gn=null,vn=null,tt=!1,Yn=null;function ng(i,l){var d=Ln(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=i,l=i.deletions,l===null?(i.deletions=[d],i.flags|=16):l.push(d)}function rg(i,l){switch(i.tag){case 5:var d=i.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,gn=i,vn=Xr(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,gn=i,vn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Oi!==null?{id:Pr,overflow:Ar}:null,i.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Ln(18,null,null,0),d.stateNode=l,d.return=i,i.child=d,gn=i,vn=null,!0):!1;default:return!1}}function cd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function dd(i){if(tt){var l=vn;if(l){var d=l;if(!rg(i,l)){if(cd(i))throw Error(n(418));l=Xr(d.nextSibling);var p=gn;l&&rg(i,l)?ng(p,d):(i.flags=i.flags&-4097|2,tt=!1,gn=i)}}else{if(cd(i))throw Error(n(418));i.flags=i.flags&-4097|2,tt=!1,gn=i}}}function ig(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function Ca(i){if(i!==gn)return!1;if(!tt)return ig(i),tt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!nd(i.type,i.memoizedProps)),l&&(l=vn)){if(cd(i))throw sg(),Error(n(418));for(;l;)ng(i,l),l=Xr(l.nextSibling)}if(ig(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(l===0){vn=Xr(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}i=i.nextSibling}vn=null}}else vn=gn?Xr(i.stateNode.nextSibling):null;return!0}function sg(){for(var i=vn;i;)i=Xr(i.nextSibling)}function _s(){vn=gn=null,tt=!1}function fd(i){Yn===null?Yn=[i]:Yn.push(i)}var fS=F.ReactCurrentBatchConfig;function qo(i,l,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,i));var y=p,w=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(T){var z=y.refs;T===null?delete z[w]:z[w]=T},l._stringRef=w,l)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function ja(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function og(i){var l=i._init;return l(i._payload)}function lg(i){function l(G,V){if(i){var Q=G.deletions;Q===null?(G.deletions=[V],G.flags|=16):Q.push(V)}}function d(G,V){if(!i)return null;for(;V!==null;)l(G,V),V=V.sibling;return null}function p(G,V){for(G=new Map;V!==null;)V.key!==null?G.set(V.key,V):G.set(V.index,V),V=V.sibling;return G}function y(G,V){return G=ui(G,V),G.index=0,G.sibling=null,G}function w(G,V,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<V?(G.flags|=2,V):Q):(G.flags|=2,V)):(G.flags|=1048576,V)}function T(G){return i&&G.alternate===null&&(G.flags|=2),G}function z(G,V,Q,ce){return V===null||V.tag!==6?(V=rf(Q,G.mode,ce),V.return=G,V):(V=y(V,Q),V.return=G,V)}function W(G,V,Q,ce){var xe=Q.type;return xe===Y?oe(G,V,Q.props.children,ce,Q.key):V!==null&&(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&og(xe)===V.type)?(ce=y(V,Q.props),ce.ref=qo(G,V,Q),ce.return=G,ce):(ce=Qa(Q.type,Q.key,Q.props,null,G.mode,ce),ce.ref=qo(G,V,Q),ce.return=G,ce)}function Z(G,V,Q,ce){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=sf(Q,G.mode,ce),V.return=G,V):(V=y(V,Q.children||[]),V.return=G,V)}function oe(G,V,Q,ce,xe){return V===null||V.tag!==7?(V=Wi(Q,G.mode,ce,xe),V.return=G,V):(V=y(V,Q),V.return=G,V)}function le(G,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=rf(""+V,G.mode,Q),V.return=G,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case H:return Q=Qa(V.type,V.key,V.props,null,G.mode,Q),Q.ref=qo(G,null,V),Q.return=G,Q;case A:return V=sf(V,G.mode,Q),V.return=G,V;case $:var ce=V._init;return le(G,ce(V._payload),Q)}if(It(V)||q(V))return V=Wi(V,G.mode,Q,null),V.return=G,V;ja(G,V)}return null}function se(G,V,Q,ce){var xe=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return xe!==null?null:z(G,V,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return Q.key===xe?W(G,V,Q,ce):null;case A:return Q.key===xe?Z(G,V,Q,ce):null;case $:return xe=Q._init,se(G,V,xe(Q._payload),ce)}if(It(Q)||q(Q))return xe!==null?null:oe(G,V,Q,ce,null);ja(G,Q)}return null}function ge(G,V,Q,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return G=G.get(Q)||null,z(V,G,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case H:return G=G.get(ce.key===null?Q:ce.key)||null,W(V,G,ce,xe);case A:return G=G.get(ce.key===null?Q:ce.key)||null,Z(V,G,ce,xe);case $:var ke=ce._init;return ge(G,V,Q,ke(ce._payload),xe)}if(It(ce)||q(ce))return G=G.get(Q)||null,oe(V,G,ce,xe,null);ja(V,ce)}return null}function ye(G,V,Q,ce){for(var xe=null,ke=null,Se=V,je=V=0,_t=null;Se!==null&&je<Q.length;je++){Se.index>je?(_t=Se,Se=null):_t=Se.sibling;var Fe=se(G,Se,Q[je],ce);if(Fe===null){Se===null&&(Se=_t);break}i&&Se&&Fe.alternate===null&&l(G,Se),V=w(Fe,V,je),ke===null?xe=Fe:ke.sibling=Fe,ke=Fe,Se=_t}if(je===Q.length)return d(G,Se),tt&&Di(G,je),xe;if(Se===null){for(;je<Q.length;je++)Se=le(G,Q[je],ce),Se!==null&&(V=w(Se,V,je),ke===null?xe=Se:ke.sibling=Se,ke=Se);return tt&&Di(G,je),xe}for(Se=p(G,Se);je<Q.length;je++)_t=ge(Se,G,je,Q[je],ce),_t!==null&&(i&&_t.alternate!==null&&Se.delete(_t.key===null?je:_t.key),V=w(_t,V,je),ke===null?xe=_t:ke.sibling=_t,ke=_t);return i&&Se.forEach(function(ci){return l(G,ci)}),tt&&Di(G,je),xe}function we(G,V,Q,ce){var xe=q(Q);if(typeof xe!="function")throw Error(n(150));if(Q=xe.call(Q),Q==null)throw Error(n(151));for(var ke=xe=null,Se=V,je=V=0,_t=null,Fe=Q.next();Se!==null&&!Fe.done;je++,Fe=Q.next()){Se.index>je?(_t=Se,Se=null):_t=Se.sibling;var ci=se(G,Se,Fe.value,ce);if(ci===null){Se===null&&(Se=_t);break}i&&Se&&ci.alternate===null&&l(G,Se),V=w(ci,V,je),ke===null?xe=ci:ke.sibling=ci,ke=ci,Se=_t}if(Fe.done)return d(G,Se),tt&&Di(G,je),xe;if(Se===null){for(;!Fe.done;je++,Fe=Q.next())Fe=le(G,Fe.value,ce),Fe!==null&&(V=w(Fe,V,je),ke===null?xe=Fe:ke.sibling=Fe,ke=Fe);return tt&&Di(G,je),xe}for(Se=p(G,Se);!Fe.done;je++,Fe=Q.next())Fe=ge(Se,G,je,Fe.value,ce),Fe!==null&&(i&&Fe.alternate!==null&&Se.delete(Fe.key===null?je:Fe.key),V=w(Fe,V,je),ke===null?xe=Fe:ke.sibling=Fe,ke=Fe);return i&&Se.forEach(function(VS){return l(G,VS)}),tt&&Di(G,je),xe}function dt(G,V,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===Y&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:e:{for(var xe=Q.key,ke=V;ke!==null;){if(ke.key===xe){if(xe=Q.type,xe===Y){if(ke.tag===7){d(G,ke.sibling),V=y(ke,Q.props.children),V.return=G,G=V;break e}}else if(ke.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&og(xe)===ke.type){d(G,ke.sibling),V=y(ke,Q.props),V.ref=qo(G,ke,Q),V.return=G,G=V;break e}d(G,ke);break}else l(G,ke);ke=ke.sibling}Q.type===Y?(V=Wi(Q.props.children,G.mode,ce,Q.key),V.return=G,G=V):(ce=Qa(Q.type,Q.key,Q.props,null,G.mode,ce),ce.ref=qo(G,V,Q),ce.return=G,G=ce)}return T(G);case A:e:{for(ke=Q.key;V!==null;){if(V.key===ke)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){d(G,V.sibling),V=y(V,Q.children||[]),V.return=G,G=V;break e}else{d(G,V);break}else l(G,V);V=V.sibling}V=sf(Q,G.mode,ce),V.return=G,G=V}return T(G);case $:return ke=Q._init,dt(G,V,ke(Q._payload),ce)}if(It(Q))return ye(G,V,Q,ce);if(q(Q))return we(G,V,Q,ce);ja(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,V!==null&&V.tag===6?(d(G,V.sibling),V=y(V,Q),V.return=G,G=V):(d(G,V),V=rf(Q,G.mode,ce),V.return=G,G=V),T(G)):d(G,V)}return dt}var Cs=lg(!0),ag=lg(!1),Ta=Zr(null),Ia=null,js=null,hd=null;function pd(){hd=js=Ia=null}function md(i){var l=Ta.current;Qe(Ta),i._currentValue=l}function gd(i,l,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===d)break;i=i.return}}function Ts(i,l){Ia=i,hd=js=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(rn=!0),i.firstContext=null)}function An(i){var l=i._currentValue;if(hd!==i)if(i={context:i,memoizedValue:l,next:null},js===null){if(Ia===null)throw Error(n(308));js=i,Ia.dependencies={lanes:0,firstContext:i}}else js=js.next=i;return l}var Li=null;function vd(i){Li===null?Li=[i]:Li.push(i)}function ug(i,l,d,p){var y=l.interleaved;return y===null?(d.next=d,vd(l)):(d.next=y.next,y.next=d),l.interleaved=d,Or(i,p)}function Or(i,l){i.lanes|=l;var d=i.alternate;for(d!==null&&(d.lanes|=l),d=i,i=i.return;i!==null;)i.childLanes|=l,d=i.alternate,d!==null&&(d.childLanes|=l),d=i,i=i.return;return d.tag===3?d.stateNode:null}var ni=!1;function yd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cg(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Dr(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function ri(i,l,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Me&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,Or(i,d)}return y=p.interleaved,y===null?(l.next=l,vd(p)):(l.next=y.next,y.next=l),p.interleaved=l,Or(i,d)}function Na(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,Pc(i,d)}}function dg(i,l){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var y=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var T={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?y=w=T:w=w.next=T,d=d.next}while(d!==null);w===null?y=w=l:w=w.next=l}else y=w=l;d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}function Ra(i,l,d,p){var y=i.updateQueue;ni=!1;var w=y.firstBaseUpdate,T=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var W=z,Z=W.next;W.next=null,T===null?w=Z:T.next=Z,T=W;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,z=oe.lastBaseUpdate,z!==T&&(z===null?oe.firstBaseUpdate=Z:z.next=Z,oe.lastBaseUpdate=W))}if(w!==null){var le=y.baseState;T=0,oe=Z=W=null,z=w;do{var se=z.lane,ge=z.eventTime;if((p&se)===se){oe!==null&&(oe=oe.next={eventTime:ge,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var ye=i,we=z;switch(se=l,ge=d,we.tag){case 1:if(ye=we.payload,typeof ye=="function"){le=ye.call(ge,le,se);break e}le=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,se=typeof ye=="function"?ye.call(ge,le,se):ye,se==null)break e;le=E({},le,se);break e;case 2:ni=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,se=y.effects,se===null?y.effects=[z]:se.push(z))}else ge={eventTime:ge,lane:se,tag:z.tag,payload:z.payload,callback:z.callback,next:null},oe===null?(Z=oe=ge,W=le):oe=oe.next=ge,T|=se;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;se=z,z=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(oe===null&&(W=le),y.baseState=W,y.firstBaseUpdate=Z,y.lastBaseUpdate=oe,l=y.shared.interleaved,l!==null){y=l;do T|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Fi|=T,i.lanes=T,i.memoizedState=le}}function fg(i,l,d){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var p=i[l],y=p.callback;if(y!==null){if(p.callback=null,p=d,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Yo={},fr=Zr(Yo),Ko=Zr(Yo),Go=Zr(Yo);function Mi(i){if(i===Yo)throw Error(n(174));return i}function wd(i,l){switch(Ye(Go,l),Ye(Ko,i),Ye(fr,Yo),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ue(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=ue(l,i)}Qe(fr),Ye(fr,l)}function Is(){Qe(fr),Qe(Ko),Qe(Go)}function hg(i){Mi(Go.current);var l=Mi(fr.current),d=ue(l,i.type);l!==d&&(Ye(Ko,i),Ye(fr,d))}function xd(i){Ko.current===i&&(Qe(fr),Qe(Ko))}var it=Zr(0);function Pa(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var bd=[];function kd(){for(var i=0;i<bd.length;i++)bd[i]._workInProgressVersionPrimary=null;bd.length=0}var Aa=F.ReactCurrentDispatcher,Sd=F.ReactCurrentBatchConfig,$i=0,st=null,wt=null,St=null,Oa=!1,Jo=!1,Qo=0,hS=0;function $t(){throw Error(n(321))}function Ed(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!qn(i[d],l[d]))return!1;return!0}function _d(i,l,d,p,y,w){if($i=w,st=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Aa.current=i===null||i.memoizedState===null?vS:yS,i=d(p,y),Jo){w=0;do{if(Jo=!1,Qo=0,25<=w)throw Error(n(301));w+=1,St=wt=null,l.updateQueue=null,Aa.current=wS,i=d(p,y)}while(Jo)}if(Aa.current=Ma,l=wt!==null&&wt.next!==null,$i=0,St=wt=st=null,Oa=!1,l)throw Error(n(300));return i}function Cd(){var i=Qo!==0;return Qo=0,i}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?st.memoizedState=St=i:St=St.next=i,St}function On(){if(wt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var l=St===null?st.memoizedState:St.next;if(l!==null)St=l,wt=i;else{if(i===null)throw Error(n(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},St===null?st.memoizedState=St=i:St=St.next=i}return St}function Xo(i,l){return typeof l=="function"?l(i):l}function jd(i){var l=On(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=wt,y=p.baseQueue,w=d.pending;if(w!==null){if(y!==null){var T=y.next;y.next=w.next,w.next=T}p.baseQueue=y=w,d.pending=null}if(y!==null){w=y.next,p=p.baseState;var z=T=null,W=null,Z=w;do{var oe=Z.lane;if(($i&oe)===oe)W!==null&&(W=W.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:i(p,Z.action);else{var le={lane:oe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};W===null?(z=W=le,T=p):W=W.next=le,st.lanes|=oe,Fi|=oe}Z=Z.next}while(Z!==null&&Z!==w);W===null?T=p:W.next=z,qn(p,l.memoizedState)||(rn=!0),l.memoizedState=p,l.baseState=T,l.baseQueue=W,d.lastRenderedState=p}if(i=d.interleaved,i!==null){y=i;do w=y.lane,st.lanes|=w,Fi|=w,y=y.next;while(y!==i)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Td(i){var l=On(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,y=d.pending,w=l.memoizedState;if(y!==null){d.pending=null;var T=y=y.next;do w=i(w,T.action),T=T.next;while(T!==y);qn(w,l.memoizedState)||(rn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,p]}function pg(){}function mg(i,l){var d=st,p=On(),y=l(),w=!qn(p.memoizedState,y);if(w&&(p.memoizedState=y,rn=!0),p=p.queue,Id(yg.bind(null,d,p,i),[i]),p.getSnapshot!==l||w||St!==null&&St.memoizedState.tag&1){if(d.flags|=2048,Zo(9,vg.bind(null,d,p,y,l),void 0,null),Et===null)throw Error(n(349));($i&30)!==0||gg(d,l,y)}return y}function gg(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=st.updateQueue,l===null?(l={lastEffect:null,stores:null},st.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function vg(i,l,d,p){l.value=d,l.getSnapshot=p,wg(l)&&xg(i)}function yg(i,l,d){return d(function(){wg(l)&&xg(i)})}function wg(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!qn(i,d)}catch{return!0}}function xg(i){var l=Or(i,1);l!==null&&Qn(l,i,1,-1)}function bg(i){var l=hr();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:i},l.queue=i,i=i.dispatch=gS.bind(null,st,i),[l.memoizedState,i]}function Zo(i,l,d,p){return i={tag:i,create:l,destroy:d,deps:p,next:null},l=st.updateQueue,l===null?(l={lastEffect:null,stores:null},st.updateQueue=l,l.lastEffect=i.next=i):(d=l.lastEffect,d===null?l.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,l.lastEffect=i)),i}function kg(){return On().memoizedState}function Da(i,l,d,p){var y=hr();st.flags|=i,y.memoizedState=Zo(1|l,d,void 0,p===void 0?null:p)}function La(i,l,d,p){var y=On();p=p===void 0?null:p;var w=void 0;if(wt!==null){var T=wt.memoizedState;if(w=T.destroy,p!==null&&Ed(p,T.deps)){y.memoizedState=Zo(l,d,w,p);return}}st.flags|=i,y.memoizedState=Zo(1|l,d,w,p)}function Sg(i,l){return Da(8390656,8,i,l)}function Id(i,l){return La(2048,8,i,l)}function Eg(i,l){return La(4,2,i,l)}function _g(i,l){return La(4,4,i,l)}function Cg(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function jg(i,l,d){return d=d!=null?d.concat([i]):null,La(4,4,Cg.bind(null,l,i),d)}function Nd(){}function Tg(i,l){var d=On();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&Ed(l,p[1])?p[0]:(d.memoizedState=[i,l],i)}function Ig(i,l){var d=On();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&Ed(l,p[1])?p[0]:(i=i(),d.memoizedState=[i,l],i)}function Ng(i,l,d){return($i&21)===0?(i.baseState&&(i.baseState=!1,rn=!0),i.memoizedState=d):(qn(d,l)||(d=om(),st.lanes|=d,Fi|=d,i.baseState=!0),l)}function pS(i,l){var d=Ue;Ue=d!==0&&4>d?d:4,i(!0);var p=Sd.transition;Sd.transition={};try{i(!1),l()}finally{Ue=d,Sd.transition=p}}function Rg(){return On().memoizedState}function mS(i,l,d){var p=li(i);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},Pg(i))Ag(l,d);else if(d=ug(i,l,d,p),d!==null){var y=Kt();Qn(d,i,p,y),Og(d,l,p)}}function gS(i,l,d){var p=li(i),y={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(Pg(i))Ag(l,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var T=l.lastRenderedState,z=w(T,d);if(y.hasEagerState=!0,y.eagerState=z,qn(z,T)){var W=l.interleaved;W===null?(y.next=y,vd(l)):(y.next=W.next,W.next=y),l.interleaved=y;return}}catch{}finally{}d=ug(i,l,y,p),d!==null&&(y=Kt(),Qn(d,i,p,y),Og(d,l,p))}}function Pg(i){var l=i.alternate;return i===st||l!==null&&l===st}function Ag(i,l){Jo=Oa=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function Og(i,l,d){if((d&4194240)!==0){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,Pc(i,d)}}var Ma={readContext:An,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},vS={readContext:An,useCallback:function(i,l){return hr().memoizedState=[i,l===void 0?null:l],i},useContext:An,useEffect:Sg,useImperativeHandle:function(i,l,d){return d=d!=null?d.concat([i]):null,Da(4194308,4,Cg.bind(null,l,i),d)},useLayoutEffect:function(i,l){return Da(4194308,4,i,l)},useInsertionEffect:function(i,l){return Da(4,2,i,l)},useMemo:function(i,l){var d=hr();return l=l===void 0?null:l,i=i(),d.memoizedState=[i,l],i},useReducer:function(i,l,d){var p=hr();return l=d!==void 0?d(l):l,p.memoizedState=p.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},p.queue=i,i=i.dispatch=mS.bind(null,st,i),[p.memoizedState,i]},useRef:function(i){var l=hr();return i={current:i},l.memoizedState=i},useState:bg,useDebugValue:Nd,useDeferredValue:function(i){return hr().memoizedState=i},useTransition:function(){var i=bg(!1),l=i[0];return i=pS.bind(null,i[1]),hr().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,d){var p=st,y=hr();if(tt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Et===null)throw Error(n(349));($i&30)!==0||gg(p,l,d)}y.memoizedState=d;var w={value:d,getSnapshot:l};return y.queue=w,Sg(yg.bind(null,p,w,i),[i]),p.flags|=2048,Zo(9,vg.bind(null,p,w,d,l),void 0,null),d},useId:function(){var i=hr(),l=Et.identifierPrefix;if(tt){var d=Ar,p=Pr;d=(p&~(1<<32-Vn(p)-1)).toString(32)+d,l=":"+l+"R"+d,d=Qo++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=hS++,l=":"+l+"r"+d.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},yS={readContext:An,useCallback:Tg,useContext:An,useEffect:Id,useImperativeHandle:jg,useInsertionEffect:Eg,useLayoutEffect:_g,useMemo:Ig,useReducer:jd,useRef:kg,useState:function(){return jd(Xo)},useDebugValue:Nd,useDeferredValue:function(i){var l=On();return Ng(l,wt.memoizedState,i)},useTransition:function(){var i=jd(Xo)[0],l=On().memoizedState;return[i,l]},useMutableSource:pg,useSyncExternalStore:mg,useId:Rg,unstable_isNewReconciler:!1},wS={readContext:An,useCallback:Tg,useContext:An,useEffect:Id,useImperativeHandle:jg,useInsertionEffect:Eg,useLayoutEffect:_g,useMemo:Ig,useReducer:Td,useRef:kg,useState:function(){return Td(Xo)},useDebugValue:Nd,useDeferredValue:function(i){var l=On();return wt===null?l.memoizedState=i:Ng(l,wt.memoizedState,i)},useTransition:function(){var i=Td(Xo)[0],l=On().memoizedState;return[i,l]},useMutableSource:pg,useSyncExternalStore:mg,useId:Rg,unstable_isNewReconciler:!1};function Kn(i,l){if(i&&i.defaultProps){l=E({},l),i=i.defaultProps;for(var d in i)l[d]===void 0&&(l[d]=i[d]);return l}return l}function Rd(i,l,d,p){l=i.memoizedState,d=d(p,l),d=d==null?l:E({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var $a={isMounted:function(i){return(i=i._reactInternals)?Ri(i)===i:!1},enqueueSetState:function(i,l,d){i=i._reactInternals;var p=Kt(),y=li(i),w=Dr(p,y);w.payload=l,d!=null&&(w.callback=d),l=ri(i,w,y),l!==null&&(Qn(l,i,y,p),Na(l,i,y))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var p=Kt(),y=li(i),w=Dr(p,y);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=ri(i,w,y),l!==null&&(Qn(l,i,y,p),Na(l,i,y))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=Kt(),p=li(i),y=Dr(d,p);y.tag=2,l!=null&&(y.callback=l),l=ri(i,y,p),l!==null&&(Qn(l,i,p,d),Na(l,i,p))}};function Dg(i,l,d,p,y,w,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,T):l.prototype&&l.prototype.isPureReactComponent?!Fo(d,p)||!Fo(y,w):!0}function Lg(i,l,d){var p=!1,y=ei,w=l.contextType;return typeof w=="object"&&w!==null?w=An(w):(y=nn(l)?Ai:Mt.current,p=l.contextTypes,w=(p=p!=null)?ks(i,y):ei),l=new l(d,w),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=$a,i.stateNode=l,l._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=w),l}function Mg(i,l,d,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==i&&$a.enqueueReplaceState(l,l.state,null)}function Pd(i,l,d,p){var y=i.stateNode;y.props=d,y.state=i.memoizedState,y.refs={},yd(i);var w=l.contextType;typeof w=="object"&&w!==null?y.context=An(w):(w=nn(l)?Ai:Mt.current,y.context=ks(i,w)),y.state=i.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Rd(i,l,w,d),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&$a.enqueueReplaceState(y,y.state,null),Ra(i,d,y,p),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Ns(i,l){try{var d="",p=l;do d+=te(p),p=p.return;while(p);var y=d}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:l,stack:y,digest:null}}function Ad(i,l,d){return{value:i,source:null,stack:d??null,digest:l??null}}function Od(i,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var xS=typeof WeakMap=="function"?WeakMap:Map;function $g(i,l,d){d=Dr(-1,d),d.tag=3,d.payload={element:null};var p=l.value;return d.callback=function(){Va||(Va=!0,Gd=p),Od(i,l)},d}function Fg(i,l,d){d=Dr(-1,d),d.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;d.payload=function(){return p(y)},d.callback=function(){Od(i,l)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Od(i,l),typeof p!="function"&&(si===null?si=new Set([this]):si.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})}),d}function zg(i,l,d){var p=i.pingCache;if(p===null){p=i.pingCache=new xS;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(d)||(y.add(d),i=OS.bind(null,i,l,d),l.then(i,i))}function Ug(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Bg(i,l,d,p,y){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Dr(-1,1),l.tag=2,ri(d,l,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var bS=F.ReactCurrentOwner,rn=!1;function Yt(i,l,d,p){l.child=i===null?ag(l,null,d,p):Cs(l,i.child,d,p)}function Wg(i,l,d,p,y){d=d.render;var w=l.ref;return Ts(l,y),p=_d(i,l,d,p,w,y),d=Cd(),i!==null&&!rn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,Lr(i,l,y)):(tt&&d&&ad(l),l.flags|=1,Yt(i,l,p,y),l.child)}function Hg(i,l,d,p,y){if(i===null){var w=d.type;return typeof w=="function"&&!nf(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,Vg(i,l,w,p,y)):(i=Qa(d.type,null,p,l,l.mode,y),i.ref=l.ref,i.return=l,l.child=i)}if(w=i.child,(i.lanes&y)===0){var T=w.memoizedProps;if(d=d.compare,d=d!==null?d:Fo,d(T,p)&&i.ref===l.ref)return Lr(i,l,y)}return l.flags|=1,i=ui(w,p),i.ref=l.ref,i.return=l,l.child=i}function Vg(i,l,d,p,y){if(i!==null){var w=i.memoizedProps;if(Fo(w,p)&&i.ref===l.ref)if(rn=!1,l.pendingProps=p=w,(i.lanes&y)!==0)(i.flags&131072)!==0&&(rn=!0);else return l.lanes=i.lanes,Lr(i,l,y)}return Dd(i,l,d,p,y)}function qg(i,l,d){var p=l.pendingProps,y=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ps,yn),yn|=d;else{if((d&1073741824)===0)return i=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ye(Ps,yn),yn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:d,Ye(Ps,yn),yn|=p}else w!==null?(p=w.baseLanes|d,l.memoizedState=null):p=d,Ye(Ps,yn),yn|=p;return Yt(i,l,y,d),l.child}function Yg(i,l){var d=l.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Dd(i,l,d,p,y){var w=nn(d)?Ai:Mt.current;return w=ks(l,w),Ts(l,y),d=_d(i,l,d,p,w,y),p=Cd(),i!==null&&!rn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,Lr(i,l,y)):(tt&&p&&ad(l),l.flags|=1,Yt(i,l,d,y),l.child)}function Kg(i,l,d,p,y){if(nn(d)){var w=!0;ka(l)}else w=!1;if(Ts(l,y),l.stateNode===null)za(i,l),Lg(l,d,p),Pd(l,d,p,y),p=!0;else if(i===null){var T=l.stateNode,z=l.memoizedProps;T.props=z;var W=T.context,Z=d.contextType;typeof Z=="object"&&Z!==null?Z=An(Z):(Z=nn(d)?Ai:Mt.current,Z=ks(l,Z));var oe=d.getDerivedStateFromProps,le=typeof oe=="function"||typeof T.getSnapshotBeforeUpdate=="function";le||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==p||W!==Z)&&Mg(l,T,p,Z),ni=!1;var se=l.memoizedState;T.state=se,Ra(l,p,T,y),W=l.memoizedState,z!==p||se!==W||tn.current||ni?(typeof oe=="function"&&(Rd(l,d,oe,p),W=l.memoizedState),(z=ni||Dg(l,d,z,p,se,W,Z))?(le||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=W),T.props=p,T.state=W,T.context=Z,p=z):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{T=l.stateNode,cg(i,l),z=l.memoizedProps,Z=l.type===l.elementType?z:Kn(l.type,z),T.props=Z,le=l.pendingProps,se=T.context,W=d.contextType,typeof W=="object"&&W!==null?W=An(W):(W=nn(d)?Ai:Mt.current,W=ks(l,W));var ge=d.getDerivedStateFromProps;(oe=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==le||se!==W)&&Mg(l,T,p,W),ni=!1,se=l.memoizedState,T.state=se,Ra(l,p,T,y);var ye=l.memoizedState;z!==le||se!==ye||tn.current||ni?(typeof ge=="function"&&(Rd(l,d,ge,p),ye=l.memoizedState),(Z=ni||Dg(l,d,Z,p,se,ye,W)||!1)?(oe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,ye,W),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,ye,W)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||z===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ye),T.props=p,T.state=ye,T.context=W,p=Z):(typeof T.componentDidUpdate!="function"||z===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),p=!1)}return Ld(i,l,d,p,w,y)}function Ld(i,l,d,p,y,w){Yg(i,l);var T=(l.flags&128)!==0;if(!p&&!T)return y&&Zm(l,d,!1),Lr(i,l,w);p=l.stateNode,bS.current=l;var z=T&&typeof d.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,i!==null&&T?(l.child=Cs(l,i.child,null,w),l.child=Cs(l,null,z,w)):Yt(i,l,z,w),l.memoizedState=p.state,y&&Zm(l,d,!0),l.child}function Gg(i){var l=i.stateNode;l.pendingContext?Qm(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Qm(i,l.context,!1),wd(i,l.containerInfo)}function Jg(i,l,d,p,y){return _s(),fd(y),l.flags|=256,Yt(i,l,d,p),l.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function $d(i){return{baseLanes:i,cachePool:null,transitions:null}}function Qg(i,l,d){var p=l.pendingProps,y=it.current,w=!1,T=(l.flags&128)!==0,z;if((z=T)||(z=i!==null&&i.memoizedState===null?!1:(y&2)!==0),z?(w=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Ye(it,y&1),i===null)return dd(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(T=p.children,i=p.fallback,w?(p=l.mode,w=l.child,T={mode:"hidden",children:T},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=T):w=Xa(T,p,0,null),i=Wi(i,p,d,null),w.return=l,i.return=l,w.sibling=i,l.child=w,l.child.memoizedState=$d(d),l.memoizedState=Md,i):Fd(l,T));if(y=i.memoizedState,y!==null&&(z=y.dehydrated,z!==null))return kS(i,l,T,p,z,y,d);if(w){w=p.fallback,T=l.mode,y=i.child,z=y.sibling;var W={mode:"hidden",children:p.children};return(T&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=W,l.deletions=null):(p=ui(y,W),p.subtreeFlags=y.subtreeFlags&14680064),z!==null?w=ui(z,w):(w=Wi(w,T,d,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,T=i.child.memoizedState,T=T===null?$d(d):{baseLanes:T.baseLanes|d,cachePool:null,transitions:T.transitions},w.memoizedState=T,w.childLanes=i.childLanes&~d,l.memoizedState=Md,p}return w=i.child,i=w.sibling,p=ui(w,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=d),p.return=l,p.sibling=null,i!==null&&(d=l.deletions,d===null?(l.deletions=[i],l.flags|=16):d.push(i)),l.child=p,l.memoizedState=null,p}function Fd(i,l){return l=Xa({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Fa(i,l,d,p){return p!==null&&fd(p),Cs(l,i.child,null,d),i=Fd(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function kS(i,l,d,p,y,w,T){if(d)return l.flags&256?(l.flags&=-257,p=Ad(Error(n(422))),Fa(i,l,T,p)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(w=p.fallback,y=l.mode,p=Xa({mode:"visible",children:p.children},y,0,null),w=Wi(w,y,T,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,(l.mode&1)!==0&&Cs(l,i.child,null,T),l.child.memoizedState=$d(T),l.memoizedState=Md,w);if((l.mode&1)===0)return Fa(i,l,T,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var z=p.dgst;return p=z,w=Error(n(419)),p=Ad(w,p,void 0),Fa(i,l,T,p)}if(z=(T&i.childLanes)!==0,rn||z){if(p=Et,p!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|T))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Or(i,y),Qn(p,i,y,-1))}return tf(),p=Ad(Error(n(421))),Fa(i,l,T,p)}return y.data==="$?"?(l.flags|=128,l.child=i.child,l=DS.bind(null,i),y._reactRetry=l,null):(i=w.treeContext,vn=Xr(y.nextSibling),gn=l,tt=!0,Yn=null,i!==null&&(Rn[Pn++]=Pr,Rn[Pn++]=Ar,Rn[Pn++]=Oi,Pr=i.id,Ar=i.overflow,Oi=l),l=Fd(l,p.children),l.flags|=4096,l)}function Xg(i,l,d){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),gd(i.return,l,d)}function zd(i,l,d,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=d,w.tailMode=y)}function Zg(i,l,d){var p=l.pendingProps,y=p.revealOrder,w=p.tail;if(Yt(i,l,p.children,d),p=it.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Xg(i,d,l);else if(i.tag===19)Xg(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Ye(it,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)i=d.alternate,i!==null&&Pa(i)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),zd(l,!1,y,d,w);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(i=y.alternate,i!==null&&Pa(i)===null){l.child=y;break}i=y.sibling,y.sibling=d,d=y,y=i}zd(l,!0,d,null,w);break;case"together":zd(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function za(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Lr(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),Fi|=l.lanes,(d&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,d=ui(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=ui(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function SS(i,l,d){switch(l.tag){case 3:Gg(l),_s();break;case 5:hg(l);break;case 1:nn(l.type)&&ka(l);break;case 4:wd(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;Ye(Ta,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(Ye(it,it.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?Qg(i,l,d):(Ye(it,it.current&1),i=Lr(i,l,d),i!==null?i.sibling:null);Ye(it,it.current&1);break;case 19:if(p=(d&l.childLanes)!==0,(i.flags&128)!==0){if(p)return Zg(i,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ye(it,it.current),p)break;return null;case 22:case 23:return l.lanes=0,qg(i,l,d)}return Lr(i,l,d)}var ev,Ud,tv,nv;ev=function(i,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ud=function(){},tv=function(i,l,d,p){var y=i.memoizedProps;if(y!==p){i=l.stateNode,Mi(fr.current);var w=null;switch(d){case"input":y=Vt(i,y),p=Vt(i,p),w=[];break;case"select":y=E({},y,{value:void 0}),p=E({},p,{value:void 0}),w=[];break;case"textarea":y=lr(i,y),p=lr(i,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=wa)}ft(d,p);var T;d=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var z=y[Z];for(T in z)z.hasOwnProperty(T)&&(d||(d={}),d[T]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in p){var W=p[Z];if(z=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&W!==z&&(W!=null||z!=null))if(Z==="style")if(z){for(T in z)!z.hasOwnProperty(T)||W&&W.hasOwnProperty(T)||(d||(d={}),d[T]="");for(T in W)W.hasOwnProperty(T)&&z[T]!==W[T]&&(d||(d={}),d[T]=W[T])}else d||(w||(w=[]),w.push(Z,d)),d=W;else Z==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,z=z?z.__html:void 0,W!=null&&z!==W&&(w=w||[]).push(Z,W)):Z==="children"?typeof W!="string"&&typeof W!="number"||(w=w||[]).push(Z,""+W):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(W!=null&&Z==="onScroll"&&Je("scroll",i),w||z===W||(w=[])):(w=w||[]).push(Z,W))}d&&(w=w||[]).push("style",d);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},nv=function(i,l,d,p){d!==p&&(l.flags|=4)};function el(i,l){if(!tt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Ft(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(l)for(var y=i.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=d,l}function ES(i,l,d){var p=l.pendingProps;switch(ud(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(l),null;case 1:return nn(l.type)&&ba(),Ft(l),null;case 3:return p=l.stateNode,Is(),Qe(tn),Qe(Mt),kd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Ca(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Yn!==null&&(Xd(Yn),Yn=null))),Ud(i,l),Ft(l),null;case 5:xd(l);var y=Mi(Go.current);if(d=l.type,i!==null&&l.stateNode!=null)tv(i,l,d,p,y),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Ft(l),null}if(i=Mi(fr.current),Ca(l)){p=l.stateNode,d=l.type;var w=l.memoizedProps;switch(p[dr]=l,p[Ho]=w,i=(l.mode&1)!==0,d){case"dialog":Je("cancel",p),Je("close",p);break;case"iframe":case"object":case"embed":Je("load",p);break;case"video":case"audio":for(y=0;y<Uo.length;y++)Je(Uo[y],p);break;case"source":Je("error",p);break;case"img":case"image":case"link":Je("error",p),Je("load",p);break;case"details":Je("toggle",p);break;case"input":Cn(p,w),Je("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},Je("invalid",p);break;case"textarea":Ii(p,w),Je("invalid",p)}ft(d,w),y=null;for(var T in w)if(w.hasOwnProperty(T)){var z=w[T];T==="children"?typeof z=="string"?p.textContent!==z&&(w.suppressHydrationWarning!==!0&&ya(p.textContent,z,i),y=["children",z]):typeof z=="number"&&p.textContent!==""+z&&(w.suppressHydrationWarning!==!0&&ya(p.textContent,z,i),y=["children",""+z]):s.hasOwnProperty(T)&&z!=null&&T==="onScroll"&&Je("scroll",p)}switch(d){case"input":Oe(p),Ti(p,w,!0);break;case"textarea":Oe(p),fs(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=wa)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=re(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=T.createElement(d,{is:p.is}):(i=T.createElement(d),d==="select"&&(T=i,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):i=T.createElementNS(i,d),i[dr]=l,i[Ho]=p,ev(i,l,!1,!1),l.stateNode=i;e:{switch(T=In(d,p),d){case"dialog":Je("cancel",i),Je("close",i),y=p;break;case"iframe":case"object":case"embed":Je("load",i),y=p;break;case"video":case"audio":for(y=0;y<Uo.length;y++)Je(Uo[y],i);y=p;break;case"source":Je("error",i),y=p;break;case"img":case"image":case"link":Je("error",i),Je("load",i),y=p;break;case"details":Je("toggle",i),y=p;break;case"input":Cn(i,p),y=Vt(i,p),Je("invalid",i);break;case"option":y=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},y=E({},p,{value:void 0}),Je("invalid",i);break;case"textarea":Ii(i,p),y=lr(i,p),Je("invalid",i);break;default:y=p}ft(d,y),z=y;for(w in z)if(z.hasOwnProperty(w)){var W=z[w];w==="style"?ar(i,W):w==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Te(i,W)):w==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&De(i,W):typeof W=="number"&&De(i,""+W):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?W!=null&&w==="onScroll"&&Je("scroll",i):W!=null&&I(i,w,W,T))}switch(d){case"input":Oe(i),Ti(i,p,!1);break;case"textarea":Oe(i),fs(i);break;case"option":p.value!=null&&i.setAttribute("value",""+he(p.value));break;case"select":i.multiple=!!p.multiple,w=p.value,w!=null?hn(i,!!p.multiple,w,!1):p.defaultValue!=null&&hn(i,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=wa)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ft(l),null;case 6:if(i&&l.stateNode!=null)nv(i,l,i.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(d=Mi(Go.current),Mi(fr.current),Ca(l)){if(p=l.stateNode,d=l.memoizedProps,p[dr]=l,(w=p.nodeValue!==d)&&(i=gn,i!==null))switch(i.tag){case 3:ya(p.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ya(p.nodeValue,d,(i.mode&1)!==0)}w&&(l.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[dr]=l,l.stateNode=p}return Ft(l),null;case 13:if(Qe(it),p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&vn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)sg(),_s(),l.flags|=98560,w=!1;else if(w=Ca(l),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[dr]=l}else _s(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ft(l),w=!1}else Yn!==null&&(Xd(Yn),Yn=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(it.current&1)!==0?xt===0&&(xt=3):tf())),l.updateQueue!==null&&(l.flags|=4),Ft(l),null);case 4:return Is(),Ud(i,l),i===null&&Bo(l.stateNode.containerInfo),Ft(l),null;case 10:return md(l.type._context),Ft(l),null;case 17:return nn(l.type)&&ba(),Ft(l),null;case 19:if(Qe(it),w=l.memoizedState,w===null)return Ft(l),null;if(p=(l.flags&128)!==0,T=w.rendering,T===null)if(p)el(w,!1);else{if(xt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(T=Pa(i),T!==null){for(l.flags|=128,el(w,!1),p=T.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=d,d=l.child;d!==null;)w=d,i=p,w.flags&=14680066,T=w.alternate,T===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=T.childLanes,w.lanes=T.lanes,w.child=T.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=T.memoizedProps,w.memoizedState=T.memoizedState,w.updateQueue=T.updateQueue,w.type=T.type,i=T.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return Ye(it,it.current&1|2),l.child}i=i.sibling}w.tail!==null&&ct()>As&&(l.flags|=128,p=!0,el(w,!1),l.lanes=4194304)}else{if(!p)if(i=Pa(T),i!==null){if(l.flags|=128,p=!0,d=i.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),el(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!tt)return Ft(l),null}else 2*ct()-w.renderingStartTime>As&&d!==1073741824&&(l.flags|=128,p=!0,el(w,!1),l.lanes=4194304);w.isBackwards?(T.sibling=l.child,l.child=T):(d=w.last,d!==null?d.sibling=T:l.child=T,w.last=T)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=ct(),l.sibling=null,d=it.current,Ye(it,p?d&1|2:d&1),l):(Ft(l),null);case 22:case 23:return ef(),p=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(yn&1073741824)!==0&&(Ft(l),l.subtreeFlags&6&&(l.flags|=8192)):Ft(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function _S(i,l){switch(ud(l),l.tag){case 1:return nn(l.type)&&ba(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Is(),Qe(tn),Qe(Mt),kd(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return xd(l),null;case 13:if(Qe(it),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));_s()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Qe(it),null;case 4:return Is(),null;case 10:return md(l.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var Ua=!1,zt=!1,CS=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Rs(i,l){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){lt(i,l,p)}else d.current=null}function Bd(i,l,d){try{d()}catch(p){lt(i,l,p)}}var rv=!1;function jS(i,l){if(ed=la,i=Dm(),qc(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var T=0,z=-1,W=-1,Z=0,oe=0,le=i,se=null;t:for(;;){for(var ge;le!==d||y!==0&&le.nodeType!==3||(z=T+y),le!==w||p!==0&&le.nodeType!==3||(W=T+p),le.nodeType===3&&(T+=le.nodeValue.length),(ge=le.firstChild)!==null;)se=le,le=ge;for(;;){if(le===i)break t;if(se===d&&++Z===y&&(z=T),se===w&&++oe===p&&(W=T),(ge=le.nextSibling)!==null)break;le=se,se=le.parentNode}le=ge}d=z===-1||W===-1?null:{start:z,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(td={focusedElem:i,selectionRange:d},la=!1,ve=l;ve!==null;)if(l=ve,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ve=i;else for(;ve!==null;){l=ve;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var we=ye.memoizedProps,dt=ye.memoizedState,G=l.stateNode,V=G.getSnapshotBeforeUpdate(l.elementType===l.type?we:Kn(l.type,we),dt);G.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var Q=l.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){lt(l,l.return,ce)}if(i=l.sibling,i!==null){i.return=l.return,ve=i;break}ve=l.return}return ye=rv,rv=!1,ye}function tl(i,l,d){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&i)===i){var w=y.destroy;y.destroy=void 0,w!==void 0&&Bd(l,d,w)}y=y.next}while(y!==p)}}function Ba(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&i)===i){var p=d.create;d.destroy=p()}d=d.next}while(d!==l)}}function Wd(i){var l=i.ref;if(l!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof l=="function"?l(i):l.current=i}}function iv(i){var l=i.alternate;l!==null&&(i.alternate=null,iv(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[dr],delete l[Ho],delete l[sd],delete l[uS],delete l[cS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function sv(i){return i.tag===5||i.tag===3||i.tag===4}function ov(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Hd(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(i,l):d.insertBefore(i,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(i,d)):(l=d,l.appendChild(i)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=wa));else if(p!==4&&(i=i.child,i!==null))for(Hd(i,l,d),i=i.sibling;i!==null;)Hd(i,l,d),i=i.sibling}function Vd(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Vd(i,l,d),i=i.sibling;i!==null;)Vd(i,l,d),i=i.sibling}var Nt=null,Gn=!1;function ii(i,l,d){for(d=d.child;d!==null;)lv(i,l,d),d=d.sibling}function lv(i,l,d){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(ta,d)}catch{}switch(d.tag){case 5:zt||Rs(d,l);case 6:var p=Nt,y=Gn;Nt=null,ii(i,l,d),Nt=p,Gn=y,Nt!==null&&(Gn?(i=Nt,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Nt.removeChild(d.stateNode));break;case 18:Nt!==null&&(Gn?(i=Nt,d=d.stateNode,i.nodeType===8?id(i.parentNode,d):i.nodeType===1&&id(i,d),Ao(i)):id(Nt,d.stateNode));break;case 4:p=Nt,y=Gn,Nt=d.stateNode.containerInfo,Gn=!0,ii(i,l,d),Nt=p,Gn=y;break;case 0:case 11:case 14:case 15:if(!zt&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,T=w.destroy;w=w.tag,T!==void 0&&((w&2)!==0||(w&4)!==0)&&Bd(d,l,T),y=y.next}while(y!==p)}ii(i,l,d);break;case 1:if(!zt&&(Rs(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(z){lt(d,l,z)}ii(i,l,d);break;case 21:ii(i,l,d);break;case 22:d.mode&1?(zt=(p=zt)||d.memoizedState!==null,ii(i,l,d),zt=p):ii(i,l,d);break;default:ii(i,l,d)}}function av(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new CS),l.forEach(function(p){var y=LS.bind(null,i,p);d.has(p)||(d.add(p),p.then(y,y))})}}function Jn(i,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];try{var w=i,T=l,z=T;e:for(;z!==null;){switch(z.tag){case 5:Nt=z.stateNode,Gn=!1;break e;case 3:Nt=z.stateNode.containerInfo,Gn=!0;break e;case 4:Nt=z.stateNode.containerInfo,Gn=!0;break e}z=z.return}if(Nt===null)throw Error(n(160));lv(w,T,y),Nt=null,Gn=!1;var W=y.alternate;W!==null&&(W.return=null),y.return=null}catch(Z){lt(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)uv(l,i),l=l.sibling}function uv(i,l){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Jn(l,i),pr(i),p&4){try{tl(3,i,i.return),Ba(3,i)}catch(we){lt(i,i.return,we)}try{tl(5,i,i.return)}catch(we){lt(i,i.return,we)}}break;case 1:Jn(l,i),pr(i),p&512&&d!==null&&Rs(d,d.return);break;case 5:if(Jn(l,i),pr(i),p&512&&d!==null&&Rs(d,d.return),i.flags&32){var y=i.stateNode;try{De(y,"")}catch(we){lt(i,i.return,we)}}if(p&4&&(y=i.stateNode,y!=null)){var w=i.memoizedProps,T=d!==null?d.memoizedProps:w,z=i.type,W=i.updateQueue;if(i.updateQueue=null,W!==null)try{z==="input"&&w.type==="radio"&&w.name!=null&&jn(y,w),In(z,T);var Z=In(z,w);for(T=0;T<W.length;T+=2){var oe=W[T],le=W[T+1];oe==="style"?ar(y,le):oe==="dangerouslySetInnerHTML"?Te(y,le):oe==="children"?De(y,le):I(y,oe,le,Z)}switch(z){case"input":jr(y,w);break;case"textarea":Ni(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var ge=w.value;ge!=null?hn(y,!!w.multiple,ge,!1):se!==!!w.multiple&&(w.defaultValue!=null?hn(y,!!w.multiple,w.defaultValue,!0):hn(y,!!w.multiple,w.multiple?[]:"",!1))}y[Ho]=w}catch(we){lt(i,i.return,we)}}break;case 6:if(Jn(l,i),pr(i),p&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,w=i.memoizedProps;try{y.nodeValue=w}catch(we){lt(i,i.return,we)}}break;case 3:if(Jn(l,i),pr(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Ao(l.containerInfo)}catch(we){lt(i,i.return,we)}break;case 4:Jn(l,i),pr(i);break;case 13:Jn(l,i),pr(i),y=i.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(Kd=ct())),p&4&&av(i);break;case 22:if(oe=d!==null&&d.memoizedState!==null,i.mode&1?(zt=(Z=zt)||oe,Jn(l,i),zt=Z):Jn(l,i),pr(i),p&8192){if(Z=i.memoizedState!==null,(i.stateNode.isHidden=Z)&&!oe&&(i.mode&1)!==0)for(ve=i,oe=i.child;oe!==null;){for(le=ve=oe;ve!==null;){switch(se=ve,ge=se.child,se.tag){case 0:case 11:case 14:case 15:tl(4,se,se.return);break;case 1:Rs(se,se.return);var ye=se.stateNode;if(typeof ye.componentWillUnmount=="function"){p=se,d=se.return;try{l=p,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(we){lt(p,d,we)}}break;case 5:Rs(se,se.return);break;case 22:if(se.memoizedState!==null){fv(le);continue}}ge!==null?(ge.return=se,ve=ge):fv(le)}oe=oe.sibling}e:for(oe=null,le=i;;){if(le.tag===5){if(oe===null){oe=le;try{y=le.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(z=le.stateNode,W=le.memoizedProps.style,T=W!=null&&W.hasOwnProperty("display")?W.display:null,z.style.display=Zt("display",T))}catch(we){lt(i,i.return,we)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=Z?"":le.memoizedProps}catch(we){lt(i,i.return,we)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Jn(l,i),pr(i),p&4&&av(i);break;case 21:break;default:Jn(l,i),pr(i)}}function pr(i){var l=i.flags;if(l&2){try{e:{for(var d=i.return;d!==null;){if(sv(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(De(y,""),p.flags&=-33);var w=ov(i);Vd(i,w,y);break;case 3:case 4:var T=p.stateNode.containerInfo,z=ov(i);Hd(i,z,T);break;default:throw Error(n(161))}}catch(W){lt(i,i.return,W)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function TS(i,l,d){ve=i,cv(i)}function cv(i,l,d){for(var p=(i.mode&1)!==0;ve!==null;){var y=ve,w=y.child;if(y.tag===22&&p){var T=y.memoizedState!==null||Ua;if(!T){var z=y.alternate,W=z!==null&&z.memoizedState!==null||zt;z=Ua;var Z=zt;if(Ua=T,(zt=W)&&!Z)for(ve=y;ve!==null;)T=ve,W=T.child,T.tag===22&&T.memoizedState!==null?hv(y):W!==null?(W.return=T,ve=W):hv(y);for(;w!==null;)ve=w,cv(w),w=w.sibling;ve=y,Ua=z,zt=Z}dv(i)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,ve=w):dv(i)}}function dv(i){for(;ve!==null;){var l=ve;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:zt||Ba(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!zt)if(d===null)p.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Kn(l.type,d.memoizedProps);p.componentDidUpdate(y,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&fg(l,w,p);break;case 3:var T=l.updateQueue;if(T!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}fg(l,T,d)}break;case 5:var z=l.stateNode;if(d===null&&l.flags&4){d=z;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var oe=Z.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&Ao(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zt||l.flags&512&&Wd(l)}catch(se){lt(l,l.return,se)}}if(l===i){ve=null;break}if(d=l.sibling,d!==null){d.return=l.return,ve=d;break}ve=l.return}}function fv(i){for(;ve!==null;){var l=ve;if(l===i){ve=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ve=d;break}ve=l.return}}function hv(i){for(;ve!==null;){var l=ve;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Ba(4,l)}catch(W){lt(l,d,W)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(W){lt(l,y,W)}}var w=l.return;try{Wd(l)}catch(W){lt(l,w,W)}break;case 5:var T=l.return;try{Wd(l)}catch(W){lt(l,T,W)}}}catch(W){lt(l,l.return,W)}if(l===i){ve=null;break}var z=l.sibling;if(z!==null){z.return=l.return,ve=z;break}ve=l.return}}var IS=Math.ceil,Wa=F.ReactCurrentDispatcher,qd=F.ReactCurrentOwner,Dn=F.ReactCurrentBatchConfig,Me=0,Et=null,ht=null,Rt=0,yn=0,Ps=Zr(0),xt=0,nl=null,Fi=0,Ha=0,Yd=0,rl=null,sn=null,Kd=0,As=1/0,Mr=null,Va=!1,Gd=null,si=null,qa=!1,oi=null,Ya=0,il=0,Jd=null,Ka=-1,Ga=0;function Kt(){return(Me&6)!==0?ct():Ka!==-1?Ka:Ka=ct()}function li(i){return(i.mode&1)===0?1:(Me&2)!==0&&Rt!==0?Rt&-Rt:fS.transition!==null?(Ga===0&&(Ga=om()),Ga):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:mm(i.type)),i)}function Qn(i,l,d,p){if(50<il)throw il=0,Jd=null,Error(n(185));To(i,d,p),((Me&2)===0||i!==Et)&&(i===Et&&((Me&2)===0&&(Ha|=d),xt===4&&ai(i,Rt)),on(i,p),d===1&&Me===0&&(l.mode&1)===0&&(As=ct()+500,Sa&&ti()))}function on(i,l){var d=i.callbackNode;f1(i,l);var p=ia(i,i===Et?Rt:0);if(p===0)d!==null&&rm(d),i.callbackNode=null,i.callbackPriority=0;else if(l=p&-p,i.callbackPriority!==l){if(d!=null&&rm(d),l===1)i.tag===0?dS(mv.bind(null,i)):eg(mv.bind(null,i)),lS(function(){(Me&6)===0&&ti()}),d=null;else{switch(lm(p)){case 1:d=Ic;break;case 4:d=im;break;case 16:d=ea;break;case 536870912:d=sm;break;default:d=ea}d=Sv(d,pv.bind(null,i))}i.callbackPriority=l,i.callbackNode=d}}function pv(i,l){if(Ka=-1,Ga=0,(Me&6)!==0)throw Error(n(327));var d=i.callbackNode;if(Os()&&i.callbackNode!==d)return null;var p=ia(i,i===Et?Rt:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||l)l=Ja(i,p);else{l=p;var y=Me;Me|=2;var w=vv();(Et!==i||Rt!==l)&&(Mr=null,As=ct()+500,Ui(i,l));do try{PS();break}catch(z){gv(i,z)}while(!0);pd(),Wa.current=w,Me=y,ht!==null?l=0:(Et=null,Rt=0,l=xt)}if(l!==0){if(l===2&&(y=Nc(i),y!==0&&(p=y,l=Qd(i,y))),l===1)throw d=nl,Ui(i,0),ai(i,p),on(i,ct()),d;if(l===6)ai(i,p);else{if(y=i.current.alternate,(p&30)===0&&!NS(y)&&(l=Ja(i,p),l===2&&(w=Nc(i),w!==0&&(p=w,l=Qd(i,w))),l===1))throw d=nl,Ui(i,0),ai(i,p),on(i,ct()),d;switch(i.finishedWork=y,i.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Bi(i,sn,Mr);break;case 3:if(ai(i,p),(p&130023424)===p&&(l=Kd+500-ct(),10<l)){if(ia(i,0)!==0)break;if(y=i.suspendedLanes,(y&p)!==p){Kt(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=rd(Bi.bind(null,i,sn,Mr),l);break}Bi(i,sn,Mr);break;case 4:if(ai(i,p),(p&4194240)===p)break;for(l=i.eventTimes,y=-1;0<p;){var T=31-Vn(p);w=1<<T,T=l[T],T>y&&(y=T),p&=~w}if(p=y,p=ct()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*IS(p/1960))-p,10<p){i.timeoutHandle=rd(Bi.bind(null,i,sn,Mr),p);break}Bi(i,sn,Mr);break;case 5:Bi(i,sn,Mr);break;default:throw Error(n(329))}}}return on(i,ct()),i.callbackNode===d?pv.bind(null,i):null}function Qd(i,l){var d=rl;return i.current.memoizedState.isDehydrated&&(Ui(i,l).flags|=256),i=Ja(i,l),i!==2&&(l=sn,sn=d,l!==null&&Xd(l)),i}function Xd(i){sn===null?sn=i:sn.push.apply(sn,i)}function NS(i){for(var l=i;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var y=d[p],w=y.getSnapshot;y=y.value;try{if(!qn(w(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ai(i,l){for(l&=~Yd,l&=~Ha,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var d=31-Vn(l),p=1<<d;i[d]=-1,l&=~p}}function mv(i){if((Me&6)!==0)throw Error(n(327));Os();var l=ia(i,0);if((l&1)===0)return on(i,ct()),null;var d=Ja(i,l);if(i.tag!==0&&d===2){var p=Nc(i);p!==0&&(l=p,d=Qd(i,p))}if(d===1)throw d=nl,Ui(i,0),ai(i,l),on(i,ct()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Bi(i,sn,Mr),on(i,ct()),null}function Zd(i,l){var d=Me;Me|=1;try{return i(l)}finally{Me=d,Me===0&&(As=ct()+500,Sa&&ti())}}function zi(i){oi!==null&&oi.tag===0&&(Me&6)===0&&Os();var l=Me;Me|=1;var d=Dn.transition,p=Ue;try{if(Dn.transition=null,Ue=1,i)return i()}finally{Ue=p,Dn.transition=d,Me=l,(Me&6)===0&&ti()}}function ef(){yn=Ps.current,Qe(Ps)}function Ui(i,l){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,oS(d)),ht!==null)for(d=ht.return;d!==null;){var p=d;switch(ud(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ba();break;case 3:Is(),Qe(tn),Qe(Mt),kd();break;case 5:xd(p);break;case 4:Is();break;case 13:Qe(it);break;case 19:Qe(it);break;case 10:md(p.type._context);break;case 22:case 23:ef()}d=d.return}if(Et=i,ht=i=ui(i.current,null),Rt=yn=l,xt=0,nl=null,Yd=Ha=Fi=0,sn=rl=null,Li!==null){for(l=0;l<Li.length;l++)if(d=Li[l],p=d.interleaved,p!==null){d.interleaved=null;var y=p.next,w=d.pending;if(w!==null){var T=w.next;w.next=y,p.next=T}d.pending=p}Li=null}return i}function gv(i,l){do{var d=ht;try{if(pd(),Aa.current=Ma,Oa){for(var p=st.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Oa=!1}if($i=0,St=wt=st=null,Jo=!1,Qo=0,qd.current=null,d===null||d.return===null){xt=1,nl=l,ht=null;break}e:{var w=i,T=d.return,z=d,W=l;if(l=Rt,z.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var Z=W,oe=z,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ge=Ug(T);if(ge!==null){ge.flags&=-257,Bg(ge,T,z,w,l),ge.mode&1&&zg(w,Z,l),l=ge,W=Z;var ye=l.updateQueue;if(ye===null){var we=new Set;we.add(W),l.updateQueue=we}else ye.add(W);break e}else{if((l&1)===0){zg(w,Z,l),tf();break e}W=Error(n(426))}}else if(tt&&z.mode&1){var dt=Ug(T);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Bg(dt,T,z,w,l),fd(Ns(W,z));break e}}w=W=Ns(W,z),xt!==4&&(xt=2),rl===null?rl=[w]:rl.push(w),w=T;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var G=$g(w,W,l);dg(w,G);break e;case 1:z=W;var V=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(si===null||!si.has(Q)))){w.flags|=65536,l&=-l,w.lanes|=l;var ce=Fg(w,z,l);dg(w,ce);break e}}w=w.return}while(w!==null)}wv(d)}catch(xe){l=xe,ht===d&&d!==null&&(ht=d=d.return);continue}break}while(!0)}function vv(){var i=Wa.current;return Wa.current=Ma,i===null?Ma:i}function tf(){(xt===0||xt===3||xt===2)&&(xt=4),Et===null||(Fi&268435455)===0&&(Ha&268435455)===0||ai(Et,Rt)}function Ja(i,l){var d=Me;Me|=2;var p=vv();(Et!==i||Rt!==l)&&(Mr=null,Ui(i,l));do try{RS();break}catch(y){gv(i,y)}while(!0);if(pd(),Me=d,Wa.current=p,ht!==null)throw Error(n(261));return Et=null,Rt=0,xt}function RS(){for(;ht!==null;)yv(ht)}function PS(){for(;ht!==null&&!r1();)yv(ht)}function yv(i){var l=kv(i.alternate,i,yn);i.memoizedProps=i.pendingProps,l===null?wv(i):ht=l,qd.current=null}function wv(i){var l=i;do{var d=l.alternate;if(i=l.return,(l.flags&32768)===0){if(d=ES(d,l,yn),d!==null){ht=d;return}}else{if(d=_S(d,l),d!==null){d.flags&=32767,ht=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{xt=6,ht=null;return}}if(l=l.sibling,l!==null){ht=l;return}ht=l=i}while(l!==null);xt===0&&(xt=5)}function Bi(i,l,d){var p=Ue,y=Dn.transition;try{Dn.transition=null,Ue=1,AS(i,l,d,p)}finally{Dn.transition=y,Ue=p}return null}function AS(i,l,d,p){do Os();while(oi!==null);if((Me&6)!==0)throw Error(n(327));d=i.finishedWork;var y=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=d.lanes|d.childLanes;if(h1(i,w),i===Et&&(ht=Et=null,Rt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||qa||(qa=!0,Sv(ea,function(){return Os(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Dn.transition,Dn.transition=null;var T=Ue;Ue=1;var z=Me;Me|=4,qd.current=null,jS(i,d),uv(d,i),Z1(td),la=!!ed,td=ed=null,i.current=d,TS(d),i1(),Me=z,Ue=T,Dn.transition=w}else i.current=d;if(qa&&(qa=!1,oi=i,Ya=y),w=i.pendingLanes,w===0&&(si=null),l1(d.stateNode),on(i,ct()),l!==null)for(p=i.onRecoverableError,d=0;d<l.length;d++)y=l[d],p(y.value,{componentStack:y.stack,digest:y.digest});if(Va)throw Va=!1,i=Gd,Gd=null,i;return(Ya&1)!==0&&i.tag!==0&&Os(),w=i.pendingLanes,(w&1)!==0?i===Jd?il++:(il=0,Jd=i):il=0,ti(),null}function Os(){if(oi!==null){var i=lm(Ya),l=Dn.transition,d=Ue;try{if(Dn.transition=null,Ue=16>i?16:i,oi===null)var p=!1;else{if(i=oi,oi=null,Ya=0,(Me&6)!==0)throw Error(n(331));var y=Me;for(Me|=4,ve=i.current;ve!==null;){var w=ve,T=w.child;if((ve.flags&16)!==0){var z=w.deletions;if(z!==null){for(var W=0;W<z.length;W++){var Z=z[W];for(ve=Z;ve!==null;){var oe=ve;switch(oe.tag){case 0:case 11:case 15:tl(8,oe,w)}var le=oe.child;if(le!==null)le.return=oe,ve=le;else for(;ve!==null;){oe=ve;var se=oe.sibling,ge=oe.return;if(iv(oe),oe===Z){ve=null;break}if(se!==null){se.return=ge,ve=se;break}ve=ge}}}var ye=w.alternate;if(ye!==null){var we=ye.child;if(we!==null){ye.child=null;do{var dt=we.sibling;we.sibling=null,we=dt}while(we!==null)}}ve=w}}if((w.subtreeFlags&2064)!==0&&T!==null)T.return=w,ve=T;else e:for(;ve!==null;){if(w=ve,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:tl(9,w,w.return)}var G=w.sibling;if(G!==null){G.return=w.return,ve=G;break e}ve=w.return}}var V=i.current;for(ve=V;ve!==null;){T=ve;var Q=T.child;if((T.subtreeFlags&2064)!==0&&Q!==null)Q.return=T,ve=Q;else e:for(T=V;ve!==null;){if(z=ve,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Ba(9,z)}}catch(xe){lt(z,z.return,xe)}if(z===T){ve=null;break e}var ce=z.sibling;if(ce!==null){ce.return=z.return,ve=ce;break e}ve=z.return}}if(Me=y,ti(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(ta,i)}catch{}p=!0}return p}finally{Ue=d,Dn.transition=l}}return!1}function xv(i,l,d){l=Ns(d,l),l=$g(i,l,1),i=ri(i,l,1),l=Kt(),i!==null&&(To(i,1,l),on(i,l))}function lt(i,l,d){if(i.tag===3)xv(i,i,d);else for(;l!==null;){if(l.tag===3){xv(l,i,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(si===null||!si.has(p))){i=Ns(d,i),i=Fg(l,i,1),l=ri(l,i,1),i=Kt(),l!==null&&(To(l,1,i),on(l,i));break}}l=l.return}}function OS(i,l,d){var p=i.pingCache;p!==null&&p.delete(l),l=Kt(),i.pingedLanes|=i.suspendedLanes&d,Et===i&&(Rt&d)===d&&(xt===4||xt===3&&(Rt&130023424)===Rt&&500>ct()-Kd?Ui(i,0):Yd|=d),on(i,l)}function bv(i,l){l===0&&((i.mode&1)===0?l=1:(l=ra,ra<<=1,(ra&130023424)===0&&(ra=4194304)));var d=Kt();i=Or(i,l),i!==null&&(To(i,l,d),on(i,d))}function DS(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),bv(i,d)}function LS(i,l){var d=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),bv(i,d)}var kv;kv=function(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps||tn.current)rn=!0;else{if((i.lanes&d)===0&&(l.flags&128)===0)return rn=!1,SS(i,l,d);rn=(i.flags&131072)!==0}else rn=!1,tt&&(l.flags&1048576)!==0&&tg(l,_a,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;za(i,l),i=l.pendingProps;var y=ks(l,Mt.current);Ts(l,d),y=_d(null,l,p,i,y,d);var w=Cd();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,nn(p)?(w=!0,ka(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,yd(l),y.updater=$a,l.stateNode=y,y._reactInternals=l,Pd(l,p,i,d),l=Ld(null,l,p,!0,w,d)):(l.tag=0,tt&&w&&ad(l),Yt(null,l,y,d),l=l.child),l;case 16:p=l.elementType;e:{switch(za(i,l),i=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=$S(p),i=Kn(p,i),y){case 0:l=Dd(null,l,p,i,d);break e;case 1:l=Kg(null,l,p,i,d);break e;case 11:l=Wg(null,l,p,i,d);break e;case 14:l=Hg(null,l,p,Kn(p.type,i),d);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Kn(p,y),Dd(i,l,p,y,d);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Kn(p,y),Kg(i,l,p,y,d);case 3:e:{if(Gg(l),i===null)throw Error(n(387));p=l.pendingProps,w=l.memoizedState,y=w.element,cg(i,l),Ra(l,p,null,d);var T=l.memoizedState;if(p=T.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=Ns(Error(n(423)),l),l=Jg(i,l,p,d,y);break e}else if(p!==y){y=Ns(Error(n(424)),l),l=Jg(i,l,p,d,y);break e}else for(vn=Xr(l.stateNode.containerInfo.firstChild),gn=l,tt=!0,Yn=null,d=ag(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(_s(),p===y){l=Lr(i,l,d);break e}Yt(i,l,p,d)}l=l.child}return l;case 5:return hg(l),i===null&&dd(l),p=l.type,y=l.pendingProps,w=i!==null?i.memoizedProps:null,T=y.children,nd(p,y)?T=null:w!==null&&nd(p,w)&&(l.flags|=32),Yg(i,l),Yt(i,l,T,d),l.child;case 6:return i===null&&dd(l),null;case 13:return Qg(i,l,d);case 4:return wd(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=Cs(l,null,p,d):Yt(i,l,p,d),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Kn(p,y),Wg(i,l,p,y,d);case 7:return Yt(i,l,l.pendingProps,d),l.child;case 8:return Yt(i,l,l.pendingProps.children,d),l.child;case 12:return Yt(i,l,l.pendingProps.children,d),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,w=l.memoizedProps,T=y.value,Ye(Ta,p._currentValue),p._currentValue=T,w!==null)if(qn(w.value,T)){if(w.children===y.children&&!tn.current){l=Lr(i,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var z=w.dependencies;if(z!==null){T=w.child;for(var W=z.firstContext;W!==null;){if(W.context===p){if(w.tag===1){W=Dr(-1,d&-d),W.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var oe=Z.pending;oe===null?W.next=W:(W.next=oe.next,oe.next=W),Z.pending=W}}w.lanes|=d,W=w.alternate,W!==null&&(W.lanes|=d),gd(w.return,d,l),z.lanes|=d;break}W=W.next}}else if(w.tag===10)T=w.type===l.type?null:w.child;else if(w.tag===18){if(T=w.return,T===null)throw Error(n(341));T.lanes|=d,z=T.alternate,z!==null&&(z.lanes|=d),gd(T,d,l),T=w.sibling}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===l){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}Yt(i,l,y.children,d),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,Ts(l,d),y=An(y),p=p(y),l.flags|=1,Yt(i,l,p,d),l.child;case 14:return p=l.type,y=Kn(p,l.pendingProps),y=Kn(p.type,y),Hg(i,l,p,y,d);case 15:return Vg(i,l,l.type,l.pendingProps,d);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Kn(p,y),za(i,l),l.tag=1,nn(p)?(i=!0,ka(l)):i=!1,Ts(l,d),Lg(l,p,y),Pd(l,p,y,d),Ld(null,l,p,!0,i,d);case 19:return Zg(i,l,d);case 22:return qg(i,l,d)}throw Error(n(156,l.tag))};function Sv(i,l){return nm(i,l)}function MS(i,l,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,l,d,p){return new MS(i,l,d,p)}function nf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $S(i){if(typeof i=="function")return nf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===X)return 11;if(i===B)return 14}return 2}function ui(i,l){var d=i.alternate;return d===null?(d=Ln(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function Qa(i,l,d,p,y,w){var T=2;if(p=i,typeof i=="function")nf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case Y:return Wi(d.children,y,w,l);case ee:T=8,y|=8;break;case ie:return i=Ln(12,d,l,y|2),i.elementType=ie,i.lanes=w,i;case K:return i=Ln(13,d,l,y),i.elementType=K,i.lanes=w,i;case O:return i=Ln(19,d,l,y),i.elementType=O,i.lanes=w,i;case U:return Xa(d,y,w,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:T=10;break e;case M:T=9;break e;case X:T=11;break e;case B:T=14;break e;case $:T=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=Ln(T,d,l,y),l.elementType=i,l.type=p,l.lanes=w,l}function Wi(i,l,d,p){return i=Ln(7,i,p,l),i.lanes=d,i}function Xa(i,l,d,p){return i=Ln(22,i,p,l),i.elementType=U,i.lanes=d,i.stateNode={isHidden:!1},i}function rf(i,l,d){return i=Ln(6,i,null,l),i.lanes=d,i}function sf(i,l,d){return l=Ln(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function FS(i,l,d,p,y){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rc(0),this.expirationTimes=Rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function of(i,l,d,p,y,w,T,z,W){return i=new FS(i,l,d,z,W),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Ln(3,null,null,l),i.current=w,w.stateNode=i,w.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(w),i}function zS(i,l,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:p==null?null:""+p,children:i,containerInfo:l,implementation:d}}function Ev(i){if(!i)return ei;i=i._reactInternals;e:{if(Ri(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(nn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(nn(d))return Xm(i,d,l)}return l}function _v(i,l,d,p,y,w,T,z,W){return i=of(d,p,!0,i,y,w,T,z,W),i.context=Ev(null),d=i.current,p=Kt(),y=li(d),w=Dr(p,y),w.callback=l??null,ri(d,w,y),i.current.lanes=y,To(i,y,p),on(i,p),i}function Za(i,l,d,p){var y=l.current,w=Kt(),T=li(y);return d=Ev(d),l.context===null?l.context=d:l.pendingContext=d,l=Dr(w,T),l.payload={element:i},p=p===void 0?null:p,p!==null&&(l.callback=p),i=ri(y,l,T),i!==null&&(Qn(i,y,T,w),Na(i,y,T)),T}function eu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Cv(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function lf(i,l){Cv(i,l),(i=i.alternate)&&Cv(i,l)}function US(){return null}var jv=typeof reportError=="function"?reportError:function(i){console.error(i)};function af(i){this._internalRoot=i}tu.prototype.render=af.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));Za(i,l,null,null)},tu.prototype.unmount=af.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;zi(function(){Za(null,i,null,null)}),l[Nr]=null}};function tu(i){this._internalRoot=i}tu.prototype.unstable_scheduleHydration=function(i){if(i){var l=cm();i={blockedOn:null,target:i,priority:l};for(var d=0;d<Gr.length&&l!==0&&l<Gr[d].priority;d++);Gr.splice(d,0,i),d===0&&hm(i)}};function uf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Tv(){}function BS(i,l,d,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Z=eu(T);w.call(Z)}}var T=_v(l,p,i,0,null,!1,!1,"",Tv);return i._reactRootContainer=T,i[Nr]=T.current,Bo(i.nodeType===8?i.parentNode:i),zi(),T}for(;y=i.lastChild;)i.removeChild(y);if(typeof p=="function"){var z=p;p=function(){var Z=eu(W);z.call(Z)}}var W=of(i,0,!1,null,null,!1,!1,"",Tv);return i._reactRootContainer=W,i[Nr]=W.current,Bo(i.nodeType===8?i.parentNode:i),zi(function(){Za(l,W,d,p)}),W}function ru(i,l,d,p,y){var w=d._reactRootContainer;if(w){var T=w;if(typeof y=="function"){var z=y;y=function(){var W=eu(T);z.call(W)}}Za(l,T,i,y)}else T=BS(d,l,i,y,p);return eu(T)}am=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var d=jo(l.pendingLanes);d!==0&&(Pc(l,d|1),on(l,ct()),(Me&6)===0&&(As=ct()+500,ti()))}break;case 13:zi(function(){var p=Or(i,1);if(p!==null){var y=Kt();Qn(p,i,1,y)}}),lf(i,1)}},Ac=function(i){if(i.tag===13){var l=Or(i,134217728);if(l!==null){var d=Kt();Qn(l,i,134217728,d)}lf(i,134217728)}},um=function(i){if(i.tag===13){var l=li(i),d=Or(i,l);if(d!==null){var p=Kt();Qn(d,i,l,p)}lf(i,l)}},cm=function(){return Ue},dm=function(i,l){var d=Ue;try{return Ue=i,l()}finally{Ue=d}},_o=function(i,l,d){switch(l){case"input":if(jr(i,d),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==i&&p.form===i.form){var y=xa(p);if(!y)throw Error(n(90));$e(p),jr(p,y)}}}break;case"textarea":Ni(i,d);break;case"select":l=d.value,l!=null&&hn(i,!!d.multiple,l,!1)}},qt=Zd,Dt=zi;var WS={usingClientEntryPoint:!1,Events:[Vo,xs,xa,Ot,Bn,Zd]},sl={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HS={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=em(i),i===null?null:i.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||US,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ta=iu.inject(HS),cr=iu}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WS,ln.createPortal=function(i,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uf(l))throw Error(n(200));return zS(i,l,null,d)},ln.createRoot=function(i,l){if(!uf(i))throw Error(n(299));var d=!1,p="",y=jv;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=of(i,1,!1,null,null,d,!1,p,y),i[Nr]=l.current,Bo(i.nodeType===8?i.parentNode:i),new af(l)},ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=em(l),i=i===null?null:i.stateNode,i},ln.flushSync=function(i){return zi(i)},ln.hydrate=function(i,l,d){if(!nu(l))throw Error(n(200));return ru(null,i,l,!0,d)},ln.hydrateRoot=function(i,l,d){if(!uf(i))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,y=!1,w="",T=jv;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),l=_v(l,null,i,1,d??null,y,!1,w,T),i[Nr]=l.current,Bo(i),p)for(i=0;i<p.length;i++)d=p[i],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new tu(l)},ln.render=function(i,l,d){if(!nu(l))throw Error(n(200));return ru(null,i,l,!1,d)},ln.unmountComponentAtNode=function(i){if(!nu(i))throw Error(n(40));return i._reactRootContainer?(zi(function(){ru(null,null,i,!1,function(){i._reactRootContainer=null,i[Nr]=null})}),!0):!1},ln.unstable_batchedUpdates=Zd,ln.unstable_renderSubtreeIntoContainer=function(i,l,d,p){if(!nu(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ru(i,l,d,!1,p)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Lv;function b0(){if(Lv)return ff.exports;Lv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ff.exports=ZS(),ff.exports}var Mv;function eE(){if(Mv)return su;Mv=1;var e=b0();return su.createRoot=e.createRoot,su.hydrateRoot=e.hydrateRoot,su}var tE=eE();const nE=fo(tE);var kn=b0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tl.apply(this,arguments)}var yi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yi||(yi={}));const $v="popstate";function rE(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:a,hash:u}=r.location;return sh("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Pu(s)}return sE(t,n,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iE(){return Math.random().toString(36).substr(2,8)}function Fv(e,t){return{usr:e.state,key:e.key,idx:t}}function sh(e,t,n,r){return n===void 0&&(n=null),Tl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ho(t):t,{state:n,key:t&&t.key||r||iE()})}function Pu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ho(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function sE(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,u=yi.Pop,c=null,f=h();f==null&&(f=0,a.replaceState(Tl({},a.state,{idx:f}),""));function h(){return(a.state||{idx:null}).idx}function m(){u=yi.Pop;let _=h(),C=_==null?null:_-f;f=_,c&&c({action:u,location:k.location,delta:C})}function v(_,C){u=yi.Push;let N=sh(k.location,_,C);f=h()+1;let I=Fv(N,f),F=k.createHref(N);try{a.pushState(I,"",F)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(F)}o&&c&&c({action:u,location:k.location,delta:1})}function g(_,C){u=yi.Replace;let N=sh(k.location,_,C);f=h();let I=Fv(N,f),F=k.createHref(N);a.replaceState(I,"",F),o&&c&&c({action:u,location:k.location,delta:0})}function x(_){let C=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof _=="string"?_:Pu(_);return N=N.replace(/ $/,"%20"),ot(C,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,C)}let k={get action(){return u},get location(){return e(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener($v,m),c=_,()=>{s.removeEventListener($v,m),c=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let C=x(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:g,go(_){return a.go(_)}};return k}var zv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zv||(zv={}));function oE(e,t,n){return n===void 0&&(n="/"),lE(e,t,n)}function lE(e,t,n,r){let s=typeof t=="string"?ho(t):t,o=oo(s.pathname||"/",n);if(o==null)return null;let a=S0(e);aE(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=wE(o);u=vE(a[c],f)}return u}function S0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=bi([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(ot(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),S0(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:mE(f,o.index),routesMeta:h})};return e.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of E0(o.path))s(o,a,c)}),t}function E0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=E0(r.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&u.push(...a),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function aE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uE=/^:[\w-]+$/,cE=3,dE=2,fE=1,hE=10,pE=-2,Uv=e=>e==="*";function mE(e,t){let n=e.split("/"),r=n.length;return n.some(Uv)&&(r+=pE),t&&(r+=dE),n.filter(s=>!Uv(s)).reduce((s,o)=>s+(uE.test(o)?cE:o===""?fE:hE),r)}function gE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function vE(e,t,n){let{routesMeta:r}=e,s={},o="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",m=oh({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:bi([o,m.pathname]),pathnameBase:SE(bi([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=bi([o,m.pathnameBase]))}return a}function oh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yE(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,h,m)=>{let{paramName:v,isOptional:g}=h;if(v==="*"){let k=u[m]||"";a=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const x=u[m];return g&&!x?f[v]=void 0:f[v]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:e}}function yE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),k0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function wE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return k0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function oo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function xE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ho(e):e;return{pathname:n?n.startsWith("/")?n:bE(n,t):t,search:EE(r),hash:_E(s)}}function bE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ep(e,t){let n=kE(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tp(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ho(e):(s=Tl({},e),ot(!s.pathname||!s.pathname.includes("?"),mf("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),mf("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),mf("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,u;if(a==null)u=n;else{let m=t.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;s.pathname=v.join("/")}u=m>=0?t[m]:"/"}let c=xE(s,u),f=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const bi=e=>e.join("/").replace(/\/\/+/g,"/"),SE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_E=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _0=["post","put","patch","delete"];new Set(_0);const jE=["get",..._0];new Set(jE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}const nc=S.createContext(null),C0=S.createContext(null),Br=S.createContext(null),rc=S.createContext(null),Wr=S.createContext({outlet:null,matches:[],isDataRoute:!1}),j0=S.createContext(null);function TE(e,t){let{relative:n}=t===void 0?{}:t;po()||ot(!1);let{basename:r,navigator:s}=S.useContext(Br),{hash:o,pathname:a,search:u}=ic(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:bi([r,a])),s.createHref({pathname:c,search:u,hash:o})}function po(){return S.useContext(rc)!=null}function Ei(){return po()||ot(!1),S.useContext(rc).location}function T0(e){S.useContext(Br).static||S.useLayoutEffect(e)}function np(){let{isDataRoute:e}=S.useContext(Wr);return e?WE():IE()}function IE(){po()||ot(!1);let e=S.useContext(nc),{basename:t,future:n,navigator:r}=S.useContext(Br),{matches:s}=S.useContext(Wr),{pathname:o}=Ei(),a=JSON.stringify(ep(s,n.v7_relativeSplatPath)),u=S.useRef(!1);return T0(()=>{u.current=!0}),S.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let m=tp(f,JSON.parse(a),o,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:bi([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,a,o,e])}const NE=S.createContext(null);function RE(e){let t=S.useContext(Wr).outlet;return t&&S.createElement(NE.Provider,{value:e},t)}function ic(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(Br),{matches:s}=S.useContext(Wr),{pathname:o}=Ei(),a=JSON.stringify(ep(s,r.v7_relativeSplatPath));return S.useMemo(()=>tp(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function PE(e,t){return AE(e,t)}function AE(e,t,n,r){po()||ot(!1);let{navigator:s}=S.useContext(Br),{matches:o}=S.useContext(Wr),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=Ei(),h;if(t){var m;let _=typeof t=="string"?ho(t):t;c==="/"||(m=_.pathname)!=null&&m.startsWith(c)||ot(!1),h=_}else h=f;let v=h.pathname||"/",g=v;if(c!=="/"){let _=c.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=oE(e,{pathname:g}),k=$E(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:bi([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:bi([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&k?S.createElement(rc.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:yi.Pop}},k):k}function OE(){let e=BE(),t=CE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const DE=S.createElement(OE,null);class LE extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(Wr.Provider,{value:this.props.routeContext},S.createElement(j0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ME(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(nc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Wr.Provider,{value:t},r)}function $E(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let h=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);h>=0||ot(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:g}=n,x=m.route.loader&&v[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,m,v)=>{let g,x=!1,k=null,_=null;n&&(g=u&&m.route.id?u[m.route.id]:void 0,k=m.route.errorElement||DE,c&&(f<0&&v===0?(HE("route-fallback"),x=!0,_=null):f===v&&(x=!0,_=m.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,v+1)),N=()=>{let I;return g?I=k:x?I=_:m.route.Component?I=S.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=h,S.createElement(ME,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?S.createElement(LE,{location:n.location,revalidation:n.revalidation,component:k,error:g,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):N()},null)}var I0=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(I0||{}),N0=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(N0||{});function FE(e){let t=S.useContext(nc);return t||ot(!1),t}function zE(e){let t=S.useContext(C0);return t||ot(!1),t}function UE(e){let t=S.useContext(Wr);return t||ot(!1),t}function R0(e){let t=UE(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}function BE(){var e;let t=S.useContext(j0),n=zE(),r=R0();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function WE(){let{router:e}=FE(I0.UseNavigateStable),t=R0(N0.UseNavigateStable),n=S.useRef(!1);return T0(()=>{n.current=!0}),S.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Il({fromRouteId:t},o)))},[e,t])}const Bv={};function HE(e,t,n){Bv[e]||(Bv[e]=!0)}function VE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function rp(e){let{to:t,replace:n,state:r,relative:s}=e;po()||ot(!1);let{future:o,static:a}=S.useContext(Br),{matches:u}=S.useContext(Wr),{pathname:c}=Ei(),f=np(),h=tp(t,ep(u,o.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(h);return S.useEffect(()=>f(JSON.parse(m),{replace:n,state:r,relative:s}),[f,m,s,n,r]),null}function P0(e){return RE(e.context)}function Xn(e){ot(!1)}function qE(e){let{basename:t="/",children:n=null,location:r,navigationType:s=yi.Pop,navigator:o,static:a=!1,future:u}=e;po()&&ot(!1);let c=t.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:c,navigator:o,static:a,future:Il({v7_relativeSplatPath:!1},u)}),[c,u,o,a]);typeof r=="string"&&(r=ho(r));let{pathname:h="/",search:m="",hash:v="",state:g=null,key:x="default"}=r,k=S.useMemo(()=>{let _=oo(h,c);return _==null?null:{location:{pathname:_,search:m,hash:v,state:g,key:x},navigationType:s}},[c,h,m,v,g,x,s]);return k==null?null:S.createElement(Br.Provider,{value:f},S.createElement(rc.Provider,{children:n,value:k}))}function YE(e){let{children:t,location:n}=e;return PE(lh(t),n)}new Promise(()=>{});function lh(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let o=[...t,s];if(r.type===S.Fragment){n.push.apply(n,lh(r.props.children,o));return}r.type!==Xn&&ot(!1),!r.props.index||!r.props.children||ot(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=lh(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Au.apply(this,arguments)}function A0(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function KE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GE(e,t){return e.button===0&&(!t||t==="_self")&&!KE(e)}function ah(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function JE(e,t){let n=ah(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const QE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XE=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ZE="6";try{window.__reactRouterVersion=ZE}catch{}const e_=S.createContext({isTransitioning:!1}),t_="startTransition",Wv=Ru[t_];function n_(e){let{basename:t,children:n,future:r,window:s}=e,o=S.useRef();o.current==null&&(o.current=rE({window:s,v5Compat:!0}));let a=o.current,[u,c]=S.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},h=S.useCallback(m=>{f&&Wv?Wv(()=>c(m)):c(m)},[c,f]);return S.useLayoutEffect(()=>a.listen(h),[a,h]),S.useEffect(()=>VE(r),[r]),S.createElement(qE,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}const r_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gs=S.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:u,target:c,to:f,preventScrollReset:h,viewTransition:m}=t,v=A0(t,QE),{basename:g}=S.useContext(Br),x,k=!1;if(typeof f=="string"&&i_.test(f)&&(x=f,r_))try{let I=new URL(window.location.href),F=f.startsWith("//")?new URL(I.protocol+f):new URL(f),H=oo(F.pathname,g);F.origin===I.origin&&H!=null?f=H+F.search+F.hash:k=!0}catch{}let _=TE(f,{relative:s}),C=o_(f,{replace:a,state:u,target:c,preventScrollReset:h,relative:s,viewTransition:m});function N(I){r&&r(I),I.defaultPrevented||C(I)}return S.createElement("a",Au({},v,{href:x||_,onClick:k||o?r:N,ref:n,target:c}))}),Hv=S.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:a=!1,style:u,to:c,viewTransition:f,children:h}=t,m=A0(t,XE),v=ic(c,{relative:m.relative}),g=Ei(),x=S.useContext(C0),{navigator:k,basename:_}=S.useContext(Br),C=x!=null&&a_(v)&&f===!0,N=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,I=g.pathname,F=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(I=I.toLowerCase(),F=F?F.toLowerCase():null,N=N.toLowerCase()),F&&_&&(F=oo(F,_)||F);const H=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=I===N||!a&&I.startsWith(N)&&I.charAt(H)==="/",Y=F!=null&&(F===N||!a&&F.startsWith(N)&&F.charAt(N.length)==="/"),ee={isActive:A,isPending:Y,isTransitioning:C},ie=A?r:void 0,D;typeof o=="function"?D=o(ee):D=[o,A?"active":null,Y?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(ee):u;return S.createElement(Gs,Au({},m,{"aria-current":ie,className:D,ref:n,style:M,to:c,viewTransition:f}),typeof h=="function"?h(ee):h)});var uh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uh||(uh={}));var Vv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vv||(Vv={}));function s_(e){let t=S.useContext(nc);return t||ot(!1),t}function o_(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:u}=t===void 0?{}:t,c=np(),f=Ei(),h=ic(e,{relative:a});return S.useCallback(m=>{if(GE(m,n)){m.preventDefault();let v=r!==void 0?r:Pu(f)===Pu(h);c(e,{replace:v,state:s,preventScrollReset:o,relative:a,viewTransition:u})}},[f,c,h,r,s,n,e,o,a,u])}function l_(e){let t=S.useRef(ah(e)),n=S.useRef(!1),r=Ei(),s=S.useMemo(()=>JE(r.search,n.current?null:t.current),[r.search]),o=np(),a=S.useCallback((u,c)=>{const f=ah(typeof u=="function"?u(s):u);n.current=!0,o("?"+f,c)},[o,s]);return[s,a]}function a_(e,t){t===void 0&&(t={});let n=S.useContext(e_);n==null&&ot(!1);let{basename:r}=s_(uh.useViewTransitionState),s=ic(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=oo(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=oo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return oh(s.pathname,a)!=null||oh(s.pathname,o)!=null}const O0=typeof document<"u"?pe.useLayoutEffect:()=>{};var gf;const u_=(gf=pe.useInsertionEffect)!==null&&gf!==void 0?gf:O0;function c_(e){const t=S.useRef(null);return u_(()=>{t.current=e},[e]),S.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const _i=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},es=e=>e&&"window"in e&&e.window===e?e:_i(e).defaultView||window;function d_(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function f_(e){return d_(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let h_=!1;function ip(){return h_}function D0(e,t){if(!ip())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:f_(n)?n=n.host:n=n.parentNode}return!1}const ch=(e=document)=>{var t;if(!ip())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function L0(e){return ip()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function M0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=M0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function We(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=M0(e))&&(r&&(r+=" "),r+=t);return r}function p_(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function m_(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function $0(e){let t=null;return()=>(t==null&&(t=e()),t)}const g_=$0(function(){return m_(/^Mac/i)}),v_=$0(function(){return p_(/Android/i)});function F0(){let e=S.useRef(new Map),t=S.useCallback((s,o,a,u)=>{let c=u!=null&&u.once?(...f)=>{e.current.delete(a),a(...f)}:a;e.current.set(a,{type:o,eventTarget:s,fn:c,options:u}),s.addEventListener(o,c,u)},[]),n=S.useCallback((s,o,a,u)=>{var c;let f=((c=e.current.get(a))===null||c===void 0?void 0:c.fn)||a;s.removeEventListener(o,f,u),e.current.delete(a)},[]),r=S.useCallback(()=>{e.current.forEach((s,o)=>{n(s.eventTarget,s.type,o,s.options)})},[n]);return S.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function y_(e){return e.pointerType===""&&e.isTrusted?!0:v_()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function z0(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function w_(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function U0(e){let t=S.useRef({isFocused:!1,observer:null});O0(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=c_(r=>{e==null||e(r)});return S.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,o=a=>{if(t.current.isFocused=!1,s.disabled){let u=z0(a);n(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let u=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let x_=!1,Ul=null,dh=new Set,gl=new Map,rs=!1,fh=!1;const b_={Tab:!0,Escape:!0};function sp(e,t){for(let n of dh)n(e,t)}function k_(e){return!(e.metaKey||!g_()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ou(e){rs=!0,k_(e)&&(Ul="keyboard",sp("keyboard",e))}function eo(e){Ul="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(rs=!0,sp("pointer",e))}function B0(e){y_(e)&&(rs=!0,Ul="virtual")}function W0(e){e.target===window||e.target===document||x_||!e.isTrusted||(!rs&&!fh&&(Ul="virtual",sp("virtual",e)),rs=!1,fh=!1)}function H0(){rs=!1,fh=!0}function hh(e){if(typeof window>"u"||typeof document>"u"||gl.get(es(e)))return;const t=es(e),n=_i(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){rs=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ou,!0),n.addEventListener("keyup",Ou,!0),n.addEventListener("click",B0,!0),t.addEventListener("focus",W0,!0),t.addEventListener("blur",H0,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",eo,!0),n.addEventListener("pointermove",eo,!0),n.addEventListener("pointerup",eo,!0)),t.addEventListener("beforeunload",()=>{V0(e)},{once:!0}),gl.set(t,{focus:r})}const V0=(e,t)=>{const n=es(e),r=_i(e);t&&r.removeEventListener("DOMContentLoaded",t),gl.has(n)&&(n.HTMLElement.prototype.focus=gl.get(n).focus,r.removeEventListener("keydown",Ou,!0),r.removeEventListener("keyup",Ou,!0),r.removeEventListener("click",B0,!0),n.removeEventListener("focus",W0,!0),n.removeEventListener("blur",H0,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",eo,!0),r.removeEventListener("pointermove",eo,!0),r.removeEventListener("pointerup",eo,!0)),gl.delete(n))};function S_(e){const t=_i(e);let n;return t.readyState!=="loading"?hh(e):(n=()=>{hh(e)},t.addEventListener("DOMContentLoaded",n)),()=>V0(e,n)}typeof document<"u"&&S_();function q0(){return Ul!=="pointer"}const E_=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function __(e,t,n){let r=_i(n==null?void 0:n.target);const s=typeof window<"u"?es(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?es(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?es(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?es(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof s&&!E_.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof a&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!b_[n.key])}function C_(e,t,n){hh(),S.useEffect(()=>{let r=(s,o)=>{__(!!(n!=null&&n.isTextInput),s,o)&&e(q0())};return dh.add(r),()=>{dh.delete(r)}},t)}function j_(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const o=S.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),s&&s(!1),!0},[r,s]),a=U0(o),u=S.useCallback(c=>{const f=_i(c.target),h=f?ch(f):ch();c.target===c.currentTarget&&h===L0(c.nativeEvent)&&(n&&n(c),s&&s(!0),a(c))},[s,n,a]);return{focusProps:{onFocus:!t&&(n||s||r)?u:void 0,onBlur:!t&&(r||s)?o:void 0}}}function T_(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,o=S.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:u}=F0(),c=S.useCallback(m=>{m.currentTarget.contains(m.target)&&o.current.isFocusWithin&&!m.currentTarget.contains(m.relatedTarget)&&(o.current.isFocusWithin=!1,u(),n&&n(m),s&&s(!1))},[n,s,o,u]),f=U0(c),h=S.useCallback(m=>{if(!m.currentTarget.contains(m.target))return;const v=_i(m.target),g=ch(v);if(!o.current.isFocusWithin&&g===L0(m.nativeEvent)){r&&r(m),s&&s(!0),o.current.isFocusWithin=!0,f(m);let x=m.currentTarget;a(v,"focus",k=>{if(o.current.isFocusWithin&&!D0(x,k.target)){let _=new v.defaultView.FocusEvent("blur",{relatedTarget:k.target});w_(_,x);let C=z0(_);c(C)}},{capture:!0})}},[r,s,f,a,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:c}}}let ph=!1,ou=0;function I_(){ph=!0,setTimeout(()=>{ph=!1},50)}function qv(e){e.pointerType==="touch"&&I_()}function N_(){if(!(typeof document>"u"))return ou===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",qv),ou++,()=>{ou--,!(ou>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",qv)}}function R_(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[o,a]=S.useState(!1),u=S.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;S.useEffect(N_,[]);let{addGlobalListener:c,removeAllGlobalListeners:f}=F0(),{hoverProps:h,triggerHoverEnd:m}=S.useMemo(()=>{let v=(k,_)=>{if(u.pointerType=_,s||_==="touch"||u.isHovered||!k.currentTarget.contains(k.target))return;u.isHovered=!0;let C=k.currentTarget;u.target=C,c(_i(k.target),"pointerover",N=>{u.isHovered&&u.target&&!D0(u.target,N.target)&&g(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:C,pointerType:_}),n&&n(!0),a(!0)},g=(k,_)=>{let C=u.target;u.pointerType="",u.target=null,!(_==="touch"||!u.isHovered||!C)&&(u.isHovered=!1,f(),r&&r({type:"hoverend",target:C,pointerType:_}),n&&n(!1),a(!1))},x={};return typeof PointerEvent<"u"&&(x.onPointerEnter=k=>{ph&&k.pointerType==="mouse"||v(k,k.pointerType)},x.onPointerLeave=k=>{!s&&k.currentTarget.contains(k.target)&&g(k,k.pointerType)}),{hoverProps:x,triggerHoverEnd:g}},[t,n,r,s,u,c,f]);return S.useEffect(()=>{s&&m({currentTarget:u.target},u.pointerType)},[s]),{hoverProps:h,isHovered:o}}function P_(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=S.useRef({isFocused:!1,isFocusVisible:t||q0()}),[o,a]=S.useState(!1),[u,c]=S.useState(()=>s.current.isFocused&&s.current.isFocusVisible),f=S.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),h=S.useCallback(g=>{s.current.isFocused=g,a(g),f()},[f]);C_(g=>{s.current.isFocusVisible=g,f()},[],{isTextInput:n});let{focusProps:m}=j_({isDisabled:r,onFocusChange:h}),{focusWithinProps:v}=T_({isDisabled:!r,onFocusWithinChange:h});return{isFocused:o,isFocusVisible:u,focusProps:r?v:m}}var A_=Object.defineProperty,O_=(e,t,n)=>t in e?A_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vf=(e,t,n)=>(O_(e,typeof t!="symbol"?t+"":t,n),n);let D_=class{constructor(){vf(this,"current",this.detect()),vf(this,"handoffState","pending"),vf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},wr=new D_;function ls(e){var t;return wr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Du(e){var t,n;return wr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function op(e){var t,n;return(n=(t=Du(e))==null?void 0:t.activeElement)!=null?n:null}function Y0(e){return op(e)===e}function sc(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function cn(){let e=[],t={addEventListener(n,r,s,o){return n.addEventListener(r,s,o),t.add(()=>n.removeEventListener(r,s,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return sc(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=cn();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function as(){let[e]=S.useState(cn);return S.useEffect(()=>()=>e.dispose(),[e]),e}let Ze=(e,t)=>{wr.isServer?S.useEffect(e,t):S.useLayoutEffect(e,t)};function us(e){let t=S.useRef(e);return Ze(()=>{t.current=e},[e]),t}let Ce=function(e){let t=us(e);return pe.useCallback((...n)=>t.current(...n),[t])};function L_(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function M_(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function $_({disabled:e=!1}={}){let t=S.useRef(null),[n,r]=S.useState(!1),s=as(),o=Ce(()=>{t.current=null,r(!1),s.dispose()}),a=Ce(u=>{if(s.dispose(),t.current===null){t.current=u.currentTarget,r(!0);{let c=ls(u.currentTarget);s.addEventListener(c,"pointerup",o,!1),s.addEventListener(c,"pointermove",f=>{if(t.current){let h=L_(f);r(M_(h,t.current.getBoundingClientRect()))}},!1),s.addEventListener(c,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:o,onClick:o}}}function Er(e){return S.useMemo(()=>e,Object.values(e))}let F_=S.createContext(void 0);function K0(){return S.useContext(F_)}function mh(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function rr(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,rr),r}var lo=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(lo||{}),wi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(wi||{});function yt(){let e=U_();return S.useCallback(t=>z_({mergeRefs:e,...t}),[e])}function z_({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:o=!0,name:a,mergeRefs:u}){u=u??B_;let c=G0(t,e);if(o)return lu(c,n,r,a,u);let f=s??0;if(f&2){let{static:h=!1,...m}=c;if(h)return lu(m,n,r,a,u)}if(f&1){let{unmount:h=!0,...m}=c;return rr(h?0:1,{0(){return null},1(){return lu({...m,hidden:!0,style:{display:"none"}},n,r,a,u)}})}return lu(c,n,r,a,u)}function lu(e,t={},n,r,s){let{as:o=n,children:a,refName:u="ref",...c}=yf(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},h=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let m={};if(t){let v=!1,g=[];for(let[x,k]of Object.entries(t))typeof k=="boolean"&&(v=!0),k===!0&&g.push(x.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(v){m["data-headlessui-state"]=g.join(" ");for(let x of g)m[`data-${x}`]=""}}if(vl(o)&&(Object.keys(Ki(c)).length>0||Object.keys(Ki(m)).length>0))if(!S.isValidElement(h)||Array.isArray(h)&&h.length>1||H_(h)){if(Object.keys(Ki(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ki(c)).concat(Object.keys(Ki(m))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,g=v==null?void 0:v.className,x=typeof g=="function"?(...C)=>mh(g(...C),c.className):mh(g,c.className),k=x?{className:x}:{},_=G0(h.props,Ki(yf(c,["ref"])));for(let C in m)C in _&&delete m[C];return S.cloneElement(h,Object.assign({},_,m,f,{ref:s(W_(h),f.ref)},k))}return S.createElement(o,Object.assign({},yf(c,["ref"]),!vl(o)&&f,!vl(o)&&m),h)}function U_(){let e=S.useRef([]),t=S.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function B_(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function G0(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var o;return(o=s==null?void 0:s.preventDefault)==null?void 0:o.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...o){let a=n[r];for(let u of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;u(s,...o)}}});return t}function J0(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];for(let r in n)Object.assign(t,{[r](...s){let o=n[r];for(let a of o)a==null||a(...s)}});return t}function ut(e){var t;return Object.assign(S.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ki(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function yf(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function W_(e){return pe.version.split(".")[0]>="19"?e.props.ref:e.ref}function vl(e){return e===S.Fragment||e===Symbol.for("react.fragment")}function H_(e){return vl(e.type)}let V_="span";var Lu=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Lu||{});function q_(e,t){var n;let{features:r=1,...s}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return yt()({ourProps:o,theirProps:s,slot:{},defaultTag:V_,name:"Hidden"})}let gh=ut(q_),Y_=S.createContext(void 0);function K_(){return S.useContext(Y_)}function Q0(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function zr(e){return Q0(e)&&"tagName"in e}function _n(e){return zr(e)&&"accessKey"in e}function yr(e){return zr(e)&&"tabIndex"in e}function G_(e){return zr(e)&&"style"in e}function J_(e){return _n(e)&&e.nodeName==="IFRAME"}function X0(e){return _n(e)&&e.nodeName==="INPUT"}function Yv(e){return _n(e)&&e.nodeName==="LABEL"}function Q_(e){return _n(e)&&e.nodeName==="FIELDSET"}function Z0(e){return _n(e)&&e.nodeName==="LEGEND"}function X_(e){return zr(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Kv(e){let t=e.parentElement,n=null;for(;t&&!Q_(t);)Z0(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Z_(n)?!1:r}function Z_(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Z0(t))return!1;t=t.previousElementSibling}return!0}let ex=Symbol();function eC(e,t=!0){return Object.assign(e,{[ex]:t})}function Xt(...e){let t=S.useRef(e);S.useEffect(()=>{t.current=e},[e]);let n=Ce(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[ex]))?void 0:n}let lp=S.createContext(null);lp.displayName="DescriptionContext";function tx(){let e=S.useContext(lp);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,tx),t}return e}function nx(){let[e,t]=S.useState([]);return[e.length>0?e.join(" "):void 0,S.useMemo(()=>function(n){let r=Ce(o=>(t(a=>[...a,o]),()=>t(a=>{let u=a.slice(),c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}))),s=S.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return pe.createElement(lp.Provider,{value:s},n.children)},[t])]}let tC="p";function nC(e,t){let n=S.useId(),r=K0(),{id:s=`headlessui-description-${n}`,...o}=e,a=tx(),u=Xt(t);Ze(()=>a.register(s),[s,a.register]);let c=Er({...a.slot,disabled:r||!1}),f={ref:u,...a.props,id:s};return yt()({ourProps:f,theirProps:o,slot:c,defaultTag:tC,name:a.name||"Description"})}let rC=ut(nC),iC=Object.assign(rC,{});var jt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(jt||{});let oc=S.createContext(null);oc.displayName="LabelContext";function ap(){let e=S.useContext(oc);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ap),t}return e}function sC(e){var t,n,r;let s=(n=(t=S.useContext(oc))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...e].filter(Boolean).join(" "):s}function rx({inherit:e=!1}={}){let t=sC(),[n,r]=S.useState([]),s=e?[t,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,S.useMemo(()=>function(o){let a=Ce(c=>(r(f=>[...f,c]),()=>r(f=>{let h=f.slice(),m=h.indexOf(c);return m!==-1&&h.splice(m,1),h}))),u=S.useMemo(()=>({register:a,slot:o.slot,name:o.name,props:o.props,value:o.value}),[a,o.slot,o.name,o.props,o.value]);return pe.createElement(oc.Provider,{value:u},o.children)},[r])]}let oC="label";function lC(e,t){var n;let r=S.useId(),s=ap(),o=K_(),a=K0(),{id:u=`headlessui-label-${r}`,htmlFor:c=o??((n=s.props)==null?void 0:n.htmlFor),passive:f=!1,...h}=e,m=Xt(t);Ze(()=>s.register(u),[u,s.register]);let v=Ce(k=>{let _=k.currentTarget;if(!(k.target!==k.currentTarget&&X_(k.target))&&(Yv(_)&&k.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(k),Yv(_))){let C=document.getElementById(_.htmlFor);if(C){let N=C.getAttribute("disabled");if(N==="true"||N==="")return;let I=C.getAttribute("aria-disabled");if(I==="true"||I==="")return;(X0(C)&&(C.type==="file"||C.type==="radio"||C.type==="checkbox")||C.role==="radio"||C.role==="checkbox"||C.role==="switch")&&C.click(),C.focus({preventScroll:!0})}}}),g=Er({...s.slot,disabled:a||!1}),x={ref:m,...s.props,id:u,htmlFor:c,onClick:v};return f&&("onClick"in x&&(delete x.htmlFor,delete x.onClick),"onClick"in h&&delete h.onClick),yt()({ourProps:x,theirProps:h,slot:g,defaultTag:c?oC:"div",name:s.name||"Label"})}let aC=ut(lC);Object.assign(aC,{});let uC=S.createContext(()=>{});function cC({value:e,children:t}){return pe.createElement(uC.Provider,{value:e},t)}function Gv(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function dC(e,t,n=!1){let[r,s]=S.useState(()=>Gv(t));return Ze(()=>{if(!t||!e)return;let o=cn();return o.requestAnimationFrame(function a(){o.requestAnimationFrame(a),s(u=>{let c=Gv(t);return c.width===u.width&&c.height===u.height?u:c})}),()=>{o.dispose()}},[t,e]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var ix=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(ix||{});function fC(e){let t=S.useRef(null),n=Ce(s=>{t.current=s.pointerType,!Kv(s.currentTarget)&&s.pointerType==="mouse"&&s.button===ix.Left&&(s.preventDefault(),e(s))}),r=Ce(s=>{t.current!=="mouse"&&(Kv(s.currentTarget)||e(s))});return{onPointerDown:n,onClick:r}}let sx=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var hC=Object.defineProperty,pC=(e,t,n)=>t in e?hC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mC=(e,t,n)=>(pC(e,t+"",n),n),ox=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Mn=(e,t,n)=>(ox(e,t,"read from private field"),n?n.call(e):t.get(e)),wf=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Jv=(e,t,n,r)=>(ox(e,t,"write to private field"),t.set(e,n),n),mr,dl,fl;let lx=class{constructor(t){wf(this,mr,{}),wf(this,dl,new sx(()=>new Set)),wf(this,fl,new Set),mC(this,"disposables",cn()),Jv(this,mr,t),wr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Mn(this,mr)}subscribe(t,n){if(wr.isServer)return()=>{};let r={selector:t,callback:n,current:t(Mn(this,mr))};return Mn(this,fl).add(r),this.disposables.add(()=>{Mn(this,fl).delete(r)})}on(t,n){return wr.isServer?()=>{}:(Mn(this,dl).get(t).add(n),this.disposables.add(()=>{Mn(this,dl).get(t).delete(n)}))}send(t){let n=this.reduce(Mn(this,mr),t);if(n!==Mn(this,mr)){Jv(this,mr,n);for(let r of Mn(this,fl)){let s=r.selector(Mn(this,mr));ax(r.current,s)||(r.current=s,r.callback(s))}for(let r of Mn(this,dl).get(t.type))r(Mn(this,mr),t)}}};mr=new WeakMap,dl=new WeakMap,fl=new WeakMap;function ax(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:xf(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:xf(e.entries(),t.entries()):Qv(e)&&Qv(t)?xf(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function xf(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Qv(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function Xv(e){let[t,n]=e(),r=cn();return(...s)=>{t(...s),r.dispose(),r.microTask(n)}}var gC=Object.defineProperty,vC=(e,t,n)=>t in e?gC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zv=(e,t,n)=>(vC(e,typeof t!="symbol"?t+"":t,n),n),ux=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(ux||{});let yC={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let o=e.stack.slice();return o.splice(s,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},wC=class cx extends lx{constructor(){super(...arguments),Zv(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Zv(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new cx({stack:[]})}reduce(t,n){return rr(n.type,yC,t,n)}};const lc=new sx(()=>wC.new());var bf={exports:{}},kf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function xC(){if(ey)return kf;ey=1;var e=tc();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,u=e.useDebugValue;return kf.useSyncExternalStoreWithSelector=function(c,f,h,m,v){var g=s(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=a(function(){function _(H){if(!C){if(C=!0,N=H,H=m(H),v!==void 0&&x.hasValue){var A=x.value;if(v(A,H))return I=A}return I=H}if(A=I,n(N,H))return A;var Y=m(H);return v!==void 0&&v(A,Y)?(N=H,A):(N=H,I=Y)}var C=!1,N,I,F=h===void 0?null:h;return[function(){return _(f())},F===null?void 0:function(){return _(F())}]},[f,h,m,v]);var k=r(c,g[0],g[1]);return o(function(){x.hasValue=!0,x.value=k},[k]),u(k),k},kf}var ty;function bC(){return ty||(ty=1,bf.exports=xC()),bf.exports}var kC=bC();function zn(e,t,n=ax){return kC.useSyncExternalStoreWithSelector(Ce(r=>e.subscribe(SC,r)),Ce(()=>e.state),Ce(()=>e.state),Ce(t),n)}function SC(e){return e}function Bl(e,t){let n=S.useId(),r=lc.get(t),[s,o]=zn(r,S.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return Ze(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?s:!0:!1}let vh=new Map,yl=new Map;function ny(e){var t;let n=(t=yl.get(e))!=null?t:0;return yl.set(e,n+1),n!==0?()=>ry(e):(vh.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>ry(e))}function ry(e){var t;let n=(t=yl.get(e))!=null?t:1;if(n===1?yl.delete(e):yl.set(e,n-1),n!==1)return;let r=vh.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,vh.delete(e))}function dx(e,{allowed:t,disallowed:n}={}){let r=Bl(e,"inert-others");Ze(()=>{var s,o;if(!r)return;let a=cn();for(let c of(s=n==null?void 0:n())!=null?s:[])c&&a.add(ny(c));let u=(o=t==null?void 0:t())!=null?o:[];for(let c of u){if(!c)continue;let f=ls(c);if(!f)continue;let h=c.parentElement;for(;h&&h!==f.body;){for(let m of h.children)u.some(v=>m.contains(v))||a.add(ny(m));h=h.parentElement}}return a.dispose},[r,t,n])}function fx(e,t,n){let r=us(s=>{let o=s.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});S.useEffect(()=>{if(!e)return;let s=t===null?null:_n(t)?t:t.current;if(!s)return;let o=cn();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(s));a.observe(s),o.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(s));a.observe(s),o.add(()=>a.disconnect())}return()=>o.dispose()},[t,r,e])}let Mu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),EC=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var tr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(tr||{}),yh=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(yh||{}),_C=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(_C||{});function hx(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Mu)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function CC(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(EC)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var up=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(up||{});function cp(e,t=0){var n;return e===((n=ls(e))==null?void 0:n.body)?!1:rr(t,{0(){return e.matches(Mu)},1(){let r=e;for(;r!==null;){if(r.matches(Mu))return!0;r=r.parentElement}return!1}})}function px(e){cn().nextFrame(()=>{let t=op(e);t&&yr(t)&&!cp(t,0)&&xr(e)})}var jC=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(jC||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xr(e){e==null||e.focus({preventScroll:!0})}let TC=["textarea","input"].join(",");function IC(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,TC))!=null?n:!1}function mx(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),o=t(r);if(s===null||o===null)return 0;let a=s.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function NC(e,t,n=e===null?document.body:Du(e)){return to(hx(n),t,{relativeTo:e})}function to(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?Du(e[0]):document:Du(e),a=Array.isArray(e)?n?mx(e):e:t&64?CC(e):hx(e);s.length>0&&a.length>1&&(a=a.filter(g=>!s.some(x=>x!=null&&"current"in x?(x==null?void 0:x.current)===g:x===g))),r=r??(o==null?void 0:o.activeElement);let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,m=a.length,v;do{if(h>=m||h+m<=0)return 0;let g=c+h;if(t&16)g=(g+m)%m;else{if(g<0)return 3;if(g>=m)return 1}v=a[g],v==null||v.focus(f),h+=u}while(v!==op(v));return t&6&&IC(v)&&v.select(),2}function gx(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function RC(){return/Android/gi.test(window.navigator.userAgent)}function iy(){return gx()||RC()}function Zs(e,t,n,r){let s=us(n);S.useEffect(()=>{if(!e)return;function o(a){s.current(a)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function vx(e,t,n,r){let s=us(n);S.useEffect(()=>{if(!e)return;function o(a){s.current(a)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const sy=30;function yx(e,t,n){let r=us(n),s=S.useCallback(function(u,c){if(u.defaultPrevented)return;let f=c(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=(function m(v){return typeof v=="function"?m(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let m of h)if(m!==null&&(m.contains(f)||u.composed&&u.composedPath().includes(m)))return;return!cp(f,up.Loose)&&f.tabIndex!==-1&&u.preventDefault(),r.current(u,f)},[r,t]),o=S.useRef(null);Zs(e,"pointerdown",u=>{var c,f;iy()||(o.current=((f=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:f[0])||u.target)},!0),Zs(e,"pointerup",u=>{if(iy()||!o.current)return;let c=o.current;return o.current=null,s(u,()=>c)},!0);let a=S.useRef({x:0,y:0});Zs(e,"touchstart",u=>{a.current.x=u.touches[0].clientX,a.current.y=u.touches[0].clientY},!0),Zs(e,"touchend",u=>{let c={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=sy||Math.abs(c.y-a.current.y)>=sy))return s(u,()=>yr(u.target)?u.target:null)},!0),vx(e,"blur",u=>s(u,()=>J_(window.document.activeElement)?window.document.activeElement:null),!0)}function Nl(...e){return S.useMemo(()=>ls(...e),[...e])}var PC=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(PC||{});const au={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},AC=200,oy=5;function OC(e,{trigger:t,action:n,close:r,select:s}){let o=S.useRef(null),a=S.useRef(null),u=S.useRef(null);Zs(e&&t!==null,"pointerdown",c=>{Q0(c==null?void 0:c.target)&&t!=null&&t.contains(c.target)&&(a.current=c.x,u.current=c.y,o.current=c.timeStamp)}),Zs(e&&t!==null,"pointerup",c=>{var f,h;let m=o.current;if(m===null||(o.current=null,!yr(c.target))||Math.abs(c.x-((f=a.current)!=null?f:c.x))<oy&&Math.abs(c.y-((h=u.current)!=null?h:c.y))<oy)return;let v=n(c);switch(v.kind){case 0:return;case 1:{c.timeStamp-m>AC&&(s(v.target),r());break}case 2:{r();break}}},{capture:!0})}function wx(e,t,n,r){let s=us(n);S.useEffect(()=>{e=e??window;function o(a){s.current(a)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function DC(e,t){return S.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function LC(e){return S.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function MC(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...o){let a=t[s].call(n,...o);a&&(n=a,r.forEach(u=>u()))}}}function $C(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-s);n.style(r,"paddingRight",`${o}px`)}}}function FC(){return gx()?{before({doc:e,d:t,meta:n}){function r(s){for(let o of n().containers)for(let a of o())if(a.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=cn();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",u=>{if(yr(u.target))try{let c=u.target.closest("a");if(!c)return;let{hash:f}=new URL(c.href),h=e.querySelector(f);yr(h)&&!r(h)&&(a=h)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",c=>{if(u.dispose(),yr(c.target)&&G_(c.target))if(r(c.target)){let f=c.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(yr(u.target)){if(X0(u.target))return;if(r(u.target)){let c=u.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let c=(u=window.scrollY)!=null?u:window.pageYOffset;o!==c&&window.scrollTo(0,o),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function zC(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function ly(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ts=MC(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:cn(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=ly(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=ly(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[FC(),$C(),zC()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ts.subscribe(()=>{let e=ts.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&ts.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ts.dispatch("TEARDOWN",n)}});function UC(e,t,n=()=>({containers:[]})){let r=LC(ts),s=t?r.get(t):void 0,o=s?s.count>0:!1;return Ze(()=>{if(!(!t||!e))return ts.dispatch("PUSH",t,n),()=>ts.dispatch("POP",t,n)},[e,t]),o}function xx(e,t,n=()=>[document.body]){let r=Bl(e,"scroll-lock");UC(r,t,s=>{var o;return{containers:[...(o=s.containers)!=null?o:[],n]}})}function ay(e){return[e.screenX,e.screenY]}function BC(){let e=S.useRef([-1,-1]);return{wasMoved(t){let n=ay(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=ay(t)}}}function WC(e=0){let[t,n]=S.useState(e),r=S.useCallback(c=>n(c),[]),s=S.useCallback(c=>n(f=>f|c),[]),o=S.useCallback(c=>(t&c)===c,[t]),a=S.useCallback(c=>n(f=>f&~c),[]),u=S.useCallback(c=>n(f=>f^c),[]);return{flags:t,setFlag:r,addFlag:s,hasFlag:o,removeFlag:a,toggleFlag:u}}var HC={},uy,cy;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((uy=process==null?void 0:HC)==null?void 0:uy.NODE_ENV)==="test"&&typeof((cy=Element==null?void 0:Element.prototype)==null?void 0:cy.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var VC=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(VC||{});function bx(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function kx(e,t,n,r){let[s,o]=S.useState(n),{hasFlag:a,addFlag:u,removeFlag:c}=WC(e&&s?3:0),f=S.useRef(!1),h=S.useRef(!1),m=as();return Ze(()=>{var v;if(e){if(n&&o(!0),!t){n&&u(3);return}return(v=r==null?void 0:r.start)==null||v.call(r,n),qC(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(u(3),c(4)):(u(4),c(2)))},run(){h.current?n?(c(3),u(4)):(c(4),u(3)):n?c(1):u(1)},done(){var g;h.current&&GC(t)||(f.current=!1,c(7),n||o(!1),(g=r==null?void 0:r.end)==null||g.call(r,n))}})}},[e,n,t,m]),e?[s,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function qC(e,{prepare:t,run:n,done:r,inFlight:s}){let o=cn();return KC(e,{prepare:t,inFlight:s}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(YC(e,r))})}),o.dispose}function YC(e,t){var n,r;let s=cn();if(!e)return s.dispose;let o=!1;s.add(()=>{o=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),s.dispose):(Promise.allSettled(a.map(u=>u.finished)).then(()=>{o||t()}),s.dispose)}function KC(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function GC(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function JC(e,{container:t,accept:n,walk:r}){let s=S.useRef(n),o=S.useRef(r);S.useEffect(()=>{s.current=n,o.current=r},[n,r]),Ze(()=>{if(!t||!e)return;let a=ls(t);if(!a)return;let u=s.current,c=o.current,f=Object.assign(m=>u(m),{acceptNode:u}),h=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;h.nextNode();)c(h.currentNode)},[t,e,s,o])}function dp(e,t){let n=S.useRef([]),r=Ce(e);S.useEffect(()=>{let s=[...n.current];for(let[o,a]of t.entries())if(n.current[o]!==a){let u=r(t,s);return n.current=t,u}},[r,...t])}function ac(){return typeof window<"u"}function mo(e){return Sx(e)?(e.nodeName||"").toLowerCase():"#document"}function Sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _r(e){var t;return(t=(Sx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sx(e){return ac()?e instanceof Node||e instanceof Sn(e).Node:!1}function Jt(e){return ac()?e instanceof Element||e instanceof Sn(e).Element:!1}function kr(e){return ac()?e instanceof HTMLElement||e instanceof Sn(e).HTMLElement:!1}function dy(e){return!ac()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sn(e).ShadowRoot}const QC=new Set(["inline","contents"]);function Wl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!QC.has(s)}const XC=new Set(["table","td","th"]);function ZC(e){return XC.has(mo(e))}const ej=[":popover-open",":modal"];function uc(e){return ej.some(t=>{try{return e.matches(t)}catch{return!1}})}const tj=["transform","translate","scale","rotate","perspective"],nj=["transform","translate","scale","rotate","perspective","filter"],rj=["paint","layout","strict","content"];function fp(e){const t=hp(),n=Jt(e)?ir(e):e;return tj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||nj.some(r=>(n.willChange||"").includes(r))||rj.some(r=>(n.contain||"").includes(r))}function ij(e){let t=ki(e);for(;kr(t)&&!ao(t);){if(fp(t))return t;if(uc(t))return null;t=ki(t)}return null}function hp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sj=new Set(["html","body","#document"]);function ao(e){return sj.has(mo(e))}function ir(e){return Sn(e).getComputedStyle(e)}function cc(e){return Jt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ki(e){if(mo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dy(e)&&e.host||_r(e);return dy(t)?t.host:t}function Ex(e){const t=ki(e);return ao(t)?e.ownerDocument?e.ownerDocument.body:e.body:kr(t)&&Wl(t)?t:Ex(t)}function Rl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ex(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=Sn(s);if(o){const u=wh(a);return t.concat(a,a.visualViewport||[],Wl(s)?s:[],u&&n?Rl(u):[])}return t.concat(s,Rl(s,[],n))}function wh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oj(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const is=Math.min,Bt=Math.max,Pl=Math.round,uu=Math.floor,br=e=>({x:e,y:e}),lj={left:"right",right:"left",bottom:"top",top:"bottom"},aj={start:"end",end:"start"};function fy(e,t,n){return Bt(e,is(t,n))}function go(e,t){return typeof e=="function"?e(t):e}function Si(e){return e.split("-")[0]}function Hl(e){return e.split("-")[1]}function _x(e){return e==="x"?"y":"x"}function Cx(e){return e==="y"?"height":"width"}const uj=new Set(["top","bottom"]);function Fr(e){return uj.has(Si(e))?"y":"x"}function jx(e){return _x(Fr(e))}function cj(e,t,n){n===void 0&&(n=!1);const r=Hl(e),s=jx(e),o=Cx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=$u(a)),[a,$u(a)]}function dj(e){const t=$u(e);return[xh(e),t,xh(t)]}function xh(e){return e.replace(/start|end/g,t=>aj[t])}const hy=["left","right"],py=["right","left"],fj=["top","bottom"],hj=["bottom","top"];function pj(e,t,n){switch(e){case"top":case"bottom":return n?t?py:hy:t?hy:py;case"left":case"right":return t?fj:hj;default:return[]}}function mj(e,t,n,r){const s=Hl(e);let o=pj(Si(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(xh)))),o}function $u(e){return e.replace(/left|right|bottom|top/g,t=>lj[t])}function gj(e){return{top:0,right:0,bottom:0,left:0,...e}}function vj(e){return typeof e!="number"?gj(e):{top:e,right:e,bottom:e,left:e}}function Fu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function my(e,t,n){let{reference:r,floating:s}=e;const o=Fr(t),a=jx(t),u=Cx(a),c=Si(t),f=o==="y",h=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:m};break;case"left":g={x:r.x-s.width,y:m};break;default:g={x:r.x,y:r.y}}switch(Hl(t)){case"start":g[a]-=v*(n&&f?-1:1);break;case"end":g[a]+=v*(n&&f?-1:1);break}return g}const yj=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,u=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:m}=my(f,r,c),v=r,g={},x=0;for(let k=0;k<u.length;k++){const{name:_,fn:C}=u[k],{x:N,y:I,data:F,reset:H}=await C({x:h,y:m,initialPlacement:r,placement:v,strategy:s,middlewareData:g,rects:f,platform:a,elements:{reference:e,floating:t}});h=N??h,m=I??m,g={...g,[_]:{...g[_],...F}},H&&x<=50&&(x++,typeof H=="object"&&(H.placement&&(v=H.placement),H.rects&&(f=H.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):H.rects),{x:h,y:m}=my(f,v,c)),k=-1)}return{x:h,y:m,placement:v,strategy:s,middlewareData:g}};async function dc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:u,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:v=!1,padding:g=0}=go(t,e),x=vj(g),_=u[v?m==="floating"?"reference":"floating":m],C=Fu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:c})),N=m==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),F=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},H=Fu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:I,strategy:c}):N);return{top:(C.top-H.top+x.top)/F.y,bottom:(H.bottom-C.bottom+x.bottom)/F.y,left:(C.left-H.left+x.left)/F.x,right:(H.right-C.right+x.right)/F.x}}const wj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:u,platform:c,elements:f}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:k=!0,..._}=go(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=Si(s),N=Fr(u),I=Si(u)===u,F=await(c.isRTL==null?void 0:c.isRTL(f.floating)),H=v||(I||!k?[$u(u)]:dj(u)),A=x!=="none";!v&&A&&H.push(...mj(u,k,x,F));const Y=[u,...H],ee=await dc(t,_),ie=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&ie.push(ee[C]),m){const O=cj(s,a,F);ie.push(ee[O[0]],ee[O[1]])}if(D=[...D,{placement:s,overflows:ie}],!ie.every(O=>O<=0)){var M,X;const O=(((M=o.flip)==null?void 0:M.index)||0)+1,B=Y[O];if(B&&(!(m==="alignment"?N!==Fr(B):!1)||D.every(P=>Fr(P.placement)===N?P.overflows[0]>0:!0)))return{data:{index:O,overflows:D},reset:{placement:B}};let $=(X=D.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:X.placement;if(!$)switch(g){case"bestFit":{var K;const U=(K=D.filter(P=>{if(A){const q=Fr(P.placement);return q===N||q==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(q=>q>0).reduce((q,E)=>q+E,0)]).sort((P,q)=>P[1]-q[1])[0])==null?void 0:K[0];U&&($=U);break}case"initialPlacement":$=u;break}if(s!==$)return{reset:{placement:$}}}return{}}}},xj=new Set(["left","top"]);async function bj(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Si(n),u=Hl(n),c=Fr(n)==="y",f=xj.has(a)?-1:1,h=o&&c?-1:1,m=go(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof x=="number"&&(g=u==="end"?x*-1:x),c?{x:g*h,y:v*f}:{x:v*f,y:g*h}}const kj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:u}=t,c=await bj(t,e);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},Sj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn:_=>{let{x:C,y:N}=_;return{x:C,y:N}}},...c}=go(e,t),f={x:n,y:r},h=await dc(t,c),m=Fr(Si(s)),v=_x(m);let g=f[v],x=f[m];if(o){const _=v==="y"?"top":"left",C=v==="y"?"bottom":"right",N=g+h[_],I=g-h[C];g=fy(N,g,I)}if(a){const _=m==="y"?"top":"left",C=m==="y"?"bottom":"right",N=x+h[_],I=x-h[C];x=fy(N,x,I)}const k=u.fn({...t,[v]:g,[m]:x});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[v]:o,[m]:a}}}}}},Ej=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:a,elements:u}=t,{apply:c=()=>{},...f}=go(e,t),h=await dc(t,f),m=Si(s),v=Hl(s),g=Fr(s)==="y",{width:x,height:k}=o.floating;let _,C;m==="top"||m==="bottom"?(_=m,C=v===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(C=m,_=v==="end"?"top":"bottom");const N=k-h.top-h.bottom,I=x-h.left-h.right,F=is(k-h[_],N),H=is(x-h[C],I),A=!t.middlewareData.shift;let Y=F,ee=H;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(ee=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(Y=N),A&&!v){const D=Bt(h.left,0),M=Bt(h.right,0),X=Bt(h.top,0),K=Bt(h.bottom,0);g?ee=x-2*(D!==0||M!==0?D+M:Bt(h.left,h.right)):Y=k-2*(X!==0||K!==0?X+K:Bt(h.top,h.bottom))}await c({...t,availableWidth:ee,availableHeight:Y});const ie=await a.getDimensions(u.floating);return x!==ie.width||k!==ie.height?{reset:{rects:!0}}:{}}}};function Tx(e){const t=ir(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=kr(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,u=Pl(n)!==o||Pl(r)!==a;return u&&(n=o,r=a),{width:n,height:r,$:u}}function pp(e){return Jt(e)?e:e.contextElement}function no(e){const t=pp(e);if(!kr(t))return br(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Tx(t);let a=(o?Pl(n.width):n.width)/r,u=(o?Pl(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const _j=br(0);function Ix(e){const t=Sn(e);return!hp()||!t.visualViewport?_j:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Cj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Sn(e)?!1:t}function ss(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=pp(e);let a=br(1);t&&(r?Jt(r)&&(a=no(r)):a=no(e));const u=Cj(o,n,r)?Ix(o):br(0);let c=(s.left+u.x)/a.x,f=(s.top+u.y)/a.y,h=s.width/a.x,m=s.height/a.y;if(o){const v=Sn(o),g=r&&Jt(r)?Sn(r):r;let x=v,k=wh(x);for(;k&&r&&g!==x;){const _=no(k),C=k.getBoundingClientRect(),N=ir(k),I=C.left+(k.clientLeft+parseFloat(N.paddingLeft))*_.x,F=C.top+(k.clientTop+parseFloat(N.paddingTop))*_.y;c*=_.x,f*=_.y,h*=_.x,m*=_.y,c+=I,f+=F,x=Sn(k),k=wh(x)}}return Fu({width:h,height:m,x:c,y:f})}function fc(e,t){const n=cc(e).scrollLeft;return t?t.left+n:ss(_r(e)).left+n}function Nx(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-fc(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function jj(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=_r(r),u=t?uc(t.floating):!1;if(r===a||u&&o)return n;let c={scrollLeft:0,scrollTop:0},f=br(1);const h=br(0),m=kr(r);if((m||!m&&!o)&&((mo(r)!=="body"||Wl(a))&&(c=cc(r)),kr(r))){const g=ss(r);f=no(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const v=a&&!m&&!o?Nx(a,c):br(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+h.x+v.x,y:n.y*f.y-c.scrollTop*f.y+h.y+v.y}}function Tj(e){return Array.from(e.getClientRects())}function Ij(e){const t=_r(e),n=cc(e),r=e.ownerDocument.body,s=Bt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Bt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+fc(e);const u=-n.scrollTop;return ir(r).direction==="rtl"&&(a+=Bt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:u}}const gy=25;function Nj(e,t){const n=Sn(e),r=_r(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,u=0,c=0;if(s){o=s.width,a=s.height;const h=hp();(!h||h&&t==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const f=fc(r);if(f<=0){const h=r.ownerDocument,m=h.body,v=getComputedStyle(m),g=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,x=Math.abs(r.clientWidth-m.clientWidth-g);x<=gy&&(o-=x)}else f<=gy&&(o+=f);return{width:o,height:a,x:u,y:c}}const Rj=new Set(["absolute","fixed"]);function Pj(e,t){const n=ss(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=kr(e)?no(e):br(1),a=e.clientWidth*o.x,u=e.clientHeight*o.y,c=s*o.x,f=r*o.y;return{width:a,height:u,x:c,y:f}}function vy(e,t,n){let r;if(t==="viewport")r=Nj(e,n);else if(t==="document")r=Ij(_r(e));else if(Jt(t))r=Pj(t,n);else{const s=Ix(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Fu(r)}function Rx(e,t){const n=ki(e);return n===t||!Jt(n)||ao(n)?!1:ir(n).position==="fixed"||Rx(n,t)}function Aj(e,t){const n=t.get(e);if(n)return n;let r=Rl(e,[],!1).filter(u=>Jt(u)&&mo(u)!=="body"),s=null;const o=ir(e).position==="fixed";let a=o?ki(e):e;for(;Jt(a)&&!ao(a);){const u=ir(a),c=fp(a);!c&&u.position==="fixed"&&(s=null),(o?!c&&!s:!c&&u.position==="static"&&!!s&&Rj.has(s.position)||Wl(a)&&!c&&Rx(e,a))?r=r.filter(h=>h!==a):s=u,a=ki(a)}return t.set(e,r),r}function Oj(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?uc(t)?[]:Aj(t,this._c):[].concat(n),r],u=a[0],c=a.reduce((f,h)=>{const m=vy(t,h,s);return f.top=Bt(m.top,f.top),f.right=is(m.right,f.right),f.bottom=is(m.bottom,f.bottom),f.left=Bt(m.left,f.left),f},vy(t,u,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Dj(e){const{width:t,height:n}=Tx(e);return{width:t,height:n}}function Lj(e,t,n){const r=kr(t),s=_r(t),o=n==="fixed",a=ss(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const c=br(0);function f(){c.x=fc(s)}if(r||!r&&!o)if((mo(t)!=="body"||Wl(s))&&(u=cc(t)),r){const g=ss(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&f();o&&!r&&s&&f();const h=s&&!r&&!o?Nx(s,u):br(0),m=a.left+u.scrollLeft-c.x-h.x,v=a.top+u.scrollTop-c.y-h.y;return{x:m,y:v,width:a.width,height:a.height}}function Sf(e){return ir(e).position==="static"}function yy(e,t){if(!kr(e)||ir(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _r(e)===n&&(n=n.ownerDocument.body),n}function Px(e,t){const n=Sn(e);if(uc(e))return n;if(!kr(e)){let s=ki(e);for(;s&&!ao(s);){if(Jt(s)&&!Sf(s))return s;s=ki(s)}return n}let r=yy(e,t);for(;r&&ZC(r)&&Sf(r);)r=yy(r,t);return r&&ao(r)&&Sf(r)&&!fp(r)?n:r||ij(e)||n}const Mj=async function(e){const t=this.getOffsetParent||Px,n=this.getDimensions,r=await n(e.floating);return{reference:Lj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $j(e){return ir(e).direction==="rtl"}const Fj={convertOffsetParentRelativeRectToViewportRelativeRect:jj,getDocumentElement:_r,getClippingRect:Oj,getOffsetParent:Px,getElementRects:Mj,getClientRects:Tj,getDimensions:Dj,getScale:no,isElement:Jt,isRTL:$j};function Ax(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zj(e,t){let n=null,r;const s=_r(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const f=e.getBoundingClientRect(),{left:h,top:m,width:v,height:g}=f;if(u||t(),!v||!g)return;const x=uu(m),k=uu(s.clientWidth-(h+v)),_=uu(s.clientHeight-(m+g)),C=uu(h),I={rootMargin:-x+"px "+-k+"px "+-_+"px "+-C+"px",threshold:Bt(0,is(1,c))||1};let F=!0;function H(A){const Y=A[0].intersectionRatio;if(Y!==c){if(!F)return a();Y?a(!1,Y):r=setTimeout(()=>{a(!1,1e-7)},1e3)}Y===1&&!Ax(f,e.getBoundingClientRect())&&a(),F=!1}try{n=new IntersectionObserver(H,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(H,I)}n.observe(e)}return a(!0),o}function Uj(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=pp(e),h=s||o?[...f?Rl(f):[],...Rl(t)]:[];h.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const m=f&&u?zj(f,n):null;let v=-1,g=null;a&&(g=new ResizeObserver(C=>{let[N]=C;N&&N.target===f&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var I;(I=g)==null||I.observe(t)})),n()}),f&&!c&&g.observe(f),g.observe(t));let x,k=c?ss(e):null;c&&_();function _(){const C=ss(e);k&&!Ax(k,C)&&n(),k=C,x=requestAnimationFrame(_)}return n(),()=>{var C;h.forEach(N=>{s&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),m==null||m(),(C=g)==null||C.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const Ef=dc,Bj=kj,Wj=Sj,Hj=wj,Vj=Ej,qj=(e,t,n)=>{const r=new Map,s={platform:Fj,...n},o={...s.platform,_c:r};return yj(e,t,{...s,platform:o})};var Yj=typeof document<"u",Kj=function(){},_u=Yj?S.useLayoutEffect:Kj;function zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!zu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ox(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wy(e,t){const n=Ox(e);return Math.round(t*n)/n}function _f(e){const t=S.useRef(e);return _u(()=>{t.current=e}),t}function Gj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:u=!0,whileElementsMounted:c,open:f}=e,[h,m]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,g]=S.useState(r);zu(v,r)||g(r);const[x,k]=S.useState(null),[_,C]=S.useState(null),N=S.useCallback(P=>{P!==A.current&&(A.current=P,k(P))},[]),I=S.useCallback(P=>{P!==Y.current&&(Y.current=P,C(P))},[]),F=o||x,H=a||_,A=S.useRef(null),Y=S.useRef(null),ee=S.useRef(h),ie=c!=null,D=_f(c),M=_f(s),X=_f(f),K=S.useCallback(()=>{if(!A.current||!Y.current)return;const P={placement:t,strategy:n,middleware:v};M.current&&(P.platform=M.current),qj(A.current,Y.current,P).then(q=>{const E={...q,isPositioned:X.current!==!1};O.current&&!zu(ee.current,E)&&(ee.current=E,kn.flushSync(()=>{m(E)}))})},[v,t,n,M,X]);_u(()=>{f===!1&&ee.current.isPositioned&&(ee.current.isPositioned=!1,m(P=>({...P,isPositioned:!1})))},[f]);const O=S.useRef(!1);_u(()=>(O.current=!0,()=>{O.current=!1}),[]),_u(()=>{if(F&&(A.current=F),H&&(Y.current=H),F&&H){if(D.current)return D.current(F,H,K);K()}},[F,H,K,D,ie]);const B=S.useMemo(()=>({reference:A,floating:Y,setReference:N,setFloating:I}),[N,I]),$=S.useMemo(()=>({reference:F,floating:H}),[F,H]),U=S.useMemo(()=>{const P={position:n,left:0,top:0};if(!$.floating)return P;const q=wy($.floating,h.x),E=wy($.floating,h.y);return u?{...P,transform:"translate("+q+"px, "+E+"px)",...Ox($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:E}},[n,u,$.floating,h.x,h.y]);return S.useMemo(()=>({...h,update:K,refs:B,elements:$,floatingStyles:U}),[h,K,B,$,U])}const Dx=(e,t)=>({...Bj(e),options:[e,t]}),Jj=(e,t)=>({...Wj(e),options:[e,t]}),Qj=(e,t)=>({...Hj(e),options:[e,t]}),Xj=(e,t)=>({...Vj(e),options:[e,t]}),Lx={...Ru},Zj=Lx.useInsertionEffect,eT=Zj||(e=>e());function Mx(e){const t=S.useRef(()=>{});return eT(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}var bh=typeof document<"u"?S.useLayoutEffect:S.useEffect;let xy=!1,tT=0;const by=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tT++;function nT(){const[e,t]=S.useState(()=>xy?by():void 0);return bh(()=>{e==null&&t(by())},[]),S.useEffect(()=>{xy=!0},[]),e}const rT=Lx.useId,iT=rT||nT;function sT(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(s=>s(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(s=>s!==n))||[])}}}const oT=S.createContext(null),lT=S.createContext(null),aT=()=>{var e;return((e=S.useContext(oT))==null?void 0:e.id)||null},uT=()=>S.useContext(lT),cT="data-floating-ui-focusable";function dT(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=iT(),o=S.useRef({}),[a]=S.useState(()=>sT()),u=aT()!=null,[c,f]=S.useState(r.reference),h=Mx((g,x,k)=>{o.current.openEvent=g?x:void 0,a.emit("openchange",{open:g,event:x,reason:k,nested:u}),n==null||n(g,x,k)}),m=S.useMemo(()=>({setPositionReference:f}),[]),v=S.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return S.useMemo(()=>({dataRef:o,open:t,onOpenChange:h,elements:v,events:a,floatingId:s,refs:m}),[t,h,v,a,s,m])}function fT(e){e===void 0&&(e={});const{nodeId:t}=e,n=dT({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[o,a]=S.useState(null),[u,c]=S.useState(null),h=(s==null?void 0:s.domReference)||o,m=S.useRef(null),v=uT();bh(()=>{h&&(m.current=h)},[h]);const g=Gj({...e,elements:{...s,...u&&{reference:u}}}),x=S.useCallback(I=>{const F=Jt(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),contextElement:I}:I;c(F),g.refs.setReference(F)},[g.refs]),k=S.useCallback(I=>{(Jt(I)||I===null)&&(m.current=I,a(I)),(Jt(g.refs.reference.current)||g.refs.reference.current===null||I!==null&&!Jt(I))&&g.refs.setReference(I)},[g.refs]),_=S.useMemo(()=>({...g.refs,setReference:k,setPositionReference:x,domReference:m}),[g.refs,k,x]),C=S.useMemo(()=>({...g.elements,domReference:h}),[g.elements,h]),N=S.useMemo(()=>({...g,...r,refs:_,elements:C,nodeId:t}),[g,_,C,t,r]);return bh(()=>{r.dataRef.current.floatingContext=N;const I=v==null?void 0:v.nodesRef.current.find(F=>F.id===t);I&&(I.context=N)}),S.useMemo(()=>({...g,context:N,refs:_,elements:C}),[g,_,C,N])}const ky="active",Sy="selected";function Cf(e,t,n){const r=new Map,s=n==="item";let o=e;if(s&&e){const{[ky]:a,[Sy]:u,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1,[cT]:""},...o,...t.map(a=>{const u=a?a[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((a,u)=>(u&&Object.entries(u).forEach(c=>{let[f,h]=c;if(!(s&&[ky,Sy].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof h=="function"){var m;(m=r.get(f))==null||m.push(h),a[f]=function(){for(var v,g=arguments.length,x=new Array(g),k=0;k<g;k++)x[k]=arguments[k];return(v=r.get(f))==null?void 0:v.map(_=>_(...x)).find(_=>_!==void 0)}}}else a[f]=h}),a),{})}}function hT(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),n=e.map(u=>u==null?void 0:u.floating),r=e.map(u=>u==null?void 0:u.item),s=S.useCallback(u=>Cf(u,e,"reference"),t),o=S.useCallback(u=>Cf(u,e,"floating"),n),a=S.useCallback(u=>Cf(u,e,"item"),r);return S.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:a}),[s,o,a])}function Ey(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const pT=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:s,offset:o=0,index:a=0,minItemsVisible:u=4,referenceOverflowThreshold:c=0,scrollRef:f,...h}=go(e,t),{rects:m,elements:{floating:v}}=t,g=n.current[a],x=(f==null?void 0:f.current)||v,k=v.clientTop||x.clientTop,_=v.clientTop!==0,C=x.clientTop!==0,N=v===x;if(!g)return{};const I={...t,...await Dx(-g.offsetTop-v.clientTop-m.reference.height/2-g.offsetHeight/2-o).fn(t)},F=await Ef(Ey(I,x.scrollHeight+k+v.clientTop),h),H=await Ef(I,{...h,elementContext:"reference"}),A=Bt(0,F.top),Y=I.y+A,D=(x.scrollHeight>x.clientHeight?M=>M:Pl)(Bt(0,x.scrollHeight+(_&&N||C?k*2:0)-A-Bt(0,F.bottom)));if(x.style.maxHeight=D+"px",x.scrollTop=A,s){const M=x.offsetHeight<g.offsetHeight*is(u,n.current.length)-1||H.top>=-c||H.bottom>=-c;kn.flushSync(()=>s(M))}return r&&(r.current=await Ef(Ey({...I,y:Y},x.offsetHeight+k+v.clientTop),h)),{y:Y}}});function mT(e,t){const{open:n,elements:r}=e,{enabled:s=!0,overflowRef:o,scrollRef:a,onChange:u}=t,c=Mx(u),f=S.useRef(!1),h=S.useRef(null),m=S.useRef(null);S.useEffect(()=>{if(!s)return;function g(k){if(k.ctrlKey||!x||o.current==null)return;const _=k.deltaY,C=o.current.top>=-.5,N=o.current.bottom>=-.5,I=x.scrollHeight-x.clientHeight,F=_<0?-1:1,H=_<0?"max":"min";x.scrollHeight<=x.clientHeight||(!C&&_>0||!N&&_<0?(k.preventDefault(),kn.flushSync(()=>{c(A=>A+Math[H](_,I*F))})):/firefox/i.test(oj())&&(x.scrollTop+=_))}const x=(a==null?void 0:a.current)||r.floating;if(n&&x)return x.addEventListener("wheel",g),requestAnimationFrame(()=>{h.current=x.scrollTop,o.current!=null&&(m.current={...o.current})}),()=>{h.current=null,m.current=null,x.removeEventListener("wheel",g)}},[s,n,r.floating,o,a,c]);const v=S.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const g=(a==null?void 0:a.current)||r.floating;if(!(!o.current||!g||!f.current)){if(h.current!==null){const x=g.scrollTop-h.current;(o.current.bottom<-.5&&x<-1||o.current.top<-.5&&x>1)&&kn.flushSync(()=>c(k=>k+x))}requestAnimationFrame(()=>{h.current=g.scrollTop})}}}),[r.floating,c,o,a]);return S.useMemo(()=>s?{floating:v}:{},[s,v])}let vo=S.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});vo.displayName="FloatingContext";let mp=S.createContext(null);mp.displayName="PlacementContext";function gT(e){return S.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function vT(){return S.useContext(vo).setReference}function yT(){return S.useContext(vo).getReferenceProps}function wT(){let{getFloatingProps:e,slot:t}=S.useContext(vo);return S.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function xT(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=S.useContext(mp),n=S.useMemo(()=>e,[JSON.stringify(e,(s,o)=>{var a;return(a=o==null?void 0:o.outerHTML)!=null?a:o})]);Ze(()=>{t==null||t(n??null)},[t,n]);let r=S.useContext(vo);return S.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let _y=4;function bT({children:e,enabled:t=!0}){let[n,r]=S.useState(null),[s,o]=S.useState(0),a=S.useRef(null),[u,c]=S.useState(null);kT(u);let f=t&&n!==null&&u!==null,{to:h="bottom",gap:m=0,offset:v=0,padding:g=0,inner:x}=ST(n,u),[k,_="center"]=h.split(" ");Ze(()=>{f&&o(0)},[f]);let{refs:C,floatingStyles:N,context:I}=fT({open:f,placement:k==="selection"?_==="center"?"bottom":`bottom-${_}`:_==="center"?`${k}`:`${k}-${_}`,strategy:"absolute",transform:!1,middleware:[Dx({mainAxis:k==="selection"?0:m,crossAxis:v}),Jj({padding:g}),k!=="selection"&&Qj({padding:g}),k==="selection"&&x?pT({...x,padding:g,overflowRef:a,offset:s,minItemsVisible:_y,referenceOverflowThreshold:g,onFallbackChange(M){var X,K;if(!M)return;let O=I.elements.floating;if(!O)return;let B=parseFloat(getComputedStyle(O).scrollPaddingBottom)||0,$=Math.min(_y,O.childElementCount),U=0,P=0;for(let q of(K=(X=I.elements.floating)==null?void 0:X.childNodes)!=null?K:[])if(_n(q)){let E=q.offsetTop,R=E+q.clientHeight+B,L=O.scrollTop,j=L+O.clientHeight;if(E>=L&&R<=j)$--;else{P=Math.max(0,Math.min(R,j)-Math.max(E,L)),U=q.clientHeight;break}}$>=1&&o(q=>{let E=U*$-P+B;return q>=E?q:E})}}):null,Xj({padding:g,apply({availableWidth:M,availableHeight:X,elements:K}){Object.assign(K.floating.style,{overflow:"auto",maxWidth:`${M}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${X}px)`})}})].filter(Boolean),whileElementsMounted:Uj}),[F=k,H=_]=I.placement.split("-");k==="selection"&&(F="selection");let A=S.useMemo(()=>({anchor:[F,H].filter(Boolean).join(" ")}),[F,H]),Y=mT(I,{overflowRef:a,onChange:o}),{getReferenceProps:ee,getFloatingProps:ie}=hT([Y]),D=Ce(M=>{c(M),C.setFloating(M)});return S.createElement(mp.Provider,{value:r},S.createElement(vo.Provider,{value:{setFloating:D,setReference:C.setReference,styles:N,getReferenceProps:ee,getFloatingProps:ie,slot:A}},e))}function kT(e){Ze(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let s=parseInt(n);isNaN(s)||r!==s&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function ST(e,t){var n,r,s;let o=jf((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),a=jf((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),u=jf((s=e==null?void 0:e.padding)!=null?s:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:a,padding:u}}function jf(e,t,n=void 0){let r=as(),s=Ce((c,f)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!f)return[n,null];let h=Cy(c,f);return[h,m=>{let v=$x(c);{let g=v.map(x=>window.getComputedStyle(f).getPropertyValue(x));r.requestAnimationFrame(function x(){r.nextFrame(x);let k=!1;for(let[C,N]of v.entries()){let I=window.getComputedStyle(f).getPropertyValue(N);if(g[C]!==I){g[C]=I,k=!0;break}}if(!k)return;let _=Cy(c,f);h!==_&&(m(_),h=_)})}return r.dispose}]}return[n,null]}),o=S.useMemo(()=>s(e,t)[0],[e,t]),[a=o,u]=S.useState();return Ze(()=>{let[c,f]=s(e,t);if(u(c),!!f)return f(u)},[e,t]),a}function $x(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),s=t[1].slice(n+1).trim();return s?[r,...$x(s)]:[r]}return[]}function Cy(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let hc=S.createContext(null);hc.displayName="OpenClosedContext";var Qt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Qt||{});function Vl(){return S.useContext(hc)}function Fx({value:e,children:t}){return pe.createElement(hc.Provider,{value:e},t)}function ET({children:e}){return pe.createElement(hc.Provider,{value:null},e)}function _T(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let mi=[];_T(()=>{function e(t){if(!yr(t.target)||t.target===document.body||mi[0]===t.target)return;let n=t.target;n=n.closest(Mu),mi.unshift(n??t.target),mi=mi.filter(r=>r!=null&&r.isConnected),mi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function CT(e){throw new Error("Unexpected object: "+e)}var vt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(vt||{});function cu(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{s===-1&&(s=n.length);for(let o=s-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=s+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:CT(e)}}function gp(e){let t=Ce(e),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,sc(()=>{n.current&&t()})}),[t])}let zx=S.createContext(!1);function jT(){return S.useContext(zx)}function jy(e){return pe.createElement(zx.Provider,{value:e.force},e.children)}function TT(e){let t=jT(),n=S.useContext(Bx),[r,s]=S.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(wr.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return S.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),S.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let Ux=S.Fragment,IT=ut(function(e,t){let{ownerDocument:n=null,...r}=e,s=S.useRef(null),o=Xt(eC(v=>{s.current=v}),t),a=Nl(s.current),u=n??a,c=TT(u),f=S.useContext(kh),h=as(),m=yt();return gp(()=>{var v;c&&c.childNodes.length<=0&&((v=c.parentElement)==null||v.removeChild(c))}),c?kn.createPortal(pe.createElement("div",{"data-headlessui-portal":"",ref:v=>{h.dispose(),f&&v&&h.add(f.register(v))}},m({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:Ux,name:"Portal"})),c):null});function NT(e,t){let n=Xt(t),{enabled:r=!0,ownerDocument:s,...o}=e,a=yt();return r?pe.createElement(IT,{...o,ownerDocument:s,ref:n}):a({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:Ux,name:"Portal"})}let RT=S.Fragment,Bx=S.createContext(null);function PT(e,t){let{target:n,...r}=e,s={ref:Xt(t)},o=yt();return pe.createElement(Bx.Provider,{value:n},o({ourProps:s,theirProps:r,defaultTag:RT,name:"Popover.Group"}))}let kh=S.createContext(null);function AT(){let e=S.useContext(kh),t=S.useRef([]),n=Ce(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Ce(o=>{let a=t.current.indexOf(o);a!==-1&&t.current.splice(a,1),e&&e.unregister(o)}),s=S.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,S.useMemo(()=>function({children:o}){return pe.createElement(kh.Provider,{value:s},o)},[s])]}let OT=ut(NT),Wx=ut(PT),Hx=Object.assign(OT,{Group:Wx});const Cu={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function Vx(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function DT(e,t,n){let r=cn();if(t.kind==="Tracked"){let s=function(){o!==Vx(e)&&(r.dispose(),n())},{position:o}=t,a=new ResizeObserver(s);a.observe(e),r.add(()=>a.disconnect()),r.addEventListener(window,"scroll",s,{passive:!0}),r.addEventListener(window,"resize",s)}return()=>r.dispose()}function LT(e,t=typeof document<"u"?document.defaultView:null,n){let r=Bl(e,"escape");wx(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===jt.Escape&&n(s))})}function MT(){var e;let[t]=S.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=S.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Ze(()=>{if(!t)return;function s(o){r(o.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function $T({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Ce(()=>{var s,o;let a=ls(n),u=[];for(let c of e)c!==null&&(zr(c)?u.push(c):"current"in c&&zr(c.current)&&u.push(c.current));if(t!=null&&t.current)for(let c of t.current)u.push(c);for(let c of(s=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&zr(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||u.some(f=>c.contains(f))||u.push(c));return u});return{resolveContainers:r,contains:Ce(s=>r().some(o=>o.contains(s)))}}let qx=S.createContext(null);function Ty({children:e,node:t}){let[n,r]=S.useState(null),s=Yx(t??n);return pe.createElement(qx.Provider,{value:s},e,s===null&&pe.createElement(gh,{features:Lu.Hidden,ref:o=>{var a,u;if(o){for(let c of(u=(a=ls(o))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?u:[])if(c!==document.body&&c!==document.head&&zr(c)&&c!=null&&c.contains(o)){r(c);break}}}}))}function Yx(e=null){var t;return(t=S.useContext(qx))!=null?t:e}function FT(){let e=typeof document>"u";return"useSyncExternalStore"in Ru?(t=>t.useSyncExternalStore)(Ru)(()=>()=>{},()=>!1,()=>!e):!1}function pc(){let e=FT(),[t,n]=S.useState(wr.isHandoffComplete);return t&&wr.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{t!==!0&&n(!0)},[t]),S.useEffect(()=>wr.handoff(),[]),e?!1:t}function vp(){let e=S.useRef(!1);return Ze(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var hl=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(hl||{});function zT(){let e=S.useRef(0);return vx(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Kx(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)zr(n.current)&&t.add(n.current);return t}let UT="div";var Qi=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Qi||{});function BT(e,t){let n=S.useRef(null),r=Xt(n,t),{initialFocus:s,initialFocusFallback:o,containers:a,features:u=15,...c}=e;pc()||(u=0);let f=Nl(n.current);qT(u,{ownerDocument:f});let h=YT(u,{ownerDocument:f,container:n,initialFocus:s,initialFocusFallback:o});KT(u,{ownerDocument:f,container:n,containers:a,previousActiveElement:h});let m=zT(),v=Ce(N=>{if(!_n(n.current))return;let I=n.current;(F=>F())(()=>{rr(m.current,{[hl.Forwards]:()=>{to(I,tr.First,{skipElements:[N.relatedTarget,o]})},[hl.Backwards]:()=>{to(I,tr.Last,{skipElements:[N.relatedTarget,o]})}})})}),g=Bl(!!(u&2),"focus-trap#tab-lock"),x=as(),k=S.useRef(!1),_={ref:r,onKeyDown(N){N.key=="Tab"&&(k.current=!0,x.requestAnimationFrame(()=>{k.current=!1}))},onBlur(N){if(!(u&4))return;let I=Kx(a);_n(n.current)&&I.add(n.current);let F=N.relatedTarget;yr(F)&&F.dataset.headlessuiFocusGuard!=="true"&&(Gx(I,F)||(k.current?to(n.current,rr(m.current,{[hl.Forwards]:()=>tr.Next,[hl.Backwards]:()=>tr.Previous})|tr.WrapAround,{relativeTo:N.target}):yr(N.target)&&xr(N.target)))}},C=yt();return pe.createElement(pe.Fragment,null,g&&pe.createElement(gh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Lu.Focusable}),C({ourProps:_,theirProps:c,defaultTag:UT,name:"FocusTrap"}),g&&pe.createElement(gh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Lu.Focusable}))}let WT=ut(BT),HT=Object.assign(WT,{features:Qi});function VT(e=!0){let t=S.useRef(mi.slice());return dp(([n],[r])=>{r===!0&&n===!1&&sc(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=mi.slice())},[e,mi,t]),Ce(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function qT(e,{ownerDocument:t}){let n=!!(e&8),r=VT(n);dp(()=>{n||Y0(t==null?void 0:t.body)&&xr(r())},[n]),gp(()=>{n&&xr(r())})}function YT(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let o=S.useRef(null),a=Bl(!!(e&1),"focus-trap#initial-focus"),u=vp();return dp(()=>{if(e===0)return;if(!a){s!=null&&s.current&&xr(s.current);return}let c=n.current;c&&sc(()=>{if(!u.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){o.current=f;return}}else if(c.contains(f)){o.current=f;return}if(r!=null&&r.current)xr(r.current);else{if(e&16){if(to(c,tr.First|tr.AutoFocus)!==yh.Error)return}else if(to(c,tr.First)!==yh.Error)return;if(s!=null&&s.current&&(xr(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t==null?void 0:t.activeElement})},[s,a,e]),o}function KT(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let o=vp(),a=!!(e&4);wx(t==null?void 0:t.defaultView,"focus",u=>{if(!a||!o.current)return;let c=Kx(r);_n(n.current)&&c.add(n.current);let f=s.current;if(!f)return;let h=u.target;_n(h)?Gx(c,h)?(s.current=h,xr(h)):(u.preventDefault(),u.stopPropagation(),xr(f)):xr(s.current)},!0)}function Gx(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Jx(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!vl((t=e.as)!=null?t:Xx)||pe.Children.count(e.children)===1}let mc=S.createContext(null);mc.displayName="TransitionContext";var GT=(e=>(e.Visible="visible",e.Hidden="hidden",e))(GT||{});function JT(){let e=S.useContext(mc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function QT(){let e=S.useContext(gc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let gc=S.createContext(null);gc.displayName="NestingContext";function vc(e){return"children"in e?vc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Qx(e,t){let n=us(e),r=S.useRef([]),s=vp(),o=as(),a=Ce((g,x=wi.Hidden)=>{let k=r.current.findIndex(({el:_})=>_===g);k!==-1&&(rr(x,{[wi.Unmount](){r.current.splice(k,1)},[wi.Hidden](){r.current[k].state="hidden"}}),o.microTask(()=>{var _;!vc(r)&&s.current&&((_=n.current)==null||_.call(n))}))}),u=Ce(g=>{let x=r.current.find(({el:k})=>k===g);return x?x.state!=="visible"&&(x.state="visible"):r.current.push({el:g,state:"visible"}),()=>a(g,wi.Unmount)}),c=S.useRef([]),f=S.useRef(Promise.resolve()),h=S.useRef({enter:[],leave:[]}),m=Ce((g,x,k)=>{c.current.splice(0),t&&(t.chains.current[x]=t.chains.current[x].filter(([_])=>_!==g)),t==null||t.chains.current[x].push([g,new Promise(_=>{c.current.push(_)})]),t==null||t.chains.current[x].push([g,new Promise(_=>{Promise.all(h.current[x].map(([C,N])=>N)).then(()=>_())})]),x==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>k(x)):k(x)}),v=Ce((g,x,k)=>{Promise.all(h.current[x].splice(0).map(([_,C])=>C)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>k(x))});return S.useMemo(()=>({children:r,register:u,unregister:a,onStart:m,onStop:v,wait:f,chains:h}),[u,a,r,m,v,h,f])}let Xx=S.Fragment,Zx=lo.RenderStrategy;function XT(e,t){var n,r;let{transition:s=!0,beforeEnter:o,afterEnter:a,beforeLeave:u,afterLeave:c,enter:f,enterFrom:h,enterTo:m,entered:v,leave:g,leaveFrom:x,leaveTo:k,..._}=e,[C,N]=S.useState(null),I=S.useRef(null),F=Jx(e),H=Xt(...F?[I,t,N]:t===null?[]:[t]),A=(n=_.unmount)==null||n?wi.Unmount:wi.Hidden,{show:Y,appear:ee,initial:ie}=JT(),[D,M]=S.useState(Y?"visible":"hidden"),X=QT(),{register:K,unregister:O}=X;Ze(()=>K(I),[K,I]),Ze(()=>{if(A===wi.Hidden&&I.current){if(Y&&D!=="visible"){M("visible");return}return rr(D,{hidden:()=>O(I),visible:()=>K(I)})}},[D,I,K,O,Y,A]);let B=pc();Ze(()=>{if(F&&B&&D==="visible"&&I.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[I,D,B,F]);let $=ie&&!ee,U=ee&&Y&&ie,P=S.useRef(!1),q=Qx(()=>{P.current||(M("hidden"),O(I))},X),E=Ce(fe=>{P.current=!0;let he=fe?"enter":"leave";q.onStart(I,he,me=>{me==="enter"?o==null||o():me==="leave"&&(u==null||u())})}),R=Ce(fe=>{let he=fe?"enter":"leave";P.current=!1,q.onStop(I,he,me=>{me==="enter"?a==null||a():me==="leave"&&(c==null||c())}),he==="leave"&&!vc(q)&&(M("hidden"),O(I))});S.useEffect(()=>{F&&s||(E(Y),R(Y))},[Y,F,s]);let L=!(!s||!F||!B||$),[,j]=kx(L,C,Y,{start:E,end:R}),J=Ki({ref:H,className:((r=mh(_.className,U&&f,U&&h,j.enter&&f,j.enter&&j.closed&&h,j.enter&&!j.closed&&m,j.leave&&g,j.leave&&!j.closed&&x,j.leave&&j.closed&&k,!j.transition&&Y&&v))==null?void 0:r.trim())||void 0,...bx(j)}),te=0;D==="visible"&&(te|=Qt.Open),D==="hidden"&&(te|=Qt.Closed),Y&&D==="hidden"&&(te|=Qt.Opening),!Y&&D==="visible"&&(te|=Qt.Closing);let ne=yt();return pe.createElement(gc.Provider,{value:q},pe.createElement(Fx,{value:te},ne({ourProps:J,theirProps:_,defaultTag:Xx,features:Zx,visible:D==="visible",name:"Transition.Child"})))}function ZT(e,t){let{show:n,appear:r=!1,unmount:s=!0,...o}=e,a=S.useRef(null),u=Jx(e),c=Xt(...u?[a,t]:t===null?[]:[t]);pc();let f=Vl();if(n===void 0&&f!==null&&(n=(f&Qt.Open)===Qt.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,m]=S.useState(n?"visible":"hidden"),v=Qx(()=>{n||m("hidden")}),[g,x]=S.useState(!0),k=S.useRef([n]);Ze(()=>{g!==!1&&k.current[k.current.length-1]!==n&&(k.current.push(n),x(!1))},[k,n]);let _=S.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);Ze(()=>{n?m("visible"):!vc(v)&&a.current!==null&&m("hidden")},[n,v]);let C={unmount:s},N=Ce(()=>{var H;g&&x(!1),(H=e.beforeEnter)==null||H.call(e)}),I=Ce(()=>{var H;g&&x(!1),(H=e.beforeLeave)==null||H.call(e)}),F=yt();return pe.createElement(gc.Provider,{value:v},pe.createElement(mc.Provider,{value:_},F({ourProps:{...C,as:S.Fragment,children:pe.createElement(eb,{ref:c,...C,...o,beforeEnter:N,beforeLeave:I})},theirProps:{},defaultTag:S.Fragment,features:Zx,visible:h==="visible",name:"Transition"})))}function eI(e,t){let n=S.useContext(mc)!==null,r=Vl()!==null;return pe.createElement(pe.Fragment,null,!n&&r?pe.createElement(Sh,{ref:t,...e}):pe.createElement(eb,{ref:t,...e}))}let Sh=ut(ZT),eb=ut(XT),yp=ut(eI),tI=Object.assign(Sh,{Child:yp,Root:Sh});var nI=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(nI||{}),rI=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(rI||{});let iI={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},wp=S.createContext(null);wp.displayName="DialogContext";function yc(e){let t=S.useContext(wp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,yc),n}return t}function sI(e,t){return rr(t.type,iI,e,t)}let Iy=ut(function(e,t){let n=S.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:o,initialFocus:a,role:u="dialog",autoFocus:c=!0,__demoMode:f=!1,unmount:h=!1,...m}=e,v=S.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let g=Vl();s===void 0&&g!==null&&(s=(g&Qt.Open)===Qt.Open);let x=S.useRef(null),k=Xt(x,t),_=Nl(x.current),C=s?0:1,[N,I]=S.useReducer(sI,{titleId:null,descriptionId:null,panelRef:S.createRef()}),F=Ce(()=>o(!1)),H=Ce(j=>I({type:0,id:j})),A=pc()?C===0:!1,[Y,ee]=AT(),ie={get current(){var j;return(j=N.panelRef.current)!=null?j:x.current}},D=Yx(),{resolveContainers:M}=$T({mainTreeNode:D,portals:Y,defaultContainers:[ie]}),X=g!==null?(g&Qt.Closing)===Qt.Closing:!1;dx(f||X?!1:A,{allowed:Ce(()=>{var j,J;return[(J=(j=x.current)==null?void 0:j.closest("[data-headlessui-portal]"))!=null?J:null]}),disallowed:Ce(()=>{var j;return[(j=D==null?void 0:D.closest("body > *:not(#headlessui-portal-root)"))!=null?j:null]})});let K=lc.get(null);Ze(()=>{if(A)return K.actions.push(r),()=>K.actions.pop(r)},[K,r,A]);let O=zn(K,S.useCallback(j=>K.selectors.isTop(j,r),[K,r]));yx(O,M,j=>{j.preventDefault(),F()}),LT(O,_==null?void 0:_.defaultView,j=>{j.preventDefault(),j.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),F()}),xx(f||X?!1:A,_,M),fx(A,x,F);let[B,$]=nx(),U=S.useMemo(()=>[{dialogState:C,close:F,setTitleId:H,unmount:h},N],[C,F,H,h,N]),P=Er({open:C===0}),q={ref:k,id:r,role:u,tabIndex:-1,"aria-modal":f?void 0:C===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":B,unmount:h},E=!MT(),R=Qi.None;A&&!f&&(R|=Qi.RestoreFocus,R|=Qi.TabLock,c&&(R|=Qi.AutoFocus),E&&(R|=Qi.InitialFocus));let L=yt();return pe.createElement(ET,null,pe.createElement(jy,{force:!0},pe.createElement(Hx,null,pe.createElement(wp.Provider,{value:U},pe.createElement(Wx,{target:x},pe.createElement(jy,{force:!1},pe.createElement($,{slot:P},pe.createElement(ee,null,pe.createElement(HT,{initialFocus:a,initialFocusFallback:x,containers:M,features:R},pe.createElement(cC,{value:F},L({ourProps:q,theirProps:m,slot:P,defaultTag:oI,features:lI,visible:C===0,name:"Dialog"})))))))))))}),oI="div",lI=lo.RenderStrategy|lo.Static;function aI(e,t){let{transition:n=!1,open:r,...s}=e,o=Vl(),a=e.hasOwnProperty("open")||o!==null,u=e.hasOwnProperty("onClose");if(!a&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?pe.createElement(Ty,null,pe.createElement(tI,{show:r,transition:n,unmount:s.unmount},pe.createElement(Iy,{ref:t,...s}))):pe.createElement(Ty,null,pe.createElement(Iy,{ref:t,open:r,...s}))}let uI="div";function cI(e,t){let n=S.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...o}=e,[{dialogState:a,unmount:u},c]=yc("Dialog.Panel"),f=Xt(t,c.panelRef),h=Er({open:a===0}),m=Ce(_=>{_.stopPropagation()}),v={ref:f,id:r,onClick:m},g=s?yp:S.Fragment,x=s?{unmount:u}:{},k=yt();return pe.createElement(g,{...x},k({ourProps:v,theirProps:o,slot:h,defaultTag:uI,name:"Dialog.Panel"}))}let dI="div";function fI(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:o}]=yc("Dialog.Backdrop"),a=Er({open:s===0}),u={ref:t,"aria-hidden":!0},c=n?yp:S.Fragment,f=n?{unmount:o}:{},h=yt();return pe.createElement(c,{...f},h({ourProps:u,theirProps:r,slot:a,defaultTag:dI,name:"Dialog.Backdrop"}))}let hI="h2";function pI(e,t){let n=S.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:o,setTitleId:a}]=yc("Dialog.Title"),u=Xt(t);S.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=Er({open:o===0}),f={ref:u,id:r};return yt()({ourProps:f,theirProps:s,slot:c,defaultTag:hI,name:"Dialog.Title"})}let mI=ut(aI),gI=ut(cI);ut(fI);let vI=ut(pI),Ny=Object.assign(mI,{Panel:gI,Title:vI,Description:iC}),Ry=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Py(e){var t,n;let r=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!_n(s))return r;let o=!1;for(let u of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),o=!0;let a=o?(n=s.innerText)!=null?n:"":r;return Ry.test(a)&&(a=a.replace(Ry,"")),a}function yI(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():Py(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Py(e).trim()}function wI(e){let t=S.useRef(""),n=S.useRef("");return Ce(()=>{let r=e.current;if(!r)return"";let s=r.innerText;if(t.current===s)return n.current;let o=yI(r).trim().toLowerCase();return t.current=s,n.current=o,o})}var xI=Object.defineProperty,bI=(e,t,n)=>t in e?xI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ay=(e,t,n)=>(bI(e,typeof t!="symbol"?t+"":t,n),n),Ut=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ut||{}),Uu=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Uu||{}),He=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(He||{});function Oy(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=mx(t(e.items.slice()),o=>o.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{items:r,activeItemIndex:s}}let kI={1(e){if(e.menuState===1)return e;let t=e.buttonElement?Cu.Tracked(Vx(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:vt.Nothing},menuState:1,buttonPositionState:t}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:Cu.Idle}},2:(e,t)=>{var n,r,s,o,a;if(e.menuState===1)return e;let u={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===vt.Nothing)return{...u,activeItemIndex:null};if(t.focus===vt.Specific)return{...u,activeItemIndex:e.items.findIndex(h=>h.id===t.id)};if(t.focus===vt.Previous){let h=e.activeItemIndex;if(h!==null){let m=e.items[h].dataRef.current.domRef,v=cu(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.current.disabled});if(v!==null){let g=e.items[v].dataRef.current.domRef;if(((r=m.current)==null?void 0:r.previousElementSibling)===g.current||((s=g.current)==null?void 0:s.previousElementSibling)===null)return{...u,activeItemIndex:v}}}}else if(t.focus===vt.Next){let h=e.activeItemIndex;if(h!==null){let m=e.items[h].dataRef.current.domRef,v=cu(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.current.disabled});if(v!==null){let g=e.items[v].dataRef.current.domRef;if(((o=m.current)==null?void 0:o.nextElementSibling)===g.current||((a=g.current)==null?void 0:a.nextElementSibling)===null)return{...u,activeItemIndex:v}}}}let c=Oy(e),f=cu(t,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...u,...c,activeItemIndex:f}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(a=>{var u;return((u=a.dataRef.current.textValue)==null?void 0:u.startsWith(r))&&!a.dataRef.current.disabled}),o=s?e.items.indexOf(s):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(s=>s)),r=e.activeItemIndex;return e.pendingFocus.focus!==vt.Nothing&&(r=cu(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:vt.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],s=new Set(t.items);for(let[o,a]of n.entries())if(s.has(a.id)&&(r.push(o),s.delete(a.id),s.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...Oy(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Cu.Moved}}};class xp extends lx{constructor(t){super(t),Ay(this,"actions",{registerItem:Xv(()=>{let n=[],r=new Set;return[(s,o)=>{r.has(o)||(r.add(o),n.push({id:s,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:Xv(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),Ay(this,"selectors",{activeDescendantId(n){var r;let s=n.activeItemIndex,o=n.items;return s===null||(r=o[s])==null?void 0:r.id},isActive(n,r){var s;let o=n.activeItemIndex,a=n.items;return o!==null?((s=a[o])==null?void 0:s.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=lc.get(null);this.disposables.add(r.on(ux.Push,s=>{!r.selectors.isTop(s,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(DT(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:t,__demoMode:n=!1}){return new xp({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:vt.Nothing},buttonPositionState:Cu.Idle})}reduce(t,n){return rr(n.type,kI,t,n)}}const tb=S.createContext(null);function bp(e){let t=S.useContext(tb);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nb),n}return t}function nb({id:e,__demoMode:t=!1}){let n=S.useMemo(()=>xp.new({id:e,__demoMode:t}),[]);return gp(()=>n.dispose()),n}let SI=S.Fragment;function EI(e,t){let n=S.useId(),{__demoMode:r=!1,...s}=e,o=nb({id:n,__demoMode:r}),[a,u,c]=zn(o,_=>[_.menuState,_.itemsElement,_.buttonElement]),f=Xt(t),h=lc.get(null),m=zn(h,S.useCallback(_=>h.selectors.isTop(_,n),[h,n]));yx(m,[c,u],(_,C)=>{var N;o.send({type:He.CloseMenu}),cp(C,up.Loose)||(_.preventDefault(),(N=o.state.buttonElement)==null||N.focus())});let v=Ce(()=>{o.send({type:He.CloseMenu})}),g=Er({open:a===Ut.Open,close:v}),x={ref:f},k=yt();return pe.createElement(bT,null,pe.createElement(tb.Provider,{value:o},pe.createElement(Fx,{value:rr(a,{[Ut.Open]:Qt.Open,[Ut.Closed]:Qt.Closed})},k({ourProps:x,theirProps:s,slot:g,defaultTag:SI,name:"Menu"}))))}let _I="button";function CI(e,t){let n=bp("Menu.Button"),r=S.useId(),{id:s=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:a=!1,...u}=e,c=S.useRef(null),f=yT(),h=Xt(t,c,vT(),Ce(D=>n.send({type:He.SetButtonElement,element:D}))),m=Ce(D=>{switch(D.key){case jt.Space:case jt.Enter:case jt.ArrowDown:D.preventDefault(),D.stopPropagation(),n.send({type:He.OpenMenu,focus:{focus:vt.First}});break;case jt.ArrowUp:D.preventDefault(),D.stopPropagation(),n.send({type:He.OpenMenu,focus:{focus:vt.Last}});break}}),v=Ce(D=>{switch(D.key){case jt.Space:D.preventDefault();break}}),[g,x,k]=zn(n,D=>[D.menuState,D.buttonElement,D.itemsElement]),_=g===Ut.Open;OC(_,{trigger:x,action:S.useCallback(D=>{if(x!=null&&x.contains(D.target))return au.Ignore;let M=D.target.closest('[role="menuitem"]:not([data-disabled])');return _n(M)?au.Select(M):k!=null&&k.contains(D.target)?au.Ignore:au.Close},[x,k]),close:S.useCallback(()=>n.send({type:He.CloseMenu}),[]),select:S.useCallback(D=>D.click(),[])});let C=fC(D=>{var M;o||(g===Ut.Open?(kn.flushSync(()=>n.send({type:He.CloseMenu})),(M=c.current)==null||M.focus({preventScroll:!0})):(D.preventDefault(),n.send({type:He.OpenMenu,focus:{focus:vt.Nothing},trigger:Uu.Pointer})))}),{isFocusVisible:N,focusProps:I}=P_({autoFocus:a}),{isHovered:F,hoverProps:H}=R_({isDisabled:o}),{pressed:A,pressProps:Y}=$_({disabled:o}),ee=Er({open:g===Ut.Open,active:A||g===Ut.Open,disabled:o,hover:F,focus:N,autofocus:a}),ie=J0(f(),{ref:h,id:s,type:DC(e,c.current),"aria-haspopup":"menu","aria-controls":k==null?void 0:k.id,"aria-expanded":g===Ut.Open,disabled:o||void 0,autoFocus:a,onKeyDown:m,onKeyUp:v},C,I,H,Y);return yt()({ourProps:ie,theirProps:u,slot:ee,defaultTag:_I,name:"Menu.Button"})}let jI="div",TI=lo.RenderStrategy|lo.Static;function II(e,t){let n=S.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:s,portal:o=!1,modal:a=!0,transition:u=!1,...c}=e,f=gT(s),h=bp("Menu.Items"),[m,v]=xT(f),g=wT(),[x,k]=S.useState(null),_=Xt(t,f?m:null,Ce(P=>h.send({type:He.SetItemsElement,element:P})),k),[C,N]=zn(h,P=>[P.menuState,P.buttonElement]),I=Nl(N),F=Nl(x);f&&(o=!0);let H=Vl(),[A,Y]=kx(u,x,H!==null?(H&Qt.Open)===Qt.Open:C===Ut.Open);fx(A,N,()=>{h.send({type:He.CloseMenu})});let ee=zn(h,P=>P.__demoMode),ie=ee?!1:a&&C===Ut.Open;xx(ie,F);let D=ee?!1:a&&C===Ut.Open;dx(D,{allowed:S.useCallback(()=>[N,x],[N,x])});let M=zn(h,h.selectors.didButtonMove)?!1:A;S.useEffect(()=>{let P=x;P&&C===Ut.Open&&(Y0(P)||P.focus({preventScroll:!0}))},[C,x]),JC(C===Ut.Open,{container:x,accept(P){return P.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:P.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(P){P.setAttribute("role","none")}});let X=as(),K=Ce(P=>{var q,E,R;switch(X.dispose(),P.key){case jt.Space:if(h.state.searchQuery!=="")return P.preventDefault(),P.stopPropagation(),h.send({type:He.Search,value:P.key});case jt.Enter:if(P.preventDefault(),P.stopPropagation(),h.state.activeItemIndex!==null){let{dataRef:L}=h.state.items[h.state.activeItemIndex];(E=(q=L.current)==null?void 0:q.domRef.current)==null||E.click()}h.send({type:He.CloseMenu}),px(h.state.buttonElement);break;case jt.ArrowDown:return P.preventDefault(),P.stopPropagation(),h.send({type:He.GoToItem,focus:vt.Next});case jt.ArrowUp:return P.preventDefault(),P.stopPropagation(),h.send({type:He.GoToItem,focus:vt.Previous});case jt.Home:case jt.PageUp:return P.preventDefault(),P.stopPropagation(),h.send({type:He.GoToItem,focus:vt.First});case jt.End:case jt.PageDown:return P.preventDefault(),P.stopPropagation(),h.send({type:He.GoToItem,focus:vt.Last});case jt.Escape:P.preventDefault(),P.stopPropagation(),kn.flushSync(()=>h.send({type:He.CloseMenu})),(R=h.state.buttonElement)==null||R.focus({preventScroll:!0});break;case jt.Tab:P.preventDefault(),P.stopPropagation(),kn.flushSync(()=>h.send({type:He.CloseMenu})),NC(h.state.buttonElement,P.shiftKey?tr.Previous:tr.Next);break;default:P.key.length===1&&(h.send({type:He.Search,value:P.key}),X.setTimeout(()=>h.send({type:He.ClearSearch}),350));break}}),O=Ce(P=>{switch(P.key){case jt.Space:P.preventDefault();break}}),B=Er({open:C===Ut.Open}),$=J0(f?g():{},{"aria-activedescendant":zn(h,h.selectors.activeDescendantId),"aria-labelledby":zn(h,P=>{var q;return(q=P.buttonElement)==null?void 0:q.id}),id:r,onKeyDown:K,onKeyUp:O,role:"menu",tabIndex:C===Ut.Open?0:void 0,ref:_,style:{...c.style,...v,"--button-width":dC(A,N,!0).width},...bx(Y)}),U=yt();return pe.createElement(Hx,{enabled:o?e.static||A:!1,ownerDocument:I},U({ourProps:$,theirProps:c,slot:B,defaultTag:jI,features:TI,visible:M,name:"Menu.Items"}))}let NI=S.Fragment;function RI(e,t){let n=S.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:s=!1,...o}=e,a=bp("Menu.Item"),u=zn(a,M=>a.selectors.isActive(M,r)),c=S.useRef(null),f=Xt(t,c),h=zn(a,M=>a.selectors.shouldScrollIntoView(M,r));Ze(()=>{if(h)return cn().requestAnimationFrame(()=>{var M,X;(X=(M=c.current)==null?void 0:M.scrollIntoView)==null||X.call(M,{block:"nearest"})})},[h,c]);let m=wI(c),v=S.useRef({disabled:s,domRef:c,get textValue(){return m()}});Ze(()=>{v.current.disabled=s},[v,s]),Ze(()=>(a.actions.registerItem(r,v),()=>a.actions.unregisterItem(r)),[v,r]);let g=Ce(()=>{a.send({type:He.CloseMenu})}),x=Ce(M=>{if(s)return M.preventDefault();a.send({type:He.CloseMenu}),px(a.state.buttonElement)}),k=Ce(()=>{if(s)return a.send({type:He.GoToItem,focus:vt.Nothing});a.send({type:He.GoToItem,focus:vt.Specific,id:r})}),_=BC(),C=Ce(M=>_.update(M)),N=Ce(M=>{_.wasMoved(M)&&(s||u||a.send({type:He.GoToItem,focus:vt.Specific,id:r,trigger:Uu.Pointer}))}),I=Ce(M=>{_.wasMoved(M)&&(s||u&&a.state.activationTrigger===Uu.Pointer&&a.send({type:He.GoToItem,focus:vt.Nothing}))}),[F,H]=rx(),[A,Y]=nx(),ee=Er({active:u,focus:u,disabled:s,close:g}),ie={id:r,ref:f,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-labelledby":F,"aria-describedby":A,disabled:void 0,onClick:x,onFocus:k,onPointerEnter:C,onMouseEnter:C,onPointerMove:N,onMouseMove:N,onPointerLeave:I,onMouseLeave:I},D=yt();return pe.createElement(H,null,pe.createElement(Y,null,D({ourProps:ie,theirProps:o,slot:ee,defaultTag:NI,name:"Menu.Item"})))}let PI="div";function AI(e,t){let[n,r]=rx(),s=e,o={ref:t,"aria-labelledby":n,role:"group"},a=yt();return pe.createElement(r,null,a({ourProps:o,theirProps:s,slot:{},defaultTag:PI,name:"Menu.Section"}))}let OI="header";function DI(e,t){let n=S.useId(),{id:r=`headlessui-menu-heading-${n}`,...s}=e,o=ap();Ze(()=>o.register(r),[r,o.register]);let a={id:r,ref:t,role:"presentation",...o.props};return yt()({ourProps:a,theirProps:s,slot:{},defaultTag:OI,name:"Menu.Heading"})}let LI="div";function MI(e,t){let n=e,r={ref:t,role:"separator"};return yt()({ourProps:r,theirProps:n,slot:{},defaultTag:LI,name:"Menu.Separator"})}let $I=ut(EI),FI=ut(CI),zI=ut(II),UI=ut(RI),BI=ut(AI),WI=ut(DI),HI=ut(MI),Hi=Object.assign($I,{Button:FI,Items:zI,Item:UI,Section:BI,Heading:WI,Separator:HI});const VI="modulepreload",qI=function(e){return"/sport-planner/"+e},Dy={},ql=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=a(n.map(f=>{if(f=qI(f),f in Dy)return;Dy[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":VI,h||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((g,x)=>{v.addEventListener("load",g),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},YI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ql(async()=>{const{default:r}=await Promise.resolve().then(()=>yo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class kp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Ly extends kp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class My extends kp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $y extends kp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Eh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Eh||(Eh={}));var KI=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class GI{constructor(t,{headers:n={},customFetch:r,region:s=Eh.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=YI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return KI(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:o,method:a,body:u,signal:c}=r;let f={},{region:h}=r;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)));const g=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:c}).catch(C=>{throw C.name==="AbortError"?C:new Ly(C)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new My(g);if(!g.ok)throw new $y(g);let k=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return k==="application/json"?_=yield g.json():k==="application/octet-stream"?_=yield g.blob():k==="text/event-stream"?_=g:k==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Ly(o)}:{data:null,error:o,response:o instanceof $y||o instanceof My?o.context:void 0}}})}}var Ct={},Ds={},Ls={},Ms={},$s={},Fs={},JI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},uo=JI();const QI=uo.fetch,rb=uo.fetch.bind(uo),ib=uo.Headers,XI=uo.Request,ZI=uo.Response,yo=Object.freeze(Object.defineProperty({__proto__:null,Headers:ib,Request:XI,Response:ZI,default:rb,fetch:QI},Symbol.toStringTag,{value:"Module"})),eN=YS(yo);var du={},Fy;function sb(){if(Fy)return du;Fy=1,Object.defineProperty(du,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return du.default=e,du}var zy;function ob(){if(zy)return Fs;zy=1;var e=Fs&&Fs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Fs,"__esModule",{value:!0});const t=e(eN),n=e(sb());class r{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,m,v,g;let x=null,k=null,_=null,C=f.status,N=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?k=A:k=JSON.parse(A))}const F=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),H=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");F&&H&&H.length>1&&(_=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(x={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,_=null,C=406,N="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const F=await f.text();try{x=JSON.parse(F),Array.isArray(x)&&f.status===404&&(k=[],x=null,C=200,N="OK")}catch{f.status===404&&F===""?(C=204,N="No Content"):x={message:F}}if(x&&this.isMaybeSingle&&(!((g=x==null?void 0:x.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,C=200,N="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:k,count:_,status:C,statusText:N}});return this.shouldThrowOnError||(c=c.catch(f=>{var h,m,v;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,a)}returns(){return this}overrideTypes(){return this}}return Fs.default=r,Fs}var Uy;function lb(){if(Uy)return $s;Uy=1;var e=$s&&$s.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($s,"__esModule",{value:!0});const t=e(ob());class n extends t.default{select(s){let o=!1;const a=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:a,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${s}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:a,referencedTable:u=a}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(f,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:a=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var h;const m=[s?"analyze":null,o?"verbose":null,a?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return $s.default=n,$s}var By;function Sp(){if(By)return Ms;By=1;var e=Ms&&Ms.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ms,"__esModule",{value:!0});const t=e(lb());class n extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${f}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return Ms.default=n,Ms}var Wy;function ab(){if(Wy)return Ls;Wy=1;var e=Ls&&Ls.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ls,"__esModule",{value:!0});const t=e(Sp());class n{constructor(s,{headers:o={},schema:a,fetch:u}){this.url=s,this.headers=new Headers(o),this.schema=a,this.fetch=u}select(s,o){const{head:a=!1,count:u}=o??{},c=a?"HEAD":"GET";let f=!1;const h=(s??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:a=!0}={}){var u;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:a=!1,count:u,defaultToNull:c=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(m.length>0){const v=[...new Set(m)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:o}={}){var a;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var o;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ls.default=n,Ls}var Hy;function tN(){if(Hy)return Ds;Hy=1;var e=Ds&&Ds.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ds,"__esModule",{value:!0});const t=e(ab()),n=e(Sp());class r{constructor(o,{headers:a={},schema:u,fetch:c}={}){this.url=o,this.headers=new Headers(a),this.schemaName=u,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:u=!1,get:c=!1,count:f}={}){var h;let m;const v=new URL(`${this.url}/rpc/${o}`);let g;u||c?(m=u?"HEAD":"GET",Object.entries(a).filter(([k,_])=>_!==void 0).map(([k,_])=>[k,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([k,_])=>{v.searchParams.append(k,_)})):(m="POST",g=a);const x=new Headers(this.headers);return f&&x.set("Prefer",`count=${f}`),new n.default({method:m,url:v,headers:x,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Ds.default=r,Ds}var Vy;function nN(){if(Vy)return Ct;Vy=1;var e=Ct&&Ct.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const t=e(tN());Ct.PostgrestClient=t.default;const n=e(ab());Ct.PostgrestQueryBuilder=n.default;const r=e(Sp());Ct.PostgrestFilterBuilder=r.default;const s=e(lb());Ct.PostgrestTransformBuilder=s.default;const o=e(ob());Ct.PostgrestBuilder=o.default;const a=e(sb());return Ct.PostgrestError=a.default,Ct.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:a.default},Ct}var rN=nN();const iN=fo(rN),{PostgrestClient:sN,PostgrestQueryBuilder:S4,PostgrestFilterBuilder:E4,PostgrestTransformBuilder:_4,PostgrestBuilder:C4,PostgrestError:j4}=iN;class oN{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const lN="2.75.0",aN=`realtime-js/${lN}`,uN="1.0.0",_h=1e4,cN=1e3,dN=100;var wl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wl||(wl={}));var bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(bt||(bt={}));var er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(er||(er={}));var Ch;(function(e){e.websocket="websocket"})(Ch||(Ch={}));var Xi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xi||(Xi={}));class fN{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const u=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+o));a=a+o;const f=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class ub{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ke||(Ke={}));const qy=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=hN(a,e,t,s),o),{}):{}},hN=(e,t,n,r)=>{const s=t.find(u=>u.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?cb(o,a):jh(a)},cb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return vN(t,n)}switch(e){case Ke.bool:return pN(t);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return mN(t);case Ke.json:case Ke.jsonb:return gN(t);case Ke.timestamp:return yN(t);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return jh(t);default:return jh(t)}},jh=e=>e,pN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},vN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(u=>cb(t,u))}return e},yN=e=>typeof e=="string"?e.replace(" ","T"):e,db=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Tf{constructor(t,n,r={},s=_h){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yy||(Yy={}));class xl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xl.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=xl.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xl.syncDiff(this.state,s,o,a),u())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),u={},c={};return this.map(o,(f,h)=>{a[f]||(c[f]=h)}),this.map(a,(f,h)=>{const m=o[f];if(m){const v=h.map(_=>_.presence_ref),g=m.map(_=>_.presence_ref),x=h.filter(_=>g.indexOf(_.presence_ref)<0),k=m.filter(_=>v.indexOf(_.presence_ref)<0);x.length>0&&(u[f]=x),k.length>0&&(c[f]=k)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,c)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(c),h.length>0){const m=t[u].map(g=>g.presence_ref),v=h.filter(g=>m.indexOf(g.presence_ref)<0);t[u].unshift(...v)}r(u,h,c)}),this.map(a,(u,c)=>{let f=t[u];if(!f)return;const h=c.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=f,s(u,f,c),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ky;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ky||(Ky={}));var bl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bl||(bl={}));var $r;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($r||($r={}));class Ep{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tf(this,er.join,this.params,this.timeout),this.rejoinTimer=new ub(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(er.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new xl(this),this.broadcastEndpointURL=db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:a,presence:u,private:c}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[bl.PRESENCE]&&this.bindings[bl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},v={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t($r.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t($r.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t($r.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(x=k==null?void 0:k.length)!==null&&x!==void 0?x:0,C=[];for(let N=0;N<_;N++){const I=k[N],{filter:{event:F,schema:H,table:A,filter:Y}}=I,ee=g&&g[N];if(ee&&ee.event===F&&ee.schema===H&&ee.table===A&&ee.filter===Y)C.push(Object.assign(Object.assign({},I),{id:ee.id}));else{this.unsubscribe(),this.state=bt.errored,t==null||t($r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t($r.SUBSCRIBED);return}}).receive("error",g=>{this.state=bt.errored,t==null||t($r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===bt.joined&&t===bl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,u,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Tf(this,er.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Tf(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>dN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=er;if(r&&[u,c,f,h].indexOf(a)>=0&&r!==this._joinRef())return;let v=this._onMessage(a,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,k,_;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(k=g.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(g=>g.callback(v,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var x,k,_,C,N,I;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const F=g.id,H=(x=g.filter)===null||x===void 0?void 0:x.event;return F&&((k=n.ids)===null||k===void 0?void 0:k.includes(F))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const F=(N=(C=g==null?void 0:g.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return F==="*"||F===((I=n==null?void 0:n.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:k,table:_,commit_timestamp:C,type:N,errors:I}=x;v=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:C,eventType:N,new:{},old:{},errors:I}),this._getPayloadRecords(x))}g.callback(v,r)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Ep.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(er.close,{},t)}_onError(t){this._on(er.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=qy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=qy(t.columns,t.old_record)),n}}const If=()=>{},fu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wN=[1e3,2e3,5e3,1e4],xN=1e4,bN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_h,this.transport=null,this.heartbeatIntervalMs=fu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=If,this.ref=0,this.reconnectTimer=null,this.logger=If,this.conn=null,this.sendBuffer=[],this.serializer=new fN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>ql(async()=>{const{default:u}=await Promise.resolve().then(()=>yo);return{default:u}},void 0).then(({default:u})=>u(...a)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ch.websocket}`,this.httpEndpoint=db(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=oN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uN}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wl.connecting:return Xi.Connecting;case wl.open:return Xi.Open;case wl.closing:return Xi.Closing;default:return Xi.Closed}}isConnected(){return this.connectionState()===Xi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Ep(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:a}=n,u=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(er.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([bN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:aN};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(er.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ub(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,a,u,c,f,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:_h,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:fu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:If,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(m=>wN[m-1]||xN),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((m,v)=>v(JSON.stringify(m))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class _p extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class SN extends _p{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Th extends _p{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var EN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const fb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ql(async()=>{const{default:r}=await Promise.resolve().then(()=>yo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_N=()=>EN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ql(()=>Promise.resolve().then(()=>yo),void 0)).Response:Response}),Ih=e=>{if(Array.isArray(e))return e.map(n=>Ih(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Ih(r)}),t},CN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var cs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Nf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jN=(e,t,n)=>cs(void 0,void 0,void 0,function*(){const r=yield _N();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new SN(Nf(s),o,a))}).catch(s=>{t(new Th(Nf(s),s))}):t(new Th(Nf(e),e))}),TN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(CN(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Yl(e,t,n,r,s,o){return cs(this,void 0,void 0,function*(){return new Promise((a,u)=>{e(n,TN(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>jN(c,u,r))})})}function Bu(e,t,n,r){return cs(this,void 0,void 0,function*(){return Yl(e,"GET",t,n,r)})}function gr(e,t,n,r,s){return cs(this,void 0,void 0,function*(){return Yl(e,"POST",t,r,s,n)})}function Nh(e,t,n,r,s){return cs(this,void 0,void 0,function*(){return Yl(e,"PUT",t,r,s,n)})}function IN(e,t,n,r){return cs(this,void 0,void 0,function*(){return Yl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hb(e,t,n,r,s){return cs(this,void 0,void 0,function*(){return Yl(e,"DELETE",t,r,s,n)})}var NN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class RN{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return NN(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}}var PN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class AN{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new RN(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return PN(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}}var an=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const ON={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class DN{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=fb(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return an(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Gy),s);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,u["cache-control"]=`max-age=${a.cacheControl}`,u["content-type"]=a.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),m=yield(t=="PUT"?Nh:gr)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(gt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return an(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${a}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:Gy.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const m=yield Nh(this.fetch,u.toString(),c,{headers:h});return{data:{path:o,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(gt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return an(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield gr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),u=a.searchParams.get("token");if(!u)throw new _p("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}update(t,n,r){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return an(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return an(this,void 0,void 0,function*(){try{return{data:{path:(yield gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return an(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield gr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return an(this,void 0,void 0,function*(){try{const s=yield gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",u=this._getFinalPath(t),c=()=>Bu(this.fetch,`${this.url}/${s}/${u}${a}`,{headers:this.headers,noResolveJson:!0});return new AN(c,this.shouldThrowOnError)}info(t){return an(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Bu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ih(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}exists(t){return an(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield IN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r)&&r instanceof Th){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return an(this,void 0,void 0,function*(){try{return{data:yield hb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}list(t,n,r){return an(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ON),n),{prefix:t||""});return{data:yield gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}listV2(t,n){return an(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield gr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const LN="2.75.0",MN={"X-Client-Info":`storage-js/${LN}`};var zs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class $N{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MN),n),this.fetch=fb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zs(this,void 0,void 0,function*(){try{return{data:yield Bu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}getBucket(t){return zs(this,void 0,void 0,function*(){try{return{data:yield Bu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}createBucket(t){return zs(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return zs(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return zs(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return zs(this,void 0,void 0,function*(){try{return{data:yield hb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}}class FN extends $N{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new DN(this.url,this.headers,t,this.fetch)}}const zN="2.75.0";let pl="";typeof Deno<"u"?pl="deno":typeof document<"u"?pl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pl="react-native":pl="node";const UN={"X-Client-Info":`supabase-js-${pl}/${zN}`},BN={headers:UN},WN={schema:"public"},HN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VN={};var qN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const YN=e=>{let t;return e?t=e:typeof fetch>"u"?t=rb:t=fetch,(...n)=>t(...n)},KN=()=>typeof Headers>"u"?ib:Headers,GN=(e,t,n)=>{const r=YN(n),s=KN();return(o,a)=>qN(void 0,void 0,void 0,function*(){var u;const c=(u=yield t())!==null&&u!==void 0?u:e;let f=new s(a==null?void 0:a.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:f}))})};var JN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};function QN(e){return e.endsWith("/")?e:e+"/"}function XN(e,t){var n,r;const{db:s,auth:o,realtime:a,global:u}=e,{db:c,auth:f,realtime:h,global:m}=t,v={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>JN(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function ZN(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pb="2.75.0",Js=30*1e3,Rh=3,Rf=Rh*Js,eR="http://localhost:9999",tR="supabase.auth.token",nR={"X-Client-Info":`gotrue-js/${pb}`},Ph="X-Supabase-Api-Version",mb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iR=600*1e3;class Al extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sR extends Al{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function oR(e){return Ee(e)&&e.name==="AuthApiError"}class Zi extends Al{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ci extends Al{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class hi extends Ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lR(e){return Ee(e)&&e.name==="AuthSessionMissingError"}class Us extends Ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hu extends Ci{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pu extends Ci{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aR(e){return Ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class Jy extends Ci{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ah extends Ci{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Pf(e){return Ee(e)&&e.name==="AuthRetryableFetchError"}class Qy extends Ci{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Oh extends Ci{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xy=` 	
\r=`.split(""),uR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xy.length;t+=1)e[Xy[t].charCodeAt(0)]=-2;for(let t=0;t<Wu.length;t+=1)e[Wu[t].charCodeAt(0)]=t;return e})();function Zy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Wu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Wu[r]),t.queuedBits-=6}}function gb(e,t,n){const r=uR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ew(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{fR(a,r,n)};for(let a=0;a<e.length;a+=1)gb(e.charCodeAt(a),s,o);return t.join("")}function cR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}cR(r,t)}}function fR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ro(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)gb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function hR(e){const t=[];return dR(e,n=>t.push(n)),new Uint8Array(t)}function ns(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Zy(s,n,r)),Zy(null,n,r),t.join("")}function pR(e){return Math.round(Date.now()/1e3)+e}function mR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xn=()=>typeof window<"u"&&typeof document<"u",Vi={tested:!1,writable:!1},vb=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vi.tested)return Vi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vi.tested=!0,Vi.writable=!0}catch{Vi.tested=!0,Vi.writable=!1}return Vi.writable};function gR(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const yb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ql(async()=>{const{default:r}=await Promise.resolve().then(()=>yo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},vR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},qi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},di=async(e,t)=>{await e.removeItem(t)};class wc{constructor(){this.promise=new wc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}wc.promiseConstructor=Promise;function Af(e){const t=e.split(".");if(t.length!==3)throw new Oh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!rR.test(t[r]))throw new Oh("JWT not in base64url format");return{header:JSON.parse(ew(t[0])),payload:JSON.parse(ew(t[1])),signature:ro(t[2]),raw:{header:t[0],payload:t[1]}}}async function yR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wR(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function xR(e){return("0"+e.toString(16)).substr(-2)}function bR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,xR).join("")}async function kR(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function SR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await kR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bs(e,t,n=!1){const r=bR();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Qs(e,`${t}-code-verifier`,s);const o=await SR(r);return[o,r===o?"plain":"s256"]}const ER=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _R(e){const t=e.headers.get(Ph);if(!t||!t.match(ER))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function CR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ws(e){if(!TR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Of(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tw(e){return JSON.parse(JSON.stringify(e))}var IR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Gi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NR=[502,503,504];async function nw(e){var t;if(!vR(e))throw new Ah(Gi(e),0);if(NR.includes(e.status))throw new Ah(Gi(e),e.status);let n;try{n=await e.json()}catch(o){throw new Zi(Gi(o),o)}let r;const s=_R(e);if(s&&s.getTime()>=mb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qy(Gi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new hi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Qy(Gi(n),e.status,n.weak_password.reasons);throw new sR(Gi(n),e.status||500,r)}const RR=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ie(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Ph]||(o[Ph]=mb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const u=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await PR(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function PR(e,t,n,r,s,o){const a=RR(t,r,s,o);let u;try{u=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Ah(Gi(c),0)}if(u.ok||await nw(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await nw(c)}}function Zn(e){var t;let n=null;DR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=pR(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function rw(e){const t=Zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function AR(e){return{data:e,error:null}}function OR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=IR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:u,user:c},error:null}}function iw(e){return e}function DR(e){return e.access_token&&e.refresh_token&&e.expires_in}const Df=["global","local","others"];var LR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class MR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=yb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Df[0]){if(Df.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Df.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gi})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=LR(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:OR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gi})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:iw});if(h.error)throw h.error;const m=await h.json(),v=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ee(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ws(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gi})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ws(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:gi})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ws(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:gi})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ws(t.userId);try{const{data:n,error:r}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ws(t.userId),Ws(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,a,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:iw});if(h.error)throw h.error;const m=await h.json(),v=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ee(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}function sw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Hs={debug:!!(globalThis&&vb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $R extends wb{}async function FR(e,t,n){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $R(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Hs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function zR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function UR(e){return parseInt(e,16)}function BR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function WR(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:a,notBefore:u,requestId:c,resources:f,scheme:h,uri:m,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=xb(e.address),x=h?`${h}://${r}`:r,k=e.statement?`${e.statement}
`:"",_=`${x} wants you to sign in with your Ethereum account:
${g}

${k}`;let C=`URI: ${m}
Version: ${v}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(s&&(C+=`
Expiration Time: ${s.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),c&&(C+=`
Request ID: ${c}`),f){let N=`
Resources:`;for(const I of f){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);N+=`
- ${I}`}C+=N}return`${_}
${C}`}class mt extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Hu extends mt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function HR({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(kb(a)){if(o.rp.id!==a)return new mt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function VR({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(kb(r)){if(n.rpId!==r)return new mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var bb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class qR{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const YR=new qR;function KR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=bb(e,["challenge","user","excludeCredentials"]),o=ro(t).buffer,a=Object.assign(Object.assign({},n),{id:ro(n.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:o,user:a});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:ro(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function GR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=bb(e,["challenge","allowCredentials"]),s=ro(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const u=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},u),{id:ro(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function JR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ns(new Uint8Array(e.response.attestationObject)),clientDataJSON:ns(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ns(new Uint8Array(s.authenticatorData)),clientDataJSON:ns(new Uint8Array(s.clientDataJSON)),signature:ns(new Uint8Array(s.signature)),userHandle:s.userHandle?ns(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ow(){var e,t;return!!(xn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function XR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",t)}:{data:null,error:new Hu("Empty credential response",t)}}catch(t){return{data:null,error:HR({error:t,options:e})}}}async function ZR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",t)}:{data:null,error:new Hu("Empty credential response",t)}}catch(t){return{data:null,error:VR({error:t,options:e})}}}const eP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tP={userVerification:"preferred",hints:["security-key"]};function Vu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const a=s[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const u=r[o];t(u)?r[o]=Vu(u,a):r[o]=Vu(a)}else r[o]=a}return r}function nP(e,t){return Vu(eP,e,t||{})}function rP(e,t){return Vu(tP,e,t||{})}class iP{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:a,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:u};const c=s??YR.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:f}=a.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(a.webauthn.type){case"create":{const f=nP(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:m}=await XR({publicKey:f,signal:c});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const f=rP(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:m}=await ZR(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(a){return Ee(a)?{data:null,error:a}:{data:null,error:new Zi("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!n)return{data:null,error:new Al("rpId is required for WebAuthn authentication")};try{if(!ow())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!a)return{data:null,error:u};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return Ee(a)?{data:null,error:a}:{data:null,error:new Zi("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!n)return{data:null,error:new Al("rpId is required for WebAuthn registration")};try{if(!ow())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(a){return Ee(a)?{data:null,error:a}:{data:null,error:new Zi("Unexpected error in register",a)}}}}zR();const sP={url:eR,storageKey:tR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lw(e,t,n){return await n()}const Vs={};class Ol{get jwks(){var t,n;return(n=(t=Vs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Vs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ol.nextInstanceID,Ol.nextInstanceID+=1,this.instanceID>0&&xn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sP),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new MR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=yb(s.fetch),this.lock=s.lock||lw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=FR:this.lock=lw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iP(this)},this.persistSession?(s.storage?this.storage=s.storage:vb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sw(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=gR(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),xn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),aR(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),await this._saveSession(a),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ee(n)?{error:n}:{error:new Zi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zn}),{data:a,error:u}=o;if(u||!a)return{data:{user:null,session:null},error:u};const c=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:h,password:m,options:v}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Bs(this.storage,this.storageKey)),o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:x},xform:Zn})}else if("phone"in t){const{phone:h,password:m,options:v}=t;o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Zn})}else throw new hu("You must provide either an email or phone number and a password");const{data:a,error:u}=o;if(u||!a)return{data:{user:null,session:null},error:u};const c=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:u}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:rw})}else if("phone"in t){const{phone:o,password:a,options:u}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:rw})}else throw new hu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Us}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,a,u,c,f,h,m,v;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:k,wallet:_,statement:C,options:N}=t;let I;if(xn())if(typeof _=="object")I=_;else{const ie=window;if("ethereum"in ie&&typeof ie.ethereum=="object"&&"request"in ie.ethereum&&typeof ie.ethereum.request=="function")I=ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=_}const F=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),H=await I.request({method:"eth_requestAccounts"}).then(ie=>ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=xb(H[0]);let Y=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Y){const ie=await I.request({method:"eth_chainId"});Y=UR(ie)}const ee={domain:F.host,address:A,statement:C,uri:F.href,version:"1",chainId:Y,nonce:(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.resources};g=WR(ee),x=await I.request({method:"personal_sign",params:[BR(g),A]})}try{const{data:k,error:_}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:x},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Zn});if(_)throw _;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Us}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:_})}catch(k){if(Ee(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(t){var n,r,s,o,a,u,c,f,h,m,v,g;let x,k;if("message"in t)x=t.message,k=t.signature;else{const{chain:_,wallet:C,statement:N,options:I}=t;let F;if(xn())if(typeof C=="object")F=C;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))F=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=C}const H=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const A=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),N?{statement:N}:null));let Y;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")Y=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)Y=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)x=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),k=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${H.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(s=(r=I==null?void 0:I.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=I==null?void 0:I.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((a=I==null?void 0:I.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((u=I==null?void 0:I.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((m=(h=I==null?void 0:I.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...I.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const A=await F.signMessage(new TextEncoder().encode(x),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=A}}try{const{data:_,error:C}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ns(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Zn});if(C)throw C;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Us}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:C})}catch(_){if(Ee(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await qi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Zn});if(await di(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Us}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(Ee(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,u=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zn}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Us}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:u,options:c}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Bs(this.storage,this.storageKey));const{error:m}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:u,options:c}=t,{data:f,error:h}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new hu("You must provide either an email or phone number.")}catch(u){if(Ee(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:u}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Zn});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,f=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Bs(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:AR})}catch(o){if(Ee(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new hi;const{error:s}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:u}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:u}}throw new hu("You must provide either an email or phone number and a type")}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Rf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await qi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Of()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,f,h)=>(!a&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gi}):await this._useSession(async n=>{var r,s,o;const{data:a,error:u}=n;if(u)throw u;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hi}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:gi})})}catch(n){if(Ee(n))return lR(n)&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new hi;const a=s.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await Bs(this.storage,this.storageKey));const{data:f,error:h}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:a.access_token,xform:gi});if(h)throw h;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new hi;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=Af(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:u}=n;if(u)throw u;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new hi;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!xn())throw new pu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jy("No code detected.");const{data:N,error:I}=await this._exchangeCodeForSession(t.code);if(I)throw I;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:u,expires_at:c,token_type:f}=t;if(!o||!u||!a||!f)throw new pu("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let v=h+m;c&&(v=parseInt(c));const g=v-h;g*1e3<=Js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const x=v-m;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,h);const{data:k,error:_}=await this._getUser(o);if(_)throw _;const C={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:m,expires_at:v,refresh_token:a,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(r){if(Ee(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await qi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:u}=await this.admin.signOut(a,t);if(u&&!(oR(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=mR(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Bs(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ee(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,u,c,f,h;const{data:m,error:v}=o;if(v)throw v;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return xn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ee(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:a,provider:u,token:c,access_token:f,nonce:h}=t,m=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Zn}),{data:v,error:g}=m;return g?{data:{user:null,session:null},error:g}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Us}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:g})}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await wR(async s=>(s>0&&await yR(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zn})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Pf(o)&&Date.now()+a-r<Js})}catch(r){if(this._debug(n,"error",r),Ee(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),xn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await qi(this.storage,this.storageKey);if(s&&this.userStorage){let a=await qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Qs(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Of()}else if(s&&!s.user&&!s.user){const a=await qi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await di(this.storage,this.storageKey+"-user"),await Qs(this.storage,this.storageKey,s)):s.user=Of()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Rf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Rf}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Pf(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:u}=await this._getUser(s.access_token);!u&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new hi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wc;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new hi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Ee(o)){const a={data:null,error:o};return Pf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Qs(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=tw(s);await Qs(this.storage,this.storageKey,o)}else{const s=tw(n);await Qs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await di(this.storage,this.storageKey),await di(this.storage,this.storageKey+"-code-verifier"),await di(this.storage,this.storageKey+"-user"),this.userStorage&&await di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Js);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Js}ms, refresh threshold is ${Rh} ticks`),s<=Rh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Bs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:f}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?JR(t.webauthn.credential_response):QR(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:c}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:u}=a;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:KR(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:GR(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Af(s.access_token);let u=null;a.aal&&(u=a.aal);let c=u;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+iR>s)return r;const{data:o,error:a}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};r=g.session.access_token}const{header:s,payload:o,signature:a,raw:{header:u,payload:c}}=Af(r);n!=null&&n.allowExpired||CR(o.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:s,signature:a},error:null}}const h=jR(s.alg),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,a,hR(`${u}.${c}`)))throw new Oh("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}}Ol.nextInstanceID=0;const oP=Ol;class lP extends oP{constructor(t){super(t)}}var aP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(m){a(m)}}function c(h){try{f(r.throw(h))}catch(m){a(m)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class uP{constructor(t,n,r){var s,o,a;this.supabaseUrl=t,this.supabaseKey=n;const u=ZN(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:WN,realtime:VN,auth:Object.assign(Object.assign({},HN),{storageKey:c}),global:BN},h=XN(r??{},f);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=GN(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new sN(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new FN(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new GI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return aP(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:a,flowType:u,lock:c,debug:f},h,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lP({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:u,lock:c,debug:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new kN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cP=(e,t,n)=>new uP(e,t,n);function dP(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}dP()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fP="https://kjsdmygqhxaryvfmnhqr.supabase.co",hP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",vi=cP(fP,hP,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Sb=S.createContext(void 0);function pP({children:e}){const[t,n]=S.useState(null),[r,s]=S.useState(null),[o,a]=S.useState(!0);S.useEffect(()=>{let c=!0;(async()=>{a(!0);const{data:{session:m}}=await vi.auth.getSession();c&&(n(m),s((m==null?void 0:m.user)??null),a(!1))})();const{data:{subscription:h}}=vi.auth.onAuthStateChange((m,v)=>{c&&(n(v),s((v==null?void 0:v.user)??null),a(!1))});return()=>{c=!1,h.unsubscribe()}},[]);const u=S.useMemo(()=>({session:t,user:r,loading:o,signInWithPassword:async(c,f)=>{const{error:h}=await vi.auth.signInWithPassword({email:c,password:f});if(h)throw h},signUpWithPassword:async(c,f)=>{const m=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:v}=await vi.auth.signUp({email:c,password:f,options:{emailRedirectTo:m}});if(v)throw v},signOut:async()=>{const{error:c}=await vi.auth.signOut();if(c)throw c}}),[o,t,r]);return b.jsx(Sb.Provider,{value:u,children:e})}function xc(){const e=S.useContext(Sb);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const aw=e=>{let t;const n=new Set,r=(f,h)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const v=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(g=>g(t,v))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=t=e(r,s,u);return u},mP=(e=>e?aw(e):aw),gP=e=>e;function vP(e,t=gP){const n=pe.useSyncExternalStore(e.subscribe,pe.useCallback(()=>t(e.getState()),[e,t]),pe.useCallback(()=>t(e.getInitialState()),[e,t]));return pe.useDebugValue(n),n}const uw=e=>{const t=mP(e),n=r=>vP(t,r);return Object.assign(n,t),n},yP=(e=>e?uw(e):uw),wP="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let bn=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=wP[n[e]&63];return t};var ju={exports:{}},xP=ju.exports,cw;function Eb(){return cw||(cw=1,(function(e,t){(function(n,r){e.exports=r()})(xP,(function(){var n=1e3,r=6e4,s=36e5,o="millisecond",a="second",u="minute",c="hour",f="day",h="week",m="month",v="quarter",g="year",x="date",k="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var B=["th","st","nd","rd"],$=O%100;return"["+O+(B[($-20)%10]||B[$]||B[0])+"]"}},I=function(O,B,$){var U=String(O);return!U||U.length>=B?O:""+Array(B+1-U.length).join($)+O},F={s:I,z:function(O){var B=-O.utcOffset(),$=Math.abs(B),U=Math.floor($/60),P=$%60;return(B<=0?"+":"-")+I(U,2,"0")+":"+I(P,2,"0")},m:function O(B,$){if(B.date()<$.date())return-O($,B);var U=12*($.year()-B.year())+($.month()-B.month()),P=B.clone().add(U,m),q=$-P<0,E=B.clone().add(U+(q?-1:1),m);return+(-(U+($-P)/(q?P-E:E-P))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:m,y:g,w:h,d:f,D:x,h:c,m:u,s:a,ms:o,Q:v}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},H="en",A={};A[H]=N;var Y="$isDayjsObject",ee=function(O){return O instanceof X||!(!O||!O[Y])},ie=function O(B,$,U){var P;if(!B)return H;if(typeof B=="string"){var q=B.toLowerCase();A[q]&&(P=q),$&&(A[q]=$,P=q);var E=B.split("-");if(!P&&E.length>1)return O(E[0])}else{var R=B.name;A[R]=B,P=R}return!U&&P&&(H=P),P||!U&&H},D=function(O,B){if(ee(O))return O.clone();var $=typeof B=="object"?B:{};return $.date=O,$.args=arguments,new X($)},M=F;M.l=ie,M.i=ee,M.w=function(O,B){return D(O,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var X=(function(){function O($){this.$L=ie($.locale,null,!0),this.parse($),this.$x=this.$x||$.x||{},this[Y]=!0}var B=O.prototype;return B.parse=function($){this.$d=(function(U){var P=U.date,q=U.utc;if(P===null)return new Date(NaN);if(M.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var E=P.match(_);if(E){var R=E[2]-1||0,L=(E[7]||"0").substring(0,3);return q?new Date(Date.UTC(E[1],R,E[3]||1,E[4]||0,E[5]||0,E[6]||0,L)):new Date(E[1],R,E[3]||1,E[4]||0,E[5]||0,E[6]||0,L)}}return new Date(P)})($),this.init()},B.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},B.$utils=function(){return M},B.isValid=function(){return this.$d.toString()!==k},B.isSame=function($,U){var P=D($);return this.startOf(U)<=P&&P<=this.endOf(U)},B.isAfter=function($,U){return D($)<this.startOf(U)},B.isBefore=function($,U){return this.endOf(U)<D($)},B.$g=function($,U,P){return M.u($)?this[U]:this.set(P,$)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function($,U){var P=this,q=!!M.u(U)||U,E=M.p($),R=function(me,de){var Oe=M.w(P.$u?Date.UTC(P.$y,de,me):new Date(P.$y,de,me),P);return q?Oe:Oe.endOf(f)},L=function(me,de){return M.w(P.toDate()[me].apply(P.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(de)),P)},j=this.$W,J=this.$M,te=this.$D,ne="set"+(this.$u?"UTC":"");switch(E){case g:return q?R(1,0):R(31,11);case m:return q?R(1,J):R(0,J+1);case h:var fe=this.$locale().weekStart||0,he=(j<fe?j+7:j)-fe;return R(q?te-he:te+(6-he),J);case f:case x:return L(ne+"Hours",0);case c:return L(ne+"Minutes",1);case u:return L(ne+"Seconds",2);case a:return L(ne+"Milliseconds",3);default:return this.clone()}},B.endOf=function($){return this.startOf($,!1)},B.$set=function($,U){var P,q=M.p($),E="set"+(this.$u?"UTC":""),R=(P={},P[f]=E+"Date",P[x]=E+"Date",P[m]=E+"Month",P[g]=E+"FullYear",P[c]=E+"Hours",P[u]=E+"Minutes",P[a]=E+"Seconds",P[o]=E+"Milliseconds",P)[q],L=q===f?this.$D+(U-this.$W):U;if(q===m||q===g){var j=this.clone().set(x,1);j.$d[R](L),j.init(),this.$d=j.set(x,Math.min(this.$D,j.daysInMonth())).$d}else R&&this.$d[R](L);return this.init(),this},B.set=function($,U){return this.clone().$set($,U)},B.get=function($){return this[M.p($)]()},B.add=function($,U){var P,q=this;$=Number($);var E=M.p(U),R=function(J){var te=D(q);return M.w(te.date(te.date()+Math.round(J*$)),q)};if(E===m)return this.set(m,this.$M+$);if(E===g)return this.set(g,this.$y+$);if(E===f)return R(1);if(E===h)return R(7);var L=(P={},P[u]=r,P[c]=s,P[a]=n,P)[E]||1,j=this.$d.getTime()+$*L;return M.w(j,this)},B.subtract=function($,U){return this.add(-1*$,U)},B.format=function($){var U=this,P=this.$locale();if(!this.isValid())return P.invalidDate||k;var q=$||"YYYY-MM-DDTHH:mm:ssZ",E=M.z(this),R=this.$H,L=this.$m,j=this.$M,J=P.weekdays,te=P.months,ne=P.meridiem,fe=function(de,Oe,$e,et){return de&&(de[Oe]||de(U,q))||$e[Oe].slice(0,et)},he=function(de){return M.s(R%12||12,de,"0")},me=ne||function(de,Oe,$e){var et=de<12?"AM":"PM";return $e?et.toLowerCase():et};return q.replace(C,(function(de,Oe){return Oe||(function($e){switch($e){case"YY":return String(U.$y).slice(-2);case"YYYY":return M.s(U.$y,4,"0");case"M":return j+1;case"MM":return M.s(j+1,2,"0");case"MMM":return fe(P.monthsShort,j,te,3);case"MMMM":return fe(te,j);case"D":return U.$D;case"DD":return M.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return fe(P.weekdaysMin,U.$W,J,2);case"ddd":return fe(P.weekdaysShort,U.$W,J,3);case"dddd":return J[U.$W];case"H":return String(R);case"HH":return M.s(R,2,"0");case"h":return he(1);case"hh":return he(2);case"a":return me(R,L,!0);case"A":return me(R,L,!1);case"m":return String(L);case"mm":return M.s(L,2,"0");case"s":return String(U.$s);case"ss":return M.s(U.$s,2,"0");case"SSS":return M.s(U.$ms,3,"0");case"Z":return E}return null})(de)||E.replace(":","")}))},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function($,U,P){var q,E=this,R=M.p(U),L=D($),j=(L.utcOffset()-this.utcOffset())*r,J=this-L,te=function(){return M.m(E,L)};switch(R){case g:q=te()/12;break;case m:q=te();break;case v:q=te()/3;break;case h:q=(J-j)/6048e5;break;case f:q=(J-j)/864e5;break;case c:q=J/s;break;case u:q=J/r;break;case a:q=J/n;break;default:q=J}return P?q:M.a(q)},B.daysInMonth=function(){return this.endOf(m).$D},B.$locale=function(){return A[this.$L]},B.locale=function($,U){if(!$)return this.$L;var P=this.clone(),q=ie($,U,!0);return q&&(P.$L=q),P},B.clone=function(){return M.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},O})(),K=X.prototype;return D.prototype=K,[["$ms",o],["$s",a],["$m",u],["$H",c],["$W",f],["$M",m],["$y",g],["$D",x]].forEach((function(O){K[O[1]]=function(B){return this.$g(B,O[0],O[1])}})),D.extend=function(O,B){return O.$i||(O(B,X,D),O.$i=!0),D},D.locale=ie,D.isDayjs=ee,D.unix=function(O){return D(1e3*O)},D.en=A[H],D.Ls=A,D.p={},D}))})(ju)),ju.exports}var bP=Eb();const Be=fo(bP),xi={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes"},_b=typeof window<"u",at=()=>new Date().toISOString(),Ji="18:30",ml=e=>{if(!e)return null;const t=e.trim();return t.length>0?t:null},kP=(e,t,n)=>{var o;if(!n)return!1;if(n===t)return!0;const r=new Set;let s=n;for(;s;){if(s===t)return!0;if(r.has(s))break;r.add(s),s=((o=e.find(u=>u.id===s))==null?void 0:o.parentWorkId)??null}return!1},mu=(e,t)=>{if(!_b)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},Cb=e=>e==="present"||e==="absent"||e==="pending",jb=e=>e==="present"||e==="absent",Dh=e=>(e??[]).map(t=>{const n=Cb(t.status)?t.status:"pending",r=jb(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),Xe=e=>{if(!_b)return;const t=Lh(e);window.localStorage.setItem(xi.objectives,JSON.stringify(t.objectives)),window.localStorage.setItem(xi.works,JSON.stringify(t.works)),window.localStorage.setItem(xi.sessions,JSON.stringify(t.sessions)),window.localStorage.setItem(xi.assistants,JSON.stringify(t.assistants))},Lh=e=>({objectives:e.objectives??[],works:(e.works??[]).map(t=>{const n=t.parent_work_id;return{...t,parentWorkId:ml(t.parentWorkId??n??null)}}),sessions:(e.sessions??[]).map(t=>({...t,startTime:t.startTime??Ji,workItems:(t.workItems??[]).map(n=>({...n,focusLabel:n.focusLabel})),attendance:Dh(t.attendance)})),assistants:e.assistants??[]}),Ne=yP((e,t)=>({ready:!1,objectives:[],works:[],sessions:[],assistants:[],hydrate:()=>{if(t().ready)return;const n=mu(xi.objectives,[]),r=mu(xi.works,[]).map(a=>{const u=a.parent_work_id;return{...a,parentWorkId:ml(a.parentWorkId??u??null)}}),s=mu(xi.sessions,[]).map(a=>({...a,startTime:a.startTime??Ji,workItems:(a.workItems??[]).map(u=>({...u,focusLabel:u.focusLabel})),attendance:Dh(a.attendance)})),o=mu(xi.assistants,[]);e({objectives:n,works:r,sessions:s,assistants:o,ready:!0})},setCollections:n=>{e(r=>{const s=Lh({objectives:n.objectives,works:n.works,sessions:n.sessions,assistants:n.assistants}),o={...r,...s,ready:!0};return Xe(o),o})},reset:()=>{e(n=>{const r=Lh({objectives:[],works:[],sessions:[],assistants:[]}),s={...n,...r,ready:!0};return Xe(s),s})},addObjective:n=>{const r={id:bn(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:at(),updatedAt:at()};return e(s=>{const o={objectives:[...s.objectives,r]},a={...s,...o};return Xe(a),a}),r},updateObjective:(n,r)=>{e(s=>{const o=s.objectives.map(u=>u.id===n?{...u,...r,updatedAt:at()}:u),a={...s,objectives:o};return Xe(a),a})},deleteObjective:n=>t().works.some(s=>s.objectiveId===n)?!1:(e(s=>{const o=s.objectives.filter(u=>u.id!==n),a={...s,objectives:o};return Xe(a),a}),!0),addWork:n=>{const r=at();let s=null;return e(o=>{const a=ml(n.parentWorkId),u=a&&o.works.some(m=>m.id===a)?a:null,c={id:bn(),name:n.name,objectiveId:n.objectiveId,parentWorkId:u,descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:n.notes,videoUrls:n.videoUrls,createdAt:r,updatedAt:r};s=c;const f=[...o.works,c],h={...o,works:f};return Xe(h),h}),s},updateWork:(n,r)=>{e(s=>{const o=s.works.map(u=>{if(u.id!==n)return u;const{parentWorkId:c,...f}=r;let h=u.parentWorkId??null;if(c!==void 0){const m=ml(c);m&&(!s.works.some(v=>v.id===m)||kP(s.works,n,m))?h=null:h=m}return{...u,...f,parentWorkId:h,videoUrls:f.videoUrls??u.videoUrls,estimatedMinutes:f.estimatedMinutes??u.estimatedMinutes,updatedAt:at()}}),a={...s,works:o};return Xe(a),a})},deleteWork:n=>t().sessions.some(o=>o.workItems.some(a=>a.workId===n))||t().works.some(o=>o.parentWorkId===n)?!1:(e(o=>{const a=o.works.filter(c=>c.id!==n),u={...o,works:a};return Xe(u),u}),!0),addSession:n=>{const r={id:bn(),date:n.date,title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??Ji,createdAt:at(),updatedAt:at()};return e(s=>{const o=[...s.sessions,r],a={...s,sessions:o};return Xe(a),a}),r},duplicateSession:(n,r)=>{const s=t().sessions.find(u=>u.id===n);if(!s)return;const o=at(),a={...s,id:bn(),date:r,startTime:s.startTime??Ji,createdAt:o,updatedAt:o,title:`${s.title} (copia)`};return a.workItems=s.workItems.map((u,c)=>({...u,id:bn(),order:c})),a.attendance=s.attendance.map(u=>({assistantId:u.assistantId,status:"pending",notes:u.notes,actualStatus:void 0,actualNotes:void 0})),e(u=>{const c=[...u.sessions,a],f={...u,sessions:c};return Xe(f),f}),a},updateSession:(n,r)=>{e(s=>{const o=s.sessions.map(u=>u.id===n?{...u,...r,updatedAt:at()}:u),a={...s,sessions:o};return Xe(a),a})},deleteSession:n=>{e(r=>{const s=r.sessions.filter(a=>a.id!==n),o={...r,sessions:s};return Xe(o),o})},updateSessionWorkItems:(n,r)=>{e(s=>{const o=s.sessions.map(u=>u.id===n?{...u,workItems:r.map((c,f)=>({...c,order:f})),updatedAt:at()}:u),a={...s,sessions:o};return Xe(a),a})},addWorkToSession:(n,r)=>{const s=t().sessions.find(u=>u.id===n);if(!s)return;const o={id:bn(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:s.workItems.length},a={...s,workItems:[...s.workItems,o],updatedAt:at()};return e(u=>{const c=u.sessions.map(h=>h.id===n?a:h),f={...u,sessions:c};return Xe(f),f}),o},removeWorkFromSession:(n,r)=>{e(s=>{const o=s.sessions.map(u=>{if(u.id!==n)return u;const c=u.workItems.filter(f=>f.id!==r).map((f,h)=>({...f,order:h}));return{...u,workItems:c,updatedAt:at()}}),a={...s,sessions:o};return Xe(a),a})},toggleSessionWorkCompletion:(n,r,s)=>{e(o=>{const a=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,completed:s}:f),updatedAt:at()}),u={...o,sessions:a};return Xe(u),u})},reorderSessionWork:(n,r,s)=>{e(o=>{const a=o.sessions.map(c=>{if(c.id!==n)return c;const f=[...c.workItems],[h]=f.splice(r,1);return f.splice(s,0,h),{...c,workItems:f.map((m,v)=>({...m,order:v})),updatedAt:at()}}),u={...o,sessions:a};return Xe(u),u})},updateSessionWorkDetails:(n,r,s)=>{e(o=>{const a=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,...s}:f),updatedAt:at()}),u={...o,sessions:a};return Xe(u),u})},replaceSessionWork:(n,r,s)=>{t().works.some(o=>o.id===s)&&e(o=>{const a=o.sessions.map(c=>{if(c.id!==n)return c;const f=c.workItems.map(h=>h.id!==r?h:{...h,workId:s,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...c,workItems:f,updatedAt:at()}}),u={...o,sessions:a};return Xe(u),u})},setAttendanceActualStatus:(n,r,s,o)=>{e(a=>{const u=a.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let m;if(h)m=f.attendance.map(v=>{if(v.assistantId!==r)return v;const g={...v,actualStatus:s};return typeof o<"u"&&(g.actualNotes=o),g});else{const v={assistantId:r,status:"pending",actualStatus:s};typeof o<"u"&&(v.actualNotes=o),m=[...f.attendance,v]}return{...f,attendance:m,updatedAt:at()}}),c={...a,sessions:u};return Xe(c),c})},setAttendanceStatus:(n,r,s,o)=>{e(a=>{const u=a.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let m;return h?m=f.attendance.map(v=>v.assistantId===r?{...v,status:s,notes:o}:v):m=[...f.attendance,{assistantId:r,status:s,notes:o}],{...f,attendance:m,updatedAt:at()}}),c={...a,sessions:u};return Xe(c),c})},addAssistant:n=>{const r={id:bn(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:at(),updatedAt:at()};return e(s=>{const o=[...s.assistants,r],a={...s,assistants:o};return Xe(a),a}),r},updateAssistant:(n,r)=>{e(s=>{const o=s.assistants.map(u=>u.id===n?{...u,...r,updatedAt:at()}:u),a={...s,assistants:o};return Xe(a),a})},deleteAssistant:n=>{e(r=>{const s=r.assistants.filter(u=>u.id!==n),o=r.sessions.map(u=>({...u,attendance:u.attendance.filter(c=>c.assistantId!==n)})),a={...r,assistants:s,sessions:o};return Xe(a),a})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versión de backup no soportada");const s=at(),o=(n.objetivos??[]).map(g=>({...g,createdAt:g.createdAt??s,updatedAt:g.updatedAt??s})),a=(n.trabajos??[]).map(g=>{const x=g.parent_work_id;return{...g,parentWorkId:ml(g.parentWorkId??x??null),createdAt:g.createdAt??s,updatedAt:g.updatedAt??s,videoUrls:g.videoUrls??[]}}),u=(n.asistentes??[]).map(g=>({...g,createdAt:g.createdAt??s,updatedAt:g.updatedAt??s,active:g.active??!0})),c=new Map;(n.sesiones??[]).forEach(g=>{const x=g.id??bn(),k={id:x,date:g.date??Be().format("YYYY-MM-DD"),title:g.title??"Sesión importada",description:g.description,notes:g.notes,workItems:(g.workItems??[]).map((_,C)=>({id:_.id??bn(),workId:_.workId,order:_.order??C,customDescriptionMarkdown:_.customDescriptionMarkdown,customDurationMinutes:_.customDurationMinutes,notes:_.notes,focusLabel:_.focusLabel,completed:_.completed??!1})),attendance:Dh(g.attendance),startTime:g.startTime??Ji,createdAt:g.createdAt??s,updatedAt:g.updatedAt??s};k.workItems=k.workItems.sort((_,C)=>_.order-C.order).map((_,C)=>({..._,order:C})),c.set(x,k)}),(n.sesiones_trabajos??[]).forEach(g=>{const x=g.session_id;if(!x)return;c.has(x)||c.set(x,{id:x,date:g.fecha?Be(g.fecha).format("YYYY-MM-DD"):Be().format("YYYY-MM-DD"),title:g.titulo??"Sesión importada",description:g.descripcion,notes:g.notasSesion??g.notas,workItems:[],attendance:[],startTime:Ji,createdAt:s,updatedAt:s});const k=c.get(x);k.workItems.push({id:g.id??bn(),workId:g.trabajo_id,order:g.orden??k.workItems.length,customDescriptionMarkdown:g.descripcionPersonalizada,customDurationMinutes:g.duracionPersonalizada,notes:g.notas,focusLabel:g.focusLabel??g.foco,completed:!1})}),c.forEach(g=>{g.workItems=g.workItems.sort((x,k)=>x.order-k.order).map((x,k)=>({...x,order:k})),g.startTime=g.startTime??Ji});const f=new Map,h=g=>Cb(g)?g:void 0,m=g=>jb(g)?g:void 0;(n.sesiones_asistencias??[]).forEach(g=>{const x=g.session_id;if(!x)return;const k=g.assistantId??g.asistente_id;if(!k)return;const _=h(g.status??g.estado)??"pending",C=m(g.actualStatus??g.estado_real),N={assistantId:k,status:_,notes:g.notes??g.notas,actualStatus:C,actualNotes:g.actualNotes??g.notas_reales},I=f.get(x)??[];I.push(N),f.set(x,I)}),f.forEach((g,x)=>{const k=c.get(x);k&&(k.attendance=g)});const v=Array.from(c.values());e({objectives:o,works:a,sessions:v,assistants:u,ready:!0}),Xe({objectives:o,works:a,sessions:v,assistants:u})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(u=>u.workItems.map(c=>({id:c.id,session_id:u.id,trabajo_id:c.workId,orden:c.order,descripcionPersonalizada:c.customDescriptionMarkdown,duracionPersonalizada:c.customDurationMinutes,notas:c.notes,foco:c.focusLabel,focusLabel:c.focusLabel}))),s=n.sessions.flatMap(u=>u.attendance.map(c=>({session_id:u.id,assistantId:c.assistantId,estado:c.status,notas:c.notes,...c.actualStatus?{actualStatus:c.actualStatus,estado_real:c.actualStatus}:{},...c.actualNotes?{actualNotes:c.actualNotes,notas_reales:c.actualNotes}:{}}))),o=n.sessions.map(u=>({id:u.id,date:u.date,title:u.title,description:u.description,notes:u.notes,startTime:u.startTime,createdAt:u.createdAt,updatedAt:u.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:o,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:s}}})),dw=1,gu=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants}),SP=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[]}),EP=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants;function _P(){const{user:e}=xc(),t=Ne(f=>f.setCollections),n=Ne(f=>f.reset),r=Ne(f=>f.ready),s=S.useRef(!1),o=S.useRef(null),a=S.useRef(null),u=S.useRef(null),c=S.useRef(gu(Ne.getState()));S.useEffect(()=>()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]),S.useEffect(()=>{e||(n(),u.current=null,a.current=null,s.current=!1,c.current=gu(Ne.getState()),o.current&&(window.clearTimeout(o.current),o.current=null))},[e,n]),S.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:v,error:g}=await vi.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(g&&g.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",g);return}const x=v;if(x!=null&&x.data){const k=SP(x.data??{});s.current=!0,u.current=x.updated_at,c.current=k,t(k)}else if(r){const k=gu(Ne.getState());a.current=null;const{error:_,data:C}=await vi.from("planner_states").upsert({user_id:e.id,data:{version:dw,...k}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),N=C;_?console.error("No se pudo inicializar el estado remoto",_):N&&(u.current=N.updated_at)}})();const m=Ne.subscribe(v=>{if(!f)return;const g=gu(v);if(s.current){s.current=!1,c.current=g,a.current=null;return}const x=c.current;EP(g,x)&&(c.current=g,a.current=g,o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{if(!a.current)return;const k=a.current;a.current=null,(async()=>{const{error:_,data:C}=await vi.from("planner_states").upsert({user_id:e.id,data:{version:dw,...k}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),N=C;_?console.error("No se pudo guardar el estado remoto",_):N&&(u.current=N.updated_at)})()},600))});return()=>{f=!1,m(),o.current&&(window.clearTimeout(o.current),o.current=null)}},[e,r,t])}var Tu={exports:{}},CP=Tu.exports,fw;function jP(){return fw||(fw=1,(function(e,t){(function(n,r){e.exports=r(Eb())})(CP,(function(n){function r(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var s=r(n),o={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(a){return a+"º"}};return s.default.locale(o,null,!0),o}))})(Tu)),Tu.exports}jP();function Ur({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return b.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[b.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function TP(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const IP=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NP=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RP={};function hw(e,t){return(RP.jsx?NP:IP).test(e)}const PP=/[ \t\n\f\r]/g;function AP(e){return typeof e=="object"?e.type==="text"?pw(e.value):!1:pw(e)}function pw(e){return e.replace(PP,"")===""}class Kl{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Kl.prototype.normal={};Kl.prototype.property={};Kl.prototype.space=void 0;function Tb(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Kl(n,r,t)}function Mh(e){return e.toLowerCase()}class dn{constructor(t,n){this.attribute=n,this.property=t}}dn.prototype.attribute="";dn.prototype.booleanish=!1;dn.prototype.boolean=!1;dn.prototype.commaOrSpaceSeparated=!1;dn.prototype.commaSeparated=!1;dn.prototype.defined=!1;dn.prototype.mustUseProperty=!1;dn.prototype.number=!1;dn.prototype.overloadedBoolean=!1;dn.prototype.property="";dn.prototype.spaceSeparated=!1;dn.prototype.space=void 0;let OP=0;const Re=ds(),pt=ds(),$h=ds(),ae=ds(),Ge=ds(),io=ds(),wn=ds();function ds(){return 2**++OP}const Fh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:pt,commaOrSpaceSeparated:wn,commaSeparated:io,number:ae,overloadedBoolean:$h,spaceSeparated:Ge},Symbol.toStringTag,{value:"Module"})),Lf=Object.keys(Fh);class Cp extends dn{constructor(t,n,r,s){let o=-1;if(super(t,n),mw(this,"space",s),typeof r=="number")for(;++o<Lf.length;){const a=Lf[o];mw(this,Lf[o],(r&Fh[a])===Fh[a])}}}Cp.prototype.defined=!0;function mw(e,t,n){n&&(e[t]=n)}function wo(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new Cp(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Mh(r)]=r,n[Mh(o.attribute)]=r}return new Kl(t,n,e.space)}const Ib=wo({properties:{ariaActiveDescendant:null,ariaAtomic:pt,ariaAutoComplete:null,ariaBusy:pt,ariaChecked:pt,ariaColCount:ae,ariaColIndex:ae,ariaColSpan:ae,ariaControls:Ge,ariaCurrent:null,ariaDescribedBy:Ge,ariaDetails:null,ariaDisabled:pt,ariaDropEffect:Ge,ariaErrorMessage:null,ariaExpanded:pt,ariaFlowTo:Ge,ariaGrabbed:pt,ariaHasPopup:null,ariaHidden:pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ge,ariaLevel:ae,ariaLive:null,ariaModal:pt,ariaMultiLine:pt,ariaMultiSelectable:pt,ariaOrientation:null,ariaOwns:Ge,ariaPlaceholder:null,ariaPosInSet:ae,ariaPressed:pt,ariaReadOnly:pt,ariaRelevant:null,ariaRequired:pt,ariaRoleDescription:Ge,ariaRowCount:ae,ariaRowIndex:ae,ariaRowSpan:ae,ariaSelected:pt,ariaSetSize:ae,ariaSort:null,ariaValueMax:ae,ariaValueMin:ae,ariaValueNow:ae,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Nb(e,t){return t in e?e[t]:t}function Rb(e,t){return Nb(e,t.toLowerCase())}const DP=wo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:io,acceptCharset:Ge,accessKey:Ge,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:Ge,autoFocus:Re,autoPlay:Re,blocking:Ge,capture:null,charSet:null,checked:Re,cite:null,className:Ge,cols:ae,colSpan:null,content:null,contentEditable:pt,controls:Re,controlsList:Ge,coords:ae|io,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:$h,draggable:pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:Ge,height:ae,hidden:$h,high:ae,href:null,hrefLang:null,htmlFor:Ge,httpEquiv:Ge,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:Ge,itemRef:Ge,itemScope:Re,itemType:Ge,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:ae,manifest:null,max:null,maxLength:ae,media:null,method:null,min:null,minLength:ae,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:ae,pattern:null,ping:Ge,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:Ge,required:Re,reversed:Re,rows:ae,rowSpan:ae,sandbox:Ge,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:ae,sizes:null,slot:null,span:ae,spellCheck:pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ae,step:null,style:null,tabIndex:ae,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:pt,width:ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ge,axis:null,background:null,bgColor:null,border:ae,borderColor:null,bottomMargin:ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:ae,leftMargin:ae,link:null,longDesc:null,lowSrc:null,marginHeight:ae,marginWidth:ae,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:ae,rules:null,scheme:null,scrolling:pt,standby:null,summary:null,text:null,topMargin:ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:ae,security:null,unselectable:null},space:"html",transform:Rb}),LP=wo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wn,accentHeight:ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ae,amplitude:ae,arabicForm:null,ascent:ae,attributeName:null,attributeType:null,azimuth:ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ae,by:null,calcMode:null,capHeight:ae,className:Ge,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ae,diffuseConstant:ae,direction:null,display:null,dur:null,divisor:ae,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:ae,enableBackground:null,end:null,event:null,exponent:ae,externalResourcesRequired:null,fill:null,fillOpacity:ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:io,g2:io,glyphName:io,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ae,horizOriginX:ae,horizOriginY:ae,id:null,ideographic:ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ae,k:ae,k1:ae,k2:ae,k3:ae,k4:ae,kernelMatrix:wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ae,overlineThickness:ae,paintOrder:null,panose1:null,path:null,pathLength:ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ge,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ae,pointsAtY:ae,pointsAtZ:ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wn,rev:wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wn,requiredFeatures:wn,requiredFonts:wn,requiredFormats:wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ae,specularExponent:ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ae,strikethroughThickness:ae,string:null,stroke:null,strokeDashArray:wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ae,strokeOpacity:ae,strokeWidth:null,style:null,surfaceScale:ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wn,tabIndex:ae,tableValues:null,target:null,targetX:ae,targetY:ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ae,underlineThickness:ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ae,values:null,vAlphabetic:ae,vMathematical:ae,vectorEffect:null,vHanging:ae,vIdeographic:ae,version:null,vertAdvY:ae,vertOriginX:ae,vertOriginY:ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Nb}),Pb=wo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Ab=wo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Rb}),Ob=wo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),MP={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$P=/[A-Z]/g,gw=/-[a-z]/g,FP=/^data[-\w.:]+$/i;function zP(e,t){const n=Mh(t);let r=t,s=dn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&FP.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(gw,BP);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!gw.test(o)){let a=o.replace($P,UP);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=Cp}return new s(r,t)}function UP(e){return"-"+e.toLowerCase()}function BP(e){return e.charAt(1).toUpperCase()}const WP=Tb([Ib,DP,Pb,Ab,Ob],"html"),jp=Tb([Ib,LP,Pb,Ab,Ob],"svg");function HP(e){return e.join(" ").trim()}var qs={},Mf,vw;function VP(){if(vw)return Mf;vw=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",h="*",m="",v="comment",g="declaration";Mf=function(k,_){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];_=_||{};var C=1,N=1;function I(K){var O=K.match(t);O&&(C+=O.length);var B=K.lastIndexOf(c);N=~B?K.length-B:N+K.length}function F(){var K={line:C,column:N};return function(O){return O.position=new H(K),ee(),O}}function H(K){this.start=K,this.end={line:C,column:N},this.source=_.source}H.prototype.content=k;function A(K){var O=new Error(_.source+":"+C+":"+N+": "+K);if(O.reason=K,O.filename=_.source,O.line=C,O.column=N,O.source=k,!_.silent)throw O}function Y(K){var O=K.exec(k);if(O){var B=O[0];return I(B),k=k.slice(B.length),O}}function ee(){Y(n)}function ie(K){var O;for(K=K||[];O=D();)O!==!1&&K.push(O);return K}function D(){var K=F();if(!(f!=k.charAt(0)||h!=k.charAt(1))){for(var O=2;m!=k.charAt(O)&&(h!=k.charAt(O)||f!=k.charAt(O+1));)++O;if(O+=2,m===k.charAt(O-1))return A("End of comment missing");var B=k.slice(2,O-2);return N+=2,I(B),k=k.slice(O),N+=2,K({type:v,comment:B})}}function M(){var K=F(),O=Y(r);if(O){if(D(),!Y(s))return A("property missing ':'");var B=Y(o),$=K({type:g,property:x(O[0].replace(e,m)),value:B?x(B[0].replace(e,m)):m});return Y(a),$}}function X(){var K=[];ie(K);for(var O;O=M();)O!==!1&&(K.push(O),ie(K));return K}return ee(),X()};function x(k){return k?k.replace(u,m):m}return Mf}var yw;function qP(){if(yw)return qs;yw=1;var e=qs&&qs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qs,"__esModule",{value:!0}),qs.default=n;var t=e(VP());function n(r,s){var o=null;if(!r||typeof r!="string")return o;var a=(0,t.default)(r),u=typeof s=="function";return a.forEach(function(c){if(c.type==="declaration"){var f=c.property,h=c.value;u?s(f,h,c):h&&(o=o||{},o[f]=h)}}),o}return qs}var ll={},ww;function YP(){if(ww)return ll;ww=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},a=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},c=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(s,u):f=f.replace(r,u),f.replace(t,a))};return ll.camelCase=c,ll}var al,xw;function KP(){if(xw)return al;xw=1;var e=al&&al.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(qP()),n=YP();function r(s,o){var a={};return!s||typeof s!="string"||(0,t.default)(s,function(u,c){u&&c&&(a[(0,n.camelCase)(u,o)]=c)}),a}return r.default=r,al=r,al}var GP=KP();const JP=fo(GP),Db=Lb("end"),Tp=Lb("start");function Lb(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function QP(e){const t=Tp(e),n=Db(e);if(t&&n)return{start:t,end:n}}function kl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?bw(e.position):"start"in e||"end"in e?bw(e):"line"in e||"column"in e?zh(e):""}function zh(e){return kw(e&&e.line)+":"+kw(e&&e.column)}function bw(e){return zh(e&&e.start)+"-"+zh(e&&e.end)}function kw(e){return e&&typeof e=="number"?e:1}class Ht extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(a=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=u?u.line:void 0,this.name=kl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ht.prototype.file="";Ht.prototype.name="";Ht.prototype.reason="";Ht.prototype.message="";Ht.prototype.stack="";Ht.prototype.column=void 0;Ht.prototype.line=void 0;Ht.prototype.ancestors=void 0;Ht.prototype.cause=void 0;Ht.prototype.fatal=void 0;Ht.prototype.place=void 0;Ht.prototype.ruleId=void 0;Ht.prototype.source=void 0;const Ip={}.hasOwnProperty,XP=new Map,ZP=/[A-Z]/g,eA=new Set(["table","tbody","thead","tfoot","tr"]),tA=new Set(["td","th"]),Mb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nA(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=cA(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=uA(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?jp:WP,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=$b(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function $b(e,t,n){if(t.type==="element")return rA(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return iA(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return oA(e,t,n);if(t.type==="mdxjsEsm")return sA(e,t);if(t.type==="root")return lA(e,t,n);if(t.type==="text")return aA(e,t)}function rA(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=jp,e.schema=s),e.ancestors.push(t);const o=zb(e,t.tagName,!1),a=dA(e,t);let u=Rp(e,t);return eA.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!AP(c):!0})),Fb(e,a,o,t),Np(a,u),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function iA(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Dl(e,t.position)}function sA(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Dl(e,t.position)}function oA(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=jp,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:zb(e,t.name,!0),a=fA(e,t),u=Rp(e,t);return Fb(e,a,o,t),Np(a,u),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function lA(e,t,n){const r={};return Np(r,Rp(e,t)),e.create(t,e.Fragment,r,n)}function aA(e,t){return t.value}function Fb(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Np(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function uA(e,t,n){return r;function r(s,o,a,u){const f=Array.isArray(a.children)?n:t;return u?f(o,a,u):f(o,a)}}function cA(e,t){return n;function n(r,s,o,a){const u=Array.isArray(o.children),c=Tp(r);return t(s,o,a,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function dA(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Ip.call(t.properties,s)){const o=hA(e,s,t.properties[s]);if(o){const[a,u]=o;e.tableCellAlignToStyle&&a==="align"&&typeof u=="string"&&tA.has(t.tagName)?r=u:n[a]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function fA(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const u=a.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Dl(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else Dl(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function Rp(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:XP;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=s.get(c)||0;a=c+"-"+f,s.set(c,f+1)}}const u=$b(e,o,a);u!==void 0&&n.push(u)}return n}function hA(e,t,n){const r=zP(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?TP(n):HP(n)),r.property==="style"){let s=typeof n=="object"?n:pA(e,String(n));return e.stylePropertyNameCase==="css"&&(s=mA(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?MP[r.property]||r.property:r.attribute,n]}}function pA(e,t){try{return JP(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Ht("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Mb+"#cannot-parse-style-attribute",s}}function zb(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,a;for(;++o<s.length;){const u=hw(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};a=a?{type:"MemberExpression",object:a,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=a}else r=hw(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Ip.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Dl(e)}function Dl(e,t){const n=new Ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Mb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function mA(e){const t={};let n;for(n in e)Ip.call(e,n)&&(t[gA(n)]=e[n]);return t}function gA(e){let t=e.replace(ZP,vA);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function vA(e){return"-"+e.toLowerCase()}const $f={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yA={};function Pp(e,t){const n=yA,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ub(e,r,s)}function Ub(e,t,n){if(wA(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Sw(e.children,t,n)}return Array.isArray(e)?Sw(e,t,n):""}function Sw(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Ub(e[s],t,n);return r.join("")}function wA(e){return!!(e&&typeof e=="object")}const Ew=document.createElement("i");function Ap(e){const t="&"+e+";";Ew.innerHTML=t;const n=Ew.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function En(e,t,n,r){const s=e.length;let o=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function Fn(e,t){return e.length>0?(En(e,e.length,0,t),e):t}const _w={}.hasOwnProperty;function Bb(e){const t={};let n=-1;for(;++n<e.length;)xA(t,e[n]);return t}function xA(e,t){let n;for(n in t){const s=(_w.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){_w.call(s,a)||(s[a]=[]);const u=o[a];bA(s[a],Array.isArray(u)?u:u?[u]:[])}}}function bA(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);En(e,0,0,r)}function Wb(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function nr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Gt=ji(/[A-Za-z]/),Wt=ji(/[\dA-Za-z]/),kA=ji(/[#-'*+\--9=?A-Z^-~]/);function qu(e){return e!==null&&(e<32||e===127)}const Uh=ji(/\d/),SA=ji(/[\dA-Fa-f]/),EA=ji(/[!-/:-@[-`{-~]/);function _e(e){return e!==null&&e<-2}function Ve(e){return e!==null&&(e<0||e===32)}function Ae(e){return e===-2||e===-1||e===32}const bc=ji(new RegExp("\\p{P}|\\p{S}","u")),os=ji(/\s/);function ji(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function xo(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Wt(e.charCodeAt(n+1))&&Wt(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(a=String.fromCharCode(o,u),s=1):a="�"}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Le(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(c){return Ae(c)?(e.enter(n),u(c)):t(c)}function u(c){return Ae(c)&&o++<s?(e.consume(c),u):(e.exit(n),t(c))}}const _A={tokenize:CA};function CA(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Le(e,t,"linePrefix")}function s(u){return e.enter("paragraph"),o(u)}function o(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(u)}function a(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return _e(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),a)}}const jA={tokenize:TA},Cw={tokenize:IA};function TA(e){const t=this,n=[];let r=0,s,o,a;return u;function u(I){if(r<n.length){const F=n[r];return t.containerState=F[1],e.attempt(F[0].continuation,c,f)(I)}return f(I)}function c(I){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&N();const F=t.events.length;let H=F,A;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){A=t.events[H][1].end;break}C(r);let Y=F;for(;Y<t.events.length;)t.events[Y][1].end={...A},Y++;return En(t.events,H+1,0,t.events.slice(F)),t.events.length=Y,f(I)}return u(I)}function f(I){if(r===n.length){if(!s)return v(I);if(s.currentConstruct&&s.currentConstruct.concrete)return x(I);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Cw,h,m)(I)}function h(I){return s&&N(),C(r),v(I)}function m(I){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,x(I)}function v(I){return t.containerState={},e.attempt(Cw,g,x)(I)}function g(I){return r++,n.push([t.currentConstruct,t.containerState]),v(I)}function x(I){if(I===null){s&&N(),C(0),e.consume(I);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),k(I)}function k(I){if(I===null){_(e.exit("chunkFlow"),!0),C(0),e.consume(I);return}return _e(I)?(e.consume(I),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(I),k)}function _(I,F){const H=t.sliceStream(I);if(F&&H.push(null),I.previous=o,o&&(o.next=I),o=I,s.defineSkip(I.start),s.write(H),t.parser.lazy[I.start.line]){let A=s.events.length;for(;A--;)if(s.events[A][1].start.offset<a&&(!s.events[A][1].end||s.events[A][1].end.offset>a))return;const Y=t.events.length;let ee=Y,ie,D;for(;ee--;)if(t.events[ee][0]==="exit"&&t.events[ee][1].type==="chunkFlow"){if(ie){D=t.events[ee][1].end;break}ie=!0}for(C(r),A=Y;A<t.events.length;)t.events[A][1].end={...D},A++;En(t.events,ee+1,0,t.events.slice(Y)),t.events.length=A}}function C(I){let F=n.length;for(;F-- >I;){const H=n[F];t.containerState=H[1],H[0].exit.call(t,e)}n.length=I}function N(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function IA(e,t,n){return Le(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function co(e){if(e===null||Ve(e)||os(e))return 1;if(bc(e))return 2}function kc(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Bh={name:"attention",resolveAll:NA,tokenize:RA};function NA(e,t){let n=-1,r,s,o,a,u,c,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},v={...e[n][1].start};jw(m,-c),jw(v,c),a={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:c>1?"strong":"emphasis",start:{...a.start},end:{...u.end}},e[r][1].end={...a.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Fn(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Fn(f,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",o,t]]),f=Fn(f,kc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Fn(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=Fn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,En(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function RA(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=co(r);let o;return a;function a(c){return o=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===o)return e.consume(c),u;const f=e.exit("attentionSequence"),h=co(c),m=!h||h===2&&s||n.includes(c),v=!s||s===2&&h||n.includes(r);return f._open=!!(o===42?m:m&&(s||!v)),f._close=!!(o===42?v:v&&(h||!m)),t(c)}}function jw(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const PA={name:"autolink",tokenize:AA};function AA(e,t,n){let r=0;return s;function s(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(g){return Gt(g)?(e.consume(g),a):g===64?n(g):f(g)}function a(g){return g===43||g===45||g===46||Wt(g)?(r=1,u(g)):f(g)}function u(g){return g===58?(e.consume(g),r=0,c):(g===43||g===45||g===46||Wt(g))&&r++<32?(e.consume(g),u):(r=0,f(g))}function c(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||qu(g)?n(g):(e.consume(g),c)}function f(g){return g===64?(e.consume(g),h):kA(g)?(e.consume(g),f):n(g)}function h(g){return Wt(g)?m(g):n(g)}function m(g){return g===46?(e.consume(g),r=0,h):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):v(g)}function v(g){if((g===45||Wt(g))&&r++<63){const x=g===45?v:m;return e.consume(g),x}return n(g)}}const Gl={partial:!0,tokenize:OA};function OA(e,t,n){return r;function r(o){return Ae(o)?Le(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||_e(o)?t(o):n(o)}}const Hb={continuation:{tokenize:LA},exit:MA,name:"blockQuote",tokenize:DA};function DA(e,t,n){const r=this;return s;function s(a){if(a===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Ae(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function LA(e,t,n){const r=this;return s;function s(a){return Ae(a)?Le(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(Hb,t,n)(a)}}function MA(e){e.exit("blockQuote")}const Vb={name:"characterEscape",tokenize:$A};function $A(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return EA(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const qb={name:"characterReference",tokenize:FA};function FA(e,t,n){const r=this;let s=0,o,a;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),c}function c(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,a=Wt,h(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=SA,h):(e.enter("characterReferenceValue"),o=7,a=Uh,h(m))}function h(m){if(m===59&&s){const v=e.exit("characterReferenceValue");return a===Wt&&!Ap(r.sliceSerialize(v))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(m)&&s++<o?(e.consume(m),h):n(m)}}const Tw={partial:!0,tokenize:UA},Iw={concrete:!0,name:"codeFenced",tokenize:zA};function zA(e,t,n){const r=this,s={partial:!0,tokenize:H};let o=0,a=0,u;return c;function c(A){return f(A)}function f(A){const Y=r.events[r.events.length-1];return o=Y&&Y[1].type==="linePrefix"?Y[2].sliceSerialize(Y[1],!0).length:0,u=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===u?(a++,e.consume(A),h):a<3?n(A):(e.exit("codeFencedFenceSequence"),Ae(A)?Le(e,m,"whitespace")(A):m(A))}function m(A){return A===null||_e(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(Tw,k,F)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(A))}function v(A){return A===null||_e(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(A)):Ae(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Le(e,g,"whitespace")(A)):A===96&&A===u?n(A):(e.consume(A),v)}function g(A){return A===null||_e(A)?m(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(A))}function x(A){return A===null||_e(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(A)):A===96&&A===u?n(A):(e.consume(A),x)}function k(A){return e.attempt(s,F,_)(A)}function _(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),C}function C(A){return o>0&&Ae(A)?Le(e,N,"linePrefix",o+1)(A):N(A)}function N(A){return A===null||_e(A)?e.check(Tw,k,F)(A):(e.enter("codeFlowValue"),I(A))}function I(A){return A===null||_e(A)?(e.exit("codeFlowValue"),N(A)):(e.consume(A),I)}function F(A){return e.exit("codeFenced"),t(A)}function H(A,Y,ee){let ie=0;return D;function D(B){return A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),M}function M(B){return A.enter("codeFencedFence"),Ae(B)?Le(A,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):X(B)}function X(B){return B===u?(A.enter("codeFencedFenceSequence"),K(B)):ee(B)}function K(B){return B===u?(ie++,A.consume(B),K):ie>=a?(A.exit("codeFencedFenceSequence"),Ae(B)?Le(A,O,"whitespace")(B):O(B)):ee(B)}function O(B){return B===null||_e(B)?(A.exit("codeFencedFence"),Y(B)):ee(B)}}}function UA(e,t,n){const r=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Ff={name:"codeIndented",tokenize:WA},BA={partial:!0,tokenize:HA};function WA(e,t,n){const r=this;return s;function s(f){return e.enter("codeIndented"),Le(e,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?c(f):_e(f)?e.attempt(BA,a,c)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||_e(f)?(e.exit("codeFlowValue"),a(f)):(e.consume(f),u)}function c(f){return e.exit("codeIndented"),t(f)}}function HA(e,t,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):_e(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):Le(e,o,"linePrefix",5)(a)}function o(a){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(a):_e(a)?s(a):n(a)}}const VA={name:"codeText",previous:YA,resolve:qA,tokenize:KA};function qA(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function YA(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function KA(e,t,n){let r=0,s,o;return a;function a(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),c(m))}function c(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),c):m===96?(o=e.enter("codeTextSequence"),s=0,h(m)):_e(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||_e(m)?(e.exit("codeTextData"),c(m)):(e.consume(m),f)}function h(m){return m===96?(e.consume(m),s++,h):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(o.type="codeTextData",f(m))}}class GA{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&ul(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ul(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ul(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ul(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ul(this.left,n.reverse())}}}function ul(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Yb(e){const t={};let n=-1,r,s,o,a,u,c,f;const h=new GA(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,JA(h,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(a=h.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...h.get(s)[1].start},u=h.slice(s,n),u.unshift(r),h.splice(s,n-s+1,u))}}return En(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function JA(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const u=a.events,c=[],f={};let h,m,v=-1,g=n,x=0,k=0;const _=[k];for(;g;){for(;e.get(++s)[1]!==g;);o.push(s),g._tokenizer||(h=r.sliceStream(g),g.next||h.push(null),m&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),m=g,g=g.next}for(g=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(k=v+1,_.push(k),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):_.pop(),v=_.length;v--;){const C=u.slice(_[v],_[v+1]),N=o.pop();c.push([N,N+C.length-1]),e.splice(N,2,C)}for(c.reverse(),v=-1;++v<c.length;)f[x+c[v][0]]=x+c[v][1],x+=c[v][1]-c[v][0]-1;return f}const QA={resolve:ZA,tokenize:eO},XA={partial:!0,tokenize:tO};function ZA(e){return Yb(e),e}function eO(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?o(u):_e(u)?e.check(XA,a,o)(u):(e.consume(u),s)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function a(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function tO(e,t,n){const r=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Le(e,o,"linePrefix")}function o(a){if(a===null||_e(a))return n(a);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Kb(e,t,n,r,s,o,a,u,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return m;function m(C){return C===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(C),e.exit(o),v):C===null||C===32||C===41||qu(C)?n(C):(e.enter(r),e.enter(a),e.enter(u),e.enter("chunkString",{contentType:"string"}),k(C))}function v(C){return C===62?(e.enter(o),e.consume(C),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),g(C))}function g(C){return C===62?(e.exit("chunkString"),e.exit(u),v(C)):C===null||C===60||_e(C)?n(C):(e.consume(C),C===92?x:g)}function x(C){return C===60||C===62||C===92?(e.consume(C),g):g(C)}function k(C){return!h&&(C===null||C===41||Ve(C))?(e.exit("chunkString"),e.exit(u),e.exit(a),e.exit(r),t(C)):h<f&&C===40?(e.consume(C),h++,k):C===41?(e.consume(C),h--,k):C===null||C===32||C===40||qu(C)?n(C):(e.consume(C),C===92?_:k)}function _(C){return C===40||C===41||C===92?(e.consume(C),k):k(C)}}function Gb(e,t,n,r,s,o){const a=this;let u=0,c;return f;function f(g){return e.enter(r),e.enter(s),e.consume(g),e.exit(s),e.enter(o),h}function h(g){return u>999||g===null||g===91||g===93&&!c||g===94&&!u&&"_hiddenFootnoteSupport"in a.parser.constructs?n(g):g===93?(e.exit(o),e.enter(s),e.consume(g),e.exit(s),e.exit(r),t):_e(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===null||g===91||g===93||_e(g)||u++>999?(e.exit("chunkString"),h(g)):(e.consume(g),c||(c=!Ae(g)),g===92?v:m)}function v(g){return g===91||g===92||g===93?(e.consume(g),u++,m):m(g)}}function Jb(e,t,n,r,s,o){let a;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(s),e.consume(v),e.exit(s),a=v===40?41:v,c):n(v)}function c(v){return v===a?(e.enter(s),e.consume(v),e.exit(s),e.exit(r),t):(e.enter(o),f(v))}function f(v){return v===a?(e.exit(o),c(a)):v===null?n(v):_e(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Le(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===a||v===null||_e(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?m:h)}function m(v){return v===a||v===92?(e.consume(v),h):h(v)}}function Sl(e,t){let n;return r;function r(s){return _e(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Ae(s)?Le(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const nO={name:"definition",tokenize:iO},rO={partial:!0,tokenize:sO};function iO(e,t,n){const r=this;let s;return o;function o(g){return e.enter("definition"),a(g)}function a(g){return Gb.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function u(g){return s=nr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),c):n(g)}function c(g){return Ve(g)?Sl(e,f)(g):f(g)}function f(g){return Kb(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function h(g){return e.attempt(rO,m,m)(g)}function m(g){return Ae(g)?Le(e,v,"whitespace")(g):v(g)}function v(g){return g===null||_e(g)?(e.exit("definition"),r.parser.defined.push(s),t(g)):n(g)}}function sO(e,t,n){return r;function r(u){return Ve(u)?Sl(e,s)(u):n(u)}function s(u){return Jb(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Ae(u)?Le(e,a,"whitespace")(u):a(u)}function a(u){return u===null||_e(u)?t(u):n(u)}}const oO={name:"hardBreakEscape",tokenize:lO};function lO(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return _e(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const aO={name:"headingAtx",resolve:uO,tokenize:cO};function uO(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},En(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function cO(e,t,n){let r=0;return s;function s(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(e.consume(h),a):h===null||Ve(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||_e(h)?(e.exit("atxHeading"),t(h)):Ae(h)?Le(e,u,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||Ve(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),f)}}const dO=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Nw=["pre","script","style","textarea"],fO={concrete:!0,name:"htmlFlow",resolveTo:mO,tokenize:gO},hO={partial:!0,tokenize:yO},pO={partial:!0,tokenize:vO};function mO(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function gO(e,t,n){const r=this;let s,o,a,u,c;return f;function f(j){return h(j)}function h(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),m}function m(j){return j===33?(e.consume(j),v):j===47?(e.consume(j),o=!0,k):j===63?(e.consume(j),s=3,r.interrupt?t:E):Gt(j)?(e.consume(j),a=String.fromCharCode(j),_):n(j)}function v(j){return j===45?(e.consume(j),s=2,g):j===91?(e.consume(j),s=5,u=0,x):Gt(j)?(e.consume(j),s=4,r.interrupt?t:E):n(j)}function g(j){return j===45?(e.consume(j),r.interrupt?t:E):n(j)}function x(j){const J="CDATA[";return j===J.charCodeAt(u++)?(e.consume(j),u===J.length?r.interrupt?t:X:x):n(j)}function k(j){return Gt(j)?(e.consume(j),a=String.fromCharCode(j),_):n(j)}function _(j){if(j===null||j===47||j===62||Ve(j)){const J=j===47,te=a.toLowerCase();return!J&&!o&&Nw.includes(te)?(s=1,r.interrupt?t(j):X(j)):dO.includes(a.toLowerCase())?(s=6,J?(e.consume(j),C):r.interrupt?t(j):X(j)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):o?N(j):I(j))}return j===45||Wt(j)?(e.consume(j),a+=String.fromCharCode(j),_):n(j)}function C(j){return j===62?(e.consume(j),r.interrupt?t:X):n(j)}function N(j){return Ae(j)?(e.consume(j),N):D(j)}function I(j){return j===47?(e.consume(j),D):j===58||j===95||Gt(j)?(e.consume(j),F):Ae(j)?(e.consume(j),I):D(j)}function F(j){return j===45||j===46||j===58||j===95||Wt(j)?(e.consume(j),F):H(j)}function H(j){return j===61?(e.consume(j),A):Ae(j)?(e.consume(j),H):I(j)}function A(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),c=j,Y):Ae(j)?(e.consume(j),A):ee(j)}function Y(j){return j===c?(e.consume(j),c=null,ie):j===null||_e(j)?n(j):(e.consume(j),Y)}function ee(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Ve(j)?H(j):(e.consume(j),ee)}function ie(j){return j===47||j===62||Ae(j)?I(j):n(j)}function D(j){return j===62?(e.consume(j),M):n(j)}function M(j){return j===null||_e(j)?X(j):Ae(j)?(e.consume(j),M):n(j)}function X(j){return j===45&&s===2?(e.consume(j),$):j===60&&s===1?(e.consume(j),U):j===62&&s===4?(e.consume(j),R):j===63&&s===3?(e.consume(j),E):j===93&&s===5?(e.consume(j),q):_e(j)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(hO,L,K)(j)):j===null||_e(j)?(e.exit("htmlFlowData"),K(j)):(e.consume(j),X)}function K(j){return e.check(pO,O,L)(j)}function O(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),B}function B(j){return j===null||_e(j)?K(j):(e.enter("htmlFlowData"),X(j))}function $(j){return j===45?(e.consume(j),E):X(j)}function U(j){return j===47?(e.consume(j),a="",P):X(j)}function P(j){if(j===62){const J=a.toLowerCase();return Nw.includes(J)?(e.consume(j),R):X(j)}return Gt(j)&&a.length<8?(e.consume(j),a+=String.fromCharCode(j),P):X(j)}function q(j){return j===93?(e.consume(j),E):X(j)}function E(j){return j===62?(e.consume(j),R):j===45&&s===2?(e.consume(j),E):X(j)}function R(j){return j===null||_e(j)?(e.exit("htmlFlowData"),L(j)):(e.consume(j),R)}function L(j){return e.exit("htmlFlow"),t(j)}}function vO(e,t,n){const r=this;return s;function s(a){return _e(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function yO(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Gl,t,n)}}const wO={name:"htmlText",tokenize:xO};function xO(e,t,n){const r=this;let s,o,a;return u;function u(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),c}function c(E){return E===33?(e.consume(E),f):E===47?(e.consume(E),H):E===63?(e.consume(E),I):Gt(E)?(e.consume(E),ee):n(E)}function f(E){return E===45?(e.consume(E),h):E===91?(e.consume(E),o=0,x):Gt(E)?(e.consume(E),N):n(E)}function h(E){return E===45?(e.consume(E),g):n(E)}function m(E){return E===null?n(E):E===45?(e.consume(E),v):_e(E)?(a=m,U(E)):(e.consume(E),m)}function v(E){return E===45?(e.consume(E),g):m(E)}function g(E){return E===62?$(E):E===45?v(E):m(E)}function x(E){const R="CDATA[";return E===R.charCodeAt(o++)?(e.consume(E),o===R.length?k:x):n(E)}function k(E){return E===null?n(E):E===93?(e.consume(E),_):_e(E)?(a=k,U(E)):(e.consume(E),k)}function _(E){return E===93?(e.consume(E),C):k(E)}function C(E){return E===62?$(E):E===93?(e.consume(E),C):k(E)}function N(E){return E===null||E===62?$(E):_e(E)?(a=N,U(E)):(e.consume(E),N)}function I(E){return E===null?n(E):E===63?(e.consume(E),F):_e(E)?(a=I,U(E)):(e.consume(E),I)}function F(E){return E===62?$(E):I(E)}function H(E){return Gt(E)?(e.consume(E),A):n(E)}function A(E){return E===45||Wt(E)?(e.consume(E),A):Y(E)}function Y(E){return _e(E)?(a=Y,U(E)):Ae(E)?(e.consume(E),Y):$(E)}function ee(E){return E===45||Wt(E)?(e.consume(E),ee):E===47||E===62||Ve(E)?ie(E):n(E)}function ie(E){return E===47?(e.consume(E),$):E===58||E===95||Gt(E)?(e.consume(E),D):_e(E)?(a=ie,U(E)):Ae(E)?(e.consume(E),ie):$(E)}function D(E){return E===45||E===46||E===58||E===95||Wt(E)?(e.consume(E),D):M(E)}function M(E){return E===61?(e.consume(E),X):_e(E)?(a=M,U(E)):Ae(E)?(e.consume(E),M):ie(E)}function X(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),s=E,K):_e(E)?(a=X,U(E)):Ae(E)?(e.consume(E),X):(e.consume(E),O)}function K(E){return E===s?(e.consume(E),s=void 0,B):E===null?n(E):_e(E)?(a=K,U(E)):(e.consume(E),K)}function O(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Ve(E)?ie(E):(e.consume(E),O)}function B(E){return E===47||E===62||Ve(E)?ie(E):n(E)}function $(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function U(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),P}function P(E){return Ae(E)?Le(e,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):q(E)}function q(E){return e.enter("htmlTextData"),a(E)}}const Op={name:"labelEnd",resolveAll:EO,resolveTo:_O,tokenize:CO},bO={tokenize:jO},kO={tokenize:TO},SO={tokenize:IO};function EO(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&En(e,0,e.length,n),e}function _O(e,t){let n=e.length,r=0,s,o,a,u;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return u=[["enter",c,t],["enter",f,t]],u=Fn(u,e.slice(o+1,o+r+3)),u=Fn(u,[["enter",h,t]]),u=Fn(u,kc(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),u=Fn(u,[["exit",h,t],e[a-2],e[a-1],["exit",f,t]]),u=Fn(u,e.slice(a+1)),u=Fn(u,[["exit",c,t]]),En(e,o,e.length,u),e}function CO(e,t,n){const r=this;let s=r.events.length,o,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return u;function u(v){return o?o._inactive?m(v):(a=r.parser.defined.includes(nr(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):n(v)}function c(v){return v===40?e.attempt(bO,h,a?h:m)(v):v===91?e.attempt(kO,h,a?f:m)(v):a?h(v):m(v)}function f(v){return e.attempt(SO,h,m)(v)}function h(v){return t(v)}function m(v){return o._balanced=!0,n(v)}}function jO(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),s}function s(m){return Ve(m)?Sl(e,o)(m):o(m)}function o(m){return m===41?h(m):Kb(e,a,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function a(m){return Ve(m)?Sl(e,c)(m):h(m)}function u(m){return n(m)}function c(m){return m===34||m===39||m===40?Jb(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function f(m){return Ve(m)?Sl(e,h)(m):h(m)}function h(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function TO(e,t,n){const r=this;return s;function s(u){return Gb.call(r,e,o,a,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(nr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function a(u){return n(u)}}function IO(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const NO={name:"labelStartImage",resolveAll:Op.resolveAll,tokenize:RO};function RO(e,t,n){const r=this;return s;function s(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),a):n(u)}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const PO={name:"labelStartLink",resolveAll:Op.resolveAll,tokenize:AO};function AO(e,t,n){const r=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const zf={name:"lineEnding",tokenize:OO};function OO(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Le(e,t,"linePrefix")}}const Iu={name:"thematicBreak",tokenize:DO};function DO(e,t,n){let r=0,s;return o;function o(f){return e.enter("thematicBreak"),a(f)}function a(f){return s=f,u(f)}function u(f){return f===s?(e.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||_e(f))?(e.exit("thematicBreak"),t(f)):n(f)}function c(f){return f===s?(e.consume(f),r++,c):(e.exit("thematicBreakSequence"),Ae(f)?Le(e,u,"whitespace")(f):u(f))}}const un={continuation:{tokenize:FO},exit:UO,name:"list",tokenize:$O},LO={partial:!0,tokenize:BO},MO={partial:!0,tokenize:zO};function $O(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return u;function u(g){const x=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:Uh(g)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Iu,n,f)(g):f(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(g)}return n(g)}function c(g){return Uh(g)&&++a<10?(e.consume(g),c):(!r.interrupt||a<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),f(g)):n(g)}function f(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(Gl,r.interrupt?n:h,e.attempt(LO,v,m))}function h(g){return r.containerState.initialBlankLine=!0,o++,v(g)}function m(g){return Ae(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),v):n(g)}function v(g){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function FO(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Gl,s,o);function s(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Le(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!Ae(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(MO,t,a)(u))}function a(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Le(e,e.attempt(un,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function zO(e,t,n){const r=this;return Le(e,s,"listItemIndent",r.containerState.size+1);function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function UO(e){e.exit(this.containerState.type)}function BO(e,t,n){const r=this;return Le(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const a=r.events[r.events.length-1];return!Ae(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Rw={name:"setextUnderline",resolveTo:WO,tokenize:HO};function WO(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function HO(e,t,n){const r=this;let s;return o;function o(f){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),s=f,a(f)):n(f)}function a(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===s?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Ae(f)?Le(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||_e(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const VO={tokenize:qO};function qO(e){const t=this,n=e.attempt(Gl,r,e.attempt(this.parser.constructs.flowInitial,s,Le(e,e.attempt(this.parser.constructs.flow,s,e.attempt(QA,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const YO={resolveAll:Xb()},KO=Qb("string"),GO=Qb("text");function Qb(e){return{resolveAll:Xb(e==="text"?JO:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,a,u);return a;function a(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const m=s[h];let v=-1;if(m)for(;++v<m.length;){const g=m[v];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function Xb(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function JO(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,a=-1,u=0,c;for(;o--;){const f=s[o];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)u++,a--;if(a)break;a=-1}else if(f===-2)c=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const QO={42:un,43:un,45:un,48:un,49:un,50:un,51:un,52:un,53:un,54:un,55:un,56:un,57:un,62:Hb},XO={91:nO},ZO={[-2]:Ff,[-1]:Ff,32:Ff},eD={35:aO,42:Iu,45:[Rw,Iu],60:fO,61:Rw,95:Iu,96:Iw,126:Iw},tD={38:qb,92:Vb},nD={[-5]:zf,[-4]:zf,[-3]:zf,33:NO,38:qb,42:Bh,60:[PA,wO],91:PO,92:[oO,Vb],93:Op,95:Bh,96:VA},rD={null:[Bh,YO]},iD={null:[42,95]},sD={null:[]},oD=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:iD,contentInitial:XO,disable:sD,document:QO,flow:eD,flowInitial:ZO,insideSpan:rD,string:tD,text:nD},Symbol.toStringTag,{value:"Module"}));function lD(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let a=[],u=[];const c={attempt:Y(H),check:Y(A),consume:N,enter:I,exit:F,interrupt:Y(A,{interrupt:!0})},f={code:null,containerState:{},defineSkip:k,events:[],now:x,parser:e,previous:null,sliceSerialize:v,sliceStream:g,write:m};let h=t.tokenize.call(f,c);return t.resolveAll&&o.push(t),f;function m(M){return a=Fn(a,M),_(),a[a.length-1]!==null?[]:(ee(t,0),f.events=kc(o,f.events,f),f.events)}function v(M,X){return uD(g(M),X)}function g(M){return aD(a,M)}function x(){const{_bufferIndex:M,_index:X,line:K,column:O,offset:B}=r;return{_bufferIndex:M,_index:X,line:K,column:O,offset:B}}function k(M){s[M.line]=M.column,D()}function _(){let M;for(;r._index<a.length;){const X=a[r._index];if(typeof X=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<X.length;)C(X.charCodeAt(r._bufferIndex));else C(X)}}function C(M){h=h(M)}function N(M){_e(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,D()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=M}function I(M,X){const K=X||{};return K.type=M,K.start=x(),f.events.push(["enter",K,f]),u.push(K),K}function F(M){const X=u.pop();return X.end=x(),f.events.push(["exit",X,f]),X}function H(M,X){ee(M,X.from)}function A(M,X){X.restore()}function Y(M,X){return K;function K(O,B,$){let U,P,q,E;return Array.isArray(O)?L(O):"tokenize"in O?L([O]):R(O);function R(ne){return fe;function fe(he){const me=he!==null&&ne[he],de=he!==null&&ne.null,Oe=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(de)?de:de?[de]:[]];return L(Oe)(he)}}function L(ne){return U=ne,P=0,ne.length===0?$:j(ne[P])}function j(ne){return fe;function fe(he){return E=ie(),q=ne,ne.partial||(f.currentConstruct=ne),ne.name&&f.parser.constructs.disable.null.includes(ne.name)?te():ne.tokenize.call(X?Object.assign(Object.create(f),X):f,c,J,te)(he)}}function J(ne){return M(q,E),B}function te(ne){return E.restore(),++P<U.length?j(U[P]):$}}}function ee(M,X){M.resolveAll&&!o.includes(M)&&o.push(M),M.resolve&&En(f.events,X,f.events.length-X,M.resolve(f.events.slice(X),f)),M.resolveTo&&(f.events=M.resolveTo(f.events,f))}function ie(){const M=x(),X=f.previous,K=f.currentConstruct,O=f.events.length,B=Array.from(u);return{from:O,restore:$};function $(){r=M,f.previous=X,f.currentConstruct=K,f.events.length=O,u=B,D()}}function D(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function aD(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,o)];else{if(a=e.slice(n,s),r>-1){const u=a[0];typeof u=="string"?a[0]=u.slice(r):a.shift()}o>0&&a.push(e[s].slice(0,o))}return a}function uD(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(o)}s=o===-2,r.push(a)}return r.join("")}function cD(e){const r={constructs:Bb([oD,...(e||{}).extensions||[]]),content:s(_A),defined:[],document:s(jA),flow:s(VO),lazy:{},string:s(KO),text:s(GO)};return r;function s(o){return a;function a(u){return lD(r,o,u)}}}function dD(e){for(;!Yb(e););return e}const Pw=/[\0\t\n\r]/g;function fD(){let e=1,t="",n=!0,r;return s;function s(o,a,u){const c=[];let f,h,m,v,g;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),m=0,t="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(Pw.lastIndex=m,f=Pw.exec(o),v=f&&f.index!==void 0?f.index:o.length,g=o.charCodeAt(v),!f){t=o.slice(m);break}if(g===10&&m===v&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),m<v&&(c.push(o.slice(m,v)),e+=v-m),g){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}m=v+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const hD=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pD(e){return e.replace(hD,mD)}function mD(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return Wb(n.slice(o?2:1),o?16:10)}return Ap(n)||e}const Zb={}.hasOwnProperty;function gD(e,t,n){return typeof t!="string"&&(n=t,t=void 0),vD(n)(dD(cD(n).document().write(fD()(e,t,!0))))}function vD(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(or),autolinkProtocol:ie,autolinkEmail:ie,atxHeading:o(Cn),blockQuote:o(de),characterEscape:ie,characterReference:ie,codeFenced:o(Oe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Oe,a),codeText:o($e,a),codeTextData:ie,data:ie,codeFlowValue:ie,definition:o(et),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Vt),hardBreakEscape:o(jn),hardBreakTrailing:o(jn),htmlFlow:o(jr,a),htmlFlowData:ie,htmlText:o(jr,a),htmlTextData:ie,image:o(Ti),label:a,link:o(or),listItem:o(hn),listItemValue:v,listOrdered:o(It,m),listUnordered:o(It),paragraph:o(lr),reference:j,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(Cn),strong:o(Ii),thematicBreak:o(fs)},exit:{atxHeading:c(),atxHeadingSequence:H,autolink:c(),autolinkEmail:me,autolinkProtocol:he,blockQuote:c(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:ne,characterReference:fe,codeFenced:c(_),codeFencedFence:k,codeFencedFenceInfo:g,codeFencedFenceMeta:x,codeFlowValue:D,codeIndented:c(C),codeText:c(B),codeTextData:D,data:D,definition:c(),definitionDestinationString:F,definitionLabelString:N,definitionTitleString:I,emphasis:c(),hardBreakEscape:c(X),hardBreakTrailing:c(X),htmlFlow:c(K),htmlFlowData:D,htmlText:c(O),htmlTextData:D,image:c(U),label:q,labelText:P,lineEnding:M,link:c($),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:J,resourceDestinationString:E,resourceTitleString:R,resource:L,setextHeading:c(ee),setextHeadingLineSequence:Y,setextHeadingText:A,strong:c(),thematicBreak:c()}};ek(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(re){let ue={type:"root",children:[]};const be={stack:[ue],tokenStack:[],config:t,enter:u,exit:f,buffer:a,resume:h,data:n},Te=[];let De=-1;for(;++De<re.length;)if(re[De][1].type==="listOrdered"||re[De][1].type==="listUnordered")if(re[De][0]==="enter")Te.push(De);else{const qe=Te.pop();De=s(re,qe,De)}for(De=-1;++De<re.length;){const qe=t[re[De][0]];Zb.call(qe,re[De][1].type)&&qe[re[De][1].type].call(Object.assign({sliceSerialize:re[De][2].sliceSerialize},be),re[De][1])}if(be.tokenStack.length>0){const qe=be.tokenStack[be.tokenStack.length-1];(qe[1]||Aw).call(be,void 0,qe[0])}for(ue.position={start:fi(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:fi(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<t.transforms.length;)ue=t.transforms[De](ue)||ue;return ue}function s(re,ue,be){let Te=ue-1,De=-1,qe=!1,Tn,Zt,ar,Un;for(;++Te<=be;){const ft=re[Te];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?De++:De--,Un=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(Tn&&!Un&&!De&&!ar&&(ar=Te),Un=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Un=void 0}if(!De&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||De===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(Tn){let In=Te;for(Zt=void 0;In--;){const Pt=re[In];if(Pt[1].type==="lineEnding"||Pt[1].type==="lineEndingBlank"){if(Pt[0]==="exit")continue;Zt&&(re[Zt][1].type="lineEndingBlank",qe=!0),Pt[1].type="lineEnding",Zt=In}else if(!(Pt[1].type==="linePrefix"||Pt[1].type==="blockQuotePrefix"||Pt[1].type==="blockQuotePrefixWhitespace"||Pt[1].type==="blockQuoteMarker"||Pt[1].type==="listItemIndent"))break}ar&&(!Zt||ar<Zt)&&(Tn._spread=!0),Tn.end=Object.assign({},Zt?re[Zt][1].start:ft[1].end),re.splice(Zt||Te,0,["exit",Tn,ft[2]]),Te++,be++}if(ft[1].type==="listItemPrefix"){const In={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};Tn=In,re.splice(Te,0,["enter",In,ft[2]]),Te++,be++,ar=void 0,Un=!0}}}return re[ue][1]._spread=qe,be}function o(re,ue){return be;function be(Te){u.call(this,re(Te),Te),ue&&ue.call(this,Te)}}function a(){this.stack.push({type:"fragment",children:[]})}function u(re,ue,be){this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([ue,be||void 0]),re.position={start:fi(ue.start),end:void 0}}function c(re){return ue;function ue(be){re&&re.call(this,be),f.call(this,be)}}function f(re,ue){const be=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==re.type&&(ue?ue.call(this,re,Te[0]):(Te[1]||Aw).call(this,re,Te[0]));else throw new Error("Cannot close `"+re.type+"` ("+kl({start:re.start,end:re.end})+"): it’s not open");be.position.end=fi(re.end)}function h(){return Pp(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(re){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(re),10),this.data.expectingFirstListItemValue=void 0}}function g(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=re}function x(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=re}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.value=re.replace(/(\r?\n|\r)$/g,"")}function N(re){const ue=this.resume(),be=this.stack[this.stack.length-1];be.label=ue,be.identifier=nr(this.sliceSerialize(re)).toLowerCase()}function I(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.title=re}function F(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.url=re}function H(re){const ue=this.stack[this.stack.length-1];if(!ue.depth){const be=this.sliceSerialize(re).length;ue.depth=be}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function Y(re){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(re).codePointAt(0)===61?1:2}function ee(){this.data.setextHeadingSlurpLineEnding=void 0}function ie(re){const be=this.stack[this.stack.length-1].children;let Te=be[be.length-1];(!Te||Te.type!=="text")&&(Te=Ni(),Te.position={start:fi(re.start),end:void 0},be.push(Te)),this.stack.push(Te)}function D(re){const ue=this.stack.pop();ue.value+=this.sliceSerialize(re),ue.position.end=fi(re.end)}function M(re){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ue.children[ue.children.length-1];be.position.end=fi(re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ue.type)&&(ie.call(this,re),D.call(this,re))}function X(){this.data.atHardBreak=!0}function K(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.value=re}function O(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.value=re}function B(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.value=re}function $(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=ue,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function U(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=ue,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function P(re){const ue=this.sliceSerialize(re),be=this.stack[this.stack.length-2];be.label=pD(ue),be.identifier=nr(ue).toLowerCase()}function q(){const re=this.stack[this.stack.length-1],ue=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Te=re.children;be.children=Te}else be.alt=ue}function E(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.url=re}function R(){const re=this.resume(),ue=this.stack[this.stack.length-1];ue.title=re}function L(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function J(re){const ue=this.resume(),be=this.stack[this.stack.length-1];be.label=ue,be.identifier=nr(this.sliceSerialize(re)).toLowerCase(),this.data.referenceType="full"}function te(re){this.data.characterReferenceType=re.type}function ne(re){const ue=this.sliceSerialize(re),be=this.data.characterReferenceType;let Te;be?(Te=Wb(ue,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=Ap(ue);const De=this.stack[this.stack.length-1];De.value+=Te}function fe(re){const ue=this.stack.pop();ue.position.end=fi(re.end)}function he(re){D.call(this,re);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(re)}function me(re){D.call(this,re);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(re)}function de(){return{type:"blockquote",children:[]}}function Oe(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Vt(){return{type:"emphasis",children:[]}}function Cn(){return{type:"heading",depth:0,children:[]}}function jn(){return{type:"break"}}function jr(){return{type:"html",value:""}}function Ti(){return{type:"image",title:null,url:"",alt:null}}function or(){return{type:"link",title:null,url:"",children:[]}}function It(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function hn(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function lr(){return{type:"paragraph",children:[]}}function Ii(){return{type:"strong",children:[]}}function Ni(){return{type:"text",value:""}}function fs(){return{type:"thematicBreak"}}}function fi(e){return{line:e.line,column:e.column,offset:e.offset}}function ek(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?ek(e,r):yD(e,r)}}function yD(e,t){let n;for(n in t)if(Zb.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Aw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+kl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+kl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+kl({start:t.start,end:t.end})+") is still open")}function wD(e){const t=this;t.parser=n;function n(r){return gD(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function xD(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function bD(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function kD(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function SD(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ED(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _D(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=xo(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,f),e.applyData(t,f)}function CD(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jD(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function tk(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function TD(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return tk(e,t);const s={src:xo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function ID(e,t){const n={src:xo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ND(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function RD(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return tk(e,t);const s={href:xo(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function PD(e,t){const n={href:xo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function AD(e,t,n){const r=e.all(t),s=n?OD(n):nk(t),o={},a=[];if(typeof t.checked=="boolean"){const h=r[0];let m;h&&h.type==="element"&&h.tagName==="p"?m=h:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(s||u!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!s?a.push(...h.children):a.push(h)}const c=r[r.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,f),e.applyData(t,f)}function OD(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=nk(n[r])}return t}function nk(e){const t=e.spread;return t??e.children.length>1}function DD(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function LD(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function MD(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function $D(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function FD(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=Tp(t.children[1]),c=Db(t.children[t.children.length-1]);u&&c&&(a.position={start:u,end:c}),s.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function zD(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,u=a?a.length:t.children.length;let c=-1;const f=[];for(;++c<u;){const m=t.children[c],v={},g=a?a[c]:void 0;g&&(v.align=g);let x={type:"element",tagName:o,properties:v,children:[]};m&&(x.children=e.all(m),e.patch(m,x),x=e.applyData(m,x)),f.push(x)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function UD(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Ow=9,Dw=32;function BD(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(Lw(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(Lw(t.slice(s),s>0,!1)),o.join("")}function Lw(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===Ow||o===Dw;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===Ow||o===Dw;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function WD(e,t){const n={type:"text",value:BD(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function HD(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const VD={blockquote:xD,break:bD,code:kD,delete:SD,emphasis:ED,footnoteReference:_D,heading:CD,html:jD,imageReference:TD,image:ID,inlineCode:ND,linkReference:RD,link:PD,listItem:AD,list:DD,paragraph:LD,root:MD,strong:$D,table:FD,tableCell:UD,tableRow:zD,text:WD,thematicBreak:HD,toml:vu,yaml:vu,definition:vu,footnoteDefinition:vu};function vu(){}const rk=-1,Sc=0,El=1,Yu=2,Dp=3,Lp=4,Mp=5,$p=6,ik=7,sk=8,Mw=typeof self=="object"?self:globalThis,qD=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,a]=t[s];switch(o){case Sc:case rk:return n(a,s);case El:{const u=n([],s);for(const c of a)u.push(r(c));return u}case Yu:{const u=n({},s);for(const[c,f]of a)u[r(c)]=r(f);return u}case Dp:return n(new Date(a),s);case Lp:{const{source:u,flags:c}=a;return n(new RegExp(u,c),s)}case Mp:{const u=n(new Map,s);for(const[c,f]of a)u.set(r(c),r(f));return u}case $p:{const u=n(new Set,s);for(const c of a)u.add(r(c));return u}case ik:{const{name:u,message:c}=a;return n(new Mw[u](c),s)}case sk:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:u}=new Uint8Array(a);return n(new DataView(u),a)}}return n(new Mw[o](a),s)};return r},$w=e=>qD(new Map,e)(0),Ys="",{toString:YD}={},{keys:KD}=Object,cl=e=>{const t=typeof e;if(t!=="object"||!e)return[Sc,t];const n=YD.call(e).slice(8,-1);switch(n){case"Array":return[El,Ys];case"Object":return[Yu,Ys];case"Date":return[Dp,Ys];case"RegExp":return[Lp,Ys];case"Map":return[Mp,Ys];case"Set":return[$p,Ys];case"DataView":return[El,n]}return n.includes("Array")?[El,n]:n.includes("Error")?[ik,n]:[Yu,n]},yu=([e,t])=>e===Sc&&(t==="function"||t==="symbol"),GD=(e,t,n,r)=>{const s=(a,u)=>{const c=r.push(a)-1;return n.set(u,c),c},o=a=>{if(n.has(a))return n.get(a);let[u,c]=cl(a);switch(u){case Sc:{let h=a;switch(c){case"bigint":u=sk,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return s([rk],a)}return s([u,h],a)}case El:{if(c){let v=a;return c==="DataView"?v=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(a)),s([c,[...v]],a)}const h=[],m=s([u,h],a);for(const v of a)h.push(o(v));return m}case Yu:{if(c)switch(c){case"BigInt":return s([c,a.toString()],a);case"Boolean":case"Number":case"String":return s([c,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const h=[],m=s([u,h],a);for(const v of KD(a))(e||!yu(cl(a[v])))&&h.push([o(v),o(a[v])]);return m}case Dp:return s([u,a.toISOString()],a);case Lp:{const{source:h,flags:m}=a;return s([u,{source:h,flags:m}],a)}case Mp:{const h=[],m=s([u,h],a);for(const[v,g]of a)(e||!(yu(cl(v))||yu(cl(g))))&&h.push([o(v),o(g)]);return m}case $p:{const h=[],m=s([u,h],a);for(const v of a)(e||!yu(cl(v)))&&h.push(o(v));return m}}const{message:f}=a;return s([u,{name:c,message:f}],a)};return o},Fw=(e,{json:t,lossy:n}={})=>{const r=[];return GD(!(t||n),!!t,new Map,r)(e),r},Ku=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?$w(Fw(e,t)):structuredClone(e):(e,t)=>$w(Fw(e,t));function JD(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function QD(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function XD(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||JD,r=e.options.footnoteBackLabel||QD,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const h=e.all(f),m=String(f.identifier).toUpperCase(),v=xo(m.toLowerCase());let g=0;const x=[],k=e.footnoteCounts.get(m);for(;k!==void 0&&++g<=k;){x.length>0&&x.push({type:"text",value:" "});let N=typeof n=="string"?n:n(c,g);typeof N=="string"&&(N={type:"text",value:N}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,g),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const N=_.children[_.children.length-1];N&&N.type==="text"?N.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...x)}else h.push(...x);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(h,!0)};e.patch(f,C),u.push(C)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Ku(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Ec=(function(e){if(e==null)return n2;if(typeof e=="function")return _c(e);if(typeof e=="object")return Array.isArray(e)?ZD(e):e2(e);if(typeof e=="string")return t2(e);throw new Error("Expected function, string, or object as test")});function ZD(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ec(e[n]);return _c(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function e2(e){const t=e;return _c(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function t2(e){return _c(t);function t(n){return n&&n.type===e}}function _c(e){return t;function t(n,r,s){return!!(r2(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function n2(){return!0}function r2(e){return e!==null&&typeof e=="object"&&"type"in e}const ok=[],i2=!0,Wh=!1,s2="skip";function lk(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=Ec(s),a=r?-1:1;u(e,void 0,[])();function u(c,f,h){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const g=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return v;function v(){let g=ok,x,k,_;if((!t||o(c,f,h[h.length-1]||void 0))&&(g=o2(n(c,h)),g[0]===Wh))return g;if("children"in c&&c.children){const C=c;if(C.children&&g[0]!==s2)for(k=(r?C.children.length:-1)+a,_=h.concat(C);k>-1&&k<C.children.length;){const N=C.children[k];if(x=u(N,k,_)(),x[0]===Wh)return x;k=typeof x[1]=="number"?x[1]:k+a}}return g}}}function o2(e){return Array.isArray(e)?e:typeof e=="number"?[i2,e]:e==null?ok:[e]}function Fp(e,t,n,r){let s,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,s=n):(o=t,a=n,s=r),lk(e,o,u,s);function u(c,f){const h=f[f.length-1],m=h?h.children.indexOf(c):void 0;return a(c,m,h)}}const Hh={}.hasOwnProperty,l2={};function a2(e,t){const n=t||l2,r=new Map,s=new Map,o=new Map,a={...VD,...n.handlers},u={all:f,applyData:c2,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:a,one:c,options:n,patch:u2,wrap:f2};return Fp(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const m=h.type==="definition"?r:s,v=String(h.identifier).toUpperCase();m.has(v)||m.set(v,h)}}),u;function c(h,m){const v=h.type,g=u.handlers[v];if(Hh.call(u.handlers,v)&&g)return g(u,h,m);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in h){const{children:k,..._}=h,C=Ku(_);return C.children=u.all(h),C}return Ku(h)}return(u.options.unknownHandler||d2)(u,h,m)}function f(h){const m=[];if("children"in h){const v=h.children;let g=-1;for(;++g<v.length;){const x=u.one(v[g],h);if(x){if(g&&v[g-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=zw(x.value)),!Array.isArray(x)&&x.type==="element")){const k=x.children[0];k&&k.type==="text"&&(k.value=zw(k.value))}Array.isArray(x)?m.push(...x):m.push(x)}}}return m}}function u2(e,t){e.position&&(t.position=QP(e))}function c2(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,Ku(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function d2(e,t){const n=t.data||{},r="value"in t&&!(Hh.call(n,"hProperties")||Hh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function f2(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function zw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Uw(e,t){const n=a2(e,t),r=n.one(e,void 0),s=XD(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function h2(e,t){return e&&"run"in e?async function(n,r){const s=Uw(n,{file:r,...t});await e.run(s,r)}:function(n,r){return Uw(n,{file:r,...e||t})}}function Bw(e){if(e)throw e}var Uf,Ww;function p2(){if(Ww)return Uf;Ww=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!m)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},a=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return Uf=function c(){var f,h,m,v,g,x,k=arguments[0],_=1,C=arguments.length,N=!1;for(typeof k=="boolean"&&(N=k,k=arguments[1]||{},_=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});_<C;++_)if(f=arguments[_],f!=null)for(h in f)m=u(k,h),v=u(f,h),k!==v&&(N&&v&&(o(v)||(g=s(v)))?(g?(g=!1,x=m&&s(m)?m:[]):x=m&&o(m)?m:{},a(k,{name:h,newValue:c(N,x,v)})):typeof v<"u"&&a(k,{name:h,newValue:v}));return k},Uf}var m2=p2();const Bf=fo(m2);function Vh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function g2(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...s);function u(c,...f){const h=e[++o];let m=-1;if(c){a(c);return}for(;++m<s.length;)(f[m]===null||f[m]===void 0)&&(f[m]=s[m]);s=f,h?v2(h,u)(...f):a(null,...f)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function v2(e,t){let n;return r;function r(...a){const u=e.length>a.length;let c;u&&a.push(s);try{c=e.apply(this,a)}catch(f){const h=f;if(u&&n)throw h;return s(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(o,s):c instanceof Error?s(c):o(c))}function s(a,...u){n||(n=!0,t(a,...u))}function o(a){s(null,a)}}const vr={basename:y2,dirname:w2,extname:x2,join:b2,sep:"/"};function y2(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jl(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,u=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else a<0&&(o=!0,a=s+1),u>-1&&(e.codePointAt(s)===t.codePointAt(u--)?u<0&&(r=s):(u=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function w2(e){if(Jl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function x2(e){Jl(e);let t=e.length,n=-1,r=0,s=-1,o=0,a;for(;t--;){const u=e.codePointAt(t);if(u===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),u===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function b2(...e){let t=-1,n;for(;++t<e.length;)Jl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":k2(n)}function k2(e){Jl(e);const t=e.codePointAt(0)===47;let n=S2(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function S2(e,t){let n="",r=0,s=-1,o=0,a=-1,u,c;for(;++a<=e.length;){if(a<e.length)u=e.codePointAt(a);else{if(u===47)break;u=47}if(u===47){if(!(s===a-1||o===1))if(s!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),s=a,o=0;continue}}else if(n.length>0){n="",r=0,s=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,o=0}else u===46&&o>-1?o++:o=-1}return n}function Jl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const E2={cwd:_2};function _2(){return"/"}function qh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function C2(e){if(typeof e=="string")e=new URL(e);else if(!qh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return j2(e)}function j2(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Wf=["history","path","basename","stem","extname","dirname"];class ak{constructor(t){let n;t?qh(t)?n={path:t}:typeof t=="string"||T2(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":E2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Wf.length;){const o=Wf[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Wf.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?vr.basename(this.path):void 0}set basename(t){Vf(t,"basename"),Hf(t,"basename"),this.path=vr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?vr.dirname(this.path):void 0}set dirname(t){Hw(this.basename,"dirname"),this.path=vr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?vr.extname(this.path):void 0}set extname(t){if(Hf(t,"extname"),Hw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){qh(t)&&(t=C2(t)),Vf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?vr.basename(this.path,this.extname):void 0}set stem(t){Vf(t,"stem"),Hf(t,"stem"),this.path=vr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Ht(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Hf(e,t){if(e&&e.includes(vr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vr.sep+"`")}function Vf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Hw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function T2(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const I2=(function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),N2={}.hasOwnProperty;class zp extends I2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=g2()}copy(){const t=new zp;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Bf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Kf("data",this.frozen),this.namespace[t]=n,this):N2.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Kf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=wu(t),r=this.parser||this.Parser;return qf("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),qf("process",this.parser||this.Parser),Yf("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,a){const u=wu(t),c=r.parse(u);r.run(c,u,function(h,m,v){if(h||!m||!v)return f(h);const g=m,x=r.stringify(g,v);A2(x)?v.value=x:v.result=x,f(h,v)});function f(h,m){h||!m?a(h):o?o(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),qf("processSync",this.parser||this.Parser),Yf("processSync",this.compiler||this.Compiler),this.process(t,s),qw("processSync","process",n),r;function s(o,a){n=!0,Bw(o),r=a}}run(t,n,r){Vw(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,u){const c=wu(n);s.run(t,c,f);function f(h,m,v){const g=m||t;h?u(h):a?a(g):r(void 0,g,v)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),qw("runSync","run",r),s;function o(a,u){Bw(a),s=u,r=!0}}stringify(t,n){this.freeze();const r=wu(n),s=this.compiler||this.Compiler;return Yf("stringify",s),Vw(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Kf("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...m]=f;c(h,m)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(s.settings=Bf(!0,s.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const m=f[h];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let m=-1,v=-1;for(;++m<r.length;)if(r[m][0]===f){v=m;break}if(v===-1)r.push([f,...h]);else if(h.length>0){let[g,...x]=h;const k=r[v][1];Vh(k)&&Vh(g)&&(g=Bf(!0,k,g)),r[v]=[f,g,...x]}}}}const R2=new zp().freeze();function qf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Yf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Kf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Vw(e){if(!Vh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function qw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function wu(e){return P2(e)?e:new ak(e)}function P2(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function A2(e){return typeof e=="string"||O2(e)}function O2(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const D2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Yw=[],Kw={allowDangerousHtml:!0},L2=/^(https?|ircs?|mailto|xmpp)$/i,M2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $2(e){const t=F2(e),n=z2(e);return U2(t.runSync(t.parse(n),n),e)}function F2(e){const t=e.rehypePlugins||Yw,n=e.remarkPlugins||Yw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Kw}:Kw;return R2().use(wD).use(n).use(h2,r).use(t)}function z2(e){const t=e.children||"",n=new ak;return typeof t=="string"&&(n.value=t),n}function U2(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,a=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||B2;for(const h of M2)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+D2+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Fp(e,f),nA(e,{Fragment:b.Fragment,components:s,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function f(h,m,v){if(h.type==="raw"&&v&&typeof m=="number")return a?v.children.splice(m,1):v.children[m]={type:"text",value:h.value},m;if(h.type==="element"){let g;for(g in $f)if(Object.hasOwn($f,g)&&Object.hasOwn(h.properties,g)){const x=h.properties[g],k=$f[g];(k===null||k.includes(h.tagName))&&(h.properties[g]=c(String(x||""),g,h))}}if(h.type==="element"){let g=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!g&&r&&typeof m=="number"&&(g=!r(h,m,v)),g&&v&&typeof m=="number")return u&&h.children?v.children.splice(m,1,...h.children):v.children.splice(m,1),m}}}function B2(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||L2.test(e.slice(0,t))?e:""}function Gw(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function W2(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function H2(e,t,n){const s=Ec((n||{}).ignore||[]),o=V2(t);let a=-1;for(;++a<o.length;)lk(e,"text",u);function u(f,h){let m=-1,v;for(;++m<h.length;){const g=h[m],x=v?v.children:void 0;if(s(g,x?x.indexOf(g):void 0,v))return;v=g}if(v)return c(f,h)}function c(f,h){const m=h[h.length-1],v=o[a][0],g=o[a][1];let x=0;const _=m.children.indexOf(f);let C=!1,N=[];v.lastIndex=0;let I=v.exec(f.value);for(;I;){const F=I.index,H={index:I.index,input:I.input,stack:[...h,f]};let A=g(...I,H);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?v.lastIndex=F+1:(x!==F&&N.push({type:"text",value:f.value.slice(x,F)}),Array.isArray(A)?N.push(...A):A&&N.push(A),x=F+I[0].length,C=!0),!v.global)break;I=v.exec(f.value)}return C?(x<f.value.length&&N.push({type:"text",value:f.value.slice(x)}),m.children.splice(_,1,...N)):N=[f],_+N.length}}function V2(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([q2(s[0]),Y2(s[1])])}return t}function q2(e){return typeof e=="string"?new RegExp(W2(e),"g"):e}function Y2(e){return typeof e=="function"?e:function(){return e}}const Gf="phrasing",Jf=["autolink","link","image","label"];function K2(){return{transforms:[tL],enter:{literalAutolink:J2,literalAutolinkEmail:Qf,literalAutolinkHttp:Qf,literalAutolinkWww:Qf},exit:{literalAutolink:eL,literalAutolinkEmail:Z2,literalAutolinkHttp:Q2,literalAutolinkWww:X2}}}function G2(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Gf,notInConstruct:Jf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Gf,notInConstruct:Jf},{character:":",before:"[ps]",after:"\\/",inConstruct:Gf,notInConstruct:Jf}]}}function J2(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Qf(e){this.config.enter.autolinkProtocol.call(this,e)}function Q2(e){this.config.exit.autolinkProtocol.call(this,e)}function X2(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Z2(e){this.config.exit.autolinkEmail.call(this,e)}function eL(e){this.exit(e)}function tL(e){H2(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,nL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),rL]],{ignore:["link","linkReference"]})}function nL(e,t,n,r,s){let o="";if(!uk(s)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!iL(n)))return!1;const a=sL(n+r);if(!a[0])return!1;const u={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[u,{type:"text",value:a[1]}]:u}function rL(e,t,n,r){return!uk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function iL(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function sL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=Gw(e,"(");let o=Gw(e,")");for(;r!==-1&&s>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function uk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||os(n)||bc(n))&&(!t||n!==47)}ck.peek=pL;function oL(){this.buffer()}function lL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function aL(){this.buffer()}function uL(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function cL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=nr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function dL(e){this.exit(e)}function fL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=nr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function hL(e){this.exit(e)}function pL(){return"["}function ck(e,t,n,r){const s=n.createTracker(r);let o=s.move("[^");const a=n.enter("footnoteReference"),u=n.enter("reference");return o+=s.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),a(),o+=s.move("]"),o}function mL(){return{enter:{gfmFootnoteCallString:oL,gfmFootnoteCall:lL,gfmFootnoteDefinitionLabelString:aL,gfmFootnoteDefinition:uL},exit:{gfmFootnoteCallString:cL,gfmFootnoteCall:dL,gfmFootnoteDefinitionLabelString:fL,gfmFootnoteDefinition:hL}}}function gL(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:ck},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,o,a){const u=o.createTracker(a);let c=u.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return c+=u.move(o.safe(o.associationId(r),{before:c,after:"]"})),h(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?dk:vL))),f(),c}}function vL(e,t,n){return t===0?e:dk(e,t,n)}function dk(e,t,n){return(n?"":"    ")+e}const yL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];fk.peek=SL;function wL(){return{canContainEols:["delete"],enter:{strikethrough:bL},exit:{strikethrough:kL}}}function xL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:yL}],handlers:{delete:fk}}}function bL(e){this.enter({type:"delete",children:[]},e)}function kL(e){this.exit(e)}function fk(e,t,n,r){const s=n.createTracker(r),o=n.enter("strikethrough");let a=s.move("~~");return a+=n.containerPhrasing(e,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),o(),a}function SL(){return"~"}function EL(e){return e.length}function _L(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||EL,o=[],a=[],u=[],c=[];let f=0,h=-1;for(;++h<e.length;){const k=[],_=[];let C=-1;for(e[h].length>f&&(f=e[h].length);++C<e[h].length;){const N=CL(e[h][C]);if(n.alignDelimiters!==!1){const I=s(N);_[C]=I,(c[C]===void 0||I>c[C])&&(c[C]=I)}k.push(N)}a[h]=k,u[h]=_}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<f;)o[m]=Jw(r[m]);else{const k=Jw(r);for(;++m<f;)o[m]=k}m=-1;const v=[],g=[];for(;++m<f;){const k=o[m];let _="",C="";k===99?(_=":",C=":"):k===108?_=":":k===114&&(C=":");let N=n.alignDelimiters===!1?1:Math.max(1,c[m]-_.length-C.length);const I=_+"-".repeat(N)+C;n.alignDelimiters!==!1&&(N=_.length+N+C.length,N>c[m]&&(c[m]=N),g[m]=N),v[m]=I}a.splice(1,0,v),u.splice(1,0,g),h=-1;const x=[];for(;++h<a.length;){const k=a[h],_=u[h];m=-1;const C=[];for(;++m<f;){const N=k[m]||"";let I="",F="";if(n.alignDelimiters!==!1){const H=c[m]-(_[m]||0),A=o[m];A===114?I=" ".repeat(H):A===99?H%2?(I=" ".repeat(H/2+.5),F=" ".repeat(H/2-.5)):(I=" ".repeat(H/2),F=I):F=" ".repeat(H)}n.delimiterStart!==!1&&!m&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||m)&&C.push(" "),n.alignDelimiters!==!1&&C.push(I),C.push(N),n.alignDelimiters!==!1&&C.push(F),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||m!==f-1)&&C.push("|")}x.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return x.join(`
`)}function CL(e){return e==null?"":String(e)}function Jw(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function jL(e,t,n,r){const s=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),TL);return s(),a}function TL(e,t,n){return">"+(n?"":" ")+e}function IL(e,t){return Qw(e,t.inConstruct,!0)&&!Qw(e,t.notInConstruct,!1)}function Qw(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Xw(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&IL(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function NL(e,t){const n=String(e);let r=n.indexOf(t),s=r,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++o>a&&(a=o):o=1,s=r+t.length,r=n.indexOf(t,s);return a}function RL(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function PL(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function AL(e,t,n,r){const s=PL(n),o=e.value||"",a=s==="`"?"GraveAccent":"Tilde";if(RL(e,n)){const m=n.enter("codeIndented"),v=n.indentLines(o,OL);return m(),v}const u=n.createTracker(r),c=s.repeat(Math.max(NL(o,s)+1,3)),f=n.enter("codeFenced");let h=u.move(c);if(e.lang){const m=n.enter(`codeFencedLang${a}`);h+=u.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...u.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${a}`);h+=u.move(" "),h+=u.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...u.current()})),m()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(c),f(),h}function OL(e,t,n){return(n?"":"    ")+e}function Up(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function DL(e,t,n,r){const s=Up(n),o=s==='"'?"Quote":"Apostrophe",a=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("[");return f+=c.move(n.safe(n.associationId(e),{before:f,after:"]",...c.current()})),f+=c.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+s),f+=c.move(n.safe(e.title,{before:f,after:s,...c.current()})),f+=c.move(s),u()),a(),f}function LL(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ll(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Gu(e,t,n){const r=co(e),s=co(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}hk.peek=ML;function hk(e,t,n,r){const s=LL(n),o=n.enter("emphasis"),a=n.createTracker(r),u=a.move(s);let c=a.move(n.containerPhrasing(e,{after:s,before:u,...a.current()}));const f=c.charCodeAt(0),h=Gu(r.before.charCodeAt(r.before.length-1),f,s);h.inside&&(c=Ll(f)+c.slice(1));const m=c.charCodeAt(c.length-1),v=Gu(r.after.charCodeAt(0),m,s);v.inside&&(c=c.slice(0,-1)+Ll(m));const g=a.move(s);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+g}function ML(e,t,n){return n.options.emphasis||"*"}function $L(e,t){let n=!1;return Fp(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Wh}),!!((!e.depth||e.depth<3)&&Pp(e)&&(t.options.setext||n))}function FL(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if($L(e,n)){const h=n.enter("headingSetext"),m=n.enter("phrasing"),v=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return m(),h(),v+`
`+(s===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const a="#".repeat(s),u=n.enter("headingAtx"),c=n.enter("phrasing");o.move(a+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Ll(f.charCodeAt(0))+f.slice(1)),f=f?a+" "+f:a,n.options.closeAtx&&(f+=" "+a),c(),u(),f}pk.peek=zL;function pk(e){return e.value||""}function zL(){return"<"}mk.peek=UL;function mk(e,t,n,r){const s=Up(n),o=s==='"'?"Quote":"Apostrophe",a=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("![");return f+=c.move(n.safe(e.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":")",...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+s),f+=c.move(n.safe(e.title,{before:f,after:s,...c.current()})),f+=c.move(s),u()),f+=c.move(")"),a(),f}function UL(){return"!"}gk.peek=BL;function gk(e,t,n,r){const s=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const f=n.safe(e.alt,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return a(),n.stack=h,o(),s==="full"||!f||f!==m?c+=u.move(m+"]"):s==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function BL(){return"!"}vk.peek=WL;function vk(e,t,n){let r=e.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],u=n.compilePattern(a);let c;if(a.atBreak)for(;c=u.exec(r);){let f=c.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(c.index+1)}}return s+r+s}function WL(){return"`"}function yk(e,t){const n=Pp(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}wk.peek=HL;function wk(e,t,n,r){const s=Up(n),o=s==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let u,c;if(yk(e,n)){const h=n.stack;n.stack=[],u=n.enter("autolink");let m=a.move("<");return m+=a.move(n.containerPhrasing(e,{before:m,after:">",...a.current()})),m+=a.move(">"),u(),n.stack=h,m}u=n.enter("link"),c=n.enter("label");let f=a.move("[");return f+=a.move(n.containerPhrasing(e,{before:f,after:"](",...a.current()})),f+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=a.move("<"),f+=a.move(n.safe(e.url,{before:f,after:">",...a.current()})),f+=a.move(">")):(c=n.enter("destinationRaw"),f+=a.move(n.safe(e.url,{before:f,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${o}`),f+=a.move(" "+s),f+=a.move(n.safe(e.title,{before:f,after:s,...a.current()})),f+=a.move(s),c()),f+=a.move(")"),u(),f}function HL(e,t,n){return yk(e,n)?"<":"["}xk.peek=VL;function xk(e,t,n,r){const s=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const f=n.containerPhrasing(e,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return a(),n.stack=h,o(),s==="full"||!f||f!==m?c+=u.move(m+"]"):s==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function VL(){return"["}function Bp(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function qL(e){const t=Bp(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function YL(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function bk(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function KL(e,t,n,r){const s=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?YL(n):Bp(n);const u=e.ordered?a==="."?")":".":qL(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),bk(n)===a&&h){let m=-1;for(;++m<e.children.length;){const v=e.children[m];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=u),n.bulletCurrent=a;const f=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,s(),f}function GL(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function JL(e,t,n,r){const s=GL(n);let o=n.bulletCurrent||Bp(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(a-o.length)),u.shift(a);const c=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),h);return c(),f;function h(m,v,g){return v?(g?"":" ".repeat(a))+m:(g?o:o+" ".repeat(a-o.length))+m}}function QL(e,t,n,r){const s=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),s(),a}const XL=Ec(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ZL(e,t,n,r){return(e.children.some(function(a){return XL(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function eM(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}kk.peek=tM;function kk(e,t,n,r){const s=eM(n),o=n.enter("strong"),a=n.createTracker(r),u=a.move(s+s);let c=a.move(n.containerPhrasing(e,{after:s,before:u,...a.current()}));const f=c.charCodeAt(0),h=Gu(r.before.charCodeAt(r.before.length-1),f,s);h.inside&&(c=Ll(f)+c.slice(1));const m=c.charCodeAt(c.length-1),v=Gu(r.after.charCodeAt(0),m,s);v.inside&&(c=c.slice(0,-1)+Ll(m));const g=a.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+g}function tM(e,t,n){return n.options.strong||"*"}function nM(e,t,n,r){return n.safe(e.value,r)}function rM(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function iM(e,t,n){const r=(bk(n)+(n.options.ruleSpaces?" ":"")).repeat(rM(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Sk={blockquote:jL,break:Xw,code:AL,definition:DL,emphasis:hk,hardBreak:Xw,heading:FL,html:pk,image:mk,imageReference:gk,inlineCode:vk,link:wk,linkReference:xk,list:KL,listItem:JL,paragraph:QL,root:ZL,strong:kk,text:nM,thematicBreak:iM};function sM(){return{enter:{table:oM,tableData:Zw,tableHeader:Zw,tableRow:aM},exit:{codeText:uM,table:lM,tableData:Xf,tableHeader:Xf,tableRow:Xf}}}function oM(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function lM(e){this.exit(e),this.data.inTable=void 0}function aM(e){this.enter({type:"tableRow",children:[]},e)}function Xf(e){this.exit(e)}function Zw(e){this.enter({type:"tableCell",children:[]},e)}function uM(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,cM));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function cM(e,t){return t==="|"?t:e}function dM(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:a,tableCell:c,tableRow:u}};function a(g,x,k,_){return f(h(g,k,_),g.align)}function u(g,x,k,_){const C=m(g,k,_),N=f([C]);return N.slice(0,N.indexOf(`
`))}function c(g,x,k,_){const C=k.enter("tableCell"),N=k.enter("phrasing"),I=k.containerPhrasing(g,{..._,before:o,after:o});return N(),C(),I}function f(g,x){return _L(g,{align:x,alignDelimiters:r,padding:n,stringLength:s})}function h(g,x,k){const _=g.children;let C=-1;const N=[],I=x.enter("table");for(;++C<_.length;)N[C]=m(_[C],x,k);return I(),N}function m(g,x,k){const _=g.children;let C=-1;const N=[],I=x.enter("tableRow");for(;++C<_.length;)N[C]=c(_[C],g,x,k);return I(),N}function v(g,x,k){let _=Sk.inlineCode(g,x,k);return k.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function fM(){return{exit:{taskListCheckValueChecked:e0,taskListCheckValueUnchecked:e0,paragraph:pM}}}function hM(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:mM}}}function e0(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function pM(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let o=-1,a;for(;++o<s.length;){const u=s[o];if(u.type==="paragraph"){a=u;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function mM(e,t,n,r){const s=e.children[0],o=typeof e.checked=="boolean"&&s&&s.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(a);let c=Sk.listItem(e,t,n,{...r,...u.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(h){return h+a}}function gM(){return[K2(),mL(),wL(),sM(),fM()]}function vM(e){return{extensions:[G2(),gL(e),xL(),dM(e),hM()]}}const yM={tokenize:EM,partial:!0},Ek={tokenize:_M,partial:!0},_k={tokenize:CM,partial:!0},Ck={tokenize:jM,partial:!0},wM={tokenize:TM,partial:!0},jk={name:"wwwAutolink",tokenize:kM,previous:Ik},Tk={name:"protocolAutolink",tokenize:SM,previous:Nk},Hr={name:"emailAutolink",tokenize:bM,previous:Rk},Cr={};function xM(){return{text:Cr}}let Yi=48;for(;Yi<123;)Cr[Yi]=Hr,Yi++,Yi===58?Yi=65:Yi===91&&(Yi=97);Cr[43]=Hr;Cr[45]=Hr;Cr[46]=Hr;Cr[95]=Hr;Cr[72]=[Hr,Tk];Cr[104]=[Hr,Tk];Cr[87]=[Hr,jk];Cr[119]=[Hr,jk];function bM(e,t,n){const r=this;let s,o;return a;function a(m){return!Yh(m)||!Rk.call(r,r.previous)||Wp(r.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(m))}function u(m){return Yh(m)?(e.consume(m),u):m===64?(e.consume(m),c):n(m)}function c(m){return m===46?e.check(wM,h,f)(m):m===45||m===95||Wt(m)?(o=!0,e.consume(m),c):h(m)}function f(m){return e.consume(m),s=!0,c}function h(m){return o&&s&&Gt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function kM(e,t,n){const r=this;return s;function s(a){return a!==87&&a!==119||!Ik.call(r,r.previous)||Wp(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(yM,e.attempt(Ek,e.attempt(_k,o),n),n)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function SM(e,t,n){const r=this;let s="",o=!1;return a;function a(m){return(m===72||m===104)&&Nk.call(r,r.previous)&&!Wp(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(m),e.consume(m),u):n(m)}function u(m){if(Gt(m)&&s.length<5)return s+=String.fromCodePoint(m),e.consume(m),u;if(m===58){const v=s.toLowerCase();if(v==="http"||v==="https")return e.consume(m),c}return n(m)}function c(m){return m===47?(e.consume(m),o?f:(o=!0,c)):n(m)}function f(m){return m===null||qu(m)||Ve(m)||os(m)||bc(m)?n(m):e.attempt(Ek,e.attempt(_k,h),n)(m)}function h(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function EM(e,t,n){let r=0;return s;function s(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),s):a===46&&r===3?(e.consume(a),o):n(a)}function o(a){return a===null?n(a):t(a)}}function _M(e,t,n){let r,s,o;return a;function a(f){return f===46||f===95?e.check(Ck,c,u)(f):f===null||Ve(f)||os(f)||f!==45&&bc(f)?c(f):(o=!0,e.consume(f),a)}function u(f){return f===95?r=!0:(s=r,r=void 0),e.consume(f),a}function c(f){return s||r||!o?n(f):t(f)}}function CM(e,t){let n=0,r=0;return s;function s(a){return a===40?(n++,e.consume(a),s):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(Ck,t,o)(a):a===null||Ve(a)||os(a)?t(a):(e.consume(a),s)}function o(a){return a===41&&r++,e.consume(a),s}}function jM(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),s):u===60||u===null||Ve(u)||os(u)?t(u):n(u)}function s(u){return u===null||u===40||u===91||Ve(u)||os(u)?t(u):r(u)}function o(u){return Gt(u)?a(u):n(u)}function a(u){return u===59?(e.consume(u),r):Gt(u)?(e.consume(u),a):n(u)}}function TM(e,t,n){return r;function r(o){return e.consume(o),s}function s(o){return Wt(o)?n(o):t(o)}}function Ik(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ve(e)}function Nk(e){return!Gt(e)}function Rk(e){return!(e===47||Yh(e))}function Yh(e){return e===43||e===45||e===46||e===95||Wt(e)}function Wp(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const IM={tokenize:MM,partial:!0};function NM(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:OM,continuation:{tokenize:DM},exit:LM}},text:{91:{name:"gfmFootnoteCall",tokenize:AM},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:RM,resolveTo:PM}}}}function RM(e,t,n){const r=this;let s=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;s--;){const c=r.events[s][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!a||!a._balanced)return n(c);const f=nr(r.sliceSerialize({start:a.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function PM(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function AM(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return u;function u(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),c}function c(m){return m!==94?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(m){if(o>999||m===93&&!a||m===null||m===91||Ve(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return s.includes(nr(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return Ve(m)||(a=!0),o++,e.consume(m),m===92?h:f}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function OM(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,u;return c;function c(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(x)}function h(x){if(a>999||x===93&&!u||x===null||x===91||Ve(x))return n(x);if(x===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return o=nr(r.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Ve(x)||(u=!0),a++,e.consume(x),x===92?m:h}function m(x){return x===91||x===92||x===93?(e.consume(x),a++,h):h(x)}function v(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),s.includes(o)||s.push(o),Le(e,g,"gfmFootnoteDefinitionWhitespace")):n(x)}function g(x){return t(x)}}function DM(e,t,n){return e.check(Gl,t,e.attempt(IM,t,n))}function LM(e){e.exit("gfmFootnoteDefinition")}function MM(e,t,n){const r=this;return Le(e,s,"gfmFootnoteDefinitionIndent",5);function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(o):n(o)}}function $M(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(a,u){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let f=c;for(;f--;)if(a[f][0]==="exit"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[f][1].end.offset-a[f][1].start.offset){a[c][1].type="strikethroughSequence",a[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[f][1].start),end:Object.assign({},a[c][1].end)},m={type:"strikethroughText",start:Object.assign({},a[f][1].end),end:Object.assign({},a[c][1].start)},v=[["enter",h,u],["enter",a[f][1],u],["exit",a[f][1],u],["enter",m,u]],g=u.parser.constructs.insideSpan.null;g&&En(v,v.length,0,kc(g,a.slice(f+1,c),u)),En(v,v.length,0,[["exit",m,u],["enter",a[c][1],u],["exit",a[c][1],u],["exit",h,u]]),En(a,f-1,c-f+3,v),c=f+v.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function o(a,u,c){const f=this.previous,h=this.events;let m=0;return v;function v(x){return f===126&&h[h.length-1][1].type!=="characterEscape"?c(x):(a.enter("strikethroughSequenceTemporary"),g(x))}function g(x){const k=co(f);if(x===126)return m>1?c(x):(a.consume(x),m++,g);if(m<2&&!n)return c(x);const _=a.exit("strikethroughSequenceTemporary"),C=co(x);return _._open=!C||C===2&&!!k,_._close=!k||k===2&&!!C,u(x)}}}class FM{constructor(){this.map=[]}add(t,n,r){zM(this,t,n,r)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const o of s)t.push(o);s=r.pop()}this.map.length=0}}function zM(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function UM(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function BM(){return{flow:{null:{name:"table",tokenize:WM,resolveAll:HM}}}}function WM(e,t,n){const r=this;let s=0,o=0,a;return u;function u(D){let M=r.events.length-1;for(;M>-1;){const O=r.events[M][1].type;if(O==="lineEnding"||O==="linePrefix")M--;else break}const X=M>-1?r.events[M][1].type:null,K=X==="tableHead"||X==="tableRow"?A:c;return K===A&&r.parser.lazy[r.now().line]?n(D):K(D)}function c(D){return e.enter("tableHead"),e.enter("tableRow"),f(D)}function f(D){return D===124||(a=!0,o+=1),h(D)}function h(D){return D===null?n(D):_e(D)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),g):n(D):Ae(D)?Le(e,h,"whitespace")(D):(o+=1,a&&(a=!1,s+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),a=!0,h):(e.enter("data"),m(D)))}function m(D){return D===null||D===124||Ve(D)?(e.exit("data"),h(D)):(e.consume(D),D===92?v:m)}function v(D){return D===92||D===124?(e.consume(D),m):m(D)}function g(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),a=!1,Ae(D)?Le(e,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):x(D))}function x(D){return D===45||D===58?_(D):D===124?(a=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),k):H(D)}function k(D){return Ae(D)?Le(e,_,"whitespace")(D):_(D)}function _(D){return D===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),C):D===45?(o+=1,C(D)):D===null||_e(D)?F(D):H(D)}function C(D){return D===45?(e.enter("tableDelimiterFiller"),N(D)):H(D)}function N(D){return D===45?(e.consume(D),N):D===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),I):(e.exit("tableDelimiterFiller"),I(D))}function I(D){return Ae(D)?Le(e,F,"whitespace")(D):F(D)}function F(D){return D===124?x(D):D===null||_e(D)?!a||s!==o?H(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):H(D)}function H(D){return n(D)}function A(D){return e.enter("tableRow"),Y(D)}function Y(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),Y):D===null||_e(D)?(e.exit("tableRow"),t(D)):Ae(D)?Le(e,Y,"whitespace")(D):(e.enter("data"),ee(D))}function ee(D){return D===null||D===124||Ve(D)?(e.exit("data"),Y(D)):(e.consume(D),D===92?ie:ee)}function ie(D){return D===92||D===124?(e.consume(D),ee):ee(D)}}function HM(e,t){let n=-1,r=!0,s=0,o=[0,0,0,0],a=[0,0,0,0],u=!1,c=0,f,h,m;const v=new FM;for(;++n<e.length;){const g=e[n],x=g[1];g[0]==="enter"?x.type==="tableHead"?(u=!1,c!==0&&(t0(v,t,c,f,h),h=void 0,c=0),f={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},v.add(n,0,[["enter",f,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,m=void 0,o=[0,0,0,0],a=[0,n+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},v.add(n,0,[["enter",h,t]])),s=x.type==="tableDelimiterRow"?2:h?3:1):s&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],m=xu(v,t,o,s,void 0,m),o=[0,0,0,0]),a[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],m=xu(v,t,o,s,void 0,m)),o=a,a=[o[1],n,0,0])):x.type==="tableHead"?(u=!0,c=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(c=n,o[1]!==0?(a[0]=a[1],m=xu(v,t,o,s,n,m)):a[1]!==0&&(m=xu(v,t,a,s,n,m)),s=0):s&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&t0(v,t,c,f,h),v.consume(t.events),n=-1;++n<t.events.length;){const g=t.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=UM(t.events,n))}return e}function xu(e,t,n,r,s,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},Xs(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=Xs(t.events,n[1]);if(o={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=Xs(t.events,n[2]),h=Xs(t.events,n[3]),m={type:u,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",m,t]]),r!==2){const v=t.events[n[2]],g=t.events[n[3]];if(v[1].end=Object.assign({},g[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,k=n[3]-n[2]-1;e.add(x,k,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return s!==void 0&&(o.end=Object.assign({},Xs(t.events,s)),e.add(s,0,[["exit",o,t]]),o=void 0),o}function t0(e,t,n,r,s){const o=[],a=Xs(t.events,n);s&&(s.end=Object.assign({},a),o.push(["exit",s,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function Xs(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const VM={name:"tasklistCheck",tokenize:YM};function qM(){return{text:{91:VM}}}function YM(e,t,n){const r=this;return s;function s(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return Ve(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(c)}function u(c){return _e(c)?t(c):Ae(c)?e.check({tokenize:KM},t,n)(c):n(c)}}function KM(e,t,n){return Le(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function GM(e){return Bb([xM(),NM(),$M(e),BM(),qM()])}const JM={};function QM(e){const t=this,n=e||JM,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(GM(n)),o.push(gM()),a.push(vM(n))}const XM={a:e=>b.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:"_blank",rel:"noreferrer"})};function Ml({content:e}){return e?b.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:b.jsx($2,{remarkPlugins:[QM],components:XM,children:e})}):null}function n0(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\d+(\.\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\d+:)+\d+$/.test(t)){const r=t.split(":").map(s=>Number(s));return r.some(s=>Number.isNaN(s))?null:r.reduce((s,o)=>s*60+o,0)}const n=t.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,s=n[2]?Number(n[2]):0,o=n[3]?Number(n[3]):0;if(r||s||o)return r*3600+s*60+o}return null}function ZM(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const s=new URL(`https://www.youtube-nocookie.com/embed/${r}`),o=n0(t.searchParams.get("start")??t.searchParams.get("t"));o!==null&&s.searchParams.set("start",String(o));const a=n0(t.searchParams.get("end"));a!==null&&s.searchParams.set("end",String(a));const u=t.searchParams.get("list");return u&&s.searchParams.set("list",u),s.toString()}catch{return null}}function Hp({url:e,title:t,maxWidth:n=300,className:r}){const s=e.trim();if(!s)return null;const o=ZM(s);return o?b.jsx("div",{className:We("flex w-full justify-center",r),children:b.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:b.jsx("iframe",{src:o,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):b.jsx("div",{className:We("flex w-full justify-center",r),children:b.jsx("a",{href:s,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function Ju(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return Ju(t,t);const s=Number(r[1]),o=Number(r[2]);return Number.isNaN(s)||Number.isNaN(o)?Ju(t,t):(s*60+o)%1440}function Kh(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,s=n.toString().padStart(2,"0"),o=r.toString().padStart(2,"0");return`${s}:${o}`}const e$={present:"Presente",absent:"Ausente",pending:"Pendiente"},t$={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},n$=["present","absent"],r$={present:"Han venido",absent:"Faltan"},i$={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},s$="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",o$="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",l$="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",a$="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",u$="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",c$="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",d$=[];function f$(e){return Be(e).locale("es").format("dddd, D [de] MMMM")}function h$(){const e=Ne($=>$.sessions),t=Ne($=>$.works),n=Ne($=>$.objectives),r=Ne($=>$.assistants),s=Ne($=>$.setAttendanceActualStatus),o=Ne($=>$.toggleSessionWorkCompletion),[a,u]=S.useState(new Set),c=S.useMemo(()=>[...e].sort(($,U)=>Be($.date).valueOf()-Be(U.date).valueOf()),[e]),f=Be().format("YYYY-MM-DD"),h=S.useMemo(()=>c.find($=>$.date>=f)??c[c.length-1],[c,f]),[m,v]=S.useState(h==null?void 0:h.id);S.useEffect(()=>{!m&&h&&v(h.id)},[m,h]);const g=S.useMemo(()=>c.find($=>$.id===m)??h,[c,m,h]),x=S.useMemo(()=>new Map(n.map(U=>[U.id,U])),[n]),k=S.useMemo(()=>new Map(t.map(U=>[U.id,U])),[t]),_=S.useMemo(()=>Ju(g==null?void 0:g.startTime,"18:30"),[g==null?void 0:g.startTime]),C=S.useMemo(()=>{if(!g)return new Map;let $=0;const U=new Map;return g.workItems.forEach(P=>{const q=k.get(P.workId),E=P.customDurationMinutes??(q==null?void 0:q.estimatedMinutes)??0,R=Kh(_+$);U.set(P.id,{startLabel:R,duration:E}),$+=E}),U},[g,k,_]),N=S.useMemo(()=>r.filter($=>$.active).slice().sort(($,U)=>$.name.localeCompare(U.name,"es",{sensitivity:"base"})),[r]),I=(g==null?void 0:g.attendance)??d$,F=S.useMemo(()=>{const $=new Map;I.forEach(q=>{$.set(q.assistantId,q)});let U=0;N.forEach(q=>{var E;((E=$.get(q.id))==null?void 0:E.actualStatus)==="present"&&(U+=1)});const P={present:U,absent:Math.max(N.length-U,0)};return{map:$,summary:P}},[I,N]),H=F.map,A=F.summary,Y=g?c.findIndex($=>$.id===g.id):-1,ee=Y>0,ie=Y>=0&&Y<c.length-1,D=()=>{ee&&v(c[Y-1].id)},M=()=>{ie&&v(c[Y+1].id)},X=$=>{const U=$.target.value;if(!U)return;const P=c.find(q=>q.date===U);P&&v(P.id)},K=c.length===0,O=$=>{u(U=>{const P=new Set(U);return P.has($)?P.delete($):P.add($),P})},B=($,U)=>{g&&s(g.id,$,U)};return b.jsxs("div",{className:"space-y-3 sm:space-y-6",children:[K&&b.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[b.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:b.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:b.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-semibold",children:"Todavía no hay sesiones"}),b.jsx("p",{className:"max-w-md text-balance text-white/60",children:"Usa el planificador para crear tu primera sesión. Una vez guardada aparecerá aquí automáticamente."})]}),b.jsx(Gs,{to:"/plan",className:"btn-primary",children:"Planificar sesión"})]}),g&&!K&&b.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[b.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[b.jsx("span",{className:"sm:hidden",children:"Sesión"}),b.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),b.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:f$(g.date)}),b.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:g.title})]}),b.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[b.jsxs("div",{className:"flex items-center justify-between gap-4",children:[b.jsx("p",{className:"font-semibold text-white",children:"Duración estimada"}),b.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[g.workItems.map($=>{const U=k.get($.workId);return $.customDurationMinutes??(U==null?void 0:U.estimatedMinutes)??0}).reduce(($,U)=>$+U,0)||0," ","min"]})]}),b.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[b.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),b.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:(g==null?void 0:g.date)??f,onChange:X})]})]})]}),b.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsx("button",{type:"button",onClick:D,disabled:!ee,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"← Anterior"}),b.jsx("button",{type:"button",onClick:M,disabled:!ie,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente →"})]}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsx(Gs,{to:"/plan",className:"btn-primary h-9 rounded-2xl px-4 text-xs font-semibold sm:h-10 sm:text-sm",children:"Abrir planificador"}),b.jsx(Gs,{to:`/plan?session=${g.id}`,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",children:"Editar sesión"})]})]}),g.description&&b.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:b.jsx(Ml,{content:g.description})}),b.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[b.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),b.jsx("div",{className:"space-y-3 sm:space-y-4",children:g.workItems.map($=>{const U=k.get($.workId),P=U?x.get(U.objectiveId):void 0,q=a.has($.id),E=C.get($.id),R=(E==null?void 0:E.startLabel)??Kh(_),L=(E==null?void 0:E.duration)??$.customDurationMinutes??(U==null?void 0:U.estimatedMinutes)??0,j=($.focusLabel??"").trim(),J=j.length>0,te=$.customDescriptionMarkdown??(U==null?void 0:U.descriptionMarkdown)??"",ne=te.trim().length>0,fe=((U==null?void 0:U.videoUrls)??[]).map(de=>de.trim()).filter(Boolean),he=fe.length>0,me=ne||he;return b.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:P?{background:`linear-gradient(120deg, ${P.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:b.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:$.completed??!1,onChange:de=>o(g.id,$.id,de.target.checked)})}),b.jsxs("div",{className:"flex-1 space-y-2",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"text-lg font-semibold text-white",children:[(U==null?void 0:U.name)??"Trabajo eliminado",J?b.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",j]}):null]}),b.jsxs("p",{className:"text-sm text-white/60",children:[b.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:R}),b.jsx("span",{className:"mx-2 text-white/30",children:"·"}),b.jsxs("span",{children:[L," min"]})]})]}),b.jsx(Ur,{objective:P,size:"sm"})]}),(me||he)&&b.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[me?b.jsxs("button",{type:"button",onClick:()=>O($.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[b.jsx("span",{className:We("transition-transform",q?"rotate-90":"rotate-0"),children:"▶"}),q?"Ocultar detalles":"Ver detalles"]}):null,he?b.jsxs("span",{children:[fe.length," vídeo",fe.length>1?"s":""]}):null]})]}),b.jsx("div",{className:We("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",$.completed?"bg-white/20 text-white":""),children:$.order+1})]}),me&&q&&b.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[ne?b.jsx(Ml,{content:te}):null,he?b.jsx("div",{className:"space-y-3",children:fe.map((de,Oe)=>b.jsxs("div",{className:"space-y-2",children:[b.jsx(Hp,{url:de,title:`${(U==null?void 0:U.name)??"Trabajo"} vídeo ${Oe+1}`}),b.jsx("a",{href:de,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${$.id}-video-${Oe}`))}):null]})]},$.id)})})]}),r.length===0?b.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[b.jsx("p",{className:"font-semibold text-white",children:"¿Quiénes participan?"}),b.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quién ha venido a clase en tiempo real."}),b.jsx(Gs,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):N.length===0?b.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[b.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes están inactivos."}),b.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la sección de asistentes para poder marcar su asistencia."}),b.jsx(Gs,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):b.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[b.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),b.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quién está presente en la sesión actual."})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:n$.map($=>b.jsxs("span",{className:We("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",i$[$]),children:[A[$]," ",r$[$]]},$))})]}),b.jsx("div",{className:"space-y-2",children:N.map($=>{const U=H.get($.id),P=(U==null?void 0:U.status)??"pending",q=(U==null?void 0:U.actualStatus)==="present",E=()=>B($.id,q?"absent":"present");return b.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:b.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-semibold text-white",children:$.name}),b.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[b.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsión"}),b.jsx("span",{className:We("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",t$[P]),children:e$[P]}),b.jsx("span",{className:"hidden text-white/30 sm:inline",children:"·"}),b.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),b.jsx("span",{className:We("font-semibold",q?"text-emerald-200":"text-white/60"),children:q?"Presente":"No asistió"})]})]}),b.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[b.jsxs("button",{type:"button",onClick:E,"aria-pressed":q,"aria-label":`${q?"Desmarcar asistencia de":"Marcar asistencia de"} ${$.name}`,title:q?"Desmarcar asistencia":"Marcar como presente",className:We(s$,q?o$:l$),children:[b.jsx("span",{className:We(a$,q?u$:c$),children:q?b.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:b.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):b.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),b.jsx("span",{children:q?"Ha asistido":"Marcar asistencia"})]}),b.jsx("span",{className:We("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",q?"text-emerald-200":"text-white/40"),children:q?"PRESENTE":"AUSENTE"})]})]})},$.id)})})]})]})]})}function p$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const Cc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Vp(e){return"nodeType"in e}function fn(e){var t,n;return e?bo(e)?e:Vp(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function qp(e){const{Document:t}=fn(e);return e instanceof t}function Ql(e){return bo(e)?!1:e instanceof fn(e).HTMLElement}function Pk(e){return e instanceof fn(e).SVGElement}function ko(e){return e?bo(e)?e.document:Vp(e)?qp(e)?e:Ql(e)||Pk(e)?e.ownerDocument:document:document:document}const Sr=Cc?S.useLayoutEffect:S.useEffect;function Yp(e){const t=S.useRef(e);return Sr(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function m$(){const e=S.useRef(null),t=S.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function $l(e,t){t===void 0&&(t=[e]);const n=S.useRef(e);return Sr(()=>{n.current!==e&&(n.current=e)},t),n}function Xl(e,t){const n=S.useRef();return S.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Qu(e){const t=Yp(e),n=S.useRef(null),r=S.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Gh(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let Zf={};function Zl(e,t){return S.useMemo(()=>{if(t)return t;const n=Zf[e]==null?0:Zf[e]+1;return Zf[e]=n,e+"-"+n},[e,t])}function Ak(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,a)=>{const u=Object.entries(a);for(const[c,f]of u){const h=o[c];h!=null&&(o[c]=h+e*f)}return o},{...t})}}const so=Ak(1),Xu=Ak(-1);function g$(e){return"clientX"in e&&"clientY"in e}function Kp(e){if(!e)return!1;const{KeyboardEvent:t}=fn(e.target);return t&&e instanceof t}function v$(e){if(!e)return!1;const{TouchEvent:t}=fn(e.target);return t&&e instanceof t}function Jh(e){if(v$(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return g$(e)?{x:e.clientX,y:e.clientY}:null}const Fl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Fl.Translate.toString(e),Fl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),r0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function y$(e){return e.matches(r0)?e:e.querySelector(r0)}const w$={display:"none"};function x$(e){let{id:t,value:n}=e;return pe.createElement("div",{id:t,style:w$},n)}function b$(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return pe.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function k$(){const[e,t]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Ok=S.createContext(null);function S$(e){const t=S.useContext(Ok);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function E$(){const[e]=S.useState(()=>new Set),t=S.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[S.useCallback(r=>{let{type:s,event:o}=r;e.forEach(a=>{var u;return(u=a[s])==null?void 0:u.call(a,o)})},[e]),t]}const _$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},C$={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function j$(e){let{announcements:t=C$,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=_$}=e;const{announce:o,announcement:a}=k$(),u=Zl("DndLiveRegion"),[c,f]=S.useState(!1);if(S.useEffect(()=>{f(!0)},[]),S$(S.useMemo(()=>({onDragStart(m){let{active:v}=m;o(t.onDragStart({active:v}))},onDragMove(m){let{active:v,over:g}=m;t.onDragMove&&o(t.onDragMove({active:v,over:g}))},onDragOver(m){let{active:v,over:g}=m;o(t.onDragOver({active:v,over:g}))},onDragEnd(m){let{active:v,over:g}=m;o(t.onDragEnd({active:v,over:g}))},onDragCancel(m){let{active:v,over:g}=m;o(t.onDragCancel({active:v,over:g}))}}),[o,t])),!c)return null;const h=pe.createElement(pe.Fragment,null,pe.createElement(x$,{id:r,value:s.draggable}),pe.createElement(b$,{id:u,announcement:a}));return n?kn.createPortal(h,n):h}var kt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(kt||(kt={}));function Zu(){}const sr=Object.freeze({x:0,y:0});function T$(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function I$(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function N$(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function R$(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function i0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const P$=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=i0(t,t.left,t.top),o=[];for(const a of r){const{id:u}=a,c=n.get(u);if(c){const f=T$(i0(c),s);o.push({id:u,data:{droppableContainer:a,value:f}})}}return o.sort(I$)};function A$(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),a=s-r,u=o-n;if(r<s&&n<o){const c=t.width*t.height,f=e.width*e.height,h=a*u,m=h/(c+f-h);return Number(m.toFixed(4))}return 0}const O$=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const o of r){const{id:a}=o,u=n.get(a);if(u){const c=A$(u,t);c>0&&s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(N$)};function D$(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Dk(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:sr}function L$(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((a,u)=>({...a,top:a.top+e*u.y,bottom:a.bottom+e*u.y,left:a.left+e*u.x,right:a.right+e*u.x}),{...n})}}const M$=L$(1);function $$(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function F$(e,t,n){const r=$$(t);if(!r)return e;const{scaleX:s,scaleY:o,x:a,y:u}=r,c=e.left-a-(1-s)*parseFloat(n),f=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?e.width/s:e.width,m=o?e.height/o:e.height;return{width:h,height:m,top:f,right:c+h,bottom:f+m,left:c}}const z$={ignoreTransform:!1};function So(e,t){t===void 0&&(t=z$);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=fn(e).getComputedStyle(e);f&&(n=F$(n,f,h))}const{top:r,left:s,width:o,height:a,bottom:u,right:c}=n;return{top:r,left:s,width:o,height:a,bottom:u,right:c}}function s0(e){return So(e,{ignoreTransform:!0})}function U$(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function B$(e,t){return t===void 0&&(t=fn(e).getComputedStyle(e)),t.position==="fixed"}function W$(e,t){t===void 0&&(t=fn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function Gp(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(qp(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Ql(s)||Pk(s)||n.includes(s))return n;const o=fn(e).getComputedStyle(s);return s!==e&&W$(s,o)&&n.push(s),B$(s,o)?n:r(s.parentNode)}return e?r(e):n}function Lk(e){const[t]=Gp(e,1);return t??null}function eh(e){return!Cc||!e?null:bo(e)?e:Vp(e)?qp(e)||e===ko(e).scrollingElement?window:Ql(e)?e:null:null}function Mk(e){return bo(e)?e.scrollX:e.scrollLeft}function $k(e){return bo(e)?e.scrollY:e.scrollTop}function Qh(e){return{x:Mk(e),y:$k(e)}}var Tt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Tt||(Tt={}));function Fk(e){return!Cc||!e?!1:e===document.scrollingElement}function zk(e){const t={x:0,y:0},n=Fk(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:a,isRight:u,maxScroll:r,minScroll:t}}const H$={x:.2,y:.2};function V$(e,t,n,r,s){let{top:o,left:a,right:u,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=H$);const{isTop:f,isBottom:h,isLeft:m,isRight:v}=zk(e),g={x:0,y:0},x={x:0,y:0},k={height:t.height*s.y,width:t.width*s.x};return!f&&o<=t.top+k.height?(g.y=Tt.Backward,x.y=r*Math.abs((t.top+k.height-o)/k.height)):!h&&c>=t.bottom-k.height&&(g.y=Tt.Forward,x.y=r*Math.abs((t.bottom-k.height-c)/k.height)),!v&&u>=t.right-k.width?(g.x=Tt.Forward,x.x=r*Math.abs((t.right-k.width-u)/k.width)):!m&&a<=t.left+k.width&&(g.x=Tt.Backward,x.x=r*Math.abs((t.left+k.width-a)/k.width)),{direction:g,speed:x}}function q$(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Uk(e){return e.reduce((t,n)=>so(t,Qh(n)),sr)}function Y$(e){return e.reduce((t,n)=>t+Mk(n),0)}function K$(e){return e.reduce((t,n)=>t+$k(n),0)}function G$(e,t){if(t===void 0&&(t=So),!e)return;const{top:n,left:r,bottom:s,right:o}=t(e);Lk(e)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const J$=[["x",["left","right"],Y$],["y",["top","bottom"],K$]];class Jp{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Gp(n),s=Uk(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,a,u]of J$)for(const c of a)Object.defineProperty(this,c,{get:()=>{const f=u(r),h=s[o]-f;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _l{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Q$(e){const{EventTarget:t}=fn(e);return e instanceof t?e:ko(e)}function th(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var $n;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})($n||($n={}));function o0(e){e.preventDefault()}function X$(e){e.stopPropagation()}var ze;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ze||(ze={}));const Bk={start:[ze.Space,ze.Enter],cancel:[ze.Esc],end:[ze.Space,ze.Enter,ze.Tab]},Z$=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ze.Right:return{...n,x:n.x+25};case ze.Left:return{...n,x:n.x-25};case ze.Down:return{...n,y:n.y+25};case ze.Up:return{...n,y:n.y-25}}};class Wk{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new _l(ko(n)),this.windowListeners=new _l(fn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($n.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&G$(r),n(sr)}handleKeyDown(t){if(Kp(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=Bk,coordinateGetter:a=Z$,scrollBehavior:u="smooth"}=s,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:sr;this.referenceCoordinates||(this.referenceCoordinates=h);const m=a(t,{active:n,context:r.current,currentCoordinates:h});if(m){const v=Xu(m,h),g={x:0,y:0},{scrollableAncestors:x}=r.current;for(const k of x){const _=t.code,{isTop:C,isRight:N,isLeft:I,isBottom:F,maxScroll:H,minScroll:A}=zk(k),Y=q$(k),ee={x:Math.min(_===ze.Right?Y.right-Y.width/2:Y.right,Math.max(_===ze.Right?Y.left:Y.left+Y.width/2,m.x)),y:Math.min(_===ze.Down?Y.bottom-Y.height/2:Y.bottom,Math.max(_===ze.Down?Y.top:Y.top+Y.height/2,m.y))},ie=_===ze.Right&&!N||_===ze.Left&&!I,D=_===ze.Down&&!F||_===ze.Up&&!C;if(ie&&ee.x!==m.x){const M=k.scrollLeft+v.x,X=_===ze.Right&&M<=H.x||_===ze.Left&&M>=A.x;if(X&&!v.y){k.scrollTo({left:M,behavior:u});return}X?g.x=k.scrollLeft-M:g.x=_===ze.Right?k.scrollLeft-H.x:k.scrollLeft-A.x,g.x&&k.scrollBy({left:-g.x,behavior:u});break}else if(D&&ee.y!==m.y){const M=k.scrollTop+v.y,X=_===ze.Down&&M<=H.y||_===ze.Up&&M>=A.y;if(X&&!v.x){k.scrollTo({top:M,behavior:u});return}X?g.y=k.scrollTop-M:g.y=_===ze.Down?k.scrollTop-H.y:k.scrollTop-A.y,g.y&&k.scrollBy({top:-g.y,behavior:u});break}}this.handleMove(t,so(Xu(m,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wk.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Bk,onActivation:s}=t,{active:o}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function l0(e){return!!(e&&"distance"in e)}function a0(e){return!!(e&&"delay"in e)}class Qp{constructor(t,n,r){var s;r===void 0&&(r=Q$(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:a}=o;this.props=t,this.events=n,this.document=ko(a),this.documentListeners=new _l(this.document),this.listeners=new _l(r),this.windowListeners=new _l(fn(a)),this.initialCoordinates=(s=Jh(o))!=null?s:sr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.DragStart,o0),this.windowListeners.add($n.VisibilityChange,this.handleCancel),this.windowListeners.add($n.ContextMenu,o0),this.documentListeners.add($n.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(a0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(l0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add($n.Click,X$,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($n.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:a,options:{activationConstraint:u}}=o;if(!s)return;const c=(n=Jh(t))!=null?n:sr,f=Xu(s,c);if(!r&&u){if(l0(u)){if(u.tolerance!=null&&th(f,u.tolerance))return this.handleCancel();if(th(f,u.distance))return this.handleStart()}if(a0(u)&&th(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ze.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const eF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Hk extends Qp{constructor(t){const{event:n}=t,r=ko(n.target);super(t,eF,r)}}Hk.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const tF={move:{name:"mousemove"},end:{name:"mouseup"}};var Xh;(function(e){e[e.RightClick=2]="RightClick"})(Xh||(Xh={}));class nF extends Qp{constructor(t){super(t,tF,ko(t.event.target))}}nF.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Xh.RightClick?!1:(r==null||r({event:n}),!0)}}];const nh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class rF extends Qp{constructor(t){super(t,nh)}static setup(){return window.addEventListener(nh.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(nh.move.name,t)};function t(){}}}rF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Cl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Cl||(Cl={}));var ec;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ec||(ec={}));function iF(e){let{acceleration:t,activator:n=Cl.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:a=5,order:u=ec.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:h,delta:m,threshold:v}=e;const g=oF({delta:m,disabled:!o}),[x,k]=m$(),_=S.useRef({x:0,y:0}),C=S.useRef({x:0,y:0}),N=S.useMemo(()=>{switch(n){case Cl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Cl.DraggableRect:return s}},[n,s,c]),I=S.useRef(null),F=S.useCallback(()=>{const A=I.current;if(!A)return;const Y=_.current.x*C.current.x,ee=_.current.y*C.current.y;A.scrollBy(Y,ee)},[]),H=S.useMemo(()=>u===ec.TreeOrder?[...f].reverse():f,[u,f]);S.useEffect(()=>{if(!o||!f.length||!N){k();return}for(const A of H){if((r==null?void 0:r(A))===!1)continue;const Y=f.indexOf(A),ee=h[Y];if(!ee)continue;const{direction:ie,speed:D}=V$(A,ee,N,t,v);for(const M of["x","y"])g[M][ie[M]]||(D[M]=0,ie[M]=0);if(D.x>0||D.y>0){k(),I.current=A,x(F,a),_.current=D,C.current=ie;return}}_.current={x:0,y:0},C.current={x:0,y:0},k()},[t,F,r,k,o,a,JSON.stringify(N),JSON.stringify(g),x,f,H,h,JSON.stringify(v)])}const sF={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function oF(e){let{delta:t,disabled:n}=e;const r=Gh(t);return Xl(s=>{if(n||!r||!s)return sF;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Tt.Backward]:s.x[Tt.Backward]||o.x===-1,[Tt.Forward]:s.x[Tt.Forward]||o.x===1},y:{[Tt.Backward]:s.y[Tt.Backward]||o.y===-1,[Tt.Forward]:s.y[Tt.Forward]||o.y===1}}},[n,t,r])}function lF(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Xl(s=>{var o;return t==null?null:(o=r??s)!=null?o:null},[r,t])}function aF(e,t){return S.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...o]},[]),[e,t])}var zl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(zl||(zl={}));var Zh;(function(e){e.Optimized="optimized"})(Zh||(Zh={}));const u0=new Map;function uF(e,t){let{dragging:n,dependencies:r,config:s}=t;const[o,a]=S.useState(null),{frequency:u,measure:c,strategy:f}=s,h=S.useRef(e),m=_(),v=$l(m),g=S.useCallback(function(C){C===void 0&&(C=[]),!v.current&&a(N=>N===null?C:N.concat(C.filter(I=>!N.includes(I))))},[v]),x=S.useRef(null),k=Xl(C=>{if(m&&!n)return u0;if(!C||C===u0||h.current!==e||o!=null){const N=new Map;for(let I of e){if(!I)continue;if(o&&o.length>0&&!o.includes(I.id)&&I.rect.current){N.set(I.id,I.rect.current);continue}const F=I.node.current,H=F?new Jp(c(F),F):null;I.rect.current=H,H&&N.set(I.id,H)}return N}return C},[e,o,n,m,c]);return S.useEffect(()=>{h.current=e},[e]),S.useEffect(()=>{m||g()},[n,m]),S.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),S.useEffect(()=>{m||typeof u!="number"||x.current!==null||(x.current=setTimeout(()=>{g(),x.current=null},u))},[u,m,g,...r]),{droppableRects:k,measureDroppableContainers:g,measuringScheduled:o!=null};function _(){switch(f){case zl.Always:return!1;case zl.BeforeDragging:return n;default:return!n}}}function Vk(e,t){return Xl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function cF(e,t){return Vk(e,t)}function dF(e){let{callback:t,disabled:n}=e;const r=Yp(t),s=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return S.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function jc(e){let{callback:t,disabled:n}=e;const r=Yp(t),s=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return S.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function fF(e){return new Jp(So(e),e)}function c0(e,t,n){t===void 0&&(t=fF);const[r,s]=S.useState(null);function o(){s(c=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=c??n)!=null?f:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const a=dF({callback(c){if(e)for(const f of c){const{type:h,target:m}=f;if(h==="childList"&&m instanceof HTMLElement&&m.contains(e)){o();break}}}}),u=jc({callback:o});return Sr(()=>{o(),e?(u==null||u.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),a==null||a.disconnect())},[e]),r}function hF(e){const t=Vk(e);return Dk(e,t)}const d0=[];function pF(e){const t=S.useRef(e),n=Xl(r=>e?r&&r!==d0&&e&&t.current&&e.parentNode===t.current.parentNode?r:Gp(e):d0,[e]);return S.useEffect(()=>{t.current=e},[e]),n}function mF(e){const[t,n]=S.useState(null),r=S.useRef(e),s=S.useCallback(o=>{const a=eh(o.target);a&&n(u=>u?(u.set(a,Qh(a)),new Map(u)):null)},[]);return S.useEffect(()=>{const o=r.current;if(e!==o){a(o);const u=e.map(c=>{const f=eh(c);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,Qh(f)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{a(e),a(o)};function a(u){u.forEach(c=>{const f=eh(c);f==null||f.removeEventListener("scroll",s)})}},[s,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,a)=>so(o,a),sr):Uk(e):sr,[e,t])}function f0(e,t){t===void 0&&(t=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},t),S.useEffect(()=>{const r=e!==sr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Xu(e,n.current):sr}function gF(e){S.useEffect(()=>{if(!Cc)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function vF(e,t){return S.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=a=>{o(a,t)},n},{}),[e,t])}function qk(e){return S.useMemo(()=>e?U$(e):null,[e])}const h0=[];function yF(e,t){t===void 0&&(t=So);const[n]=e,r=qk(n?fn(n):null),[s,o]=S.useState(h0);function a(){o(()=>e.length?e.map(c=>Fk(c)?r:new Jp(t(c),c)):h0)}const u=jc({callback:a});return Sr(()=>{u==null||u.disconnect(),a(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),s}function wF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ql(t)?t:e}function xF(e){let{measure:t}=e;const[n,r]=S.useState(null),s=S.useCallback(f=>{for(const{target:h}of f)if(Ql(h)){r(m=>{const v=t(h);return m?{...m,width:v.width,height:v.height}:v});break}},[t]),o=jc({callback:s}),a=S.useCallback(f=>{const h=wF(f);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[u,c]=Qu(a);return S.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const bF=[{sensor:Hk,options:{}},{sensor:Wk,options:{}}],kF={current:{}},Nu={draggable:{measure:s0},droppable:{measure:s0,strategy:zl.WhileDragging,frequency:Zh.Optimized},dragOverlay:{measure:So}};class jl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const SF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new jl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Nu,measureDroppableContainers:Zu,windowRect:null,measuringScheduled:!1},EF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zu,draggableNodes:new Map,over:null,measureDroppableContainers:Zu},Tc=S.createContext(EF),Yk=S.createContext(SF);function _F(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new jl}}}function CF(e,t){switch(t.type){case kt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case kt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case kt.DragEnd:case kt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case kt.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new jl(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case kt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const a=new jl(e.droppable.containers);return a.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case kt.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new jl(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function jF(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=S.useContext(Tc),o=Gh(r),a=Gh(n==null?void 0:n.id);return S.useEffect(()=>{if(!t&&!r&&o&&a!=null){if(!Kp(o)||document.activeElement===o.target)return;const u=s.get(a);if(!u)return;const{activatorNode:c,node:f}=u;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[c.current,f.current]){if(!h)continue;const m=y$(h);if(m){m.focus();break}}})}},[r,t,s,a,o]),null}function TF(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...r}),n):n}function IF(e){return S.useMemo(()=>({draggable:{...Nu.draggable,...e==null?void 0:e.draggable},droppable:{...Nu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Nu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function NF(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const o=S.useRef(!1),{x:a,y:u}=typeof s=="boolean"?{x:s,y:s}:s;Sr(()=>{if(!a&&!u||!t){o.current=!1;return}if(o.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),m=Dk(h,r);if(a||(m.x=0),u||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const v=Lk(f);v&&v.scrollBy({top:m.y,left:m.x})}},[t,a,u,r,n])}const Kk=S.createContext({...sr,scaleX:1,scaleY:1});var pi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(pi||(pi={}));const RF=S.memo(function(t){var n,r,s,o;let{id:a,accessibility:u,autoScroll:c=!0,children:f,sensors:h=bF,collisionDetection:m=O$,measuring:v,modifiers:g,...x}=t;const k=S.useReducer(CF,void 0,_F),[_,C]=k,[N,I]=E$(),[F,H]=S.useState(pi.Uninitialized),A=F===pi.Initialized,{draggable:{active:Y,nodes:ee,translate:ie},droppable:{containers:D}}=_,M=Y!=null?ee.get(Y):null,X=S.useRef({initial:null,translated:null}),K=S.useMemo(()=>{var nt;return Y!=null?{id:Y,data:(nt=M==null?void 0:M.data)!=null?nt:kF,rect:X}:null},[Y,M]),O=S.useRef(null),[B,$]=S.useState(null),[U,P]=S.useState(null),q=$l(x,Object.values(x)),E=Zl("DndDescribedBy",a),R=S.useMemo(()=>D.getEnabled(),[D]),L=IF(v),{droppableRects:j,measureDroppableContainers:J,measuringScheduled:te}=uF(R,{dragging:A,dependencies:[ie.x,ie.y],config:L.droppable}),ne=lF(ee,Y),fe=S.useMemo(()=>U?Jh(U):null,[U]),he=Vr(),me=cF(ne,L.draggable.measure);NF({activeNode:Y!=null?ee.get(Y):null,config:he.layoutShiftCompensation,initialRect:me,measure:L.draggable.measure});const de=c0(ne,L.draggable.measure,me),Oe=c0(ne?ne.parentElement:null),$e=S.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:j,draggableNodes:ee,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=D.getNodeFor((n=$e.current.over)==null?void 0:n.id),Vt=xF({measure:L.dragOverlay.measure}),Cn=(r=Vt.nodeRef.current)!=null?r:ne,jn=A?(s=Vt.rect)!=null?s:de:null,jr=!!(Vt.nodeRef.current&&Vt.rect),Ti=hF(jr?null:de),or=qk(Cn?fn(Cn):null),It=pF(A?et??ne:null),hn=yF(It),lr=TF(g,{transform:{x:ie.x-Ti.x,y:ie.y-Ti.y,scaleX:1,scaleY:1},activatorEvent:U,active:K,activeNodeRect:de,containerNodeRect:Oe,draggingNodeRect:jn,over:$e.current.over,overlayNodeRect:Vt.rect,scrollableAncestors:It,scrollableAncestorRects:hn,windowRect:or}),Ii=fe?so(fe,ie):null,Ni=mF(It),fs=f0(Ni),re=f0(Ni,[de]),ue=so(lr,fs),be=jn?M$(jn,lr):null,Te=K&&be?m({active:K,collisionRect:be,droppableRects:j,droppableContainers:R,pointerCoordinates:Ii}):null,De=R$(Te,"id"),[qe,Tn]=S.useState(null),Zt=jr?lr:so(lr,re),ar=D$(Zt,(o=qe==null?void 0:qe.rect)!=null?o:null,de),Un=S.useRef(null),ft=S.useCallback((nt,At)=>{let{sensor:Ot,options:Bn}=At;if(O.current==null)return;const qt=ee.get(O.current);if(!qt)return;const Dt=nt.nativeEvent,en=new Ot({active:O.current,activeNode:qt,event:Dt,options:Bn,context:$e,onAbort(rt){if(!ee.get(rt))return;const{onDragAbort:Lt}=q.current,Wn={id:rt};Lt==null||Lt(Wn),N({type:"onDragAbort",event:Wn})},onPending(rt,Nn,Lt,Wn){if(!ee.get(rt))return;const{onDragPending:ur}=q.current,pn={id:rt,constraint:Nn,initialCoordinates:Lt,offset:Wn};ur==null||ur(pn),N({type:"onDragPending",event:pn})},onStart(rt){const Nn=O.current;if(Nn==null)return;const Lt=ee.get(Nn);if(!Lt)return;const{onDragStart:Wn}=q.current,Hn={activatorEvent:Dt,active:{id:Nn,data:Lt.data,rect:X}};kn.unstable_batchedUpdates(()=>{Wn==null||Wn(Hn),H(pi.Initializing),C({type:kt.DragStart,initialCoordinates:rt,active:Nn}),N({type:"onDragStart",event:Hn}),$(Un.current),P(Dt)})},onMove(rt){C({type:kt.DragMove,coordinates:rt})},onEnd:Tr(kt.DragEnd),onCancel:Tr(kt.DragCancel)});Un.current=en;function Tr(rt){return async function(){const{active:Lt,collisions:Wn,over:Hn,scrollAdjustedTranslate:ur}=$e.current;let pn=null;if(Lt&&ur){const{cancelDrop:Ir}=q.current;pn={activatorEvent:Dt,active:Lt,collisions:Wn,delta:ur,over:Hn},rt===kt.DragEnd&&typeof Ir=="function"&&await Promise.resolve(Ir(pn))&&(rt=kt.DragCancel)}O.current=null,kn.unstable_batchedUpdates(()=>{C({type:rt}),H(pi.Uninitialized),Tn(null),$(null),P(null),Un.current=null;const Ir=rt===kt.DragEnd?"onDragEnd":"onDragCancel";if(pn){const Co=q.current[Ir];Co==null||Co(pn),N({type:Ir,event:pn})}})}}},[ee]),In=S.useCallback((nt,At)=>(Ot,Bn)=>{const qt=Ot.nativeEvent,Dt=ee.get(Bn);if(O.current!==null||!Dt||qt.dndKit||qt.defaultPrevented)return;const en={active:Dt};nt(Ot,At.options,en)===!0&&(qt.dndKit={capturedBy:At.sensor},O.current=Bn,ft(Ot,At))},[ee,ft]),Pt=aF(h,In);gF(h),Sr(()=>{de&&F===pi.Initializing&&H(pi.Initialized)},[de,F]),S.useEffect(()=>{const{onDragMove:nt}=q.current,{active:At,activatorEvent:Ot,collisions:Bn,over:qt}=$e.current;if(!At||!Ot)return;const Dt={active:At,activatorEvent:Ot,collisions:Bn,delta:{x:ue.x,y:ue.y},over:qt};kn.unstable_batchedUpdates(()=>{nt==null||nt(Dt),N({type:"onDragMove",event:Dt})})},[ue.x,ue.y]),S.useEffect(()=>{const{active:nt,activatorEvent:At,collisions:Ot,droppableContainers:Bn,scrollAdjustedTranslate:qt}=$e.current;if(!nt||O.current==null||!At||!qt)return;const{onDragOver:Dt}=q.current,en=Bn.get(De),Tr=en&&en.rect.current?{id:en.id,rect:en.rect.current,data:en.data,disabled:en.disabled}:null,rt={active:nt,activatorEvent:At,collisions:Ot,delta:{x:qt.x,y:qt.y},over:Tr};kn.unstable_batchedUpdates(()=>{Tn(Tr),Dt==null||Dt(rt),N({type:"onDragOver",event:rt})})},[De]),Sr(()=>{$e.current={activatorEvent:U,active:K,activeNode:ne,collisionRect:be,collisions:Te,droppableRects:j,draggableNodes:ee,draggingNode:Cn,draggingNodeRect:jn,droppableContainers:D,over:qe,scrollableAncestors:It,scrollAdjustedTranslate:ue},X.current={initial:jn,translated:be}},[K,ne,Te,be,ee,Cn,jn,j,D,qe,It,ue]),iF({...he,delta:ie,draggingRect:be,pointerCoordinates:Ii,scrollableAncestors:It,scrollableAncestorRects:hn});const Eo=S.useMemo(()=>({active:K,activeNode:ne,activeNodeRect:de,activatorEvent:U,collisions:Te,containerNodeRect:Oe,dragOverlay:Vt,draggableNodes:ee,droppableContainers:D,droppableRects:j,over:qe,measureDroppableContainers:J,scrollableAncestors:It,scrollableAncestorRects:hn,measuringConfiguration:L,measuringScheduled:te,windowRect:or}),[K,ne,de,U,Te,Oe,Vt,ee,D,j,qe,J,It,hn,L,te,or]),_o=S.useMemo(()=>({activatorEvent:U,activators:Pt,active:K,activeNodeRect:de,ariaDescribedById:{draggable:E},dispatch:C,draggableNodes:ee,over:qe,measureDroppableContainers:J}),[U,Pt,K,de,C,E,ee,qe,J]);return pe.createElement(Ok.Provider,{value:I},pe.createElement(Tc.Provider,{value:_o},pe.createElement(Yk.Provider,{value:Eo},pe.createElement(Kk.Provider,{value:ar},f)),pe.createElement(jF,{disabled:(u==null?void 0:u.restoreFocus)===!1})),pe.createElement(j$,{...u,hiddenTextDescribedById:E}));function Vr(){const nt=(B==null?void 0:B.autoScrollEnabled)===!1,At=typeof c=="object"?c.enabled===!1:c===!1,Ot=A&&!nt&&!At;return typeof c=="object"?{...c,enabled:Ot}:{enabled:Ot}}}),PF=S.createContext(null),p0="button",AF="Draggable";function OF(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const o=Zl(AF),{activators:a,activatorEvent:u,active:c,activeNodeRect:f,ariaDescribedById:h,draggableNodes:m,over:v}=S.useContext(Tc),{role:g=p0,roleDescription:x="draggable",tabIndex:k=0}=s??{},_=(c==null?void 0:c.id)===t,C=S.useContext(_?Kk:PF),[N,I]=Qu(),[F,H]=Qu(),A=vF(a,t),Y=$l(n);Sr(()=>(m.set(t,{id:t,key:o,node:N,activatorNode:F,data:Y}),()=>{const ie=m.get(t);ie&&ie.key===o&&m.delete(t)}),[m,t]);const ee=S.useMemo(()=>({role:g,tabIndex:k,"aria-disabled":r,"aria-pressed":_&&g===p0?!0:void 0,"aria-roledescription":x,"aria-describedby":h.draggable}),[r,g,k,_,x,h.draggable]);return{active:c,activatorEvent:u,activeNodeRect:f,attributes:ee,isDragging:_,listeners:r?void 0:A,node:N,over:v,setNodeRef:I,setActivatorNodeRef:H,transform:C}}function DF(){return S.useContext(Yk)}const LF="Droppable",MF={timeout:25};function $F(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const o=Zl(LF),{active:a,dispatch:u,over:c,measureDroppableContainers:f}=S.useContext(Tc),h=S.useRef({disabled:n}),m=S.useRef(!1),v=S.useRef(null),g=S.useRef(null),{disabled:x,updateMeasurementsFor:k,timeout:_}={...MF,...s},C=$l(k??r),N=S.useCallback(()=>{if(!m.current){m.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{f(Array.isArray(C.current)?C.current:[C.current]),g.current=null},_)},[_]),I=jc({callback:N,disabled:x||!a}),F=S.useCallback((ee,ie)=>{I&&(ie&&(I.unobserve(ie),m.current=!1),ee&&I.observe(ee))},[I]),[H,A]=Qu(F),Y=$l(t);return S.useEffect(()=>{!I||!H.current||(I.disconnect(),m.current=!1,I.observe(H.current))},[H,I]),S.useEffect(()=>(u({type:kt.RegisterDroppable,element:{id:r,key:o,disabled:n,node:H,rect:v,data:Y}}),()=>u({type:kt.UnregisterDroppable,key:o,id:r})),[r]),S.useEffect(()=>{n!==h.current.disabled&&(u({type:kt.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,u]),{active:a,rect:v,isOver:(c==null?void 0:c.id)===r,node:H,over:c,setNodeRef:A}}function Gk(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function FF(e,t){return e.reduce((n,r,s)=>{const o=t.get(r);return o&&(n[s]=o),n},Array(e.length))}function bu(e){return e!==null&&e>=0}function zF(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function UF(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Jk=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const o=Gk(t,r,n),a=t[s],u=o[s];return!u||!a?null:{x:u.left-a.left,y:u.top-a.top,scaleX:u.width/a.width,scaleY:u.height/a.height}},ku={scaleX:1,scaleY:1},BF=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:a}=e;const u=(t=o[n])!=null?t:r;if(!u)return null;if(s===n){const f=o[a];return f?{x:0,y:n<a?f.top+f.height-(u.top+u.height):f.top-u.top,...ku}:null}const c=WF(o,s,n);return s>n&&s<=a?{x:0,y:-u.height-c,...ku}:s<n&&s>=a?{x:0,y:u.height+c,...ku}:{x:0,y:0,...ku}};function WF(e,t,n){const r=e[t],s=e[t-1],o=e[t+1];return r?n<t?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Qk="Sortable",Xk=pe.createContext({activeIndex:-1,containerId:Qk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Jk,disabled:{draggable:!1,droppable:!1}});function HF(e){let{children:t,id:n,items:r,strategy:s=Jk,disabled:o=!1}=e;const{active:a,dragOverlay:u,droppableRects:c,over:f,measureDroppableContainers:h}=DF(),m=Zl(Qk,n),v=u.rect!==null,g=S.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),x=a!=null,k=a?g.indexOf(a.id):-1,_=f?g.indexOf(f.id):-1,C=S.useRef(g),N=!zF(g,C.current),I=_!==-1&&k===-1||N,F=UF(o);Sr(()=>{N&&x&&h(g)},[N,g,x,h]),S.useEffect(()=>{C.current=g},[g]);const H=S.useMemo(()=>({activeIndex:k,containerId:m,disabled:F,disableTransforms:I,items:g,overIndex:_,useDragOverlay:v,sortedRects:FF(g,c),strategy:s}),[k,m,F.draggable,F.droppable,I,g,_,c,v,s]);return pe.createElement(Xk.Provider,{value:H},t)}const VF=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return Gk(n,r,s).indexOf(t)},qF=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:o,newIndex:a,previousItems:u,previousContainerId:c,transition:f}=e;return!f||!r||u!==o&&s===a?!1:n?!0:a!==s&&t===c},YF={duration:200,easing:"ease"},Zk="transform",KF=Fl.Transition.toString({property:Zk,duration:0,easing:"linear"}),GF={roleDescription:"sortable"};function JF(e){let{disabled:t,index:n,node:r,rect:s}=e;const[o,a]=S.useState(null),u=S.useRef(n);return Sr(()=>{if(!t&&n!==u.current&&r.current){const c=s.current;if(c){const f=So(r.current,{ignoreTransform:!0}),h={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(h.x||h.y)&&a(h)}}n!==u.current&&(u.current=n)},[t,n,r,s]),S.useEffect(()=>{o&&a(null)},[o]),o}function QF(e){let{animateLayoutChanges:t=qF,attributes:n,disabled:r,data:s,getNewIndex:o=VF,id:a,strategy:u,resizeObserverConfig:c,transition:f=YF}=e;const{items:h,containerId:m,activeIndex:v,disabled:g,disableTransforms:x,sortedRects:k,overIndex:_,useDragOverlay:C,strategy:N}=S.useContext(Xk),I=XF(r,g),F=h.indexOf(a),H=S.useMemo(()=>({sortable:{containerId:m,index:F,items:h},...s}),[m,s,F,h]),A=S.useMemo(()=>h.slice(h.indexOf(a)),[h,a]),{rect:Y,node:ee,isOver:ie,setNodeRef:D}=$F({id:a,data:H,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:M,activatorEvent:X,activeNodeRect:K,attributes:O,setNodeRef:B,listeners:$,isDragging:U,over:P,setActivatorNodeRef:q,transform:E}=OF({id:a,data:H,attributes:{...GF,...n},disabled:I.draggable}),R=p$(D,B),L=!!M,j=L&&!x&&bu(v)&&bu(_),J=!C&&U,te=J&&j?E:null,fe=j?te??(u??N)({rects:k,activeNodeRect:K,activeIndex:v,overIndex:_,index:F}):null,he=bu(v)&&bu(_)?o({id:a,items:h,activeIndex:v,overIndex:_}):F,me=M==null?void 0:M.id,de=S.useRef({activeId:me,items:h,newIndex:he,containerId:m}),Oe=h!==de.current.items,$e=t({active:M,containerId:m,isDragging:U,isSorting:L,id:a,index:F,items:h,newIndex:de.current.newIndex,previousItems:de.current.items,previousContainerId:de.current.containerId,transition:f,wasDragging:de.current.activeId!=null}),et=JF({disabled:!$e,index:F,node:ee,rect:Y});return S.useEffect(()=>{L&&de.current.newIndex!==he&&(de.current.newIndex=he),m!==de.current.containerId&&(de.current.containerId=m),h!==de.current.items&&(de.current.items=h)},[L,he,m,h]),S.useEffect(()=>{if(me===de.current.activeId)return;if(me&&!de.current.activeId){de.current.activeId=me;return}const Cn=setTimeout(()=>{de.current.activeId=me},50);return()=>clearTimeout(Cn)},[me]),{active:M,activeIndex:v,attributes:O,data:H,rect:Y,index:F,newIndex:he,items:h,isOver:ie,isSorting:L,isDragging:U,listeners:$,node:ee,overIndex:_,over:P,setNodeRef:R,setActivatorNodeRef:q,setDroppableNodeRef:D,setDraggableNodeRef:B,transform:et??fe,transition:Vt()};function Vt(){if(et||Oe&&de.current.newIndex===F)return KF;if(!(J&&!Kp(X)||!f)&&(L||$e))return Fl.Transition.toString({...f,property:Zk})}}function XF(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}ze.Down,ze.Right,ze.Up,ze.Left;const Su="__no_objective__",ZF="Sin objetivo",m0={present:"Presente",absent:"Ausente",pending:"Pendiente"};function e4({work:e,objective:t,parentChain:n,onSelect:r}){return b.jsxs("button",{type:"button",onClick:()=>r(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),b.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]}),n?b.jsxs("p",{className:"text-[11px] text-white/40",children:["Deriva de ",n]}):null]}),b.jsx(Ur,{objective:t,size:"sm"})]})}function t4({item:e,work:t,objective:n,expanded:r,onToggleExpanded:s,onRemove:o,onUpdateDetails:a,onReplace:u,startTimeLabel:c,durationMinutes:f,objectiveOptions:h,worksByObjective:m,currentObjectiveId:v,workPathById:g}){const{attributes:x,listeners:k,setNodeRef:_,transform:C,transition:N,isDragging:I}=QF({id:e.id}),[F,H]=S.useState(!1),A={transform:Fl.Transform.toString(C),transition:N},ee=(e.focusLabel??"").trim(),ie=ee.length>0,D=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",M=D.trim().length>0,X=((t==null?void 0:t.videoUrls)??[]).map(J=>J.trim()).filter(Boolean),K=X.length>0,O=M||K,$=(t!=null&&t.id?g.get(t.id)??(t==null?void 0:t.name)??"":"").split(" · ").slice(0,-1).join(" · "),U=J=>{const te=J.target.value;a(e.id,{focusLabel:te===""?void 0:te})},P=h.length>0?h:[{id:"",name:"Sin objetivo"}],q=S.useMemo(()=>{var te;return v&&m.has(v)?v:((te=P[0])==null?void 0:te.id)??v??""},[v,P,m]),[E,R]=S.useState(q);S.useEffect(()=>{F&&R(q)},[F,q]);const L=S.useMemo(()=>(m.get(E)??[]).filter(te=>te.id!==(t==null?void 0:t.id)).sort((te,ne)=>{const fe=g.get(te.id)??te.name,he=g.get(ne.id)??ne.name;return fe.localeCompare(he,"es",{sensitivity:"base"})}),[E,m,t==null?void 0:t.id,g]),j=S.useMemo(()=>{for(const J of m.values())if(J.some(te=>te.id!==(t==null?void 0:t.id)))return!0;return!1},[m,t==null?void 0:t.id]);return b.jsxs("article",{ref:_,style:A,className:We("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",I&&"ring-2 ring-sky-400/70"),children:[n?b.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",...k,...x,"aria-label":"Reordenar trabajo",children:"⠿"}),b.jsx("div",{className:"flex-1 space-y-1",children:b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",ie?b.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",ee]}):null]}),$?b.jsxs("p",{className:"text-xs text-white/50",children:["Deriva de ",$]}):null,b.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[b.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:c}),b.jsx("span",{className:"text-white/30",children:"·"}),b.jsxs("span",{children:[f," min"]})]}),b.jsxs("div",{className:"max-w-md",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),b.jsx("input",{type:"text",value:e.focusLabel??"",onChange:U,placeholder:"Ej. 1/7 – Apertura",className:"input-field mt-1"})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[O?b.jsxs("button",{type:"button",onClick:()=>s(e.id),className:We("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[b.jsx("span",{className:We("transition-transform",r?"rotate-90":"rotate-0"),children:"▶"}),r?"Ocultar detalles":"Ver detalles"]}):null,b.jsx(Ur,{objective:n,size:"sm"})]})]})}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{type:"button",onClick:()=>H(J=>!J),disabled:!j,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categoría","aria-expanded":F,children:"⇆"}),b.jsx("button",{type:"button",onClick:()=>o(e.id),className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesión",children:"✕"})]})]}),F?b.jsxs("div",{className:"mt-3 space-y-2 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),b.jsx("select",{className:"input-field",value:E,onChange:J=>R(J.target.value),children:P.map(J=>b.jsx("option",{value:J.id,children:J.name},J.id))})]}),b.jsx("div",{className:"grid gap-1.5",children:L.length===0?b.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"No hay trabajos disponibles en este objetivo."}):L.map(J=>{const ne=(g.get(J.id)??J.name).split(" · ").slice(0,-1).join(" · ");return b.jsxs("button",{type:"button",onClick:()=>{u(J.id),H(!1)},className:"flex items-center justify-between gap-2 rounded-2xl border border-white/15 px-3 py-2 text-left text-xs font-semibold text-white/80 transition hover:border-sky-400/60 hover:text-white",children:[b.jsxs("div",{className:"flex flex-col text-left",children:[b.jsx("span",{children:J.name}),ne?b.jsxs("span",{className:"text-[11px] text-white/40",children:["Deriva de ",ne]}):null]}),b.jsxs("span",{className:"text-[11px] text-white/40",children:[J.estimatedMinutes," min"]})]},J.id)})})]}):null,O&&r?b.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[M?b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),b.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:b.jsx(Ml,{content:D})})]}):null,K?b.jsxs("div",{className:"space-y-2",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de referencia"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(J=>b.jsxs("a",{href:J,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[b.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:"▶"}),"Ver vídeo"]},J))})]}):null]}):null,b.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function n4({session:e,works:t,objectives:n,assistants:r,onDateChange:s}){const o=Ne(M=>M.updateSession),a=Ne(M=>M.addWorkToSession),u=Ne(M=>M.removeWorkFromSession),c=Ne(M=>M.reorderSessionWork),f=Ne(M=>M.updateSessionWorkDetails),h=Ne(M=>M.replaceSessionWork),m=Ne(M=>M.setAttendanceStatus),[v,g]=S.useState(""),[x,k]=S.useState(new Set),_=S.useMemo(()=>new Map(n.map(M=>[M.id,M])),[n]),C=S.useMemo(()=>new Map(t.map(M=>[M.id,M])),[t]),N=S.useMemo(()=>{const M=new Map,X=(K,O)=>{if(M.has(K))return M.get(K);const B=C.get(K);if(!B)return"";const $=B.parentWorkId;if(!$||O.has(K))return M.set(K,B.name),B.name;O.add(K);const U=X($,O);O.delete(K);const P=U?`${U} · ${B.name}`:B.name;return M.set(K,P),P};return t.forEach(K=>X(K.id,new Set)),M},[t,C]),I=S.useMemo(()=>{const M=new Map(n.map(B=>[B.id,B.name])),X=n.map(B=>({id:B.id,name:B.name})),K=new Set(X.map(B=>B.id)),O=B=>{const $=B??Su;if(K.has($))return;const U=$===Su?ZF:M.get($)??"Otro objetivo";X.push({id:$,name:U}),K.add($)};return t.forEach(B=>{O(B.objectiveId)}),X},[n,t]),F=S.useMemo(()=>{const M=new Map;return t.forEach(X=>{const K=X.objectiveId??Su,O=M.get(K)??[];O.push(X),M.set(K,O)}),M.forEach(X=>{X.sort((K,O)=>{const B=N.get(K.id)??K.name,$=N.get(O.id)??O.name;return B.localeCompare($,"es",{sensitivity:"base"})})}),M},[t,N]),H=S.useMemo(()=>{if(!v)return t;const M=v.toLowerCase();return t.filter(X=>{const K=_.get(X.objectiveId),O=N.get(X.id)??"";return X.name.toLowerCase().includes(M)||X.descriptionMarkdown.toLowerCase().includes(M)||(K==null?void 0:K.name.toLowerCase().includes(M))||O.toLowerCase().includes(M)})},[t,v,_,N]),A=S.useCallback(M=>{const X=N.get(M);if(!X)return"";const K=X.split(" · ");return K.pop(),K.join(" · ")},[N]),Y=M=>{k(X=>{const K=new Set(X);return K.has(M)?K.delete(M):K.add(M),K})},ee=M=>{a(e.id,{workId:M}),g("")},ie=M=>{const{active:X,over:K}=M;if(!K||X.id===K.id)return;const O=e.workItems.findIndex($=>$.id===X.id),B=e.workItems.findIndex($=>$.id===K.id);O===-1||B===-1||c(e.id,O,B)},D=M=>X=>{const K=X.target.value;o(e.id,{[M]:K}),M==="date"&&s&&s(K)};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[b.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Título"}),b.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:D("title"),placeholder:"Nombre de la sesión"})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),b.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:D("date")})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),b.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:D("startTime")})]})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),b.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:D("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),b.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:D("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),b.jsxs("section",{className:"space-y-4",children:[b.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesión"}),b.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa ⋮ para ajustar detalles."})]}),b.jsxs("div",{className:"relative w-full sm:w-72",children:[b.jsx("input",{type:"search",className:"input-field",value:v,onChange:M=>g(M.target.value),placeholder:"Buscar en catálogo"}),v&&b.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:H.length===0?b.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catálogo."}):b.jsx("div",{className:"space-y-2",children:H.map(M=>b.jsx(e4,{work:M,objective:_.get(M.objectiveId),parentChain:A(M.id),onSelect:ee},M.id))})})]})]}),b.jsx("div",{className:"space-y-4",children:b.jsx(RF,{collisionDetection:P$,onDragEnd:ie,children:b.jsx(HF,{items:e.workItems.map(M=>M.id),strategy:BF,children:b.jsx("div",{className:"space-y-5",children:e.workItems.length===0?b.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Añade trabajos desde el catálogo con el buscador superior."}):(()=>{let M=0;const X=Ju(e.startTime,"18:30");return e.workItems.map(K=>{const O=C.get(K.workId),B=O?_.get(O.objectiveId):void 0,$=K.customDurationMinutes??(O==null?void 0:O.estimatedMinutes)??0,U=Kh(X+M);return M+=$,b.jsx(t4,{item:K,work:O,objective:B,expanded:x.has(K.id),onToggleExpanded:Y,onRemove:()=>u(e.id,K.id),onUpdateDetails:(P,q)=>f(e.id,P,q),onReplace:P=>h(e.id,K.id,P),startTimeLabel:U,durationMinutes:$,objectiveOptions:I,worksByObjective:F,currentObjectiveId:(O==null?void 0:O.objectiveId)??Su,workPathById:N},K.id)})})()})})})})]}),b.jsxs("section",{className:"space-y-4",children:[b.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsión de asistencia"}),b.jsx("p",{className:"text-sm text-white/60",children:"Indica quién esperas que asista. La asistencia real se marca durante la sesión desde la Home."})]})}),b.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?b.jsx("p",{className:"text-sm text-white/60",children:"Aún no tienes asistentes definidos. Añádelos desde la sección correspondiente para empezar a registrar asistencia."}):r.map(M=>{const X=e.attendance.find(B=>B.assistantId===M.id),K=(X==null?void 0:X.status)??"pending",O=X==null?void 0:X.actualStatus;return b.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-semibold text-white",children:M.name}),M.notes?b.jsx("p",{className:"text-xs text-white/50",children:M.notes}):null,O?b.jsxs("p",{className:"text-xs text-white/40",children:["Último registro real: ",m0[O]]}):null]}),b.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(B=>b.jsx("button",{type:"button",onClick:()=>m(e.id,M.id,B),className:We("rounded-full px-3 py-1 text-xs font-semibold transition",K===B?B==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":B==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:m0[B]},B))})]},M.id)})})]})]})}function r4(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function i4(e){const t=r4(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(s,o)=>t.add(r*7+o,"day")))}function Eu(e,t){return Be(e).format("YYYY-MM-DD")===Be(t).format("YYYY-MM-DD")}Be.locale("es");function g0(e){return Be(e).format("MMMM YYYY")}function s4({session:e,objectives:t,works:n,isActive:r,onSelect:s,onDuplicate:o,onDelete:a}){const u=S.useMemo(()=>new Map(t.map(m=>[m.id,m])),[t]),c=S.useMemo(()=>new Map(n.map(m=>[m.id,m])),[n]),f=S.useMemo(()=>{const m=e.workItems[0];if(!m)return;const v=c.get(m.workId);if(v)return u.get(v.objectiveId)},[e.workItems,c,u]),h=e.workItems.reduce((m,v)=>{const g=c.get(v.workId);return m+(v.customDurationMinutes??(g==null?void 0:g.estimatedMinutes)??0)},0);return b.jsxs("button",{type:"button",onClick:s,className:We("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?b.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,b.jsxs("div",{className:"flex items-start justify-between gap-2",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesión sin título"}),b.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos · ",h," min"]})]}),b.jsx(Ur,{objective:f,size:"sm"})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(m=>{const v=c.get(m.workId);return b.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:(v==null?void 0:v.name)??"Trabajo"},m.id)}),e.workItems.length>3?b.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Ur,{objective:f,size:"sm"}),b.jsxs("div",{className:"ml-auto flex gap-2",children:[b.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),o()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),b.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),a()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function o4(){const e=Ne(O=>O.sessions),t=Ne(O=>O.works),n=Ne(O=>O.objectives),r=Ne(O=>O.assistants),s=Ne(O=>O.addSession),o=Ne(O=>O.duplicateSession),a=Ne(O=>O.deleteSession),[u,c]=l_(),f=S.useMemo(()=>{const O=new Map;return e.forEach(B=>{const $=Be(B.date).format("YYYY-MM-DD"),U=O.get($)??[];U.push(B),O.set($,U)}),O.forEach(B=>B.sort(($,U)=>($.title??"").localeCompare(U.title??"","es"))),O},[e]),h=u.get("session")??void 0,m=h?e.find(O=>O.id===h):void 0,v=Be().format("YYYY-MM-DD"),g=(m==null?void 0:m.date)??v,[x,k]=S.useState(g),[_,C]=S.useState(Be(x).startOf("month").format("YYYY-MM-DD")),[N,I]=S.useState(h);S.useEffect(()=>{h&&!e.find(O=>O.id===h)&&(I(void 0),c({},{replace:!0}))},[h,e,c]);const F=S.useMemo(()=>i4(Be(_)),[_]),H=S.useMemo(()=>{const O=Be(_);return e.filter(B=>{const $=Be(B.date);return $.year()===O.year()&&$.month()===O.month()}).sort((B,$)=>Be(B.date).valueOf()-Be($.date).valueOf())},[e,_]),A=S.useMemo(()=>{const O=new Map;return H.forEach(B=>{const $=Be(B.date).format("YYYY-MM-DD"),U=O.get($)??[];U.push(B),O.set($,U)}),Array.from(O.entries()).sort((B,$)=>Be(B[0]).valueOf()-Be($[0]).valueOf()).map(([B,$])=>({date:B,sessions:$.slice().sort((U,P)=>(U.title??"").localeCompare(P.title??"","es"))}))},[H]),Y=f.get(x)??[];S.useEffect(()=>{Y.length>0?(!N||!Y.some(O=>O.id===N))&&I(Y[0].id):I(void 0)},[Y,N]);const ee=N?e.find(O=>O.id===N):void 0,ie=O=>{k(O),C(Be(O).startOf("month").format("YYYY-MM-DD"))},D=()=>{const O=s({date:x,title:"Nueva sesión",description:"",notes:""});I(O.id)},M=O=>{const B=o(O,x);B&&I(B.id)},X=O=>{a(O),N===O&&I(void 0)},K=O=>{const B=Be(_).add(O,"month");C(B.format("YYYY-MM-DD")),k($=>{const U=Be($);return U.month()===B.month()&&U.year()===B.year()?$:B.startOf("month").format("YYYY-MM-DD")})};return b.jsxs("div",{className:"space-y-6",children:[b.jsx("header",{className:"glass-panel p-6 sm:p-10",children:b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Planificador"}),b.jsx("p",{className:"text-white/60",children:"Organiza tus sesiones con un calendario gráfico, duplica lo que funciona y edita cada detalle con drag & drop."})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>K(-1),children:"← Mes anterior"}),b.jsx("div",{className:"rounded-full border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white/80",children:g0(_)}),b.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>K(1),children:"Mes siguiente →"})]})]})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.5fr_1.5fr] xl:grid-cols-[1.6fr_1.4fr]",children:[b.jsxs("section",{className:"glass-panel flex flex-col gap-6 p-6",children:[b.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(O=>b.jsx("div",{className:"rounded-full bg-white/5 py-2",children:O},O))}),b.jsx("div",{className:"grid grid-cols-7 gap-2",children:F.flat().map(O=>{const B=O.format("YYYY-MM-DD"),$=f.get(B)??[],U=O.month()===Be(_).month(),P=Eu(B,v),q=Eu(B,x);return b.jsxs("button",{type:"button",onClick:()=>ie(B),className:We("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",q?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!U&&"text-white/30"),children:[b.jsx("span",{className:We("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",P?"bg-white text-slate-900":""),children:O.format("D")}),b.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[$.slice(0,3).map(E=>{const R=E.workItems[0],L=R?t.find(J=>J.id===R.workId):void 0,j=L?n.find(J=>J.id===L.objectiveId):void 0;return b.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(j==null?void 0:j.colorHex)??"rgba(255,255,255,0.4)"}},E.id)}),$.length>3?b.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},B)})})]}),b.jsxs("section",{className:"glass-panel flex flex-col gap-4 p-6",children:[b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones del mes"}),b.jsx("h2",{className:"text-lg font-semibold text-white",children:g0(_)})]}),b.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[H.length," ",H.length===1?"sesión":"sesiones"]})]}),b.jsx("div",{className:"custom-scrollbar -m-2 max-h-[32rem] space-y-3 overflow-y-auto p-2",children:A.length===0?b.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/50",children:"Aún no hay sesiones planificadas para este mes. Selecciona un día en el calendario para crear la primera."}):A.map(({date:O,sessions:B})=>{const $=B.length===1?"1 sesión":`${B.length} sesiones`;return b.jsxs("div",{role:"button",tabIndex:0,onClick:()=>ie(O),onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),ie(O))},className:We("cursor-pointer rounded-2xl border border-white/10 bg-white/5 p-3 text-sm transition hover:border-white/40 hover:bg-white/10",Eu(O,x)&&"border-sky-400/50 bg-sky-500/10 shadow shadow-sky-500/10"),children:[b.jsxs("p",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[b.jsx("span",{children:Be(O).format("ddd · D MMM")}),b.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-[9px] font-semibold tracking-[0.2em] text-white/50",children:$})]}),b.jsx("div",{className:"mt-3 space-y-2 text-xs",children:B.map(U=>{const P=(U.description??"").trim(),q=U.workItems.reduce((E,R)=>{const L=t.find(j=>j.id===R.workId);return E+(R.customDurationMinutes??(L==null?void 0:L.estimatedMinutes)??0)},0);return b.jsxs("button",{type:"button",onClick:E=>{E.stopPropagation(),ie(O),I(U.id)},className:We("flex w-full flex-col gap-1 rounded-xl border border-white/10 bg-slate-950/60 px-3 py-2 text-left transition hover:border-white/30 hover:text-white",U.id===N&&Eu(O,x)&&"border-sky-400/60 text-white"),children:[b.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[b.jsx("span",{className:"truncate font-medium",children:U.title||"Sesión sin título"}),b.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-white/40",children:[U.workItems.length," · ",q," min"]})]}),P?b.jsx("p",{className:"text-[11px] leading-relaxed text-white/60",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:P}):null]},U.id)})})]},O)})})]})]}),b.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[b.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),b.jsx("h2",{className:"text-2xl font-semibold text-white",children:Be(x).format("dddd, D [de] MMMM")})]}),b.jsx("div",{className:"flex gap-3",children:b.jsx("button",{type:"button",onClick:D,className:"btn-primary",children:"+ Nueva sesión"})})]}),b.jsx("div",{className:"space-y-3",children:Y.length===0?b.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"Aún no hay sesiones planificadas este día. Crea una con el botón superior."}):Y.map(O=>b.jsx(s4,{session:O,objectives:n,works:t,isActive:O.id===N,onSelect:()=>I(O.id),onDuplicate:()=>M(O.id),onDelete:()=>X(O.id)},O.id))})]}),ee&&b.jsx("div",{className:"glass-panel p-6",children:b.jsx(n4,{session:ee,works:t,objectives:n,assistants:r,onDateChange:O=>{k(O),C(Be(O).startOf("month").format("YYYY-MM-DD"))}})})]})}const v0={name:"",objectiveId:"",parentWorkId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""]},y0="__no_objective__";function l4({work:e,objective:t,childCount:n,depth:r,expanded:s,onToggle:o,onEdit:a,onDuplicate:u,onCreateChild:c,onDelete:f}){const h=(e.descriptionMarkdown??"").trim(),m=(e.notes??"").trim(),v=e.videoUrls.filter(I=>I.trim().length>0),g=h.length>0,x=m.length>0,k=v.length>0,_=g||x||k,C=n>0,N=r>0?{marginLeft:`${r*1.5}rem`}:void 0;return b.jsxs("article",{className:"group relative space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5 pb-10 shadow shadow-black/30",style:N,children:[t?b.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-3xl",style:{backgroundColor:t.colorHex}}):null,b.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[b.jsxs("button",{type:"button",onClick:()=>{_&&o()},className:We("flex flex-1 items-start gap-3 rounded-2xl border border-transparent px-3 py-2 text-left transition",_?"hover:border-white/10 hover:bg-white/5 focus-visible:border-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40":"cursor-default"),"aria-expanded":_?s:void 0,disabled:!_,children:[_?b.jsx("span",{className:We("mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full border border-white/20 text-xs text-white/70 transition",s?"rotate-90 border-white/40 text-white":""),"aria-hidden":!0,children:"▶"}):null,b.jsxs("span",{children:[b.jsx("h3",{className:"text-xl font-semibold text-white",children:e.name}),b.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]})]})]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[b.jsx(Ur,{objective:t,size:"sm"}),b.jsxs(Hi,{as:"div",className:"relative inline-flex",children:[b.jsxs(Hi.Button,{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-white/40 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40",children:[b.jsx("span",{className:"sr-only",children:"Abrir acciones"}),b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5","aria-hidden":"true",children:[b.jsx("circle",{cx:"12",cy:"5",r:"1.5"}),b.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),b.jsx("circle",{cx:"12",cy:"19",r:"1.5"})]})]}),b.jsxs(Hi.Items,{className:"absolute right-0 z-10 mt-2 w-44 overflow-hidden rounded-2xl border border-white/10 bg-slate-900/95 p-1 text-sm text-white shadow-lg shadow-black/40 focus:outline-none",children:[b.jsx(Hi.Item,{children:({active:I})=>b.jsx("button",{type:"button",onClick:a,className:We("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left",I?"bg-white/10 text-white":"text-white/70"),children:"Editar"})}),b.jsx(Hi.Item,{children:({active:I})=>b.jsx("button",{type:"button",onClick:u,className:We("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left",I?"bg-white/10 text-white":"text-white/70"),children:"Duplicar"})}),b.jsx(Hi.Item,{children:({active:I})=>b.jsx("button",{type:"button",onClick:c,className:We("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left",I?"bg-white/10 text-white":"text-white/70"),children:"Nuevo hijo"})}),b.jsx(Hi.Item,{children:({active:I})=>b.jsx("button",{type:"button",onClick:f,className:We("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left",I?"bg-rose-500/20 text-rose-100":"text-rose-300"),children:"Eliminar"})})]})]})]})]}),_&&s&&b.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[g?b.jsx(Ml,{content:e.descriptionMarkdown}):null,x?b.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,k?b.jsx("div",{className:"space-y-3",children:v.map((I,F)=>b.jsxs("div",{className:"space-y-2",children:[b.jsx(Hp,{url:I,title:`${e.name} vídeo ${F+1}`}),b.jsx("a",{href:I,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${F}`))}):null]}),b.jsx("button",{type:"button",onClick:c,className:"absolute bottom-0 left-1/2 flex -translate-x-1/2 translate-y-1/2 items-center justify-center rounded-full border border-dashed border-white/20 bg-slate-950/80 px-4 py-2 text-sm font-semibold text-white/80 opacity-0 transition hover:border-white/40 hover:text-white focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto focus-visible:pointer-events-auto",title:C?"Añadir trabajo hijo":"Crear primer trabajo hijo","aria-label":"Crear trabajo hijo",children:"+"})]})}function a4({form:e,objectiveOptions:t,parentOptions:n,depth:r,onFieldChange:s,onVideoChange:o,onAddVideo:a,onRemoveVideo:u,onSave:c,onCancel:f,isNew:h}){const m=t.find(x=>x.id===e.objectiveId),v=n.find(x=>x.id===e.parentWorkId),g=r>0?{marginLeft:`${r*1.5}rem`}:void 0;return b.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",style:g,children:[b.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:h?"Nuevo trabajo":"Editando trabajo"}),b.jsx("input",{type:"text",className:"input-field text-base font-semibold",placeholder:"Nombre descriptivo",value:e.name,onChange:x=>s({name:x.target.value})})]}),b.jsx(Ur,{objective:m,size:"sm"})]}),b.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),b.jsxs("select",{className:"input-field",value:e.objectiveId,onChange:x=>s({objectiveId:x.target.value}),children:[b.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map(x=>b.jsx("option",{value:x.id,children:x.name},x.id))]})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Trabajo padre (opcional)"}),b.jsxs("select",{className:"input-field",value:e.parentWorkId,onChange:x=>s({parentWorkId:x.target.value}),children:[b.jsx("option",{value:"",children:"Sin trabajo padre"}),n.map(x=>b.jsx("option",{value:x.id,children:x.label},x.id))]}),e.parentWorkId&&v?b.jsxs("p",{className:"text-xs text-white/40",children:["Deriva de: ",v.label]}):null]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duración estimada (min)"}),b.jsx("input",{type:"number",min:0,className:"input-field",value:e.estimatedMinutes,onChange:x=>s({estimatedMinutes:Number(x.target.value)})})]})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),b.jsx("textarea",{className:"input-field min-h-[140px]",value:e.descriptionMarkdown,onChange:x=>s({descriptionMarkdown:x.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes."})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),b.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes,onChange:x=>s({notes:x.target.value})})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de YouTube"}),b.jsx("div",{className:"space-y-3",children:e.videoUrls.map((x,k)=>b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"url",className:"input-field flex-1",value:x,onChange:_=>o(k,_.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),e.videoUrls.length>1?b.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>u(k),"aria-label":"Eliminar enlace de vídeo",children:"✕"}):null]}),b.jsx(Hp,{url:x,title:`Vista previa vídeo ${k+1}`})]},`video-field-${k}`))}),b.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:a,children:"+ Añadir vídeo"})]}),b.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[b.jsx("button",{type:"button",onClick:c,className:"btn-primary",children:"Guardar"}),b.jsx("button",{type:"button",className:"btn-secondary",onClick:f,children:"Cancelar"})]})]})}function u4(){var q;const e=Ne(E=>E.works),t=Ne(E=>E.objectives),n=Ne(E=>E.addWork),r=Ne(E=>E.updateWork),s=Ne(E=>E.deleteWork),[o,a]=S.useState(""),[u,c]=S.useState(null),[f,h]=S.useState(new Set),[m,v]=S.useState({}),g=S.useMemo(()=>new Map(t.map(E=>[E.id,E])),[t]),x=S.useMemo(()=>[...t].sort((E,R)=>(E.name??"").localeCompare(R.name??"","es")),[t]),k=S.useMemo(()=>new Map(e.map(E=>[E.id,E])),[e]),_=S.useMemo(()=>{const E=new Map;return e.forEach(R=>{const L=R.parentWorkId;if(!L)return;const j=E.get(L)??[];j.push(R),E.set(L,j)}),E.forEach(R=>{R.sort((L,j)=>L.name.localeCompare(j.name,"es",{sensitivity:"base"}))}),E},[e]),C=S.useMemo(()=>{const E=new Map,R=(L,j)=>{if(E.has(L))return E.get(L);const J=k.get(L);if(!J)return"";if(!J.parentWorkId||j.has(L))return E.set(L,J.name),J.name;j.add(L);const te=R(J.parentWorkId,j);j.delete(L);const ne=te?`${te} · ${J.name}`:J.name;return E.set(L,ne),ne};return e.forEach(L=>{R(L.id,new Set)}),E},[e,k]),N=S.useMemo(()=>{const E=new Map,R=L=>{if(E.has(L))return E.get(L);const j=new Set;return(_.get(L)??[]).forEach(te=>{j.add(te.id),R(te.id).forEach(ne=>j.add(ne))}),E.set(L,j),j};return e.forEach(L=>R(L.id)),E},[e,_]),I=S.useCallback((E,R)=>{var J,te;const L=new Set;E&&(L.add(E),(J=N.get(E))==null||J.forEach(ne=>L.add(ne)));const j=e.filter(ne=>!L.has(ne.id)).map(ne=>({id:ne.id,label:(()=>{var me;const fe=C.get(ne.id)??ne.name,he=(me=g.get(ne.objectiveId))==null?void 0:me.name;return he?`${he} · ${fe}`:fe})()})).sort((ne,fe)=>ne.label.localeCompare(fe.label,"es",{sensitivity:"base"}));if(R&&R.length>0&&!j.some(ne=>ne.id===R)){const ne=k.get(R),fe=C.get(R)??(ne==null?void 0:ne.name)??"Trabajo no disponible",he=ne?(te=g.get(ne.objectiveId))==null?void 0:te.name:void 0,me=he?`${he} · ${fe}`:fe;j.unshift({id:R,label:me})}return j},[e,C,N,k,g]),F=o.trim().toLowerCase(),H=E=>{var J;if(!F)return!0;const R=((J=g.get(E.objectiveId))==null?void 0:J.name)??"",L=E.parentWorkId?C.get(E.parentWorkId)??"":"",j=E.id?C.get(E.id)??"":"";return E.name.toLowerCase().includes(F)||E.descriptionMarkdown.toLowerCase().includes(F)||R.toLowerCase().includes(F)||L.toLowerCase().includes(F)||j.toLowerCase().includes(F)},A=S.useMemo(()=>{const E=[],R=L=>{if(!L)return 0;let j=1,J=k.get(L);const te=new Set(L?[L]:[]);for(;J&&J.parentWorkId;){const ne=J.parentWorkId;if(!ne||te.has(ne))break;j+=1,te.add(ne),J=k.get(ne)}return j};return e.forEach(L=>{const j=m[L.id],J=(j==null?void 0:j.data)??{id:L.id,name:L.name,descriptionMarkdown:L.descriptionMarkdown,objectiveId:L.objectiveId,parentWorkId:L.parentWorkId??""};!j&&!H(J)||E.push({id:L.id,objectiveId:J.objectiveId,parentWorkId:J.parentWorkId??"",depth:R(J.parentWorkId),work:L,isNew:!1,isEditing:!!j,form:j==null?void 0:j.data})}),Object.entries(m).filter(([,L])=>L.isNew).forEach(([L,j])=>{H(j.data)&&E.push({id:L,objectiveId:j.data.objectiveId,parentWorkId:j.data.parentWorkId,depth:R(j.data.parentWorkId||void 0),work:void 0,isNew:!0,isEditing:!0,form:j.data})}),E},[e,k,m,H]),Y=S.useMemo(()=>{const E=new Map;A.forEach(te=>{const ne=g.has(te.objectiveId)?te.objectiveId:y0,fe=E.get(ne)??[];fe.push(te),E.set(ne,fe)});const R=te=>{var ne,fe;if(te.isEditing&&te.form){const he=te.form.name.trim()||(((ne=te.work)==null?void 0:ne.name)??""),me=te.form.parentWorkId&&te.form.parentWorkId.length>0?C.get(te.form.parentWorkId)??((fe=k.get(te.form.parentWorkId))==null?void 0:fe.name)??"":"";return me?`${me} · ${he}`:he}return te.work?C.get(te.work.id)??te.work.name:te.id},L=(te,ne)=>{const fe=R(te),he=R(ne);return fe.localeCompare(he,"es",{sensitivity:"base"})},j=[];x.forEach(te=>{const ne=E.get(te.id);ne&&ne.length&&j.push({objective:te,items:ne.slice().sort(L)})});const J=E.get(y0);return J&&J.length&&j.push({objective:void 0,items:J.slice().sort(L)}),j},[A,g,x,C,k]),ee=((q=x[0])==null?void 0:q.id)??"",ie=(E,R)=>{v(L=>{const j=L[E];return j?{...L,[E]:R(j)}:L})},D=E=>E.length>0?E:[""],M=E=>{v(R=>R[E.id]?R:{...R,[E.id]:{data:{id:E.id,name:E.name,objectiveId:E.objectiveId,parentWorkId:E.parentWorkId??"",descriptionMarkdown:E.descriptionMarkdown,estimatedMinutes:E.estimatedMinutes,notes:E.notes??"",videoUrls:D(E.videoUrls.slice())},isNew:!1,originalId:E.id}}),h(R=>{const L=new Set(R);return L.add(E.id),L})},X=()=>{const E=`draft-${bn()}`;v(R=>({...R,[E]:{data:{...v0,id:E,objectiveId:ee},isNew:!0}})),h(R=>{const L=new Set(R);return L.add(E),L})},K=E=>{const R=`draft-${bn()}`;v(L=>({...L,[R]:{data:{id:R,name:`${E.name} (copia)`,objectiveId:E.objectiveId,parentWorkId:E.parentWorkId??"",descriptionMarkdown:E.descriptionMarkdown,estimatedMinutes:E.estimatedMinutes,notes:E.notes??"",videoUrls:D(E.videoUrls.slice())},isNew:!0}})),h(L=>{const j=new Set(L);return j.add(R),j}),c({type:"success",text:"Duplicación creada. Ajusta y guarda para confirmarla."})},O=E=>{const R=`draft-${bn()}`;v(L=>({...L,[R]:{data:{...v0,id:R,objectiveId:E.objectiveId,parentWorkId:E.id,estimatedMinutes:E.estimatedMinutes},isNew:!0}})),h(L=>{const j=new Set(L);return j.add(R),j}),c({type:"success",text:`Creando un trabajo hijo para «${E.name}». Ajusta y guarda para confirmarlo.`})},B=E=>{h(R=>{const L=new Set(R);return L.has(E)?L.delete(E):L.add(E),L})},$=E=>{v(R=>{const L={...R};return delete L[E],L}),E.startsWith("draft-")&&h(R=>{const L=new Set(R);return L.delete(E),L})},U=E=>{const R=m[E];if(!R)return;const L=(R.data.parentWorkId??"").trim(),j=L.length>0?L:void 0,J={name:R.data.name.trim(),objectiveId:R.data.objectiveId,descriptionMarkdown:R.data.descriptionMarkdown,estimatedMinutes:Number(R.data.estimatedMinutes)||0,notes:R.data.notes.trim()||void 0,videoUrls:R.data.videoUrls.map(te=>te.trim()).filter(Boolean),parentWorkId:j};if(!J.name){c({type:"error",text:"El nombre es obligatorio."});return}if(!J.objectiveId){c({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if(J.parentWorkId&&R.originalId){if(J.parentWorkId===R.originalId){c({type:"error",text:"Un trabajo no puede ser su propio padre."});return}const te=N.get(R.originalId);if(te&&te.has(J.parentWorkId)){c({type:"error",text:"Selecciona un trabajo padre que no sea un descendiente."});return}}if(R.isNew){const te=n(J);v(ne=>{const fe={...ne};return delete fe[E],fe}),h(ne=>{const fe=new Set(ne);return fe.delete(E)&&fe.add(te.id),fe}),c({type:"success",text:"Trabajo creado correctamente."})}else R.originalId&&(r(R.originalId,J),v(te=>{const ne={...te};return delete ne[E],ne}),c({type:"success",text:"Trabajo actualizado."}))},P=E=>{var j;const R=(((j=N.get(E))==null?void 0:j.size)??0)>0;if(!s(E)){c({type:"error",text:R?"No se puede eliminar porque tiene trabajos hijos.":"No se puede eliminar porque está siendo usado en alguna sesión."});return}c({type:"success",text:"Trabajo eliminado."}),v(J=>{const te={...J};return delete te[E],te}),h(J=>{const te=new Set(J);return te.delete(E),te})};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),b.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),b.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[b.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:o,onChange:E=>a(E.target.value),placeholder:"Buscar por nombre, descripción u objetivo"}),b.jsx("button",{type:"button",className:"btn-primary",onClick:X,children:"Nuevo trabajo"})]})]}),u&&b.jsx("div",{className:We("rounded-2xl border px-4 py-3 text-sm",u.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:u.text})]}),b.jsx("section",{className:"space-y-6",children:Y.length===0?b.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no hay trabajos guardados. Empieza creando uno con el botón «Nuevo trabajo»."}):Y.map(({objective:E,items:R})=>{const L=E?E.name:"Sin objetivo asignado";return b.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[b.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h3",{className:"text-lg font-semibold text-white",children:L}),b.jsx(Ur,{objective:E,size:"sm"})]}),b.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[R.length," trabajo",R.length===1?"":"s"]})]}),b.jsx("div",{className:"space-y-4",children:R.map(j=>{var me;const J=f.has(j.id),te=(j.isEditing&&j.form?j.form.parentWorkId:j.parentWorkId)??"",ne=j.isEditing?I((me=j.work)==null?void 0:me.id,te):[],he=(j.work?_.get(j.work.id)??[]:[]).length;return j.isEditing&&j.form?b.jsx(a4,{form:j.form,objectiveOptions:x,parentOptions:ne,depth:j.depth,onFieldChange:de=>ie(j.id,Oe=>{const $e={...Oe.data,...de};if(de.parentWorkId!==void 0&&de.parentWorkId.length>0){const et=k.get(de.parentWorkId);et&&($e.objectiveId=et.objectiveId)}return{...Oe,data:$e}}),onVideoChange:(de,Oe)=>ie(j.id,$e=>{const et=$e.data.videoUrls.slice();return et[de]=Oe,{...$e,data:{...$e.data,videoUrls:et}}}),onAddVideo:()=>ie(j.id,de=>({...de,data:{...de.data,videoUrls:[...de.data.videoUrls,""]}})),onRemoveVideo:de=>ie(j.id,Oe=>{const $e=Oe.data.videoUrls.slice();return $e.splice(de,1),{...Oe,data:{...Oe.data,videoUrls:$e.length?$e:[""]}}}),onSave:()=>U(j.id),onCancel:()=>$(j.id),isNew:j.isNew},j.id):j.work?b.jsx(l4,{work:j.work,objective:g.get(j.work.objectiveId),childCount:he,depth:j.depth,expanded:J,onToggle:()=>B(j.id),onEdit:()=>M(j.work),onDuplicate:()=>K(j.work),onCreateChild:()=>O(j.work),onDelete:()=>P(j.work.id)},j.id):null})})]},(E==null?void 0:E.id)??"sin-objetivo")})})]})}const rh={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},w0=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function c4(){const e=Ne(k=>k.objectives),t=Ne(k=>k.addObjective),n=Ne(k=>k.updateObjective),r=Ne(k=>k.deleteObjective),s=Ne(k=>k.works),[o,a]=S.useState(rh),[u,c]=S.useState(null),f=S.useMemo(()=>{const k=new Map;return s.forEach(_=>{k.set(_.objectiveId,(k.get(_.objectiveId)??0)+1)}),k},[s]),h=S.useMemo(()=>[...e].sort((k,_)=>(k.name??"").localeCompare(_.name??"","es")),[e]),m=k=>{if(k.preventDefault(),!o.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const _={name:o.name.trim(),colorHex:o.colorHex,descriptionMarkdown:o.descriptionMarkdown};o.id?(n(o.id,_),c({type:"success",text:"Objetivo actualizado."})):(t(_),c({type:"success",text:"Objetivo creado."})),a(rh)},v=k=>{a({id:k.id,name:k.name,colorHex:k.colorHex,descriptionMarkdown:k.descriptionMarkdown})},g=k=>{const _=r(k);c(_?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},x=()=>{if(e.length===0){c({type:"error",text:"No hay objetivos a los que asignar colores."});return}const k=[...w0];e.map((C,N)=>{const I=k[N%k.length];return{id:C.id,colorHex:I}}).forEach(({id:C,colorHex:N})=>n(C,{colorHex:N})),c({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),b.jsx("p",{className:"text-white/60",children:"Define categorías de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),b.jsx("div",{className:"flex flex-wrap gap-3",children:b.jsx("button",{type:"button",className:"btn-secondary",onClick:x,children:"Repartir colores"})})]}),u&&b.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${u.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:u.text})]}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[b.jsxs("section",{className:"glass-panel p-6",children:[b.jsx("h2",{className:"text-xl font-semibold text-white",children:o.id?"Editar objetivo":"Nuevo objetivo"}),b.jsxs("form",{className:"mt-4 space-y-4",onSubmit:m,children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),b.jsx("input",{type:"text",className:"input-field",value:o.name,onChange:k=>a(_=>({..._,name:k.target.value})),placeholder:"Ej. Resistencia, Técnica, Juego",required:!0})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),b.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:o.colorHex,onChange:k=>a(_=>({..._,colorHex:k.target.value})),"aria-label":"Elegir color personalizado"}),b.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:o.colorHex,onChange:k=>a(_=>({..._,colorHex:k.target.value})),placeholder:"#60a5fa","aria-label":"Código hex del color"})]}),b.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:w0.map(k=>b.jsx("button",{type:"button",onClick:()=>a(_=>({..._,colorHex:k})),className:We("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",o.colorHex.toLowerCase()===k.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:k},"aria-label":`Seleccionar color ${k}`,children:o.colorHex.toLowerCase()===k.toLowerCase()&&b.jsx("span",{className:"text-xs font-semibold text-slate-900",children:"✓"})},k))})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),b.jsx("textarea",{className:"input-field min-h-[140px]",value:o.descriptionMarkdown,onChange:k=>a(_=>({..._,descriptionMarkdown:k.target.value})),placeholder:"Explica cuándo usar este tipo de trabajo, objetivos pedagógicos, etc."})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"submit",className:"btn-primary",children:o.id?"Guardar objetivo":"Crear objetivo"}),o.id&&b.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(rh),children:"Cancelar edición"})]})]})]}),b.jsx("section",{className:"space-y-6",children:h.length===0?b.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripción."}):h.map(k=>b.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[b.jsx(Ur,{objective:k}),b.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[b.jsxs("span",{children:[f.get(k.id)??0," trabajos"]}),b.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>v(k),children:"Editar"}),b.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>g(k.id),children:"Eliminar"})]})]}),b.jsx(Ml,{content:k.descriptionMarkdown})]},k.id))})]})]})}const ih={name:"",notes:"",active:!0};function d4(){const e=Ne(h=>h.assistants),t=Ne(h=>h.addAssistant),n=Ne(h=>h.updateAssistant),r=Ne(h=>h.deleteAssistant),[s,o]=S.useState(ih),[a,u]=S.useState(null),c=h=>{if(h.preventDefault(),!s.name.trim()){u({type:"error",text:"El nombre es obligatorio."});return}const m={name:s.name.trim(),notes:s.notes,active:s.active};s.id?(n(s.id,m),u({type:"success",text:"Asistente actualizado."})):(t(m),u({type:"success",text:"Asistente añadido."})),o(ih)},f=h=>{o({id:h.id,name:h.name,notes:h.notes??"",active:h.active})};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[b.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),b.jsx("p",{className:"text-white/60",children:"Mantén una lista base de alumnado para registrar asistencia rápidamente durante cada sesión."})]})}),a&&b.jsx("div",{className:We("mt-4 rounded-2xl border px-4 py-3 text-sm",a.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:a.text})]}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[b.jsxs("section",{className:"glass-panel p-6",children:[b.jsx("h2",{className:"text-xl font-semibold text-white",children:s.id?"Editar asistente":"Nuevo asistente"}),b.jsxs("form",{className:"mt-4 space-y-4",onSubmit:c,children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),b.jsx("input",{type:"text",className:"input-field",value:s.name,onChange:h=>o(m=>({...m,name:h.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),b.jsx("textarea",{className:"input-field min-h-[120px]",value:s.notes,onChange:h=>o(m=>({...m,notes:h.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:s.active,onChange:h=>o(m=>({...m,active:h.target.checked}))}),b.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecerá en los listados de asistencia)"})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"submit",className:"btn-primary",children:s.id?"Guardar asistente":"Añadir asistente"}),s.id&&b.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(ih),children:"Cancelar edición"})]})]})]}),b.jsx("section",{className:"space-y-4",children:e.length===0?b.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todavía no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(h=>b.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold text-white",children:h.name}),h.notes?b.jsx("p",{className:"text-sm text-white/60",children:h.notes}):null]}),b.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[b.jsx("span",{className:We("rounded-full border px-3 py-1 text-xs font-semibold",h.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:h.active?"Activo":"Inactivo"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(h),children:"Editar"}),b.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(h.id),children:"Eliminar"})]})]})]},h.id))})]})]})}function Ks(e,t){return b.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[b.jsx("span",{children:e}),b.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function f4(){var c,f,h,m,v,g;const e=Ne(x=>x.exportBackup),t=Ne(x=>x.importBackup),[n,r]=S.useState(null),[s,o]=S.useState(null),a=()=>{try{const x=e(),k=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),_=URL.createObjectURL(k),C=document.createElement("a");C.href=_,C.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,C.click(),URL.revokeObjectURL(_),r({type:"success",text:"Backup exportado correctamente."})}catch(x){console.error(x),r({type:"error",text:"No se pudo exportar el backup."})}},u=async x=>{var _;const k=(_=x.target.files)==null?void 0:_[0];if(k)try{const C=await k.text(),N=JSON.parse(C);t(N),o(N),r({type:"success",text:"Datos importados correctamente."})}catch(C){console.error(C),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON válido."})}finally{x.target.value=""}};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),b.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu información en JSON versionado para compartir o restaurar en cualquier momento."})]}),b.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[b.jsx("button",{type:"button",className:"btn-primary",onClick:a,children:"Descargar backup"}),b.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",b.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:u})]})]})]}),n&&b.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),s&&b.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[b.jsx("h2",{className:"text-xl font-semibold text-white",children:"Última importación"}),b.jsxs("p",{className:"text-sm text-white/60",children:["Versión del backup: ",s.version]}),b.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[Ks("Objetivos",((c=s.objetivos)==null?void 0:c.length)??0),Ks("Trabajos",((f=s.trabajos)==null?void 0:f.length)??0),Ks("Sesiones",((h=s.sesiones)==null?void 0:h.length)??0),Ks("Asistentes",((m=s.asistentes)==null?void 0:m.length)??0),Ks("Sesiones · Trabajos",((v=s.sesiones_trabajos)==null?void 0:v.length)??0),Ks("Sesiones · Asistencias",((g=s.sesiones_asistencias)==null?void 0:g.length)??0)]})]}),b.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[b.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),b.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[b.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),b.jsx("li",{children:"Antes de importar, realiza una exportación por seguridad. La restauración sobrescribe los datos actuales sin posibilidad de deshacer."}),b.jsx("li",{children:"Los backups mantienen los IDs, así que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function h4(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=xc(),[s,o]=S.useState("login"),[a,u]=S.useState(""),[c,f]=S.useState(""),[h,m]=S.useState(""),[v,g]=S.useState(!1),[x,k]=S.useState(null),[_,C]=S.useState(null);if(!r&&n)return b.jsx(rp,{to:"/",replace:!0});const N=async F=>{if(F.preventDefault(),k(null),C(null),!a||!c){k("Introduce tu email y contraseña.");return}if(s==="register"&&c!==h){k("Las contraseñas no coinciden.");return}try{g(!0),s==="login"?await e(a,c):(await t(a,c),C("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesión."))}catch(H){const A=H instanceof Error?H.message:"No se pudo completar la operación.";k(A)}finally{g(!1)}},I=()=>{o(F=>F==="login"?"register":"login"),k(null),C(null),f(""),m("")};return b.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:b.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[b.jsxs("header",{className:"mb-8 text-center",children:[b.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),b.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:s==="login"?"Inicia sesión":"Crea tu cuenta"}),b.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),b.jsxs("form",{className:"space-y-5",onSubmit:N,children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),b.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:a,onChange:F=>u(F.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contraseña"}),b.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:c,onChange:F=>f(F.target.value),autoComplete:s==="login"?"current-password":"new-password"})]}),s==="register"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contraseña"}),b.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:h,onChange:F=>m(F.target.value),autoComplete:"new-password"})]}),x&&b.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:x}),_&&b.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:_}),b.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:v,children:v?"Procesando…":s==="login"?"Entrar":"Crear cuenta"})]}),b.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:s==="login"?b.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:I,children:"¿No tienes cuenta? Regístrate"}):b.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:I,children:"¿Ya tienes cuenta? Inicia sesión"})})]})})}const p4="/sport-planner/".replace(/\/$/,""),x0=[{to:"/",label:"Home"},{to:"/plan",label:"Planificar"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function m4(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),{user:s,signOut:o}=xc(),a=async()=>{try{r(!0),await o()}catch(u){console.error("No se pudo cerrar sesión",u)}finally{r(!1),t(!1)}};return b.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[b.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[b.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[b.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),b.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increíbles"})]})]}),b.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[b.jsx("nav",{className:"flex items-center gap-2",children:x0.map(u=>b.jsx(Hv,{to:u.to,className:({isActive:c})=>`rounded-full px-4 py-2 text-sm font-medium transition ${c?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:u.label},u.to))}),b.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-xs text-white/50",children:"Sesión iniciada"}),b.jsx("p",{className:"text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"})]}),b.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]}),b.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegación",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),b.jsxs(Ny,{open:e,onClose:t,className:"md:hidden",children:[b.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),b.jsxs(Ny.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegación"}),b.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegación",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"mt-6 flex flex-col gap-2",children:x0.map(u=>b.jsx(Hv,{to:u.to,className:({isActive:c})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${c?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:u.label},u.to))}),b.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesión iniciada"}),b.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"}),b.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]})]})]})}function g4(){return _P(),b.jsxs("div",{className:"min-h-screen pb-16",children:[b.jsx(m4,{}),b.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:b.jsx(P0,{})})]})}function v4(){return b.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),b.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner…"})]})})}function y4(){const{session:e,loading:t}=xc(),n=Ei();return t?b.jsx(v4,{}):e?b.jsx(P0,{}):b.jsx(rp,{to:"/login",replace:!0,state:{from:n}})}function w4(){return b.jsx(n_,{basename:p4||void 0,children:b.jsxs(YE,{children:[b.jsx(Xn,{path:"/login",element:b.jsx(h4,{})}),b.jsx(Xn,{element:b.jsx(y4,{}),children:b.jsxs(Xn,{element:b.jsx(g4,{}),children:[b.jsx(Xn,{index:!0,element:b.jsx(h$,{})}),b.jsx(Xn,{path:"plan",element:b.jsx(o4,{})}),b.jsx(Xn,{path:"catalog",element:b.jsx(u4,{})}),b.jsx(Xn,{path:"objectives",element:b.jsx(c4,{})}),b.jsx(Xn,{path:"assistants",element:b.jsx(d4,{})}),b.jsx(Xn,{path:"backups",element:b.jsx(f4,{})})]})}),b.jsx(Xn,{path:"*",element:b.jsx(rp,{to:"/",replace:!0})})]})})}Ne.getState().hydrate();nE.createRoot(document.getElementById("root")).render(b.jsx(pe.StrictMode,{children:b.jsx(pP,{children:b.jsx(w4,{})})}));
