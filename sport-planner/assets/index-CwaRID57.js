function nk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Ds(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rk(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var ud={exports:{}},jo={},cd={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function ik(){if(sg)return Pe;sg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(N){return N===null||typeof N!="object"?null:(N=m&&N[m]||N["@@iterator"],typeof N=="function"?N:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function C(N,P,_){this.props=N,this.context=P,this.refs=S,this.updater=_||v}C.prototype.isReactComponent={},C.prototype.setState=function(N,P){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,P,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function T(){}T.prototype=C.prototype;function I(N,P,_){this.props=N,this.context=P,this.refs=S,this.updater=_||v}var A=I.prototype=new T;A.constructor=I,k(A,C.prototype),A.isPureReactComponent=!0;var B=Array.isArray,V=Object.prototype.hasOwnProperty,D={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function re(N,P,_){var G,ee={},te=null,de=null;if(P!=null)for(G in P.ref!==void 0&&(de=P.ref),P.key!==void 0&&(te=""+P.key),P)V.call(P,G)&&!Q.hasOwnProperty(G)&&(ee[G]=P[G]);var fe=arguments.length-2;if(fe===1)ee.children=_;else if(1<fe){for(var pe=Array(fe),he=0;he<fe;he++)pe[he]=arguments[he+2];ee.children=pe}if(N&&N.defaultProps)for(G in fe=N.defaultProps,fe)ee[G]===void 0&&(ee[G]=fe[G]);return{$$typeof:e,type:N,key:te,ref:de,props:ee,_owner:D.current}}function se(N,P){return{$$typeof:e,type:N.type,key:P,ref:N.ref,props:N.props,_owner:N._owner}}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function $(N){var P={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(_){return P[_]})}var Z=/\/+/g;function K(N,P){return typeof N=="object"&&N!==null&&N.key!=null?$(""+N.key):P.toString(36)}function O(N,P,_,G,ee){var te=typeof N;(te==="undefined"||te==="boolean")&&(N=null);var de=!1;if(N===null)de=!0;else switch(te){case"string":case"number":de=!0;break;case"object":switch(N.$$typeof){case e:case t:de=!0}}if(de)return de=N,ee=ee(de),N=G===""?"."+K(de,0):G,B(ee)?(_="",N!=null&&(_=N.replace(Z,"$&/")+"/"),O(ee,P,_,"",function(he){return he})):ee!=null&&(M(ee)&&(ee=se(ee,_+(!ee.key||de&&de.key===ee.key?"":(""+ee.key).replace(Z,"$&/")+"/")+N)),P.push(ee)),1;if(de=0,G=G===""?".":G+":",B(N))for(var fe=0;fe<N.length;fe++){te=N[fe];var pe=G+K(te,fe);de+=O(te,P,_,pe,ee)}else if(pe=y(N),typeof pe=="function")for(N=pe.call(N),fe=0;!(te=N.next()).done;)te=te.value,pe=G+K(te,fe++),de+=O(te,P,_,pe,ee);else if(te==="object")throw P=String(N),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return de}function F(N,P,_){if(N==null)return N;var G=[],ee=0;return O(N,G,"","",function(te){return P.call(_,te,ee++)}),G}function L(N){if(N._status===-1){var P=N._result;P=P(),P.then(function(_){(N._status===0||N._status===-1)&&(N._status=1,N._result=_)},function(_){(N._status===0||N._status===-1)&&(N._status=2,N._result=_)}),N._status===-1&&(N._status=0,N._result=P)}if(N._status===1)return N._result.default;throw N._result}var U={current:null},W={transition:null},Y={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:W,ReactCurrentOwner:D};function b(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:F,forEach:function(N,P,_){F(N,function(){P.apply(this,arguments)},_)},count:function(N){var P=0;return F(N,function(){P++}),P},toArray:function(N){return F(N,function(P){return P})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Pe.Component=C,Pe.Fragment=n,Pe.Profiler=s,Pe.PureComponent=I,Pe.StrictMode=r,Pe.Suspense=d,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Pe.act=b,Pe.cloneElement=function(N,P,_){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var G=k({},N.props),ee=N.key,te=N.ref,de=N._owner;if(P!=null){if(P.ref!==void 0&&(te=P.ref,de=D.current),P.key!==void 0&&(ee=""+P.key),N.type&&N.type.defaultProps)var fe=N.type.defaultProps;for(pe in P)V.call(P,pe)&&!Q.hasOwnProperty(pe)&&(G[pe]=P[pe]===void 0&&fe!==void 0?fe[pe]:P[pe])}var pe=arguments.length-2;if(pe===1)G.children=_;else if(1<pe){fe=Array(pe);for(var he=0;he<pe;he++)fe[he]=arguments[he+2];G.children=fe}return{$$typeof:e,type:N.type,key:ee,ref:te,props:G,_owner:de}},Pe.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},Pe.createElement=re,Pe.createFactory=function(N){var P=re.bind(null,N);return P.type=N,P},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(N){return{$$typeof:c,render:N}},Pe.isValidElement=M,Pe.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:L}},Pe.memo=function(N,P){return{$$typeof:f,type:N,compare:P===void 0?null:P}},Pe.startTransition=function(N){var P=W.transition;W.transition={};try{N()}finally{W.transition=P}},Pe.unstable_act=b,Pe.useCallback=function(N,P){return U.current.useCallback(N,P)},Pe.useContext=function(N){return U.current.useContext(N)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(N){return U.current.useDeferredValue(N)},Pe.useEffect=function(N,P){return U.current.useEffect(N,P)},Pe.useId=function(){return U.current.useId()},Pe.useImperativeHandle=function(N,P,_){return U.current.useImperativeHandle(N,P,_)},Pe.useInsertionEffect=function(N,P){return U.current.useInsertionEffect(N,P)},Pe.useLayoutEffect=function(N,P){return U.current.useLayoutEffect(N,P)},Pe.useMemo=function(N,P){return U.current.useMemo(N,P)},Pe.useReducer=function(N,P,_){return U.current.useReducer(N,P,_)},Pe.useRef=function(N){return U.current.useRef(N)},Pe.useState=function(N){return U.current.useState(N)},Pe.useSyncExternalStore=function(N,P,_){return U.current.useSyncExternalStore(N,P,_)},Pe.useTransition=function(){return U.current.useTransition()},Pe.version="18.3.1",Pe}var og;function ou(){return og||(og=1,cd.exports=ik()),cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function sk(){if(ag)return jo;ag=1;var e=ou(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var p,m={},y=null,v=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:c,key:y,ref:v,props:m,_owner:s.current}}return jo.Fragment=n,jo.jsx=l,jo.jsxs=l,jo}var lg;function ok(){return lg||(lg=1,ud.exports=sk()),ud.exports}var x=ok(),E=ou();const ye=Ds(E),Xd=nk({__proto__:null,default:ye},[E]);var bl={},dd={exports:{}},Gt={},fd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function ak(){return ug||(ug=1,(function(e){function t(W,Y){var b=W.length;W.push(Y);e:for(;0<b;){var N=b-1>>>1,P=W[N];if(0<s(P,Y))W[N]=Y,W[b]=P,b=N;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],b=W.pop();if(b!==Y){W[0]=b;e:for(var N=0,P=W.length,_=P>>>1;N<_;){var G=2*(N+1)-1,ee=W[G],te=G+1,de=W[te];if(0>s(ee,b))te<P&&0>s(de,ee)?(W[N]=de,W[te]=b,N=te):(W[N]=ee,W[G]=b,N=G);else if(te<P&&0>s(de,b))W[N]=de,W[te]=b,N=te;else break e}}return Y}function s(W,Y){var b=W.sortIndex-Y.sortIndex;return b!==0?b:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,y=3,v=!1,k=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(W){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=W)r(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(f)}}function B(W){if(S=!1,A(W),!k)if(n(d)!==null)k=!0,L(V);else{var Y=n(f);Y!==null&&U(B,Y.startTime-W)}}function V(W,Y){k=!1,S&&(S=!1,T(re),re=-1),v=!0;var b=y;try{for(A(Y),m=n(d);m!==null&&(!(m.expirationTime>Y)||W&&!$());){var N=m.callback;if(typeof N=="function"){m.callback=null,y=m.priorityLevel;var P=N(m.expirationTime<=Y);Y=e.unstable_now(),typeof P=="function"?m.callback=P:m===n(d)&&r(d),A(Y)}else r(d);m=n(d)}if(m!==null)var _=!0;else{var G=n(f);G!==null&&U(B,G.startTime-Y),_=!1}return _}finally{m=null,y=b,v=!1}}var D=!1,Q=null,re=-1,se=5,M=-1;function $(){return!(e.unstable_now()-M<se)}function Z(){if(Q!==null){var W=e.unstable_now();M=W;var Y=!0;try{Y=Q(!0,W)}finally{Y?K():(D=!1,Q=null)}}else D=!1}var K;if(typeof I=="function")K=function(){I(Z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,F=O.port2;O.port1.onmessage=Z,K=function(){F.postMessage(null)}}else K=function(){C(Z,0)};function L(W){Q=W,D||(D=!0,K())}function U(W,Y){re=C(function(){W(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,L(V))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(W){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var b=y;y=Y;try{return W()}finally{y=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var b=y;y=W;try{return Y()}finally{y=b}},e.unstable_scheduleCallback=function(W,Y,b){var N=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?N+b:N):b=N,W){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=b+P,W={id:p++,callback:Y,priorityLevel:W,startTime:b,expirationTime:P,sortIndex:-1},b>N?(W.sortIndex=b,t(f,W),n(d)===null&&W===n(f)&&(S?(T(re),re=-1):S=!0,U(B,b-N))):(W.sortIndex=P,t(d,W),k||v||(k=!0,L(V))),W},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(W){var Y=y;return function(){var b=y;y=Y;try{return W.apply(this,arguments)}finally{y=b}}}})(hd)),hd}var cg;function lk(){return cg||(cg=1,fd.exports=ak()),fd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function uk(){if(dg)return Gt;dg=1;var e=ou(),t=lk();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(i){return d.call(m,i)?!0:d.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function v(i,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,h){if(o===null||typeof o>"u"||v(i,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(i,o,u,h,g,w,j){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=j}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new S(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function I(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(T,I);C[o]=new S(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(T,I);C[o]=new S(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(T,I);C[o]=new S(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function A(i,o,u,h){var g=C.hasOwnProperty(o)?C[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,g,h)&&(u=null),h||g===null?y(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,h=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?i.setAttributeNS(h,o,u):i.setAttribute(o,u))))}var B=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),D=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),$=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),W=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var b=Object.assign,N;function P(i){if(N===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);N=o&&o[1]||""}return`
`+N+i}var _=!1;function G(i,o){if(!i||_)return"";_=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var h=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){h=X}i.call(o.prototype)}else{try{throw Error()}catch(X){h=X}i()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),w=h.stack.split(`
`),j=g.length-1,R=w.length-1;1<=j&&0<=R&&g[j]!==w[R];)R--;for(;1<=j&&0<=R;j--,R--)if(g[j]!==w[R]){if(j!==1||R!==1)do if(j--,R--,0>R||g[j]!==w[R]){var z=`
`+g[j].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=j&&0<=R);break}}}finally{_=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?P(i):""}function ee(i){switch(i.tag){case 5:return P(i.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return i=G(i.type,!1),i;case 11:return i=G(i.type.render,!1),i;case 1:return i=G(i.type,!0),i;default:return""}}function te(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Q:return"Fragment";case D:return"Portal";case se:return"Profiler";case re:return"StrictMode";case K:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case $:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case Z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return o=i.displayName||null,o!==null?o:te(i.type)||"Memo";case L:o=i._payload,i=i._init;try{return te(i(o))}catch{}}return null}function de(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(o);case 8:return o===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function fe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function pe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function he(i){var o=pe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(j){h=""+j,w.call(this,j)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(j){h=""+j},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ae(i){i._valueTracker||(i._valueTracker=he(i))}function Fe(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=pe(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function ze(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function at(i,o){var u=o.checked;return b({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function hn(i,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=fe(o.value!=null?o.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function pn(i,o){o=o.checked,o!=null&&A(i,"checked",o,!1)}function ar(i,o){pn(i,o);var u=fe(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Vn(i,o.type,u):o.hasOwnProperty("defaultValue")&&Vn(i,o.type,fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ui(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Vn(i,o,u){(o!=="number"||ze(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var _t=Array.isArray;function nn(i,o,u,h){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+fe(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function qn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return b({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ci(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(_t(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:fe(u)}}function di(i,o){var u=fe(o.value),h=fe(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function Ui(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ne(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ne(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var be,je=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,h,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=be.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Oe(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mn=["Webkit","ms","Moz","O"];Object.keys(Ve).forEach(function(i){mn.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ve[o]=Ve[i]})});function Bt(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ve.hasOwnProperty(i)&&Ve[i]?(""+o).trim():o+"px"}function Yn(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Bt(u,o[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,g):i[u]=g}}var Tn=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(i,o){if(o){if(Tn[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function gn(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=null;function Hs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vs=null,jr=null,et=null;function Tt(i){if(i=fo(i)){if(typeof Vs!="function")throw Error(n(280));var o=i.stateNode;o&&(o=La(o),Vs(i.stateNode,i.type,o))}}function Nt(i){jr?et?et.push(i):et=[i]:jr=i}function Nn(){if(jr){var i=jr,o=et;if(et=jr=null,Tt(i),o)for(i=0;i<o.length;i++)Tt(o[i])}}function $t(i,o){return i(o)}function It(){}var Wt=!1;function lr(i,o,u){if(Wt)return i(o,u);Wt=!0;try{return $t(i,o,u)}finally{Wt=!1,(jr!==null||et!==null)&&(It(),Nn())}}function tt(i,o){var u=i.stateNode;if(u===null)return null;var h=La(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var vn=!1;if(c)try{var At={};Object.defineProperty(At,"passive",{get:function(){vn=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{vn=!1}function In(i,o,u,h,g,w,j,R,z){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(oe){this.onError(oe)}}var An=!1,Kn=null,rn=!1,ur=null,qs={onError:function(i){An=!0,Kn=i}};function cx(i,o,u,h,g,w,j,R,z){An=!1,Kn=null,In.apply(qs,arguments)}function dx(i,o,u,h,g,w,j,R,z){if(cx.apply(this,arguments),An){if(An){var X=Kn;An=!1,Kn=null}else throw Error(n(198));rn||(rn=!0,ur=X)}}function fi(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Th(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Nh(i){if(fi(i)!==i)throw Error(n(188))}function fx(i){var o=i.alternate;if(!o){if(o=fi(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,h=o;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return Nh(g),i;if(w===h)return Nh(g),o;w=w.sibling}throw Error(n(188))}if(u.return!==h.return)u=g,h=w;else{for(var j=!1,R=g.child;R;){if(R===u){j=!0,u=g,h=w;break}if(R===h){j=!0,h=g,u=w;break}R=R.sibling}if(!j){for(R=w.child;R;){if(R===u){j=!0,u=w,h=g;break}if(R===h){j=!0,h=w,u=g;break}R=R.sibling}if(!j)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Ih(i){return i=fx(i),i!==null?Ah(i):null}function Ah(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ah(i);if(o!==null)return o;i=i.sibling}return null}var Ph=t.unstable_scheduleCallback,Rh=t.unstable_cancelCallback,hx=t.unstable_shouldYield,px=t.unstable_requestPaint,lt=t.unstable_now,mx=t.unstable_getCurrentPriorityLevel,Nu=t.unstable_ImmediatePriority,Oh=t.unstable_UserBlockingPriority,ga=t.unstable_NormalPriority,gx=t.unstable_LowPriority,Dh=t.unstable_IdlePriority,va=null,Gn=null;function vx(i){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(va,i,void 0,(i.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:xx,yx=Math.log,wx=Math.LN2;function xx(i){return i>>>=0,i===0?32:31-(yx(i)/wx|0)|0}var ya=64,wa=4194304;function Ys(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function xa(i,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,w=i.pingedLanes,j=u&268435455;if(j!==0){var R=j&~g;R!==0?h=Ys(R):(w&=j,w!==0&&(h=Ys(w)))}else j=u&~g,j!==0?h=Ys(j):w!==0&&(h=Ys(w));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)u=31-Pn(o),g=1<<u,h|=i[u],o&=~g;return h}function bx(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kx(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes;0<w;){var j=31-Pn(w),R=1<<j,z=g[j];z===-1?((R&u)===0||(R&h)!==0)&&(g[j]=bx(R,o)):z<=o&&(i.expiredLanes|=R),w&=~R}}function Iu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Lh(){var i=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),i}function Au(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ks(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Pn(o),i[o]=u}function Sx(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-Pn(u),w=1<<g;o[g]=0,h[g]=-1,i[g]=-1,u&=~w}}function Pu(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-Pn(u),g=1<<h;g&o|i[h]&o&&(i[h]|=o),u&=~g}}var Ue=0;function Mh(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var $h,Ru,Fh,zh,Uh,Ou=!1,ba=[],Tr=null,Nr=null,Ir=null,Gs=new Map,Js=new Map,Ar=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bh(i,o){switch(i){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Gs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(o.pointerId)}}function Qs(i,o,u,h,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},o!==null&&(o=fo(o),o!==null&&Ru(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Ex(i,o,u,h,g){switch(o){case"focusin":return Tr=Qs(Tr,i,o,u,h,g),!0;case"dragenter":return Nr=Qs(Nr,i,o,u,h,g),!0;case"mouseover":return Ir=Qs(Ir,i,o,u,h,g),!0;case"pointerover":var w=g.pointerId;return Gs.set(w,Qs(Gs.get(w)||null,i,o,u,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Js.set(w,Qs(Js.get(w)||null,i,o,u,h,g)),!0}return!1}function Wh(i){var o=hi(i.target);if(o!==null){var u=fi(o);if(u!==null){if(o=u.tag,o===13){if(o=Th(u),o!==null){i.blockedOn=o,Uh(i.priority,function(){Fh(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ka(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Lu(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);jt=h,u.target.dispatchEvent(h),jt=null}else return o=fo(u),o!==null&&Ru(o),i.blockedOn=u,!1;o.shift()}return!0}function Hh(i,o,u){ka(i)&&u.delete(o)}function Cx(){Ou=!1,Tr!==null&&ka(Tr)&&(Tr=null),Nr!==null&&ka(Nr)&&(Nr=null),Ir!==null&&ka(Ir)&&(Ir=null),Gs.forEach(Hh),Js.forEach(Hh)}function Xs(i,o){i.blockedOn===o&&(i.blockedOn=null,Ou||(Ou=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Cx)))}function Zs(i){function o(g){return Xs(g,i)}if(0<ba.length){Xs(ba[0],i);for(var u=1;u<ba.length;u++){var h=ba[u];h.blockedOn===i&&(h.blockedOn=null)}}for(Tr!==null&&Xs(Tr,i),Nr!==null&&Xs(Nr,i),Ir!==null&&Xs(Ir,i),Gs.forEach(o),Js.forEach(o),u=0;u<Ar.length;u++)h=Ar[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<Ar.length&&(u=Ar[0],u.blockedOn===null);)Wh(u),u.blockedOn===null&&Ar.shift()}var Bi=B.ReactCurrentBatchConfig,Sa=!0;function jx(i,o,u,h){var g=Ue,w=Bi.transition;Bi.transition=null;try{Ue=1,Du(i,o,u,h)}finally{Ue=g,Bi.transition=w}}function Tx(i,o,u,h){var g=Ue,w=Bi.transition;Bi.transition=null;try{Ue=4,Du(i,o,u,h)}finally{Ue=g,Bi.transition=w}}function Du(i,o,u,h){if(Sa){var g=Lu(i,o,u,h);if(g===null)Zu(i,o,h,_a,u),Bh(i,h);else if(Ex(g,i,o,u,h))h.stopPropagation();else if(Bh(i,h),o&4&&-1<_x.indexOf(i)){for(;g!==null;){var w=fo(g);if(w!==null&&$h(w),w=Lu(i,o,u,h),w===null&&Zu(i,o,h,_a,u),w===g)break;g=w}g!==null&&h.stopPropagation()}else Zu(i,o,h,null,u)}}var _a=null;function Lu(i,o,u,h){if(_a=null,i=Hs(h),i=hi(i),i!==null)if(o=fi(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Th(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return _a=i,null}function Vh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mx()){case Nu:return 1;case Oh:return 4;case ga:case gx:return 16;case Dh:return 536870912;default:return 16}default:return 16}}var Pr=null,Mu=null,Ea=null;function qh(){if(Ea)return Ea;var i,o=Mu,u=o.length,h,g="value"in Pr?Pr.value:Pr.textContent,w=g.length;for(i=0;i<u&&o[i]===g[i];i++);var j=u-i;for(h=1;h<=j&&o[u-h]===g[w-h];h++);return Ea=g.slice(i,1<h?1-h:void 0)}function Ca(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ja(){return!0}function Yh(){return!1}function sn(i){function o(u,h,g,w,j){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=j,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ja:Yh,this.isPropagationStopped=Yh,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),o}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=sn(Wi),eo=b({},Wi,{view:0,detail:0}),Nx=sn(eo),Fu,zu,to,Ta=b({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==to&&(to&&i.type==="mousemove"?(Fu=i.screenX-to.screenX,zu=i.screenY-to.screenY):zu=Fu=0,to=i),Fu)},movementY:function(i){return"movementY"in i?i.movementY:zu}}),Kh=sn(Ta),Ix=b({},Ta,{dataTransfer:0}),Ax=sn(Ix),Px=b({},eo,{relatedTarget:0}),Uu=sn(Px),Rx=b({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ox=sn(Rx),Dx=b({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Lx=sn(Dx),Mx=b({},Wi,{data:0}),Gh=sn(Mx),$x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ux(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=zx[i])?!!o[i]:!1}function Bu(){return Ux}var Bx=b({},eo,{key:function(i){if(i.key){var o=$x[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bu,charCode:function(i){return i.type==="keypress"?Ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wx=sn(Bx),Hx=b({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=sn(Hx),Vx=b({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bu}),qx=sn(Vx),Yx=b({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kx=sn(Yx),Gx=b({},Ta,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Jx=sn(Gx),Qx=[9,13,27,32],Wu=c&&"CompositionEvent"in window,no=null;c&&"documentMode"in document&&(no=document.documentMode);var Xx=c&&"TextEvent"in window&&!no,Qh=c&&(!Wu||no&&8<no&&11>=no),Xh=" ",Zh=!1;function ep(i,o){switch(i){case"keyup":return Qx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Hi=!1;function Zx(i,o){switch(i){case"compositionend":return tp(o);case"keypress":return o.which!==32?null:(Zh=!0,Xh);case"textInput":return i=o.data,i===Xh&&Zh?null:i;default:return null}}function eb(i,o){if(Hi)return i==="compositionend"||!Wu&&ep(i,o)?(i=qh(),Ea=Mu=Pr=null,Hi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Qh&&o.locale!=="ko"?null:o.data;default:return null}}var tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function np(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!tb[i.type]:o==="textarea"}function rp(i,o,u,h){Nt(h),o=Ra(o,"onChange"),0<o.length&&(u=new $u("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var ro=null,io=null;function nb(i){bp(i,0)}function Na(i){var o=Gi(i);if(Fe(o))return i}function rb(i,o){if(i==="change")return o}var ip=!1;if(c){var Hu;if(c){var Vu="oninput"in document;if(!Vu){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),Vu=typeof sp.oninput=="function"}Hu=Vu}else Hu=!1;ip=Hu&&(!document.documentMode||9<document.documentMode)}function op(){ro&&(ro.detachEvent("onpropertychange",ap),io=ro=null)}function ap(i){if(i.propertyName==="value"&&Na(io)){var o=[];rp(o,io,i,Hs(i)),lr(nb,o)}}function ib(i,o,u){i==="focusin"?(op(),ro=o,io=u,ro.attachEvent("onpropertychange",ap)):i==="focusout"&&op()}function sb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Na(io)}function ob(i,o){if(i==="click")return Na(o)}function ab(i,o){if(i==="input"||i==="change")return Na(o)}function lb(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Rn=typeof Object.is=="function"?Object.is:lb;function so(i,o){if(Rn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!d.call(o,g)||!Rn(i[g],o[g]))return!1}return!0}function lp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function up(i,o){var u=lp(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lp(u)}}function cp(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?cp(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function dp(){for(var i=window,o=ze();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=ze(i.document)}return o}function qu(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function ub(i){var o=dp(),u=i.focusedElem,h=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&cp(u.ownerDocument.documentElement,u)){if(h!==null&&qu(u)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!i.extend&&w>h&&(g=h,h=w,w=g),g=up(u,w);var j=up(u,h);g&&j&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==j.node||i.focusOffset!==j.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),w>h?(i.addRange(o),i.extend(j.node,j.offset)):(o.setEnd(j.node,j.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var cb=c&&"documentMode"in document&&11>=document.documentMode,Vi=null,Yu=null,oo=null,Ku=!1;function fp(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ku||Vi==null||Vi!==ze(h)||(h=Vi,"selectionStart"in h&&qu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),oo&&so(oo,h)||(oo=h,h=Ra(Yu,"onSelect"),0<h.length&&(o=new $u("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=Vi)))}function Ia(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var qi={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},Gu={},hp={};c&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function Aa(i){if(Gu[i])return Gu[i];if(!qi[i])return i;var o=qi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in hp)return Gu[i]=o[u];return i}var pp=Aa("animationend"),mp=Aa("animationiteration"),gp=Aa("animationstart"),vp=Aa("transitionend"),yp=new Map,wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(i,o){yp.set(i,o),a(o,[i])}for(var Ju=0;Ju<wp.length;Ju++){var Qu=wp[Ju],db=Qu.toLowerCase(),fb=Qu[0].toUpperCase()+Qu.slice(1);Rr(db,"on"+fb)}Rr(pp,"onAnimationEnd"),Rr(mp,"onAnimationIteration"),Rr(gp,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(vp,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function xp(i,o,u){var h=i.type||"unknown-event";i.currentTarget=u,dx(h,o,void 0,i),i.currentTarget=null}function bp(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var j=h.length-1;0<=j;j--){var R=h[j],z=R.instance,X=R.currentTarget;if(R=R.listener,z!==w&&g.isPropagationStopped())break e;xp(g,R,X),w=z}else for(j=0;j<h.length;j++){if(R=h[j],z=R.instance,X=R.currentTarget,R=R.listener,z!==w&&g.isPropagationStopped())break e;xp(g,R,X),w=z}}}if(rn)throw i=ur,rn=!1,ur=null,i}function Ge(i,o){var u=o[sc];u===void 0&&(u=o[sc]=new Set);var h=i+"__bubble";u.has(h)||(kp(o,i,2,!1),u.add(h))}function Xu(i,o,u){var h=0;o&&(h|=4),kp(u,i,h,o)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function lo(i){if(!i[Pa]){i[Pa]=!0,r.forEach(function(u){u!=="selectionchange"&&(hb.has(u)||Xu(u,!1,i),Xu(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Pa]||(o[Pa]=!0,Xu("selectionchange",!1,o))}}function kp(i,o,u,h){switch(Vh(o)){case 1:var g=jx;break;case 4:g=Tx;break;default:g=Du}u=g.bind(null,o,u,i),g=void 0,!vn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function Zu(i,o,u,h,g){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var j=h.tag;if(j===3||j===4){var R=h.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(j===4)for(j=h.return;j!==null;){var z=j.tag;if((z===3||z===4)&&(z=j.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;j=j.return}for(;R!==null;){if(j=hi(R),j===null)return;if(z=j.tag,z===5||z===6){h=w=j;continue e}R=R.parentNode}}h=h.return}lr(function(){var X=w,oe=Hs(u),ae=[];e:{var ie=yp.get(i);if(ie!==void 0){var me=$u,ve=i;switch(i){case"keypress":if(Ca(u)===0)break e;case"keydown":case"keyup":me=Wx;break;case"focusin":ve="focus",me=Uu;break;case"focusout":ve="blur",me=Uu;break;case"beforeblur":case"afterblur":me=Uu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=qx;break;case pp:case mp:case gp:me=Ox;break;case vp:me=Kx;break;case"scroll":me=Nx;break;case"wheel":me=Jx;break;case"copy":case"cut":case"paste":me=Lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Jh}var we=(o&4)!==0,ut=!we&&i==="scroll",q=we?ie!==null?ie+"Capture":null:ie;we=[];for(var H=X,J;H!==null;){J=H;var ce=J.stateNode;if(J.tag===5&&ce!==null&&(J=ce,q!==null&&(ce=tt(H,q),ce!=null&&we.push(uo(H,ce,J)))),ut)break;H=H.return}0<we.length&&(ie=new me(ie,ve,null,u,oe),ae.push({event:ie,listeners:we}))}}if((o&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",ie&&u!==jt&&(ve=u.relatedTarget||u.fromElement)&&(hi(ve)||ve[cr]))break e;if((me||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,me?(ve=u.relatedTarget||u.toElement,me=X,ve=ve?hi(ve):null,ve!==null&&(ut=fi(ve),ve!==ut||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=X),me!==ve)){if(we=Kh,ce="onMouseLeave",q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(we=Jh,ce="onPointerLeave",q="onPointerEnter",H="pointer"),ut=me==null?ie:Gi(me),J=ve==null?ie:Gi(ve),ie=new we(ce,H+"leave",me,u,oe),ie.target=ut,ie.relatedTarget=J,ce=null,hi(oe)===X&&(we=new we(q,H+"enter",ve,u,oe),we.target=J,we.relatedTarget=ut,ce=we),ut=ce,me&&ve)t:{for(we=me,q=ve,H=0,J=we;J;J=Yi(J))H++;for(J=0,ce=q;ce;ce=Yi(ce))J++;for(;0<H-J;)we=Yi(we),H--;for(;0<J-H;)q=Yi(q),J--;for(;H--;){if(we===q||q!==null&&we===q.alternate)break t;we=Yi(we),q=Yi(q)}we=null}else we=null;me!==null&&Sp(ae,ie,me,we,!1),ve!==null&&ut!==null&&Sp(ae,ut,ve,we,!0)}}e:{if(ie=X?Gi(X):window,me=ie.nodeName&&ie.nodeName.toLowerCase(),me==="select"||me==="input"&&ie.type==="file")var xe=rb;else if(np(ie))if(ip)xe=ab;else{xe=sb;var ke=ib}else(me=ie.nodeName)&&me.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(xe=ob);if(xe&&(xe=xe(i,X))){rp(ae,xe,u,oe);break e}ke&&ke(i,ie,X),i==="focusout"&&(ke=ie._wrapperState)&&ke.controlled&&ie.type==="number"&&Vn(ie,"number",ie.value)}switch(ke=X?Gi(X):window,i){case"focusin":(np(ke)||ke.contentEditable==="true")&&(Vi=ke,Yu=X,oo=null);break;case"focusout":oo=Yu=Vi=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,fp(ae,u,oe);break;case"selectionchange":if(cb)break;case"keydown":case"keyup":fp(ae,u,oe)}var Se;if(Wu)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Hi?ep(i,u)&&(Ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Qh&&u.locale!=="ko"&&(Hi||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Hi&&(Se=qh()):(Pr=oe,Mu="value"in Pr?Pr.value:Pr.textContent,Hi=!0)),ke=Ra(X,Ce),0<ke.length&&(Ce=new Gh(Ce,i,null,u,oe),ae.push({event:Ce,listeners:ke}),Se?Ce.data=Se:(Se=tp(u),Se!==null&&(Ce.data=Se)))),(Se=Xx?Zx(i,u):eb(i,u))&&(X=Ra(X,"onBeforeInput"),0<X.length&&(oe=new Gh("onBeforeInput","beforeinput",null,u,oe),ae.push({event:oe,listeners:X}),oe.data=Se))}bp(ae,o)})}function uo(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Ra(i,o){for(var u=o+"Capture",h=[];i!==null;){var g=i,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=tt(i,u),w!=null&&h.unshift(uo(i,w,g)),w=tt(i,o),w!=null&&h.push(uo(i,w,g))),i=i.return}return h}function Yi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Sp(i,o,u,h,g){for(var w=o._reactName,j=[];u!==null&&u!==h;){var R=u,z=R.alternate,X=R.stateNode;if(z!==null&&z===h)break;R.tag===5&&X!==null&&(R=X,g?(z=tt(u,w),z!=null&&j.unshift(uo(u,z,R))):g||(z=tt(u,w),z!=null&&j.push(uo(u,z,R)))),u=u.return}j.length!==0&&i.push({event:o,listeners:j})}var pb=/\r\n?/g,mb=/\u0000|\uFFFD/g;function _p(i){return(typeof i=="string"?i:""+i).replace(pb,`
`).replace(mb,"")}function Oa(i,o,u){if(o=_p(o),_p(i)!==o&&u)throw Error(n(425))}function Da(){}var ec=null,tc=null;function nc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var rc=typeof setTimeout=="function"?setTimeout:void 0,gb=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(i){return Ep.resolve(null).then(i).catch(yb)}:rc;function yb(i){setTimeout(function(){throw i})}function ic(i,o){var u=o,h=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){i.removeChild(g),Zs(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);Zs(o)}function Or(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Cp(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ki,co="__reactProps$"+Ki,cr="__reactContainer$"+Ki,sc="__reactEvents$"+Ki,wb="__reactListeners$"+Ki,xb="__reactHandles$"+Ki;function hi(i){var o=i[Jn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[cr]||u[Jn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Cp(i);i!==null;){if(u=i[Jn])return u;i=Cp(i)}return o}i=u,u=i.parentNode}return null}function fo(i){return i=i[Jn]||i[cr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Gi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function La(i){return i[co]||null}var oc=[],Ji=-1;function Dr(i){return{current:i}}function Je(i){0>Ji||(i.current=oc[Ji],oc[Ji]=null,Ji--)}function qe(i,o){Ji++,oc[Ji]=i.current,i.current=o}var Lr={},Pt=Dr(Lr),Ht=Dr(!1),pi=Lr;function Qi(i,o){var u=i.type.contextTypes;if(!u)return Lr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=o[w];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Vt(i){return i=i.childContextTypes,i!=null}function Ma(){Je(Ht),Je(Pt)}function jp(i,o,u){if(Pt.current!==Lr)throw Error(n(168));qe(Pt,o),qe(Ht,u)}function Tp(i,o,u){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(n(108,de(i)||"Unknown",g));return b({},u,h)}function $a(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Lr,pi=Pt.current,qe(Pt,i),qe(Ht,Ht.current),!0}function Np(i,o,u){var h=i.stateNode;if(!h)throw Error(n(169));u?(i=Tp(i,o,pi),h.__reactInternalMemoizedMergedChildContext=i,Je(Ht),Je(Pt),qe(Pt,i)):Je(Ht),qe(Ht,u)}var dr=null,Fa=!1,ac=!1;function Ip(i){dr===null?dr=[i]:dr.push(i)}function bb(i){Fa=!0,Ip(i)}function Mr(){if(!ac&&dr!==null){ac=!0;var i=0,o=Ue;try{var u=dr;for(Ue=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}dr=null,Fa=!1}catch(g){throw dr!==null&&(dr=dr.slice(i+1)),Ph(Nu,Mr),g}finally{Ue=o,ac=!1}}return null}var Xi=[],Zi=0,za=null,Ua=0,yn=[],wn=0,mi=null,fr=1,hr="";function gi(i,o){Xi[Zi++]=Ua,Xi[Zi++]=za,za=i,Ua=o}function Ap(i,o,u){yn[wn++]=fr,yn[wn++]=hr,yn[wn++]=mi,mi=i;var h=fr;i=hr;var g=32-Pn(h)-1;h&=~(1<<g),u+=1;var w=32-Pn(o)+g;if(30<w){var j=g-g%5;w=(h&(1<<j)-1).toString(32),h>>=j,g-=j,fr=1<<32-Pn(o)+g|u<<g|h,hr=w+i}else fr=1<<w|u<<g|h,hr=i}function lc(i){i.return!==null&&(gi(i,1),Ap(i,1,0))}function uc(i){for(;i===za;)za=Xi[--Zi],Xi[Zi]=null,Ua=Xi[--Zi],Xi[Zi]=null;for(;i===mi;)mi=yn[--wn],yn[wn]=null,hr=yn[--wn],yn[wn]=null,fr=yn[--wn],yn[wn]=null}var on=null,an=null,Ze=!1,On=null;function Pp(i,o){var u=Sn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Rp(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,on=i,an=Or(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,on=i,an=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=mi!==null?{id:fr,overflow:hr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Sn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,on=i,an=null,!0):!1;default:return!1}}function cc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function dc(i){if(Ze){var o=an;if(o){var u=o;if(!Rp(i,o)){if(cc(i))throw Error(n(418));o=Or(u.nextSibling);var h=on;o&&Rp(i,o)?Pp(h,u):(i.flags=i.flags&-4097|2,Ze=!1,on=i)}}else{if(cc(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ze=!1,on=i}}}function Op(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;on=i}function Ba(i){if(i!==on)return!1;if(!Ze)return Op(i),Ze=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!nc(i.type,i.memoizedProps)),o&&(o=an)){if(cc(i))throw Dp(),Error(n(418));for(;o;)Pp(i,o),o=Or(o.nextSibling)}if(Op(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){an=Or(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}an=null}}else an=on?Or(i.stateNode.nextSibling):null;return!0}function Dp(){for(var i=an;i;)i=Or(i.nextSibling)}function es(){an=on=null,Ze=!1}function fc(i){On===null?On=[i]:On.push(i)}var kb=B.ReactCurrentBatchConfig;function ho(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,i));var g=h,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(j){var R=g.refs;j===null?delete R[w]:R[w]=j},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Wa(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Lp(i){var o=i._init;return o(i._payload)}function Mp(i){function o(q,H){if(i){var J=q.deletions;J===null?(q.deletions=[H],q.flags|=16):J.push(H)}}function u(q,H){if(!i)return null;for(;H!==null;)o(q,H),H=H.sibling;return null}function h(q,H){for(q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function g(q,H){return q=Vr(q,H),q.index=0,q.sibling=null,q}function w(q,H,J){return q.index=J,i?(J=q.alternate,J!==null?(J=J.index,J<H?(q.flags|=2,H):J):(q.flags|=2,H)):(q.flags|=1048576,H)}function j(q){return i&&q.alternate===null&&(q.flags|=2),q}function R(q,H,J,ce){return H===null||H.tag!==6?(H=rd(J,q.mode,ce),H.return=q,H):(H=g(H,J),H.return=q,H)}function z(q,H,J,ce){var xe=J.type;return xe===Q?oe(q,H,J.props.children,ce,J.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&Lp(xe)===H.type)?(ce=g(H,J.props),ce.ref=ho(q,H,J),ce.return=q,ce):(ce=hl(J.type,J.key,J.props,null,q.mode,ce),ce.ref=ho(q,H,J),ce.return=q,ce)}function X(q,H,J,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=id(J,q.mode,ce),H.return=q,H):(H=g(H,J.children||[]),H.return=q,H)}function oe(q,H,J,ce,xe){return H===null||H.tag!==7?(H=_i(J,q.mode,ce,xe),H.return=q,H):(H=g(H,J),H.return=q,H)}function ae(q,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=rd(""+H,q.mode,J),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case V:return J=hl(H.type,H.key,H.props,null,q.mode,J),J.ref=ho(q,null,H),J.return=q,J;case D:return H=id(H,q.mode,J),H.return=q,H;case L:var ce=H._init;return ae(q,ce(H._payload),J)}if(_t(H)||Y(H))return H=_i(H,q.mode,J,null),H.return=q,H;Wa(q,H)}return null}function ie(q,H,J,ce){var xe=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return xe!==null?null:R(q,H,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return J.key===xe?z(q,H,J,ce):null;case D:return J.key===xe?X(q,H,J,ce):null;case L:return xe=J._init,ie(q,H,xe(J._payload),ce)}if(_t(J)||Y(J))return xe!==null?null:oe(q,H,J,ce,null);Wa(q,J)}return null}function me(q,H,J,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return q=q.get(J)||null,R(H,q,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case V:return q=q.get(ce.key===null?J:ce.key)||null,z(H,q,ce,xe);case D:return q=q.get(ce.key===null?J:ce.key)||null,X(H,q,ce,xe);case L:var ke=ce._init;return me(q,H,J,ke(ce._payload),xe)}if(_t(ce)||Y(ce))return q=q.get(J)||null,oe(H,q,ce,xe,null);Wa(H,ce)}return null}function ve(q,H,J,ce){for(var xe=null,ke=null,Se=H,Ce=H=0,bt=null;Se!==null&&Ce<J.length;Ce++){Se.index>Ce?(bt=Se,Se=null):bt=Se.sibling;var Me=ie(q,Se,J[Ce],ce);if(Me===null){Se===null&&(Se=bt);break}i&&Se&&Me.alternate===null&&o(q,Se),H=w(Me,H,Ce),ke===null?xe=Me:ke.sibling=Me,ke=Me,Se=bt}if(Ce===J.length)return u(q,Se),Ze&&gi(q,Ce),xe;if(Se===null){for(;Ce<J.length;Ce++)Se=ae(q,J[Ce],ce),Se!==null&&(H=w(Se,H,Ce),ke===null?xe=Se:ke.sibling=Se,ke=Se);return Ze&&gi(q,Ce),xe}for(Se=h(q,Se);Ce<J.length;Ce++)bt=me(Se,q,Ce,J[Ce],ce),bt!==null&&(i&&bt.alternate!==null&&Se.delete(bt.key===null?Ce:bt.key),H=w(bt,H,Ce),ke===null?xe=bt:ke.sibling=bt,ke=bt);return i&&Se.forEach(function(qr){return o(q,qr)}),Ze&&gi(q,Ce),xe}function we(q,H,J,ce){var xe=Y(J);if(typeof xe!="function")throw Error(n(150));if(J=xe.call(J),J==null)throw Error(n(151));for(var ke=xe=null,Se=H,Ce=H=0,bt=null,Me=J.next();Se!==null&&!Me.done;Ce++,Me=J.next()){Se.index>Ce?(bt=Se,Se=null):bt=Se.sibling;var qr=ie(q,Se,Me.value,ce);if(qr===null){Se===null&&(Se=bt);break}i&&Se&&qr.alternate===null&&o(q,Se),H=w(qr,H,Ce),ke===null?xe=qr:ke.sibling=qr,ke=qr,Se=bt}if(Me.done)return u(q,Se),Ze&&gi(q,Ce),xe;if(Se===null){for(;!Me.done;Ce++,Me=J.next())Me=ae(q,Me.value,ce),Me!==null&&(H=w(Me,H,Ce),ke===null?xe=Me:ke.sibling=Me,ke=Me);return Ze&&gi(q,Ce),xe}for(Se=h(q,Se);!Me.done;Ce++,Me=J.next())Me=me(Se,q,Ce,Me.value,ce),Me!==null&&(i&&Me.alternate!==null&&Se.delete(Me.key===null?Ce:Me.key),H=w(Me,H,Ce),ke===null?xe=Me:ke.sibling=Me,ke=Me);return i&&Se.forEach(function(tk){return o(q,tk)}),Ze&&gi(q,Ce),xe}function ut(q,H,J,ce){if(typeof J=="object"&&J!==null&&J.type===Q&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case V:e:{for(var xe=J.key,ke=H;ke!==null;){if(ke.key===xe){if(xe=J.type,xe===Q){if(ke.tag===7){u(q,ke.sibling),H=g(ke,J.props.children),H.return=q,q=H;break e}}else if(ke.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&Lp(xe)===ke.type){u(q,ke.sibling),H=g(ke,J.props),H.ref=ho(q,ke,J),H.return=q,q=H;break e}u(q,ke);break}else o(q,ke);ke=ke.sibling}J.type===Q?(H=_i(J.props.children,q.mode,ce,J.key),H.return=q,q=H):(ce=hl(J.type,J.key,J.props,null,q.mode,ce),ce.ref=ho(q,H,J),ce.return=q,q=ce)}return j(q);case D:e:{for(ke=J.key;H!==null;){if(H.key===ke)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){u(q,H.sibling),H=g(H,J.children||[]),H.return=q,q=H;break e}else{u(q,H);break}else o(q,H);H=H.sibling}H=id(J,q.mode,ce),H.return=q,q=H}return j(q);case L:return ke=J._init,ut(q,H,ke(J._payload),ce)}if(_t(J))return ve(q,H,J,ce);if(Y(J))return we(q,H,J,ce);Wa(q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(u(q,H.sibling),H=g(H,J),H.return=q,q=H):(u(q,H),H=rd(J,q.mode,ce),H.return=q,q=H),j(q)):u(q,H)}return ut}var ts=Mp(!0),$p=Mp(!1),Ha=Dr(null),Va=null,ns=null,hc=null;function pc(){hc=ns=Va=null}function mc(i){var o=Ha.current;Je(Ha),i._currentValue=o}function gc(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function rs(i,o){Va=i,hc=ns=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(qt=!0),i.firstContext=null)}function xn(i){var o=i._currentValue;if(hc!==i)if(i={context:i,memoizedValue:o,next:null},ns===null){if(Va===null)throw Error(n(308));ns=i,Va.dependencies={lanes:0,firstContext:i}}else ns=ns.next=i;return o}var vi=null;function vc(i){vi===null?vi=[i]:vi.push(i)}function Fp(i,o,u,h){var g=o.interleaved;return g===null?(u.next=u,vc(o)):(u.next=g.next,g.next=u),o.interleaved=u,pr(i,h)}function pr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var $r=!1;function yc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Fr(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Le&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,pr(i,u)}return g=h.interleaved,g===null?(o.next=o,vc(h)):(o.next=g.next,g.next=o),h.interleaved=o,pr(i,u)}function qa(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Pu(i,u)}}function Up(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var j={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=j:w=w.next=j,u=u.next}while(u!==null);w===null?g=w=o:w=w.next=o}else g=w=o;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Ya(i,o,u,h){var g=i.updateQueue;$r=!1;var w=g.firstBaseUpdate,j=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var z=R,X=z.next;z.next=null,j===null?w=X:j.next=X,j=z;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,R=oe.lastBaseUpdate,R!==j&&(R===null?oe.firstBaseUpdate=X:R.next=X,oe.lastBaseUpdate=z))}if(w!==null){var ae=g.baseState;j=0,oe=X=z=null,R=w;do{var ie=R.lane,me=R.eventTime;if((h&ie)===ie){oe!==null&&(oe=oe.next={eventTime:me,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ve=i,we=R;switch(ie=o,me=u,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ae=ve.call(me,ae,ie);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,ie=typeof ve=="function"?ve.call(me,ae,ie):ve,ie==null)break e;ae=b({},ae,ie);break e;case 2:$r=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,ie=g.effects,ie===null?g.effects=[R]:ie.push(R))}else me={eventTime:me,lane:ie,tag:R.tag,payload:R.payload,callback:R.callback,next:null},oe===null?(X=oe=me,z=ae):oe=oe.next=me,j|=ie;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ie=R,R=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);if(oe===null&&(z=ae),g.baseState=z,g.firstBaseUpdate=X,g.lastBaseUpdate=oe,o=g.shared.interleaved,o!==null){g=o;do j|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);xi|=j,i.lanes=j,i.memoizedState=ae}}function Bp(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var po={},Qn=Dr(po),mo=Dr(po),go=Dr(po);function yi(i){if(i===po)throw Error(n(174));return i}function wc(i,o){switch(qe(go,o),qe(mo,i),qe(Qn,po),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ue(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ue(o,i)}Je(Qn),qe(Qn,o)}function is(){Je(Qn),Je(mo),Je(go)}function Wp(i){yi(go.current);var o=yi(Qn.current),u=ue(o,i.type);o!==u&&(qe(mo,i),qe(Qn,u))}function xc(i){mo.current===i&&(Je(Qn),Je(mo))}var nt=Dr(0);function Ka(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var bc=[];function kc(){for(var i=0;i<bc.length;i++)bc[i]._workInProgressVersionPrimary=null;bc.length=0}var Ga=B.ReactCurrentDispatcher,Sc=B.ReactCurrentBatchConfig,wi=0,rt=null,mt=null,wt=null,Ja=!1,vo=!1,yo=0,Sb=0;function Rt(){throw Error(n(321))}function _c(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Rn(i[u],o[u]))return!1;return!0}function Ec(i,o,u,h,g,w){if(wi=w,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ga.current=i===null||i.memoizedState===null?jb:Tb,i=u(h,g),vo){w=0;do{if(vo=!1,yo=0,25<=w)throw Error(n(301));w+=1,wt=mt=null,o.updateQueue=null,Ga.current=Nb,i=u(h,g)}while(vo)}if(Ga.current=Za,o=mt!==null&&mt.next!==null,wi=0,wt=mt=rt=null,Ja=!1,o)throw Error(n(300));return i}function Cc(){var i=yo!==0;return yo=0,i}function Xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?rt.memoizedState=wt=i:wt=wt.next=i,wt}function bn(){if(mt===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var o=wt===null?rt.memoizedState:wt.next;if(o!==null)wt=o,mt=i;else{if(i===null)throw Error(n(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},wt===null?rt.memoizedState=wt=i:wt=wt.next=i}return wt}function wo(i,o){return typeof o=="function"?o(i):o}function jc(i){var o=bn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=mt,g=h.baseQueue,w=u.pending;if(w!==null){if(g!==null){var j=g.next;g.next=w.next,w.next=j}h.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,h=h.baseState;var R=j=null,z=null,X=w;do{var oe=X.lane;if((wi&oe)===oe)z!==null&&(z=z.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:i(h,X.action);else{var ae={lane:oe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};z===null?(R=z=ae,j=h):z=z.next=ae,rt.lanes|=oe,xi|=oe}X=X.next}while(X!==null&&X!==w);z===null?j=h:z.next=R,Rn(h,o.memoizedState)||(qt=!0),o.memoizedState=h,o.baseState=j,o.baseQueue=z,u.lastRenderedState=h}if(i=u.interleaved,i!==null){g=i;do w=g.lane,rt.lanes|=w,xi|=w,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Tc(i){var o=bn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,w=o.memoizedState;if(g!==null){u.pending=null;var j=g=g.next;do w=i(w,j.action),j=j.next;while(j!==g);Rn(w,o.memoizedState)||(qt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,h]}function Hp(){}function Vp(i,o){var u=rt,h=bn(),g=o(),w=!Rn(h.memoizedState,g);if(w&&(h.memoizedState=g,qt=!0),h=h.queue,Nc(Kp.bind(null,u,h,i),[i]),h.getSnapshot!==o||w||wt!==null&&wt.memoizedState.tag&1){if(u.flags|=2048,xo(9,Yp.bind(null,u,h,g,o),void 0,null),xt===null)throw Error(n(349));(wi&30)!==0||qp(u,o,g)}return g}function qp(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Yp(i,o,u,h){o.value=u,o.getSnapshot=h,Gp(o)&&Jp(i)}function Kp(i,o,u){return u(function(){Gp(o)&&Jp(i)})}function Gp(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Rn(i,u)}catch{return!0}}function Jp(i){var o=pr(i,1);o!==null&&$n(o,i,1,-1)}function Qp(i){var o=Xn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:i},o.queue=i,i=i.dispatch=Cb.bind(null,rt,i),[o.memoizedState,i]}function xo(i,o,u,h){return i={tag:i,create:o,destroy:u,deps:h,next:null},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i)),i}function Xp(){return bn().memoizedState}function Qa(i,o,u,h){var g=Xn();rt.flags|=i,g.memoizedState=xo(1|o,u,void 0,h===void 0?null:h)}function Xa(i,o,u,h){var g=bn();h=h===void 0?null:h;var w=void 0;if(mt!==null){var j=mt.memoizedState;if(w=j.destroy,h!==null&&_c(h,j.deps)){g.memoizedState=xo(o,u,w,h);return}}rt.flags|=i,g.memoizedState=xo(1|o,u,w,h)}function Zp(i,o){return Qa(8390656,8,i,o)}function Nc(i,o){return Xa(2048,8,i,o)}function em(i,o){return Xa(4,2,i,o)}function tm(i,o){return Xa(4,4,i,o)}function nm(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function rm(i,o,u){return u=u!=null?u.concat([i]):null,Xa(4,4,nm.bind(null,o,i),u)}function Ic(){}function im(i,o){var u=bn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&_c(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function sm(i,o){var u=bn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&_c(o,h[1])?h[0]:(i=i(),u.memoizedState=[i,o],i)}function om(i,o,u){return(wi&21)===0?(i.baseState&&(i.baseState=!1,qt=!0),i.memoizedState=u):(Rn(u,o)||(u=Lh(),rt.lanes|=u,xi|=u,i.baseState=!0),o)}function _b(i,o){var u=Ue;Ue=u!==0&&4>u?u:4,i(!0);var h=Sc.transition;Sc.transition={};try{i(!1),o()}finally{Ue=u,Sc.transition=h}}function am(){return bn().memoizedState}function Eb(i,o,u){var h=Wr(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},lm(i))um(o,u);else if(u=Fp(i,o,u,h),u!==null){var g=zt();$n(u,i,h,g),cm(u,o,h)}}function Cb(i,o,u){var h=Wr(i),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(lm(i))um(o,g);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var j=o.lastRenderedState,R=w(j,u);if(g.hasEagerState=!0,g.eagerState=R,Rn(R,j)){var z=o.interleaved;z===null?(g.next=g,vc(o)):(g.next=z.next,z.next=g),o.interleaved=g;return}}catch{}finally{}u=Fp(i,o,g,h),u!==null&&(g=zt(),$n(u,i,h,g),cm(u,o,h))}}function lm(i){var o=i.alternate;return i===rt||o!==null&&o===rt}function um(i,o){vo=Ja=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function cm(i,o,u){if((u&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Pu(i,u)}}var Za={readContext:xn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},jb={readContext:xn,useCallback:function(i,o){return Xn().memoizedState=[i,o===void 0?null:o],i},useContext:xn,useEffect:Zp,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Qa(4194308,4,nm.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Qa(4194308,4,i,o)},useInsertionEffect:function(i,o){return Qa(4,2,i,o)},useMemo:function(i,o){var u=Xn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var h=Xn();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=Eb.bind(null,rt,i),[h.memoizedState,i]},useRef:function(i){var o=Xn();return i={current:i},o.memoizedState=i},useState:Qp,useDebugValue:Ic,useDeferredValue:function(i){return Xn().memoizedState=i},useTransition:function(){var i=Qp(!1),o=i[0];return i=_b.bind(null,i[1]),Xn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var h=rt,g=Xn();if(Ze){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),xt===null)throw Error(n(349));(wi&30)!==0||qp(h,o,u)}g.memoizedState=u;var w={value:u,getSnapshot:o};return g.queue=w,Zp(Kp.bind(null,h,w,i),[i]),h.flags|=2048,xo(9,Yp.bind(null,h,w,u,o),void 0,null),u},useId:function(){var i=Xn(),o=xt.identifierPrefix;if(Ze){var u=hr,h=fr;u=(h&~(1<<32-Pn(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=yo++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Sb++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Tb={readContext:xn,useCallback:im,useContext:xn,useEffect:Nc,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:jc,useRef:Xp,useState:function(){return jc(wo)},useDebugValue:Ic,useDeferredValue:function(i){var o=bn();return om(o,mt.memoizedState,i)},useTransition:function(){var i=jc(wo)[0],o=bn().memoizedState;return[i,o]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:am,unstable_isNewReconciler:!1},Nb={readContext:xn,useCallback:im,useContext:xn,useEffect:Nc,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:Tc,useRef:Xp,useState:function(){return Tc(wo)},useDebugValue:Ic,useDeferredValue:function(i){var o=bn();return mt===null?o.memoizedState=i:om(o,mt.memoizedState,i)},useTransition:function(){var i=Tc(wo)[0],o=bn().memoizedState;return[i,o]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:am,unstable_isNewReconciler:!1};function Dn(i,o){if(i&&i.defaultProps){o=b({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Ac(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:b({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var el={isMounted:function(i){return(i=i._reactInternals)?fi(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var h=zt(),g=Wr(i),w=mr(h,g);w.payload=o,u!=null&&(w.callback=u),o=Fr(i,w,g),o!==null&&($n(o,i,g,h),qa(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=zt(),g=Wr(i),w=mr(h,g);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Fr(i,w,g),o!==null&&($n(o,i,g,h),qa(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=zt(),h=Wr(i),g=mr(u,h);g.tag=2,o!=null&&(g.callback=o),o=Fr(i,g,h),o!==null&&($n(o,i,h,u),qa(o,i,h))}};function dm(i,o,u,h,g,w,j){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,j):o.prototype&&o.prototype.isPureReactComponent?!so(u,h)||!so(g,w):!0}function fm(i,o,u){var h=!1,g=Lr,w=o.contextType;return typeof w=="object"&&w!==null?w=xn(w):(g=Vt(o)?pi:Pt.current,h=o.contextTypes,w=(h=h!=null)?Qi(i,g):Lr),o=new o(u,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=el,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=w),o}function hm(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&el.enqueueReplaceState(o,o.state,null)}function Pc(i,o,u,h){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},yc(i);var w=o.contextType;typeof w=="object"&&w!==null?g.context=xn(w):(w=Vt(o)?pi:Pt.current,g.context=Qi(i,w)),g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Ac(i,o,w,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&el.enqueueReplaceState(g,g.state,null),Ya(i,u,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ss(i,o){try{var u="",h=o;do u+=ee(h),h=h.return;while(h);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:g,digest:null}}function Rc(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Oc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Ib=typeof WeakMap=="function"?WeakMap:Map;function pm(i,o,u){u=mr(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){al||(al=!0,Gc=h),Oc(i,o)},u}function mm(i,o,u){u=mr(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;u.payload=function(){return h(g)},u.callback=function(){Oc(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Oc(i,o),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var j=o.stack;this.componentDidCatch(o.value,{componentStack:j!==null?j:""})}),u}function gm(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new Ib;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(u)||(g.add(u),i=Hb.bind(null,i,o,u),o.then(i,i))}function vm(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ym(i,o,u,h,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=mr(-1,1),o.tag=2,Fr(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var Ab=B.ReactCurrentOwner,qt=!1;function Ft(i,o,u,h){o.child=i===null?$p(o,null,u,h):ts(o,i.child,u,h)}function wm(i,o,u,h,g){u=u.render;var w=o.ref;return rs(o,g),h=Ec(i,o,u,h,w,g),u=Cc(),i!==null&&!qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,gr(i,o,g)):(Ze&&u&&lc(o),o.flags|=1,Ft(i,o,h,g),o.child)}function xm(i,o,u,h,g){if(i===null){var w=u.type;return typeof w=="function"&&!nd(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,bm(i,o,w,h,g)):(i=hl(u.type,null,h,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&g)===0){var j=w.memoizedProps;if(u=u.compare,u=u!==null?u:so,u(j,h)&&i.ref===o.ref)return gr(i,o,g)}return o.flags|=1,i=Vr(w,h),i.ref=o.ref,i.return=o,o.child=i}function bm(i,o,u,h,g){if(i!==null){var w=i.memoizedProps;if(so(w,h)&&i.ref===o.ref)if(qt=!1,o.pendingProps=h=w,(i.lanes&g)!==0)(i.flags&131072)!==0&&(qt=!0);else return o.lanes=i.lanes,gr(i,o,g)}return Dc(i,o,u,h,g)}function km(i,o,u){var h=o.pendingProps,g=h.children,w=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(as,ln),ln|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,qe(as,ln),ln|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,qe(as,ln),ln|=h}else w!==null?(h=w.baseLanes|u,o.memoizedState=null):h=u,qe(as,ln),ln|=h;return Ft(i,o,g,u),o.child}function Sm(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Dc(i,o,u,h,g){var w=Vt(u)?pi:Pt.current;return w=Qi(o,w),rs(o,g),u=Ec(i,o,u,h,w,g),h=Cc(),i!==null&&!qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,gr(i,o,g)):(Ze&&h&&lc(o),o.flags|=1,Ft(i,o,u,g),o.child)}function _m(i,o,u,h,g){if(Vt(u)){var w=!0;$a(o)}else w=!1;if(rs(o,g),o.stateNode===null)nl(i,o),fm(o,u,h),Pc(o,u,h,g),h=!0;else if(i===null){var j=o.stateNode,R=o.memoizedProps;j.props=R;var z=j.context,X=u.contextType;typeof X=="object"&&X!==null?X=xn(X):(X=Vt(u)?pi:Pt.current,X=Qi(o,X));var oe=u.getDerivedStateFromProps,ae=typeof oe=="function"||typeof j.getSnapshotBeforeUpdate=="function";ae||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(R!==h||z!==X)&&hm(o,j,h,X),$r=!1;var ie=o.memoizedState;j.state=ie,Ya(o,h,j,g),z=o.memoizedState,R!==h||ie!==z||Ht.current||$r?(typeof oe=="function"&&(Ac(o,u,oe,h),z=o.memoizedState),(R=$r||dm(o,u,R,h,ie,z,X))?(ae||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(o.flags|=4194308)):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=z),j.props=h,j.state=z,j.context=X,h=R):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{j=o.stateNode,zp(i,o),R=o.memoizedProps,X=o.type===o.elementType?R:Dn(o.type,R),j.props=X,ae=o.pendingProps,ie=j.context,z=u.contextType,typeof z=="object"&&z!==null?z=xn(z):(z=Vt(u)?pi:Pt.current,z=Qi(o,z));var me=u.getDerivedStateFromProps;(oe=typeof me=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(R!==ae||ie!==z)&&hm(o,j,h,z),$r=!1,ie=o.memoizedState,j.state=ie,Ya(o,h,j,g);var ve=o.memoizedState;R!==ae||ie!==ve||Ht.current||$r?(typeof me=="function"&&(Ac(o,u,me,h),ve=o.memoizedState),(X=$r||dm(o,u,X,h,ie,ve,z)||!1)?(oe||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(h,ve,z),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(h,ve,z)),typeof j.componentDidUpdate=="function"&&(o.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof j.componentDidUpdate!="function"||R===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ve),j.props=h,j.state=ve,j.context=z,h=X):(typeof j.componentDidUpdate!="function"||R===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),h=!1)}return Lc(i,o,u,h,w,g)}function Lc(i,o,u,h,g,w){Sm(i,o);var j=(o.flags&128)!==0;if(!h&&!j)return g&&Np(o,u,!1),gr(i,o,w);h=o.stateNode,Ab.current=o;var R=j&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&j?(o.child=ts(o,i.child,null,w),o.child=ts(o,null,R,w)):Ft(i,o,R,w),o.memoizedState=h.state,g&&Np(o,u,!0),o.child}function Em(i){var o=i.stateNode;o.pendingContext?jp(i,o.pendingContext,o.pendingContext!==o.context):o.context&&jp(i,o.context,!1),wc(i,o.containerInfo)}function Cm(i,o,u,h,g){return es(),fc(g),o.flags|=256,Ft(i,o,u,h),o.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function $c(i){return{baseLanes:i,cachePool:null,transitions:null}}function jm(i,o,u){var h=o.pendingProps,g=nt.current,w=!1,j=(o.flags&128)!==0,R;if((R=j)||(R=i!==null&&i.memoizedState===null?!1:(g&2)!==0),R?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),qe(nt,g&1),i===null)return dc(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(j=h.children,i=h.fallback,w?(h=o.mode,w=o.child,j={mode:"hidden",children:j},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=j):w=pl(j,h,0,null),i=_i(i,h,u,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=$c(u),o.memoizedState=Mc,i):Fc(o,j));if(g=i.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return Pb(i,o,j,h,R,g,u);if(w){w=h.fallback,j=o.mode,g=i.child,R=g.sibling;var z={mode:"hidden",children:h.children};return(j&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=z,o.deletions=null):(h=Vr(g,z),h.subtreeFlags=g.subtreeFlags&14680064),R!==null?w=Vr(R,w):(w=_i(w,j,u,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,j=i.child.memoizedState,j=j===null?$c(u):{baseLanes:j.baseLanes|u,cachePool:null,transitions:j.transitions},w.memoizedState=j,w.childLanes=i.childLanes&~u,o.memoizedState=Mc,h}return w=i.child,i=w.sibling,h=Vr(w,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=h,o.memoizedState=null,h}function Fc(i,o){return o=pl({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function tl(i,o,u,h){return h!==null&&fc(h),ts(o,i.child,null,u),i=Fc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Pb(i,o,u,h,g,w,j){if(u)return o.flags&256?(o.flags&=-257,h=Rc(Error(n(422))),tl(i,o,j,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=h.fallback,g=o.mode,h=pl({mode:"visible",children:h.children},g,0,null),w=_i(w,g,j,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,(o.mode&1)!==0&&ts(o,i.child,null,j),o.child.memoizedState=$c(j),o.memoizedState=Mc,w);if((o.mode&1)===0)return tl(i,o,j,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var R=h.dgst;return h=R,w=Error(n(419)),h=Rc(w,h,void 0),tl(i,o,j,h)}if(R=(j&i.childLanes)!==0,qt||R){if(h=xt,h!==null){switch(j&-j){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|j))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,pr(i,g),$n(h,i,g,-1))}return td(),h=Rc(Error(n(421))),tl(i,o,j,h)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=Vb.bind(null,i),g._reactRetry=o,null):(i=w.treeContext,an=Or(g.nextSibling),on=o,Ze=!0,On=null,i!==null&&(yn[wn++]=fr,yn[wn++]=hr,yn[wn++]=mi,fr=i.id,hr=i.overflow,mi=o),o=Fc(o,h.children),o.flags|=4096,o)}function Tm(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),gc(i.return,o,u)}function zc(i,o,u,h,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=g)}function Nm(i,o,u){var h=o.pendingProps,g=h.revealOrder,w=h.tail;if(Ft(i,o,h.children,u),h=nt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Tm(i,u,o);else if(i.tag===19)Tm(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(qe(nt,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Ka(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),zc(o,!1,g,u,w);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Ka(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}zc(o,!0,u,null,w);break;case"together":zc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function nl(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function gr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),xi|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Vr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Vr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Rb(i,o,u){switch(o.tag){case 3:Em(o),es();break;case 5:Wp(o);break;case 1:Vt(o.type)&&$a(o);break;case 4:wc(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;qe(Ha,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(qe(nt,nt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?jm(i,o,u):(qe(nt,nt.current&1),i=gr(i,o,u),i!==null?i.sibling:null);qe(nt,nt.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Nm(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),qe(nt,nt.current),h)break;return null;case 22:case 23:return o.lanes=0,km(i,o,u)}return gr(i,o,u)}var Im,Uc,Am,Pm;Im=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Uc=function(){},Am=function(i,o,u,h){var g=i.memoizedProps;if(g!==h){i=o.stateNode,yi(Qn.current);var w=null;switch(u){case"input":g=at(i,g),h=at(i,h),w=[];break;case"select":g=b({},g,{value:void 0}),h=b({},h,{value:void 0}),w=[];break;case"textarea":g=qn(i,g),h=qn(i,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Da)}ct(u,h);var j;u=null;for(X in g)if(!h.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var R=g[X];for(j in R)R.hasOwnProperty(j)&&(u||(u={}),u[j]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in h){var z=h[X];if(R=g!=null?g[X]:void 0,h.hasOwnProperty(X)&&z!==R&&(z!=null||R!=null))if(X==="style")if(R){for(j in R)!R.hasOwnProperty(j)||z&&z.hasOwnProperty(j)||(u||(u={}),u[j]="");for(j in z)z.hasOwnProperty(j)&&R[j]!==z[j]&&(u||(u={}),u[j]=z[j])}else u||(w||(w=[]),w.push(X,u)),u=z;else X==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,R=R?R.__html:void 0,z!=null&&R!==z&&(w=w||[]).push(X,z)):X==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(X,""+z):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(z!=null&&X==="onScroll"&&Ge("scroll",i),w||R===z||(w=[])):(w=w||[]).push(X,z))}u&&(w=w||[]).push("style",u);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},Pm=function(i,o,u,h){u!==h&&(o.flags|=4)};function bo(i,o){if(!Ze)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ot(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function Ob(i,o,u){var h=o.pendingProps;switch(uc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Vt(o.type)&&Ma(),Ot(o),null;case 3:return h=o.stateNode,is(),Je(Ht),Je(Pt),kc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Ba(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,On!==null&&(Xc(On),On=null))),Uc(i,o),Ot(o),null;case 5:xc(o);var g=yi(go.current);if(u=o.type,i!==null&&o.stateNode!=null)Am(i,o,u,h,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Ot(o),null}if(i=yi(Qn.current),Ba(o)){h=o.stateNode,u=o.type;var w=o.memoizedProps;switch(h[Jn]=o,h[co]=w,i=(o.mode&1)!==0,u){case"dialog":Ge("cancel",h),Ge("close",h);break;case"iframe":case"object":case"embed":Ge("load",h);break;case"video":case"audio":for(g=0;g<ao.length;g++)Ge(ao[g],h);break;case"source":Ge("error",h);break;case"img":case"image":case"link":Ge("error",h),Ge("load",h);break;case"details":Ge("toggle",h);break;case"input":hn(h,w),Ge("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},Ge("invalid",h);break;case"textarea":ci(h,w),Ge("invalid",h)}ct(u,w),g=null;for(var j in w)if(w.hasOwnProperty(j)){var R=w[j];j==="children"?typeof R=="string"?h.textContent!==R&&(w.suppressHydrationWarning!==!0&&Oa(h.textContent,R,i),g=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(w.suppressHydrationWarning!==!0&&Oa(h.textContent,R,i),g=["children",""+R]):s.hasOwnProperty(j)&&R!=null&&j==="onScroll"&&Ge("scroll",h)}switch(u){case"input":Ae(h),ui(h,w,!0);break;case"textarea":Ae(h),Ui(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=Da)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{j=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ne(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=j.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=j.createElement(u,{is:h.is}):(i=j.createElement(u),u==="select"&&(j=i,h.multiple?j.multiple=!0:h.size&&(j.size=h.size))):i=j.createElementNS(i,u),i[Jn]=o,i[co]=h,Im(i,o,!1,!1),o.stateNode=i;e:{switch(j=gn(u,h),u){case"dialog":Ge("cancel",i),Ge("close",i),g=h;break;case"iframe":case"object":case"embed":Ge("load",i),g=h;break;case"video":case"audio":for(g=0;g<ao.length;g++)Ge(ao[g],i);g=h;break;case"source":Ge("error",i),g=h;break;case"img":case"image":case"link":Ge("error",i),Ge("load",i),g=h;break;case"details":Ge("toggle",i),g=h;break;case"input":hn(i,h),g=at(i,h),Ge("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=b({},h,{value:void 0}),Ge("invalid",i);break;case"textarea":ci(i,h),g=qn(i,h),Ge("invalid",i);break;default:g=h}ct(u,g),R=g;for(w in R)if(R.hasOwnProperty(w)){var z=R[w];w==="style"?Yn(i,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&je(i,z)):w==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&Oe(i,z):typeof z=="number"&&Oe(i,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&Ge("scroll",i):z!=null&&A(i,w,z,j))}switch(u){case"input":Ae(i),ui(i,h,!1);break;case"textarea":Ae(i),Ui(i);break;case"option":h.value!=null&&i.setAttribute("value",""+fe(h.value));break;case"select":i.multiple=!!h.multiple,w=h.value,w!=null?nn(i,!!h.multiple,w,!1):h.defaultValue!=null&&nn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Da)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ot(o),null;case 6:if(i&&o.stateNode!=null)Pm(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(u=yi(go.current),yi(Qn.current),Ba(o)){if(h=o.stateNode,u=o.memoizedProps,h[Jn]=o,(w=h.nodeValue!==u)&&(i=on,i!==null))switch(i.tag){case 3:Oa(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Oa(h.nodeValue,u,(i.mode&1)!==0)}w&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Jn]=o,o.stateNode=h}return Ot(o),null;case 13:if(Je(nt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ze&&an!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Dp(),es(),o.flags|=98560,w=!1;else if(w=Ba(o),h!==null&&h.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Jn]=o}else es(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),w=!1}else On!==null&&(Xc(On),On=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(nt.current&1)!==0?gt===0&&(gt=3):td())),o.updateQueue!==null&&(o.flags|=4),Ot(o),null);case 4:return is(),Uc(i,o),i===null&&lo(o.stateNode.containerInfo),Ot(o),null;case 10:return mc(o.type._context),Ot(o),null;case 17:return Vt(o.type)&&Ma(),Ot(o),null;case 19:if(Je(nt),w=o.memoizedState,w===null)return Ot(o),null;if(h=(o.flags&128)!==0,j=w.rendering,j===null)if(h)bo(w,!1);else{if(gt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(j=Ka(i),j!==null){for(o.flags|=128,bo(w,!1),h=j.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)w=u,i=h,w.flags&=14680066,j=w.alternate,j===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=j.childLanes,w.lanes=j.lanes,w.child=j.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=j.memoizedProps,w.memoizedState=j.memoizedState,w.updateQueue=j.updateQueue,w.type=j.type,i=j.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return qe(nt,nt.current&1|2),o.child}i=i.sibling}w.tail!==null&&lt()>ls&&(o.flags|=128,h=!0,bo(w,!1),o.lanes=4194304)}else{if(!h)if(i=Ka(j),i!==null){if(o.flags|=128,h=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),bo(w,!0),w.tail===null&&w.tailMode==="hidden"&&!j.alternate&&!Ze)return Ot(o),null}else 2*lt()-w.renderingStartTime>ls&&u!==1073741824&&(o.flags|=128,h=!0,bo(w,!1),o.lanes=4194304);w.isBackwards?(j.sibling=o.child,o.child=j):(u=w.last,u!==null?u.sibling=j:o.child=j,w.last=j)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=lt(),o.sibling=null,u=nt.current,qe(nt,h?u&1|2:u&1),o):(Ot(o),null);case 22:case 23:return ed(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(ln&1073741824)!==0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Db(i,o){switch(uc(o),o.tag){case 1:return Vt(o.type)&&Ma(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return is(),Je(Ht),Je(Pt),kc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return xc(o),null;case 13:if(Je(nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));es()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Je(nt),null;case 4:return is(),null;case 10:return mc(o.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var rl=!1,Dt=!1,Lb=typeof WeakSet=="function"?WeakSet:Set,ge=null;function os(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){st(i,o,h)}else u.current=null}function Bc(i,o,u){try{u()}catch(h){st(i,o,h)}}var Rm=!1;function Mb(i,o){if(ec=Sa,i=dp(),qu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var j=0,R=-1,z=-1,X=0,oe=0,ae=i,ie=null;t:for(;;){for(var me;ae!==u||g!==0&&ae.nodeType!==3||(R=j+g),ae!==w||h!==0&&ae.nodeType!==3||(z=j+h),ae.nodeType===3&&(j+=ae.nodeValue.length),(me=ae.firstChild)!==null;)ie=ae,ae=me;for(;;){if(ae===i)break t;if(ie===u&&++X===g&&(R=j),ie===w&&++oe===h&&(z=j),(me=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=me}u=R===-1||z===-1?null:{start:R,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(tc={focusedElem:i,selectionRange:u},Sa=!1,ge=o;ge!==null;)if(o=ge,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ge=i;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,ut=ve.memoizedState,q=o.stateNode,H=q.getSnapshotBeforeUpdate(o.elementType===o.type?we:Dn(o.type,we),ut);q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){st(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,ge=i;break}ge=o.return}return ve=Rm,Rm=!1,ve}function ko(i,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var w=g.destroy;g.destroy=void 0,w!==void 0&&Bc(o,u,w)}g=g.next}while(g!==h)}}function il(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Wc(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Om(i){var o=i.alternate;o!==null&&(i.alternate=null,Om(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Jn],delete o[co],delete o[sc],delete o[wb],delete o[xb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Dm(i){return i.tag===5||i.tag===3||i.tag===4}function Lm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Dm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Hc(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Da));else if(h!==4&&(i=i.child,i!==null))for(Hc(i,o,u),i=i.sibling;i!==null;)Hc(i,o,u),i=i.sibling}function Vc(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Vc(i,o,u),i=i.sibling;i!==null;)Vc(i,o,u),i=i.sibling}var Et=null,Ln=!1;function zr(i,o,u){for(u=u.child;u!==null;)Mm(i,o,u),u=u.sibling}function Mm(i,o,u){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(va,u)}catch{}switch(u.tag){case 5:Dt||os(u,o);case 6:var h=Et,g=Ln;Et=null,zr(i,o,u),Et=h,Ln=g,Et!==null&&(Ln?(i=Et,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Et.removeChild(u.stateNode));break;case 18:Et!==null&&(Ln?(i=Et,u=u.stateNode,i.nodeType===8?ic(i.parentNode,u):i.nodeType===1&&ic(i,u),Zs(i)):ic(Et,u.stateNode));break;case 4:h=Et,g=Ln,Et=u.stateNode.containerInfo,Ln=!0,zr(i,o,u),Et=h,Ln=g;break;case 0:case 11:case 14:case 15:if(!Dt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,j=w.destroy;w=w.tag,j!==void 0&&((w&2)!==0||(w&4)!==0)&&Bc(u,o,j),g=g.next}while(g!==h)}zr(i,o,u);break;case 1:if(!Dt&&(os(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(R){st(u,o,R)}zr(i,o,u);break;case 21:zr(i,o,u);break;case 22:u.mode&1?(Dt=(h=Dt)||u.memoizedState!==null,zr(i,o,u),Dt=h):zr(i,o,u);break;default:zr(i,o,u)}}function $m(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Lb),o.forEach(function(h){var g=qb.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Mn(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var w=i,j=o,R=j;e:for(;R!==null;){switch(R.tag){case 5:Et=R.stateNode,Ln=!1;break e;case 3:Et=R.stateNode.containerInfo,Ln=!0;break e;case 4:Et=R.stateNode.containerInfo,Ln=!0;break e}R=R.return}if(Et===null)throw Error(n(160));Mm(w,j,g),Et=null,Ln=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(X){st(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Fm(o,i),o=o.sibling}function Fm(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Mn(o,i),Zn(i),h&4){try{ko(3,i,i.return),il(3,i)}catch(we){st(i,i.return,we)}try{ko(5,i,i.return)}catch(we){st(i,i.return,we)}}break;case 1:Mn(o,i),Zn(i),h&512&&u!==null&&os(u,u.return);break;case 5:if(Mn(o,i),Zn(i),h&512&&u!==null&&os(u,u.return),i.flags&32){var g=i.stateNode;try{Oe(g,"")}catch(we){st(i,i.return,we)}}if(h&4&&(g=i.stateNode,g!=null)){var w=i.memoizedProps,j=u!==null?u.memoizedProps:w,R=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{R==="input"&&w.type==="radio"&&w.name!=null&&pn(g,w),gn(R,j);var X=gn(R,w);for(j=0;j<z.length;j+=2){var oe=z[j],ae=z[j+1];oe==="style"?Yn(g,ae):oe==="dangerouslySetInnerHTML"?je(g,ae):oe==="children"?Oe(g,ae):A(g,oe,ae,X)}switch(R){case"input":ar(g,w);break;case"textarea":di(g,w);break;case"select":var ie=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var me=w.value;me!=null?nn(g,!!w.multiple,me,!1):ie!==!!w.multiple&&(w.defaultValue!=null?nn(g,!!w.multiple,w.defaultValue,!0):nn(g,!!w.multiple,w.multiple?[]:"",!1))}g[co]=w}catch(we){st(i,i.return,we)}}break;case 6:if(Mn(o,i),Zn(i),h&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,w=i.memoizedProps;try{g.nodeValue=w}catch(we){st(i,i.return,we)}}break;case 3:if(Mn(o,i),Zn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Zs(o.containerInfo)}catch(we){st(i,i.return,we)}break;case 4:Mn(o,i),Zn(i);break;case 13:Mn(o,i),Zn(i),g=i.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Kc=lt())),h&4&&$m(i);break;case 22:if(oe=u!==null&&u.memoizedState!==null,i.mode&1?(Dt=(X=Dt)||oe,Mn(o,i),Dt=X):Mn(o,i),Zn(i),h&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!oe&&(i.mode&1)!==0)for(ge=i,oe=i.child;oe!==null;){for(ae=ge=oe;ge!==null;){switch(ie=ge,me=ie.child,ie.tag){case 0:case 11:case 14:case 15:ko(4,ie,ie.return);break;case 1:os(ie,ie.return);var ve=ie.stateNode;if(typeof ve.componentWillUnmount=="function"){h=ie,u=ie.return;try{o=h,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(we){st(h,u,we)}}break;case 5:os(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Bm(ae);continue}}me!==null?(me.return=ie,ge=me):Bm(ae)}oe=oe.sibling}e:for(oe=null,ae=i;;){if(ae.tag===5){if(oe===null){oe=ae;try{g=ae.stateNode,X?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(R=ae.stateNode,z=ae.memoizedProps.style,j=z!=null&&z.hasOwnProperty("display")?z.display:null,R.style.display=Bt("display",j))}catch(we){st(i,i.return,we)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=X?"":ae.memoizedProps}catch(we){st(i,i.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Mn(o,i),Zn(i),h&4&&$m(i);break;case 21:break;default:Mn(o,i),Zn(i)}}function Zn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Dm(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Oe(g,""),h.flags&=-33);var w=Lm(i);Vc(i,w,g);break;case 3:case 4:var j=h.stateNode.containerInfo,R=Lm(i);Hc(i,R,j);break;default:throw Error(n(161))}}catch(z){st(i,i.return,z)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function $b(i,o,u){ge=i,zm(i)}function zm(i,o,u){for(var h=(i.mode&1)!==0;ge!==null;){var g=ge,w=g.child;if(g.tag===22&&h){var j=g.memoizedState!==null||rl;if(!j){var R=g.alternate,z=R!==null&&R.memoizedState!==null||Dt;R=rl;var X=Dt;if(rl=j,(Dt=z)&&!X)for(ge=g;ge!==null;)j=ge,z=j.child,j.tag===22&&j.memoizedState!==null?Wm(g):z!==null?(z.return=j,ge=z):Wm(g);for(;w!==null;)ge=w,zm(w),w=w.sibling;ge=g,rl=R,Dt=X}Um(i)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,ge=w):Um(i)}}function Um(i){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Dt||il(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Dt)if(u===null)h.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Dn(o.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Bp(o,w,h);break;case 3:var j=o.updateQueue;if(j!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Bp(o,j,u)}break;case 5:var R=o.stateNode;if(u===null&&o.flags&4){u=R;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var oe=X.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Zs(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||o.flags&512&&Wc(o)}catch(ie){st(o,o.return,ie)}}if(o===i){ge=null;break}if(u=o.sibling,u!==null){u.return=o.return,ge=u;break}ge=o.return}}function Bm(i){for(;ge!==null;){var o=ge;if(o===i){ge=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ge=u;break}ge=o.return}}function Wm(i){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{il(4,o)}catch(z){st(o,u,z)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(z){st(o,g,z)}}var w=o.return;try{Wc(o)}catch(z){st(o,w,z)}break;case 5:var j=o.return;try{Wc(o)}catch(z){st(o,j,z)}}}catch(z){st(o,o.return,z)}if(o===i){ge=null;break}var R=o.sibling;if(R!==null){R.return=o.return,ge=R;break}ge=o.return}}var Fb=Math.ceil,sl=B.ReactCurrentDispatcher,qc=B.ReactCurrentOwner,kn=B.ReactCurrentBatchConfig,Le=0,xt=null,dt=null,Ct=0,ln=0,as=Dr(0),gt=0,So=null,xi=0,ol=0,Yc=0,_o=null,Yt=null,Kc=0,ls=1/0,vr=null,al=!1,Gc=null,Ur=null,ll=!1,Br=null,ul=0,Eo=0,Jc=null,cl=-1,dl=0;function zt(){return(Le&6)!==0?lt():cl!==-1?cl:cl=lt()}function Wr(i){return(i.mode&1)===0?1:(Le&2)!==0&&Ct!==0?Ct&-Ct:kb.transition!==null?(dl===0&&(dl=Lh()),dl):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:Vh(i.type)),i)}function $n(i,o,u,h){if(50<Eo)throw Eo=0,Jc=null,Error(n(185));Ks(i,u,h),((Le&2)===0||i!==xt)&&(i===xt&&((Le&2)===0&&(ol|=u),gt===4&&Hr(i,Ct)),Kt(i,h),u===1&&Le===0&&(o.mode&1)===0&&(ls=lt()+500,Fa&&Mr()))}function Kt(i,o){var u=i.callbackNode;kx(i,o);var h=xa(i,i===xt?Ct:0);if(h===0)u!==null&&Rh(u),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(u!=null&&Rh(u),o===1)i.tag===0?bb(Vm.bind(null,i)):Ip(Vm.bind(null,i)),vb(function(){(Le&6)===0&&Mr()}),u=null;else{switch(Mh(h)){case 1:u=Nu;break;case 4:u=Oh;break;case 16:u=ga;break;case 536870912:u=Dh;break;default:u=ga}u=Zm(u,Hm.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Hm(i,o){if(cl=-1,dl=0,(Le&6)!==0)throw Error(n(327));var u=i.callbackNode;if(us()&&i.callbackNode!==u)return null;var h=xa(i,i===xt?Ct:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=fl(i,h);else{o=h;var g=Le;Le|=2;var w=Ym();(xt!==i||Ct!==o)&&(vr=null,ls=lt()+500,ki(i,o));do try{Bb();break}catch(R){qm(i,R)}while(!0);pc(),sl.current=w,Le=g,dt!==null?o=0:(xt=null,Ct=0,o=gt)}if(o!==0){if(o===2&&(g=Iu(i),g!==0&&(h=g,o=Qc(i,g))),o===1)throw u=So,ki(i,0),Hr(i,h),Kt(i,lt()),u;if(o===6)Hr(i,h);else{if(g=i.current.alternate,(h&30)===0&&!zb(g)&&(o=fl(i,h),o===2&&(w=Iu(i),w!==0&&(h=w,o=Qc(i,w))),o===1))throw u=So,ki(i,0),Hr(i,h),Kt(i,lt()),u;switch(i.finishedWork=g,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:Si(i,Yt,vr);break;case 3:if(Hr(i,h),(h&130023424)===h&&(o=Kc+500-lt(),10<o)){if(xa(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){zt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=rc(Si.bind(null,i,Yt,vr),o);break}Si(i,Yt,vr);break;case 4:if(Hr(i,h),(h&4194240)===h)break;for(o=i.eventTimes,g=-1;0<h;){var j=31-Pn(h);w=1<<j,j=o[j],j>g&&(g=j),h&=~w}if(h=g,h=lt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Fb(h/1960))-h,10<h){i.timeoutHandle=rc(Si.bind(null,i,Yt,vr),h);break}Si(i,Yt,vr);break;case 5:Si(i,Yt,vr);break;default:throw Error(n(329))}}}return Kt(i,lt()),i.callbackNode===u?Hm.bind(null,i):null}function Qc(i,o){var u=_o;return i.current.memoizedState.isDehydrated&&(ki(i,o).flags|=256),i=fl(i,o),i!==2&&(o=Yt,Yt=u,o!==null&&Xc(o)),i}function Xc(i){Yt===null?Yt=i:Yt.push.apply(Yt,i)}function zb(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],w=g.getSnapshot;g=g.value;try{if(!Rn(w(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hr(i,o){for(o&=~Yc,o&=~ol,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Pn(o),h=1<<u;i[u]=-1,o&=~h}}function Vm(i){if((Le&6)!==0)throw Error(n(327));us();var o=xa(i,0);if((o&1)===0)return Kt(i,lt()),null;var u=fl(i,o);if(i.tag!==0&&u===2){var h=Iu(i);h!==0&&(o=h,u=Qc(i,h))}if(u===1)throw u=So,ki(i,0),Hr(i,o),Kt(i,lt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Si(i,Yt,vr),Kt(i,lt()),null}function Zc(i,o){var u=Le;Le|=1;try{return i(o)}finally{Le=u,Le===0&&(ls=lt()+500,Fa&&Mr())}}function bi(i){Br!==null&&Br.tag===0&&(Le&6)===0&&us();var o=Le;Le|=1;var u=kn.transition,h=Ue;try{if(kn.transition=null,Ue=1,i)return i()}finally{Ue=h,kn.transition=u,Le=o,(Le&6)===0&&Mr()}}function ed(){ln=as.current,Je(as)}function ki(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,gb(u)),dt!==null)for(u=dt.return;u!==null;){var h=u;switch(uc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ma();break;case 3:is(),Je(Ht),Je(Pt),kc();break;case 5:xc(h);break;case 4:is();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:mc(h.type._context);break;case 22:case 23:ed()}u=u.return}if(xt=i,dt=i=Vr(i.current,null),Ct=ln=o,gt=0,So=null,Yc=ol=xi=0,Yt=_o=null,vi!==null){for(o=0;o<vi.length;o++)if(u=vi[o],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,w=u.pending;if(w!==null){var j=w.next;w.next=g,h.next=j}u.pending=h}vi=null}return i}function qm(i,o){do{var u=dt;try{if(pc(),Ga.current=Za,Ja){for(var h=rt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ja=!1}if(wi=0,wt=mt=rt=null,vo=!1,yo=0,qc.current=null,u===null||u.return===null){gt=1,So=o,dt=null;break}e:{var w=i,j=u.return,R=u,z=o;if(o=Ct,R.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var X=z,oe=R,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var me=vm(j);if(me!==null){me.flags&=-257,ym(me,j,R,w,o),me.mode&1&&gm(w,X,o),o=me,z=X;var ve=o.updateQueue;if(ve===null){var we=new Set;we.add(z),o.updateQueue=we}else ve.add(z);break e}else{if((o&1)===0){gm(w,X,o),td();break e}z=Error(n(426))}}else if(Ze&&R.mode&1){var ut=vm(j);if(ut!==null){(ut.flags&65536)===0&&(ut.flags|=256),ym(ut,j,R,w,o),fc(ss(z,R));break e}}w=z=ss(z,R),gt!==4&&(gt=2),_o===null?_o=[w]:_o.push(w),w=j;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var q=pm(w,z,o);Up(w,q);break e;case 1:R=z;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ur===null||!Ur.has(J)))){w.flags|=65536,o&=-o,w.lanes|=o;var ce=mm(w,R,o);Up(w,ce);break e}}w=w.return}while(w!==null)}Gm(u)}catch(xe){o=xe,dt===u&&u!==null&&(dt=u=u.return);continue}break}while(!0)}function Ym(){var i=sl.current;return sl.current=Za,i===null?Za:i}function td(){(gt===0||gt===3||gt===2)&&(gt=4),xt===null||(xi&268435455)===0&&(ol&268435455)===0||Hr(xt,Ct)}function fl(i,o){var u=Le;Le|=2;var h=Ym();(xt!==i||Ct!==o)&&(vr=null,ki(i,o));do try{Ub();break}catch(g){qm(i,g)}while(!0);if(pc(),Le=u,sl.current=h,dt!==null)throw Error(n(261));return xt=null,Ct=0,gt}function Ub(){for(;dt!==null;)Km(dt)}function Bb(){for(;dt!==null&&!hx();)Km(dt)}function Km(i){var o=Xm(i.alternate,i,ln);i.memoizedProps=i.pendingProps,o===null?Gm(i):dt=o,qc.current=null}function Gm(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Ob(u,o,ln),u!==null){dt=u;return}}else{if(u=Db(u,o),u!==null){u.flags&=32767,dt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{gt=6,dt=null;return}}if(o=o.sibling,o!==null){dt=o;return}dt=o=i}while(o!==null);gt===0&&(gt=5)}function Si(i,o,u){var h=Ue,g=kn.transition;try{kn.transition=null,Ue=1,Wb(i,o,u,h)}finally{kn.transition=g,Ue=h}return null}function Wb(i,o,u,h){do us();while(Br!==null);if((Le&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(Sx(i,w),i===xt&&(dt=xt=null,Ct=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ll||(ll=!0,Zm(ga,function(){return us(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=kn.transition,kn.transition=null;var j=Ue;Ue=1;var R=Le;Le|=4,qc.current=null,Mb(i,u),Fm(u,i),ub(tc),Sa=!!ec,tc=ec=null,i.current=u,$b(u),px(),Le=R,Ue=j,kn.transition=w}else i.current=u;if(ll&&(ll=!1,Br=i,ul=g),w=i.pendingLanes,w===0&&(Ur=null),vx(u.stateNode),Kt(i,lt()),o!==null)for(h=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(al)throw al=!1,i=Gc,Gc=null,i;return(ul&1)!==0&&i.tag!==0&&us(),w=i.pendingLanes,(w&1)!==0?i===Jc?Eo++:(Eo=0,Jc=i):Eo=0,Mr(),null}function us(){if(Br!==null){var i=Mh(ul),o=kn.transition,u=Ue;try{if(kn.transition=null,Ue=16>i?16:i,Br===null)var h=!1;else{if(i=Br,Br=null,ul=0,(Le&6)!==0)throw Error(n(331));var g=Le;for(Le|=4,ge=i.current;ge!==null;){var w=ge,j=w.child;if((ge.flags&16)!==0){var R=w.deletions;if(R!==null){for(var z=0;z<R.length;z++){var X=R[z];for(ge=X;ge!==null;){var oe=ge;switch(oe.tag){case 0:case 11:case 15:ko(8,oe,w)}var ae=oe.child;if(ae!==null)ae.return=oe,ge=ae;else for(;ge!==null;){oe=ge;var ie=oe.sibling,me=oe.return;if(Om(oe),oe===X){ge=null;break}if(ie!==null){ie.return=me,ge=ie;break}ge=me}}}var ve=w.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var ut=we.sibling;we.sibling=null,we=ut}while(we!==null)}}ge=w}}if((w.subtreeFlags&2064)!==0&&j!==null)j.return=w,ge=j;else e:for(;ge!==null;){if(w=ge,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ko(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,ge=q;break e}ge=w.return}}var H=i.current;for(ge=H;ge!==null;){j=ge;var J=j.child;if((j.subtreeFlags&2064)!==0&&J!==null)J.return=j,ge=J;else e:for(j=H;ge!==null;){if(R=ge,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:il(9,R)}}catch(xe){st(R,R.return,xe)}if(R===j){ge=null;break e}var ce=R.sibling;if(ce!==null){ce.return=R.return,ge=ce;break e}ge=R.return}}if(Le=g,Mr(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(va,i)}catch{}h=!0}return h}finally{Ue=u,kn.transition=o}}return!1}function Jm(i,o,u){o=ss(u,o),o=pm(i,o,1),i=Fr(i,o,1),o=zt(),i!==null&&(Ks(i,1,o),Kt(i,o))}function st(i,o,u){if(i.tag===3)Jm(i,i,u);else for(;o!==null;){if(o.tag===3){Jm(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ur===null||!Ur.has(h))){i=ss(u,i),i=mm(o,i,1),o=Fr(o,i,1),i=zt(),o!==null&&(Ks(o,1,i),Kt(o,i));break}}o=o.return}}function Hb(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),o=zt(),i.pingedLanes|=i.suspendedLanes&u,xt===i&&(Ct&u)===u&&(gt===4||gt===3&&(Ct&130023424)===Ct&&500>lt()-Kc?ki(i,0):Yc|=u),Kt(i,o)}function Qm(i,o){o===0&&((i.mode&1)===0?o=1:(o=wa,wa<<=1,(wa&130023424)===0&&(wa=4194304)));var u=zt();i=pr(i,o),i!==null&&(Ks(i,o,u),Kt(i,u))}function Vb(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Qm(i,u)}function qb(i,o){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),Qm(i,u)}var Xm;Xm=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ht.current)qt=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return qt=!1,Rb(i,o,u);qt=(i.flags&131072)!==0}else qt=!1,Ze&&(o.flags&1048576)!==0&&Ap(o,Ua,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;nl(i,o),i=o.pendingProps;var g=Qi(o,Pt.current);rs(o,u),g=Ec(null,o,h,i,g,u);var w=Cc();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vt(h)?(w=!0,$a(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,yc(o),g.updater=el,o.stateNode=g,g._reactInternals=o,Pc(o,h,i,u),o=Lc(null,o,h,!0,w,u)):(o.tag=0,Ze&&w&&lc(o),Ft(null,o,g,u),o=o.child),o;case 16:h=o.elementType;e:{switch(nl(i,o),i=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=Kb(h),i=Dn(h,i),g){case 0:o=Dc(null,o,h,i,u);break e;case 1:o=_m(null,o,h,i,u);break e;case 11:o=wm(null,o,h,i,u);break e;case 14:o=xm(null,o,h,Dn(h.type,i),u);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),Dc(i,o,h,g,u);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),_m(i,o,h,g,u);case 3:e:{if(Em(o),i===null)throw Error(n(387));h=o.pendingProps,w=o.memoizedState,g=w.element,zp(i,o),Ya(o,h,null,u);var j=o.memoizedState;if(h=j.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=ss(Error(n(423)),o),o=Cm(i,o,h,u,g);break e}else if(h!==g){g=ss(Error(n(424)),o),o=Cm(i,o,h,u,g);break e}else for(an=Or(o.stateNode.containerInfo.firstChild),on=o,Ze=!0,On=null,u=$p(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(es(),h===g){o=gr(i,o,u);break e}Ft(i,o,h,u)}o=o.child}return o;case 5:return Wp(o),i===null&&dc(o),h=o.type,g=o.pendingProps,w=i!==null?i.memoizedProps:null,j=g.children,nc(h,g)?j=null:w!==null&&nc(h,w)&&(o.flags|=32),Sm(i,o),Ft(i,o,j,u),o.child;case 6:return i===null&&dc(o),null;case 13:return jm(i,o,u);case 4:return wc(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ts(o,null,h,u):Ft(i,o,h,u),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),wm(i,o,h,g,u);case 7:return Ft(i,o,o.pendingProps,u),o.child;case 8:return Ft(i,o,o.pendingProps.children,u),o.child;case 12:return Ft(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,w=o.memoizedProps,j=g.value,qe(Ha,h._currentValue),h._currentValue=j,w!==null)if(Rn(w.value,j)){if(w.children===g.children&&!Ht.current){o=gr(i,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var R=w.dependencies;if(R!==null){j=w.child;for(var z=R.firstContext;z!==null;){if(z.context===h){if(w.tag===1){z=mr(-1,u&-u),z.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var oe=X.pending;oe===null?z.next=z:(z.next=oe.next,oe.next=z),X.pending=z}}w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),gc(w.return,u,o),R.lanes|=u;break}z=z.next}}else if(w.tag===10)j=w.type===o.type?null:w.child;else if(w.tag===18){if(j=w.return,j===null)throw Error(n(341));j.lanes|=u,R=j.alternate,R!==null&&(R.lanes|=u),gc(j,u,o),j=w.sibling}else j=w.child;if(j!==null)j.return=w;else for(j=w;j!==null;){if(j===o){j=null;break}if(w=j.sibling,w!==null){w.return=j.return,j=w;break}j=j.return}w=j}Ft(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,rs(o,u),g=xn(g),h=h(g),o.flags|=1,Ft(i,o,h,u),o.child;case 14:return h=o.type,g=Dn(h,o.pendingProps),g=Dn(h.type,g),xm(i,o,h,g,u);case 15:return bm(i,o,o.type,o.pendingProps,u);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),nl(i,o),o.tag=1,Vt(h)?(i=!0,$a(o)):i=!1,rs(o,u),fm(o,h,g),Pc(o,h,g,u),Lc(null,o,h,!0,i,u);case 19:return Nm(i,o,u);case 22:return km(i,o,u)}throw Error(n(156,o.tag))};function Zm(i,o){return Ph(i,o)}function Yb(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(i,o,u,h){return new Yb(i,o,u,h)}function nd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Kb(i){if(typeof i=="function")return nd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Z)return 11;if(i===F)return 14}return 2}function Vr(i,o){var u=i.alternate;return u===null?(u=Sn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function hl(i,o,u,h,g,w){var j=2;if(h=i,typeof i=="function")nd(i)&&(j=1);else if(typeof i=="string")j=5;else e:switch(i){case Q:return _i(u.children,g,w,o);case re:j=8,g|=8;break;case se:return i=Sn(12,u,o,g|2),i.elementType=se,i.lanes=w,i;case K:return i=Sn(13,u,o,g),i.elementType=K,i.lanes=w,i;case O:return i=Sn(19,u,o,g),i.elementType=O,i.lanes=w,i;case U:return pl(u,g,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:j=10;break e;case $:j=9;break e;case Z:j=11;break e;case F:j=14;break e;case L:j=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Sn(j,u,o,g),o.elementType=i,o.type=h,o.lanes=w,o}function _i(i,o,u,h){return i=Sn(7,i,h,o),i.lanes=u,i}function pl(i,o,u,h){return i=Sn(22,i,h,o),i.elementType=U,i.lanes=u,i.stateNode={isHidden:!1},i}function rd(i,o,u){return i=Sn(6,i,null,o),i.lanes=u,i}function id(i,o,u){return o=Sn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Gb(i,o,u,h,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Au(0),this.expirationTimes=Au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Au(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function sd(i,o,u,h,g,w,j,R,z){return i=new Gb(i,o,u,R,z),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Sn(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(w),i}function Jb(i,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:h==null?null:""+h,children:i,containerInfo:o,implementation:u}}function eg(i){if(!i)return Lr;i=i._reactInternals;e:{if(fi(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Vt(u))return Tp(i,u,o)}return o}function tg(i,o,u,h,g,w,j,R,z){return i=sd(u,h,!0,i,g,w,j,R,z),i.context=eg(null),u=i.current,h=zt(),g=Wr(u),w=mr(h,g),w.callback=o??null,Fr(u,w,g),i.current.lanes=g,Ks(i,g,h),Kt(i,h),i}function ml(i,o,u,h){var g=o.current,w=zt(),j=Wr(g);return u=eg(u),o.context===null?o.context=u:o.pendingContext=u,o=mr(w,j),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Fr(g,o,j),i!==null&&($n(i,g,j,w),qa(i,g,j)),j}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ng(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function od(i,o){ng(i,o),(i=i.alternate)&&ng(i,o)}function Qb(){return null}var rg=typeof reportError=="function"?reportError:function(i){console.error(i)};function ad(i){this._internalRoot=i}vl.prototype.render=ad.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));ml(i,o,null,null)},vl.prototype.unmount=ad.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;bi(function(){ml(null,i,null,null)}),o[cr]=null}};function vl(i){this._internalRoot=i}vl.prototype.unstable_scheduleHydration=function(i){if(i){var o=zh();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ar.length&&o!==0&&o<Ar[u].priority;u++);Ar.splice(u,0,i),u===0&&Wh(i)}};function ld(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function yl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ig(){}function Xb(i,o,u,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var X=gl(j);w.call(X)}}var j=tg(o,h,i,0,null,!1,!1,"",ig);return i._reactRootContainer=j,i[cr]=j.current,lo(i.nodeType===8?i.parentNode:i),bi(),j}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var R=h;h=function(){var X=gl(z);R.call(X)}}var z=sd(i,0,!1,null,null,!1,!1,"",ig);return i._reactRootContainer=z,i[cr]=z.current,lo(i.nodeType===8?i.parentNode:i),bi(function(){ml(o,z,u,h)}),z}function wl(i,o,u,h,g){var w=u._reactRootContainer;if(w){var j=w;if(typeof g=="function"){var R=g;g=function(){var z=gl(j);R.call(z)}}ml(o,j,i,g)}else j=Xb(u,o,i,g,h);return gl(j)}$h=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ys(o.pendingLanes);u!==0&&(Pu(o,u|1),Kt(o,lt()),(Le&6)===0&&(ls=lt()+500,Mr()))}break;case 13:bi(function(){var h=pr(i,1);if(h!==null){var g=zt();$n(h,i,1,g)}}),od(i,1)}},Ru=function(i){if(i.tag===13){var o=pr(i,134217728);if(o!==null){var u=zt();$n(o,i,134217728,u)}od(i,134217728)}},Fh=function(i){if(i.tag===13){var o=Wr(i),u=pr(i,o);if(u!==null){var h=zt();$n(u,i,o,h)}od(i,o)}},zh=function(){return Ue},Uh=function(i,o){var u=Ue;try{return Ue=i,o()}finally{Ue=u}},Vs=function(i,o,u){switch(o){case"input":if(ar(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var g=La(h);if(!g)throw Error(n(90));Fe(h),ar(h,g)}}}break;case"textarea":di(i,u);break;case"select":o=u.value,o!=null&&nn(i,!!u.multiple,o,!1)}},$t=Zc,It=bi;var Zb={usingClientEntryPoint:!1,Events:[fo,Gi,La,Nt,Nn,Zc]},Co={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ek={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ih(i),i===null?null:i.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Qb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{va=xl.inject(ek),Gn=xl}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zb,Gt.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(o))throw Error(n(200));return Jb(i,o,null,u)},Gt.createRoot=function(i,o){if(!ld(i))throw Error(n(299));var u=!1,h="",g=rg;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=sd(i,1,!1,null,null,u,!1,h,g),i[cr]=o.current,lo(i.nodeType===8?i.parentNode:i),new ad(o)},Gt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ih(o),i=i===null?null:i.stateNode,i},Gt.flushSync=function(i){return bi(i)},Gt.hydrate=function(i,o,u){if(!yl(o))throw Error(n(200));return wl(null,i,o,!0,u)},Gt.hydrateRoot=function(i,o,u){if(!ld(i))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,g=!1,w="",j=rg;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(j=u.onRecoverableError)),o=tg(o,null,i,1,u??null,g,!1,w,j),i[cr]=o.current,lo(i),h)for(i=0;i<h.length;i++)u=h[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new vl(o)},Gt.render=function(i,o,u){if(!yl(o))throw Error(n(200));return wl(null,i,o,!1,u)},Gt.unmountComponentAtNode=function(i){if(!yl(i))throw Error(n(40));return i._reactRootContainer?(bi(function(){wl(null,null,i,!1,function(){i._reactRootContainer=null,i[cr]=null})}),!0):!1},Gt.unstable_batchedUpdates=Zc,Gt.unstable_renderSubtreeIntoContainer=function(i,o,u,h){if(!yl(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return wl(i,o,u,!1,h)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var fg;function _y(){if(fg)return dd.exports;fg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dd.exports=uk(),dd.exports}var hg;function ck(){if(hg)return bl;hg=1;var e=_y();return bl.createRoot=e.createRoot,bl.hydrateRoot=e.hydrateRoot,bl}var dk=ck();const fk=Ds(dk);var Ts=_y();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(this,arguments)}var ei;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ei||(ei={}));const pg="popstate";function hk(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:l,hash:c}=r.location;return Zd("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Bl(s)}return mk(t,n,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ey(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pk(){return Math.random().toString(36).substr(2,8)}function mg(e,t){return{usr:e.state,key:e.key,idx:t}}function Zd(e,t,n,r){return n===void 0&&(n=null),Go({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ls(t):t,{state:n,key:t&&t.key||r||pk()})}function Bl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function mk(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c=ei.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(Go({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function m(){c=ei.Pop;let C=p(),T=C==null?null:C-f;f=C,d&&d({action:c,location:S.location,delta:T})}function y(C,T){c=ei.Push;let I=Zd(S.location,C,T);f=p()+1;let A=mg(I,f),B=S.createHref(I);try{l.pushState(A,"",B)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(B)}a&&d&&d({action:c,location:S.location,delta:1})}function v(C,T){c=ei.Replace;let I=Zd(S.location,C,T);f=p();let A=mg(I,f),B=S.createHref(I);l.replaceState(A,"",B),a&&d&&d({action:c,location:S.location,delta:0})}function k(C){let T=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof C=="string"?C:Bl(C);return I=I.replace(/ $/,"%20"),it(T,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,T)}let S={get action(){return c},get location(){return e(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(pg,m),d=C,()=>{s.removeEventListener(pg,m),d=null}},createHref(C){return t(s,C)},createURL:k,encodeLocation(C){let T=k(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:v,go(C){return l.go(C)}};return S}var gg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gg||(gg={}));function gk(e,t,n){return n===void 0&&(n="/"),vk(e,t,n)}function vk(e,t,n,r){let s=typeof t=="string"?Ls(t):t,a=Ps(s.pathname||"/",n);if(a==null)return null;let l=Cy(e);yk(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=Nk(a);c=jk(l[d],f)}return c}function Cy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(it(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=ii([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(it(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Cy(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:Ek(f,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of jy(a.path))s(a,l,d)}),t}function jy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=jy(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function yk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ck(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wk=/^:[\w-]+$/,xk=3,bk=2,kk=1,Sk=10,_k=-2,vg=e=>e==="*";function Ek(e,t){let n=e.split("/"),r=n.length;return n.some(vg)&&(r+=_k),t&&(r+=bk),n.filter(s=>!vg(s)).reduce((s,a)=>s+(wk.test(a)?xk:a===""?kk:Sk),r)}function Ck(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function jk(e,t,n){let{routesMeta:r}=e,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=ef({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:ii([a,m.pathname]),pathnameBase:Rk(ii([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=ii([a,m.pathnameBase]))}return l}function ef(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Tk(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,p,m)=>{let{paramName:y,isOptional:v}=p;if(y==="*"){let S=c[m]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const k=c[m];return v&&!k?f[y]=void 0:f[y]=(k||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function Tk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ey(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Nk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ey(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ps(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ik(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ls(e):e;return{pathname:n?n.startsWith("/")?n:Ak(n,t):t,search:Ok(r),hash:Dk(s)}}function Ak(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bf(e,t){let n=Pk(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ls(e):(s=Go({},e),it(!s.pathname||!s.pathname.includes("?"),pd("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),pd("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),pd("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}c=m>=0?t[m]:"/"}let d=Ik(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),Rk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ok=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ty=["post","put","patch","delete"];new Set(Ty);const Mk=["get",...Ty];new Set(Mk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jo.apply(this,arguments)}const au=E.createContext(null),Ny=E.createContext(null),Sr=E.createContext(null),lu=E.createContext(null),_r=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Iy=E.createContext(null);function $k(e,t){let{relative:n}=t===void 0?{}:t;Ms()||it(!1);let{basename:r,navigator:s}=E.useContext(Sr),{hash:a,pathname:l,search:c}=uu(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:ii([r,l])),s.createHref({pathname:d,search:c,hash:a})}function Ms(){return E.useContext(lu)!=null}function oi(){return Ms()||it(!1),E.useContext(lu).location}function Ay(e){E.useContext(Sr).static||E.useLayoutEffect(e)}function Hf(){let{isDataRoute:e}=E.useContext(_r);return e?Zk():Fk()}function Fk(){Ms()||it(!1);let e=E.useContext(au),{basename:t,future:n,navigator:r}=E.useContext(Sr),{matches:s}=E.useContext(_r),{pathname:a}=oi(),l=JSON.stringify(Bf(s,n.v7_relativeSplatPath)),c=E.useRef(!1);return Ay(()=>{c.current=!0}),E.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let m=Wf(f,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ii([t,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[t,r,l,a,e])}const zk=E.createContext(null);function Uk(e){let t=E.useContext(_r).outlet;return t&&E.createElement(zk.Provider,{value:e},t)}function uu(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(Sr),{matches:s}=E.useContext(_r),{pathname:a}=oi(),l=JSON.stringify(Bf(s,r.v7_relativeSplatPath));return E.useMemo(()=>Wf(e,JSON.parse(l),a,n==="path"),[e,l,a,n])}function Bk(e,t){return Wk(e,t)}function Wk(e,t,n,r){Ms()||it(!1);let{navigator:s}=E.useContext(Sr),{matches:a}=E.useContext(_r),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=oi(),p;if(t){var m;let C=typeof t=="string"?Ls(t):t;d==="/"||(m=C.pathname)!=null&&m.startsWith(d)||it(!1),p=C}else p=f;let y=p.pathname||"/",v=y;if(d!=="/"){let C=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=gk(e,{pathname:v}),S=Kk(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:ii([d,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:ii([d,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return t&&S?E.createElement(lu.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ei.Pop}},S):S}function Hk(){let e=Xk(),t=Lk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:s},n):null,null)}const Vk=E.createElement(Hk,null);class qk extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(_r.Provider,{value:this.props.routeContext},E.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yk(e){let{routeContext:t,match:n,children:r}=e,s=E.useContext(au);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(_r.Provider,{value:t},r)}function Kk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let p=l.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);p>=0||it(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:v}=n,k=m.route.loader&&y[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||k){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,y)=>{let v,k=!1,S=null,C=null;n&&(v=c&&m.route.id?c[m.route.id]:void 0,S=m.route.errorElement||Vk,d&&(f<0&&y===0?(e1("route-fallback"),k=!0,C=null):f===y&&(k=!0,C=m.route.hydrateFallbackElement||null)));let T=t.concat(l.slice(0,y+1)),I=()=>{let A;return v?A=S:k?A=C:m.route.Component?A=E.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=p,E.createElement(Yk,{match:m,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?E.createElement(qk,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:I(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):I()},null)}var Py=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Py||{}),Ry=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Ry||{});function Gk(e){let t=E.useContext(au);return t||it(!1),t}function Jk(e){let t=E.useContext(Ny);return t||it(!1),t}function Qk(e){let t=E.useContext(_r);return t||it(!1),t}function Oy(e){let t=Qk(),n=t.matches[t.matches.length-1];return n.route.id||it(!1),n.route.id}function Xk(){var e;let t=E.useContext(Iy),n=Jk(),r=Oy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Zk(){let{router:e}=Gk(Py.UseNavigateStable),t=Oy(Ry.UseNavigateStable),n=E.useRef(!1);return Ay(()=>{n.current=!0}),E.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Jo({fromRouteId:t},a)))},[e,t])}const yg={};function e1(e,t,n){yg[e]||(yg[e]=!0)}function t1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vf(e){let{to:t,replace:n,state:r,relative:s}=e;Ms()||it(!1);let{future:a,static:l}=E.useContext(Sr),{matches:c}=E.useContext(_r),{pathname:d}=oi(),f=Hf(),p=Wf(t,Bf(c,a.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(p);return E.useEffect(()=>f(JSON.parse(m),{replace:n,state:r,relative:s}),[f,m,s,n,r]),null}function Dy(e){return Uk(e.context)}function Fn(e){it(!1)}function n1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ei.Pop,navigator:a,static:l=!1,future:c}=e;Ms()&&it(!1);let d=t.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:d,navigator:a,static:l,future:Jo({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof r=="string"&&(r=Ls(r));let{pathname:p="/",search:m="",hash:y="",state:v=null,key:k="default"}=r,S=E.useMemo(()=>{let C=Ps(p,d);return C==null?null:{location:{pathname:C,search:m,hash:y,state:v,key:k},navigationType:s}},[d,p,m,y,v,k,s]);return S==null?null:E.createElement(Sr.Provider,{value:f},E.createElement(lu.Provider,{children:n,value:S}))}function r1(e){let{children:t,location:n}=e;return Bk(tf(t),n)}new Promise(()=>{});function tf(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,s)=>{if(!E.isValidElement(r))return;let a=[...t,s];if(r.type===E.Fragment){n.push.apply(n,tf(r.props.children,a));return}r.type!==Fn&&it(!1),!r.props.index||!r.props.children||it(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=tf(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wl.apply(this,arguments)}function Ly(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function i1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s1(e,t){return e.button===0&&(!t||t==="_self")&&!i1(e)}function nf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function o1(e,t){let n=nf(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const a1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],u1="6";try{window.__reactRouterVersion=u1}catch{}const c1=E.createContext({isTransitioning:!1}),d1="startTransition",wg=Xd[d1];function f1(e){let{basename:t,children:n,future:r,window:s}=e,a=E.useRef();a.current==null&&(a.current=hk({window:s,v5Compat:!0}));let l=a.current,[c,d]=E.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},p=E.useCallback(m=>{f&&wg?wg(()=>d(m)):d(m)},[d,f]);return E.useLayoutEffect(()=>l.listen(p),[l,p]),E.useEffect(()=>t1(r),[r]),E.createElement(n1,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=E.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m}=t,y=Ly(t,a1),{basename:v}=E.useContext(Sr),k,S=!1;if(typeof f=="string"&&p1.test(f)&&(k=f,h1))try{let A=new URL(window.location.href),B=f.startsWith("//")?new URL(A.protocol+f):new URL(f),V=Ps(B.pathname,v);B.origin===A.origin&&V!=null?f=V+B.search+B.hash:S=!0}catch{}let C=$k(f,{relative:s}),T=g1(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:m});function I(A){r&&r(A),A.defaultPrevented||T(A)}return E.createElement("a",Wl({},y,{href:k||C,onClick:S||a?r:I,ref:n,target:d}))}),xg=E.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:f,children:p}=t,m=Ly(t,l1),y=uu(d,{relative:m.relative}),v=oi(),k=E.useContext(Ny),{navigator:S,basename:C}=E.useContext(Sr),T=k!=null&&y1(y)&&f===!0,I=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,A=v.pathname,B=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(A=A.toLowerCase(),B=B?B.toLowerCase():null,I=I.toLowerCase()),B&&C&&(B=Ps(B,C)||B);const V=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let D=A===I||!l&&A.startsWith(I)&&A.charAt(V)==="/",Q=B!=null&&(B===I||!l&&B.startsWith(I)&&B.charAt(I.length)==="/"),re={isActive:D,isPending:Q,isTransitioning:T},se=D?r:void 0,M;typeof a=="function"?M=a(re):M=[a,D?"active":null,Q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let $=typeof c=="function"?c(re):c;return E.createElement(_s,Wl({},m,{"aria-current":se,className:M,ref:n,style:$,to:d,viewTransition:f}),typeof p=="function"?p(re):p)});var rf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rf||(rf={}));var bg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bg||(bg={}));function m1(e){let t=E.useContext(au);return t||it(!1),t}function g1(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:c}=t===void 0?{}:t,d=Hf(),f=oi(),p=uu(e,{relative:l});return E.useCallback(m=>{if(s1(m,n)){m.preventDefault();let y=r!==void 0?r:Bl(f)===Bl(p);d(e,{replace:y,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[f,d,p,r,s,n,e,a,l,c])}function v1(e){let t=E.useRef(nf(e)),n=E.useRef(!1),r=oi(),s=E.useMemo(()=>o1(r.search,n.current?null:t.current),[r.search]),a=Hf(),l=E.useCallback((c,d)=>{const f=nf(typeof c=="function"?c(s):c);n.current=!0,a("?"+f,d)},[a,s]);return[s,l]}function y1(e,t){t===void 0&&(t={});let n=E.useContext(c1);n==null&&it(!1);let{basename:r}=m1(rf.useViewTransitionState),s=uu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ef(s.pathname,l)!=null||ef(s.pathname,a)!=null}function My(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=My(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xe(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=My(e))&&(r&&(r+=" "),r+=t);return r}var w1=Object.defineProperty,x1=(e,t,n)=>t in e?w1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,md=(e,t,n)=>(x1(e,typeof t!="symbol"?t+"":t,n),n);let b1=class{constructor(){md(this,"current",this.detect()),md(this,"handoffState","pending"),md(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},rr=new b1;function sa(e){var t;return rr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function sf(e){var t,n;return rr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function $y(e){var t,n;return(n=(t=sf(e))==null?void 0:t.activeElement)!=null?n:null}function k1(e){return $y(e)===e}function cu(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Er(){let e=[],t={addEventListener(n,r,s,a){return n.addEventListener(r,s,a),t.add(()=>n.removeEventListener(r,s,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return cu(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=Er();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function du(){let[e]=E.useState(Er);return E.useEffect(()=>()=>e.dispose(),[e]),e}let Xt=(e,t)=>{rr.isServer?E.useEffect(e,t):E.useLayoutEffect(e,t)};function $i(e){let t=E.useRef(e);return Xt(()=>{t.current=e},[e]),t}let We=function(e){let t=$i(e);return ye.useCallback((...n)=>t.current(...n),[t])};function oa(e){return E.useMemo(()=>e,Object.values(e))}let S1=E.createContext(void 0);function _1(){return E.useContext(S1)}function of(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function br(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,br),r}var Hl=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Hl||{}),ti=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ti||{});function jn(){let e=C1();return E.useCallback(t=>E1({mergeRefs:e,...t}),[e])}function E1({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:a=!0,name:l,mergeRefs:c}){c=c??j1;let d=Fy(t,e);if(a)return kl(d,n,r,l,c);let f=s??0;if(f&2){let{static:p=!1,...m}=d;if(p)return kl(m,n,r,l,c)}if(f&1){let{unmount:p=!0,...m}=d;return br(p?0:1,{0(){return null},1(){return kl({...m,hidden:!0,style:{display:"none"}},n,r,l,c)}})}return kl(d,n,r,l,c)}function kl(e,t={},n,r,s){let{as:a=n,children:l,refName:c="ref",...d}=gd(e,["unmount","static"]),f=e.ref!==void 0?{[c]:e.ref}:{},p=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let m={};if(t){let y=!1,v=[];for(let[k,S]of Object.entries(t))typeof S=="boolean"&&(y=!0),S===!0&&v.push(k.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(y){m["data-headlessui-state"]=v.join(" ");for(let k of v)m[`data-${k}`]=""}}if(Mo(a)&&(Object.keys(Ti(d)).length>0||Object.keys(Ti(m)).length>0))if(!E.isValidElement(p)||Array.isArray(p)&&p.length>1||N1(p)){if(Object.keys(Ti(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ti(d)).concat(Object.keys(Ti(m))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=p.props,v=y==null?void 0:y.className,k=typeof v=="function"?(...T)=>of(v(...T),d.className):of(v,d.className),S=k?{className:k}:{},C=Fy(p.props,Ti(gd(d,["ref"])));for(let T in m)T in C&&delete m[T];return E.cloneElement(p,Object.assign({},C,m,f,{ref:s(T1(p),f.ref)},S))}return E.createElement(a,Object.assign({},gd(d,["ref"]),!Mo(a)&&f,!Mo(a)&&m),p)}function C1(){let e=E.useRef([]),t=E.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function j1(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Fy(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var a;return(a=s==null?void 0:s.preventDefault)==null?void 0:a.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...a){let l=n[r];for(let c of l){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;c(s,...a)}}});return t}function Zt(e){var t;return Object.assign(E.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ti(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function gd(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function T1(e){return ye.version.split(".")[0]>="19"?e.props.ref:e.ref}function Mo(e){return e===E.Fragment||e===Symbol.for("react.fragment")}function N1(e){return Mo(e.type)}let I1="span";var Vl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Vl||{});function A1(e,t){var n;let{features:r=1,...s}=e,a={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return jn()({ourProps:a,theirProps:s,slot:{},defaultTag:I1,name:"Hidden"})}let af=Zt(A1);function P1(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function si(e){return P1(e)&&"tagName"in e}function Li(e){return si(e)&&"accessKey"in e}function ni(e){return si(e)&&"tabIndex"in e}function R1(e){return si(e)&&"style"in e}function O1(e){return Li(e)&&e.nodeName==="IFRAME"}function D1(e){return Li(e)&&e.nodeName==="INPUT"}let zy=Symbol();function L1(e,t=!0){return Object.assign(e,{[zy]:t})}function sr(...e){let t=E.useRef(e);E.useEffect(()=>{t.current=e},[e]);let n=We(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[zy]))?void 0:n}let qf=E.createContext(null);qf.displayName="DescriptionContext";function Uy(){let e=E.useContext(qf);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Uy),t}return e}function M1(){let[e,t]=E.useState([]);return[e.length>0?e.join(" "):void 0,E.useMemo(()=>function(n){let r=We(a=>(t(l=>[...l,a]),()=>t(l=>{let c=l.slice(),d=c.indexOf(a);return d!==-1&&c.splice(d,1),c}))),s=E.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return ye.createElement(qf.Provider,{value:s},n.children)},[t])]}let $1="p";function F1(e,t){let n=E.useId(),r=_1(),{id:s=`headlessui-description-${n}`,...a}=e,l=Uy(),c=sr(t);Xt(()=>l.register(s),[s,l.register]);let d=oa({...l.slot,disabled:r||!1}),f={ref:c,...l.props,id:s};return jn()({ourProps:f,theirProps:a,slot:d,defaultTag:$1,name:l.name||"Description"})}let z1=Zt(F1),U1=Object.assign(z1,{});var By=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(By||{});let B1=E.createContext(()=>{});function W1({value:e,children:t}){return ye.createElement(B1.Provider,{value:e},t)}let Wy=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var H1=Object.defineProperty,V1=(e,t,n)=>t in e?H1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q1=(e,t,n)=>(V1(e,t+"",n),n),Hy=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},_n=(e,t,n)=>(Hy(e,t,"read from private field"),n?n.call(e):t.get(e)),vd=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},kg=(e,t,n,r)=>(Hy(e,t,"write to private field"),t.set(e,n),n),er,Po,Ro;let Y1=class{constructor(t){vd(this,er,{}),vd(this,Po,new Wy(()=>new Set)),vd(this,Ro,new Set),q1(this,"disposables",Er()),kg(this,er,t),rr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return _n(this,er)}subscribe(t,n){if(rr.isServer)return()=>{};let r={selector:t,callback:n,current:t(_n(this,er))};return _n(this,Ro).add(r),this.disposables.add(()=>{_n(this,Ro).delete(r)})}on(t,n){return rr.isServer?()=>{}:(_n(this,Po).get(t).add(n),this.disposables.add(()=>{_n(this,Po).get(t).delete(n)}))}send(t){let n=this.reduce(_n(this,er),t);if(n!==_n(this,er)){kg(this,er,n);for(let r of _n(this,Ro)){let s=r.selector(_n(this,er));Vy(r.current,s)||(r.current=s,r.callback(s))}for(let r of _n(this,Po).get(t.type))r(_n(this,er),t)}}};er=new WeakMap,Po=new WeakMap,Ro=new WeakMap;function Vy(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:yd(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:yd(e.entries(),t.entries()):Sg(e)&&Sg(t)?yd(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function yd(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Sg(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var K1=Object.defineProperty,G1=(e,t,n)=>t in e?K1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_g=(e,t,n)=>(G1(e,typeof t!="symbol"?t+"":t,n),n),J1=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(J1||{});let Q1={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let a=e.stack.slice();return a.splice(s,1),a.push(n),r=a,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},X1=class qy extends Y1{constructor(){super(...arguments),_g(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),_g(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new qy({stack:[]})}reduce(t,n){return br(n.type,Q1,t,n)}};const Yy=new Wy(()=>X1.new());var wd={exports:{}},xd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function Z1(){if(Eg)return xd;Eg=1;var e=ou();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,a=e.useEffect,l=e.useMemo,c=e.useDebugValue;return xd.useSyncExternalStoreWithSelector=function(d,f,p,m,y){var v=s(null);if(v.current===null){var k={hasValue:!1,value:null};v.current=k}else k=v.current;v=l(function(){function C(V){if(!T){if(T=!0,I=V,V=m(V),y!==void 0&&k.hasValue){var D=k.value;if(y(D,V))return A=D}return A=V}if(D=A,n(I,V))return D;var Q=m(V);return y!==void 0&&y(D,Q)?(I=V,D):(I=V,A=Q)}var T=!1,I,A,B=p===void 0?null:p;return[function(){return C(f())},B===null?void 0:function(){return C(B())}]},[f,p,m,y]);var S=r(d,v[0],v[1]);return a(function(){k.hasValue=!0,k.value=S},[S]),c(S),S},xd}var Cg;function eS(){return Cg||(Cg=1,wd.exports=Z1()),wd.exports}var tS=eS();function Ky(e,t,n=Vy){return tS.useSyncExternalStoreWithSelector(We(r=>e.subscribe(nS,r)),We(()=>e.state),We(()=>e.state),We(t),n)}function nS(e){return e}function aa(e,t){let n=E.useId(),r=Yy.get(t),[s,a]=Ky(r,E.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return Xt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?a?s:!0:!1}let lf=new Map,$o=new Map;function jg(e){var t;let n=(t=$o.get(e))!=null?t:0;return $o.set(e,n+1),n!==0?()=>Tg(e):(lf.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Tg(e))}function Tg(e){var t;let n=(t=$o.get(e))!=null?t:1;if(n===1?$o.delete(e):$o.set(e,n-1),n!==1)return;let r=lf.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,lf.delete(e))}function rS(e,{allowed:t,disallowed:n}={}){let r=aa(e,"inert-others");Xt(()=>{var s,a;if(!r)return;let l=Er();for(let d of(s=n==null?void 0:n())!=null?s:[])d&&l.add(jg(d));let c=(a=t==null?void 0:t())!=null?a:[];for(let d of c){if(!d)continue;let f=sa(d);if(!f)continue;let p=d.parentElement;for(;p&&p!==f.body;){for(let m of p.children)c.some(y=>m.contains(y))||l.add(jg(m));p=p.parentElement}}return l.dispose},[r,t,n])}function iS(e,t,n){let r=$i(s=>{let a=s.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&n()});E.useEffect(()=>{if(!e)return;let s=t===null?null:Li(t)?t:t.current;if(!s)return;let a=Er();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(s));l.observe(s),a.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(s));l.observe(s),a.add(()=>l.disconnect())}return()=>a.dispose()},[t,r,e])}let ql=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),sS=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var wr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(wr||{}),uf=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(uf||{}),oS=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(oS||{});function aS(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ql)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function lS(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(sS)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Gy=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Gy||{});function uS(e,t=0){var n;return e===((n=sa(e))==null?void 0:n.body)?!1:br(t,{0(){return e.matches(ql)},1(){let r=e;for(;r!==null;){if(r.matches(ql))return!0;r=r.parentElement}return!1}})}var cS=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(cS||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xr(e){e==null||e.focus({preventScroll:!0})}let dS=["textarea","input"].join(",");function fS(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,dS))!=null?n:!1}function hS(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),a=t(r);if(s===null||a===null)return 0;let l=s.compareDocumentPosition(a);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Fo(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let a=Array.isArray(e)?e.length>0?sf(e[0]):document:sf(e),l=Array.isArray(e)?n?hS(e):e:t&64?lS(e):aS(e);s.length>0&&l.length>1&&(l=l.filter(v=>!s.some(k=>k!=null&&"current"in k?(k==null?void 0:k.current)===v:k===v))),r=r??(a==null?void 0:a.activeElement);let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},p=0,m=l.length,y;do{if(p>=m||p+m<=0)return 0;let v=d+p;if(t&16)v=(v+m)%m;else{if(v<0)return 3;if(v>=m)return 1}y=l[v],y==null||y.focus(f),p+=c}while(y!==$y(y));return t&6&&fS(y)&&y.select(),2}function Jy(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function pS(){return/Android/gi.test(window.navigator.userAgent)}function Ng(){return Jy()||pS()}function Sl(e,t,n,r){let s=$i(n);E.useEffect(()=>{if(!e)return;function a(l){s.current(l)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[e,t,r])}function Qy(e,t,n,r){let s=$i(n);E.useEffect(()=>{if(!e)return;function a(l){s.current(l)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[e,t,r])}const Ig=30;function mS(e,t,n){let r=$i(n),s=E.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let p=(function m(y){return typeof y=="function"?m(y()):Array.isArray(y)||y instanceof Set?y:[y]})(t);for(let m of p)if(m!==null&&(m.contains(f)||c.composed&&c.composedPath().includes(m)))return;return!uS(f,Gy.Loose)&&f.tabIndex!==-1&&c.preventDefault(),r.current(c,f)},[r,t]),a=E.useRef(null);Sl(e,"pointerdown",c=>{var d,f;Ng()||(a.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target)},!0),Sl(e,"pointerup",c=>{if(Ng()||!a.current)return;let d=a.current;return a.current=null,s(c,()=>d)},!0);let l=E.useRef({x:0,y:0});Sl(e,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),Sl(e,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=Ig||Math.abs(d.y-l.current.y)>=Ig))return s(c,()=>ni(c.target)?c.target:null)},!0),Qy(e,"blur",c=>s(c,()=>O1(window.document.activeElement)?window.document.activeElement:null),!0)}function Yf(...e){return E.useMemo(()=>sa(...e),[...e])}function Xy(e,t,n,r){let s=$i(n);E.useEffect(()=>{e=e??window;function a(l){s.current(l)}return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)},[e,t,r])}function gS(e){return E.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function vS(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...a){let l=t[s].call(n,...a);l&&(n=l,r.forEach(c=>c()))}}}function yS(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),a=Math.max(0,e-s);n.style(r,"paddingRight",`${a}px`)}}}function wS(){return Jy()?{before({doc:e,d:t,meta:n}){function r(s){for(let a of n().containers)for(let l of a())if(l.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=Er();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let a=(s=window.scrollY)!=null?s:window.pageYOffset,l=null;t.addEventListener(e,"click",c=>{if(ni(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),p=e.querySelector(f);ni(p)&&!r(p)&&(l=p)}catch{}},!0),t.group(c=>{t.addEventListener(e,"touchstart",d=>{if(c.dispose(),ni(d.target)&&R1(d.target))if(r(d.target)){let f=d.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;c.style(f,"overscrollBehavior","contain")}else c.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",c=>{if(ni(c.target)){if(D1(c.target))return;if(r(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;a!==d&&window.scrollTo(0,a),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function xS(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ag(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Oi=vS(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Er(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Ag(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Ag(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[wS(),yS(),xS()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Oi.subscribe(()=>{let e=Oi.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Oi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Oi.dispatch("TEARDOWN",n)}});function bS(e,t,n=()=>({containers:[]})){let r=gS(Oi),s=t?r.get(t):void 0,a=s?s.count>0:!1;return Xt(()=>{if(!(!t||!e))return Oi.dispatch("PUSH",t,n),()=>Oi.dispatch("POP",t,n)},[e,t]),a}function kS(e,t,n=()=>[document.body]){let r=aa(e,"scroll-lock");bS(r,t,s=>{var a;return{containers:[...(a=s.containers)!=null?a:[],n]}})}function SS(e=0){let[t,n]=E.useState(e),r=E.useCallback(d=>n(d),[]),s=E.useCallback(d=>n(f=>f|d),[]),a=E.useCallback(d=>(t&d)===d,[t]),l=E.useCallback(d=>n(f=>f&~d),[]),c=E.useCallback(d=>n(f=>f^d),[]);return{flags:t,setFlag:r,addFlag:s,hasFlag:a,removeFlag:l,toggleFlag:c}}var _S={},Pg,Rg;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Pg=process==null?void 0:_S)==null?void 0:Pg.NODE_ENV)==="test"&&typeof((Rg=Element==null?void 0:Element.prototype)==null?void 0:Rg.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var ES=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(ES||{});function CS(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function jS(e,t,n,r){let[s,a]=E.useState(n),{hasFlag:l,addFlag:c,removeFlag:d}=SS(e&&s?3:0),f=E.useRef(!1),p=E.useRef(!1),m=du();return Xt(()=>{var y;if(e){if(n&&a(!0),!t){n&&c(3);return}return(y=r==null?void 0:r.start)==null||y.call(r,n),TS(t,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,!p.current&&(n?(c(3),d(4)):(c(4),d(2)))},run(){p.current?n?(d(3),c(4)):(d(4),c(3)):n?d(1):c(1)},done(){var v;p.current&&AS(t)||(f.current=!1,d(7),n||a(!1),(v=r==null?void 0:r.end)==null||v.call(r,n))}})}},[e,n,t,m]),e?[s,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function TS(e,{prepare:t,run:n,done:r,inFlight:s}){let a=Er();return IS(e,{prepare:t,inFlight:s}),a.nextFrame(()=>{n(),a.requestAnimationFrame(()=>{a.add(NS(e,r))})}),a.dispose}function NS(e,t){var n,r;let s=Er();if(!e)return s.dispose;let a=!1;s.add(()=>{a=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(c=>c instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),s.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{a||t()}),s.dispose)}function IS(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function AS(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Kf(e,t){let n=E.useRef([]),r=We(e);E.useEffect(()=>{let s=[...n.current];for(let[a,l]of t.entries())if(n.current[a]!==l){let c=r(t,s);return n.current=t,c}},[r,...t])}let fu=E.createContext(null);fu.displayName="OpenClosedContext";var Bn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Bn||{});function hu(){return E.useContext(fu)}function PS({value:e,children:t}){return ye.createElement(fu.Provider,{value:e},t)}function RS({children:e}){return ye.createElement(fu.Provider,{value:null},e)}function OS(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Qr=[];OS(()=>{function e(t){if(!ni(t.target)||t.target===document.body||Qr[0]===t.target)return;let n=t.target;n=n.closest(ql),Qr.unshift(n??t.target),Qr=Qr.filter(r=>r!=null&&r.isConnected),Qr.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Zy(e){let t=We(e),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,cu(()=>{n.current&&t()})}),[t])}let ew=E.createContext(!1);function DS(){return E.useContext(ew)}function Og(e){return ye.createElement(ew.Provider,{value:e.force},e.children)}function LS(e){let t=DS(),n=E.useContext(nw),[r,s]=E.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(rr.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return E.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),E.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let tw=E.Fragment,MS=Zt(function(e,t){let{ownerDocument:n=null,...r}=e,s=E.useRef(null),a=sr(L1(y=>{s.current=y}),t),l=Yf(s.current),c=n??l,d=LS(c),f=E.useContext(cf),p=du(),m=jn();return Zy(()=>{var y;d&&d.childNodes.length<=0&&((y=d.parentElement)==null||y.removeChild(d))}),d?Ts.createPortal(ye.createElement("div",{"data-headlessui-portal":"",ref:y=>{p.dispose(),f&&y&&p.add(f.register(y))}},m({ourProps:{ref:a},theirProps:r,slot:{},defaultTag:tw,name:"Portal"})),d):null});function $S(e,t){let n=sr(t),{enabled:r=!0,ownerDocument:s,...a}=e,l=jn();return r?ye.createElement(MS,{...a,ownerDocument:s,ref:n}):l({ourProps:{ref:n},theirProps:a,slot:{},defaultTag:tw,name:"Portal"})}let FS=E.Fragment,nw=E.createContext(null);function zS(e,t){let{target:n,...r}=e,s={ref:sr(t)},a=jn();return ye.createElement(nw.Provider,{value:n},a({ourProps:s,theirProps:r,defaultTag:FS,name:"Popover.Group"}))}let cf=E.createContext(null);function US(){let e=E.useContext(cf),t=E.useRef([]),n=We(a=>(t.current.push(a),e&&e.register(a),()=>r(a))),r=We(a=>{let l=t.current.indexOf(a);l!==-1&&t.current.splice(l,1),e&&e.unregister(a)}),s=E.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,E.useMemo(()=>function({children:a}){return ye.createElement(cf.Provider,{value:s},a)},[s])]}let BS=Zt($S),rw=Zt(zS),WS=Object.assign(BS,{Group:rw});function HS(e,t=typeof document<"u"?document.defaultView:null,n){let r=aa(e,"escape");Xy(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===By.Escape&&n(s))})}function VS(){var e;let[t]=E.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=E.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Xt(()=>{if(!t)return;function s(a){r(a.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function qS({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=We(()=>{var s,a;let l=sa(n),c=[];for(let d of e)d!==null&&(si(d)?c.push(d):"current"in d&&si(d.current)&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(s=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?s:[])d!==document.body&&d!==document.head&&si(d)&&d.id!=="headlessui-portal-root"&&(n&&(d.contains(n)||d.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:r,contains:We(s=>r().some(a=>a.contains(s)))}}let iw=E.createContext(null);function Dg({children:e,node:t}){let[n,r]=E.useState(null),s=sw(t??n);return ye.createElement(iw.Provider,{value:s},e,s===null&&ye.createElement(af,{features:Vl.Hidden,ref:a=>{var l,c;if(a){for(let d of(c=(l=sa(a))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&si(d)&&d!=null&&d.contains(a)){r(d);break}}}}))}function sw(e=null){var t;return(t=E.useContext(iw))!=null?t:e}function YS(){let e=typeof document>"u";return"useSyncExternalStore"in Xd?(t=>t.useSyncExternalStore)(Xd)(()=>()=>{},()=>!1,()=>!e):!1}function pu(){let e=YS(),[t,n]=E.useState(rr.isHandoffComplete);return t&&rr.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{t!==!0&&n(!0)},[t]),E.useEffect(()=>rr.handoff(),[]),e?!1:t}function Gf(){let e=E.useRef(!1);return Xt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Oo=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Oo||{});function KS(){let e=E.useRef(0);return Qy(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ow(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)si(n.current)&&t.add(n.current);return t}let GS="div";var Ai=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ai||{});function JS(e,t){let n=E.useRef(null),r=sr(n,t),{initialFocus:s,initialFocusFallback:a,containers:l,features:c=15,...d}=e;pu()||(c=0);let f=Yf(n.current);e_(c,{ownerDocument:f});let p=t_(c,{ownerDocument:f,container:n,initialFocus:s,initialFocusFallback:a});n_(c,{ownerDocument:f,container:n,containers:l,previousActiveElement:p});let m=KS(),y=We(I=>{if(!Li(n.current))return;let A=n.current;(B=>B())(()=>{br(m.current,{[Oo.Forwards]:()=>{Fo(A,wr.First,{skipElements:[I.relatedTarget,a]})},[Oo.Backwards]:()=>{Fo(A,wr.Last,{skipElements:[I.relatedTarget,a]})}})})}),v=aa(!!(c&2),"focus-trap#tab-lock"),k=du(),S=E.useRef(!1),C={ref:r,onKeyDown(I){I.key=="Tab"&&(S.current=!0,k.requestAnimationFrame(()=>{S.current=!1}))},onBlur(I){if(!(c&4))return;let A=ow(l);Li(n.current)&&A.add(n.current);let B=I.relatedTarget;ni(B)&&B.dataset.headlessuiFocusGuard!=="true"&&(aw(A,B)||(S.current?Fo(n.current,br(m.current,{[Oo.Forwards]:()=>wr.Next,[Oo.Backwards]:()=>wr.Previous})|wr.WrapAround,{relativeTo:I.target}):ni(I.target)&&xr(I.target)))}},T=jn();return ye.createElement(ye.Fragment,null,v&&ye.createElement(af,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Vl.Focusable}),T({ourProps:C,theirProps:d,defaultTag:GS,name:"FocusTrap"}),v&&ye.createElement(af,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Vl.Focusable}))}let QS=Zt(JS),XS=Object.assign(QS,{features:Ai});function ZS(e=!0){let t=E.useRef(Qr.slice());return Kf(([n],[r])=>{r===!0&&n===!1&&cu(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Qr.slice())},[e,Qr,t]),We(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function e_(e,{ownerDocument:t}){let n=!!(e&8),r=ZS(n);Kf(()=>{n||k1(t==null?void 0:t.body)&&xr(r())},[n]),Zy(()=>{n&&xr(r())})}function t_(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let a=E.useRef(null),l=aa(!!(e&1),"focus-trap#initial-focus"),c=Gf();return Kf(()=>{if(e===0)return;if(!l){s!=null&&s.current&&xr(s.current);return}let d=n.current;d&&cu(()=>{if(!c.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){a.current=f;return}}else if(d.contains(f)){a.current=f;return}if(r!=null&&r.current)xr(r.current);else{if(e&16){if(Fo(d,wr.First|wr.AutoFocus)!==uf.Error)return}else if(Fo(d,wr.First)!==uf.Error)return;if(s!=null&&s.current&&(xr(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=t==null?void 0:t.activeElement})},[s,l,e]),a}function n_(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let a=Gf(),l=!!(e&4);Xy(t==null?void 0:t.defaultView,"focus",c=>{if(!l||!a.current)return;let d=ow(r);Li(n.current)&&d.add(n.current);let f=s.current;if(!f)return;let p=c.target;Li(p)?aw(d,p)?(s.current=p,xr(p)):(c.preventDefault(),c.stopPropagation(),xr(f)):xr(s.current)},!0)}function aw(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function lw(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Mo((t=e.as)!=null?t:cw)||ye.Children.count(e.children)===1}let mu=E.createContext(null);mu.displayName="TransitionContext";var r_=(e=>(e.Visible="visible",e.Hidden="hidden",e))(r_||{});function i_(){let e=E.useContext(mu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function s_(){let e=E.useContext(gu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let gu=E.createContext(null);gu.displayName="NestingContext";function vu(e){return"children"in e?vu(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function uw(e,t){let n=$i(e),r=E.useRef([]),s=Gf(),a=du(),l=We((v,k=ti.Hidden)=>{let S=r.current.findIndex(({el:C})=>C===v);S!==-1&&(br(k,{[ti.Unmount](){r.current.splice(S,1)},[ti.Hidden](){r.current[S].state="hidden"}}),a.microTask(()=>{var C;!vu(r)&&s.current&&((C=n.current)==null||C.call(n))}))}),c=We(v=>{let k=r.current.find(({el:S})=>S===v);return k?k.state!=="visible"&&(k.state="visible"):r.current.push({el:v,state:"visible"}),()=>l(v,ti.Unmount)}),d=E.useRef([]),f=E.useRef(Promise.resolve()),p=E.useRef({enter:[],leave:[]}),m=We((v,k,S)=>{d.current.splice(0),t&&(t.chains.current[k]=t.chains.current[k].filter(([C])=>C!==v)),t==null||t.chains.current[k].push([v,new Promise(C=>{d.current.push(C)})]),t==null||t.chains.current[k].push([v,new Promise(C=>{Promise.all(p.current[k].map(([T,I])=>I)).then(()=>C())})]),k==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>S(k)):S(k)}),y=We((v,k,S)=>{Promise.all(p.current[k].splice(0).map(([C,T])=>T)).then(()=>{var C;(C=d.current.shift())==null||C()}).then(()=>S(k))});return E.useMemo(()=>({children:r,register:c,unregister:l,onStart:m,onStop:y,wait:f,chains:p}),[c,l,r,m,y,p,f])}let cw=E.Fragment,dw=Hl.RenderStrategy;function o_(e,t){var n,r;let{transition:s=!0,beforeEnter:a,afterEnter:l,beforeLeave:c,afterLeave:d,enter:f,enterFrom:p,enterTo:m,entered:y,leave:v,leaveFrom:k,leaveTo:S,...C}=e,[T,I]=E.useState(null),A=E.useRef(null),B=lw(e),V=sr(...B?[A,t,I]:t===null?[]:[t]),D=(n=C.unmount)==null||n?ti.Unmount:ti.Hidden,{show:Q,appear:re,initial:se}=i_(),[M,$]=E.useState(Q?"visible":"hidden"),Z=s_(),{register:K,unregister:O}=Z;Xt(()=>K(A),[K,A]),Xt(()=>{if(D===ti.Hidden&&A.current){if(Q&&M!=="visible"){$("visible");return}return br(M,{hidden:()=>O(A),visible:()=>K(A)})}},[M,A,K,O,Q,D]);let F=pu();Xt(()=>{if(B&&F&&M==="visible"&&A.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[A,M,F,B]);let L=se&&!re,U=re&&Q&&se,W=E.useRef(!1),Y=uw(()=>{W.current||($("hidden"),O(A))},Z),b=We(de=>{W.current=!0;let fe=de?"enter":"leave";Y.onStart(A,fe,pe=>{pe==="enter"?a==null||a():pe==="leave"&&(c==null||c())})}),N=We(de=>{let fe=de?"enter":"leave";W.current=!1,Y.onStop(A,fe,pe=>{pe==="enter"?l==null||l():pe==="leave"&&(d==null||d())}),fe==="leave"&&!vu(Y)&&($("hidden"),O(A))});E.useEffect(()=>{B&&s||(b(Q),N(Q))},[Q,B,s]);let P=!(!s||!B||!F||L),[,_]=jS(P,T,Q,{start:b,end:N}),G=Ti({ref:V,className:((r=of(C.className,U&&f,U&&p,_.enter&&f,_.enter&&_.closed&&p,_.enter&&!_.closed&&m,_.leave&&v,_.leave&&!_.closed&&k,_.leave&&_.closed&&S,!_.transition&&Q&&y))==null?void 0:r.trim())||void 0,...CS(_)}),ee=0;M==="visible"&&(ee|=Bn.Open),M==="hidden"&&(ee|=Bn.Closed),Q&&M==="hidden"&&(ee|=Bn.Opening),!Q&&M==="visible"&&(ee|=Bn.Closing);let te=jn();return ye.createElement(gu.Provider,{value:Y},ye.createElement(PS,{value:ee},te({ourProps:G,theirProps:C,defaultTag:cw,features:dw,visible:M==="visible",name:"Transition.Child"})))}function a_(e,t){let{show:n,appear:r=!1,unmount:s=!0,...a}=e,l=E.useRef(null),c=lw(e),d=sr(...c?[l,t]:t===null?[]:[t]);pu();let f=hu();if(n===void 0&&f!==null&&(n=(f&Bn.Open)===Bn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,m]=E.useState(n?"visible":"hidden"),y=uw(()=>{n||m("hidden")}),[v,k]=E.useState(!0),S=E.useRef([n]);Xt(()=>{v!==!1&&S.current[S.current.length-1]!==n&&(S.current.push(n),k(!1))},[S,n]);let C=E.useMemo(()=>({show:n,appear:r,initial:v}),[n,r,v]);Xt(()=>{n?m("visible"):!vu(y)&&l.current!==null&&m("hidden")},[n,y]);let T={unmount:s},I=We(()=>{var V;v&&k(!1),(V=e.beforeEnter)==null||V.call(e)}),A=We(()=>{var V;v&&k(!1),(V=e.beforeLeave)==null||V.call(e)}),B=jn();return ye.createElement(gu.Provider,{value:y},ye.createElement(mu.Provider,{value:C},B({ourProps:{...T,as:E.Fragment,children:ye.createElement(fw,{ref:d,...T,...a,beforeEnter:I,beforeLeave:A})},theirProps:{},defaultTag:E.Fragment,features:dw,visible:p==="visible",name:"Transition"})))}function l_(e,t){let n=E.useContext(mu)!==null,r=hu()!==null;return ye.createElement(ye.Fragment,null,!n&&r?ye.createElement(df,{ref:t,...e}):ye.createElement(fw,{ref:t,...e}))}let df=Zt(a_),fw=Zt(o_),Jf=Zt(l_),u_=Object.assign(df,{Child:Jf,Root:df});var c_=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(c_||{}),d_=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(d_||{});let f_={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Qf=E.createContext(null);Qf.displayName="DialogContext";function yu(e){let t=E.useContext(Qf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,yu),n}return t}function h_(e,t){return br(t.type,f_,e,t)}let Lg=Zt(function(e,t){let n=E.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:a,initialFocus:l,role:c="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:p=!1,...m}=e,y=E.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(y.current||(y.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let v=hu();s===void 0&&v!==null&&(s=(v&Bn.Open)===Bn.Open);let k=E.useRef(null),S=sr(k,t),C=Yf(k.current),T=s?0:1,[I,A]=E.useReducer(h_,{titleId:null,descriptionId:null,panelRef:E.createRef()}),B=We(()=>a(!1)),V=We(_=>A({type:0,id:_})),D=pu()?T===0:!1,[Q,re]=US(),se={get current(){var _;return(_=I.panelRef.current)!=null?_:k.current}},M=sw(),{resolveContainers:$}=qS({mainTreeNode:M,portals:Q,defaultContainers:[se]}),Z=v!==null?(v&Bn.Closing)===Bn.Closing:!1;rS(f||Z?!1:D,{allowed:We(()=>{var _,G;return[(G=(_=k.current)==null?void 0:_.closest("[data-headlessui-portal]"))!=null?G:null]}),disallowed:We(()=>{var _;return[(_=M==null?void 0:M.closest("body > *:not(#headlessui-portal-root)"))!=null?_:null]})});let K=Yy.get(null);Xt(()=>{if(D)return K.actions.push(r),()=>K.actions.pop(r)},[K,r,D]);let O=Ky(K,E.useCallback(_=>K.selectors.isTop(_,r),[K,r]));mS(O,$,_=>{_.preventDefault(),B()}),HS(O,C==null?void 0:C.defaultView,_=>{_.preventDefault(),_.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),B()}),kS(f||Z?!1:D,C,$),iS(D,k,B);let[F,L]=M1(),U=E.useMemo(()=>[{dialogState:T,close:B,setTitleId:V,unmount:p},I],[T,B,V,p,I]),W=oa({open:T===0}),Y={ref:S,id:r,role:c,tabIndex:-1,"aria-modal":f?void 0:T===0?!0:void 0,"aria-labelledby":I.titleId,"aria-describedby":F,unmount:p},b=!VS(),N=Ai.None;D&&!f&&(N|=Ai.RestoreFocus,N|=Ai.TabLock,d&&(N|=Ai.AutoFocus),b&&(N|=Ai.InitialFocus));let P=jn();return ye.createElement(RS,null,ye.createElement(Og,{force:!0},ye.createElement(WS,null,ye.createElement(Qf.Provider,{value:U},ye.createElement(rw,{target:k},ye.createElement(Og,{force:!1},ye.createElement(L,{slot:W},ye.createElement(re,null,ye.createElement(XS,{initialFocus:l,initialFocusFallback:k,containers:$,features:N},ye.createElement(W1,{value:B},P({ourProps:Y,theirProps:m,slot:W,defaultTag:p_,features:m_,visible:T===0,name:"Dialog"})))))))))))}),p_="div",m_=Hl.RenderStrategy|Hl.Static;function g_(e,t){let{transition:n=!1,open:r,...s}=e,a=hu(),l=e.hasOwnProperty("open")||a!==null,c=e.hasOwnProperty("onClose");if(!l&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?ye.createElement(Dg,null,ye.createElement(u_,{show:r,transition:n,unmount:s.unmount},ye.createElement(Lg,{ref:t,...s}))):ye.createElement(Dg,null,ye.createElement(Lg,{ref:t,open:r,...s}))}let v_="div";function y_(e,t){let n=E.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...a}=e,[{dialogState:l,unmount:c},d]=yu("Dialog.Panel"),f=sr(t,d.panelRef),p=oa({open:l===0}),m=We(C=>{C.stopPropagation()}),y={ref:f,id:r,onClick:m},v=s?Jf:E.Fragment,k=s?{unmount:c}:{},S=jn();return ye.createElement(v,{...k},S({ourProps:y,theirProps:a,slot:p,defaultTag:v_,name:"Dialog.Panel"}))}let w_="div";function x_(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:a}]=yu("Dialog.Backdrop"),l=oa({open:s===0}),c={ref:t,"aria-hidden":!0},d=n?Jf:E.Fragment,f=n?{unmount:a}:{},p=jn();return ye.createElement(d,{...f},p({ourProps:c,theirProps:r,slot:l,defaultTag:w_,name:"Dialog.Backdrop"}))}let b_="h2";function k_(e,t){let n=E.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:a,setTitleId:l}]=yu("Dialog.Title"),c=sr(t);E.useEffect(()=>(l(r),()=>l(null)),[r,l]);let d=oa({open:a===0}),f={ref:c,id:r};return jn()({ourProps:f,theirProps:s,slot:d,defaultTag:b_,name:"Dialog.Title"})}let S_=Zt(g_),__=Zt(y_);Zt(x_);let E_=Zt(k_),Mg=Object.assign(S_,{Panel:__,Title:E_,Description:U1});const C_="modulepreload",j_=function(e){return"/sport-planner/"+e},$g={},la=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(n.map(f=>{if(f=j_(f),f in $g)return;$g[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":C_,p||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((v,k)=>{y.addEventListener("load",v),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},T_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>$s);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Xf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Fg extends Xf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zg extends Xf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ug extends Xf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ff;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ff||(ff={}));var N_=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class I_{constructor(t,{headers:n={},customFetch:r,region:s=ff.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=T_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return N_(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:a,method:l,body:c,signal:d}=r;let f={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(f["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(f["Content-Type"]="application/json",y=JSON.stringify(c)));const v=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:y,signal:d}).catch(T=>{throw T.name==="AbortError"?T:new Fg(T)}),k=v.headers.get("x-relay-error");if(k&&k==="true")throw new zg(v);if(!v.ok)throw new Ug(v);let S=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),C;return S==="application/json"?C=yield v.json():S==="application/octet-stream"?C=yield v.blob():S==="text/event-stream"?C=v:S==="multipart/form-data"?C=yield v.formData():C=yield v.text(),{data:C,error:null,response:v}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Fg(a)}:{data:null,error:a,response:a instanceof Ug||a instanceof zg?a.context:void 0}}})}}var kt={},cs={},ds={},fs={},hs={},ps={},A_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rs=A_();const P_=Rs.fetch,hw=Rs.fetch.bind(Rs),pw=Rs.Headers,R_=Rs.Request,O_=Rs.Response,$s=Object.freeze(Object.defineProperty({__proto__:null,Headers:pw,Request:R_,Response:O_,default:hw,fetch:P_},Symbol.toStringTag,{value:"Module"})),D_=rk($s);var _l={},Bg;function mw(){if(Bg)return _l;Bg=1,Object.defineProperty(_l,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return _l.default=e,_l}var Wg;function gw(){if(Wg)return ps;Wg=1;var e=ps&&ps.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ps,"__esModule",{value:!0});const t=e(D_),n=e(mw());class r{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,m,y,v;let k=null,S=null,C=null,T=f.status,I=f.statusText;if(f.ok){if(this.method!=="HEAD"){const D=await f.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?S=D:S=JSON.parse(D))}const B=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),V=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");B&&V&&V.length>1&&(C=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(k={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,C=null,T=406,I="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const B=await f.text();try{k=JSON.parse(B),Array.isArray(k)&&f.status===404&&(S=[],k=null,T=200,I="OK")}catch{f.status===404&&B===""?(T=204,I="No Content"):k={message:B}}if(k&&this.isMaybeSingle&&(!((v=k==null?void 0:k.details)===null||v===void 0)&&v.includes("0 rows"))&&(k=null,T=200,I="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:S,count:C,status:T,statusText:I}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,m,y;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=f==null?void 0:f.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return ps.default=r,ps}var Hg;function vw(){if(Hg)return hs;Hg=1;var e=hs&&hs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hs,"__esModule",{value:!0});const t=e(gw());class n extends t.default{select(s){let a=!1;const l=(s??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(f,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var p;const m=[s?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return hs.default=n,hs}var Vg;function Zf(){if(Vg)return fs;Vg=1;var e=fs&&fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fs,"__esModule",{value:!0});const t=e(vw());class n extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${d}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}}return fs.default=n,fs}var qg;function yw(){if(qg)return ds;qg=1;var e=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ds,"__esModule",{value:!0});const t=e(Zf());class n{constructor(s,{headers:a={},schema:l,fetch:c}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=c}select(s,a){const{head:l=!1,count:c}=a??{},d=l?"HEAD":"GET";let f=!1;const p=(s??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:a}={}){var l;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var a;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return ds.default=n,ds}var Yg;function L_(){if(Yg)return cs;Yg=1;var e=cs&&cs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(cs,"__esModule",{value:!0});const t=e(yw()),n=e(Zf());class r{constructor(a,{headers:l={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:c=!1,get:d=!1,count:f}={}){var p;let m;const y=new URL(`${this.url}/rpc/${a}`);let v;c||d?(m=c?"HEAD":"GET",Object.entries(l).filter(([S,C])=>C!==void 0).map(([S,C])=>[S,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([S,C])=>{y.searchParams.append(S,C)})):(m="POST",v=l);const k=new Headers(this.headers);return f&&k.set("Prefer",`count=${f}`),new n.default({method:m,url:y,headers:k,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return cs.default=r,cs}var Kg;function M_(){if(Kg)return kt;Kg=1;var e=kt&&kt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(kt,"__esModule",{value:!0}),kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const t=e(L_());kt.PostgrestClient=t.default;const n=e(yw());kt.PostgrestQueryBuilder=n.default;const r=e(Zf());kt.PostgrestFilterBuilder=r.default;const s=e(vw());kt.PostgrestTransformBuilder=s.default;const a=e(gw());kt.PostgrestBuilder=a.default;const l=e(mw());return kt.PostgrestError=l.default,kt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:l.default},kt}var $_=M_();const F_=Ds($_),{PostgrestClient:z_,PostgrestQueryBuilder:iD,PostgrestFilterBuilder:sD,PostgrestTransformBuilder:oD,PostgrestBuilder:aD,PostgrestError:lD}=F_;class U_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const B_="2.75.0",W_=`realtime-js/${B_}`,H_="1.0.0",hf=1e4,V_=1e3,q_=100;var zo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zo||(zo={}));var vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vt||(vt={}));var Un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Un||(Un={}));var pf;(function(e){e.websocket="websocket"})(pf||(pf={}));var Pi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pi||(Pi={}));class Y_{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+a));l=l+a;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}class ww{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ye||(Ye={}));const Gg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=K_(l,e,t,s),a),{}):{}},K_=(e,t,n,r)=>{const s=t.find(c=>c.name===e),a=s==null?void 0:s.type,l=n[e];return a&&!r.includes(a)?xw(a,l):mf(l)},xw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return X_(t,n)}switch(e){case Ye.bool:return G_(t);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return J_(t);case Ye.json:case Ye.jsonb:return Q_(t);case Ye.timestamp:return Z_(t);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return mf(t);default:return mf(t)}},mf=e=>e,G_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},J_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Q_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},X_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>xw(t,c))}return e},Z_=e=>typeof e=="string"?e.replace(" ","T"):e,bw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class bd{constructor(t,n,r={},s=hf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Jg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Jg||(Jg={}));class Uo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uo.syncState(this.state,s,a,l),this.pendingDiffs.forEach(d=>{this.state=Uo.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Uo.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),l=this.transformState(n),c={},d={};return this.map(a,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const m=a[f];if(m){const y=p.map(C=>C.presence_ref),v=m.map(C=>C.presence_ref),k=p.filter(C=>v.indexOf(C.presence_ref)<0),S=m.filter(C=>y.indexOf(C.presence_ref)<0);k.length>0&&(c[f]=k),S.length>0&&(d[f]=S)}else c[f]=p}),this.syncDiff(a,{joins:c,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(c,d)=>{var f;const p=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),p.length>0){const m=t[c].map(v=>v.presence_ref),y=p.filter(v=>m.indexOf(v.presence_ref)<0);t[c].unshift(...y)}r(c,p,d)}),this.map(l,(c,d)=>{let f=t[c];if(!f)return;const p=d.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),t[c]=f,s(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qg||(Qg={}));var Bo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bo||(Bo={}));var yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class eh{constructor(t,n={config:{}},r){var s,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bd(this,Un.join,this.params,this.timeout),this.rejoinTimer=new ww(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Uo(this),this.broadcastEndpointURL=bw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Bo.PRESENCE]&&this.bindings[Bo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},y={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(yr.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(yr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket.setAuth(),v===void 0){t==null||t(yr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(k=S==null?void 0:S.length)!==null&&k!==void 0?k:0,T=[];for(let I=0;I<C;I++){const A=S[I],{filter:{event:B,schema:V,table:D,filter:Q}}=A,re=v&&v[I];if(re&&re.event===B&&re.schema===V&&re.table===D&&re.filter===Q)T.push(Object.assign(Object.assign({},A),{id:re.id}));else{this.unsubscribe(),this.state=vt.errored,t==null||t(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(yr.SUBSCRIBED);return}}).receive("error",v=>{this.state=vt.errored,t==null||t(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===vt.joined&&t===Bo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new bd(this,Un.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bd(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>q_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=Un;if(r&&[c,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var k,S,C;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((C=(S=v.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(v=>v.callback(y,r)):(a=this.bindings[l])===null||a===void 0||a.filter(v=>{var k,S,C,T,I,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const B=v.id,V=(k=v.filter)===null||k===void 0?void 0:k.event;return B&&((S=n.ids)===null||S===void 0?void 0:S.includes(B))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const B=(I=(T=v==null?void 0:v.filter)===null||T===void 0?void 0:T.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return B==="*"||B===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const k=y.data,{schema:S,table:C,commit_timestamp:T,type:I,errors:A}=k;y=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:T,eventType:I,new:{},old:{},errors:A}),this._getPayloadRecords(k))}v.callback(y,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&eh.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Un.close,{},t)}_onError(t){this._on(Un.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Gg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Gg(t.columns,t.old_record)),n}}const kd=()=>{},El={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eE=[1e3,2e3,5e3,1e4],tE=1e4,nE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rE{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hf,this.transport=null,this.heartbeatIntervalMs=El.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kd,this.ref=0,this.reconnectTimer=null,this.logger=kd,this.conn=null,this.sendBuffer=[],this.serializer=new Y_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>la(async()=>{const{default:c}=await Promise.resolve().then(()=>$s);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${pf.websocket}`,this.httpEndpoint=bw(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=U_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H_}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zo.connecting:return Pi.Connecting;case zo.open:return Pi.Open;case zo.closing:return Pi.Closing;default:return Pi.Closed}}isConnected(){return this.connectionState()===Pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new eh(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(V_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},El.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:l}=n,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${s} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Un.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([nE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:W_};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Un.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ww(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},El.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,a,l,c,d,f,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:hf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:El.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:kd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(m=>eE[m-1]||tE),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((m,y)=>y(JSON.stringify(m))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class th extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iE extends th{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gf extends th{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var sE=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const kw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>$s);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},oE=()=>sE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield la(()=>Promise.resolve().then(()=>$s),void 0)).Response:Response}),vf=e=>{if(Array.isArray(e))return e.map(n=>vf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=vf(r)}),t},aE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Fi=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const Sd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lE=(e,t,n)=>Fi(void 0,void 0,void 0,function*(){const r=yield oE();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const a=e.status||500,l=(s==null?void 0:s.statusCode)||a+"";t(new iE(Sd(s),a,l))}).catch(s=>{t(new gf(Sd(s),s))}):t(new gf(Sd(e),e))}),uE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(aE(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function ua(e,t,n,r,s,a){return Fi(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,uE(t,r,s,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>lE(d,c,r))})})}function Yl(e,t,n,r){return Fi(this,void 0,void 0,function*(){return ua(e,"GET",t,n,r)})}function tr(e,t,n,r,s){return Fi(this,void 0,void 0,function*(){return ua(e,"POST",t,r,s,n)})}function yf(e,t,n,r,s){return Fi(this,void 0,void 0,function*(){return ua(e,"PUT",t,r,s,n)})}function cE(e,t,n,r){return Fi(this,void 0,void 0,function*(){return ua(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Sw(e,t,n,r,s){return Fi(this,void 0,void 0,function*(){return ua(e,"DELETE",t,r,s,n)})}var dE=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class fE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return dE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}}var hE=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class pE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new fE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return hE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}}var Jt=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const mE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gE{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=kw(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Jt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Xg),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),m=yield(t=="PUT"?yf:tr)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Jt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:Xg.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield yf(this.fetch,c.toString(),d,{headers:p});return{data:{path:a,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(pt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield tr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new th("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Jt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield tr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Jt(this,void 0,void 0,function*(){try{const s=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"",c=this._getFinalPath(t),d=()=>Yl(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new pE(d,this.shouldThrowOnError)}info(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Yl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}exists(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield cE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r)&&r instanceof gf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Jt(this,void 0,void 0,function*(){try{return{data:yield Sw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Jt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},mE),n),{prefix:t||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}})}listV2(t,n){return Jt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const vE="2.75.0",yE={"X-Client-Info":`storage-js/${vE}`};var ms=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class wE{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yE),n),this.fetch=kw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ms(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}getBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}createBucket(t){return ms(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ms(this,void 0,void 0,function*(){try{return{data:yield yf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Sw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}}class xE extends wE{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new gE(this.url,this.headers,t,this.fetch)}}const bE="2.75.0";let Do="";typeof Deno<"u"?Do="deno":typeof document<"u"?Do="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Do="react-native":Do="node";const kE={"X-Client-Info":`supabase-js-${Do}/${bE}`},SE={headers:kE},_E={schema:"public"},EE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CE={};var jE=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const TE=e=>{let t;return e?t=e:typeof fetch>"u"?t=hw:t=fetch,(...n)=>t(...n)},NE=()=>typeof Headers>"u"?pw:Headers,IE=(e,t,n)=>{const r=TE(n),s=NE();return(a,l)=>jE(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:f}))})};var AE=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};function PE(e){return e.endsWith("/")?e:e+"/"}function RE(e,t){var n,r;const{db:s,auth:a,realtime:l,global:c}=e,{db:d,auth:f,realtime:p,global:m}=t,y={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>AE(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function OE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _w="2.75.0",Es=30*1e3,wf=3,_d=wf*Es,DE="http://localhost:9999",LE="supabase.auth.token",ME={"X-Client-Info":`gotrue-js/${_w}`},xf="X-Supabase-Api-Version",Ew={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$E=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FE=600*1e3;class Qo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zE extends Qo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function UE(e){return _e(e)&&e.name==="AuthApiError"}class Ri extends Qo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ai extends Qo{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Gr extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function BE(e){return _e(e)&&e.name==="AuthSessionMissingError"}class gs extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cl extends ai{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jl extends ai{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WE(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zg extends ai{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bf extends ai{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ed(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class ev extends ai{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class kf extends ai{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tv=` 	
\r=`.split(""),HE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tv.length;t+=1)e[tv[t].charCodeAt(0)]=-2;for(let t=0;t<Kl.length;t+=1)e[Kl[t].charCodeAt(0)]=t;return e})();function nv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Kl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Kl[r]),t.queuedBits-=6}}function Cw(e,t,n){const r=HE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rv(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{YE(l,r,n)};for(let l=0;l<e.length;l+=1)Cw(e.charCodeAt(l),s,a);return t.join("")}function VE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qE(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}VE(r,t)}}function YE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ns(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Cw(e.charCodeAt(s),n,r);return new Uint8Array(t)}function KE(e){const t=[];return qE(e,n=>t.push(n)),new Uint8Array(t)}function Di(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>nv(s,n,r)),nv(null,n,r),t.join("")}function GE(e){return Math.round(Date.now()/1e3)+e}function JE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const cn=()=>typeof window<"u"&&typeof document<"u",Ei={tested:!1,writable:!1},jw=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ei.tested)return Ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ei.tested=!0,Ei.writable=!0}catch{Ei.tested=!0,Ei.writable=!1}return Ei.writable};function QE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Tw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>$s);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},XE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ci=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yr=async(e,t)=>{await e.removeItem(t)};class wu{constructor(){this.promise=new wu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}wu.promiseConstructor=Promise;function Cd(e){const t=e.split(".");if(t.length!==3)throw new kf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$E.test(t[r]))throw new kf("JWT not in base64url format");return{header:JSON.parse(rv(t[0])),payload:JSON.parse(rv(t[1])),signature:Ns(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eC(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){s(l);return}}})()})}function tC(e){return("0"+e.toString(16)).substr(-2)}function nC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,tC).join("")}async function rC(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function iC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await rC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vs(e,t,n=!1){const r=nC();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Cs(e,`${t}-code-verifier`,s);const a=await iC(r);return[a,r===a?"plain":"s256"]}const sC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oC(e){const t=e.headers.get(xf);if(!t||!t.match(sC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(e){if(!uC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iv(e){return JSON.parse(JSON.stringify(e))}var cC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dC=[502,503,504];async function sv(e){var t;if(!XE(e))throw new bf(Ni(e),0);if(dC.includes(e.status))throw new bf(Ni(e),e.status);let n;try{n=await e.json()}catch(a){throw new Ri(Ni(a),a)}let r;const s=oC(e);if(s&&s.getTime()>=Ew["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ev(Ni(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Gr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new ev(Ni(n),e.status,n.weak_password.reasons);throw new zE(Ni(n),e.status||500,r)}const fC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Te(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[xf]||(a[xf]=Ew["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await hC(e,t,n+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function hC(e,t,n,r,s,a){const l=fC(t,r,s,a);let c;try{c=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new bf(Ni(d),0)}if(c.ok||await sv(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await sv(d)}}function zn(e){var t;let n=null;gC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=GE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ov(e){const t=zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pC(e){return{data:e,error:null}}function mC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,l=cC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function av(e){return e}function gC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Td=["global","local","others"];var vC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class yC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Tw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Td[0]){if(Td.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Td.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=vC(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:av});if(p.error)throw p.error;const m=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(_e(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){ys(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ys(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ys(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ys(t.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ys(t.userId),ys(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:av});if(p.error)throw p.error;const m=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(_e(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function lv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ws={debug:!!(globalThis&&jw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wC extends Nw{}async function xC(e,t,n){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ws.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function bC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Iw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kC(e){return parseInt(e,16)}function SC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function _C(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:p,uri:m,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Iw(e.address),k=p?`${p}://${r}`:r,S=e.statement?`${e.statement}
`:"",C=`${k} wants you to sign in with your Ethereum account:
${v}

${S}`;let T=`URI: ${m}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(s&&(T+=`
Expiration Time: ${s.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),d&&(T+=`
Request ID: ${d}`),f){let I=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);I+=`
- ${A}`}T+=I}return`${C}
${T}`}class ht extends Error{constructor({message:t,code:n,cause:r,name:s}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Gl extends ht{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function EC({error:e,options:t}){var n,r,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Pw(l)){if(a.rp.id!==l)return new ht({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function CC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Pw(r)){if(n.rpId!==r)return new ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Aw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class jC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const TC=new jC;function NC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Aw(e,["challenge","user","excludeCredentials"]),a=Ns(t).buffer,l=Object.assign(Object.assign({},n),{id:Ns(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ns(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function IC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Aw(e,["challenge","allowCredentials"]),s=Ns(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Ns(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function AC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Di(new Uint8Array(e.response.attestationObject)),clientDataJSON:Di(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function PC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Di(new Uint8Array(s.authenticatorData)),clientDataJSON:Di(new Uint8Array(s.clientDataJSON)),signature:Di(new Uint8Array(s.signature)),userHandle:s.userHandle?Di(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Pw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function uv(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function RC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gl("Browser returned unexpected credential type",t)}:{data:null,error:new Gl("Empty credential response",t)}}catch(t){return{data:null,error:EC({error:t,options:e})}}}async function OC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gl("Browser returned unexpected credential type",t)}:{data:null,error:new Gl("Empty credential response",t)}}catch(t){return{data:null,error:CC({error:t,options:e})}}}const DC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},LC={userVerification:"preferred",hints:["security-key"]};function Jl(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const a in s){const l=s[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(t(l)){const c=r[a];t(c)?r[a]=Jl(c,l):r[a]=Jl(l)}else r[a]=l}return r}function MC(e,t){return Jl(DC,e,t||{})}function $C(e,t){return Jl(LC,e,t||{})}class FC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:c};const d=s??TC.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=MC(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:m}=await RC({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=$C(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:m}=await OC(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(l){return _e(l)?{data:null,error:l}:{data:null,error:new Ri("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!n)return{data:null,error:new Qo("rpId is required for WebAuthn authentication")};try{if(!uv())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return _e(l)?{data:null,error:l}:{data:null,error:new Ri("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!n)return{data:null,error:new Qo("rpId is required for WebAuthn registration")};try{if(!uv())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return _e(l)?{data:null,error:l}:{data:null,error:new Ri("Unexpected error in register",l)}}}}bC();const zC={url:DE,storageKey:LE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ME,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cv(e,t,n){return await n()}const xs={};class Xo{get jwks(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xo.nextInstanceID,Xo.nextInstanceID+=1,this.instanceID>0&&cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},zC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new yC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Tw(s.fetch),this.lock=s.lock||cv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:cn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=xC:this.lock=cv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FC(this)},this.persistSession?(s.storage?this.storage=s.storage:jw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=lv(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_w}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=QE(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),cn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),WE(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new Ri("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:zn}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:p,password:m,options:y}=t;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await vs(this.storage,this.storageKey)),a=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:k},xform:zn})}else if("phone"in t){const{phone:p,password:m,options:y}=t;a=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:zn})}else throw new Cl("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:c}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ov})}else if("phone"in t){const{phone:a,password:l,options:c}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ov})}else throw new Cl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,a,l,c,d,f,p,m,y;let v,k;if("message"in t)v=t.message,k=t.signature;else{const{chain:S,wallet:C,statement:T,options:I}=t;let A;if(cn())if(typeof C=="object")A=C;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")A=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=C}const B=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href),V=await A.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=Iw(V[0]);let Q=(r=I==null?void 0:I.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const se=await A.request({method:"eth_chainId"});Q=kC(se)}const re={domain:B.host,address:D,statement:T,uri:B.href,version:"1",chainId:Q,nonce:(s=I==null?void 0:I.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(a=I==null?void 0:I.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=I==null?void 0:I.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=I==null?void 0:I.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=_C(re),k=await A.request({method:"personal_sign",params:[SC(v),D]})}try{const{data:S,error:C}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:k},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:zn});if(C)throw C;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new gs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:C})}catch(S){if(_e(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,r,s,a,l,c,d,f,p,m,y,v;let k,S;if("message"in t)k=t.message,S=t.signature;else{const{chain:C,wallet:T,statement:I,options:A}=t;let B;if(cn())if(typeof T=="object")B=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))B=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=T}const V=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const D=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),I?{statement:I}:null));let Q;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")Q=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)Q=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)k=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),S=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${V.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(s=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=A==null?void 0:A.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((m=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...A.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const D=await B.signMessage(new TextEncoder().encode(k),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=D}}try{const{data:C,error:T}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Di(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:zn});if(T)throw T;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new gs}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:T})}catch(C){if(_e(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:l}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:zn});if(await Yr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(_e(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:l}=t,c=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:zn}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new gs}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,l;try{if("email"in t){const{email:c,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await vs(this.storage,this.storageKey));const{error:m}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:p}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Cl("You must provide either an email or phone number.")}catch(c){if(_e(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:zn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await vs(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:pC})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Gr;const{error:s}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:l}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:l,error:c}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Cl("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<_d:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Ci(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=jd()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,p)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xr}):await this._useSession(async n=>{var r,s,a;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gr}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Xr})})}catch(n){if(_e(n))return BE(n)&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Gr;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await vs(this.storage,this.storageKey));const{data:f,error:p}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Xr});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gr;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:l}=Cd(t.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Gr;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!cn())throw new jl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zg("No code detected.");const{data:I,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=t;if(!a||!c||!l||!f)throw new jl("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let y=p+m;d&&(y=parseInt(d));const v=y-p;v*1e3<=Es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const k=y-m;p-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,y,p):p-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,y,p);const{data:S,error:C}=await this._getUser(a);if(C)throw C;const T={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:m,expires_at:y,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:t.type},error:null}}catch(r){if(_e(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(UE(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=JE(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vs(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var l,c,d,f,p;const{data:m,error:y}=a;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return cn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_e(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:l,provider:c,token:d,access_token:f,nonce:p}=t,m=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zn}),{data:y,error:v}=m;return v?{data:{user:null,session:null},error:v}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new gs}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:v})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)throw l;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await eC(async s=>(s>0&&await ZE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zn})),(s,a)=>{const l=200*Math.pow(2,s);return a&&Ed(a)&&Date.now()+l-r<Es})}catch(r){if(this._debug(n,"error",r),_e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ci(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Cs(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:jd()}else if(s&&!s.user&&!s.user){const l=await Ci(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Yr(this.storage,this.storageKey+"-user"),await Cs(this.storage,this.storageKey,s)):s.user=jd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_d;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${_d}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Ed(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wu;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Gr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),_e(a)){const l={data:null,error:a};return Ed(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Cs(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=iv(s);await Cs(this.storage,this.storageKey,a)}else{const s=iv(n);await Cs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Yr(this.storage,this.storageKey),await Yr(this.storage,this.storageKey+"-code-verifier"),await Yr(this.storage,this.storageKey+"-user"),this.userStorage&&await Yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Es);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Es}ms, refresh threshold is ${wf} ticks`),s<=wf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Nw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await vs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?AC(t.webauthn.credential_response):PC(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:NC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:IC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Cd(s.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+FE>s)return r;const{data:a,error:l}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:k}=await this.getSession();if(k||!v.session)return{data:null,error:k};r=v.session.access_token}const{header:s,payload:a,signature:l,raw:{header:c,payload:d}}=Cd(r);n!=null&&n.allowExpired||aC(a.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:s,signature:l},error:null}}const p=lC(s.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,KE(`${c}.${d}`)))throw new kf("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}Xo.nextInstanceID=0;const UC=Xo;class BC extends UC{constructor(t){super(t)}}var WC=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class HC{constructor(t,n,r){var s,a,l;this.supabaseUrl=t,this.supabaseKey=n;const c=OE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:_E,realtime:CE,auth:Object.assign(Object.assign({},EE),{storageKey:d}),global:SE},p=RE(r??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=IE(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new z_(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new xE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new I_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return WC(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:l,flowType:c,lock:d,debug:f},p,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BC({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,flowType:c,lock:d,debug:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VC=(e,t,n)=>new HC(e,t,n);function qC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}qC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YC="https://kjsdmygqhxaryvfmnhqr.supabase.co",KC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",Zr=VC(YC,KC,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Rw=E.createContext(void 0);function GC({children:e}){const[t,n]=E.useState(null),[r,s]=E.useState(null),[a,l]=E.useState(!0);E.useEffect(()=>{let d=!0;(async()=>{l(!0);const{data:{session:m}}=await Zr.auth.getSession();d&&(n(m),s((m==null?void 0:m.user)??null),l(!1))})();const{data:{subscription:p}}=Zr.auth.onAuthStateChange((m,y)=>{d&&(n(y),s((y==null?void 0:y.user)??null),l(!1))});return()=>{d=!1,p.unsubscribe()}},[]);const c=E.useMemo(()=>({session:t,user:r,loading:a,signInWithPassword:async(d,f)=>{const{error:p}=await Zr.auth.signInWithPassword({email:d,password:f});if(p)throw p},signUpWithPassword:async(d,f)=>{const m=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:y}=await Zr.auth.signUp({email:d,password:f,options:{emailRedirectTo:m}});if(y)throw y},signOut:async()=>{const{error:d}=await Zr.auth.signOut();if(d)throw d}}),[a,t,r]);return x.jsx(Rw.Provider,{value:c,children:e})}function xu(){const e=E.useContext(Rw);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const dv=e=>{let t;const n=new Set,r=(f,p)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const y=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(v=>v(t,y))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,s,c);return c},JC=(e=>e?dv(e):dv),QC=e=>e;function XC(e,t=QC){const n=ye.useSyncExternalStore(e.subscribe,ye.useCallback(()=>t(e.getState()),[e,t]),ye.useCallback(()=>t(e.getInitialState()),[e,t]));return ye.useDebugValue(n),n}const fv=e=>{const t=JC(e),n=r=>XC(t,r);return Object.assign(n,t),n},ZC=(e=>e?fv(e):fv),ej="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let dn=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=ej[n[e]&63];return t};var $l={exports:{}},tj=$l.exports,hv;function Ow(){return hv||(hv=1,(function(e,t){(function(n,r){e.exports=r()})(tj,(function(){var n=1e3,r=6e4,s=36e5,a="millisecond",l="second",c="minute",d="hour",f="day",p="week",m="month",y="quarter",v="year",k="date",S="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var F=["th","st","nd","rd"],L=O%100;return"["+O+(F[(L-20)%10]||F[L]||F[0])+"]"}},A=function(O,F,L){var U=String(O);return!U||U.length>=F?O:""+Array(F+1-U.length).join(L)+O},B={s:A,z:function(O){var F=-O.utcOffset(),L=Math.abs(F),U=Math.floor(L/60),W=L%60;return(F<=0?"+":"-")+A(U,2,"0")+":"+A(W,2,"0")},m:function O(F,L){if(F.date()<L.date())return-O(L,F);var U=12*(L.year()-F.year())+(L.month()-F.month()),W=F.clone().add(U,m),Y=L-W<0,b=F.clone().add(U+(Y?-1:1),m);return+(-(U+(L-W)/(Y?W-b:b-W))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:m,y:v,w:p,d:f,D:k,h:d,m:c,s:l,ms:a,Q:y}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},V="en",D={};D[V]=I;var Q="$isDayjsObject",re=function(O){return O instanceof Z||!(!O||!O[Q])},se=function O(F,L,U){var W;if(!F)return V;if(typeof F=="string"){var Y=F.toLowerCase();D[Y]&&(W=Y),L&&(D[Y]=L,W=Y);var b=F.split("-");if(!W&&b.length>1)return O(b[0])}else{var N=F.name;D[N]=F,W=N}return!U&&W&&(V=W),W||!U&&V},M=function(O,F){if(re(O))return O.clone();var L=typeof F=="object"?F:{};return L.date=O,L.args=arguments,new Z(L)},$=B;$.l=se,$.i=re,$.w=function(O,F){return M(O,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var Z=(function(){function O(L){this.$L=se(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[Q]=!0}var F=O.prototype;return F.parse=function(L){this.$d=(function(U){var W=U.date,Y=U.utc;if(W===null)return new Date(NaN);if($.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var b=W.match(C);if(b){var N=b[2]-1||0,P=(b[7]||"0").substring(0,3);return Y?new Date(Date.UTC(b[1],N,b[3]||1,b[4]||0,b[5]||0,b[6]||0,P)):new Date(b[1],N,b[3]||1,b[4]||0,b[5]||0,b[6]||0,P)}}return new Date(W)})(L),this.init()},F.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},F.$utils=function(){return $},F.isValid=function(){return this.$d.toString()!==S},F.isSame=function(L,U){var W=M(L);return this.startOf(U)<=W&&W<=this.endOf(U)},F.isAfter=function(L,U){return M(L)<this.startOf(U)},F.isBefore=function(L,U){return this.endOf(U)<M(L)},F.$g=function(L,U,W){return $.u(L)?this[U]:this.set(W,L)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(L,U){var W=this,Y=!!$.u(U)||U,b=$.p(L),N=function(pe,he){var Ae=$.w(W.$u?Date.UTC(W.$y,he,pe):new Date(W.$y,he,pe),W);return Y?Ae:Ae.endOf(f)},P=function(pe,he){return $.w(W.toDate()[pe].apply(W.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(he)),W)},_=this.$W,G=this.$M,ee=this.$D,te="set"+(this.$u?"UTC":"");switch(b){case v:return Y?N(1,0):N(31,11);case m:return Y?N(1,G):N(0,G+1);case p:var de=this.$locale().weekStart||0,fe=(_<de?_+7:_)-de;return N(Y?ee-fe:ee+(6-fe),G);case f:case k:return P(te+"Hours",0);case d:return P(te+"Minutes",1);case c:return P(te+"Seconds",2);case l:return P(te+"Milliseconds",3);default:return this.clone()}},F.endOf=function(L){return this.startOf(L,!1)},F.$set=function(L,U){var W,Y=$.p(L),b="set"+(this.$u?"UTC":""),N=(W={},W[f]=b+"Date",W[k]=b+"Date",W[m]=b+"Month",W[v]=b+"FullYear",W[d]=b+"Hours",W[c]=b+"Minutes",W[l]=b+"Seconds",W[a]=b+"Milliseconds",W)[Y],P=Y===f?this.$D+(U-this.$W):U;if(Y===m||Y===v){var _=this.clone().set(k,1);_.$d[N](P),_.init(),this.$d=_.set(k,Math.min(this.$D,_.daysInMonth())).$d}else N&&this.$d[N](P);return this.init(),this},F.set=function(L,U){return this.clone().$set(L,U)},F.get=function(L){return this[$.p(L)]()},F.add=function(L,U){var W,Y=this;L=Number(L);var b=$.p(U),N=function(G){var ee=M(Y);return $.w(ee.date(ee.date()+Math.round(G*L)),Y)};if(b===m)return this.set(m,this.$M+L);if(b===v)return this.set(v,this.$y+L);if(b===f)return N(1);if(b===p)return N(7);var P=(W={},W[c]=r,W[d]=s,W[l]=n,W)[b]||1,_=this.$d.getTime()+L*P;return $.w(_,this)},F.subtract=function(L,U){return this.add(-1*L,U)},F.format=function(L){var U=this,W=this.$locale();if(!this.isValid())return W.invalidDate||S;var Y=L||"YYYY-MM-DDTHH:mm:ssZ",b=$.z(this),N=this.$H,P=this.$m,_=this.$M,G=W.weekdays,ee=W.months,te=W.meridiem,de=function(he,Ae,Fe,ze){return he&&(he[Ae]||he(U,Y))||Fe[Ae].slice(0,ze)},fe=function(he){return $.s(N%12||12,he,"0")},pe=te||function(he,Ae,Fe){var ze=he<12?"AM":"PM";return Fe?ze.toLowerCase():ze};return Y.replace(T,(function(he,Ae){return Ae||(function(Fe){switch(Fe){case"YY":return String(U.$y).slice(-2);case"YYYY":return $.s(U.$y,4,"0");case"M":return _+1;case"MM":return $.s(_+1,2,"0");case"MMM":return de(W.monthsShort,_,ee,3);case"MMMM":return de(ee,_);case"D":return U.$D;case"DD":return $.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return de(W.weekdaysMin,U.$W,G,2);case"ddd":return de(W.weekdaysShort,U.$W,G,3);case"dddd":return G[U.$W];case"H":return String(N);case"HH":return $.s(N,2,"0");case"h":return fe(1);case"hh":return fe(2);case"a":return pe(N,P,!0);case"A":return pe(N,P,!1);case"m":return String(P);case"mm":return $.s(P,2,"0");case"s":return String(U.$s);case"ss":return $.s(U.$s,2,"0");case"SSS":return $.s(U.$ms,3,"0");case"Z":return b}return null})(he)||b.replace(":","")}))},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(L,U,W){var Y,b=this,N=$.p(U),P=M(L),_=(P.utcOffset()-this.utcOffset())*r,G=this-P,ee=function(){return $.m(b,P)};switch(N){case v:Y=ee()/12;break;case m:Y=ee();break;case y:Y=ee()/3;break;case p:Y=(G-_)/6048e5;break;case f:Y=(G-_)/864e5;break;case d:Y=G/s;break;case c:Y=G/r;break;case l:Y=G/n;break;default:Y=G}return W?Y:$.a(Y)},F.daysInMonth=function(){return this.endOf(m).$D},F.$locale=function(){return D[this.$L]},F.locale=function(L,U){if(!L)return this.$L;var W=this.clone(),Y=se(L,U,!0);return Y&&(W.$L=Y),W},F.clone=function(){return $.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},O})(),K=Z.prototype;return M.prototype=K,[["$ms",a],["$s",l],["$m",c],["$H",d],["$W",f],["$M",m],["$y",v],["$D",k]].forEach((function(O){K[O[1]]=function(F){return this.$g(F,O[0],O[1])}})),M.extend=function(O,F){return O.$i||(O(F,Z,M),O.$i=!0),M},M.locale=se,M.isDayjs=re,M.unix=function(O){return M(1e3*O)},M.en=D[V],M.Ls=D,M.p={},M}))})($l)),$l.exports}var nj=Ow();const Be=Ds(nj),ri={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes"},Dw=typeof window<"u",ot=()=>new Date().toISOString(),Ii="18:30",Lo=e=>{if(!e)return null;const t=e.trim();return t.length>0?t:null},rj=(e,t,n)=>{var a;if(!n)return!1;if(n===t)return!0;const r=new Set;let s=n;for(;s;){if(s===t)return!0;if(r.has(s))break;r.add(s),s=((a=e.find(c=>c.id===s))==null?void 0:a.parentWorkId)??null}return!1},Tl=(e,t)=>{if(!Dw)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},Lw=e=>e==="present"||e==="absent"||e==="pending",Mw=e=>e==="present"||e==="absent",Sf=e=>(e??[]).map(t=>{const n=Lw(t.status)?t.status:"pending",r=Mw(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),Qe=e=>{if(!Dw)return;const t=_f(e);window.localStorage.setItem(ri.objectives,JSON.stringify(t.objectives)),window.localStorage.setItem(ri.works,JSON.stringify(t.works)),window.localStorage.setItem(ri.sessions,JSON.stringify(t.sessions)),window.localStorage.setItem(ri.assistants,JSON.stringify(t.assistants))},_f=e=>({objectives:e.objectives??[],works:(e.works??[]).map(t=>{const n=t.parent_work_id;return{...t,parentWorkId:Lo(t.parentWorkId??n??null)}}),sessions:(e.sessions??[]).map(t=>({...t,startTime:t.startTime??Ii,workItems:(t.workItems??[]).map(n=>({...n,focusLabel:n.focusLabel})),attendance:Sf(t.attendance)})),assistants:e.assistants??[]}),Ne=ZC((e,t)=>({ready:!1,objectives:[],works:[],sessions:[],assistants:[],hydrate:()=>{if(t().ready)return;const n=Tl(ri.objectives,[]),r=Tl(ri.works,[]).map(l=>{const c=l.parent_work_id;return{...l,parentWorkId:Lo(l.parentWorkId??c??null)}}),s=Tl(ri.sessions,[]).map(l=>({...l,startTime:l.startTime??Ii,workItems:(l.workItems??[]).map(c=>({...c,focusLabel:c.focusLabel})),attendance:Sf(l.attendance)})),a=Tl(ri.assistants,[]);e({objectives:n,works:r,sessions:s,assistants:a,ready:!0})},setCollections:n=>{e(r=>{const s=_f({objectives:n.objectives,works:n.works,sessions:n.sessions,assistants:n.assistants}),a={...r,...s,ready:!0};return Qe(a),a})},reset:()=>{e(n=>{const r=_f({objectives:[],works:[],sessions:[],assistants:[]}),s={...n,...r,ready:!0};return Qe(s),s})},addObjective:n=>{const r={id:dn(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:ot(),updatedAt:ot()};return e(s=>{const a={objectives:[...s.objectives,r]},l={...s,...a};return Qe(l),l}),r},updateObjective:(n,r)=>{e(s=>{const a=s.objectives.map(c=>c.id===n?{...c,...r,updatedAt:ot()}:c),l={...s,objectives:a};return Qe(l),l})},deleteObjective:n=>t().works.some(s=>s.objectiveId===n)?!1:(e(s=>{const a=s.objectives.filter(c=>c.id!==n),l={...s,objectives:a};return Qe(l),l}),!0),addWork:n=>{const r=ot();let s=null;return e(a=>{const l=Lo(n.parentWorkId),c=l&&a.works.some(m=>m.id===l)?l:null,d={id:dn(),name:n.name,objectiveId:n.objectiveId,parentWorkId:c,descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:n.notes,videoUrls:n.videoUrls,createdAt:r,updatedAt:r};s=d;const f=[...a.works,d],p={...a,works:f};return Qe(p),p}),s},updateWork:(n,r)=>{e(s=>{const a=s.works.map(c=>{if(c.id!==n)return c;const{parentWorkId:d,...f}=r;let p=c.parentWorkId??null;if(d!==void 0){const m=Lo(d);m&&(!s.works.some(y=>y.id===m)||rj(s.works,n,m))?p=null:p=m}return{...c,...f,parentWorkId:p,videoUrls:f.videoUrls??c.videoUrls,estimatedMinutes:f.estimatedMinutes??c.estimatedMinutes,updatedAt:ot()}}),l={...s,works:a};return Qe(l),l})},deleteWork:n=>t().sessions.some(a=>a.workItems.some(l=>l.workId===n))||t().works.some(a=>a.parentWorkId===n)?!1:(e(a=>{const l=a.works.filter(d=>d.id!==n),c={...a,works:l};return Qe(c),c}),!0),addSession:n=>{const r={id:dn(),date:n.date,title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??Ii,createdAt:ot(),updatedAt:ot()};return e(s=>{const a=[...s.sessions,r],l={...s,sessions:a};return Qe(l),l}),r},duplicateSession:(n,r)=>{const s=t().sessions.find(c=>c.id===n);if(!s)return;const a=ot(),l={...s,id:dn(),date:r,startTime:s.startTime??Ii,createdAt:a,updatedAt:a,title:`${s.title} (copia)`};return l.workItems=s.workItems.map((c,d)=>({...c,id:dn(),order:d})),l.attendance=s.attendance.map(c=>({assistantId:c.assistantId,status:"pending",notes:c.notes,actualStatus:void 0,actualNotes:void 0})),e(c=>{const d=[...c.sessions,l],f={...c,sessions:d};return Qe(f),f}),l},updateSession:(n,r)=>{e(s=>{const a=s.sessions.map(c=>c.id===n?{...c,...r,updatedAt:ot()}:c),l={...s,sessions:a};return Qe(l),l})},deleteSession:n=>{e(r=>{const s=r.sessions.filter(l=>l.id!==n),a={...r,sessions:s};return Qe(a),a})},updateSessionWorkItems:(n,r)=>{e(s=>{const a=s.sessions.map(c=>c.id===n?{...c,workItems:r.map((d,f)=>({...d,order:f})),updatedAt:ot()}:c),l={...s,sessions:a};return Qe(l),l})},addWorkToSession:(n,r)=>{const s=t().sessions.find(c=>c.id===n);if(!s)return;const a={id:dn(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:s.workItems.length},l={...s,workItems:[...s.workItems,a],updatedAt:ot()};return e(c=>{const d=c.sessions.map(p=>p.id===n?l:p),f={...c,sessions:d};return Qe(f),f}),a},removeWorkFromSession:(n,r)=>{e(s=>{const a=s.sessions.map(c=>{if(c.id!==n)return c;const d=c.workItems.filter(f=>f.id!==r).map((f,p)=>({...f,order:p}));return{...c,workItems:d,updatedAt:ot()}}),l={...s,sessions:a};return Qe(l),l})},toggleSessionWorkCompletion:(n,r,s)=>{e(a=>{const l=a.sessions.map(d=>d.id!==n?d:{...d,workItems:d.workItems.map(f=>f.id===r?{...f,completed:s}:f),updatedAt:ot()}),c={...a,sessions:l};return Qe(c),c})},reorderSessionWork:(n,r,s)=>{e(a=>{const l=a.sessions.map(d=>{if(d.id!==n)return d;const f=[...d.workItems],[p]=f.splice(r,1);return f.splice(s,0,p),{...d,workItems:f.map((m,y)=>({...m,order:y})),updatedAt:ot()}}),c={...a,sessions:l};return Qe(c),c})},updateSessionWorkDetails:(n,r,s)=>{e(a=>{const l=a.sessions.map(d=>d.id!==n?d:{...d,workItems:d.workItems.map(f=>f.id===r?{...f,...s}:f),updatedAt:ot()}),c={...a,sessions:l};return Qe(c),c})},replaceSessionWork:(n,r,s)=>{t().works.some(a=>a.id===s)&&e(a=>{const l=a.sessions.map(d=>{if(d.id!==n)return d;const f=d.workItems.map(p=>p.id!==r?p:{...p,workId:s,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...d,workItems:f,updatedAt:ot()}}),c={...a,sessions:l};return Qe(c),c})},setAttendanceActualStatus:(n,r,s,a)=>{e(l=>{const c=l.sessions.map(f=>{if(f.id!==n)return f;const p=f.attendance.find(y=>y.assistantId===r);let m;if(p)m=f.attendance.map(y=>{if(y.assistantId!==r)return y;const v={...y,actualStatus:s};return typeof a<"u"&&(v.actualNotes=a),v});else{const y={assistantId:r,status:"pending",actualStatus:s};typeof a<"u"&&(y.actualNotes=a),m=[...f.attendance,y]}return{...f,attendance:m,updatedAt:ot()}}),d={...l,sessions:c};return Qe(d),d})},setAttendanceStatus:(n,r,s,a)=>{e(l=>{const c=l.sessions.map(f=>{if(f.id!==n)return f;const p=f.attendance.find(y=>y.assistantId===r);let m;return p?m=f.attendance.map(y=>y.assistantId===r?{...y,status:s,notes:a}:y):m=[...f.attendance,{assistantId:r,status:s,notes:a}],{...f,attendance:m,updatedAt:ot()}}),d={...l,sessions:c};return Qe(d),d})},addAssistant:n=>{const r={id:dn(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:ot(),updatedAt:ot()};return e(s=>{const a=[...s.assistants,r],l={...s,assistants:a};return Qe(l),l}),r},updateAssistant:(n,r)=>{e(s=>{const a=s.assistants.map(c=>c.id===n?{...c,...r,updatedAt:ot()}:c),l={...s,assistants:a};return Qe(l),l})},deleteAssistant:n=>{e(r=>{const s=r.assistants.filter(c=>c.id!==n),a=r.sessions.map(c=>({...c,attendance:c.attendance.filter(d=>d.assistantId!==n)})),l={...r,assistants:s,sessions:a};return Qe(l),l})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versión de backup no soportada");const s=ot(),a=(n.objetivos??[]).map(v=>({...v,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s})),l=(n.trabajos??[]).map(v=>{const k=v.parent_work_id;return{...v,parentWorkId:Lo(v.parentWorkId??k??null),createdAt:v.createdAt??s,updatedAt:v.updatedAt??s,videoUrls:v.videoUrls??[]}}),c=(n.asistentes??[]).map(v=>({...v,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s,active:v.active??!0})),d=new Map;(n.sesiones??[]).forEach(v=>{const k=v.id??dn(),S={id:k,date:v.date??Be().format("YYYY-MM-DD"),title:v.title??"Sesión importada",description:v.description,notes:v.notes,workItems:(v.workItems??[]).map((C,T)=>({id:C.id??dn(),workId:C.workId,order:C.order??T,customDescriptionMarkdown:C.customDescriptionMarkdown,customDurationMinutes:C.customDurationMinutes,notes:C.notes,focusLabel:C.focusLabel,completed:C.completed??!1})),attendance:Sf(v.attendance),startTime:v.startTime??Ii,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s};S.workItems=S.workItems.sort((C,T)=>C.order-T.order).map((C,T)=>({...C,order:T})),d.set(k,S)}),(n.sesiones_trabajos??[]).forEach(v=>{const k=v.session_id;if(!k)return;d.has(k)||d.set(k,{id:k,date:v.fecha?Be(v.fecha).format("YYYY-MM-DD"):Be().format("YYYY-MM-DD"),title:v.titulo??"Sesión importada",description:v.descripcion,notes:v.notasSesion??v.notas,workItems:[],attendance:[],startTime:Ii,createdAt:s,updatedAt:s});const S=d.get(k);S.workItems.push({id:v.id??dn(),workId:v.trabajo_id,order:v.orden??S.workItems.length,customDescriptionMarkdown:v.descripcionPersonalizada,customDurationMinutes:v.duracionPersonalizada,notes:v.notas,focusLabel:v.focusLabel??v.foco,completed:!1})}),d.forEach(v=>{v.workItems=v.workItems.sort((k,S)=>k.order-S.order).map((k,S)=>({...k,order:S})),v.startTime=v.startTime??Ii});const f=new Map,p=v=>Lw(v)?v:void 0,m=v=>Mw(v)?v:void 0;(n.sesiones_asistencias??[]).forEach(v=>{const k=v.session_id;if(!k)return;const S=v.assistantId??v.asistente_id;if(!S)return;const C=p(v.status??v.estado)??"pending",T=m(v.actualStatus??v.estado_real),I={assistantId:S,status:C,notes:v.notes??v.notas,actualStatus:T,actualNotes:v.actualNotes??v.notas_reales},A=f.get(k)??[];A.push(I),f.set(k,A)}),f.forEach((v,k)=>{const S=d.get(k);S&&(S.attendance=v)});const y=Array.from(d.values());e({objectives:a,works:l,sessions:y,assistants:c,ready:!0}),Qe({objectives:a,works:l,sessions:y,assistants:c})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(c=>c.workItems.map(d=>({id:d.id,session_id:c.id,trabajo_id:d.workId,orden:d.order,descripcionPersonalizada:d.customDescriptionMarkdown,duracionPersonalizada:d.customDurationMinutes,notas:d.notes,foco:d.focusLabel,focusLabel:d.focusLabel}))),s=n.sessions.flatMap(c=>c.attendance.map(d=>({session_id:c.id,assistantId:d.assistantId,estado:d.status,notas:d.notes,...d.actualStatus?{actualStatus:d.actualStatus,estado_real:d.actualStatus}:{},...d.actualNotes?{actualNotes:d.actualNotes,notas_reales:d.actualNotes}:{}}))),a=n.sessions.map(c=>({id:c.id,date:c.date,title:c.title,description:c.description,notes:c.notes,startTime:c.startTime,createdAt:c.createdAt,updatedAt:c.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:a,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:s}}})),pv=1,Nl=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants}),ij=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[]}),sj=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants;function oj(){const{user:e}=xu(),t=Ne(f=>f.setCollections),n=Ne(f=>f.reset),r=Ne(f=>f.ready),s=E.useRef(!1),a=E.useRef(null),l=E.useRef(null),c=E.useRef(null),d=E.useRef(Nl(Ne.getState()));E.useEffect(()=>()=>{a.current&&(window.clearTimeout(a.current),a.current=null)},[]),E.useEffect(()=>{e||(n(),c.current=null,l.current=null,s.current=!1,d.current=Nl(Ne.getState()),a.current&&(window.clearTimeout(a.current),a.current=null))},[e,n]),E.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:y,error:v}=await Zr.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(v&&v.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",v);return}const k=y;if(k!=null&&k.data){const S=ij(k.data??{});s.current=!0,c.current=k.updated_at,d.current=S,t(S)}else if(r){const S=Nl(Ne.getState());l.current=null;const{error:C,data:T}=await Zr.from("planner_states").upsert({user_id:e.id,data:{version:pv,...S}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),I=T;C?console.error("No se pudo inicializar el estado remoto",C):I&&(c.current=I.updated_at)}})();const m=Ne.subscribe(y=>{if(!f)return;const v=Nl(y);if(s.current){s.current=!1,d.current=v,l.current=null;return}const k=d.current;sj(v,k)&&(d.current=v,l.current=v,a.current&&window.clearTimeout(a.current),a.current=window.setTimeout(()=>{if(!l.current)return;const S=l.current;l.current=null,(async()=>{const{error:C,data:T}=await Zr.from("planner_states").upsert({user_id:e.id,data:{version:pv,...S}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),I=T;C?console.error("No se pudo guardar el estado remoto",C):I&&(c.current=I.updated_at)})()},600))});return()=>{f=!1,m(),a.current&&(window.clearTimeout(a.current),a.current=null)}},[e,r,t])}var Fl={exports:{}},aj=Fl.exports,mv;function lj(){return mv||(mv=1,(function(e,t){(function(n,r){e.exports=r(Ow())})(aj,(function(n){function r(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var s=r(n),a={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(l){return l+"º"}};return s.default.locale(a,null,!0),a}))})(Fl)),Fl.exports}lj();function kr({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return x.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[x.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function uj(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const cj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fj={};function gv(e,t){return(fj.jsx?dj:cj).test(e)}const hj=/[ \t\n\f\r]/g;function pj(e){return typeof e=="object"?e.type==="text"?vv(e.value):!1:vv(e)}function vv(e){return e.replace(hj,"")===""}class ca{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ca.prototype.normal={};ca.prototype.property={};ca.prototype.space=void 0;function $w(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new ca(n,r,t)}function Ef(e){return e.toLowerCase()}class en{constructor(t,n){this.attribute=n,this.property=t}}en.prototype.attribute="";en.prototype.booleanish=!1;en.prototype.boolean=!1;en.prototype.commaOrSpaceSeparated=!1;en.prototype.commaSeparated=!1;en.prototype.defined=!1;en.prototype.mustUseProperty=!1;en.prototype.number=!1;en.prototype.overloadedBoolean=!1;en.prototype.property="";en.prototype.spaceSeparated=!1;en.prototype.space=void 0;let mj=0;const Ie=zi(),ft=zi(),Cf=zi(),le=zi(),Ke=zi(),Is=zi(),un=zi();function zi(){return 2**++mj}const jf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ie,booleanish:ft,commaOrSpaceSeparated:un,commaSeparated:Is,number:le,overloadedBoolean:Cf,spaceSeparated:Ke},Symbol.toStringTag,{value:"Module"})),Nd=Object.keys(jf);class nh extends en{constructor(t,n,r,s){let a=-1;if(super(t,n),yv(this,"space",s),typeof r=="number")for(;++a<Nd.length;){const l=Nd[a];yv(this,Nd[a],(r&jf[l])===jf[l])}}}nh.prototype.defined=!0;function yv(e,t,n){n&&(e[t]=n)}function Fs(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const a=new nh(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Ef(r)]=r,n[Ef(a.attribute)]=r}return new ca(t,n,e.space)}const Fw=Fs({properties:{ariaActiveDescendant:null,ariaAtomic:ft,ariaAutoComplete:null,ariaBusy:ft,ariaChecked:ft,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:Ke,ariaCurrent:null,ariaDescribedBy:Ke,ariaDetails:null,ariaDisabled:ft,ariaDropEffect:Ke,ariaErrorMessage:null,ariaExpanded:ft,ariaFlowTo:Ke,ariaGrabbed:ft,ariaHasPopup:null,ariaHidden:ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ke,ariaLevel:le,ariaLive:null,ariaModal:ft,ariaMultiLine:ft,ariaMultiSelectable:ft,ariaOrientation:null,ariaOwns:Ke,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:ft,ariaReadOnly:ft,ariaRelevant:null,ariaRequired:ft,ariaRoleDescription:Ke,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:ft,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function zw(e,t){return t in e?e[t]:t}function Uw(e,t){return zw(e,t.toLowerCase())}const gj=Fs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Is,acceptCharset:Ke,accessKey:Ke,action:null,allow:null,allowFullScreen:Ie,allowPaymentRequest:Ie,allowUserMedia:Ie,alt:null,as:null,async:Ie,autoCapitalize:null,autoComplete:Ke,autoFocus:Ie,autoPlay:Ie,blocking:Ke,capture:null,charSet:null,checked:Ie,cite:null,className:Ke,cols:le,colSpan:null,content:null,contentEditable:ft,controls:Ie,controlsList:Ke,coords:le|Is,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ie,defer:Ie,dir:null,dirName:null,disabled:Ie,download:Cf,draggable:ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ie,formTarget:null,headers:Ke,height:le,hidden:Cf,high:le,href:null,hrefLang:null,htmlFor:Ke,httpEquiv:Ke,id:null,imageSizes:null,imageSrcSet:null,inert:Ie,inputMode:null,integrity:null,is:null,isMap:Ie,itemId:null,itemProp:Ke,itemRef:Ke,itemScope:Ie,itemType:Ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ie,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:Ie,muted:Ie,name:null,nonce:null,noModule:Ie,noValidate:Ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ie,optimum:le,pattern:null,ping:Ke,placeholder:null,playsInline:Ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ie,referrerPolicy:null,rel:Ke,required:Ie,reversed:Ie,rows:le,rowSpan:le,sandbox:Ke,scope:null,scoped:Ie,seamless:Ie,selected:Ie,shadowRootClonable:Ie,shadowRootDelegatesFocus:Ie,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:Ie,useMap:null,value:ft,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ke,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ie,declare:Ie,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:Ie,noHref:Ie,noShade:Ie,noWrap:Ie,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:ft,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ie,disableRemotePlayback:Ie,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:Uw}),vj=Fs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:un,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:Ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:Ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Is,g2:Is,glyphName:Is,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:un,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:un,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:un,rev:un,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:un,requiredFeatures:un,requiredFonts:un,requiredFormats:un,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:un,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:un,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:un,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:zw}),Bw=Fs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Ww=Fs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Uw}),Hw=Fs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),yj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},wj=/[A-Z]/g,wv=/-[a-z]/g,xj=/^data[-\w.:]+$/i;function bj(e,t){const n=Ef(t);let r=t,s=en;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&xj.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(wv,Sj);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!wv.test(a)){let l=a.replace(wj,kj);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}s=nh}return new s(r,t)}function kj(e){return"-"+e.toLowerCase()}function Sj(e){return e.charAt(1).toUpperCase()}const _j=$w([Fw,gj,Bw,Ww,Hw],"html"),rh=$w([Fw,vj,Bw,Ww,Hw],"svg");function Ej(e){return e.join(" ").trim()}var bs={},Id,xv;function Cj(){if(xv)return Id;xv=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",y="comment",v="declaration";Id=function(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var T=1,I=1;function A(K){var O=K.match(t);O&&(T+=O.length);var F=K.lastIndexOf(d);I=~F?K.length-F:I+K.length}function B(){var K={line:T,column:I};return function(O){return O.position=new V(K),re(),O}}function V(K){this.start=K,this.end={line:T,column:I},this.source=C.source}V.prototype.content=S;function D(K){var O=new Error(C.source+":"+T+":"+I+": "+K);if(O.reason=K,O.filename=C.source,O.line=T,O.column=I,O.source=S,!C.silent)throw O}function Q(K){var O=K.exec(S);if(O){var F=O[0];return A(F),S=S.slice(F.length),O}}function re(){Q(n)}function se(K){var O;for(K=K||[];O=M();)O!==!1&&K.push(O);return K}function M(){var K=B();if(!(f!=S.charAt(0)||p!=S.charAt(1))){for(var O=2;m!=S.charAt(O)&&(p!=S.charAt(O)||f!=S.charAt(O+1));)++O;if(O+=2,m===S.charAt(O-1))return D("End of comment missing");var F=S.slice(2,O-2);return I+=2,A(F),S=S.slice(O),I+=2,K({type:y,comment:F})}}function $(){var K=B(),O=Q(r);if(O){if(M(),!Q(s))return D("property missing ':'");var F=Q(a),L=K({type:v,property:k(O[0].replace(e,m)),value:F?k(F[0].replace(e,m)):m});return Q(l),L}}function Z(){var K=[];se(K);for(var O;O=$();)O!==!1&&(K.push(O),se(K));return K}return re(),Z()};function k(S){return S?S.replace(c,m):m}return Id}var bv;function jj(){if(bv)return bs;bv=1;var e=bs&&bs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bs,"__esModule",{value:!0}),bs.default=n;var t=e(Cj());function n(r,s){var a=null;if(!r||typeof r!="string")return a;var l=(0,t.default)(r),c=typeof s=="function";return l.forEach(function(d){if(d.type==="declaration"){var f=d.property,p=d.value;c?s(f,p,d):p&&(a=a||{},a[f]=p)}}),a}return bs}var To={},kv;function Tj(){if(kv)return To;kv=1,Object.defineProperty(To,"__esModule",{value:!0}),To.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(f){return!f||n.test(f)||e.test(f)},l=function(f,p){return p.toUpperCase()},c=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),a(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(s,c):f=f.replace(r,c),f.replace(t,l))};return To.camelCase=d,To}var No,Sv;function Nj(){if(Sv)return No;Sv=1;var e=No&&No.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(jj()),n=Tj();function r(s,a){var l={};return!s||typeof s!="string"||(0,t.default)(s,function(c,d){c&&d&&(l[(0,n.camelCase)(c,a)]=d)}),l}return r.default=r,No=r,No}var Ij=Nj();const Aj=Ds(Ij),Vw=qw("end"),ih=qw("start");function qw(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Pj(e){const t=ih(e),n=Vw(e);if(t&&n)return{start:t,end:n}}function Wo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?_v(e.position):"start"in e||"end"in e?_v(e):"line"in e||"column"in e?Tf(e):""}function Tf(e){return Ev(e&&e.line)+":"+Ev(e&&e.column)}function _v(e){return Tf(e&&e.start)+"-"+Tf(e&&e.end)}function Ev(e){return e&&typeof e=="number"?e:1}class Mt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?s=t:!a.cause&&t&&(l=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=Wo(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mt.prototype.file="";Mt.prototype.name="";Mt.prototype.reason="";Mt.prototype.message="";Mt.prototype.stack="";Mt.prototype.column=void 0;Mt.prototype.line=void 0;Mt.prototype.ancestors=void 0;Mt.prototype.cause=void 0;Mt.prototype.fatal=void 0;Mt.prototype.place=void 0;Mt.prototype.ruleId=void 0;Mt.prototype.source=void 0;const sh={}.hasOwnProperty,Rj=new Map,Oj=/[A-Z]/g,Dj=new Set(["table","tbody","thead","tfoot","tr"]),Lj=new Set(["td","th"]),Yw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Mj(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Vj(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Hj(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?rh:_j,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=Kw(s,e,void 0);return a&&typeof a!="string"?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function Kw(e,t,n){if(t.type==="element")return $j(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Fj(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Uj(e,t,n);if(t.type==="mdxjsEsm")return zj(e,t);if(t.type==="root")return Bj(e,t,n);if(t.type==="text")return Wj(e,t)}function $j(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=rh,e.schema=s),e.ancestors.push(t);const a=Jw(e,t.tagName,!1),l=qj(e,t);let c=ah(e,t);return Dj.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!pj(d):!0})),Gw(e,l,a,t),oh(l,c),e.ancestors.pop(),e.schema=r,e.create(t,a,l,n)}function Fj(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Zo(e,t.position)}function zj(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Zo(e,t.position)}function Uj(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=rh,e.schema=s),e.ancestors.push(t);const a=t.name===null?e.Fragment:Jw(e,t.name,!0),l=Yj(e,t),c=ah(e,t);return Gw(e,l,a,t),oh(l,c),e.ancestors.pop(),e.schema=r,e.create(t,a,l,n)}function Bj(e,t,n){const r={};return oh(r,ah(e,t)),e.create(t,e.Fragment,r,n)}function Wj(e,t){return t.value}function Gw(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function oh(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Hj(e,t,n){return r;function r(s,a,l,c){const f=Array.isArray(l.children)?n:t;return c?f(a,l,c):f(a,l)}}function Vj(e,t){return n;function n(r,s,a,l){const c=Array.isArray(a.children),d=ih(r);return t(s,a,l,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function qj(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&sh.call(t.properties,s)){const a=Kj(e,s,t.properties[s]);if(a){const[l,c]=a;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&Lj.has(t.tagName)?r=c:n[l]=c}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Yj(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Zo(e,t.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,a=e.evaluater.evaluateExpression(c.expression)}else Zo(e,t.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function ah(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Rj;for(;++r<t.children.length;){const a=t.children[r];let l;if(e.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const f=s.get(d)||0;l=d+"-"+f,s.set(d,f+1)}}const c=Kw(e,a,l);c!==void 0&&n.push(c)}return n}function Kj(e,t,n){const r=bj(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?uj(n):Ej(n)),r.property==="style"){let s=typeof n=="object"?n:Gj(e,String(n));return e.stylePropertyNameCase==="css"&&(s=Jj(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?yj[r.property]||r.property:r.attribute,n]}}function Gj(e,t){try{return Aj(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Mt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Yw+"#cannot-parse-style-attribute",s}}function Jw(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let a=-1,l;for(;++a<s.length;){const c=gv(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=l}else r=gv(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return sh.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Zo(e)}function Zo(e,t){const n=new Mt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Yw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Jj(e){const t={};let n;for(n in e)sh.call(e,n)&&(t[Qj(n)]=e[n]);return t}function Qj(e){let t=e.replace(Oj,Xj);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Xj(e){return"-"+e.toLowerCase()}const Ad={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Zj={};function lh(e,t){const n=Zj,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Qw(e,r,s)}function Qw(e,t,n){if(eT(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Cv(e.children,t,n)}return Array.isArray(e)?Cv(e,t,n):""}function Cv(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Qw(e[s],t,n);return r.join("")}function eT(e){return!!(e&&typeof e=="object")}const jv=document.createElement("i");function uh(e){const t="&"+e+";";jv.innerHTML=t;const n=jv.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function fn(e,t,n,r){const s=e.length;let a=0,l;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(t,0),e.splice(...l),a+=1e4,t+=1e4}function Cn(e,t){return e.length>0?(fn(e,e.length,0,t),e):t}const Tv={}.hasOwnProperty;function Xw(e){const t={};let n=-1;for(;++n<e.length;)tT(t,e[n]);return t}function tT(e,t){let n;for(n in t){const s=(Tv.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a){Tv.call(s,l)||(s[l]=[]);const c=a[l];nT(s[l],Array.isArray(c)?c:c?[c]:[])}}}function nT(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);fn(e,0,0,r)}function Zw(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Wn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ut=li(/[A-Za-z]/),Lt=li(/[\dA-Za-z]/),rT=li(/[#-'*+\--9=?A-Z^-~]/);function Ql(e){return e!==null&&(e<32||e===127)}const Nf=li(/\d/),iT=li(/[\dA-Fa-f]/),sT=li(/[!-/:-@[-`{-~]/);function Ee(e){return e!==null&&e<-2}function He(e){return e!==null&&(e<0||e===32)}function Re(e){return e===-2||e===-1||e===32}const bu=li(new RegExp("\\p{P}|\\p{S}","u")),Mi=li(/\s/);function li(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function zs(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let l="";if(a===37&&Lt(e.charCodeAt(n+1))&&Lt(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=e.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),s=1):l="�"}else l=String.fromCharCode(a);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function De(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(d){return Re(d)?(e.enter(n),c(d)):t(d)}function c(d){return Re(d)&&a++<s?(e.consume(d),c):(e.exit(n),t(d))}}const oT={tokenize:aT};function aT(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),De(e,t,"linePrefix")}function s(c){return e.enter("paragraph"),a(c)}function a(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ee(c)?(e.consume(c),e.exit("chunkText"),a):(e.consume(c),l)}}const lT={tokenize:uT},Nv={tokenize:cT};function uT(e){const t=this,n=[];let r=0,s,a,l;return c;function c(A){if(r<n.length){const B=n[r];return t.containerState=B[1],e.attempt(B[0].continuation,d,f)(A)}return f(A)}function d(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&I();const B=t.events.length;let V=B,D;for(;V--;)if(t.events[V][0]==="exit"&&t.events[V][1].type==="chunkFlow"){D=t.events[V][1].end;break}T(r);let Q=B;for(;Q<t.events.length;)t.events[Q][1].end={...D},Q++;return fn(t.events,V+1,0,t.events.slice(B)),t.events.length=Q,f(A)}return c(A)}function f(A){if(r===n.length){if(!s)return y(A);if(s.currentConstruct&&s.currentConstruct.concrete)return k(A);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Nv,p,m)(A)}function p(A){return s&&I(),T(r),y(A)}function m(A){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,k(A)}function y(A){return t.containerState={},e.attempt(Nv,v,k)(A)}function v(A){return r++,n.push([t.currentConstruct,t.containerState]),y(A)}function k(A){if(A===null){s&&I(),T(0),e.consume(A);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),S(A)}function S(A){if(A===null){C(e.exit("chunkFlow"),!0),T(0),e.consume(A);return}return Ee(A)?(e.consume(A),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(A),S)}function C(A,B){const V=t.sliceStream(A);if(B&&V.push(null),A.previous=a,a&&(a.next=A),a=A,s.defineSkip(A.start),s.write(V),t.parser.lazy[A.start.line]){let D=s.events.length;for(;D--;)if(s.events[D][1].start.offset<l&&(!s.events[D][1].end||s.events[D][1].end.offset>l))return;const Q=t.events.length;let re=Q,se,M;for(;re--;)if(t.events[re][0]==="exit"&&t.events[re][1].type==="chunkFlow"){if(se){M=t.events[re][1].end;break}se=!0}for(T(r),D=Q;D<t.events.length;)t.events[D][1].end={...M},D++;fn(t.events,re+1,0,t.events.slice(Q)),t.events.length=D}}function T(A){let B=n.length;for(;B-- >A;){const V=n[B];t.containerState=V[1],V[0].exit.call(t,e)}n.length=A}function I(){s.write([null]),a=void 0,s=void 0,t.containerState._closeFlow=void 0}}function cT(e,t,n){return De(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Os(e){if(e===null||He(e)||Mi(e))return 1;if(bu(e))return 2}function ku(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const If={name:"attention",resolveAll:dT,tokenize:fT};function dT(e,t){let n=-1,r,s,a,l,c,d,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},y={...e[n][1].start};Iv(m,-d),Iv(y,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:y},a={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Cn(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Cn(f,[["enter",s,t],["enter",l,t],["exit",l,t],["enter",a,t]]),f=Cn(f,ku(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Cn(f,[["exit",a,t],["enter",c,t],["exit",c,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=Cn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,fn(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function fT(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Os(r);let a;return l;function l(d){return a=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===a)return e.consume(d),c;const f=e.exit("attentionSequence"),p=Os(d),m=!p||p===2&&s||n.includes(d),y=!s||s===2&&p||n.includes(r);return f._open=!!(a===42?m:m&&(s||!y)),f._close=!!(a===42?y:y&&(p||!m)),t(d)}}function Iv(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const hT={name:"autolink",tokenize:pT};function pT(e,t,n){let r=0;return s;function s(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(v){return Ut(v)?(e.consume(v),l):v===64?n(v):f(v)}function l(v){return v===43||v===45||v===46||Lt(v)?(r=1,c(v)):f(v)}function c(v){return v===58?(e.consume(v),r=0,d):(v===43||v===45||v===46||Lt(v))&&r++<32?(e.consume(v),c):(r=0,f(v))}function d(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||Ql(v)?n(v):(e.consume(v),d)}function f(v){return v===64?(e.consume(v),p):rT(v)?(e.consume(v),f):n(v)}function p(v){return Lt(v)?m(v):n(v)}function m(v){return v===46?(e.consume(v),r=0,p):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):y(v)}function y(v){if((v===45||Lt(v))&&r++<63){const k=v===45?y:m;return e.consume(v),k}return n(v)}}const da={partial:!0,tokenize:mT};function mT(e,t,n){return r;function r(a){return Re(a)?De(e,s,"linePrefix")(a):s(a)}function s(a){return a===null||Ee(a)?t(a):n(a)}}const e0={continuation:{tokenize:vT},exit:yT,name:"blockQuote",tokenize:gT};function gT(e,t,n){const r=this;return s;function s(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return n(l)}function a(l){return Re(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function vT(e,t,n){const r=this;return s;function s(l){return Re(l)?De(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(e0,t,n)(l)}}function yT(e){e.exit("blockQuote")}const t0={name:"characterEscape",tokenize:wT};function wT(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),s}function s(a){return sT(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const n0={name:"characterReference",tokenize:xT};function xT(e,t,n){const r=this;let s=0,a,l;return c;function c(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),d}function d(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),a=31,l=Lt,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=iT,p):(e.enter("characterReferenceValue"),a=7,l=Nf,p(m))}function p(m){if(m===59&&s){const y=e.exit("characterReferenceValue");return l===Lt&&!uh(r.sliceSerialize(y))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(m)&&s++<a?(e.consume(m),p):n(m)}}const Av={partial:!0,tokenize:kT},Pv={concrete:!0,name:"codeFenced",tokenize:bT};function bT(e,t,n){const r=this,s={partial:!0,tokenize:V};let a=0,l=0,c;return d;function d(D){return f(D)}function f(D){const Q=r.events[r.events.length-1];return a=Q&&Q[1].type==="linePrefix"?Q[2].sliceSerialize(Q[1],!0).length:0,c=D,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(D)}function p(D){return D===c?(l++,e.consume(D),p):l<3?n(D):(e.exit("codeFencedFenceSequence"),Re(D)?De(e,m,"whitespace")(D):m(D))}function m(D){return D===null||Ee(D)?(e.exit("codeFencedFence"),r.interrupt?t(D):e.check(Av,S,B)(D)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),y(D))}function y(D){return D===null||Ee(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(D)):Re(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),De(e,v,"whitespace")(D)):D===96&&D===c?n(D):(e.consume(D),y)}function v(D){return D===null||Ee(D)?m(D):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(D))}function k(D){return D===null||Ee(D)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(D)):D===96&&D===c?n(D):(e.consume(D),k)}function S(D){return e.attempt(s,B,C)(D)}function C(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),T}function T(D){return a>0&&Re(D)?De(e,I,"linePrefix",a+1)(D):I(D)}function I(D){return D===null||Ee(D)?e.check(Av,S,B)(D):(e.enter("codeFlowValue"),A(D))}function A(D){return D===null||Ee(D)?(e.exit("codeFlowValue"),I(D)):(e.consume(D),A)}function B(D){return e.exit("codeFenced"),t(D)}function V(D,Q,re){let se=0;return M;function M(F){return D.enter("lineEnding"),D.consume(F),D.exit("lineEnding"),$}function $(F){return D.enter("codeFencedFence"),Re(F)?De(D,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):Z(F)}function Z(F){return F===c?(D.enter("codeFencedFenceSequence"),K(F)):re(F)}function K(F){return F===c?(se++,D.consume(F),K):se>=l?(D.exit("codeFencedFenceSequence"),Re(F)?De(D,O,"whitespace")(F):O(F)):re(F)}function O(F){return F===null||Ee(F)?(D.exit("codeFencedFence"),Q(F)):re(F)}}}function kT(e,t,n){const r=this;return s;function s(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Pd={name:"codeIndented",tokenize:_T},ST={partial:!0,tokenize:ET};function _T(e,t,n){const r=this;return s;function s(f){return e.enter("codeIndented"),De(e,a,"linePrefix",5)(f)}function a(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Ee(f)?e.attempt(ST,l,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Ee(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function ET(e,t,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):Ee(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):De(e,a,"linePrefix",5)(l)}function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Ee(l)?s(l):n(l)}}const CT={name:"codeText",previous:TT,resolve:jT,tokenize:NT};function jT(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function TT(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function NT(e,t,n){let r=0,s,a;return l;function l(m){return e.enter("codeText"),e.enter("codeTextSequence"),c(m)}function c(m){return m===96?(e.consume(m),r++,c):(e.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),d):m===96?(a=e.enter("codeTextSequence"),s=0,p(m)):Ee(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Ee(m)?(e.exit("codeTextData"),d(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),s++,p):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(a.type="codeTextData",f(m))}}class IT{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Io(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Io(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Io(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Io(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Io(this.left,n.reverse())}}}function Io(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function r0(e){const t={};let n=-1,r,s,a,l,c,d,f;const p=new IT(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,AT(p,n)),n=t[n],f=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(l=p.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(r[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(r),p.splice(s,n-s+1,c))}}return fn(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function AT(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],f={};let p,m,y=-1,v=n,k=0,S=0;const C=[S];for(;v;){for(;e.get(++s)[1]!==v;);a.push(s),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),m&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=v,v=v.next}for(v=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(S=y+1,C.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):C.pop(),y=C.length;y--;){const T=c.slice(C[y],C[y+1]),I=a.pop();d.push([I,I+T.length-1]),e.splice(I,2,T)}for(d.reverse(),y=-1;++y<d.length;)f[k+d[y][0]]=k+d[y][1],k+=d[y][1]-d[y][0]-1;return f}const PT={resolve:OT,tokenize:DT},RT={partial:!0,tokenize:LT};function OT(e){return r0(e),e}function DT(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?a(c):Ee(c)?e.check(RT,l,a)(c):(e.consume(c),s)}function a(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function LT(e,t,n){const r=this;return s;function s(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),De(e,a,"linePrefix")}function a(l){if(l===null||Ee(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function i0(e,t,n,r,s,a,l,c,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(T){return T===60?(e.enter(r),e.enter(s),e.enter(a),e.consume(T),e.exit(a),y):T===null||T===32||T===41||Ql(T)?n(T):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),S(T))}function y(T){return T===62?(e.enter(a),e.consume(T),e.exit(a),e.exit(s),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===62?(e.exit("chunkString"),e.exit(c),y(T)):T===null||T===60||Ee(T)?n(T):(e.consume(T),T===92?k:v)}function k(T){return T===60||T===62||T===92?(e.consume(T),v):v(T)}function S(T){return!p&&(T===null||T===41||He(T))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(T)):p<f&&T===40?(e.consume(T),p++,S):T===41?(e.consume(T),p--,S):T===null||T===32||T===40||Ql(T)?n(T):(e.consume(T),T===92?C:S)}function C(T){return T===40||T===41||T===92?(e.consume(T),S):S(T)}}function s0(e,t,n,r,s,a){const l=this;let c=0,d;return f;function f(v){return e.enter(r),e.enter(s),e.consume(v),e.exit(s),e.enter(a),p}function p(v){return c>999||v===null||v===91||v===93&&!d||v===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(v):v===93?(e.exit(a),e.enter(s),e.consume(v),e.exit(s),e.exit(r),t):Ee(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===null||v===91||v===93||Ee(v)||c++>999?(e.exit("chunkString"),p(v)):(e.consume(v),d||(d=!Re(v)),v===92?y:m)}function y(v){return v===91||v===92||v===93?(e.consume(v),c++,m):m(v)}}function o0(e,t,n,r,s,a){let l;return c;function c(y){return y===34||y===39||y===40?(e.enter(r),e.enter(s),e.consume(y),e.exit(s),l=y===40?41:y,d):n(y)}function d(y){return y===l?(e.enter(s),e.consume(y),e.exit(s),e.exit(r),t):(e.enter(a),f(y))}function f(y){return y===l?(e.exit(a),d(l)):y===null?n(y):Ee(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),De(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===l||y===null||Ee(y)?(e.exit("chunkString"),f(y)):(e.consume(y),y===92?m:p)}function m(y){return y===l||y===92?(e.consume(y),p):p(y)}}function Ho(e,t){let n;return r;function r(s){return Ee(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Re(s)?De(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const MT={name:"definition",tokenize:FT},$T={partial:!0,tokenize:zT};function FT(e,t,n){const r=this;let s;return a;function a(v){return e.enter("definition"),l(v)}function l(v){return s0.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return s=Wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),d):n(v)}function d(v){return He(v)?Ho(e,f)(v):f(v)}function f(v){return i0(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return e.attempt($T,m,m)(v)}function m(v){return Re(v)?De(e,y,"whitespace")(v):y(v)}function y(v){return v===null||Ee(v)?(e.exit("definition"),r.parser.defined.push(s),t(v)):n(v)}}function zT(e,t,n){return r;function r(c){return He(c)?Ho(e,s)(c):n(c)}function s(c){return o0(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return Re(c)?De(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Ee(c)?t(c):n(c)}}const UT={name:"hardBreakEscape",tokenize:BT};function BT(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),s}function s(a){return Ee(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const WT={name:"headingAtx",resolve:HT,tokenize:VT};function HT(e,t){let n=e.length-2,r=3,s,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},fn(e,r,n-r+1,[["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t]])),e}function VT(e,t,n){let r=0;return s;function s(p){return e.enter("atxHeading"),a(p)}function a(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||He(p)?(e.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(e.enter("atxHeadingSequence"),d(p)):p===null||Ee(p)?(e.exit("atxHeading"),t(p)):Re(p)?De(e,c,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function d(p){return p===35?(e.consume(p),d):(e.exit("atxHeadingSequence"),c(p))}function f(p){return p===null||p===35||He(p)?(e.exit("atxHeadingText"),c(p)):(e.consume(p),f)}}const qT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Rv=["pre","script","style","textarea"],YT={concrete:!0,name:"htmlFlow",resolveTo:JT,tokenize:QT},KT={partial:!0,tokenize:ZT},GT={partial:!0,tokenize:XT};function JT(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function QT(e,t,n){const r=this;let s,a,l,c,d;return f;function f(_){return p(_)}function p(_){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(_),m}function m(_){return _===33?(e.consume(_),y):_===47?(e.consume(_),a=!0,S):_===63?(e.consume(_),s=3,r.interrupt?t:b):Ut(_)?(e.consume(_),l=String.fromCharCode(_),C):n(_)}function y(_){return _===45?(e.consume(_),s=2,v):_===91?(e.consume(_),s=5,c=0,k):Ut(_)?(e.consume(_),s=4,r.interrupt?t:b):n(_)}function v(_){return _===45?(e.consume(_),r.interrupt?t:b):n(_)}function k(_){const G="CDATA[";return _===G.charCodeAt(c++)?(e.consume(_),c===G.length?r.interrupt?t:Z:k):n(_)}function S(_){return Ut(_)?(e.consume(_),l=String.fromCharCode(_),C):n(_)}function C(_){if(_===null||_===47||_===62||He(_)){const G=_===47,ee=l.toLowerCase();return!G&&!a&&Rv.includes(ee)?(s=1,r.interrupt?t(_):Z(_)):qT.includes(l.toLowerCase())?(s=6,G?(e.consume(_),T):r.interrupt?t(_):Z(_)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(_):a?I(_):A(_))}return _===45||Lt(_)?(e.consume(_),l+=String.fromCharCode(_),C):n(_)}function T(_){return _===62?(e.consume(_),r.interrupt?t:Z):n(_)}function I(_){return Re(_)?(e.consume(_),I):M(_)}function A(_){return _===47?(e.consume(_),M):_===58||_===95||Ut(_)?(e.consume(_),B):Re(_)?(e.consume(_),A):M(_)}function B(_){return _===45||_===46||_===58||_===95||Lt(_)?(e.consume(_),B):V(_)}function V(_){return _===61?(e.consume(_),D):Re(_)?(e.consume(_),V):A(_)}function D(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),d=_,Q):Re(_)?(e.consume(_),D):re(_)}function Q(_){return _===d?(e.consume(_),d=null,se):_===null||Ee(_)?n(_):(e.consume(_),Q)}function re(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||He(_)?V(_):(e.consume(_),re)}function se(_){return _===47||_===62||Re(_)?A(_):n(_)}function M(_){return _===62?(e.consume(_),$):n(_)}function $(_){return _===null||Ee(_)?Z(_):Re(_)?(e.consume(_),$):n(_)}function Z(_){return _===45&&s===2?(e.consume(_),L):_===60&&s===1?(e.consume(_),U):_===62&&s===4?(e.consume(_),N):_===63&&s===3?(e.consume(_),b):_===93&&s===5?(e.consume(_),Y):Ee(_)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(KT,P,K)(_)):_===null||Ee(_)?(e.exit("htmlFlowData"),K(_)):(e.consume(_),Z)}function K(_){return e.check(GT,O,P)(_)}function O(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),F}function F(_){return _===null||Ee(_)?K(_):(e.enter("htmlFlowData"),Z(_))}function L(_){return _===45?(e.consume(_),b):Z(_)}function U(_){return _===47?(e.consume(_),l="",W):Z(_)}function W(_){if(_===62){const G=l.toLowerCase();return Rv.includes(G)?(e.consume(_),N):Z(_)}return Ut(_)&&l.length<8?(e.consume(_),l+=String.fromCharCode(_),W):Z(_)}function Y(_){return _===93?(e.consume(_),b):Z(_)}function b(_){return _===62?(e.consume(_),N):_===45&&s===2?(e.consume(_),b):Z(_)}function N(_){return _===null||Ee(_)?(e.exit("htmlFlowData"),P(_)):(e.consume(_),N)}function P(_){return e.exit("htmlFlow"),t(_)}}function XT(e,t,n){const r=this;return s;function s(l){return Ee(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function ZT(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(da,t,n)}}const eN={name:"htmlText",tokenize:tN};function tN(e,t,n){const r=this;let s,a,l;return c;function c(b){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(b),d}function d(b){return b===33?(e.consume(b),f):b===47?(e.consume(b),V):b===63?(e.consume(b),A):Ut(b)?(e.consume(b),re):n(b)}function f(b){return b===45?(e.consume(b),p):b===91?(e.consume(b),a=0,k):Ut(b)?(e.consume(b),I):n(b)}function p(b){return b===45?(e.consume(b),v):n(b)}function m(b){return b===null?n(b):b===45?(e.consume(b),y):Ee(b)?(l=m,U(b)):(e.consume(b),m)}function y(b){return b===45?(e.consume(b),v):m(b)}function v(b){return b===62?L(b):b===45?y(b):m(b)}function k(b){const N="CDATA[";return b===N.charCodeAt(a++)?(e.consume(b),a===N.length?S:k):n(b)}function S(b){return b===null?n(b):b===93?(e.consume(b),C):Ee(b)?(l=S,U(b)):(e.consume(b),S)}function C(b){return b===93?(e.consume(b),T):S(b)}function T(b){return b===62?L(b):b===93?(e.consume(b),T):S(b)}function I(b){return b===null||b===62?L(b):Ee(b)?(l=I,U(b)):(e.consume(b),I)}function A(b){return b===null?n(b):b===63?(e.consume(b),B):Ee(b)?(l=A,U(b)):(e.consume(b),A)}function B(b){return b===62?L(b):A(b)}function V(b){return Ut(b)?(e.consume(b),D):n(b)}function D(b){return b===45||Lt(b)?(e.consume(b),D):Q(b)}function Q(b){return Ee(b)?(l=Q,U(b)):Re(b)?(e.consume(b),Q):L(b)}function re(b){return b===45||Lt(b)?(e.consume(b),re):b===47||b===62||He(b)?se(b):n(b)}function se(b){return b===47?(e.consume(b),L):b===58||b===95||Ut(b)?(e.consume(b),M):Ee(b)?(l=se,U(b)):Re(b)?(e.consume(b),se):L(b)}function M(b){return b===45||b===46||b===58||b===95||Lt(b)?(e.consume(b),M):$(b)}function $(b){return b===61?(e.consume(b),Z):Ee(b)?(l=$,U(b)):Re(b)?(e.consume(b),$):se(b)}function Z(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(e.consume(b),s=b,K):Ee(b)?(l=Z,U(b)):Re(b)?(e.consume(b),Z):(e.consume(b),O)}function K(b){return b===s?(e.consume(b),s=void 0,F):b===null?n(b):Ee(b)?(l=K,U(b)):(e.consume(b),K)}function O(b){return b===null||b===34||b===39||b===60||b===61||b===96?n(b):b===47||b===62||He(b)?se(b):(e.consume(b),O)}function F(b){return b===47||b===62||He(b)?se(b):n(b)}function L(b){return b===62?(e.consume(b),e.exit("htmlTextData"),e.exit("htmlText"),t):n(b)}function U(b){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),W}function W(b){return Re(b)?De(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):Y(b)}function Y(b){return e.enter("htmlTextData"),l(b)}}const ch={name:"labelEnd",resolveAll:sN,resolveTo:oN,tokenize:aN},nN={tokenize:lN},rN={tokenize:uN},iN={tokenize:cN};function sN(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&fn(e,0,e.length,n),e}function oN(e,t){let n=e.length,r=0,s,a,l,c;for(;n--;)if(s=e[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);const d={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=Cn(c,e.slice(a+1,a+r+3)),c=Cn(c,[["enter",p,t]]),c=Cn(c,ku(t.parser.constructs.insideSpan.null,e.slice(a+r+4,l-3),t)),c=Cn(c,[["exit",p,t],e[l-2],e[l-1],["exit",f,t]]),c=Cn(c,e.slice(l+1)),c=Cn(c,[["exit",d,t]]),fn(e,a,e.length,c),e}function aN(e,t,n){const r=this;let s=r.events.length,a,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return c;function c(y){return a?a._inactive?m(y):(l=r.parser.defined.includes(Wn(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelEnd"),d):n(y)}function d(y){return y===40?e.attempt(nN,p,l?p:m)(y):y===91?e.attempt(rN,p,l?f:m)(y):l?p(y):m(y)}function f(y){return e.attempt(iN,p,m)(y)}function p(y){return t(y)}function m(y){return a._balanced=!0,n(y)}}function lN(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),s}function s(m){return He(m)?Ho(e,a)(m):a(m)}function a(m){return m===41?p(m):i0(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return He(m)?Ho(e,d)(m):p(m)}function c(m){return n(m)}function d(m){return m===34||m===39||m===40?o0(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return He(m)?Ho(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function uN(e,t,n){const r=this;return s;function s(c){return s0.call(r,e,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(Wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function cN(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),s}function s(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const dN={name:"labelStartImage",resolveAll:ch.resolveAll,tokenize:fN};function fN(e,t,n){const r=this;return s;function s(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),a}function a(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const hN={name:"labelStartLink",resolveAll:ch.resolveAll,tokenize:pN};function pN(e,t,n){const r=this;return s;function s(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Rd={name:"lineEnding",tokenize:mN};function mN(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),De(e,t,"linePrefix")}}const zl={name:"thematicBreak",tokenize:gN};function gN(e,t,n){let r=0,s;return a;function a(f){return e.enter("thematicBreak"),l(f)}function l(f){return s=f,c(f)}function c(f){return f===s?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Ee(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===s?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),Re(f)?De(e,c,"whitespace")(f):c(f))}}const Qt={continuation:{tokenize:xN},exit:kN,name:"list",tokenize:wN},vN={partial:!0,tokenize:SN},yN={partial:!0,tokenize:bN};function wN(e,t,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(v){const k=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:Nf(v)){if(r.containerState.type||(r.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(zl,n,f)(v):f(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(v)}return n(v)}function d(v){return Nf(v)&&++l<10?(e.consume(v),d):(!r.interrupt||l<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),f(v)):n(v)}function f(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(da,r.interrupt?n:p,e.attempt(vN,y,m))}function p(v){return r.containerState.initialBlankLine=!0,a++,y(v)}function m(v){return Re(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),y):n(v)}function y(v){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function xN(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(da,s,a);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,De(e,t,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!Re(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(yN,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,De(e,e.attempt(Qt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function bN(e,t,n){const r=this;return De(e,s,"listItemIndent",r.containerState.size+1);function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(a):n(a)}}function kN(e){e.exit(this.containerState.type)}function SN(e,t,n){const r=this;return De(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const l=r.events[r.events.length-1];return!Re(a)&&l&&l[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const Ov={name:"setextUnderline",resolveTo:_N,tokenize:EN};function _N(e,t){let n=e.length,r,s,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",a?(e.splice(s,0,["enter",l,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function EN(e,t,n){const r=this;let s;return a;function a(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),s=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===s?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),Re(f)?De(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Ee(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const CN={tokenize:jN};function jN(e){const t=this,n=e.attempt(da,r,e.attempt(this.parser.constructs.flowInitial,s,De(e,e.attempt(this.parser.constructs.flow,s,e.attempt(PT,s)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const TN={resolveAll:l0()},NN=a0("string"),IN=a0("text");function a0(e){return{resolveAll:l0(e==="text"?AN:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],a=n.attempt(s,l,c);return l;function l(p){return f(p)?a(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),a(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;const m=s[p];let y=-1;if(m)for(;++y<m.length;){const v=m[y];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function l0(e){return t;function t(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return e?e(n,r):n}}function AN(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let a=s.length,l=-1,c=0,d;for(;a--;){const f=s[a];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)d=!0,c++;else if(f!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const PN={42:Qt,43:Qt,45:Qt,48:Qt,49:Qt,50:Qt,51:Qt,52:Qt,53:Qt,54:Qt,55:Qt,56:Qt,57:Qt,62:e0},RN={91:MT},ON={[-2]:Pd,[-1]:Pd,32:Pd},DN={35:WT,42:zl,45:[Ov,zl],60:YT,61:Ov,95:zl,96:Pv,126:Pv},LN={38:n0,92:t0},MN={[-5]:Rd,[-4]:Rd,[-3]:Rd,33:dN,38:n0,42:If,60:[hT,eN],91:hN,92:[UT,t0],93:ch,95:If,96:CT},$N={null:[If,TN]},FN={null:[42,95]},zN={null:[]},UN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:FN,contentInitial:RN,disable:zN,document:PN,flow:DN,flowInitial:ON,insideSpan:$N,string:LN,text:MN},Symbol.toStringTag,{value:"Module"}));function BN(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let l=[],c=[];const d={attempt:Q(V),check:Q(D),consume:I,enter:A,exit:B,interrupt:Q(D,{interrupt:!0})},f={code:null,containerState:{},defineSkip:S,events:[],now:k,parser:e,previous:null,sliceSerialize:y,sliceStream:v,write:m};let p=t.tokenize.call(f,d);return t.resolveAll&&a.push(t),f;function m($){return l=Cn(l,$),C(),l[l.length-1]!==null?[]:(re(t,0),f.events=ku(a,f.events,f),f.events)}function y($,Z){return HN(v($),Z)}function v($){return WN(l,$)}function k(){const{_bufferIndex:$,_index:Z,line:K,column:O,offset:F}=r;return{_bufferIndex:$,_index:Z,line:K,column:O,offset:F}}function S($){s[$.line]=$.column,M()}function C(){let $;for(;r._index<l.length;){const Z=l[r._index];if(typeof Z=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<Z.length;)T(Z.charCodeAt(r._bufferIndex));else T(Z)}}function T($){p=p($)}function I($){Ee($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,M()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=$}function A($,Z){const K=Z||{};return K.type=$,K.start=k(),f.events.push(["enter",K,f]),c.push(K),K}function B($){const Z=c.pop();return Z.end=k(),f.events.push(["exit",Z,f]),Z}function V($,Z){re($,Z.from)}function D($,Z){Z.restore()}function Q($,Z){return K;function K(O,F,L){let U,W,Y,b;return Array.isArray(O)?P(O):"tokenize"in O?P([O]):N(O);function N(te){return de;function de(fe){const pe=fe!==null&&te[fe],he=fe!==null&&te.null,Ae=[...Array.isArray(pe)?pe:pe?[pe]:[],...Array.isArray(he)?he:he?[he]:[]];return P(Ae)(fe)}}function P(te){return U=te,W=0,te.length===0?L:_(te[W])}function _(te){return de;function de(fe){return b=se(),Y=te,te.partial||(f.currentConstruct=te),te.name&&f.parser.constructs.disable.null.includes(te.name)?ee():te.tokenize.call(Z?Object.assign(Object.create(f),Z):f,d,G,ee)(fe)}}function G(te){return $(Y,b),F}function ee(te){return b.restore(),++W<U.length?_(U[W]):L}}}function re($,Z){$.resolveAll&&!a.includes($)&&a.push($),$.resolve&&fn(f.events,Z,f.events.length-Z,$.resolve(f.events.slice(Z),f)),$.resolveTo&&(f.events=$.resolveTo(f.events,f))}function se(){const $=k(),Z=f.previous,K=f.currentConstruct,O=f.events.length,F=Array.from(c);return{from:O,restore:L};function L(){r=$,f.previous=Z,f.currentConstruct=K,f.events.length=O,c=F,M()}}function M(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function WN(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let l;if(n===s)l=[e[n].slice(r,a)];else{if(l=e.slice(n,s),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}a>0&&l.push(e[s].slice(0,a))}return l}function HN(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const a=e[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,r.push(l)}return r.join("")}function VN(e){const r={constructs:Xw([UN,...(e||{}).extensions||[]]),content:s(oT),defined:[],document:s(lT),flow:s(CN),lazy:{},string:s(NN),text:s(IN)};return r;function s(a){return l;function l(c){return BN(r,a,c)}}}function qN(e){for(;!r0(e););return e}const Dv=/[\0\t\n\r]/g;function YN(){let e=1,t="",n=!0,r;return s;function s(a,l,c){const d=[];let f,p,m,y,v;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),m=0,t="",n&&(a.charCodeAt(0)===65279&&m++,n=void 0);m<a.length;){if(Dv.lastIndex=m,f=Dv.exec(a),y=f&&f.index!==void 0?f.index:a.length,v=a.charCodeAt(y),!f){t=a.slice(m);break}if(v===10&&m===y&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<y&&(d.push(a.slice(m,y)),e+=y-m),v){case 0:{d.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,d.push(-2);e++<p;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}m=y+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const KN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function GN(e){return e.replace(KN,JN)}function JN(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return Zw(n.slice(a?2:1),a?16:10)}return uh(n)||e}const u0={}.hasOwnProperty;function QN(e,t,n){return typeof t!="string"&&(n=t,t=void 0),XN(n)(qN(VN(n).document().write(YN()(e,t,!0))))}function XN(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Vn),autolinkProtocol:se,autolinkEmail:se,atxHeading:a(hn),blockQuote:a(he),characterEscape:se,characterReference:se,codeFenced:a(Ae),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Ae,l),codeText:a(Fe,l),codeTextData:se,data:se,codeFlowValue:se,definition:a(ze),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(at),hardBreakEscape:a(pn),hardBreakTrailing:a(pn),htmlFlow:a(ar,l),htmlFlowData:se,htmlText:a(ar,l),htmlTextData:se,image:a(ui),label:l,link:a(Vn),listItem:a(nn),listItemValue:y,listOrdered:a(_t,m),listUnordered:a(_t),paragraph:a(qn),reference:_,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(hn),strong:a(ci),thematicBreak:a(Ui)},exit:{atxHeading:d(),atxHeadingSequence:V,autolink:d(),autolinkEmail:pe,autolinkProtocol:fe,blockQuote:d(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:te,characterReference:de,codeFenced:d(C),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:k,codeFlowValue:M,codeIndented:d(T),codeText:d(F),codeTextData:M,data:M,definition:d(),definitionDestinationString:B,definitionLabelString:I,definitionTitleString:A,emphasis:d(),hardBreakEscape:d(Z),hardBreakTrailing:d(Z),htmlFlow:d(K),htmlFlowData:M,htmlText:d(O),htmlTextData:M,image:d(U),label:Y,labelText:W,lineEnding:$,link:d(L),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:G,resourceDestinationString:b,resourceTitleString:N,resource:P,setextHeading:d(re),setextHeadingLineSequence:Q,setextHeadingText:D,strong:d(),thematicBreak:d()}};c0(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ne){let ue={type:"root",children:[]};const be={stack:[ue],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:p,data:n},je=[];let Oe=-1;for(;++Oe<ne.length;)if(ne[Oe][1].type==="listOrdered"||ne[Oe][1].type==="listUnordered")if(ne[Oe][0]==="enter")je.push(Oe);else{const Ve=je.pop();Oe=s(ne,Ve,Oe)}for(Oe=-1;++Oe<ne.length;){const Ve=t[ne[Oe][0]];u0.call(Ve,ne[Oe][1].type)&&Ve[ne[Oe][1].type].call(Object.assign({sliceSerialize:ne[Oe][2].sliceSerialize},be),ne[Oe][1])}if(be.tokenStack.length>0){const Ve=be.tokenStack[be.tokenStack.length-1];(Ve[1]||Lv).call(be,void 0,Ve[0])}for(ue.position={start:Kr(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Kr(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)ue=t.transforms[Oe](ue)||ue;return ue}function s(ne,ue,be){let je=ue-1,Oe=-1,Ve=!1,mn,Bt,Yn,Tn;for(;++je<=be;){const ct=ne[je];switch(ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ct[0]==="enter"?Oe++:Oe--,Tn=void 0;break}case"lineEndingBlank":{ct[0]==="enter"&&(mn&&!Tn&&!Oe&&!Yn&&(Yn=je),Tn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tn=void 0}if(!Oe&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||Oe===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(mn){let gn=je;for(Bt=void 0;gn--;){const jt=ne[gn];if(jt[1].type==="lineEnding"||jt[1].type==="lineEndingBlank"){if(jt[0]==="exit")continue;Bt&&(ne[Bt][1].type="lineEndingBlank",Ve=!0),jt[1].type="lineEnding",Bt=gn}else if(!(jt[1].type==="linePrefix"||jt[1].type==="blockQuotePrefix"||jt[1].type==="blockQuotePrefixWhitespace"||jt[1].type==="blockQuoteMarker"||jt[1].type==="listItemIndent"))break}Yn&&(!Bt||Yn<Bt)&&(mn._spread=!0),mn.end=Object.assign({},Bt?ne[Bt][1].start:ct[1].end),ne.splice(Bt||je,0,["exit",mn,ct[2]]),je++,be++}if(ct[1].type==="listItemPrefix"){const gn={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start),end:void 0};mn=gn,ne.splice(je,0,["enter",gn,ct[2]]),je++,be++,Yn=void 0,Tn=!0}}}return ne[ue][1]._spread=Ve,be}function a(ne,ue){return be;function be(je){c.call(this,ne(je),je),ue&&ue.call(this,je)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ne,ue,be){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([ue,be||void 0]),ne.position={start:Kr(ue.start),end:void 0}}function d(ne){return ue;function ue(be){ne&&ne.call(this,be),f.call(this,be)}}function f(ne,ue){const be=this.stack.pop(),je=this.tokenStack.pop();if(je)je[0].type!==ne.type&&(ue?ue.call(this,ne,je[0]):(je[1]||Lv).call(this,ne,je[0]));else throw new Error("Cannot close `"+ne.type+"` ("+Wo({start:ne.start,end:ne.end})+"): it’s not open");be.position.end=Kr(ne.end)}function p(){return lh(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(ne){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=ne}function k(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=ne}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ne.replace(/(\r?\n|\r)$/g,"")}function I(ne){const ue=this.resume(),be=this.stack[this.stack.length-1];be.label=ue,be.identifier=Wn(this.sliceSerialize(ne)).toLowerCase()}function A(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.title=ne}function B(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.url=ne}function V(ne){const ue=this.stack[this.stack.length-1];if(!ue.depth){const be=this.sliceSerialize(ne).length;ue.depth=be}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function Q(ne){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function re(){this.data.setextHeadingSlurpLineEnding=void 0}function se(ne){const be=this.stack[this.stack.length-1].children;let je=be[be.length-1];(!je||je.type!=="text")&&(je=di(),je.position={start:Kr(ne.start),end:void 0},be.push(je)),this.stack.push(je)}function M(ne){const ue=this.stack.pop();ue.value+=this.sliceSerialize(ne),ue.position.end=Kr(ne.end)}function $(ne){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ue.children[ue.children.length-1];be.position.end=Kr(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ue.type)&&(se.call(this,ne),M.call(this,ne))}function Z(){this.data.atHardBreak=!0}function K(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ne}function O(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ne}function F(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ne}function L(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=ue,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function U(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=ue,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function W(ne){const ue=this.sliceSerialize(ne),be=this.stack[this.stack.length-2];be.label=GN(ue),be.identifier=Wn(ue).toLowerCase()}function Y(){const ne=this.stack[this.stack.length-1],ue=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const je=ne.children;be.children=je}else be.alt=ue}function b(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.url=ne}function N(){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.title=ne}function P(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function G(ne){const ue=this.resume(),be=this.stack[this.stack.length-1];be.label=ue,be.identifier=Wn(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function ee(ne){this.data.characterReferenceType=ne.type}function te(ne){const ue=this.sliceSerialize(ne),be=this.data.characterReferenceType;let je;be?(je=Zw(ue,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):je=uh(ue);const Oe=this.stack[this.stack.length-1];Oe.value+=je}function de(ne){const ue=this.stack.pop();ue.position.end=Kr(ne.end)}function fe(ne){M.call(this,ne);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(ne)}function pe(ne){M.call(this,ne);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(ne)}function he(){return{type:"blockquote",children:[]}}function Ae(){return{type:"code",lang:null,meta:null,value:""}}function Fe(){return{type:"inlineCode",value:""}}function ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function at(){return{type:"emphasis",children:[]}}function hn(){return{type:"heading",depth:0,children:[]}}function pn(){return{type:"break"}}function ar(){return{type:"html",value:""}}function ui(){return{type:"image",title:null,url:"",alt:null}}function Vn(){return{type:"link",title:null,url:"",children:[]}}function _t(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function nn(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function qn(){return{type:"paragraph",children:[]}}function ci(){return{type:"strong",children:[]}}function di(){return{type:"text",value:""}}function Ui(){return{type:"thematicBreak"}}}function Kr(e){return{line:e.line,column:e.column,offset:e.offset}}function c0(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?c0(e,r):ZN(e,r)}}function ZN(e,t){let n;for(n in t)if(u0.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Lv(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Wo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Wo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Wo({start:t.start,end:t.end})+") is still open")}function eI(e){const t=this;t.parser=n;function n(r){return QN(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function tI(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function nI(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function rI(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function iI(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sI(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oI(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=zs(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=a+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function aI(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lI(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function d0(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function uI(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return d0(e,t);const s={src:zs(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)}function cI(e,t){const n={src:zs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function dI(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function fI(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return d0(e,t);const s={href:zs(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function hI(e,t){const n={href:zs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pI(e,t,n){const r=e.all(t),s=n?mI(n):f0(t),a={},l=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(s||c!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?l.push(...p.children):l.push(p)}const d=r[r.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:l};return e.patch(t,f),e.applyData(t,f)}function mI(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=f0(n[r])}return t}function f0(e){const t=e.spread;return t??e.children.length>1}function gI(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function vI(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yI(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function wI(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xI(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=ih(t.children[1]),d=Vw(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),s.push(l)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)}function bI(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const m=t.children[d],y={},v=l?l[d]:void 0;v&&(y.align=v);let k={type:"element",tagName:a,properties:y,children:[]};m&&(k.children=e.all(m),e.patch(m,k),k=e.applyData(m,k)),f.push(k)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function kI(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Mv=9,$v=32;function SI(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const a=[];for(;r;)a.push(Fv(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return a.push(Fv(t.slice(s),s>0,!1)),a.join("")}function Fv(e,t,n){let r=0,s=e.length;if(t){let a=e.codePointAt(r);for(;a===Mv||a===$v;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(s-1);for(;a===Mv||a===$v;)s--,a=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function _I(e,t){const n={type:"text",value:SI(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function EI(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const CI={blockquote:tI,break:nI,code:rI,delete:iI,emphasis:sI,footnoteReference:oI,heading:aI,html:lI,imageReference:uI,image:cI,inlineCode:dI,linkReference:fI,link:hI,listItem:pI,list:gI,paragraph:vI,root:yI,strong:wI,table:xI,tableCell:kI,tableRow:bI,text:_I,thematicBreak:EI,toml:Il,yaml:Il,definition:Il,footnoteDefinition:Il};function Il(){}const h0=-1,Su=0,Vo=1,Xl=2,dh=3,fh=4,hh=5,ph=6,p0=7,m0=8,zv=typeof self=="object"?self:globalThis,jI=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),r=s=>{if(e.has(s))return e.get(s);const[a,l]=t[s];switch(a){case Su:case h0:return n(l,s);case Vo:{const c=n([],s);for(const d of l)c.push(r(d));return c}case Xl:{const c=n({},s);for(const[d,f]of l)c[r(d)]=r(f);return c}case dh:return n(new Date(l),s);case fh:{const{source:c,flags:d}=l;return n(new RegExp(c,d),s)}case hh:{const c=n(new Map,s);for(const[d,f]of l)c.set(r(d),r(f));return c}case ph:{const c=n(new Set,s);for(const d of l)c.add(r(d));return c}case p0:{const{name:c,message:d}=l;return n(new zv[c](d),s)}case m0:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new zv[a](l),s)};return r},Uv=e=>jI(new Map,e)(0),ks="",{toString:TI}={},{keys:NI}=Object,Ao=e=>{const t=typeof e;if(t!=="object"||!e)return[Su,t];const n=TI.call(e).slice(8,-1);switch(n){case"Array":return[Vo,ks];case"Object":return[Xl,ks];case"Date":return[dh,ks];case"RegExp":return[fh,ks];case"Map":return[hh,ks];case"Set":return[ph,ks];case"DataView":return[Vo,n]}return n.includes("Array")?[Vo,n]:n.includes("Error")?[p0,n]:[Xl,n]},Al=([e,t])=>e===Su&&(t==="function"||t==="symbol"),II=(e,t,n,r)=>{const s=(l,c)=>{const d=r.push(l)-1;return n.set(c,d),d},a=l=>{if(n.has(l))return n.get(l);let[c,d]=Ao(l);switch(c){case Su:{let p=l;switch(d){case"bigint":c=m0,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return s([h0],l)}return s([c,p],l)}case Vo:{if(d){let y=l;return d==="DataView"?y=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(y=new Uint8Array(l)),s([d,[...y]],l)}const p=[],m=s([c,p],l);for(const y of l)p.push(a(y));return m}case Xl:{if(d)switch(d){case"BigInt":return s([d,l.toString()],l);case"Boolean":case"Number":case"String":return s([d,l.valueOf()],l)}if(t&&"toJSON"in l)return a(l.toJSON());const p=[],m=s([c,p],l);for(const y of NI(l))(e||!Al(Ao(l[y])))&&p.push([a(y),a(l[y])]);return m}case dh:return s([c,l.toISOString()],l);case fh:{const{source:p,flags:m}=l;return s([c,{source:p,flags:m}],l)}case hh:{const p=[],m=s([c,p],l);for(const[y,v]of l)(e||!(Al(Ao(y))||Al(Ao(v))))&&p.push([a(y),a(v)]);return m}case ph:{const p=[],m=s([c,p],l);for(const y of l)(e||!Al(Ao(y)))&&p.push(a(y));return m}}const{message:f}=l;return s([c,{name:d,message:f}],l)};return a},Bv=(e,{json:t,lossy:n}={})=>{const r=[];return II(!(t||n),!!t,new Map,r)(e),r},Zl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Uv(Bv(e,t)):structuredClone(e):(e,t)=>Uv(Bv(e,t));function AI(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function PI(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function RI(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||AI,r=e.options.footnoteBackLabel||PI,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),y=zs(m.toLowerCase());let v=0;const k=[],S=e.footnoteCounts.get(m);for(;S!==void 0&&++v<=S;){k.length>0&&k.push({type:"text",value:" "});let I=typeof n=="string"?n:n(d,v);typeof I=="string"&&(I={type:"text",value:I}),k.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,v),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const C=p[p.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const I=C.children[C.children.length-1];I&&I.type==="text"?I.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...k)}else p.push(...k);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:e.wrap(p,!0)};e.patch(f,T),c.push(T)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Zl(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const _u=(function(e){if(e==null)return MI;if(typeof e=="function")return Eu(e);if(typeof e=="object")return Array.isArray(e)?OI(e):DI(e);if(typeof e=="string")return LI(e);throw new Error("Expected function, string, or object as test")});function OI(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_u(e[n]);return Eu(r);function r(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function DI(e){const t=e;return Eu(n);function n(r){const s=r;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function LI(e){return Eu(t);function t(n){return n&&n.type===e}}function Eu(e){return t;function t(n,r,s){return!!($I(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function MI(){return!0}function $I(e){return e!==null&&typeof e=="object"&&"type"in e}const g0=[],FI=!0,Af=!1,zI="skip";function v0(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const a=_u(s),l=r?-1:1;c(e,void 0,[])();function c(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const v=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(d.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=g0,k,S,C;if((!t||a(d,f,p[p.length-1]||void 0))&&(v=UI(n(d,p)),v[0]===Af))return v;if("children"in d&&d.children){const T=d;if(T.children&&v[0]!==zI)for(S=(r?T.children.length:-1)+l,C=p.concat(T);S>-1&&S<T.children.length;){const I=T.children[S];if(k=c(I,S,C)(),k[0]===Af)return k;S=typeof k[1]=="number"?k[1]:S+l}}return v}}}function UI(e){return Array.isArray(e)?e:typeof e=="number"?[FI,e]:e==null?g0:[e]}function mh(e,t,n,r){let s,a,l;typeof t=="function"&&typeof n!="function"?(a=void 0,l=t,s=n):(a=t,l=n,s=r),v0(e,a,c,s);function c(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return l(d,m,p)}}const Pf={}.hasOwnProperty,BI={};function WI(e,t){const n=t||BI,r=new Map,s=new Map,a=new Map,l={...CI,...n.handlers},c={all:f,applyData:VI,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:l,one:d,options:n,patch:HI,wrap:YI};return mh(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:s,y=String(p.identifier).toUpperCase();m.has(y)||m.set(y,p)}}),c;function d(p,m){const y=p.type,v=c.handlers[y];if(Pf.call(c.handlers,y)&&v)return v(c,p,m);if(c.options.passThrough&&c.options.passThrough.includes(y)){if("children"in p){const{children:S,...C}=p,T=Zl(C);return T.children=c.all(p),T}return Zl(p)}return(c.options.unknownHandler||qI)(c,p,m)}function f(p){const m=[];if("children"in p){const y=p.children;let v=-1;for(;++v<y.length;){const k=c.one(y[v],p);if(k){if(v&&y[v-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=Wv(k.value)),!Array.isArray(k)&&k.type==="element")){const S=k.children[0];S&&S.type==="text"&&(S.value=Wv(S.value))}Array.isArray(k)?m.push(...k):m.push(k)}}}return m}}function HI(e,t){e.position&&(t.position=Pj(e))}function VI(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,Zl(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function qI(e,t){const n=t.data||{},r="value"in t&&!(Pf.call(n,"hProperties")||Pf.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function YI(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Wv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Hv(e,t){const n=WI(e,t),r=n.one(e,void 0),s=RI(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function KI(e,t){return e&&"run"in e?async function(n,r){const s=Hv(n,{file:r,...t});await e.run(s,r)}:function(n,r){return Hv(n,{file:r,...e||t})}}function Vv(e){if(e)throw e}var Od,qv;function GI(){if(qv)return Od;qv=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},a=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var y;for(y in f);return typeof y>"u"||e.call(f,y)},l=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},c=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return Od=function d(){var f,p,m,y,v,k,S=arguments[0],C=1,T=arguments.length,I=!1;for(typeof S=="boolean"&&(I=S,S=arguments[1]||{},C=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});C<T;++C)if(f=arguments[C],f!=null)for(p in f)m=c(S,p),y=c(f,p),S!==y&&(I&&y&&(a(y)||(v=s(y)))?(v?(v=!1,k=m&&s(m)?m:[]):k=m&&a(m)?m:{},l(S,{name:p,newValue:d(I,k,y)})):typeof y<"u"&&l(S,{name:p,newValue:y}));return S},Od}var JI=GI();const Dd=Ds(JI);function Rf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function QI(){const e=[],t={run:n,use:r};return t;function n(...s){let a=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(d,...f){const p=e[++a];let m=-1;if(d){l(d);return}for(;++m<s.length;)(f[m]===null||f[m]===void 0)&&(f[m]=s[m]);s=f,p?XI(p,c)(...f):l(null,...f)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function XI(e,t){let n;return r;function r(...l){const c=e.length>l.length;let d;c&&l.push(s);try{d=e.apply(this,l)}catch(f){const p=f;if(c&&n)throw p;return s(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,s):d instanceof Error?s(d):a(d))}function s(l,...c){n||(n=!0,t(l,...c))}function a(l){s(null,l)}}const nr={basename:ZI,dirname:eA,extname:tA,join:nA,sep:"/"};function ZI(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');fa(e);let n=0,r=-1,s=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else l<0&&(a=!0,l=s+1),c>-1&&(e.codePointAt(s)===t.codePointAt(c--)?c<0&&(r=s):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function eA(e){if(fa(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function tA(e){fa(e);let t=e.length,n=-1,r=0,s=-1,a=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function nA(...e){let t=-1,n;for(;++t<e.length;)fa(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":rA(n)}function rA(e){fa(e);const t=e.codePointAt(0)===47;let n=iA(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function iA(e,t){let n="",r=0,s=-1,a=0,l=-1,c,d;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=l,a=0;continue}}else if(n.length>0){n="",r=0,s=l,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,l):n=e.slice(s+1,l),r=l-s-1;s=l,a=0}else c===46&&a>-1?a++:a=-1}return n}function fa(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sA={cwd:oA};function oA(){return"/"}function Of(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function aA(e){if(typeof e=="string")e=new URL(e);else if(!Of(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return lA(e)}function lA(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Ld=["history","path","basename","stem","extname","dirname"];class y0{constructor(t){let n;t?Of(t)?n={path:t}:typeof t=="string"||uA(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":sA.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ld.length;){const a=Ld[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)Ld.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?nr.basename(this.path):void 0}set basename(t){$d(t,"basename"),Md(t,"basename"),this.path=nr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?nr.dirname(this.path):void 0}set dirname(t){Yv(this.basename,"dirname"),this.path=nr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?nr.extname(this.path):void 0}set extname(t){if(Md(t,"extname"),Yv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Of(t)&&(t=aA(t)),$d(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?nr.basename(this.path,this.extname):void 0}set stem(t){$d(t,"stem"),Md(t,"stem"),this.path=nr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Mt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Md(e,t){if(e&&e.includes(nr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+nr.sep+"`")}function $d(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Yv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function uA(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const cA=(function(e){const r=this.constructor.prototype,s=r[e],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),dA={}.hasOwnProperty;class gh extends cA{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=QI()}copy(){const t=new gh;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Dd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ud("data",this.frozen),this.namespace[t]=n,this):dA.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ud("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pl(t),r=this.parser||this.Parser;return Fd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Fd("process",this.parser||this.Parser),zd("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){const c=Pl(t),d=r.parse(c);r.run(d,c,function(p,m,y){if(p||!m||!y)return f(p);const v=m,k=r.stringify(v,y);pA(k)?y.value=k:y.result=k,f(p,y)});function f(p,m){p||!m?l(p):a?a(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),Fd("processSync",this.parser||this.Parser),zd("processSync",this.compiler||this.Compiler),this.process(t,s),Gv("processSync","process",n),r;function s(a,l){n=!0,Vv(a),r=l}}run(t,n,r){Kv(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,c){const d=Pl(n);s.run(t,d,f);function f(p,m,y){const v=m||t;p?c(p):l?l(v):r(void 0,v,y)}}}runSync(t,n){let r=!1,s;return this.run(t,n,a),Gv("runSync","run",r),s;function a(l,c){Vv(l),s=c,r=!0}}stringify(t,n){this.freeze();const r=Pl(n),s=this.compiler||this.Compiler;return zd("stringify",s),Kv(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Ud("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(s.settings=Dd(!0,s.settings,f.settings))}function c(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];a(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,y=-1;for(;++m<r.length;)if(r[m][0]===f){y=m;break}if(y===-1)r.push([f,...p]);else if(p.length>0){let[v,...k]=p;const S=r[y][1];Rf(S)&&Rf(v)&&(v=Dd(!0,S,v)),r[y]=[f,v,...k]}}}}const fA=new gh().freeze();function Fd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function zd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ud(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Kv(e){if(!Rf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Gv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pl(e){return hA(e)?e:new y0(e)}function hA(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function pA(e){return typeof e=="string"||mA(e)}function mA(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const gA="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Jv=[],Qv={allowDangerousHtml:!0},vA=/^(https?|ircs?|mailto|xmpp)$/i,yA=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wA(e){const t=xA(e),n=bA(e);return kA(t.runSync(t.parse(n),n),e)}function xA(e){const t=e.rehypePlugins||Jv,n=e.remarkPlugins||Jv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Qv}:Qv;return fA().use(eI).use(n).use(KI,r).use(t)}function bA(e){const t=e.children||"",n=new y0;return typeof t=="string"&&(n.value=t),n}function kA(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,a=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||SA;for(const p of yA)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+gA+p.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),mh(e,f),Mj(e,{Fragment:x.Fragment,components:s,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function f(p,m,y){if(p.type==="raw"&&y&&typeof m=="number")return l?y.children.splice(m,1):y.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let v;for(v in Ad)if(Object.hasOwn(Ad,v)&&Object.hasOwn(p.properties,v)){const k=p.properties[v],S=Ad[v];(S===null||S.includes(p.tagName))&&(p.properties[v]=d(String(k||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):a?a.includes(p.tagName):!1;if(!v&&r&&typeof m=="number"&&(v=!r(p,m,y)),v&&y&&typeof m=="number")return c&&p.children?y.children.splice(m,1,...p.children):y.children.splice(m,1),m}}}function SA(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||vA.test(e.slice(0,t))?e:""}function Xv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function _A(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function EA(e,t,n){const s=_u((n||{}).ignore||[]),a=CA(t);let l=-1;for(;++l<a.length;)v0(e,"text",c);function c(f,p){let m=-1,y;for(;++m<p.length;){const v=p[m],k=y?y.children:void 0;if(s(v,k?k.indexOf(v):void 0,y))return;y=v}if(y)return d(f,p)}function d(f,p){const m=p[p.length-1],y=a[l][0],v=a[l][1];let k=0;const C=m.children.indexOf(f);let T=!1,I=[];y.lastIndex=0;let A=y.exec(f.value);for(;A;){const B=A.index,V={index:A.index,input:A.input,stack:[...p,f]};let D=v(...A,V);if(typeof D=="string"&&(D=D.length>0?{type:"text",value:D}:void 0),D===!1?y.lastIndex=B+1:(k!==B&&I.push({type:"text",value:f.value.slice(k,B)}),Array.isArray(D)?I.push(...D):D&&I.push(D),k=B+A[0].length,T=!0),!y.global)break;A=y.exec(f.value)}return T?(k<f.value.length&&I.push({type:"text",value:f.value.slice(k)}),m.children.splice(C,1,...I)):I=[f],C+I.length}}function CA(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([jA(s[0]),TA(s[1])])}return t}function jA(e){return typeof e=="string"?new RegExp(_A(e),"g"):e}function TA(e){return typeof e=="function"?e:function(){return e}}const Bd="phrasing",Wd=["autolink","link","image","label"];function NA(){return{transforms:[LA],enter:{literalAutolink:AA,literalAutolinkEmail:Hd,literalAutolinkHttp:Hd,literalAutolinkWww:Hd},exit:{literalAutolink:DA,literalAutolinkEmail:OA,literalAutolinkHttp:PA,literalAutolinkWww:RA}}}function IA(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Bd,notInConstruct:Wd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Bd,notInConstruct:Wd},{character:":",before:"[ps]",after:"\\/",inConstruct:Bd,notInConstruct:Wd}]}}function AA(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Hd(e){this.config.enter.autolinkProtocol.call(this,e)}function PA(e){this.config.exit.autolinkProtocol.call(this,e)}function RA(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function OA(e){this.config.exit.autolinkEmail.call(this,e)}function DA(e){this.exit(e)}function LA(e){EA(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,MA],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$A]],{ignore:["link","linkReference"]})}function MA(e,t,n,r,s){let a="";if(!w0(s)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!FA(n)))return!1;const l=zA(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:a+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function $A(e,t,n,r){return!w0(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function FA(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function zA(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=Xv(e,"(");let a=Xv(e,")");for(;r!==-1&&s>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function w0(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Mi(n)||bu(n))&&(!t||n!==47)}x0.peek=GA;function UA(){this.buffer()}function BA(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function WA(){this.buffer()}function HA(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function VA(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qA(e){this.exit(e)}function YA(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function KA(e){this.exit(e)}function GA(){return"["}function x0(e,t,n,r){const s=n.createTracker(r);let a=s.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return a+=s.move(n.safe(n.associationId(e),{after:"]",before:a})),c(),l(),a+=s.move("]"),a}function JA(){return{enter:{gfmFootnoteCallString:UA,gfmFootnoteCall:BA,gfmFootnoteDefinitionLabelString:WA,gfmFootnoteDefinition:HA},exit:{gfmFootnoteCallString:VA,gfmFootnoteCall:qA,gfmFootnoteDefinitionLabelString:YA,gfmFootnoteDefinition:KA}}}function QA(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:x0},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,a,l){const c=a.createTracker(l);let d=c.move("[^");const f=a.enter("footnoteDefinition"),p=a.enter("label");return d+=c.move(a.safe(a.associationId(r),{before:d,after:"]"})),p(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,c.current()),t?b0:XA))),f(),d}}function XA(e,t,n){return t===0?e:b0(e,t,n)}function b0(e,t,n){return(n?"":"    ")+e}const ZA=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];k0.peek=iP;function eP(){return{canContainEols:["delete"],enter:{strikethrough:nP},exit:{strikethrough:rP}}}function tP(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ZA}],handlers:{delete:k0}}}function nP(e){this.enter({type:"delete",children:[]},e)}function rP(e){this.exit(e)}function k0(e,t,n,r){const s=n.createTracker(r),a=n.enter("strikethrough");let l=s.move("~~");return l+=n.containerPhrasing(e,{...s.current(),before:l,after:"~"}),l+=s.move("~~"),a(),l}function iP(){return"~"}function sP(e){return e.length}function oP(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||sP,a=[],l=[],c=[],d=[];let f=0,p=-1;for(;++p<e.length;){const S=[],C=[];let T=-1;for(e[p].length>f&&(f=e[p].length);++T<e[p].length;){const I=aP(e[p][T]);if(n.alignDelimiters!==!1){const A=s(I);C[T]=A,(d[T]===void 0||A>d[T])&&(d[T]=A)}S.push(I)}l[p]=S,c[p]=C}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<f;)a[m]=Zv(r[m]);else{const S=Zv(r);for(;++m<f;)a[m]=S}m=-1;const y=[],v=[];for(;++m<f;){const S=a[m];let C="",T="";S===99?(C=":",T=":"):S===108?C=":":S===114&&(T=":");let I=n.alignDelimiters===!1?1:Math.max(1,d[m]-C.length-T.length);const A=C+"-".repeat(I)+T;n.alignDelimiters!==!1&&(I=C.length+I+T.length,I>d[m]&&(d[m]=I),v[m]=I),y[m]=A}l.splice(1,0,y),c.splice(1,0,v),p=-1;const k=[];for(;++p<l.length;){const S=l[p],C=c[p];m=-1;const T=[];for(;++m<f;){const I=S[m]||"";let A="",B="";if(n.alignDelimiters!==!1){const V=d[m]-(C[m]||0),D=a[m];D===114?A=" ".repeat(V):D===99?V%2?(A=" ".repeat(V/2+.5),B=" ".repeat(V/2-.5)):(A=" ".repeat(V/2),B=A):B=" ".repeat(V)}n.delimiterStart!==!1&&!m&&T.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&I==="")&&(n.delimiterStart!==!1||m)&&T.push(" "),n.alignDelimiters!==!1&&T.push(A),T.push(I),n.alignDelimiters!==!1&&T.push(B),n.padding!==!1&&T.push(" "),(n.delimiterEnd!==!1||m!==f-1)&&T.push("|")}k.push(n.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return k.join(`
`)}function aP(e){return e==null?"":String(e)}function Zv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function lP(e,t,n,r){const s=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const l=n.indentLines(n.containerFlow(e,a.current()),uP);return s(),l}function uP(e,t,n){return">"+(n?"":" ")+e}function cP(e,t){return ey(e,t.inConstruct,!0)&&!ey(e,t.notInConstruct,!1)}function ey(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ty(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&cP(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function dP(e,t){const n=String(e);let r=n.indexOf(t),s=r,a=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++a>l&&(l=a):a=1,s=r+t.length,r=n.indexOf(t,s);return l}function fP(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function hP(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function pP(e,t,n,r){const s=hP(n),a=e.value||"",l=s==="`"?"GraveAccent":"Tilde";if(fP(e,n)){const m=n.enter("codeIndented"),y=n.indentLines(a,mP);return m(),y}const c=n.createTracker(r),d=s.repeat(Math.max(dP(a,s)+1,3)),f=n.enter("codeFenced");let p=c.move(d);if(e.lang){const m=n.enter(`codeFencedLang${l}`);p+=c.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...c.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${l}`);p+=c.move(" "),p+=c.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...c.current()})),m()}return p+=c.move(`
`),a&&(p+=c.move(a+`
`)),p+=c.move(d),f(),p}function mP(e,t,n){return(n?"":"    ")+e}function vh(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function gP(e,t,n,r){const s=vh(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${a}`),f+=d.move(" "+s),f+=d.move(n.safe(e.title,{before:f,after:s,...d.current()})),f+=d.move(s),c()),l(),f}function vP(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ea(e){return"&#x"+e.toString(16).toUpperCase()+";"}function eu(e,t,n){const r=Os(e),s=Os(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}S0.peek=yP;function S0(e,t,n,r){const s=vP(n),a=n.enter("emphasis"),l=n.createTracker(r),c=l.move(s);let d=l.move(n.containerPhrasing(e,{after:s,before:c,...l.current()}));const f=d.charCodeAt(0),p=eu(r.before.charCodeAt(r.before.length-1),f,s);p.inside&&(d=ea(f)+d.slice(1));const m=d.charCodeAt(d.length-1),y=eu(r.after.charCodeAt(0),m,s);y.inside&&(d=d.slice(0,-1)+ea(m));const v=l.move(s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+v}function yP(e,t,n){return n.options.emphasis||"*"}function wP(e,t){let n=!1;return mh(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Af}),!!((!e.depth||e.depth<3)&&lh(e)&&(t.options.setext||n))}function xP(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(wP(e,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),y=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return m(),p(),y+`
`+(s===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const l="#".repeat(s),c=n.enter("headingAtx"),d=n.enter("phrasing");a.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(f)&&(f=ea(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),c(),f}_0.peek=bP;function _0(e){return e.value||""}function bP(){return"<"}E0.peek=kP;function E0(e,t,n,r){const s=vh(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${a}`),f+=d.move(" "+s),f+=d.move(n.safe(e.title,{before:f,after:s,...d.current()})),f+=d.move(s),c()),f+=d.move(")"),l(),f}function kP(){return"!"}C0.peek=SP;function C0(e,t,n,r){const s=e.referenceType,a=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!f||f!==m?d+=c.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function SP(){return"!"}j0.peek=_P;function j0(e,t,n){let r=e.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const l=n.unsafe[a],c=n.compilePattern(l);let d;if(l.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return s+r+s}function _P(){return"`"}function T0(e,t){const n=lh(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}N0.peek=EP;function N0(e,t,n,r){const s=vh(n),a=s==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,d;if(T0(e,n)){const p=n.stack;n.stack=[],c=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(e,{before:m,after:">",...l.current()})),m+=l.move(">"),c(),n.stack=p,m}c=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),d(),e.title&&(d=n.enter(`title${a}`),f+=l.move(" "+s),f+=l.move(n.safe(e.title,{before:f,after:s,...l.current()})),f+=l.move(s),d()),f+=l.move(")"),c(),f}function EP(e,t,n){return T0(e,n)?"<":"["}I0.peek=CP;function I0(e,t,n,r){const s=e.referenceType,a=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!f||f!==m?d+=c.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function CP(){return"["}function yh(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function jP(e){const t=yh(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function TP(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function A0(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function NP(e,t,n,r){const s=n.enter("list"),a=n.bulletCurrent;let l=e.ordered?TP(n):yh(n);const c=e.ordered?l==="."?")":".":jP(n);let d=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),A0(n)===l&&p){let m=-1;for(;++m<e.children.length;){const y=e.children[m];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=a,s(),f}function IP(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function AP(e,t,n,r){const s=IP(n);let a=n.bulletCurrent||yh(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let l=a.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(a+" ".repeat(l-a.length)),c.shift(l);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),p);return d(),f;function p(m,y,v){return y?(v?"":" ".repeat(l))+m:(v?a:a+" ".repeat(l-a.length))+m}}function PP(e,t,n,r){const s=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(e,r);return a(),s(),l}const RP=_u(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function OP(e,t,n,r){return(e.children.some(function(l){return RP(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function DP(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}P0.peek=LP;function P0(e,t,n,r){const s=DP(n),a=n.enter("strong"),l=n.createTracker(r),c=l.move(s+s);let d=l.move(n.containerPhrasing(e,{after:s,before:c,...l.current()}));const f=d.charCodeAt(0),p=eu(r.before.charCodeAt(r.before.length-1),f,s);p.inside&&(d=ea(f)+d.slice(1));const m=d.charCodeAt(d.length-1),y=eu(r.after.charCodeAt(0),m,s);y.inside&&(d=d.slice(0,-1)+ea(m));const v=l.move(s+s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+v}function LP(e,t,n){return n.options.strong||"*"}function MP(e,t,n,r){return n.safe(e.value,r)}function $P(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function FP(e,t,n){const r=(A0(n)+(n.options.ruleSpaces?" ":"")).repeat($P(n));return n.options.ruleSpaces?r.slice(0,-1):r}const R0={blockquote:lP,break:ty,code:pP,definition:gP,emphasis:S0,hardBreak:ty,heading:xP,html:_0,image:E0,imageReference:C0,inlineCode:j0,link:N0,linkReference:I0,list:NP,listItem:AP,paragraph:PP,root:OP,strong:P0,text:MP,thematicBreak:FP};function zP(){return{enter:{table:UP,tableData:ny,tableHeader:ny,tableRow:WP},exit:{codeText:HP,table:BP,tableData:Vd,tableHeader:Vd,tableRow:Vd}}}function UP(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function BP(e){this.exit(e),this.data.inTable=void 0}function WP(e){this.enter({type:"tableRow",children:[]},e)}function Vd(e){this.exit(e)}function ny(e){this.enter({type:"tableCell",children:[]},e)}function HP(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,VP));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function VP(e,t){return t==="|"?t:e}function qP(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:l,tableCell:d,tableRow:c}};function l(v,k,S,C){return f(p(v,S,C),v.align)}function c(v,k,S,C){const T=m(v,S,C),I=f([T]);return I.slice(0,I.indexOf(`
`))}function d(v,k,S,C){const T=S.enter("tableCell"),I=S.enter("phrasing"),A=S.containerPhrasing(v,{...C,before:a,after:a});return I(),T(),A}function f(v,k){return oP(v,{align:k,alignDelimiters:r,padding:n,stringLength:s})}function p(v,k,S){const C=v.children;let T=-1;const I=[],A=k.enter("table");for(;++T<C.length;)I[T]=m(C[T],k,S);return A(),I}function m(v,k,S){const C=v.children;let T=-1;const I=[],A=k.enter("tableRow");for(;++T<C.length;)I[T]=d(C[T],v,k,S);return A(),I}function y(v,k,S){let C=R0.inlineCode(v,k,S);return S.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function YP(){return{exit:{taskListCheckValueChecked:ry,taskListCheckValueUnchecked:ry,paragraph:GP}}}function KP(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:JP}}}function ry(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function GP(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let a=-1,l;for(;++a<s.length;){const c=s[a];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function JP(e,t,n,r){const s=e.children[0],a=typeof e.checked=="boolean"&&s&&s.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);a&&c.move(l);let d=R0.listItem(e,t,n,{...r,...c.current()});return a&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(p){return p+l}}function QP(){return[NA(),JA(),eP(),zP(),YP()]}function XP(e){return{extensions:[IA(),QA(e),tP(),qP(e),KP()]}}const ZP={tokenize:sR,partial:!0},O0={tokenize:oR,partial:!0},D0={tokenize:aR,partial:!0},L0={tokenize:lR,partial:!0},eR={tokenize:uR,partial:!0},M0={name:"wwwAutolink",tokenize:rR,previous:F0},$0={name:"protocolAutolink",tokenize:iR,previous:z0},Cr={name:"emailAutolink",tokenize:nR,previous:U0},or={};function tR(){return{text:or}}let ji=48;for(;ji<123;)or[ji]=Cr,ji++,ji===58?ji=65:ji===91&&(ji=97);or[43]=Cr;or[45]=Cr;or[46]=Cr;or[95]=Cr;or[72]=[Cr,$0];or[104]=[Cr,$0];or[87]=[Cr,M0];or[119]=[Cr,M0];function nR(e,t,n){const r=this;let s,a;return l;function l(m){return!Df(m)||!U0.call(r,r.previous)||wh(r.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(m))}function c(m){return Df(m)?(e.consume(m),c):m===64?(e.consume(m),d):n(m)}function d(m){return m===46?e.check(eR,p,f)(m):m===45||m===95||Lt(m)?(a=!0,e.consume(m),d):p(m)}function f(m){return e.consume(m),s=!0,d}function p(m){return a&&s&&Ut(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function rR(e,t,n){const r=this;return s;function s(l){return l!==87&&l!==119||!F0.call(r,r.previous)||wh(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ZP,e.attempt(O0,e.attempt(D0,a),n),n)(l))}function a(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function iR(e,t,n){const r=this;let s="",a=!1;return l;function l(m){return(m===72||m===104)&&z0.call(r,r.previous)&&!wh(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(m),e.consume(m),c):n(m)}function c(m){if(Ut(m)&&s.length<5)return s+=String.fromCodePoint(m),e.consume(m),c;if(m===58){const y=s.toLowerCase();if(y==="http"||y==="https")return e.consume(m),d}return n(m)}function d(m){return m===47?(e.consume(m),a?f:(a=!0,d)):n(m)}function f(m){return m===null||Ql(m)||He(m)||Mi(m)||bu(m)?n(m):e.attempt(O0,e.attempt(D0,p),n)(m)}function p(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function sR(e,t,n){let r=0;return s;function s(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),s):l===46&&r===3?(e.consume(l),a):n(l)}function a(l){return l===null?n(l):t(l)}}function oR(e,t,n){let r,s,a;return l;function l(f){return f===46||f===95?e.check(L0,d,c)(f):f===null||He(f)||Mi(f)||f!==45&&bu(f)?d(f):(a=!0,e.consume(f),l)}function c(f){return f===95?r=!0:(s=r,r=void 0),e.consume(f),l}function d(f){return s||r||!a?n(f):t(f)}}function aR(e,t){let n=0,r=0;return s;function s(l){return l===40?(n++,e.consume(l),s):l===41&&r<n?a(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(L0,t,a)(l):l===null||He(l)||Mi(l)?t(l):(e.consume(l),s)}function a(l){return l===41&&r++,e.consume(l),s}}function lR(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),a):c===93?(e.consume(c),s):c===60||c===null||He(c)||Mi(c)?t(c):n(c)}function s(c){return c===null||c===40||c===91||He(c)||Mi(c)?t(c):r(c)}function a(c){return Ut(c)?l(c):n(c)}function l(c){return c===59?(e.consume(c),r):Ut(c)?(e.consume(c),l):n(c)}}function uR(e,t,n){return r;function r(a){return e.consume(a),s}function s(a){return Lt(a)?n(a):t(a)}}function F0(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||He(e)}function z0(e){return!Ut(e)}function U0(e){return!(e===47||Df(e))}function Df(e){return e===43||e===45||e===46||e===95||Lt(e)}function wh(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const cR={tokenize:yR,partial:!0};function dR(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:mR,continuation:{tokenize:gR},exit:vR}},text:{91:{name:"gfmFootnoteCall",tokenize:pR},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:fR,resolveTo:hR}}}}function fR(e,t,n){const r=this;let s=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;s--;){const d=r.events[s][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!l||!l._balanced)return n(d);const f=Wn(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!a.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function hR(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function pR(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,l;return c;function c(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),d}function d(m){return m!==94?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(m){if(a>999||m===93&&!l||m===null||m===91||He(m))return n(m);if(m===93){e.exit("chunkString");const y=e.exit("gfmFootnoteCallString");return s.includes(Wn(r.sliceSerialize(y)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return He(m)||(l=!0),a++,e.consume(m),m===92?p:f}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,f):f(m)}}function mR(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,l=0,c;return d;function d(k){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(k){return k===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(k)}function p(k){if(l>999||k===93&&!c||k===null||k===91||He(k))return n(k);if(k===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return a=Wn(r.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),y}return He(k)||(c=!0),l++,e.consume(k),k===92?m:p}function m(k){return k===91||k===92||k===93?(e.consume(k),l++,p):p(k)}function y(k){return k===58?(e.enter("definitionMarker"),e.consume(k),e.exit("definitionMarker"),s.includes(a)||s.push(a),De(e,v,"gfmFootnoteDefinitionWhitespace")):n(k)}function v(k){return t(k)}}function gR(e,t,n){return e.check(da,t,e.attempt(cR,t,n))}function vR(e){e.exit("gfmFootnoteDefinition")}function yR(e,t,n){const r=this;return De(e,s,"gfmFootnoteDefinitionIndent",5);function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(a):n(a)}}function wR(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(l,c){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let f=d;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[d][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[d][1].end)},m={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[d][1].start)},y=[["enter",p,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",m,c]],v=c.parser.constructs.insideSpan.null;v&&fn(y,y.length,0,ku(v,l.slice(f+1,d),c)),fn(y,y.length,0,[["exit",m,c],["enter",l[d][1],c],["exit",l[d][1],c],["exit",p,c]]),fn(l,f-1,d-f+3,y),d=f+y.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function a(l,c,d){const f=this.previous,p=this.events;let m=0;return y;function y(k){return f===126&&p[p.length-1][1].type!=="characterEscape"?d(k):(l.enter("strikethroughSequenceTemporary"),v(k))}function v(k){const S=Os(f);if(k===126)return m>1?d(k):(l.consume(k),m++,v);if(m<2&&!n)return d(k);const C=l.exit("strikethroughSequenceTemporary"),T=Os(k);return C._open=!T||T===2&&!!S,C._close=!S||S===2&&!!T,c(k)}}}class xR{constructor(){this.map=[]}add(t,n,r){bR(this,t,n,r)}consume(t){if(this.map.sort(function(a,l){return a[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const a of s)t.push(a);s=r.pop()}this.map.length=0}}function bR(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function kR(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function SR(){return{flow:{null:{name:"table",tokenize:_R,resolveAll:ER}}}}function _R(e,t,n){const r=this;let s=0,a=0,l;return c;function c(M){let $=r.events.length-1;for(;$>-1;){const O=r.events[$][1].type;if(O==="lineEnding"||O==="linePrefix")$--;else break}const Z=$>-1?r.events[$][1].type:null,K=Z==="tableHead"||Z==="tableRow"?D:d;return K===D&&r.parser.lazy[r.now().line]?n(M):K(M)}function d(M){return e.enter("tableHead"),e.enter("tableRow"),f(M)}function f(M){return M===124||(l=!0,a+=1),p(M)}function p(M){return M===null?n(M):Ee(M)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),v):n(M):Re(M)?De(e,p,"whitespace")(M):(a+=1,l&&(l=!1,s+=1),M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),l=!0,p):(e.enter("data"),m(M)))}function m(M){return M===null||M===124||He(M)?(e.exit("data"),p(M)):(e.consume(M),M===92?y:m)}function y(M){return M===92||M===124?(e.consume(M),m):m(M)}function v(M){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(M):(e.enter("tableDelimiterRow"),l=!1,Re(M)?De(e,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):k(M))}function k(M){return M===45||M===58?C(M):M===124?(l=!0,e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),S):V(M)}function S(M){return Re(M)?De(e,C,"whitespace")(M):C(M)}function C(M){return M===58?(a+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),T):M===45?(a+=1,T(M)):M===null||Ee(M)?B(M):V(M)}function T(M){return M===45?(e.enter("tableDelimiterFiller"),I(M)):V(M)}function I(M){return M===45?(e.consume(M),I):M===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(M))}function A(M){return Re(M)?De(e,B,"whitespace")(M):B(M)}function B(M){return M===124?k(M):M===null||Ee(M)?!l||s!==a?V(M):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(M)):V(M)}function V(M){return n(M)}function D(M){return e.enter("tableRow"),Q(M)}function Q(M){return M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),Q):M===null||Ee(M)?(e.exit("tableRow"),t(M)):Re(M)?De(e,Q,"whitespace")(M):(e.enter("data"),re(M))}function re(M){return M===null||M===124||He(M)?(e.exit("data"),Q(M)):(e.consume(M),M===92?se:re)}function se(M){return M===92||M===124?(e.consume(M),re):re(M)}}function ER(e,t){let n=-1,r=!0,s=0,a=[0,0,0,0],l=[0,0,0,0],c=!1,d=0,f,p,m;const y=new xR;for(;++n<e.length;){const v=e[n],k=v[1];v[0]==="enter"?k.type==="tableHead"?(c=!1,d!==0&&(iy(y,t,d,f,p),p=void 0,d=0),f={type:"table",start:Object.assign({},k.start),end:Object.assign({},k.end)},y.add(n,0,[["enter",f,t]])):k.type==="tableRow"||k.type==="tableDelimiterRow"?(r=!0,m=void 0,a=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,p={type:"tableBody",start:Object.assign({},k.start),end:Object.assign({},k.end)},y.add(n,0,[["enter",p,t]])),s=k.type==="tableDelimiterRow"?2:p?3:1):s&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(a[1]!==0&&(l[0]=l[1],m=Rl(y,t,a,s,void 0,m),a=[0,0,0,0]),l[2]=n)):k.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(l[0]=l[1],m=Rl(y,t,a,s,void 0,m)),a=l,l=[a[1],n,0,0])):k.type==="tableHead"?(c=!0,d=n):k.type==="tableRow"||k.type==="tableDelimiterRow"?(d=n,a[1]!==0?(l[0]=l[1],m=Rl(y,t,a,s,n,m)):l[1]!==0&&(m=Rl(y,t,l,s,n,m)),s=0):s&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")&&(l[3]=n)}for(d!==0&&iy(y,t,d,f,p),y.consume(t.events),n=-1;++n<t.events.length;){const v=t.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=kR(t.events,n))}return e}function Rl(e,t,n,r,s,a){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(a.end=Object.assign({},js(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const d=js(t.events,n[1]);if(a={type:l,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const f=js(t.events,n[2]),p=js(t.events,n[3]),m={type:c,start:Object.assign({},f),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",m,t]]),r!==2){const y=t.events[n[2]],v=t.events[n[3]];if(y[1].end=Object.assign({},v[1].end),y[1].type="chunkText",y[1].contentType="text",n[3]>n[2]+1){const k=n[2]+1,S=n[3]-n[2]-1;e.add(k,S,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return s!==void 0&&(a.end=Object.assign({},js(t.events,s)),e.add(s,0,[["exit",a,t]]),a=void 0),a}function iy(e,t,n,r,s){const a=[],l=js(t.events,n);s&&(s.end=Object.assign({},l),a.push(["exit",s,t])),r.end=Object.assign({},l),a.push(["exit",r,t]),e.add(n+1,0,a)}function js(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const CR={name:"tasklistCheck",tokenize:TR};function jR(){return{text:{91:CR}}}function TR(e,t,n){const r=this;return s;function s(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),a)}function a(d){return He(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),l):n(d)}function l(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return Ee(d)?t(d):Re(d)?e.check({tokenize:NR},t,n)(d):n(d)}}function NR(e,t,n){return De(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function IR(e){return Xw([tR(),dR(),wR(e),SR(),jR()])}const AR={};function PR(e){const t=this,n=e||AR,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(IR(n)),a.push(QP()),l.push(XP(n))}const RR={a:e=>x.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:"_blank",rel:"noreferrer"})};function ta({content:e}){return e?x.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:x.jsx(wA,{remarkPlugins:[PR],components:RR,children:e})}):null}function sy(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\d+(\.\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\d+:)+\d+$/.test(t)){const r=t.split(":").map(s=>Number(s));return r.some(s=>Number.isNaN(s))?null:r.reduce((s,a)=>s*60+a,0)}const n=t.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,s=n[2]?Number(n[2]):0,a=n[3]?Number(n[3]):0;if(r||s||a)return r*3600+s*60+a}return null}function OR(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const s=new URL(`https://www.youtube-nocookie.com/embed/${r}`),a=sy(t.searchParams.get("start")??t.searchParams.get("t"));a!==null&&s.searchParams.set("start",String(a));const l=sy(t.searchParams.get("end"));l!==null&&s.searchParams.set("end",String(l));const c=t.searchParams.get("list");return c&&s.searchParams.set("list",c),s.toString()}catch{return null}}function xh({url:e,title:t,maxWidth:n=300,className:r}){const s=e.trim();if(!s)return null;const a=OR(s);return a?x.jsx("div",{className:Xe("flex w-full justify-center",r),children:x.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:x.jsx("iframe",{src:a,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):x.jsx("div",{className:Xe("flex w-full justify-center",r),children:x.jsx("a",{href:s,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function tu(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return tu(t,t);const s=Number(r[1]),a=Number(r[2]);return Number.isNaN(s)||Number.isNaN(a)?tu(t,t):(s*60+a)%1440}function Lf(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,s=n.toString().padStart(2,"0"),a=r.toString().padStart(2,"0");return`${s}:${a}`}const DR={present:"Presente",absent:"Ausente",pending:"Pendiente"},LR={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},MR=["present","absent"],$R={present:"Han venido",absent:"Faltan"},FR={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},zR="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",UR="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",BR="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",WR="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",HR="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",VR="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",qR=[];function YR(e){return Be(e).locale("es").format("dddd, D [de] MMMM")}function KR(){const e=Ne(L=>L.sessions),t=Ne(L=>L.works),n=Ne(L=>L.objectives),r=Ne(L=>L.assistants),s=Ne(L=>L.setAttendanceActualStatus),a=Ne(L=>L.toggleSessionWorkCompletion),[l,c]=E.useState(new Set),d=E.useMemo(()=>[...e].sort((L,U)=>Be(L.date).valueOf()-Be(U.date).valueOf()),[e]),f=Be().format("YYYY-MM-DD"),p=E.useMemo(()=>d.find(L=>L.date>=f)??d[d.length-1],[d,f]),[m,y]=E.useState(p==null?void 0:p.id);E.useEffect(()=>{!m&&p&&y(p.id)},[m,p]);const v=E.useMemo(()=>d.find(L=>L.id===m)??p,[d,m,p]),k=E.useMemo(()=>new Map(n.map(U=>[U.id,U])),[n]),S=E.useMemo(()=>new Map(t.map(U=>[U.id,U])),[t]),C=E.useMemo(()=>tu(v==null?void 0:v.startTime,"18:30"),[v==null?void 0:v.startTime]),T=E.useMemo(()=>{if(!v)return new Map;let L=0;const U=new Map;return v.workItems.forEach(W=>{const Y=S.get(W.workId),b=W.customDurationMinutes??(Y==null?void 0:Y.estimatedMinutes)??0,N=Lf(C+L);U.set(W.id,{startLabel:N,duration:b}),L+=b}),U},[v,S,C]),I=E.useMemo(()=>r.filter(L=>L.active).slice().sort((L,U)=>L.name.localeCompare(U.name,"es",{sensitivity:"base"})),[r]),A=(v==null?void 0:v.attendance)??qR,B=E.useMemo(()=>{const L=new Map;A.forEach(Y=>{L.set(Y.assistantId,Y)});let U=0;I.forEach(Y=>{var b;((b=L.get(Y.id))==null?void 0:b.actualStatus)==="present"&&(U+=1)});const W={present:U,absent:Math.max(I.length-U,0)};return{map:L,summary:W}},[A,I]),V=B.map,D=B.summary,Q=v?d.findIndex(L=>L.id===v.id):-1,re=Q>0,se=Q>=0&&Q<d.length-1,M=()=>{re&&y(d[Q-1].id)},$=()=>{se&&y(d[Q+1].id)},Z=L=>{const U=L.target.value;if(!U)return;const W=d.find(Y=>Y.date===U);W&&y(W.id)},K=d.length===0,O=L=>{c(U=>{const W=new Set(U);return W.has(L)?W.delete(L):W.add(L),W})},F=(L,U)=>{v&&s(v.id,L,U)};return x.jsxs("div",{className:"space-y-3 sm:space-y-6",children:[K&&x.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[x.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:x.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:x.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:"Todavía no hay sesiones"}),x.jsx("p",{className:"max-w-md text-balance text-white/60",children:"Usa el planificador para crear tu primera sesión. Una vez guardada aparecerá aquí automáticamente."})]}),x.jsx(_s,{to:"/plan",className:"btn-primary",children:"Planificar sesión"})]}),v&&!K&&x.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[x.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[x.jsx("span",{className:"sm:hidden",children:"Sesión"}),x.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),x.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:YR(v.date)}),x.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:v.title})]}),x.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[x.jsxs("div",{className:"flex items-center justify-between gap-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"Duración estimada"}),x.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[v.workItems.map(L=>{const U=S.get(L.workId);return L.customDurationMinutes??(U==null?void 0:U.estimatedMinutes)??0}).reduce((L,U)=>L+U,0)||0," ","min"]})]}),x.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[x.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),x.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:(v==null?void 0:v.date)??f,onChange:Z})]})]})]}),x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx("button",{type:"button",onClick:M,disabled:!re,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"← Anterior"}),x.jsx("button",{type:"button",onClick:$,disabled:!se,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente →"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx(_s,{to:"/plan",className:"btn-primary h-9 rounded-2xl px-4 text-xs font-semibold sm:h-10 sm:text-sm",children:"Abrir planificador"}),x.jsx(_s,{to:`/plan?session=${v.id}`,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",children:"Editar sesión"})]})]}),v.description&&x.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:x.jsx(ta,{content:v.description})}),x.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[x.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),x.jsx("div",{className:"space-y-3 sm:space-y-4",children:v.workItems.map(L=>{const U=S.get(L.workId),W=U?k.get(U.objectiveId):void 0,Y=l.has(L.id),b=T.get(L.id),N=(b==null?void 0:b.startLabel)??Lf(C),P=(b==null?void 0:b.duration)??L.customDurationMinutes??(U==null?void 0:U.estimatedMinutes)??0,_=(L.focusLabel??"").trim(),G=_.length>0,ee=L.customDescriptionMarkdown??(U==null?void 0:U.descriptionMarkdown)??"",te=ee.trim().length>0,de=((U==null?void 0:U.videoUrls)??[]).map(he=>he.trim()).filter(Boolean),fe=de.length>0,pe=te||fe;return x.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:W?{background:`linear-gradient(120deg, ${W.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:x.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:L.completed??!1,onChange:he=>a(v.id,L.id,he.target.checked)})}),x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"text-lg font-semibold text-white",children:[(U==null?void 0:U.name)??"Trabajo eliminado",G?x.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",_]}):null]}),x.jsxs("p",{className:"text-sm text-white/60",children:[x.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:N}),x.jsx("span",{className:"mx-2 text-white/30",children:"·"}),x.jsxs("span",{children:[P," min"]})]})]}),x.jsx(kr,{objective:W,size:"sm"})]}),(pe||fe)&&x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[pe?x.jsxs("button",{type:"button",onClick:()=>O(L.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:Xe("transition-transform",Y?"rotate-90":"rotate-0"),children:"▶"}),Y?"Ocultar detalles":"Ver detalles"]}):null,fe?x.jsxs("span",{children:[de.length," vídeo",de.length>1?"s":""]}):null]})]}),x.jsx("div",{className:Xe("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",L.completed?"bg-white/20 text-white":""),children:L.order+1})]}),pe&&Y&&x.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[te?x.jsx(ta,{content:ee}):null,fe?x.jsx("div",{className:"space-y-3",children:de.map((he,Ae)=>x.jsxs("div",{className:"space-y-2",children:[x.jsx(xh,{url:he,title:`${(U==null?void 0:U.name)??"Trabajo"} vídeo ${Ae+1}`}),x.jsx("a",{href:he,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${L.id}-video-${Ae}`))}):null]})]},L.id)})})]}),r.length===0?x.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"¿Quiénes participan?"}),x.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quién ha venido a clase en tiempo real."}),x.jsx(_s,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):I.length===0?x.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes están inactivos."}),x.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la sección de asistentes para poder marcar su asistencia."}),x.jsx(_s,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):x.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),x.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quién está presente en la sesión actual."})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:MR.map(L=>x.jsxs("span",{className:Xe("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",FR[L]),children:[D[L]," ",$R[L]]},L))})]}),x.jsx("div",{className:"space-y-2",children:I.map(L=>{const U=V.get(L.id),W=(U==null?void 0:U.status)??"pending",Y=(U==null?void 0:U.actualStatus)==="present",b=()=>F(L.id,Y?"absent":"present");return x.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:L.name}),x.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsión"}),x.jsx("span",{className:Xe("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",LR[W]),children:DR[W]}),x.jsx("span",{className:"hidden text-white/30 sm:inline",children:"·"}),x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),x.jsx("span",{className:Xe("font-semibold",Y?"text-emerald-200":"text-white/60"),children:Y?"Presente":"No asistió"})]})]}),x.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[x.jsxs("button",{type:"button",onClick:b,"aria-pressed":Y,"aria-label":`${Y?"Desmarcar asistencia de":"Marcar asistencia de"} ${L.name}`,title:Y?"Desmarcar asistencia":"Marcar como presente",className:Xe(zR,Y?UR:BR),children:[x.jsx("span",{className:Xe(WR,Y?HR:VR),children:Y?x.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:x.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):x.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),x.jsx("span",{children:Y?"Ha asistido":"Marcar asistencia"})]}),x.jsx("span",{className:Xe("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",Y?"text-emerald-200":"text-white/40"),children:Y?"PRESENTE":"AUSENTE"})]})]})},L.id)})})]})]})]})}function GR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const Cu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Us(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function bh(e){return"nodeType"in e}function tn(e){var t,n;return e?Us(e)?e:bh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function kh(e){const{Document:t}=tn(e);return e instanceof t}function ha(e){return Us(e)?!1:e instanceof tn(e).HTMLElement}function B0(e){return e instanceof tn(e).SVGElement}function Bs(e){return e?Us(e)?e.document:bh(e)?kh(e)?e:ha(e)||B0(e)?e.ownerDocument:document:document:document}const ir=Cu?E.useLayoutEffect:E.useEffect;function Sh(e){const t=E.useRef(e);return ir(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function JR(){const e=E.useRef(null),t=E.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=E.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function na(e,t){t===void 0&&(t=[e]);const n=E.useRef(e);return ir(()=>{n.current!==e&&(n.current=e)},t),n}function pa(e,t){const n=E.useRef();return E.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function nu(e){const t=Sh(e),n=E.useRef(null),r=E.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Mf(e){const t=E.useRef();return E.useEffect(()=>{t.current=e},[e]),t.current}let qd={};function ma(e,t){return E.useMemo(()=>{if(t)return t;const n=qd[e]==null?0:qd[e]+1;return qd[e]=n,e+"-"+n},[e,t])}function W0(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const c=Object.entries(l);for(const[d,f]of c){const p=a[d];p!=null&&(a[d]=p+e*f)}return a},{...t})}}const As=W0(1),ru=W0(-1);function QR(e){return"clientX"in e&&"clientY"in e}function _h(e){if(!e)return!1;const{KeyboardEvent:t}=tn(e.target);return t&&e instanceof t}function XR(e){if(!e)return!1;const{TouchEvent:t}=tn(e.target);return t&&e instanceof t}function $f(e){if(XR(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return QR(e)?{x:e.clientX,y:e.clientY}:null}const ra=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ra.Translate.toString(e),ra.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),oy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZR(e){return e.matches(oy)?e:e.querySelector(oy)}const eO={display:"none"};function tO(e){let{id:t,value:n}=e;return ye.createElement("div",{id:t,style:eO},n)}function nO(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ye.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function rO(){const[e,t]=E.useState("");return{announce:E.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const H0=E.createContext(null);function iO(e){const t=E.useContext(H0);E.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function sO(){const[e]=E.useState(()=>new Set),t=E.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[E.useCallback(r=>{let{type:s,event:a}=r;e.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,a)})},[e]),t]}const oO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},aO={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function lO(e){let{announcements:t=aO,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=oO}=e;const{announce:a,announcement:l}=rO(),c=ma("DndLiveRegion"),[d,f]=E.useState(!1);if(E.useEffect(()=>{f(!0)},[]),iO(E.useMemo(()=>({onDragStart(m){let{active:y}=m;a(t.onDragStart({active:y}))},onDragMove(m){let{active:y,over:v}=m;t.onDragMove&&a(t.onDragMove({active:y,over:v}))},onDragOver(m){let{active:y,over:v}=m;a(t.onDragOver({active:y,over:v}))},onDragEnd(m){let{active:y,over:v}=m;a(t.onDragEnd({active:y,over:v}))},onDragCancel(m){let{active:y,over:v}=m;a(t.onDragCancel({active:y,over:v}))}}),[a,t])),!d)return null;const p=ye.createElement(ye.Fragment,null,ye.createElement(tO,{id:r,value:s.draggable}),ye.createElement(nO,{id:c,announcement:l}));return n?Ts.createPortal(p,n):p}var yt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(yt||(yt={}));function iu(){}const Hn=Object.freeze({x:0,y:0});function uO(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function cO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function dO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function fO(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function ay(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const hO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=ay(t,t.left,t.top),a=[];for(const l of r){const{id:c}=l,d=n.get(c);if(d){const f=uO(ay(d),s);a.push({id:c,data:{droppableContainer:l,value:f}})}}return a.sort(cO)};function pO(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),l=s-r,c=a-n;if(r<s&&n<a){const d=t.width*t.height,f=e.width*e.height,p=l*c,m=p/(d+f-p);return Number(m.toFixed(4))}return 0}const mO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const d=pO(c,t);d>0&&s.push({id:l,data:{droppableContainer:a,value:d}})}}return s.sort(dO)};function gO(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function V0(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Hn}function vO(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,c)=>({...l,top:l.top+e*c.y,bottom:l.bottom+e*c.y,left:l.left+e*c.x,right:l.right+e*c.x}),{...n})}}const yO=vO(1);function wO(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function xO(e,t,n){const r=wO(t);if(!r)return e;const{scaleX:s,scaleY:a,x:l,y:c}=r,d=e.left-l-(1-s)*parseFloat(n),f=e.top-c-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,m=a?e.height/a:e.height;return{width:p,height:m,top:f,right:d+p,bottom:f+m,left:d}}const bO={ignoreTransform:!1};function Ws(e,t){t===void 0&&(t=bO);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:p}=tn(e).getComputedStyle(e);f&&(n=xO(n,f,p))}const{top:r,left:s,width:a,height:l,bottom:c,right:d}=n;return{top:r,left:s,width:a,height:l,bottom:c,right:d}}function ly(e){return Ws(e,{ignoreTransform:!0})}function kO(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function SO(e,t){return t===void 0&&(t=tn(e).getComputedStyle(e)),t.position==="fixed"}function _O(e,t){t===void 0&&(t=tn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?n.test(a):!1})}function Eh(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(kh(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!ha(s)||B0(s)||n.includes(s))return n;const a=tn(e).getComputedStyle(s);return s!==e&&_O(s,a)&&n.push(s),SO(s,a)?n:r(s.parentNode)}return e?r(e):n}function q0(e){const[t]=Eh(e,1);return t??null}function Yd(e){return!Cu||!e?null:Us(e)?e:bh(e)?kh(e)||e===Bs(e).scrollingElement?window:ha(e)?e:null:null}function Y0(e){return Us(e)?e.scrollX:e.scrollLeft}function K0(e){return Us(e)?e.scrollY:e.scrollTop}function Ff(e){return{x:Y0(e),y:K0(e)}}var St;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(St||(St={}));function G0(e){return!Cu||!e?!1:e===document.scrollingElement}function J0(e){const t={x:0,y:0},n=G0(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,c=e.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:c,maxScroll:r,minScroll:t}}const EO={x:.2,y:.2};function CO(e,t,n,r,s){let{top:a,left:l,right:c,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=EO);const{isTop:f,isBottom:p,isLeft:m,isRight:y}=J0(e),v={x:0,y:0},k={x:0,y:0},S={height:t.height*s.y,width:t.width*s.x};return!f&&a<=t.top+S.height?(v.y=St.Backward,k.y=r*Math.abs((t.top+S.height-a)/S.height)):!p&&d>=t.bottom-S.height&&(v.y=St.Forward,k.y=r*Math.abs((t.bottom-S.height-d)/S.height)),!y&&c>=t.right-S.width?(v.x=St.Forward,k.x=r*Math.abs((t.right-S.width-c)/S.width)):!m&&l<=t.left+S.width&&(v.x=St.Backward,k.x=r*Math.abs((t.left+S.width-l)/S.width)),{direction:v,speed:k}}function jO(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Q0(e){return e.reduce((t,n)=>As(t,Ff(n)),Hn)}function TO(e){return e.reduce((t,n)=>t+Y0(n),0)}function NO(e){return e.reduce((t,n)=>t+K0(n),0)}function IO(e,t){if(t===void 0&&(t=Ws),!e)return;const{top:n,left:r,bottom:s,right:a}=t(e);q0(e)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const AO=[["x",["left","right"],TO],["y",["top","bottom"],NO]];class Ch{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Eh(n),s=Q0(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,l,c]of AO)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=c(r),p=s[a]-f;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class qo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function PO(e){const{EventTarget:t}=tn(e);return e instanceof t?e:Bs(e)}function Kd(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var En;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(En||(En={}));function uy(e){e.preventDefault()}function RO(e){e.stopPropagation()}var $e;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($e||($e={}));const X0={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter,$e.Tab]},OO=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case $e.Right:return{...n,x:n.x+25};case $e.Left:return{...n,x:n.x-25};case $e.Down:return{...n,y:n.y+25};case $e.Up:return{...n,y:n.y-25}}};class Z0{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new qo(Bs(n)),this.windowListeners=new qo(tn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(En.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&IO(r),n(Hn)}handleKeyDown(t){if(_h(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=X0,coordinateGetter:l=OO,scrollBehavior:c="smooth"}=s,{code:d}=t;if(a.end.includes(d)){this.handleEnd(t);return}if(a.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:Hn;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(t,{active:n,context:r.current,currentCoordinates:p});if(m){const y=ru(m,p),v={x:0,y:0},{scrollableAncestors:k}=r.current;for(const S of k){const C=t.code,{isTop:T,isRight:I,isLeft:A,isBottom:B,maxScroll:V,minScroll:D}=J0(S),Q=jO(S),re={x:Math.min(C===$e.Right?Q.right-Q.width/2:Q.right,Math.max(C===$e.Right?Q.left:Q.left+Q.width/2,m.x)),y:Math.min(C===$e.Down?Q.bottom-Q.height/2:Q.bottom,Math.max(C===$e.Down?Q.top:Q.top+Q.height/2,m.y))},se=C===$e.Right&&!I||C===$e.Left&&!A,M=C===$e.Down&&!B||C===$e.Up&&!T;if(se&&re.x!==m.x){const $=S.scrollLeft+y.x,Z=C===$e.Right&&$<=V.x||C===$e.Left&&$>=D.x;if(Z&&!y.y){S.scrollTo({left:$,behavior:c});return}Z?v.x=S.scrollLeft-$:v.x=C===$e.Right?S.scrollLeft-V.x:S.scrollLeft-D.x,v.x&&S.scrollBy({left:-v.x,behavior:c});break}else if(M&&re.y!==m.y){const $=S.scrollTop+y.y,Z=C===$e.Down&&$<=V.y||C===$e.Up&&$>=D.y;if(Z&&!y.x){S.scrollTo({top:$,behavior:c});return}Z?v.y=S.scrollTop-$:v.y=C===$e.Down?S.scrollTop-V.y:S.scrollTop-D.y,v.y&&S.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(t,As(ru(m,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Z0.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=X0,onActivation:s}=t,{active:a}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const c=a.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function cy(e){return!!(e&&"distance"in e)}function dy(e){return!!(e&&"delay"in e)}class jh{constructor(t,n,r){var s;r===void 0&&(r=PO(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:l}=a;this.props=t,this.events=n,this.document=Bs(l),this.documentListeners=new qo(this.document),this.listeners=new qo(r),this.windowListeners=new qo(tn(l)),this.initialCoordinates=(s=$f(a))!=null?s:Hn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.DragStart,uy),this.windowListeners.add(En.VisibilityChange,this.handleCancel),this.windowListeners.add(En.ContextMenu,uy),this.documentListeners.add(En.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(dy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(cy(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(En.Click,RO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(En.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:c}}=a;if(!s)return;const d=(n=$f(t))!=null?n:Hn,f=ru(s,d);if(!r&&c){if(cy(c)){if(c.tolerance!=null&&Kd(f,c.tolerance))return this.handleCancel();if(Kd(f,c.distance))return this.handleStart()}if(dy(c)&&Kd(f,c.tolerance))return this.handleCancel();this.handlePending(c,f);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const DO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ex extends jh{constructor(t){const{event:n}=t,r=Bs(n.target);super(t,DO,r)}}ex.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const LO={move:{name:"mousemove"},end:{name:"mouseup"}};var zf;(function(e){e[e.RightClick=2]="RightClick"})(zf||(zf={}));class MO extends jh{constructor(t){super(t,LO,Bs(t.event.target))}}MO.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===zf.RightClick?!1:(r==null||r({event:n}),!0)}}];const Gd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $O extends jh{constructor(t){super(t,Gd)}static setup(){return window.addEventListener(Gd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Gd.move.name,t)};function t(){}}}$O.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Yo;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Yo||(Yo={}));var su;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(su||(su={}));function FO(e){let{acceleration:t,activator:n=Yo.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:c=su.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:y}=e;const v=UO({delta:m,disabled:!a}),[k,S]=JR(),C=E.useRef({x:0,y:0}),T=E.useRef({x:0,y:0}),I=E.useMemo(()=>{switch(n){case Yo.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Yo.DraggableRect:return s}},[n,s,d]),A=E.useRef(null),B=E.useCallback(()=>{const D=A.current;if(!D)return;const Q=C.current.x*T.current.x,re=C.current.y*T.current.y;D.scrollBy(Q,re)},[]),V=E.useMemo(()=>c===su.TreeOrder?[...f].reverse():f,[c,f]);E.useEffect(()=>{if(!a||!f.length||!I){S();return}for(const D of V){if((r==null?void 0:r(D))===!1)continue;const Q=f.indexOf(D),re=p[Q];if(!re)continue;const{direction:se,speed:M}=CO(D,re,I,t,y);for(const $ of["x","y"])v[$][se[$]]||(M[$]=0,se[$]=0);if(M.x>0||M.y>0){S(),A.current=D,k(B,l),C.current=M,T.current=se;return}}C.current={x:0,y:0},T.current={x:0,y:0},S()},[t,B,r,S,a,l,JSON.stringify(I),JSON.stringify(v),k,f,V,p,JSON.stringify(y)])}const zO={x:{[St.Backward]:!1,[St.Forward]:!1},y:{[St.Backward]:!1,[St.Forward]:!1}};function UO(e){let{delta:t,disabled:n}=e;const r=Mf(t);return pa(s=>{if(n||!r||!s)return zO;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[St.Backward]:s.x[St.Backward]||a.x===-1,[St.Forward]:s.x[St.Forward]||a.x===1},y:{[St.Backward]:s.y[St.Backward]||a.y===-1,[St.Forward]:s.y[St.Forward]||a.y===1}}},[n,t,r])}function BO(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return pa(s=>{var a;return t==null?null:(a=r??s)!=null?a:null},[r,t])}function WO(e,t){return E.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...a]},[]),[e,t])}var ia;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ia||(ia={}));var Uf;(function(e){e.Optimized="optimized"})(Uf||(Uf={}));const fy=new Map;function HO(e,t){let{dragging:n,dependencies:r,config:s}=t;const[a,l]=E.useState(null),{frequency:c,measure:d,strategy:f}=s,p=E.useRef(e),m=C(),y=na(m),v=E.useCallback(function(T){T===void 0&&(T=[]),!y.current&&l(I=>I===null?T:I.concat(T.filter(A=>!I.includes(A))))},[y]),k=E.useRef(null),S=pa(T=>{if(m&&!n)return fy;if(!T||T===fy||p.current!==e||a!=null){const I=new Map;for(let A of e){if(!A)continue;if(a&&a.length>0&&!a.includes(A.id)&&A.rect.current){I.set(A.id,A.rect.current);continue}const B=A.node.current,V=B?new Ch(d(B),B):null;A.rect.current=V,V&&I.set(A.id,V)}return I}return T},[e,a,n,m,d]);return E.useEffect(()=>{p.current=e},[e]),E.useEffect(()=>{m||v()},[n,m]),E.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),E.useEffect(()=>{m||typeof c!="number"||k.current!==null||(k.current=setTimeout(()=>{v(),k.current=null},c))},[c,m,v,...r]),{droppableRects:S,measureDroppableContainers:v,measuringScheduled:a!=null};function C(){switch(f){case ia.Always:return!1;case ia.BeforeDragging:return n;default:return!n}}}function tx(e,t){return pa(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function VO(e,t){return tx(e,t)}function qO(e){let{callback:t,disabled:n}=e;const r=Sh(t),s=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return E.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ju(e){let{callback:t,disabled:n}=e;const r=Sh(t),s=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return E.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function YO(e){return new Ch(Ws(e),e)}function hy(e,t,n){t===void 0&&(t=YO);const[r,s]=E.useState(null);function a(){s(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const p=t(e);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const l=qO({callback(d){if(e)for(const f of d){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){a();break}}}}),c=ju({callback:a});return ir(()=>{a(),e?(c==null||c.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),l==null||l.disconnect())},[e]),r}function KO(e){const t=tx(e);return V0(e,t)}const py=[];function GO(e){const t=E.useRef(e),n=pa(r=>e?r&&r!==py&&e&&t.current&&e.parentNode===t.current.parentNode?r:Eh(e):py,[e]);return E.useEffect(()=>{t.current=e},[e]),n}function JO(e){const[t,n]=E.useState(null),r=E.useRef(e),s=E.useCallback(a=>{const l=Yd(a.target);l&&n(c=>c?(c.set(l,Ff(l)),new Map(c)):null)},[]);return E.useEffect(()=>{const a=r.current;if(e!==a){l(a);const c=e.map(d=>{const f=Yd(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,Ff(f)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),r.current=e}return()=>{l(e),l(a)};function l(c){c.forEach(d=>{const f=Yd(d);f==null||f.removeEventListener("scroll",s)})}},[s,e]),E.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,l)=>As(a,l),Hn):Q0(e):Hn,[e,t])}function my(e,t){t===void 0&&(t=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},t),E.useEffect(()=>{const r=e!==Hn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?ru(e,n.current):Hn}function QO(e){E.useEffect(()=>{if(!Cu)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function XO(e,t){return E.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=l=>{a(l,t)},n},{}),[e,t])}function nx(e){return E.useMemo(()=>e?kO(e):null,[e])}const gy=[];function ZO(e,t){t===void 0&&(t=Ws);const[n]=e,r=nx(n?tn(n):null),[s,a]=E.useState(gy);function l(){a(()=>e.length?e.map(d=>G0(d)?r:new Ch(t(d),d)):gy)}const c=ju({callback:l});return ir(()=>{c==null||c.disconnect(),l(),e.forEach(d=>c==null?void 0:c.observe(d))},[e]),s}function e2(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ha(t)?t:e}function t2(e){let{measure:t}=e;const[n,r]=E.useState(null),s=E.useCallback(f=>{for(const{target:p}of f)if(ha(p)){r(m=>{const y=t(p);return m?{...m,width:y.width,height:y.height}:y});break}},[t]),a=ju({callback:s}),l=E.useCallback(f=>{const p=e2(f);a==null||a.disconnect(),p&&(a==null||a.observe(p)),r(p?t(p):null)},[t,a]),[c,d]=nu(l);return E.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const n2=[{sensor:ex,options:{}},{sensor:Z0,options:{}}],r2={current:{}},Ul={draggable:{measure:ly},droppable:{measure:ly,strategy:ia.WhileDragging,frequency:Uf.Optimized},dragOverlay:{measure:Ws}};class Ko extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const i2={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ko,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:iu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ul,measureDroppableContainers:iu,windowRect:null,measuringScheduled:!1},s2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:iu,draggableNodes:new Map,over:null,measureDroppableContainers:iu},Tu=E.createContext(s2),rx=E.createContext(i2);function o2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ko}}}function a2(e,t){switch(t.type){case yt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case yt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case yt.DragEnd:case yt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case yt.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Ko(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case yt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const l=new Ko(e.droppable.containers);return l.set(n,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case yt.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new Ko(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function l2(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=E.useContext(Tu),a=Mf(r),l=Mf(n==null?void 0:n.id);return E.useEffect(()=>{if(!t&&!r&&a&&l!=null){if(!_h(a)||document.activeElement===a.target)return;const c=s.get(l);if(!c)return;const{activatorNode:d,node:f}=c;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[d.current,f.current]){if(!p)continue;const m=ZR(p);if(m){m.focus();break}}})}},[r,t,s,l,a]),null}function u2(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...r}),n):n}function c2(e){return E.useMemo(()=>({draggable:{...Ul.draggable,...e==null?void 0:e.draggable},droppable:{...Ul.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ul.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function d2(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const a=E.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;ir(()=>{if(!l&&!c||!t){a.current=!1;return}if(a.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const p=n(f),m=V0(p,r);if(l||(m.x=0),c||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=q0(f);y&&y.scrollBy({top:m.y,left:m.x})}},[t,l,c,r,n])}const ix=E.createContext({...Hn,scaleX:1,scaleY:1});var Jr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Jr||(Jr={}));const f2=E.memo(function(t){var n,r,s,a;let{id:l,accessibility:c,autoScroll:d=!0,children:f,sensors:p=n2,collisionDetection:m=mO,measuring:y,modifiers:v,...k}=t;const S=E.useReducer(a2,void 0,o2),[C,T]=S,[I,A]=sO(),[B,V]=E.useState(Jr.Uninitialized),D=B===Jr.Initialized,{draggable:{active:Q,nodes:re,translate:se},droppable:{containers:M}}=C,$=Q!=null?re.get(Q):null,Z=E.useRef({initial:null,translated:null}),K=E.useMemo(()=>{var et;return Q!=null?{id:Q,data:(et=$==null?void 0:$.data)!=null?et:r2,rect:Z}:null},[Q,$]),O=E.useRef(null),[F,L]=E.useState(null),[U,W]=E.useState(null),Y=na(k,Object.values(k)),b=ma("DndDescribedBy",l),N=E.useMemo(()=>M.getEnabled(),[M]),P=c2(y),{droppableRects:_,measureDroppableContainers:G,measuringScheduled:ee}=HO(N,{dragging:D,dependencies:[se.x,se.y],config:P.droppable}),te=BO(re,Q),de=E.useMemo(()=>U?$f(U):null,[U]),fe=jr(),pe=VO(te,P.draggable.measure);d2({activeNode:Q!=null?re.get(Q):null,config:fe.layoutShiftCompensation,initialRect:pe,measure:P.draggable.measure});const he=hy(te,P.draggable.measure,pe),Ae=hy(te?te.parentElement:null),Fe=E.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:_,draggableNodes:re,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ze=M.getNodeFor((n=Fe.current.over)==null?void 0:n.id),at=t2({measure:P.dragOverlay.measure}),hn=(r=at.nodeRef.current)!=null?r:te,pn=D?(s=at.rect)!=null?s:he:null,ar=!!(at.nodeRef.current&&at.rect),ui=KO(ar?null:he),Vn=nx(hn?tn(hn):null),_t=GO(D?ze??te:null),nn=ZO(_t),qn=u2(v,{transform:{x:se.x-ui.x,y:se.y-ui.y,scaleX:1,scaleY:1},activatorEvent:U,active:K,activeNodeRect:he,containerNodeRect:Ae,draggingNodeRect:pn,over:Fe.current.over,overlayNodeRect:at.rect,scrollableAncestors:_t,scrollableAncestorRects:nn,windowRect:Vn}),ci=de?As(de,se):null,di=JO(_t),Ui=my(di),ne=my(di,[he]),ue=As(qn,Ui),be=pn?yO(pn,qn):null,je=K&&be?m({active:K,collisionRect:be,droppableRects:_,droppableContainers:N,pointerCoordinates:ci}):null,Oe=fO(je,"id"),[Ve,mn]=E.useState(null),Bt=ar?qn:As(qn,ne),Yn=gO(Bt,(a=Ve==null?void 0:Ve.rect)!=null?a:null,he),Tn=E.useRef(null),ct=E.useCallback((et,Tt)=>{let{sensor:Nt,options:Nn}=Tt;if(O.current==null)return;const $t=re.get(O.current);if(!$t)return;const It=et.nativeEvent,Wt=new Nt({active:O.current,activeNode:$t,event:It,options:Nn,context:Fe,onAbort(tt){if(!re.get(tt))return;const{onDragAbort:At}=Y.current,In={id:tt};At==null||At(In),I({type:"onDragAbort",event:In})},onPending(tt,vn,At,In){if(!re.get(tt))return;const{onDragPending:Kn}=Y.current,rn={id:tt,constraint:vn,initialCoordinates:At,offset:In};Kn==null||Kn(rn),I({type:"onDragPending",event:rn})},onStart(tt){const vn=O.current;if(vn==null)return;const At=re.get(vn);if(!At)return;const{onDragStart:In}=Y.current,An={activatorEvent:It,active:{id:vn,data:At.data,rect:Z}};Ts.unstable_batchedUpdates(()=>{In==null||In(An),V(Jr.Initializing),T({type:yt.DragStart,initialCoordinates:tt,active:vn}),I({type:"onDragStart",event:An}),L(Tn.current),W(It)})},onMove(tt){T({type:yt.DragMove,coordinates:tt})},onEnd:lr(yt.DragEnd),onCancel:lr(yt.DragCancel)});Tn.current=Wt;function lr(tt){return async function(){const{active:At,collisions:In,over:An,scrollAdjustedTranslate:Kn}=Fe.current;let rn=null;if(At&&Kn){const{cancelDrop:ur}=Y.current;rn={activatorEvent:It,active:At,collisions:In,delta:Kn,over:An},tt===yt.DragEnd&&typeof ur=="function"&&await Promise.resolve(ur(rn))&&(tt=yt.DragCancel)}O.current=null,Ts.unstable_batchedUpdates(()=>{T({type:tt}),V(Jr.Uninitialized),mn(null),L(null),W(null),Tn.current=null;const ur=tt===yt.DragEnd?"onDragEnd":"onDragCancel";if(rn){const qs=Y.current[ur];qs==null||qs(rn),I({type:ur,event:rn})}})}}},[re]),gn=E.useCallback((et,Tt)=>(Nt,Nn)=>{const $t=Nt.nativeEvent,It=re.get(Nn);if(O.current!==null||!It||$t.dndKit||$t.defaultPrevented)return;const Wt={active:It};et(Nt,Tt.options,Wt)===!0&&($t.dndKit={capturedBy:Tt.sensor},O.current=Nn,ct(Nt,Tt))},[re,ct]),jt=WO(p,gn);QO(p),ir(()=>{he&&B===Jr.Initializing&&V(Jr.Initialized)},[he,B]),E.useEffect(()=>{const{onDragMove:et}=Y.current,{active:Tt,activatorEvent:Nt,collisions:Nn,over:$t}=Fe.current;if(!Tt||!Nt)return;const It={active:Tt,activatorEvent:Nt,collisions:Nn,delta:{x:ue.x,y:ue.y},over:$t};Ts.unstable_batchedUpdates(()=>{et==null||et(It),I({type:"onDragMove",event:It})})},[ue.x,ue.y]),E.useEffect(()=>{const{active:et,activatorEvent:Tt,collisions:Nt,droppableContainers:Nn,scrollAdjustedTranslate:$t}=Fe.current;if(!et||O.current==null||!Tt||!$t)return;const{onDragOver:It}=Y.current,Wt=Nn.get(Oe),lr=Wt&&Wt.rect.current?{id:Wt.id,rect:Wt.rect.current,data:Wt.data,disabled:Wt.disabled}:null,tt={active:et,activatorEvent:Tt,collisions:Nt,delta:{x:$t.x,y:$t.y},over:lr};Ts.unstable_batchedUpdates(()=>{mn(lr),It==null||It(tt),I({type:"onDragOver",event:tt})})},[Oe]),ir(()=>{Fe.current={activatorEvent:U,active:K,activeNode:te,collisionRect:be,collisions:je,droppableRects:_,draggableNodes:re,draggingNode:hn,draggingNodeRect:pn,droppableContainers:M,over:Ve,scrollableAncestors:_t,scrollAdjustedTranslate:ue},Z.current={initial:pn,translated:be}},[K,te,je,be,re,hn,pn,_,M,Ve,_t,ue]),FO({...fe,delta:se,draggingRect:be,pointerCoordinates:ci,scrollableAncestors:_t,scrollableAncestorRects:nn});const Hs=E.useMemo(()=>({active:K,activeNode:te,activeNodeRect:he,activatorEvent:U,collisions:je,containerNodeRect:Ae,dragOverlay:at,draggableNodes:re,droppableContainers:M,droppableRects:_,over:Ve,measureDroppableContainers:G,scrollableAncestors:_t,scrollableAncestorRects:nn,measuringConfiguration:P,measuringScheduled:ee,windowRect:Vn}),[K,te,he,U,je,Ae,at,re,M,_,Ve,G,_t,nn,P,ee,Vn]),Vs=E.useMemo(()=>({activatorEvent:U,activators:jt,active:K,activeNodeRect:he,ariaDescribedById:{draggable:b},dispatch:T,draggableNodes:re,over:Ve,measureDroppableContainers:G}),[U,jt,K,he,T,b,re,Ve,G]);return ye.createElement(H0.Provider,{value:A},ye.createElement(Tu.Provider,{value:Vs},ye.createElement(rx.Provider,{value:Hs},ye.createElement(ix.Provider,{value:Yn},f)),ye.createElement(l2,{disabled:(c==null?void 0:c.restoreFocus)===!1})),ye.createElement(lO,{...c,hiddenTextDescribedById:b}));function jr(){const et=(F==null?void 0:F.autoScrollEnabled)===!1,Tt=typeof d=="object"?d.enabled===!1:d===!1,Nt=D&&!et&&!Tt;return typeof d=="object"?{...d,enabled:Nt}:{enabled:Nt}}}),h2=E.createContext(null),vy="button",p2="Draggable";function m2(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const a=ma(p2),{activators:l,activatorEvent:c,active:d,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:y}=E.useContext(Tu),{role:v=vy,roleDescription:k="draggable",tabIndex:S=0}=s??{},C=(d==null?void 0:d.id)===t,T=E.useContext(C?ix:h2),[I,A]=nu(),[B,V]=nu(),D=XO(l,t),Q=na(n);ir(()=>(m.set(t,{id:t,key:a,node:I,activatorNode:B,data:Q}),()=>{const se=m.get(t);se&&se.key===a&&m.delete(t)}),[m,t]);const re=E.useMemo(()=>({role:v,tabIndex:S,"aria-disabled":r,"aria-pressed":C&&v===vy?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,v,S,C,k,p.draggable]);return{active:d,activatorEvent:c,activeNodeRect:f,attributes:re,isDragging:C,listeners:r?void 0:D,node:I,over:y,setNodeRef:A,setActivatorNodeRef:V,transform:T}}function g2(){return E.useContext(rx)}const v2="Droppable",y2={timeout:25};function w2(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const a=ma(v2),{active:l,dispatch:c,over:d,measureDroppableContainers:f}=E.useContext(Tu),p=E.useRef({disabled:n}),m=E.useRef(!1),y=E.useRef(null),v=E.useRef(null),{disabled:k,updateMeasurementsFor:S,timeout:C}={...y2,...s},T=na(S??r),I=E.useCallback(()=>{if(!m.current){m.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(T.current)?T.current:[T.current]),v.current=null},C)},[C]),A=ju({callback:I,disabled:k||!l}),B=E.useCallback((re,se)=>{A&&(se&&(A.unobserve(se),m.current=!1),re&&A.observe(re))},[A]),[V,D]=nu(B),Q=na(t);return E.useEffect(()=>{!A||!V.current||(A.disconnect(),m.current=!1,A.observe(V.current))},[V,A]),E.useEffect(()=>(c({type:yt.RegisterDroppable,element:{id:r,key:a,disabled:n,node:V,rect:y,data:Q}}),()=>c({type:yt.UnregisterDroppable,key:a,id:r})),[r]),E.useEffect(()=>{n!==p.current.disabled&&(c({type:yt.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)},[r,a,n,c]),{active:l,rect:y,isOver:(d==null?void 0:d.id)===r,node:V,over:d,setNodeRef:D}}function sx(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function x2(e,t){return e.reduce((n,r,s)=>{const a=t.get(r);return a&&(n[s]=a),n},Array(e.length))}function Ol(e){return e!==null&&e>=0}function b2(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function k2(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const ox=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const a=sx(t,r,n),l=t[s],c=a[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},Dl={scaleX:1,scaleY:1},S2=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:l}=e;const c=(t=a[n])!=null?t:r;if(!c)return null;if(s===n){const f=a[l];return f?{x:0,y:n<l?f.top+f.height-(c.top+c.height):f.top-c.top,...Dl}:null}const d=_2(a,s,n);return s>n&&s<=l?{x:0,y:-c.height-d,...Dl}:s<n&&s>=l?{x:0,y:c.height+d,...Dl}:{x:0,y:0,...Dl}};function _2(e,t,n){const r=e[t],s=e[t-1],a=e[t+1];return r?n<t?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const ax="Sortable",lx=ye.createContext({activeIndex:-1,containerId:ax,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ox,disabled:{draggable:!1,droppable:!1}});function E2(e){let{children:t,id:n,items:r,strategy:s=ox,disabled:a=!1}=e;const{active:l,dragOverlay:c,droppableRects:d,over:f,measureDroppableContainers:p}=g2(),m=ma(ax,n),y=c.rect!==null,v=E.useMemo(()=>r.map(D=>typeof D=="object"&&"id"in D?D.id:D),[r]),k=l!=null,S=l?v.indexOf(l.id):-1,C=f?v.indexOf(f.id):-1,T=E.useRef(v),I=!b2(v,T.current),A=C!==-1&&S===-1||I,B=k2(a);ir(()=>{I&&k&&p(v)},[I,v,k,p]),E.useEffect(()=>{T.current=v},[v]);const V=E.useMemo(()=>({activeIndex:S,containerId:m,disabled:B,disableTransforms:A,items:v,overIndex:C,useDragOverlay:y,sortedRects:x2(v,d),strategy:s}),[S,m,B.draggable,B.droppable,A,v,C,d,y,s]);return ye.createElement(lx.Provider,{value:V},t)}const C2=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return sx(n,r,s).indexOf(t)},j2=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:a,newIndex:l,previousItems:c,previousContainerId:d,transition:f}=e;return!f||!r||c!==a&&s===l?!1:n?!0:l!==s&&t===d},T2={duration:200,easing:"ease"},ux="transform",N2=ra.Transition.toString({property:ux,duration:0,easing:"linear"}),I2={roleDescription:"sortable"};function A2(e){let{disabled:t,index:n,node:r,rect:s}=e;const[a,l]=E.useState(null),c=E.useRef(n);return ir(()=>{if(!t&&n!==c.current&&r.current){const d=s.current;if(d){const f=Ws(r.current,{ignoreTransform:!0}),p={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(p.x||p.y)&&l(p)}}n!==c.current&&(c.current=n)},[t,n,r,s]),E.useEffect(()=>{a&&l(null)},[a]),a}function P2(e){let{animateLayoutChanges:t=j2,attributes:n,disabled:r,data:s,getNewIndex:a=C2,id:l,strategy:c,resizeObserverConfig:d,transition:f=T2}=e;const{items:p,containerId:m,activeIndex:y,disabled:v,disableTransforms:k,sortedRects:S,overIndex:C,useDragOverlay:T,strategy:I}=E.useContext(lx),A=R2(r,v),B=p.indexOf(l),V=E.useMemo(()=>({sortable:{containerId:m,index:B,items:p},...s}),[m,s,B,p]),D=E.useMemo(()=>p.slice(p.indexOf(l)),[p,l]),{rect:Q,node:re,isOver:se,setNodeRef:M}=w2({id:l,data:V,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...d}}),{active:$,activatorEvent:Z,activeNodeRect:K,attributes:O,setNodeRef:F,listeners:L,isDragging:U,over:W,setActivatorNodeRef:Y,transform:b}=m2({id:l,data:V,attributes:{...I2,...n},disabled:A.draggable}),N=GR(M,F),P=!!$,_=P&&!k&&Ol(y)&&Ol(C),G=!T&&U,ee=G&&_?b:null,de=_?ee??(c??I)({rects:S,activeNodeRect:K,activeIndex:y,overIndex:C,index:B}):null,fe=Ol(y)&&Ol(C)?a({id:l,items:p,activeIndex:y,overIndex:C}):B,pe=$==null?void 0:$.id,he=E.useRef({activeId:pe,items:p,newIndex:fe,containerId:m}),Ae=p!==he.current.items,Fe=t({active:$,containerId:m,isDragging:U,isSorting:P,id:l,index:B,items:p,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:f,wasDragging:he.current.activeId!=null}),ze=A2({disabled:!Fe,index:B,node:re,rect:Q});return E.useEffect(()=>{P&&he.current.newIndex!==fe&&(he.current.newIndex=fe),m!==he.current.containerId&&(he.current.containerId=m),p!==he.current.items&&(he.current.items=p)},[P,fe,m,p]),E.useEffect(()=>{if(pe===he.current.activeId)return;if(pe&&!he.current.activeId){he.current.activeId=pe;return}const hn=setTimeout(()=>{he.current.activeId=pe},50);return()=>clearTimeout(hn)},[pe]),{active:$,activeIndex:y,attributes:O,data:V,rect:Q,index:B,newIndex:fe,items:p,isOver:se,isSorting:P,isDragging:U,listeners:L,node:re,overIndex:C,over:W,setNodeRef:N,setActivatorNodeRef:Y,setDroppableNodeRef:M,setDraggableNodeRef:F,transform:ze??de,transition:at()};function at(){if(ze||Ae&&he.current.newIndex===B)return N2;if(!(G&&!_h(Z)||!f)&&(P||Fe))return ra.Transition.toString({...f,property:ux})}}function R2(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}$e.Down,$e.Right,$e.Up,$e.Left;const Ll="__no_objective__",O2="Sin objetivo",yy={present:"Presente",absent:"Ausente",pending:"Pendiente"};function D2({work:e,objective:t,parentChain:n,onSelect:r}){return x.jsxs("button",{type:"button",onClick:()=>r(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),x.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]}),n?x.jsxs("p",{className:"text-[11px] text-white/40",children:["Deriva de ",n]}):null]}),x.jsx(kr,{objective:t,size:"sm"})]})}function L2({item:e,work:t,objective:n,expanded:r,onToggleExpanded:s,onRemove:a,onUpdateDetails:l,onReplace:c,startTimeLabel:d,durationMinutes:f,objectiveOptions:p,worksByObjective:m,currentObjectiveId:y,workPathById:v}){const{attributes:k,listeners:S,setNodeRef:C,transform:T,transition:I,isDragging:A}=P2({id:e.id}),[B,V]=E.useState(!1),D={transform:ra.Transform.toString(T),transition:I},re=(e.focusLabel??"").trim(),se=re.length>0,M=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",$=M.trim().length>0,Z=((t==null?void 0:t.videoUrls)??[]).map(G=>G.trim()).filter(Boolean),K=Z.length>0,O=$||K,L=(t!=null&&t.id?v.get(t.id)??(t==null?void 0:t.name)??"":"").split(" · ").slice(0,-1).join(" · "),U=G=>{const ee=G.target.value;l(e.id,{focusLabel:ee===""?void 0:ee})},W=p.length>0?p:[{id:"",name:"Sin objetivo"}],Y=E.useMemo(()=>{var ee;return y&&m.has(y)?y:((ee=W[0])==null?void 0:ee.id)??y??""},[y,W,m]),[b,N]=E.useState(Y);E.useEffect(()=>{B&&N(Y)},[B,Y]);const P=E.useMemo(()=>(m.get(b)??[]).filter(ee=>ee.id!==(t==null?void 0:t.id)).sort((ee,te)=>{const de=v.get(ee.id)??ee.name,fe=v.get(te.id)??te.name;return de.localeCompare(fe,"es",{sensitivity:"base"})}),[b,m,t==null?void 0:t.id,v]),_=E.useMemo(()=>{for(const G of m.values())if(G.some(ee=>ee.id!==(t==null?void 0:t.id)))return!0;return!1},[m,t==null?void 0:t.id]);return x.jsxs("article",{ref:C,style:D,className:Xe("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",A&&"ring-2 ring-sky-400/70"),children:[n?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",...S,...k,"aria-label":"Reordenar trabajo",children:"⠿"}),x.jsx("div",{className:"flex-1 space-y-1",children:x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",se?x.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",re]}):null]}),L?x.jsxs("p",{className:"text-xs text-white/50",children:["Deriva de ",L]}):null,x.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[x.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:d}),x.jsx("span",{className:"text-white/30",children:"·"}),x.jsxs("span",{children:[f," min"]})]}),x.jsxs("div",{className:"max-w-md",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),x.jsx("input",{type:"text",value:e.focusLabel??"",onChange:U,placeholder:"Ej. 1/7 – Apertura",className:"input-field mt-1"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[O?x.jsxs("button",{type:"button",onClick:()=>s(e.id),className:Xe("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[x.jsx("span",{className:Xe("transition-transform",r?"rotate-90":"rotate-0"),children:"▶"}),r?"Ocultar detalles":"Ver detalles"]}):null,x.jsx(kr,{objective:n,size:"sm"})]})]})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:()=>V(G=>!G),disabled:!_,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categoría","aria-expanded":B,children:"⇆"}),x.jsx("button",{type:"button",onClick:()=>a(e.id),className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesión",children:"✕"})]})]}),B?x.jsxs("div",{className:"mt-3 space-y-2 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),x.jsx("select",{className:"input-field",value:b,onChange:G=>N(G.target.value),children:W.map(G=>x.jsx("option",{value:G.id,children:G.name},G.id))})]}),x.jsx("div",{className:"grid gap-1.5",children:P.length===0?x.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"No hay trabajos disponibles en este objetivo."}):P.map(G=>{const te=(v.get(G.id)??G.name).split(" · ").slice(0,-1).join(" · ");return x.jsxs("button",{type:"button",onClick:()=>{c(G.id),V(!1)},className:"flex items-center justify-between gap-2 rounded-2xl border border-white/15 px-3 py-2 text-left text-xs font-semibold text-white/80 transition hover:border-sky-400/60 hover:text-white",children:[x.jsxs("div",{className:"flex flex-col text-left",children:[x.jsx("span",{children:G.name}),te?x.jsxs("span",{className:"text-[11px] text-white/40",children:["Deriva de ",te]}):null]}),x.jsxs("span",{className:"text-[11px] text-white/40",children:[G.estimatedMinutes," min"]})]},G.id)})})]}):null,O&&r?x.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[$?x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:x.jsx(ta,{content:M})})]}):null,K?x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de referencia"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(G=>x.jsxs("a",{href:G,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:"▶"}),"Ver vídeo"]},G))})]}):null]}):null,x.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function M2({session:e,works:t,objectives:n,assistants:r,onDateChange:s}){const a=Ne($=>$.updateSession),l=Ne($=>$.addWorkToSession),c=Ne($=>$.removeWorkFromSession),d=Ne($=>$.reorderSessionWork),f=Ne($=>$.updateSessionWorkDetails),p=Ne($=>$.replaceSessionWork),m=Ne($=>$.setAttendanceStatus),[y,v]=E.useState(""),[k,S]=E.useState(new Set),C=E.useMemo(()=>new Map(n.map($=>[$.id,$])),[n]),T=E.useMemo(()=>new Map(t.map($=>[$.id,$])),[t]),I=E.useMemo(()=>{const $=new Map,Z=(K,O)=>{if($.has(K))return $.get(K);const F=T.get(K);if(!F)return"";const L=F.parentWorkId;if(!L||O.has(K))return $.set(K,F.name),F.name;O.add(K);const U=Z(L,O);O.delete(K);const W=U?`${U} · ${F.name}`:F.name;return $.set(K,W),W};return t.forEach(K=>Z(K.id,new Set)),$},[t,T]),A=E.useMemo(()=>{const $=new Map(n.map(F=>[F.id,F.name])),Z=n.map(F=>({id:F.id,name:F.name})),K=new Set(Z.map(F=>F.id)),O=F=>{const L=F??Ll;if(K.has(L))return;const U=L===Ll?O2:$.get(L)??"Otro objetivo";Z.push({id:L,name:U}),K.add(L)};return t.forEach(F=>{O(F.objectiveId)}),Z},[n,t]),B=E.useMemo(()=>{const $=new Map;return t.forEach(Z=>{const K=Z.objectiveId??Ll,O=$.get(K)??[];O.push(Z),$.set(K,O)}),$.forEach(Z=>{Z.sort((K,O)=>{const F=I.get(K.id)??K.name,L=I.get(O.id)??O.name;return F.localeCompare(L,"es",{sensitivity:"base"})})}),$},[t,I]),V=E.useMemo(()=>{if(!y)return t;const $=y.toLowerCase();return t.filter(Z=>{const K=C.get(Z.objectiveId),O=I.get(Z.id)??"";return Z.name.toLowerCase().includes($)||Z.descriptionMarkdown.toLowerCase().includes($)||(K==null?void 0:K.name.toLowerCase().includes($))||O.toLowerCase().includes($)})},[t,y,C,I]),D=E.useCallback($=>{const Z=I.get($);if(!Z)return"";const K=Z.split(" · ");return K.pop(),K.join(" · ")},[I]),Q=$=>{S(Z=>{const K=new Set(Z);return K.has($)?K.delete($):K.add($),K})},re=$=>{l(e.id,{workId:$}),v("")},se=$=>{const{active:Z,over:K}=$;if(!K||Z.id===K.id)return;const O=e.workItems.findIndex(L=>L.id===Z.id),F=e.workItems.findIndex(L=>L.id===K.id);O===-1||F===-1||d(e.id,O,F)},M=$=>Z=>{const K=Z.target.value;a(e.id,{[$]:K}),$==="date"&&s&&s(K)};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[x.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Título"}),x.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:M("title"),placeholder:"Nombre de la sesión"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),x.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:M("date")})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),x.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:M("startTime")})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:M("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:M("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesión"}),x.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa ⋮ para ajustar detalles."})]}),x.jsxs("div",{className:"relative w-full sm:w-72",children:[x.jsx("input",{type:"search",className:"input-field",value:y,onChange:$=>v($.target.value),placeholder:"Buscar en catálogo"}),y&&x.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:V.length===0?x.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catálogo."}):x.jsx("div",{className:"space-y-2",children:V.map($=>x.jsx(D2,{work:$,objective:C.get($.objectiveId),parentChain:D($.id),onSelect:re},$.id))})})]})]}),x.jsx("div",{className:"space-y-4",children:x.jsx(f2,{collisionDetection:hO,onDragEnd:se,children:x.jsx(E2,{items:e.workItems.map($=>$.id),strategy:S2,children:x.jsx("div",{className:"space-y-5",children:e.workItems.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Añade trabajos desde el catálogo con el buscador superior."}):(()=>{let $=0;const Z=tu(e.startTime,"18:30");return e.workItems.map(K=>{const O=T.get(K.workId),F=O?C.get(O.objectiveId):void 0,L=K.customDurationMinutes??(O==null?void 0:O.estimatedMinutes)??0,U=Lf(Z+$);return $+=L,x.jsx(L2,{item:K,work:O,objective:F,expanded:k.has(K.id),onToggleExpanded:Q,onRemove:()=>c(e.id,K.id),onUpdateDetails:(W,Y)=>f(e.id,W,Y),onReplace:W=>p(e.id,K.id,W),startTimeLabel:U,durationMinutes:L,objectiveOptions:A,worksByObjective:B,currentObjectiveId:(O==null?void 0:O.objectiveId)??Ll,workPathById:I},K.id)})})()})})})})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsión de asistencia"}),x.jsx("p",{className:"text-sm text-white/60",children:"Indica quién esperas que asista. La asistencia real se marca durante la sesión desde la Home."})]})}),x.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?x.jsx("p",{className:"text-sm text-white/60",children:"Aún no tienes asistentes definidos. Añádelos desde la sección correspondiente para empezar a registrar asistencia."}):r.map($=>{const Z=e.attendance.find(F=>F.assistantId===$.id),K=(Z==null?void 0:Z.status)??"pending",O=Z==null?void 0:Z.actualStatus;return x.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:$.name}),$.notes?x.jsx("p",{className:"text-xs text-white/50",children:$.notes}):null,O?x.jsxs("p",{className:"text-xs text-white/40",children:["Último registro real: ",yy[O]]}):null]}),x.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(F=>x.jsx("button",{type:"button",onClick:()=>m(e.id,$.id,F),className:Xe("rounded-full px-3 py-1 text-xs font-semibold transition",K===F?F==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":F==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:yy[F]},F))})]},$.id)})})]})]})}function $2(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function F2(e){const t=$2(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(s,a)=>t.add(r*7+a,"day")))}function Ml(e,t){return Be(e).format("YYYY-MM-DD")===Be(t).format("YYYY-MM-DD")}Be.locale("es");function wy(e){return Be(e).format("MMMM YYYY")}function z2({session:e,objectives:t,works:n,isActive:r,onSelect:s,onDuplicate:a,onDelete:l}){const c=E.useMemo(()=>new Map(t.map(m=>[m.id,m])),[t]),d=E.useMemo(()=>new Map(n.map(m=>[m.id,m])),[n]),f=E.useMemo(()=>{const m=e.workItems[0];if(!m)return;const y=d.get(m.workId);if(y)return c.get(y.objectiveId)},[e.workItems,d,c]),p=e.workItems.reduce((m,y)=>{const v=d.get(y.workId);return m+(y.customDurationMinutes??(v==null?void 0:v.estimatedMinutes)??0)},0);return x.jsxs("button",{type:"button",onClick:s,className:Xe("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,x.jsxs("div",{className:"flex items-start justify-between gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesión sin título"}),x.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos · ",p," min"]})]}),x.jsx(kr,{objective:f,size:"sm"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(m=>{const y=d.get(m.workId);return x.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:(y==null?void 0:y.name)??"Trabajo"},m.id)}),e.workItems.length>3?x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(kr,{objective:f,size:"sm"}),x.jsxs("div",{className:"ml-auto flex gap-2",children:[x.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),a()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),x.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),l()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function U2(){const e=Ne(O=>O.sessions),t=Ne(O=>O.works),n=Ne(O=>O.objectives),r=Ne(O=>O.assistants),s=Ne(O=>O.addSession),a=Ne(O=>O.duplicateSession),l=Ne(O=>O.deleteSession),[c,d]=v1(),f=E.useMemo(()=>{const O=new Map;return e.forEach(F=>{const L=Be(F.date).format("YYYY-MM-DD"),U=O.get(L)??[];U.push(F),O.set(L,U)}),O.forEach(F=>F.sort((L,U)=>(L.title??"").localeCompare(U.title??"","es"))),O},[e]),p=c.get("session")??void 0,m=p?e.find(O=>O.id===p):void 0,y=Be().format("YYYY-MM-DD"),v=(m==null?void 0:m.date)??y,[k,S]=E.useState(v),[C,T]=E.useState(Be(k).startOf("month").format("YYYY-MM-DD")),[I,A]=E.useState(p);E.useEffect(()=>{p&&!e.find(O=>O.id===p)&&(A(void 0),d({},{replace:!0}))},[p,e,d]);const B=E.useMemo(()=>F2(Be(C)),[C]),V=E.useMemo(()=>{const O=Be(C);return e.filter(F=>{const L=Be(F.date);return L.year()===O.year()&&L.month()===O.month()}).sort((F,L)=>Be(F.date).valueOf()-Be(L.date).valueOf())},[e,C]),D=E.useMemo(()=>{const O=new Map;return V.forEach(F=>{const L=Be(F.date).format("YYYY-MM-DD"),U=O.get(L)??[];U.push(F),O.set(L,U)}),Array.from(O.entries()).sort((F,L)=>Be(F[0]).valueOf()-Be(L[0]).valueOf()).map(([F,L])=>({date:F,sessions:L.slice().sort((U,W)=>(U.title??"").localeCompare(W.title??"","es"))}))},[V]),Q=f.get(k)??[];E.useEffect(()=>{Q.length>0?(!I||!Q.some(O=>O.id===I))&&A(Q[0].id):A(void 0)},[Q,I]);const re=I?e.find(O=>O.id===I):void 0,se=O=>{S(O),T(Be(O).startOf("month").format("YYYY-MM-DD"))},M=()=>{const O=s({date:k,title:"Nueva sesión",description:"",notes:""});A(O.id)},$=O=>{const F=a(O,k);F&&A(F.id)},Z=O=>{l(O),I===O&&A(void 0)},K=O=>{const F=Be(C).add(O,"month");T(F.format("YYYY-MM-DD")),S(L=>{const U=Be(L);return U.month()===F.month()&&U.year()===F.year()?L:F.startOf("month").format("YYYY-MM-DD")})};return x.jsxs("div",{className:"space-y-6",children:[x.jsx("header",{className:"glass-panel p-6 sm:p-10",children:x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Planificador"}),x.jsx("p",{className:"text-white/60",children:"Organiza tus sesiones con un calendario gráfico, duplica lo que funciona y edita cada detalle con drag & drop."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>K(-1),children:"← Mes anterior"}),x.jsx("div",{className:"rounded-full border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white/80",children:wy(C)}),x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>K(1),children:"Mes siguiente →"})]})]})}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.5fr_1.5fr] xl:grid-cols-[1.6fr_1.4fr]",children:[x.jsxs("section",{className:"glass-panel flex flex-col gap-6 p-6",children:[x.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(O=>x.jsx("div",{className:"rounded-full bg-white/5 py-2",children:O},O))}),x.jsx("div",{className:"grid grid-cols-7 gap-2",children:B.flat().map(O=>{const F=O.format("YYYY-MM-DD"),L=f.get(F)??[],U=O.month()===Be(C).month(),W=Ml(F,y),Y=Ml(F,k);return x.jsxs("button",{type:"button",onClick:()=>se(F),className:Xe("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",Y?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!U&&"text-white/30"),children:[x.jsx("span",{className:Xe("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",W?"bg-white text-slate-900":""),children:O.format("D")}),x.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[L.slice(0,3).map(b=>{const N=b.workItems[0],P=N?t.find(G=>G.id===N.workId):void 0,_=P?n.find(G=>G.id===P.objectiveId):void 0;return x.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(_==null?void 0:_.colorHex)??"rgba(255,255,255,0.4)"}},b.id)}),L.length>3?x.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},F)})})]}),x.jsxs("section",{className:"glass-panel flex flex-col gap-4 p-6",children:[x.jsxs("div",{className:"flex items-center justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones del mes"}),x.jsx("h2",{className:"text-lg font-semibold text-white",children:wy(C)})]}),x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[V.length," ",V.length===1?"sesión":"sesiones"]})]}),x.jsx("div",{className:"custom-scrollbar -m-2 max-h-[32rem] space-y-3 overflow-y-auto p-2",children:D.length===0?x.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/50",children:"Aún no hay sesiones planificadas para este mes. Selecciona un día en el calendario para crear la primera."}):D.map(({date:O,sessions:F})=>{const L=F.length===1?"1 sesión":`${F.length} sesiones`;return x.jsxs("div",{role:"button",tabIndex:0,onClick:()=>se(O),onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),se(O))},className:Xe("cursor-pointer rounded-2xl border border-white/10 bg-white/5 p-3 text-sm transition hover:border-white/40 hover:bg-white/10",Ml(O,k)&&"border-sky-400/50 bg-sky-500/10 shadow shadow-sky-500/10"),children:[x.jsxs("p",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[x.jsx("span",{children:Be(O).format("ddd · D MMM")}),x.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-[9px] font-semibold tracking-[0.2em] text-white/50",children:L})]}),x.jsx("div",{className:"mt-3 space-y-2 text-xs",children:F.map(U=>{const W=(U.description??"").trim(),Y=U.workItems.reduce((b,N)=>{const P=t.find(_=>_.id===N.workId);return b+(N.customDurationMinutes??(P==null?void 0:P.estimatedMinutes)??0)},0);return x.jsxs("button",{type:"button",onClick:b=>{b.stopPropagation(),se(O),A(U.id)},className:Xe("flex w-full flex-col gap-1 rounded-xl border border-white/10 bg-slate-950/60 px-3 py-2 text-left transition hover:border-white/30 hover:text-white",U.id===I&&Ml(O,k)&&"border-sky-400/60 text-white"),children:[x.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[x.jsx("span",{className:"truncate font-medium",children:U.title||"Sesión sin título"}),x.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-white/40",children:[U.workItems.length," · ",Y," min"]})]}),W?x.jsx("p",{className:"text-[11px] leading-relaxed text-white/60",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:W}):null]},U.id)})})]},O)})})]})]}),x.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),x.jsx("h2",{className:"text-2xl font-semibold text-white",children:Be(k).format("dddd, D [de] MMMM")})]}),x.jsx("div",{className:"flex gap-3",children:x.jsx("button",{type:"button",onClick:M,className:"btn-primary",children:"+ Nueva sesión"})})]}),x.jsx("div",{className:"space-y-3",children:Q.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"Aún no hay sesiones planificadas este día. Crea una con el botón superior."}):Q.map(O=>x.jsx(z2,{session:O,objectives:n,works:t,isActive:O.id===I,onSelect:()=>A(O.id),onDuplicate:()=>$(O.id),onDelete:()=>Z(O.id)},O.id))})]}),re&&x.jsx("div",{className:"glass-panel p-6",children:x.jsx(M2,{session:re,works:t,objectives:n,assistants:r,onDateChange:O=>{S(O),T(Be(O).startOf("month").format("YYYY-MM-DD"))}})})]})}const xy={name:"",objectiveId:"",parentWorkId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""]},by="__no_objective__";function B2({work:e,objective:t,parentWork:n,childWorks:r,depth:s,expanded:a,onToggle:l,onEdit:c,onDuplicate:d,onCreateChild:f,onDelete:p}){const m=(e.descriptionMarkdown??"").trim(),y=(e.notes??"").trim(),v=e.videoUrls.filter(V=>V.trim().length>0),k=m.length>0,S=y.length>0,C=v.length>0,T=k||S||C,I=!!n,A=r.length>0,B=s>0?{marginLeft:`${s*1.5}rem`}:void 0;return x.jsxs("article",{className:"relative space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5 shadow shadow-black/30",style:B,children:[t?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-3xl",style:{backgroundColor:t.colorHex}}):null,x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-white",children:e.name}),x.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[x.jsx(kr,{objective:t,size:"sm"}),T?x.jsxs("button",{type:"button",onClick:l,className:Xe("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",a&&"border-white/40 text-white"),children:[x.jsx("span",{className:Xe("transition-transform",a?"rotate-90":"rotate-0"),children:"▶"}),a?"Ocultar detalles":"Ver detalles"]}):null,x.jsx("button",{type:"button",onClick:c,className:"btn-secondary px-3 py-1 text-xs",children:"Editar"}),x.jsx("button",{type:"button",onClick:d,className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),x.jsx("button",{type:"button",onClick:f,className:"btn-secondary px-3 py-1 text-xs",children:"Nuevo hijo"}),x.jsx("button",{type:"button",onClick:p,className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]}),(I||A)&&x.jsxs("div",{className:"flex flex-wrap gap-3 rounded-2xl border border-dashed border-white/10 bg-white/5 p-3 text-xs text-white/60",children:[I?x.jsxs("span",{className:"inline-flex items-center gap-2",children:[x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Deriva de"}),x.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-white/80",children:n==null?void 0:n.name})]}):null,A?x.jsxs("span",{className:"inline-flex flex-wrap items-center gap-2",children:[x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Hijos"}),r.slice(0,4).map(V=>x.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-white/70",children:V.name},V.id)),r.length>4?x.jsxs("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-white/60",children:["+",r.length-4]}):null]}):null]}),T&&a&&x.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[k?x.jsx(ta,{content:e.descriptionMarkdown}):null,S?x.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,C?x.jsx("div",{className:"space-y-3",children:v.map((V,D)=>x.jsxs("div",{className:"space-y-2",children:[x.jsx(xh,{url:V,title:`${e.name} vídeo ${D+1}`}),x.jsx("a",{href:V,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${D}`))}):null]})]})}function W2({form:e,objectiveOptions:t,parentOptions:n,depth:r,onFieldChange:s,onVideoChange:a,onAddVideo:l,onRemoveVideo:c,onSave:d,onCancel:f,isNew:p}){const m=t.find(k=>k.id===e.objectiveId),y=n.find(k=>k.id===e.parentWorkId),v=r>0?{marginLeft:`${r*1.5}rem`}:void 0;return x.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",style:v,children:[x.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:p?"Nuevo trabajo":"Editando trabajo"}),x.jsx("input",{type:"text",className:"input-field text-base font-semibold",placeholder:"Nombre descriptivo",value:e.name,onChange:k=>s({name:k.target.value})})]}),x.jsx(kr,{objective:m,size:"sm"})]}),x.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),x.jsxs("select",{className:"input-field",value:e.objectiveId,onChange:k=>s({objectiveId:k.target.value}),children:[x.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map(k=>x.jsx("option",{value:k.id,children:k.name},k.id))]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Trabajo padre (opcional)"}),x.jsxs("select",{className:"input-field",value:e.parentWorkId,onChange:k=>s({parentWorkId:k.target.value}),children:[x.jsx("option",{value:"",children:"Sin trabajo padre"}),n.map(k=>x.jsx("option",{value:k.id,children:k.label},k.id))]}),e.parentWorkId&&y?x.jsxs("p",{className:"text-xs text-white/40",children:["Deriva de: ",y.label]}):null]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duración estimada (min)"}),x.jsx("input",{type:"number",min:0,className:"input-field",value:e.estimatedMinutes,onChange:k=>s({estimatedMinutes:Number(k.target.value)})})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:e.descriptionMarkdown,onChange:k=>s({descriptionMarkdown:k.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes."})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes,onChange:k=>s({notes:k.target.value})})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de YouTube"}),x.jsx("div",{className:"space-y-3",children:e.videoUrls.map((k,S)=>x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"url",className:"input-field flex-1",value:k,onChange:C=>a(S,C.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),e.videoUrls.length>1?x.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>c(S),"aria-label":"Eliminar enlace de vídeo",children:"✕"}):null]}),x.jsx(xh,{url:k,title:`Vista previa vídeo ${S+1}`})]},`video-field-${S}`))}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:l,children:"+ Añadir vídeo"})]}),x.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[x.jsx("button",{type:"button",onClick:d,className:"btn-primary",children:"Guardar"}),x.jsx("button",{type:"button",className:"btn-secondary",onClick:f,children:"Cancelar"})]})]})}function H2(){var Y;const e=Ne(b=>b.works),t=Ne(b=>b.objectives),n=Ne(b=>b.addWork),r=Ne(b=>b.updateWork),s=Ne(b=>b.deleteWork),[a,l]=E.useState(""),[c,d]=E.useState(null),[f,p]=E.useState(new Set),[m,y]=E.useState({}),v=E.useMemo(()=>new Map(t.map(b=>[b.id,b])),[t]),k=E.useMemo(()=>[...t].sort((b,N)=>(b.name??"").localeCompare(N.name??"","es")),[t]),S=E.useMemo(()=>new Map(e.map(b=>[b.id,b])),[e]),C=E.useMemo(()=>{const b=new Map;return e.forEach(N=>{const P=N.parentWorkId;if(!P)return;const _=b.get(P)??[];_.push(N),b.set(P,_)}),b.forEach(N=>{N.sort((P,_)=>P.name.localeCompare(_.name,"es",{sensitivity:"base"}))}),b},[e]),T=E.useMemo(()=>{const b=new Map,N=(P,_)=>{if(b.has(P))return b.get(P);const G=S.get(P);if(!G)return"";if(!G.parentWorkId||_.has(P))return b.set(P,G.name),G.name;_.add(P);const ee=N(G.parentWorkId,_);_.delete(P);const te=ee?`${ee} · ${G.name}`:G.name;return b.set(P,te),te};return e.forEach(P=>{N(P.id,new Set)}),b},[e,S]),I=E.useMemo(()=>{const b=new Map,N=P=>{if(b.has(P))return b.get(P);const _=new Set;return(C.get(P)??[]).forEach(ee=>{_.add(ee.id),N(ee.id).forEach(te=>_.add(te))}),b.set(P,_),_};return e.forEach(P=>N(P.id)),b},[e,C]),A=E.useCallback((b,N)=>{var G,ee;const P=new Set;b&&(P.add(b),(G=I.get(b))==null||G.forEach(te=>P.add(te)));const _=e.filter(te=>!P.has(te.id)).map(te=>({id:te.id,label:(()=>{var pe;const de=T.get(te.id)??te.name,fe=(pe=v.get(te.objectiveId))==null?void 0:pe.name;return fe?`${fe} · ${de}`:de})()})).sort((te,de)=>te.label.localeCompare(de.label,"es",{sensitivity:"base"}));if(N&&N.length>0&&!_.some(te=>te.id===N)){const te=S.get(N),de=T.get(N)??(te==null?void 0:te.name)??"Trabajo no disponible",fe=te?(ee=v.get(te.objectiveId))==null?void 0:ee.name:void 0,pe=fe?`${fe} · ${de}`:de;_.unshift({id:N,label:pe})}return _},[e,T,I,S,v]),B=a.trim().toLowerCase(),V=b=>{var G;if(!B)return!0;const N=((G=v.get(b.objectiveId))==null?void 0:G.name)??"",P=b.parentWorkId?T.get(b.parentWorkId)??"":"",_=b.id?T.get(b.id)??"":"";return b.name.toLowerCase().includes(B)||b.descriptionMarkdown.toLowerCase().includes(B)||N.toLowerCase().includes(B)||P.toLowerCase().includes(B)||_.toLowerCase().includes(B)},D=E.useMemo(()=>{const b=[],N=P=>{if(!P)return 0;let _=1,G=S.get(P);const ee=new Set(P?[P]:[]);for(;G&&G.parentWorkId;){const te=G.parentWorkId;if(!te||ee.has(te))break;_+=1,ee.add(te),G=S.get(te)}return _};return e.forEach(P=>{const _=m[P.id],G=(_==null?void 0:_.data)??{id:P.id,name:P.name,descriptionMarkdown:P.descriptionMarkdown,objectiveId:P.objectiveId,parentWorkId:P.parentWorkId??""};!_&&!V(G)||b.push({id:P.id,objectiveId:G.objectiveId,parentWorkId:G.parentWorkId??"",depth:N(G.parentWorkId),work:P,isNew:!1,isEditing:!!_,form:_==null?void 0:_.data})}),Object.entries(m).filter(([,P])=>P.isNew).forEach(([P,_])=>{V(_.data)&&b.push({id:P,objectiveId:_.data.objectiveId,parentWorkId:_.data.parentWorkId,depth:N(_.data.parentWorkId||void 0),work:void 0,isNew:!0,isEditing:!0,form:_.data})}),b},[e,S,m,V]),Q=E.useMemo(()=>{const b=new Map;D.forEach(ee=>{const te=v.has(ee.objectiveId)?ee.objectiveId:by,de=b.get(te)??[];de.push(ee),b.set(te,de)});const N=ee=>{var te,de;if(ee.isEditing&&ee.form){const fe=ee.form.name.trim()||(((te=ee.work)==null?void 0:te.name)??""),pe=ee.form.parentWorkId&&ee.form.parentWorkId.length>0?T.get(ee.form.parentWorkId)??((de=S.get(ee.form.parentWorkId))==null?void 0:de.name)??"":"";return pe?`${pe} · ${fe}`:fe}return ee.work?T.get(ee.work.id)??ee.work.name:ee.id},P=(ee,te)=>{const de=N(ee),fe=N(te);return de.localeCompare(fe,"es",{sensitivity:"base"})},_=[];k.forEach(ee=>{const te=b.get(ee.id);te&&te.length&&_.push({objective:ee,items:te.slice().sort(P)})});const G=b.get(by);return G&&G.length&&_.push({objective:void 0,items:G.slice().sort(P)}),_},[D,v,k,T,S]),re=((Y=k[0])==null?void 0:Y.id)??"",se=(b,N)=>{y(P=>{const _=P[b];return _?{...P,[b]:N(_)}:P})},M=b=>b.length>0?b:[""],$=b=>{y(N=>N[b.id]?N:{...N,[b.id]:{data:{id:b.id,name:b.name,objectiveId:b.objectiveId,parentWorkId:b.parentWorkId??"",descriptionMarkdown:b.descriptionMarkdown,estimatedMinutes:b.estimatedMinutes,notes:b.notes??"",videoUrls:M(b.videoUrls.slice())},isNew:!1,originalId:b.id}}),p(N=>{const P=new Set(N);return P.add(b.id),P})},Z=()=>{const b=`draft-${dn()}`;y(N=>({...N,[b]:{data:{...xy,id:b,objectiveId:re},isNew:!0}})),p(N=>{const P=new Set(N);return P.add(b),P})},K=b=>{const N=`draft-${dn()}`;y(P=>({...P,[N]:{data:{id:N,name:`${b.name} (copia)`,objectiveId:b.objectiveId,parentWorkId:b.parentWorkId??"",descriptionMarkdown:b.descriptionMarkdown,estimatedMinutes:b.estimatedMinutes,notes:b.notes??"",videoUrls:M(b.videoUrls.slice())},isNew:!0}})),p(P=>{const _=new Set(P);return _.add(N),_}),d({type:"success",text:"Duplicación creada. Ajusta y guarda para confirmarla."})},O=b=>{const N=`draft-${dn()}`;y(P=>({...P,[N]:{data:{...xy,id:N,objectiveId:b.objectiveId,parentWorkId:b.id,estimatedMinutes:b.estimatedMinutes},isNew:!0}})),p(P=>{const _=new Set(P);return _.add(N),_}),d({type:"success",text:`Creando un trabajo hijo para «${b.name}». Ajusta y guarda para confirmarlo.`})},F=b=>{p(N=>{const P=new Set(N);return P.has(b)?P.delete(b):P.add(b),P})},L=b=>{y(N=>{const P={...N};return delete P[b],P}),b.startsWith("draft-")&&p(N=>{const P=new Set(N);return P.delete(b),P})},U=b=>{const N=m[b];if(!N)return;const P=(N.data.parentWorkId??"").trim(),_=P.length>0?P:void 0,G={name:N.data.name.trim(),objectiveId:N.data.objectiveId,descriptionMarkdown:N.data.descriptionMarkdown,estimatedMinutes:Number(N.data.estimatedMinutes)||0,notes:N.data.notes.trim()||void 0,videoUrls:N.data.videoUrls.map(ee=>ee.trim()).filter(Boolean),parentWorkId:_};if(!G.name){d({type:"error",text:"El nombre es obligatorio."});return}if(!G.objectiveId){d({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if(G.parentWorkId&&N.originalId){if(G.parentWorkId===N.originalId){d({type:"error",text:"Un trabajo no puede ser su propio padre."});return}const ee=I.get(N.originalId);if(ee&&ee.has(G.parentWorkId)){d({type:"error",text:"Selecciona un trabajo padre que no sea un descendiente."});return}}if(N.isNew){const ee=n(G);y(te=>{const de={...te};return delete de[b],de}),p(te=>{const de=new Set(te);return de.delete(b)&&de.add(ee.id),de}),d({type:"success",text:"Trabajo creado correctamente."})}else N.originalId&&(r(N.originalId,G),y(ee=>{const te={...ee};return delete te[b],te}),d({type:"success",text:"Trabajo actualizado."}))},W=b=>{var _;const N=(((_=I.get(b))==null?void 0:_.size)??0)>0;if(!s(b)){d({type:"error",text:N?"No se puede eliminar porque tiene trabajos hijos.":"No se puede eliminar porque está siendo usado en alguna sesión."});return}d({type:"success",text:"Trabajo eliminado."}),y(G=>{const ee={...G};return delete ee[b],ee}),p(G=>{const ee=new Set(G);return ee.delete(b),ee})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),x.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),x.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[x.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:a,onChange:b=>l(b.target.value),placeholder:"Buscar por nombre, descripción u objetivo"}),x.jsx("button",{type:"button",className:"btn-primary",onClick:Z,children:"Nuevo trabajo"})]})]}),c&&x.jsx("div",{className:Xe("rounded-2xl border px-4 py-3 text-sm",c.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:c.text})]}),x.jsx("section",{className:"space-y-6",children:Q.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no hay trabajos guardados. Empieza creando uno con el botón «Nuevo trabajo»."}):Q.map(({objective:b,items:N})=>{const P=b?b.name:"Sin objetivo asignado";return x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:P}),x.jsx(kr,{objective:b,size:"sm"})]}),x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[N.length," trabajo",N.length===1?"":"s"]})]}),x.jsx("div",{className:"space-y-4",children:N.map(_=>{var pe,he;const G=f.has(_.id),ee=(_.isEditing&&_.form?_.form.parentWorkId:_.parentWorkId)??"",te=_.isEditing?A((pe=_.work)==null?void 0:pe.id,ee):[],de=(he=_.work)!=null&&he.parentWorkId?S.get(_.work.parentWorkId)??void 0:void 0,fe=_.work?C.get(_.work.id)??[]:[];return _.isEditing&&_.form?x.jsx(W2,{form:_.form,objectiveOptions:k,parentOptions:te,depth:_.depth,onFieldChange:Ae=>se(_.id,Fe=>{const ze={...Fe.data,...Ae};if(Ae.parentWorkId!==void 0&&Ae.parentWorkId.length>0){const at=S.get(Ae.parentWorkId);at&&(ze.objectiveId=at.objectiveId)}return{...Fe,data:ze}}),onVideoChange:(Ae,Fe)=>se(_.id,ze=>{const at=ze.data.videoUrls.slice();return at[Ae]=Fe,{...ze,data:{...ze.data,videoUrls:at}}}),onAddVideo:()=>se(_.id,Ae=>({...Ae,data:{...Ae.data,videoUrls:[...Ae.data.videoUrls,""]}})),onRemoveVideo:Ae=>se(_.id,Fe=>{const ze=Fe.data.videoUrls.slice();return ze.splice(Ae,1),{...Fe,data:{...Fe.data,videoUrls:ze.length?ze:[""]}}}),onSave:()=>U(_.id),onCancel:()=>L(_.id),isNew:_.isNew},_.id):_.work?x.jsx(B2,{work:_.work,objective:v.get(_.work.objectiveId),parentWork:de,childWorks:fe,depth:_.depth,expanded:G,onToggle:()=>F(_.id),onEdit:()=>$(_.work),onDuplicate:()=>K(_.work),onCreateChild:()=>O(_.work),onDelete:()=>W(_.work.id)},_.id):null})})]},(b==null?void 0:b.id)??"sin-objetivo")})})]})}const Jd={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},ky=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function V2(){const e=Ne(S=>S.objectives),t=Ne(S=>S.addObjective),n=Ne(S=>S.updateObjective),r=Ne(S=>S.deleteObjective),s=Ne(S=>S.works),[a,l]=E.useState(Jd),[c,d]=E.useState(null),f=E.useMemo(()=>{const S=new Map;return s.forEach(C=>{S.set(C.objectiveId,(S.get(C.objectiveId)??0)+1)}),S},[s]),p=E.useMemo(()=>[...e].sort((S,C)=>(S.name??"").localeCompare(C.name??"","es")),[e]),m=S=>{if(S.preventDefault(),!a.name.trim()){d({type:"error",text:"El nombre es obligatorio."});return}const C={name:a.name.trim(),colorHex:a.colorHex,descriptionMarkdown:a.descriptionMarkdown};a.id?(n(a.id,C),d({type:"success",text:"Objetivo actualizado."})):(t(C),d({type:"success",text:"Objetivo creado."})),l(Jd)},y=S=>{l({id:S.id,name:S.name,colorHex:S.colorHex,descriptionMarkdown:S.descriptionMarkdown})},v=S=>{const C=r(S);d(C?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},k=()=>{if(e.length===0){d({type:"error",text:"No hay objetivos a los que asignar colores."});return}const S=[...ky];e.map((T,I)=>{const A=S[I%S.length];return{id:T.id,colorHex:A}}).forEach(({id:T,colorHex:I})=>n(T,{colorHex:I})),d({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),x.jsx("p",{className:"text-white/60",children:"Define categorías de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),x.jsx("div",{className:"flex flex-wrap gap-3",children:x.jsx("button",{type:"button",className:"btn-secondary",onClick:k,children:"Repartir colores"})})]}),c&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${c.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:c.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:a.id?"Editar objetivo":"Nuevo objetivo"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:m,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:a.name,onChange:S=>l(C=>({...C,name:S.target.value})),placeholder:"Ej. Resistencia, Técnica, Juego",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),x.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:a.colorHex,onChange:S=>l(C=>({...C,colorHex:S.target.value})),"aria-label":"Elegir color personalizado"}),x.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:a.colorHex,onChange:S=>l(C=>({...C,colorHex:S.target.value})),placeholder:"#60a5fa","aria-label":"Código hex del color"})]}),x.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:ky.map(S=>x.jsx("button",{type:"button",onClick:()=>l(C=>({...C,colorHex:S})),className:Xe("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",a.colorHex.toLowerCase()===S.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:S},"aria-label":`Seleccionar color ${S}`,children:a.colorHex.toLowerCase()===S.toLowerCase()&&x.jsx("span",{className:"text-xs font-semibold text-slate-900",children:"✓"})},S))})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:a.descriptionMarkdown,onChange:S=>l(C=>({...C,descriptionMarkdown:S.target.value})),placeholder:"Explica cuándo usar este tipo de trabajo, objetivos pedagógicos, etc."})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:a.id?"Guardar objetivo":"Crear objetivo"}),a.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l(Jd),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-6",children:p.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripción."}):p.map(S=>x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsx(kr,{objective:S}),x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[x.jsxs("span",{children:[f.get(S.id)??0," trabajos"]}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>y(S),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>v(S.id),children:"Eliminar"})]})]}),x.jsx(ta,{content:S.descriptionMarkdown})]},S.id))})]})]})}const Qd={name:"",notes:"",active:!0};function q2(){const e=Ne(p=>p.assistants),t=Ne(p=>p.addAssistant),n=Ne(p=>p.updateAssistant),r=Ne(p=>p.deleteAssistant),[s,a]=E.useState(Qd),[l,c]=E.useState(null),d=p=>{if(p.preventDefault(),!s.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const m={name:s.name.trim(),notes:s.notes,active:s.active};s.id?(n(s.id,m),c({type:"success",text:"Asistente actualizado."})):(t(m),c({type:"success",text:"Asistente añadido."})),a(Qd)},f=p=>{a({id:p.id,name:p.name,notes:p.notes??"",active:p.active})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),x.jsx("p",{className:"text-white/60",children:"Mantén una lista base de alumnado para registrar asistencia rápidamente durante cada sesión."})]})}),l&&x.jsx("div",{className:Xe("mt-4 rounded-2xl border px-4 py-3 text-sm",l.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:l.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:s.id?"Editar asistente":"Nuevo asistente"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:d,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:s.name,onChange:p=>a(m=>({...m,name:p.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:s.notes,onChange:p=>a(m=>({...m,notes:p.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:s.active,onChange:p=>a(m=>({...m,active:p.target.checked}))}),x.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecerá en los listados de asistencia)"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:s.id?"Guardar asistente":"Añadir asistente"}),s.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(Qd),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-4",children:e.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todavía no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(p=>x.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:p.name}),p.notes?x.jsx("p",{className:"text-sm text-white/60",children:p.notes}):null]}),x.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[x.jsx("span",{className:Xe("rounded-full border px-3 py-1 text-xs font-semibold",p.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:p.active?"Activo":"Inactivo"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(p),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(p.id),children:"Eliminar"})]})]})]},p.id))})]})]})}function Ss(e,t){return x.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[x.jsx("span",{children:e}),x.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function Y2(){var d,f,p,m,y,v;const e=Ne(k=>k.exportBackup),t=Ne(k=>k.importBackup),[n,r]=E.useState(null),[s,a]=E.useState(null),l=()=>{try{const k=e(),S=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),C=URL.createObjectURL(S),T=document.createElement("a");T.href=C,T.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,T.click(),URL.revokeObjectURL(C),r({type:"success",text:"Backup exportado correctamente."})}catch(k){console.error(k),r({type:"error",text:"No se pudo exportar el backup."})}},c=async k=>{var C;const S=(C=k.target.files)==null?void 0:C[0];if(S)try{const T=await S.text(),I=JSON.parse(T);t(I),a(I),r({type:"success",text:"Datos importados correctamente."})}catch(T){console.error(T),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON válido."})}finally{k.target.value=""}};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),x.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu información en JSON versionado para compartir o restaurar en cualquier momento."})]}),x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[x.jsx("button",{type:"button",className:"btn-primary",onClick:l,children:"Descargar backup"}),x.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",x.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:c})]})]})]}),n&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),s&&x.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:"Última importación"}),x.jsxs("p",{className:"text-sm text-white/60",children:["Versión del backup: ",s.version]}),x.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[Ss("Objetivos",((d=s.objetivos)==null?void 0:d.length)??0),Ss("Trabajos",((f=s.trabajos)==null?void 0:f.length)??0),Ss("Sesiones",((p=s.sesiones)==null?void 0:p.length)??0),Ss("Asistentes",((m=s.asistentes)==null?void 0:m.length)??0),Ss("Sesiones · Trabajos",((y=s.sesiones_trabajos)==null?void 0:y.length)??0),Ss("Sesiones · Asistencias",((v=s.sesiones_asistencias)==null?void 0:v.length)??0)]})]}),x.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[x.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),x.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[x.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),x.jsx("li",{children:"Antes de importar, realiza una exportación por seguridad. La restauración sobrescribe los datos actuales sin posibilidad de deshacer."}),x.jsx("li",{children:"Los backups mantienen los IDs, así que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function K2(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=xu(),[s,a]=E.useState("login"),[l,c]=E.useState(""),[d,f]=E.useState(""),[p,m]=E.useState(""),[y,v]=E.useState(!1),[k,S]=E.useState(null),[C,T]=E.useState(null);if(!r&&n)return x.jsx(Vf,{to:"/",replace:!0});const I=async B=>{if(B.preventDefault(),S(null),T(null),!l||!d){S("Introduce tu email y contraseña.");return}if(s==="register"&&d!==p){S("Las contraseñas no coinciden.");return}try{v(!0),s==="login"?await e(l,d):(await t(l,d),T("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesión."))}catch(V){const D=V instanceof Error?V.message:"No se pudo completar la operación.";S(D)}finally{v(!1)}},A=()=>{a(B=>B==="login"?"register":"login"),S(null),T(null),f(""),m("")};return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:x.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[x.jsxs("header",{className:"mb-8 text-center",children:[x.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),x.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:s==="login"?"Inicia sesión":"Crea tu cuenta"}),x.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),x.jsxs("form",{className:"space-y-5",onSubmit:I,children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),x.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:l,onChange:B=>c(B.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contraseña"}),x.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:d,onChange:B=>f(B.target.value),autoComplete:s==="login"?"current-password":"new-password"})]}),s==="register"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contraseña"}),x.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:p,onChange:B=>m(B.target.value),autoComplete:"new-password"})]}),k&&x.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:k}),C&&x.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:C}),x.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:y,children:y?"Procesando…":s==="login"?"Entrar":"Crear cuenta"})]}),x.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:s==="login"?x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:A,children:"¿No tienes cuenta? Regístrate"}):x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:A,children:"¿Ya tienes cuenta? Inicia sesión"})})]})})}const G2="/sport-planner/".replace(/\/$/,""),Sy=[{to:"/",label:"Home"},{to:"/plan",label:"Planificar"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function J2(){const[e,t]=E.useState(!1),[n,r]=E.useState(!1),{user:s,signOut:a}=xu(),l=async()=>{try{r(!0),await a()}catch(c){console.error("No se pudo cerrar sesión",c)}finally{r(!1),t(!1)}};return x.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[x.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[x.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),x.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increíbles"})]})]}),x.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[x.jsx("nav",{className:"flex items-center gap-2",children:Sy.map(c=>x.jsx(xg,{to:c.to,className:({isActive:d})=>`rounded-full px-4 py-2 text-sm font-medium transition ${d?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:c.label},c.to))}),x.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-white/50",children:"Sesión iniciada"}),x.jsx("p",{className:"text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"})]}),x.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]}),x.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),x.jsxs(Mg,{open:e,onClose:t,className:"md:hidden",children:[x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),x.jsxs(Mg.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegación"}),x.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"mt-6 flex flex-col gap-2",children:Sy.map(c=>x.jsx(xg,{to:c.to,className:({isActive:d})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${d?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:c.label},c.to))}),x.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesión iniciada"}),x.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"}),x.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]})]})]})}function Q2(){return oj(),x.jsxs("div",{className:"min-h-screen pb-16",children:[x.jsx(J2,{}),x.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:x.jsx(Dy,{})})]})}function X2(){return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),x.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner…"})]})})}function Z2(){const{session:e,loading:t}=xu(),n=oi();return t?x.jsx(X2,{}):e?x.jsx(Dy,{}):x.jsx(Vf,{to:"/login",replace:!0,state:{from:n}})}function eD(){return x.jsx(f1,{basename:G2||void 0,children:x.jsxs(r1,{children:[x.jsx(Fn,{path:"/login",element:x.jsx(K2,{})}),x.jsx(Fn,{element:x.jsx(Z2,{}),children:x.jsxs(Fn,{element:x.jsx(Q2,{}),children:[x.jsx(Fn,{index:!0,element:x.jsx(KR,{})}),x.jsx(Fn,{path:"plan",element:x.jsx(U2,{})}),x.jsx(Fn,{path:"catalog",element:x.jsx(H2,{})}),x.jsx(Fn,{path:"objectives",element:x.jsx(V2,{})}),x.jsx(Fn,{path:"assistants",element:x.jsx(q2,{})}),x.jsx(Fn,{path:"backups",element:x.jsx(Y2,{})})]})}),x.jsx(Fn,{path:"*",element:x.jsx(Vf,{to:"/",replace:!0})})]})})}Ne.getState().hydrate();fk.createRoot(document.getElementById("root")).render(x.jsx(ye.StrictMode,{children:x.jsx(GC,{children:x.jsx(eD,{})})}));
