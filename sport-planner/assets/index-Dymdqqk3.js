function ek(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Ds(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tk(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var ad={exports:{}},jo={},ud={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function nk(){if(ig)return Ie;ig=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function _(R,H,j){this.props=R,this.context=H,this.refs=b,this.updater=j||v}_.prototype.isReactComponent={},_.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},_.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function N(){}N.prototype=_.prototype;function I(R,H,j){this.props=R,this.context=H,this.refs=b,this.updater=j||v}var A=I.prototype=new N;A.constructor=I,k(A,_.prototype),A.isPureReactComponent=!0;var U=Array.isArray,Y=Object.prototype.hasOwnProperty,$={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function te(R,H,j){var ae,fe={},ue=null,be=null;if(H!=null)for(ae in H.ref!==void 0&&(be=H.ref),H.key!==void 0&&(ue=""+H.key),H)Y.call(H,ae)&&!J.hasOwnProperty(ae)&&(fe[ae]=H[ae]);var ge=arguments.length-2;if(ge===1)fe.children=j;else if(1<ge){for(var we=Array(ge),ce=0;ce<ge;ce++)we[ce]=arguments[ce+2];fe.children=we}if(R&&R.defaultProps)for(ae in ge=R.defaultProps,ge)fe[ae]===void 0&&(fe[ae]=ge[ae]);return{$$typeof:e,type:R,key:ue,ref:be,props:fe,_owner:$.current}}function K(R,H){return{$$typeof:e,type:R.type,key:H,ref:R.ref,props:R.props,_owner:R._owner}}function L(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function V(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(j){return H[j]})}var Z=/\/+/g;function X(R,H){return typeof R=="object"&&R!==null&&R.key!=null?V(""+R.key):H.toString(36)}function T(R,H,j,ae,fe){var ue=typeof R;(ue==="undefined"||ue==="boolean")&&(R=null);var be=!1;if(R===null)be=!0;else switch(ue){case"string":case"number":be=!0;break;case"object":switch(R.$$typeof){case e:case t:be=!0}}if(be)return be=R,fe=fe(be),R=ae===""?"."+X(be,0):ae,U(fe)?(j="",R!=null&&(j=R.replace(Z,"$&/")+"/"),T(fe,H,j,"",function(ce){return ce})):fe!=null&&(L(fe)&&(fe=K(fe,j+(!fe.key||be&&be.key===fe.key?"":(""+fe.key).replace(Z,"$&/")+"/")+R)),H.push(fe)),1;if(be=0,ae=ae===""?".":ae+":",U(R))for(var ge=0;ge<R.length;ge++){ue=R[ge];var we=ae+X(ue,ge);be+=T(ue,H,j,we,fe)}else if(we=y(R),typeof we=="function")for(R=we.call(R),ge=0;!(ue=R.next()).done;)ue=ue.value,we=ae+X(ue,ge++),be+=T(ue,H,j,we,fe);else if(ue==="object")throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return be}function M(R,H,j){if(R==null)return R;var ae=[],fe=0;return T(R,ae,"","",function(ue){return H.call(j,ue,fe++)}),ae}function P(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(j){(R._status===0||R._status===-1)&&(R._status=1,R._result=j)},function(j){(R._status===0||R._status===-1)&&(R._status=2,R._result=j)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var D={current:null},F={transition:null},W={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:F,ReactCurrentOwner:$};function C(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:M,forEach:function(R,H,j){M(R,function(){H.apply(this,arguments)},j)},count:function(R){var H=0;return M(R,function(){H++}),H},toArray:function(R){return M(R,function(H){return H})||[]},only:function(R){if(!L(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ie.Component=_,Ie.Fragment=n,Ie.Profiler=s,Ie.PureComponent=I,Ie.StrictMode=r,Ie.Suspense=d,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Ie.act=C,Ie.cloneElement=function(R,H,j){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ae=k({},R.props),fe=R.key,ue=R.ref,be=R._owner;if(H!=null){if(H.ref!==void 0&&(ue=H.ref,be=$.current),H.key!==void 0&&(fe=""+H.key),R.type&&R.type.defaultProps)var ge=R.type.defaultProps;for(we in H)Y.call(H,we)&&!J.hasOwnProperty(we)&&(ae[we]=H[we]===void 0&&ge!==void 0?ge[we]:H[we])}var we=arguments.length-2;if(we===1)ae.children=j;else if(1<we){ge=Array(we);for(var ce=0;ce<we;ce++)ge[ce]=arguments[ce+2];ae.children=ge}return{$$typeof:e,type:R.type,key:fe,ref:ue,props:ae,_owner:be}},Ie.createContext=function(R){return R={$$typeof:a,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},Ie.createElement=te,Ie.createFactory=function(R){var H=te.bind(null,R);return H.type=R,H},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(R){return{$$typeof:c,render:R}},Ie.isValidElement=L,Ie.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:P}},Ie.memo=function(R,H){return{$$typeof:f,type:R,compare:H===void 0?null:H}},Ie.startTransition=function(R){var H=F.transition;F.transition={};try{R()}finally{F.transition=H}},Ie.unstable_act=C,Ie.useCallback=function(R,H){return D.current.useCallback(R,H)},Ie.useContext=function(R){return D.current.useContext(R)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(R){return D.current.useDeferredValue(R)},Ie.useEffect=function(R,H){return D.current.useEffect(R,H)},Ie.useId=function(){return D.current.useId()},Ie.useImperativeHandle=function(R,H,j){return D.current.useImperativeHandle(R,H,j)},Ie.useInsertionEffect=function(R,H){return D.current.useInsertionEffect(R,H)},Ie.useLayoutEffect=function(R,H){return D.current.useLayoutEffect(R,H)},Ie.useMemo=function(R,H){return D.current.useMemo(R,H)},Ie.useReducer=function(R,H,j){return D.current.useReducer(R,H,j)},Ie.useRef=function(R){return D.current.useRef(R)},Ie.useState=function(R){return D.current.useState(R)},Ie.useSyncExternalStore=function(R,H,j){return D.current.useSyncExternalStore(R,H,j)},Ie.useTransition=function(){return D.current.useTransition()},Ie.version="18.3.1",Ie}var sg;function su(){return sg||(sg=1,ud.exports=nk()),ud.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function rk(){if(og)return jo;og=1;var e=su(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var p,m={},y=null,v=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)r.call(d,p)&&!l.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:c,key:y,ref:v,props:m,_owner:s.current}}return jo.Fragment=n,jo.jsx=a,jo.jsxs=a,jo}var lg;function ik(){return lg||(lg=1,ad.exports=rk()),ad.exports}var x=ik(),S=su();const me=Ds(S),Qd=ek({__proto__:null,default:me},[S]);var xa={},cd={exports:{}},Gt={},dd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function sk(){return ag||(ag=1,(function(e){function t(F,W){var C=F.length;F.push(W);e:for(;0<C;){var R=C-1>>>1,H=F[R];if(0<s(H,W))F[R]=W,F[C]=H,C=R;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],C=F.pop();if(C!==W){F[0]=C;e:for(var R=0,H=F.length,j=H>>>1;R<j;){var ae=2*(R+1)-1,fe=F[ae],ue=ae+1,be=F[ue];if(0>s(fe,C))ue<H&&0>s(be,fe)?(F[R]=be,F[ue]=C,R=ue):(F[R]=fe,F[ae]=C,R=ae);else if(ue<H&&0>s(be,C))F[R]=be,F[ue]=C,R=ue;else break e}}return W}function s(F,W){var C=F.sortIndex-W.sortIndex;return C!==0?C:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var d=[],f=[],p=1,m=null,y=3,v=!1,k=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=F)r(f),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(f)}}function U(F){if(b=!1,A(F),!k)if(n(d)!==null)k=!0,P(Y);else{var W=n(f);W!==null&&D(U,W.startTime-F)}}function Y(F,W){k=!1,b&&(b=!1,N(te),te=-1),v=!0;var C=y;try{for(A(W),m=n(d);m!==null&&(!(m.expirationTime>W)||F&&!V());){var R=m.callback;if(typeof R=="function"){m.callback=null,y=m.priorityLevel;var H=R(m.expirationTime<=W);W=e.unstable_now(),typeof H=="function"?m.callback=H:m===n(d)&&r(d),A(W)}else r(d);m=n(d)}if(m!==null)var j=!0;else{var ae=n(f);ae!==null&&D(U,ae.startTime-W),j=!1}return j}finally{m=null,y=C,v=!1}}var $=!1,J=null,te=-1,K=5,L=-1;function V(){return!(e.unstable_now()-L<K)}function Z(){if(J!==null){var F=e.unstable_now();L=F;var W=!0;try{W=J(!0,F)}finally{W?X():($=!1,J=null)}}else $=!1}var X;if(typeof I=="function")X=function(){I(Z)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,M=T.port2;T.port1.onmessage=Z,X=function(){M.postMessage(null)}}else X=function(){_(Z,0)};function P(F){J=F,$||($=!0,X())}function D(F,W){te=_(function(){F(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,P(Y))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var C=y;y=W;try{return F()}finally{y=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var C=y;y=F;try{return W()}finally{y=C}},e.unstable_scheduleCallback=function(F,W,C){var R=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?R+C:R):C=R,F){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=C+H,F={id:p++,callback:W,priorityLevel:F,startTime:C,expirationTime:H,sortIndex:-1},C>R?(F.sortIndex=C,t(f,F),n(d)===null&&F===n(f)&&(b?(N(te),te=-1):b=!0,D(U,C-R))):(F.sortIndex=H,t(d,F),k||v||(k=!0,P(Y))),F},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(F){var W=y;return function(){var C=y;y=W;try{return F.apply(this,arguments)}finally{y=C}}}})(fd)),fd}var ug;function ok(){return ug||(ug=1,dd.exports=sk()),dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function lk(){if(cg)return Gt;cg=1;var e=su(),t=ok();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(i,o){a(i,o),a(i+"Capture",o)}function a(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(i){return d.call(m,i)?!0:d.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function v(i,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,h){if(o===null||typeof o>"u"||v(i,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(i,o,u,h,g,w,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=E}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];_[o]=new b(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function I(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(N,I);_[o]=new b(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(N,I);_[o]=new b(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(N,I);_[o]=new b(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function A(i,o,u,h){var g=_.hasOwnProperty(o)?_[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,g,h)&&(u=null),h||g===null?y(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,h=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?i.setAttributeNS(h,o,u):i.setAttribute(o,u))))}var U=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),$=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),F=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var C=Object.assign,R;function H(i){if(R===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);R=o&&o[1]||""}return`
`+R+i}var j=!1;function ae(i,o){if(!i||j)return"";j=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var h=Q}Reflect.construct(i,[],o)}else{try{o.call()}catch(Q){h=Q}i.call(o.prototype)}else{try{throw Error()}catch(Q){h=Q}i()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var g=Q.stack.split(`
`),w=h.stack.split(`
`),E=g.length-1,O=w.length-1;1<=E&&0<=O&&g[E]!==w[O];)O--;for(;1<=E&&0<=O;E--,O--)if(g[E]!==w[O]){if(E!==1||O!==1)do if(E--,O--,0>O||g[E]!==w[O]){var z=`
`+g[E].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=E&&0<=O);break}}}finally{j=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?H(i):""}function fe(i){switch(i.tag){case 5:return H(i.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return i=ae(i.type,!1),i;case 11:return i=ae(i.type.render,!1),i;case 1:return i=ae(i.type,!0),i;default:return""}}function ue(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case J:return"Fragment";case $:return"Portal";case K:return"Profiler";case te:return"StrictMode";case X:return"Suspense";case T:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case Z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return o=i.displayName||null,o!==null?o:ue(i.type)||"Memo";case P:o=i._payload,i=i._init;try{return ue(i(o))}catch{}}return null}function be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(o);case 8:return o===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ge(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function we(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ce(i){var o=we(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){h=""+E,w.call(this,E)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ze(i){i._valueTracker||(i._valueTracker=ce(i))}function st(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=we(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function vt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Mt(i,o){var u=o.checked;return C({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function fn(i,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=ge(o.value!=null?o.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function hn(i,o){o=o.checked,o!=null&&A(i,"checked",o,!1)}function lr(i,o){hn(i,o);var u=ge(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Vn(i,o.type,u):o.hasOwnProperty("defaultValue")&&Vn(i,o.type,ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ui(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Vn(i,o,u){(o!=="number"||vt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var St=Array.isArray;function nn(i,o,u,h){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+ge(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function qn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return C({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ci(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(St(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ge(u)}}function di(i,o){var u=ge(o.value),h=ge(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function Ui(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ee(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ee(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xe,je=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,h,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(xe=xe||document.createElement("div"),xe.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=xe.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Re(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pn=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(i){pn.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),We[o]=We[i]})});function Bt(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||We.hasOwnProperty(i)&&We[i]?(""+o).trim():o+"px"}function Yn(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Bt(u,o[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,g):i[u]=g}}var Tn=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(i,o){if(o){if(Tn[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function mn(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function Hs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vs=null,jr=null,Xe=null;function jt(i){if(i=fo(i)){if(typeof Vs!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Dl(o),Vs(i.stateNode,i.type,o))}}function Tt(i){jr?Xe?Xe.push(i):Xe=[i]:jr=i}function Nn(){if(jr){var i=jr,o=Xe;if(Xe=jr=null,jt(i),o)for(i=0;i<o.length;i++)jt(o[i])}}function $t(i,o){return i(o)}function Nt(){}var Wt=!1;function ar(i,o,u){if(Wt)return i(o,u);Wt=!0;try{return $t(i,o,u)}finally{Wt=!1,(jr!==null||Xe!==null)&&(Nt(),Nn())}}function Ze(i,o){var u=i.stateNode;if(u===null)return null;var h=Dl(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var gn=!1;if(c)try{var At={};Object.defineProperty(At,"passive",{get:function(){gn=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{gn=!1}function An(i,o,u,h,g,w,E,O,z){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(u,Q)}catch(re){this.onError(re)}}var In=!1,Kn=null,rn=!1,ur=null,qs={onError:function(i){In=!0,Kn=i}};function ax(i,o,u,h,g,w,E,O,z){In=!1,Kn=null,An.apply(qs,arguments)}function ux(i,o,u,h,g,w,E,O,z){if(ax.apply(this,arguments),In){if(In){var Q=Kn;In=!1,Kn=null}else throw Error(n(198));rn||(rn=!0,ur=Q)}}function fi(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function jh(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Th(i){if(fi(i)!==i)throw Error(n(188))}function cx(i){var o=i.alternate;if(!o){if(o=fi(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,h=o;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return Th(g),i;if(w===h)return Th(g),o;w=w.sibling}throw Error(n(188))}if(u.return!==h.return)u=g,h=w;else{for(var E=!1,O=g.child;O;){if(O===u){E=!0,u=g,h=w;break}if(O===h){E=!0,h=g,u=w;break}O=O.sibling}if(!E){for(O=w.child;O;){if(O===u){E=!0,u=w,h=g;break}if(O===h){E=!0,h=w,u=g;break}O=O.sibling}if(!E)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Nh(i){return i=cx(i),i!==null?Ah(i):null}function Ah(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ah(i);if(o!==null)return o;i=i.sibling}return null}var Ih=t.unstable_scheduleCallback,Ph=t.unstable_cancelCallback,dx=t.unstable_shouldYield,fx=t.unstable_requestPaint,ot=t.unstable_now,hx=t.unstable_getCurrentPriorityLevel,Tu=t.unstable_ImmediatePriority,Rh=t.unstable_UserBlockingPriority,ml=t.unstable_NormalPriority,px=t.unstable_LowPriority,Oh=t.unstable_IdlePriority,gl=null,Gn=null;function mx(i){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(gl,i,void 0,(i.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:yx,gx=Math.log,vx=Math.LN2;function yx(i){return i>>>=0,i===0?32:31-(gx(i)/vx|0)|0}var vl=64,yl=4194304;function Ys(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function wl(i,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,w=i.pingedLanes,E=u&268435455;if(E!==0){var O=E&~g;O!==0?h=Ys(O):(w&=E,w!==0&&(h=Ys(w)))}else E=u&~g,E!==0?h=Ys(E):w!==0&&(h=Ys(w));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)u=31-Pn(o),g=1<<u,h|=i[u],o&=~g;return h}function wx(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xx(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes;0<w;){var E=31-Pn(w),O=1<<E,z=g[E];z===-1?((O&u)===0||(O&h)!==0)&&(g[E]=wx(O,o)):z<=o&&(i.expiredLanes|=O),w&=~O}}function Nu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Dh(){var i=vl;return vl<<=1,(vl&4194240)===0&&(vl=64),i}function Au(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ks(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Pn(o),i[o]=u}function bx(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-Pn(u),w=1<<g;o[g]=0,h[g]=-1,i[g]=-1,u&=~w}}function Iu(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-Pn(u),g=1<<h;g&o|i[h]&o&&(i[h]|=o),u&=~g}}var $e=0;function Lh(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Mh,Pu,$h,Fh,zh,Ru=!1,xl=[],Tr=null,Nr=null,Ar=null,Gs=new Map,Js=new Map,Ir=[],kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uh(i,o){switch(i){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Gs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(o.pointerId)}}function Qs(i,o,u,h,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},o!==null&&(o=fo(o),o!==null&&Pu(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Sx(i,o,u,h,g){switch(o){case"focusin":return Tr=Qs(Tr,i,o,u,h,g),!0;case"dragenter":return Nr=Qs(Nr,i,o,u,h,g),!0;case"mouseover":return Ar=Qs(Ar,i,o,u,h,g),!0;case"pointerover":var w=g.pointerId;return Gs.set(w,Qs(Gs.get(w)||null,i,o,u,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Js.set(w,Qs(Js.get(w)||null,i,o,u,h,g)),!0}return!1}function Bh(i){var o=hi(i.target);if(o!==null){var u=fi(o);if(u!==null){if(o=u.tag,o===13){if(o=jh(u),o!==null){i.blockedOn=o,zh(i.priority,function(){$h(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Du(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Ct=h,u.target.dispatchEvent(h),Ct=null}else return o=fo(u),o!==null&&Pu(o),i.blockedOn=u,!1;o.shift()}return!0}function Wh(i,o,u){bl(i)&&u.delete(o)}function _x(){Ru=!1,Tr!==null&&bl(Tr)&&(Tr=null),Nr!==null&&bl(Nr)&&(Nr=null),Ar!==null&&bl(Ar)&&(Ar=null),Gs.forEach(Wh),Js.forEach(Wh)}function Xs(i,o){i.blockedOn===o&&(i.blockedOn=null,Ru||(Ru=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_x)))}function Zs(i){function o(g){return Xs(g,i)}if(0<xl.length){Xs(xl[0],i);for(var u=1;u<xl.length;u++){var h=xl[u];h.blockedOn===i&&(h.blockedOn=null)}}for(Tr!==null&&Xs(Tr,i),Nr!==null&&Xs(Nr,i),Ar!==null&&Xs(Ar,i),Gs.forEach(o),Js.forEach(o),u=0;u<Ir.length;u++)h=Ir[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<Ir.length&&(u=Ir[0],u.blockedOn===null);)Bh(u),u.blockedOn===null&&Ir.shift()}var Bi=U.ReactCurrentBatchConfig,kl=!0;function Ex(i,o,u,h){var g=$e,w=Bi.transition;Bi.transition=null;try{$e=1,Ou(i,o,u,h)}finally{$e=g,Bi.transition=w}}function Cx(i,o,u,h){var g=$e,w=Bi.transition;Bi.transition=null;try{$e=4,Ou(i,o,u,h)}finally{$e=g,Bi.transition=w}}function Ou(i,o,u,h){if(kl){var g=Du(i,o,u,h);if(g===null)Xu(i,o,h,Sl,u),Uh(i,h);else if(Sx(g,i,o,u,h))h.stopPropagation();else if(Uh(i,h),o&4&&-1<kx.indexOf(i)){for(;g!==null;){var w=fo(g);if(w!==null&&Mh(w),w=Du(i,o,u,h),w===null&&Xu(i,o,h,Sl,u),w===g)break;g=w}g!==null&&h.stopPropagation()}else Xu(i,o,h,null,u)}}var Sl=null;function Du(i,o,u,h){if(Sl=null,i=Hs(h),i=hi(i),i!==null)if(o=fi(i),o===null)i=null;else if(u=o.tag,u===13){if(i=jh(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Sl=i,null}function Hh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hx()){case Tu:return 1;case Rh:return 4;case ml:case px:return 16;case Oh:return 536870912;default:return 16}default:return 16}}var Pr=null,Lu=null,_l=null;function Vh(){if(_l)return _l;var i,o=Lu,u=o.length,h,g="value"in Pr?Pr.value:Pr.textContent,w=g.length;for(i=0;i<u&&o[i]===g[i];i++);var E=u-i;for(h=1;h<=E&&o[u-h]===g[w-h];h++);return _l=g.slice(i,1<h?1-h:void 0)}function El(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Cl(){return!0}function qh(){return!1}function sn(i){function o(u,h,g,w,E){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(u=i[O],this[O]=u?u(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Cl:qh,this.isPropagationStopped=qh,this}return C(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),o}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=sn(Wi),eo=C({},Wi,{view:0,detail:0}),jx=sn(eo),$u,Fu,to,jl=C({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==to&&(to&&i.type==="mousemove"?($u=i.screenX-to.screenX,Fu=i.screenY-to.screenY):Fu=$u=0,to=i),$u)},movementY:function(i){return"movementY"in i?i.movementY:Fu}}),Yh=sn(jl),Tx=C({},jl,{dataTransfer:0}),Nx=sn(Tx),Ax=C({},eo,{relatedTarget:0}),zu=sn(Ax),Ix=C({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=sn(Ix),Rx=C({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ox=sn(Rx),Dx=C({},Wi,{data:0}),Kh=sn(Dx),Lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fx(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=$x[i])?!!o[i]:!1}function Uu(){return Fx}var zx=C({},eo,{key:function(i){if(i.key){var o=Lx[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=El(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Mx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(i){return i.type==="keypress"?El(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?El(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ux=sn(zx),Bx=C({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=sn(Bx),Wx=C({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),Hx=sn(Wx),Vx=C({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qx=sn(Vx),Yx=C({},jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Kx=sn(Yx),Gx=[9,13,27,32],Bu=c&&"CompositionEvent"in window,no=null;c&&"documentMode"in document&&(no=document.documentMode);var Jx=c&&"TextEvent"in window&&!no,Jh=c&&(!Bu||no&&8<no&&11>=no),Qh=" ",Xh=!1;function Zh(i,o){switch(i){case"keyup":return Gx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Hi=!1;function Qx(i,o){switch(i){case"compositionend":return ep(o);case"keypress":return o.which!==32?null:(Xh=!0,Qh);case"textInput":return i=o.data,i===Qh&&Xh?null:i;default:return null}}function Xx(i,o){if(Hi)return i==="compositionend"||!Bu&&Zh(i,o)?(i=Vh(),_l=Lu=Pr=null,Hi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Jh&&o.locale!=="ko"?null:o.data;default:return null}}var Zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Zx[i.type]:o==="textarea"}function np(i,o,u,h){Tt(h),o=Pl(o,"onChange"),0<o.length&&(u=new Mu("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var ro=null,io=null;function eb(i){xp(i,0)}function Tl(i){var o=Gi(i);if(st(o))return i}function tb(i,o){if(i==="change")return o}var rp=!1;if(c){var Wu;if(c){var Hu="oninput"in document;if(!Hu){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),Hu=typeof ip.oninput=="function"}Wu=Hu}else Wu=!1;rp=Wu&&(!document.documentMode||9<document.documentMode)}function sp(){ro&&(ro.detachEvent("onpropertychange",op),io=ro=null)}function op(i){if(i.propertyName==="value"&&Tl(io)){var o=[];np(o,io,i,Hs(i)),ar(eb,o)}}function nb(i,o,u){i==="focusin"?(sp(),ro=o,io=u,ro.attachEvent("onpropertychange",op)):i==="focusout"&&sp()}function rb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tl(io)}function ib(i,o){if(i==="click")return Tl(o)}function sb(i,o){if(i==="input"||i==="change")return Tl(o)}function ob(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Rn=typeof Object.is=="function"?Object.is:ob;function so(i,o){if(Rn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!d.call(o,g)||!Rn(i[g],o[g]))return!1}return!0}function lp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ap(i,o){var u=lp(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lp(u)}}function up(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?up(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function cp(){for(var i=window,o=vt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=vt(i.document)}return o}function Vu(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function lb(i){var o=cp(),u=i.focusedElem,h=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&up(u.ownerDocument.documentElement,u)){if(h!==null&&Vu(u)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!i.extend&&w>h&&(g=h,h=w,w=g),g=ap(u,w);var E=ap(u,h);g&&E&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),w>h?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ab=c&&"documentMode"in document&&11>=document.documentMode,Vi=null,qu=null,oo=null,Yu=!1;function dp(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Yu||Vi==null||Vi!==vt(h)||(h=Vi,"selectionStart"in h&&Vu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),oo&&so(oo,h)||(oo=h,h=Pl(qu,"onSelect"),0<h.length&&(o=new Mu("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=Vi)))}function Nl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var qi={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},Ku={},fp={};c&&(fp=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function Al(i){if(Ku[i])return Ku[i];if(!qi[i])return i;var o=qi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in fp)return Ku[i]=o[u];return i}var hp=Al("animationend"),pp=Al("animationiteration"),mp=Al("animationstart"),gp=Al("transitionend"),vp=new Map,yp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(i,o){vp.set(i,o),l(o,[i])}for(var Gu=0;Gu<yp.length;Gu++){var Ju=yp[Gu],ub=Ju.toLowerCase(),cb=Ju[0].toUpperCase()+Ju.slice(1);Rr(ub,"on"+cb)}Rr(hp,"onAnimationEnd"),Rr(pp,"onAnimationIteration"),Rr(mp,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(gp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function wp(i,o,u){var h=i.type||"unknown-event";i.currentTarget=u,ux(h,o,void 0,i),i.currentTarget=null}function xp(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var E=h.length-1;0<=E;E--){var O=h[E],z=O.instance,Q=O.currentTarget;if(O=O.listener,z!==w&&g.isPropagationStopped())break e;wp(g,O,Q),w=z}else for(E=0;E<h.length;E++){if(O=h[E],z=O.instance,Q=O.currentTarget,O=O.listener,z!==w&&g.isPropagationStopped())break e;wp(g,O,Q),w=z}}}if(rn)throw i=ur,rn=!1,ur=null,i}function Ye(i,o){var u=o[ic];u===void 0&&(u=o[ic]=new Set);var h=i+"__bubble";u.has(h)||(bp(o,i,2,!1),u.add(h))}function Qu(i,o,u){var h=0;o&&(h|=4),bp(u,i,h,o)}var Il="_reactListening"+Math.random().toString(36).slice(2);function ao(i){if(!i[Il]){i[Il]=!0,r.forEach(function(u){u!=="selectionchange"&&(db.has(u)||Qu(u,!1,i),Qu(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Il]||(o[Il]=!0,Qu("selectionchange",!1,o))}}function bp(i,o,u,h){switch(Hh(o)){case 1:var g=Ex;break;case 4:g=Cx;break;default:g=Ou}u=g.bind(null,o,u,i),g=void 0,!gn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function Xu(i,o,u,h,g){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var O=h.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(E===4)for(E=h.return;E!==null;){var z=E.tag;if((z===3||z===4)&&(z=E.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;E=E.return}for(;O!==null;){if(E=hi(O),E===null)return;if(z=E.tag,z===5||z===6){h=w=E;continue e}O=O.parentNode}}h=h.return}ar(function(){var Q=w,re=Hs(u),ie=[];e:{var ne=vp.get(i);if(ne!==void 0){var de=Mu,pe=i;switch(i){case"keypress":if(El(u)===0)break e;case"keydown":case"keyup":de=Ux;break;case"focusin":pe="focus",de=zu;break;case"focusout":pe="blur",de=zu;break;case"beforeblur":case"afterblur":de=zu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Hx;break;case hp:case pp:case mp:de=Px;break;case gp:de=qx;break;case"scroll":de=jx;break;case"wheel":de=Kx;break;case"copy":case"cut":case"paste":de=Ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Gh}var ve=(o&4)!==0,lt=!ve&&i==="scroll",q=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var B=Q,G;B!==null;){G=B;var le=G.stateNode;if(G.tag===5&&le!==null&&(G=le,q!==null&&(le=Ze(B,q),le!=null&&ve.push(uo(B,le,G)))),lt)break;B=B.return}0<ve.length&&(ne=new de(ne,pe,null,u,re),ie.push({event:ne,listeners:ve}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ne&&u!==Ct&&(pe=u.relatedTarget||u.fromElement)&&(hi(pe)||pe[cr]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(pe=u.relatedTarget||u.toElement,de=Q,pe=pe?hi(pe):null,pe!==null&&(lt=fi(pe),pe!==lt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=Q),de!==pe)){if(ve=Yh,le="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ve=Gh,le="onPointerLeave",q="onPointerEnter",B="pointer"),lt=de==null?ne:Gi(de),G=pe==null?ne:Gi(pe),ne=new ve(le,B+"leave",de,u,re),ne.target=lt,ne.relatedTarget=G,le=null,hi(re)===Q&&(ve=new ve(q,B+"enter",pe,u,re),ve.target=G,ve.relatedTarget=lt,le=ve),lt=le,de&&pe)t:{for(ve=de,q=pe,B=0,G=ve;G;G=Yi(G))B++;for(G=0,le=q;le;le=Yi(le))G++;for(;0<B-G;)ve=Yi(ve),B--;for(;0<G-B;)q=Yi(q),G--;for(;B--;){if(ve===q||q!==null&&ve===q.alternate)break t;ve=Yi(ve),q=Yi(q)}ve=null}else ve=null;de!==null&&kp(ie,ne,de,ve,!1),pe!==null&&lt!==null&&kp(ie,lt,pe,ve,!0)}}e:{if(ne=Q?Gi(Q):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var ye=tb;else if(tp(ne))if(rp)ye=sb;else{ye=rb;var ke=nb}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ye=ib);if(ye&&(ye=ye(i,Q))){np(ie,ye,u,re);break e}ke&&ke(i,ne,Q),i==="focusout"&&(ke=ne._wrapperState)&&ke.controlled&&ne.type==="number"&&Vn(ne,"number",ne.value)}switch(ke=Q?Gi(Q):window,i){case"focusin":(tp(ke)||ke.contentEditable==="true")&&(Vi=ke,qu=Q,oo=null);break;case"focusout":oo=qu=Vi=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,dp(ie,u,re);break;case"selectionchange":if(ab)break;case"keydown":case"keyup":dp(ie,u,re)}var Se;if(Bu)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Hi?Zh(i,u)&&(Ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Jh&&u.locale!=="ko"&&(Hi||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Hi&&(Se=Vh()):(Pr=re,Lu="value"in Pr?Pr.value:Pr.textContent,Hi=!0)),ke=Pl(Q,Ce),0<ke.length&&(Ce=new Kh(Ce,i,null,u,re),ie.push({event:Ce,listeners:ke}),Se?Ce.data=Se:(Se=ep(u),Se!==null&&(Ce.data=Se)))),(Se=Jx?Qx(i,u):Xx(i,u))&&(Q=Pl(Q,"onBeforeInput"),0<Q.length&&(re=new Kh("onBeforeInput","beforeinput",null,u,re),ie.push({event:re,listeners:Q}),re.data=Se))}xp(ie,o)})}function uo(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Pl(i,o){for(var u=o+"Capture",h=[];i!==null;){var g=i,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Ze(i,u),w!=null&&h.unshift(uo(i,w,g)),w=Ze(i,o),w!=null&&h.push(uo(i,w,g))),i=i.return}return h}function Yi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function kp(i,o,u,h,g){for(var w=o._reactName,E=[];u!==null&&u!==h;){var O=u,z=O.alternate,Q=O.stateNode;if(z!==null&&z===h)break;O.tag===5&&Q!==null&&(O=Q,g?(z=Ze(u,w),z!=null&&E.unshift(uo(u,z,O))):g||(z=Ze(u,w),z!=null&&E.push(uo(u,z,O)))),u=u.return}E.length!==0&&i.push({event:o,listeners:E})}var fb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function Sp(i){return(typeof i=="string"?i:""+i).replace(fb,`
`).replace(hb,"")}function Rl(i,o,u){if(o=Sp(o),Sp(i)!==o&&u)throw Error(n(425))}function Ol(){}var Zu=null,ec=null;function tc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var nc=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,_p=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof _p<"u"?function(i){return _p.resolve(null).then(i).catch(gb)}:nc;function gb(i){setTimeout(function(){throw i})}function rc(i,o){var u=o,h=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){i.removeChild(g),Zs(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);Zs(o)}function Or(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ep(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ki,co="__reactProps$"+Ki,cr="__reactContainer$"+Ki,ic="__reactEvents$"+Ki,vb="__reactListeners$"+Ki,yb="__reactHandles$"+Ki;function hi(i){var o=i[Jn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[cr]||u[Jn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Ep(i);i!==null;){if(u=i[Jn])return u;i=Ep(i)}return o}i=u,u=i.parentNode}return null}function fo(i){return i=i[Jn]||i[cr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Gi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Dl(i){return i[co]||null}var sc=[],Ji=-1;function Dr(i){return{current:i}}function Ke(i){0>Ji||(i.current=sc[Ji],sc[Ji]=null,Ji--)}function He(i,o){Ji++,sc[Ji]=i.current,i.current=o}var Lr={},It=Dr(Lr),Ht=Dr(!1),pi=Lr;function Qi(i,o){var u=i.type.contextTypes;if(!u)return Lr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=o[w];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Vt(i){return i=i.childContextTypes,i!=null}function Ll(){Ke(Ht),Ke(It)}function Cp(i,o,u){if(It.current!==Lr)throw Error(n(168));He(It,o),He(Ht,u)}function jp(i,o,u){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(n(108,be(i)||"Unknown",g));return C({},u,h)}function Ml(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Lr,pi=It.current,He(It,i),He(Ht,Ht.current),!0}function Tp(i,o,u){var h=i.stateNode;if(!h)throw Error(n(169));u?(i=jp(i,o,pi),h.__reactInternalMemoizedMergedChildContext=i,Ke(Ht),Ke(It),He(It,i)):Ke(Ht),He(Ht,u)}var dr=null,$l=!1,oc=!1;function Np(i){dr===null?dr=[i]:dr.push(i)}function wb(i){$l=!0,Np(i)}function Mr(){if(!oc&&dr!==null){oc=!0;var i=0,o=$e;try{var u=dr;for($e=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}dr=null,$l=!1}catch(g){throw dr!==null&&(dr=dr.slice(i+1)),Ih(Tu,Mr),g}finally{$e=o,oc=!1}}return null}var Xi=[],Zi=0,Fl=null,zl=0,vn=[],yn=0,mi=null,fr=1,hr="";function gi(i,o){Xi[Zi++]=zl,Xi[Zi++]=Fl,Fl=i,zl=o}function Ap(i,o,u){vn[yn++]=fr,vn[yn++]=hr,vn[yn++]=mi,mi=i;var h=fr;i=hr;var g=32-Pn(h)-1;h&=~(1<<g),u+=1;var w=32-Pn(o)+g;if(30<w){var E=g-g%5;w=(h&(1<<E)-1).toString(32),h>>=E,g-=E,fr=1<<32-Pn(o)+g|u<<g|h,hr=w+i}else fr=1<<w|u<<g|h,hr=i}function lc(i){i.return!==null&&(gi(i,1),Ap(i,1,0))}function ac(i){for(;i===Fl;)Fl=Xi[--Zi],Xi[Zi]=null,zl=Xi[--Zi],Xi[Zi]=null;for(;i===mi;)mi=vn[--yn],vn[yn]=null,hr=vn[--yn],vn[yn]=null,fr=vn[--yn],vn[yn]=null}var on=null,ln=null,Qe=!1,On=null;function Ip(i,o){var u=kn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Pp(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,on=i,ln=Or(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,on=i,ln=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=mi!==null?{id:fr,overflow:hr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=kn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,on=i,ln=null,!0):!1;default:return!1}}function uc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function cc(i){if(Qe){var o=ln;if(o){var u=o;if(!Pp(i,o)){if(uc(i))throw Error(n(418));o=Or(u.nextSibling);var h=on;o&&Pp(i,o)?Ip(h,u):(i.flags=i.flags&-4097|2,Qe=!1,on=i)}}else{if(uc(i))throw Error(n(418));i.flags=i.flags&-4097|2,Qe=!1,on=i}}}function Rp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;on=i}function Ul(i){if(i!==on)return!1;if(!Qe)return Rp(i),Qe=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!tc(i.type,i.memoizedProps)),o&&(o=ln)){if(uc(i))throw Op(),Error(n(418));for(;o;)Ip(i,o),o=Or(o.nextSibling)}if(Rp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){ln=Or(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}ln=null}}else ln=on?Or(i.stateNode.nextSibling):null;return!0}function Op(){for(var i=ln;i;)i=Or(i.nextSibling)}function es(){ln=on=null,Qe=!1}function dc(i){On===null?On=[i]:On.push(i)}var xb=U.ReactCurrentBatchConfig;function ho(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,i));var g=h,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(E){var O=g.refs;E===null?delete O[w]:O[w]=E},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Bl(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Dp(i){var o=i._init;return o(i._payload)}function Lp(i){function o(q,B){if(i){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function u(q,B){if(!i)return null;for(;B!==null;)o(q,B),B=B.sibling;return null}function h(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function g(q,B){return q=Vr(q,B),q.index=0,q.sibling=null,q}function w(q,B,G){return q.index=G,i?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=2,B):G):(q.flags|=2,B)):(q.flags|=1048576,B)}function E(q){return i&&q.alternate===null&&(q.flags|=2),q}function O(q,B,G,le){return B===null||B.tag!==6?(B=nd(G,q.mode,le),B.return=q,B):(B=g(B,G),B.return=q,B)}function z(q,B,G,le){var ye=G.type;return ye===J?re(q,B,G.props.children,le,G.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===P&&Dp(ye)===B.type)?(le=g(B,G.props),le.ref=ho(q,B,G),le.return=q,le):(le=fa(G.type,G.key,G.props,null,q.mode,le),le.ref=ho(q,B,G),le.return=q,le)}function Q(q,B,G,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=rd(G,q.mode,le),B.return=q,B):(B=g(B,G.children||[]),B.return=q,B)}function re(q,B,G,le,ye){return B===null||B.tag!==7?(B=_i(G,q.mode,le,ye),B.return=q,B):(B=g(B,G),B.return=q,B)}function ie(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return B=nd(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Y:return G=fa(B.type,B.key,B.props,null,q.mode,G),G.ref=ho(q,null,B),G.return=q,G;case $:return B=rd(B,q.mode,G),B.return=q,B;case P:var le=B._init;return ie(q,le(B._payload),G)}if(St(B)||W(B))return B=_i(B,q.mode,G,null),B.return=q,B;Bl(q,B)}return null}function ne(q,B,G,le){var ye=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ye!==null?null:O(q,B,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Y:return G.key===ye?z(q,B,G,le):null;case $:return G.key===ye?Q(q,B,G,le):null;case P:return ye=G._init,ne(q,B,ye(G._payload),le)}if(St(G)||W(G))return ye!==null?null:re(q,B,G,le,null);Bl(q,G)}return null}function de(q,B,G,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number")return q=q.get(G)||null,O(B,q,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case Y:return q=q.get(le.key===null?G:le.key)||null,z(B,q,le,ye);case $:return q=q.get(le.key===null?G:le.key)||null,Q(B,q,le,ye);case P:var ke=le._init;return de(q,B,G,ke(le._payload),ye)}if(St(le)||W(le))return q=q.get(G)||null,re(B,q,le,ye,null);Bl(B,le)}return null}function pe(q,B,G,le){for(var ye=null,ke=null,Se=B,Ce=B=0,xt=null;Se!==null&&Ce<G.length;Ce++){Se.index>Ce?(xt=Se,Se=null):xt=Se.sibling;var Le=ne(q,Se,G[Ce],le);if(Le===null){Se===null&&(Se=xt);break}i&&Se&&Le.alternate===null&&o(q,Se),B=w(Le,B,Ce),ke===null?ye=Le:ke.sibling=Le,ke=Le,Se=xt}if(Ce===G.length)return u(q,Se),Qe&&gi(q,Ce),ye;if(Se===null){for(;Ce<G.length;Ce++)Se=ie(q,G[Ce],le),Se!==null&&(B=w(Se,B,Ce),ke===null?ye=Se:ke.sibling=Se,ke=Se);return Qe&&gi(q,Ce),ye}for(Se=h(q,Se);Ce<G.length;Ce++)xt=de(Se,q,Ce,G[Ce],le),xt!==null&&(i&&xt.alternate!==null&&Se.delete(xt.key===null?Ce:xt.key),B=w(xt,B,Ce),ke===null?ye=xt:ke.sibling=xt,ke=xt);return i&&Se.forEach(function(qr){return o(q,qr)}),Qe&&gi(q,Ce),ye}function ve(q,B,G,le){var ye=W(G);if(typeof ye!="function")throw Error(n(150));if(G=ye.call(G),G==null)throw Error(n(151));for(var ke=ye=null,Se=B,Ce=B=0,xt=null,Le=G.next();Se!==null&&!Le.done;Ce++,Le=G.next()){Se.index>Ce?(xt=Se,Se=null):xt=Se.sibling;var qr=ne(q,Se,Le.value,le);if(qr===null){Se===null&&(Se=xt);break}i&&Se&&qr.alternate===null&&o(q,Se),B=w(qr,B,Ce),ke===null?ye=qr:ke.sibling=qr,ke=qr,Se=xt}if(Le.done)return u(q,Se),Qe&&gi(q,Ce),ye;if(Se===null){for(;!Le.done;Ce++,Le=G.next())Le=ie(q,Le.value,le),Le!==null&&(B=w(Le,B,Ce),ke===null?ye=Le:ke.sibling=Le,ke=Le);return Qe&&gi(q,Ce),ye}for(Se=h(q,Se);!Le.done;Ce++,Le=G.next())Le=de(Se,q,Ce,Le.value,le),Le!==null&&(i&&Le.alternate!==null&&Se.delete(Le.key===null?Ce:Le.key),B=w(Le,B,Ce),ke===null?ye=Le:ke.sibling=Le,ke=Le);return i&&Se.forEach(function(Zb){return o(q,Zb)}),Qe&&gi(q,Ce),ye}function lt(q,B,G,le){if(typeof G=="object"&&G!==null&&G.type===J&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Y:e:{for(var ye=G.key,ke=B;ke!==null;){if(ke.key===ye){if(ye=G.type,ye===J){if(ke.tag===7){u(q,ke.sibling),B=g(ke,G.props.children),B.return=q,q=B;break e}}else if(ke.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===P&&Dp(ye)===ke.type){u(q,ke.sibling),B=g(ke,G.props),B.ref=ho(q,ke,G),B.return=q,q=B;break e}u(q,ke);break}else o(q,ke);ke=ke.sibling}G.type===J?(B=_i(G.props.children,q.mode,le,G.key),B.return=q,q=B):(le=fa(G.type,G.key,G.props,null,q.mode,le),le.ref=ho(q,B,G),le.return=q,q=le)}return E(q);case $:e:{for(ke=G.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){u(q,B.sibling),B=g(B,G.children||[]),B.return=q,q=B;break e}else{u(q,B);break}else o(q,B);B=B.sibling}B=rd(G,q.mode,le),B.return=q,q=B}return E(q);case P:return ke=G._init,lt(q,B,ke(G._payload),le)}if(St(G))return pe(q,B,G,le);if(W(G))return ve(q,B,G,le);Bl(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(u(q,B.sibling),B=g(B,G),B.return=q,q=B):(u(q,B),B=nd(G,q.mode,le),B.return=q,q=B),E(q)):u(q,B)}return lt}var ts=Lp(!0),Mp=Lp(!1),Wl=Dr(null),Hl=null,ns=null,fc=null;function hc(){fc=ns=Hl=null}function pc(i){var o=Wl.current;Ke(Wl),i._currentValue=o}function mc(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function rs(i,o){Hl=i,fc=ns=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(qt=!0),i.firstContext=null)}function wn(i){var o=i._currentValue;if(fc!==i)if(i={context:i,memoizedValue:o,next:null},ns===null){if(Hl===null)throw Error(n(308));ns=i,Hl.dependencies={lanes:0,firstContext:i}}else ns=ns.next=i;return o}var vi=null;function gc(i){vi===null?vi=[i]:vi.push(i)}function $p(i,o,u,h){var g=o.interleaved;return g===null?(u.next=u,gc(o)):(u.next=g.next,g.next=u),o.interleaved=u,pr(i,h)}function pr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var $r=!1;function vc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Fr(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(De&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,pr(i,u)}return g=h.interleaved,g===null?(o.next=o,gc(h)):(o.next=g.next,g.next=o),h.interleaved=o,pr(i,u)}function Vl(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Iu(i,u)}}function zp(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=E:w=w.next=E,u=u.next}while(u!==null);w===null?g=w=o:w=w.next=o}else g=w=o;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function ql(i,o,u,h){var g=i.updateQueue;$r=!1;var w=g.firstBaseUpdate,E=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var z=O,Q=z.next;z.next=null,E===null?w=Q:E.next=Q,E=z;var re=i.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==E&&(O===null?re.firstBaseUpdate=Q:O.next=Q,re.lastBaseUpdate=z))}if(w!==null){var ie=g.baseState;E=0,re=Q=z=null,O=w;do{var ne=O.lane,de=O.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var pe=i,ve=O;switch(ne=o,de=u,ve.tag){case 1:if(pe=ve.payload,typeof pe=="function"){ie=pe.call(de,ie,ne);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ve.payload,ne=typeof pe=="function"?pe.call(de,ie,ne):pe,ne==null)break e;ie=C({},ie,ne);break e;case 2:$r=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ne=g.effects,ne===null?g.effects=[O]:ne.push(O))}else de={eventTime:de,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(Q=re=de,z=ie):re=re.next=de,E|=ne;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(re===null&&(z=ie),g.baseState=z,g.firstBaseUpdate=Q,g.lastBaseUpdate=re,o=g.shared.interleaved,o!==null){g=o;do E|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);xi|=E,i.lanes=E,i.memoizedState=ie}}function Up(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var po={},Qn=Dr(po),mo=Dr(po),go=Dr(po);function yi(i){if(i===po)throw Error(n(174));return i}function yc(i,o){switch(He(go,o),He(mo,i),He(Qn,po),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:oe(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=oe(o,i)}Ke(Qn),He(Qn,o)}function is(){Ke(Qn),Ke(mo),Ke(go)}function Bp(i){yi(go.current);var o=yi(Qn.current),u=oe(o,i.type);o!==u&&(He(mo,i),He(Qn,u))}function wc(i){mo.current===i&&(Ke(Qn),Ke(mo))}var et=Dr(0);function Yl(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xc=[];function bc(){for(var i=0;i<xc.length;i++)xc[i]._workInProgressVersionPrimary=null;xc.length=0}var Kl=U.ReactCurrentDispatcher,kc=U.ReactCurrentBatchConfig,wi=0,tt=null,ht=null,yt=null,Gl=!1,vo=!1,yo=0,bb=0;function Pt(){throw Error(n(321))}function Sc(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Rn(i[u],o[u]))return!1;return!0}function _c(i,o,u,h,g,w){if(wi=w,tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Kl.current=i===null||i.memoizedState===null?Eb:Cb,i=u(h,g),vo){w=0;do{if(vo=!1,yo=0,25<=w)throw Error(n(301));w+=1,yt=ht=null,o.updateQueue=null,Kl.current=jb,i=u(h,g)}while(vo)}if(Kl.current=Xl,o=ht!==null&&ht.next!==null,wi=0,yt=ht=tt=null,Gl=!1,o)throw Error(n(300));return i}function Ec(){var i=yo!==0;return yo=0,i}function Xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?tt.memoizedState=yt=i:yt=yt.next=i,yt}function xn(){if(ht===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var o=yt===null?tt.memoizedState:yt.next;if(o!==null)yt=o,ht=i;else{if(i===null)throw Error(n(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?tt.memoizedState=yt=i:yt=yt.next=i}return yt}function wo(i,o){return typeof o=="function"?o(i):o}function Cc(i){var o=xn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=ht,g=h.baseQueue,w=u.pending;if(w!==null){if(g!==null){var E=g.next;g.next=w.next,w.next=E}h.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,h=h.baseState;var O=E=null,z=null,Q=w;do{var re=Q.lane;if((wi&re)===re)z!==null&&(z=z.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:i(h,Q.action);else{var ie={lane:re,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};z===null?(O=z=ie,E=h):z=z.next=ie,tt.lanes|=re,xi|=re}Q=Q.next}while(Q!==null&&Q!==w);z===null?E=h:z.next=O,Rn(h,o.memoizedState)||(qt=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=z,u.lastRenderedState=h}if(i=u.interleaved,i!==null){g=i;do w=g.lane,tt.lanes|=w,xi|=w,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function jc(i){var o=xn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,w=o.memoizedState;if(g!==null){u.pending=null;var E=g=g.next;do w=i(w,E.action),E=E.next;while(E!==g);Rn(w,o.memoizedState)||(qt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,h]}function Wp(){}function Hp(i,o){var u=tt,h=xn(),g=o(),w=!Rn(h.memoizedState,g);if(w&&(h.memoizedState=g,qt=!0),h=h.queue,Tc(Yp.bind(null,u,h,i),[i]),h.getSnapshot!==o||w||yt!==null&&yt.memoizedState.tag&1){if(u.flags|=2048,xo(9,qp.bind(null,u,h,g,o),void 0,null),wt===null)throw Error(n(349));(wi&30)!==0||Vp(u,o,g)}return g}function Vp(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=tt.updateQueue,o===null?(o={lastEffect:null,stores:null},tt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function qp(i,o,u,h){o.value=u,o.getSnapshot=h,Kp(o)&&Gp(i)}function Yp(i,o,u){return u(function(){Kp(o)&&Gp(i)})}function Kp(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Rn(i,u)}catch{return!0}}function Gp(i){var o=pr(i,1);o!==null&&$n(o,i,1,-1)}function Jp(i){var o=Xn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:i},o.queue=i,i=i.dispatch=_b.bind(null,tt,i),[o.memoizedState,i]}function xo(i,o,u,h){return i={tag:i,create:o,destroy:u,deps:h,next:null},o=tt.updateQueue,o===null?(o={lastEffect:null,stores:null},tt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i)),i}function Qp(){return xn().memoizedState}function Jl(i,o,u,h){var g=Xn();tt.flags|=i,g.memoizedState=xo(1|o,u,void 0,h===void 0?null:h)}function Ql(i,o,u,h){var g=xn();h=h===void 0?null:h;var w=void 0;if(ht!==null){var E=ht.memoizedState;if(w=E.destroy,h!==null&&Sc(h,E.deps)){g.memoizedState=xo(o,u,w,h);return}}tt.flags|=i,g.memoizedState=xo(1|o,u,w,h)}function Xp(i,o){return Jl(8390656,8,i,o)}function Tc(i,o){return Ql(2048,8,i,o)}function Zp(i,o){return Ql(4,2,i,o)}function em(i,o){return Ql(4,4,i,o)}function tm(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function nm(i,o,u){return u=u!=null?u.concat([i]):null,Ql(4,4,tm.bind(null,o,i),u)}function Nc(){}function rm(i,o){var u=xn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Sc(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function im(i,o){var u=xn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Sc(o,h[1])?h[0]:(i=i(),u.memoizedState=[i,o],i)}function sm(i,o,u){return(wi&21)===0?(i.baseState&&(i.baseState=!1,qt=!0),i.memoizedState=u):(Rn(u,o)||(u=Dh(),tt.lanes|=u,xi|=u,i.baseState=!0),o)}function kb(i,o){var u=$e;$e=u!==0&&4>u?u:4,i(!0);var h=kc.transition;kc.transition={};try{i(!1),o()}finally{$e=u,kc.transition=h}}function om(){return xn().memoizedState}function Sb(i,o,u){var h=Wr(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},lm(i))am(o,u);else if(u=$p(i,o,u,h),u!==null){var g=zt();$n(u,i,h,g),um(u,o,h)}}function _b(i,o,u){var h=Wr(i),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(lm(i))am(o,g);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var E=o.lastRenderedState,O=w(E,u);if(g.hasEagerState=!0,g.eagerState=O,Rn(O,E)){var z=o.interleaved;z===null?(g.next=g,gc(o)):(g.next=z.next,z.next=g),o.interleaved=g;return}}catch{}finally{}u=$p(i,o,g,h),u!==null&&(g=zt(),$n(u,i,h,g),um(u,o,h))}}function lm(i){var o=i.alternate;return i===tt||o!==null&&o===tt}function am(i,o){vo=Gl=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function um(i,o,u){if((u&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Iu(i,u)}}var Xl={readContext:wn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},Eb={readContext:wn,useCallback:function(i,o){return Xn().memoizedState=[i,o===void 0?null:o],i},useContext:wn,useEffect:Xp,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Jl(4194308,4,tm.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Jl(4194308,4,i,o)},useInsertionEffect:function(i,o){return Jl(4,2,i,o)},useMemo:function(i,o){var u=Xn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var h=Xn();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=Sb.bind(null,tt,i),[h.memoizedState,i]},useRef:function(i){var o=Xn();return i={current:i},o.memoizedState=i},useState:Jp,useDebugValue:Nc,useDeferredValue:function(i){return Xn().memoizedState=i},useTransition:function(){var i=Jp(!1),o=i[0];return i=kb.bind(null,i[1]),Xn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var h=tt,g=Xn();if(Qe){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),wt===null)throw Error(n(349));(wi&30)!==0||Vp(h,o,u)}g.memoizedState=u;var w={value:u,getSnapshot:o};return g.queue=w,Xp(Yp.bind(null,h,w,i),[i]),h.flags|=2048,xo(9,qp.bind(null,h,w,u,o),void 0,null),u},useId:function(){var i=Xn(),o=wt.identifierPrefix;if(Qe){var u=hr,h=fr;u=(h&~(1<<32-Pn(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=yo++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=bb++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Cb={readContext:wn,useCallback:rm,useContext:wn,useEffect:Tc,useImperativeHandle:nm,useInsertionEffect:Zp,useLayoutEffect:em,useMemo:im,useReducer:Cc,useRef:Qp,useState:function(){return Cc(wo)},useDebugValue:Nc,useDeferredValue:function(i){var o=xn();return sm(o,ht.memoizedState,i)},useTransition:function(){var i=Cc(wo)[0],o=xn().memoizedState;return[i,o]},useMutableSource:Wp,useSyncExternalStore:Hp,useId:om,unstable_isNewReconciler:!1},jb={readContext:wn,useCallback:rm,useContext:wn,useEffect:Tc,useImperativeHandle:nm,useInsertionEffect:Zp,useLayoutEffect:em,useMemo:im,useReducer:jc,useRef:Qp,useState:function(){return jc(wo)},useDebugValue:Nc,useDeferredValue:function(i){var o=xn();return ht===null?o.memoizedState=i:sm(o,ht.memoizedState,i)},useTransition:function(){var i=jc(wo)[0],o=xn().memoizedState;return[i,o]},useMutableSource:Wp,useSyncExternalStore:Hp,useId:om,unstable_isNewReconciler:!1};function Dn(i,o){if(i&&i.defaultProps){o=C({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Ac(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:C({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Zl={isMounted:function(i){return(i=i._reactInternals)?fi(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var h=zt(),g=Wr(i),w=mr(h,g);w.payload=o,u!=null&&(w.callback=u),o=Fr(i,w,g),o!==null&&($n(o,i,g,h),Vl(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=zt(),g=Wr(i),w=mr(h,g);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Fr(i,w,g),o!==null&&($n(o,i,g,h),Vl(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=zt(),h=Wr(i),g=mr(u,h);g.tag=2,o!=null&&(g.callback=o),o=Fr(i,g,h),o!==null&&($n(o,i,h,u),Vl(o,i,h))}};function cm(i,o,u,h,g,w,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,E):o.prototype&&o.prototype.isPureReactComponent?!so(u,h)||!so(g,w):!0}function dm(i,o,u){var h=!1,g=Lr,w=o.contextType;return typeof w=="object"&&w!==null?w=wn(w):(g=Vt(o)?pi:It.current,h=o.contextTypes,w=(h=h!=null)?Qi(i,g):Lr),o=new o(u,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Zl,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=w),o}function fm(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&Zl.enqueueReplaceState(o,o.state,null)}function Ic(i,o,u,h){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},vc(i);var w=o.contextType;typeof w=="object"&&w!==null?g.context=wn(w):(w=Vt(o)?pi:It.current,g.context=Qi(i,w)),g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Ac(i,o,w,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Zl.enqueueReplaceState(g,g.state,null),ql(i,u,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ss(i,o){try{var u="",h=o;do u+=fe(h),h=h.return;while(h);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:g,digest:null}}function Pc(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Rc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Tb=typeof WeakMap=="function"?WeakMap:Map;function hm(i,o,u){u=mr(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){oa||(oa=!0,Kc=h),Rc(i,o)},u}function pm(i,o,u){u=mr(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;u.payload=function(){return h(g)},u.callback=function(){Rc(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Rc(i,o),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),u}function mm(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new Tb;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(u)||(g.add(u),i=Bb.bind(null,i,o,u),o.then(i,i))}function gm(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function vm(i,o,u,h,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=mr(-1,1),o.tag=2,Fr(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var Nb=U.ReactCurrentOwner,qt=!1;function Ft(i,o,u,h){o.child=i===null?Mp(o,null,u,h):ts(o,i.child,u,h)}function ym(i,o,u,h,g){u=u.render;var w=o.ref;return rs(o,g),h=_c(i,o,u,h,w,g),u=Ec(),i!==null&&!qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,gr(i,o,g)):(Qe&&u&&lc(o),o.flags|=1,Ft(i,o,h,g),o.child)}function wm(i,o,u,h,g){if(i===null){var w=u.type;return typeof w=="function"&&!td(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,xm(i,o,w,h,g)):(i=fa(u.type,null,h,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&g)===0){var E=w.memoizedProps;if(u=u.compare,u=u!==null?u:so,u(E,h)&&i.ref===o.ref)return gr(i,o,g)}return o.flags|=1,i=Vr(w,h),i.ref=o.ref,i.return=o,o.child=i}function xm(i,o,u,h,g){if(i!==null){var w=i.memoizedProps;if(so(w,h)&&i.ref===o.ref)if(qt=!1,o.pendingProps=h=w,(i.lanes&g)!==0)(i.flags&131072)!==0&&(qt=!0);else return o.lanes=i.lanes,gr(i,o,g)}return Oc(i,o,u,h,g)}function bm(i,o,u){var h=o.pendingProps,g=h.children,w=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(ls,an),an|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,He(ls,an),an|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,He(ls,an),an|=h}else w!==null?(h=w.baseLanes|u,o.memoizedState=null):h=u,He(ls,an),an|=h;return Ft(i,o,g,u),o.child}function km(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Oc(i,o,u,h,g){var w=Vt(u)?pi:It.current;return w=Qi(o,w),rs(o,g),u=_c(i,o,u,h,w,g),h=Ec(),i!==null&&!qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,gr(i,o,g)):(Qe&&h&&lc(o),o.flags|=1,Ft(i,o,u,g),o.child)}function Sm(i,o,u,h,g){if(Vt(u)){var w=!0;Ml(o)}else w=!1;if(rs(o,g),o.stateNode===null)ta(i,o),dm(o,u,h),Ic(o,u,h,g),h=!0;else if(i===null){var E=o.stateNode,O=o.memoizedProps;E.props=O;var z=E.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=wn(Q):(Q=Vt(u)?pi:It.current,Q=Qi(o,Q));var re=u.getDerivedStateFromProps,ie=typeof re=="function"||typeof E.getSnapshotBeforeUpdate=="function";ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==h||z!==Q)&&fm(o,E,h,Q),$r=!1;var ne=o.memoizedState;E.state=ne,ql(o,h,E,g),z=o.memoizedState,O!==h||ne!==z||Ht.current||$r?(typeof re=="function"&&(Ac(o,u,re,h),z=o.memoizedState),(O=$r||cm(o,u,O,h,ne,z,Q))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=z),E.props=h,E.state=z,E.context=Q,h=O):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Fp(i,o),O=o.memoizedProps,Q=o.type===o.elementType?O:Dn(o.type,O),E.props=Q,ie=o.pendingProps,ne=E.context,z=u.contextType,typeof z=="object"&&z!==null?z=wn(z):(z=Vt(u)?pi:It.current,z=Qi(o,z));var de=u.getDerivedStateFromProps;(re=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==ie||ne!==z)&&fm(o,E,h,z),$r=!1,ne=o.memoizedState,E.state=ne,ql(o,h,E,g);var pe=o.memoizedState;O!==ie||ne!==pe||Ht.current||$r?(typeof de=="function"&&(Ac(o,u,de,h),pe=o.memoizedState),(Q=$r||cm(o,u,Q,h,ne,pe,z)||!1)?(re||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,pe,z),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,pe,z)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=pe),E.props=h,E.state=pe,E.context=z,h=Q):(typeof E.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),h=!1)}return Dc(i,o,u,h,w,g)}function Dc(i,o,u,h,g,w){km(i,o);var E=(o.flags&128)!==0;if(!h&&!E)return g&&Tp(o,u,!1),gr(i,o,w);h=o.stateNode,Nb.current=o;var O=E&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&E?(o.child=ts(o,i.child,null,w),o.child=ts(o,null,O,w)):Ft(i,o,O,w),o.memoizedState=h.state,g&&Tp(o,u,!0),o.child}function _m(i){var o=i.stateNode;o.pendingContext?Cp(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Cp(i,o.context,!1),yc(i,o.containerInfo)}function Em(i,o,u,h,g){return es(),dc(g),o.flags|=256,Ft(i,o,u,h),o.child}var Lc={dehydrated:null,treeContext:null,retryLane:0};function Mc(i){return{baseLanes:i,cachePool:null,transitions:null}}function Cm(i,o,u){var h=o.pendingProps,g=et.current,w=!1,E=(o.flags&128)!==0,O;if((O=E)||(O=i!==null&&i.memoizedState===null?!1:(g&2)!==0),O?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),He(et,g&1),i===null)return cc(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=h.children,i=h.fallback,w?(h=o.mode,w=o.child,E={mode:"hidden",children:E},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=E):w=ha(E,h,0,null),i=_i(i,h,u,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=Mc(u),o.memoizedState=Lc,i):$c(o,E));if(g=i.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return Ab(i,o,E,h,O,g,u);if(w){w=h.fallback,E=o.mode,g=i.child,O=g.sibling;var z={mode:"hidden",children:h.children};return(E&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=z,o.deletions=null):(h=Vr(g,z),h.subtreeFlags=g.subtreeFlags&14680064),O!==null?w=Vr(O,w):(w=_i(w,E,u,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,E=i.child.memoizedState,E=E===null?Mc(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=i.childLanes&~u,o.memoizedState=Lc,h}return w=i.child,i=w.sibling,h=Vr(w,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=h,o.memoizedState=null,h}function $c(i,o){return o=ha({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ea(i,o,u,h){return h!==null&&dc(h),ts(o,i.child,null,u),i=$c(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Ab(i,o,u,h,g,w,E){if(u)return o.flags&256?(o.flags&=-257,h=Pc(Error(n(422))),ea(i,o,E,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=h.fallback,g=o.mode,h=ha({mode:"visible",children:h.children},g,0,null),w=_i(w,g,E,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,(o.mode&1)!==0&&ts(o,i.child,null,E),o.child.memoizedState=Mc(E),o.memoizedState=Lc,w);if((o.mode&1)===0)return ea(i,o,E,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var O=h.dgst;return h=O,w=Error(n(419)),h=Pc(w,h,void 0),ea(i,o,E,h)}if(O=(E&i.childLanes)!==0,qt||O){if(h=wt,h!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|E))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,pr(i,g),$n(h,i,g,-1))}return ed(),h=Pc(Error(n(421))),ea(i,o,E,h)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=Wb.bind(null,i),g._reactRetry=o,null):(i=w.treeContext,ln=Or(g.nextSibling),on=o,Qe=!0,On=null,i!==null&&(vn[yn++]=fr,vn[yn++]=hr,vn[yn++]=mi,fr=i.id,hr=i.overflow,mi=o),o=$c(o,h.children),o.flags|=4096,o)}function jm(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),mc(i.return,o,u)}function Fc(i,o,u,h,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=g)}function Tm(i,o,u){var h=o.pendingProps,g=h.revealOrder,w=h.tail;if(Ft(i,o,h.children,u),h=et.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jm(i,u,o);else if(i.tag===19)jm(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(He(et,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Yl(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Fc(o,!1,g,u,w);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Yl(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}Fc(o,!0,u,null,w);break;case"together":Fc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ta(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function gr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),xi|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Vr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Vr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Ib(i,o,u){switch(o.tag){case 3:_m(o),es();break;case 5:Bp(o);break;case 1:Vt(o.type)&&Ml(o);break;case 4:yc(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;He(Wl,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(He(et,et.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Cm(i,o,u):(He(et,et.current&1),i=gr(i,o,u),i!==null?i.sibling:null);He(et,et.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Tm(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),He(et,et.current),h)break;return null;case 22:case 23:return o.lanes=0,bm(i,o,u)}return gr(i,o,u)}var Nm,zc,Am,Im;Nm=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},zc=function(){},Am=function(i,o,u,h){var g=i.memoizedProps;if(g!==h){i=o.stateNode,yi(Qn.current);var w=null;switch(u){case"input":g=Mt(i,g),h=Mt(i,h),w=[];break;case"select":g=C({},g,{value:void 0}),h=C({},h,{value:void 0}),w=[];break;case"textarea":g=qn(i,g),h=qn(i,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Ol)}at(u,h);var E;u=null;for(Q in g)if(!h.hasOwnProperty(Q)&&g.hasOwnProperty(Q)&&g[Q]!=null)if(Q==="style"){var O=g[Q];for(E in O)O.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?w||(w=[]):(w=w||[]).push(Q,null));for(Q in h){var z=h[Q];if(O=g!=null?g[Q]:void 0,h.hasOwnProperty(Q)&&z!==O&&(z!=null||O!=null))if(Q==="style")if(O){for(E in O)!O.hasOwnProperty(E)||z&&z.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in z)z.hasOwnProperty(E)&&O[E]!==z[E]&&(u||(u={}),u[E]=z[E])}else u||(w||(w=[]),w.push(Q,u)),u=z;else Q==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,O=O?O.__html:void 0,z!=null&&O!==z&&(w=w||[]).push(Q,z)):Q==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Q,""+z):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(z!=null&&Q==="onScroll"&&Ye("scroll",i),w||O===z||(w=[])):(w=w||[]).push(Q,z))}u&&(w=w||[]).push("style",u);var Q=w;(o.updateQueue=Q)&&(o.flags|=4)}},Im=function(i,o,u,h){u!==h&&(o.flags|=4)};function bo(i,o){if(!Qe)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Rt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function Pb(i,o,u){var h=o.pendingProps;switch(ac(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(o),null;case 1:return Vt(o.type)&&Ll(),Rt(o),null;case 3:return h=o.stateNode,is(),Ke(Ht),Ke(It),bc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Ul(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,On!==null&&(Qc(On),On=null))),zc(i,o),Rt(o),null;case 5:wc(o);var g=yi(go.current);if(u=o.type,i!==null&&o.stateNode!=null)Am(i,o,u,h,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Rt(o),null}if(i=yi(Qn.current),Ul(o)){h=o.stateNode,u=o.type;var w=o.memoizedProps;switch(h[Jn]=o,h[co]=w,i=(o.mode&1)!==0,u){case"dialog":Ye("cancel",h),Ye("close",h);break;case"iframe":case"object":case"embed":Ye("load",h);break;case"video":case"audio":for(g=0;g<lo.length;g++)Ye(lo[g],h);break;case"source":Ye("error",h);break;case"img":case"image":case"link":Ye("error",h),Ye("load",h);break;case"details":Ye("toggle",h);break;case"input":fn(h,w),Ye("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},Ye("invalid",h);break;case"textarea":ci(h,w),Ye("invalid",h)}at(u,w),g=null;for(var E in w)if(w.hasOwnProperty(E)){var O=w[E];E==="children"?typeof O=="string"?h.textContent!==O&&(w.suppressHydrationWarning!==!0&&Rl(h.textContent,O,i),g=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&Rl(h.textContent,O,i),g=["children",""+O]):s.hasOwnProperty(E)&&O!=null&&E==="onScroll"&&Ye("scroll",h)}switch(u){case"input":ze(h),ui(h,w,!0);break;case"textarea":ze(h),Ui(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=Ol)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ee(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(u,{is:h.is}):(i=E.createElement(u),u==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,u),i[Jn]=o,i[co]=h,Nm(i,o,!1,!1),o.stateNode=i;e:{switch(E=mn(u,h),u){case"dialog":Ye("cancel",i),Ye("close",i),g=h;break;case"iframe":case"object":case"embed":Ye("load",i),g=h;break;case"video":case"audio":for(g=0;g<lo.length;g++)Ye(lo[g],i);g=h;break;case"source":Ye("error",i),g=h;break;case"img":case"image":case"link":Ye("error",i),Ye("load",i),g=h;break;case"details":Ye("toggle",i),g=h;break;case"input":fn(i,h),g=Mt(i,h),Ye("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=C({},h,{value:void 0}),Ye("invalid",i);break;case"textarea":ci(i,h),g=qn(i,h),Ye("invalid",i);break;default:g=h}at(u,g),O=g;for(w in O)if(O.hasOwnProperty(w)){var z=O[w];w==="style"?Yn(i,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&je(i,z)):w==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&Re(i,z):typeof z=="number"&&Re(i,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&Ye("scroll",i):z!=null&&A(i,w,z,E))}switch(u){case"input":ze(i),ui(i,h,!1);break;case"textarea":ze(i),Ui(i);break;case"option":h.value!=null&&i.setAttribute("value",""+ge(h.value));break;case"select":i.multiple=!!h.multiple,w=h.value,w!=null?nn(i,!!h.multiple,w,!1):h.defaultValue!=null&&nn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Ol)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Rt(o),null;case 6:if(i&&o.stateNode!=null)Im(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(u=yi(go.current),yi(Qn.current),Ul(o)){if(h=o.stateNode,u=o.memoizedProps,h[Jn]=o,(w=h.nodeValue!==u)&&(i=on,i!==null))switch(i.tag){case 3:Rl(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Rl(h.nodeValue,u,(i.mode&1)!==0)}w&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Jn]=o,o.stateNode=h}return Rt(o),null;case 13:if(Ke(et),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Qe&&ln!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Op(),es(),o.flags|=98560,w=!1;else if(w=Ul(o),h!==null&&h.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Jn]=o}else es(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rt(o),w=!1}else On!==null&&(Qc(On),On=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(et.current&1)!==0?pt===0&&(pt=3):ed())),o.updateQueue!==null&&(o.flags|=4),Rt(o),null);case 4:return is(),zc(i,o),i===null&&ao(o.stateNode.containerInfo),Rt(o),null;case 10:return pc(o.type._context),Rt(o),null;case 17:return Vt(o.type)&&Ll(),Rt(o),null;case 19:if(Ke(et),w=o.memoizedState,w===null)return Rt(o),null;if(h=(o.flags&128)!==0,E=w.rendering,E===null)if(h)bo(w,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=Yl(i),E!==null){for(o.flags|=128,bo(w,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)w=u,i=h,w.flags&=14680066,E=w.alternate,E===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,i=E.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return He(et,et.current&1|2),o.child}i=i.sibling}w.tail!==null&&ot()>as&&(o.flags|=128,h=!0,bo(w,!1),o.lanes=4194304)}else{if(!h)if(i=Yl(E),i!==null){if(o.flags|=128,h=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),bo(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!Qe)return Rt(o),null}else 2*ot()-w.renderingStartTime>as&&u!==1073741824&&(o.flags|=128,h=!0,bo(w,!1),o.lanes=4194304);w.isBackwards?(E.sibling=o.child,o.child=E):(u=w.last,u!==null?u.sibling=E:o.child=E,w.last=E)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=ot(),o.sibling=null,u=et.current,He(et,h?u&1|2:u&1),o):(Rt(o),null);case 22:case 23:return Zc(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(an&1073741824)!==0&&(Rt(o),o.subtreeFlags&6&&(o.flags|=8192)):Rt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Rb(i,o){switch(ac(o),o.tag){case 1:return Vt(o.type)&&Ll(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return is(),Ke(Ht),Ke(It),bc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return wc(o),null;case 13:if(Ke(et),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));es()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ke(et),null;case 4:return is(),null;case 10:return pc(o.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var na=!1,Ot=!1,Ob=typeof WeakSet=="function"?WeakSet:Set,he=null;function os(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){it(i,o,h)}else u.current=null}function Uc(i,o,u){try{u()}catch(h){it(i,o,h)}}var Pm=!1;function Db(i,o){if(Zu=kl,i=cp(),Vu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var E=0,O=-1,z=-1,Q=0,re=0,ie=i,ne=null;t:for(;;){for(var de;ie!==u||g!==0&&ie.nodeType!==3||(O=E+g),ie!==w||h!==0&&ie.nodeType!==3||(z=E+h),ie.nodeType===3&&(E+=ie.nodeValue.length),(de=ie.firstChild)!==null;)ne=ie,ie=de;for(;;){if(ie===i)break t;if(ne===u&&++Q===g&&(O=E),ne===w&&++re===h&&(z=E),(de=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=de}u=O===-1||z===-1?null:{start:O,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(ec={focusedElem:i,selectionRange:u},kl=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ve=pe.memoizedProps,lt=pe.memoizedState,q=o.stateNode,B=q.getSnapshotBeforeUpdate(o.elementType===o.type?ve:Dn(o.type,ve),lt);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){it(o,o.return,le)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return pe=Pm,Pm=!1,pe}function ko(i,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var w=g.destroy;g.destroy=void 0,w!==void 0&&Uc(o,u,w)}g=g.next}while(g!==h)}}function ra(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Bc(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Rm(i){var o=i.alternate;o!==null&&(i.alternate=null,Rm(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Jn],delete o[co],delete o[ic],delete o[vb],delete o[yb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Om(i){return i.tag===5||i.tag===3||i.tag===4}function Dm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Om(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wc(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ol));else if(h!==4&&(i=i.child,i!==null))for(Wc(i,o,u),i=i.sibling;i!==null;)Wc(i,o,u),i=i.sibling}function Hc(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Hc(i,o,u),i=i.sibling;i!==null;)Hc(i,o,u),i=i.sibling}var _t=null,Ln=!1;function zr(i,o,u){for(u=u.child;u!==null;)Lm(i,o,u),u=u.sibling}function Lm(i,o,u){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(gl,u)}catch{}switch(u.tag){case 5:Ot||os(u,o);case 6:var h=_t,g=Ln;_t=null,zr(i,o,u),_t=h,Ln=g,_t!==null&&(Ln?(i=_t,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):_t.removeChild(u.stateNode));break;case 18:_t!==null&&(Ln?(i=_t,u=u.stateNode,i.nodeType===8?rc(i.parentNode,u):i.nodeType===1&&rc(i,u),Zs(i)):rc(_t,u.stateNode));break;case 4:h=_t,g=Ln,_t=u.stateNode.containerInfo,Ln=!0,zr(i,o,u),_t=h,Ln=g;break;case 0:case 11:case 14:case 15:if(!Ot&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,E=w.destroy;w=w.tag,E!==void 0&&((w&2)!==0||(w&4)!==0)&&Uc(u,o,E),g=g.next}while(g!==h)}zr(i,o,u);break;case 1:if(!Ot&&(os(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(O){it(u,o,O)}zr(i,o,u);break;case 21:zr(i,o,u);break;case 22:u.mode&1?(Ot=(h=Ot)||u.memoizedState!==null,zr(i,o,u),Ot=h):zr(i,o,u);break;default:zr(i,o,u)}}function Mm(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Ob),o.forEach(function(h){var g=Hb.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Mn(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var w=i,E=o,O=E;e:for(;O!==null;){switch(O.tag){case 5:_t=O.stateNode,Ln=!1;break e;case 3:_t=O.stateNode.containerInfo,Ln=!0;break e;case 4:_t=O.stateNode.containerInfo,Ln=!0;break e}O=O.return}if(_t===null)throw Error(n(160));Lm(w,E,g),_t=null,Ln=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(Q){it(g,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)$m(o,i),o=o.sibling}function $m(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Mn(o,i),Zn(i),h&4){try{ko(3,i,i.return),ra(3,i)}catch(ve){it(i,i.return,ve)}try{ko(5,i,i.return)}catch(ve){it(i,i.return,ve)}}break;case 1:Mn(o,i),Zn(i),h&512&&u!==null&&os(u,u.return);break;case 5:if(Mn(o,i),Zn(i),h&512&&u!==null&&os(u,u.return),i.flags&32){var g=i.stateNode;try{Re(g,"")}catch(ve){it(i,i.return,ve)}}if(h&4&&(g=i.stateNode,g!=null)){var w=i.memoizedProps,E=u!==null?u.memoizedProps:w,O=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&hn(g,w),mn(O,E);var Q=mn(O,w);for(E=0;E<z.length;E+=2){var re=z[E],ie=z[E+1];re==="style"?Yn(g,ie):re==="dangerouslySetInnerHTML"?je(g,ie):re==="children"?Re(g,ie):A(g,re,ie,Q)}switch(O){case"input":lr(g,w);break;case"textarea":di(g,w);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var de=w.value;de!=null?nn(g,!!w.multiple,de,!1):ne!==!!w.multiple&&(w.defaultValue!=null?nn(g,!!w.multiple,w.defaultValue,!0):nn(g,!!w.multiple,w.multiple?[]:"",!1))}g[co]=w}catch(ve){it(i,i.return,ve)}}break;case 6:if(Mn(o,i),Zn(i),h&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,w=i.memoizedProps;try{g.nodeValue=w}catch(ve){it(i,i.return,ve)}}break;case 3:if(Mn(o,i),Zn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Zs(o.containerInfo)}catch(ve){it(i,i.return,ve)}break;case 4:Mn(o,i),Zn(i);break;case 13:Mn(o,i),Zn(i),g=i.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Yc=ot())),h&4&&Mm(i);break;case 22:if(re=u!==null&&u.memoizedState!==null,i.mode&1?(Ot=(Q=Ot)||re,Mn(o,i),Ot=Q):Mn(o,i),Zn(i),h&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!re&&(i.mode&1)!==0)for(he=i,re=i.child;re!==null;){for(ie=he=re;he!==null;){switch(ne=he,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:ko(4,ne,ne.return);break;case 1:os(ne,ne.return);var pe=ne.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ne,u=ne.return;try{o=h,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(ve){it(h,u,ve)}}break;case 5:os(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Um(ie);continue}}de!==null?(de.return=ne,he=de):Um(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{g=ie.stateNode,Q?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=ie.stateNode,z=ie.memoizedProps.style,E=z!=null&&z.hasOwnProperty("display")?z.display:null,O.style.display=Bt("display",E))}catch(ve){it(i,i.return,ve)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=Q?"":ie.memoizedProps}catch(ve){it(i,i.return,ve)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Mn(o,i),Zn(i),h&4&&Mm(i);break;case 21:break;default:Mn(o,i),Zn(i)}}function Zn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Om(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Re(g,""),h.flags&=-33);var w=Dm(i);Hc(i,w,g);break;case 3:case 4:var E=h.stateNode.containerInfo,O=Dm(i);Wc(i,O,E);break;default:throw Error(n(161))}}catch(z){it(i,i.return,z)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Lb(i,o,u){he=i,Fm(i)}function Fm(i,o,u){for(var h=(i.mode&1)!==0;he!==null;){var g=he,w=g.child;if(g.tag===22&&h){var E=g.memoizedState!==null||na;if(!E){var O=g.alternate,z=O!==null&&O.memoizedState!==null||Ot;O=na;var Q=Ot;if(na=E,(Ot=z)&&!Q)for(he=g;he!==null;)E=he,z=E.child,E.tag===22&&E.memoizedState!==null?Bm(g):z!==null?(z.return=E,he=z):Bm(g);for(;w!==null;)he=w,Fm(w),w=w.sibling;he=g,na=O,Ot=Q}zm(i)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,he=w):zm(i)}}function zm(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ot||ra(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Ot)if(u===null)h.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Dn(o.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Up(o,w,h);break;case 3:var E=o.updateQueue;if(E!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Up(o,E,u)}break;case 5:var O=o.stateNode;if(u===null&&o.flags&4){u=O;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var re=Q.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Zs(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||o.flags&512&&Bc(o)}catch(ne){it(o,o.return,ne)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function Um(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function Bm(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ra(4,o)}catch(z){it(o,u,z)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(z){it(o,g,z)}}var w=o.return;try{Bc(o)}catch(z){it(o,w,z)}break;case 5:var E=o.return;try{Bc(o)}catch(z){it(o,E,z)}}}catch(z){it(o,o.return,z)}if(o===i){he=null;break}var O=o.sibling;if(O!==null){O.return=o.return,he=O;break}he=o.return}}var Mb=Math.ceil,ia=U.ReactCurrentDispatcher,Vc=U.ReactCurrentOwner,bn=U.ReactCurrentBatchConfig,De=0,wt=null,ut=null,Et=0,an=0,ls=Dr(0),pt=0,So=null,xi=0,sa=0,qc=0,_o=null,Yt=null,Yc=0,as=1/0,vr=null,oa=!1,Kc=null,Ur=null,la=!1,Br=null,aa=0,Eo=0,Gc=null,ua=-1,ca=0;function zt(){return(De&6)!==0?ot():ua!==-1?ua:ua=ot()}function Wr(i){return(i.mode&1)===0?1:(De&2)!==0&&Et!==0?Et&-Et:xb.transition!==null?(ca===0&&(ca=Dh()),ca):(i=$e,i!==0||(i=window.event,i=i===void 0?16:Hh(i.type)),i)}function $n(i,o,u,h){if(50<Eo)throw Eo=0,Gc=null,Error(n(185));Ks(i,u,h),((De&2)===0||i!==wt)&&(i===wt&&((De&2)===0&&(sa|=u),pt===4&&Hr(i,Et)),Kt(i,h),u===1&&De===0&&(o.mode&1)===0&&(as=ot()+500,$l&&Mr()))}function Kt(i,o){var u=i.callbackNode;xx(i,o);var h=wl(i,i===wt?Et:0);if(h===0)u!==null&&Ph(u),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(u!=null&&Ph(u),o===1)i.tag===0?wb(Hm.bind(null,i)):Np(Hm.bind(null,i)),mb(function(){(De&6)===0&&Mr()}),u=null;else{switch(Lh(h)){case 1:u=Tu;break;case 4:u=Rh;break;case 16:u=ml;break;case 536870912:u=Oh;break;default:u=ml}u=Xm(u,Wm.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Wm(i,o){if(ua=-1,ca=0,(De&6)!==0)throw Error(n(327));var u=i.callbackNode;if(us()&&i.callbackNode!==u)return null;var h=wl(i,i===wt?Et:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=da(i,h);else{o=h;var g=De;De|=2;var w=qm();(wt!==i||Et!==o)&&(vr=null,as=ot()+500,ki(i,o));do try{zb();break}catch(O){Vm(i,O)}while(!0);hc(),ia.current=w,De=g,ut!==null?o=0:(wt=null,Et=0,o=pt)}if(o!==0){if(o===2&&(g=Nu(i),g!==0&&(h=g,o=Jc(i,g))),o===1)throw u=So,ki(i,0),Hr(i,h),Kt(i,ot()),u;if(o===6)Hr(i,h);else{if(g=i.current.alternate,(h&30)===0&&!$b(g)&&(o=da(i,h),o===2&&(w=Nu(i),w!==0&&(h=w,o=Jc(i,w))),o===1))throw u=So,ki(i,0),Hr(i,h),Kt(i,ot()),u;switch(i.finishedWork=g,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:Si(i,Yt,vr);break;case 3:if(Hr(i,h),(h&130023424)===h&&(o=Yc+500-ot(),10<o)){if(wl(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){zt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=nc(Si.bind(null,i,Yt,vr),o);break}Si(i,Yt,vr);break;case 4:if(Hr(i,h),(h&4194240)===h)break;for(o=i.eventTimes,g=-1;0<h;){var E=31-Pn(h);w=1<<E,E=o[E],E>g&&(g=E),h&=~w}if(h=g,h=ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Mb(h/1960))-h,10<h){i.timeoutHandle=nc(Si.bind(null,i,Yt,vr),h);break}Si(i,Yt,vr);break;case 5:Si(i,Yt,vr);break;default:throw Error(n(329))}}}return Kt(i,ot()),i.callbackNode===u?Wm.bind(null,i):null}function Jc(i,o){var u=_o;return i.current.memoizedState.isDehydrated&&(ki(i,o).flags|=256),i=da(i,o),i!==2&&(o=Yt,Yt=u,o!==null&&Qc(o)),i}function Qc(i){Yt===null?Yt=i:Yt.push.apply(Yt,i)}function $b(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],w=g.getSnapshot;g=g.value;try{if(!Rn(w(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hr(i,o){for(o&=~qc,o&=~sa,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Pn(o),h=1<<u;i[u]=-1,o&=~h}}function Hm(i){if((De&6)!==0)throw Error(n(327));us();var o=wl(i,0);if((o&1)===0)return Kt(i,ot()),null;var u=da(i,o);if(i.tag!==0&&u===2){var h=Nu(i);h!==0&&(o=h,u=Jc(i,h))}if(u===1)throw u=So,ki(i,0),Hr(i,o),Kt(i,ot()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Si(i,Yt,vr),Kt(i,ot()),null}function Xc(i,o){var u=De;De|=1;try{return i(o)}finally{De=u,De===0&&(as=ot()+500,$l&&Mr())}}function bi(i){Br!==null&&Br.tag===0&&(De&6)===0&&us();var o=De;De|=1;var u=bn.transition,h=$e;try{if(bn.transition=null,$e=1,i)return i()}finally{$e=h,bn.transition=u,De=o,(De&6)===0&&Mr()}}function Zc(){an=ls.current,Ke(ls)}function ki(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,pb(u)),ut!==null)for(u=ut.return;u!==null;){var h=u;switch(ac(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ll();break;case 3:is(),Ke(Ht),Ke(It),bc();break;case 5:wc(h);break;case 4:is();break;case 13:Ke(et);break;case 19:Ke(et);break;case 10:pc(h.type._context);break;case 22:case 23:Zc()}u=u.return}if(wt=i,ut=i=Vr(i.current,null),Et=an=o,pt=0,So=null,qc=sa=xi=0,Yt=_o=null,vi!==null){for(o=0;o<vi.length;o++)if(u=vi[o],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,w=u.pending;if(w!==null){var E=w.next;w.next=g,h.next=E}u.pending=h}vi=null}return i}function Vm(i,o){do{var u=ut;try{if(hc(),Kl.current=Xl,Gl){for(var h=tt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Gl=!1}if(wi=0,yt=ht=tt=null,vo=!1,yo=0,Vc.current=null,u===null||u.return===null){pt=1,So=o,ut=null;break}e:{var w=i,E=u.return,O=u,z=o;if(o=Et,O.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Q=z,re=O,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=gm(E);if(de!==null){de.flags&=-257,vm(de,E,O,w,o),de.mode&1&&mm(w,Q,o),o=de,z=Q;var pe=o.updateQueue;if(pe===null){var ve=new Set;ve.add(z),o.updateQueue=ve}else pe.add(z);break e}else{if((o&1)===0){mm(w,Q,o),ed();break e}z=Error(n(426))}}else if(Qe&&O.mode&1){var lt=gm(E);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),vm(lt,E,O,w,o),dc(ss(z,O));break e}}w=z=ss(z,O),pt!==4&&(pt=2),_o===null?_o=[w]:_o.push(w),w=E;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var q=hm(w,z,o);zp(w,q);break e;case 1:O=z;var B=w.type,G=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ur===null||!Ur.has(G)))){w.flags|=65536,o&=-o,w.lanes|=o;var le=pm(w,O,o);zp(w,le);break e}}w=w.return}while(w!==null)}Km(u)}catch(ye){o=ye,ut===u&&u!==null&&(ut=u=u.return);continue}break}while(!0)}function qm(){var i=ia.current;return ia.current=Xl,i===null?Xl:i}function ed(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||(xi&268435455)===0&&(sa&268435455)===0||Hr(wt,Et)}function da(i,o){var u=De;De|=2;var h=qm();(wt!==i||Et!==o)&&(vr=null,ki(i,o));do try{Fb();break}catch(g){Vm(i,g)}while(!0);if(hc(),De=u,ia.current=h,ut!==null)throw Error(n(261));return wt=null,Et=0,pt}function Fb(){for(;ut!==null;)Ym(ut)}function zb(){for(;ut!==null&&!dx();)Ym(ut)}function Ym(i){var o=Qm(i.alternate,i,an);i.memoizedProps=i.pendingProps,o===null?Km(i):ut=o,Vc.current=null}function Km(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Pb(u,o,an),u!==null){ut=u;return}}else{if(u=Rb(u,o),u!==null){u.flags&=32767,ut=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{pt=6,ut=null;return}}if(o=o.sibling,o!==null){ut=o;return}ut=o=i}while(o!==null);pt===0&&(pt=5)}function Si(i,o,u){var h=$e,g=bn.transition;try{bn.transition=null,$e=1,Ub(i,o,u,h)}finally{bn.transition=g,$e=h}return null}function Ub(i,o,u,h){do us();while(Br!==null);if((De&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(bx(i,w),i===wt&&(ut=wt=null,Et=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||la||(la=!0,Xm(ml,function(){return us(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=bn.transition,bn.transition=null;var E=$e;$e=1;var O=De;De|=4,Vc.current=null,Db(i,u),$m(u,i),lb(ec),kl=!!Zu,ec=Zu=null,i.current=u,Lb(u),fx(),De=O,$e=E,bn.transition=w}else i.current=u;if(la&&(la=!1,Br=i,aa=g),w=i.pendingLanes,w===0&&(Ur=null),mx(u.stateNode),Kt(i,ot()),o!==null)for(h=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(oa)throw oa=!1,i=Kc,Kc=null,i;return(aa&1)!==0&&i.tag!==0&&us(),w=i.pendingLanes,(w&1)!==0?i===Gc?Eo++:(Eo=0,Gc=i):Eo=0,Mr(),null}function us(){if(Br!==null){var i=Lh(aa),o=bn.transition,u=$e;try{if(bn.transition=null,$e=16>i?16:i,Br===null)var h=!1;else{if(i=Br,Br=null,aa=0,(De&6)!==0)throw Error(n(331));var g=De;for(De|=4,he=i.current;he!==null;){var w=he,E=w.child;if((he.flags&16)!==0){var O=w.deletions;if(O!==null){for(var z=0;z<O.length;z++){var Q=O[z];for(he=Q;he!==null;){var re=he;switch(re.tag){case 0:case 11:case 15:ko(8,re,w)}var ie=re.child;if(ie!==null)ie.return=re,he=ie;else for(;he!==null;){re=he;var ne=re.sibling,de=re.return;if(Rm(re),re===Q){he=null;break}if(ne!==null){ne.return=de,he=ne;break}he=de}}}var pe=w.alternate;if(pe!==null){var ve=pe.child;if(ve!==null){pe.child=null;do{var lt=ve.sibling;ve.sibling=null,ve=lt}while(ve!==null)}}he=w}}if((w.subtreeFlags&2064)!==0&&E!==null)E.return=w,he=E;else e:for(;he!==null;){if(w=he,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ko(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,he=q;break e}he=w.return}}var B=i.current;for(he=B;he!==null;){E=he;var G=E.child;if((E.subtreeFlags&2064)!==0&&G!==null)G.return=E,he=G;else e:for(E=B;he!==null;){if(O=he,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:ra(9,O)}}catch(ye){it(O,O.return,ye)}if(O===E){he=null;break e}var le=O.sibling;if(le!==null){le.return=O.return,he=le;break e}he=O.return}}if(De=g,Mr(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(gl,i)}catch{}h=!0}return h}finally{$e=u,bn.transition=o}}return!1}function Gm(i,o,u){o=ss(u,o),o=hm(i,o,1),i=Fr(i,o,1),o=zt(),i!==null&&(Ks(i,1,o),Kt(i,o))}function it(i,o,u){if(i.tag===3)Gm(i,i,u);else for(;o!==null;){if(o.tag===3){Gm(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ur===null||!Ur.has(h))){i=ss(u,i),i=pm(o,i,1),o=Fr(o,i,1),i=zt(),o!==null&&(Ks(o,1,i),Kt(o,i));break}}o=o.return}}function Bb(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),o=zt(),i.pingedLanes|=i.suspendedLanes&u,wt===i&&(Et&u)===u&&(pt===4||pt===3&&(Et&130023424)===Et&&500>ot()-Yc?ki(i,0):qc|=u),Kt(i,o)}function Jm(i,o){o===0&&((i.mode&1)===0?o=1:(o=yl,yl<<=1,(yl&130023424)===0&&(yl=4194304)));var u=zt();i=pr(i,o),i!==null&&(Ks(i,o,u),Kt(i,u))}function Wb(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Jm(i,u)}function Hb(i,o){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),Jm(i,u)}var Qm;Qm=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ht.current)qt=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return qt=!1,Ib(i,o,u);qt=(i.flags&131072)!==0}else qt=!1,Qe&&(o.flags&1048576)!==0&&Ap(o,zl,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;ta(i,o),i=o.pendingProps;var g=Qi(o,It.current);rs(o,u),g=_c(null,o,h,i,g,u);var w=Ec();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vt(h)?(w=!0,Ml(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,vc(o),g.updater=Zl,o.stateNode=g,g._reactInternals=o,Ic(o,h,i,u),o=Dc(null,o,h,!0,w,u)):(o.tag=0,Qe&&w&&lc(o),Ft(null,o,g,u),o=o.child),o;case 16:h=o.elementType;e:{switch(ta(i,o),i=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=qb(h),i=Dn(h,i),g){case 0:o=Oc(null,o,h,i,u);break e;case 1:o=Sm(null,o,h,i,u);break e;case 11:o=ym(null,o,h,i,u);break e;case 14:o=wm(null,o,h,Dn(h.type,i),u);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),Oc(i,o,h,g,u);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),Sm(i,o,h,g,u);case 3:e:{if(_m(o),i===null)throw Error(n(387));h=o.pendingProps,w=o.memoizedState,g=w.element,Fp(i,o),ql(o,h,null,u);var E=o.memoizedState;if(h=E.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=ss(Error(n(423)),o),o=Em(i,o,h,u,g);break e}else if(h!==g){g=ss(Error(n(424)),o),o=Em(i,o,h,u,g);break e}else for(ln=Or(o.stateNode.containerInfo.firstChild),on=o,Qe=!0,On=null,u=Mp(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(es(),h===g){o=gr(i,o,u);break e}Ft(i,o,h,u)}o=o.child}return o;case 5:return Bp(o),i===null&&cc(o),h=o.type,g=o.pendingProps,w=i!==null?i.memoizedProps:null,E=g.children,tc(h,g)?E=null:w!==null&&tc(h,w)&&(o.flags|=32),km(i,o),Ft(i,o,E,u),o.child;case 6:return i===null&&cc(o),null;case 13:return Cm(i,o,u);case 4:return yc(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ts(o,null,h,u):Ft(i,o,h,u),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),ym(i,o,h,g,u);case 7:return Ft(i,o,o.pendingProps,u),o.child;case 8:return Ft(i,o,o.pendingProps.children,u),o.child;case 12:return Ft(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,w=o.memoizedProps,E=g.value,He(Wl,h._currentValue),h._currentValue=E,w!==null)if(Rn(w.value,E)){if(w.children===g.children&&!Ht.current){o=gr(i,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var O=w.dependencies;if(O!==null){E=w.child;for(var z=O.firstContext;z!==null;){if(z.context===h){if(w.tag===1){z=mr(-1,u&-u),z.tag=2;var Q=w.updateQueue;if(Q!==null){Q=Q.shared;var re=Q.pending;re===null?z.next=z:(z.next=re.next,re.next=z),Q.pending=z}}w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),mc(w.return,u,o),O.lanes|=u;break}z=z.next}}else if(w.tag===10)E=w.type===o.type?null:w.child;else if(w.tag===18){if(E=w.return,E===null)throw Error(n(341));E.lanes|=u,O=E.alternate,O!==null&&(O.lanes|=u),mc(E,u,o),E=w.sibling}else E=w.child;if(E!==null)E.return=w;else for(E=w;E!==null;){if(E===o){E=null;break}if(w=E.sibling,w!==null){w.return=E.return,E=w;break}E=E.return}w=E}Ft(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,rs(o,u),g=wn(g),h=h(g),o.flags|=1,Ft(i,o,h,u),o.child;case 14:return h=o.type,g=Dn(h,o.pendingProps),g=Dn(h.type,g),wm(i,o,h,g,u);case 15:return xm(i,o,o.type,o.pendingProps,u);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),ta(i,o),o.tag=1,Vt(h)?(i=!0,Ml(o)):i=!1,rs(o,u),dm(o,h,g),Ic(o,h,g,u),Dc(null,o,h,!0,i,u);case 19:return Tm(i,o,u);case 22:return bm(i,o,u)}throw Error(n(156,o.tag))};function Xm(i,o){return Ih(i,o)}function Vb(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,o,u,h){return new Vb(i,o,u,h)}function td(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qb(i){if(typeof i=="function")return td(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Z)return 11;if(i===M)return 14}return 2}function Vr(i,o){var u=i.alternate;return u===null?(u=kn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function fa(i,o,u,h,g,w){var E=2;if(h=i,typeof i=="function")td(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case J:return _i(u.children,g,w,o);case te:E=8,g|=8;break;case K:return i=kn(12,u,o,g|2),i.elementType=K,i.lanes=w,i;case X:return i=kn(13,u,o,g),i.elementType=X,i.lanes=w,i;case T:return i=kn(19,u,o,g),i.elementType=T,i.lanes=w,i;case D:return ha(u,g,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:E=10;break e;case V:E=9;break e;case Z:E=11;break e;case M:E=14;break e;case P:E=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=kn(E,u,o,g),o.elementType=i,o.type=h,o.lanes=w,o}function _i(i,o,u,h){return i=kn(7,i,h,o),i.lanes=u,i}function ha(i,o,u,h){return i=kn(22,i,h,o),i.elementType=D,i.lanes=u,i.stateNode={isHidden:!1},i}function nd(i,o,u){return i=kn(6,i,null,o),i.lanes=u,i}function rd(i,o,u){return o=kn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Yb(i,o,u,h,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Au(0),this.expirationTimes=Au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Au(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function id(i,o,u,h,g,w,E,O,z){return i=new Yb(i,o,u,O,z),o===1?(o=1,w===!0&&(o|=8)):o=0,w=kn(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(w),i}function Kb(i,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:h==null?null:""+h,children:i,containerInfo:o,implementation:u}}function Zm(i){if(!i)return Lr;i=i._reactInternals;e:{if(fi(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Vt(u))return jp(i,u,o)}return o}function eg(i,o,u,h,g,w,E,O,z){return i=id(u,h,!0,i,g,w,E,O,z),i.context=Zm(null),u=i.current,h=zt(),g=Wr(u),w=mr(h,g),w.callback=o??null,Fr(u,w,g),i.current.lanes=g,Ks(i,g,h),Kt(i,h),i}function pa(i,o,u,h){var g=o.current,w=zt(),E=Wr(g);return u=Zm(u),o.context===null?o.context=u:o.pendingContext=u,o=mr(w,E),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Fr(g,o,E),i!==null&&($n(i,g,E,w),Vl(i,g,E)),E}function ma(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function tg(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function sd(i,o){tg(i,o),(i=i.alternate)&&tg(i,o)}function Gb(){return null}var ng=typeof reportError=="function"?reportError:function(i){console.error(i)};function od(i){this._internalRoot=i}ga.prototype.render=od.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));pa(i,o,null,null)},ga.prototype.unmount=od.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;bi(function(){pa(null,i,null,null)}),o[cr]=null}};function ga(i){this._internalRoot=i}ga.prototype.unstable_scheduleHydration=function(i){if(i){var o=Fh();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ir.length&&o!==0&&o<Ir[u].priority;u++);Ir.splice(u,0,i),u===0&&Bh(i)}};function ld(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function va(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function rg(){}function Jb(i,o,u,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var Q=ma(E);w.call(Q)}}var E=eg(o,h,i,0,null,!1,!1,"",rg);return i._reactRootContainer=E,i[cr]=E.current,ao(i.nodeType===8?i.parentNode:i),bi(),E}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var O=h;h=function(){var Q=ma(z);O.call(Q)}}var z=id(i,0,!1,null,null,!1,!1,"",rg);return i._reactRootContainer=z,i[cr]=z.current,ao(i.nodeType===8?i.parentNode:i),bi(function(){pa(o,z,u,h)}),z}function ya(i,o,u,h,g){var w=u._reactRootContainer;if(w){var E=w;if(typeof g=="function"){var O=g;g=function(){var z=ma(E);O.call(z)}}pa(o,E,i,g)}else E=Jb(u,o,i,g,h);return ma(E)}Mh=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ys(o.pendingLanes);u!==0&&(Iu(o,u|1),Kt(o,ot()),(De&6)===0&&(as=ot()+500,Mr()))}break;case 13:bi(function(){var h=pr(i,1);if(h!==null){var g=zt();$n(h,i,1,g)}}),sd(i,1)}},Pu=function(i){if(i.tag===13){var o=pr(i,134217728);if(o!==null){var u=zt();$n(o,i,134217728,u)}sd(i,134217728)}},$h=function(i){if(i.tag===13){var o=Wr(i),u=pr(i,o);if(u!==null){var h=zt();$n(u,i,o,h)}sd(i,o)}},Fh=function(){return $e},zh=function(i,o){var u=$e;try{return $e=i,o()}finally{$e=u}},Vs=function(i,o,u){switch(o){case"input":if(lr(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var g=Dl(h);if(!g)throw Error(n(90));st(h),lr(h,g)}}}break;case"textarea":di(i,u);break;case"select":o=u.value,o!=null&&nn(i,!!u.multiple,o,!1)}},$t=Xc,Nt=bi;var Qb={usingClientEntryPoint:!1,Events:[fo,Gi,Dl,Tt,Nn,Xc]},Co={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xb={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Nh(i),i===null?null:i.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Gb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{gl=wa.inject(Xb),Gn=wa}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qb,Gt.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(o))throw Error(n(200));return Kb(i,o,null,u)},Gt.createRoot=function(i,o){if(!ld(i))throw Error(n(299));var u=!1,h="",g=ng;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=id(i,1,!1,null,null,u,!1,h,g),i[cr]=o.current,ao(i.nodeType===8?i.parentNode:i),new od(o)},Gt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Nh(o),i=i===null?null:i.stateNode,i},Gt.flushSync=function(i){return bi(i)},Gt.hydrate=function(i,o,u){if(!va(o))throw Error(n(200));return ya(null,i,o,!0,u)},Gt.hydrateRoot=function(i,o,u){if(!ld(i))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,g=!1,w="",E=ng;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),o=eg(o,null,i,1,u??null,g,!1,w,E),i[cr]=o.current,ao(i),h)for(i=0;i<h.length;i++)u=h[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new ga(o)},Gt.render=function(i,o,u){if(!va(o))throw Error(n(200));return ya(null,i,o,!1,u)},Gt.unmountComponentAtNode=function(i){if(!va(i))throw Error(n(40));return i._reactRootContainer?(bi(function(){ya(null,null,i,!1,function(){i._reactRootContainer=null,i[cr]=null})}),!0):!1},Gt.unstable_batchedUpdates=Xc,Gt.unstable_renderSubtreeIntoContainer=function(i,o,u,h){if(!va(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ya(i,o,u,!1,h)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var dg;function ky(){if(dg)return cd.exports;dg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cd.exports=lk(),cd.exports}var fg;function ak(){if(fg)return xa;fg=1;var e=ky();return xa.createRoot=e.createRoot,xa.hydrateRoot=e.hydrateRoot,xa}var uk=ak();const ck=Ds(uk);var Ts=ky();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(this,arguments)}var ei;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ei||(ei={}));const hg="popstate";function dk(e){e===void 0&&(e={});function t(r,s){let{pathname:l,search:a,hash:c}=r.location;return Xd("",{pathname:l,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ua(s)}return hk(t,n,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fk(){return Math.random().toString(36).substr(2,8)}function pg(e,t){return{usr:e.state,key:e.key,idx:t}}function Xd(e,t,n,r){return n===void 0&&(n=null),Ko({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ls(t):t,{state:n,key:t&&t.key||r||fk()})}function Ua(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function hk(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,a=s.history,c=ei.Pop,d=null,f=p();f==null&&(f=0,a.replaceState(Ko({},a.state,{idx:f}),""));function p(){return(a.state||{idx:null}).idx}function m(){c=ei.Pop;let _=p(),N=_==null?null:_-f;f=_,d&&d({action:c,location:b.location,delta:N})}function y(_,N){c=ei.Push;let I=Xd(b.location,_,N);f=p()+1;let A=pg(I,f),U=b.createHref(I);try{a.pushState(A,"",U)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(U)}l&&d&&d({action:c,location:b.location,delta:1})}function v(_,N){c=ei.Replace;let I=Xd(b.location,_,N);f=p();let A=pg(I,f),U=b.createHref(I);a.replaceState(A,"",U),l&&d&&d({action:c,location:b.location,delta:0})}function k(_){let N=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof _=="string"?_:Ua(_);return I=I.replace(/ $/,"%20"),rt(N,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,N)}let b={get action(){return c},get location(){return e(s,a)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(hg,m),d=_,()=>{s.removeEventListener(hg,m),d=null}},createHref(_){return t(s,_)},createURL:k,encodeLocation(_){let N=k(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(_){return a.go(_)}};return b}var mg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mg||(mg={}));function pk(e,t,n){return n===void 0&&(n="/"),mk(e,t,n)}function mk(e,t,n,r){let s=typeof t=="string"?Ls(t):t,l=Ps(s.pathname||"/",n);if(l==null)return null;let a=_y(e);gk(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=jk(l);c=Ek(a[d],f)}return c}function _y(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,a,c)=>{let d={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};d.relativePath.startsWith("/")&&(rt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=ii([r,d.relativePath]),p=n.concat(d);l.children&&l.children.length>0&&(rt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),_y(l.children,t,p,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:Sk(f,l.index),routesMeta:p})};return e.forEach((l,a)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))s(l,a);else for(let d of Ey(l.path))s(l,a,d)}),t}function Ey(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let a=Ey(r.join("/")),c=[];return c.push(...a.map(d=>d===""?l:[l,d].join("/"))),s&&c.push(...a),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function gk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_k(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vk=/^:[\w-]+$/,yk=3,wk=2,xk=1,bk=10,kk=-2,gg=e=>e==="*";function Sk(e,t){let n=e.split("/"),r=n.length;return n.some(gg)&&(r+=kk),t&&(r+=wk),n.filter(s=>!gg(s)).reduce((s,l)=>s+(vk.test(l)?yk:l===""?xk:bk),r)}function _k(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ek(e,t,n){let{routesMeta:r}=e,s={},l="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=l==="/"?t:t.slice(l.length)||"/",m=Zd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:ii([l,m.pathname]),pathnameBase:Ik(ii([l,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(l=ii([l,m.pathnameBase]))}return a}function Zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ck(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],a=l.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,p,m)=>{let{paramName:y,isOptional:v}=p;if(y==="*"){let b=c[m]||"";a=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const k=c[m];return v&&!k?f[y]=void 0:f[y]=(k||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:a,pattern:e}}function Ck(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Sy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function jk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ps(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Tk(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ls(e):e;return{pathname:n?n.startsWith("/")?n:Nk(n,t):t,search:Pk(r),hash:Rk(s)}}function Nk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ak(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Uf(e,t){let n=Ak(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ls(e):(s=Ko({},e),rt(!s.pathname||!s.pathname.includes("?"),hd("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),hd("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),hd("#","search","hash",s)));let l=e===""||s.pathname==="",a=l?"/":s.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}c=m>=0?t[m]:"/"}let d=Tk(s,c),f=a&&a!=="/"&&a.endsWith("/"),p=(l||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),Ik=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ok(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cy=["post","put","patch","delete"];new Set(Cy);const Dk=["get",...Cy];new Set(Dk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(this,arguments)}const ou=S.createContext(null),jy=S.createContext(null),Sr=S.createContext(null),lu=S.createContext(null),_r=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Ty=S.createContext(null);function Lk(e,t){let{relative:n}=t===void 0?{}:t;Ms()||rt(!1);let{basename:r,navigator:s}=S.useContext(Sr),{hash:l,pathname:a,search:c}=au(e,{relative:n}),d=a;return r!=="/"&&(d=a==="/"?r:ii([r,a])),s.createHref({pathname:d,search:c,hash:l})}function Ms(){return S.useContext(lu)!=null}function oi(){return Ms()||rt(!1),S.useContext(lu).location}function Ny(e){S.useContext(Sr).static||S.useLayoutEffect(e)}function Wf(){let{isDataRoute:e}=S.useContext(_r);return e?Qk():Mk()}function Mk(){Ms()||rt(!1);let e=S.useContext(ou),{basename:t,future:n,navigator:r}=S.useContext(Sr),{matches:s}=S.useContext(_r),{pathname:l}=oi(),a=JSON.stringify(Uf(s,n.v7_relativeSplatPath)),c=S.useRef(!1);return Ny(()=>{c.current=!0}),S.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let m=Bf(f,JSON.parse(a),l,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ii([t,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[t,r,a,l,e])}const $k=S.createContext(null);function Fk(e){let t=S.useContext(_r).outlet;return t&&S.createElement($k.Provider,{value:e},t)}function au(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(Sr),{matches:s}=S.useContext(_r),{pathname:l}=oi(),a=JSON.stringify(Uf(s,r.v7_relativeSplatPath));return S.useMemo(()=>Bf(e,JSON.parse(a),l,n==="path"),[e,a,l,n])}function zk(e,t){return Uk(e,t)}function Uk(e,t,n,r){Ms()||rt(!1);let{navigator:s}=S.useContext(Sr),{matches:l}=S.useContext(_r),a=l[l.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let f=oi(),p;if(t){var m;let _=typeof t=="string"?Ls(t):t;d==="/"||(m=_.pathname)!=null&&m.startsWith(d)||rt(!1),p=_}else p=f;let y=p.pathname||"/",v=y;if(d!=="/"){let _=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=pk(e,{pathname:v}),b=qk(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:ii([d,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:ii([d,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,n,r);return t&&b?S.createElement(lu.Provider,{value:{location:Go({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ei.Pop}},b):b}function Bk(){let e=Jk(),t=Ok(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const Wk=S.createElement(Bk,null);class Hk extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(_r.Provider,{value:this.props.routeContext},S.createElement(Ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vk(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(ou);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(_r.Provider,{value:t},r)}function qk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let p=a.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);p>=0||rt(!1),a=a.slice(0,Math.min(a.length,p+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:v}=n,k=m.route.loader&&y[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||k){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let v,k=!1,b=null,_=null;n&&(v=c&&m.route.id?c[m.route.id]:void 0,b=m.route.errorElement||Wk,d&&(f<0&&y===0?(Xk("route-fallback"),k=!0,_=null):f===y&&(k=!0,_=m.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,y+1)),I=()=>{let A;return v?A=b:k?A=_:m.route.Component?A=S.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=p,S.createElement(Vk,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?S.createElement(Hk,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):I()},null)}var Ay=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Ay||{}),Iy=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Iy||{});function Yk(e){let t=S.useContext(ou);return t||rt(!1),t}function Kk(e){let t=S.useContext(jy);return t||rt(!1),t}function Gk(e){let t=S.useContext(_r);return t||rt(!1),t}function Py(e){let t=Gk(),n=t.matches[t.matches.length-1];return n.route.id||rt(!1),n.route.id}function Jk(){var e;let t=S.useContext(Ty),n=Kk(),r=Py();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Qk(){let{router:e}=Yk(Ay.UseNavigateStable),t=Py(Iy.UseNavigateStable),n=S.useRef(!1);return Ny(()=>{n.current=!0}),S.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Go({fromRouteId:t},l)))},[e,t])}const vg={};function Xk(e,t,n){vg[e]||(vg[e]=!0)}function Zk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Hf(e){let{to:t,replace:n,state:r,relative:s}=e;Ms()||rt(!1);let{future:l,static:a}=S.useContext(Sr),{matches:c}=S.useContext(_r),{pathname:d}=oi(),f=Wf(),p=Bf(t,Uf(c,l.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(p);return S.useEffect(()=>f(JSON.parse(m),{replace:n,state:r,relative:s}),[f,m,s,n,r]),null}function Ry(e){return Fk(e.context)}function Fn(e){rt(!1)}function e1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ei.Pop,navigator:l,static:a=!1,future:c}=e;Ms()&&rt(!1);let d=t.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:d,navigator:l,static:a,future:Go({v7_relativeSplatPath:!1},c)}),[d,c,l,a]);typeof r=="string"&&(r=Ls(r));let{pathname:p="/",search:m="",hash:y="",state:v=null,key:k="default"}=r,b=S.useMemo(()=>{let _=Ps(p,d);return _==null?null:{location:{pathname:_,search:m,hash:y,state:v,key:k},navigationType:s}},[d,p,m,y,v,k,s]);return b==null?null:S.createElement(Sr.Provider,{value:f},S.createElement(lu.Provider,{children:n,value:b}))}function t1(e){let{children:t,location:n}=e;return zk(ef(t),n)}new Promise(()=>{});function ef(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let l=[...t,s];if(r.type===S.Fragment){n.push.apply(n,ef(r.props.children,l));return}r.type!==Fn&&rt(!1),!r.props.index||!r.props.children||rt(!1);let a={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ef(r.props.children,l)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}function Oy(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function n1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function r1(e,t){return e.button===0&&(!t||t==="_self")&&!n1(e)}function tf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function i1(e,t){let n=tf(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(l=>{n.append(s,l)})}),n}const s1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],o1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],l1="6";try{window.__reactRouterVersion=l1}catch{}const a1=S.createContext({isTransitioning:!1}),u1="startTransition",yg=Qd[u1];function c1(e){let{basename:t,children:n,future:r,window:s}=e,l=S.useRef();l.current==null&&(l.current=dk({window:s,v5Compat:!0}));let a=l.current,[c,d]=S.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},p=S.useCallback(m=>{f&&yg?yg(()=>d(m)):d(m)},[d,f]);return S.useLayoutEffect(()=>a.listen(p),[a,p]),S.useEffect(()=>Zk(r),[r]),S.createElement(e1,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const d1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=S.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:l,replace:a,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m}=t,y=Oy(t,s1),{basename:v}=S.useContext(Sr),k,b=!1;if(typeof f=="string"&&f1.test(f)&&(k=f,d1))try{let A=new URL(window.location.href),U=f.startsWith("//")?new URL(A.protocol+f):new URL(f),Y=Ps(U.pathname,v);U.origin===A.origin&&Y!=null?f=Y+U.search+U.hash:b=!0}catch{}let _=Lk(f,{relative:s}),N=p1(f,{replace:a,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:m});function I(A){r&&r(A),A.defaultPrevented||N(A)}return S.createElement("a",Ba({},y,{href:k||_,onClick:b||l?r:I,ref:n,target:d}))}),wg=S.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:l="",end:a=!1,style:c,to:d,viewTransition:f,children:p}=t,m=Oy(t,o1),y=au(d,{relative:m.relative}),v=oi(),k=S.useContext(jy),{navigator:b,basename:_}=S.useContext(Sr),N=k!=null&&g1(y)&&f===!0,I=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,A=v.pathname,U=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(A=A.toLowerCase(),U=U?U.toLowerCase():null,I=I.toLowerCase()),U&&_&&(U=Ps(U,_)||U);const Y=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let $=A===I||!a&&A.startsWith(I)&&A.charAt(Y)==="/",J=U!=null&&(U===I||!a&&U.startsWith(I)&&U.charAt(I.length)==="/"),te={isActive:$,isPending:J,isTransitioning:N},K=$?r:void 0,L;typeof l=="function"?L=l(te):L=[l,$?"active":null,J?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(te):c;return S.createElement(_s,Ba({},m,{"aria-current":K,className:L,ref:n,style:V,to:d,viewTransition:f}),typeof p=="function"?p(te):p)});var nf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nf||(nf={}));var xg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xg||(xg={}));function h1(e){let t=S.useContext(ou);return t||rt(!1),t}function p1(e,t){let{target:n,replace:r,state:s,preventScrollReset:l,relative:a,viewTransition:c}=t===void 0?{}:t,d=Wf(),f=oi(),p=au(e,{relative:a});return S.useCallback(m=>{if(r1(m,n)){m.preventDefault();let y=r!==void 0?r:Ua(f)===Ua(p);d(e,{replace:y,state:s,preventScrollReset:l,relative:a,viewTransition:c})}},[f,d,p,r,s,n,e,l,a,c])}function m1(e){let t=S.useRef(tf(e)),n=S.useRef(!1),r=oi(),s=S.useMemo(()=>i1(r.search,n.current?null:t.current),[r.search]),l=Wf(),a=S.useCallback((c,d)=>{const f=tf(typeof c=="function"?c(s):c);n.current=!0,l("?"+f,d)},[l,s]);return[s,a]}function g1(e,t){t===void 0&&(t={});let n=S.useContext(a1);n==null&&rt(!1);let{basename:r}=h1(nf.useViewTransitionState),s=au(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zd(s.pathname,a)!=null||Zd(s.pathname,l)!=null}function Dy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Dy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Dy(e))&&(r&&(r+=" "),r+=t);return r}var v1=Object.defineProperty,y1=(e,t,n)=>t in e?v1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pd=(e,t,n)=>(y1(e,typeof t!="symbol"?t+"":t,n),n);let w1=class{constructor(){pd(this,"current",this.detect()),pd(this,"handoffState","pending"),pd(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},rr=new w1;function il(e){var t;return rr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function rf(e){var t,n;return rr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function Ly(e){var t,n;return(n=(t=rf(e))==null?void 0:t.activeElement)!=null?n:null}function x1(e){return Ly(e)===e}function uu(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Er(){let e=[],t={addEventListener(n,r,s,l){return n.addEventListener(r,s,l),t.add(()=>n.removeEventListener(r,s,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return uu(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=Er();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function cu(){let[e]=S.useState(Er);return S.useEffect(()=>()=>e.dispose(),[e]),e}let Xt=(e,t)=>{rr.isServer?S.useEffect(e,t):S.useLayoutEffect(e,t)};function $i(e){let t=S.useRef(e);return Xt(()=>{t.current=e},[e]),t}let Ue=function(e){let t=$i(e);return me.useCallback((...n)=>t.current(...n),[t])};function sl(e){return S.useMemo(()=>e,Object.values(e))}let b1=S.createContext(void 0);function k1(){return S.useContext(b1)}function sf(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function br(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,br),r}var Wa=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Wa||{}),ti=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ti||{});function jn(){let e=_1();return S.useCallback(t=>S1({mergeRefs:e,...t}),[e])}function S1({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:l=!0,name:a,mergeRefs:c}){c=c??E1;let d=My(t,e);if(l)return ba(d,n,r,a,c);let f=s??0;if(f&2){let{static:p=!1,...m}=d;if(p)return ba(m,n,r,a,c)}if(f&1){let{unmount:p=!0,...m}=d;return br(p?0:1,{0(){return null},1(){return ba({...m,hidden:!0,style:{display:"none"}},n,r,a,c)}})}return ba(d,n,r,a,c)}function ba(e,t={},n,r,s){let{as:l=n,children:a,refName:c="ref",...d}=md(e,["unmount","static"]),f=e.ref!==void 0?{[c]:e.ref}:{},p=typeof a=="function"?a(t):a;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let m={};if(t){let y=!1,v=[];for(let[k,b]of Object.entries(t))typeof b=="boolean"&&(y=!0),b===!0&&v.push(k.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(y){m["data-headlessui-state"]=v.join(" ");for(let k of v)m[`data-${k}`]=""}}if(Lo(l)&&(Object.keys(Ti(d)).length>0||Object.keys(Ti(m)).length>0))if(!S.isValidElement(p)||Array.isArray(p)&&p.length>1||j1(p)){if(Object.keys(Ti(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ti(d)).concat(Object.keys(Ti(m))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=p.props,v=y==null?void 0:y.className,k=typeof v=="function"?(...N)=>sf(v(...N),d.className):sf(v,d.className),b=k?{className:k}:{},_=My(p.props,Ti(md(d,["ref"])));for(let N in m)N in _&&delete m[N];return S.cloneElement(p,Object.assign({},_,m,f,{ref:s(C1(p),f.ref)},b))}return S.createElement(l,Object.assign({},md(d,["ref"]),!Lo(l)&&f,!Lo(l)&&m),p)}function _1(){let e=S.useRef([]),t=S.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function E1(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function My(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var l;return(l=s==null?void 0:s.preventDefault)==null?void 0:l.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...l){let a=n[r];for(let c of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;c(s,...l)}}});return t}function Zt(e){var t;return Object.assign(S.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ti(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function md(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function C1(e){return me.version.split(".")[0]>="19"?e.props.ref:e.ref}function Lo(e){return e===S.Fragment||e===Symbol.for("react.fragment")}function j1(e){return Lo(e.type)}let T1="span";var Ha=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ha||{});function N1(e,t){var n;let{features:r=1,...s}=e,l={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return jn()({ourProps:l,theirProps:s,slot:{},defaultTag:T1,name:"Hidden"})}let of=Zt(N1);function A1(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function si(e){return A1(e)&&"tagName"in e}function Li(e){return si(e)&&"accessKey"in e}function ni(e){return si(e)&&"tabIndex"in e}function I1(e){return si(e)&&"style"in e}function P1(e){return Li(e)&&e.nodeName==="IFRAME"}function R1(e){return Li(e)&&e.nodeName==="INPUT"}let $y=Symbol();function O1(e,t=!0){return Object.assign(e,{[$y]:t})}function sr(...e){let t=S.useRef(e);S.useEffect(()=>{t.current=e},[e]);let n=Ue(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[$y]))?void 0:n}let Vf=S.createContext(null);Vf.displayName="DescriptionContext";function Fy(){let e=S.useContext(Vf);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Fy),t}return e}function D1(){let[e,t]=S.useState([]);return[e.length>0?e.join(" "):void 0,S.useMemo(()=>function(n){let r=Ue(l=>(t(a=>[...a,l]),()=>t(a=>{let c=a.slice(),d=c.indexOf(l);return d!==-1&&c.splice(d,1),c}))),s=S.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return me.createElement(Vf.Provider,{value:s},n.children)},[t])]}let L1="p";function M1(e,t){let n=S.useId(),r=k1(),{id:s=`headlessui-description-${n}`,...l}=e,a=Fy(),c=sr(t);Xt(()=>a.register(s),[s,a.register]);let d=sl({...a.slot,disabled:r||!1}),f={ref:c,...a.props,id:s};return jn()({ourProps:f,theirProps:l,slot:d,defaultTag:L1,name:a.name||"Description"})}let $1=Zt(M1),F1=Object.assign($1,{});var zy=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(zy||{});let z1=S.createContext(()=>{});function U1({value:e,children:t}){return me.createElement(z1.Provider,{value:e},t)}let Uy=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var B1=Object.defineProperty,W1=(e,t,n)=>t in e?B1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H1=(e,t,n)=>(W1(e,t+"",n),n),By=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Sn=(e,t,n)=>(By(e,t,"read from private field"),n?n.call(e):t.get(e)),gd=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},bg=(e,t,n,r)=>(By(e,t,"write to private field"),t.set(e,n),n),er,Po,Ro;let V1=class{constructor(t){gd(this,er,{}),gd(this,Po,new Uy(()=>new Set)),gd(this,Ro,new Set),H1(this,"disposables",Er()),bg(this,er,t),rr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Sn(this,er)}subscribe(t,n){if(rr.isServer)return()=>{};let r={selector:t,callback:n,current:t(Sn(this,er))};return Sn(this,Ro).add(r),this.disposables.add(()=>{Sn(this,Ro).delete(r)})}on(t,n){return rr.isServer?()=>{}:(Sn(this,Po).get(t).add(n),this.disposables.add(()=>{Sn(this,Po).get(t).delete(n)}))}send(t){let n=this.reduce(Sn(this,er),t);if(n!==Sn(this,er)){bg(this,er,n);for(let r of Sn(this,Ro)){let s=r.selector(Sn(this,er));Wy(r.current,s)||(r.current=s,r.callback(s))}for(let r of Sn(this,Po).get(t.type))r(Sn(this,er),t)}}};er=new WeakMap,Po=new WeakMap,Ro=new WeakMap;function Wy(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:vd(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:vd(e.entries(),t.entries()):kg(e)&&kg(t)?vd(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function vd(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function kg(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var q1=Object.defineProperty,Y1=(e,t,n)=>t in e?q1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sg=(e,t,n)=>(Y1(e,typeof t!="symbol"?t+"":t,n),n),K1=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(K1||{});let G1={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let l=e.stack.slice();return l.splice(s,1),l.push(n),r=l,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},J1=class Hy extends V1{constructor(){super(...arguments),Sg(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Sg(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Hy({stack:[]})}reduce(t,n){return br(n.type,G1,t,n)}};const Vy=new Uy(()=>J1.new());var yd={exports:{}},wd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Q1(){if(_g)return wd;_g=1;var e=su();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,a=e.useMemo,c=e.useDebugValue;return wd.useSyncExternalStoreWithSelector=function(d,f,p,m,y){var v=s(null);if(v.current===null){var k={hasValue:!1,value:null};v.current=k}else k=v.current;v=a(function(){function _(Y){if(!N){if(N=!0,I=Y,Y=m(Y),y!==void 0&&k.hasValue){var $=k.value;if(y($,Y))return A=$}return A=Y}if($=A,n(I,Y))return $;var J=m(Y);return y!==void 0&&y($,J)?(I=Y,$):(I=Y,A=J)}var N=!1,I,A,U=p===void 0?null:p;return[function(){return _(f())},U===null?void 0:function(){return _(U())}]},[f,p,m,y]);var b=r(d,v[0],v[1]);return l(function(){k.hasValue=!0,k.value=b},[b]),c(b),b},wd}var Eg;function X1(){return Eg||(Eg=1,yd.exports=Q1()),yd.exports}var Z1=X1();function qy(e,t,n=Wy){return Z1.useSyncExternalStoreWithSelector(Ue(r=>e.subscribe(eS,r)),Ue(()=>e.state),Ue(()=>e.state),Ue(t),n)}function eS(e){return e}function ol(e,t){let n=S.useId(),r=Vy.get(t),[s,l]=qy(r,S.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return Xt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?l?s:!0:!1}let lf=new Map,Mo=new Map;function Cg(e){var t;let n=(t=Mo.get(e))!=null?t:0;return Mo.set(e,n+1),n!==0?()=>jg(e):(lf.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>jg(e))}function jg(e){var t;let n=(t=Mo.get(e))!=null?t:1;if(n===1?Mo.delete(e):Mo.set(e,n-1),n!==1)return;let r=lf.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,lf.delete(e))}function tS(e,{allowed:t,disallowed:n}={}){let r=ol(e,"inert-others");Xt(()=>{var s,l;if(!r)return;let a=Er();for(let d of(s=n==null?void 0:n())!=null?s:[])d&&a.add(Cg(d));let c=(l=t==null?void 0:t())!=null?l:[];for(let d of c){if(!d)continue;let f=il(d);if(!f)continue;let p=d.parentElement;for(;p&&p!==f.body;){for(let m of p.children)c.some(y=>m.contains(y))||a.add(Cg(m));p=p.parentElement}}return a.dispose},[r,t,n])}function nS(e,t,n){let r=$i(s=>{let l=s.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});S.useEffect(()=>{if(!e)return;let s=t===null?null:Li(t)?t:t.current;if(!s)return;let l=Er();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(s));a.observe(s),l.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(s));a.observe(s),l.add(()=>a.disconnect())}return()=>l.dispose()},[t,r,e])}let Va=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),rS=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var wr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(wr||{}),af=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(af||{}),iS=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(iS||{});function sS(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Va)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function oS(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(rS)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Yy=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Yy||{});function lS(e,t=0){var n;return e===((n=il(e))==null?void 0:n.body)?!1:br(t,{0(){return e.matches(Va)},1(){let r=e;for(;r!==null;){if(r.matches(Va))return!0;r=r.parentElement}return!1}})}var aS=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(aS||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xr(e){e==null||e.focus({preventScroll:!0})}let uS=["textarea","input"].join(",");function cS(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,uS))!=null?n:!1}function dS(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),l=t(r);if(s===null||l===null)return 0;let a=s.compareDocumentPosition(l);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function $o(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let l=Array.isArray(e)?e.length>0?rf(e[0]):document:rf(e),a=Array.isArray(e)?n?dS(e):e:t&64?oS(e):sS(e);s.length>0&&a.length>1&&(a=a.filter(v=>!s.some(k=>k!=null&&"current"in k?(k==null?void 0:k.current)===v:k===v))),r=r??(l==null?void 0:l.activeElement);let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},p=0,m=a.length,y;do{if(p>=m||p+m<=0)return 0;let v=d+p;if(t&16)v=(v+m)%m;else{if(v<0)return 3;if(v>=m)return 1}y=a[v],y==null||y.focus(f),p+=c}while(y!==Ly(y));return t&6&&cS(y)&&y.select(),2}function Ky(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function fS(){return/Android/gi.test(window.navigator.userAgent)}function Tg(){return Ky()||fS()}function ka(e,t,n,r){let s=$i(n);S.useEffect(()=>{if(!e)return;function l(a){s.current(a)}return document.addEventListener(t,l,r),()=>document.removeEventListener(t,l,r)},[e,t,r])}function Gy(e,t,n,r){let s=$i(n);S.useEffect(()=>{if(!e)return;function l(a){s.current(a)}return window.addEventListener(t,l,r),()=>window.removeEventListener(t,l,r)},[e,t,r])}const Ng=30;function hS(e,t,n){let r=$i(n),s=S.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let p=(function m(y){return typeof y=="function"?m(y()):Array.isArray(y)||y instanceof Set?y:[y]})(t);for(let m of p)if(m!==null&&(m.contains(f)||c.composed&&c.composedPath().includes(m)))return;return!lS(f,Yy.Loose)&&f.tabIndex!==-1&&c.preventDefault(),r.current(c,f)},[r,t]),l=S.useRef(null);ka(e,"pointerdown",c=>{var d,f;Tg()||(l.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target)},!0),ka(e,"pointerup",c=>{if(Tg()||!l.current)return;let d=l.current;return l.current=null,s(c,()=>d)},!0);let a=S.useRef({x:0,y:0});ka(e,"touchstart",c=>{a.current.x=c.touches[0].clientX,a.current.y=c.touches[0].clientY},!0),ka(e,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-a.current.x)>=Ng||Math.abs(d.y-a.current.y)>=Ng))return s(c,()=>ni(c.target)?c.target:null)},!0),Gy(e,"blur",c=>s(c,()=>P1(window.document.activeElement)?window.document.activeElement:null),!0)}function qf(...e){return S.useMemo(()=>il(...e),[...e])}function Jy(e,t,n,r){let s=$i(n);S.useEffect(()=>{e=e??window;function l(a){s.current(a)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function pS(e){return S.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function mS(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...l){let a=t[s].call(n,...l);a&&(n=a,r.forEach(c=>c()))}}}function gS(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),l=Math.max(0,e-s);n.style(r,"paddingRight",`${l}px`)}}}function vS(){return Ky()?{before({doc:e,d:t,meta:n}){function r(s){for(let l of n().containers)for(let a of l())if(a.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=Er();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let l=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",c=>{if(ni(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),p=e.querySelector(f);ni(p)&&!r(p)&&(a=p)}catch{}},!0),t.group(c=>{t.addEventListener(e,"touchstart",d=>{if(c.dispose(),ni(d.target)&&I1(d.target))if(r(d.target)){let f=d.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;c.style(f,"overscrollBehavior","contain")}else c.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",c=>{if(ni(c.target)){if(R1(c.target))return;if(r(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;l!==d&&window.scrollTo(0,l),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function yS(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ag(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Oi=mS(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Er(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Ag(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Ag(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[vS(),gS(),yS()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Oi.subscribe(()=>{let e=Oi.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Oi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Oi.dispatch("TEARDOWN",n)}});function wS(e,t,n=()=>({containers:[]})){let r=pS(Oi),s=t?r.get(t):void 0,l=s?s.count>0:!1;return Xt(()=>{if(!(!t||!e))return Oi.dispatch("PUSH",t,n),()=>Oi.dispatch("POP",t,n)},[e,t]),l}function xS(e,t,n=()=>[document.body]){let r=ol(e,"scroll-lock");wS(r,t,s=>{var l;return{containers:[...(l=s.containers)!=null?l:[],n]}})}function bS(e=0){let[t,n]=S.useState(e),r=S.useCallback(d=>n(d),[]),s=S.useCallback(d=>n(f=>f|d),[]),l=S.useCallback(d=>(t&d)===d,[t]),a=S.useCallback(d=>n(f=>f&~d),[]),c=S.useCallback(d=>n(f=>f^d),[]);return{flags:t,setFlag:r,addFlag:s,hasFlag:l,removeFlag:a,toggleFlag:c}}var kS={},Ig,Pg;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Ig=process==null?void 0:kS)==null?void 0:Ig.NODE_ENV)==="test"&&typeof((Pg=Element==null?void 0:Element.prototype)==null?void 0:Pg.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var SS=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(SS||{});function _S(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function ES(e,t,n,r){let[s,l]=S.useState(n),{hasFlag:a,addFlag:c,removeFlag:d}=bS(e&&s?3:0),f=S.useRef(!1),p=S.useRef(!1),m=cu();return Xt(()=>{var y;if(e){if(n&&l(!0),!t){n&&c(3);return}return(y=r==null?void 0:r.start)==null||y.call(r,n),CS(t,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,!p.current&&(n?(c(3),d(4)):(c(4),d(2)))},run(){p.current?n?(d(3),c(4)):(d(4),c(3)):n?d(1):c(1)},done(){var v;p.current&&NS(t)||(f.current=!1,d(7),n||l(!1),(v=r==null?void 0:r.end)==null||v.call(r,n))}})}},[e,n,t,m]),e?[s,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function CS(e,{prepare:t,run:n,done:r,inFlight:s}){let l=Er();return TS(e,{prepare:t,inFlight:s}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(jS(e,r))})}),l.dispose}function jS(e,t){var n,r;let s=Er();if(!e)return s.dispose;let l=!1;s.add(()=>{l=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(c=>c instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),s.dispose):(Promise.allSettled(a.map(c=>c.finished)).then(()=>{l||t()}),s.dispose)}function TS(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function NS(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Yf(e,t){let n=S.useRef([]),r=Ue(e);S.useEffect(()=>{let s=[...n.current];for(let[l,a]of t.entries())if(n.current[l]!==a){let c=r(t,s);return n.current=t,c}},[r,...t])}let du=S.createContext(null);du.displayName="OpenClosedContext";var Bn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Bn||{});function fu(){return S.useContext(du)}function AS({value:e,children:t}){return me.createElement(du.Provider,{value:e},t)}function IS({children:e}){return me.createElement(du.Provider,{value:null},e)}function PS(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Qr=[];PS(()=>{function e(t){if(!ni(t.target)||t.target===document.body||Qr[0]===t.target)return;let n=t.target;n=n.closest(Va),Qr.unshift(n??t.target),Qr=Qr.filter(r=>r!=null&&r.isConnected),Qr.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Qy(e){let t=Ue(e),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,uu(()=>{n.current&&t()})}),[t])}let Xy=S.createContext(!1);function RS(){return S.useContext(Xy)}function Rg(e){return me.createElement(Xy.Provider,{value:e.force},e.children)}function OS(e){let t=RS(),n=S.useContext(ew),[r,s]=S.useState(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(rr.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return S.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),S.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let Zy=S.Fragment,DS=Zt(function(e,t){let{ownerDocument:n=null,...r}=e,s=S.useRef(null),l=sr(O1(y=>{s.current=y}),t),a=qf(s.current),c=n??a,d=OS(c),f=S.useContext(uf),p=cu(),m=jn();return Qy(()=>{var y;d&&d.childNodes.length<=0&&((y=d.parentElement)==null||y.removeChild(d))}),d?Ts.createPortal(me.createElement("div",{"data-headlessui-portal":"",ref:y=>{p.dispose(),f&&y&&p.add(f.register(y))}},m({ourProps:{ref:l},theirProps:r,slot:{},defaultTag:Zy,name:"Portal"})),d):null});function LS(e,t){let n=sr(t),{enabled:r=!0,ownerDocument:s,...l}=e,a=jn();return r?me.createElement(DS,{...l,ownerDocument:s,ref:n}):a({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:Zy,name:"Portal"})}let MS=S.Fragment,ew=S.createContext(null);function $S(e,t){let{target:n,...r}=e,s={ref:sr(t)},l=jn();return me.createElement(ew.Provider,{value:n},l({ourProps:s,theirProps:r,defaultTag:MS,name:"Popover.Group"}))}let uf=S.createContext(null);function FS(){let e=S.useContext(uf),t=S.useRef([]),n=Ue(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=Ue(l=>{let a=t.current.indexOf(l);a!==-1&&t.current.splice(a,1),e&&e.unregister(l)}),s=S.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,S.useMemo(()=>function({children:l}){return me.createElement(uf.Provider,{value:s},l)},[s])]}let zS=Zt(LS),tw=Zt($S),US=Object.assign(zS,{Group:tw});function BS(e,t=typeof document<"u"?document.defaultView:null,n){let r=ol(e,"escape");Jy(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===zy.Escape&&n(s))})}function WS(){var e;let[t]=S.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=S.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Xt(()=>{if(!t)return;function s(l){r(l.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function HS({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Ue(()=>{var s,l;let a=il(n),c=[];for(let d of e)d!==null&&(si(d)?c.push(d):"current"in d&&si(d.current)&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(s=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?s:[])d!==document.body&&d!==document.head&&si(d)&&d.id!=="headlessui-portal-root"&&(n&&(d.contains(n)||d.contains((l=n==null?void 0:n.getRootNode())==null?void 0:l.host))||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:r,contains:Ue(s=>r().some(l=>l.contains(s)))}}let nw=S.createContext(null);function Og({children:e,node:t}){let[n,r]=S.useState(null),s=rw(t??n);return me.createElement(nw.Provider,{value:s},e,s===null&&me.createElement(of,{features:Ha.Hidden,ref:l=>{var a,c;if(l){for(let d of(c=(a=il(l))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&si(d)&&d!=null&&d.contains(l)){r(d);break}}}}))}function rw(e=null){var t;return(t=S.useContext(nw))!=null?t:e}function VS(){let e=typeof document>"u";return"useSyncExternalStore"in Qd?(t=>t.useSyncExternalStore)(Qd)(()=>()=>{},()=>!1,()=>!e):!1}function hu(){let e=VS(),[t,n]=S.useState(rr.isHandoffComplete);return t&&rr.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{t!==!0&&n(!0)},[t]),S.useEffect(()=>rr.handoff(),[]),e?!1:t}function Kf(){let e=S.useRef(!1);return Xt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Oo=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Oo||{});function qS(){let e=S.useRef(0);return Gy(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function iw(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)si(n.current)&&t.add(n.current);return t}let YS="div";var Ii=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ii||{});function KS(e,t){let n=S.useRef(null),r=sr(n,t),{initialFocus:s,initialFocusFallback:l,containers:a,features:c=15,...d}=e;hu()||(c=0);let f=qf(n.current);XS(c,{ownerDocument:f});let p=ZS(c,{ownerDocument:f,container:n,initialFocus:s,initialFocusFallback:l});e_(c,{ownerDocument:f,container:n,containers:a,previousActiveElement:p});let m=qS(),y=Ue(I=>{if(!Li(n.current))return;let A=n.current;(U=>U())(()=>{br(m.current,{[Oo.Forwards]:()=>{$o(A,wr.First,{skipElements:[I.relatedTarget,l]})},[Oo.Backwards]:()=>{$o(A,wr.Last,{skipElements:[I.relatedTarget,l]})}})})}),v=ol(!!(c&2),"focus-trap#tab-lock"),k=cu(),b=S.useRef(!1),_={ref:r,onKeyDown(I){I.key=="Tab"&&(b.current=!0,k.requestAnimationFrame(()=>{b.current=!1}))},onBlur(I){if(!(c&4))return;let A=iw(a);Li(n.current)&&A.add(n.current);let U=I.relatedTarget;ni(U)&&U.dataset.headlessuiFocusGuard!=="true"&&(sw(A,U)||(b.current?$o(n.current,br(m.current,{[Oo.Forwards]:()=>wr.Next,[Oo.Backwards]:()=>wr.Previous})|wr.WrapAround,{relativeTo:I.target}):ni(I.target)&&xr(I.target)))}},N=jn();return me.createElement(me.Fragment,null,v&&me.createElement(of,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Ha.Focusable}),N({ourProps:_,theirProps:d,defaultTag:YS,name:"FocusTrap"}),v&&me.createElement(of,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Ha.Focusable}))}let GS=Zt(KS),JS=Object.assign(GS,{features:Ii});function QS(e=!0){let t=S.useRef(Qr.slice());return Yf(([n],[r])=>{r===!0&&n===!1&&uu(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Qr.slice())},[e,Qr,t]),Ue(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function XS(e,{ownerDocument:t}){let n=!!(e&8),r=QS(n);Yf(()=>{n||x1(t==null?void 0:t.body)&&xr(r())},[n]),Qy(()=>{n&&xr(r())})}function ZS(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let l=S.useRef(null),a=ol(!!(e&1),"focus-trap#initial-focus"),c=Kf();return Yf(()=>{if(e===0)return;if(!a){s!=null&&s.current&&xr(s.current);return}let d=n.current;d&&uu(()=>{if(!c.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){l.current=f;return}}else if(d.contains(f)){l.current=f;return}if(r!=null&&r.current)xr(r.current);else{if(e&16){if($o(d,wr.First|wr.AutoFocus)!==af.Error)return}else if($o(d,wr.First)!==af.Error)return;if(s!=null&&s.current&&(xr(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[s,a,e]),l}function e_(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let l=Kf(),a=!!(e&4);Jy(t==null?void 0:t.defaultView,"focus",c=>{if(!a||!l.current)return;let d=iw(r);Li(n.current)&&d.add(n.current);let f=s.current;if(!f)return;let p=c.target;Li(p)?sw(d,p)?(s.current=p,xr(p)):(c.preventDefault(),c.stopPropagation(),xr(f)):xr(s.current)},!0)}function sw(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function ow(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Lo((t=e.as)!=null?t:aw)||me.Children.count(e.children)===1}let pu=S.createContext(null);pu.displayName="TransitionContext";var t_=(e=>(e.Visible="visible",e.Hidden="hidden",e))(t_||{});function n_(){let e=S.useContext(pu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function r_(){let e=S.useContext(mu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let mu=S.createContext(null);mu.displayName="NestingContext";function gu(e){return"children"in e?gu(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function lw(e,t){let n=$i(e),r=S.useRef([]),s=Kf(),l=cu(),a=Ue((v,k=ti.Hidden)=>{let b=r.current.findIndex(({el:_})=>_===v);b!==-1&&(br(k,{[ti.Unmount](){r.current.splice(b,1)},[ti.Hidden](){r.current[b].state="hidden"}}),l.microTask(()=>{var _;!gu(r)&&s.current&&((_=n.current)==null||_.call(n))}))}),c=Ue(v=>{let k=r.current.find(({el:b})=>b===v);return k?k.state!=="visible"&&(k.state="visible"):r.current.push({el:v,state:"visible"}),()=>a(v,ti.Unmount)}),d=S.useRef([]),f=S.useRef(Promise.resolve()),p=S.useRef({enter:[],leave:[]}),m=Ue((v,k,b)=>{d.current.splice(0),t&&(t.chains.current[k]=t.chains.current[k].filter(([_])=>_!==v)),t==null||t.chains.current[k].push([v,new Promise(_=>{d.current.push(_)})]),t==null||t.chains.current[k].push([v,new Promise(_=>{Promise.all(p.current[k].map(([N,I])=>I)).then(()=>_())})]),k==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(k)):b(k)}),y=Ue((v,k,b)=>{Promise.all(p.current[k].splice(0).map(([_,N])=>N)).then(()=>{var _;(_=d.current.shift())==null||_()}).then(()=>b(k))});return S.useMemo(()=>({children:r,register:c,unregister:a,onStart:m,onStop:y,wait:f,chains:p}),[c,a,r,m,y,p,f])}let aw=S.Fragment,uw=Wa.RenderStrategy;function i_(e,t){var n,r;let{transition:s=!0,beforeEnter:l,afterEnter:a,beforeLeave:c,afterLeave:d,enter:f,enterFrom:p,enterTo:m,entered:y,leave:v,leaveFrom:k,leaveTo:b,..._}=e,[N,I]=S.useState(null),A=S.useRef(null),U=ow(e),Y=sr(...U?[A,t,I]:t===null?[]:[t]),$=(n=_.unmount)==null||n?ti.Unmount:ti.Hidden,{show:J,appear:te,initial:K}=n_(),[L,V]=S.useState(J?"visible":"hidden"),Z=r_(),{register:X,unregister:T}=Z;Xt(()=>X(A),[X,A]),Xt(()=>{if($===ti.Hidden&&A.current){if(J&&L!=="visible"){V("visible");return}return br(L,{hidden:()=>T(A),visible:()=>X(A)})}},[L,A,X,T,J,$]);let M=hu();Xt(()=>{if(U&&M&&L==="visible"&&A.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[A,L,M,U]);let P=K&&!te,D=te&&J&&K,F=S.useRef(!1),W=lw(()=>{F.current||(V("hidden"),T(A))},Z),C=Ue(be=>{F.current=!0;let ge=be?"enter":"leave";W.onStart(A,ge,we=>{we==="enter"?l==null||l():we==="leave"&&(c==null||c())})}),R=Ue(be=>{let ge=be?"enter":"leave";F.current=!1,W.onStop(A,ge,we=>{we==="enter"?a==null||a():we==="leave"&&(d==null||d())}),ge==="leave"&&!gu(W)&&(V("hidden"),T(A))});S.useEffect(()=>{U&&s||(C(J),R(J))},[J,U,s]);let H=!(!s||!U||!M||P),[,j]=ES(H,N,J,{start:C,end:R}),ae=Ti({ref:Y,className:((r=sf(_.className,D&&f,D&&p,j.enter&&f,j.enter&&j.closed&&p,j.enter&&!j.closed&&m,j.leave&&v,j.leave&&!j.closed&&k,j.leave&&j.closed&&b,!j.transition&&J&&y))==null?void 0:r.trim())||void 0,..._S(j)}),fe=0;L==="visible"&&(fe|=Bn.Open),L==="hidden"&&(fe|=Bn.Closed),J&&L==="hidden"&&(fe|=Bn.Opening),!J&&L==="visible"&&(fe|=Bn.Closing);let ue=jn();return me.createElement(mu.Provider,{value:W},me.createElement(AS,{value:fe},ue({ourProps:ae,theirProps:_,defaultTag:aw,features:uw,visible:L==="visible",name:"Transition.Child"})))}function s_(e,t){let{show:n,appear:r=!1,unmount:s=!0,...l}=e,a=S.useRef(null),c=ow(e),d=sr(...c?[a,t]:t===null?[]:[t]);hu();let f=fu();if(n===void 0&&f!==null&&(n=(f&Bn.Open)===Bn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,m]=S.useState(n?"visible":"hidden"),y=lw(()=>{n||m("hidden")}),[v,k]=S.useState(!0),b=S.useRef([n]);Xt(()=>{v!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),k(!1))},[b,n]);let _=S.useMemo(()=>({show:n,appear:r,initial:v}),[n,r,v]);Xt(()=>{n?m("visible"):!gu(y)&&a.current!==null&&m("hidden")},[n,y]);let N={unmount:s},I=Ue(()=>{var Y;v&&k(!1),(Y=e.beforeEnter)==null||Y.call(e)}),A=Ue(()=>{var Y;v&&k(!1),(Y=e.beforeLeave)==null||Y.call(e)}),U=jn();return me.createElement(mu.Provider,{value:y},me.createElement(pu.Provider,{value:_},U({ourProps:{...N,as:S.Fragment,children:me.createElement(cw,{ref:d,...N,...l,beforeEnter:I,beforeLeave:A})},theirProps:{},defaultTag:S.Fragment,features:uw,visible:p==="visible",name:"Transition"})))}function o_(e,t){let n=S.useContext(pu)!==null,r=fu()!==null;return me.createElement(me.Fragment,null,!n&&r?me.createElement(cf,{ref:t,...e}):me.createElement(cw,{ref:t,...e}))}let cf=Zt(s_),cw=Zt(i_),Gf=Zt(o_),l_=Object.assign(cf,{Child:Gf,Root:cf});var a_=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(a_||{}),u_=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(u_||{});let c_={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Jf=S.createContext(null);Jf.displayName="DialogContext";function vu(e){let t=S.useContext(Jf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vu),n}return t}function d_(e,t){return br(t.type,c_,e,t)}let Dg=Zt(function(e,t){let n=S.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:l,initialFocus:a,role:c="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:p=!1,...m}=e,y=S.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(y.current||(y.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let v=fu();s===void 0&&v!==null&&(s=(v&Bn.Open)===Bn.Open);let k=S.useRef(null),b=sr(k,t),_=qf(k.current),N=s?0:1,[I,A]=S.useReducer(d_,{titleId:null,descriptionId:null,panelRef:S.createRef()}),U=Ue(()=>l(!1)),Y=Ue(j=>A({type:0,id:j})),$=hu()?N===0:!1,[J,te]=FS(),K={get current(){var j;return(j=I.panelRef.current)!=null?j:k.current}},L=rw(),{resolveContainers:V}=HS({mainTreeNode:L,portals:J,defaultContainers:[K]}),Z=v!==null?(v&Bn.Closing)===Bn.Closing:!1;tS(f||Z?!1:$,{allowed:Ue(()=>{var j,ae;return[(ae=(j=k.current)==null?void 0:j.closest("[data-headlessui-portal]"))!=null?ae:null]}),disallowed:Ue(()=>{var j;return[(j=L==null?void 0:L.closest("body > *:not(#headlessui-portal-root)"))!=null?j:null]})});let X=Vy.get(null);Xt(()=>{if($)return X.actions.push(r),()=>X.actions.pop(r)},[X,r,$]);let T=qy(X,S.useCallback(j=>X.selectors.isTop(j,r),[X,r]));hS(T,V,j=>{j.preventDefault(),U()}),BS(T,_==null?void 0:_.defaultView,j=>{j.preventDefault(),j.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),U()}),xS(f||Z?!1:$,_,V),nS($,k,U);let[M,P]=D1(),D=S.useMemo(()=>[{dialogState:N,close:U,setTitleId:Y,unmount:p},I],[N,U,Y,p,I]),F=sl({open:N===0}),W={ref:b,id:r,role:c,tabIndex:-1,"aria-modal":f?void 0:N===0?!0:void 0,"aria-labelledby":I.titleId,"aria-describedby":M,unmount:p},C=!WS(),R=Ii.None;$&&!f&&(R|=Ii.RestoreFocus,R|=Ii.TabLock,d&&(R|=Ii.AutoFocus),C&&(R|=Ii.InitialFocus));let H=jn();return me.createElement(IS,null,me.createElement(Rg,{force:!0},me.createElement(US,null,me.createElement(Jf.Provider,{value:D},me.createElement(tw,{target:k},me.createElement(Rg,{force:!1},me.createElement(P,{slot:F},me.createElement(te,null,me.createElement(JS,{initialFocus:a,initialFocusFallback:k,containers:V,features:R},me.createElement(U1,{value:U},H({ourProps:W,theirProps:m,slot:F,defaultTag:f_,features:h_,visible:N===0,name:"Dialog"})))))))))))}),f_="div",h_=Wa.RenderStrategy|Wa.Static;function p_(e,t){let{transition:n=!1,open:r,...s}=e,l=fu(),a=e.hasOwnProperty("open")||l!==null,c=e.hasOwnProperty("onClose");if(!a&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?me.createElement(Og,null,me.createElement(l_,{show:r,transition:n,unmount:s.unmount},me.createElement(Dg,{ref:t,...s}))):me.createElement(Og,null,me.createElement(Dg,{ref:t,open:r,...s}))}let m_="div";function g_(e,t){let n=S.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...l}=e,[{dialogState:a,unmount:c},d]=vu("Dialog.Panel"),f=sr(t,d.panelRef),p=sl({open:a===0}),m=Ue(_=>{_.stopPropagation()}),y={ref:f,id:r,onClick:m},v=s?Gf:S.Fragment,k=s?{unmount:c}:{},b=jn();return me.createElement(v,{...k},b({ourProps:y,theirProps:l,slot:p,defaultTag:m_,name:"Dialog.Panel"}))}let v_="div";function y_(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:l}]=vu("Dialog.Backdrop"),a=sl({open:s===0}),c={ref:t,"aria-hidden":!0},d=n?Gf:S.Fragment,f=n?{unmount:l}:{},p=jn();return me.createElement(d,{...f},p({ourProps:c,theirProps:r,slot:a,defaultTag:v_,name:"Dialog.Backdrop"}))}let w_="h2";function x_(e,t){let n=S.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:l,setTitleId:a}]=vu("Dialog.Title"),c=sr(t);S.useEffect(()=>(a(r),()=>a(null)),[r,a]);let d=sl({open:l===0}),f={ref:c,id:r};return jn()({ourProps:f,theirProps:s,slot:d,defaultTag:w_,name:"Dialog.Title"})}let b_=Zt(p_),k_=Zt(g_);Zt(y_);let S_=Zt(x_),Lg=Object.assign(b_,{Panel:k_,Title:S_,Description:F1});const __="modulepreload",E_=function(e){return"/sport-planner/"+e},Mg={},ll=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=a(n.map(f=>{if(f=E_(f),f in Mg)return;Mg[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":__,p||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((v,k)=>{y.addEventListener("load",v),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})},C_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>$s);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Qf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class $g extends Qf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Fg extends Qf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zg extends Qf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var df;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(df||(df={}));var j_=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class T_{constructor(t,{headers:n={},customFetch:r,region:s=df.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=C_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return j_(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:l,method:a,body:c,signal:d}=r;let f={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(f["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(f["Content-Type"]="application/json",y=JSON.stringify(c)));const v=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:y,signal:d}).catch(N=>{throw N.name==="AbortError"?N:new $g(N)}),k=v.headers.get("x-relay-error");if(k&&k==="true")throw new Fg(v);if(!v.ok)throw new zg(v);let b=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield v.json():b==="application/octet-stream"?_=yield v.blob():b==="text/event-stream"?_=v:b==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new $g(l)}:{data:null,error:l,response:l instanceof zg||l instanceof Fg?l.context:void 0}}})}}var bt={},cs={},ds={},fs={},hs={},ps={},N_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rs=N_();const A_=Rs.fetch,dw=Rs.fetch.bind(Rs),fw=Rs.Headers,I_=Rs.Request,P_=Rs.Response,$s=Object.freeze(Object.defineProperty({__proto__:null,Headers:fw,Request:I_,Response:P_,default:dw,fetch:A_},Symbol.toStringTag,{value:"Module"})),R_=tk($s);var Sa={},Ug;function hw(){if(Ug)return Sa;Ug=1,Object.defineProperty(Sa,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Sa.default=e,Sa}var Bg;function pw(){if(Bg)return ps;Bg=1;var e=ps&&ps.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ps,"__esModule",{value:!0});const t=e(R_),n=e(hw());class r{constructor(l){var a,c;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(c=l.isMaybeSingle)!==null&&c!==void 0?c:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,m,y,v;let k=null,b=null,_=null,N=f.status,I=f.statusText;if(f.ok){if(this.method!=="HEAD"){const $=await f.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?b=$:b=JSON.parse($))}const U=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),Y=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");U&&Y&&Y.length>1&&(_=parseInt(Y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(k={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,_=null,N=406,I="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const U=await f.text();try{k=JSON.parse(U),Array.isArray(k)&&f.status===404&&(b=[],k=null,N=200,I="OK")}catch{f.status===404&&U===""?(N=204,I="No Content"):k={message:U}}if(k&&this.isMaybeSingle&&(!((v=k==null?void 0:k.details)===null||v===void 0)&&v.includes("0 rows"))&&(k=null,N=200,I="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:b,count:_,status:N,statusText:I}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,m,y;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=f==null?void 0:f.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),d.then(l,a)}returns(){return this}overrideTypes(){return this}}return ps.default=r,ps}var Wg;function mw(){if(Wg)return hs;Wg=1;var e=hs&&hs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hs,"__esModule",{value:!0});const t=e(pw());class n extends t.default{select(s){let l=!1;const a=(s??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:l=!0,nullsFirst:a,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${s}.${l?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:l,referencedTable:a=l}={}){const c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,l,{foreignTable:a,referencedTable:c=a}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(f,`${l-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:l=!1,settings:a=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var p;const m=[s?"analyze":null,l?"verbose":null,a?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return hs.default=n,hs}var Hg;function Xf(){if(Hg)return fs;Hg=1;var e=fs&&fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fs,"__esModule",{value:!0});const t=e(mw());class n extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}in(s,l){const a=Array.from(new Set(l)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:a,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${d}fts${f}.${l}`),this}match(s){return Object.entries(s).forEach(([l,a])=>{this.url.searchParams.append(l,`eq.${a}`)}),this}not(s,l,a){return this.url.searchParams.append(s,`not.${l}.${a}`),this}or(s,{foreignTable:l,referencedTable:a=l}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,l,a){return this.url.searchParams.append(s,`${l}.${a}`),this}}return fs.default=n,fs}var Vg;function gw(){if(Vg)return ds;Vg=1;var e=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ds,"__esModule",{value:!0});const t=e(Xf());class n{constructor(s,{headers:l={},schema:a,fetch:c}){this.url=s,this.headers=new Headers(l),this.schema=a,this.fetch=c}select(s,l){const{head:a=!1,count:c}=l??{},d=a?"HEAD":"GET";let f=!1;const p=(s??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:l,defaultToNull:a=!0}={}){var c;const d="POST";if(l&&this.headers.append("Prefer",`count=${l}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:l,ignoreDuplicates:a=!1,count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:l}={}){var a;const c="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var l;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return ds.default=n,ds}var qg;function O_(){if(qg)return cs;qg=1;var e=cs&&cs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(cs,"__esModule",{value:!0});const t=e(gw()),n=e(Xf());class r{constructor(l,{headers:a={},schema:c,fetch:d}={}){this.url=l,this.headers=new Headers(a),this.schemaName=c,this.fetch=d}from(l){const a=new URL(`${this.url}/${l}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,a={},{head:c=!1,get:d=!1,count:f}={}){var p;let m;const y=new URL(`${this.url}/rpc/${l}`);let v;c||d?(m=c?"HEAD":"GET",Object.entries(a).filter(([b,_])=>_!==void 0).map(([b,_])=>[b,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([b,_])=>{y.searchParams.append(b,_)})):(m="POST",v=a);const k=new Headers(this.headers);return f&&k.set("Prefer",`count=${f}`),new n.default({method:m,url:y,headers:k,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return cs.default=r,cs}var Yg;function D_(){if(Yg)return bt;Yg=1;var e=bt&&bt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(bt,"__esModule",{value:!0}),bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const t=e(O_());bt.PostgrestClient=t.default;const n=e(gw());bt.PostgrestQueryBuilder=n.default;const r=e(Xf());bt.PostgrestFilterBuilder=r.default;const s=e(mw());bt.PostgrestTransformBuilder=s.default;const l=e(pw());bt.PostgrestBuilder=l.default;const a=e(hw());return bt.PostgrestError=a.default,bt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:a.default},bt}var L_=D_();const M_=Ds(L_),{PostgrestClient:$_,PostgrestQueryBuilder:nD,PostgrestFilterBuilder:rD,PostgrestTransformBuilder:iD,PostgrestBuilder:sD,PostgrestError:oD}=M_;class F_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const z_="2.75.0",U_=`realtime-js/${z_}`,B_="1.0.0",ff=1e4,W_=1e3,H_=100;var Fo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fo||(Fo={}));var mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mt||(mt={}));var Un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Un||(Un={}));var hf;(function(e){e.websocket="websocket"})(hf||(hf={}));var Pi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pi||(Pi={}));class V_{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),l=n.getUint8(2);let a=this.HEADER_LENGTH+2;const c=r.decode(t.slice(a,a+s));a=a+s;const d=r.decode(t.slice(a,a+l));a=a+l;const f=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}class vw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const Kg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((l,a)=>(l[a]=q_(a,e,t,s),l),{}):{}},q_=(e,t,n,r)=>{const s=t.find(c=>c.name===e),l=s==null?void 0:s.type,a=n[e];return l&&!r.includes(l)?yw(l,a):pf(a)},yw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return J_(t,n)}switch(e){case Ve.bool:return Y_(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return K_(t);case Ve.json:case Ve.jsonb:return G_(t);case Ve.timestamp:return Q_(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return pf(t);default:return pf(t)}},pf=e=>e,Y_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},K_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},G_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},J_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let l;const a=e.slice(1,n);try{l=JSON.parse("["+a+"]")}catch{l=a?a.split(","):[]}return l.map(c=>yw(t,c))}return e},Q_=e=>typeof e=="string"?e.replace(" ","T"):e,ww=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class xd{constructor(t,n,r={},s=ff){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gg||(Gg={}));class zo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:l,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zo.syncState(this.state,s,l,a),this.pendingDiffs.forEach(d=>{this.state=zo.syncDiff(this.state,d,l,a)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:l,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zo.syncDiff(this.state,s,l,a),c())}),this.onJoin((s,l,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:a})}),this.onLeave((s,l,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const l=this.cloneDeep(t),a=this.transformState(n),c={},d={};return this.map(l,(f,p)=>{a[f]||(d[f]=p)}),this.map(a,(f,p)=>{const m=l[f];if(m){const y=p.map(_=>_.presence_ref),v=m.map(_=>_.presence_ref),k=p.filter(_=>v.indexOf(_.presence_ref)<0),b=m.filter(_=>y.indexOf(_.presence_ref)<0);k.length>0&&(c[f]=k),b.length>0&&(d[f]=b)}else c[f]=p}),this.syncDiff(l,{joins:c,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:l,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(l,(c,d)=>{var f;const p=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),p.length>0){const m=t[c].map(v=>v.presence_ref),y=p.filter(v=>m.indexOf(v.presence_ref)<0);t[c].unshift(...y)}r(c,p,d)}),this.map(a,(c,d)=>{let f=t[c];if(!f)return;const p=d.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),t[c]=f,s(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Jg||(Jg={}));var Uo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Uo||(Uo={}));var yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class Zf{constructor(t,n={config:{}},r){var s,l;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xd(this,Un.join,this.params,this.timeout),this.rejoinTimer=new vw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new zo(this),this.broadcastEndpointURL=ww(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,l;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:a,presence:c,private:d}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Uo.PRESENCE]&&this.bindings[Uo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,m={},y={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(yr.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(yr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket.setAuth(),v===void 0){t==null||t(yr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,_=(k=b==null?void 0:b.length)!==null&&k!==void 0?k:0,N=[];for(let I=0;I<_;I++){const A=b[I],{filter:{event:U,schema:Y,table:$,filter:J}}=A,te=v&&v[I];if(te&&te.event===U&&te.schema===Y&&te.table===$&&te.filter===J)N.push(Object.assign(Object.assign({},A),{id:te.id}));else{this.unsubscribe(),this.state=mt.errored,t==null||t(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(yr.SUBSCRIBED);return}}).receive("error",v=>{this.state=mt.errored,t==null||t(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===mt.joined&&t===Uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:a}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var a,c,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new xd(this,Un.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,l=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(l),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xd(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>H_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,l;const a=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=Un;if(r&&[c,d,f,p].indexOf(a)>=0&&r!==this._joinRef())return;let y=this._onMessage(a,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var k,b,_;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(b=v.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(v=>v.callback(y,r)):(l=this.bindings[a])===null||l===void 0||l.filter(v=>{var k,b,_,N,I,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const U=v.id,Y=(k=v.filter)===null||k===void 0?void 0:k.event;return U&&((b=n.ids)===null||b===void 0?void 0:b.includes(U))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const U=(I=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return U==="*"||U===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof y=="object"&&"ids"in y){const k=y.data,{schema:b,table:_,commit_timestamp:N,type:I,errors:A}=k;y=Object.assign(Object.assign({},{schema:b,table:_,commit_timestamp:N,eventType:I,new:{},old:{},errors:A}),this._getPayloadRecords(k))}v.callback(y,r)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),l={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Zf.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Un.close,{},t)}_onError(t){this._on(Un.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Kg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Kg(t.columns,t.old_record)),n}}const bd=()=>{},_a={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},X_=[1e3,2e3,5e3,1e4],Z_=1e4,eE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tE{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ff,this.transport=null,this.heartbeatIntervalMs=_a.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bd,this.ref=0,this.reconnectTimer=null,this.logger=bd,this.conn=null,this.sendBuffer=[],this.serializer=new V_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...a)=>ll(async()=>{const{default:c}=await Promise.resolve().then(()=>$s);return{default:c}},void 0).then(({default:c})=>c(...a)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...a)=>l(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${hf.websocket}`,this.httpEndpoint=ww(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=F_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:B_}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fo.connecting:return Pi.Connecting;case Fo.open:return Pi.Open;case Fo.closing:return Pi.Closing;default:return Pi.Closed}}isConnected(){return this.connectionState()===Pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(l=>l.topic===r);if(s)return s;{const l=new Zf(`realtime:${t}`,n,this);return this.channels.push(l),l}}push(t){const{topic:n,event:r,payload:s,ref:l}=t,a=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${l})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(W_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_a.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:l,ref:a}=n,c=a?`(${a})`:"",d=l.status||"";this.log("receive",`${d} ${r} ${s} ${c}`.trim(),l),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,l,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Un.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([eE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:U_};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Un.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new vw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_a.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,l,a,c,d,f,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ff,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:_a.HEARTBEAT_INTERVAL,this.worker=(l=t==null?void 0:t.worker)!==null&&l!==void 0?l:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:bd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(m=>X_[m-1]||Z_),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((m,y)=>y(JSON.stringify(m))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class eh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nE extends eh{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mf extends eh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var rE=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const xw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>$s);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},iE=()=>rE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ll(()=>Promise.resolve().then(()=>$s),void 0)).Response:Response}),gf=e=>{if(Array.isArray(e))return e.map(n=>gf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[s]=gf(r)}),t},sE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Fi=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const kd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oE=(e,t,n)=>Fi(void 0,void 0,void 0,function*(){const r=yield iE();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const l=e.status||500,a=(s==null?void 0:s.statusCode)||l+"";t(new nE(kd(s),l,a))}).catch(s=>{t(new mf(kd(s),s))}):t(new mf(kd(e),e))}),lE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(sE(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function al(e,t,n,r,s,l){return Fi(this,void 0,void 0,function*(){return new Promise((a,c)=>{e(n,lE(t,r,s,l)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>a(d)).catch(d=>oE(d,c,r))})})}function qa(e,t,n,r){return Fi(this,void 0,void 0,function*(){return al(e,"GET",t,n,r)})}function tr(e,t,n,r,s){return Fi(this,void 0,void 0,function*(){return al(e,"POST",t,r,s,n)})}function vf(e,t,n,r,s){return Fi(this,void 0,void 0,function*(){return al(e,"PUT",t,r,s,n)})}function aE(e,t,n,r){return Fi(this,void 0,void 0,function*(){return al(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function bw(e,t,n,r,s){return Fi(this,void 0,void 0,function*(){return al(e,"DELETE",t,r,s,n)})}var uE=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class cE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return uE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}var dE=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class fE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new cE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return dE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}var Jt=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const hE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pE{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=xw(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Jt(this,void 0,void 0,function*(){try{let l;const a=Object.assign(Object.assign({},Qg),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const d=a.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",a.cacheControl),d&&l.append("metadata",this.encodeMetadata(d)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",a.cacheControl),d&&l.append("metadata",this.encodeMetadata(d))):(l=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),m=yield(t=="PUT"?vf:tr)(this.fetch,`${this.url}/object/${p}`,l,Object.assign({headers:c},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}})}upload(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Jt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),a=this._getFinalPath(l),c=new URL(this.url+`/object/upload/sign/${a}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:Qg.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield vf(this.fetch,c.toString(),d,{headers:p});return{data:{path:l,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ft(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const l=yield tr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+l.url),c=a.searchParams.get("token");if(!c)throw new eh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}update(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Jt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),l=yield tr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${a}`)},{data:l,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Jt(this,void 0,void 0,function*(){try{const s=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${l}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=l?`?${l}`:"",c=this._getFinalPath(t),d=()=>qa(this.fetch,`${this.url}/${s}/${c}${a}`,{headers:this.headers,noResolveJson:!0});return new fE(d,this.shouldThrowOnError)}info(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield qa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}exists(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield aE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r)&&r instanceof mf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&s.push(l);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Jt(this,void 0,void 0,function*(){try{return{data:yield bw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}list(t,n,r){return Jt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},hE),n),{prefix:t||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}listV2(t,n){return Jt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const mE="2.75.0",gE={"X-Client-Info":`storage-js/${mE}`};var ms=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class vE{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const l=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gE),n),this.fetch=xw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ms(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}getBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}createBucket(t){return ms(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ms(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield bw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}}class yE extends vE{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new pE(this.url,this.headers,t,this.fetch)}}const wE="2.75.0";let Do="";typeof Deno<"u"?Do="deno":typeof document<"u"?Do="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Do="react-native":Do="node";const xE={"X-Client-Info":`supabase-js-${Do}/${wE}`},bE={headers:xE},kE={schema:"public"},SE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_E={};var EE=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const CE=e=>{let t;return e?t=e:typeof fetch>"u"?t=dw:t=fetch,(...n)=>t(...n)},jE=()=>typeof Headers>"u"?fw:Headers,TE=(e,t,n)=>{const r=CE(n),s=jE();return(l,a)=>EE(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let f=new s(a==null?void 0:a.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(l,Object.assign(Object.assign({},a),{headers:f}))})};var NE=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};function AE(e){return e.endsWith("/")?e:e+"/"}function IE(e,t){var n,r;const{db:s,auth:l,realtime:a,global:c}=e,{db:d,auth:f,realtime:p,global:m}=t,y={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},f),l),realtime:Object.assign(Object.assign({},p),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>NE(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function PE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kw="2.75.0",Es=30*1e3,yf=3,Sd=yf*Es,RE="http://localhost:9999",OE="supabase.auth.token",DE={"X-Client-Info":`gotrue-js/${kw}`},wf="X-Supabase-Api-Version",Sw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ME=600*1e3;class Jo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $E extends Jo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function FE(e){return _e(e)&&e.name==="AuthApiError"}class Ri extends Jo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class li extends Jo{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Gr extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zE(e){return _e(e)&&e.name==="AuthSessionMissingError"}class gs extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ea extends li{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ca extends li{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UE(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xg extends li{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xf extends li{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _d(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class Zg extends li{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bf extends li{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ev=` 	
\r=`.split(""),BE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ev.length;t+=1)e[ev[t].charCodeAt(0)]=-2;for(let t=0;t<Ya.length;t+=1)e[Ya[t].charCodeAt(0)]=t;return e})();function tv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ya[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ya[r]),t.queuedBits-=6}}function _w(e,t,n){const r=BE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nv(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=a=>{VE(a,r,n)};for(let a=0;a<e.length;a+=1)_w(e.charCodeAt(a),s,l);return t.join("")}function WE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function HE(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}WE(r,t)}}function VE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ns(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)_w(e.charCodeAt(s),n,r);return new Uint8Array(t)}function qE(e){const t=[];return HE(e,n=>t.push(n)),new Uint8Array(t)}function Di(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>tv(s,n,r)),tv(null,n,r),t.join("")}function YE(e){return Math.round(Date.now()/1e3)+e}function KE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const cn=()=>typeof window<"u"&&typeof document<"u",Ei={tested:!1,writable:!1},Ew=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ei.tested)return Ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ei.tested=!0,Ei.writable=!0}catch{Ei.tested=!0,Ei.writable=!1}return Ei.writable};function GE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,l)=>{t[l]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Cw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>$s);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},JE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ci=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yr=async(e,t)=>{await e.removeItem(t)};class yu{constructor(){this.promise=new yu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}yu.promiseConstructor=Promise;function Ed(e){const t=e.split(".");if(t.length!==3)throw new bf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!LE.test(t[r]))throw new bf("JWT not in base64url format");return{header:JSON.parse(nv(t[0])),payload:JSON.parse(nv(t[1])),signature:Ns(t[2]),raw:{header:t[0],payload:t[1]}}}async function QE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XE(e,t){return new Promise((r,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const a=await e(l);if(!t(l,null,a)){r(a);return}}catch(a){if(!t(l,a)){s(a);return}}})()})}function ZE(e){return("0"+e.toString(16)).substr(-2)}function eC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let l=0;l<56;l++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,ZE).join("")}async function tC(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function nC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await tC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vs(e,t,n=!1){const r=eC();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Cs(e,`${t}-code-verifier`,s);const l=await nC(r);return[l,r===l?"plain":"s256"]}const rC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iC(e){const t=e.headers.get(wf);if(!t||!t.match(rC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(e){if(!lC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rv(e){return JSON.parse(JSON.stringify(e))}var aC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uC=[502,503,504];async function iv(e){var t;if(!JE(e))throw new xf(Ni(e),0);if(uC.includes(e.status))throw new xf(Ni(e),e.status);let n;try{n=await e.json()}catch(l){throw new Ri(Ni(l),l)}let r;const s=iC(e);if(s&&s.getTime()>=Sw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zg(Ni(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Gr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,a)=>l&&typeof a=="string",!0))throw new Zg(Ni(n),e.status,n.weak_password.reasons);throw new $E(Ni(n),e.status||500,r)}const cC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Te(e,t,n,r){var s;const l=Object.assign({},r==null?void 0:r.headers);l[wf]||(l[wf]=Sw["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",d=await dC(e,t,n+c,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function dC(e,t,n,r,s,l){const a=cC(t,r,s,l);let c;try{c=await e(n,Object.assign({},a))}catch(d){throw console.error(d),new xf(Ni(d),0)}if(c.ok||await iv(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await iv(d)}}function zn(e){var t;let n=null;pC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=YE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function sv(e){const t=zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fC(e){return{data:e,error:null}}function hC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:l}=e,a=aC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:l},d=Object.assign({},a);return{data:{properties:c,user:d},error:null}}function ov(e){return e}function pC(e){return e.access_token&&e.refresh_token&&e.expires_in}const jd=["global","local","others"];var mC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class gC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Cw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=jd[0]){if(jd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jd.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=mC(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:hC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,l,a,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:ov});if(p.error)throw p.error;const m=await p.json(),y=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const b=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);f[`${_}Page`]=b}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(_e(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){ys(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ys(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ys(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ys(t.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ys(t.userId),ys(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,l,a,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:ov});if(p.error)throw p.error;const m=await p.json(),y=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const b=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);f[`${_}Page`]=b}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(_e(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function lv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ws={debug:!!(globalThis&&Ew()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vC extends jw{}async function yC(e,t,n){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ws.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function wC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Tw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function xC(e){return parseInt(e,16)}function bC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function kC(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:l=new Date,nonce:a,notBefore:c,requestId:d,resources:f,scheme:p,uri:m,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Tw(e.address),k=p?`${p}://${r}`:r,b=e.statement?`${e.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${v}

${b}`;let N=`URI: ${m}
Version: ${y}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${l.toISOString()}`;if(s&&(N+=`
Expiration Time: ${s.toISOString()}`),c&&(N+=`
Not Before: ${c.toISOString()}`),d&&(N+=`
Request ID: ${d}`),f){let I=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);I+=`
- ${A}`}N+=I}return`${_}
${N}`}class dt extends Error{constructor({message:t,code:n,cause:r,name:s}){var l;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=s??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Ka extends dt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function SC({error:e,options:t}){var n,r,s;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Aw(a)){if(l.rp.id!==a)return new dt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _C({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Aw(r)){if(n.rpId!==r)return new dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Nw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class EC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const CC=new EC;function jC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Nw(e,["challenge","user","excludeCredentials"]),l=Ns(t).buffer,a=Object.assign(Object.assign({},n),{id:Ns(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:l,user:a});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ns(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function TC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Nw(e,["challenge","allowCredentials"]),s=Ns(t).buffer,l=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const c=n[a];l.allowCredentials[a]=Object.assign(Object.assign({},c),{id:Ns(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function NC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Di(new Uint8Array(e.response.attestationObject)),clientDataJSON:Di(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Di(new Uint8Array(s.authenticatorData)),clientDataJSON:Di(new Uint8Array(s.clientDataJSON)),signature:Di(new Uint8Array(s.signature)),userHandle:s.userHandle?Di(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Aw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function av(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function IC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",t)}:{data:null,error:new Ka("Empty credential response",t)}}catch(t){return{data:null,error:SC({error:t,options:e})}}}async function PC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",t)}:{data:null,error:new Ka("Empty credential response",t)}}catch(t){return{data:null,error:_C({error:t,options:e})}}}const RC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},OC={userVerification:"preferred",hints:["security-key"]};function Ga(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const l in s){const a=s[l];if(a!==void 0)if(Array.isArray(a))r[l]=a;else if(n(a))r[l]=a;else if(t(a)){const c=r[l];t(c)?r[l]=Ga(c,a):r[l]=Ga(a)}else r[l]=a}return r}function DC(e,t){return Ga(RC,e,t||{})}function LC(e,t){return Ga(OC,e,t||{})}class MC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},l){try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:c};const d=s??CC.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:f}=a.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(a.webauthn.type){case"create":{const f=DC(a.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:p,error:m}=await IC({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=LC(a.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:p,error:m}=await PC(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(a){return _e(a)?{data:null,error:a}:{data:null,error:new Ri("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},l){if(!n)return{data:null,error:new Jo("rpId is required for WebAuthn authentication")};try{if(!av())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:l});if(!a)return{data:null,error:c};const{webauthn:d}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(a){return _e(a)?{data:null,error:a}:{data:null,error:new Ri("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},l){if(!n)return{data:null,error:new Jo("rpId is required for WebAuthn registration")};try{if(!av())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:l});return d?this._verify({factorId:a.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(a){return _e(a)?{data:null,error:a}:{data:null,error:new Ri("Unexpected error in register",a)}}}}wC();const $C={url:RE,storageKey:OE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uv(e,t,n){return await n()}const xs={};class Qo{get jwks(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qo.nextInstanceID,Qo.nextInstanceID+=1,this.instanceID>0&&cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},$C),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new gC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Cw(s.fetch),this.lock=s.lock||uv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:cn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yC:this.lock=uv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MC(this)},this.persistSession?(s.storage?this.storage=s.storage:Ew()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=lv(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=GE(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),cn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:l}=await this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),UE(l)){const d=(t=l.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new Ri("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:zn}),{data:a,error:c}=l;if(c||!a)return{data:{user:null,session:null},error:c};const d=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var n,r,s;try{let l;if("email"in t){const{email:p,password:m,options:y}=t;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await vs(this.storage,this.storageKey)),l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:k},xform:zn})}else if("phone"in t){const{phone:p,password:m,options:y}=t;l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:zn})}else throw new Ea("You must provide either an email or phone number and a password");const{data:a,error:c}=l;if(c||!a)return{data:{user:null,session:null},error:c};const d=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:a,options:c}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:sv})}else if("phone"in t){const{phone:l,password:a,options:c}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:sv})}else throw new Ea("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,l,a,c,d,f,p,m,y;let v,k;if("message"in t)v=t.message,k=t.signature;else{const{chain:b,wallet:_,statement:N,options:I}=t;let A;if(cn())if(typeof _=="object")A=_;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")A=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const U=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href),Y=await A.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=Tw(Y[0]);let J=(r=I==null?void 0:I.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!J){const K=await A.request({method:"eth_chainId"});J=xC(K)}const te={domain:U.host,address:$,statement:N,uri:U.href,version:"1",chainId:J,nonce:(s=I==null?void 0:I.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(l=I==null?void 0:I.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=I==null?void 0:I.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=I==null?void 0:I.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=kC(te),k=await A.request({method:"personal_sign",params:[bC(v),$]})}try{const{data:b,error:_}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:k},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:zn});if(_)throw _;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new gs}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:_})}catch(b){if(_e(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var n,r,s,l,a,c,d,f,p,m,y,v;let k,b;if("message"in t)k=t.message,b=t.signature;else{const{chain:_,wallet:N,statement:I,options:A}=t;let U;if(cn())if(typeof N=="object")U=N;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))U=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const Y=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const $=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),I?{statement:I}:null));let J;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")J=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)J=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)k=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),b=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${Y.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(s=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A==null?void 0:A.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((m=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...A.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const $=await U.signMessage(new TextEncoder().encode(k),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=$}}try{const{data:_,error:N}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Di(b)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:zn});if(N)throw N;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new gs}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:N})}catch(_){if(_e(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:l,error:a}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:zn});if(await Yr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:a})}catch(l){if(_e(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:l,nonce:a}=t,c=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:l,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:zn}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new gs}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,l,a;try{if("email"in t){const{email:c,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await vs(this.storage,this.storageKey));const{error:m}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:p}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(l=d==null?void 0:d.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(a=d==null?void 0:d.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Ea("You must provide either an email or phone number.")}catch(c){if(_e(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let s,l;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:c}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:zn});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const d=a.session,f=a.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let l=null,a=null;return this.flowType==="pkce"&&([l,a]=await vs(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:a}),headers:this.headers,xform:fC})}catch(l){if(_e(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Gr;const{error:s}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:l}=t,{error:a}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:l}=t,{data:a,error:c}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:c}}throw new Ea("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Sd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Ci(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Cd()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,p)=>(!a&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:t},error:null}}const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xr}):await this._useSession(async n=>{var r,s,l;const{data:a,error:c}=n;if(c)throw c;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gr}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:Xr})})}catch(n){if(_e(n))return zE(n)&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:l}=r;if(l)throw l;if(!s.session)throw new Gr;const a=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await vs(this.storage,this.storageKey));const{data:f,error:p}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:a.access_token,xform:Xr});if(p)throw p;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gr;const n=Date.now()/1e3;let r=n,s=!0,l=null;const{payload:a}=Ed(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;l={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:c}=n;if(c)throw c;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Gr;const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!cn())throw new Ca("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ca(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ca("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xg("No code detected.");const{data:I,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:l,refresh_token:a,expires_in:c,expires_at:d,token_type:f}=t;if(!l||!c||!a||!f)throw new Ca("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let y=p+m;d&&(y=parseInt(d));const v=y-p;v*1e3<=Es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const k=y-m;p-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,y,p):p-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,y,p);const{data:b,error:_}=await this._getUser(l);if(_)throw _;const N={provider_token:r,provider_refresh_token:s,access_token:l,expires_in:m,expires_at:y,refresh_token:a,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(r){if(_e(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:l}=n;if(l)return{error:l};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:c}=await this.admin.signOut(a,t);if(c&&!(FE(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=KE(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:l},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vs(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(_e(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async l=>{var a,c,d,f,p;const{data:m,error:y}=l;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return cn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_e(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:l}}=n;if(s)throw s;const{options:a,provider:c,token:d,access_token:f,nonce:p}=t,m=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zn}),{data:y,error:v}=m;return v?{data:{user:null,session:null},error:v}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new gs}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:v})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:l,error:a}=n;if(a)throw a;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await XE(async s=>(s>0&&await QE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zn})),(s,l)=>{const a=200*Math.pow(2,s);return l&&_d(l)&&Date.now()+a-r<Es})}catch(r){if(this._debug(n,"error",r),_e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ci(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Cs(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Cd()}else if(s&&!s.user&&!s.user){const a=await Ci(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Yr(this.storage,this.storageKey+"-user"),await Cs(this.storage,this.storageKey,s)):s.user=Cd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const l=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Sd;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Sd}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),_d(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(s.access_token);!c&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yu;const{data:l,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!l.session)throw new Gr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(s,"error",l),_e(l)){const a={data:null,error:l};return _d(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){l.push(d)}});if(await Promise.all(a),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Cs(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const l=rv(s);await Cs(this.storage,this.storageKey,l)}else{const s=rv(n);await Cs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Yr(this.storage,this.storageKey),await Yr(this.storage,this.storageKey+"-code-verifier"),await Yr(this.storage,this.storageKey+"-user"),this.userStorage&&await Yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Es);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Es}ms, refresh threshold is ${yf} ticks`),s<=yf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,a]=await vs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);s.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:l}=n;return l?{data:null,error:l}:await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:l,error:a}=n;if(a)return{data:null,error:a};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:l}=n;if(l)return{data:null,error:l};const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?NC(t.webauthn.credential_response):AC(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:l}=n;if(l)return{data:null,error:l};const a=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:jC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:TC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(l),l.status==="verified"&&s[l.factor_type].push(l);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:l}=t;if(l)return{data:null,error:l};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ed(s.access_token);let c=null;a.aal&&(c=a.aal);let d=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=a.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+ME>s)return r;const{data:l,error:a}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,r=l.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:k}=await this.getSession();if(k||!v.session)return{data:null,error:k};r=v.session.access_token}const{header:s,payload:l,signature:a,raw:{header:c,payload:d}}=Ed(r);n!=null&&n.allowExpired||sC(l.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:l,header:s,signature:a},error:null}}const p=oC(s.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,a,qE(`${c}.${d}`)))throw new bf("Invalid JWT signature");return{data:{claims:l,header:s,signature:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}Qo.nextInstanceID=0;const FC=Qo;class zC extends FC{constructor(t){super(t)}}var UC=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class BC{constructor(t,n,r){var s,l,a;this.supabaseUrl=t,this.supabaseKey=n;const c=PE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:kE,realtime:_E,auth:Object.assign(Object.assign({},SE),{storageKey:d}),global:bE},p=IE(r??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=p.auth)!==null&&a!==void 0?a:{},this.headers,p.global.fetch),this.fetch=TE(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new $_(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new yE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new T_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return UC(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:l,storageKey:a,flowType:c,lock:d,debug:f},p,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zC({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:l,flowType:c,lock:d,debug:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const WC=(e,t,n)=>new BC(e,t,n);function HC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}HC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VC="https://kjsdmygqhxaryvfmnhqr.supabase.co",qC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",Zr=WC(VC,qC,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Iw=S.createContext(void 0);function YC({children:e}){const[t,n]=S.useState(null),[r,s]=S.useState(null),[l,a]=S.useState(!0);S.useEffect(()=>{let d=!0;(async()=>{a(!0);const{data:{session:m}}=await Zr.auth.getSession();d&&(n(m),s((m==null?void 0:m.user)??null),a(!1))})();const{data:{subscription:p}}=Zr.auth.onAuthStateChange((m,y)=>{d&&(n(y),s((y==null?void 0:y.user)??null),a(!1))});return()=>{d=!1,p.unsubscribe()}},[]);const c=S.useMemo(()=>({session:t,user:r,loading:l,signInWithPassword:async(d,f)=>{const{error:p}=await Zr.auth.signInWithPassword({email:d,password:f});if(p)throw p},signUpWithPassword:async(d,f)=>{const m=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:y}=await Zr.auth.signUp({email:d,password:f,options:{emailRedirectTo:m}});if(y)throw y},signOut:async()=>{const{error:d}=await Zr.auth.signOut();if(d)throw d}}),[l,t,r]);return x.jsx(Iw.Provider,{value:c,children:e})}function wu(){const e=S.useContext(Iw);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const cv=e=>{let t;const n=new Set,r=(f,p)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const y=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(v=>v(t,y))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,s,c);return c},KC=(e=>e?cv(e):cv),GC=e=>e;function JC(e,t=GC){const n=me.useSyncExternalStore(e.subscribe,me.useCallback(()=>t(e.getState()),[e,t]),me.useCallback(()=>t(e.getInitialState()),[e,t]));return me.useDebugValue(n),n}const dv=e=>{const t=KC(e),n=r=>JC(t,r);return Object.assign(n,t),n},QC=(e=>e?dv(e):dv),XC="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let _n=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=XC[n[e]&63];return t};var Ma={exports:{}},ZC=Ma.exports,fv;function Pw(){return fv||(fv=1,(function(e,t){(function(n,r){e.exports=r()})(ZC,(function(){var n=1e3,r=6e4,s=36e5,l="millisecond",a="second",c="minute",d="hour",f="day",p="week",m="month",y="quarter",v="year",k="date",b="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(T){var M=["th","st","nd","rd"],P=T%100;return"["+T+(M[(P-20)%10]||M[P]||M[0])+"]"}},A=function(T,M,P){var D=String(T);return!D||D.length>=M?T:""+Array(M+1-D.length).join(P)+T},U={s:A,z:function(T){var M=-T.utcOffset(),P=Math.abs(M),D=Math.floor(P/60),F=P%60;return(M<=0?"+":"-")+A(D,2,"0")+":"+A(F,2,"0")},m:function T(M,P){if(M.date()<P.date())return-T(P,M);var D=12*(P.year()-M.year())+(P.month()-M.month()),F=M.clone().add(D,m),W=P-F<0,C=M.clone().add(D+(W?-1:1),m);return+(-(D+(P-F)/(W?F-C:C-F))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:m,y:v,w:p,d:f,D:k,h:d,m:c,s:a,ms:l,Q:y}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return T===void 0}},Y="en",$={};$[Y]=I;var J="$isDayjsObject",te=function(T){return T instanceof Z||!(!T||!T[J])},K=function T(M,P,D){var F;if(!M)return Y;if(typeof M=="string"){var W=M.toLowerCase();$[W]&&(F=W),P&&($[W]=P,F=W);var C=M.split("-");if(!F&&C.length>1)return T(C[0])}else{var R=M.name;$[R]=M,F=R}return!D&&F&&(Y=F),F||!D&&Y},L=function(T,M){if(te(T))return T.clone();var P=typeof M=="object"?M:{};return P.date=T,P.args=arguments,new Z(P)},V=U;V.l=K,V.i=te,V.w=function(T,M){return L(T,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var Z=(function(){function T(P){this.$L=K(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[J]=!0}var M=T.prototype;return M.parse=function(P){this.$d=(function(D){var F=D.date,W=D.utc;if(F===null)return new Date(NaN);if(V.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var C=F.match(_);if(C){var R=C[2]-1||0,H=(C[7]||"0").substring(0,3);return W?new Date(Date.UTC(C[1],R,C[3]||1,C[4]||0,C[5]||0,C[6]||0,H)):new Date(C[1],R,C[3]||1,C[4]||0,C[5]||0,C[6]||0,H)}}return new Date(F)})(P),this.init()},M.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},M.$utils=function(){return V},M.isValid=function(){return this.$d.toString()!==b},M.isSame=function(P,D){var F=L(P);return this.startOf(D)<=F&&F<=this.endOf(D)},M.isAfter=function(P,D){return L(P)<this.startOf(D)},M.isBefore=function(P,D){return this.endOf(D)<L(P)},M.$g=function(P,D,F){return V.u(P)?this[D]:this.set(F,P)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(P,D){var F=this,W=!!V.u(D)||D,C=V.p(P),R=function(we,ce){var ze=V.w(F.$u?Date.UTC(F.$y,ce,we):new Date(F.$y,ce,we),F);return W?ze:ze.endOf(f)},H=function(we,ce){return V.w(F.toDate()[we].apply(F.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(ce)),F)},j=this.$W,ae=this.$M,fe=this.$D,ue="set"+(this.$u?"UTC":"");switch(C){case v:return W?R(1,0):R(31,11);case m:return W?R(1,ae):R(0,ae+1);case p:var be=this.$locale().weekStart||0,ge=(j<be?j+7:j)-be;return R(W?fe-ge:fe+(6-ge),ae);case f:case k:return H(ue+"Hours",0);case d:return H(ue+"Minutes",1);case c:return H(ue+"Seconds",2);case a:return H(ue+"Milliseconds",3);default:return this.clone()}},M.endOf=function(P){return this.startOf(P,!1)},M.$set=function(P,D){var F,W=V.p(P),C="set"+(this.$u?"UTC":""),R=(F={},F[f]=C+"Date",F[k]=C+"Date",F[m]=C+"Month",F[v]=C+"FullYear",F[d]=C+"Hours",F[c]=C+"Minutes",F[a]=C+"Seconds",F[l]=C+"Milliseconds",F)[W],H=W===f?this.$D+(D-this.$W):D;if(W===m||W===v){var j=this.clone().set(k,1);j.$d[R](H),j.init(),this.$d=j.set(k,Math.min(this.$D,j.daysInMonth())).$d}else R&&this.$d[R](H);return this.init(),this},M.set=function(P,D){return this.clone().$set(P,D)},M.get=function(P){return this[V.p(P)]()},M.add=function(P,D){var F,W=this;P=Number(P);var C=V.p(D),R=function(ae){var fe=L(W);return V.w(fe.date(fe.date()+Math.round(ae*P)),W)};if(C===m)return this.set(m,this.$M+P);if(C===v)return this.set(v,this.$y+P);if(C===f)return R(1);if(C===p)return R(7);var H=(F={},F[c]=r,F[d]=s,F[a]=n,F)[C]||1,j=this.$d.getTime()+P*H;return V.w(j,this)},M.subtract=function(P,D){return this.add(-1*P,D)},M.format=function(P){var D=this,F=this.$locale();if(!this.isValid())return F.invalidDate||b;var W=P||"YYYY-MM-DDTHH:mm:ssZ",C=V.z(this),R=this.$H,H=this.$m,j=this.$M,ae=F.weekdays,fe=F.months,ue=F.meridiem,be=function(ce,ze,st,vt){return ce&&(ce[ze]||ce(D,W))||st[ze].slice(0,vt)},ge=function(ce){return V.s(R%12||12,ce,"0")},we=ue||function(ce,ze,st){var vt=ce<12?"AM":"PM";return st?vt.toLowerCase():vt};return W.replace(N,(function(ce,ze){return ze||(function(st){switch(st){case"YY":return String(D.$y).slice(-2);case"YYYY":return V.s(D.$y,4,"0");case"M":return j+1;case"MM":return V.s(j+1,2,"0");case"MMM":return be(F.monthsShort,j,fe,3);case"MMMM":return be(fe,j);case"D":return D.$D;case"DD":return V.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return be(F.weekdaysMin,D.$W,ae,2);case"ddd":return be(F.weekdaysShort,D.$W,ae,3);case"dddd":return ae[D.$W];case"H":return String(R);case"HH":return V.s(R,2,"0");case"h":return ge(1);case"hh":return ge(2);case"a":return we(R,H,!0);case"A":return we(R,H,!1);case"m":return String(H);case"mm":return V.s(H,2,"0");case"s":return String(D.$s);case"ss":return V.s(D.$s,2,"0");case"SSS":return V.s(D.$ms,3,"0");case"Z":return C}return null})(ce)||C.replace(":","")}))},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(P,D,F){var W,C=this,R=V.p(D),H=L(P),j=(H.utcOffset()-this.utcOffset())*r,ae=this-H,fe=function(){return V.m(C,H)};switch(R){case v:W=fe()/12;break;case m:W=fe();break;case y:W=fe()/3;break;case p:W=(ae-j)/6048e5;break;case f:W=(ae-j)/864e5;break;case d:W=ae/s;break;case c:W=ae/r;break;case a:W=ae/n;break;default:W=ae}return F?W:V.a(W)},M.daysInMonth=function(){return this.endOf(m).$D},M.$locale=function(){return $[this.$L]},M.locale=function(P,D){if(!P)return this.$L;var F=this.clone(),W=K(P,D,!0);return W&&(F.$L=W),F},M.clone=function(){return V.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},T})(),X=Z.prototype;return L.prototype=X,[["$ms",l],["$s",a],["$m",c],["$H",d],["$W",f],["$M",m],["$y",v],["$D",k]].forEach((function(T){X[T[1]]=function(M){return this.$g(M,T[0],T[1])}})),L.extend=function(T,M){return T.$i||(T(M,Z,L),T.$i=!0),L},L.locale=K,L.isDayjs=te,L.unix=function(T){return L(1e3*T)},L.en=$[Y],L.Ls=$,L.p={},L}))})(Ma)),Ma.exports}var ej=Pw();const Fe=Ds(ej),ri={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes"},Rw=typeof window<"u",nt=()=>new Date().toISOString(),Ai="18:30",ja=(e,t)=>{if(!Rw)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},Ow=e=>e==="present"||e==="absent"||e==="pending",Dw=e=>e==="present"||e==="absent",kf=e=>(e??[]).map(t=>{const n=Ow(t.status)?t.status:"pending",r=Dw(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),Ge=e=>{if(!Rw)return;const t=Sf(e);window.localStorage.setItem(ri.objectives,JSON.stringify(t.objectives)),window.localStorage.setItem(ri.works,JSON.stringify(t.works)),window.localStorage.setItem(ri.sessions,JSON.stringify(t.sessions)),window.localStorage.setItem(ri.assistants,JSON.stringify(t.assistants))},Sf=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,startTime:t.startTime??Ai,workItems:(t.workItems??[]).map(n=>({...n,focusLabel:n.focusLabel})),attendance:kf(t.attendance)})),assistants:e.assistants??[]}),Ne=QC((e,t)=>({ready:!1,objectives:[],works:[],sessions:[],assistants:[],hydrate:()=>{if(t().ready)return;const n=ja(ri.objectives,[]),r=ja(ri.works,[]),s=ja(ri.sessions,[]).map(a=>({...a,startTime:a.startTime??Ai,workItems:(a.workItems??[]).map(c=>({...c,focusLabel:c.focusLabel})),attendance:kf(a.attendance)})),l=ja(ri.assistants,[]);e({objectives:n,works:r,sessions:s,assistants:l,ready:!0})},setCollections:n=>{e(r=>{const s=Sf({objectives:n.objectives,works:n.works,sessions:n.sessions,assistants:n.assistants}),l={...r,...s,ready:!0};return Ge(l),l})},reset:()=>{e(n=>{const r=Sf({objectives:[],works:[],sessions:[],assistants:[]}),s={...n,...r,ready:!0};return Ge(s),s})},addObjective:n=>{const r={id:_n(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:nt(),updatedAt:nt()};return e(s=>{const l={objectives:[...s.objectives,r]},a={...s,...l};return Ge(a),a}),r},updateObjective:(n,r)=>{e(s=>{const l=s.objectives.map(c=>c.id===n?{...c,...r,updatedAt:nt()}:c),a={...s,objectives:l};return Ge(a),a})},deleteObjective:n=>t().works.some(s=>s.objectiveId===n)?!1:(e(s=>{const l=s.objectives.filter(c=>c.id!==n),a={...s,objectives:l};return Ge(a),a}),!0),addWork:n=>{const r={id:_n(),name:n.name,objectiveId:n.objectiveId,descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:n.notes,videoUrls:n.videoUrls,createdAt:nt(),updatedAt:nt()};return e(s=>{const l=[...s.works,r],a={...s,works:l};return Ge(a),a}),r},updateWork:(n,r)=>{e(s=>{const l=s.works.map(c=>c.id===n?{...c,...r,videoUrls:r.videoUrls??c.videoUrls,estimatedMinutes:r.estimatedMinutes??c.estimatedMinutes,updatedAt:nt()}:c),a={...s,works:l};return Ge(a),a})},deleteWork:n=>t().sessions.some(s=>s.workItems.some(l=>l.workId===n))?!1:(e(s=>{const l=s.works.filter(c=>c.id!==n),a={...s,works:l};return Ge(a),a}),!0),addSession:n=>{const r={id:_n(),date:n.date,title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??Ai,createdAt:nt(),updatedAt:nt()};return e(s=>{const l=[...s.sessions,r],a={...s,sessions:l};return Ge(a),a}),r},duplicateSession:(n,r)=>{const s=t().sessions.find(c=>c.id===n);if(!s)return;const l=nt(),a={...s,id:_n(),date:r,startTime:s.startTime??Ai,createdAt:l,updatedAt:l,title:`${s.title} (copia)`};return a.workItems=s.workItems.map((c,d)=>({...c,id:_n(),order:d})),a.attendance=s.attendance.map(c=>({assistantId:c.assistantId,status:"pending",notes:c.notes,actualStatus:void 0,actualNotes:void 0})),e(c=>{const d=[...c.sessions,a],f={...c,sessions:d};return Ge(f),f}),a},updateSession:(n,r)=>{e(s=>{const l=s.sessions.map(c=>c.id===n?{...c,...r,updatedAt:nt()}:c),a={...s,sessions:l};return Ge(a),a})},deleteSession:n=>{e(r=>{const s=r.sessions.filter(a=>a.id!==n),l={...r,sessions:s};return Ge(l),l})},updateSessionWorkItems:(n,r)=>{e(s=>{const l=s.sessions.map(c=>c.id===n?{...c,workItems:r.map((d,f)=>({...d,order:f})),updatedAt:nt()}:c),a={...s,sessions:l};return Ge(a),a})},addWorkToSession:(n,r)=>{const s=t().sessions.find(c=>c.id===n);if(!s)return;const l={id:_n(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:s.workItems.length},a={...s,workItems:[...s.workItems,l],updatedAt:nt()};return e(c=>{const d=c.sessions.map(p=>p.id===n?a:p),f={...c,sessions:d};return Ge(f),f}),l},removeWorkFromSession:(n,r)=>{e(s=>{const l=s.sessions.map(c=>{if(c.id!==n)return c;const d=c.workItems.filter(f=>f.id!==r).map((f,p)=>({...f,order:p}));return{...c,workItems:d,updatedAt:nt()}}),a={...s,sessions:l};return Ge(a),a})},toggleSessionWorkCompletion:(n,r,s)=>{e(l=>{const a=l.sessions.map(d=>d.id!==n?d:{...d,workItems:d.workItems.map(f=>f.id===r?{...f,completed:s}:f),updatedAt:nt()}),c={...l,sessions:a};return Ge(c),c})},reorderSessionWork:(n,r,s)=>{e(l=>{const a=l.sessions.map(d=>{if(d.id!==n)return d;const f=[...d.workItems],[p]=f.splice(r,1);return f.splice(s,0,p),{...d,workItems:f.map((m,y)=>({...m,order:y})),updatedAt:nt()}}),c={...l,sessions:a};return Ge(c),c})},updateSessionWorkDetails:(n,r,s)=>{e(l=>{const a=l.sessions.map(d=>d.id!==n?d:{...d,workItems:d.workItems.map(f=>f.id===r?{...f,...s}:f),updatedAt:nt()}),c={...l,sessions:a};return Ge(c),c})},replaceSessionWork:(n,r,s)=>{t().works.some(l=>l.id===s)&&e(l=>{const a=l.sessions.map(d=>{if(d.id!==n)return d;const f=d.workItems.map(p=>p.id!==r?p:{...p,workId:s,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...d,workItems:f,updatedAt:nt()}}),c={...l,sessions:a};return Ge(c),c})},setAttendanceActualStatus:(n,r,s,l)=>{e(a=>{const c=a.sessions.map(f=>{if(f.id!==n)return f;const p=f.attendance.find(y=>y.assistantId===r);let m;if(p)m=f.attendance.map(y=>{if(y.assistantId!==r)return y;const v={...y,actualStatus:s};return typeof l<"u"&&(v.actualNotes=l),v});else{const y={assistantId:r,status:"pending",actualStatus:s};typeof l<"u"&&(y.actualNotes=l),m=[...f.attendance,y]}return{...f,attendance:m,updatedAt:nt()}}),d={...a,sessions:c};return Ge(d),d})},setAttendanceStatus:(n,r,s,l)=>{e(a=>{const c=a.sessions.map(f=>{if(f.id!==n)return f;const p=f.attendance.find(y=>y.assistantId===r);let m;return p?m=f.attendance.map(y=>y.assistantId===r?{...y,status:s,notes:l}:y):m=[...f.attendance,{assistantId:r,status:s,notes:l}],{...f,attendance:m,updatedAt:nt()}}),d={...a,sessions:c};return Ge(d),d})},addAssistant:n=>{const r={id:_n(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:nt(),updatedAt:nt()};return e(s=>{const l=[...s.assistants,r],a={...s,assistants:l};return Ge(a),a}),r},updateAssistant:(n,r)=>{e(s=>{const l=s.assistants.map(c=>c.id===n?{...c,...r,updatedAt:nt()}:c),a={...s,assistants:l};return Ge(a),a})},deleteAssistant:n=>{e(r=>{const s=r.assistants.filter(c=>c.id!==n),l=r.sessions.map(c=>({...c,attendance:c.attendance.filter(d=>d.assistantId!==n)})),a={...r,assistants:s,sessions:l};return Ge(a),a})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versión de backup no soportada");const s=nt(),l=(n.objetivos??[]).map(v=>({...v,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s})),a=(n.trabajos??[]).map(v=>({...v,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s,videoUrls:v.videoUrls??[]})),c=(n.asistentes??[]).map(v=>({...v,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s,active:v.active??!0})),d=new Map;(n.sesiones??[]).forEach(v=>{const k=v.id??_n(),b={id:k,date:v.date??Fe().format("YYYY-MM-DD"),title:v.title??"Sesión importada",description:v.description,notes:v.notes,workItems:(v.workItems??[]).map((_,N)=>({id:_.id??_n(),workId:_.workId,order:_.order??N,customDescriptionMarkdown:_.customDescriptionMarkdown,customDurationMinutes:_.customDurationMinutes,notes:_.notes,focusLabel:_.focusLabel,completed:_.completed??!1})),attendance:kf(v.attendance),startTime:v.startTime??Ai,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s};b.workItems=b.workItems.sort((_,N)=>_.order-N.order).map((_,N)=>({..._,order:N})),d.set(k,b)}),(n.sesiones_trabajos??[]).forEach(v=>{const k=v.session_id;if(!k)return;d.has(k)||d.set(k,{id:k,date:v.fecha?Fe(v.fecha).format("YYYY-MM-DD"):Fe().format("YYYY-MM-DD"),title:v.titulo??"Sesión importada",description:v.descripcion,notes:v.notasSesion??v.notas,workItems:[],attendance:[],startTime:Ai,createdAt:s,updatedAt:s});const b=d.get(k);b.workItems.push({id:v.id??_n(),workId:v.trabajo_id,order:v.orden??b.workItems.length,customDescriptionMarkdown:v.descripcionPersonalizada,customDurationMinutes:v.duracionPersonalizada,notes:v.notas,focusLabel:v.focusLabel??v.foco,completed:!1})}),d.forEach(v=>{v.workItems=v.workItems.sort((k,b)=>k.order-b.order).map((k,b)=>({...k,order:b})),v.startTime=v.startTime??Ai});const f=new Map,p=v=>Ow(v)?v:void 0,m=v=>Dw(v)?v:void 0;(n.sesiones_asistencias??[]).forEach(v=>{const k=v.session_id;if(!k)return;const b=v.assistantId??v.asistente_id;if(!b)return;const _=p(v.status??v.estado)??"pending",N=m(v.actualStatus??v.estado_real),I={assistantId:b,status:_,notes:v.notes??v.notas,actualStatus:N,actualNotes:v.actualNotes??v.notas_reales},A=f.get(k)??[];A.push(I),f.set(k,A)}),f.forEach((v,k)=>{const b=d.get(k);b&&(b.attendance=v)});const y=Array.from(d.values());e({objectives:l,works:a,sessions:y,assistants:c,ready:!0}),Ge({objectives:l,works:a,sessions:y,assistants:c})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(c=>c.workItems.map(d=>({id:d.id,session_id:c.id,trabajo_id:d.workId,orden:d.order,descripcionPersonalizada:d.customDescriptionMarkdown,duracionPersonalizada:d.customDurationMinutes,notas:d.notes,foco:d.focusLabel,focusLabel:d.focusLabel}))),s=n.sessions.flatMap(c=>c.attendance.map(d=>({session_id:c.id,assistantId:d.assistantId,estado:d.status,notas:d.notes,...d.actualStatus?{actualStatus:d.actualStatus,estado_real:d.actualStatus}:{},...d.actualNotes?{actualNotes:d.actualNotes,notas_reales:d.actualNotes}:{}}))),l=n.sessions.map(c=>({id:c.id,date:c.date,title:c.title,description:c.description,notes:c.notes,startTime:c.startTime,createdAt:c.createdAt,updatedAt:c.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:l,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:s}}})),hv=1,Ta=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants}),tj=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[]}),nj=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants;function rj(){const{user:e}=wu(),t=Ne(f=>f.setCollections),n=Ne(f=>f.reset),r=Ne(f=>f.ready),s=S.useRef(!1),l=S.useRef(null),a=S.useRef(null),c=S.useRef(null),d=S.useRef(Ta(Ne.getState()));S.useEffect(()=>()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},[]),S.useEffect(()=>{e||(n(),c.current=null,a.current=null,s.current=!1,d.current=Ta(Ne.getState()),l.current&&(window.clearTimeout(l.current),l.current=null))},[e,n]),S.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:y,error:v}=await Zr.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(v&&v.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",v);return}const k=y;if(k!=null&&k.data){const b=tj(k.data??{});s.current=!0,c.current=k.updated_at,d.current=b,t(b)}else if(r){const b=Ta(Ne.getState());a.current=null;const{error:_,data:N}=await Zr.from("planner_states").upsert({user_id:e.id,data:{version:hv,...b}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),I=N;_?console.error("No se pudo inicializar el estado remoto",_):I&&(c.current=I.updated_at)}})();const m=Ne.subscribe(y=>{if(!f)return;const v=Ta(y);if(s.current){s.current=!1,d.current=v,a.current=null;return}const k=d.current;nj(v,k)&&(d.current=v,a.current=v,l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>{if(!a.current)return;const b=a.current;a.current=null,(async()=>{const{error:_,data:N}=await Zr.from("planner_states").upsert({user_id:e.id,data:{version:hv,...b}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),I=N;_?console.error("No se pudo guardar el estado remoto",_):I&&(c.current=I.updated_at)})()},600))});return()=>{f=!1,m(),l.current&&(window.clearTimeout(l.current),l.current=null)}},[e,r,t])}var $a={exports:{}},ij=$a.exports,pv;function sj(){return pv||(pv=1,(function(e,t){(function(n,r){e.exports=r(Pw())})(ij,(function(n){function r(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var s=r(n),l={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(a){return a+"º"}};return s.default.locale(l,null,!0),l}))})($a)),$a.exports}sj();function kr({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return x.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[x.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function oj(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const lj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uj={};function mv(e,t){return(uj.jsx?aj:lj).test(e)}const cj=/[ \t\n\f\r]/g;function dj(e){return typeof e=="object"?e.type==="text"?gv(e.value):!1:gv(e)}function gv(e){return e.replace(cj,"")===""}class ul{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ul.prototype.normal={};ul.prototype.property={};ul.prototype.space=void 0;function Lw(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new ul(n,r,t)}function _f(e){return e.toLowerCase()}class en{constructor(t,n){this.attribute=n,this.property=t}}en.prototype.attribute="";en.prototype.booleanish=!1;en.prototype.boolean=!1;en.prototype.commaOrSpaceSeparated=!1;en.prototype.commaSeparated=!1;en.prototype.defined=!1;en.prototype.mustUseProperty=!1;en.prototype.number=!1;en.prototype.overloadedBoolean=!1;en.prototype.property="";en.prototype.spaceSeparated=!1;en.prototype.space=void 0;let fj=0;const Ae=zi(),ct=zi(),Ef=zi(),se=zi(),qe=zi(),As=zi(),un=zi();function zi(){return 2**++fj}const Cf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ae,booleanish:ct,commaOrSpaceSeparated:un,commaSeparated:As,number:se,overloadedBoolean:Ef,spaceSeparated:qe},Symbol.toStringTag,{value:"Module"})),Td=Object.keys(Cf);class th extends en{constructor(t,n,r,s){let l=-1;if(super(t,n),vv(this,"space",s),typeof r=="number")for(;++l<Td.length;){const a=Td[l];vv(this,Td[l],(r&Cf[a])===Cf[a])}}}th.prototype.defined=!0;function vv(e,t,n){n&&(e[t]=n)}function Fs(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const l=new th(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[_f(r)]=r,n[_f(l.attribute)]=r}return new ul(t,n,e.space)}const Mw=Fs({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:qe,ariaCurrent:null,ariaDescribedBy:qe,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:qe,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:qe,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qe,ariaLevel:se,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:qe,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:qe,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:ct,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function $w(e,t){return t in e?e[t]:t}function Fw(e,t){return $w(e,t.toLowerCase())}const hj=Fs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:As,acceptCharset:qe,accessKey:qe,action:null,allow:null,allowFullScreen:Ae,allowPaymentRequest:Ae,allowUserMedia:Ae,alt:null,as:null,async:Ae,autoCapitalize:null,autoComplete:qe,autoFocus:Ae,autoPlay:Ae,blocking:qe,capture:null,charSet:null,checked:Ae,cite:null,className:qe,cols:se,colSpan:null,content:null,contentEditable:ct,controls:Ae,controlsList:qe,coords:se|As,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ae,defer:Ae,dir:null,dirName:null,disabled:Ae,download:Ef,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ae,formTarget:null,headers:qe,height:se,hidden:Ef,high:se,href:null,hrefLang:null,htmlFor:qe,httpEquiv:qe,id:null,imageSizes:null,imageSrcSet:null,inert:Ae,inputMode:null,integrity:null,is:null,isMap:Ae,itemId:null,itemProp:qe,itemRef:qe,itemScope:Ae,itemType:qe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ae,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:Ae,muted:Ae,name:null,nonce:null,noModule:Ae,noValidate:Ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ae,optimum:se,pattern:null,ping:qe,placeholder:null,playsInline:Ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ae,referrerPolicy:null,rel:qe,required:Ae,reversed:Ae,rows:se,rowSpan:se,sandbox:qe,scope:null,scoped:Ae,seamless:Ae,selected:Ae,shadowRootClonable:Ae,shadowRootDelegatesFocus:Ae,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:Ae,useMap:null,value:ct,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:qe,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ae,declare:Ae,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:Ae,noHref:Ae,noShade:Ae,noWrap:Ae,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ae,disableRemotePlayback:Ae,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:Fw}),pj=Fs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:un,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:qe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:Ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:As,g2:As,glyphName:As,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:un,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:un,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:un,rev:un,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:un,requiredFeatures:un,requiredFonts:un,requiredFormats:un,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:un,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:un,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:un,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$w}),zw=Fs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Uw=Fs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Fw}),Bw=Fs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),mj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gj=/[A-Z]/g,yv=/-[a-z]/g,vj=/^data[-\w.:]+$/i;function yj(e,t){const n=_f(t);let r=t,s=en;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vj.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(yv,xj);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!yv.test(l)){let a=l.replace(gj,wj);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=th}return new s(r,t)}function wj(e){return"-"+e.toLowerCase()}function xj(e){return e.charAt(1).toUpperCase()}const bj=Lw([Mw,hj,zw,Uw,Bw],"html"),nh=Lw([Mw,pj,zw,Uw,Bw],"svg");function kj(e){return e.join(" ").trim()}var bs={},Nd,wv;function Sj(){if(wv)return Nd;wv=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",y="comment",v="declaration";Nd=function(b,_){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];_=_||{};var N=1,I=1;function A(X){var T=X.match(t);T&&(N+=T.length);var M=X.lastIndexOf(d);I=~M?X.length-M:I+X.length}function U(){var X={line:N,column:I};return function(T){return T.position=new Y(X),te(),T}}function Y(X){this.start=X,this.end={line:N,column:I},this.source=_.source}Y.prototype.content=b;function $(X){var T=new Error(_.source+":"+N+":"+I+": "+X);if(T.reason=X,T.filename=_.source,T.line=N,T.column=I,T.source=b,!_.silent)throw T}function J(X){var T=X.exec(b);if(T){var M=T[0];return A(M),b=b.slice(M.length),T}}function te(){J(n)}function K(X){var T;for(X=X||[];T=L();)T!==!1&&X.push(T);return X}function L(){var X=U();if(!(f!=b.charAt(0)||p!=b.charAt(1))){for(var T=2;m!=b.charAt(T)&&(p!=b.charAt(T)||f!=b.charAt(T+1));)++T;if(T+=2,m===b.charAt(T-1))return $("End of comment missing");var M=b.slice(2,T-2);return I+=2,A(M),b=b.slice(T),I+=2,X({type:y,comment:M})}}function V(){var X=U(),T=J(r);if(T){if(L(),!J(s))return $("property missing ':'");var M=J(l),P=X({type:v,property:k(T[0].replace(e,m)),value:M?k(M[0].replace(e,m)):m});return J(a),P}}function Z(){var X=[];K(X);for(var T;T=V();)T!==!1&&(X.push(T),K(X));return X}return te(),Z()};function k(b){return b?b.replace(c,m):m}return Nd}var xv;function _j(){if(xv)return bs;xv=1;var e=bs&&bs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bs,"__esModule",{value:!0}),bs.default=n;var t=e(Sj());function n(r,s){var l=null;if(!r||typeof r!="string")return l;var a=(0,t.default)(r),c=typeof s=="function";return a.forEach(function(d){if(d.type==="declaration"){var f=d.property,p=d.value;c?s(f,p,d):p&&(l=l||{},l[f]=p)}}),l}return bs}var To={},bv;function Ej(){if(bv)return To;bv=1,Object.defineProperty(To,"__esModule",{value:!0}),To.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,l=function(f){return!f||n.test(f)||e.test(f)},a=function(f,p){return p.toUpperCase()},c=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),l(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(s,c):f=f.replace(r,c),f.replace(t,a))};return To.camelCase=d,To}var No,kv;function Cj(){if(kv)return No;kv=1;var e=No&&No.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(_j()),n=Ej();function r(s,l){var a={};return!s||typeof s!="string"||(0,t.default)(s,function(c,d){c&&d&&(a[(0,n.camelCase)(c,l)]=d)}),a}return r.default=r,No=r,No}var jj=Cj();const Tj=Ds(jj),Ww=Hw("end"),rh=Hw("start");function Hw(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Nj(e){const t=rh(e),n=Ww(e);if(t&&n)return{start:t,end:n}}function Bo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Sv(e.position):"start"in e||"end"in e?Sv(e):"line"in e||"column"in e?jf(e):""}function jf(e){return _v(e&&e.line)+":"+_v(e&&e.column)}function Sv(e){return jf(e&&e.start)+"-"+jf(e&&e.end)}function _v(e){return e&&typeof e=="number"?e:1}class Lt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",l={},a=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?s=t:!l.cause&&t&&(a=!0,s=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?l.ruleId=r:(l.source=r.slice(0,d),l.ruleId=r.slice(d+1))}if(!l.place&&l.ancestors&&l.ancestors){const d=l.ancestors[l.ancestors.length-1];d&&(l.place=d.position)}const c=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=Bo(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=a&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Lt.prototype.file="";Lt.prototype.name="";Lt.prototype.reason="";Lt.prototype.message="";Lt.prototype.stack="";Lt.prototype.column=void 0;Lt.prototype.line=void 0;Lt.prototype.ancestors=void 0;Lt.prototype.cause=void 0;Lt.prototype.fatal=void 0;Lt.prototype.place=void 0;Lt.prototype.ruleId=void 0;Lt.prototype.source=void 0;const ih={}.hasOwnProperty,Aj=new Map,Ij=/[A-Z]/g,Pj=new Set(["table","tbody","thead","tfoot","tr"]),Rj=new Set(["td","th"]),Vw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Oj(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Bj(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Uj(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?nh:bj,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=qw(s,e,void 0);return l&&typeof l!="string"?l:s.create(e,s.Fragment,{children:l||void 0},void 0)}function qw(e,t,n){if(t.type==="element")return Dj(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Lj(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return $j(e,t,n);if(t.type==="mdxjsEsm")return Mj(e,t);if(t.type==="root")return Fj(e,t,n);if(t.type==="text")return zj(e,t)}function Dj(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=nh,e.schema=s),e.ancestors.push(t);const l=Kw(e,t.tagName,!1),a=Wj(e,t);let c=oh(e,t);return Pj.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!dj(d):!0})),Yw(e,a,l,t),sh(a,c),e.ancestors.pop(),e.schema=r,e.create(t,l,a,n)}function Lj(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Xo(e,t.position)}function Mj(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xo(e,t.position)}function $j(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=nh,e.schema=s),e.ancestors.push(t);const l=t.name===null?e.Fragment:Kw(e,t.name,!0),a=Hj(e,t),c=oh(e,t);return Yw(e,a,l,t),sh(a,c),e.ancestors.pop(),e.schema=r,e.create(t,l,a,n)}function Fj(e,t,n){const r={};return sh(r,oh(e,t)),e.create(t,e.Fragment,r,n)}function zj(e,t){return t.value}function Yw(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function sh(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Uj(e,t,n){return r;function r(s,l,a,c){const f=Array.isArray(a.children)?n:t;return c?f(l,a,c):f(l,a)}}function Bj(e,t){return n;function n(r,s,l,a){const c=Array.isArray(l.children),d=rh(r);return t(s,l,a,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function Wj(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&ih.call(t.properties,s)){const l=Vj(e,s,t.properties[s]);if(l){const[a,c]=l;e.tableCellAlignToStyle&&a==="align"&&typeof c=="string"&&Rj.has(t.tagName)?r=c:n[a]=c}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Hj(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const a=l.expression;a.type;const c=a.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Xo(e,t.position);else{const s=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,l=e.evaluater.evaluateExpression(c.expression)}else Xo(e,t.position);else l=r.value===null?!0:r.value;n[s]=l}return n}function oh(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Aj;for(;++r<t.children.length;){const l=t.children[r];let a;if(e.passKeys){const d=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(d){const f=s.get(d)||0;a=d+"-"+f,s.set(d,f+1)}}const c=qw(e,l,a);c!==void 0&&n.push(c)}return n}function Vj(e,t,n){const r=yj(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?oj(n):kj(n)),r.property==="style"){let s=typeof n=="object"?n:qj(e,String(n));return e.stylePropertyNameCase==="css"&&(s=Yj(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?mj[r.property]||r.property:r.attribute,n]}}function qj(e,t){try{return Tj(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Lt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Vw+"#cannot-parse-style-attribute",s}}function Kw(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let l=-1,a;for(;++l<s.length;){const c=mv(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};a=a?{type:"MemberExpression",object:a,property:c,computed:!!(l&&c.type==="Literal"),optional:!1}:c}r=a}else r=mv(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return ih.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Xo(e)}function Xo(e,t){const n=new Lt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Vw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Yj(e){const t={};let n;for(n in e)ih.call(e,n)&&(t[Kj(n)]=e[n]);return t}function Kj(e){let t=e.replace(Ij,Gj);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Gj(e){return"-"+e.toLowerCase()}const Ad={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Jj={};function lh(e,t){const n=Jj,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Gw(e,r,s)}function Gw(e,t,n){if(Qj(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ev(e.children,t,n)}return Array.isArray(e)?Ev(e,t,n):""}function Ev(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Gw(e[s],t,n);return r.join("")}function Qj(e){return!!(e&&typeof e=="object")}const Cv=document.createElement("i");function ah(e){const t="&"+e+";";Cv.innerHTML=t;const n=Cv.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function dn(e,t,n,r){const s=e.length;let l=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);l<r.length;)a=r.slice(l,l+1e4),a.unshift(t,0),e.splice(...a),l+=1e4,t+=1e4}function Cn(e,t){return e.length>0?(dn(e,e.length,0,t),e):t}const jv={}.hasOwnProperty;function Jw(e){const t={};let n=-1;for(;++n<e.length;)Xj(t,e[n]);return t}function Xj(e,t){let n;for(n in t){const s=(jv.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let a;if(l)for(a in l){jv.call(s,a)||(s[a]=[]);const c=l[a];Zj(s[a],Array.isArray(c)?c:c?[c]:[])}}}function Zj(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);dn(e,0,0,r)}function Qw(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Wn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ut=ai(/[A-Za-z]/),Dt=ai(/[\dA-Za-z]/),eT=ai(/[#-'*+\--9=?A-Z^-~]/);function Ja(e){return e!==null&&(e<32||e===127)}const Tf=ai(/\d/),tT=ai(/[\dA-Fa-f]/),nT=ai(/[!-/:-@[-`{-~]/);function Ee(e){return e!==null&&e<-2}function Be(e){return e!==null&&(e<0||e===32)}function Pe(e){return e===-2||e===-1||e===32}const xu=ai(new RegExp("\\p{P}|\\p{S}","u")),Mi=ai(/\s/);function ai(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function zs(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const l=e.charCodeAt(n);let a="";if(l===37&&Dt(e.charCodeAt(n+1))&&Dt(e.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(a=String.fromCharCode(l));else if(l>55295&&l<57344){const c=e.charCodeAt(n+1);l<56320&&c>56319&&c<57344?(a=String.fromCharCode(l,c),s=1):a="�"}else a=String.fromCharCode(l);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Oe(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(d){return Pe(d)?(e.enter(n),c(d)):t(d)}function c(d){return Pe(d)&&l++<s?(e.consume(d),c):(e.exit(n),t(d))}}const rT={tokenize:iT};function iT(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Oe(e,t,"linePrefix")}function s(c){return e.enter("paragraph"),l(c)}function l(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,a(c)}function a(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ee(c)?(e.consume(c),e.exit("chunkText"),l):(e.consume(c),a)}}const sT={tokenize:oT},Tv={tokenize:lT};function oT(e){const t=this,n=[];let r=0,s,l,a;return c;function c(A){if(r<n.length){const U=n[r];return t.containerState=U[1],e.attempt(U[0].continuation,d,f)(A)}return f(A)}function d(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&I();const U=t.events.length;let Y=U,$;for(;Y--;)if(t.events[Y][0]==="exit"&&t.events[Y][1].type==="chunkFlow"){$=t.events[Y][1].end;break}N(r);let J=U;for(;J<t.events.length;)t.events[J][1].end={...$},J++;return dn(t.events,Y+1,0,t.events.slice(U)),t.events.length=J,f(A)}return c(A)}function f(A){if(r===n.length){if(!s)return y(A);if(s.currentConstruct&&s.currentConstruct.concrete)return k(A);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Tv,p,m)(A)}function p(A){return s&&I(),N(r),y(A)}function m(A){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,k(A)}function y(A){return t.containerState={},e.attempt(Tv,v,k)(A)}function v(A){return r++,n.push([t.currentConstruct,t.containerState]),y(A)}function k(A){if(A===null){s&&I(),N(0),e.consume(A);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),b(A)}function b(A){if(A===null){_(e.exit("chunkFlow"),!0),N(0),e.consume(A);return}return Ee(A)?(e.consume(A),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(A),b)}function _(A,U){const Y=t.sliceStream(A);if(U&&Y.push(null),A.previous=l,l&&(l.next=A),l=A,s.defineSkip(A.start),s.write(Y),t.parser.lazy[A.start.line]){let $=s.events.length;for(;$--;)if(s.events[$][1].start.offset<a&&(!s.events[$][1].end||s.events[$][1].end.offset>a))return;const J=t.events.length;let te=J,K,L;for(;te--;)if(t.events[te][0]==="exit"&&t.events[te][1].type==="chunkFlow"){if(K){L=t.events[te][1].end;break}K=!0}for(N(r),$=J;$<t.events.length;)t.events[$][1].end={...L},$++;dn(t.events,te+1,0,t.events.slice(J)),t.events.length=$}}function N(A){let U=n.length;for(;U-- >A;){const Y=n[U];t.containerState=Y[1],Y[0].exit.call(t,e)}n.length=A}function I(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function lT(e,t,n){return Oe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Os(e){if(e===null||Be(e)||Mi(e))return 1;if(xu(e))return 2}function bu(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const Nf={name:"attention",resolveAll:aT,tokenize:uT};function aT(e,t){let n=-1,r,s,l,a,c,d,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},y={...e[n][1].start};Nv(m,-d),Nv(y,d),a={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:y},l={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...a.start},end:{...c.end}},e[r][1].end={...a.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Cn(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Cn(f,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",l,t]]),f=Cn(f,bu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Cn(f,[["exit",l,t],["enter",c,t],["exit",c,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=Cn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,dn(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function uT(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Os(r);let l;return a;function a(d){return l=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===l)return e.consume(d),c;const f=e.exit("attentionSequence"),p=Os(d),m=!p||p===2&&s||n.includes(d),y=!s||s===2&&p||n.includes(r);return f._open=!!(l===42?m:m&&(s||!y)),f._close=!!(l===42?y:y&&(p||!m)),t(d)}}function Nv(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const cT={name:"autolink",tokenize:dT};function dT(e,t,n){let r=0;return s;function s(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(v){return Ut(v)?(e.consume(v),a):v===64?n(v):f(v)}function a(v){return v===43||v===45||v===46||Dt(v)?(r=1,c(v)):f(v)}function c(v){return v===58?(e.consume(v),r=0,d):(v===43||v===45||v===46||Dt(v))&&r++<32?(e.consume(v),c):(r=0,f(v))}function d(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||Ja(v)?n(v):(e.consume(v),d)}function f(v){return v===64?(e.consume(v),p):eT(v)?(e.consume(v),f):n(v)}function p(v){return Dt(v)?m(v):n(v)}function m(v){return v===46?(e.consume(v),r=0,p):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):y(v)}function y(v){if((v===45||Dt(v))&&r++<63){const k=v===45?y:m;return e.consume(v),k}return n(v)}}const cl={partial:!0,tokenize:fT};function fT(e,t,n){return r;function r(l){return Pe(l)?Oe(e,s,"linePrefix")(l):s(l)}function s(l){return l===null||Ee(l)?t(l):n(l)}}const Xw={continuation:{tokenize:pT},exit:mT,name:"blockQuote",tokenize:hT};function hT(e,t,n){const r=this;return s;function s(a){if(a===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),l}return n(a)}function l(a){return Pe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function pT(e,t,n){const r=this;return s;function s(a){return Pe(a)?Oe(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):l(a)}function l(a){return e.attempt(Xw,t,n)(a)}}function mT(e){e.exit("blockQuote")}const Zw={name:"characterEscape",tokenize:gT};function gT(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return nT(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const e0={name:"characterReference",tokenize:vT};function vT(e,t,n){const r=this;let s=0,l,a;return c;function c(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),d}function d(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),l=31,a=Dt,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,a=tT,p):(e.enter("characterReferenceValue"),l=7,a=Tf,p(m))}function p(m){if(m===59&&s){const y=e.exit("characterReferenceValue");return a===Dt&&!ah(r.sliceSerialize(y))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(m)&&s++<l?(e.consume(m),p):n(m)}}const Av={partial:!0,tokenize:wT},Iv={concrete:!0,name:"codeFenced",tokenize:yT};function yT(e,t,n){const r=this,s={partial:!0,tokenize:Y};let l=0,a=0,c;return d;function d($){return f($)}function f($){const J=r.events[r.events.length-1];return l=J&&J[1].type==="linePrefix"?J[2].sliceSerialize(J[1],!0).length:0,c=$,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p($)}function p($){return $===c?(a++,e.consume($),p):a<3?n($):(e.exit("codeFencedFenceSequence"),Pe($)?Oe(e,m,"whitespace")($):m($))}function m($){return $===null||Ee($)?(e.exit("codeFencedFence"),r.interrupt?t($):e.check(Av,b,U)($)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),y($))}function y($){return $===null||Ee($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m($)):Pe($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Oe(e,v,"whitespace")($)):$===96&&$===c?n($):(e.consume($),y)}function v($){return $===null||Ee($)?m($):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k($))}function k($){return $===null||Ee($)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m($)):$===96&&$===c?n($):(e.consume($),k)}function b($){return e.attempt(s,U,_)($)}function _($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),N}function N($){return l>0&&Pe($)?Oe(e,I,"linePrefix",l+1)($):I($)}function I($){return $===null||Ee($)?e.check(Av,b,U)($):(e.enter("codeFlowValue"),A($))}function A($){return $===null||Ee($)?(e.exit("codeFlowValue"),I($)):(e.consume($),A)}function U($){return e.exit("codeFenced"),t($)}function Y($,J,te){let K=0;return L;function L(M){return $.enter("lineEnding"),$.consume(M),$.exit("lineEnding"),V}function V(M){return $.enter("codeFencedFence"),Pe(M)?Oe($,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):Z(M)}function Z(M){return M===c?($.enter("codeFencedFenceSequence"),X(M)):te(M)}function X(M){return M===c?(K++,$.consume(M),X):K>=a?($.exit("codeFencedFenceSequence"),Pe(M)?Oe($,T,"whitespace")(M):T(M)):te(M)}function T(M){return M===null||Ee(M)?($.exit("codeFencedFence"),J(M)):te(M)}}}function wT(e,t,n){const r=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l)}function l(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Id={name:"codeIndented",tokenize:bT},xT={partial:!0,tokenize:kT};function bT(e,t,n){const r=this;return s;function s(f){return e.enter("codeIndented"),Oe(e,l,"linePrefix",5)(f)}function l(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?d(f):Ee(f)?e.attempt(xT,a,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Ee(f)?(e.exit("codeFlowValue"),a(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function kT(e,t,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):Ee(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):Oe(e,l,"linePrefix",5)(a)}function l(a){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):Ee(a)?s(a):n(a)}}const ST={name:"codeText",previous:ET,resolve:_T,tokenize:CT};function _T(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function ET(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function CT(e,t,n){let r=0,s,l;return a;function a(m){return e.enter("codeText"),e.enter("codeTextSequence"),c(m)}function c(m){return m===96?(e.consume(m),r++,c):(e.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),d):m===96?(l=e.enter("codeTextSequence"),s=0,p(m)):Ee(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Ee(m)?(e.exit("codeTextData"),d(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),s++,p):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(l.type="codeTextData",f(m))}}class jT{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Ao(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ao(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ao(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ao(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ao(this.left,n.reverse())}}}function Ao(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function t0(e){const t={};let n=-1,r,s,l,a,c,d,f;const p=new jT(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,l=0,l<d.length&&d[l][1].type==="lineEndingBlank"&&(l+=2),l<d.length&&d[l][1].type==="content"))for(;++l<d.length&&d[l][1].type!=="content";)d[l][1].type==="chunkText"&&(d[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,TT(p,n)),n=t[n],f=!0);else if(r[1]._container){for(l=n,s=void 0;l--;)if(a=p.get(l),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=l);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(r),p.splice(s,n-s+1,c))}}return dn(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function TT(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const l=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const c=a.events,d=[],f={};let p,m,y=-1,v=n,k=0,b=0;const _=[b];for(;v;){for(;e.get(++s)[1]!==v;);l.push(s),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),m&&a.defineSkip(v.start),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(p),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),m=v,v=v.next}for(v=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(b=y+1,_.push(b),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(a.events=[],v?(v._tokenizer=void 0,v.previous=void 0):_.pop(),y=_.length;y--;){const N=c.slice(_[y],_[y+1]),I=l.pop();d.push([I,I+N.length-1]),e.splice(I,2,N)}for(d.reverse(),y=-1;++y<d.length;)f[k+d[y][0]]=k+d[y][1],k+=d[y][1]-d[y][0]-1;return f}const NT={resolve:IT,tokenize:PT},AT={partial:!0,tokenize:RT};function IT(e){return t0(e),e}function PT(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?l(c):Ee(c)?e.check(AT,a,l)(c):(e.consume(c),s)}function l(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function a(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function RT(e,t,n){const r=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Oe(e,l,"linePrefix")}function l(a){if(a===null||Ee(a))return n(a);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function n0(e,t,n,r,s,l,a,c,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(N){return N===60?(e.enter(r),e.enter(s),e.enter(l),e.consume(N),e.exit(l),y):N===null||N===32||N===41||Ja(N)?n(N):(e.enter(r),e.enter(a),e.enter(c),e.enter("chunkString",{contentType:"string"}),b(N))}function y(N){return N===62?(e.enter(l),e.consume(N),e.exit(l),e.exit(s),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===62?(e.exit("chunkString"),e.exit(c),y(N)):N===null||N===60||Ee(N)?n(N):(e.consume(N),N===92?k:v)}function k(N){return N===60||N===62||N===92?(e.consume(N),v):v(N)}function b(N){return!p&&(N===null||N===41||Be(N))?(e.exit("chunkString"),e.exit(c),e.exit(a),e.exit(r),t(N)):p<f&&N===40?(e.consume(N),p++,b):N===41?(e.consume(N),p--,b):N===null||N===32||N===40||Ja(N)?n(N):(e.consume(N),N===92?_:b)}function _(N){return N===40||N===41||N===92?(e.consume(N),b):b(N)}}function r0(e,t,n,r,s,l){const a=this;let c=0,d;return f;function f(v){return e.enter(r),e.enter(s),e.consume(v),e.exit(s),e.enter(l),p}function p(v){return c>999||v===null||v===91||v===93&&!d||v===94&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs?n(v):v===93?(e.exit(l),e.enter(s),e.consume(v),e.exit(s),e.exit(r),t):Ee(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===null||v===91||v===93||Ee(v)||c++>999?(e.exit("chunkString"),p(v)):(e.consume(v),d||(d=!Pe(v)),v===92?y:m)}function y(v){return v===91||v===92||v===93?(e.consume(v),c++,m):m(v)}}function i0(e,t,n,r,s,l){let a;return c;function c(y){return y===34||y===39||y===40?(e.enter(r),e.enter(s),e.consume(y),e.exit(s),a=y===40?41:y,d):n(y)}function d(y){return y===a?(e.enter(s),e.consume(y),e.exit(s),e.exit(r),t):(e.enter(l),f(y))}function f(y){return y===a?(e.exit(l),d(a)):y===null?n(y):Ee(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),Oe(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===a||y===null||Ee(y)?(e.exit("chunkString"),f(y)):(e.consume(y),y===92?m:p)}function m(y){return y===a||y===92?(e.consume(y),p):p(y)}}function Wo(e,t){let n;return r;function r(s){return Ee(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Pe(s)?Oe(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const OT={name:"definition",tokenize:LT},DT={partial:!0,tokenize:MT};function LT(e,t,n){const r=this;let s;return l;function l(v){return e.enter("definition"),a(v)}function a(v){return r0.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return s=Wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),d):n(v)}function d(v){return Be(v)?Wo(e,f)(v):f(v)}function f(v){return n0(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return e.attempt(DT,m,m)(v)}function m(v){return Pe(v)?Oe(e,y,"whitespace")(v):y(v)}function y(v){return v===null||Ee(v)?(e.exit("definition"),r.parser.defined.push(s),t(v)):n(v)}}function MT(e,t,n){return r;function r(c){return Be(c)?Wo(e,s)(c):n(c)}function s(c){return i0(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function l(c){return Pe(c)?Oe(e,a,"whitespace")(c):a(c)}function a(c){return c===null||Ee(c)?t(c):n(c)}}const $T={name:"hardBreakEscape",tokenize:FT};function FT(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),s}function s(l){return Ee(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const zT={name:"headingAtx",resolve:UT,tokenize:BT};function UT(e,t){let n=e.length-2,r=3,s,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},dn(e,r,n-r+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function BT(e,t,n){let r=0;return s;function s(p){return e.enter("atxHeading"),l(p)}function l(p){return e.enter("atxHeadingSequence"),a(p)}function a(p){return p===35&&r++<6?(e.consume(p),a):p===null||Be(p)?(e.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(e.enter("atxHeadingSequence"),d(p)):p===null||Ee(p)?(e.exit("atxHeading"),t(p)):Pe(p)?Oe(e,c,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function d(p){return p===35?(e.consume(p),d):(e.exit("atxHeadingSequence"),c(p))}function f(p){return p===null||p===35||Be(p)?(e.exit("atxHeadingText"),c(p)):(e.consume(p),f)}}const WT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Pv=["pre","script","style","textarea"],HT={concrete:!0,name:"htmlFlow",resolveTo:YT,tokenize:KT},VT={partial:!0,tokenize:JT},qT={partial:!0,tokenize:GT};function YT(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function KT(e,t,n){const r=this;let s,l,a,c,d;return f;function f(j){return p(j)}function p(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),m}function m(j){return j===33?(e.consume(j),y):j===47?(e.consume(j),l=!0,b):j===63?(e.consume(j),s=3,r.interrupt?t:C):Ut(j)?(e.consume(j),a=String.fromCharCode(j),_):n(j)}function y(j){return j===45?(e.consume(j),s=2,v):j===91?(e.consume(j),s=5,c=0,k):Ut(j)?(e.consume(j),s=4,r.interrupt?t:C):n(j)}function v(j){return j===45?(e.consume(j),r.interrupt?t:C):n(j)}function k(j){const ae="CDATA[";return j===ae.charCodeAt(c++)?(e.consume(j),c===ae.length?r.interrupt?t:Z:k):n(j)}function b(j){return Ut(j)?(e.consume(j),a=String.fromCharCode(j),_):n(j)}function _(j){if(j===null||j===47||j===62||Be(j)){const ae=j===47,fe=a.toLowerCase();return!ae&&!l&&Pv.includes(fe)?(s=1,r.interrupt?t(j):Z(j)):WT.includes(a.toLowerCase())?(s=6,ae?(e.consume(j),N):r.interrupt?t(j):Z(j)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):l?I(j):A(j))}return j===45||Dt(j)?(e.consume(j),a+=String.fromCharCode(j),_):n(j)}function N(j){return j===62?(e.consume(j),r.interrupt?t:Z):n(j)}function I(j){return Pe(j)?(e.consume(j),I):L(j)}function A(j){return j===47?(e.consume(j),L):j===58||j===95||Ut(j)?(e.consume(j),U):Pe(j)?(e.consume(j),A):L(j)}function U(j){return j===45||j===46||j===58||j===95||Dt(j)?(e.consume(j),U):Y(j)}function Y(j){return j===61?(e.consume(j),$):Pe(j)?(e.consume(j),Y):A(j)}function $(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),d=j,J):Pe(j)?(e.consume(j),$):te(j)}function J(j){return j===d?(e.consume(j),d=null,K):j===null||Ee(j)?n(j):(e.consume(j),J)}function te(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Be(j)?Y(j):(e.consume(j),te)}function K(j){return j===47||j===62||Pe(j)?A(j):n(j)}function L(j){return j===62?(e.consume(j),V):n(j)}function V(j){return j===null||Ee(j)?Z(j):Pe(j)?(e.consume(j),V):n(j)}function Z(j){return j===45&&s===2?(e.consume(j),P):j===60&&s===1?(e.consume(j),D):j===62&&s===4?(e.consume(j),R):j===63&&s===3?(e.consume(j),C):j===93&&s===5?(e.consume(j),W):Ee(j)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(VT,H,X)(j)):j===null||Ee(j)?(e.exit("htmlFlowData"),X(j)):(e.consume(j),Z)}function X(j){return e.check(qT,T,H)(j)}function T(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),M}function M(j){return j===null||Ee(j)?X(j):(e.enter("htmlFlowData"),Z(j))}function P(j){return j===45?(e.consume(j),C):Z(j)}function D(j){return j===47?(e.consume(j),a="",F):Z(j)}function F(j){if(j===62){const ae=a.toLowerCase();return Pv.includes(ae)?(e.consume(j),R):Z(j)}return Ut(j)&&a.length<8?(e.consume(j),a+=String.fromCharCode(j),F):Z(j)}function W(j){return j===93?(e.consume(j),C):Z(j)}function C(j){return j===62?(e.consume(j),R):j===45&&s===2?(e.consume(j),C):Z(j)}function R(j){return j===null||Ee(j)?(e.exit("htmlFlowData"),H(j)):(e.consume(j),R)}function H(j){return e.exit("htmlFlow"),t(j)}}function GT(e,t,n){const r=this;return s;function s(a){return Ee(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l):n(a)}function l(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function JT(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(cl,t,n)}}const QT={name:"htmlText",tokenize:XT};function XT(e,t,n){const r=this;let s,l,a;return c;function c(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),d}function d(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),Y):C===63?(e.consume(C),A):Ut(C)?(e.consume(C),te):n(C)}function f(C){return C===45?(e.consume(C),p):C===91?(e.consume(C),l=0,k):Ut(C)?(e.consume(C),I):n(C)}function p(C){return C===45?(e.consume(C),v):n(C)}function m(C){return C===null?n(C):C===45?(e.consume(C),y):Ee(C)?(a=m,D(C)):(e.consume(C),m)}function y(C){return C===45?(e.consume(C),v):m(C)}function v(C){return C===62?P(C):C===45?y(C):m(C)}function k(C){const R="CDATA[";return C===R.charCodeAt(l++)?(e.consume(C),l===R.length?b:k):n(C)}function b(C){return C===null?n(C):C===93?(e.consume(C),_):Ee(C)?(a=b,D(C)):(e.consume(C),b)}function _(C){return C===93?(e.consume(C),N):b(C)}function N(C){return C===62?P(C):C===93?(e.consume(C),N):b(C)}function I(C){return C===null||C===62?P(C):Ee(C)?(a=I,D(C)):(e.consume(C),I)}function A(C){return C===null?n(C):C===63?(e.consume(C),U):Ee(C)?(a=A,D(C)):(e.consume(C),A)}function U(C){return C===62?P(C):A(C)}function Y(C){return Ut(C)?(e.consume(C),$):n(C)}function $(C){return C===45||Dt(C)?(e.consume(C),$):J(C)}function J(C){return Ee(C)?(a=J,D(C)):Pe(C)?(e.consume(C),J):P(C)}function te(C){return C===45||Dt(C)?(e.consume(C),te):C===47||C===62||Be(C)?K(C):n(C)}function K(C){return C===47?(e.consume(C),P):C===58||C===95||Ut(C)?(e.consume(C),L):Ee(C)?(a=K,D(C)):Pe(C)?(e.consume(C),K):P(C)}function L(C){return C===45||C===46||C===58||C===95||Dt(C)?(e.consume(C),L):V(C)}function V(C){return C===61?(e.consume(C),Z):Ee(C)?(a=V,D(C)):Pe(C)?(e.consume(C),V):K(C)}function Z(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),s=C,X):Ee(C)?(a=Z,D(C)):Pe(C)?(e.consume(C),Z):(e.consume(C),T)}function X(C){return C===s?(e.consume(C),s=void 0,M):C===null?n(C):Ee(C)?(a=X,D(C)):(e.consume(C),X)}function T(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Be(C)?K(C):(e.consume(C),T)}function M(C){return C===47||C===62||Be(C)?K(C):n(C)}function P(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function D(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),F}function F(C){return Pe(C)?Oe(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):W(C)}function W(C){return e.enter("htmlTextData"),a(C)}}const uh={name:"labelEnd",resolveAll:nN,resolveTo:rN,tokenize:iN},ZT={tokenize:sN},eN={tokenize:oN},tN={tokenize:lN};function nN(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&dn(e,0,e.length,n),e}function rN(e,t){let n=e.length,r=0,s,l,a,c;for(;n--;)if(s=e[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const d={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[l][1].start},end:{...e[a][1].end}},p={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[a-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=Cn(c,e.slice(l+1,l+r+3)),c=Cn(c,[["enter",p,t]]),c=Cn(c,bu(t.parser.constructs.insideSpan.null,e.slice(l+r+4,a-3),t)),c=Cn(c,[["exit",p,t],e[a-2],e[a-1],["exit",f,t]]),c=Cn(c,e.slice(a+1)),c=Cn(c,[["exit",d,t]]),dn(e,l,e.length,c),e}function iN(e,t,n){const r=this;let s=r.events.length,l,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){l=r.events[s][1];break}return c;function c(y){return l?l._inactive?m(y):(a=r.parser.defined.includes(Wn(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelEnd"),d):n(y)}function d(y){return y===40?e.attempt(ZT,p,a?p:m)(y):y===91?e.attempt(eN,p,a?f:m)(y):a?p(y):m(y)}function f(y){return e.attempt(tN,p,m)(y)}function p(y){return t(y)}function m(y){return l._balanced=!0,n(y)}}function sN(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),s}function s(m){return Be(m)?Wo(e,l)(m):l(m)}function l(m){return m===41?p(m):n0(e,a,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function a(m){return Be(m)?Wo(e,d)(m):p(m)}function c(m){return n(m)}function d(m){return m===34||m===39||m===40?i0(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return Be(m)?Wo(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function oN(e,t,n){const r=this;return s;function s(c){return r0.call(r,e,l,a,"reference","referenceMarker","referenceString")(c)}function l(c){return r.parser.defined.includes(Wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function a(c){return n(c)}}function lN(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const aN={name:"labelStartImage",resolveAll:uh.resolveAll,tokenize:uN};function uN(e,t,n){const r=this;return s;function s(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),l}function l(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),a):n(c)}function a(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const cN={name:"labelStartLink",resolveAll:uh.resolveAll,tokenize:dN};function dN(e,t,n){const r=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),l}function l(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Pd={name:"lineEnding",tokenize:fN};function fN(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Oe(e,t,"linePrefix")}}const Fa={name:"thematicBreak",tokenize:hN};function hN(e,t,n){let r=0,s;return l;function l(f){return e.enter("thematicBreak"),a(f)}function a(f){return s=f,c(f)}function c(f){return f===s?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Ee(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===s?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),Pe(f)?Oe(e,c,"whitespace")(f):c(f))}}const Qt={continuation:{tokenize:vN},exit:wN,name:"list",tokenize:gN},pN={partial:!0,tokenize:xN},mN={partial:!0,tokenize:yN};function gN(e,t,n){const r=this,s=r.events[r.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return c;function c(v){const k=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:Tf(v)){if(r.containerState.type||(r.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(Fa,n,f)(v):f(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(v)}return n(v)}function d(v){return Tf(v)&&++a<10?(e.consume(v),d):(!r.interrupt||a<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),f(v)):n(v)}function f(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(cl,r.interrupt?n:p,e.attempt(pN,y,m))}function p(v){return r.containerState.initialBlankLine=!0,l++,y(v)}function m(v){return Pe(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),y):n(v)}function y(v){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function vN(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(cl,s,l);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Oe(e,t,"listItemIndent",r.containerState.size+1)(c)}function l(c){return r.containerState.furtherBlankLines||!Pe(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(mN,t,a)(c))}function a(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Oe(e,e.attempt(Qt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function yN(e,t,n){const r=this;return Oe(e,s,"listItemIndent",r.containerState.size+1);function s(l){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(l):n(l)}}function wN(e){e.exit(this.containerState.type)}function xN(e,t,n){const r=this;return Oe(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const a=r.events[r.events.length-1];return!Pe(l)&&a&&a[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Rv={name:"setextUnderline",resolveTo:bN,tokenize:kN};function bN(e,t){let n=e.length,r,s,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",a,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function kN(e,t,n){const r=this;let s;return l;function l(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),s=f,a(f)):n(f)}function a(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===s?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),Pe(f)?Oe(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Ee(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const SN={tokenize:_N};function _N(e){const t=this,n=e.attempt(cl,r,e.attempt(this.parser.constructs.flowInitial,s,Oe(e,e.attempt(this.parser.constructs.flow,s,e.attempt(NT,s)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const EN={resolveAll:o0()},CN=s0("string"),jN=s0("text");function s0(e){return{resolveAll:o0(e==="text"?TN:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],l=n.attempt(s,a,c);return a;function a(p){return f(p)?l(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),l(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;const m=s[p];let y=-1;if(m)for(;++y<m.length;){const v=m[y];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function o0(e){return t;function t(n,r){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(n,r):n}}function TN(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let l=s.length,a=-1,c=0,d;for(;l--;){const f=s[l];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)c++,a--;if(a)break;a=-1}else if(f===-2)d=!0,c++;else if(f!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?a:r.start._bufferIndex+a,_index:r.start._index+l,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const NN={42:Qt,43:Qt,45:Qt,48:Qt,49:Qt,50:Qt,51:Qt,52:Qt,53:Qt,54:Qt,55:Qt,56:Qt,57:Qt,62:Xw},AN={91:OT},IN={[-2]:Id,[-1]:Id,32:Id},PN={35:zT,42:Fa,45:[Rv,Fa],60:HT,61:Rv,95:Fa,96:Iv,126:Iv},RN={38:e0,92:Zw},ON={[-5]:Pd,[-4]:Pd,[-3]:Pd,33:aN,38:e0,42:Nf,60:[cT,QT],91:cN,92:[$T,Zw],93:uh,95:Nf,96:ST},DN={null:[Nf,EN]},LN={null:[42,95]},MN={null:[]},$N=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:LN,contentInitial:AN,disable:MN,document:NN,flow:PN,flowInitial:IN,insideSpan:DN,string:RN,text:ON},Symbol.toStringTag,{value:"Module"}));function FN(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},l=[];let a=[],c=[];const d={attempt:J(Y),check:J($),consume:I,enter:A,exit:U,interrupt:J($,{interrupt:!0})},f={code:null,containerState:{},defineSkip:b,events:[],now:k,parser:e,previous:null,sliceSerialize:y,sliceStream:v,write:m};let p=t.tokenize.call(f,d);return t.resolveAll&&l.push(t),f;function m(V){return a=Cn(a,V),_(),a[a.length-1]!==null?[]:(te(t,0),f.events=bu(l,f.events,f),f.events)}function y(V,Z){return UN(v(V),Z)}function v(V){return zN(a,V)}function k(){const{_bufferIndex:V,_index:Z,line:X,column:T,offset:M}=r;return{_bufferIndex:V,_index:Z,line:X,column:T,offset:M}}function b(V){s[V.line]=V.column,L()}function _(){let V;for(;r._index<a.length;){const Z=a[r._index];if(typeof Z=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<Z.length;)N(Z.charCodeAt(r._bufferIndex));else N(Z)}}function N(V){p=p(V)}function I(V){Ee(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,L()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=V}function A(V,Z){const X=Z||{};return X.type=V,X.start=k(),f.events.push(["enter",X,f]),c.push(X),X}function U(V){const Z=c.pop();return Z.end=k(),f.events.push(["exit",Z,f]),Z}function Y(V,Z){te(V,Z.from)}function $(V,Z){Z.restore()}function J(V,Z){return X;function X(T,M,P){let D,F,W,C;return Array.isArray(T)?H(T):"tokenize"in T?H([T]):R(T);function R(ue){return be;function be(ge){const we=ge!==null&&ue[ge],ce=ge!==null&&ue.null,ze=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(ce)?ce:ce?[ce]:[]];return H(ze)(ge)}}function H(ue){return D=ue,F=0,ue.length===0?P:j(ue[F])}function j(ue){return be;function be(ge){return C=K(),W=ue,ue.partial||(f.currentConstruct=ue),ue.name&&f.parser.constructs.disable.null.includes(ue.name)?fe():ue.tokenize.call(Z?Object.assign(Object.create(f),Z):f,d,ae,fe)(ge)}}function ae(ue){return V(W,C),M}function fe(ue){return C.restore(),++F<D.length?j(D[F]):P}}}function te(V,Z){V.resolveAll&&!l.includes(V)&&l.push(V),V.resolve&&dn(f.events,Z,f.events.length-Z,V.resolve(f.events.slice(Z),f)),V.resolveTo&&(f.events=V.resolveTo(f.events,f))}function K(){const V=k(),Z=f.previous,X=f.currentConstruct,T=f.events.length,M=Array.from(c);return{from:T,restore:P};function P(){r=V,f.previous=Z,f.currentConstruct=X,f.events.length=T,c=M,L()}}function L(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function zN(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,l)];else{if(a=e.slice(n,s),r>-1){const c=a[0];typeof c=="string"?a[0]=c.slice(r):a.shift()}l>0&&a.push(e[s].slice(0,l))}return a}function UN(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const l=e[n];let a;if(typeof l=="string")a=l;else switch(l){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(l)}s=l===-2,r.push(a)}return r.join("")}function BN(e){const r={constructs:Jw([$N,...(e||{}).extensions||[]]),content:s(rT),defined:[],document:s(sT),flow:s(SN),lazy:{},string:s(CN),text:s(jN)};return r;function s(l){return a;function a(c){return FN(r,l,c)}}}function WN(e){for(;!t0(e););return e}const Ov=/[\0\t\n\r]/g;function HN(){let e=1,t="",n=!0,r;return s;function s(l,a,c){const d=[];let f,p,m,y,v;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(a||void 0).decode(l)),m=0,t="",n&&(l.charCodeAt(0)===65279&&m++,n=void 0);m<l.length;){if(Ov.lastIndex=m,f=Ov.exec(l),y=f&&f.index!==void 0?f.index:l.length,v=l.charCodeAt(y),!f){t=l.slice(m);break}if(v===10&&m===y&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<y&&(d.push(l.slice(m,y)),e+=y-m),v){case 0:{d.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,d.push(-2);e++<p;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}m=y+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const VN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qN(e){return e.replace(VN,YN)}function YN(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return Qw(n.slice(l?2:1),l?16:10)}return ah(n)||e}const l0={}.hasOwnProperty;function KN(e,t,n){return typeof t!="string"&&(n=t,t=void 0),GN(n)(WN(BN(n).document().write(HN()(e,t,!0))))}function GN(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Vn),autolinkProtocol:K,autolinkEmail:K,atxHeading:l(fn),blockQuote:l(ce),characterEscape:K,characterReference:K,codeFenced:l(ze),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:l(ze,a),codeText:l(st,a),codeTextData:K,data:K,codeFlowValue:K,definition:l(vt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:l(Mt),hardBreakEscape:l(hn),hardBreakTrailing:l(hn),htmlFlow:l(lr,a),htmlFlowData:K,htmlText:l(lr,a),htmlTextData:K,image:l(ui),label:a,link:l(Vn),listItem:l(nn),listItemValue:y,listOrdered:l(St,m),listUnordered:l(St),paragraph:l(qn),reference:j,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:l(fn),strong:l(ci),thematicBreak:l(Ui)},exit:{atxHeading:d(),atxHeadingSequence:Y,autolink:d(),autolinkEmail:we,autolinkProtocol:ge,blockQuote:d(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:ue,characterReference:be,codeFenced:d(_),codeFencedFence:b,codeFencedFenceInfo:v,codeFencedFenceMeta:k,codeFlowValue:L,codeIndented:d(N),codeText:d(M),codeTextData:L,data:L,definition:d(),definitionDestinationString:U,definitionLabelString:I,definitionTitleString:A,emphasis:d(),hardBreakEscape:d(Z),hardBreakTrailing:d(Z),htmlFlow:d(X),htmlFlowData:L,htmlText:d(T),htmlTextData:L,image:d(D),label:W,labelText:F,lineEnding:V,link:d(P),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ae,resourceDestinationString:C,resourceTitleString:R,resource:H,setextHeading:d(te),setextHeadingLineSequence:J,setextHeadingText:$,strong:d(),thematicBreak:d()}};a0(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ee){let oe={type:"root",children:[]};const xe={stack:[oe],tokenStack:[],config:t,enter:c,exit:f,buffer:a,resume:p,data:n},je=[];let Re=-1;for(;++Re<ee.length;)if(ee[Re][1].type==="listOrdered"||ee[Re][1].type==="listUnordered")if(ee[Re][0]==="enter")je.push(Re);else{const We=je.pop();Re=s(ee,We,Re)}for(Re=-1;++Re<ee.length;){const We=t[ee[Re][0]];l0.call(We,ee[Re][1].type)&&We[ee[Re][1].type].call(Object.assign({sliceSerialize:ee[Re][2].sliceSerialize},xe),ee[Re][1])}if(xe.tokenStack.length>0){const We=xe.tokenStack[xe.tokenStack.length-1];(We[1]||Dv).call(xe,void 0,We[0])}for(oe.position={start:Kr(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Kr(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<t.transforms.length;)oe=t.transforms[Re](oe)||oe;return oe}function s(ee,oe,xe){let je=oe-1,Re=-1,We=!1,pn,Bt,Yn,Tn;for(;++je<=xe;){const at=ee[je];switch(at[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{at[0]==="enter"?Re++:Re--,Tn=void 0;break}case"lineEndingBlank":{at[0]==="enter"&&(pn&&!Tn&&!Re&&!Yn&&(Yn=je),Tn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tn=void 0}if(!Re&&at[0]==="enter"&&at[1].type==="listItemPrefix"||Re===-1&&at[0]==="exit"&&(at[1].type==="listUnordered"||at[1].type==="listOrdered")){if(pn){let mn=je;for(Bt=void 0;mn--;){const Ct=ee[mn];if(Ct[1].type==="lineEnding"||Ct[1].type==="lineEndingBlank"){if(Ct[0]==="exit")continue;Bt&&(ee[Bt][1].type="lineEndingBlank",We=!0),Ct[1].type="lineEnding",Bt=mn}else if(!(Ct[1].type==="linePrefix"||Ct[1].type==="blockQuotePrefix"||Ct[1].type==="blockQuotePrefixWhitespace"||Ct[1].type==="blockQuoteMarker"||Ct[1].type==="listItemIndent"))break}Yn&&(!Bt||Yn<Bt)&&(pn._spread=!0),pn.end=Object.assign({},Bt?ee[Bt][1].start:at[1].end),ee.splice(Bt||je,0,["exit",pn,at[2]]),je++,xe++}if(at[1].type==="listItemPrefix"){const mn={type:"listItem",_spread:!1,start:Object.assign({},at[1].start),end:void 0};pn=mn,ee.splice(je,0,["enter",mn,at[2]]),je++,xe++,Yn=void 0,Tn=!0}}}return ee[oe][1]._spread=We,xe}function l(ee,oe){return xe;function xe(je){c.call(this,ee(je),je),oe&&oe.call(this,je)}}function a(){this.stack.push({type:"fragment",children:[]})}function c(ee,oe,xe){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([oe,xe||void 0]),ee.position={start:Kr(oe.start),end:void 0}}function d(ee){return oe;function oe(xe){ee&&ee.call(this,xe),f.call(this,xe)}}function f(ee,oe){const xe=this.stack.pop(),je=this.tokenStack.pop();if(je)je[0].type!==ee.type&&(oe?oe.call(this,ee,je[0]):(je[1]||Dv).call(this,ee,je[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Bo({start:ee.start,end:ee.end})+"): it’s not open");xe.position.end=Kr(ee.end)}function p(){return lh(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(ee){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=ee}function k(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=ee}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee.replace(/(\r?\n|\r)$/g,"")}function I(ee){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.label=oe,xe.identifier=Wn(this.sliceSerialize(ee)).toLowerCase()}function A(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ee}function U(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ee}function Y(ee){const oe=this.stack[this.stack.length-1];if(!oe.depth){const xe=this.sliceSerialize(ee).length;oe.depth=xe}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function J(ee){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function te(){this.data.setextHeadingSlurpLineEnding=void 0}function K(ee){const xe=this.stack[this.stack.length-1].children;let je=xe[xe.length-1];(!je||je.type!=="text")&&(je=di(),je.position={start:Kr(ee.start),end:void 0},xe.push(je)),this.stack.push(je)}function L(ee){const oe=this.stack.pop();oe.value+=this.sliceSerialize(ee),oe.position.end=Kr(ee.end)}function V(ee){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=oe.children[oe.children.length-1];xe.position.end=Kr(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(K.call(this,ee),L.call(this,ee))}function Z(){this.data.atHardBreak=!0}function X(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee}function T(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee}function M(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee}function P(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=oe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function D(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=oe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function F(ee){const oe=this.sliceSerialize(ee),xe=this.stack[this.stack.length-2];xe.label=qN(oe),xe.identifier=Wn(oe).toLowerCase()}function W(){const ee=this.stack[this.stack.length-1],oe=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const je=ee.children;xe.children=je}else xe.alt=oe}function C(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ee}function R(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ee}function H(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function ae(ee){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.label=oe,xe.identifier=Wn(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function fe(ee){this.data.characterReferenceType=ee.type}function ue(ee){const oe=this.sliceSerialize(ee),xe=this.data.characterReferenceType;let je;xe?(je=Qw(oe,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):je=ah(oe);const Re=this.stack[this.stack.length-1];Re.value+=je}function be(ee){const oe=this.stack.pop();oe.position.end=Kr(ee.end)}function ge(ee){L.call(this,ee);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(ee)}function we(ee){L.call(this,ee);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(ee)}function ce(){return{type:"blockquote",children:[]}}function ze(){return{type:"code",lang:null,meta:null,value:""}}function st(){return{type:"inlineCode",value:""}}function vt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Mt(){return{type:"emphasis",children:[]}}function fn(){return{type:"heading",depth:0,children:[]}}function hn(){return{type:"break"}}function lr(){return{type:"html",value:""}}function ui(){return{type:"image",title:null,url:"",alt:null}}function Vn(){return{type:"link",title:null,url:"",children:[]}}function St(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function nn(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function qn(){return{type:"paragraph",children:[]}}function ci(){return{type:"strong",children:[]}}function di(){return{type:"text",value:""}}function Ui(){return{type:"thematicBreak"}}}function Kr(e){return{line:e.line,column:e.column,offset:e.offset}}function a0(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?a0(e,r):JN(e,r)}}function JN(e,t){let n;for(n in t)if(l0.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Dv(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Bo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Bo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Bo({start:t.start,end:t.end})+") is still open")}function QN(e){const t=this;t.parser=n;function n(r){return KN(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function XN(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function ZN(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function eA(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function tA(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nA(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rA(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=zs(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let a,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=l+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function iA(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sA(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function u0(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function oA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return u0(e,t);const s={src:zs(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const l={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,l),e.applyData(t,l)}function lA(e,t){const n={src:zs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function aA(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function uA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return u0(e,t);const s={href:zs(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const l={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function cA(e,t){const n={href:zs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dA(e,t,n){const r=e.all(t),s=n?fA(n):c0(t),l={},a=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(s||c!==0||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?a.push(...p.children):a.push(p)}const d=r[r.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:l,children:a};return e.patch(t,f),e.applyData(t,f)}function fA(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=c0(n[r])}return t}function c0(e){const t=e.spread;return t??e.children.length>1}function hA(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function pA(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mA(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function gA(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vA(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=rh(t.children[1]),d=Ww(t.children[t.children.length-1]);c&&d&&(a.position={start:c,end:d}),s.push(a)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,l),e.applyData(t,l)}function yA(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,c=a?a.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const m=t.children[d],y={},v=a?a[d]:void 0;v&&(y.align=v);let k={type:"element",tagName:l,properties:y,children:[]};m&&(k.children=e.all(m),e.patch(m,k),k=e.applyData(m,k)),f.push(k)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function wA(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Lv=9,Mv=32;function xA(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const l=[];for(;r;)l.push($v(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return l.push($v(t.slice(s),s>0,!1)),l.join("")}function $v(e,t,n){let r=0,s=e.length;if(t){let l=e.codePointAt(r);for(;l===Lv||l===Mv;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(s-1);for(;l===Lv||l===Mv;)s--,l=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function bA(e,t){const n={type:"text",value:xA(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function kA(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const SA={blockquote:XN,break:ZN,code:eA,delete:tA,emphasis:nA,footnoteReference:rA,heading:iA,html:sA,imageReference:oA,image:lA,inlineCode:aA,linkReference:uA,link:cA,listItem:dA,list:hA,paragraph:pA,root:mA,strong:gA,table:vA,tableCell:wA,tableRow:yA,text:bA,thematicBreak:kA,toml:Na,yaml:Na,definition:Na,footnoteDefinition:Na};function Na(){}const d0=-1,ku=0,Ho=1,Qa=2,ch=3,dh=4,fh=5,hh=6,f0=7,h0=8,Fv=typeof self=="object"?self:globalThis,_A=(e,t)=>{const n=(s,l)=>(e.set(l,s),s),r=s=>{if(e.has(s))return e.get(s);const[l,a]=t[s];switch(l){case ku:case d0:return n(a,s);case Ho:{const c=n([],s);for(const d of a)c.push(r(d));return c}case Qa:{const c=n({},s);for(const[d,f]of a)c[r(d)]=r(f);return c}case ch:return n(new Date(a),s);case dh:{const{source:c,flags:d}=a;return n(new RegExp(c,d),s)}case fh:{const c=n(new Map,s);for(const[d,f]of a)c.set(r(d),r(f));return c}case hh:{const c=n(new Set,s);for(const d of a)c.add(r(d));return c}case f0:{const{name:c,message:d}=a;return n(new Fv[c](d),s)}case h0:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:c}=new Uint8Array(a);return n(new DataView(c),a)}}return n(new Fv[l](a),s)};return r},zv=e=>_A(new Map,e)(0),ks="",{toString:EA}={},{keys:CA}=Object,Io=e=>{const t=typeof e;if(t!=="object"||!e)return[ku,t];const n=EA.call(e).slice(8,-1);switch(n){case"Array":return[Ho,ks];case"Object":return[Qa,ks];case"Date":return[ch,ks];case"RegExp":return[dh,ks];case"Map":return[fh,ks];case"Set":return[hh,ks];case"DataView":return[Ho,n]}return n.includes("Array")?[Ho,n]:n.includes("Error")?[f0,n]:[Qa,n]},Aa=([e,t])=>e===ku&&(t==="function"||t==="symbol"),jA=(e,t,n,r)=>{const s=(a,c)=>{const d=r.push(a)-1;return n.set(c,d),d},l=a=>{if(n.has(a))return n.get(a);let[c,d]=Io(a);switch(c){case ku:{let p=a;switch(d){case"bigint":c=h0,p=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return s([d0],a)}return s([c,p],a)}case Ho:{if(d){let y=a;return d==="DataView"?y=new Uint8Array(a.buffer):d==="ArrayBuffer"&&(y=new Uint8Array(a)),s([d,[...y]],a)}const p=[],m=s([c,p],a);for(const y of a)p.push(l(y));return m}case Qa:{if(d)switch(d){case"BigInt":return s([d,a.toString()],a);case"Boolean":case"Number":case"String":return s([d,a.valueOf()],a)}if(t&&"toJSON"in a)return l(a.toJSON());const p=[],m=s([c,p],a);for(const y of CA(a))(e||!Aa(Io(a[y])))&&p.push([l(y),l(a[y])]);return m}case ch:return s([c,a.toISOString()],a);case dh:{const{source:p,flags:m}=a;return s([c,{source:p,flags:m}],a)}case fh:{const p=[],m=s([c,p],a);for(const[y,v]of a)(e||!(Aa(Io(y))||Aa(Io(v))))&&p.push([l(y),l(v)]);return m}case hh:{const p=[],m=s([c,p],a);for(const y of a)(e||!Aa(Io(y)))&&p.push(l(y));return m}}const{message:f}=a;return s([c,{name:d,message:f}],a)};return l},Uv=(e,{json:t,lossy:n}={})=>{const r=[];return jA(!(t||n),!!t,new Map,r)(e),r},Xa=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?zv(Uv(e,t)):structuredClone(e):(e,t)=>zv(Uv(e,t));function TA(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function NA(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function AA(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||TA,r=e.options.footnoteBackLabel||NA,s=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),y=zs(m.toLowerCase());let v=0;const k=[],b=e.footnoteCounts.get(m);for(;b!==void 0&&++v<=b;){k.length>0&&k.push({type:"text",value:" "});let I=typeof n=="string"?n:n(d,v);typeof I=="string"&&(I={type:"text",value:I}),k.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,v),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const _=p[p.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const I=_.children[_.children.length-1];I&&I.type==="text"?I.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...k)}else p.push(...k);const N={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:e.wrap(p,!0)};e.patch(f,N),c.push(N)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Xa(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const Su=(function(e){if(e==null)return OA;if(typeof e=="function")return _u(e);if(typeof e=="object")return Array.isArray(e)?IA(e):PA(e);if(typeof e=="string")return RA(e);throw new Error("Expected function, string, or object as test")});function IA(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Su(e[n]);return _u(r);function r(...s){let l=-1;for(;++l<t.length;)if(t[l].apply(this,s))return!0;return!1}}function PA(e){const t=e;return _u(n);function n(r){const s=r;let l;for(l in e)if(s[l]!==t[l])return!1;return!0}}function RA(e){return _u(t);function t(n){return n&&n.type===e}}function _u(e){return t;function t(n,r,s){return!!(DA(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function OA(){return!0}function DA(e){return e!==null&&typeof e=="object"&&"type"in e}const p0=[],LA=!0,Af=!1,MA="skip";function m0(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const l=Su(s),a=r?-1:1;c(e,void 0,[])();function c(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const v=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(d.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=p0,k,b,_;if((!t||l(d,f,p[p.length-1]||void 0))&&(v=$A(n(d,p)),v[0]===Af))return v;if("children"in d&&d.children){const N=d;if(N.children&&v[0]!==MA)for(b=(r?N.children.length:-1)+a,_=p.concat(N);b>-1&&b<N.children.length;){const I=N.children[b];if(k=c(I,b,_)(),k[0]===Af)return k;b=typeof k[1]=="number"?k[1]:b+a}}return v}}}function $A(e){return Array.isArray(e)?e:typeof e=="number"?[LA,e]:e==null?p0:[e]}function ph(e,t,n,r){let s,l,a;typeof t=="function"&&typeof n!="function"?(l=void 0,a=t,s=n):(l=t,a=n,s=r),m0(e,l,c,s);function c(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return a(d,m,p)}}const If={}.hasOwnProperty,FA={};function zA(e,t){const n=t||FA,r=new Map,s=new Map,l=new Map,a={...SA,...n.handlers},c={all:f,applyData:BA,definitionById:r,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:a,one:d,options:n,patch:UA,wrap:HA};return ph(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:s,y=String(p.identifier).toUpperCase();m.has(y)||m.set(y,p)}}),c;function d(p,m){const y=p.type,v=c.handlers[y];if(If.call(c.handlers,y)&&v)return v(c,p,m);if(c.options.passThrough&&c.options.passThrough.includes(y)){if("children"in p){const{children:b,..._}=p,N=Xa(_);return N.children=c.all(p),N}return Xa(p)}return(c.options.unknownHandler||WA)(c,p,m)}function f(p){const m=[];if("children"in p){const y=p.children;let v=-1;for(;++v<y.length;){const k=c.one(y[v],p);if(k){if(v&&y[v-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=Bv(k.value)),!Array.isArray(k)&&k.type==="element")){const b=k.children[0];b&&b.type==="text"&&(b.value=Bv(b.value))}Array.isArray(k)?m.push(...k):m.push(k)}}}return m}}function UA(e,t){e.position&&(t.position=Nj(e))}function BA(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&l&&Object.assign(n.properties,Xa(l)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function WA(e,t){const n=t.data||{},r="value"in t&&!(If.call(n,"hProperties")||If.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function HA(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Bv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Wv(e,t){const n=zA(e,t),r=n.one(e,void 0),s=AA(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function VA(e,t){return e&&"run"in e?async function(n,r){const s=Wv(n,{file:r,...t});await e.run(s,r)}:function(n,r){return Wv(n,{file:r,...e||t})}}function Hv(e){if(e)throw e}var Rd,Vv;function qA(){if(Vv)return Rd;Vv=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},l=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var y;for(y in f);return typeof y>"u"||e.call(f,y)},a=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},c=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return Rd=function d(){var f,p,m,y,v,k,b=arguments[0],_=1,N=arguments.length,I=!1;for(typeof b=="boolean"&&(I=b,b=arguments[1]||{},_=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});_<N;++_)if(f=arguments[_],f!=null)for(p in f)m=c(b,p),y=c(f,p),b!==y&&(I&&y&&(l(y)||(v=s(y)))?(v?(v=!1,k=m&&s(m)?m:[]):k=m&&l(m)?m:{},a(b,{name:p,newValue:d(I,k,y)})):typeof y<"u"&&a(b,{name:p,newValue:y}));return b},Rd}var YA=qA();const Od=Ds(YA);function Pf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function KA(){const e=[],t={run:n,use:r};return t;function n(...s){let l=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);c(null,...s);function c(d,...f){const p=e[++l];let m=-1;if(d){a(d);return}for(;++m<s.length;)(f[m]===null||f[m]===void 0)&&(f[m]=s[m]);s=f,p?GA(p,c)(...f):a(null,...f)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function GA(e,t){let n;return r;function r(...a){const c=e.length>a.length;let d;c&&a.push(s);try{d=e.apply(this,a)}catch(f){const p=f;if(c&&n)throw p;return s(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(l,s):d instanceof Error?s(d):l(d))}function s(a,...c){n||(n=!0,t(a,...c))}function l(a){s(null,a)}}const nr={basename:JA,dirname:QA,extname:XA,join:ZA,sep:"/"};function JA(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');dl(e);let n=0,r=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else r<0&&(l=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,c=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else a<0&&(l=!0,a=s+1),c>-1&&(e.codePointAt(s)===t.codePointAt(c--)?c<0&&(r=s):(c=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function QA(e){if(dl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function XA(e){dl(e);let t=e.length,n=-1,r=0,s=-1,l=0,a;for(;t--;){const c=e.codePointAt(t);if(c===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),c===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function ZA(...e){let t=-1,n;for(;++t<e.length;)dl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":eI(n)}function eI(e){dl(e);const t=e.codePointAt(0)===47;let n=tI(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function tI(e,t){let n="",r=0,s=-1,l=0,a=-1,c,d;for(;++a<=e.length;){if(a<e.length)c=e.codePointAt(a);else{if(c===47)break;c=47}if(c===47){if(!(s===a-1||l===1))if(s!==a-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=a,l=0;continue}}else if(n.length>0){n="",r=0,s=a,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,l=0}else c===46&&l>-1?l++:l=-1}return n}function dl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const nI={cwd:rI};function rI(){return"/"}function Rf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function iI(e){if(typeof e=="string")e=new URL(e);else if(!Rf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return sI(e)}function sI(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Dd=["history","path","basename","stem","extname","dirname"];class g0{constructor(t){let n;t?Rf(t)?n={path:t}:typeof t=="string"||oI(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":nI.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Dd.length;){const l=Dd[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)Dd.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?nr.basename(this.path):void 0}set basename(t){Md(t,"basename"),Ld(t,"basename"),this.path=nr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?nr.dirname(this.path):void 0}set dirname(t){qv(this.basename,"dirname"),this.path=nr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?nr.extname(this.path):void 0}set extname(t){if(Ld(t,"extname"),qv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Rf(t)&&(t=iI(t)),Md(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?nr.basename(this.path,this.extname):void 0}set stem(t){Md(t,"stem"),Ld(t,"stem"),this.path=nr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Lt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ld(e,t){if(e&&e.includes(nr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+nr.sep+"`")}function Md(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function qv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function oI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lI=(function(e){const r=this.constructor.prototype,s=r[e],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),aI={}.hasOwnProperty;class mh extends lI{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=KA()}copy(){const t=new mh;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Od(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(zd("data",this.frozen),this.namespace[t]=n,this):aI.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ia(t),r=this.parser||this.Parser;return $d("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),$d("process",this.parser||this.Parser),Fd("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(l,a){const c=Ia(t),d=r.parse(c);r.run(d,c,function(p,m,y){if(p||!m||!y)return f(p);const v=m,k=r.stringify(v,y);dI(k)?y.value=k:y.result=k,f(p,y)});function f(p,m){p||!m?a(p):l?l(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),$d("processSync",this.parser||this.Parser),Fd("processSync",this.compiler||this.Compiler),this.process(t,s),Kv("processSync","process",n),r;function s(l,a){n=!0,Hv(l),r=a}}run(t,n,r){Yv(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(a,c){const d=Ia(n);s.run(t,d,f);function f(p,m,y){const v=m||t;p?c(p):a?a(v):r(void 0,v,y)}}}runSync(t,n){let r=!1,s;return this.run(t,n,l),Kv("runSync","run",r),s;function l(a,c){Hv(a),s=c,r=!0}}stringify(t,n){this.freeze();const r=Ia(n),s=this.compiler||this.Compiler;return Fd("stringify",s),Yv(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(zd("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(s.settings=Od(!0,s.settings,f.settings))}function c(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];l(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,y=-1;for(;++m<r.length;)if(r[m][0]===f){y=m;break}if(y===-1)r.push([f,...p]);else if(p.length>0){let[v,...k]=p;const b=r[y][1];Pf(b)&&Pf(v)&&(v=Od(!0,b,v)),r[y]=[f,v,...k]}}}}const uI=new mh().freeze();function $d(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Fd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Yv(e){if(!Pf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Kv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ia(e){return cI(e)?e:new g0(e)}function cI(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function dI(e){return typeof e=="string"||fI(e)}function fI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const hI="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gv=[],Jv={allowDangerousHtml:!0},pI=/^(https?|ircs?|mailto|xmpp)$/i,mI=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gI(e){const t=vI(e),n=yI(e);return wI(t.runSync(t.parse(n),n),e)}function vI(e){const t=e.rehypePlugins||Gv,n=e.remarkPlugins||Gv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Jv}:Jv;return uI().use(QN).use(n).use(VA,r).use(t)}function yI(e){const t=e.children||"",n=new g0;return typeof t=="string"&&(n.value=t),n}function wI(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,l=t.disallowedElements,a=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||xI;for(const p of mI)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+hI+p.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),ph(e,f),Oj(e,{Fragment:x.Fragment,components:s,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function f(p,m,y){if(p.type==="raw"&&y&&typeof m=="number")return a?y.children.splice(m,1):y.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let v;for(v in Ad)if(Object.hasOwn(Ad,v)&&Object.hasOwn(p.properties,v)){const k=p.properties[v],b=Ad[v];(b===null||b.includes(p.tagName))&&(p.properties[v]=d(String(k||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):l?l.includes(p.tagName):!1;if(!v&&r&&typeof m=="number"&&(v=!r(p,m,y)),v&&y&&typeof m=="number")return c&&p.children?y.children.splice(m,1,...p.children):y.children.splice(m,1),m}}}function xI(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||pI.test(e.slice(0,t))?e:""}function Qv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function bI(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function kI(e,t,n){const s=Su((n||{}).ignore||[]),l=SI(t);let a=-1;for(;++a<l.length;)m0(e,"text",c);function c(f,p){let m=-1,y;for(;++m<p.length;){const v=p[m],k=y?y.children:void 0;if(s(v,k?k.indexOf(v):void 0,y))return;y=v}if(y)return d(f,p)}function d(f,p){const m=p[p.length-1],y=l[a][0],v=l[a][1];let k=0;const _=m.children.indexOf(f);let N=!1,I=[];y.lastIndex=0;let A=y.exec(f.value);for(;A;){const U=A.index,Y={index:A.index,input:A.input,stack:[...p,f]};let $=v(...A,Y);if(typeof $=="string"&&($=$.length>0?{type:"text",value:$}:void 0),$===!1?y.lastIndex=U+1:(k!==U&&I.push({type:"text",value:f.value.slice(k,U)}),Array.isArray($)?I.push(...$):$&&I.push($),k=U+A[0].length,N=!0),!y.global)break;A=y.exec(f.value)}return N?(k<f.value.length&&I.push({type:"text",value:f.value.slice(k)}),m.children.splice(_,1,...I)):I=[f],_+I.length}}function SI(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([_I(s[0]),EI(s[1])])}return t}function _I(e){return typeof e=="string"?new RegExp(bI(e),"g"):e}function EI(e){return typeof e=="function"?e:function(){return e}}const Ud="phrasing",Bd=["autolink","link","image","label"];function CI(){return{transforms:[RI],enter:{literalAutolink:TI,literalAutolinkEmail:Wd,literalAutolinkHttp:Wd,literalAutolinkWww:Wd},exit:{literalAutolink:PI,literalAutolinkEmail:II,literalAutolinkHttp:NI,literalAutolinkWww:AI}}}function jI(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ud,notInConstruct:Bd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ud,notInConstruct:Bd},{character:":",before:"[ps]",after:"\\/",inConstruct:Ud,notInConstruct:Bd}]}}function TI(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Wd(e){this.config.enter.autolinkProtocol.call(this,e)}function NI(e){this.config.exit.autolinkProtocol.call(this,e)}function AI(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function II(e){this.config.exit.autolinkEmail.call(this,e)}function PI(e){this.exit(e)}function RI(e){kI(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,OI],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),DI]],{ignore:["link","linkReference"]})}function OI(e,t,n,r,s){let l="";if(!v0(s)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!LI(n)))return!1;const a=MI(n+r);if(!a[0])return!1;const c={type:"link",title:null,url:l+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[c,{type:"text",value:a[1]}]:c}function DI(e,t,n,r){return!v0(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function LI(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function MI(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=Qv(e,"(");let l=Qv(e,")");for(;r!==-1&&s>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function v0(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Mi(n)||xu(n))&&(!t||n!==47)}y0.peek=qI;function $I(){this.buffer()}function FI(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function zI(){this.buffer()}function UI(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function BI(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function WI(e){this.exit(e)}function HI(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function VI(e){this.exit(e)}function qI(){return"["}function y0(e,t,n,r){const s=n.createTracker(r);let l=s.move("[^");const a=n.enter("footnoteReference"),c=n.enter("reference");return l+=s.move(n.safe(n.associationId(e),{after:"]",before:l})),c(),a(),l+=s.move("]"),l}function YI(){return{enter:{gfmFootnoteCallString:$I,gfmFootnoteCall:FI,gfmFootnoteDefinitionLabelString:zI,gfmFootnoteDefinition:UI},exit:{gfmFootnoteCallString:BI,gfmFootnoteCall:WI,gfmFootnoteDefinitionLabelString:HI,gfmFootnoteDefinition:VI}}}function KI(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:y0},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,l,a){const c=l.createTracker(a);let d=c.move("[^");const f=l.enter("footnoteDefinition"),p=l.enter("label");return d+=c.move(l.safe(l.associationId(r),{before:d,after:"]"})),p(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,c.current()),t?w0:GI))),f(),d}}function GI(e,t,n){return t===0?e:w0(e,t,n)}function w0(e,t,n){return(n?"":"    ")+e}const JI=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];x0.peek=tP;function QI(){return{canContainEols:["delete"],enter:{strikethrough:ZI},exit:{strikethrough:eP}}}function XI(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:JI}],handlers:{delete:x0}}}function ZI(e){this.enter({type:"delete",children:[]},e)}function eP(e){this.exit(e)}function x0(e,t,n,r){const s=n.createTracker(r),l=n.enter("strikethrough");let a=s.move("~~");return a+=n.containerPhrasing(e,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),l(),a}function tP(){return"~"}function nP(e){return e.length}function rP(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||nP,l=[],a=[],c=[],d=[];let f=0,p=-1;for(;++p<e.length;){const b=[],_=[];let N=-1;for(e[p].length>f&&(f=e[p].length);++N<e[p].length;){const I=iP(e[p][N]);if(n.alignDelimiters!==!1){const A=s(I);_[N]=A,(d[N]===void 0||A>d[N])&&(d[N]=A)}b.push(I)}a[p]=b,c[p]=_}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<f;)l[m]=Xv(r[m]);else{const b=Xv(r);for(;++m<f;)l[m]=b}m=-1;const y=[],v=[];for(;++m<f;){const b=l[m];let _="",N="";b===99?(_=":",N=":"):b===108?_=":":b===114&&(N=":");let I=n.alignDelimiters===!1?1:Math.max(1,d[m]-_.length-N.length);const A=_+"-".repeat(I)+N;n.alignDelimiters!==!1&&(I=_.length+I+N.length,I>d[m]&&(d[m]=I),v[m]=I),y[m]=A}a.splice(1,0,y),c.splice(1,0,v),p=-1;const k=[];for(;++p<a.length;){const b=a[p],_=c[p];m=-1;const N=[];for(;++m<f;){const I=b[m]||"";let A="",U="";if(n.alignDelimiters!==!1){const Y=d[m]-(_[m]||0),$=l[m];$===114?A=" ".repeat(Y):$===99?Y%2?(A=" ".repeat(Y/2+.5),U=" ".repeat(Y/2-.5)):(A=" ".repeat(Y/2),U=A):U=" ".repeat(Y)}n.delimiterStart!==!1&&!m&&N.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&I==="")&&(n.delimiterStart!==!1||m)&&N.push(" "),n.alignDelimiters!==!1&&N.push(A),N.push(I),n.alignDelimiters!==!1&&N.push(U),n.padding!==!1&&N.push(" "),(n.delimiterEnd!==!1||m!==f-1)&&N.push("|")}k.push(n.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return k.join(`
`)}function iP(e){return e==null?"":String(e)}function Xv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function sP(e,t,n,r){const s=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const a=n.indentLines(n.containerFlow(e,l.current()),oP);return s(),a}function oP(e,t,n){return">"+(n?"":" ")+e}function lP(e,t){return Zv(e,t.inConstruct,!0)&&!Zv(e,t.notInConstruct,!1)}function Zv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ey(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&lP(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function aP(e,t){const n=String(e);let r=n.indexOf(t),s=r,l=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++l>a&&(a=l):l=1,s=r+t.length,r=n.indexOf(t,s);return a}function uP(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function cP(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function dP(e,t,n,r){const s=cP(n),l=e.value||"",a=s==="`"?"GraveAccent":"Tilde";if(uP(e,n)){const m=n.enter("codeIndented"),y=n.indentLines(l,fP);return m(),y}const c=n.createTracker(r),d=s.repeat(Math.max(aP(l,s)+1,3)),f=n.enter("codeFenced");let p=c.move(d);if(e.lang){const m=n.enter(`codeFencedLang${a}`);p+=c.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...c.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${a}`);p+=c.move(" "),p+=c.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...c.current()})),m()}return p+=c.move(`
`),l&&(p+=c.move(l+`
`)),p+=c.move(d),f(),p}function fP(e,t,n){return(n?"":"    ")+e}function gh(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function hP(e,t,n,r){const s=gh(n),l=s==='"'?"Quote":"Apostrophe",a=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${l}`),f+=d.move(" "+s),f+=d.move(n.safe(e.title,{before:f,after:s,...d.current()})),f+=d.move(s),c()),a(),f}function pP(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Zo(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Za(e,t,n){const r=Os(e),s=Os(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}b0.peek=mP;function b0(e,t,n,r){const s=pP(n),l=n.enter("emphasis"),a=n.createTracker(r),c=a.move(s);let d=a.move(n.containerPhrasing(e,{after:s,before:c,...a.current()}));const f=d.charCodeAt(0),p=Za(r.before.charCodeAt(r.before.length-1),f,s);p.inside&&(d=Zo(f)+d.slice(1));const m=d.charCodeAt(d.length-1),y=Za(r.after.charCodeAt(0),m,s);y.inside&&(d=d.slice(0,-1)+Zo(m));const v=a.move(s);return l(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+v}function mP(e,t,n){return n.options.emphasis||"*"}function gP(e,t){let n=!1;return ph(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Af}),!!((!e.depth||e.depth<3)&&lh(e)&&(t.options.setext||n))}function vP(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(gP(e,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),y=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return m(),p(),y+`
`+(s===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const a="#".repeat(s),c=n.enter("headingAtx"),d=n.enter("phrasing");l.move(a+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(f)&&(f=Zo(f.charCodeAt(0))+f.slice(1)),f=f?a+" "+f:a,n.options.closeAtx&&(f+=" "+a),d(),c(),f}k0.peek=yP;function k0(e){return e.value||""}function yP(){return"<"}S0.peek=wP;function S0(e,t,n,r){const s=gh(n),l=s==='"'?"Quote":"Apostrophe",a=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${l}`),f+=d.move(" "+s),f+=d.move(n.safe(e.title,{before:f,after:s,...d.current()})),f+=d.move(s),c()),f+=d.move(")"),a(),f}function wP(){return"!"}_0.peek=xP;function _0(e,t,n,r){const s=e.referenceType,l=n.enter("imageReference");let a=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),a();const p=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return a(),n.stack=p,l(),s==="full"||!f||f!==m?d+=c.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function xP(){return"!"}E0.peek=bP;function E0(e,t,n){let r=e.value||"",s="`",l=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const a=n.unsafe[l],c=n.compilePattern(a);let d;if(a.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return s+r+s}function bP(){return"`"}function C0(e,t){const n=lh(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}j0.peek=kP;function j0(e,t,n,r){const s=gh(n),l=s==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let c,d;if(C0(e,n)){const p=n.stack;n.stack=[],c=n.enter("autolink");let m=a.move("<");return m+=a.move(n.containerPhrasing(e,{before:m,after:">",...a.current()})),m+=a.move(">"),c(),n.stack=p,m}c=n.enter("link"),d=n.enter("label");let f=a.move("[");return f+=a.move(n.containerPhrasing(e,{before:f,after:"](",...a.current()})),f+=a.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=a.move("<"),f+=a.move(n.safe(e.url,{before:f,after:">",...a.current()})),f+=a.move(">")):(d=n.enter("destinationRaw"),f+=a.move(n.safe(e.url,{before:f,after:e.title?" ":")",...a.current()}))),d(),e.title&&(d=n.enter(`title${l}`),f+=a.move(" "+s),f+=a.move(n.safe(e.title,{before:f,after:s,...a.current()})),f+=a.move(s),d()),f+=a.move(")"),c(),f}function kP(e,t,n){return C0(e,n)?"<":"["}T0.peek=SP;function T0(e,t,n,r){const s=e.referenceType,l=n.enter("linkReference");let a=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),a();const p=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return a(),n.stack=p,l(),s==="full"||!f||f!==m?d+=c.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function SP(){return"["}function vh(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function _P(e){const t=vh(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function EP(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function N0(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function CP(e,t,n,r){const s=n.enter("list"),l=n.bulletCurrent;let a=e.ordered?EP(n):vh(n);const c=e.ordered?a==="."?")":".":_P(n);let d=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),N0(n)===a&&p){let m=-1;for(;++m<e.children.length;){const y=e.children[m];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(a=c),n.bulletCurrent=a;const f=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=l,s(),f}function jP(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function TP(e,t,n,r){const s=jP(n);let l=n.bulletCurrent||vh(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let a=l.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const c=n.createTracker(r);c.move(l+" ".repeat(a-l.length)),c.shift(a);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),p);return d(),f;function p(m,y,v){return y?(v?"":" ".repeat(a))+m:(v?l:l+" ".repeat(a-l.length))+m}}function NP(e,t,n,r){const s=n.enter("paragraph"),l=n.enter("phrasing"),a=n.containerPhrasing(e,r);return l(),s(),a}const AP=Su(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function IP(e,t,n,r){return(e.children.some(function(a){return AP(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function PP(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}A0.peek=RP;function A0(e,t,n,r){const s=PP(n),l=n.enter("strong"),a=n.createTracker(r),c=a.move(s+s);let d=a.move(n.containerPhrasing(e,{after:s,before:c,...a.current()}));const f=d.charCodeAt(0),p=Za(r.before.charCodeAt(r.before.length-1),f,s);p.inside&&(d=Zo(f)+d.slice(1));const m=d.charCodeAt(d.length-1),y=Za(r.after.charCodeAt(0),m,s);y.inside&&(d=d.slice(0,-1)+Zo(m));const v=a.move(s+s);return l(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+v}function RP(e,t,n){return n.options.strong||"*"}function OP(e,t,n,r){return n.safe(e.value,r)}function DP(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function LP(e,t,n){const r=(N0(n)+(n.options.ruleSpaces?" ":"")).repeat(DP(n));return n.options.ruleSpaces?r.slice(0,-1):r}const I0={blockquote:sP,break:ey,code:dP,definition:hP,emphasis:b0,hardBreak:ey,heading:vP,html:k0,image:S0,imageReference:_0,inlineCode:E0,link:j0,linkReference:T0,list:CP,listItem:TP,paragraph:NP,root:IP,strong:A0,text:OP,thematicBreak:LP};function MP(){return{enter:{table:$P,tableData:ty,tableHeader:ty,tableRow:zP},exit:{codeText:UP,table:FP,tableData:Hd,tableHeader:Hd,tableRow:Hd}}}function $P(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function FP(e){this.exit(e),this.data.inTable=void 0}function zP(e){this.enter({type:"tableRow",children:[]},e)}function Hd(e){this.exit(e)}function ty(e){this.enter({type:"tableCell",children:[]},e)}function UP(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,BP));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function BP(e,t){return t==="|"?t:e}function WP(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:a,tableCell:d,tableRow:c}};function a(v,k,b,_){return f(p(v,b,_),v.align)}function c(v,k,b,_){const N=m(v,b,_),I=f([N]);return I.slice(0,I.indexOf(`
`))}function d(v,k,b,_){const N=b.enter("tableCell"),I=b.enter("phrasing"),A=b.containerPhrasing(v,{..._,before:l,after:l});return I(),N(),A}function f(v,k){return rP(v,{align:k,alignDelimiters:r,padding:n,stringLength:s})}function p(v,k,b){const _=v.children;let N=-1;const I=[],A=k.enter("table");for(;++N<_.length;)I[N]=m(_[N],k,b);return A(),I}function m(v,k,b){const _=v.children;let N=-1;const I=[],A=k.enter("tableRow");for(;++N<_.length;)I[N]=d(_[N],v,k,b);return A(),I}function y(v,k,b){let _=I0.inlineCode(v,k,b);return b.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function HP(){return{exit:{taskListCheckValueChecked:ny,taskListCheckValueUnchecked:ny,paragraph:qP}}}function VP(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:YP}}}function ny(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function qP(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let l=-1,a;for(;++l<s.length;){const c=s[l];if(c.type==="paragraph"){a=c;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function YP(e,t,n,r){const s=e.children[0],l=typeof e.checked=="boolean"&&s&&s.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);l&&c.move(a);let d=I0.listItem(e,t,n,{...r,...c.current()});return l&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(p){return p+a}}function KP(){return[CI(),YI(),QI(),MP(),HP()]}function GP(e){return{extensions:[jI(),KI(e),XI(),WP(e),VP()]}}const JP={tokenize:nR,partial:!0},P0={tokenize:rR,partial:!0},R0={tokenize:iR,partial:!0},O0={tokenize:sR,partial:!0},QP={tokenize:oR,partial:!0},D0={name:"wwwAutolink",tokenize:eR,previous:M0},L0={name:"protocolAutolink",tokenize:tR,previous:$0},Cr={name:"emailAutolink",tokenize:ZP,previous:F0},or={};function XP(){return{text:or}}let ji=48;for(;ji<123;)or[ji]=Cr,ji++,ji===58?ji=65:ji===91&&(ji=97);or[43]=Cr;or[45]=Cr;or[46]=Cr;or[95]=Cr;or[72]=[Cr,L0];or[104]=[Cr,L0];or[87]=[Cr,D0];or[119]=[Cr,D0];function ZP(e,t,n){const r=this;let s,l;return a;function a(m){return!Of(m)||!F0.call(r,r.previous)||yh(r.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(m))}function c(m){return Of(m)?(e.consume(m),c):m===64?(e.consume(m),d):n(m)}function d(m){return m===46?e.check(QP,p,f)(m):m===45||m===95||Dt(m)?(l=!0,e.consume(m),d):p(m)}function f(m){return e.consume(m),s=!0,d}function p(m){return l&&s&&Ut(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function eR(e,t,n){const r=this;return s;function s(a){return a!==87&&a!==119||!M0.call(r,r.previous)||yh(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(JP,e.attempt(P0,e.attempt(R0,l),n),n)(a))}function l(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function tR(e,t,n){const r=this;let s="",l=!1;return a;function a(m){return(m===72||m===104)&&$0.call(r,r.previous)&&!yh(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(m),e.consume(m),c):n(m)}function c(m){if(Ut(m)&&s.length<5)return s+=String.fromCodePoint(m),e.consume(m),c;if(m===58){const y=s.toLowerCase();if(y==="http"||y==="https")return e.consume(m),d}return n(m)}function d(m){return m===47?(e.consume(m),l?f:(l=!0,d)):n(m)}function f(m){return m===null||Ja(m)||Be(m)||Mi(m)||xu(m)?n(m):e.attempt(P0,e.attempt(R0,p),n)(m)}function p(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function nR(e,t,n){let r=0;return s;function s(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),s):a===46&&r===3?(e.consume(a),l):n(a)}function l(a){return a===null?n(a):t(a)}}function rR(e,t,n){let r,s,l;return a;function a(f){return f===46||f===95?e.check(O0,d,c)(f):f===null||Be(f)||Mi(f)||f!==45&&xu(f)?d(f):(l=!0,e.consume(f),a)}function c(f){return f===95?r=!0:(s=r,r=void 0),e.consume(f),a}function d(f){return s||r||!l?n(f):t(f)}}function iR(e,t){let n=0,r=0;return s;function s(a){return a===40?(n++,e.consume(a),s):a===41&&r<n?l(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(O0,t,l)(a):a===null||Be(a)||Mi(a)?t(a):(e.consume(a),s)}function l(a){return a===41&&r++,e.consume(a),s}}function sR(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),l):c===93?(e.consume(c),s):c===60||c===null||Be(c)||Mi(c)?t(c):n(c)}function s(c){return c===null||c===40||c===91||Be(c)||Mi(c)?t(c):r(c)}function l(c){return Ut(c)?a(c):n(c)}function a(c){return c===59?(e.consume(c),r):Ut(c)?(e.consume(c),a):n(c)}}function oR(e,t,n){return r;function r(l){return e.consume(l),s}function s(l){return Dt(l)?n(l):t(l)}}function M0(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Be(e)}function $0(e){return!Ut(e)}function F0(e){return!(e===47||Of(e))}function Of(e){return e===43||e===45||e===46||e===95||Dt(e)}function yh(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const lR={tokenize:mR,partial:!0};function aR(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:fR,continuation:{tokenize:hR},exit:pR}},text:{91:{name:"gfmFootnoteCall",tokenize:dR},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:uR,resolveTo:cR}}}}function uR(e,t,n){const r=this;let s=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;s--;){const d=r.events[s][1];if(d.type==="labelImage"){a=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!a||!a._balanced)return n(d);const f=Wn(r.sliceSerialize({start:a.end,end:r.now()}));return f.codePointAt(0)!==94||!l.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function cR(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",l,t],["enter",a,t],["exit",a,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function dR(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,a;return c;function c(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),d}function d(m){return m!==94?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(m){if(l>999||m===93&&!a||m===null||m===91||Be(m))return n(m);if(m===93){e.exit("chunkString");const y=e.exit("gfmFootnoteCallString");return s.includes(Wn(r.sliceSerialize(y)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return Be(m)||(a=!0),l++,e.consume(m),m===92?p:f}function p(m){return m===91||m===92||m===93?(e.consume(m),l++,f):f(m)}}function fR(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,a=0,c;return d;function d(k){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(k){return k===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(k)}function p(k){if(a>999||k===93&&!c||k===null||k===91||Be(k))return n(k);if(k===93){e.exit("chunkString");const b=e.exit("gfmFootnoteDefinitionLabelString");return l=Wn(r.sliceSerialize(b)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),y}return Be(k)||(c=!0),a++,e.consume(k),k===92?m:p}function m(k){return k===91||k===92||k===93?(e.consume(k),a++,p):p(k)}function y(k){return k===58?(e.enter("definitionMarker"),e.consume(k),e.exit("definitionMarker"),s.includes(l)||s.push(l),Oe(e,v,"gfmFootnoteDefinitionWhitespace")):n(k)}function v(k){return t(k)}}function hR(e,t,n){return e.check(cl,t,e.attempt(lR,t,n))}function pR(e){e.exit("gfmFootnoteDefinition")}function mR(e,t,n){const r=this;return Oe(e,s,"gfmFootnoteDefinitionIndent",5);function s(l){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(l):n(l)}}function gR(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(a,c){let d=-1;for(;++d<a.length;)if(a[d][0]==="enter"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._close){let f=d;for(;f--;)if(a[f][0]==="exit"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._open&&a[d][1].end.offset-a[d][1].start.offset===a[f][1].end.offset-a[f][1].start.offset){a[d][1].type="strikethroughSequence",a[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},a[f][1].start),end:Object.assign({},a[d][1].end)},m={type:"strikethroughText",start:Object.assign({},a[f][1].end),end:Object.assign({},a[d][1].start)},y=[["enter",p,c],["enter",a[f][1],c],["exit",a[f][1],c],["enter",m,c]],v=c.parser.constructs.insideSpan.null;v&&dn(y,y.length,0,bu(v,a.slice(f+1,d),c)),dn(y,y.length,0,[["exit",m,c],["enter",a[d][1],c],["exit",a[d][1],c],["exit",p,c]]),dn(a,f-1,d-f+3,y),d=f+y.length-2;break}}for(d=-1;++d<a.length;)a[d][1].type==="strikethroughSequenceTemporary"&&(a[d][1].type="data");return a}function l(a,c,d){const f=this.previous,p=this.events;let m=0;return y;function y(k){return f===126&&p[p.length-1][1].type!=="characterEscape"?d(k):(a.enter("strikethroughSequenceTemporary"),v(k))}function v(k){const b=Os(f);if(k===126)return m>1?d(k):(a.consume(k),m++,v);if(m<2&&!n)return d(k);const _=a.exit("strikethroughSequenceTemporary"),N=Os(k);return _._open=!N||N===2&&!!b,_._close=!b||b===2&&!!N,c(k)}}}class vR{constructor(){this.map=[]}add(t,n,r){yR(this,t,n,r)}consume(t){if(this.map.sort(function(l,a){return l[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const l of s)t.push(l);s=r.pop()}this.map.length=0}}function yR(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function wR(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function xR(){return{flow:{null:{name:"table",tokenize:bR,resolveAll:kR}}}}function bR(e,t,n){const r=this;let s=0,l=0,a;return c;function c(L){let V=r.events.length-1;for(;V>-1;){const T=r.events[V][1].type;if(T==="lineEnding"||T==="linePrefix")V--;else break}const Z=V>-1?r.events[V][1].type:null,X=Z==="tableHead"||Z==="tableRow"?$:d;return X===$&&r.parser.lazy[r.now().line]?n(L):X(L)}function d(L){return e.enter("tableHead"),e.enter("tableRow"),f(L)}function f(L){return L===124||(a=!0,l+=1),p(L)}function p(L){return L===null?n(L):Ee(L)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),v):n(L):Pe(L)?Oe(e,p,"whitespace")(L):(l+=1,a&&(a=!1,s+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),a=!0,p):(e.enter("data"),m(L)))}function m(L){return L===null||L===124||Be(L)?(e.exit("data"),p(L)):(e.consume(L),L===92?y:m)}function y(L){return L===92||L===124?(e.consume(L),m):m(L)}function v(L){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(L):(e.enter("tableDelimiterRow"),a=!1,Pe(L)?Oe(e,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):k(L))}function k(L){return L===45||L===58?_(L):L===124?(a=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),b):Y(L)}function b(L){return Pe(L)?Oe(e,_,"whitespace")(L):_(L)}function _(L){return L===58?(l+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),N):L===45?(l+=1,N(L)):L===null||Ee(L)?U(L):Y(L)}function N(L){return L===45?(e.enter("tableDelimiterFiller"),I(L)):Y(L)}function I(L){return L===45?(e.consume(L),I):L===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(L))}function A(L){return Pe(L)?Oe(e,U,"whitespace")(L):U(L)}function U(L){return L===124?k(L):L===null||Ee(L)?!a||s!==l?Y(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):Y(L)}function Y(L){return n(L)}function $(L){return e.enter("tableRow"),J(L)}function J(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),J):L===null||Ee(L)?(e.exit("tableRow"),t(L)):Pe(L)?Oe(e,J,"whitespace")(L):(e.enter("data"),te(L))}function te(L){return L===null||L===124||Be(L)?(e.exit("data"),J(L)):(e.consume(L),L===92?K:te)}function K(L){return L===92||L===124?(e.consume(L),te):te(L)}}function kR(e,t){let n=-1,r=!0,s=0,l=[0,0,0,0],a=[0,0,0,0],c=!1,d=0,f,p,m;const y=new vR;for(;++n<e.length;){const v=e[n],k=v[1];v[0]==="enter"?k.type==="tableHead"?(c=!1,d!==0&&(ry(y,t,d,f,p),p=void 0,d=0),f={type:"table",start:Object.assign({},k.start),end:Object.assign({},k.end)},y.add(n,0,[["enter",f,t]])):k.type==="tableRow"||k.type==="tableDelimiterRow"?(r=!0,m=void 0,l=[0,0,0,0],a=[0,n+1,0,0],c&&(c=!1,p={type:"tableBody",start:Object.assign({},k.start),end:Object.assign({},k.end)},y.add(n,0,[["enter",p,t]])),s=k.type==="tableDelimiterRow"?2:p?3:1):s&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(l[1]!==0&&(a[0]=a[1],m=Pa(y,t,l,s,void 0,m),l=[0,0,0,0]),a[2]=n)):k.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(a[0]=a[1],m=Pa(y,t,l,s,void 0,m)),l=a,a=[l[1],n,0,0])):k.type==="tableHead"?(c=!0,d=n):k.type==="tableRow"||k.type==="tableDelimiterRow"?(d=n,l[1]!==0?(a[0]=a[1],m=Pa(y,t,l,s,n,m)):a[1]!==0&&(m=Pa(y,t,a,s,n,m)),s=0):s&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")&&(a[3]=n)}for(d!==0&&ry(y,t,d,f,p),y.consume(t.events),n=-1;++n<t.events.length;){const v=t.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=wR(t.events,n))}return e}function Pa(e,t,n,r,s,l){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(l.end=Object.assign({},js(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const d=js(t.events,n[1]);if(l={type:a,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const f=js(t.events,n[2]),p=js(t.events,n[3]),m={type:c,start:Object.assign({},f),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",m,t]]),r!==2){const y=t.events[n[2]],v=t.events[n[3]];if(y[1].end=Object.assign({},v[1].end),y[1].type="chunkText",y[1].contentType="text",n[3]>n[2]+1){const k=n[2]+1,b=n[3]-n[2]-1;e.add(k,b,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return s!==void 0&&(l.end=Object.assign({},js(t.events,s)),e.add(s,0,[["exit",l,t]]),l=void 0),l}function ry(e,t,n,r,s){const l=[],a=js(t.events,n);s&&(s.end=Object.assign({},a),l.push(["exit",s,t])),r.end=Object.assign({},a),l.push(["exit",r,t]),e.add(n+1,0,l)}function js(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const SR={name:"tasklistCheck",tokenize:ER};function _R(){return{text:{91:SR}}}function ER(e,t,n){const r=this;return s;function s(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),l)}function l(d){return Be(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),a):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),a):n(d)}function a(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return Ee(d)?t(d):Pe(d)?e.check({tokenize:CR},t,n)(d):n(d)}}function CR(e,t,n){return Oe(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function jR(e){return Jw([XP(),aR(),gR(e),xR(),_R()])}const TR={};function NR(e){const t=this,n=e||TR,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(jR(n)),l.push(KP()),a.push(GP(n))}const AR={a:e=>x.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:"_blank",rel:"noreferrer"})};function el({content:e}){return e?x.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:x.jsx(gI,{remarkPlugins:[NR],components:AR,children:e})}):null}function iy(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\d+(\.\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\d+:)+\d+$/.test(t)){const r=t.split(":").map(s=>Number(s));return r.some(s=>Number.isNaN(s))?null:r.reduce((s,l)=>s*60+l,0)}const n=t.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,s=n[2]?Number(n[2]):0,l=n[3]?Number(n[3]):0;if(r||s||l)return r*3600+s*60+l}return null}function IR(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const s=new URL(`https://www.youtube-nocookie.com/embed/${r}`),l=iy(t.searchParams.get("start")??t.searchParams.get("t"));l!==null&&s.searchParams.set("start",String(l));const a=iy(t.searchParams.get("end"));a!==null&&s.searchParams.set("end",String(a));const c=t.searchParams.get("list");return c&&s.searchParams.set("list",c),s.toString()}catch{return null}}function wh({url:e,title:t,maxWidth:n=300,className:r}){const s=e.trim();if(!s)return null;const l=IR(s);return l?x.jsx("div",{className:Je("flex w-full justify-center",r),children:x.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:x.jsx("iframe",{src:l,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):x.jsx("div",{className:Je("flex w-full justify-center",r),children:x.jsx("a",{href:s,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function eu(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return eu(t,t);const s=Number(r[1]),l=Number(r[2]);return Number.isNaN(s)||Number.isNaN(l)?eu(t,t):(s*60+l)%1440}function Df(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,s=n.toString().padStart(2,"0"),l=r.toString().padStart(2,"0");return`${s}:${l}`}const PR={present:"Presente",absent:"Ausente",pending:"Pendiente"},RR={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},OR=["present","absent"],DR={present:"Han venido",absent:"Faltan"},LR={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},MR="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",$R="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",FR="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",zR="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",UR="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",BR="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",WR=[];function HR(e){return Fe(e).locale("es").format("dddd, D [de] MMMM")}function VR(){const e=Ne(P=>P.sessions),t=Ne(P=>P.works),n=Ne(P=>P.objectives),r=Ne(P=>P.assistants),s=Ne(P=>P.setAttendanceActualStatus),l=Ne(P=>P.toggleSessionWorkCompletion),[a,c]=S.useState(new Set),d=S.useMemo(()=>[...e].sort((P,D)=>Fe(P.date).valueOf()-Fe(D.date).valueOf()),[e]),f=Fe().format("YYYY-MM-DD"),p=S.useMemo(()=>d.find(P=>P.date>=f)??d[d.length-1],[d,f]),[m,y]=S.useState(p==null?void 0:p.id);S.useEffect(()=>{!m&&p&&y(p.id)},[m,p]);const v=S.useMemo(()=>d.find(P=>P.id===m)??p,[d,m,p]),k=S.useMemo(()=>new Map(n.map(D=>[D.id,D])),[n]),b=S.useMemo(()=>new Map(t.map(D=>[D.id,D])),[t]),_=S.useMemo(()=>eu(v==null?void 0:v.startTime,"18:30"),[v==null?void 0:v.startTime]),N=S.useMemo(()=>{if(!v)return new Map;let P=0;const D=new Map;return v.workItems.forEach(F=>{const W=b.get(F.workId),C=F.customDurationMinutes??(W==null?void 0:W.estimatedMinutes)??0,R=Df(_+P);D.set(F.id,{startLabel:R,duration:C}),P+=C}),D},[v,b,_]),I=S.useMemo(()=>r.filter(P=>P.active).slice().sort((P,D)=>P.name.localeCompare(D.name,"es",{sensitivity:"base"})),[r]),A=(v==null?void 0:v.attendance)??WR,U=S.useMemo(()=>{const P=new Map;A.forEach(W=>{P.set(W.assistantId,W)});let D=0;I.forEach(W=>{var C;((C=P.get(W.id))==null?void 0:C.actualStatus)==="present"&&(D+=1)});const F={present:D,absent:Math.max(I.length-D,0)};return{map:P,summary:F}},[A,I]),Y=U.map,$=U.summary,J=v?d.findIndex(P=>P.id===v.id):-1,te=J>0,K=J>=0&&J<d.length-1,L=()=>{te&&y(d[J-1].id)},V=()=>{K&&y(d[J+1].id)},Z=P=>{const D=P.target.value;if(!D)return;const F=d.find(W=>W.date===D);F&&y(F.id)},X=d.length===0,T=P=>{c(D=>{const F=new Set(D);return F.has(P)?F.delete(P):F.add(P),F})},M=(P,D)=>{v&&s(v.id,P,D)};return x.jsxs("div",{className:"space-y-3 sm:space-y-6",children:[X&&x.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[x.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:x.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:x.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:"Todavía no hay sesiones"}),x.jsx("p",{className:"max-w-md text-balance text-white/60",children:"Usa el planificador para crear tu primera sesión. Una vez guardada aparecerá aquí automáticamente."})]}),x.jsx(_s,{to:"/plan",className:"btn-primary",children:"Planificar sesión"})]}),v&&!X&&x.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[x.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[x.jsx("span",{className:"sm:hidden",children:"Sesión"}),x.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),x.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:HR(v.date)}),x.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:v.title})]}),x.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[x.jsxs("div",{className:"flex items-center justify-between gap-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"Duración estimada"}),x.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[v.workItems.map(P=>{const D=b.get(P.workId);return P.customDurationMinutes??(D==null?void 0:D.estimatedMinutes)??0}).reduce((P,D)=>P+D,0)||0," ","min"]})]}),x.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[x.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),x.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:(v==null?void 0:v.date)??f,onChange:Z})]})]})]}),x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx("button",{type:"button",onClick:L,disabled:!te,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"← Anterior"}),x.jsx("button",{type:"button",onClick:V,disabled:!K,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente →"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx(_s,{to:"/plan",className:"btn-primary h-9 rounded-2xl px-4 text-xs font-semibold sm:h-10 sm:text-sm",children:"Abrir planificador"}),x.jsx(_s,{to:`/plan?session=${v.id}`,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",children:"Editar sesión"})]})]}),v.description&&x.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:x.jsx(el,{content:v.description})}),x.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[x.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),x.jsx("div",{className:"space-y-3 sm:space-y-4",children:v.workItems.map(P=>{const D=b.get(P.workId),F=D?k.get(D.objectiveId):void 0,W=a.has(P.id),C=N.get(P.id),R=(C==null?void 0:C.startLabel)??Df(_),H=(C==null?void 0:C.duration)??P.customDurationMinutes??(D==null?void 0:D.estimatedMinutes)??0,j=(P.focusLabel??"").trim(),ae=j.length>0,fe=P.customDescriptionMarkdown??(D==null?void 0:D.descriptionMarkdown)??"",ue=fe.trim().length>0,be=((D==null?void 0:D.videoUrls)??[]).map(ce=>ce.trim()).filter(Boolean),ge=be.length>0,we=ue||ge;return x.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:F?{background:`linear-gradient(120deg, ${F.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:x.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:P.completed??!1,onChange:ce=>l(v.id,P.id,ce.target.checked)})}),x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"text-lg font-semibold text-white",children:[(D==null?void 0:D.name)??"Trabajo eliminado",ae?x.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",j]}):null]}),x.jsxs("p",{className:"text-sm text-white/60",children:[x.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:R}),x.jsx("span",{className:"mx-2 text-white/30",children:"·"}),x.jsxs("span",{children:[H," min"]})]})]}),x.jsx(kr,{objective:F,size:"sm"})]}),(we||ge)&&x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[we?x.jsxs("button",{type:"button",onClick:()=>T(P.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:Je("transition-transform",W?"rotate-90":"rotate-0"),children:"▶"}),W?"Ocultar detalles":"Ver detalles"]}):null,ge?x.jsxs("span",{children:[be.length," vídeo",be.length>1?"s":""]}):null]})]}),x.jsx("div",{className:Je("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",P.completed?"bg-white/20 text-white":""),children:P.order+1})]}),we&&W&&x.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[ue?x.jsx(el,{content:fe}):null,ge?x.jsx("div",{className:"space-y-3",children:be.map((ce,ze)=>x.jsxs("div",{className:"space-y-2",children:[x.jsx(wh,{url:ce,title:`${(D==null?void 0:D.name)??"Trabajo"} vídeo ${ze+1}`}),x.jsx("a",{href:ce,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${P.id}-video-${ze}`))}):null]})]},P.id)})})]}),r.length===0?x.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"¿Quiénes participan?"}),x.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quién ha venido a clase en tiempo real."}),x.jsx(_s,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):I.length===0?x.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes están inactivos."}),x.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la sección de asistentes para poder marcar su asistencia."}),x.jsx(_s,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):x.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),x.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quién está presente en la sesión actual."})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:OR.map(P=>x.jsxs("span",{className:Je("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",LR[P]),children:[$[P]," ",DR[P]]},P))})]}),x.jsx("div",{className:"space-y-2",children:I.map(P=>{const D=Y.get(P.id),F=(D==null?void 0:D.status)??"pending",W=(D==null?void 0:D.actualStatus)==="present",C=()=>M(P.id,W?"absent":"present");return x.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:P.name}),x.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsión"}),x.jsx("span",{className:Je("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",RR[F]),children:PR[F]}),x.jsx("span",{className:"hidden text-white/30 sm:inline",children:"·"}),x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),x.jsx("span",{className:Je("font-semibold",W?"text-emerald-200":"text-white/60"),children:W?"Presente":"No asistió"})]})]}),x.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[x.jsxs("button",{type:"button",onClick:C,"aria-pressed":W,"aria-label":`${W?"Desmarcar asistencia de":"Marcar asistencia de"} ${P.name}`,title:W?"Desmarcar asistencia":"Marcar como presente",className:Je(MR,W?$R:FR),children:[x.jsx("span",{className:Je(zR,W?UR:BR),children:W?x.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:x.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):x.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),x.jsx("span",{children:W?"Ha asistido":"Marcar asistencia"})]}),x.jsx("span",{className:Je("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",W?"text-emerald-200":"text-white/40"),children:W?"PRESENTE":"AUSENTE"})]})]})},P.id)})})]})]})]})}function qR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const Eu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Us(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function xh(e){return"nodeType"in e}function tn(e){var t,n;return e?Us(e)?e:xh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function bh(e){const{Document:t}=tn(e);return e instanceof t}function fl(e){return Us(e)?!1:e instanceof tn(e).HTMLElement}function z0(e){return e instanceof tn(e).SVGElement}function Bs(e){return e?Us(e)?e.document:xh(e)?bh(e)?e:fl(e)||z0(e)?e.ownerDocument:document:document:document}const ir=Eu?S.useLayoutEffect:S.useEffect;function kh(e){const t=S.useRef(e);return ir(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function YR(){const e=S.useRef(null),t=S.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function tl(e,t){t===void 0&&(t=[e]);const n=S.useRef(e);return ir(()=>{n.current!==e&&(n.current=e)},t),n}function hl(e,t){const n=S.useRef();return S.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function tu(e){const t=kh(e),n=S.useRef(null),r=S.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Lf(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let Vd={};function pl(e,t){return S.useMemo(()=>{if(t)return t;const n=Vd[e]==null?0:Vd[e]+1;return Vd[e]=n,e+"-"+n},[e,t])}function U0(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((l,a)=>{const c=Object.entries(a);for(const[d,f]of c){const p=l[d];p!=null&&(l[d]=p+e*f)}return l},{...t})}}const Is=U0(1),nu=U0(-1);function KR(e){return"clientX"in e&&"clientY"in e}function Sh(e){if(!e)return!1;const{KeyboardEvent:t}=tn(e.target);return t&&e instanceof t}function GR(e){if(!e)return!1;const{TouchEvent:t}=tn(e.target);return t&&e instanceof t}function Mf(e){if(GR(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return KR(e)?{x:e.clientX,y:e.clientY}:null}const nl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[nl.Translate.toString(e),nl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),sy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function JR(e){return e.matches(sy)?e:e.querySelector(sy)}const QR={display:"none"};function XR(e){let{id:t,value:n}=e;return me.createElement("div",{id:t,style:QR},n)}function ZR(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return me.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function eO(){const[e,t]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const B0=S.createContext(null);function tO(e){const t=S.useContext(B0);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function nO(){const[e]=S.useState(()=>new Set),t=S.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[S.useCallback(r=>{let{type:s,event:l}=r;e.forEach(a=>{var c;return(c=a[s])==null?void 0:c.call(a,l)})},[e]),t]}const rO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},iO={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function sO(e){let{announcements:t=iO,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=rO}=e;const{announce:l,announcement:a}=eO(),c=pl("DndLiveRegion"),[d,f]=S.useState(!1);if(S.useEffect(()=>{f(!0)},[]),tO(S.useMemo(()=>({onDragStart(m){let{active:y}=m;l(t.onDragStart({active:y}))},onDragMove(m){let{active:y,over:v}=m;t.onDragMove&&l(t.onDragMove({active:y,over:v}))},onDragOver(m){let{active:y,over:v}=m;l(t.onDragOver({active:y,over:v}))},onDragEnd(m){let{active:y,over:v}=m;l(t.onDragEnd({active:y,over:v}))},onDragCancel(m){let{active:y,over:v}=m;l(t.onDragCancel({active:y,over:v}))}}),[l,t])),!d)return null;const p=me.createElement(me.Fragment,null,me.createElement(XR,{id:r,value:s.draggable}),me.createElement(ZR,{id:c,announcement:a}));return n?Ts.createPortal(p,n):p}var gt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(gt||(gt={}));function ru(){}const Hn=Object.freeze({x:0,y:0});function oO(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function aO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function uO(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function oy(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const cO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=oy(t,t.left,t.top),l=[];for(const a of r){const{id:c}=a,d=n.get(c);if(d){const f=oO(oy(d),s);l.push({id:c,data:{droppableContainer:a,value:f}})}}return l.sort(lO)};function dO(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),a=s-r,c=l-n;if(r<s&&n<l){const d=t.width*t.height,f=e.width*e.height,p=a*c,m=p/(d+f-p);return Number(m.toFixed(4))}return 0}const fO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const l of r){const{id:a}=l,c=n.get(a);if(c){const d=dO(c,t);d>0&&s.push({id:a,data:{droppableContainer:l,value:d}})}}return s.sort(aO)};function hO(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function W0(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Hn}function pO(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return s.reduce((a,c)=>({...a,top:a.top+e*c.y,bottom:a.bottom+e*c.y,left:a.left+e*c.x,right:a.right+e*c.x}),{...n})}}const mO=pO(1);function gO(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function vO(e,t,n){const r=gO(t);if(!r)return e;const{scaleX:s,scaleY:l,x:a,y:c}=r,d=e.left-a-(1-s)*parseFloat(n),f=e.top-c-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,m=l?e.height/l:e.height;return{width:p,height:m,top:f,right:d+p,bottom:f+m,left:d}}const yO={ignoreTransform:!1};function Ws(e,t){t===void 0&&(t=yO);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:p}=tn(e).getComputedStyle(e);f&&(n=vO(n,f,p))}const{top:r,left:s,width:l,height:a,bottom:c,right:d}=n;return{top:r,left:s,width:l,height:a,bottom:c,right:d}}function ly(e){return Ws(e,{ignoreTransform:!0})}function wO(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function xO(e,t){return t===void 0&&(t=tn(e).getComputedStyle(e)),t.position==="fixed"}function bO(e,t){t===void 0&&(t=tn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const l=t[s];return typeof l=="string"?n.test(l):!1})}function _h(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(bh(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!fl(s)||z0(s)||n.includes(s))return n;const l=tn(e).getComputedStyle(s);return s!==e&&bO(s,l)&&n.push(s),xO(s,l)?n:r(s.parentNode)}return e?r(e):n}function H0(e){const[t]=_h(e,1);return t??null}function qd(e){return!Eu||!e?null:Us(e)?e:xh(e)?bh(e)||e===Bs(e).scrollingElement?window:fl(e)?e:null:null}function V0(e){return Us(e)?e.scrollX:e.scrollLeft}function q0(e){return Us(e)?e.scrollY:e.scrollTop}function $f(e){return{x:V0(e),y:q0(e)}}var kt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(kt||(kt={}));function Y0(e){return!Eu||!e?!1:e===document.scrollingElement}function K0(e){const t={x:0,y:0},n=Y0(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,c=e.scrollLeft>=r.x;return{isTop:s,isLeft:l,isBottom:a,isRight:c,maxScroll:r,minScroll:t}}const kO={x:.2,y:.2};function SO(e,t,n,r,s){let{top:l,left:a,right:c,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=kO);const{isTop:f,isBottom:p,isLeft:m,isRight:y}=K0(e),v={x:0,y:0},k={x:0,y:0},b={height:t.height*s.y,width:t.width*s.x};return!f&&l<=t.top+b.height?(v.y=kt.Backward,k.y=r*Math.abs((t.top+b.height-l)/b.height)):!p&&d>=t.bottom-b.height&&(v.y=kt.Forward,k.y=r*Math.abs((t.bottom-b.height-d)/b.height)),!y&&c>=t.right-b.width?(v.x=kt.Forward,k.x=r*Math.abs((t.right-b.width-c)/b.width)):!m&&a<=t.left+b.width&&(v.x=kt.Backward,k.x=r*Math.abs((t.left+b.width-a)/b.width)),{direction:v,speed:k}}function _O(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:a}=window;return{top:0,left:0,right:l,bottom:a,width:l,height:a}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function G0(e){return e.reduce((t,n)=>Is(t,$f(n)),Hn)}function EO(e){return e.reduce((t,n)=>t+V0(n),0)}function CO(e){return e.reduce((t,n)=>t+q0(n),0)}function jO(e,t){if(t===void 0&&(t=Ws),!e)return;const{top:n,left:r,bottom:s,right:l}=t(e);H0(e)&&(s<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const TO=[["x",["left","right"],EO],["y",["top","bottom"],CO]];class Eh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=_h(n),s=G0(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,a,c]of TO)for(const d of a)Object.defineProperty(this,d,{get:()=>{const f=c(r),p=s[l]-f;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function NO(e){const{EventTarget:t}=tn(e);return e instanceof t?e:Bs(e)}function Yd(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var En;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(En||(En={}));function ay(e){e.preventDefault()}function AO(e){e.stopPropagation()}var Me;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Me||(Me={}));const J0={start:[Me.Space,Me.Enter],cancel:[Me.Esc],end:[Me.Space,Me.Enter,Me.Tab]},IO=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Me.Right:return{...n,x:n.x+25};case Me.Left:return{...n,x:n.x-25};case Me.Down:return{...n,y:n.y+25};case Me.Up:return{...n,y:n.y-25}}};class Q0{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vo(Bs(n)),this.windowListeners=new Vo(tn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(En.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&jO(r),n(Hn)}handleKeyDown(t){if(Sh(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:l=J0,coordinateGetter:a=IO,scrollBehavior:c="smooth"}=s,{code:d}=t;if(l.end.includes(d)){this.handleEnd(t);return}if(l.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:Hn;this.referenceCoordinates||(this.referenceCoordinates=p);const m=a(t,{active:n,context:r.current,currentCoordinates:p});if(m){const y=nu(m,p),v={x:0,y:0},{scrollableAncestors:k}=r.current;for(const b of k){const _=t.code,{isTop:N,isRight:I,isLeft:A,isBottom:U,maxScroll:Y,minScroll:$}=K0(b),J=_O(b),te={x:Math.min(_===Me.Right?J.right-J.width/2:J.right,Math.max(_===Me.Right?J.left:J.left+J.width/2,m.x)),y:Math.min(_===Me.Down?J.bottom-J.height/2:J.bottom,Math.max(_===Me.Down?J.top:J.top+J.height/2,m.y))},K=_===Me.Right&&!I||_===Me.Left&&!A,L=_===Me.Down&&!U||_===Me.Up&&!N;if(K&&te.x!==m.x){const V=b.scrollLeft+y.x,Z=_===Me.Right&&V<=Y.x||_===Me.Left&&V>=$.x;if(Z&&!y.y){b.scrollTo({left:V,behavior:c});return}Z?v.x=b.scrollLeft-V:v.x=_===Me.Right?b.scrollLeft-Y.x:b.scrollLeft-$.x,v.x&&b.scrollBy({left:-v.x,behavior:c});break}else if(L&&te.y!==m.y){const V=b.scrollTop+y.y,Z=_===Me.Down&&V<=Y.y||_===Me.Up&&V>=$.y;if(Z&&!y.x){b.scrollTo({top:V,behavior:c});return}Z?v.y=b.scrollTop-V:v.y=_===Me.Down?b.scrollTop-Y.y:b.scrollTop-$.y,v.y&&b.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(t,Is(nu(m,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Q0.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=J0,onActivation:s}=t,{active:l}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const c=l.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function uy(e){return!!(e&&"distance"in e)}function cy(e){return!!(e&&"delay"in e)}class Ch{constructor(t,n,r){var s;r===void 0&&(r=NO(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:a}=l;this.props=t,this.events=n,this.document=Bs(a),this.documentListeners=new Vo(this.document),this.listeners=new Vo(r),this.windowListeners=new Vo(tn(a)),this.initialCoordinates=(s=Mf(l))!=null?s:Hn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.DragStart,ay),this.windowListeners.add(En.VisibilityChange,this.handleCancel),this.windowListeners.add(En.ContextMenu,ay),this.documentListeners.add(En.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(cy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(uy(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(En.Click,AO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(En.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:l}=this,{onMove:a,options:{activationConstraint:c}}=l;if(!s)return;const d=(n=Mf(t))!=null?n:Hn,f=nu(s,d);if(!r&&c){if(uy(c)){if(c.tolerance!=null&&Yd(f,c.tolerance))return this.handleCancel();if(Yd(f,c.distance))return this.handleStart()}if(cy(c)&&Yd(f,c.tolerance))return this.handleCancel();this.handlePending(c,f);return}t.cancelable&&t.preventDefault(),a(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Me.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const PO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class X0 extends Ch{constructor(t){const{event:n}=t,r=Bs(n.target);super(t,PO,r)}}X0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const RO={move:{name:"mousemove"},end:{name:"mouseup"}};var Ff;(function(e){e[e.RightClick=2]="RightClick"})(Ff||(Ff={}));class OO extends Ch{constructor(t){super(t,RO,Bs(t.event.target))}}OO.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Ff.RightClick?!1:(r==null||r({event:n}),!0)}}];const Kd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class DO extends Ch{constructor(t){super(t,Kd)}static setup(){return window.addEventListener(Kd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Kd.move.name,t)};function t(){}}}DO.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var qo;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(qo||(qo={}));var iu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(iu||(iu={}));function LO(e){let{acceleration:t,activator:n=qo.Pointer,canScroll:r,draggingRect:s,enabled:l,interval:a=5,order:c=iu.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:y}=e;const v=$O({delta:m,disabled:!l}),[k,b]=YR(),_=S.useRef({x:0,y:0}),N=S.useRef({x:0,y:0}),I=S.useMemo(()=>{switch(n){case qo.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case qo.DraggableRect:return s}},[n,s,d]),A=S.useRef(null),U=S.useCallback(()=>{const $=A.current;if(!$)return;const J=_.current.x*N.current.x,te=_.current.y*N.current.y;$.scrollBy(J,te)},[]),Y=S.useMemo(()=>c===iu.TreeOrder?[...f].reverse():f,[c,f]);S.useEffect(()=>{if(!l||!f.length||!I){b();return}for(const $ of Y){if((r==null?void 0:r($))===!1)continue;const J=f.indexOf($),te=p[J];if(!te)continue;const{direction:K,speed:L}=SO($,te,I,t,y);for(const V of["x","y"])v[V][K[V]]||(L[V]=0,K[V]=0);if(L.x>0||L.y>0){b(),A.current=$,k(U,a),_.current=L,N.current=K;return}}_.current={x:0,y:0},N.current={x:0,y:0},b()},[t,U,r,b,l,a,JSON.stringify(I),JSON.stringify(v),k,f,Y,p,JSON.stringify(y)])}const MO={x:{[kt.Backward]:!1,[kt.Forward]:!1},y:{[kt.Backward]:!1,[kt.Forward]:!1}};function $O(e){let{delta:t,disabled:n}=e;const r=Lf(t);return hl(s=>{if(n||!r||!s)return MO;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[kt.Backward]:s.x[kt.Backward]||l.x===-1,[kt.Forward]:s.x[kt.Forward]||l.x===1},y:{[kt.Backward]:s.y[kt.Backward]||l.y===-1,[kt.Forward]:s.y[kt.Forward]||l.y===1}}},[n,t,r])}function FO(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return hl(s=>{var l;return t==null?null:(l=r??s)!=null?l:null},[r,t])}function zO(e,t){return S.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,l=s.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...l]},[]),[e,t])}var rl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(rl||(rl={}));var zf;(function(e){e.Optimized="optimized"})(zf||(zf={}));const dy=new Map;function UO(e,t){let{dragging:n,dependencies:r,config:s}=t;const[l,a]=S.useState(null),{frequency:c,measure:d,strategy:f}=s,p=S.useRef(e),m=_(),y=tl(m),v=S.useCallback(function(N){N===void 0&&(N=[]),!y.current&&a(I=>I===null?N:I.concat(N.filter(A=>!I.includes(A))))},[y]),k=S.useRef(null),b=hl(N=>{if(m&&!n)return dy;if(!N||N===dy||p.current!==e||l!=null){const I=new Map;for(let A of e){if(!A)continue;if(l&&l.length>0&&!l.includes(A.id)&&A.rect.current){I.set(A.id,A.rect.current);continue}const U=A.node.current,Y=U?new Eh(d(U),U):null;A.rect.current=Y,Y&&I.set(A.id,Y)}return I}return N},[e,l,n,m,d]);return S.useEffect(()=>{p.current=e},[e]),S.useEffect(()=>{m||v()},[n,m]),S.useEffect(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),S.useEffect(()=>{m||typeof c!="number"||k.current!==null||(k.current=setTimeout(()=>{v(),k.current=null},c))},[c,m,v,...r]),{droppableRects:b,measureDroppableContainers:v,measuringScheduled:l!=null};function _(){switch(f){case rl.Always:return!1;case rl.BeforeDragging:return n;default:return!n}}}function Z0(e,t){return hl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function BO(e,t){return Z0(e,t)}function WO(e){let{callback:t,disabled:n}=e;const r=kh(t),s=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return S.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Cu(e){let{callback:t,disabled:n}=e;const r=kh(t),s=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return S.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function HO(e){return new Eh(Ws(e),e)}function fy(e,t,n){t===void 0&&(t=HO);const[r,s]=S.useState(null);function l(){s(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const p=t(e);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const a=WO({callback(d){if(e)for(const f of d){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){l();break}}}}),c=Cu({callback:l});return ir(()=>{l(),e?(c==null||c.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),a==null||a.disconnect())},[e]),r}function VO(e){const t=Z0(e);return W0(e,t)}const hy=[];function qO(e){const t=S.useRef(e),n=hl(r=>e?r&&r!==hy&&e&&t.current&&e.parentNode===t.current.parentNode?r:_h(e):hy,[e]);return S.useEffect(()=>{t.current=e},[e]),n}function YO(e){const[t,n]=S.useState(null),r=S.useRef(e),s=S.useCallback(l=>{const a=qd(l.target);a&&n(c=>c?(c.set(a,$f(a)),new Map(c)):null)},[]);return S.useEffect(()=>{const l=r.current;if(e!==l){a(l);const c=e.map(d=>{const f=qd(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,$f(f)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),r.current=e}return()=>{a(e),a(l)};function a(c){c.forEach(d=>{const f=qd(d);f==null||f.removeEventListener("scroll",s)})}},[s,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,a)=>Is(l,a),Hn):G0(e):Hn,[e,t])}function py(e,t){t===void 0&&(t=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},t),S.useEffect(()=>{const r=e!==Hn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?nu(e,n.current):Hn}function KO(e){S.useEffect(()=>{if(!Eu)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function GO(e,t){return S.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:l}=r;return n[s]=a=>{l(a,t)},n},{}),[e,t])}function ex(e){return S.useMemo(()=>e?wO(e):null,[e])}const my=[];function JO(e,t){t===void 0&&(t=Ws);const[n]=e,r=ex(n?tn(n):null),[s,l]=S.useState(my);function a(){l(()=>e.length?e.map(d=>Y0(d)?r:new Eh(t(d),d)):my)}const c=Cu({callback:a});return ir(()=>{c==null||c.disconnect(),a(),e.forEach(d=>c==null?void 0:c.observe(d))},[e]),s}function QO(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return fl(t)?t:e}function XO(e){let{measure:t}=e;const[n,r]=S.useState(null),s=S.useCallback(f=>{for(const{target:p}of f)if(fl(p)){r(m=>{const y=t(p);return m?{...m,width:y.width,height:y.height}:y});break}},[t]),l=Cu({callback:s}),a=S.useCallback(f=>{const p=QO(f);l==null||l.disconnect(),p&&(l==null||l.observe(p)),r(p?t(p):null)},[t,l]),[c,d]=tu(a);return S.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const ZO=[{sensor:X0,options:{}},{sensor:Q0,options:{}}],e2={current:{}},za={draggable:{measure:ly},droppable:{measure:ly,strategy:rl.WhileDragging,frequency:zf.Optimized},dragOverlay:{measure:Ws}};class Yo extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const t2={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Yo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ru},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:za,measureDroppableContainers:ru,windowRect:null,measuringScheduled:!1},n2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ru,draggableNodes:new Map,over:null,measureDroppableContainers:ru},ju=S.createContext(n2),tx=S.createContext(t2);function r2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Yo}}}function i2(e,t){switch(t.type){case gt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case gt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case gt.DragEnd:case gt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gt.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Yo(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case gt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const a=new Yo(e.droppable.containers);return a.set(n,{...l,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case gt.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const l=new Yo(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function s2(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=S.useContext(ju),l=Lf(r),a=Lf(n==null?void 0:n.id);return S.useEffect(()=>{if(!t&&!r&&l&&a!=null){if(!Sh(l)||document.activeElement===l.target)return;const c=s.get(a);if(!c)return;const{activatorNode:d,node:f}=c;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[d.current,f.current]){if(!p)continue;const m=JR(p);if(m){m.focus();break}}})}},[r,t,s,a,l]),null}function o2(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,l)=>l({transform:s,...r}),n):n}function l2(e){return S.useMemo(()=>({draggable:{...za.draggable,...e==null?void 0:e.draggable},droppable:{...za.droppable,...e==null?void 0:e.droppable},dragOverlay:{...za.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function a2(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const l=S.useRef(!1),{x:a,y:c}=typeof s=="boolean"?{x:s,y:s}:s;ir(()=>{if(!a&&!c||!t){l.current=!1;return}if(l.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const p=n(f),m=W0(p,r);if(a||(m.x=0),c||(m.y=0),l.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=H0(f);y&&y.scrollBy({top:m.y,left:m.x})}},[t,a,c,r,n])}const nx=S.createContext({...Hn,scaleX:1,scaleY:1});var Jr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Jr||(Jr={}));const u2=S.memo(function(t){var n,r,s,l;let{id:a,accessibility:c,autoScroll:d=!0,children:f,sensors:p=ZO,collisionDetection:m=fO,measuring:y,modifiers:v,...k}=t;const b=S.useReducer(i2,void 0,r2),[_,N]=b,[I,A]=nO(),[U,Y]=S.useState(Jr.Uninitialized),$=U===Jr.Initialized,{draggable:{active:J,nodes:te,translate:K},droppable:{containers:L}}=_,V=J!=null?te.get(J):null,Z=S.useRef({initial:null,translated:null}),X=S.useMemo(()=>{var Xe;return J!=null?{id:J,data:(Xe=V==null?void 0:V.data)!=null?Xe:e2,rect:Z}:null},[J,V]),T=S.useRef(null),[M,P]=S.useState(null),[D,F]=S.useState(null),W=tl(k,Object.values(k)),C=pl("DndDescribedBy",a),R=S.useMemo(()=>L.getEnabled(),[L]),H=l2(y),{droppableRects:j,measureDroppableContainers:ae,measuringScheduled:fe}=UO(R,{dragging:$,dependencies:[K.x,K.y],config:H.droppable}),ue=FO(te,J),be=S.useMemo(()=>D?Mf(D):null,[D]),ge=jr(),we=BO(ue,H.draggable.measure);a2({activeNode:J!=null?te.get(J):null,config:ge.layoutShiftCompensation,initialRect:we,measure:H.draggable.measure});const ce=fy(ue,H.draggable.measure,we),ze=fy(ue?ue.parentElement:null),st=S.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:j,draggableNodes:te,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),vt=L.getNodeFor((n=st.current.over)==null?void 0:n.id),Mt=XO({measure:H.dragOverlay.measure}),fn=(r=Mt.nodeRef.current)!=null?r:ue,hn=$?(s=Mt.rect)!=null?s:ce:null,lr=!!(Mt.nodeRef.current&&Mt.rect),ui=VO(lr?null:ce),Vn=ex(fn?tn(fn):null),St=qO($?vt??ue:null),nn=JO(St),qn=o2(v,{transform:{x:K.x-ui.x,y:K.y-ui.y,scaleX:1,scaleY:1},activatorEvent:D,active:X,activeNodeRect:ce,containerNodeRect:ze,draggingNodeRect:hn,over:st.current.over,overlayNodeRect:Mt.rect,scrollableAncestors:St,scrollableAncestorRects:nn,windowRect:Vn}),ci=be?Is(be,K):null,di=YO(St),Ui=py(di),ee=py(di,[ce]),oe=Is(qn,Ui),xe=hn?mO(hn,qn):null,je=X&&xe?m({active:X,collisionRect:xe,droppableRects:j,droppableContainers:R,pointerCoordinates:ci}):null,Re=uO(je,"id"),[We,pn]=S.useState(null),Bt=lr?qn:Is(qn,ee),Yn=hO(Bt,(l=We==null?void 0:We.rect)!=null?l:null,ce),Tn=S.useRef(null),at=S.useCallback((Xe,jt)=>{let{sensor:Tt,options:Nn}=jt;if(T.current==null)return;const $t=te.get(T.current);if(!$t)return;const Nt=Xe.nativeEvent,Wt=new Tt({active:T.current,activeNode:$t,event:Nt,options:Nn,context:st,onAbort(Ze){if(!te.get(Ze))return;const{onDragAbort:At}=W.current,An={id:Ze};At==null||At(An),I({type:"onDragAbort",event:An})},onPending(Ze,gn,At,An){if(!te.get(Ze))return;const{onDragPending:Kn}=W.current,rn={id:Ze,constraint:gn,initialCoordinates:At,offset:An};Kn==null||Kn(rn),I({type:"onDragPending",event:rn})},onStart(Ze){const gn=T.current;if(gn==null)return;const At=te.get(gn);if(!At)return;const{onDragStart:An}=W.current,In={activatorEvent:Nt,active:{id:gn,data:At.data,rect:Z}};Ts.unstable_batchedUpdates(()=>{An==null||An(In),Y(Jr.Initializing),N({type:gt.DragStart,initialCoordinates:Ze,active:gn}),I({type:"onDragStart",event:In}),P(Tn.current),F(Nt)})},onMove(Ze){N({type:gt.DragMove,coordinates:Ze})},onEnd:ar(gt.DragEnd),onCancel:ar(gt.DragCancel)});Tn.current=Wt;function ar(Ze){return async function(){const{active:At,collisions:An,over:In,scrollAdjustedTranslate:Kn}=st.current;let rn=null;if(At&&Kn){const{cancelDrop:ur}=W.current;rn={activatorEvent:Nt,active:At,collisions:An,delta:Kn,over:In},Ze===gt.DragEnd&&typeof ur=="function"&&await Promise.resolve(ur(rn))&&(Ze=gt.DragCancel)}T.current=null,Ts.unstable_batchedUpdates(()=>{N({type:Ze}),Y(Jr.Uninitialized),pn(null),P(null),F(null),Tn.current=null;const ur=Ze===gt.DragEnd?"onDragEnd":"onDragCancel";if(rn){const qs=W.current[ur];qs==null||qs(rn),I({type:ur,event:rn})}})}}},[te]),mn=S.useCallback((Xe,jt)=>(Tt,Nn)=>{const $t=Tt.nativeEvent,Nt=te.get(Nn);if(T.current!==null||!Nt||$t.dndKit||$t.defaultPrevented)return;const Wt={active:Nt};Xe(Tt,jt.options,Wt)===!0&&($t.dndKit={capturedBy:jt.sensor},T.current=Nn,at(Tt,jt))},[te,at]),Ct=zO(p,mn);KO(p),ir(()=>{ce&&U===Jr.Initializing&&Y(Jr.Initialized)},[ce,U]),S.useEffect(()=>{const{onDragMove:Xe}=W.current,{active:jt,activatorEvent:Tt,collisions:Nn,over:$t}=st.current;if(!jt||!Tt)return;const Nt={active:jt,activatorEvent:Tt,collisions:Nn,delta:{x:oe.x,y:oe.y},over:$t};Ts.unstable_batchedUpdates(()=>{Xe==null||Xe(Nt),I({type:"onDragMove",event:Nt})})},[oe.x,oe.y]),S.useEffect(()=>{const{active:Xe,activatorEvent:jt,collisions:Tt,droppableContainers:Nn,scrollAdjustedTranslate:$t}=st.current;if(!Xe||T.current==null||!jt||!$t)return;const{onDragOver:Nt}=W.current,Wt=Nn.get(Re),ar=Wt&&Wt.rect.current?{id:Wt.id,rect:Wt.rect.current,data:Wt.data,disabled:Wt.disabled}:null,Ze={active:Xe,activatorEvent:jt,collisions:Tt,delta:{x:$t.x,y:$t.y},over:ar};Ts.unstable_batchedUpdates(()=>{pn(ar),Nt==null||Nt(Ze),I({type:"onDragOver",event:Ze})})},[Re]),ir(()=>{st.current={activatorEvent:D,active:X,activeNode:ue,collisionRect:xe,collisions:je,droppableRects:j,draggableNodes:te,draggingNode:fn,draggingNodeRect:hn,droppableContainers:L,over:We,scrollableAncestors:St,scrollAdjustedTranslate:oe},Z.current={initial:hn,translated:xe}},[X,ue,je,xe,te,fn,hn,j,L,We,St,oe]),LO({...ge,delta:K,draggingRect:xe,pointerCoordinates:ci,scrollableAncestors:St,scrollableAncestorRects:nn});const Hs=S.useMemo(()=>({active:X,activeNode:ue,activeNodeRect:ce,activatorEvent:D,collisions:je,containerNodeRect:ze,dragOverlay:Mt,draggableNodes:te,droppableContainers:L,droppableRects:j,over:We,measureDroppableContainers:ae,scrollableAncestors:St,scrollableAncestorRects:nn,measuringConfiguration:H,measuringScheduled:fe,windowRect:Vn}),[X,ue,ce,D,je,ze,Mt,te,L,j,We,ae,St,nn,H,fe,Vn]),Vs=S.useMemo(()=>({activatorEvent:D,activators:Ct,active:X,activeNodeRect:ce,ariaDescribedById:{draggable:C},dispatch:N,draggableNodes:te,over:We,measureDroppableContainers:ae}),[D,Ct,X,ce,N,C,te,We,ae]);return me.createElement(B0.Provider,{value:A},me.createElement(ju.Provider,{value:Vs},me.createElement(tx.Provider,{value:Hs},me.createElement(nx.Provider,{value:Yn},f)),me.createElement(s2,{disabled:(c==null?void 0:c.restoreFocus)===!1})),me.createElement(sO,{...c,hiddenTextDescribedById:C}));function jr(){const Xe=(M==null?void 0:M.autoScrollEnabled)===!1,jt=typeof d=="object"?d.enabled===!1:d===!1,Tt=$&&!Xe&&!jt;return typeof d=="object"?{...d,enabled:Tt}:{enabled:Tt}}}),c2=S.createContext(null),gy="button",d2="Draggable";function f2(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const l=pl(d2),{activators:a,activatorEvent:c,active:d,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:y}=S.useContext(ju),{role:v=gy,roleDescription:k="draggable",tabIndex:b=0}=s??{},_=(d==null?void 0:d.id)===t,N=S.useContext(_?nx:c2),[I,A]=tu(),[U,Y]=tu(),$=GO(a,t),J=tl(n);ir(()=>(m.set(t,{id:t,key:l,node:I,activatorNode:U,data:J}),()=>{const K=m.get(t);K&&K.key===l&&m.delete(t)}),[m,t]);const te=S.useMemo(()=>({role:v,tabIndex:b,"aria-disabled":r,"aria-pressed":_&&v===gy?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,v,b,_,k,p.draggable]);return{active:d,activatorEvent:c,activeNodeRect:f,attributes:te,isDragging:_,listeners:r?void 0:$,node:I,over:y,setNodeRef:A,setActivatorNodeRef:Y,transform:N}}function h2(){return S.useContext(tx)}const p2="Droppable",m2={timeout:25};function g2(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const l=pl(p2),{active:a,dispatch:c,over:d,measureDroppableContainers:f}=S.useContext(ju),p=S.useRef({disabled:n}),m=S.useRef(!1),y=S.useRef(null),v=S.useRef(null),{disabled:k,updateMeasurementsFor:b,timeout:_}={...m2,...s},N=tl(b??r),I=S.useCallback(()=>{if(!m.current){m.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(N.current)?N.current:[N.current]),v.current=null},_)},[_]),A=Cu({callback:I,disabled:k||!a}),U=S.useCallback((te,K)=>{A&&(K&&(A.unobserve(K),m.current=!1),te&&A.observe(te))},[A]),[Y,$]=tu(U),J=tl(t);return S.useEffect(()=>{!A||!Y.current||(A.disconnect(),m.current=!1,A.observe(Y.current))},[Y,A]),S.useEffect(()=>(c({type:gt.RegisterDroppable,element:{id:r,key:l,disabled:n,node:Y,rect:y,data:J}}),()=>c({type:gt.UnregisterDroppable,key:l,id:r})),[r]),S.useEffect(()=>{n!==p.current.disabled&&(c({type:gt.SetDroppableDisabled,id:r,key:l,disabled:n}),p.current.disabled=n)},[r,l,n,c]),{active:a,rect:y,isOver:(d==null?void 0:d.id)===r,node:Y,over:d,setNodeRef:$}}function rx(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function v2(e,t){return e.reduce((n,r,s)=>{const l=t.get(r);return l&&(n[s]=l),n},Array(e.length))}function Ra(e){return e!==null&&e>=0}function y2(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function w2(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const ix=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const l=rx(t,r,n),a=t[s],c=l[s];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},Oa={scaleX:1,scaleY:1},x2=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:l,overIndex:a}=e;const c=(t=l[n])!=null?t:r;if(!c)return null;if(s===n){const f=l[a];return f?{x:0,y:n<a?f.top+f.height-(c.top+c.height):f.top-c.top,...Oa}:null}const d=b2(l,s,n);return s>n&&s<=a?{x:0,y:-c.height-d,...Oa}:s<n&&s>=a?{x:0,y:c.height+d,...Oa}:{x:0,y:0,...Oa}};function b2(e,t,n){const r=e[t],s=e[t-1],l=e[t+1];return r?n<t?s?r.top-(s.top+s.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const sx="Sortable",ox=me.createContext({activeIndex:-1,containerId:sx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ix,disabled:{draggable:!1,droppable:!1}});function k2(e){let{children:t,id:n,items:r,strategy:s=ix,disabled:l=!1}=e;const{active:a,dragOverlay:c,droppableRects:d,over:f,measureDroppableContainers:p}=h2(),m=pl(sx,n),y=c.rect!==null,v=S.useMemo(()=>r.map($=>typeof $=="object"&&"id"in $?$.id:$),[r]),k=a!=null,b=a?v.indexOf(a.id):-1,_=f?v.indexOf(f.id):-1,N=S.useRef(v),I=!y2(v,N.current),A=_!==-1&&b===-1||I,U=w2(l);ir(()=>{I&&k&&p(v)},[I,v,k,p]),S.useEffect(()=>{N.current=v},[v]);const Y=S.useMemo(()=>({activeIndex:b,containerId:m,disabled:U,disableTransforms:A,items:v,overIndex:_,useDragOverlay:y,sortedRects:v2(v,d),strategy:s}),[b,m,U.draggable,U.droppable,A,v,_,d,y,s]);return me.createElement(ox.Provider,{value:Y},t)}const S2=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return rx(n,r,s).indexOf(t)},_2=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:l,newIndex:a,previousItems:c,previousContainerId:d,transition:f}=e;return!f||!r||c!==l&&s===a?!1:n?!0:a!==s&&t===d},E2={duration:200,easing:"ease"},lx="transform",C2=nl.Transition.toString({property:lx,duration:0,easing:"linear"}),j2={roleDescription:"sortable"};function T2(e){let{disabled:t,index:n,node:r,rect:s}=e;const[l,a]=S.useState(null),c=S.useRef(n);return ir(()=>{if(!t&&n!==c.current&&r.current){const d=s.current;if(d){const f=Ws(r.current,{ignoreTransform:!0}),p={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(p.x||p.y)&&a(p)}}n!==c.current&&(c.current=n)},[t,n,r,s]),S.useEffect(()=>{l&&a(null)},[l]),l}function N2(e){let{animateLayoutChanges:t=_2,attributes:n,disabled:r,data:s,getNewIndex:l=S2,id:a,strategy:c,resizeObserverConfig:d,transition:f=E2}=e;const{items:p,containerId:m,activeIndex:y,disabled:v,disableTransforms:k,sortedRects:b,overIndex:_,useDragOverlay:N,strategy:I}=S.useContext(ox),A=A2(r,v),U=p.indexOf(a),Y=S.useMemo(()=>({sortable:{containerId:m,index:U,items:p},...s}),[m,s,U,p]),$=S.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:J,node:te,isOver:K,setNodeRef:L}=g2({id:a,data:Y,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:$,...d}}),{active:V,activatorEvent:Z,activeNodeRect:X,attributes:T,setNodeRef:M,listeners:P,isDragging:D,over:F,setActivatorNodeRef:W,transform:C}=f2({id:a,data:Y,attributes:{...j2,...n},disabled:A.draggable}),R=qR(L,M),H=!!V,j=H&&!k&&Ra(y)&&Ra(_),ae=!N&&D,fe=ae&&j?C:null,be=j?fe??(c??I)({rects:b,activeNodeRect:X,activeIndex:y,overIndex:_,index:U}):null,ge=Ra(y)&&Ra(_)?l({id:a,items:p,activeIndex:y,overIndex:_}):U,we=V==null?void 0:V.id,ce=S.useRef({activeId:we,items:p,newIndex:ge,containerId:m}),ze=p!==ce.current.items,st=t({active:V,containerId:m,isDragging:D,isSorting:H,id:a,index:U,items:p,newIndex:ce.current.newIndex,previousItems:ce.current.items,previousContainerId:ce.current.containerId,transition:f,wasDragging:ce.current.activeId!=null}),vt=T2({disabled:!st,index:U,node:te,rect:J});return S.useEffect(()=>{H&&ce.current.newIndex!==ge&&(ce.current.newIndex=ge),m!==ce.current.containerId&&(ce.current.containerId=m),p!==ce.current.items&&(ce.current.items=p)},[H,ge,m,p]),S.useEffect(()=>{if(we===ce.current.activeId)return;if(we&&!ce.current.activeId){ce.current.activeId=we;return}const fn=setTimeout(()=>{ce.current.activeId=we},50);return()=>clearTimeout(fn)},[we]),{active:V,activeIndex:y,attributes:T,data:Y,rect:J,index:U,newIndex:ge,items:p,isOver:K,isSorting:H,isDragging:D,listeners:P,node:te,overIndex:_,over:F,setNodeRef:R,setActivatorNodeRef:W,setDroppableNodeRef:L,setDraggableNodeRef:M,transform:vt??be,transition:Mt()};function Mt(){if(vt||ze&&ce.current.newIndex===U)return C2;if(!(ae&&!Sh(Z)||!f)&&(H||st))return nl.Transition.toString({...f,property:lx})}}function A2(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Me.Down,Me.Right,Me.Up,Me.Left;const Da="__no_objective__",I2="Sin objetivo",vy={present:"Presente",absent:"Ausente",pending:"Pendiente"};function P2({work:e,objective:t,onSelect:n}){return x.jsxs("button",{type:"button",onClick:()=>n(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),x.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]})]}),x.jsx(kr,{objective:t,size:"sm"})]})}function R2({item:e,work:t,objective:n,expanded:r,onToggleExpanded:s,onRemove:l,onUpdateDetails:a,onReplace:c,startTimeLabel:d,durationMinutes:f,objectiveOptions:p,worksByObjective:m,currentObjectiveId:y}){const{attributes:v,listeners:k,setNodeRef:b,transform:_,transition:N,isDragging:I}=N2({id:e.id}),[A,U]=S.useState(!1),Y={transform:nl.Transform.toString(_),transition:N},J=(e.focusLabel??"").trim(),te=J.length>0,K=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",L=K.trim().length>0,V=((t==null?void 0:t.videoUrls)??[]).map(R=>R.trim()).filter(Boolean),Z=V.length>0,X=L||Z,T=R=>{const H=R.target.value;a(e.id,{focusLabel:H===""?void 0:H})},M=p.length>0?p:[{id:"",name:"Sin objetivo"}],P=S.useMemo(()=>{var H;return y&&m.has(y)?y:((H=M[0])==null?void 0:H.id)??y??""},[y,M,m]),[D,F]=S.useState(P);S.useEffect(()=>{A&&F(P)},[A,P]);const W=S.useMemo(()=>(m.get(D)??[]).filter(H=>H.id!==(t==null?void 0:t.id)),[D,m,t==null?void 0:t.id]),C=S.useMemo(()=>{for(const R of m.values())if(R.some(H=>H.id!==(t==null?void 0:t.id)))return!0;return!1},[m,t==null?void 0:t.id]);return x.jsxs("article",{ref:b,style:Y,className:Je("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",I&&"ring-2 ring-sky-400/70"),children:[n?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",...k,...v,"aria-label":"Reordenar trabajo",children:"⠿"}),x.jsx("div",{className:"flex-1 space-y-1",children:x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",te?x.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",J]}):null]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[x.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:d}),x.jsx("span",{className:"text-white/30",children:"·"}),x.jsxs("span",{children:[f," min"]})]}),x.jsxs("div",{className:"max-w-md",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),x.jsx("input",{type:"text",value:e.focusLabel??"",onChange:T,placeholder:"Ej. 1/7 – Apertura",className:"input-field mt-1"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[X?x.jsxs("button",{type:"button",onClick:()=>s(e.id),className:Je("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[x.jsx("span",{className:Je("transition-transform",r?"rotate-90":"rotate-0"),children:"▶"}),r?"Ocultar detalles":"Ver detalles"]}):null,x.jsx(kr,{objective:n,size:"sm"})]})]})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:()=>U(R=>!R),disabled:!C,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categoría","aria-expanded":A,children:"⇆"}),x.jsx("button",{type:"button",onClick:()=>l(e.id),className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesión",children:"✕"})]})]}),A?x.jsxs("div",{className:"mt-3 space-y-2 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),x.jsx("select",{className:"input-field",value:D,onChange:R=>F(R.target.value),children:M.map(R=>x.jsx("option",{value:R.id,children:R.name},R.id))})]}),x.jsx("div",{className:"grid gap-1.5",children:W.length===0?x.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"No hay trabajos disponibles en este objetivo."}):W.map(R=>x.jsxs("button",{type:"button",onClick:()=>{c(R.id),U(!1)},className:"flex items-center justify-between gap-2 rounded-2xl border border-white/15 px-3 py-2 text-left text-xs font-semibold text-white/80 transition hover:border-sky-400/60 hover:text-white",children:[x.jsx("span",{children:R.name}),x.jsxs("span",{className:"text-[11px] text-white/40",children:[R.estimatedMinutes," min"]})]},R.id))})]}):null,X&&r?x.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[L?x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:x.jsx(el,{content:K})})]}):null,Z?x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de referencia"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(R=>x.jsxs("a",{href:R,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:"▶"}),"Ver vídeo"]},R))})]}):null]}):null,x.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function O2({session:e,works:t,objectives:n,assistants:r,onDateChange:s}){const l=Ne(K=>K.updateSession),a=Ne(K=>K.addWorkToSession),c=Ne(K=>K.removeWorkFromSession),d=Ne(K=>K.reorderSessionWork),f=Ne(K=>K.updateSessionWorkDetails),p=Ne(K=>K.replaceSessionWork),m=Ne(K=>K.setAttendanceStatus),[y,v]=S.useState(""),[k,b]=S.useState(new Set),_=S.useMemo(()=>new Map(n.map(K=>[K.id,K])),[n]),N=S.useMemo(()=>new Map(t.map(K=>[K.id,K])),[t]),I=S.useMemo(()=>{const K=new Map(n.map(X=>[X.id,X.name])),L=n.map(X=>({id:X.id,name:X.name})),V=new Set(L.map(X=>X.id)),Z=X=>{const T=X??Da;if(V.has(T))return;const M=T===Da?I2:K.get(T)??"Otro objetivo";L.push({id:T,name:M}),V.add(T)};return t.forEach(X=>{Z(X.objectiveId)}),L},[n,t]),A=S.useMemo(()=>{const K=new Map;return t.forEach(L=>{const V=L.objectiveId??Da,Z=K.get(V)??[];Z.push(L),K.set(V,Z)}),K.forEach(L=>{L.sort((V,Z)=>V.name.localeCompare(Z.name,"es",{sensitivity:"base"}))}),K},[t]),U=S.useMemo(()=>{if(!y)return t;const K=y.toLowerCase();return t.filter(L=>{const V=_.get(L.objectiveId);return L.name.toLowerCase().includes(K)||L.descriptionMarkdown.toLowerCase().includes(K)||(V==null?void 0:V.name.toLowerCase().includes(K))})},[t,y,_]),Y=K=>{b(L=>{const V=new Set(L);return V.has(K)?V.delete(K):V.add(K),V})},$=K=>{a(e.id,{workId:K}),v("")},J=K=>{const{active:L,over:V}=K;if(!V||L.id===V.id)return;const Z=e.workItems.findIndex(T=>T.id===L.id),X=e.workItems.findIndex(T=>T.id===V.id);Z===-1||X===-1||d(e.id,Z,X)},te=K=>L=>{const V=L.target.value;l(e.id,{[K]:V}),K==="date"&&s&&s(V)};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[x.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Título"}),x.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:te("title"),placeholder:"Nombre de la sesión"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),x.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:te("date")})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),x.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:te("startTime")})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:te("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:te("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesión"}),x.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa ⋮ para ajustar detalles."})]}),x.jsxs("div",{className:"relative w-full sm:w-72",children:[x.jsx("input",{type:"search",className:"input-field",value:y,onChange:K=>v(K.target.value),placeholder:"Buscar en catálogo"}),y&&x.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:U.length===0?x.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catálogo."}):x.jsx("div",{className:"space-y-2",children:U.map(K=>x.jsx(P2,{work:K,objective:_.get(K.objectiveId),onSelect:$},K.id))})})]})]}),x.jsx("div",{className:"space-y-4",children:x.jsx(u2,{collisionDetection:cO,onDragEnd:J,children:x.jsx(k2,{items:e.workItems.map(K=>K.id),strategy:x2,children:x.jsx("div",{className:"space-y-5",children:e.workItems.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Añade trabajos desde el catálogo con el buscador superior."}):(()=>{let K=0;const L=eu(e.startTime,"18:30");return e.workItems.map(V=>{const Z=N.get(V.workId),X=Z?_.get(Z.objectiveId):void 0,T=V.customDurationMinutes??(Z==null?void 0:Z.estimatedMinutes)??0,M=Df(L+K);return K+=T,x.jsx(R2,{item:V,work:Z,objective:X,expanded:k.has(V.id),onToggleExpanded:Y,onRemove:()=>c(e.id,V.id),onUpdateDetails:(P,D)=>f(e.id,P,D),onReplace:P=>p(e.id,V.id,P),startTimeLabel:M,durationMinutes:T,objectiveOptions:I,worksByObjective:A,currentObjectiveId:(Z==null?void 0:Z.objectiveId)??Da},V.id)})})()})})})})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsión de asistencia"}),x.jsx("p",{className:"text-sm text-white/60",children:"Indica quién esperas que asista. La asistencia real se marca durante la sesión desde la Home."})]})}),x.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?x.jsx("p",{className:"text-sm text-white/60",children:"Aún no tienes asistentes definidos. Añádelos desde la sección correspondiente para empezar a registrar asistencia."}):r.map(K=>{const L=e.attendance.find(X=>X.assistantId===K.id),V=(L==null?void 0:L.status)??"pending",Z=L==null?void 0:L.actualStatus;return x.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:K.name}),K.notes?x.jsx("p",{className:"text-xs text-white/50",children:K.notes}):null,Z?x.jsxs("p",{className:"text-xs text-white/40",children:["Último registro real: ",vy[Z]]}):null]}),x.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(X=>x.jsx("button",{type:"button",onClick:()=>m(e.id,K.id,X),className:Je("rounded-full px-3 py-1 text-xs font-semibold transition",V===X?X==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":X==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:vy[X]},X))})]},K.id)})})]})]})}function D2(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function L2(e){const t=D2(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(s,l)=>t.add(r*7+l,"day")))}function La(e,t){return Fe(e).format("YYYY-MM-DD")===Fe(t).format("YYYY-MM-DD")}Fe.locale("es");function yy(e){return Fe(e).format("MMMM YYYY")}function M2({session:e,objectives:t,works:n,isActive:r,onSelect:s,onDuplicate:l,onDelete:a}){const c=S.useMemo(()=>new Map(t.map(m=>[m.id,m])),[t]),d=S.useMemo(()=>new Map(n.map(m=>[m.id,m])),[n]),f=S.useMemo(()=>{const m=e.workItems[0];if(!m)return;const y=d.get(m.workId);if(y)return c.get(y.objectiveId)},[e.workItems,d,c]),p=e.workItems.reduce((m,y)=>{const v=d.get(y.workId);return m+(y.customDurationMinutes??(v==null?void 0:v.estimatedMinutes)??0)},0);return x.jsxs("button",{type:"button",onClick:s,className:Je("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,x.jsxs("div",{className:"flex items-start justify-between gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesión sin título"}),x.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos · ",p," min"]})]}),x.jsx(kr,{objective:f,size:"sm"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(m=>{const y=d.get(m.workId);return x.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:(y==null?void 0:y.name)??"Trabajo"},m.id)}),e.workItems.length>3?x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(kr,{objective:f,size:"sm"}),x.jsxs("div",{className:"ml-auto flex gap-2",children:[x.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),l()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),x.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),a()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function $2(){const e=Ne(T=>T.sessions),t=Ne(T=>T.works),n=Ne(T=>T.objectives),r=Ne(T=>T.assistants),s=Ne(T=>T.addSession),l=Ne(T=>T.duplicateSession),a=Ne(T=>T.deleteSession),[c,d]=m1(),f=S.useMemo(()=>{const T=new Map;return e.forEach(M=>{const P=Fe(M.date).format("YYYY-MM-DD"),D=T.get(P)??[];D.push(M),T.set(P,D)}),T.forEach(M=>M.sort((P,D)=>(P.title??"").localeCompare(D.title??"","es"))),T},[e]),p=c.get("session")??void 0,m=p?e.find(T=>T.id===p):void 0,y=Fe().format("YYYY-MM-DD"),v=(m==null?void 0:m.date)??y,[k,b]=S.useState(v),[_,N]=S.useState(Fe(k).startOf("month").format("YYYY-MM-DD")),[I,A]=S.useState(p);S.useEffect(()=>{p&&!e.find(T=>T.id===p)&&(A(void 0),d({},{replace:!0}))},[p,e,d]);const U=S.useMemo(()=>L2(Fe(_)),[_]),Y=S.useMemo(()=>{const T=Fe(_);return e.filter(M=>{const P=Fe(M.date);return P.year()===T.year()&&P.month()===T.month()}).sort((M,P)=>Fe(M.date).valueOf()-Fe(P.date).valueOf())},[e,_]),$=S.useMemo(()=>{const T=new Map;return Y.forEach(M=>{const P=Fe(M.date).format("YYYY-MM-DD"),D=T.get(P)??[];D.push(M),T.set(P,D)}),Array.from(T.entries()).sort((M,P)=>Fe(M[0]).valueOf()-Fe(P[0]).valueOf()).map(([M,P])=>({date:M,sessions:P.slice().sort((D,F)=>(D.title??"").localeCompare(F.title??"","es"))}))},[Y]),J=f.get(k)??[];S.useEffect(()=>{J.length>0?(!I||!J.some(T=>T.id===I))&&A(J[0].id):A(void 0)},[J,I]);const te=I?e.find(T=>T.id===I):void 0,K=T=>{b(T),N(Fe(T).startOf("month").format("YYYY-MM-DD"))},L=()=>{const T=s({date:k,title:"Nueva sesión",description:"",notes:""});A(T.id)},V=T=>{const M=l(T,k);M&&A(M.id)},Z=T=>{a(T),I===T&&A(void 0)},X=T=>{const M=Fe(_).add(T,"month");N(M.format("YYYY-MM-DD")),b(P=>{const D=Fe(P);return D.month()===M.month()&&D.year()===M.year()?P:M.startOf("month").format("YYYY-MM-DD")})};return x.jsxs("div",{className:"space-y-6",children:[x.jsx("header",{className:"glass-panel p-6 sm:p-10",children:x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Planificador"}),x.jsx("p",{className:"text-white/60",children:"Organiza tus sesiones con un calendario gráfico, duplica lo que funciona y edita cada detalle con drag & drop."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>X(-1),children:"← Mes anterior"}),x.jsx("div",{className:"rounded-full border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white/80",children:yy(_)}),x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>X(1),children:"Mes siguiente →"})]})]})}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.5fr_1.5fr] xl:grid-cols-[1.6fr_1.4fr]",children:[x.jsxs("section",{className:"glass-panel flex flex-col gap-6 p-6",children:[x.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(T=>x.jsx("div",{className:"rounded-full bg-white/5 py-2",children:T},T))}),x.jsx("div",{className:"grid grid-cols-7 gap-2",children:U.flat().map(T=>{const M=T.format("YYYY-MM-DD"),P=f.get(M)??[],D=T.month()===Fe(_).month(),F=La(M,y),W=La(M,k);return x.jsxs("button",{type:"button",onClick:()=>K(M),className:Je("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",W?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!D&&"text-white/30"),children:[x.jsx("span",{className:Je("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",F?"bg-white text-slate-900":""),children:T.format("D")}),x.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[P.slice(0,3).map(C=>{const R=C.workItems[0],H=R?t.find(ae=>ae.id===R.workId):void 0,j=H?n.find(ae=>ae.id===H.objectiveId):void 0;return x.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(j==null?void 0:j.colorHex)??"rgba(255,255,255,0.4)"}},C.id)}),P.length>3?x.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},M)})})]}),x.jsxs("section",{className:"glass-panel flex flex-col gap-4 p-6",children:[x.jsxs("div",{className:"flex items-center justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones del mes"}),x.jsx("h2",{className:"text-lg font-semibold text-white",children:yy(_)})]}),x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[Y.length," ",Y.length===1?"sesión":"sesiones"]})]}),x.jsx("div",{className:"custom-scrollbar -m-2 max-h-[32rem] space-y-3 overflow-y-auto p-2",children:$.length===0?x.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/50",children:"Aún no hay sesiones planificadas para este mes. Selecciona un día en el calendario para crear la primera."}):$.map(({date:T,sessions:M})=>{const P=M.length===1?"1 sesión":`${M.length} sesiones`;return x.jsxs("div",{role:"button",tabIndex:0,onClick:()=>K(T),onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),K(T))},className:Je("cursor-pointer rounded-2xl border border-white/10 bg-white/5 p-3 text-sm transition hover:border-white/40 hover:bg-white/10",La(T,k)&&"border-sky-400/50 bg-sky-500/10 shadow shadow-sky-500/10"),children:[x.jsxs("p",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[x.jsx("span",{children:Fe(T).format("ddd · D MMM")}),x.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-[9px] font-semibold tracking-[0.2em] text-white/50",children:P})]}),x.jsx("div",{className:"mt-3 space-y-2 text-xs",children:M.map(D=>{const F=(D.description??"").trim(),W=D.workItems.reduce((C,R)=>{const H=t.find(j=>j.id===R.workId);return C+(R.customDurationMinutes??(H==null?void 0:H.estimatedMinutes)??0)},0);return x.jsxs("button",{type:"button",onClick:C=>{C.stopPropagation(),K(T),A(D.id)},className:Je("flex w-full flex-col gap-1 rounded-xl border border-white/10 bg-slate-950/60 px-3 py-2 text-left transition hover:border-white/30 hover:text-white",D.id===I&&La(T,k)&&"border-sky-400/60 text-white"),children:[x.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[x.jsx("span",{className:"truncate font-medium",children:D.title||"Sesión sin título"}),x.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-white/40",children:[D.workItems.length," · ",W," min"]})]}),F?x.jsx("p",{className:"text-[11px] leading-relaxed text-white/60",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:F}):null]},D.id)})})]},T)})})]})]}),x.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),x.jsx("h2",{className:"text-2xl font-semibold text-white",children:Fe(k).format("dddd, D [de] MMMM")})]}),x.jsx("div",{className:"flex gap-3",children:x.jsx("button",{type:"button",onClick:L,className:"btn-primary",children:"+ Nueva sesión"})})]}),x.jsx("div",{className:"space-y-3",children:J.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"Aún no hay sesiones planificadas este día. Crea una con el botón superior."}):J.map(T=>x.jsx(M2,{session:T,objectives:n,works:t,isActive:T.id===I,onSelect:()=>A(T.id),onDuplicate:()=>V(T.id),onDelete:()=>Z(T.id)},T.id))})]}),te&&x.jsx("div",{className:"glass-panel p-6",children:x.jsx(O2,{session:te,works:t,objectives:n,assistants:r,onDateChange:T=>{b(T),N(Fe(T).startOf("month").format("YYYY-MM-DD"))}})})]})}const F2={name:"",objectiveId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""]},wy="__no_objective__";function z2({work:e,objective:t,expanded:n,onToggle:r,onEdit:s,onDuplicate:l,onDelete:a}){const c=(e.descriptionMarkdown??"").trim(),d=(e.notes??"").trim(),f=e.videoUrls.filter(k=>k.trim().length>0),p=c.length>0,m=d.length>0,y=f.length>0,v=p||m||y;return x.jsxs("article",{className:"relative space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5 shadow shadow-black/30",children:[t?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-3xl",style:{backgroundColor:t.colorHex}}):null,x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-white",children:e.name}),x.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[x.jsx(kr,{objective:t,size:"sm"}),v?x.jsxs("button",{type:"button",onClick:r,className:Je("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",n&&"border-white/40 text-white"),children:[x.jsx("span",{className:Je("transition-transform",n?"rotate-90":"rotate-0"),children:"▶"}),n?"Ocultar detalles":"Ver detalles"]}):null,x.jsx("button",{type:"button",onClick:s,className:"btn-secondary px-3 py-1 text-xs",children:"Editar"}),x.jsx("button",{type:"button",onClick:l,className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),x.jsx("button",{type:"button",onClick:a,className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]}),v&&n&&x.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[p?x.jsx(el,{content:e.descriptionMarkdown}):null,m?x.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,y?x.jsx("div",{className:"space-y-3",children:f.map((k,b)=>x.jsxs("div",{className:"space-y-2",children:[x.jsx(wh,{url:k,title:`${e.name} vídeo ${b+1}`}),x.jsx("a",{href:k,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${b}`))}):null]})]})}function U2({form:e,objectiveOptions:t,onFieldChange:n,onVideoChange:r,onAddVideo:s,onRemoveVideo:l,onSave:a,onCancel:c,isNew:d}){const f=t.find(p=>p.id===e.objectiveId);return x.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",children:[x.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:d?"Nuevo trabajo":"Editando trabajo"}),x.jsx("input",{type:"text",className:"input-field text-base font-semibold",placeholder:"Nombre descriptivo",value:e.name,onChange:p=>n({name:p.target.value})})]}),x.jsx(kr,{objective:f,size:"sm"})]}),x.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),x.jsxs("select",{className:"input-field",value:e.objectiveId,onChange:p=>n({objectiveId:p.target.value}),children:[x.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map(p=>x.jsx("option",{value:p.id,children:p.name},p.id))]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duración estimada (min)"}),x.jsx("input",{type:"number",min:0,className:"input-field",value:e.estimatedMinutes,onChange:p=>n({estimatedMinutes:Number(p.target.value)})})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:e.descriptionMarkdown,onChange:p=>n({descriptionMarkdown:p.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes."})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes,onChange:p=>n({notes:p.target.value})})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de YouTube"}),x.jsx("div",{className:"space-y-3",children:e.videoUrls.map((p,m)=>x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"url",className:"input-field flex-1",value:p,onChange:y=>r(m,y.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),e.videoUrls.length>1?x.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>l(m),"aria-label":"Eliminar enlace de vídeo",children:"✕"}):null]}),x.jsx(wh,{url:p,title:`Vista previa vídeo ${m+1}`})]},`video-field-${m}`))}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:s,children:"+ Añadir vídeo"})]}),x.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[x.jsx("button",{type:"button",onClick:a,className:"btn-primary",children:"Guardar"}),x.jsx("button",{type:"button",className:"btn-secondary",onClick:c,children:"Cancelar"})]})]})}function B2(){var X;const e=Ne(T=>T.works),t=Ne(T=>T.objectives),n=Ne(T=>T.addWork),r=Ne(T=>T.updateWork),s=Ne(T=>T.deleteWork),[l,a]=S.useState(""),[c,d]=S.useState(null),[f,p]=S.useState(new Set),[m,y]=S.useState({}),v=S.useMemo(()=>new Map(t.map(T=>[T.id,T])),[t]),k=S.useMemo(()=>[...t].sort((T,M)=>(T.name??"").localeCompare(M.name??"","es")),[t]),b=l.trim().toLowerCase(),_=T=>{var P;if(!b)return!0;const M=((P=v.get(T.objectiveId))==null?void 0:P.name)??"";return T.name.toLowerCase().includes(b)||T.descriptionMarkdown.toLowerCase().includes(b)||M.toLowerCase().includes(b)},N=S.useMemo(()=>{const T=[];return e.forEach(M=>{const P=m[M.id],D=(P==null?void 0:P.data)??{name:M.name,descriptionMarkdown:M.descriptionMarkdown,objectiveId:M.objectiveId};!P&&!_(D)||T.push({id:M.id,objectiveId:D.objectiveId,work:M,isNew:!1,isEditing:!!P,form:P==null?void 0:P.data})}),Object.entries(m).filter(([,M])=>M.isNew).forEach(([M,P])=>{_(P.data)&&T.push({id:M,objectiveId:P.data.objectiveId,work:void 0,isNew:!0,isEditing:!0,form:P.data})}),T},[e,m,_]),I=S.useMemo(()=>{const T=new Map;N.forEach(F=>{const W=v.has(F.objectiveId)?F.objectiveId:wy,C=T.get(W)??[];C.push(F),T.set(W,C)});const M=(F,W)=>{const C=R=>{var H;return R.isEditing&&R.form?R.form.name.trim():((H=R.work)==null?void 0:H.name.trim())??""};return C(F).localeCompare(C(W),"es",{sensitivity:"base"})},P=[];k.forEach(F=>{const W=T.get(F.id);W&&W.length&&P.push({objective:F,items:W.slice().sort(M)})});const D=T.get(wy);return D&&D.length&&P.push({objective:void 0,items:D.slice().sort(M)}),P},[N,v,k]),A=((X=k[0])==null?void 0:X.id)??"",U=(T,M)=>{y(P=>{const D=P[T];return D?{...P,[T]:M(D)}:P})},Y=T=>T.length>0?T:[""],$=T=>{y(M=>M[T.id]?M:{...M,[T.id]:{data:{id:T.id,name:T.name,objectiveId:T.objectiveId,descriptionMarkdown:T.descriptionMarkdown,estimatedMinutes:T.estimatedMinutes,notes:T.notes??"",videoUrls:Y(T.videoUrls.slice())},isNew:!1,originalId:T.id}}),p(M=>{const P=new Set(M);return P.add(T.id),P})},J=()=>{const T=`draft-${_n()}`;y(M=>({...M,[T]:{data:{...F2,id:T,objectiveId:A},isNew:!0}})),p(M=>{const P=new Set(M);return P.add(T),P})},te=T=>{const M=`draft-${_n()}`;y(P=>({...P,[M]:{data:{id:M,name:`${T.name} (copia)`,objectiveId:T.objectiveId,descriptionMarkdown:T.descriptionMarkdown,estimatedMinutes:T.estimatedMinutes,notes:T.notes??"",videoUrls:Y(T.videoUrls.slice())},isNew:!0}})),p(P=>{const D=new Set(P);return D.add(M),D}),d({type:"success",text:"Duplicación creada. Ajusta y guarda para confirmarla."})},K=T=>{p(M=>{const P=new Set(M);return P.has(T)?P.delete(T):P.add(T),P})},L=T=>{y(M=>{const P={...M};return delete P[T],P}),T.startsWith("draft-")&&p(M=>{const P=new Set(M);return P.delete(T),P})},V=T=>{const M=m[T];if(!M)return;const P={name:M.data.name.trim(),objectiveId:M.data.objectiveId,descriptionMarkdown:M.data.descriptionMarkdown,estimatedMinutes:Number(M.data.estimatedMinutes)||0,notes:M.data.notes.trim()||void 0,videoUrls:M.data.videoUrls.map(D=>D.trim()).filter(Boolean)};if(!P.name){d({type:"error",text:"El nombre es obligatorio."});return}if(!P.objectiveId){d({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if(M.isNew){const D=n(P);y(F=>{const W={...F};return delete W[T],W}),p(F=>{const W=new Set(F);return W.delete(T)&&W.add(D.id),W}),d({type:"success",text:"Trabajo creado correctamente."})}else M.originalId&&(r(M.originalId,P),y(D=>{const F={...D};return delete F[T],F}),d({type:"success",text:"Trabajo actualizado."}))},Z=T=>{if(!s(T)){d({type:"error",text:"No se puede eliminar porque está siendo usado en alguna sesión."});return}d({type:"success",text:"Trabajo eliminado."}),y(P=>{const D={...P};return delete D[T],D}),p(P=>{const D=new Set(P);return D.delete(T),D})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),x.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),x.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[x.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:l,onChange:T=>a(T.target.value),placeholder:"Buscar por nombre, descripción u objetivo"}),x.jsx("button",{type:"button",className:"btn-primary",onClick:J,children:"Nuevo trabajo"})]})]}),c&&x.jsx("div",{className:Je("rounded-2xl border px-4 py-3 text-sm",c.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:c.text})]}),x.jsx("section",{className:"space-y-6",children:I.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no hay trabajos guardados. Empieza creando uno con el botón «Nuevo trabajo»."}):I.map(({objective:T,items:M})=>{const P=T?T.name:"Sin objetivo asignado";return x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:P}),x.jsx(kr,{objective:T,size:"sm"})]}),x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[M.length," trabajo",M.length===1?"":"s"]})]}),x.jsx("div",{className:"space-y-4",children:M.map(D=>{const F=f.has(D.id);return D.isEditing&&D.form?x.jsx(U2,{form:D.form,objectiveOptions:k,onFieldChange:W=>U(D.id,C=>({...C,data:{...C.data,...W}})),onVideoChange:(W,C)=>U(D.id,R=>{const H=R.data.videoUrls.slice();return H[W]=C,{...R,data:{...R.data,videoUrls:H}}}),onAddVideo:()=>U(D.id,W=>({...W,data:{...W.data,videoUrls:[...W.data.videoUrls,""]}})),onRemoveVideo:W=>U(D.id,C=>{const R=C.data.videoUrls.slice();return R.splice(W,1),{...C,data:{...C.data,videoUrls:R.length?R:[""]}}}),onSave:()=>V(D.id),onCancel:()=>L(D.id),isNew:D.isNew},D.id):D.work?x.jsx(z2,{work:D.work,objective:v.get(D.work.objectiveId),expanded:F,onToggle:()=>K(D.id),onEdit:()=>$(D.work),onDuplicate:()=>te(D.work),onDelete:()=>Z(D.work.id)},D.id):null})})]},(T==null?void 0:T.id)??"sin-objetivo")})})]})}const Gd={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},xy=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function W2(){const e=Ne(b=>b.objectives),t=Ne(b=>b.addObjective),n=Ne(b=>b.updateObjective),r=Ne(b=>b.deleteObjective),s=Ne(b=>b.works),[l,a]=S.useState(Gd),[c,d]=S.useState(null),f=S.useMemo(()=>{const b=new Map;return s.forEach(_=>{b.set(_.objectiveId,(b.get(_.objectiveId)??0)+1)}),b},[s]),p=S.useMemo(()=>[...e].sort((b,_)=>(b.name??"").localeCompare(_.name??"","es")),[e]),m=b=>{if(b.preventDefault(),!l.name.trim()){d({type:"error",text:"El nombre es obligatorio."});return}const _={name:l.name.trim(),colorHex:l.colorHex,descriptionMarkdown:l.descriptionMarkdown};l.id?(n(l.id,_),d({type:"success",text:"Objetivo actualizado."})):(t(_),d({type:"success",text:"Objetivo creado."})),a(Gd)},y=b=>{a({id:b.id,name:b.name,colorHex:b.colorHex,descriptionMarkdown:b.descriptionMarkdown})},v=b=>{const _=r(b);d(_?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},k=()=>{if(e.length===0){d({type:"error",text:"No hay objetivos a los que asignar colores."});return}const b=[...xy];e.map((N,I)=>{const A=b[I%b.length];return{id:N.id,colorHex:A}}).forEach(({id:N,colorHex:I})=>n(N,{colorHex:I})),d({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),x.jsx("p",{className:"text-white/60",children:"Define categorías de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),x.jsx("div",{className:"flex flex-wrap gap-3",children:x.jsx("button",{type:"button",className:"btn-secondary",onClick:k,children:"Repartir colores"})})]}),c&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${c.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:c.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:l.id?"Editar objetivo":"Nuevo objetivo"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:m,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:l.name,onChange:b=>a(_=>({..._,name:b.target.value})),placeholder:"Ej. Resistencia, Técnica, Juego",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),x.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:l.colorHex,onChange:b=>a(_=>({..._,colorHex:b.target.value})),"aria-label":"Elegir color personalizado"}),x.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:l.colorHex,onChange:b=>a(_=>({..._,colorHex:b.target.value})),placeholder:"#60a5fa","aria-label":"Código hex del color"})]}),x.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:xy.map(b=>x.jsx("button",{type:"button",onClick:()=>a(_=>({..._,colorHex:b})),className:Je("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",l.colorHex.toLowerCase()===b.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:b},"aria-label":`Seleccionar color ${b}`,children:l.colorHex.toLowerCase()===b.toLowerCase()&&x.jsx("span",{className:"text-xs font-semibold text-slate-900",children:"✓"})},b))})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:l.descriptionMarkdown,onChange:b=>a(_=>({..._,descriptionMarkdown:b.target.value})),placeholder:"Explica cuándo usar este tipo de trabajo, objetivos pedagógicos, etc."})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:l.id?"Guardar objetivo":"Crear objetivo"}),l.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(Gd),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-6",children:p.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripción."}):p.map(b=>x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsx(kr,{objective:b}),x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[x.jsxs("span",{children:[f.get(b.id)??0," trabajos"]}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>y(b),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>v(b.id),children:"Eliminar"})]})]}),x.jsx(el,{content:b.descriptionMarkdown})]},b.id))})]})]})}const Jd={name:"",notes:"",active:!0};function H2(){const e=Ne(p=>p.assistants),t=Ne(p=>p.addAssistant),n=Ne(p=>p.updateAssistant),r=Ne(p=>p.deleteAssistant),[s,l]=S.useState(Jd),[a,c]=S.useState(null),d=p=>{if(p.preventDefault(),!s.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const m={name:s.name.trim(),notes:s.notes,active:s.active};s.id?(n(s.id,m),c({type:"success",text:"Asistente actualizado."})):(t(m),c({type:"success",text:"Asistente añadido."})),l(Jd)},f=p=>{l({id:p.id,name:p.name,notes:p.notes??"",active:p.active})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),x.jsx("p",{className:"text-white/60",children:"Mantén una lista base de alumnado para registrar asistencia rápidamente durante cada sesión."})]})}),a&&x.jsx("div",{className:Je("mt-4 rounded-2xl border px-4 py-3 text-sm",a.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:a.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:s.id?"Editar asistente":"Nuevo asistente"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:d,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:s.name,onChange:p=>l(m=>({...m,name:p.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:s.notes,onChange:p=>l(m=>({...m,notes:p.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:s.active,onChange:p=>l(m=>({...m,active:p.target.checked}))}),x.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecerá en los listados de asistencia)"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:s.id?"Guardar asistente":"Añadir asistente"}),s.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l(Jd),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-4",children:e.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todavía no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(p=>x.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:p.name}),p.notes?x.jsx("p",{className:"text-sm text-white/60",children:p.notes}):null]}),x.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[x.jsx("span",{className:Je("rounded-full border px-3 py-1 text-xs font-semibold",p.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:p.active?"Activo":"Inactivo"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(p),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(p.id),children:"Eliminar"})]})]})]},p.id))})]})]})}function Ss(e,t){return x.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[x.jsx("span",{children:e}),x.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function V2(){var d,f,p,m,y,v;const e=Ne(k=>k.exportBackup),t=Ne(k=>k.importBackup),[n,r]=S.useState(null),[s,l]=S.useState(null),a=()=>{try{const k=e(),b=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),_=URL.createObjectURL(b),N=document.createElement("a");N.href=_,N.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,N.click(),URL.revokeObjectURL(_),r({type:"success",text:"Backup exportado correctamente."})}catch(k){console.error(k),r({type:"error",text:"No se pudo exportar el backup."})}},c=async k=>{var _;const b=(_=k.target.files)==null?void 0:_[0];if(b)try{const N=await b.text(),I=JSON.parse(N);t(I),l(I),r({type:"success",text:"Datos importados correctamente."})}catch(N){console.error(N),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON válido."})}finally{k.target.value=""}};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),x.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu información en JSON versionado para compartir o restaurar en cualquier momento."})]}),x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[x.jsx("button",{type:"button",className:"btn-primary",onClick:a,children:"Descargar backup"}),x.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",x.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:c})]})]})]}),n&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),s&&x.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:"Última importación"}),x.jsxs("p",{className:"text-sm text-white/60",children:["Versión del backup: ",s.version]}),x.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[Ss("Objetivos",((d=s.objetivos)==null?void 0:d.length)??0),Ss("Trabajos",((f=s.trabajos)==null?void 0:f.length)??0),Ss("Sesiones",((p=s.sesiones)==null?void 0:p.length)??0),Ss("Asistentes",((m=s.asistentes)==null?void 0:m.length)??0),Ss("Sesiones · Trabajos",((y=s.sesiones_trabajos)==null?void 0:y.length)??0),Ss("Sesiones · Asistencias",((v=s.sesiones_asistencias)==null?void 0:v.length)??0)]})]}),x.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[x.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),x.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[x.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),x.jsx("li",{children:"Antes de importar, realiza una exportación por seguridad. La restauración sobrescribe los datos actuales sin posibilidad de deshacer."}),x.jsx("li",{children:"Los backups mantienen los IDs, así que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function q2(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=wu(),[s,l]=S.useState("login"),[a,c]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState(""),[y,v]=S.useState(!1),[k,b]=S.useState(null),[_,N]=S.useState(null);if(!r&&n)return x.jsx(Hf,{to:"/",replace:!0});const I=async U=>{if(U.preventDefault(),b(null),N(null),!a||!d){b("Introduce tu email y contraseña.");return}if(s==="register"&&d!==p){b("Las contraseñas no coinciden.");return}try{v(!0),s==="login"?await e(a,d):(await t(a,d),N("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesión."))}catch(Y){const $=Y instanceof Error?Y.message:"No se pudo completar la operación.";b($)}finally{v(!1)}},A=()=>{l(U=>U==="login"?"register":"login"),b(null),N(null),f(""),m("")};return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:x.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[x.jsxs("header",{className:"mb-8 text-center",children:[x.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),x.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:s==="login"?"Inicia sesión":"Crea tu cuenta"}),x.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),x.jsxs("form",{className:"space-y-5",onSubmit:I,children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),x.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:a,onChange:U=>c(U.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contraseña"}),x.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:d,onChange:U=>f(U.target.value),autoComplete:s==="login"?"current-password":"new-password"})]}),s==="register"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contraseña"}),x.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:p,onChange:U=>m(U.target.value),autoComplete:"new-password"})]}),k&&x.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:k}),_&&x.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:_}),x.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:y,children:y?"Procesando…":s==="login"?"Entrar":"Crear cuenta"})]}),x.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:s==="login"?x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:A,children:"¿No tienes cuenta? Regístrate"}):x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:A,children:"¿Ya tienes cuenta? Inicia sesión"})})]})})}const Y2="/sport-planner/".replace(/\/$/,""),by=[{to:"/",label:"Home"},{to:"/plan",label:"Planificar"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function K2(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),{user:s,signOut:l}=wu(),a=async()=>{try{r(!0),await l()}catch(c){console.error("No se pudo cerrar sesión",c)}finally{r(!1),t(!1)}};return x.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[x.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[x.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),x.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increíbles"})]})]}),x.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[x.jsx("nav",{className:"flex items-center gap-2",children:by.map(c=>x.jsx(wg,{to:c.to,className:({isActive:d})=>`rounded-full px-4 py-2 text-sm font-medium transition ${d?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:c.label},c.to))}),x.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-white/50",children:"Sesión iniciada"}),x.jsx("p",{className:"text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"})]}),x.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]}),x.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),x.jsxs(Lg,{open:e,onClose:t,className:"md:hidden",children:[x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),x.jsxs(Lg.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegación"}),x.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"mt-6 flex flex-col gap-2",children:by.map(c=>x.jsx(wg,{to:c.to,className:({isActive:d})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${d?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:c.label},c.to))}),x.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesión iniciada"}),x.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"}),x.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]})]})]})}function G2(){return rj(),x.jsxs("div",{className:"min-h-screen pb-16",children:[x.jsx(K2,{}),x.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:x.jsx(Ry,{})})]})}function J2(){return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),x.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner…"})]})})}function Q2(){const{session:e,loading:t}=wu(),n=oi();return t?x.jsx(J2,{}):e?x.jsx(Ry,{}):x.jsx(Hf,{to:"/login",replace:!0,state:{from:n}})}function X2(){return x.jsx(c1,{basename:Y2||void 0,children:x.jsxs(t1,{children:[x.jsx(Fn,{path:"/login",element:x.jsx(q2,{})}),x.jsx(Fn,{element:x.jsx(Q2,{}),children:x.jsxs(Fn,{element:x.jsx(G2,{}),children:[x.jsx(Fn,{index:!0,element:x.jsx(VR,{})}),x.jsx(Fn,{path:"plan",element:x.jsx($2,{})}),x.jsx(Fn,{path:"catalog",element:x.jsx(B2,{})}),x.jsx(Fn,{path:"objectives",element:x.jsx(W2,{})}),x.jsx(Fn,{path:"assistants",element:x.jsx(H2,{})}),x.jsx(Fn,{path:"backups",element:x.jsx(V2,{})})]})}),x.jsx(Fn,{path:"*",element:x.jsx(Hf,{to:"/",replace:!0})})]})})}Ne.getState().hydrate();ck.createRoot(document.getElementById("root")).render(x.jsx(me.StrictMode,{children:x.jsx(YC,{children:x.jsx(X2,{})})}));
