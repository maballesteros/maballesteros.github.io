function Zb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Ds(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ek(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var ld={exports:{}},jo={},ad={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function tk(){if(rg)return Ie;rg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function E(I,V,T){this.props=I,this.context=V,this.refs=b,this.updater=T||v}E.prototype.isReactComponent={},E.prototype.setState=function(I,V){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,V,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function j(){}j.prototype=E.prototype;function A(I,V,T){this.props=I,this.context=V,this.refs=b,this.updater=T||v}var N=A.prototype=new j;N.constructor=A,k(N,E.prototype),N.isPureReactComponent=!0;var U=Array.isArray,K=Object.prototype.hasOwnProperty,L={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function te(I,V,T){var ae,fe={},ue=null,be=null;if(V!=null)for(ae in V.ref!==void 0&&(be=V.ref),V.key!==void 0&&(ue=""+V.key),V)K.call(V,ae)&&!Z.hasOwnProperty(ae)&&(fe[ae]=V[ae]);var ge=arguments.length-2;if(ge===1)fe.children=T;else if(1<ge){for(var we=Array(ge),ce=0;ce<ge;ce++)we[ce]=arguments[ce+2];fe.children=we}if(I&&I.defaultProps)for(ae in ge=I.defaultProps,ge)fe[ae]===void 0&&(fe[ae]=ge[ae]);return{$$typeof:e,type:I,key:ue,ref:be,props:fe,_owner:L.current}}function J(I,V){return{$$typeof:e,type:I.type,key:V,ref:I.ref,props:I.props,_owner:I._owner}}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function q(I){var V={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(T){return V[T]})}var H=/\/+/g;function Q(I,V){return typeof I=="object"&&I!==null&&I.key!=null?q(""+I.key):V.toString(36)}function O(I,V,T,ae,fe){var ue=typeof I;(ue==="undefined"||ue==="boolean")&&(I=null);var be=!1;if(I===null)be=!0;else switch(ue){case"string":case"number":be=!0;break;case"object":switch(I.$$typeof){case e:case t:be=!0}}if(be)return be=I,fe=fe(be),I=ae===""?"."+Q(be,0):ae,U(fe)?(T="",I!=null&&(T=I.replace(H,"$&/")+"/"),O(fe,V,T,"",function(ce){return ce})):fe!=null&&(D(fe)&&(fe=J(fe,T+(!fe.key||be&&be.key===fe.key?"":(""+fe.key).replace(H,"$&/")+"/")+I)),V.push(fe)),1;if(be=0,ae=ae===""?".":ae+":",U(I))for(var ge=0;ge<I.length;ge++){ue=I[ge];var we=ae+Q(ue,ge);be+=O(ue,V,T,we,fe)}else if(we=y(I),typeof we=="function")for(I=we.call(I),ge=0;!(ue=I.next()).done;)ue=ue.value,we=ae+Q(ue,ge++),be+=O(ue,V,T,we,fe);else if(ue==="object")throw V=String(I),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return be}function $(I,V,T){if(I==null)return I;var ae=[],fe=0;return O(I,ae,"","",function(ue){return V.call(T,ue,fe++)}),ae}function P(I){if(I._status===-1){var V=I._result;V=V(),V.then(function(T){(I._status===0||I._status===-1)&&(I._status=1,I._result=T)},function(T){(I._status===0||I._status===-1)&&(I._status=2,I._result=T)}),I._status===-1&&(I._status=0,I._result=V)}if(I._status===1)return I._result.default;throw I._result}var M={current:null},F={transition:null},W={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:F,ReactCurrentOwner:L};function C(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:$,forEach:function(I,V,T){$(I,function(){V.apply(this,arguments)},T)},count:function(I){var V=0;return $(I,function(){V++}),V},toArray:function(I){return $(I,function(V){return V})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ie.Component=E,Ie.Fragment=n,Ie.Profiler=s,Ie.PureComponent=A,Ie.StrictMode=r,Ie.Suspense=d,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Ie.act=C,Ie.cloneElement=function(I,V,T){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ae=k({},I.props),fe=I.key,ue=I.ref,be=I._owner;if(V!=null){if(V.ref!==void 0&&(ue=V.ref,be=L.current),V.key!==void 0&&(fe=""+V.key),I.type&&I.type.defaultProps)var ge=I.type.defaultProps;for(we in V)K.call(V,we)&&!Z.hasOwnProperty(we)&&(ae[we]=V[we]===void 0&&ge!==void 0?ge[we]:V[we])}var we=arguments.length-2;if(we===1)ae.children=T;else if(1<we){ge=Array(we);for(var ce=0;ce<we;ce++)ge[ce]=arguments[ce+2];ae.children=ge}return{$$typeof:e,type:I.type,key:fe,ref:ue,props:ae,_owner:be}},Ie.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:l,_context:I},I.Consumer=I},Ie.createElement=te,Ie.createFactory=function(I){var V=te.bind(null,I);return V.type=I,V},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(I){return{$$typeof:c,render:I}},Ie.isValidElement=D,Ie.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:P}},Ie.memo=function(I,V){return{$$typeof:f,type:I,compare:V===void 0?null:V}},Ie.startTransition=function(I){var V=F.transition;F.transition={};try{I()}finally{F.transition=V}},Ie.unstable_act=C,Ie.useCallback=function(I,V){return M.current.useCallback(I,V)},Ie.useContext=function(I){return M.current.useContext(I)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(I){return M.current.useDeferredValue(I)},Ie.useEffect=function(I,V){return M.current.useEffect(I,V)},Ie.useId=function(){return M.current.useId()},Ie.useImperativeHandle=function(I,V,T){return M.current.useImperativeHandle(I,V,T)},Ie.useInsertionEffect=function(I,V){return M.current.useInsertionEffect(I,V)},Ie.useLayoutEffect=function(I,V){return M.current.useLayoutEffect(I,V)},Ie.useMemo=function(I,V){return M.current.useMemo(I,V)},Ie.useReducer=function(I,V,T){return M.current.useReducer(I,V,T)},Ie.useRef=function(I){return M.current.useRef(I)},Ie.useState=function(I){return M.current.useState(I)},Ie.useSyncExternalStore=function(I,V,T){return M.current.useSyncExternalStore(I,V,T)},Ie.useTransition=function(){return M.current.useTransition()},Ie.version="18.3.1",Ie}var ig;function iu(){return ig||(ig=1,ad.exports=tk()),ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function nk(){if(sg)return jo;sg=1;var e=iu(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var p,m={},y=null,v=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)r.call(d,p)&&!l.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:c,key:y,ref:v,props:m,_owner:s.current}}return jo.Fragment=n,jo.jsx=a,jo.jsxs=a,jo}var og;function rk(){return og||(og=1,ld.exports=nk()),ld.exports}var x=rk(),S=iu();const me=Ds(S),Jd=Zb({__proto__:null,default:me},[S]);var xa={},ud={exports:{}},Gt={},cd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function ik(){return lg||(lg=1,(function(e){function t(F,W){var C=F.length;F.push(W);e:for(;0<C;){var I=C-1>>>1,V=F[I];if(0<s(V,W))F[I]=W,F[C]=V,C=I;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],C=F.pop();if(C!==W){F[0]=C;e:for(var I=0,V=F.length,T=V>>>1;I<T;){var ae=2*(I+1)-1,fe=F[ae],ue=ae+1,be=F[ue];if(0>s(fe,C))ue<V&&0>s(be,fe)?(F[I]=be,F[ue]=C,I=ue):(F[I]=fe,F[ae]=C,I=ae);else if(ue<V&&0>s(be,C))F[I]=be,F[ue]=C,I=ue;else break e}}return W}function s(F,W){var C=F.sortIndex-W.sortIndex;return C!==0?C:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var d=[],f=[],p=1,m=null,y=3,v=!1,k=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(F){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=F)r(f),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(f)}}function U(F){if(b=!1,N(F),!k)if(n(d)!==null)k=!0,P(K);else{var W=n(f);W!==null&&M(U,W.startTime-F)}}function K(F,W){k=!1,b&&(b=!1,j(te),te=-1),v=!0;var C=y;try{for(N(W),m=n(d);m!==null&&(!(m.expirationTime>W)||F&&!q());){var I=m.callback;if(typeof I=="function"){m.callback=null,y=m.priorityLevel;var V=I(m.expirationTime<=W);W=e.unstable_now(),typeof V=="function"?m.callback=V:m===n(d)&&r(d),N(W)}else r(d);m=n(d)}if(m!==null)var T=!0;else{var ae=n(f);ae!==null&&M(U,ae.startTime-W),T=!1}return T}finally{m=null,y=C,v=!1}}var L=!1,Z=null,te=-1,J=5,D=-1;function q(){return!(e.unstable_now()-D<J)}function H(){if(Z!==null){var F=e.unstable_now();D=F;var W=!0;try{W=Z(!0,F)}finally{W?Q():(L=!1,Z=null)}}else L=!1}var Q;if(typeof A=="function")Q=function(){A(H)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,$=O.port2;O.port1.onmessage=H,Q=function(){$.postMessage(null)}}else Q=function(){E(H,0)};function P(F){Z=F,L||(L=!0,Q())}function M(F,W){te=E(function(){F(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,P(K))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var C=y;y=W;try{return F()}finally{y=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var C=y;y=F;try{return W()}finally{y=C}},e.unstable_scheduleCallback=function(F,W,C){var I=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?I+C:I):C=I,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=C+V,F={id:p++,callback:W,priorityLevel:F,startTime:C,expirationTime:V,sortIndex:-1},C>I?(F.sortIndex=C,t(f,F),n(d)===null&&F===n(f)&&(b?(j(te),te=-1):b=!0,M(U,C-I))):(F.sortIndex=V,t(d,F),k||v||(k=!0,P(K))),F},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(F){var W=y;return function(){var C=y;y=W;try{return F.apply(this,arguments)}finally{y=C}}}})(dd)),dd}var ag;function sk(){return ag||(ag=1,cd.exports=ik()),cd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function ok(){if(ug)return Gt;ug=1;var e=iu(),t=sk();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(i,o){a(i,o),a(i+"Capture",o)}function a(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(i){return d.call(m,i)?!0:d.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function v(i,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,h){if(o===null||typeof o>"u"||v(i,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(i,o,u,h,g,w,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=_}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];E[o]=new b(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(j,A);E[o]=new b(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(j,A);E[o]=new b(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(j,A);E[o]=new b(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,o,u,h){var g=E.hasOwnProperty(o)?E[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,g,h)&&(u=null),h||g===null?y(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,h=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?i.setAttributeNS(h,o,u):i.setAttribute(o,u))))}var U=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),L=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),F=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var C=Object.assign,I;function V(i){if(I===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);I=o&&o[1]||""}return`
`+I+i}var T=!1;function ae(i,o){if(!i||T)return"";T=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var h=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){h=X}i.call(o.prototype)}else{try{throw Error()}catch(X){h=X}i()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),w=h.stack.split(`
`),_=g.length-1,R=w.length-1;1<=_&&0<=R&&g[_]!==w[R];)R--;for(;1<=_&&0<=R;_--,R--)if(g[_]!==w[R]){if(_!==1||R!==1)do if(_--,R--,0>R||g[_]!==w[R]){var z=`
`+g[_].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=_&&0<=R);break}}}finally{T=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?V(i):""}function fe(i){switch(i.tag){case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return i=ae(i.type,!1),i;case 11:return i=ae(i.type.render,!1),i;case 1:return i=ae(i.type,!0),i;default:return""}}function ue(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Z:return"Fragment";case L:return"Portal";case J:return"Profiler";case te:return"StrictMode";case Q:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case q:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case H:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return o=i.displayName||null,o!==null?o:ue(i.type)||"Memo";case P:o=i._payload,i=i._init;try{return ue(i(o))}catch{}}return null}function be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(o);case 8:return o===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ge(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function we(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ce(i){var o=we(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(_){h=""+_,w.call(this,_)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Fe(i){i._valueTracker||(i._valueTracker=ce(i))}function it(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=we(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function vt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Mt(i,o){var u=o.checked;return C({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function fn(i,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=ge(o.value!=null?o.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function hn(i,o){o=o.checked,o!=null&&N(i,"checked",o,!1)}function lr(i,o){hn(i,o);var u=ge(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Vn(i,o.type,u):o.hasOwnProperty("defaultValue")&&Vn(i,o.type,ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ui(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Vn(i,o,u){(o!=="number"||vt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var St=Array.isArray;function nn(i,o,u,h){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+ge(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function qn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return C({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ci(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(St(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ge(u)}}function di(i,o){var u=ge(o.value),h=ge(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function Ui(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ee(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ee(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xe,je=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,h,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(xe=xe||document.createElement("div"),xe.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=xe.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Re(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pn=["Webkit","ms","Moz","O"];Object.keys(Be).forEach(function(i){pn.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Be[o]=Be[i]})});function Bt(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Be.hasOwnProperty(i)&&Be[i]?(""+o).trim():o+"px"}function Yn(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Bt(u,o[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,g):i[u]=g}}var Tn=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(i,o){if(o){if(Tn[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function mn(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function Hs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vs=null,jr=null,Je=null;function jt(i){if(i=fo(i)){if(typeof Vs!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Dl(o),Vs(i.stateNode,i.type,o))}}function Tt(i){jr?Je?Je.push(i):Je=[i]:jr=i}function Nn(){if(jr){var i=jr,o=Je;if(Je=jr=null,jt(i),o)for(i=0;i<o.length;i++)jt(o[i])}}function $t(i,o){return i(o)}function Nt(){}var Wt=!1;function ar(i,o,u){if(Wt)return i(o,u);Wt=!0;try{return $t(i,o,u)}finally{Wt=!1,(jr!==null||Je!==null)&&(Nt(),Nn())}}function Qe(i,o){var u=i.stateNode;if(u===null)return null;var h=Dl(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var gn=!1;if(c)try{var At={};Object.defineProperty(At,"passive",{get:function(){gn=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{gn=!1}function An(i,o,u,h,g,w,_,R,z){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(re){this.onError(re)}}var In=!1,Kn=null,rn=!1,ur=null,qs={onError:function(i){In=!0,Kn=i}};function lx(i,o,u,h,g,w,_,R,z){In=!1,Kn=null,An.apply(qs,arguments)}function ax(i,o,u,h,g,w,_,R,z){if(lx.apply(this,arguments),In){if(In){var X=Kn;In=!1,Kn=null}else throw Error(n(198));rn||(rn=!0,ur=X)}}function fi(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ch(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function jh(i){if(fi(i)!==i)throw Error(n(188))}function ux(i){var o=i.alternate;if(!o){if(o=fi(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,h=o;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return jh(g),i;if(w===h)return jh(g),o;w=w.sibling}throw Error(n(188))}if(u.return!==h.return)u=g,h=w;else{for(var _=!1,R=g.child;R;){if(R===u){_=!0,u=g,h=w;break}if(R===h){_=!0,h=g,u=w;break}R=R.sibling}if(!_){for(R=w.child;R;){if(R===u){_=!0,u=w,h=g;break}if(R===h){_=!0,h=w,u=g;break}R=R.sibling}if(!_)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Th(i){return i=ux(i),i!==null?Nh(i):null}function Nh(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Nh(i);if(o!==null)return o;i=i.sibling}return null}var Ah=t.unstable_scheduleCallback,Ih=t.unstable_cancelCallback,cx=t.unstable_shouldYield,dx=t.unstable_requestPaint,st=t.unstable_now,fx=t.unstable_getCurrentPriorityLevel,ju=t.unstable_ImmediatePriority,Ph=t.unstable_UserBlockingPriority,ml=t.unstable_NormalPriority,hx=t.unstable_LowPriority,Rh=t.unstable_IdlePriority,gl=null,Gn=null;function px(i){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(gl,i,void 0,(i.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:vx,mx=Math.log,gx=Math.LN2;function vx(i){return i>>>=0,i===0?32:31-(mx(i)/gx|0)|0}var vl=64,yl=4194304;function Ys(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function wl(i,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,w=i.pingedLanes,_=u&268435455;if(_!==0){var R=_&~g;R!==0?h=Ys(R):(w&=_,w!==0&&(h=Ys(w)))}else _=u&~g,_!==0?h=Ys(_):w!==0&&(h=Ys(w));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)u=31-Pn(o),g=1<<u,h|=i[u],o&=~g;return h}function yx(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wx(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes;0<w;){var _=31-Pn(w),R=1<<_,z=g[_];z===-1?((R&u)===0||(R&h)!==0)&&(g[_]=yx(R,o)):z<=o&&(i.expiredLanes|=R),w&=~R}}function Tu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Oh(){var i=vl;return vl<<=1,(vl&4194240)===0&&(vl=64),i}function Nu(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ks(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Pn(o),i[o]=u}function xx(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-Pn(u),w=1<<g;o[g]=0,h[g]=-1,i[g]=-1,u&=~w}}function Au(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-Pn(u),g=1<<h;g&o|i[h]&o&&(i[h]|=o),u&=~g}}var $e=0;function Dh(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Lh,Iu,Mh,$h,Fh,Pu=!1,xl=[],Tr=null,Nr=null,Ar=null,Gs=new Map,Js=new Map,Ir=[],bx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(i,o){switch(i){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Gs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(o.pointerId)}}function Qs(i,o,u,h,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},o!==null&&(o=fo(o),o!==null&&Iu(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function kx(i,o,u,h,g){switch(o){case"focusin":return Tr=Qs(Tr,i,o,u,h,g),!0;case"dragenter":return Nr=Qs(Nr,i,o,u,h,g),!0;case"mouseover":return Ar=Qs(Ar,i,o,u,h,g),!0;case"pointerover":var w=g.pointerId;return Gs.set(w,Qs(Gs.get(w)||null,i,o,u,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Js.set(w,Qs(Js.get(w)||null,i,o,u,h,g)),!0}return!1}function Uh(i){var o=hi(i.target);if(o!==null){var u=fi(o);if(u!==null){if(o=u.tag,o===13){if(o=Ch(u),o!==null){i.blockedOn=o,Fh(i.priority,function(){Mh(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ou(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Ct=h,u.target.dispatchEvent(h),Ct=null}else return o=fo(u),o!==null&&Iu(o),i.blockedOn=u,!1;o.shift()}return!0}function Bh(i,o,u){bl(i)&&u.delete(o)}function Sx(){Pu=!1,Tr!==null&&bl(Tr)&&(Tr=null),Nr!==null&&bl(Nr)&&(Nr=null),Ar!==null&&bl(Ar)&&(Ar=null),Gs.forEach(Bh),Js.forEach(Bh)}function Xs(i,o){i.blockedOn===o&&(i.blockedOn=null,Pu||(Pu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Sx)))}function Zs(i){function o(g){return Xs(g,i)}if(0<xl.length){Xs(xl[0],i);for(var u=1;u<xl.length;u++){var h=xl[u];h.blockedOn===i&&(h.blockedOn=null)}}for(Tr!==null&&Xs(Tr,i),Nr!==null&&Xs(Nr,i),Ar!==null&&Xs(Ar,i),Gs.forEach(o),Js.forEach(o),u=0;u<Ir.length;u++)h=Ir[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<Ir.length&&(u=Ir[0],u.blockedOn===null);)Uh(u),u.blockedOn===null&&Ir.shift()}var Bi=U.ReactCurrentBatchConfig,kl=!0;function _x(i,o,u,h){var g=$e,w=Bi.transition;Bi.transition=null;try{$e=1,Ru(i,o,u,h)}finally{$e=g,Bi.transition=w}}function Ex(i,o,u,h){var g=$e,w=Bi.transition;Bi.transition=null;try{$e=4,Ru(i,o,u,h)}finally{$e=g,Bi.transition=w}}function Ru(i,o,u,h){if(kl){var g=Ou(i,o,u,h);if(g===null)Qu(i,o,h,Sl,u),zh(i,h);else if(kx(g,i,o,u,h))h.stopPropagation();else if(zh(i,h),o&4&&-1<bx.indexOf(i)){for(;g!==null;){var w=fo(g);if(w!==null&&Lh(w),w=Ou(i,o,u,h),w===null&&Qu(i,o,h,Sl,u),w===g)break;g=w}g!==null&&h.stopPropagation()}else Qu(i,o,h,null,u)}}var Sl=null;function Ou(i,o,u,h){if(Sl=null,i=Hs(h),i=hi(i),i!==null)if(o=fi(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ch(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Sl=i,null}function Wh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fx()){case ju:return 1;case Ph:return 4;case ml:case hx:return 16;case Rh:return 536870912;default:return 16}default:return 16}}var Pr=null,Du=null,_l=null;function Hh(){if(_l)return _l;var i,o=Du,u=o.length,h,g="value"in Pr?Pr.value:Pr.textContent,w=g.length;for(i=0;i<u&&o[i]===g[i];i++);var _=u-i;for(h=1;h<=_&&o[u-h]===g[w-h];h++);return _l=g.slice(i,1<h?1-h:void 0)}function El(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Cl(){return!0}function Vh(){return!1}function sn(i){function o(u,h,g,w,_){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Cl:Vh,this.isPropagationStopped=Vh,this}return C(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),o}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=sn(Wi),eo=C({},Wi,{view:0,detail:0}),Cx=sn(eo),Mu,$u,to,jl=C({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==to&&(to&&i.type==="mousemove"?(Mu=i.screenX-to.screenX,$u=i.screenY-to.screenY):$u=Mu=0,to=i),Mu)},movementY:function(i){return"movementY"in i?i.movementY:$u}}),qh=sn(jl),jx=C({},jl,{dataTransfer:0}),Tx=sn(jx),Nx=C({},eo,{relatedTarget:0}),Fu=sn(Nx),Ax=C({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ix=sn(Ax),Px=C({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Rx=sn(Px),Ox=C({},Wi,{data:0}),Yh=sn(Ox),Dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $x(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Mx[i])?!!o[i]:!1}function zu(){return $x}var Fx=C({},eo,{key:function(i){if(i.key){var o=Dx[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=El(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Lx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(i){return i.type==="keypress"?El(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?El(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zx=sn(Fx),Ux=C({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kh=sn(Ux),Bx=C({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),Wx=sn(Bx),Hx=C({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vx=sn(Hx),qx=C({},jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=sn(qx),Kx=[9,13,27,32],Uu=c&&"CompositionEvent"in window,no=null;c&&"documentMode"in document&&(no=document.documentMode);var Gx=c&&"TextEvent"in window&&!no,Gh=c&&(!Uu||no&&8<no&&11>=no),Jh=" ",Qh=!1;function Xh(i,o){switch(i){case"keyup":return Kx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Hi=!1;function Jx(i,o){switch(i){case"compositionend":return Zh(o);case"keypress":return o.which!==32?null:(Qh=!0,Jh);case"textInput":return i=o.data,i===Jh&&Qh?null:i;default:return null}}function Qx(i,o){if(Hi)return i==="compositionend"||!Uu&&Xh(i,o)?(i=Hh(),_l=Du=Pr=null,Hi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Gh&&o.locale!=="ko"?null:o.data;default:return null}}var Xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Xx[i.type]:o==="textarea"}function tp(i,o,u,h){Tt(h),o=Pl(o,"onChange"),0<o.length&&(u=new Lu("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var ro=null,io=null;function Zx(i){wp(i,0)}function Tl(i){var o=Gi(i);if(it(o))return i}function eb(i,o){if(i==="change")return o}var np=!1;if(c){var Bu;if(c){var Wu="oninput"in document;if(!Wu){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),Wu=typeof rp.oninput=="function"}Bu=Wu}else Bu=!1;np=Bu&&(!document.documentMode||9<document.documentMode)}function ip(){ro&&(ro.detachEvent("onpropertychange",sp),io=ro=null)}function sp(i){if(i.propertyName==="value"&&Tl(io)){var o=[];tp(o,io,i,Hs(i)),ar(Zx,o)}}function tb(i,o,u){i==="focusin"?(ip(),ro=o,io=u,ro.attachEvent("onpropertychange",sp)):i==="focusout"&&ip()}function nb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tl(io)}function rb(i,o){if(i==="click")return Tl(o)}function ib(i,o){if(i==="input"||i==="change")return Tl(o)}function sb(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Rn=typeof Object.is=="function"?Object.is:sb;function so(i,o){if(Rn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!d.call(o,g)||!Rn(i[g],o[g]))return!1}return!0}function op(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lp(i,o){var u=op(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=op(u)}}function ap(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ap(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function up(){for(var i=window,o=vt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=vt(i.document)}return o}function Hu(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function ob(i){var o=up(),u=i.focusedElem,h=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&ap(u.ownerDocument.documentElement,u)){if(h!==null&&Hu(u)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!i.extend&&w>h&&(g=h,h=w,w=g),g=lp(u,w);var _=lp(u,h);g&&_&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),w>h?(i.addRange(o),i.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var lb=c&&"documentMode"in document&&11>=document.documentMode,Vi=null,Vu=null,oo=null,qu=!1;function cp(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;qu||Vi==null||Vi!==vt(h)||(h=Vi,"selectionStart"in h&&Hu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),oo&&so(oo,h)||(oo=h,h=Pl(Vu,"onSelect"),0<h.length&&(o=new Lu("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=Vi)))}function Nl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var qi={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},Yu={},dp={};c&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function Al(i){if(Yu[i])return Yu[i];if(!qi[i])return i;var o=qi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in dp)return Yu[i]=o[u];return i}var fp=Al("animationend"),hp=Al("animationiteration"),pp=Al("animationstart"),mp=Al("transitionend"),gp=new Map,vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(i,o){gp.set(i,o),l(o,[i])}for(var Ku=0;Ku<vp.length;Ku++){var Gu=vp[Ku],ab=Gu.toLowerCase(),ub=Gu[0].toUpperCase()+Gu.slice(1);Rr(ab,"on"+ub)}Rr(fp,"onAnimationEnd"),Rr(hp,"onAnimationIteration"),Rr(pp,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(mp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cb=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function yp(i,o,u){var h=i.type||"unknown-event";i.currentTarget=u,ax(h,o,void 0,i),i.currentTarget=null}function wp(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var _=h.length-1;0<=_;_--){var R=h[_],z=R.instance,X=R.currentTarget;if(R=R.listener,z!==w&&g.isPropagationStopped())break e;yp(g,R,X),w=z}else for(_=0;_<h.length;_++){if(R=h[_],z=R.instance,X=R.currentTarget,R=R.listener,z!==w&&g.isPropagationStopped())break e;yp(g,R,X),w=z}}}if(rn)throw i=ur,rn=!1,ur=null,i}function qe(i,o){var u=o[rc];u===void 0&&(u=o[rc]=new Set);var h=i+"__bubble";u.has(h)||(xp(o,i,2,!1),u.add(h))}function Ju(i,o,u){var h=0;o&&(h|=4),xp(u,i,h,o)}var Il="_reactListening"+Math.random().toString(36).slice(2);function ao(i){if(!i[Il]){i[Il]=!0,r.forEach(function(u){u!=="selectionchange"&&(cb.has(u)||Ju(u,!1,i),Ju(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Il]||(o[Il]=!0,Ju("selectionchange",!1,o))}}function xp(i,o,u,h){switch(Wh(o)){case 1:var g=_x;break;case 4:g=Ex;break;default:g=Ru}u=g.bind(null,o,u,i),g=void 0,!gn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function Qu(i,o,u,h,g){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var R=h.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(_===4)for(_=h.return;_!==null;){var z=_.tag;if((z===3||z===4)&&(z=_.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;_=_.return}for(;R!==null;){if(_=hi(R),_===null)return;if(z=_.tag,z===5||z===6){h=w=_;continue e}R=R.parentNode}}h=h.return}ar(function(){var X=w,re=Hs(u),ie=[];e:{var ne=gp.get(i);if(ne!==void 0){var de=Lu,pe=i;switch(i){case"keypress":if(El(u)===0)break e;case"keydown":case"keyup":de=zx;break;case"focusin":pe="focus",de=Fu;break;case"focusout":pe="blur",de=Fu;break;case"beforeblur":case"afterblur":de=Fu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Wx;break;case fp:case hp:case pp:de=Ix;break;case mp:de=Vx;break;case"scroll":de=Cx;break;case"wheel":de=Yx;break;case"copy":case"cut":case"paste":de=Rx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Kh}var ve=(o&4)!==0,ot=!ve&&i==="scroll",Y=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var B=X,G;B!==null;){G=B;var le=G.stateNode;if(G.tag===5&&le!==null&&(G=le,Y!==null&&(le=Qe(B,Y),le!=null&&ve.push(uo(B,le,G)))),ot)break;B=B.return}0<ve.length&&(ne=new de(ne,pe,null,u,re),ie.push({event:ne,listeners:ve}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ne&&u!==Ct&&(pe=u.relatedTarget||u.fromElement)&&(hi(pe)||pe[cr]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(pe=u.relatedTarget||u.toElement,de=X,pe=pe?hi(pe):null,pe!==null&&(ot=fi(pe),pe!==ot||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=X),de!==pe)){if(ve=qh,le="onMouseLeave",Y="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ve=Kh,le="onPointerLeave",Y="onPointerEnter",B="pointer"),ot=de==null?ne:Gi(de),G=pe==null?ne:Gi(pe),ne=new ve(le,B+"leave",de,u,re),ne.target=ot,ne.relatedTarget=G,le=null,hi(re)===X&&(ve=new ve(Y,B+"enter",pe,u,re),ve.target=G,ve.relatedTarget=ot,le=ve),ot=le,de&&pe)t:{for(ve=de,Y=pe,B=0,G=ve;G;G=Yi(G))B++;for(G=0,le=Y;le;le=Yi(le))G++;for(;0<B-G;)ve=Yi(ve),B--;for(;0<G-B;)Y=Yi(Y),G--;for(;B--;){if(ve===Y||Y!==null&&ve===Y.alternate)break t;ve=Yi(ve),Y=Yi(Y)}ve=null}else ve=null;de!==null&&bp(ie,ne,de,ve,!1),pe!==null&&ot!==null&&bp(ie,ot,pe,ve,!0)}}e:{if(ne=X?Gi(X):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var ye=eb;else if(ep(ne))if(np)ye=ib;else{ye=nb;var ke=tb}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ye=rb);if(ye&&(ye=ye(i,X))){tp(ie,ye,u,re);break e}ke&&ke(i,ne,X),i==="focusout"&&(ke=ne._wrapperState)&&ke.controlled&&ne.type==="number"&&Vn(ne,"number",ne.value)}switch(ke=X?Gi(X):window,i){case"focusin":(ep(ke)||ke.contentEditable==="true")&&(Vi=ke,Vu=X,oo=null);break;case"focusout":oo=Vu=Vi=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,cp(ie,u,re);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":cp(ie,u,re)}var Se;if(Uu)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Hi?Xh(i,u)&&(Ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Gh&&u.locale!=="ko"&&(Hi||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Hi&&(Se=Hh()):(Pr=re,Du="value"in Pr?Pr.value:Pr.textContent,Hi=!0)),ke=Pl(X,Ce),0<ke.length&&(Ce=new Yh(Ce,i,null,u,re),ie.push({event:Ce,listeners:ke}),Se?Ce.data=Se:(Se=Zh(u),Se!==null&&(Ce.data=Se)))),(Se=Gx?Jx(i,u):Qx(i,u))&&(X=Pl(X,"onBeforeInput"),0<X.length&&(re=new Yh("onBeforeInput","beforeinput",null,u,re),ie.push({event:re,listeners:X}),re.data=Se))}wp(ie,o)})}function uo(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Pl(i,o){for(var u=o+"Capture",h=[];i!==null;){var g=i,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Qe(i,u),w!=null&&h.unshift(uo(i,w,g)),w=Qe(i,o),w!=null&&h.push(uo(i,w,g))),i=i.return}return h}function Yi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function bp(i,o,u,h,g){for(var w=o._reactName,_=[];u!==null&&u!==h;){var R=u,z=R.alternate,X=R.stateNode;if(z!==null&&z===h)break;R.tag===5&&X!==null&&(R=X,g?(z=Qe(u,w),z!=null&&_.unshift(uo(u,z,R))):g||(z=Qe(u,w),z!=null&&_.push(uo(u,z,R)))),u=u.return}_.length!==0&&i.push({event:o,listeners:_})}var db=/\r\n?/g,fb=/\u0000|\uFFFD/g;function kp(i){return(typeof i=="string"?i:""+i).replace(db,`
`).replace(fb,"")}function Rl(i,o,u){if(o=kp(o),kp(i)!==o&&u)throw Error(n(425))}function Ol(){}var Xu=null,Zu=null;function ec(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,hb=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,pb=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(i){return Sp.resolve(null).then(i).catch(mb)}:tc;function mb(i){setTimeout(function(){throw i})}function nc(i,o){var u=o,h=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){i.removeChild(g),Zs(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);Zs(o)}function Or(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function _p(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ki,co="__reactProps$"+Ki,cr="__reactContainer$"+Ki,rc="__reactEvents$"+Ki,gb="__reactListeners$"+Ki,vb="__reactHandles$"+Ki;function hi(i){var o=i[Jn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[cr]||u[Jn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=_p(i);i!==null;){if(u=i[Jn])return u;i=_p(i)}return o}i=u,u=i.parentNode}return null}function fo(i){return i=i[Jn]||i[cr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Gi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Dl(i){return i[co]||null}var ic=[],Ji=-1;function Dr(i){return{current:i}}function Ye(i){0>Ji||(i.current=ic[Ji],ic[Ji]=null,Ji--)}function We(i,o){Ji++,ic[Ji]=i.current,i.current=o}var Lr={},It=Dr(Lr),Ht=Dr(!1),pi=Lr;function Qi(i,o){var u=i.type.contextTypes;if(!u)return Lr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=o[w];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Vt(i){return i=i.childContextTypes,i!=null}function Ll(){Ye(Ht),Ye(It)}function Ep(i,o,u){if(It.current!==Lr)throw Error(n(168));We(It,o),We(Ht,u)}function Cp(i,o,u){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(n(108,be(i)||"Unknown",g));return C({},u,h)}function Ml(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Lr,pi=It.current,We(It,i),We(Ht,Ht.current),!0}function jp(i,o,u){var h=i.stateNode;if(!h)throw Error(n(169));u?(i=Cp(i,o,pi),h.__reactInternalMemoizedMergedChildContext=i,Ye(Ht),Ye(It),We(It,i)):Ye(Ht),We(Ht,u)}var dr=null,$l=!1,sc=!1;function Tp(i){dr===null?dr=[i]:dr.push(i)}function yb(i){$l=!0,Tp(i)}function Mr(){if(!sc&&dr!==null){sc=!0;var i=0,o=$e;try{var u=dr;for($e=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}dr=null,$l=!1}catch(g){throw dr!==null&&(dr=dr.slice(i+1)),Ah(ju,Mr),g}finally{$e=o,sc=!1}}return null}var Xi=[],Zi=0,Fl=null,zl=0,vn=[],yn=0,mi=null,fr=1,hr="";function gi(i,o){Xi[Zi++]=zl,Xi[Zi++]=Fl,Fl=i,zl=o}function Np(i,o,u){vn[yn++]=fr,vn[yn++]=hr,vn[yn++]=mi,mi=i;var h=fr;i=hr;var g=32-Pn(h)-1;h&=~(1<<g),u+=1;var w=32-Pn(o)+g;if(30<w){var _=g-g%5;w=(h&(1<<_)-1).toString(32),h>>=_,g-=_,fr=1<<32-Pn(o)+g|u<<g|h,hr=w+i}else fr=1<<w|u<<g|h,hr=i}function oc(i){i.return!==null&&(gi(i,1),Np(i,1,0))}function lc(i){for(;i===Fl;)Fl=Xi[--Zi],Xi[Zi]=null,zl=Xi[--Zi],Xi[Zi]=null;for(;i===mi;)mi=vn[--yn],vn[yn]=null,hr=vn[--yn],vn[yn]=null,fr=vn[--yn],vn[yn]=null}var on=null,ln=null,Ge=!1,On=null;function Ap(i,o){var u=kn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Ip(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,on=i,ln=Or(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,on=i,ln=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=mi!==null?{id:fr,overflow:hr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=kn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,on=i,ln=null,!0):!1;default:return!1}}function ac(i){return(i.mode&1)!==0&&(i.flags&128)===0}function uc(i){if(Ge){var o=ln;if(o){var u=o;if(!Ip(i,o)){if(ac(i))throw Error(n(418));o=Or(u.nextSibling);var h=on;o&&Ip(i,o)?Ap(h,u):(i.flags=i.flags&-4097|2,Ge=!1,on=i)}}else{if(ac(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ge=!1,on=i}}}function Pp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;on=i}function Ul(i){if(i!==on)return!1;if(!Ge)return Pp(i),Ge=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!ec(i.type,i.memoizedProps)),o&&(o=ln)){if(ac(i))throw Rp(),Error(n(418));for(;o;)Ap(i,o),o=Or(o.nextSibling)}if(Pp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){ln=Or(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}ln=null}}else ln=on?Or(i.stateNode.nextSibling):null;return!0}function Rp(){for(var i=ln;i;)i=Or(i.nextSibling)}function es(){ln=on=null,Ge=!1}function cc(i){On===null?On=[i]:On.push(i)}var wb=U.ReactCurrentBatchConfig;function ho(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,i));var g=h,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(_){var R=g.refs;_===null?delete R[w]:R[w]=_},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Bl(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Op(i){var o=i._init;return o(i._payload)}function Dp(i){function o(Y,B){if(i){var G=Y.deletions;G===null?(Y.deletions=[B],Y.flags|=16):G.push(B)}}function u(Y,B){if(!i)return null;for(;B!==null;)o(Y,B),B=B.sibling;return null}function h(Y,B){for(Y=new Map;B!==null;)B.key!==null?Y.set(B.key,B):Y.set(B.index,B),B=B.sibling;return Y}function g(Y,B){return Y=Vr(Y,B),Y.index=0,Y.sibling=null,Y}function w(Y,B,G){return Y.index=G,i?(G=Y.alternate,G!==null?(G=G.index,G<B?(Y.flags|=2,B):G):(Y.flags|=2,B)):(Y.flags|=1048576,B)}function _(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function R(Y,B,G,le){return B===null||B.tag!==6?(B=td(G,Y.mode,le),B.return=Y,B):(B=g(B,G),B.return=Y,B)}function z(Y,B,G,le){var ye=G.type;return ye===Z?re(Y,B,G.props.children,le,G.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===P&&Op(ye)===B.type)?(le=g(B,G.props),le.ref=ho(Y,B,G),le.return=Y,le):(le=fa(G.type,G.key,G.props,null,Y.mode,le),le.ref=ho(Y,B,G),le.return=Y,le)}function X(Y,B,G,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=nd(G,Y.mode,le),B.return=Y,B):(B=g(B,G.children||[]),B.return=Y,B)}function re(Y,B,G,le,ye){return B===null||B.tag!==7?(B=_i(G,Y.mode,le,ye),B.return=Y,B):(B=g(B,G),B.return=Y,B)}function ie(Y,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return B=td(""+B,Y.mode,G),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case K:return G=fa(B.type,B.key,B.props,null,Y.mode,G),G.ref=ho(Y,null,B),G.return=Y,G;case L:return B=nd(B,Y.mode,G),B.return=Y,B;case P:var le=B._init;return ie(Y,le(B._payload),G)}if(St(B)||W(B))return B=_i(B,Y.mode,G,null),B.return=Y,B;Bl(Y,B)}return null}function ne(Y,B,G,le){var ye=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ye!==null?null:R(Y,B,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return G.key===ye?z(Y,B,G,le):null;case L:return G.key===ye?X(Y,B,G,le):null;case P:return ye=G._init,ne(Y,B,ye(G._payload),le)}if(St(G)||W(G))return ye!==null?null:re(Y,B,G,le,null);Bl(Y,G)}return null}function de(Y,B,G,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number")return Y=Y.get(G)||null,R(B,Y,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case K:return Y=Y.get(le.key===null?G:le.key)||null,z(B,Y,le,ye);case L:return Y=Y.get(le.key===null?G:le.key)||null,X(B,Y,le,ye);case P:var ke=le._init;return de(Y,B,G,ke(le._payload),ye)}if(St(le)||W(le))return Y=Y.get(G)||null,re(B,Y,le,ye,null);Bl(B,le)}return null}function pe(Y,B,G,le){for(var ye=null,ke=null,Se=B,Ce=B=0,xt=null;Se!==null&&Ce<G.length;Ce++){Se.index>Ce?(xt=Se,Se=null):xt=Se.sibling;var Le=ne(Y,Se,G[Ce],le);if(Le===null){Se===null&&(Se=xt);break}i&&Se&&Le.alternate===null&&o(Y,Se),B=w(Le,B,Ce),ke===null?ye=Le:ke.sibling=Le,ke=Le,Se=xt}if(Ce===G.length)return u(Y,Se),Ge&&gi(Y,Ce),ye;if(Se===null){for(;Ce<G.length;Ce++)Se=ie(Y,G[Ce],le),Se!==null&&(B=w(Se,B,Ce),ke===null?ye=Se:ke.sibling=Se,ke=Se);return Ge&&gi(Y,Ce),ye}for(Se=h(Y,Se);Ce<G.length;Ce++)xt=de(Se,Y,Ce,G[Ce],le),xt!==null&&(i&&xt.alternate!==null&&Se.delete(xt.key===null?Ce:xt.key),B=w(xt,B,Ce),ke===null?ye=xt:ke.sibling=xt,ke=xt);return i&&Se.forEach(function(qr){return o(Y,qr)}),Ge&&gi(Y,Ce),ye}function ve(Y,B,G,le){var ye=W(G);if(typeof ye!="function")throw Error(n(150));if(G=ye.call(G),G==null)throw Error(n(151));for(var ke=ye=null,Se=B,Ce=B=0,xt=null,Le=G.next();Se!==null&&!Le.done;Ce++,Le=G.next()){Se.index>Ce?(xt=Se,Se=null):xt=Se.sibling;var qr=ne(Y,Se,Le.value,le);if(qr===null){Se===null&&(Se=xt);break}i&&Se&&qr.alternate===null&&o(Y,Se),B=w(qr,B,Ce),ke===null?ye=qr:ke.sibling=qr,ke=qr,Se=xt}if(Le.done)return u(Y,Se),Ge&&gi(Y,Ce),ye;if(Se===null){for(;!Le.done;Ce++,Le=G.next())Le=ie(Y,Le.value,le),Le!==null&&(B=w(Le,B,Ce),ke===null?ye=Le:ke.sibling=Le,ke=Le);return Ge&&gi(Y,Ce),ye}for(Se=h(Y,Se);!Le.done;Ce++,Le=G.next())Le=de(Se,Y,Ce,Le.value,le),Le!==null&&(i&&Le.alternate!==null&&Se.delete(Le.key===null?Ce:Le.key),B=w(Le,B,Ce),ke===null?ye=Le:ke.sibling=Le,ke=Le);return i&&Se.forEach(function(Xb){return o(Y,Xb)}),Ge&&gi(Y,Ce),ye}function ot(Y,B,G,le){if(typeof G=="object"&&G!==null&&G.type===Z&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case K:e:{for(var ye=G.key,ke=B;ke!==null;){if(ke.key===ye){if(ye=G.type,ye===Z){if(ke.tag===7){u(Y,ke.sibling),B=g(ke,G.props.children),B.return=Y,Y=B;break e}}else if(ke.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===P&&Op(ye)===ke.type){u(Y,ke.sibling),B=g(ke,G.props),B.ref=ho(Y,ke,G),B.return=Y,Y=B;break e}u(Y,ke);break}else o(Y,ke);ke=ke.sibling}G.type===Z?(B=_i(G.props.children,Y.mode,le,G.key),B.return=Y,Y=B):(le=fa(G.type,G.key,G.props,null,Y.mode,le),le.ref=ho(Y,B,G),le.return=Y,Y=le)}return _(Y);case L:e:{for(ke=G.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){u(Y,B.sibling),B=g(B,G.children||[]),B.return=Y,Y=B;break e}else{u(Y,B);break}else o(Y,B);B=B.sibling}B=nd(G,Y.mode,le),B.return=Y,Y=B}return _(Y);case P:return ke=G._init,ot(Y,B,ke(G._payload),le)}if(St(G))return pe(Y,B,G,le);if(W(G))return ve(Y,B,G,le);Bl(Y,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(u(Y,B.sibling),B=g(B,G),B.return=Y,Y=B):(u(Y,B),B=td(G,Y.mode,le),B.return=Y,Y=B),_(Y)):u(Y,B)}return ot}var ts=Dp(!0),Lp=Dp(!1),Wl=Dr(null),Hl=null,ns=null,dc=null;function fc(){dc=ns=Hl=null}function hc(i){var o=Wl.current;Ye(Wl),i._currentValue=o}function pc(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function rs(i,o){Hl=i,dc=ns=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(qt=!0),i.firstContext=null)}function wn(i){var o=i._currentValue;if(dc!==i)if(i={context:i,memoizedValue:o,next:null},ns===null){if(Hl===null)throw Error(n(308));ns=i,Hl.dependencies={lanes:0,firstContext:i}}else ns=ns.next=i;return o}var vi=null;function mc(i){vi===null?vi=[i]:vi.push(i)}function Mp(i,o,u,h){var g=o.interleaved;return g===null?(u.next=u,mc(o)):(u.next=g.next,g.next=u),o.interleaved=u,pr(i,h)}function pr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var $r=!1;function gc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Fr(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(De&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,pr(i,u)}return g=h.interleaved,g===null?(o.next=o,mc(h)):(o.next=g.next,g.next=o),h.interleaved=o,pr(i,u)}function Vl(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Au(i,u)}}function Fp(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var _={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=_:w=w.next=_,u=u.next}while(u!==null);w===null?g=w=o:w=w.next=o}else g=w=o;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function ql(i,o,u,h){var g=i.updateQueue;$r=!1;var w=g.firstBaseUpdate,_=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var z=R,X=z.next;z.next=null,_===null?w=X:_.next=X,_=z;var re=i.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==_&&(R===null?re.firstBaseUpdate=X:R.next=X,re.lastBaseUpdate=z))}if(w!==null){var ie=g.baseState;_=0,re=X=z=null,R=w;do{var ne=R.lane,de=R.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var pe=i,ve=R;switch(ne=o,de=u,ve.tag){case 1:if(pe=ve.payload,typeof pe=="function"){ie=pe.call(de,ie,ne);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ve.payload,ne=typeof pe=="function"?pe.call(de,ie,ne):pe,ne==null)break e;ie=C({},ie,ne);break e;case 2:$r=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,ne=g.effects,ne===null?g.effects=[R]:ne.push(R))}else de={eventTime:de,lane:ne,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(X=re=de,z=ie):re=re.next=de,_|=ne;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(re===null&&(z=ie),g.baseState=z,g.firstBaseUpdate=X,g.lastBaseUpdate=re,o=g.shared.interleaved,o!==null){g=o;do _|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);xi|=_,i.lanes=_,i.memoizedState=ie}}function zp(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var po={},Qn=Dr(po),mo=Dr(po),go=Dr(po);function yi(i){if(i===po)throw Error(n(174));return i}function vc(i,o){switch(We(go,o),We(mo,i),We(Qn,po),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:oe(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=oe(o,i)}Ye(Qn),We(Qn,o)}function is(){Ye(Qn),Ye(mo),Ye(go)}function Up(i){yi(go.current);var o=yi(Qn.current),u=oe(o,i.type);o!==u&&(We(mo,i),We(Qn,u))}function yc(i){mo.current===i&&(Ye(Qn),Ye(mo))}var Xe=Dr(0);function Yl(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wc=[];function xc(){for(var i=0;i<wc.length;i++)wc[i]._workInProgressVersionPrimary=null;wc.length=0}var Kl=U.ReactCurrentDispatcher,bc=U.ReactCurrentBatchConfig,wi=0,Ze=null,ht=null,yt=null,Gl=!1,vo=!1,yo=0,xb=0;function Pt(){throw Error(n(321))}function kc(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Rn(i[u],o[u]))return!1;return!0}function Sc(i,o,u,h,g,w){if(wi=w,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Kl.current=i===null||i.memoizedState===null?_b:Eb,i=u(h,g),vo){w=0;do{if(vo=!1,yo=0,25<=w)throw Error(n(301));w+=1,yt=ht=null,o.updateQueue=null,Kl.current=Cb,i=u(h,g)}while(vo)}if(Kl.current=Xl,o=ht!==null&&ht.next!==null,wi=0,yt=ht=Ze=null,Gl=!1,o)throw Error(n(300));return i}function _c(){var i=yo!==0;return yo=0,i}function Xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ze.memoizedState=yt=i:yt=yt.next=i,yt}function xn(){if(ht===null){var i=Ze.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var o=yt===null?Ze.memoizedState:yt.next;if(o!==null)yt=o,ht=i;else{if(i===null)throw Error(n(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ze.memoizedState=yt=i:yt=yt.next=i}return yt}function wo(i,o){return typeof o=="function"?o(i):o}function Ec(i){var o=xn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=ht,g=h.baseQueue,w=u.pending;if(w!==null){if(g!==null){var _=g.next;g.next=w.next,w.next=_}h.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,h=h.baseState;var R=_=null,z=null,X=w;do{var re=X.lane;if((wi&re)===re)z!==null&&(z=z.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:i(h,X.action);else{var ie={lane:re,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};z===null?(R=z=ie,_=h):z=z.next=ie,Ze.lanes|=re,xi|=re}X=X.next}while(X!==null&&X!==w);z===null?_=h:z.next=R,Rn(h,o.memoizedState)||(qt=!0),o.memoizedState=h,o.baseState=_,o.baseQueue=z,u.lastRenderedState=h}if(i=u.interleaved,i!==null){g=i;do w=g.lane,Ze.lanes|=w,xi|=w,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Cc(i){var o=xn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,w=o.memoizedState;if(g!==null){u.pending=null;var _=g=g.next;do w=i(w,_.action),_=_.next;while(_!==g);Rn(w,o.memoizedState)||(qt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,h]}function Bp(){}function Wp(i,o){var u=Ze,h=xn(),g=o(),w=!Rn(h.memoizedState,g);if(w&&(h.memoizedState=g,qt=!0),h=h.queue,jc(qp.bind(null,u,h,i),[i]),h.getSnapshot!==o||w||yt!==null&&yt.memoizedState.tag&1){if(u.flags|=2048,xo(9,Vp.bind(null,u,h,g,o),void 0,null),wt===null)throw Error(n(349));(wi&30)!==0||Hp(u,o,g)}return g}function Hp(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Vp(i,o,u,h){o.value=u,o.getSnapshot=h,Yp(o)&&Kp(i)}function qp(i,o,u){return u(function(){Yp(o)&&Kp(i)})}function Yp(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Rn(i,u)}catch{return!0}}function Kp(i){var o=pr(i,1);o!==null&&$n(o,i,1,-1)}function Gp(i){var o=Xn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:i},o.queue=i,i=i.dispatch=Sb.bind(null,Ze,i),[o.memoizedState,i]}function xo(i,o,u,h){return i={tag:i,create:o,destroy:u,deps:h,next:null},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i)),i}function Jp(){return xn().memoizedState}function Jl(i,o,u,h){var g=Xn();Ze.flags|=i,g.memoizedState=xo(1|o,u,void 0,h===void 0?null:h)}function Ql(i,o,u,h){var g=xn();h=h===void 0?null:h;var w=void 0;if(ht!==null){var _=ht.memoizedState;if(w=_.destroy,h!==null&&kc(h,_.deps)){g.memoizedState=xo(o,u,w,h);return}}Ze.flags|=i,g.memoizedState=xo(1|o,u,w,h)}function Qp(i,o){return Jl(8390656,8,i,o)}function jc(i,o){return Ql(2048,8,i,o)}function Xp(i,o){return Ql(4,2,i,o)}function Zp(i,o){return Ql(4,4,i,o)}function em(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function tm(i,o,u){return u=u!=null?u.concat([i]):null,Ql(4,4,em.bind(null,o,i),u)}function Tc(){}function nm(i,o){var u=xn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&kc(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function rm(i,o){var u=xn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&kc(o,h[1])?h[0]:(i=i(),u.memoizedState=[i,o],i)}function im(i,o,u){return(wi&21)===0?(i.baseState&&(i.baseState=!1,qt=!0),i.memoizedState=u):(Rn(u,o)||(u=Oh(),Ze.lanes|=u,xi|=u,i.baseState=!0),o)}function bb(i,o){var u=$e;$e=u!==0&&4>u?u:4,i(!0);var h=bc.transition;bc.transition={};try{i(!1),o()}finally{$e=u,bc.transition=h}}function sm(){return xn().memoizedState}function kb(i,o,u){var h=Wr(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},om(i))lm(o,u);else if(u=Mp(i,o,u,h),u!==null){var g=zt();$n(u,i,h,g),am(u,o,h)}}function Sb(i,o,u){var h=Wr(i),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(om(i))lm(o,g);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var _=o.lastRenderedState,R=w(_,u);if(g.hasEagerState=!0,g.eagerState=R,Rn(R,_)){var z=o.interleaved;z===null?(g.next=g,mc(o)):(g.next=z.next,z.next=g),o.interleaved=g;return}}catch{}finally{}u=Mp(i,o,g,h),u!==null&&(g=zt(),$n(u,i,h,g),am(u,o,h))}}function om(i){var o=i.alternate;return i===Ze||o!==null&&o===Ze}function lm(i,o){vo=Gl=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function am(i,o,u){if((u&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Au(i,u)}}var Xl={readContext:wn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},_b={readContext:wn,useCallback:function(i,o){return Xn().memoizedState=[i,o===void 0?null:o],i},useContext:wn,useEffect:Qp,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Jl(4194308,4,em.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Jl(4194308,4,i,o)},useInsertionEffect:function(i,o){return Jl(4,2,i,o)},useMemo:function(i,o){var u=Xn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var h=Xn();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=kb.bind(null,Ze,i),[h.memoizedState,i]},useRef:function(i){var o=Xn();return i={current:i},o.memoizedState=i},useState:Gp,useDebugValue:Tc,useDeferredValue:function(i){return Xn().memoizedState=i},useTransition:function(){var i=Gp(!1),o=i[0];return i=bb.bind(null,i[1]),Xn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var h=Ze,g=Xn();if(Ge){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),wt===null)throw Error(n(349));(wi&30)!==0||Hp(h,o,u)}g.memoizedState=u;var w={value:u,getSnapshot:o};return g.queue=w,Qp(qp.bind(null,h,w,i),[i]),h.flags|=2048,xo(9,Vp.bind(null,h,w,u,o),void 0,null),u},useId:function(){var i=Xn(),o=wt.identifierPrefix;if(Ge){var u=hr,h=fr;u=(h&~(1<<32-Pn(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=yo++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=xb++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Eb={readContext:wn,useCallback:nm,useContext:wn,useEffect:jc,useImperativeHandle:tm,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:rm,useReducer:Ec,useRef:Jp,useState:function(){return Ec(wo)},useDebugValue:Tc,useDeferredValue:function(i){var o=xn();return im(o,ht.memoizedState,i)},useTransition:function(){var i=Ec(wo)[0],o=xn().memoizedState;return[i,o]},useMutableSource:Bp,useSyncExternalStore:Wp,useId:sm,unstable_isNewReconciler:!1},Cb={readContext:wn,useCallback:nm,useContext:wn,useEffect:jc,useImperativeHandle:tm,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:rm,useReducer:Cc,useRef:Jp,useState:function(){return Cc(wo)},useDebugValue:Tc,useDeferredValue:function(i){var o=xn();return ht===null?o.memoizedState=i:im(o,ht.memoizedState,i)},useTransition:function(){var i=Cc(wo)[0],o=xn().memoizedState;return[i,o]},useMutableSource:Bp,useSyncExternalStore:Wp,useId:sm,unstable_isNewReconciler:!1};function Dn(i,o){if(i&&i.defaultProps){o=C({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Nc(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:C({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Zl={isMounted:function(i){return(i=i._reactInternals)?fi(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var h=zt(),g=Wr(i),w=mr(h,g);w.payload=o,u!=null&&(w.callback=u),o=Fr(i,w,g),o!==null&&($n(o,i,g,h),Vl(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=zt(),g=Wr(i),w=mr(h,g);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Fr(i,w,g),o!==null&&($n(o,i,g,h),Vl(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=zt(),h=Wr(i),g=mr(u,h);g.tag=2,o!=null&&(g.callback=o),o=Fr(i,g,h),o!==null&&($n(o,i,h,u),Vl(o,i,h))}};function um(i,o,u,h,g,w,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,_):o.prototype&&o.prototype.isPureReactComponent?!so(u,h)||!so(g,w):!0}function cm(i,o,u){var h=!1,g=Lr,w=o.contextType;return typeof w=="object"&&w!==null?w=wn(w):(g=Vt(o)?pi:It.current,h=o.contextTypes,w=(h=h!=null)?Qi(i,g):Lr),o=new o(u,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Zl,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=w),o}function dm(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&Zl.enqueueReplaceState(o,o.state,null)}function Ac(i,o,u,h){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},gc(i);var w=o.contextType;typeof w=="object"&&w!==null?g.context=wn(w):(w=Vt(o)?pi:It.current,g.context=Qi(i,w)),g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Nc(i,o,w,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Zl.enqueueReplaceState(g,g.state,null),ql(i,u,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ss(i,o){try{var u="",h=o;do u+=fe(h),h=h.return;while(h);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:g,digest:null}}function Ic(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Pc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var jb=typeof WeakMap=="function"?WeakMap:Map;function fm(i,o,u){u=mr(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){oa||(oa=!0,Yc=h),Pc(i,o)},u}function hm(i,o,u){u=mr(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;u.payload=function(){return h(g)},u.callback=function(){Pc(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Pc(i,o),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),u}function pm(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new jb;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(u)||(g.add(u),i=Ub.bind(null,i,o,u),o.then(i,i))}function mm(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function gm(i,o,u,h,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=mr(-1,1),o.tag=2,Fr(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var Tb=U.ReactCurrentOwner,qt=!1;function Ft(i,o,u,h){o.child=i===null?Lp(o,null,u,h):ts(o,i.child,u,h)}function vm(i,o,u,h,g){u=u.render;var w=o.ref;return rs(o,g),h=Sc(i,o,u,h,w,g),u=_c(),i!==null&&!qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,gr(i,o,g)):(Ge&&u&&oc(o),o.flags|=1,Ft(i,o,h,g),o.child)}function ym(i,o,u,h,g){if(i===null){var w=u.type;return typeof w=="function"&&!ed(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,wm(i,o,w,h,g)):(i=fa(u.type,null,h,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&g)===0){var _=w.memoizedProps;if(u=u.compare,u=u!==null?u:so,u(_,h)&&i.ref===o.ref)return gr(i,o,g)}return o.flags|=1,i=Vr(w,h),i.ref=o.ref,i.return=o,o.child=i}function wm(i,o,u,h,g){if(i!==null){var w=i.memoizedProps;if(so(w,h)&&i.ref===o.ref)if(qt=!1,o.pendingProps=h=w,(i.lanes&g)!==0)(i.flags&131072)!==0&&(qt=!0);else return o.lanes=i.lanes,gr(i,o,g)}return Rc(i,o,u,h,g)}function xm(i,o,u){var h=o.pendingProps,g=h.children,w=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(ls,an),an|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,We(ls,an),an|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,We(ls,an),an|=h}else w!==null?(h=w.baseLanes|u,o.memoizedState=null):h=u,We(ls,an),an|=h;return Ft(i,o,g,u),o.child}function bm(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Rc(i,o,u,h,g){var w=Vt(u)?pi:It.current;return w=Qi(o,w),rs(o,g),u=Sc(i,o,u,h,w,g),h=_c(),i!==null&&!qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,gr(i,o,g)):(Ge&&h&&oc(o),o.flags|=1,Ft(i,o,u,g),o.child)}function km(i,o,u,h,g){if(Vt(u)){var w=!0;Ml(o)}else w=!1;if(rs(o,g),o.stateNode===null)ta(i,o),cm(o,u,h),Ac(o,u,h,g),h=!0;else if(i===null){var _=o.stateNode,R=o.memoizedProps;_.props=R;var z=_.context,X=u.contextType;typeof X=="object"&&X!==null?X=wn(X):(X=Vt(u)?pi:It.current,X=Qi(o,X));var re=u.getDerivedStateFromProps,ie=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function";ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==h||z!==X)&&dm(o,_,h,X),$r=!1;var ne=o.memoizedState;_.state=ne,ql(o,h,_,g),z=o.memoizedState,R!==h||ne!==z||Ht.current||$r?(typeof re=="function"&&(Nc(o,u,re,h),z=o.memoizedState),(R=$r||um(o,u,R,h,ne,z,X))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=z),_.props=h,_.state=z,_.context=X,h=R):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,$p(i,o),R=o.memoizedProps,X=o.type===o.elementType?R:Dn(o.type,R),_.props=X,ie=o.pendingProps,ne=_.context,z=u.contextType,typeof z=="object"&&z!==null?z=wn(z):(z=Vt(u)?pi:It.current,z=Qi(o,z));var de=u.getDerivedStateFromProps;(re=typeof de=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==ie||ne!==z)&&dm(o,_,h,z),$r=!1,ne=o.memoizedState,_.state=ne,ql(o,h,_,g);var pe=o.memoizedState;R!==ie||ne!==pe||Ht.current||$r?(typeof de=="function"&&(Nc(o,u,de,h),pe=o.memoizedState),(X=$r||um(o,u,X,h,ne,pe,z)||!1)?(re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,pe,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,pe,z)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=pe),_.props=h,_.state=pe,_.context=z,h=X):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),h=!1)}return Oc(i,o,u,h,w,g)}function Oc(i,o,u,h,g,w){bm(i,o);var _=(o.flags&128)!==0;if(!h&&!_)return g&&jp(o,u,!1),gr(i,o,w);h=o.stateNode,Tb.current=o;var R=_&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&_?(o.child=ts(o,i.child,null,w),o.child=ts(o,null,R,w)):Ft(i,o,R,w),o.memoizedState=h.state,g&&jp(o,u,!0),o.child}function Sm(i){var o=i.stateNode;o.pendingContext?Ep(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Ep(i,o.context,!1),vc(i,o.containerInfo)}function _m(i,o,u,h,g){return es(),cc(g),o.flags|=256,Ft(i,o,u,h),o.child}var Dc={dehydrated:null,treeContext:null,retryLane:0};function Lc(i){return{baseLanes:i,cachePool:null,transitions:null}}function Em(i,o,u){var h=o.pendingProps,g=Xe.current,w=!1,_=(o.flags&128)!==0,R;if((R=_)||(R=i!==null&&i.memoizedState===null?!1:(g&2)!==0),R?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),We(Xe,g&1),i===null)return uc(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=h.children,i=h.fallback,w?(h=o.mode,w=o.child,_={mode:"hidden",children:_},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=_):w=ha(_,h,0,null),i=_i(i,h,u,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=Lc(u),o.memoizedState=Dc,i):Mc(o,_));if(g=i.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return Nb(i,o,_,h,R,g,u);if(w){w=h.fallback,_=o.mode,g=i.child,R=g.sibling;var z={mode:"hidden",children:h.children};return(_&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=z,o.deletions=null):(h=Vr(g,z),h.subtreeFlags=g.subtreeFlags&14680064),R!==null?w=Vr(R,w):(w=_i(w,_,u,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,_=i.child.memoizedState,_=_===null?Lc(u):{baseLanes:_.baseLanes|u,cachePool:null,transitions:_.transitions},w.memoizedState=_,w.childLanes=i.childLanes&~u,o.memoizedState=Dc,h}return w=i.child,i=w.sibling,h=Vr(w,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=h,o.memoizedState=null,h}function Mc(i,o){return o=ha({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ea(i,o,u,h){return h!==null&&cc(h),ts(o,i.child,null,u),i=Mc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Nb(i,o,u,h,g,w,_){if(u)return o.flags&256?(o.flags&=-257,h=Ic(Error(n(422))),ea(i,o,_,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=h.fallback,g=o.mode,h=ha({mode:"visible",children:h.children},g,0,null),w=_i(w,g,_,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,(o.mode&1)!==0&&ts(o,i.child,null,_),o.child.memoizedState=Lc(_),o.memoizedState=Dc,w);if((o.mode&1)===0)return ea(i,o,_,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var R=h.dgst;return h=R,w=Error(n(419)),h=Ic(w,h,void 0),ea(i,o,_,h)}if(R=(_&i.childLanes)!==0,qt||R){if(h=wt,h!==null){switch(_&-_){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|_))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,pr(i,g),$n(h,i,g,-1))}return Zc(),h=Ic(Error(n(421))),ea(i,o,_,h)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=Bb.bind(null,i),g._reactRetry=o,null):(i=w.treeContext,ln=Or(g.nextSibling),on=o,Ge=!0,On=null,i!==null&&(vn[yn++]=fr,vn[yn++]=hr,vn[yn++]=mi,fr=i.id,hr=i.overflow,mi=o),o=Mc(o,h.children),o.flags|=4096,o)}function Cm(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),pc(i.return,o,u)}function $c(i,o,u,h,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=g)}function jm(i,o,u){var h=o.pendingProps,g=h.revealOrder,w=h.tail;if(Ft(i,o,h.children,u),h=Xe.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Cm(i,u,o);else if(i.tag===19)Cm(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(We(Xe,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Yl(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),$c(o,!1,g,u,w);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Yl(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}$c(o,!0,u,null,w);break;case"together":$c(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ta(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function gr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),xi|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Vr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Vr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Ab(i,o,u){switch(o.tag){case 3:Sm(o),es();break;case 5:Up(o);break;case 1:Vt(o.type)&&Ml(o);break;case 4:vc(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;We(Wl,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(We(Xe,Xe.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Em(i,o,u):(We(Xe,Xe.current&1),i=gr(i,o,u),i!==null?i.sibling:null);We(Xe,Xe.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(i.flags&128)!==0){if(h)return jm(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),We(Xe,Xe.current),h)break;return null;case 22:case 23:return o.lanes=0,xm(i,o,u)}return gr(i,o,u)}var Tm,Fc,Nm,Am;Tm=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Fc=function(){},Nm=function(i,o,u,h){var g=i.memoizedProps;if(g!==h){i=o.stateNode,yi(Qn.current);var w=null;switch(u){case"input":g=Mt(i,g),h=Mt(i,h),w=[];break;case"select":g=C({},g,{value:void 0}),h=C({},h,{value:void 0}),w=[];break;case"textarea":g=qn(i,g),h=qn(i,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Ol)}at(u,h);var _;u=null;for(X in g)if(!h.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var R=g[X];for(_ in R)R.hasOwnProperty(_)&&(u||(u={}),u[_]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in h){var z=h[X];if(R=g!=null?g[X]:void 0,h.hasOwnProperty(X)&&z!==R&&(z!=null||R!=null))if(X==="style")if(R){for(_ in R)!R.hasOwnProperty(_)||z&&z.hasOwnProperty(_)||(u||(u={}),u[_]="");for(_ in z)z.hasOwnProperty(_)&&R[_]!==z[_]&&(u||(u={}),u[_]=z[_])}else u||(w||(w=[]),w.push(X,u)),u=z;else X==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,R=R?R.__html:void 0,z!=null&&R!==z&&(w=w||[]).push(X,z)):X==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(X,""+z):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(z!=null&&X==="onScroll"&&qe("scroll",i),w||R===z||(w=[])):(w=w||[]).push(X,z))}u&&(w=w||[]).push("style",u);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},Am=function(i,o,u,h){u!==h&&(o.flags|=4)};function bo(i,o){if(!Ge)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Rt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function Ib(i,o,u){var h=o.pendingProps;switch(lc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(o),null;case 1:return Vt(o.type)&&Ll(),Rt(o),null;case 3:return h=o.stateNode,is(),Ye(Ht),Ye(It),xc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Ul(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,On!==null&&(Jc(On),On=null))),Fc(i,o),Rt(o),null;case 5:yc(o);var g=yi(go.current);if(u=o.type,i!==null&&o.stateNode!=null)Nm(i,o,u,h,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Rt(o),null}if(i=yi(Qn.current),Ul(o)){h=o.stateNode,u=o.type;var w=o.memoizedProps;switch(h[Jn]=o,h[co]=w,i=(o.mode&1)!==0,u){case"dialog":qe("cancel",h),qe("close",h);break;case"iframe":case"object":case"embed":qe("load",h);break;case"video":case"audio":for(g=0;g<lo.length;g++)qe(lo[g],h);break;case"source":qe("error",h);break;case"img":case"image":case"link":qe("error",h),qe("load",h);break;case"details":qe("toggle",h);break;case"input":fn(h,w),qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},qe("invalid",h);break;case"textarea":ci(h,w),qe("invalid",h)}at(u,w),g=null;for(var _ in w)if(w.hasOwnProperty(_)){var R=w[_];_==="children"?typeof R=="string"?h.textContent!==R&&(w.suppressHydrationWarning!==!0&&Rl(h.textContent,R,i),g=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(w.suppressHydrationWarning!==!0&&Rl(h.textContent,R,i),g=["children",""+R]):s.hasOwnProperty(_)&&R!=null&&_==="onScroll"&&qe("scroll",h)}switch(u){case"input":Fe(h),ui(h,w,!0);break;case"textarea":Fe(h),Ui(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=Ol)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{_=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ee(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=_.createElement(u,{is:h.is}):(i=_.createElement(u),u==="select"&&(_=i,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):i=_.createElementNS(i,u),i[Jn]=o,i[co]=h,Tm(i,o,!1,!1),o.stateNode=i;e:{switch(_=mn(u,h),u){case"dialog":qe("cancel",i),qe("close",i),g=h;break;case"iframe":case"object":case"embed":qe("load",i),g=h;break;case"video":case"audio":for(g=0;g<lo.length;g++)qe(lo[g],i);g=h;break;case"source":qe("error",i),g=h;break;case"img":case"image":case"link":qe("error",i),qe("load",i),g=h;break;case"details":qe("toggle",i),g=h;break;case"input":fn(i,h),g=Mt(i,h),qe("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=C({},h,{value:void 0}),qe("invalid",i);break;case"textarea":ci(i,h),g=qn(i,h),qe("invalid",i);break;default:g=h}at(u,g),R=g;for(w in R)if(R.hasOwnProperty(w)){var z=R[w];w==="style"?Yn(i,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&je(i,z)):w==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&Re(i,z):typeof z=="number"&&Re(i,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&qe("scroll",i):z!=null&&N(i,w,z,_))}switch(u){case"input":Fe(i),ui(i,h,!1);break;case"textarea":Fe(i),Ui(i);break;case"option":h.value!=null&&i.setAttribute("value",""+ge(h.value));break;case"select":i.multiple=!!h.multiple,w=h.value,w!=null?nn(i,!!h.multiple,w,!1):h.defaultValue!=null&&nn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Ol)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Rt(o),null;case 6:if(i&&o.stateNode!=null)Am(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(u=yi(go.current),yi(Qn.current),Ul(o)){if(h=o.stateNode,u=o.memoizedProps,h[Jn]=o,(w=h.nodeValue!==u)&&(i=on,i!==null))switch(i.tag){case 3:Rl(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Rl(h.nodeValue,u,(i.mode&1)!==0)}w&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Jn]=o,o.stateNode=h}return Rt(o),null;case 13:if(Ye(Xe),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ge&&ln!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Rp(),es(),o.flags|=98560,w=!1;else if(w=Ul(o),h!==null&&h.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Jn]=o}else es(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rt(o),w=!1}else On!==null&&(Jc(On),On=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Xe.current&1)!==0?pt===0&&(pt=3):Zc())),o.updateQueue!==null&&(o.flags|=4),Rt(o),null);case 4:return is(),Fc(i,o),i===null&&ao(o.stateNode.containerInfo),Rt(o),null;case 10:return hc(o.type._context),Rt(o),null;case 17:return Vt(o.type)&&Ll(),Rt(o),null;case 19:if(Ye(Xe),w=o.memoizedState,w===null)return Rt(o),null;if(h=(o.flags&128)!==0,_=w.rendering,_===null)if(h)bo(w,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=Yl(i),_!==null){for(o.flags|=128,bo(w,!1),h=_.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)w=u,i=h,w.flags&=14680066,_=w.alternate,_===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=_.childLanes,w.lanes=_.lanes,w.child=_.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=_.memoizedProps,w.memoizedState=_.memoizedState,w.updateQueue=_.updateQueue,w.type=_.type,i=_.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return We(Xe,Xe.current&1|2),o.child}i=i.sibling}w.tail!==null&&st()>as&&(o.flags|=128,h=!0,bo(w,!1),o.lanes=4194304)}else{if(!h)if(i=Yl(_),i!==null){if(o.flags|=128,h=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),bo(w,!0),w.tail===null&&w.tailMode==="hidden"&&!_.alternate&&!Ge)return Rt(o),null}else 2*st()-w.renderingStartTime>as&&u!==1073741824&&(o.flags|=128,h=!0,bo(w,!1),o.lanes=4194304);w.isBackwards?(_.sibling=o.child,o.child=_):(u=w.last,u!==null?u.sibling=_:o.child=_,w.last=_)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=st(),o.sibling=null,u=Xe.current,We(Xe,h?u&1|2:u&1),o):(Rt(o),null);case 22:case 23:return Xc(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(an&1073741824)!==0&&(Rt(o),o.subtreeFlags&6&&(o.flags|=8192)):Rt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Pb(i,o){switch(lc(o),o.tag){case 1:return Vt(o.type)&&Ll(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return is(),Ye(Ht),Ye(It),xc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return yc(o),null;case 13:if(Ye(Xe),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));es()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ye(Xe),null;case 4:return is(),null;case 10:return hc(o.type._context),null;case 22:case 23:return Xc(),null;case 24:return null;default:return null}}var na=!1,Ot=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,he=null;function os(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){rt(i,o,h)}else u.current=null}function zc(i,o,u){try{u()}catch(h){rt(i,o,h)}}var Im=!1;function Ob(i,o){if(Xu=kl,i=up(),Hu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var _=0,R=-1,z=-1,X=0,re=0,ie=i,ne=null;t:for(;;){for(var de;ie!==u||g!==0&&ie.nodeType!==3||(R=_+g),ie!==w||h!==0&&ie.nodeType!==3||(z=_+h),ie.nodeType===3&&(_+=ie.nodeValue.length),(de=ie.firstChild)!==null;)ne=ie,ie=de;for(;;){if(ie===i)break t;if(ne===u&&++X===g&&(R=_),ne===w&&++re===h&&(z=_),(de=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=de}u=R===-1||z===-1?null:{start:R,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Zu={focusedElem:i,selectionRange:u},kl=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ve=pe.memoizedProps,ot=pe.memoizedState,Y=o.stateNode,B=Y.getSnapshotBeforeUpdate(o.elementType===o.type?ve:Dn(o.type,ve),ot);Y.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){rt(o,o.return,le)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return pe=Im,Im=!1,pe}function ko(i,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var w=g.destroy;g.destroy=void 0,w!==void 0&&zc(o,u,w)}g=g.next}while(g!==h)}}function ra(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Uc(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Pm(i){var o=i.alternate;o!==null&&(i.alternate=null,Pm(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Jn],delete o[co],delete o[rc],delete o[gb],delete o[vb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Rm(i){return i.tag===5||i.tag===3||i.tag===4}function Om(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bc(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ol));else if(h!==4&&(i=i.child,i!==null))for(Bc(i,o,u),i=i.sibling;i!==null;)Bc(i,o,u),i=i.sibling}function Wc(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Wc(i,o,u),i=i.sibling;i!==null;)Wc(i,o,u),i=i.sibling}var _t=null,Ln=!1;function zr(i,o,u){for(u=u.child;u!==null;)Dm(i,o,u),u=u.sibling}function Dm(i,o,u){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(gl,u)}catch{}switch(u.tag){case 5:Ot||os(u,o);case 6:var h=_t,g=Ln;_t=null,zr(i,o,u),_t=h,Ln=g,_t!==null&&(Ln?(i=_t,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):_t.removeChild(u.stateNode));break;case 18:_t!==null&&(Ln?(i=_t,u=u.stateNode,i.nodeType===8?nc(i.parentNode,u):i.nodeType===1&&nc(i,u),Zs(i)):nc(_t,u.stateNode));break;case 4:h=_t,g=Ln,_t=u.stateNode.containerInfo,Ln=!0,zr(i,o,u),_t=h,Ln=g;break;case 0:case 11:case 14:case 15:if(!Ot&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,_=w.destroy;w=w.tag,_!==void 0&&((w&2)!==0||(w&4)!==0)&&zc(u,o,_),g=g.next}while(g!==h)}zr(i,o,u);break;case 1:if(!Ot&&(os(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(R){rt(u,o,R)}zr(i,o,u);break;case 21:zr(i,o,u);break;case 22:u.mode&1?(Ot=(h=Ot)||u.memoizedState!==null,zr(i,o,u),Ot=h):zr(i,o,u);break;default:zr(i,o,u)}}function Lm(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Rb),o.forEach(function(h){var g=Wb.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Mn(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var w=i,_=o,R=_;e:for(;R!==null;){switch(R.tag){case 5:_t=R.stateNode,Ln=!1;break e;case 3:_t=R.stateNode.containerInfo,Ln=!0;break e;case 4:_t=R.stateNode.containerInfo,Ln=!0;break e}R=R.return}if(_t===null)throw Error(n(160));Dm(w,_,g),_t=null,Ln=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(X){rt(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Mm(o,i),o=o.sibling}function Mm(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Mn(o,i),Zn(i),h&4){try{ko(3,i,i.return),ra(3,i)}catch(ve){rt(i,i.return,ve)}try{ko(5,i,i.return)}catch(ve){rt(i,i.return,ve)}}break;case 1:Mn(o,i),Zn(i),h&512&&u!==null&&os(u,u.return);break;case 5:if(Mn(o,i),Zn(i),h&512&&u!==null&&os(u,u.return),i.flags&32){var g=i.stateNode;try{Re(g,"")}catch(ve){rt(i,i.return,ve)}}if(h&4&&(g=i.stateNode,g!=null)){var w=i.memoizedProps,_=u!==null?u.memoizedProps:w,R=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{R==="input"&&w.type==="radio"&&w.name!=null&&hn(g,w),mn(R,_);var X=mn(R,w);for(_=0;_<z.length;_+=2){var re=z[_],ie=z[_+1];re==="style"?Yn(g,ie):re==="dangerouslySetInnerHTML"?je(g,ie):re==="children"?Re(g,ie):N(g,re,ie,X)}switch(R){case"input":lr(g,w);break;case"textarea":di(g,w);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var de=w.value;de!=null?nn(g,!!w.multiple,de,!1):ne!==!!w.multiple&&(w.defaultValue!=null?nn(g,!!w.multiple,w.defaultValue,!0):nn(g,!!w.multiple,w.multiple?[]:"",!1))}g[co]=w}catch(ve){rt(i,i.return,ve)}}break;case 6:if(Mn(o,i),Zn(i),h&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,w=i.memoizedProps;try{g.nodeValue=w}catch(ve){rt(i,i.return,ve)}}break;case 3:if(Mn(o,i),Zn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Zs(o.containerInfo)}catch(ve){rt(i,i.return,ve)}break;case 4:Mn(o,i),Zn(i);break;case 13:Mn(o,i),Zn(i),g=i.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(qc=st())),h&4&&Lm(i);break;case 22:if(re=u!==null&&u.memoizedState!==null,i.mode&1?(Ot=(X=Ot)||re,Mn(o,i),Ot=X):Mn(o,i),Zn(i),h&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!re&&(i.mode&1)!==0)for(he=i,re=i.child;re!==null;){for(ie=he=re;he!==null;){switch(ne=he,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:ko(4,ne,ne.return);break;case 1:os(ne,ne.return);var pe=ne.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ne,u=ne.return;try{o=h,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(ve){rt(h,u,ve)}}break;case 5:os(ne,ne.return);break;case 22:if(ne.memoizedState!==null){zm(ie);continue}}de!==null?(de.return=ne,he=de):zm(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{g=ie.stateNode,X?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(R=ie.stateNode,z=ie.memoizedProps.style,_=z!=null&&z.hasOwnProperty("display")?z.display:null,R.style.display=Bt("display",_))}catch(ve){rt(i,i.return,ve)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=X?"":ie.memoizedProps}catch(ve){rt(i,i.return,ve)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Mn(o,i),Zn(i),h&4&&Lm(i);break;case 21:break;default:Mn(o,i),Zn(i)}}function Zn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Rm(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Re(g,""),h.flags&=-33);var w=Om(i);Wc(i,w,g);break;case 3:case 4:var _=h.stateNode.containerInfo,R=Om(i);Bc(i,R,_);break;default:throw Error(n(161))}}catch(z){rt(i,i.return,z)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Db(i,o,u){he=i,$m(i)}function $m(i,o,u){for(var h=(i.mode&1)!==0;he!==null;){var g=he,w=g.child;if(g.tag===22&&h){var _=g.memoizedState!==null||na;if(!_){var R=g.alternate,z=R!==null&&R.memoizedState!==null||Ot;R=na;var X=Ot;if(na=_,(Ot=z)&&!X)for(he=g;he!==null;)_=he,z=_.child,_.tag===22&&_.memoizedState!==null?Um(g):z!==null?(z.return=_,he=z):Um(g);for(;w!==null;)he=w,$m(w),w=w.sibling;he=g,na=R,Ot=X}Fm(i)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,he=w):Fm(i)}}function Fm(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ot||ra(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Ot)if(u===null)h.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Dn(o.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&zp(o,w,h);break;case 3:var _=o.updateQueue;if(_!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}zp(o,_,u)}break;case 5:var R=o.stateNode;if(u===null&&o.flags&4){u=R;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var re=X.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Zs(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||o.flags&512&&Uc(o)}catch(ne){rt(o,o.return,ne)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function zm(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function Um(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ra(4,o)}catch(z){rt(o,u,z)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(z){rt(o,g,z)}}var w=o.return;try{Uc(o)}catch(z){rt(o,w,z)}break;case 5:var _=o.return;try{Uc(o)}catch(z){rt(o,_,z)}}}catch(z){rt(o,o.return,z)}if(o===i){he=null;break}var R=o.sibling;if(R!==null){R.return=o.return,he=R;break}he=o.return}}var Lb=Math.ceil,ia=U.ReactCurrentDispatcher,Hc=U.ReactCurrentOwner,bn=U.ReactCurrentBatchConfig,De=0,wt=null,ut=null,Et=0,an=0,ls=Dr(0),pt=0,So=null,xi=0,sa=0,Vc=0,_o=null,Yt=null,qc=0,as=1/0,vr=null,oa=!1,Yc=null,Ur=null,la=!1,Br=null,aa=0,Eo=0,Kc=null,ua=-1,ca=0;function zt(){return(De&6)!==0?st():ua!==-1?ua:ua=st()}function Wr(i){return(i.mode&1)===0?1:(De&2)!==0&&Et!==0?Et&-Et:wb.transition!==null?(ca===0&&(ca=Oh()),ca):(i=$e,i!==0||(i=window.event,i=i===void 0?16:Wh(i.type)),i)}function $n(i,o,u,h){if(50<Eo)throw Eo=0,Kc=null,Error(n(185));Ks(i,u,h),((De&2)===0||i!==wt)&&(i===wt&&((De&2)===0&&(sa|=u),pt===4&&Hr(i,Et)),Kt(i,h),u===1&&De===0&&(o.mode&1)===0&&(as=st()+500,$l&&Mr()))}function Kt(i,o){var u=i.callbackNode;wx(i,o);var h=wl(i,i===wt?Et:0);if(h===0)u!==null&&Ih(u),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(u!=null&&Ih(u),o===1)i.tag===0?yb(Wm.bind(null,i)):Tp(Wm.bind(null,i)),pb(function(){(De&6)===0&&Mr()}),u=null;else{switch(Dh(h)){case 1:u=ju;break;case 4:u=Ph;break;case 16:u=ml;break;case 536870912:u=Rh;break;default:u=ml}u=Qm(u,Bm.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Bm(i,o){if(ua=-1,ca=0,(De&6)!==0)throw Error(n(327));var u=i.callbackNode;if(us()&&i.callbackNode!==u)return null;var h=wl(i,i===wt?Et:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=da(i,h);else{o=h;var g=De;De|=2;var w=Vm();(wt!==i||Et!==o)&&(vr=null,as=st()+500,ki(i,o));do try{Fb();break}catch(R){Hm(i,R)}while(!0);fc(),ia.current=w,De=g,ut!==null?o=0:(wt=null,Et=0,o=pt)}if(o!==0){if(o===2&&(g=Tu(i),g!==0&&(h=g,o=Gc(i,g))),o===1)throw u=So,ki(i,0),Hr(i,h),Kt(i,st()),u;if(o===6)Hr(i,h);else{if(g=i.current.alternate,(h&30)===0&&!Mb(g)&&(o=da(i,h),o===2&&(w=Tu(i),w!==0&&(h=w,o=Gc(i,w))),o===1))throw u=So,ki(i,0),Hr(i,h),Kt(i,st()),u;switch(i.finishedWork=g,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:Si(i,Yt,vr);break;case 3:if(Hr(i,h),(h&130023424)===h&&(o=qc+500-st(),10<o)){if(wl(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){zt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=tc(Si.bind(null,i,Yt,vr),o);break}Si(i,Yt,vr);break;case 4:if(Hr(i,h),(h&4194240)===h)break;for(o=i.eventTimes,g=-1;0<h;){var _=31-Pn(h);w=1<<_,_=o[_],_>g&&(g=_),h&=~w}if(h=g,h=st()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Lb(h/1960))-h,10<h){i.timeoutHandle=tc(Si.bind(null,i,Yt,vr),h);break}Si(i,Yt,vr);break;case 5:Si(i,Yt,vr);break;default:throw Error(n(329))}}}return Kt(i,st()),i.callbackNode===u?Bm.bind(null,i):null}function Gc(i,o){var u=_o;return i.current.memoizedState.isDehydrated&&(ki(i,o).flags|=256),i=da(i,o),i!==2&&(o=Yt,Yt=u,o!==null&&Jc(o)),i}function Jc(i){Yt===null?Yt=i:Yt.push.apply(Yt,i)}function Mb(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],w=g.getSnapshot;g=g.value;try{if(!Rn(w(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hr(i,o){for(o&=~Vc,o&=~sa,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Pn(o),h=1<<u;i[u]=-1,o&=~h}}function Wm(i){if((De&6)!==0)throw Error(n(327));us();var o=wl(i,0);if((o&1)===0)return Kt(i,st()),null;var u=da(i,o);if(i.tag!==0&&u===2){var h=Tu(i);h!==0&&(o=h,u=Gc(i,h))}if(u===1)throw u=So,ki(i,0),Hr(i,o),Kt(i,st()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Si(i,Yt,vr),Kt(i,st()),null}function Qc(i,o){var u=De;De|=1;try{return i(o)}finally{De=u,De===0&&(as=st()+500,$l&&Mr())}}function bi(i){Br!==null&&Br.tag===0&&(De&6)===0&&us();var o=De;De|=1;var u=bn.transition,h=$e;try{if(bn.transition=null,$e=1,i)return i()}finally{$e=h,bn.transition=u,De=o,(De&6)===0&&Mr()}}function Xc(){an=ls.current,Ye(ls)}function ki(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,hb(u)),ut!==null)for(u=ut.return;u!==null;){var h=u;switch(lc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ll();break;case 3:is(),Ye(Ht),Ye(It),xc();break;case 5:yc(h);break;case 4:is();break;case 13:Ye(Xe);break;case 19:Ye(Xe);break;case 10:hc(h.type._context);break;case 22:case 23:Xc()}u=u.return}if(wt=i,ut=i=Vr(i.current,null),Et=an=o,pt=0,So=null,Vc=sa=xi=0,Yt=_o=null,vi!==null){for(o=0;o<vi.length;o++)if(u=vi[o],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,w=u.pending;if(w!==null){var _=w.next;w.next=g,h.next=_}u.pending=h}vi=null}return i}function Hm(i,o){do{var u=ut;try{if(fc(),Kl.current=Xl,Gl){for(var h=Ze.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Gl=!1}if(wi=0,yt=ht=Ze=null,vo=!1,yo=0,Hc.current=null,u===null||u.return===null){pt=1,So=o,ut=null;break}e:{var w=i,_=u.return,R=u,z=o;if(o=Et,R.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var X=z,re=R,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=mm(_);if(de!==null){de.flags&=-257,gm(de,_,R,w,o),de.mode&1&&pm(w,X,o),o=de,z=X;var pe=o.updateQueue;if(pe===null){var ve=new Set;ve.add(z),o.updateQueue=ve}else pe.add(z);break e}else{if((o&1)===0){pm(w,X,o),Zc();break e}z=Error(n(426))}}else if(Ge&&R.mode&1){var ot=mm(_);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),gm(ot,_,R,w,o),cc(ss(z,R));break e}}w=z=ss(z,R),pt!==4&&(pt=2),_o===null?_o=[w]:_o.push(w),w=_;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var Y=fm(w,z,o);Fp(w,Y);break e;case 1:R=z;var B=w.type,G=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ur===null||!Ur.has(G)))){w.flags|=65536,o&=-o,w.lanes|=o;var le=hm(w,R,o);Fp(w,le);break e}}w=w.return}while(w!==null)}Ym(u)}catch(ye){o=ye,ut===u&&u!==null&&(ut=u=u.return);continue}break}while(!0)}function Vm(){var i=ia.current;return ia.current=Xl,i===null?Xl:i}function Zc(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||(xi&268435455)===0&&(sa&268435455)===0||Hr(wt,Et)}function da(i,o){var u=De;De|=2;var h=Vm();(wt!==i||Et!==o)&&(vr=null,ki(i,o));do try{$b();break}catch(g){Hm(i,g)}while(!0);if(fc(),De=u,ia.current=h,ut!==null)throw Error(n(261));return wt=null,Et=0,pt}function $b(){for(;ut!==null;)qm(ut)}function Fb(){for(;ut!==null&&!cx();)qm(ut)}function qm(i){var o=Jm(i.alternate,i,an);i.memoizedProps=i.pendingProps,o===null?Ym(i):ut=o,Hc.current=null}function Ym(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Ib(u,o,an),u!==null){ut=u;return}}else{if(u=Pb(u,o),u!==null){u.flags&=32767,ut=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{pt=6,ut=null;return}}if(o=o.sibling,o!==null){ut=o;return}ut=o=i}while(o!==null);pt===0&&(pt=5)}function Si(i,o,u){var h=$e,g=bn.transition;try{bn.transition=null,$e=1,zb(i,o,u,h)}finally{bn.transition=g,$e=h}return null}function zb(i,o,u,h){do us();while(Br!==null);if((De&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(xx(i,w),i===wt&&(ut=wt=null,Et=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||la||(la=!0,Qm(ml,function(){return us(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=bn.transition,bn.transition=null;var _=$e;$e=1;var R=De;De|=4,Hc.current=null,Ob(i,u),Mm(u,i),ob(Zu),kl=!!Xu,Zu=Xu=null,i.current=u,Db(u),dx(),De=R,$e=_,bn.transition=w}else i.current=u;if(la&&(la=!1,Br=i,aa=g),w=i.pendingLanes,w===0&&(Ur=null),px(u.stateNode),Kt(i,st()),o!==null)for(h=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(oa)throw oa=!1,i=Yc,Yc=null,i;return(aa&1)!==0&&i.tag!==0&&us(),w=i.pendingLanes,(w&1)!==0?i===Kc?Eo++:(Eo=0,Kc=i):Eo=0,Mr(),null}function us(){if(Br!==null){var i=Dh(aa),o=bn.transition,u=$e;try{if(bn.transition=null,$e=16>i?16:i,Br===null)var h=!1;else{if(i=Br,Br=null,aa=0,(De&6)!==0)throw Error(n(331));var g=De;for(De|=4,he=i.current;he!==null;){var w=he,_=w.child;if((he.flags&16)!==0){var R=w.deletions;if(R!==null){for(var z=0;z<R.length;z++){var X=R[z];for(he=X;he!==null;){var re=he;switch(re.tag){case 0:case 11:case 15:ko(8,re,w)}var ie=re.child;if(ie!==null)ie.return=re,he=ie;else for(;he!==null;){re=he;var ne=re.sibling,de=re.return;if(Pm(re),re===X){he=null;break}if(ne!==null){ne.return=de,he=ne;break}he=de}}}var pe=w.alternate;if(pe!==null){var ve=pe.child;if(ve!==null){pe.child=null;do{var ot=ve.sibling;ve.sibling=null,ve=ot}while(ve!==null)}}he=w}}if((w.subtreeFlags&2064)!==0&&_!==null)_.return=w,he=_;else e:for(;he!==null;){if(w=he,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ko(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,he=Y;break e}he=w.return}}var B=i.current;for(he=B;he!==null;){_=he;var G=_.child;if((_.subtreeFlags&2064)!==0&&G!==null)G.return=_,he=G;else e:for(_=B;he!==null;){if(R=he,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:ra(9,R)}}catch(ye){rt(R,R.return,ye)}if(R===_){he=null;break e}var le=R.sibling;if(le!==null){le.return=R.return,he=le;break e}he=R.return}}if(De=g,Mr(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(gl,i)}catch{}h=!0}return h}finally{$e=u,bn.transition=o}}return!1}function Km(i,o,u){o=ss(u,o),o=fm(i,o,1),i=Fr(i,o,1),o=zt(),i!==null&&(Ks(i,1,o),Kt(i,o))}function rt(i,o,u){if(i.tag===3)Km(i,i,u);else for(;o!==null;){if(o.tag===3){Km(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ur===null||!Ur.has(h))){i=ss(u,i),i=hm(o,i,1),o=Fr(o,i,1),i=zt(),o!==null&&(Ks(o,1,i),Kt(o,i));break}}o=o.return}}function Ub(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),o=zt(),i.pingedLanes|=i.suspendedLanes&u,wt===i&&(Et&u)===u&&(pt===4||pt===3&&(Et&130023424)===Et&&500>st()-qc?ki(i,0):Vc|=u),Kt(i,o)}function Gm(i,o){o===0&&((i.mode&1)===0?o=1:(o=yl,yl<<=1,(yl&130023424)===0&&(yl=4194304)));var u=zt();i=pr(i,o),i!==null&&(Ks(i,o,u),Kt(i,u))}function Bb(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Gm(i,u)}function Wb(i,o){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),Gm(i,u)}var Jm;Jm=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ht.current)qt=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return qt=!1,Ab(i,o,u);qt=(i.flags&131072)!==0}else qt=!1,Ge&&(o.flags&1048576)!==0&&Np(o,zl,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;ta(i,o),i=o.pendingProps;var g=Qi(o,It.current);rs(o,u),g=Sc(null,o,h,i,g,u);var w=_c();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vt(h)?(w=!0,Ml(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,gc(o),g.updater=Zl,o.stateNode=g,g._reactInternals=o,Ac(o,h,i,u),o=Oc(null,o,h,!0,w,u)):(o.tag=0,Ge&&w&&oc(o),Ft(null,o,g,u),o=o.child),o;case 16:h=o.elementType;e:{switch(ta(i,o),i=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=Vb(h),i=Dn(h,i),g){case 0:o=Rc(null,o,h,i,u);break e;case 1:o=km(null,o,h,i,u);break e;case 11:o=vm(null,o,h,i,u);break e;case 14:o=ym(null,o,h,Dn(h.type,i),u);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),Rc(i,o,h,g,u);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),km(i,o,h,g,u);case 3:e:{if(Sm(o),i===null)throw Error(n(387));h=o.pendingProps,w=o.memoizedState,g=w.element,$p(i,o),ql(o,h,null,u);var _=o.memoizedState;if(h=_.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=ss(Error(n(423)),o),o=_m(i,o,h,u,g);break e}else if(h!==g){g=ss(Error(n(424)),o),o=_m(i,o,h,u,g);break e}else for(ln=Or(o.stateNode.containerInfo.firstChild),on=o,Ge=!0,On=null,u=Lp(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(es(),h===g){o=gr(i,o,u);break e}Ft(i,o,h,u)}o=o.child}return o;case 5:return Up(o),i===null&&uc(o),h=o.type,g=o.pendingProps,w=i!==null?i.memoizedProps:null,_=g.children,ec(h,g)?_=null:w!==null&&ec(h,w)&&(o.flags|=32),bm(i,o),Ft(i,o,_,u),o.child;case 6:return i===null&&uc(o),null;case 13:return Em(i,o,u);case 4:return vc(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ts(o,null,h,u):Ft(i,o,h,u),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),vm(i,o,h,g,u);case 7:return Ft(i,o,o.pendingProps,u),o.child;case 8:return Ft(i,o,o.pendingProps.children,u),o.child;case 12:return Ft(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,w=o.memoizedProps,_=g.value,We(Wl,h._currentValue),h._currentValue=_,w!==null)if(Rn(w.value,_)){if(w.children===g.children&&!Ht.current){o=gr(i,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var R=w.dependencies;if(R!==null){_=w.child;for(var z=R.firstContext;z!==null;){if(z.context===h){if(w.tag===1){z=mr(-1,u&-u),z.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var re=X.pending;re===null?z.next=z:(z.next=re.next,re.next=z),X.pending=z}}w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),pc(w.return,u,o),R.lanes|=u;break}z=z.next}}else if(w.tag===10)_=w.type===o.type?null:w.child;else if(w.tag===18){if(_=w.return,_===null)throw Error(n(341));_.lanes|=u,R=_.alternate,R!==null&&(R.lanes|=u),pc(_,u,o),_=w.sibling}else _=w.child;if(_!==null)_.return=w;else for(_=w;_!==null;){if(_===o){_=null;break}if(w=_.sibling,w!==null){w.return=_.return,_=w;break}_=_.return}w=_}Ft(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,rs(o,u),g=wn(g),h=h(g),o.flags|=1,Ft(i,o,h,u),o.child;case 14:return h=o.type,g=Dn(h,o.pendingProps),g=Dn(h.type,g),ym(i,o,h,g,u);case 15:return wm(i,o,o.type,o.pendingProps,u);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Dn(h,g),ta(i,o),o.tag=1,Vt(h)?(i=!0,Ml(o)):i=!1,rs(o,u),cm(o,h,g),Ac(o,h,g,u),Oc(null,o,h,!0,i,u);case 19:return jm(i,o,u);case 22:return xm(i,o,u)}throw Error(n(156,o.tag))};function Qm(i,o){return Ah(i,o)}function Hb(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,o,u,h){return new Hb(i,o,u,h)}function ed(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vb(i){if(typeof i=="function")return ed(i)?1:0;if(i!=null){if(i=i.$$typeof,i===H)return 11;if(i===$)return 14}return 2}function Vr(i,o){var u=i.alternate;return u===null?(u=kn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function fa(i,o,u,h,g,w){var _=2;if(h=i,typeof i=="function")ed(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case Z:return _i(u.children,g,w,o);case te:_=8,g|=8;break;case J:return i=kn(12,u,o,g|2),i.elementType=J,i.lanes=w,i;case Q:return i=kn(13,u,o,g),i.elementType=Q,i.lanes=w,i;case O:return i=kn(19,u,o,g),i.elementType=O,i.lanes=w,i;case M:return ha(u,g,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:_=10;break e;case q:_=9;break e;case H:_=11;break e;case $:_=14;break e;case P:_=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=kn(_,u,o,g),o.elementType=i,o.type=h,o.lanes=w,o}function _i(i,o,u,h){return i=kn(7,i,h,o),i.lanes=u,i}function ha(i,o,u,h){return i=kn(22,i,h,o),i.elementType=M,i.lanes=u,i.stateNode={isHidden:!1},i}function td(i,o,u){return i=kn(6,i,null,o),i.lanes=u,i}function nd(i,o,u){return o=kn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function qb(i,o,u,h,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nu(0),this.expirationTimes=Nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function rd(i,o,u,h,g,w,_,R,z){return i=new qb(i,o,u,R,z),o===1?(o=1,w===!0&&(o|=8)):o=0,w=kn(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},gc(w),i}function Yb(i,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:i,containerInfo:o,implementation:u}}function Xm(i){if(!i)return Lr;i=i._reactInternals;e:{if(fi(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Vt(u))return Cp(i,u,o)}return o}function Zm(i,o,u,h,g,w,_,R,z){return i=rd(u,h,!0,i,g,w,_,R,z),i.context=Xm(null),u=i.current,h=zt(),g=Wr(u),w=mr(h,g),w.callback=o??null,Fr(u,w,g),i.current.lanes=g,Ks(i,g,h),Kt(i,h),i}function pa(i,o,u,h){var g=o.current,w=zt(),_=Wr(g);return u=Xm(u),o.context===null?o.context=u:o.pendingContext=u,o=mr(w,_),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Fr(g,o,_),i!==null&&($n(i,g,_,w),Vl(i,g,_)),_}function ma(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function eg(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function id(i,o){eg(i,o),(i=i.alternate)&&eg(i,o)}function Kb(){return null}var tg=typeof reportError=="function"?reportError:function(i){console.error(i)};function sd(i){this._internalRoot=i}ga.prototype.render=sd.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));pa(i,o,null,null)},ga.prototype.unmount=sd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;bi(function(){pa(null,i,null,null)}),o[cr]=null}};function ga(i){this._internalRoot=i}ga.prototype.unstable_scheduleHydration=function(i){if(i){var o=$h();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ir.length&&o!==0&&o<Ir[u].priority;u++);Ir.splice(u,0,i),u===0&&Uh(i)}};function od(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function va(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ng(){}function Gb(i,o,u,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var X=ma(_);w.call(X)}}var _=Zm(o,h,i,0,null,!1,!1,"",ng);return i._reactRootContainer=_,i[cr]=_.current,ao(i.nodeType===8?i.parentNode:i),bi(),_}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var R=h;h=function(){var X=ma(z);R.call(X)}}var z=rd(i,0,!1,null,null,!1,!1,"",ng);return i._reactRootContainer=z,i[cr]=z.current,ao(i.nodeType===8?i.parentNode:i),bi(function(){pa(o,z,u,h)}),z}function ya(i,o,u,h,g){var w=u._reactRootContainer;if(w){var _=w;if(typeof g=="function"){var R=g;g=function(){var z=ma(_);R.call(z)}}pa(o,_,i,g)}else _=Gb(u,o,i,g,h);return ma(_)}Lh=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ys(o.pendingLanes);u!==0&&(Au(o,u|1),Kt(o,st()),(De&6)===0&&(as=st()+500,Mr()))}break;case 13:bi(function(){var h=pr(i,1);if(h!==null){var g=zt();$n(h,i,1,g)}}),id(i,1)}},Iu=function(i){if(i.tag===13){var o=pr(i,134217728);if(o!==null){var u=zt();$n(o,i,134217728,u)}id(i,134217728)}},Mh=function(i){if(i.tag===13){var o=Wr(i),u=pr(i,o);if(u!==null){var h=zt();$n(u,i,o,h)}id(i,o)}},$h=function(){return $e},Fh=function(i,o){var u=$e;try{return $e=i,o()}finally{$e=u}},Vs=function(i,o,u){switch(o){case"input":if(lr(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var g=Dl(h);if(!g)throw Error(n(90));it(h),lr(h,g)}}}break;case"textarea":di(i,u);break;case"select":o=u.value,o!=null&&nn(i,!!u.multiple,o,!1)}},$t=Qc,Nt=bi;var Jb={usingClientEntryPoint:!1,Events:[fo,Gi,Dl,Tt,Nn,Qc]},Co={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qb={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Th(i),i===null?null:i.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Kb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{gl=wa.inject(Qb),Gn=wa}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jb,Gt.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(o))throw Error(n(200));return Yb(i,o,null,u)},Gt.createRoot=function(i,o){if(!od(i))throw Error(n(299));var u=!1,h="",g=tg;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=rd(i,1,!1,null,null,u,!1,h,g),i[cr]=o.current,ao(i.nodeType===8?i.parentNode:i),new sd(o)},Gt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Th(o),i=i===null?null:i.stateNode,i},Gt.flushSync=function(i){return bi(i)},Gt.hydrate=function(i,o,u){if(!va(o))throw Error(n(200));return ya(null,i,o,!0,u)},Gt.hydrateRoot=function(i,o,u){if(!od(i))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,g=!1,w="",_=tg;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),o=Zm(o,null,i,1,u??null,g,!1,w,_),i[cr]=o.current,ao(i),h)for(i=0;i<h.length;i++)u=h[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new ga(o)},Gt.render=function(i,o,u){if(!va(o))throw Error(n(200));return ya(null,i,o,!1,u)},Gt.unmountComponentAtNode=function(i){if(!va(i))throw Error(n(40));return i._reactRootContainer?(bi(function(){ya(null,null,i,!1,function(){i._reactRootContainer=null,i[cr]=null})}),!0):!1},Gt.unstable_batchedUpdates=Qc,Gt.unstable_renderSubtreeIntoContainer=function(i,o,u,h){if(!va(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ya(i,o,u,!1,h)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var cg;function by(){if(cg)return ud.exports;cg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ud.exports=ok(),ud.exports}var dg;function lk(){if(dg)return xa;dg=1;var e=by();return xa.createRoot=e.createRoot,xa.hydrateRoot=e.hydrateRoot,xa}var ak=lk();const uk=Ds(ak);var Ts=by();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(this,arguments)}var ei;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ei||(ei={}));const fg="popstate";function ck(e){e===void 0&&(e={});function t(r,s){let{pathname:l,search:a,hash:c}=r.location;return Qd("",{pathname:l,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:za(s)}return fk(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ky(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dk(){return Math.random().toString(36).substr(2,8)}function hg(e,t){return{usr:e.state,key:e.key,idx:t}}function Qd(e,t,n,r){return n===void 0&&(n=null),Ko({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ls(t):t,{state:n,key:t&&t.key||r||dk()})}function za(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fk(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,a=s.history,c=ei.Pop,d=null,f=p();f==null&&(f=0,a.replaceState(Ko({},a.state,{idx:f}),""));function p(){return(a.state||{idx:null}).idx}function m(){c=ei.Pop;let E=p(),j=E==null?null:E-f;f=E,d&&d({action:c,location:b.location,delta:j})}function y(E,j){c=ei.Push;let A=Qd(b.location,E,j);f=p()+1;let N=hg(A,f),U=b.createHref(A);try{a.pushState(N,"",U)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign(U)}l&&d&&d({action:c,location:b.location,delta:1})}function v(E,j){c=ei.Replace;let A=Qd(b.location,E,j);f=p();let N=hg(A,f),U=b.createHref(A);a.replaceState(N,"",U),l&&d&&d({action:c,location:b.location,delta:0})}function k(E){let j=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof E=="string"?E:za(E);return A=A.replace(/ $/,"%20"),nt(j,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,j)}let b={get action(){return c},get location(){return e(s,a)},listen(E){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(fg,m),d=E,()=>{s.removeEventListener(fg,m),d=null}},createHref(E){return t(s,E)},createURL:k,encodeLocation(E){let j=k(E);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:v,go(E){return a.go(E)}};return b}var pg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pg||(pg={}));function hk(e,t,n){return n===void 0&&(n="/"),pk(e,t,n)}function pk(e,t,n,r){let s=typeof t=="string"?Ls(t):t,l=Ps(s.pathname||"/",n);if(l==null)return null;let a=Sy(e);mk(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=Ck(l);c=_k(a[d],f)}return c}function Sy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,a,c)=>{let d={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};d.relativePath.startsWith("/")&&(nt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=ii([r,d.relativePath]),p=n.concat(d);l.children&&l.children.length>0&&(nt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Sy(l.children,t,p,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:kk(f,l.index),routesMeta:p})};return e.forEach((l,a)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))s(l,a);else for(let d of _y(l.path))s(l,a,d)}),t}function _y(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let a=_y(r.join("/")),c=[];return c.push(...a.map(d=>d===""?l:[l,d].join("/"))),s&&c.push(...a),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function mk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Sk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gk=/^:[\w-]+$/,vk=3,yk=2,wk=1,xk=10,bk=-2,mg=e=>e==="*";function kk(e,t){let n=e.split("/"),r=n.length;return n.some(mg)&&(r+=bk),t&&(r+=yk),n.filter(s=>!mg(s)).reduce((s,l)=>s+(gk.test(l)?vk:l===""?wk:xk),r)}function Sk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function _k(e,t,n){let{routesMeta:r}=e,s={},l="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=l==="/"?t:t.slice(l.length)||"/",m=Xd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:ii([l,m.pathname]),pathnameBase:Ak(ii([l,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(l=ii([l,m.pathnameBase]))}return a}function Xd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ek(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],a=l.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,p,m)=>{let{paramName:y,isOptional:v}=p;if(y==="*"){let b=c[m]||"";a=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const k=c[m];return v&&!k?f[y]=void 0:f[y]=(k||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:a,pattern:e}}function Ek(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ky(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ck(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ky(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ps(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function jk(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ls(e):e;return{pathname:n?n.startsWith("/")?n:Tk(n,t):t,search:Ik(r),hash:Pk(s)}}function Tk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zf(e,t){let n=Nk(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ls(e):(s=Ko({},e),nt(!s.pathname||!s.pathname.includes("?"),fd("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),fd("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),fd("#","search","hash",s)));let l=e===""||s.pathname==="",a=l?"/":s.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}c=m>=0?t[m]:"/"}let d=jk(s,c),f=a&&a!=="/"&&a.endsWith("/"),p=(l||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),Ak=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ik=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ey=["post","put","patch","delete"];new Set(Ey);const Ok=["get",...Ey];new Set(Ok);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(this,arguments)}const su=S.createContext(null),Cy=S.createContext(null),Sr=S.createContext(null),ou=S.createContext(null),_r=S.createContext({outlet:null,matches:[],isDataRoute:!1}),jy=S.createContext(null);function Dk(e,t){let{relative:n}=t===void 0?{}:t;Ms()||nt(!1);let{basename:r,navigator:s}=S.useContext(Sr),{hash:l,pathname:a,search:c}=lu(e,{relative:n}),d=a;return r!=="/"&&(d=a==="/"?r:ii([r,a])),s.createHref({pathname:d,search:c,hash:l})}function Ms(){return S.useContext(ou)!=null}function oi(){return Ms()||nt(!1),S.useContext(ou).location}function Ty(e){S.useContext(Sr).static||S.useLayoutEffect(e)}function Bf(){let{isDataRoute:e}=S.useContext(_r);return e?Jk():Lk()}function Lk(){Ms()||nt(!1);let e=S.useContext(su),{basename:t,future:n,navigator:r}=S.useContext(Sr),{matches:s}=S.useContext(_r),{pathname:l}=oi(),a=JSON.stringify(zf(s,n.v7_relativeSplatPath)),c=S.useRef(!1);return Ty(()=>{c.current=!0}),S.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let m=Uf(f,JSON.parse(a),l,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ii([t,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[t,r,a,l,e])}const Mk=S.createContext(null);function $k(e){let t=S.useContext(_r).outlet;return t&&S.createElement(Mk.Provider,{value:e},t)}function lu(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(Sr),{matches:s}=S.useContext(_r),{pathname:l}=oi(),a=JSON.stringify(zf(s,r.v7_relativeSplatPath));return S.useMemo(()=>Uf(e,JSON.parse(a),l,n==="path"),[e,a,l,n])}function Fk(e,t){return zk(e,t)}function zk(e,t,n,r){Ms()||nt(!1);let{navigator:s}=S.useContext(Sr),{matches:l}=S.useContext(_r),a=l[l.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let f=oi(),p;if(t){var m;let E=typeof t=="string"?Ls(t):t;d==="/"||(m=E.pathname)!=null&&m.startsWith(d)||nt(!1),p=E}else p=f;let y=p.pathname||"/",v=y;if(d!=="/"){let E=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=hk(e,{pathname:v}),b=Vk(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:ii([d,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:ii([d,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,n,r);return t&&b?S.createElement(ou.Provider,{value:{location:Go({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ei.Pop}},b):b}function Uk(){let e=Gk(),t=Rk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const Bk=S.createElement(Uk,null);class Wk extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(_r.Provider,{value:this.props.routeContext},S.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hk(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(su);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(_r.Provider,{value:t},r)}function Vk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let p=a.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);p>=0||nt(!1),a=a.slice(0,Math.min(a.length,p+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:v}=n,k=m.route.loader&&y[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||k){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let v,k=!1,b=null,E=null;n&&(v=c&&m.route.id?c[m.route.id]:void 0,b=m.route.errorElement||Bk,d&&(f<0&&y===0?(Qk("route-fallback"),k=!0,E=null):f===y&&(k=!0,E=m.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,y+1)),A=()=>{let N;return v?N=b:k?N=E:m.route.Component?N=S.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=p,S.createElement(Hk,{match:m,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?S.createElement(Wk,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:A(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):A()},null)}var Ny=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Ny||{}),Ay=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Ay||{});function qk(e){let t=S.useContext(su);return t||nt(!1),t}function Yk(e){let t=S.useContext(Cy);return t||nt(!1),t}function Kk(e){let t=S.useContext(_r);return t||nt(!1),t}function Iy(e){let t=Kk(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function Gk(){var e;let t=S.useContext(jy),n=Yk(),r=Iy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Jk(){let{router:e}=qk(Ny.UseNavigateStable),t=Iy(Ay.UseNavigateStable),n=S.useRef(!1);return Ty(()=>{n.current=!0}),S.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Go({fromRouteId:t},l)))},[e,t])}const gg={};function Qk(e,t,n){gg[e]||(gg[e]=!0)}function Xk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wf(e){let{to:t,replace:n,state:r,relative:s}=e;Ms()||nt(!1);let{future:l,static:a}=S.useContext(Sr),{matches:c}=S.useContext(_r),{pathname:d}=oi(),f=Bf(),p=Uf(t,zf(c,l.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(p);return S.useEffect(()=>f(JSON.parse(m),{replace:n,state:r,relative:s}),[f,m,s,n,r]),null}function Py(e){return $k(e.context)}function Fn(e){nt(!1)}function Zk(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ei.Pop,navigator:l,static:a=!1,future:c}=e;Ms()&&nt(!1);let d=t.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:d,navigator:l,static:a,future:Go({v7_relativeSplatPath:!1},c)}),[d,c,l,a]);typeof r=="string"&&(r=Ls(r));let{pathname:p="/",search:m="",hash:y="",state:v=null,key:k="default"}=r,b=S.useMemo(()=>{let E=Ps(p,d);return E==null?null:{location:{pathname:E,search:m,hash:y,state:v,key:k},navigationType:s}},[d,p,m,y,v,k,s]);return b==null?null:S.createElement(Sr.Provider,{value:f},S.createElement(ou.Provider,{children:n,value:b}))}function e1(e){let{children:t,location:n}=e;return Fk(Zd(t),n)}new Promise(()=>{});function Zd(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let l=[...t,s];if(r.type===S.Fragment){n.push.apply(n,Zd(r.props.children,l));return}r.type!==Fn&&nt(!1),!r.props.index||!r.props.children||nt(!1);let a={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Zd(r.props.children,l)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(this,arguments)}function Ry(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function t1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function n1(e,t){return e.button===0&&(!t||t==="_self")&&!t1(e)}function ef(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function r1(e,t){let n=ef(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(l=>{n.append(s,l)})}),n}const i1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],s1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],o1="6";try{window.__reactRouterVersion=o1}catch{}const l1=S.createContext({isTransitioning:!1}),a1="startTransition",vg=Jd[a1];function u1(e){let{basename:t,children:n,future:r,window:s}=e,l=S.useRef();l.current==null&&(l.current=ck({window:s,v5Compat:!0}));let a=l.current,[c,d]=S.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},p=S.useCallback(m=>{f&&vg?vg(()=>d(m)):d(m)},[d,f]);return S.useLayoutEffect(()=>a.listen(p),[a,p]),S.useEffect(()=>Xk(r),[r]),S.createElement(Zk,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const c1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=S.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:l,replace:a,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m}=t,y=Ry(t,i1),{basename:v}=S.useContext(Sr),k,b=!1;if(typeof f=="string"&&d1.test(f)&&(k=f,c1))try{let N=new URL(window.location.href),U=f.startsWith("//")?new URL(N.protocol+f):new URL(f),K=Ps(U.pathname,v);U.origin===N.origin&&K!=null?f=K+U.search+U.hash:b=!0}catch{}let E=Dk(f,{relative:s}),j=h1(f,{replace:a,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:m});function A(N){r&&r(N),N.defaultPrevented||j(N)}return S.createElement("a",Ua({},y,{href:k||E,onClick:b||l?r:A,ref:n,target:d}))}),yg=S.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:l="",end:a=!1,style:c,to:d,viewTransition:f,children:p}=t,m=Ry(t,s1),y=lu(d,{relative:m.relative}),v=oi(),k=S.useContext(Cy),{navigator:b,basename:E}=S.useContext(Sr),j=k!=null&&m1(y)&&f===!0,A=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,N=v.pathname,U=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(N=N.toLowerCase(),U=U?U.toLowerCase():null,A=A.toLowerCase()),U&&E&&(U=Ps(U,E)||U);const K=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let L=N===A||!a&&N.startsWith(A)&&N.charAt(K)==="/",Z=U!=null&&(U===A||!a&&U.startsWith(A)&&U.charAt(A.length)==="/"),te={isActive:L,isPending:Z,isTransitioning:j},J=L?r:void 0,D;typeof l=="function"?D=l(te):D=[l,L?"active":null,Z?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let q=typeof c=="function"?c(te):c;return S.createElement(_s,Ua({},m,{"aria-current":J,className:D,ref:n,style:q,to:d,viewTransition:f}),typeof p=="function"?p(te):p)});var tf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tf||(tf={}));var wg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wg||(wg={}));function f1(e){let t=S.useContext(su);return t||nt(!1),t}function h1(e,t){let{target:n,replace:r,state:s,preventScrollReset:l,relative:a,viewTransition:c}=t===void 0?{}:t,d=Bf(),f=oi(),p=lu(e,{relative:a});return S.useCallback(m=>{if(n1(m,n)){m.preventDefault();let y=r!==void 0?r:za(f)===za(p);d(e,{replace:y,state:s,preventScrollReset:l,relative:a,viewTransition:c})}},[f,d,p,r,s,n,e,l,a,c])}function p1(e){let t=S.useRef(ef(e)),n=S.useRef(!1),r=oi(),s=S.useMemo(()=>r1(r.search,n.current?null:t.current),[r.search]),l=Bf(),a=S.useCallback((c,d)=>{const f=ef(typeof c=="function"?c(s):c);n.current=!0,l("?"+f,d)},[l,s]);return[s,a]}function m1(e,t){t===void 0&&(t={});let n=S.useContext(l1);n==null&&nt(!1);let{basename:r}=f1(tf.useViewTransitionState),s=lu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xd(s.pathname,a)!=null||Xd(s.pathname,l)!=null}function Oy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Oy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tt(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Oy(e))&&(r&&(r+=" "),r+=t);return r}var g1=Object.defineProperty,v1=(e,t,n)=>t in e?g1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hd=(e,t,n)=>(v1(e,typeof t!="symbol"?t+"":t,n),n);let y1=class{constructor(){hd(this,"current",this.detect()),hd(this,"handoffState","pending"),hd(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},rr=new y1;function il(e){var t;return rr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function nf(e){var t,n;return rr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function Dy(e){var t,n;return(n=(t=nf(e))==null?void 0:t.activeElement)!=null?n:null}function w1(e){return Dy(e)===e}function au(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Er(){let e=[],t={addEventListener(n,r,s,l){return n.addEventListener(r,s,l),t.add(()=>n.removeEventListener(r,s,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return au(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=Er();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function uu(){let[e]=S.useState(Er);return S.useEffect(()=>()=>e.dispose(),[e]),e}let Xt=(e,t)=>{rr.isServer?S.useEffect(e,t):S.useLayoutEffect(e,t)};function $i(e){let t=S.useRef(e);return Xt(()=>{t.current=e},[e]),t}let ze=function(e){let t=$i(e);return me.useCallback((...n)=>t.current(...n),[t])};function sl(e){return S.useMemo(()=>e,Object.values(e))}let x1=S.createContext(void 0);function b1(){return S.useContext(x1)}function rf(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function br(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,br),r}var Ba=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ba||{}),ti=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ti||{});function jn(){let e=S1();return S.useCallback(t=>k1({mergeRefs:e,...t}),[e])}function k1({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:l=!0,name:a,mergeRefs:c}){c=c??_1;let d=Ly(t,e);if(l)return ba(d,n,r,a,c);let f=s??0;if(f&2){let{static:p=!1,...m}=d;if(p)return ba(m,n,r,a,c)}if(f&1){let{unmount:p=!0,...m}=d;return br(p?0:1,{0(){return null},1(){return ba({...m,hidden:!0,style:{display:"none"}},n,r,a,c)}})}return ba(d,n,r,a,c)}function ba(e,t={},n,r,s){let{as:l=n,children:a,refName:c="ref",...d}=pd(e,["unmount","static"]),f=e.ref!==void 0?{[c]:e.ref}:{},p=typeof a=="function"?a(t):a;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let m={};if(t){let y=!1,v=[];for(let[k,b]of Object.entries(t))typeof b=="boolean"&&(y=!0),b===!0&&v.push(k.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(y){m["data-headlessui-state"]=v.join(" ");for(let k of v)m[`data-${k}`]=""}}if(Lo(l)&&(Object.keys(Ti(d)).length>0||Object.keys(Ti(m)).length>0))if(!S.isValidElement(p)||Array.isArray(p)&&p.length>1||C1(p)){if(Object.keys(Ti(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ti(d)).concat(Object.keys(Ti(m))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=p.props,v=y==null?void 0:y.className,k=typeof v=="function"?(...j)=>rf(v(...j),d.className):rf(v,d.className),b=k?{className:k}:{},E=Ly(p.props,Ti(pd(d,["ref"])));for(let j in m)j in E&&delete m[j];return S.cloneElement(p,Object.assign({},E,m,f,{ref:s(E1(p),f.ref)},b))}return S.createElement(l,Object.assign({},pd(d,["ref"]),!Lo(l)&&f,!Lo(l)&&m),p)}function S1(){let e=S.useRef([]),t=S.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function _1(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Ly(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var l;return(l=s==null?void 0:s.preventDefault)==null?void 0:l.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...l){let a=n[r];for(let c of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;c(s,...l)}}});return t}function Zt(e){var t;return Object.assign(S.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ti(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function pd(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function E1(e){return me.version.split(".")[0]>="19"?e.props.ref:e.ref}function Lo(e){return e===S.Fragment||e===Symbol.for("react.fragment")}function C1(e){return Lo(e.type)}let j1="span";var Wa=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Wa||{});function T1(e,t){var n;let{features:r=1,...s}=e,l={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return jn()({ourProps:l,theirProps:s,slot:{},defaultTag:j1,name:"Hidden"})}let sf=Zt(T1);function N1(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function si(e){return N1(e)&&"tagName"in e}function Li(e){return si(e)&&"accessKey"in e}function ni(e){return si(e)&&"tabIndex"in e}function A1(e){return si(e)&&"style"in e}function I1(e){return Li(e)&&e.nodeName==="IFRAME"}function P1(e){return Li(e)&&e.nodeName==="INPUT"}let My=Symbol();function R1(e,t=!0){return Object.assign(e,{[My]:t})}function sr(...e){let t=S.useRef(e);S.useEffect(()=>{t.current=e},[e]);let n=ze(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[My]))?void 0:n}let Hf=S.createContext(null);Hf.displayName="DescriptionContext";function $y(){let e=S.useContext(Hf);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,$y),t}return e}function O1(){let[e,t]=S.useState([]);return[e.length>0?e.join(" "):void 0,S.useMemo(()=>function(n){let r=ze(l=>(t(a=>[...a,l]),()=>t(a=>{let c=a.slice(),d=c.indexOf(l);return d!==-1&&c.splice(d,1),c}))),s=S.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return me.createElement(Hf.Provider,{value:s},n.children)},[t])]}let D1="p";function L1(e,t){let n=S.useId(),r=b1(),{id:s=`headlessui-description-${n}`,...l}=e,a=$y(),c=sr(t);Xt(()=>a.register(s),[s,a.register]);let d=sl({...a.slot,disabled:r||!1}),f={ref:c,...a.props,id:s};return jn()({ourProps:f,theirProps:l,slot:d,defaultTag:D1,name:a.name||"Description"})}let M1=Zt(L1),$1=Object.assign(M1,{});var Fy=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Fy||{});let F1=S.createContext(()=>{});function z1({value:e,children:t}){return me.createElement(F1.Provider,{value:e},t)}let zy=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var U1=Object.defineProperty,B1=(e,t,n)=>t in e?U1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W1=(e,t,n)=>(B1(e,t+"",n),n),Uy=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Sn=(e,t,n)=>(Uy(e,t,"read from private field"),n?n.call(e):t.get(e)),md=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},xg=(e,t,n,r)=>(Uy(e,t,"write to private field"),t.set(e,n),n),er,Po,Ro;let H1=class{constructor(t){md(this,er,{}),md(this,Po,new zy(()=>new Set)),md(this,Ro,new Set),W1(this,"disposables",Er()),xg(this,er,t),rr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Sn(this,er)}subscribe(t,n){if(rr.isServer)return()=>{};let r={selector:t,callback:n,current:t(Sn(this,er))};return Sn(this,Ro).add(r),this.disposables.add(()=>{Sn(this,Ro).delete(r)})}on(t,n){return rr.isServer?()=>{}:(Sn(this,Po).get(t).add(n),this.disposables.add(()=>{Sn(this,Po).get(t).delete(n)}))}send(t){let n=this.reduce(Sn(this,er),t);if(n!==Sn(this,er)){xg(this,er,n);for(let r of Sn(this,Ro)){let s=r.selector(Sn(this,er));By(r.current,s)||(r.current=s,r.callback(s))}for(let r of Sn(this,Po).get(t.type))r(Sn(this,er),t)}}};er=new WeakMap,Po=new WeakMap,Ro=new WeakMap;function By(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:gd(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:gd(e.entries(),t.entries()):bg(e)&&bg(t)?gd(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function gd(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function bg(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var V1=Object.defineProperty,q1=(e,t,n)=>t in e?V1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kg=(e,t,n)=>(q1(e,typeof t!="symbol"?t+"":t,n),n),Y1=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Y1||{});let K1={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let l=e.stack.slice();return l.splice(s,1),l.push(n),r=l,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},G1=class Wy extends H1{constructor(){super(...arguments),kg(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),kg(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Wy({stack:[]})}reduce(t,n){return br(n.type,K1,t,n)}};const Hy=new zy(()=>G1.new());var vd={exports:{}},yd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function J1(){if(Sg)return yd;Sg=1;var e=iu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,a=e.useMemo,c=e.useDebugValue;return yd.useSyncExternalStoreWithSelector=function(d,f,p,m,y){var v=s(null);if(v.current===null){var k={hasValue:!1,value:null};v.current=k}else k=v.current;v=a(function(){function E(K){if(!j){if(j=!0,A=K,K=m(K),y!==void 0&&k.hasValue){var L=k.value;if(y(L,K))return N=L}return N=K}if(L=N,n(A,K))return L;var Z=m(K);return y!==void 0&&y(L,Z)?(A=K,L):(A=K,N=Z)}var j=!1,A,N,U=p===void 0?null:p;return[function(){return E(f())},U===null?void 0:function(){return E(U())}]},[f,p,m,y]);var b=r(d,v[0],v[1]);return l(function(){k.hasValue=!0,k.value=b},[b]),c(b),b},yd}var _g;function Q1(){return _g||(_g=1,vd.exports=J1()),vd.exports}var X1=Q1();function Vy(e,t,n=By){return X1.useSyncExternalStoreWithSelector(ze(r=>e.subscribe(Z1,r)),ze(()=>e.state),ze(()=>e.state),ze(t),n)}function Z1(e){return e}function ol(e,t){let n=S.useId(),r=Hy.get(t),[s,l]=Vy(r,S.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return Xt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?l?s:!0:!1}let of=new Map,Mo=new Map;function Eg(e){var t;let n=(t=Mo.get(e))!=null?t:0;return Mo.set(e,n+1),n!==0?()=>Cg(e):(of.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Cg(e))}function Cg(e){var t;let n=(t=Mo.get(e))!=null?t:1;if(n===1?Mo.delete(e):Mo.set(e,n-1),n!==1)return;let r=of.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,of.delete(e))}function eS(e,{allowed:t,disallowed:n}={}){let r=ol(e,"inert-others");Xt(()=>{var s,l;if(!r)return;let a=Er();for(let d of(s=n==null?void 0:n())!=null?s:[])d&&a.add(Eg(d));let c=(l=t==null?void 0:t())!=null?l:[];for(let d of c){if(!d)continue;let f=il(d);if(!f)continue;let p=d.parentElement;for(;p&&p!==f.body;){for(let m of p.children)c.some(y=>m.contains(y))||a.add(Eg(m));p=p.parentElement}}return a.dispose},[r,t,n])}function tS(e,t,n){let r=$i(s=>{let l=s.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});S.useEffect(()=>{if(!e)return;let s=t===null?null:Li(t)?t:t.current;if(!s)return;let l=Er();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(s));a.observe(s),l.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(s));a.observe(s),l.add(()=>a.disconnect())}return()=>l.dispose()},[t,r,e])}let Ha=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),nS=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var wr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(wr||{}),lf=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(lf||{}),rS=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(rS||{});function iS(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ha)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function sS(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(nS)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var qy=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(qy||{});function oS(e,t=0){var n;return e===((n=il(e))==null?void 0:n.body)?!1:br(t,{0(){return e.matches(Ha)},1(){let r=e;for(;r!==null;){if(r.matches(Ha))return!0;r=r.parentElement}return!1}})}var lS=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(lS||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xr(e){e==null||e.focus({preventScroll:!0})}let aS=["textarea","input"].join(",");function uS(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,aS))!=null?n:!1}function cS(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),l=t(r);if(s===null||l===null)return 0;let a=s.compareDocumentPosition(l);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function $o(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let l=Array.isArray(e)?e.length>0?nf(e[0]):document:nf(e),a=Array.isArray(e)?n?cS(e):e:t&64?sS(e):iS(e);s.length>0&&a.length>1&&(a=a.filter(v=>!s.some(k=>k!=null&&"current"in k?(k==null?void 0:k.current)===v:k===v))),r=r??(l==null?void 0:l.activeElement);let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},p=0,m=a.length,y;do{if(p>=m||p+m<=0)return 0;let v=d+p;if(t&16)v=(v+m)%m;else{if(v<0)return 3;if(v>=m)return 1}y=a[v],y==null||y.focus(f),p+=c}while(y!==Dy(y));return t&6&&uS(y)&&y.select(),2}function Yy(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function dS(){return/Android/gi.test(window.navigator.userAgent)}function jg(){return Yy()||dS()}function ka(e,t,n,r){let s=$i(n);S.useEffect(()=>{if(!e)return;function l(a){s.current(a)}return document.addEventListener(t,l,r),()=>document.removeEventListener(t,l,r)},[e,t,r])}function Ky(e,t,n,r){let s=$i(n);S.useEffect(()=>{if(!e)return;function l(a){s.current(a)}return window.addEventListener(t,l,r),()=>window.removeEventListener(t,l,r)},[e,t,r])}const Tg=30;function fS(e,t,n){let r=$i(n),s=S.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let p=(function m(y){return typeof y=="function"?m(y()):Array.isArray(y)||y instanceof Set?y:[y]})(t);for(let m of p)if(m!==null&&(m.contains(f)||c.composed&&c.composedPath().includes(m)))return;return!oS(f,qy.Loose)&&f.tabIndex!==-1&&c.preventDefault(),r.current(c,f)},[r,t]),l=S.useRef(null);ka(e,"pointerdown",c=>{var d,f;jg()||(l.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target)},!0),ka(e,"pointerup",c=>{if(jg()||!l.current)return;let d=l.current;return l.current=null,s(c,()=>d)},!0);let a=S.useRef({x:0,y:0});ka(e,"touchstart",c=>{a.current.x=c.touches[0].clientX,a.current.y=c.touches[0].clientY},!0),ka(e,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-a.current.x)>=Tg||Math.abs(d.y-a.current.y)>=Tg))return s(c,()=>ni(c.target)?c.target:null)},!0),Ky(e,"blur",c=>s(c,()=>I1(window.document.activeElement)?window.document.activeElement:null),!0)}function Vf(...e){return S.useMemo(()=>il(...e),[...e])}function Gy(e,t,n,r){let s=$i(n);S.useEffect(()=>{e=e??window;function l(a){s.current(a)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function hS(e){return S.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function pS(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...l){let a=t[s].call(n,...l);a&&(n=a,r.forEach(c=>c()))}}}function mS(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),l=Math.max(0,e-s);n.style(r,"paddingRight",`${l}px`)}}}function gS(){return Yy()?{before({doc:e,d:t,meta:n}){function r(s){for(let l of n().containers)for(let a of l())if(a.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=Er();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let l=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",c=>{if(ni(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),p=e.querySelector(f);ni(p)&&!r(p)&&(a=p)}catch{}},!0),t.group(c=>{t.addEventListener(e,"touchstart",d=>{if(c.dispose(),ni(d.target)&&A1(d.target))if(r(d.target)){let f=d.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;c.style(f,"overscrollBehavior","contain")}else c.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",c=>{if(ni(c.target)){if(P1(c.target))return;if(r(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;l!==d&&window.scrollTo(0,l),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function vS(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ng(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Oi=pS(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Er(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Ng(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Ng(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[gS(),mS(),vS()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Oi.subscribe(()=>{let e=Oi.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Oi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Oi.dispatch("TEARDOWN",n)}});function yS(e,t,n=()=>({containers:[]})){let r=hS(Oi),s=t?r.get(t):void 0,l=s?s.count>0:!1;return Xt(()=>{if(!(!t||!e))return Oi.dispatch("PUSH",t,n),()=>Oi.dispatch("POP",t,n)},[e,t]),l}function wS(e,t,n=()=>[document.body]){let r=ol(e,"scroll-lock");yS(r,t,s=>{var l;return{containers:[...(l=s.containers)!=null?l:[],n]}})}function xS(e=0){let[t,n]=S.useState(e),r=S.useCallback(d=>n(d),[]),s=S.useCallback(d=>n(f=>f|d),[]),l=S.useCallback(d=>(t&d)===d,[t]),a=S.useCallback(d=>n(f=>f&~d),[]),c=S.useCallback(d=>n(f=>f^d),[]);return{flags:t,setFlag:r,addFlag:s,hasFlag:l,removeFlag:a,toggleFlag:c}}var bS={},Ag,Ig;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Ag=process==null?void 0:bS)==null?void 0:Ag.NODE_ENV)==="test"&&typeof((Ig=Element==null?void 0:Element.prototype)==null?void 0:Ig.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var kS=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(kS||{});function SS(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function _S(e,t,n,r){let[s,l]=S.useState(n),{hasFlag:a,addFlag:c,removeFlag:d}=xS(e&&s?3:0),f=S.useRef(!1),p=S.useRef(!1),m=uu();return Xt(()=>{var y;if(e){if(n&&l(!0),!t){n&&c(3);return}return(y=r==null?void 0:r.start)==null||y.call(r,n),ES(t,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,!p.current&&(n?(c(3),d(4)):(c(4),d(2)))},run(){p.current?n?(d(3),c(4)):(d(4),c(3)):n?d(1):c(1)},done(){var v;p.current&&TS(t)||(f.current=!1,d(7),n||l(!1),(v=r==null?void 0:r.end)==null||v.call(r,n))}})}},[e,n,t,m]),e?[s,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function ES(e,{prepare:t,run:n,done:r,inFlight:s}){let l=Er();return jS(e,{prepare:t,inFlight:s}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(CS(e,r))})}),l.dispose}function CS(e,t){var n,r;let s=Er();if(!e)return s.dispose;let l=!1;s.add(()=>{l=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(c=>c instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),s.dispose):(Promise.allSettled(a.map(c=>c.finished)).then(()=>{l||t()}),s.dispose)}function jS(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function TS(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function qf(e,t){let n=S.useRef([]),r=ze(e);S.useEffect(()=>{let s=[...n.current];for(let[l,a]of t.entries())if(n.current[l]!==a){let c=r(t,s);return n.current=t,c}},[r,...t])}let cu=S.createContext(null);cu.displayName="OpenClosedContext";var Bn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Bn||{});function du(){return S.useContext(cu)}function NS({value:e,children:t}){return me.createElement(cu.Provider,{value:e},t)}function AS({children:e}){return me.createElement(cu.Provider,{value:null},e)}function IS(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Qr=[];IS(()=>{function e(t){if(!ni(t.target)||t.target===document.body||Qr[0]===t.target)return;let n=t.target;n=n.closest(Ha),Qr.unshift(n??t.target),Qr=Qr.filter(r=>r!=null&&r.isConnected),Qr.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Jy(e){let t=ze(e),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,au(()=>{n.current&&t()})}),[t])}let Qy=S.createContext(!1);function PS(){return S.useContext(Qy)}function Pg(e){return me.createElement(Qy.Provider,{value:e.force},e.children)}function RS(e){let t=PS(),n=S.useContext(Zy),[r,s]=S.useState(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(rr.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return S.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),S.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let Xy=S.Fragment,OS=Zt(function(e,t){let{ownerDocument:n=null,...r}=e,s=S.useRef(null),l=sr(R1(y=>{s.current=y}),t),a=Vf(s.current),c=n??a,d=RS(c),f=S.useContext(af),p=uu(),m=jn();return Jy(()=>{var y;d&&d.childNodes.length<=0&&((y=d.parentElement)==null||y.removeChild(d))}),d?Ts.createPortal(me.createElement("div",{"data-headlessui-portal":"",ref:y=>{p.dispose(),f&&y&&p.add(f.register(y))}},m({ourProps:{ref:l},theirProps:r,slot:{},defaultTag:Xy,name:"Portal"})),d):null});function DS(e,t){let n=sr(t),{enabled:r=!0,ownerDocument:s,...l}=e,a=jn();return r?me.createElement(OS,{...l,ownerDocument:s,ref:n}):a({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:Xy,name:"Portal"})}let LS=S.Fragment,Zy=S.createContext(null);function MS(e,t){let{target:n,...r}=e,s={ref:sr(t)},l=jn();return me.createElement(Zy.Provider,{value:n},l({ourProps:s,theirProps:r,defaultTag:LS,name:"Popover.Group"}))}let af=S.createContext(null);function $S(){let e=S.useContext(af),t=S.useRef([]),n=ze(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=ze(l=>{let a=t.current.indexOf(l);a!==-1&&t.current.splice(a,1),e&&e.unregister(l)}),s=S.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,S.useMemo(()=>function({children:l}){return me.createElement(af.Provider,{value:s},l)},[s])]}let FS=Zt(DS),ew=Zt(MS),zS=Object.assign(FS,{Group:ew});function US(e,t=typeof document<"u"?document.defaultView:null,n){let r=ol(e,"escape");Gy(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===Fy.Escape&&n(s))})}function BS(){var e;let[t]=S.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=S.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Xt(()=>{if(!t)return;function s(l){r(l.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function WS({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=ze(()=>{var s,l;let a=il(n),c=[];for(let d of e)d!==null&&(si(d)?c.push(d):"current"in d&&si(d.current)&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(s=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?s:[])d!==document.body&&d!==document.head&&si(d)&&d.id!=="headlessui-portal-root"&&(n&&(d.contains(n)||d.contains((l=n==null?void 0:n.getRootNode())==null?void 0:l.host))||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:r,contains:ze(s=>r().some(l=>l.contains(s)))}}let tw=S.createContext(null);function Rg({children:e,node:t}){let[n,r]=S.useState(null),s=nw(t??n);return me.createElement(tw.Provider,{value:s},e,s===null&&me.createElement(sf,{features:Wa.Hidden,ref:l=>{var a,c;if(l){for(let d of(c=(a=il(l))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&si(d)&&d!=null&&d.contains(l)){r(d);break}}}}))}function nw(e=null){var t;return(t=S.useContext(tw))!=null?t:e}function HS(){let e=typeof document>"u";return"useSyncExternalStore"in Jd?(t=>t.useSyncExternalStore)(Jd)(()=>()=>{},()=>!1,()=>!e):!1}function fu(){let e=HS(),[t,n]=S.useState(rr.isHandoffComplete);return t&&rr.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{t!==!0&&n(!0)},[t]),S.useEffect(()=>rr.handoff(),[]),e?!1:t}function Yf(){let e=S.useRef(!1);return Xt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Oo=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Oo||{});function VS(){let e=S.useRef(0);return Ky(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function rw(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)si(n.current)&&t.add(n.current);return t}let qS="div";var Ii=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ii||{});function YS(e,t){let n=S.useRef(null),r=sr(n,t),{initialFocus:s,initialFocusFallback:l,containers:a,features:c=15,...d}=e;fu()||(c=0);let f=Vf(n.current);QS(c,{ownerDocument:f});let p=XS(c,{ownerDocument:f,container:n,initialFocus:s,initialFocusFallback:l});ZS(c,{ownerDocument:f,container:n,containers:a,previousActiveElement:p});let m=VS(),y=ze(A=>{if(!Li(n.current))return;let N=n.current;(U=>U())(()=>{br(m.current,{[Oo.Forwards]:()=>{$o(N,wr.First,{skipElements:[A.relatedTarget,l]})},[Oo.Backwards]:()=>{$o(N,wr.Last,{skipElements:[A.relatedTarget,l]})}})})}),v=ol(!!(c&2),"focus-trap#tab-lock"),k=uu(),b=S.useRef(!1),E={ref:r,onKeyDown(A){A.key=="Tab"&&(b.current=!0,k.requestAnimationFrame(()=>{b.current=!1}))},onBlur(A){if(!(c&4))return;let N=rw(a);Li(n.current)&&N.add(n.current);let U=A.relatedTarget;ni(U)&&U.dataset.headlessuiFocusGuard!=="true"&&(iw(N,U)||(b.current?$o(n.current,br(m.current,{[Oo.Forwards]:()=>wr.Next,[Oo.Backwards]:()=>wr.Previous})|wr.WrapAround,{relativeTo:A.target}):ni(A.target)&&xr(A.target)))}},j=jn();return me.createElement(me.Fragment,null,v&&me.createElement(sf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Wa.Focusable}),j({ourProps:E,theirProps:d,defaultTag:qS,name:"FocusTrap"}),v&&me.createElement(sf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Wa.Focusable}))}let KS=Zt(YS),GS=Object.assign(KS,{features:Ii});function JS(e=!0){let t=S.useRef(Qr.slice());return qf(([n],[r])=>{r===!0&&n===!1&&au(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Qr.slice())},[e,Qr,t]),ze(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function QS(e,{ownerDocument:t}){let n=!!(e&8),r=JS(n);qf(()=>{n||w1(t==null?void 0:t.body)&&xr(r())},[n]),Jy(()=>{n&&xr(r())})}function XS(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let l=S.useRef(null),a=ol(!!(e&1),"focus-trap#initial-focus"),c=Yf();return qf(()=>{if(e===0)return;if(!a){s!=null&&s.current&&xr(s.current);return}let d=n.current;d&&au(()=>{if(!c.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){l.current=f;return}}else if(d.contains(f)){l.current=f;return}if(r!=null&&r.current)xr(r.current);else{if(e&16){if($o(d,wr.First|wr.AutoFocus)!==lf.Error)return}else if($o(d,wr.First)!==lf.Error)return;if(s!=null&&s.current&&(xr(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[s,a,e]),l}function ZS(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let l=Yf(),a=!!(e&4);Gy(t==null?void 0:t.defaultView,"focus",c=>{if(!a||!l.current)return;let d=rw(r);Li(n.current)&&d.add(n.current);let f=s.current;if(!f)return;let p=c.target;Li(p)?iw(d,p)?(s.current=p,xr(p)):(c.preventDefault(),c.stopPropagation(),xr(f)):xr(s.current)},!0)}function iw(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function sw(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Lo((t=e.as)!=null?t:lw)||me.Children.count(e.children)===1}let hu=S.createContext(null);hu.displayName="TransitionContext";var e_=(e=>(e.Visible="visible",e.Hidden="hidden",e))(e_||{});function t_(){let e=S.useContext(hu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function n_(){let e=S.useContext(pu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let pu=S.createContext(null);pu.displayName="NestingContext";function mu(e){return"children"in e?mu(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function ow(e,t){let n=$i(e),r=S.useRef([]),s=Yf(),l=uu(),a=ze((v,k=ti.Hidden)=>{let b=r.current.findIndex(({el:E})=>E===v);b!==-1&&(br(k,{[ti.Unmount](){r.current.splice(b,1)},[ti.Hidden](){r.current[b].state="hidden"}}),l.microTask(()=>{var E;!mu(r)&&s.current&&((E=n.current)==null||E.call(n))}))}),c=ze(v=>{let k=r.current.find(({el:b})=>b===v);return k?k.state!=="visible"&&(k.state="visible"):r.current.push({el:v,state:"visible"}),()=>a(v,ti.Unmount)}),d=S.useRef([]),f=S.useRef(Promise.resolve()),p=S.useRef({enter:[],leave:[]}),m=ze((v,k,b)=>{d.current.splice(0),t&&(t.chains.current[k]=t.chains.current[k].filter(([E])=>E!==v)),t==null||t.chains.current[k].push([v,new Promise(E=>{d.current.push(E)})]),t==null||t.chains.current[k].push([v,new Promise(E=>{Promise.all(p.current[k].map(([j,A])=>A)).then(()=>E())})]),k==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(k)):b(k)}),y=ze((v,k,b)=>{Promise.all(p.current[k].splice(0).map(([E,j])=>j)).then(()=>{var E;(E=d.current.shift())==null||E()}).then(()=>b(k))});return S.useMemo(()=>({children:r,register:c,unregister:a,onStart:m,onStop:y,wait:f,chains:p}),[c,a,r,m,y,p,f])}let lw=S.Fragment,aw=Ba.RenderStrategy;function r_(e,t){var n,r;let{transition:s=!0,beforeEnter:l,afterEnter:a,beforeLeave:c,afterLeave:d,enter:f,enterFrom:p,enterTo:m,entered:y,leave:v,leaveFrom:k,leaveTo:b,...E}=e,[j,A]=S.useState(null),N=S.useRef(null),U=sw(e),K=sr(...U?[N,t,A]:t===null?[]:[t]),L=(n=E.unmount)==null||n?ti.Unmount:ti.Hidden,{show:Z,appear:te,initial:J}=t_(),[D,q]=S.useState(Z?"visible":"hidden"),H=n_(),{register:Q,unregister:O}=H;Xt(()=>Q(N),[Q,N]),Xt(()=>{if(L===ti.Hidden&&N.current){if(Z&&D!=="visible"){q("visible");return}return br(D,{hidden:()=>O(N),visible:()=>Q(N)})}},[D,N,Q,O,Z,L]);let $=fu();Xt(()=>{if(U&&$&&D==="visible"&&N.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[N,D,$,U]);let P=J&&!te,M=te&&Z&&J,F=S.useRef(!1),W=ow(()=>{F.current||(q("hidden"),O(N))},H),C=ze(be=>{F.current=!0;let ge=be?"enter":"leave";W.onStart(N,ge,we=>{we==="enter"?l==null||l():we==="leave"&&(c==null||c())})}),I=ze(be=>{let ge=be?"enter":"leave";F.current=!1,W.onStop(N,ge,we=>{we==="enter"?a==null||a():we==="leave"&&(d==null||d())}),ge==="leave"&&!mu(W)&&(q("hidden"),O(N))});S.useEffect(()=>{U&&s||(C(Z),I(Z))},[Z,U,s]);let V=!(!s||!U||!$||P),[,T]=_S(V,j,Z,{start:C,end:I}),ae=Ti({ref:K,className:((r=rf(E.className,M&&f,M&&p,T.enter&&f,T.enter&&T.closed&&p,T.enter&&!T.closed&&m,T.leave&&v,T.leave&&!T.closed&&k,T.leave&&T.closed&&b,!T.transition&&Z&&y))==null?void 0:r.trim())||void 0,...SS(T)}),fe=0;D==="visible"&&(fe|=Bn.Open),D==="hidden"&&(fe|=Bn.Closed),Z&&D==="hidden"&&(fe|=Bn.Opening),!Z&&D==="visible"&&(fe|=Bn.Closing);let ue=jn();return me.createElement(pu.Provider,{value:W},me.createElement(NS,{value:fe},ue({ourProps:ae,theirProps:E,defaultTag:lw,features:aw,visible:D==="visible",name:"Transition.Child"})))}function i_(e,t){let{show:n,appear:r=!1,unmount:s=!0,...l}=e,a=S.useRef(null),c=sw(e),d=sr(...c?[a,t]:t===null?[]:[t]);fu();let f=du();if(n===void 0&&f!==null&&(n=(f&Bn.Open)===Bn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,m]=S.useState(n?"visible":"hidden"),y=ow(()=>{n||m("hidden")}),[v,k]=S.useState(!0),b=S.useRef([n]);Xt(()=>{v!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),k(!1))},[b,n]);let E=S.useMemo(()=>({show:n,appear:r,initial:v}),[n,r,v]);Xt(()=>{n?m("visible"):!mu(y)&&a.current!==null&&m("hidden")},[n,y]);let j={unmount:s},A=ze(()=>{var K;v&&k(!1),(K=e.beforeEnter)==null||K.call(e)}),N=ze(()=>{var K;v&&k(!1),(K=e.beforeLeave)==null||K.call(e)}),U=jn();return me.createElement(pu.Provider,{value:y},me.createElement(hu.Provider,{value:E},U({ourProps:{...j,as:S.Fragment,children:me.createElement(uw,{ref:d,...j,...l,beforeEnter:A,beforeLeave:N})},theirProps:{},defaultTag:S.Fragment,features:aw,visible:p==="visible",name:"Transition"})))}function s_(e,t){let n=S.useContext(hu)!==null,r=du()!==null;return me.createElement(me.Fragment,null,!n&&r?me.createElement(uf,{ref:t,...e}):me.createElement(uw,{ref:t,...e}))}let uf=Zt(i_),uw=Zt(r_),Kf=Zt(s_),o_=Object.assign(uf,{Child:Kf,Root:uf});var l_=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(l_||{}),a_=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(a_||{});let u_={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Gf=S.createContext(null);Gf.displayName="DialogContext";function gu(e){let t=S.useContext(Gf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,gu),n}return t}function c_(e,t){return br(t.type,u_,e,t)}let Og=Zt(function(e,t){let n=S.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:l,initialFocus:a,role:c="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:p=!1,...m}=e,y=S.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(y.current||(y.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let v=du();s===void 0&&v!==null&&(s=(v&Bn.Open)===Bn.Open);let k=S.useRef(null),b=sr(k,t),E=Vf(k.current),j=s?0:1,[A,N]=S.useReducer(c_,{titleId:null,descriptionId:null,panelRef:S.createRef()}),U=ze(()=>l(!1)),K=ze(T=>N({type:0,id:T})),L=fu()?j===0:!1,[Z,te]=$S(),J={get current(){var T;return(T=A.panelRef.current)!=null?T:k.current}},D=nw(),{resolveContainers:q}=WS({mainTreeNode:D,portals:Z,defaultContainers:[J]}),H=v!==null?(v&Bn.Closing)===Bn.Closing:!1;eS(f||H?!1:L,{allowed:ze(()=>{var T,ae;return[(ae=(T=k.current)==null?void 0:T.closest("[data-headlessui-portal]"))!=null?ae:null]}),disallowed:ze(()=>{var T;return[(T=D==null?void 0:D.closest("body > *:not(#headlessui-portal-root)"))!=null?T:null]})});let Q=Hy.get(null);Xt(()=>{if(L)return Q.actions.push(r),()=>Q.actions.pop(r)},[Q,r,L]);let O=Vy(Q,S.useCallback(T=>Q.selectors.isTop(T,r),[Q,r]));fS(O,q,T=>{T.preventDefault(),U()}),US(O,E==null?void 0:E.defaultView,T=>{T.preventDefault(),T.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),U()}),wS(f||H?!1:L,E,q),tS(L,k,U);let[$,P]=O1(),M=S.useMemo(()=>[{dialogState:j,close:U,setTitleId:K,unmount:p},A],[j,U,K,p,A]),F=sl({open:j===0}),W={ref:b,id:r,role:c,tabIndex:-1,"aria-modal":f?void 0:j===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":$,unmount:p},C=!BS(),I=Ii.None;L&&!f&&(I|=Ii.RestoreFocus,I|=Ii.TabLock,d&&(I|=Ii.AutoFocus),C&&(I|=Ii.InitialFocus));let V=jn();return me.createElement(AS,null,me.createElement(Pg,{force:!0},me.createElement(zS,null,me.createElement(Gf.Provider,{value:M},me.createElement(ew,{target:k},me.createElement(Pg,{force:!1},me.createElement(P,{slot:F},me.createElement(te,null,me.createElement(GS,{initialFocus:a,initialFocusFallback:k,containers:q,features:I},me.createElement(z1,{value:U},V({ourProps:W,theirProps:m,slot:F,defaultTag:d_,features:f_,visible:j===0,name:"Dialog"})))))))))))}),d_="div",f_=Ba.RenderStrategy|Ba.Static;function h_(e,t){let{transition:n=!1,open:r,...s}=e,l=du(),a=e.hasOwnProperty("open")||l!==null,c=e.hasOwnProperty("onClose");if(!a&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?me.createElement(Rg,null,me.createElement(o_,{show:r,transition:n,unmount:s.unmount},me.createElement(Og,{ref:t,...s}))):me.createElement(Rg,null,me.createElement(Og,{ref:t,open:r,...s}))}let p_="div";function m_(e,t){let n=S.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...l}=e,[{dialogState:a,unmount:c},d]=gu("Dialog.Panel"),f=sr(t,d.panelRef),p=sl({open:a===0}),m=ze(E=>{E.stopPropagation()}),y={ref:f,id:r,onClick:m},v=s?Kf:S.Fragment,k=s?{unmount:c}:{},b=jn();return me.createElement(v,{...k},b({ourProps:y,theirProps:l,slot:p,defaultTag:p_,name:"Dialog.Panel"}))}let g_="div";function v_(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:l}]=gu("Dialog.Backdrop"),a=sl({open:s===0}),c={ref:t,"aria-hidden":!0},d=n?Kf:S.Fragment,f=n?{unmount:l}:{},p=jn();return me.createElement(d,{...f},p({ourProps:c,theirProps:r,slot:a,defaultTag:g_,name:"Dialog.Backdrop"}))}let y_="h2";function w_(e,t){let n=S.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:l,setTitleId:a}]=gu("Dialog.Title"),c=sr(t);S.useEffect(()=>(a(r),()=>a(null)),[r,a]);let d=sl({open:l===0}),f={ref:c,id:r};return jn()({ourProps:f,theirProps:s,slot:d,defaultTag:y_,name:"Dialog.Title"})}let x_=Zt(h_),b_=Zt(m_);Zt(v_);let k_=Zt(w_),Dg=Object.assign(x_,{Panel:b_,Title:k_,Description:$1});const S_="modulepreload",__=function(e){return"/sport-planner/"+e},Lg={},ll=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=a(n.map(f=>{if(f=__(f),f in Lg)return;Lg[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":S_,p||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((v,k)=>{y.addEventListener("load",v),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})},E_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>$s);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Jf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Mg extends Jf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $g extends Jf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fg extends Jf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cf||(cf={}));var C_=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class j_{constructor(t,{headers:n={},customFetch:r,region:s=cf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=E_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return C_(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:l,method:a,body:c,signal:d}=r;let f={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(f["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(f["Content-Type"]="application/json",y=JSON.stringify(c)));const v=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:y,signal:d}).catch(j=>{throw j.name==="AbortError"?j:new Mg(j)}),k=v.headers.get("x-relay-error");if(k&&k==="true")throw new $g(v);if(!v.ok)throw new Fg(v);let b=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield v.json():b==="application/octet-stream"?E=yield v.blob():b==="text/event-stream"?E=v:b==="multipart/form-data"?E=yield v.formData():E=yield v.text(),{data:E,error:null,response:v}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Mg(l)}:{data:null,error:l,response:l instanceof Fg||l instanceof $g?l.context:void 0}}})}}var bt={},cs={},ds={},fs={},hs={},ps={},T_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rs=T_();const N_=Rs.fetch,cw=Rs.fetch.bind(Rs),dw=Rs.Headers,A_=Rs.Request,I_=Rs.Response,$s=Object.freeze(Object.defineProperty({__proto__:null,Headers:dw,Request:A_,Response:I_,default:cw,fetch:N_},Symbol.toStringTag,{value:"Module"})),P_=ek($s);var Sa={},zg;function fw(){if(zg)return Sa;zg=1,Object.defineProperty(Sa,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Sa.default=e,Sa}var Ug;function hw(){if(Ug)return ps;Ug=1;var e=ps&&ps.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ps,"__esModule",{value:!0});const t=e(P_),n=e(fw());class r{constructor(l){var a,c;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(c=l.isMaybeSingle)!==null&&c!==void 0?c:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,m,y,v;let k=null,b=null,E=null,j=f.status,A=f.statusText;if(f.ok){if(this.method!=="HEAD"){const L=await f.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?b=L:b=JSON.parse(L))}const U=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),K=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");U&&K&&K.length>1&&(E=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(k={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,E=null,j=406,A="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const U=await f.text();try{k=JSON.parse(U),Array.isArray(k)&&f.status===404&&(b=[],k=null,j=200,A="OK")}catch{f.status===404&&U===""?(j=204,A="No Content"):k={message:U}}if(k&&this.isMaybeSingle&&(!((v=k==null?void 0:k.details)===null||v===void 0)&&v.includes("0 rows"))&&(k=null,j=200,A="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:b,count:E,status:j,statusText:A}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,m,y;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=f==null?void 0:f.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),d.then(l,a)}returns(){return this}overrideTypes(){return this}}return ps.default=r,ps}var Bg;function pw(){if(Bg)return hs;Bg=1;var e=hs&&hs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hs,"__esModule",{value:!0});const t=e(hw());class n extends t.default{select(s){let l=!1;const a=(s??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:l=!0,nullsFirst:a,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${s}.${l?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:l,referencedTable:a=l}={}){const c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,l,{foreignTable:a,referencedTable:c=a}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(f,`${l-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:l=!1,settings:a=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var p;const m=[s?"analyze":null,l?"verbose":null,a?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return hs.default=n,hs}var Wg;function Qf(){if(Wg)return fs;Wg=1;var e=fs&&fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fs,"__esModule",{value:!0});const t=e(pw());class n extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}in(s,l){const a=Array.from(new Set(l)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:a,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${d}fts${f}.${l}`),this}match(s){return Object.entries(s).forEach(([l,a])=>{this.url.searchParams.append(l,`eq.${a}`)}),this}not(s,l,a){return this.url.searchParams.append(s,`not.${l}.${a}`),this}or(s,{foreignTable:l,referencedTable:a=l}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,l,a){return this.url.searchParams.append(s,`${l}.${a}`),this}}return fs.default=n,fs}var Hg;function mw(){if(Hg)return ds;Hg=1;var e=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ds,"__esModule",{value:!0});const t=e(Qf());class n{constructor(s,{headers:l={},schema:a,fetch:c}){this.url=s,this.headers=new Headers(l),this.schema=a,this.fetch=c}select(s,l){const{head:a=!1,count:c}=l??{},d=a?"HEAD":"GET";let f=!1;const p=(s??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:l,defaultToNull:a=!0}={}){var c;const d="POST";if(l&&this.headers.append("Prefer",`count=${l}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:l,ignoreDuplicates:a=!1,count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:l}={}){var a;const c="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var l;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return ds.default=n,ds}var Vg;function R_(){if(Vg)return cs;Vg=1;var e=cs&&cs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(cs,"__esModule",{value:!0});const t=e(mw()),n=e(Qf());class r{constructor(l,{headers:a={},schema:c,fetch:d}={}){this.url=l,this.headers=new Headers(a),this.schemaName=c,this.fetch=d}from(l){const a=new URL(`${this.url}/${l}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,a={},{head:c=!1,get:d=!1,count:f}={}){var p;let m;const y=new URL(`${this.url}/rpc/${l}`);let v;c||d?(m=c?"HEAD":"GET",Object.entries(a).filter(([b,E])=>E!==void 0).map(([b,E])=>[b,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([b,E])=>{y.searchParams.append(b,E)})):(m="POST",v=a);const k=new Headers(this.headers);return f&&k.set("Prefer",`count=${f}`),new n.default({method:m,url:y,headers:k,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return cs.default=r,cs}var qg;function O_(){if(qg)return bt;qg=1;var e=bt&&bt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(bt,"__esModule",{value:!0}),bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const t=e(R_());bt.PostgrestClient=t.default;const n=e(mw());bt.PostgrestQueryBuilder=n.default;const r=e(Qf());bt.PostgrestFilterBuilder=r.default;const s=e(pw());bt.PostgrestTransformBuilder=s.default;const l=e(hw());bt.PostgrestBuilder=l.default;const a=e(fw());return bt.PostgrestError=a.default,bt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:a.default},bt}var D_=O_();const L_=Ds(D_),{PostgrestClient:M_,PostgrestQueryBuilder:n2,PostgrestFilterBuilder:r2,PostgrestTransformBuilder:i2,PostgrestBuilder:s2,PostgrestError:o2}=L_;class $_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const F_="2.75.0",z_=`realtime-js/${F_}`,U_="1.0.0",df=1e4,B_=1e3,W_=100;var Fo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fo||(Fo={}));var mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mt||(mt={}));var Un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Un||(Un={}));var ff;(function(e){e.websocket="websocket"})(ff||(ff={}));var Pi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pi||(Pi={}));class H_{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),l=n.getUint8(2);let a=this.HEADER_LENGTH+2;const c=r.decode(t.slice(a,a+s));a=a+s;const d=r.decode(t.slice(a,a+l));a=a+l;const f=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}class gw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(He||(He={}));const Yg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((l,a)=>(l[a]=V_(a,e,t,s),l),{}):{}},V_=(e,t,n,r)=>{const s=t.find(c=>c.name===e),l=s==null?void 0:s.type,a=n[e];return l&&!r.includes(l)?vw(l,a):hf(a)},vw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return G_(t,n)}switch(e){case He.bool:return q_(t);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return Y_(t);case He.json:case He.jsonb:return K_(t);case He.timestamp:return J_(t);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return hf(t);default:return hf(t)}},hf=e=>e,q_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Y_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},K_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},G_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let l;const a=e.slice(1,n);try{l=JSON.parse("["+a+"]")}catch{l=a?a.split(","):[]}return l.map(c=>vw(t,c))}return e},J_=e=>typeof e=="string"?e.replace(" ","T"):e,yw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class wd{constructor(t,n,r={},s=df){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kg||(Kg={}));class zo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:l,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zo.syncState(this.state,s,l,a),this.pendingDiffs.forEach(d=>{this.state=zo.syncDiff(this.state,d,l,a)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:l,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zo.syncDiff(this.state,s,l,a),c())}),this.onJoin((s,l,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:a})}),this.onLeave((s,l,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const l=this.cloneDeep(t),a=this.transformState(n),c={},d={};return this.map(l,(f,p)=>{a[f]||(d[f]=p)}),this.map(a,(f,p)=>{const m=l[f];if(m){const y=p.map(E=>E.presence_ref),v=m.map(E=>E.presence_ref),k=p.filter(E=>v.indexOf(E.presence_ref)<0),b=m.filter(E=>y.indexOf(E.presence_ref)<0);k.length>0&&(c[f]=k),b.length>0&&(d[f]=b)}else c[f]=p}),this.syncDiff(l,{joins:c,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:l,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(l,(c,d)=>{var f;const p=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),p.length>0){const m=t[c].map(v=>v.presence_ref),y=p.filter(v=>m.indexOf(v.presence_ref)<0);t[c].unshift(...y)}r(c,p,d)}),this.map(a,(c,d)=>{let f=t[c];if(!f)return;const p=d.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),t[c]=f,s(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gg||(Gg={}));var Uo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Uo||(Uo={}));var yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class Xf{constructor(t,n={config:{}},r){var s,l;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wd(this,Un.join,this.params,this.timeout),this.rejoinTimer=new gw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new zo(this),this.broadcastEndpointURL=yw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,l;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:a,presence:c,private:d}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Uo.PRESENCE]&&this.bindings[Uo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,m={},y={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(yr.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(yr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket.setAuth(),v===void 0){t==null||t(yr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,E=(k=b==null?void 0:b.length)!==null&&k!==void 0?k:0,j=[];for(let A=0;A<E;A++){const N=b[A],{filter:{event:U,schema:K,table:L,filter:Z}}=N,te=v&&v[A];if(te&&te.event===U&&te.schema===K&&te.table===L&&te.filter===Z)j.push(Object.assign(Object.assign({},N),{id:te.id}));else{this.unsubscribe(),this.state=mt.errored,t==null||t(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(yr.SUBSCRIBED);return}}).receive("error",v=>{this.state=mt.errored,t==null||t(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===mt.joined&&t===Uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:a}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var a,c,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new wd(this,Un.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,l=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(l),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wd(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>W_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,l;const a=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=Un;if(r&&[c,d,f,p].indexOf(a)>=0&&r!==this._joinRef())return;let y=this._onMessage(a,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var k,b,E;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((E=(b=v.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(v=>v.callback(y,r)):(l=this.bindings[a])===null||l===void 0||l.filter(v=>{var k,b,E,j,A,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const U=v.id,K=(k=v.filter)===null||k===void 0?void 0:k.event;return U&&((b=n.ids)===null||b===void 0?void 0:b.includes(U))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const U=(A=(j=v==null?void 0:v.filter)===null||j===void 0?void 0:j.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return U==="*"||U===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof y=="object"&&"ids"in y){const k=y.data,{schema:b,table:E,commit_timestamp:j,type:A,errors:N}=k;y=Object.assign(Object.assign({},{schema:b,table:E,commit_timestamp:j,eventType:A,new:{},old:{},errors:N}),this._getPayloadRecords(k))}v.callback(y,r)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),l={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Xf.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Un.close,{},t)}_onError(t){this._on(Un.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Yg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Yg(t.columns,t.old_record)),n}}const xd=()=>{},_a={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Q_=[1e3,2e3,5e3,1e4],X_=1e4,Z_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eE{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=df,this.transport=null,this.heartbeatIntervalMs=_a.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xd,this.ref=0,this.reconnectTimer=null,this.logger=xd,this.conn=null,this.sendBuffer=[],this.serializer=new H_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...a)=>ll(async()=>{const{default:c}=await Promise.resolve().then(()=>$s);return{default:c}},void 0).then(({default:c})=>c(...a)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...a)=>l(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ff.websocket}`,this.httpEndpoint=yw(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:U_}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fo.connecting:return Pi.Connecting;case Fo.open:return Pi.Open;case Fo.closing:return Pi.Closing;default:return Pi.Closed}}isConnected(){return this.connectionState()===Pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(l=>l.topic===r);if(s)return s;{const l=new Xf(`realtime:${t}`,n,this);return this.channels.push(l),l}}push(t){const{topic:n,event:r,payload:s,ref:l}=t,a=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${l})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(B_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_a.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:l,ref:a}=n,c=a?`(${a})`:"",d=l.status||"";this.log("receive",`${d} ${r} ${s} ${c}`.trim(),l),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,l,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Un.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Z_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:z_};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Un.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new gw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_a.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,l,a,c,d,f,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:df,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:_a.HEARTBEAT_INTERVAL,this.worker=(l=t==null?void 0:t.worker)!==null&&l!==void 0?l:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:xd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(m=>Q_[m-1]||X_),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((m,y)=>y(JSON.stringify(m))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Zf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tE extends Zf{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pf extends Zf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var nE=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const ww=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>$s);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},rE=()=>nE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ll(()=>Promise.resolve().then(()=>$s),void 0)).Response:Response}),mf=e=>{if(Array.isArray(e))return e.map(n=>mf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[s]=mf(r)}),t},iE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Fi=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const bd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sE=(e,t,n)=>Fi(void 0,void 0,void 0,function*(){const r=yield rE();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const l=e.status||500,a=(s==null?void 0:s.statusCode)||l+"";t(new tE(bd(s),l,a))}).catch(s=>{t(new pf(bd(s),s))}):t(new pf(bd(e),e))}),oE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(iE(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function al(e,t,n,r,s,l){return Fi(this,void 0,void 0,function*(){return new Promise((a,c)=>{e(n,oE(t,r,s,l)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>a(d)).catch(d=>sE(d,c,r))})})}function Va(e,t,n,r){return Fi(this,void 0,void 0,function*(){return al(e,"GET",t,n,r)})}function tr(e,t,n,r,s){return Fi(this,void 0,void 0,function*(){return al(e,"POST",t,r,s,n)})}function gf(e,t,n,r,s){return Fi(this,void 0,void 0,function*(){return al(e,"PUT",t,r,s,n)})}function lE(e,t,n,r){return Fi(this,void 0,void 0,function*(){return al(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function xw(e,t,n,r,s){return Fi(this,void 0,void 0,function*(){return al(e,"DELETE",t,r,s,n)})}var aE=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class uE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return aE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}var cE=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class dE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new uE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return cE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}var Jt=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const fE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hE{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=ww(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Jt(this,void 0,void 0,function*(){try{let l;const a=Object.assign(Object.assign({},Jg),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const d=a.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",a.cacheControl),d&&l.append("metadata",this.encodeMetadata(d)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",a.cacheControl),d&&l.append("metadata",this.encodeMetadata(d))):(l=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),m=yield(t=="PUT"?gf:tr)(this.fetch,`${this.url}/object/${p}`,l,Object.assign({headers:c},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}})}upload(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Jt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),a=this._getFinalPath(l),c=new URL(this.url+`/object/upload/sign/${a}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:Jg.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield gf(this.fetch,c.toString(),d,{headers:p});return{data:{path:l,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ft(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const l=yield tr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+l.url),c=a.searchParams.get("token");if(!c)throw new Zf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}update(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Jt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),l=yield tr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${a}`)},{data:l,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Jt(this,void 0,void 0,function*(){try{const s=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${l}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=l?`?${l}`:"",c=this._getFinalPath(t),d=()=>Va(this.fetch,`${this.url}/${s}/${c}${a}`,{headers:this.headers,noResolveJson:!0});return new dE(d,this.shouldThrowOnError)}info(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Va(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}exists(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield lE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r)&&r instanceof pf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&s.push(l);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Jt(this,void 0,void 0,function*(){try{return{data:yield xw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}list(t,n,r){return Jt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fE),n),{prefix:t||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}listV2(t,n){return Jt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const pE="2.75.0",mE={"X-Client-Info":`storage-js/${pE}`};var ms=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class gE{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const l=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mE),n),this.fetch=ww(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ms(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}getBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}createBucket(t){return ms(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ms(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield xw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}}class vE extends gE{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new hE(this.url,this.headers,t,this.fetch)}}const yE="2.75.0";let Do="";typeof Deno<"u"?Do="deno":typeof document<"u"?Do="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Do="react-native":Do="node";const wE={"X-Client-Info":`supabase-js-${Do}/${yE}`},xE={headers:wE},bE={schema:"public"},kE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SE={};var _E=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};const EE=e=>{let t;return e?t=e:typeof fetch>"u"?t=cw:t=fetch,(...n)=>t(...n)},CE=()=>typeof Headers>"u"?dw:Headers,jE=(e,t,n)=>{const r=EE(n),s=CE();return(l,a)=>_E(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let f=new s(a==null?void 0:a.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(l,Object.assign(Object.assign({},a),{headers:f}))})};var TE=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};function NE(e){return e.endsWith("/")?e:e+"/"}function AE(e,t){var n,r;const{db:s,auth:l,realtime:a,global:c}=e,{db:d,auth:f,realtime:p,global:m}=t,y={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},f),l),realtime:Object.assign(Object.assign({},p),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>TE(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function IE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const bw="2.75.0",Es=30*1e3,vf=3,kd=vf*Es,PE="http://localhost:9999",RE="supabase.auth.token",OE={"X-Client-Info":`gotrue-js/${bw}`},yf="X-Supabase-Api-Version",kw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LE=600*1e3;class Jo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ME extends Jo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function $E(e){return _e(e)&&e.name==="AuthApiError"}class Ri extends Jo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class li extends Jo{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Gr extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FE(e){return _e(e)&&e.name==="AuthSessionMissingError"}class gs extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ea extends li{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ca extends li{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zE(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qg extends li{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wf extends li{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Sd(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class Xg extends li{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class xf extends li{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zg=` 	
\r=`.split(""),UE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zg.length;t+=1)e[Zg[t].charCodeAt(0)]=-2;for(let t=0;t<qa.length;t+=1)e[qa[t].charCodeAt(0)]=t;return e})();function ev(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(qa[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(qa[r]),t.queuedBits-=6}}function Sw(e,t,n){const r=UE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tv(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=a=>{HE(a,r,n)};for(let a=0;a<e.length;a+=1)Sw(e.charCodeAt(a),s,l);return t.join("")}function BE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WE(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}BE(r,t)}}function HE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ns(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Sw(e.charCodeAt(s),n,r);return new Uint8Array(t)}function VE(e){const t=[];return WE(e,n=>t.push(n)),new Uint8Array(t)}function Di(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ev(s,n,r)),ev(null,n,r),t.join("")}function qE(e){return Math.round(Date.now()/1e3)+e}function YE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const cn=()=>typeof window<"u"&&typeof document<"u",Ei={tested:!1,writable:!1},_w=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ei.tested)return Ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ei.tested=!0,Ei.writable=!0}catch{Ei.tested=!0,Ei.writable=!1}return Ei.writable};function KE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,l)=>{t[l]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Ew=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>$s);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},GE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ci=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yr=async(e,t)=>{await e.removeItem(t)};class vu{constructor(){this.promise=new vu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}vu.promiseConstructor=Promise;function _d(e){const t=e.split(".");if(t.length!==3)throw new xf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!DE.test(t[r]))throw new xf("JWT not in base64url format");return{header:JSON.parse(tv(t[0])),payload:JSON.parse(tv(t[1])),signature:Ns(t[2]),raw:{header:t[0],payload:t[1]}}}async function JE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function QE(e,t){return new Promise((r,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const a=await e(l);if(!t(l,null,a)){r(a);return}}catch(a){if(!t(l,a)){s(a);return}}})()})}function XE(e){return("0"+e.toString(16)).substr(-2)}function ZE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let l=0;l<56;l++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,XE).join("")}async function eC(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function tC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await eC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vs(e,t,n=!1){const r=ZE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Cs(e,`${t}-code-verifier`,s);const l=await tC(r);return[l,r===l?"plain":"s256"]}const nC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rC(e){const t=e.headers.get(yf);if(!t||!t.match(nC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function iC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(e){if(!oC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ed(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nv(e){return JSON.parse(JSON.stringify(e))}var lC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aC=[502,503,504];async function rv(e){var t;if(!GE(e))throw new wf(Ni(e),0);if(aC.includes(e.status))throw new wf(Ni(e),e.status);let n;try{n=await e.json()}catch(l){throw new Ri(Ni(l),l)}let r;const s=rC(e);if(s&&s.getTime()>=kw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xg(Ni(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Gr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,a)=>l&&typeof a=="string",!0))throw new Xg(Ni(n),e.status,n.weak_password.reasons);throw new ME(Ni(n),e.status||500,r)}const uC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Te(e,t,n,r){var s;const l=Object.assign({},r==null?void 0:r.headers);l[yf]||(l[yf]=kw["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",d=await cC(e,t,n+c,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function cC(e,t,n,r,s,l){const a=uC(t,r,s,l);let c;try{c=await e(n,Object.assign({},a))}catch(d){throw console.error(d),new wf(Ni(d),0)}if(c.ok||await rv(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await rv(d)}}function zn(e){var t;let n=null;hC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=qE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function iv(e){const t=zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dC(e){return{data:e,error:null}}function fC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:l}=e,a=lC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:l},d=Object.assign({},a);return{data:{properties:c,user:d},error:null}}function sv(e){return e}function hC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Cd=["global","local","others"];var pC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class mC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ew(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Cd[0]){if(Cd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cd.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=pC(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,l,a,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:sv});if(p.error)throw p.error;const m=await p.json(),y=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const b=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);f[`${E}Page`]=b}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(_e(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){ys(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ys(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ys(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ys(t.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ys(t.userId),ys(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,l,a,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:sv});if(p.error)throw p.error;const m=await p.json(),y=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const b=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);f[`${E}Page`]=b}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(_e(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function ov(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ws={debug:!!(globalThis&&_w()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gC extends Cw{}async function vC(e,t,n){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ws.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function yC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function wC(e){return parseInt(e,16)}function xC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function bC(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:l=new Date,nonce:a,notBefore:c,requestId:d,resources:f,scheme:p,uri:m,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=jw(e.address),k=p?`${p}://${r}`:r,b=e.statement?`${e.statement}
`:"",E=`${k} wants you to sign in with your Ethereum account:
${v}

${b}`;let j=`URI: ${m}
Version: ${y}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${l.toISOString()}`;if(s&&(j+=`
Expiration Time: ${s.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let A=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);A+=`
- ${N}`}j+=A}return`${E}
${j}`}class dt extends Error{constructor({message:t,code:n,cause:r,name:s}){var l;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=s??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Ya extends dt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function kC({error:e,options:t}){var n,r,s;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Nw(a)){if(l.rp.id!==a)return new dt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function SC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Nw(r)){if(n.rpId!==r)return new dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Tw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class _C{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const EC=new _C;function CC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Tw(e,["challenge","user","excludeCredentials"]),l=Ns(t).buffer,a=Object.assign(Object.assign({},n),{id:Ns(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:l,user:a});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ns(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function jC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Tw(e,["challenge","allowCredentials"]),s=Ns(t).buffer,l=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const c=n[a];l.allowCredentials[a]=Object.assign(Object.assign({},c),{id:Ns(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function TC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Di(new Uint8Array(e.response.attestationObject)),clientDataJSON:Di(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function NC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Di(new Uint8Array(s.authenticatorData)),clientDataJSON:Di(new Uint8Array(s.clientDataJSON)),signature:Di(new Uint8Array(s.signature)),userHandle:s.userHandle?Di(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Nw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function lv(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function AC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ya("Browser returned unexpected credential type",t)}:{data:null,error:new Ya("Empty credential response",t)}}catch(t){return{data:null,error:kC({error:t,options:e})}}}async function IC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ya("Browser returned unexpected credential type",t)}:{data:null,error:new Ya("Empty credential response",t)}}catch(t){return{data:null,error:SC({error:t,options:e})}}}const PC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},RC={userVerification:"preferred",hints:["security-key"]};function Ka(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const l in s){const a=s[l];if(a!==void 0)if(Array.isArray(a))r[l]=a;else if(n(a))r[l]=a;else if(t(a)){const c=r[l];t(c)?r[l]=Ka(c,a):r[l]=Ka(a)}else r[l]=a}return r}function OC(e,t){return Ka(PC,e,t||{})}function DC(e,t){return Ka(RC,e,t||{})}class LC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},l){try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:c};const d=s??EC.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:f}=a.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(a.webauthn.type){case"create":{const f=OC(a.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:p,error:m}=await AC({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=DC(a.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:p,error:m}=await IC(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(a){return _e(a)?{data:null,error:a}:{data:null,error:new Ri("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},l){if(!n)return{data:null,error:new Jo("rpId is required for WebAuthn authentication")};try{if(!lv())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:l});if(!a)return{data:null,error:c};const{webauthn:d}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(a){return _e(a)?{data:null,error:a}:{data:null,error:new Ri("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},l){if(!n)return{data:null,error:new Jo("rpId is required for WebAuthn registration")};try{if(!lv())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:l});return d?this._verify({factorId:a.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(a){return _e(a)?{data:null,error:a}:{data:null,error:new Ri("Unexpected error in register",a)}}}}yC();const MC={url:PE,storageKey:RE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function av(e,t,n){return await n()}const xs={};class Qo{get jwks(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qo.nextInstanceID,Qo.nextInstanceID+=1,this.instanceID>0&&cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},MC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new mC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ew(s.fetch),this.lock=s.lock||av,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:cn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vC:this.lock=av,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LC(this)},this.persistSession?(s.storage?this.storage=s.storage:_w()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ov(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ov(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=KE(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),cn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:l}=await this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),zE(l)){const d=(t=l.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new Ri("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:zn}),{data:a,error:c}=l;if(c||!a)return{data:{user:null,session:null},error:c};const d=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var n,r,s;try{let l;if("email"in t){const{email:p,password:m,options:y}=t;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await vs(this.storage,this.storageKey)),l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:k},xform:zn})}else if("phone"in t){const{phone:p,password:m,options:y}=t;l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:zn})}else throw new Ea("You must provide either an email or phone number and a password");const{data:a,error:c}=l;if(c||!a)return{data:{user:null,session:null},error:c};const d=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:a,options:c}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:iv})}else if("phone"in t){const{phone:l,password:a,options:c}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:iv})}else throw new Ea("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,l,a,c,d,f,p,m,y;let v,k;if("message"in t)v=t.message,k=t.signature;else{const{chain:b,wallet:E,statement:j,options:A}=t;let N;if(cn())if(typeof E=="object")N=E;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")N=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const U=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),K=await N.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=jw(K[0]);let Z=(r=A==null?void 0:A.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Z){const J=await N.request({method:"eth_chainId"});Z=wC(J)}const te={domain:U.host,address:L,statement:j,uri:U.href,version:"1",chainId:Z,nonce:(s=A==null?void 0:A.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(l=A==null?void 0:A.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=A==null?void 0:A.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=A==null?void 0:A.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=bC(te),k=await N.request({method:"personal_sign",params:[xC(v),L]})}try{const{data:b,error:E}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:k},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:zn});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new gs}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(_e(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var n,r,s,l,a,c,d,f,p,m,y,v;let k,b;if("message"in t)k=t.message,b=t.signature;else{const{chain:E,wallet:j,statement:A,options:N}=t;let U;if(cn())if(typeof j=="object")U=j;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))U=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=j}const K=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const L=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),A?{statement:A}:null));let Z;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")Z=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)Z=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)k=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),b=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${K.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(s=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((m=(p=N==null?void 0:N.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...N.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const L=await U.signMessage(new TextEncoder().encode(k),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=L}}try{const{data:E,error:j}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Di(b)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:zn});if(j)throw j;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new gs}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:j})}catch(E){if(_e(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:l,error:a}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:zn});if(await Yr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:a})}catch(l){if(_e(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:l,nonce:a}=t,c=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:l,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:zn}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new gs}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,l,a;try{if("email"in t){const{email:c,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await vs(this.storage,this.storageKey));const{error:m}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:p}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(l=d==null?void 0:d.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(a=d==null?void 0:d.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Ea("You must provide either an email or phone number.")}catch(c){if(_e(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let s,l;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:c}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:zn});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const d=a.session,f=a.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let l=null,a=null;return this.flowType==="pkce"&&([l,a]=await vs(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:a}),headers:this.headers,xform:dC})}catch(l){if(_e(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Gr;const{error:s}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:l}=t,{error:a}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:l}=t,{data:a,error:c}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:c}}throw new Ea("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<kd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Ci(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Ed()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,p)=>(!a&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:t},error:null}}const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xr}):await this._useSession(async n=>{var r,s,l;const{data:a,error:c}=n;if(c)throw c;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gr}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:Xr})})}catch(n){if(_e(n))return FE(n)&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:l}=r;if(l)throw l;if(!s.session)throw new Gr;const a=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await vs(this.storage,this.storageKey));const{data:f,error:p}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:a.access_token,xform:Xr});if(p)throw p;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gr;const n=Date.now()/1e3;let r=n,s=!0,l=null;const{payload:a}=_d(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;l={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:c}=n;if(c)throw c;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Gr;const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!cn())throw new Ca("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ca(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ca("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qg("No code detected.");const{data:A,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:l,refresh_token:a,expires_in:c,expires_at:d,token_type:f}=t;if(!l||!c||!a||!f)throw new Ca("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let y=p+m;d&&(y=parseInt(d));const v=y-p;v*1e3<=Es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const k=y-m;p-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,y,p):p-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,y,p);const{data:b,error:E}=await this._getUser(l);if(E)throw E;const j={provider_token:r,provider_refresh_token:s,access_token:l,expires_in:m,expires_at:y,refresh_token:a,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(r){if(_e(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:l}=n;if(l)return{error:l};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:c}=await this.admin.signOut(a,t);if(c&&!($E(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=YE(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:l},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vs(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(_e(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async l=>{var a,c,d,f,p;const{data:m,error:y}=l;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return cn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_e(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:l}}=n;if(s)throw s;const{options:a,provider:c,token:d,access_token:f,nonce:p}=t,m=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zn}),{data:y,error:v}=m;return v?{data:{user:null,session:null},error:v}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new gs}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:v})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:l,error:a}=n;if(a)throw a;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await QE(async s=>(s>0&&await JE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zn})),(s,l)=>{const a=200*Math.pow(2,s);return l&&Sd(l)&&Date.now()+a-r<Es})}catch(r){if(this._debug(n,"error",r),_e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ci(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Cs(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Ed()}else if(s&&!s.user&&!s.user){const a=await Ci(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Yr(this.storage,this.storageKey+"-user"),await Cs(this.storage,this.storageKey,s)):s.user=Ed()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const l=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kd;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${kd}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Sd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(s.access_token);!c&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vu;const{data:l,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!l.session)throw new Gr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(s,"error",l),_e(l)){const a={data:null,error:l};return Sd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){l.push(d)}});if(await Promise.all(a),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Cs(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const l=nv(s);await Cs(this.storage,this.storageKey,l)}else{const s=nv(n);await Cs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Yr(this.storage,this.storageKey),await Yr(this.storage,this.storageKey+"-code-verifier"),await Yr(this.storage,this.storageKey+"-user"),this.userStorage&&await Yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Es);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Es}ms, refresh threshold is ${vf} ticks`),s<=vf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Cw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,a]=await vs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);s.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:l}=n;return l?{data:null,error:l}:await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:l,error:a}=n;if(a)return{data:null,error:a};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:l}=n;if(l)return{data:null,error:l};const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?TC(t.webauthn.credential_response):NC(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:l}=n;if(l)return{data:null,error:l};const a=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:CC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:jC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(l),l.status==="verified"&&s[l.factor_type].push(l);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:l}=t;if(l)return{data:null,error:l};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=_d(s.access_token);let c=null;a.aal&&(c=a.aal);let d=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=a.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+LE>s)return r;const{data:l,error:a}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,r=l.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:k}=await this.getSession();if(k||!v.session)return{data:null,error:k};r=v.session.access_token}const{header:s,payload:l,signature:a,raw:{header:c,payload:d}}=_d(r);n!=null&&n.allowExpired||iC(l.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:l,header:s,signature:a},error:null}}const p=sC(s.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,a,VE(`${c}.${d}`)))throw new xf("Invalid JWT signature");return{data:{claims:l,header:s,signature:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}Qo.nextInstanceID=0;const $C=Qo;class FC extends $C{constructor(t){super(t)}}var zC=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function d(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?l(p.value):s(p.value).then(c,d)}f((r=r.apply(e,t||[])).next())})};class UC{constructor(t,n,r){var s,l,a;this.supabaseUrl=t,this.supabaseKey=n;const c=IE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:bE,realtime:SE,auth:Object.assign(Object.assign({},kE),{storageKey:d}),global:xE},p=AE(r??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=p.auth)!==null&&a!==void 0?a:{},this.headers,p.global.fetch),this.fetch=jE(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new M_(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new vE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new j_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return zC(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:l,storageKey:a,flowType:c,lock:d,debug:f},p,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FC({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:l,flowType:c,lock:d,debug:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new eE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BC=(e,t,n)=>new UC(e,t,n);function WC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}WC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HC="https://kjsdmygqhxaryvfmnhqr.supabase.co",VC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",Zr=BC(HC,VC,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Aw=S.createContext(void 0);function qC({children:e}){const[t,n]=S.useState(null),[r,s]=S.useState(null),[l,a]=S.useState(!0);S.useEffect(()=>{let d=!0;(async()=>{a(!0);const{data:{session:m}}=await Zr.auth.getSession();d&&(n(m),s((m==null?void 0:m.user)??null),a(!1))})();const{data:{subscription:p}}=Zr.auth.onAuthStateChange((m,y)=>{d&&(n(y),s((y==null?void 0:y.user)??null),a(!1))});return()=>{d=!1,p.unsubscribe()}},[]);const c=S.useMemo(()=>({session:t,user:r,loading:l,signInWithPassword:async(d,f)=>{const{error:p}=await Zr.auth.signInWithPassword({email:d,password:f});if(p)throw p},signUpWithPassword:async(d,f)=>{const m=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:y}=await Zr.auth.signUp({email:d,password:f,options:{emailRedirectTo:m}});if(y)throw y},signOut:async()=>{const{error:d}=await Zr.auth.signOut();if(d)throw d}}),[l,t,r]);return x.jsx(Aw.Provider,{value:c,children:e})}function yu(){const e=S.useContext(Aw);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const uv=e=>{let t;const n=new Set,r=(f,p)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const y=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(v=>v(t,y))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,s,c);return c},YC=(e=>e?uv(e):uv),KC=e=>e;function GC(e,t=KC){const n=me.useSyncExternalStore(e.subscribe,me.useCallback(()=>t(e.getState()),[e,t]),me.useCallback(()=>t(e.getInitialState()),[e,t]));return me.useDebugValue(n),n}const cv=e=>{const t=YC(e),n=r=>GC(t,r);return Object.assign(n,t),n},JC=(e=>e?cv(e):cv),QC="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let _n=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=QC[n[e]&63];return t};var La={exports:{}},XC=La.exports,dv;function Iw(){return dv||(dv=1,(function(e,t){(function(n,r){e.exports=r()})(XC,(function(){var n=1e3,r=6e4,s=36e5,l="millisecond",a="second",c="minute",d="hour",f="day",p="week",m="month",y="quarter",v="year",k="date",b="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var $=["th","st","nd","rd"],P=O%100;return"["+O+($[(P-20)%10]||$[P]||$[0])+"]"}},N=function(O,$,P){var M=String(O);return!M||M.length>=$?O:""+Array($+1-M.length).join(P)+O},U={s:N,z:function(O){var $=-O.utcOffset(),P=Math.abs($),M=Math.floor(P/60),F=P%60;return($<=0?"+":"-")+N(M,2,"0")+":"+N(F,2,"0")},m:function O($,P){if($.date()<P.date())return-O(P,$);var M=12*(P.year()-$.year())+(P.month()-$.month()),F=$.clone().add(M,m),W=P-F<0,C=$.clone().add(M+(W?-1:1),m);return+(-(M+(P-F)/(W?F-C:C-F))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:m,y:v,w:p,d:f,D:k,h:d,m:c,s:a,ms:l,Q:y}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},K="en",L={};L[K]=A;var Z="$isDayjsObject",te=function(O){return O instanceof H||!(!O||!O[Z])},J=function O($,P,M){var F;if(!$)return K;if(typeof $=="string"){var W=$.toLowerCase();L[W]&&(F=W),P&&(L[W]=P,F=W);var C=$.split("-");if(!F&&C.length>1)return O(C[0])}else{var I=$.name;L[I]=$,F=I}return!M&&F&&(K=F),F||!M&&K},D=function(O,$){if(te(O))return O.clone();var P=typeof $=="object"?$:{};return P.date=O,P.args=arguments,new H(P)},q=U;q.l=J,q.i=te,q.w=function(O,$){return D(O,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var H=(function(){function O(P){this.$L=J(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[Z]=!0}var $=O.prototype;return $.parse=function(P){this.$d=(function(M){var F=M.date,W=M.utc;if(F===null)return new Date(NaN);if(q.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var C=F.match(E);if(C){var I=C[2]-1||0,V=(C[7]||"0").substring(0,3);return W?new Date(Date.UTC(C[1],I,C[3]||1,C[4]||0,C[5]||0,C[6]||0,V)):new Date(C[1],I,C[3]||1,C[4]||0,C[5]||0,C[6]||0,V)}}return new Date(F)})(P),this.init()},$.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},$.$utils=function(){return q},$.isValid=function(){return this.$d.toString()!==b},$.isSame=function(P,M){var F=D(P);return this.startOf(M)<=F&&F<=this.endOf(M)},$.isAfter=function(P,M){return D(P)<this.startOf(M)},$.isBefore=function(P,M){return this.endOf(M)<D(P)},$.$g=function(P,M,F){return q.u(P)?this[M]:this.set(F,P)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(P,M){var F=this,W=!!q.u(M)||M,C=q.p(P),I=function(we,ce){var Fe=q.w(F.$u?Date.UTC(F.$y,ce,we):new Date(F.$y,ce,we),F);return W?Fe:Fe.endOf(f)},V=function(we,ce){return q.w(F.toDate()[we].apply(F.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(ce)),F)},T=this.$W,ae=this.$M,fe=this.$D,ue="set"+(this.$u?"UTC":"");switch(C){case v:return W?I(1,0):I(31,11);case m:return W?I(1,ae):I(0,ae+1);case p:var be=this.$locale().weekStart||0,ge=(T<be?T+7:T)-be;return I(W?fe-ge:fe+(6-ge),ae);case f:case k:return V(ue+"Hours",0);case d:return V(ue+"Minutes",1);case c:return V(ue+"Seconds",2);case a:return V(ue+"Milliseconds",3);default:return this.clone()}},$.endOf=function(P){return this.startOf(P,!1)},$.$set=function(P,M){var F,W=q.p(P),C="set"+(this.$u?"UTC":""),I=(F={},F[f]=C+"Date",F[k]=C+"Date",F[m]=C+"Month",F[v]=C+"FullYear",F[d]=C+"Hours",F[c]=C+"Minutes",F[a]=C+"Seconds",F[l]=C+"Milliseconds",F)[W],V=W===f?this.$D+(M-this.$W):M;if(W===m||W===v){var T=this.clone().set(k,1);T.$d[I](V),T.init(),this.$d=T.set(k,Math.min(this.$D,T.daysInMonth())).$d}else I&&this.$d[I](V);return this.init(),this},$.set=function(P,M){return this.clone().$set(P,M)},$.get=function(P){return this[q.p(P)]()},$.add=function(P,M){var F,W=this;P=Number(P);var C=q.p(M),I=function(ae){var fe=D(W);return q.w(fe.date(fe.date()+Math.round(ae*P)),W)};if(C===m)return this.set(m,this.$M+P);if(C===v)return this.set(v,this.$y+P);if(C===f)return I(1);if(C===p)return I(7);var V=(F={},F[c]=r,F[d]=s,F[a]=n,F)[C]||1,T=this.$d.getTime()+P*V;return q.w(T,this)},$.subtract=function(P,M){return this.add(-1*P,M)},$.format=function(P){var M=this,F=this.$locale();if(!this.isValid())return F.invalidDate||b;var W=P||"YYYY-MM-DDTHH:mm:ssZ",C=q.z(this),I=this.$H,V=this.$m,T=this.$M,ae=F.weekdays,fe=F.months,ue=F.meridiem,be=function(ce,Fe,it,vt){return ce&&(ce[Fe]||ce(M,W))||it[Fe].slice(0,vt)},ge=function(ce){return q.s(I%12||12,ce,"0")},we=ue||function(ce,Fe,it){var vt=ce<12?"AM":"PM";return it?vt.toLowerCase():vt};return W.replace(j,(function(ce,Fe){return Fe||(function(it){switch(it){case"YY":return String(M.$y).slice(-2);case"YYYY":return q.s(M.$y,4,"0");case"M":return T+1;case"MM":return q.s(T+1,2,"0");case"MMM":return be(F.monthsShort,T,fe,3);case"MMMM":return be(fe,T);case"D":return M.$D;case"DD":return q.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return be(F.weekdaysMin,M.$W,ae,2);case"ddd":return be(F.weekdaysShort,M.$W,ae,3);case"dddd":return ae[M.$W];case"H":return String(I);case"HH":return q.s(I,2,"0");case"h":return ge(1);case"hh":return ge(2);case"a":return we(I,V,!0);case"A":return we(I,V,!1);case"m":return String(V);case"mm":return q.s(V,2,"0");case"s":return String(M.$s);case"ss":return q.s(M.$s,2,"0");case"SSS":return q.s(M.$ms,3,"0");case"Z":return C}return null})(ce)||C.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(P,M,F){var W,C=this,I=q.p(M),V=D(P),T=(V.utcOffset()-this.utcOffset())*r,ae=this-V,fe=function(){return q.m(C,V)};switch(I){case v:W=fe()/12;break;case m:W=fe();break;case y:W=fe()/3;break;case p:W=(ae-T)/6048e5;break;case f:W=(ae-T)/864e5;break;case d:W=ae/s;break;case c:W=ae/r;break;case a:W=ae/n;break;default:W=ae}return F?W:q.a(W)},$.daysInMonth=function(){return this.endOf(m).$D},$.$locale=function(){return L[this.$L]},$.locale=function(P,M){if(!P)return this.$L;var F=this.clone(),W=J(P,M,!0);return W&&(F.$L=W),F},$.clone=function(){return q.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},O})(),Q=H.prototype;return D.prototype=Q,[["$ms",l],["$s",a],["$m",c],["$H",d],["$W",f],["$M",m],["$y",v],["$D",k]].forEach((function(O){Q[O[1]]=function($){return this.$g($,O[0],O[1])}})),D.extend=function(O,$){return O.$i||(O($,H,D),O.$i=!0),D},D.locale=J,D.isDayjs=te,D.unix=function(O){return D(1e3*O)},D.en=L[K],D.Ls=L,D.p={},D}))})(La)),La.exports}var ZC=Iw();const lt=Ds(ZC),ri={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes"},Pw=typeof window<"u",et=()=>new Date().toISOString(),Ai="18:30",ja=(e,t)=>{if(!Pw)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},Rw=e=>e==="present"||e==="absent"||e==="pending",Ow=e=>e==="present"||e==="absent",bf=e=>(e??[]).map(t=>{const n=Rw(t.status)?t.status:"pending",r=Ow(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),Ke=e=>{if(!Pw)return;const t=kf(e);window.localStorage.setItem(ri.objectives,JSON.stringify(t.objectives)),window.localStorage.setItem(ri.works,JSON.stringify(t.works)),window.localStorage.setItem(ri.sessions,JSON.stringify(t.sessions)),window.localStorage.setItem(ri.assistants,JSON.stringify(t.assistants))},kf=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,startTime:t.startTime??Ai,workItems:(t.workItems??[]).map(n=>({...n,focusLabel:n.focusLabel})),attendance:bf(t.attendance)})),assistants:e.assistants??[]}),Ne=JC((e,t)=>({ready:!1,objectives:[],works:[],sessions:[],assistants:[],hydrate:()=>{if(t().ready)return;const n=ja(ri.objectives,[]),r=ja(ri.works,[]),s=ja(ri.sessions,[]).map(a=>({...a,startTime:a.startTime??Ai,workItems:(a.workItems??[]).map(c=>({...c,focusLabel:c.focusLabel})),attendance:bf(a.attendance)})),l=ja(ri.assistants,[]);e({objectives:n,works:r,sessions:s,assistants:l,ready:!0})},setCollections:n=>{e(r=>{const s=kf({objectives:n.objectives,works:n.works,sessions:n.sessions,assistants:n.assistants}),l={...r,...s,ready:!0};return Ke(l),l})},reset:()=>{e(n=>{const r=kf({objectives:[],works:[],sessions:[],assistants:[]}),s={...n,...r,ready:!0};return Ke(s),s})},addObjective:n=>{const r={id:_n(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:et(),updatedAt:et()};return e(s=>{const l={objectives:[...s.objectives,r]},a={...s,...l};return Ke(a),a}),r},updateObjective:(n,r)=>{e(s=>{const l=s.objectives.map(c=>c.id===n?{...c,...r,updatedAt:et()}:c),a={...s,objectives:l};return Ke(a),a})},deleteObjective:n=>t().works.some(s=>s.objectiveId===n)?!1:(e(s=>{const l=s.objectives.filter(c=>c.id!==n),a={...s,objectives:l};return Ke(a),a}),!0),addWork:n=>{const r={id:_n(),name:n.name,objectiveId:n.objectiveId,descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:n.notes,videoUrls:n.videoUrls,createdAt:et(),updatedAt:et()};return e(s=>{const l=[...s.works,r],a={...s,works:l};return Ke(a),a}),r},updateWork:(n,r)=>{e(s=>{const l=s.works.map(c=>c.id===n?{...c,...r,videoUrls:r.videoUrls??c.videoUrls,estimatedMinutes:r.estimatedMinutes??c.estimatedMinutes,updatedAt:et()}:c),a={...s,works:l};return Ke(a),a})},deleteWork:n=>t().sessions.some(s=>s.workItems.some(l=>l.workId===n))?!1:(e(s=>{const l=s.works.filter(c=>c.id!==n),a={...s,works:l};return Ke(a),a}),!0),addSession:n=>{const r={id:_n(),date:n.date,title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??Ai,createdAt:et(),updatedAt:et()};return e(s=>{const l=[...s.sessions,r],a={...s,sessions:l};return Ke(a),a}),r},duplicateSession:(n,r)=>{const s=t().sessions.find(c=>c.id===n);if(!s)return;const l=et(),a={...s,id:_n(),date:r,startTime:s.startTime??Ai,createdAt:l,updatedAt:l,title:`${s.title} (copia)`};return a.workItems=s.workItems.map((c,d)=>({...c,id:_n(),order:d})),a.attendance=s.attendance.map(c=>({assistantId:c.assistantId,status:"pending",notes:c.notes,actualStatus:void 0,actualNotes:void 0})),e(c=>{const d=[...c.sessions,a],f={...c,sessions:d};return Ke(f),f}),a},updateSession:(n,r)=>{e(s=>{const l=s.sessions.map(c=>c.id===n?{...c,...r,updatedAt:et()}:c),a={...s,sessions:l};return Ke(a),a})},deleteSession:n=>{e(r=>{const s=r.sessions.filter(a=>a.id!==n),l={...r,sessions:s};return Ke(l),l})},updateSessionWorkItems:(n,r)=>{e(s=>{const l=s.sessions.map(c=>c.id===n?{...c,workItems:r.map((d,f)=>({...d,order:f})),updatedAt:et()}:c),a={...s,sessions:l};return Ke(a),a})},addWorkToSession:(n,r)=>{const s=t().sessions.find(c=>c.id===n);if(!s)return;const l={id:_n(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:s.workItems.length},a={...s,workItems:[...s.workItems,l],updatedAt:et()};return e(c=>{const d=c.sessions.map(p=>p.id===n?a:p),f={...c,sessions:d};return Ke(f),f}),l},removeWorkFromSession:(n,r)=>{e(s=>{const l=s.sessions.map(c=>{if(c.id!==n)return c;const d=c.workItems.filter(f=>f.id!==r).map((f,p)=>({...f,order:p}));return{...c,workItems:d,updatedAt:et()}}),a={...s,sessions:l};return Ke(a),a})},toggleSessionWorkCompletion:(n,r,s)=>{e(l=>{const a=l.sessions.map(d=>d.id!==n?d:{...d,workItems:d.workItems.map(f=>f.id===r?{...f,completed:s}:f),updatedAt:et()}),c={...l,sessions:a};return Ke(c),c})},reorderSessionWork:(n,r,s)=>{e(l=>{const a=l.sessions.map(d=>{if(d.id!==n)return d;const f=[...d.workItems],[p]=f.splice(r,1);return f.splice(s,0,p),{...d,workItems:f.map((m,y)=>({...m,order:y})),updatedAt:et()}}),c={...l,sessions:a};return Ke(c),c})},updateSessionWorkDetails:(n,r,s)=>{e(l=>{const a=l.sessions.map(d=>d.id!==n?d:{...d,workItems:d.workItems.map(f=>f.id===r?{...f,...s}:f),updatedAt:et()}),c={...l,sessions:a};return Ke(c),c})},replaceSessionWork:(n,r,s)=>{t().works.some(l=>l.id===s)&&e(l=>{const a=l.sessions.map(d=>{if(d.id!==n)return d;const f=d.workItems.map(p=>p.id!==r?p:{...p,workId:s,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...d,workItems:f,updatedAt:et()}}),c={...l,sessions:a};return Ke(c),c})},setAttendanceActualStatus:(n,r,s,l)=>{e(a=>{const c=a.sessions.map(f=>{if(f.id!==n)return f;const p=f.attendance.find(y=>y.assistantId===r);let m;if(p)m=f.attendance.map(y=>{if(y.assistantId!==r)return y;const v={...y,actualStatus:s};return typeof l<"u"&&(v.actualNotes=l),v});else{const y={assistantId:r,status:"pending",actualStatus:s};typeof l<"u"&&(y.actualNotes=l),m=[...f.attendance,y]}return{...f,attendance:m,updatedAt:et()}}),d={...a,sessions:c};return Ke(d),d})},setAttendanceStatus:(n,r,s,l)=>{e(a=>{const c=a.sessions.map(f=>{if(f.id!==n)return f;const p=f.attendance.find(y=>y.assistantId===r);let m;return p?m=f.attendance.map(y=>y.assistantId===r?{...y,status:s,notes:l}:y):m=[...f.attendance,{assistantId:r,status:s,notes:l}],{...f,attendance:m,updatedAt:et()}}),d={...a,sessions:c};return Ke(d),d})},addAssistant:n=>{const r={id:_n(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:et(),updatedAt:et()};return e(s=>{const l=[...s.assistants,r],a={...s,assistants:l};return Ke(a),a}),r},updateAssistant:(n,r)=>{e(s=>{const l=s.assistants.map(c=>c.id===n?{...c,...r,updatedAt:et()}:c),a={...s,assistants:l};return Ke(a),a})},deleteAssistant:n=>{e(r=>{const s=r.assistants.filter(c=>c.id!==n),l=r.sessions.map(c=>({...c,attendance:c.attendance.filter(d=>d.assistantId!==n)})),a={...r,assistants:s,sessions:l};return Ke(a),a})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versión de backup no soportada");const s=et(),l=(n.objetivos??[]).map(v=>({...v,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s})),a=(n.trabajos??[]).map(v=>({...v,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s,videoUrls:v.videoUrls??[]})),c=(n.asistentes??[]).map(v=>({...v,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s,active:v.active??!0})),d=new Map;(n.sesiones??[]).forEach(v=>{const k=v.id??_n(),b={id:k,date:v.date??lt().format("YYYY-MM-DD"),title:v.title??"Sesión importada",description:v.description,notes:v.notes,workItems:(v.workItems??[]).map((E,j)=>({id:E.id??_n(),workId:E.workId,order:E.order??j,customDescriptionMarkdown:E.customDescriptionMarkdown,customDurationMinutes:E.customDurationMinutes,notes:E.notes,focusLabel:E.focusLabel,completed:E.completed??!1})),attendance:bf(v.attendance),startTime:v.startTime??Ai,createdAt:v.createdAt??s,updatedAt:v.updatedAt??s};b.workItems=b.workItems.sort((E,j)=>E.order-j.order).map((E,j)=>({...E,order:j})),d.set(k,b)}),(n.sesiones_trabajos??[]).forEach(v=>{const k=v.session_id;if(!k)return;d.has(k)||d.set(k,{id:k,date:v.fecha?lt(v.fecha).format("YYYY-MM-DD"):lt().format("YYYY-MM-DD"),title:v.titulo??"Sesión importada",description:v.descripcion,notes:v.notasSesion??v.notas,workItems:[],attendance:[],startTime:Ai,createdAt:s,updatedAt:s});const b=d.get(k);b.workItems.push({id:v.id??_n(),workId:v.trabajo_id,order:v.orden??b.workItems.length,customDescriptionMarkdown:v.descripcionPersonalizada,customDurationMinutes:v.duracionPersonalizada,notes:v.notas,focusLabel:v.focusLabel??v.foco,completed:!1})}),d.forEach(v=>{v.workItems=v.workItems.sort((k,b)=>k.order-b.order).map((k,b)=>({...k,order:b})),v.startTime=v.startTime??Ai});const f=new Map,p=v=>Rw(v)?v:void 0,m=v=>Ow(v)?v:void 0;(n.sesiones_asistencias??[]).forEach(v=>{const k=v.session_id;if(!k)return;const b=v.assistantId??v.asistente_id;if(!b)return;const E=p(v.status??v.estado)??"pending",j=m(v.actualStatus??v.estado_real),A={assistantId:b,status:E,notes:v.notes??v.notas,actualStatus:j,actualNotes:v.actualNotes??v.notas_reales},N=f.get(k)??[];N.push(A),f.set(k,N)}),f.forEach((v,k)=>{const b=d.get(k);b&&(b.attendance=v)});const y=Array.from(d.values());e({objectives:l,works:a,sessions:y,assistants:c,ready:!0}),Ke({objectives:l,works:a,sessions:y,assistants:c})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(c=>c.workItems.map(d=>({id:d.id,session_id:c.id,trabajo_id:d.workId,orden:d.order,descripcionPersonalizada:d.customDescriptionMarkdown,duracionPersonalizada:d.customDurationMinutes,notas:d.notes,foco:d.focusLabel,focusLabel:d.focusLabel}))),s=n.sessions.flatMap(c=>c.attendance.map(d=>({session_id:c.id,assistantId:d.assistantId,estado:d.status,notas:d.notes,...d.actualStatus?{actualStatus:d.actualStatus,estado_real:d.actualStatus}:{},...d.actualNotes?{actualNotes:d.actualNotes,notas_reales:d.actualNotes}:{}}))),l=n.sessions.map(c=>({id:c.id,date:c.date,title:c.title,description:c.description,notes:c.notes,startTime:c.startTime,createdAt:c.createdAt,updatedAt:c.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:l,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:s}}})),fv=1,Ta=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants}),ej=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[]}),tj=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants;function nj(){const{user:e}=yu(),t=Ne(f=>f.setCollections),n=Ne(f=>f.reset),r=Ne(f=>f.ready),s=S.useRef(!1),l=S.useRef(null),a=S.useRef(null),c=S.useRef(null),d=S.useRef(Ta(Ne.getState()));S.useEffect(()=>()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},[]),S.useEffect(()=>{e||(n(),c.current=null,a.current=null,s.current=!1,d.current=Ta(Ne.getState()),l.current&&(window.clearTimeout(l.current),l.current=null))},[e,n]),S.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:y,error:v}=await Zr.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(v&&v.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",v);return}const k=y;if(k!=null&&k.data){const b=ej(k.data??{});s.current=!0,c.current=k.updated_at,d.current=b,t(b)}else if(r){const b=Ta(Ne.getState());a.current=null;const{error:E,data:j}=await Zr.from("planner_states").upsert({user_id:e.id,data:{version:fv,...b}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),A=j;E?console.error("No se pudo inicializar el estado remoto",E):A&&(c.current=A.updated_at)}})();const m=Ne.subscribe(y=>{if(!f)return;const v=Ta(y);if(s.current){s.current=!1,d.current=v,a.current=null;return}const k=d.current;tj(v,k)&&(d.current=v,a.current=v,l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>{if(!a.current)return;const b=a.current;a.current=null,(async()=>{const{error:E,data:j}=await Zr.from("planner_states").upsert({user_id:e.id,data:{version:fv,...b}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),A=j;E?console.error("No se pudo guardar el estado remoto",E):A&&(c.current=A.updated_at)})()},600))});return()=>{f=!1,m(),l.current&&(window.clearTimeout(l.current),l.current=null)}},[e,r,t])}var Ma={exports:{}},rj=Ma.exports,hv;function ij(){return hv||(hv=1,(function(e,t){(function(n,r){e.exports=r(Iw())})(rj,(function(n){function r(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var s=r(n),l={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(a){return a+"º"}};return s.default.locale(l,null,!0),l}))})(Ma)),Ma.exports}ij();function kr({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return x.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[x.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function sj(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const oj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aj={};function pv(e,t){return(aj.jsx?lj:oj).test(e)}const uj=/[ \t\n\f\r]/g;function cj(e){return typeof e=="object"?e.type==="text"?mv(e.value):!1:mv(e)}function mv(e){return e.replace(uj,"")===""}class ul{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ul.prototype.normal={};ul.prototype.property={};ul.prototype.space=void 0;function Dw(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new ul(n,r,t)}function Sf(e){return e.toLowerCase()}class en{constructor(t,n){this.attribute=n,this.property=t}}en.prototype.attribute="";en.prototype.booleanish=!1;en.prototype.boolean=!1;en.prototype.commaOrSpaceSeparated=!1;en.prototype.commaSeparated=!1;en.prototype.defined=!1;en.prototype.mustUseProperty=!1;en.prototype.number=!1;en.prototype.overloadedBoolean=!1;en.prototype.property="";en.prototype.spaceSeparated=!1;en.prototype.space=void 0;let dj=0;const Ae=zi(),ct=zi(),_f=zi(),se=zi(),Ve=zi(),As=zi(),un=zi();function zi(){return 2**++dj}const Ef=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ae,booleanish:ct,commaOrSpaceSeparated:un,commaSeparated:As,number:se,overloadedBoolean:_f,spaceSeparated:Ve},Symbol.toStringTag,{value:"Module"})),jd=Object.keys(Ef);class eh extends en{constructor(t,n,r,s){let l=-1;if(super(t,n),gv(this,"space",s),typeof r=="number")for(;++l<jd.length;){const a=jd[l];gv(this,jd[l],(r&Ef[a])===Ef[a])}}}eh.prototype.defined=!0;function gv(e,t,n){n&&(e[t]=n)}function Fs(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const l=new eh(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Sf(r)]=r,n[Sf(l.attribute)]=r}return new ul(t,n,e.space)}const Lw=Fs({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:Ve,ariaCurrent:null,ariaDescribedBy:Ve,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:Ve,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:Ve,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ve,ariaLevel:se,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:Ve,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:Ve,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:ct,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Mw(e,t){return t in e?e[t]:t}function $w(e,t){return Mw(e,t.toLowerCase())}const fj=Fs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:As,acceptCharset:Ve,accessKey:Ve,action:null,allow:null,allowFullScreen:Ae,allowPaymentRequest:Ae,allowUserMedia:Ae,alt:null,as:null,async:Ae,autoCapitalize:null,autoComplete:Ve,autoFocus:Ae,autoPlay:Ae,blocking:Ve,capture:null,charSet:null,checked:Ae,cite:null,className:Ve,cols:se,colSpan:null,content:null,contentEditable:ct,controls:Ae,controlsList:Ve,coords:se|As,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ae,defer:Ae,dir:null,dirName:null,disabled:Ae,download:_f,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ae,formTarget:null,headers:Ve,height:se,hidden:_f,high:se,href:null,hrefLang:null,htmlFor:Ve,httpEquiv:Ve,id:null,imageSizes:null,imageSrcSet:null,inert:Ae,inputMode:null,integrity:null,is:null,isMap:Ae,itemId:null,itemProp:Ve,itemRef:Ve,itemScope:Ae,itemType:Ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ae,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:Ae,muted:Ae,name:null,nonce:null,noModule:Ae,noValidate:Ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ae,optimum:se,pattern:null,ping:Ve,placeholder:null,playsInline:Ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ae,referrerPolicy:null,rel:Ve,required:Ae,reversed:Ae,rows:se,rowSpan:se,sandbox:Ve,scope:null,scoped:Ae,seamless:Ae,selected:Ae,shadowRootClonable:Ae,shadowRootDelegatesFocus:Ae,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:Ae,useMap:null,value:ct,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ve,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ae,declare:Ae,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:Ae,noHref:Ae,noShade:Ae,noWrap:Ae,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ae,disableRemotePlayback:Ae,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:$w}),hj=Fs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:un,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:Ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:Ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:As,g2:As,glyphName:As,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:un,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:un,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:un,rev:un,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:un,requiredFeatures:un,requiredFonts:un,requiredFormats:un,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:un,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:un,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:un,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Mw}),Fw=Fs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),zw=Fs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$w}),Uw=Fs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),pj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},mj=/[A-Z]/g,vv=/-[a-z]/g,gj=/^data[-\w.:]+$/i;function vj(e,t){const n=Sf(t);let r=t,s=en;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gj.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(vv,wj);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!vv.test(l)){let a=l.replace(mj,yj);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=eh}return new s(r,t)}function yj(e){return"-"+e.toLowerCase()}function wj(e){return e.charAt(1).toUpperCase()}const xj=Dw([Lw,fj,Fw,zw,Uw],"html"),th=Dw([Lw,hj,Fw,zw,Uw],"svg");function bj(e){return e.join(" ").trim()}var bs={},Td,yv;function kj(){if(yv)return Td;yv=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",y="comment",v="declaration";Td=function(b,E){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];E=E||{};var j=1,A=1;function N(Q){var O=Q.match(t);O&&(j+=O.length);var $=Q.lastIndexOf(d);A=~$?Q.length-$:A+Q.length}function U(){var Q={line:j,column:A};return function(O){return O.position=new K(Q),te(),O}}function K(Q){this.start=Q,this.end={line:j,column:A},this.source=E.source}K.prototype.content=b;function L(Q){var O=new Error(E.source+":"+j+":"+A+": "+Q);if(O.reason=Q,O.filename=E.source,O.line=j,O.column=A,O.source=b,!E.silent)throw O}function Z(Q){var O=Q.exec(b);if(O){var $=O[0];return N($),b=b.slice($.length),O}}function te(){Z(n)}function J(Q){var O;for(Q=Q||[];O=D();)O!==!1&&Q.push(O);return Q}function D(){var Q=U();if(!(f!=b.charAt(0)||p!=b.charAt(1))){for(var O=2;m!=b.charAt(O)&&(p!=b.charAt(O)||f!=b.charAt(O+1));)++O;if(O+=2,m===b.charAt(O-1))return L("End of comment missing");var $=b.slice(2,O-2);return A+=2,N($),b=b.slice(O),A+=2,Q({type:y,comment:$})}}function q(){var Q=U(),O=Z(r);if(O){if(D(),!Z(s))return L("property missing ':'");var $=Z(l),P=Q({type:v,property:k(O[0].replace(e,m)),value:$?k($[0].replace(e,m)):m});return Z(a),P}}function H(){var Q=[];J(Q);for(var O;O=q();)O!==!1&&(Q.push(O),J(Q));return Q}return te(),H()};function k(b){return b?b.replace(c,m):m}return Td}var wv;function Sj(){if(wv)return bs;wv=1;var e=bs&&bs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bs,"__esModule",{value:!0}),bs.default=n;var t=e(kj());function n(r,s){var l=null;if(!r||typeof r!="string")return l;var a=(0,t.default)(r),c=typeof s=="function";return a.forEach(function(d){if(d.type==="declaration"){var f=d.property,p=d.value;c?s(f,p,d):p&&(l=l||{},l[f]=p)}}),l}return bs}var To={},xv;function _j(){if(xv)return To;xv=1,Object.defineProperty(To,"__esModule",{value:!0}),To.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,l=function(f){return!f||n.test(f)||e.test(f)},a=function(f,p){return p.toUpperCase()},c=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),l(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(s,c):f=f.replace(r,c),f.replace(t,a))};return To.camelCase=d,To}var No,bv;function Ej(){if(bv)return No;bv=1;var e=No&&No.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(Sj()),n=_j();function r(s,l){var a={};return!s||typeof s!="string"||(0,t.default)(s,function(c,d){c&&d&&(a[(0,n.camelCase)(c,l)]=d)}),a}return r.default=r,No=r,No}var Cj=Ej();const jj=Ds(Cj),Bw=Ww("end"),nh=Ww("start");function Ww(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Tj(e){const t=nh(e),n=Bw(e);if(t&&n)return{start:t,end:n}}function Bo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kv(e.position):"start"in e||"end"in e?kv(e):"line"in e||"column"in e?Cf(e):""}function Cf(e){return Sv(e&&e.line)+":"+Sv(e&&e.column)}function kv(e){return Cf(e&&e.start)+"-"+Cf(e&&e.end)}function Sv(e){return e&&typeof e=="number"?e:1}class Lt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",l={},a=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?s=t:!l.cause&&t&&(a=!0,s=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?l.ruleId=r:(l.source=r.slice(0,d),l.ruleId=r.slice(d+1))}if(!l.place&&l.ancestors&&l.ancestors){const d=l.ancestors[l.ancestors.length-1];d&&(l.place=d.position)}const c=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=Bo(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=a&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Lt.prototype.file="";Lt.prototype.name="";Lt.prototype.reason="";Lt.prototype.message="";Lt.prototype.stack="";Lt.prototype.column=void 0;Lt.prototype.line=void 0;Lt.prototype.ancestors=void 0;Lt.prototype.cause=void 0;Lt.prototype.fatal=void 0;Lt.prototype.place=void 0;Lt.prototype.ruleId=void 0;Lt.prototype.source=void 0;const rh={}.hasOwnProperty,Nj=new Map,Aj=/[A-Z]/g,Ij=new Set(["table","tbody","thead","tfoot","tr"]),Pj=new Set(["td","th"]),Hw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Rj(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Uj(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=zj(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?th:xj,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Vw(s,e,void 0);return l&&typeof l!="string"?l:s.create(e,s.Fragment,{children:l||void 0},void 0)}function Vw(e,t,n){if(t.type==="element")return Oj(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Dj(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Mj(e,t,n);if(t.type==="mdxjsEsm")return Lj(e,t);if(t.type==="root")return $j(e,t,n);if(t.type==="text")return Fj(e,t)}function Oj(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=th,e.schema=s),e.ancestors.push(t);const l=Yw(e,t.tagName,!1),a=Bj(e,t);let c=sh(e,t);return Ij.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!cj(d):!0})),qw(e,a,l,t),ih(a,c),e.ancestors.pop(),e.schema=r,e.create(t,l,a,n)}function Dj(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Xo(e,t.position)}function Lj(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xo(e,t.position)}function Mj(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=th,e.schema=s),e.ancestors.push(t);const l=t.name===null?e.Fragment:Yw(e,t.name,!0),a=Wj(e,t),c=sh(e,t);return qw(e,a,l,t),ih(a,c),e.ancestors.pop(),e.schema=r,e.create(t,l,a,n)}function $j(e,t,n){const r={};return ih(r,sh(e,t)),e.create(t,e.Fragment,r,n)}function Fj(e,t){return t.value}function qw(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ih(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function zj(e,t,n){return r;function r(s,l,a,c){const f=Array.isArray(a.children)?n:t;return c?f(l,a,c):f(l,a)}}function Uj(e,t){return n;function n(r,s,l,a){const c=Array.isArray(l.children),d=nh(r);return t(s,l,a,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function Bj(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&rh.call(t.properties,s)){const l=Hj(e,s,t.properties[s]);if(l){const[a,c]=l;e.tableCellAlignToStyle&&a==="align"&&typeof c=="string"&&Pj.has(t.tagName)?r=c:n[a]=c}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Wj(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const a=l.expression;a.type;const c=a.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Xo(e,t.position);else{const s=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,l=e.evaluater.evaluateExpression(c.expression)}else Xo(e,t.position);else l=r.value===null?!0:r.value;n[s]=l}return n}function sh(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Nj;for(;++r<t.children.length;){const l=t.children[r];let a;if(e.passKeys){const d=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(d){const f=s.get(d)||0;a=d+"-"+f,s.set(d,f+1)}}const c=Vw(e,l,a);c!==void 0&&n.push(c)}return n}function Hj(e,t,n){const r=vj(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?sj(n):bj(n)),r.property==="style"){let s=typeof n=="object"?n:Vj(e,String(n));return e.stylePropertyNameCase==="css"&&(s=qj(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?pj[r.property]||r.property:r.attribute,n]}}function Vj(e,t){try{return jj(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Lt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Hw+"#cannot-parse-style-attribute",s}}function Yw(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let l=-1,a;for(;++l<s.length;){const c=pv(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};a=a?{type:"MemberExpression",object:a,property:c,computed:!!(l&&c.type==="Literal"),optional:!1}:c}r=a}else r=pv(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return rh.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Xo(e)}function Xo(e,t){const n=new Lt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Hw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function qj(e){const t={};let n;for(n in e)rh.call(e,n)&&(t[Yj(n)]=e[n]);return t}function Yj(e){let t=e.replace(Aj,Kj);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Kj(e){return"-"+e.toLowerCase()}const Nd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Gj={};function oh(e,t){const n=Gj,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Kw(e,r,s)}function Kw(e,t,n){if(Jj(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _v(e.children,t,n)}return Array.isArray(e)?_v(e,t,n):""}function _v(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Kw(e[s],t,n);return r.join("")}function Jj(e){return!!(e&&typeof e=="object")}const Ev=document.createElement("i");function lh(e){const t="&"+e+";";Ev.innerHTML=t;const n=Ev.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function dn(e,t,n,r){const s=e.length;let l=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);l<r.length;)a=r.slice(l,l+1e4),a.unshift(t,0),e.splice(...a),l+=1e4,t+=1e4}function Cn(e,t){return e.length>0?(dn(e,e.length,0,t),e):t}const Cv={}.hasOwnProperty;function Gw(e){const t={};let n=-1;for(;++n<e.length;)Qj(t,e[n]);return t}function Qj(e,t){let n;for(n in t){const s=(Cv.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let a;if(l)for(a in l){Cv.call(s,a)||(s[a]=[]);const c=l[a];Xj(s[a],Array.isArray(c)?c:c?[c]:[])}}}function Xj(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);dn(e,0,0,r)}function Jw(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Wn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ut=ai(/[A-Za-z]/),Dt=ai(/[\dA-Za-z]/),Zj=ai(/[#-'*+\--9=?A-Z^-~]/);function Ga(e){return e!==null&&(e<32||e===127)}const jf=ai(/\d/),eT=ai(/[\dA-Fa-f]/),tT=ai(/[!-/:-@[-`{-~]/);function Ee(e){return e!==null&&e<-2}function Ue(e){return e!==null&&(e<0||e===32)}function Pe(e){return e===-2||e===-1||e===32}const wu=ai(new RegExp("\\p{P}|\\p{S}","u")),Mi=ai(/\s/);function ai(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function zs(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const l=e.charCodeAt(n);let a="";if(l===37&&Dt(e.charCodeAt(n+1))&&Dt(e.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(a=String.fromCharCode(l));else if(l>55295&&l<57344){const c=e.charCodeAt(n+1);l<56320&&c>56319&&c<57344?(a=String.fromCharCode(l,c),s=1):a="�"}else a=String.fromCharCode(l);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Oe(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(d){return Pe(d)?(e.enter(n),c(d)):t(d)}function c(d){return Pe(d)&&l++<s?(e.consume(d),c):(e.exit(n),t(d))}}const nT={tokenize:rT};function rT(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Oe(e,t,"linePrefix")}function s(c){return e.enter("paragraph"),l(c)}function l(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,a(c)}function a(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ee(c)?(e.consume(c),e.exit("chunkText"),l):(e.consume(c),a)}}const iT={tokenize:sT},jv={tokenize:oT};function sT(e){const t=this,n=[];let r=0,s,l,a;return c;function c(N){if(r<n.length){const U=n[r];return t.containerState=U[1],e.attempt(U[0].continuation,d,f)(N)}return f(N)}function d(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&A();const U=t.events.length;let K=U,L;for(;K--;)if(t.events[K][0]==="exit"&&t.events[K][1].type==="chunkFlow"){L=t.events[K][1].end;break}j(r);let Z=U;for(;Z<t.events.length;)t.events[Z][1].end={...L},Z++;return dn(t.events,K+1,0,t.events.slice(U)),t.events.length=Z,f(N)}return c(N)}function f(N){if(r===n.length){if(!s)return y(N);if(s.currentConstruct&&s.currentConstruct.concrete)return k(N);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(jv,p,m)(N)}function p(N){return s&&A(),j(r),y(N)}function m(N){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,k(N)}function y(N){return t.containerState={},e.attempt(jv,v,k)(N)}function v(N){return r++,n.push([t.currentConstruct,t.containerState]),y(N)}function k(N){if(N===null){s&&A(),j(0),e.consume(N);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),b(N)}function b(N){if(N===null){E(e.exit("chunkFlow"),!0),j(0),e.consume(N);return}return Ee(N)?(e.consume(N),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(N),b)}function E(N,U){const K=t.sliceStream(N);if(U&&K.push(null),N.previous=l,l&&(l.next=N),l=N,s.defineSkip(N.start),s.write(K),t.parser.lazy[N.start.line]){let L=s.events.length;for(;L--;)if(s.events[L][1].start.offset<a&&(!s.events[L][1].end||s.events[L][1].end.offset>a))return;const Z=t.events.length;let te=Z,J,D;for(;te--;)if(t.events[te][0]==="exit"&&t.events[te][1].type==="chunkFlow"){if(J){D=t.events[te][1].end;break}J=!0}for(j(r),L=Z;L<t.events.length;)t.events[L][1].end={...D},L++;dn(t.events,te+1,0,t.events.slice(Z)),t.events.length=L}}function j(N){let U=n.length;for(;U-- >N;){const K=n[U];t.containerState=K[1],K[0].exit.call(t,e)}n.length=N}function A(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function oT(e,t,n){return Oe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Os(e){if(e===null||Ue(e)||Mi(e))return 1;if(wu(e))return 2}function xu(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const Tf={name:"attention",resolveAll:lT,tokenize:aT};function lT(e,t){let n=-1,r,s,l,a,c,d,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},y={...e[n][1].start};Tv(m,-d),Tv(y,d),a={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:y},l={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...a.start},end:{...c.end}},e[r][1].end={...a.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Cn(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Cn(f,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",l,t]]),f=Cn(f,xu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Cn(f,[["exit",l,t],["enter",c,t],["exit",c,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=Cn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,dn(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function aT(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Os(r);let l;return a;function a(d){return l=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===l)return e.consume(d),c;const f=e.exit("attentionSequence"),p=Os(d),m=!p||p===2&&s||n.includes(d),y=!s||s===2&&p||n.includes(r);return f._open=!!(l===42?m:m&&(s||!y)),f._close=!!(l===42?y:y&&(p||!m)),t(d)}}function Tv(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const uT={name:"autolink",tokenize:cT};function cT(e,t,n){let r=0;return s;function s(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(v){return Ut(v)?(e.consume(v),a):v===64?n(v):f(v)}function a(v){return v===43||v===45||v===46||Dt(v)?(r=1,c(v)):f(v)}function c(v){return v===58?(e.consume(v),r=0,d):(v===43||v===45||v===46||Dt(v))&&r++<32?(e.consume(v),c):(r=0,f(v))}function d(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||Ga(v)?n(v):(e.consume(v),d)}function f(v){return v===64?(e.consume(v),p):Zj(v)?(e.consume(v),f):n(v)}function p(v){return Dt(v)?m(v):n(v)}function m(v){return v===46?(e.consume(v),r=0,p):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):y(v)}function y(v){if((v===45||Dt(v))&&r++<63){const k=v===45?y:m;return e.consume(v),k}return n(v)}}const cl={partial:!0,tokenize:dT};function dT(e,t,n){return r;function r(l){return Pe(l)?Oe(e,s,"linePrefix")(l):s(l)}function s(l){return l===null||Ee(l)?t(l):n(l)}}const Qw={continuation:{tokenize:hT},exit:pT,name:"blockQuote",tokenize:fT};function fT(e,t,n){const r=this;return s;function s(a){if(a===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),l}return n(a)}function l(a){return Pe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function hT(e,t,n){const r=this;return s;function s(a){return Pe(a)?Oe(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):l(a)}function l(a){return e.attempt(Qw,t,n)(a)}}function pT(e){e.exit("blockQuote")}const Xw={name:"characterEscape",tokenize:mT};function mT(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return tT(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Zw={name:"characterReference",tokenize:gT};function gT(e,t,n){const r=this;let s=0,l,a;return c;function c(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),d}function d(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),l=31,a=Dt,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,a=eT,p):(e.enter("characterReferenceValue"),l=7,a=jf,p(m))}function p(m){if(m===59&&s){const y=e.exit("characterReferenceValue");return a===Dt&&!lh(r.sliceSerialize(y))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(m)&&s++<l?(e.consume(m),p):n(m)}}const Nv={partial:!0,tokenize:yT},Av={concrete:!0,name:"codeFenced",tokenize:vT};function vT(e,t,n){const r=this,s={partial:!0,tokenize:K};let l=0,a=0,c;return d;function d(L){return f(L)}function f(L){const Z=r.events[r.events.length-1];return l=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,c=L,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(L)}function p(L){return L===c?(a++,e.consume(L),p):a<3?n(L):(e.exit("codeFencedFenceSequence"),Pe(L)?Oe(e,m,"whitespace")(L):m(L))}function m(L){return L===null||Ee(L)?(e.exit("codeFencedFence"),r.interrupt?t(L):e.check(Nv,b,U)(L)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),y(L))}function y(L){return L===null||Ee(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(L)):Pe(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Oe(e,v,"whitespace")(L)):L===96&&L===c?n(L):(e.consume(L),y)}function v(L){return L===null||Ee(L)?m(L):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(L))}function k(L){return L===null||Ee(L)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(L)):L===96&&L===c?n(L):(e.consume(L),k)}function b(L){return e.attempt(s,U,E)(L)}function E(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),j}function j(L){return l>0&&Pe(L)?Oe(e,A,"linePrefix",l+1)(L):A(L)}function A(L){return L===null||Ee(L)?e.check(Nv,b,U)(L):(e.enter("codeFlowValue"),N(L))}function N(L){return L===null||Ee(L)?(e.exit("codeFlowValue"),A(L)):(e.consume(L),N)}function U(L){return e.exit("codeFenced"),t(L)}function K(L,Z,te){let J=0;return D;function D($){return L.enter("lineEnding"),L.consume($),L.exit("lineEnding"),q}function q($){return L.enter("codeFencedFence"),Pe($)?Oe(L,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):H($)}function H($){return $===c?(L.enter("codeFencedFenceSequence"),Q($)):te($)}function Q($){return $===c?(J++,L.consume($),Q):J>=a?(L.exit("codeFencedFenceSequence"),Pe($)?Oe(L,O,"whitespace")($):O($)):te($)}function O($){return $===null||Ee($)?(L.exit("codeFencedFence"),Z($)):te($)}}}function yT(e,t,n){const r=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l)}function l(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Ad={name:"codeIndented",tokenize:xT},wT={partial:!0,tokenize:bT};function xT(e,t,n){const r=this;return s;function s(f){return e.enter("codeIndented"),Oe(e,l,"linePrefix",5)(f)}function l(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?d(f):Ee(f)?e.attempt(wT,a,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Ee(f)?(e.exit("codeFlowValue"),a(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function bT(e,t,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):Ee(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):Oe(e,l,"linePrefix",5)(a)}function l(a){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):Ee(a)?s(a):n(a)}}const kT={name:"codeText",previous:_T,resolve:ST,tokenize:ET};function ST(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function _T(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ET(e,t,n){let r=0,s,l;return a;function a(m){return e.enter("codeText"),e.enter("codeTextSequence"),c(m)}function c(m){return m===96?(e.consume(m),r++,c):(e.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),d):m===96?(l=e.enter("codeTextSequence"),s=0,p(m)):Ee(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Ee(m)?(e.exit("codeTextData"),d(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),s++,p):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(l.type="codeTextData",f(m))}}class CT{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Ao(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ao(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ao(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ao(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ao(this.left,n.reverse())}}}function Ao(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function e0(e){const t={};let n=-1,r,s,l,a,c,d,f;const p=new CT(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,l=0,l<d.length&&d[l][1].type==="lineEndingBlank"&&(l+=2),l<d.length&&d[l][1].type==="content"))for(;++l<d.length&&d[l][1].type!=="content";)d[l][1].type==="chunkText"&&(d[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,jT(p,n)),n=t[n],f=!0);else if(r[1]._container){for(l=n,s=void 0;l--;)if(a=p.get(l),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=l);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(r),p.splice(s,n-s+1,c))}}return dn(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function jT(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const l=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const c=a.events,d=[],f={};let p,m,y=-1,v=n,k=0,b=0;const E=[b];for(;v;){for(;e.get(++s)[1]!==v;);l.push(s),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),m&&a.defineSkip(v.start),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(p),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),m=v,v=v.next}for(v=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(b=y+1,E.push(b),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(a.events=[],v?(v._tokenizer=void 0,v.previous=void 0):E.pop(),y=E.length;y--;){const j=c.slice(E[y],E[y+1]),A=l.pop();d.push([A,A+j.length-1]),e.splice(A,2,j)}for(d.reverse(),y=-1;++y<d.length;)f[k+d[y][0]]=k+d[y][1],k+=d[y][1]-d[y][0]-1;return f}const TT={resolve:AT,tokenize:IT},NT={partial:!0,tokenize:PT};function AT(e){return e0(e),e}function IT(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?l(c):Ee(c)?e.check(NT,a,l)(c):(e.consume(c),s)}function l(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function a(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function PT(e,t,n){const r=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Oe(e,l,"linePrefix")}function l(a){if(a===null||Ee(a))return n(a);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function t0(e,t,n,r,s,l,a,c,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(j){return j===60?(e.enter(r),e.enter(s),e.enter(l),e.consume(j),e.exit(l),y):j===null||j===32||j===41||Ga(j)?n(j):(e.enter(r),e.enter(a),e.enter(c),e.enter("chunkString",{contentType:"string"}),b(j))}function y(j){return j===62?(e.enter(l),e.consume(j),e.exit(l),e.exit(s),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===62?(e.exit("chunkString"),e.exit(c),y(j)):j===null||j===60||Ee(j)?n(j):(e.consume(j),j===92?k:v)}function k(j){return j===60||j===62||j===92?(e.consume(j),v):v(j)}function b(j){return!p&&(j===null||j===41||Ue(j))?(e.exit("chunkString"),e.exit(c),e.exit(a),e.exit(r),t(j)):p<f&&j===40?(e.consume(j),p++,b):j===41?(e.consume(j),p--,b):j===null||j===32||j===40||Ga(j)?n(j):(e.consume(j),j===92?E:b)}function E(j){return j===40||j===41||j===92?(e.consume(j),b):b(j)}}function n0(e,t,n,r,s,l){const a=this;let c=0,d;return f;function f(v){return e.enter(r),e.enter(s),e.consume(v),e.exit(s),e.enter(l),p}function p(v){return c>999||v===null||v===91||v===93&&!d||v===94&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs?n(v):v===93?(e.exit(l),e.enter(s),e.consume(v),e.exit(s),e.exit(r),t):Ee(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===null||v===91||v===93||Ee(v)||c++>999?(e.exit("chunkString"),p(v)):(e.consume(v),d||(d=!Pe(v)),v===92?y:m)}function y(v){return v===91||v===92||v===93?(e.consume(v),c++,m):m(v)}}function r0(e,t,n,r,s,l){let a;return c;function c(y){return y===34||y===39||y===40?(e.enter(r),e.enter(s),e.consume(y),e.exit(s),a=y===40?41:y,d):n(y)}function d(y){return y===a?(e.enter(s),e.consume(y),e.exit(s),e.exit(r),t):(e.enter(l),f(y))}function f(y){return y===a?(e.exit(l),d(a)):y===null?n(y):Ee(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),Oe(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===a||y===null||Ee(y)?(e.exit("chunkString"),f(y)):(e.consume(y),y===92?m:p)}function m(y){return y===a||y===92?(e.consume(y),p):p(y)}}function Wo(e,t){let n;return r;function r(s){return Ee(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Pe(s)?Oe(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const RT={name:"definition",tokenize:DT},OT={partial:!0,tokenize:LT};function DT(e,t,n){const r=this;let s;return l;function l(v){return e.enter("definition"),a(v)}function a(v){return n0.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return s=Wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),d):n(v)}function d(v){return Ue(v)?Wo(e,f)(v):f(v)}function f(v){return t0(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return e.attempt(OT,m,m)(v)}function m(v){return Pe(v)?Oe(e,y,"whitespace")(v):y(v)}function y(v){return v===null||Ee(v)?(e.exit("definition"),r.parser.defined.push(s),t(v)):n(v)}}function LT(e,t,n){return r;function r(c){return Ue(c)?Wo(e,s)(c):n(c)}function s(c){return r0(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function l(c){return Pe(c)?Oe(e,a,"whitespace")(c):a(c)}function a(c){return c===null||Ee(c)?t(c):n(c)}}const MT={name:"hardBreakEscape",tokenize:$T};function $T(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),s}function s(l){return Ee(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const FT={name:"headingAtx",resolve:zT,tokenize:UT};function zT(e,t){let n=e.length-2,r=3,s,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},dn(e,r,n-r+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function UT(e,t,n){let r=0;return s;function s(p){return e.enter("atxHeading"),l(p)}function l(p){return e.enter("atxHeadingSequence"),a(p)}function a(p){return p===35&&r++<6?(e.consume(p),a):p===null||Ue(p)?(e.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(e.enter("atxHeadingSequence"),d(p)):p===null||Ee(p)?(e.exit("atxHeading"),t(p)):Pe(p)?Oe(e,c,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function d(p){return p===35?(e.consume(p),d):(e.exit("atxHeadingSequence"),c(p))}function f(p){return p===null||p===35||Ue(p)?(e.exit("atxHeadingText"),c(p)):(e.consume(p),f)}}const BT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Iv=["pre","script","style","textarea"],WT={concrete:!0,name:"htmlFlow",resolveTo:qT,tokenize:YT},HT={partial:!0,tokenize:GT},VT={partial:!0,tokenize:KT};function qT(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function YT(e,t,n){const r=this;let s,l,a,c,d;return f;function f(T){return p(T)}function p(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),m}function m(T){return T===33?(e.consume(T),y):T===47?(e.consume(T),l=!0,b):T===63?(e.consume(T),s=3,r.interrupt?t:C):Ut(T)?(e.consume(T),a=String.fromCharCode(T),E):n(T)}function y(T){return T===45?(e.consume(T),s=2,v):T===91?(e.consume(T),s=5,c=0,k):Ut(T)?(e.consume(T),s=4,r.interrupt?t:C):n(T)}function v(T){return T===45?(e.consume(T),r.interrupt?t:C):n(T)}function k(T){const ae="CDATA[";return T===ae.charCodeAt(c++)?(e.consume(T),c===ae.length?r.interrupt?t:H:k):n(T)}function b(T){return Ut(T)?(e.consume(T),a=String.fromCharCode(T),E):n(T)}function E(T){if(T===null||T===47||T===62||Ue(T)){const ae=T===47,fe=a.toLowerCase();return!ae&&!l&&Iv.includes(fe)?(s=1,r.interrupt?t(T):H(T)):BT.includes(a.toLowerCase())?(s=6,ae?(e.consume(T),j):r.interrupt?t(T):H(T)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):l?A(T):N(T))}return T===45||Dt(T)?(e.consume(T),a+=String.fromCharCode(T),E):n(T)}function j(T){return T===62?(e.consume(T),r.interrupt?t:H):n(T)}function A(T){return Pe(T)?(e.consume(T),A):D(T)}function N(T){return T===47?(e.consume(T),D):T===58||T===95||Ut(T)?(e.consume(T),U):Pe(T)?(e.consume(T),N):D(T)}function U(T){return T===45||T===46||T===58||T===95||Dt(T)?(e.consume(T),U):K(T)}function K(T){return T===61?(e.consume(T),L):Pe(T)?(e.consume(T),K):N(T)}function L(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),d=T,Z):Pe(T)?(e.consume(T),L):te(T)}function Z(T){return T===d?(e.consume(T),d=null,J):T===null||Ee(T)?n(T):(e.consume(T),Z)}function te(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Ue(T)?K(T):(e.consume(T),te)}function J(T){return T===47||T===62||Pe(T)?N(T):n(T)}function D(T){return T===62?(e.consume(T),q):n(T)}function q(T){return T===null||Ee(T)?H(T):Pe(T)?(e.consume(T),q):n(T)}function H(T){return T===45&&s===2?(e.consume(T),P):T===60&&s===1?(e.consume(T),M):T===62&&s===4?(e.consume(T),I):T===63&&s===3?(e.consume(T),C):T===93&&s===5?(e.consume(T),W):Ee(T)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(HT,V,Q)(T)):T===null||Ee(T)?(e.exit("htmlFlowData"),Q(T)):(e.consume(T),H)}function Q(T){return e.check(VT,O,V)(T)}function O(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),$}function $(T){return T===null||Ee(T)?Q(T):(e.enter("htmlFlowData"),H(T))}function P(T){return T===45?(e.consume(T),C):H(T)}function M(T){return T===47?(e.consume(T),a="",F):H(T)}function F(T){if(T===62){const ae=a.toLowerCase();return Iv.includes(ae)?(e.consume(T),I):H(T)}return Ut(T)&&a.length<8?(e.consume(T),a+=String.fromCharCode(T),F):H(T)}function W(T){return T===93?(e.consume(T),C):H(T)}function C(T){return T===62?(e.consume(T),I):T===45&&s===2?(e.consume(T),C):H(T)}function I(T){return T===null||Ee(T)?(e.exit("htmlFlowData"),V(T)):(e.consume(T),I)}function V(T){return e.exit("htmlFlow"),t(T)}}function KT(e,t,n){const r=this;return s;function s(a){return Ee(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l):n(a)}function l(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function GT(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(cl,t,n)}}const JT={name:"htmlText",tokenize:QT};function QT(e,t,n){const r=this;let s,l,a;return c;function c(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),d}function d(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),K):C===63?(e.consume(C),N):Ut(C)?(e.consume(C),te):n(C)}function f(C){return C===45?(e.consume(C),p):C===91?(e.consume(C),l=0,k):Ut(C)?(e.consume(C),A):n(C)}function p(C){return C===45?(e.consume(C),v):n(C)}function m(C){return C===null?n(C):C===45?(e.consume(C),y):Ee(C)?(a=m,M(C)):(e.consume(C),m)}function y(C){return C===45?(e.consume(C),v):m(C)}function v(C){return C===62?P(C):C===45?y(C):m(C)}function k(C){const I="CDATA[";return C===I.charCodeAt(l++)?(e.consume(C),l===I.length?b:k):n(C)}function b(C){return C===null?n(C):C===93?(e.consume(C),E):Ee(C)?(a=b,M(C)):(e.consume(C),b)}function E(C){return C===93?(e.consume(C),j):b(C)}function j(C){return C===62?P(C):C===93?(e.consume(C),j):b(C)}function A(C){return C===null||C===62?P(C):Ee(C)?(a=A,M(C)):(e.consume(C),A)}function N(C){return C===null?n(C):C===63?(e.consume(C),U):Ee(C)?(a=N,M(C)):(e.consume(C),N)}function U(C){return C===62?P(C):N(C)}function K(C){return Ut(C)?(e.consume(C),L):n(C)}function L(C){return C===45||Dt(C)?(e.consume(C),L):Z(C)}function Z(C){return Ee(C)?(a=Z,M(C)):Pe(C)?(e.consume(C),Z):P(C)}function te(C){return C===45||Dt(C)?(e.consume(C),te):C===47||C===62||Ue(C)?J(C):n(C)}function J(C){return C===47?(e.consume(C),P):C===58||C===95||Ut(C)?(e.consume(C),D):Ee(C)?(a=J,M(C)):Pe(C)?(e.consume(C),J):P(C)}function D(C){return C===45||C===46||C===58||C===95||Dt(C)?(e.consume(C),D):q(C)}function q(C){return C===61?(e.consume(C),H):Ee(C)?(a=q,M(C)):Pe(C)?(e.consume(C),q):J(C)}function H(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),s=C,Q):Ee(C)?(a=H,M(C)):Pe(C)?(e.consume(C),H):(e.consume(C),O)}function Q(C){return C===s?(e.consume(C),s=void 0,$):C===null?n(C):Ee(C)?(a=Q,M(C)):(e.consume(C),Q)}function O(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Ue(C)?J(C):(e.consume(C),O)}function $(C){return C===47||C===62||Ue(C)?J(C):n(C)}function P(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function M(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),F}function F(C){return Pe(C)?Oe(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):W(C)}function W(C){return e.enter("htmlTextData"),a(C)}}const ah={name:"labelEnd",resolveAll:tN,resolveTo:nN,tokenize:rN},XT={tokenize:iN},ZT={tokenize:sN},eN={tokenize:oN};function tN(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&dn(e,0,e.length,n),e}function nN(e,t){let n=e.length,r=0,s,l,a,c;for(;n--;)if(s=e[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const d={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[l][1].start},end:{...e[a][1].end}},p={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[a-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=Cn(c,e.slice(l+1,l+r+3)),c=Cn(c,[["enter",p,t]]),c=Cn(c,xu(t.parser.constructs.insideSpan.null,e.slice(l+r+4,a-3),t)),c=Cn(c,[["exit",p,t],e[a-2],e[a-1],["exit",f,t]]),c=Cn(c,e.slice(a+1)),c=Cn(c,[["exit",d,t]]),dn(e,l,e.length,c),e}function rN(e,t,n){const r=this;let s=r.events.length,l,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){l=r.events[s][1];break}return c;function c(y){return l?l._inactive?m(y):(a=r.parser.defined.includes(Wn(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelEnd"),d):n(y)}function d(y){return y===40?e.attempt(XT,p,a?p:m)(y):y===91?e.attempt(ZT,p,a?f:m)(y):a?p(y):m(y)}function f(y){return e.attempt(eN,p,m)(y)}function p(y){return t(y)}function m(y){return l._balanced=!0,n(y)}}function iN(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),s}function s(m){return Ue(m)?Wo(e,l)(m):l(m)}function l(m){return m===41?p(m):t0(e,a,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function a(m){return Ue(m)?Wo(e,d)(m):p(m)}function c(m){return n(m)}function d(m){return m===34||m===39||m===40?r0(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return Ue(m)?Wo(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function sN(e,t,n){const r=this;return s;function s(c){return n0.call(r,e,l,a,"reference","referenceMarker","referenceString")(c)}function l(c){return r.parser.defined.includes(Wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function a(c){return n(c)}}function oN(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const lN={name:"labelStartImage",resolveAll:ah.resolveAll,tokenize:aN};function aN(e,t,n){const r=this;return s;function s(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),l}function l(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),a):n(c)}function a(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const uN={name:"labelStartLink",resolveAll:ah.resolveAll,tokenize:cN};function cN(e,t,n){const r=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),l}function l(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Id={name:"lineEnding",tokenize:dN};function dN(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Oe(e,t,"linePrefix")}}const $a={name:"thematicBreak",tokenize:fN};function fN(e,t,n){let r=0,s;return l;function l(f){return e.enter("thematicBreak"),a(f)}function a(f){return s=f,c(f)}function c(f){return f===s?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Ee(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===s?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),Pe(f)?Oe(e,c,"whitespace")(f):c(f))}}const Qt={continuation:{tokenize:gN},exit:yN,name:"list",tokenize:mN},hN={partial:!0,tokenize:wN},pN={partial:!0,tokenize:vN};function mN(e,t,n){const r=this,s=r.events[r.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return c;function c(v){const k=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:jf(v)){if(r.containerState.type||(r.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check($a,n,f)(v):f(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(v)}return n(v)}function d(v){return jf(v)&&++a<10?(e.consume(v),d):(!r.interrupt||a<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),f(v)):n(v)}function f(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(cl,r.interrupt?n:p,e.attempt(hN,y,m))}function p(v){return r.containerState.initialBlankLine=!0,l++,y(v)}function m(v){return Pe(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),y):n(v)}function y(v){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function gN(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(cl,s,l);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Oe(e,t,"listItemIndent",r.containerState.size+1)(c)}function l(c){return r.containerState.furtherBlankLines||!Pe(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(pN,t,a)(c))}function a(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Oe(e,e.attempt(Qt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function vN(e,t,n){const r=this;return Oe(e,s,"listItemIndent",r.containerState.size+1);function s(l){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(l):n(l)}}function yN(e){e.exit(this.containerState.type)}function wN(e,t,n){const r=this;return Oe(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const a=r.events[r.events.length-1];return!Pe(l)&&a&&a[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Pv={name:"setextUnderline",resolveTo:xN,tokenize:bN};function xN(e,t){let n=e.length,r,s,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",a,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function bN(e,t,n){const r=this;let s;return l;function l(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),s=f,a(f)):n(f)}function a(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===s?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),Pe(f)?Oe(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Ee(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const kN={tokenize:SN};function SN(e){const t=this,n=e.attempt(cl,r,e.attempt(this.parser.constructs.flowInitial,s,Oe(e,e.attempt(this.parser.constructs.flow,s,e.attempt(TT,s)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const _N={resolveAll:s0()},EN=i0("string"),CN=i0("text");function i0(e){return{resolveAll:s0(e==="text"?jN:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],l=n.attempt(s,a,c);return a;function a(p){return f(p)?l(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),l(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;const m=s[p];let y=-1;if(m)for(;++y<m.length;){const v=m[y];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function s0(e){return t;function t(n,r){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(n,r):n}}function jN(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let l=s.length,a=-1,c=0,d;for(;l--;){const f=s[l];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)c++,a--;if(a)break;a=-1}else if(f===-2)d=!0,c++;else if(f!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?a:r.start._bufferIndex+a,_index:r.start._index+l,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const TN={42:Qt,43:Qt,45:Qt,48:Qt,49:Qt,50:Qt,51:Qt,52:Qt,53:Qt,54:Qt,55:Qt,56:Qt,57:Qt,62:Qw},NN={91:RT},AN={[-2]:Ad,[-1]:Ad,32:Ad},IN={35:FT,42:$a,45:[Pv,$a],60:WT,61:Pv,95:$a,96:Av,126:Av},PN={38:Zw,92:Xw},RN={[-5]:Id,[-4]:Id,[-3]:Id,33:lN,38:Zw,42:Tf,60:[uT,JT],91:uN,92:[MT,Xw],93:ah,95:Tf,96:kT},ON={null:[Tf,_N]},DN={null:[42,95]},LN={null:[]},MN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:DN,contentInitial:NN,disable:LN,document:TN,flow:IN,flowInitial:AN,insideSpan:ON,string:PN,text:RN},Symbol.toStringTag,{value:"Module"}));function $N(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},l=[];let a=[],c=[];const d={attempt:Z(K),check:Z(L),consume:A,enter:N,exit:U,interrupt:Z(L,{interrupt:!0})},f={code:null,containerState:{},defineSkip:b,events:[],now:k,parser:e,previous:null,sliceSerialize:y,sliceStream:v,write:m};let p=t.tokenize.call(f,d);return t.resolveAll&&l.push(t),f;function m(q){return a=Cn(a,q),E(),a[a.length-1]!==null?[]:(te(t,0),f.events=xu(l,f.events,f),f.events)}function y(q,H){return zN(v(q),H)}function v(q){return FN(a,q)}function k(){const{_bufferIndex:q,_index:H,line:Q,column:O,offset:$}=r;return{_bufferIndex:q,_index:H,line:Q,column:O,offset:$}}function b(q){s[q.line]=q.column,D()}function E(){let q;for(;r._index<a.length;){const H=a[r._index];if(typeof H=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<H.length;)j(H.charCodeAt(r._bufferIndex));else j(H)}}function j(q){p=p(q)}function A(q){Ee(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,D()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=q}function N(q,H){const Q=H||{};return Q.type=q,Q.start=k(),f.events.push(["enter",Q,f]),c.push(Q),Q}function U(q){const H=c.pop();return H.end=k(),f.events.push(["exit",H,f]),H}function K(q,H){te(q,H.from)}function L(q,H){H.restore()}function Z(q,H){return Q;function Q(O,$,P){let M,F,W,C;return Array.isArray(O)?V(O):"tokenize"in O?V([O]):I(O);function I(ue){return be;function be(ge){const we=ge!==null&&ue[ge],ce=ge!==null&&ue.null,Fe=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(ce)?ce:ce?[ce]:[]];return V(Fe)(ge)}}function V(ue){return M=ue,F=0,ue.length===0?P:T(ue[F])}function T(ue){return be;function be(ge){return C=J(),W=ue,ue.partial||(f.currentConstruct=ue),ue.name&&f.parser.constructs.disable.null.includes(ue.name)?fe():ue.tokenize.call(H?Object.assign(Object.create(f),H):f,d,ae,fe)(ge)}}function ae(ue){return q(W,C),$}function fe(ue){return C.restore(),++F<M.length?T(M[F]):P}}}function te(q,H){q.resolveAll&&!l.includes(q)&&l.push(q),q.resolve&&dn(f.events,H,f.events.length-H,q.resolve(f.events.slice(H),f)),q.resolveTo&&(f.events=q.resolveTo(f.events,f))}function J(){const q=k(),H=f.previous,Q=f.currentConstruct,O=f.events.length,$=Array.from(c);return{from:O,restore:P};function P(){r=q,f.previous=H,f.currentConstruct=Q,f.events.length=O,c=$,D()}}function D(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function FN(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,l)];else{if(a=e.slice(n,s),r>-1){const c=a[0];typeof c=="string"?a[0]=c.slice(r):a.shift()}l>0&&a.push(e[s].slice(0,l))}return a}function zN(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const l=e[n];let a;if(typeof l=="string")a=l;else switch(l){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(l)}s=l===-2,r.push(a)}return r.join("")}function UN(e){const r={constructs:Gw([MN,...(e||{}).extensions||[]]),content:s(nT),defined:[],document:s(iT),flow:s(kN),lazy:{},string:s(EN),text:s(CN)};return r;function s(l){return a;function a(c){return $N(r,l,c)}}}function BN(e){for(;!e0(e););return e}const Rv=/[\0\t\n\r]/g;function WN(){let e=1,t="",n=!0,r;return s;function s(l,a,c){const d=[];let f,p,m,y,v;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(a||void 0).decode(l)),m=0,t="",n&&(l.charCodeAt(0)===65279&&m++,n=void 0);m<l.length;){if(Rv.lastIndex=m,f=Rv.exec(l),y=f&&f.index!==void 0?f.index:l.length,v=l.charCodeAt(y),!f){t=l.slice(m);break}if(v===10&&m===y&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<y&&(d.push(l.slice(m,y)),e+=y-m),v){case 0:{d.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,d.push(-2);e++<p;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}m=y+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const HN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function VN(e){return e.replace(HN,qN)}function qN(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return Jw(n.slice(l?2:1),l?16:10)}return lh(n)||e}const o0={}.hasOwnProperty;function YN(e,t,n){return typeof t!="string"&&(n=t,t=void 0),KN(n)(BN(UN(n).document().write(WN()(e,t,!0))))}function KN(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Vn),autolinkProtocol:J,autolinkEmail:J,atxHeading:l(fn),blockQuote:l(ce),characterEscape:J,characterReference:J,codeFenced:l(Fe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:l(Fe,a),codeText:l(it,a),codeTextData:J,data:J,codeFlowValue:J,definition:l(vt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:l(Mt),hardBreakEscape:l(hn),hardBreakTrailing:l(hn),htmlFlow:l(lr,a),htmlFlowData:J,htmlText:l(lr,a),htmlTextData:J,image:l(ui),label:a,link:l(Vn),listItem:l(nn),listItemValue:y,listOrdered:l(St,m),listUnordered:l(St),paragraph:l(qn),reference:T,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:l(fn),strong:l(ci),thematicBreak:l(Ui)},exit:{atxHeading:d(),atxHeadingSequence:K,autolink:d(),autolinkEmail:we,autolinkProtocol:ge,blockQuote:d(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:ue,characterReference:be,codeFenced:d(E),codeFencedFence:b,codeFencedFenceInfo:v,codeFencedFenceMeta:k,codeFlowValue:D,codeIndented:d(j),codeText:d($),codeTextData:D,data:D,definition:d(),definitionDestinationString:U,definitionLabelString:A,definitionTitleString:N,emphasis:d(),hardBreakEscape:d(H),hardBreakTrailing:d(H),htmlFlow:d(Q),htmlFlowData:D,htmlText:d(O),htmlTextData:D,image:d(M),label:W,labelText:F,lineEnding:q,link:d(P),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ae,resourceDestinationString:C,resourceTitleString:I,resource:V,setextHeading:d(te),setextHeadingLineSequence:Z,setextHeadingText:L,strong:d(),thematicBreak:d()}};l0(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ee){let oe={type:"root",children:[]};const xe={stack:[oe],tokenStack:[],config:t,enter:c,exit:f,buffer:a,resume:p,data:n},je=[];let Re=-1;for(;++Re<ee.length;)if(ee[Re][1].type==="listOrdered"||ee[Re][1].type==="listUnordered")if(ee[Re][0]==="enter")je.push(Re);else{const Be=je.pop();Re=s(ee,Be,Re)}for(Re=-1;++Re<ee.length;){const Be=t[ee[Re][0]];o0.call(Be,ee[Re][1].type)&&Be[ee[Re][1].type].call(Object.assign({sliceSerialize:ee[Re][2].sliceSerialize},xe),ee[Re][1])}if(xe.tokenStack.length>0){const Be=xe.tokenStack[xe.tokenStack.length-1];(Be[1]||Ov).call(xe,void 0,Be[0])}for(oe.position={start:Kr(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Kr(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<t.transforms.length;)oe=t.transforms[Re](oe)||oe;return oe}function s(ee,oe,xe){let je=oe-1,Re=-1,Be=!1,pn,Bt,Yn,Tn;for(;++je<=xe;){const at=ee[je];switch(at[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{at[0]==="enter"?Re++:Re--,Tn=void 0;break}case"lineEndingBlank":{at[0]==="enter"&&(pn&&!Tn&&!Re&&!Yn&&(Yn=je),Tn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tn=void 0}if(!Re&&at[0]==="enter"&&at[1].type==="listItemPrefix"||Re===-1&&at[0]==="exit"&&(at[1].type==="listUnordered"||at[1].type==="listOrdered")){if(pn){let mn=je;for(Bt=void 0;mn--;){const Ct=ee[mn];if(Ct[1].type==="lineEnding"||Ct[1].type==="lineEndingBlank"){if(Ct[0]==="exit")continue;Bt&&(ee[Bt][1].type="lineEndingBlank",Be=!0),Ct[1].type="lineEnding",Bt=mn}else if(!(Ct[1].type==="linePrefix"||Ct[1].type==="blockQuotePrefix"||Ct[1].type==="blockQuotePrefixWhitespace"||Ct[1].type==="blockQuoteMarker"||Ct[1].type==="listItemIndent"))break}Yn&&(!Bt||Yn<Bt)&&(pn._spread=!0),pn.end=Object.assign({},Bt?ee[Bt][1].start:at[1].end),ee.splice(Bt||je,0,["exit",pn,at[2]]),je++,xe++}if(at[1].type==="listItemPrefix"){const mn={type:"listItem",_spread:!1,start:Object.assign({},at[1].start),end:void 0};pn=mn,ee.splice(je,0,["enter",mn,at[2]]),je++,xe++,Yn=void 0,Tn=!0}}}return ee[oe][1]._spread=Be,xe}function l(ee,oe){return xe;function xe(je){c.call(this,ee(je),je),oe&&oe.call(this,je)}}function a(){this.stack.push({type:"fragment",children:[]})}function c(ee,oe,xe){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([oe,xe||void 0]),ee.position={start:Kr(oe.start),end:void 0}}function d(ee){return oe;function oe(xe){ee&&ee.call(this,xe),f.call(this,xe)}}function f(ee,oe){const xe=this.stack.pop(),je=this.tokenStack.pop();if(je)je[0].type!==ee.type&&(oe?oe.call(this,ee,je[0]):(je[1]||Ov).call(this,ee,je[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Bo({start:ee.start,end:ee.end})+"): it’s not open");xe.position.end=Kr(ee.end)}function p(){return oh(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(ee){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=ee}function k(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=ee}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee.replace(/(\r?\n|\r)$/g,"")}function A(ee){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.label=oe,xe.identifier=Wn(this.sliceSerialize(ee)).toLowerCase()}function N(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ee}function U(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ee}function K(ee){const oe=this.stack[this.stack.length-1];if(!oe.depth){const xe=this.sliceSerialize(ee).length;oe.depth=xe}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function Z(ee){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function te(){this.data.setextHeadingSlurpLineEnding=void 0}function J(ee){const xe=this.stack[this.stack.length-1].children;let je=xe[xe.length-1];(!je||je.type!=="text")&&(je=di(),je.position={start:Kr(ee.start),end:void 0},xe.push(je)),this.stack.push(je)}function D(ee){const oe=this.stack.pop();oe.value+=this.sliceSerialize(ee),oe.position.end=Kr(ee.end)}function q(ee){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=oe.children[oe.children.length-1];xe.position.end=Kr(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(J.call(this,ee),D.call(this,ee))}function H(){this.data.atHardBreak=!0}function Q(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee}function O(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee}function $(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee}function P(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=oe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function M(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=oe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function F(ee){const oe=this.sliceSerialize(ee),xe=this.stack[this.stack.length-2];xe.label=VN(oe),xe.identifier=Wn(oe).toLowerCase()}function W(){const ee=this.stack[this.stack.length-1],oe=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const je=ee.children;xe.children=je}else xe.alt=oe}function C(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ee}function I(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ee}function V(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function ae(ee){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.label=oe,xe.identifier=Wn(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function fe(ee){this.data.characterReferenceType=ee.type}function ue(ee){const oe=this.sliceSerialize(ee),xe=this.data.characterReferenceType;let je;xe?(je=Jw(oe,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):je=lh(oe);const Re=this.stack[this.stack.length-1];Re.value+=je}function be(ee){const oe=this.stack.pop();oe.position.end=Kr(ee.end)}function ge(ee){D.call(this,ee);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(ee)}function we(ee){D.call(this,ee);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(ee)}function ce(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function it(){return{type:"inlineCode",value:""}}function vt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Mt(){return{type:"emphasis",children:[]}}function fn(){return{type:"heading",depth:0,children:[]}}function hn(){return{type:"break"}}function lr(){return{type:"html",value:""}}function ui(){return{type:"image",title:null,url:"",alt:null}}function Vn(){return{type:"link",title:null,url:"",children:[]}}function St(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function nn(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function qn(){return{type:"paragraph",children:[]}}function ci(){return{type:"strong",children:[]}}function di(){return{type:"text",value:""}}function Ui(){return{type:"thematicBreak"}}}function Kr(e){return{line:e.line,column:e.column,offset:e.offset}}function l0(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?l0(e,r):GN(e,r)}}function GN(e,t){let n;for(n in t)if(o0.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Ov(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Bo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Bo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Bo({start:t.start,end:t.end})+") is still open")}function JN(e){const t=this;t.parser=n;function n(r){return YN(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function QN(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function XN(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ZN(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function eA(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tA(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nA(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=zs(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let a,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=l+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function rA(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iA(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function a0(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function sA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return a0(e,t);const s={src:zs(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const l={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,l),e.applyData(t,l)}function oA(e,t){const n={src:zs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function lA(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function aA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return a0(e,t);const s={href:zs(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const l={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function uA(e,t){const n={href:zs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cA(e,t,n){const r=e.all(t),s=n?dA(n):u0(t),l={},a=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(s||c!==0||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?a.push(...p.children):a.push(p)}const d=r[r.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:l,children:a};return e.patch(t,f),e.applyData(t,f)}function dA(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=u0(n[r])}return t}function u0(e){const t=e.spread;return t??e.children.length>1}function fA(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function hA(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pA(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function mA(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gA(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=nh(t.children[1]),d=Bw(t.children[t.children.length-1]);c&&d&&(a.position={start:c,end:d}),s.push(a)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,l),e.applyData(t,l)}function vA(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,c=a?a.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const m=t.children[d],y={},v=a?a[d]:void 0;v&&(y.align=v);let k={type:"element",tagName:l,properties:y,children:[]};m&&(k.children=e.all(m),e.patch(m,k),k=e.applyData(m,k)),f.push(k)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function yA(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Dv=9,Lv=32;function wA(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const l=[];for(;r;)l.push(Mv(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return l.push(Mv(t.slice(s),s>0,!1)),l.join("")}function Mv(e,t,n){let r=0,s=e.length;if(t){let l=e.codePointAt(r);for(;l===Dv||l===Lv;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(s-1);for(;l===Dv||l===Lv;)s--,l=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function xA(e,t){const n={type:"text",value:wA(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function bA(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const kA={blockquote:QN,break:XN,code:ZN,delete:eA,emphasis:tA,footnoteReference:nA,heading:rA,html:iA,imageReference:sA,image:oA,inlineCode:lA,linkReference:aA,link:uA,listItem:cA,list:fA,paragraph:hA,root:pA,strong:mA,table:gA,tableCell:yA,tableRow:vA,text:xA,thematicBreak:bA,toml:Na,yaml:Na,definition:Na,footnoteDefinition:Na};function Na(){}const c0=-1,bu=0,Ho=1,Ja=2,uh=3,ch=4,dh=5,fh=6,d0=7,f0=8,$v=typeof self=="object"?self:globalThis,SA=(e,t)=>{const n=(s,l)=>(e.set(l,s),s),r=s=>{if(e.has(s))return e.get(s);const[l,a]=t[s];switch(l){case bu:case c0:return n(a,s);case Ho:{const c=n([],s);for(const d of a)c.push(r(d));return c}case Ja:{const c=n({},s);for(const[d,f]of a)c[r(d)]=r(f);return c}case uh:return n(new Date(a),s);case ch:{const{source:c,flags:d}=a;return n(new RegExp(c,d),s)}case dh:{const c=n(new Map,s);for(const[d,f]of a)c.set(r(d),r(f));return c}case fh:{const c=n(new Set,s);for(const d of a)c.add(r(d));return c}case d0:{const{name:c,message:d}=a;return n(new $v[c](d),s)}case f0:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:c}=new Uint8Array(a);return n(new DataView(c),a)}}return n(new $v[l](a),s)};return r},Fv=e=>SA(new Map,e)(0),ks="",{toString:_A}={},{keys:EA}=Object,Io=e=>{const t=typeof e;if(t!=="object"||!e)return[bu,t];const n=_A.call(e).slice(8,-1);switch(n){case"Array":return[Ho,ks];case"Object":return[Ja,ks];case"Date":return[uh,ks];case"RegExp":return[ch,ks];case"Map":return[dh,ks];case"Set":return[fh,ks];case"DataView":return[Ho,n]}return n.includes("Array")?[Ho,n]:n.includes("Error")?[d0,n]:[Ja,n]},Aa=([e,t])=>e===bu&&(t==="function"||t==="symbol"),CA=(e,t,n,r)=>{const s=(a,c)=>{const d=r.push(a)-1;return n.set(c,d),d},l=a=>{if(n.has(a))return n.get(a);let[c,d]=Io(a);switch(c){case bu:{let p=a;switch(d){case"bigint":c=f0,p=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return s([c0],a)}return s([c,p],a)}case Ho:{if(d){let y=a;return d==="DataView"?y=new Uint8Array(a.buffer):d==="ArrayBuffer"&&(y=new Uint8Array(a)),s([d,[...y]],a)}const p=[],m=s([c,p],a);for(const y of a)p.push(l(y));return m}case Ja:{if(d)switch(d){case"BigInt":return s([d,a.toString()],a);case"Boolean":case"Number":case"String":return s([d,a.valueOf()],a)}if(t&&"toJSON"in a)return l(a.toJSON());const p=[],m=s([c,p],a);for(const y of EA(a))(e||!Aa(Io(a[y])))&&p.push([l(y),l(a[y])]);return m}case uh:return s([c,a.toISOString()],a);case ch:{const{source:p,flags:m}=a;return s([c,{source:p,flags:m}],a)}case dh:{const p=[],m=s([c,p],a);for(const[y,v]of a)(e||!(Aa(Io(y))||Aa(Io(v))))&&p.push([l(y),l(v)]);return m}case fh:{const p=[],m=s([c,p],a);for(const y of a)(e||!Aa(Io(y)))&&p.push(l(y));return m}}const{message:f}=a;return s([c,{name:d,message:f}],a)};return l},zv=(e,{json:t,lossy:n}={})=>{const r=[];return CA(!(t||n),!!t,new Map,r)(e),r},Qa=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Fv(zv(e,t)):structuredClone(e):(e,t)=>Fv(zv(e,t));function jA(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function TA(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function NA(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||jA,r=e.options.footnoteBackLabel||TA,s=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),y=zs(m.toLowerCase());let v=0;const k=[],b=e.footnoteCounts.get(m);for(;b!==void 0&&++v<=b;){k.length>0&&k.push({type:"text",value:" "});let A=typeof n=="string"?n:n(d,v);typeof A=="string"&&(A={type:"text",value:A}),k.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,v),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const E=p[p.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const A=E.children[E.children.length-1];A&&A.type==="text"?A.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...k)}else p.push(...k);const j={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:e.wrap(p,!0)};e.patch(f,j),c.push(j)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Qa(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const ku=(function(e){if(e==null)return RA;if(typeof e=="function")return Su(e);if(typeof e=="object")return Array.isArray(e)?AA(e):IA(e);if(typeof e=="string")return PA(e);throw new Error("Expected function, string, or object as test")});function AA(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ku(e[n]);return Su(r);function r(...s){let l=-1;for(;++l<t.length;)if(t[l].apply(this,s))return!0;return!1}}function IA(e){const t=e;return Su(n);function n(r){const s=r;let l;for(l in e)if(s[l]!==t[l])return!1;return!0}}function PA(e){return Su(t);function t(n){return n&&n.type===e}}function Su(e){return t;function t(n,r,s){return!!(OA(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function RA(){return!0}function OA(e){return e!==null&&typeof e=="object"&&"type"in e}const h0=[],DA=!0,Nf=!1,LA="skip";function p0(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const l=ku(s),a=r?-1:1;c(e,void 0,[])();function c(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const v=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(d.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=h0,k,b,E;if((!t||l(d,f,p[p.length-1]||void 0))&&(v=MA(n(d,p)),v[0]===Nf))return v;if("children"in d&&d.children){const j=d;if(j.children&&v[0]!==LA)for(b=(r?j.children.length:-1)+a,E=p.concat(j);b>-1&&b<j.children.length;){const A=j.children[b];if(k=c(A,b,E)(),k[0]===Nf)return k;b=typeof k[1]=="number"?k[1]:b+a}}return v}}}function MA(e){return Array.isArray(e)?e:typeof e=="number"?[DA,e]:e==null?h0:[e]}function hh(e,t,n,r){let s,l,a;typeof t=="function"&&typeof n!="function"?(l=void 0,a=t,s=n):(l=t,a=n,s=r),p0(e,l,c,s);function c(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return a(d,m,p)}}const Af={}.hasOwnProperty,$A={};function FA(e,t){const n=t||$A,r=new Map,s=new Map,l=new Map,a={...kA,...n.handlers},c={all:f,applyData:UA,definitionById:r,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:a,one:d,options:n,patch:zA,wrap:WA};return hh(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:s,y=String(p.identifier).toUpperCase();m.has(y)||m.set(y,p)}}),c;function d(p,m){const y=p.type,v=c.handlers[y];if(Af.call(c.handlers,y)&&v)return v(c,p,m);if(c.options.passThrough&&c.options.passThrough.includes(y)){if("children"in p){const{children:b,...E}=p,j=Qa(E);return j.children=c.all(p),j}return Qa(p)}return(c.options.unknownHandler||BA)(c,p,m)}function f(p){const m=[];if("children"in p){const y=p.children;let v=-1;for(;++v<y.length;){const k=c.one(y[v],p);if(k){if(v&&y[v-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=Uv(k.value)),!Array.isArray(k)&&k.type==="element")){const b=k.children[0];b&&b.type==="text"&&(b.value=Uv(b.value))}Array.isArray(k)?m.push(...k):m.push(k)}}}return m}}function zA(e,t){e.position&&(t.position=Tj(e))}function UA(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&l&&Object.assign(n.properties,Qa(l)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function BA(e,t){const n=t.data||{},r="value"in t&&!(Af.call(n,"hProperties")||Af.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function WA(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Uv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Bv(e,t){const n=FA(e,t),r=n.one(e,void 0),s=NA(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function HA(e,t){return e&&"run"in e?async function(n,r){const s=Bv(n,{file:r,...t});await e.run(s,r)}:function(n,r){return Bv(n,{file:r,...e||t})}}function Wv(e){if(e)throw e}var Pd,Hv;function VA(){if(Hv)return Pd;Hv=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},l=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var y;for(y in f);return typeof y>"u"||e.call(f,y)},a=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},c=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return Pd=function d(){var f,p,m,y,v,k,b=arguments[0],E=1,j=arguments.length,A=!1;for(typeof b=="boolean"&&(A=b,b=arguments[1]||{},E=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});E<j;++E)if(f=arguments[E],f!=null)for(p in f)m=c(b,p),y=c(f,p),b!==y&&(A&&y&&(l(y)||(v=s(y)))?(v?(v=!1,k=m&&s(m)?m:[]):k=m&&l(m)?m:{},a(b,{name:p,newValue:d(A,k,y)})):typeof y<"u"&&a(b,{name:p,newValue:y}));return b},Pd}var qA=VA();const Rd=Ds(qA);function If(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function YA(){const e=[],t={run:n,use:r};return t;function n(...s){let l=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);c(null,...s);function c(d,...f){const p=e[++l];let m=-1;if(d){a(d);return}for(;++m<s.length;)(f[m]===null||f[m]===void 0)&&(f[m]=s[m]);s=f,p?KA(p,c)(...f):a(null,...f)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function KA(e,t){let n;return r;function r(...a){const c=e.length>a.length;let d;c&&a.push(s);try{d=e.apply(this,a)}catch(f){const p=f;if(c&&n)throw p;return s(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(l,s):d instanceof Error?s(d):l(d))}function s(a,...c){n||(n=!0,t(a,...c))}function l(a){s(null,a)}}const nr={basename:GA,dirname:JA,extname:QA,join:XA,sep:"/"};function GA(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');dl(e);let n=0,r=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else r<0&&(l=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,c=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else a<0&&(l=!0,a=s+1),c>-1&&(e.codePointAt(s)===t.codePointAt(c--)?c<0&&(r=s):(c=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function JA(e){if(dl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function QA(e){dl(e);let t=e.length,n=-1,r=0,s=-1,l=0,a;for(;t--;){const c=e.codePointAt(t);if(c===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),c===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function XA(...e){let t=-1,n;for(;++t<e.length;)dl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ZA(n)}function ZA(e){dl(e);const t=e.codePointAt(0)===47;let n=eI(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function eI(e,t){let n="",r=0,s=-1,l=0,a=-1,c,d;for(;++a<=e.length;){if(a<e.length)c=e.codePointAt(a);else{if(c===47)break;c=47}if(c===47){if(!(s===a-1||l===1))if(s!==a-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=a,l=0;continue}}else if(n.length>0){n="",r=0,s=a,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,l=0}else c===46&&l>-1?l++:l=-1}return n}function dl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const tI={cwd:nI};function nI(){return"/"}function Pf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function rI(e){if(typeof e=="string")e=new URL(e);else if(!Pf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return iI(e)}function iI(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Od=["history","path","basename","stem","extname","dirname"];class m0{constructor(t){let n;t?Pf(t)?n={path:t}:typeof t=="string"||sI(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":tI.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Od.length;){const l=Od[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)Od.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?nr.basename(this.path):void 0}set basename(t){Ld(t,"basename"),Dd(t,"basename"),this.path=nr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?nr.dirname(this.path):void 0}set dirname(t){Vv(this.basename,"dirname"),this.path=nr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?nr.extname(this.path):void 0}set extname(t){if(Dd(t,"extname"),Vv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Pf(t)&&(t=rI(t)),Ld(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?nr.basename(this.path,this.extname):void 0}set stem(t){Ld(t,"stem"),Dd(t,"stem"),this.path=nr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Lt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Dd(e,t){if(e&&e.includes(nr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+nr.sep+"`")}function Ld(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Vv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function sI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const oI=(function(e){const r=this.constructor.prototype,s=r[e],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),lI={}.hasOwnProperty;class ph extends oI{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=YA()}copy(){const t=new ph;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Rd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Fd("data",this.frozen),this.namespace[t]=n,this):lI.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ia(t),r=this.parser||this.Parser;return Md("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Md("process",this.parser||this.Parser),$d("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(l,a){const c=Ia(t),d=r.parse(c);r.run(d,c,function(p,m,y){if(p||!m||!y)return f(p);const v=m,k=r.stringify(v,y);cI(k)?y.value=k:y.result=k,f(p,y)});function f(p,m){p||!m?a(p):l?l(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),Md("processSync",this.parser||this.Parser),$d("processSync",this.compiler||this.Compiler),this.process(t,s),Yv("processSync","process",n),r;function s(l,a){n=!0,Wv(l),r=a}}run(t,n,r){qv(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(a,c){const d=Ia(n);s.run(t,d,f);function f(p,m,y){const v=m||t;p?c(p):a?a(v):r(void 0,v,y)}}}runSync(t,n){let r=!1,s;return this.run(t,n,l),Yv("runSync","run",r),s;function l(a,c){Wv(a),s=c,r=!0}}stringify(t,n){this.freeze();const r=Ia(n),s=this.compiler||this.Compiler;return $d("stringify",s),qv(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Fd("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(s.settings=Rd(!0,s.settings,f.settings))}function c(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];l(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,y=-1;for(;++m<r.length;)if(r[m][0]===f){y=m;break}if(y===-1)r.push([f,...p]);else if(p.length>0){let[v,...k]=p;const b=r[y][1];If(b)&&If(v)&&(v=Rd(!0,b,v)),r[y]=[f,v,...k]}}}}const aI=new ph().freeze();function Md(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function $d(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qv(e){if(!If(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Yv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ia(e){return uI(e)?e:new m0(e)}function uI(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function cI(e){return typeof e=="string"||dI(e)}function dI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const fI="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Kv=[],Gv={allowDangerousHtml:!0},hI=/^(https?|ircs?|mailto|xmpp)$/i,pI=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function mI(e){const t=gI(e),n=vI(e);return yI(t.runSync(t.parse(n),n),e)}function gI(e){const t=e.rehypePlugins||Kv,n=e.remarkPlugins||Kv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Gv}:Gv;return aI().use(JN).use(n).use(HA,r).use(t)}function vI(e){const t=e.children||"",n=new m0;return typeof t=="string"&&(n.value=t),n}function yI(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,l=t.disallowedElements,a=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||wI;for(const p of pI)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+fI+p.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),hh(e,f),Rj(e,{Fragment:x.Fragment,components:s,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function f(p,m,y){if(p.type==="raw"&&y&&typeof m=="number")return a?y.children.splice(m,1):y.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let v;for(v in Nd)if(Object.hasOwn(Nd,v)&&Object.hasOwn(p.properties,v)){const k=p.properties[v],b=Nd[v];(b===null||b.includes(p.tagName))&&(p.properties[v]=d(String(k||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):l?l.includes(p.tagName):!1;if(!v&&r&&typeof m=="number"&&(v=!r(p,m,y)),v&&y&&typeof m=="number")return c&&p.children?y.children.splice(m,1,...p.children):y.children.splice(m,1),m}}}function wI(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||hI.test(e.slice(0,t))?e:""}function Jv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function xI(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function bI(e,t,n){const s=ku((n||{}).ignore||[]),l=kI(t);let a=-1;for(;++a<l.length;)p0(e,"text",c);function c(f,p){let m=-1,y;for(;++m<p.length;){const v=p[m],k=y?y.children:void 0;if(s(v,k?k.indexOf(v):void 0,y))return;y=v}if(y)return d(f,p)}function d(f,p){const m=p[p.length-1],y=l[a][0],v=l[a][1];let k=0;const E=m.children.indexOf(f);let j=!1,A=[];y.lastIndex=0;let N=y.exec(f.value);for(;N;){const U=N.index,K={index:N.index,input:N.input,stack:[...p,f]};let L=v(...N,K);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?y.lastIndex=U+1:(k!==U&&A.push({type:"text",value:f.value.slice(k,U)}),Array.isArray(L)?A.push(...L):L&&A.push(L),k=U+N[0].length,j=!0),!y.global)break;N=y.exec(f.value)}return j?(k<f.value.length&&A.push({type:"text",value:f.value.slice(k)}),m.children.splice(E,1,...A)):A=[f],E+A.length}}function kI(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([SI(s[0]),_I(s[1])])}return t}function SI(e){return typeof e=="string"?new RegExp(xI(e),"g"):e}function _I(e){return typeof e=="function"?e:function(){return e}}const zd="phrasing",Ud=["autolink","link","image","label"];function EI(){return{transforms:[PI],enter:{literalAutolink:jI,literalAutolinkEmail:Bd,literalAutolinkHttp:Bd,literalAutolinkWww:Bd},exit:{literalAutolink:II,literalAutolinkEmail:AI,literalAutolinkHttp:TI,literalAutolinkWww:NI}}}function CI(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:zd,notInConstruct:Ud},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:zd,notInConstruct:Ud},{character:":",before:"[ps]",after:"\\/",inConstruct:zd,notInConstruct:Ud}]}}function jI(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Bd(e){this.config.enter.autolinkProtocol.call(this,e)}function TI(e){this.config.exit.autolinkProtocol.call(this,e)}function NI(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function AI(e){this.config.exit.autolinkEmail.call(this,e)}function II(e){this.exit(e)}function PI(e){bI(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,RI],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),OI]],{ignore:["link","linkReference"]})}function RI(e,t,n,r,s){let l="";if(!g0(s)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!DI(n)))return!1;const a=LI(n+r);if(!a[0])return!1;const c={type:"link",title:null,url:l+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[c,{type:"text",value:a[1]}]:c}function OI(e,t,n,r){return!g0(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function DI(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function LI(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=Jv(e,"(");let l=Jv(e,")");for(;r!==-1&&s>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function g0(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Mi(n)||wu(n))&&(!t||n!==47)}v0.peek=VI;function MI(){this.buffer()}function $I(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function FI(){this.buffer()}function zI(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function UI(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function BI(e){this.exit(e)}function WI(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function HI(e){this.exit(e)}function VI(){return"["}function v0(e,t,n,r){const s=n.createTracker(r);let l=s.move("[^");const a=n.enter("footnoteReference"),c=n.enter("reference");return l+=s.move(n.safe(n.associationId(e),{after:"]",before:l})),c(),a(),l+=s.move("]"),l}function qI(){return{enter:{gfmFootnoteCallString:MI,gfmFootnoteCall:$I,gfmFootnoteDefinitionLabelString:FI,gfmFootnoteDefinition:zI},exit:{gfmFootnoteCallString:UI,gfmFootnoteCall:BI,gfmFootnoteDefinitionLabelString:WI,gfmFootnoteDefinition:HI}}}function YI(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:v0},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,l,a){const c=l.createTracker(a);let d=c.move("[^");const f=l.enter("footnoteDefinition"),p=l.enter("label");return d+=c.move(l.safe(l.associationId(r),{before:d,after:"]"})),p(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,c.current()),t?y0:KI))),f(),d}}function KI(e,t,n){return t===0?e:y0(e,t,n)}function y0(e,t,n){return(n?"":"    ")+e}const GI=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];w0.peek=eP;function JI(){return{canContainEols:["delete"],enter:{strikethrough:XI},exit:{strikethrough:ZI}}}function QI(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:GI}],handlers:{delete:w0}}}function XI(e){this.enter({type:"delete",children:[]},e)}function ZI(e){this.exit(e)}function w0(e,t,n,r){const s=n.createTracker(r),l=n.enter("strikethrough");let a=s.move("~~");return a+=n.containerPhrasing(e,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),l(),a}function eP(){return"~"}function tP(e){return e.length}function nP(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||tP,l=[],a=[],c=[],d=[];let f=0,p=-1;for(;++p<e.length;){const b=[],E=[];let j=-1;for(e[p].length>f&&(f=e[p].length);++j<e[p].length;){const A=rP(e[p][j]);if(n.alignDelimiters!==!1){const N=s(A);E[j]=N,(d[j]===void 0||N>d[j])&&(d[j]=N)}b.push(A)}a[p]=b,c[p]=E}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<f;)l[m]=Qv(r[m]);else{const b=Qv(r);for(;++m<f;)l[m]=b}m=-1;const y=[],v=[];for(;++m<f;){const b=l[m];let E="",j="";b===99?(E=":",j=":"):b===108?E=":":b===114&&(j=":");let A=n.alignDelimiters===!1?1:Math.max(1,d[m]-E.length-j.length);const N=E+"-".repeat(A)+j;n.alignDelimiters!==!1&&(A=E.length+A+j.length,A>d[m]&&(d[m]=A),v[m]=A),y[m]=N}a.splice(1,0,y),c.splice(1,0,v),p=-1;const k=[];for(;++p<a.length;){const b=a[p],E=c[p];m=-1;const j=[];for(;++m<f;){const A=b[m]||"";let N="",U="";if(n.alignDelimiters!==!1){const K=d[m]-(E[m]||0),L=l[m];L===114?N=" ".repeat(K):L===99?K%2?(N=" ".repeat(K/2+.5),U=" ".repeat(K/2-.5)):(N=" ".repeat(K/2),U=N):U=" ".repeat(K)}n.delimiterStart!==!1&&!m&&j.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&A==="")&&(n.delimiterStart!==!1||m)&&j.push(" "),n.alignDelimiters!==!1&&j.push(N),j.push(A),n.alignDelimiters!==!1&&j.push(U),n.padding!==!1&&j.push(" "),(n.delimiterEnd!==!1||m!==f-1)&&j.push("|")}k.push(n.delimiterEnd===!1?j.join("").replace(/ +$/,""):j.join(""))}return k.join(`
`)}function rP(e){return e==null?"":String(e)}function Qv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function iP(e,t,n,r){const s=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const a=n.indentLines(n.containerFlow(e,l.current()),sP);return s(),a}function sP(e,t,n){return">"+(n?"":" ")+e}function oP(e,t){return Xv(e,t.inConstruct,!0)&&!Xv(e,t.notInConstruct,!1)}function Xv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Zv(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&oP(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function lP(e,t){const n=String(e);let r=n.indexOf(t),s=r,l=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++l>a&&(a=l):l=1,s=r+t.length,r=n.indexOf(t,s);return a}function aP(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function uP(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function cP(e,t,n,r){const s=uP(n),l=e.value||"",a=s==="`"?"GraveAccent":"Tilde";if(aP(e,n)){const m=n.enter("codeIndented"),y=n.indentLines(l,dP);return m(),y}const c=n.createTracker(r),d=s.repeat(Math.max(lP(l,s)+1,3)),f=n.enter("codeFenced");let p=c.move(d);if(e.lang){const m=n.enter(`codeFencedLang${a}`);p+=c.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...c.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${a}`);p+=c.move(" "),p+=c.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...c.current()})),m()}return p+=c.move(`
`),l&&(p+=c.move(l+`
`)),p+=c.move(d),f(),p}function dP(e,t,n){return(n?"":"    ")+e}function mh(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function fP(e,t,n,r){const s=mh(n),l=s==='"'?"Quote":"Apostrophe",a=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${l}`),f+=d.move(" "+s),f+=d.move(n.safe(e.title,{before:f,after:s,...d.current()})),f+=d.move(s),c()),a(),f}function hP(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Zo(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Xa(e,t,n){const r=Os(e),s=Os(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}x0.peek=pP;function x0(e,t,n,r){const s=hP(n),l=n.enter("emphasis"),a=n.createTracker(r),c=a.move(s);let d=a.move(n.containerPhrasing(e,{after:s,before:c,...a.current()}));const f=d.charCodeAt(0),p=Xa(r.before.charCodeAt(r.before.length-1),f,s);p.inside&&(d=Zo(f)+d.slice(1));const m=d.charCodeAt(d.length-1),y=Xa(r.after.charCodeAt(0),m,s);y.inside&&(d=d.slice(0,-1)+Zo(m));const v=a.move(s);return l(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+v}function pP(e,t,n){return n.options.emphasis||"*"}function mP(e,t){let n=!1;return hh(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Nf}),!!((!e.depth||e.depth<3)&&oh(e)&&(t.options.setext||n))}function gP(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(mP(e,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),y=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return m(),p(),y+`
`+(s===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const a="#".repeat(s),c=n.enter("headingAtx"),d=n.enter("phrasing");l.move(a+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(f)&&(f=Zo(f.charCodeAt(0))+f.slice(1)),f=f?a+" "+f:a,n.options.closeAtx&&(f+=" "+a),d(),c(),f}b0.peek=vP;function b0(e){return e.value||""}function vP(){return"<"}k0.peek=yP;function k0(e,t,n,r){const s=mh(n),l=s==='"'?"Quote":"Apostrophe",a=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${l}`),f+=d.move(" "+s),f+=d.move(n.safe(e.title,{before:f,after:s,...d.current()})),f+=d.move(s),c()),f+=d.move(")"),a(),f}function yP(){return"!"}S0.peek=wP;function S0(e,t,n,r){const s=e.referenceType,l=n.enter("imageReference");let a=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),a();const p=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return a(),n.stack=p,l(),s==="full"||!f||f!==m?d+=c.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function wP(){return"!"}_0.peek=xP;function _0(e,t,n){let r=e.value||"",s="`",l=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const a=n.unsafe[l],c=n.compilePattern(a);let d;if(a.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return s+r+s}function xP(){return"`"}function E0(e,t){const n=oh(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}C0.peek=bP;function C0(e,t,n,r){const s=mh(n),l=s==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let c,d;if(E0(e,n)){const p=n.stack;n.stack=[],c=n.enter("autolink");let m=a.move("<");return m+=a.move(n.containerPhrasing(e,{before:m,after:">",...a.current()})),m+=a.move(">"),c(),n.stack=p,m}c=n.enter("link"),d=n.enter("label");let f=a.move("[");return f+=a.move(n.containerPhrasing(e,{before:f,after:"](",...a.current()})),f+=a.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=a.move("<"),f+=a.move(n.safe(e.url,{before:f,after:">",...a.current()})),f+=a.move(">")):(d=n.enter("destinationRaw"),f+=a.move(n.safe(e.url,{before:f,after:e.title?" ":")",...a.current()}))),d(),e.title&&(d=n.enter(`title${l}`),f+=a.move(" "+s),f+=a.move(n.safe(e.title,{before:f,after:s,...a.current()})),f+=a.move(s),d()),f+=a.move(")"),c(),f}function bP(e,t,n){return E0(e,n)?"<":"["}j0.peek=kP;function j0(e,t,n,r){const s=e.referenceType,l=n.enter("linkReference");let a=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),a();const p=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return a(),n.stack=p,l(),s==="full"||!f||f!==m?d+=c.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function kP(){return"["}function gh(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function SP(e){const t=gh(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function _P(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function T0(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function EP(e,t,n,r){const s=n.enter("list"),l=n.bulletCurrent;let a=e.ordered?_P(n):gh(n);const c=e.ordered?a==="."?")":".":SP(n);let d=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),T0(n)===a&&p){let m=-1;for(;++m<e.children.length;){const y=e.children[m];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(a=c),n.bulletCurrent=a;const f=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=l,s(),f}function CP(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function jP(e,t,n,r){const s=CP(n);let l=n.bulletCurrent||gh(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let a=l.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const c=n.createTracker(r);c.move(l+" ".repeat(a-l.length)),c.shift(a);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),p);return d(),f;function p(m,y,v){return y?(v?"":" ".repeat(a))+m:(v?l:l+" ".repeat(a-l.length))+m}}function TP(e,t,n,r){const s=n.enter("paragraph"),l=n.enter("phrasing"),a=n.containerPhrasing(e,r);return l(),s(),a}const NP=ku(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function AP(e,t,n,r){return(e.children.some(function(a){return NP(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function IP(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}N0.peek=PP;function N0(e,t,n,r){const s=IP(n),l=n.enter("strong"),a=n.createTracker(r),c=a.move(s+s);let d=a.move(n.containerPhrasing(e,{after:s,before:c,...a.current()}));const f=d.charCodeAt(0),p=Xa(r.before.charCodeAt(r.before.length-1),f,s);p.inside&&(d=Zo(f)+d.slice(1));const m=d.charCodeAt(d.length-1),y=Xa(r.after.charCodeAt(0),m,s);y.inside&&(d=d.slice(0,-1)+Zo(m));const v=a.move(s+s);return l(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+v}function PP(e,t,n){return n.options.strong||"*"}function RP(e,t,n,r){return n.safe(e.value,r)}function OP(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function DP(e,t,n){const r=(T0(n)+(n.options.ruleSpaces?" ":"")).repeat(OP(n));return n.options.ruleSpaces?r.slice(0,-1):r}const A0={blockquote:iP,break:Zv,code:cP,definition:fP,emphasis:x0,hardBreak:Zv,heading:gP,html:b0,image:k0,imageReference:S0,inlineCode:_0,link:C0,linkReference:j0,list:EP,listItem:jP,paragraph:TP,root:AP,strong:N0,text:RP,thematicBreak:DP};function LP(){return{enter:{table:MP,tableData:ey,tableHeader:ey,tableRow:FP},exit:{codeText:zP,table:$P,tableData:Wd,tableHeader:Wd,tableRow:Wd}}}function MP(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function $P(e){this.exit(e),this.data.inTable=void 0}function FP(e){this.enter({type:"tableRow",children:[]},e)}function Wd(e){this.exit(e)}function ey(e){this.enter({type:"tableCell",children:[]},e)}function zP(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,UP));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function UP(e,t){return t==="|"?t:e}function BP(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:a,tableCell:d,tableRow:c}};function a(v,k,b,E){return f(p(v,b,E),v.align)}function c(v,k,b,E){const j=m(v,b,E),A=f([j]);return A.slice(0,A.indexOf(`
`))}function d(v,k,b,E){const j=b.enter("tableCell"),A=b.enter("phrasing"),N=b.containerPhrasing(v,{...E,before:l,after:l});return A(),j(),N}function f(v,k){return nP(v,{align:k,alignDelimiters:r,padding:n,stringLength:s})}function p(v,k,b){const E=v.children;let j=-1;const A=[],N=k.enter("table");for(;++j<E.length;)A[j]=m(E[j],k,b);return N(),A}function m(v,k,b){const E=v.children;let j=-1;const A=[],N=k.enter("tableRow");for(;++j<E.length;)A[j]=d(E[j],v,k,b);return N(),A}function y(v,k,b){let E=A0.inlineCode(v,k,b);return b.stack.includes("tableCell")&&(E=E.replace(/\|/g,"\\$&")),E}}function WP(){return{exit:{taskListCheckValueChecked:ty,taskListCheckValueUnchecked:ty,paragraph:VP}}}function HP(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:qP}}}function ty(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function VP(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let l=-1,a;for(;++l<s.length;){const c=s[l];if(c.type==="paragraph"){a=c;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function qP(e,t,n,r){const s=e.children[0],l=typeof e.checked=="boolean"&&s&&s.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);l&&c.move(a);let d=A0.listItem(e,t,n,{...r,...c.current()});return l&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(p){return p+a}}function YP(){return[EI(),qI(),JI(),LP(),WP()]}function KP(e){return{extensions:[CI(),YI(e),QI(),BP(e),HP()]}}const GP={tokenize:tR,partial:!0},I0={tokenize:nR,partial:!0},P0={tokenize:rR,partial:!0},R0={tokenize:iR,partial:!0},JP={tokenize:sR,partial:!0},O0={name:"wwwAutolink",tokenize:ZP,previous:L0},D0={name:"protocolAutolink",tokenize:eR,previous:M0},Cr={name:"emailAutolink",tokenize:XP,previous:$0},or={};function QP(){return{text:or}}let ji=48;for(;ji<123;)or[ji]=Cr,ji++,ji===58?ji=65:ji===91&&(ji=97);or[43]=Cr;or[45]=Cr;or[46]=Cr;or[95]=Cr;or[72]=[Cr,D0];or[104]=[Cr,D0];or[87]=[Cr,O0];or[119]=[Cr,O0];function XP(e,t,n){const r=this;let s,l;return a;function a(m){return!Rf(m)||!$0.call(r,r.previous)||vh(r.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(m))}function c(m){return Rf(m)?(e.consume(m),c):m===64?(e.consume(m),d):n(m)}function d(m){return m===46?e.check(JP,p,f)(m):m===45||m===95||Dt(m)?(l=!0,e.consume(m),d):p(m)}function f(m){return e.consume(m),s=!0,d}function p(m){return l&&s&&Ut(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function ZP(e,t,n){const r=this;return s;function s(a){return a!==87&&a!==119||!L0.call(r,r.previous)||vh(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(GP,e.attempt(I0,e.attempt(P0,l),n),n)(a))}function l(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function eR(e,t,n){const r=this;let s="",l=!1;return a;function a(m){return(m===72||m===104)&&M0.call(r,r.previous)&&!vh(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(m),e.consume(m),c):n(m)}function c(m){if(Ut(m)&&s.length<5)return s+=String.fromCodePoint(m),e.consume(m),c;if(m===58){const y=s.toLowerCase();if(y==="http"||y==="https")return e.consume(m),d}return n(m)}function d(m){return m===47?(e.consume(m),l?f:(l=!0,d)):n(m)}function f(m){return m===null||Ga(m)||Ue(m)||Mi(m)||wu(m)?n(m):e.attempt(I0,e.attempt(P0,p),n)(m)}function p(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function tR(e,t,n){let r=0;return s;function s(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),s):a===46&&r===3?(e.consume(a),l):n(a)}function l(a){return a===null?n(a):t(a)}}function nR(e,t,n){let r,s,l;return a;function a(f){return f===46||f===95?e.check(R0,d,c)(f):f===null||Ue(f)||Mi(f)||f!==45&&wu(f)?d(f):(l=!0,e.consume(f),a)}function c(f){return f===95?r=!0:(s=r,r=void 0),e.consume(f),a}function d(f){return s||r||!l?n(f):t(f)}}function rR(e,t){let n=0,r=0;return s;function s(a){return a===40?(n++,e.consume(a),s):a===41&&r<n?l(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(R0,t,l)(a):a===null||Ue(a)||Mi(a)?t(a):(e.consume(a),s)}function l(a){return a===41&&r++,e.consume(a),s}}function iR(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),l):c===93?(e.consume(c),s):c===60||c===null||Ue(c)||Mi(c)?t(c):n(c)}function s(c){return c===null||c===40||c===91||Ue(c)||Mi(c)?t(c):r(c)}function l(c){return Ut(c)?a(c):n(c)}function a(c){return c===59?(e.consume(c),r):Ut(c)?(e.consume(c),a):n(c)}}function sR(e,t,n){return r;function r(l){return e.consume(l),s}function s(l){return Dt(l)?n(l):t(l)}}function L0(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ue(e)}function M0(e){return!Ut(e)}function $0(e){return!(e===47||Rf(e))}function Rf(e){return e===43||e===45||e===46||e===95||Dt(e)}function vh(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const oR={tokenize:pR,partial:!0};function lR(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:dR,continuation:{tokenize:fR},exit:hR}},text:{91:{name:"gfmFootnoteCall",tokenize:cR},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aR,resolveTo:uR}}}}function aR(e,t,n){const r=this;let s=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;s--;){const d=r.events[s][1];if(d.type==="labelImage"){a=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!a||!a._balanced)return n(d);const f=Wn(r.sliceSerialize({start:a.end,end:r.now()}));return f.codePointAt(0)!==94||!l.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function uR(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",l,t],["enter",a,t],["exit",a,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function cR(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,a;return c;function c(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),d}function d(m){return m!==94?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(m){if(l>999||m===93&&!a||m===null||m===91||Ue(m))return n(m);if(m===93){e.exit("chunkString");const y=e.exit("gfmFootnoteCallString");return s.includes(Wn(r.sliceSerialize(y)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return Ue(m)||(a=!0),l++,e.consume(m),m===92?p:f}function p(m){return m===91||m===92||m===93?(e.consume(m),l++,f):f(m)}}function dR(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,a=0,c;return d;function d(k){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(k){return k===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(k)}function p(k){if(a>999||k===93&&!c||k===null||k===91||Ue(k))return n(k);if(k===93){e.exit("chunkString");const b=e.exit("gfmFootnoteDefinitionLabelString");return l=Wn(r.sliceSerialize(b)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),y}return Ue(k)||(c=!0),a++,e.consume(k),k===92?m:p}function m(k){return k===91||k===92||k===93?(e.consume(k),a++,p):p(k)}function y(k){return k===58?(e.enter("definitionMarker"),e.consume(k),e.exit("definitionMarker"),s.includes(l)||s.push(l),Oe(e,v,"gfmFootnoteDefinitionWhitespace")):n(k)}function v(k){return t(k)}}function fR(e,t,n){return e.check(cl,t,e.attempt(oR,t,n))}function hR(e){e.exit("gfmFootnoteDefinition")}function pR(e,t,n){const r=this;return Oe(e,s,"gfmFootnoteDefinitionIndent",5);function s(l){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(l):n(l)}}function mR(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(a,c){let d=-1;for(;++d<a.length;)if(a[d][0]==="enter"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._close){let f=d;for(;f--;)if(a[f][0]==="exit"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._open&&a[d][1].end.offset-a[d][1].start.offset===a[f][1].end.offset-a[f][1].start.offset){a[d][1].type="strikethroughSequence",a[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},a[f][1].start),end:Object.assign({},a[d][1].end)},m={type:"strikethroughText",start:Object.assign({},a[f][1].end),end:Object.assign({},a[d][1].start)},y=[["enter",p,c],["enter",a[f][1],c],["exit",a[f][1],c],["enter",m,c]],v=c.parser.constructs.insideSpan.null;v&&dn(y,y.length,0,xu(v,a.slice(f+1,d),c)),dn(y,y.length,0,[["exit",m,c],["enter",a[d][1],c],["exit",a[d][1],c],["exit",p,c]]),dn(a,f-1,d-f+3,y),d=f+y.length-2;break}}for(d=-1;++d<a.length;)a[d][1].type==="strikethroughSequenceTemporary"&&(a[d][1].type="data");return a}function l(a,c,d){const f=this.previous,p=this.events;let m=0;return y;function y(k){return f===126&&p[p.length-1][1].type!=="characterEscape"?d(k):(a.enter("strikethroughSequenceTemporary"),v(k))}function v(k){const b=Os(f);if(k===126)return m>1?d(k):(a.consume(k),m++,v);if(m<2&&!n)return d(k);const E=a.exit("strikethroughSequenceTemporary"),j=Os(k);return E._open=!j||j===2&&!!b,E._close=!b||b===2&&!!j,c(k)}}}class gR{constructor(){this.map=[]}add(t,n,r){vR(this,t,n,r)}consume(t){if(this.map.sort(function(l,a){return l[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const l of s)t.push(l);s=r.pop()}this.map.length=0}}function vR(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function yR(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function wR(){return{flow:{null:{name:"table",tokenize:xR,resolveAll:bR}}}}function xR(e,t,n){const r=this;let s=0,l=0,a;return c;function c(D){let q=r.events.length-1;for(;q>-1;){const O=r.events[q][1].type;if(O==="lineEnding"||O==="linePrefix")q--;else break}const H=q>-1?r.events[q][1].type:null,Q=H==="tableHead"||H==="tableRow"?L:d;return Q===L&&r.parser.lazy[r.now().line]?n(D):Q(D)}function d(D){return e.enter("tableHead"),e.enter("tableRow"),f(D)}function f(D){return D===124||(a=!0,l+=1),p(D)}function p(D){return D===null?n(D):Ee(D)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),v):n(D):Pe(D)?Oe(e,p,"whitespace")(D):(l+=1,a&&(a=!1,s+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),a=!0,p):(e.enter("data"),m(D)))}function m(D){return D===null||D===124||Ue(D)?(e.exit("data"),p(D)):(e.consume(D),D===92?y:m)}function y(D){return D===92||D===124?(e.consume(D),m):m(D)}function v(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),a=!1,Pe(D)?Oe(e,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):k(D))}function k(D){return D===45||D===58?E(D):D===124?(a=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),b):K(D)}function b(D){return Pe(D)?Oe(e,E,"whitespace")(D):E(D)}function E(D){return D===58?(l+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),j):D===45?(l+=1,j(D)):D===null||Ee(D)?U(D):K(D)}function j(D){return D===45?(e.enter("tableDelimiterFiller"),A(D)):K(D)}function A(D){return D===45?(e.consume(D),A):D===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(D))}function N(D){return Pe(D)?Oe(e,U,"whitespace")(D):U(D)}function U(D){return D===124?k(D):D===null||Ee(D)?!a||s!==l?K(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):K(D)}function K(D){return n(D)}function L(D){return e.enter("tableRow"),Z(D)}function Z(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),Z):D===null||Ee(D)?(e.exit("tableRow"),t(D)):Pe(D)?Oe(e,Z,"whitespace")(D):(e.enter("data"),te(D))}function te(D){return D===null||D===124||Ue(D)?(e.exit("data"),Z(D)):(e.consume(D),D===92?J:te)}function J(D){return D===92||D===124?(e.consume(D),te):te(D)}}function bR(e,t){let n=-1,r=!0,s=0,l=[0,0,0,0],a=[0,0,0,0],c=!1,d=0,f,p,m;const y=new gR;for(;++n<e.length;){const v=e[n],k=v[1];v[0]==="enter"?k.type==="tableHead"?(c=!1,d!==0&&(ny(y,t,d,f,p),p=void 0,d=0),f={type:"table",start:Object.assign({},k.start),end:Object.assign({},k.end)},y.add(n,0,[["enter",f,t]])):k.type==="tableRow"||k.type==="tableDelimiterRow"?(r=!0,m=void 0,l=[0,0,0,0],a=[0,n+1,0,0],c&&(c=!1,p={type:"tableBody",start:Object.assign({},k.start),end:Object.assign({},k.end)},y.add(n,0,[["enter",p,t]])),s=k.type==="tableDelimiterRow"?2:p?3:1):s&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(l[1]!==0&&(a[0]=a[1],m=Pa(y,t,l,s,void 0,m),l=[0,0,0,0]),a[2]=n)):k.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(a[0]=a[1],m=Pa(y,t,l,s,void 0,m)),l=a,a=[l[1],n,0,0])):k.type==="tableHead"?(c=!0,d=n):k.type==="tableRow"||k.type==="tableDelimiterRow"?(d=n,l[1]!==0?(a[0]=a[1],m=Pa(y,t,l,s,n,m)):a[1]!==0&&(m=Pa(y,t,a,s,n,m)),s=0):s&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")&&(a[3]=n)}for(d!==0&&ny(y,t,d,f,p),y.consume(t.events),n=-1;++n<t.events.length;){const v=t.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=yR(t.events,n))}return e}function Pa(e,t,n,r,s,l){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(l.end=Object.assign({},js(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const d=js(t.events,n[1]);if(l={type:a,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const f=js(t.events,n[2]),p=js(t.events,n[3]),m={type:c,start:Object.assign({},f),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",m,t]]),r!==2){const y=t.events[n[2]],v=t.events[n[3]];if(y[1].end=Object.assign({},v[1].end),y[1].type="chunkText",y[1].contentType="text",n[3]>n[2]+1){const k=n[2]+1,b=n[3]-n[2]-1;e.add(k,b,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return s!==void 0&&(l.end=Object.assign({},js(t.events,s)),e.add(s,0,[["exit",l,t]]),l=void 0),l}function ny(e,t,n,r,s){const l=[],a=js(t.events,n);s&&(s.end=Object.assign({},a),l.push(["exit",s,t])),r.end=Object.assign({},a),l.push(["exit",r,t]),e.add(n+1,0,l)}function js(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const kR={name:"tasklistCheck",tokenize:_R};function SR(){return{text:{91:kR}}}function _R(e,t,n){const r=this;return s;function s(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),l)}function l(d){return Ue(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),a):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),a):n(d)}function a(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return Ee(d)?t(d):Pe(d)?e.check({tokenize:ER},t,n)(d):n(d)}}function ER(e,t,n){return Oe(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function CR(e){return Gw([QP(),lR(),mR(e),wR(),SR()])}const jR={};function TR(e){const t=this,n=e||jR,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(CR(n)),l.push(YP()),a.push(KP(n))}const NR={a:e=>x.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:"_blank",rel:"noreferrer"})};function el({content:e}){return e?x.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:x.jsx(mI,{remarkPlugins:[TR],components:NR,children:e})}):null}function ry(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\d+(\.\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\d+:)+\d+$/.test(t)){const r=t.split(":").map(s=>Number(s));return r.some(s=>Number.isNaN(s))?null:r.reduce((s,l)=>s*60+l,0)}const n=t.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,s=n[2]?Number(n[2]):0,l=n[3]?Number(n[3]):0;if(r||s||l)return r*3600+s*60+l}return null}function AR(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const s=new URL(`https://www.youtube-nocookie.com/embed/${r}`),l=ry(t.searchParams.get("start")??t.searchParams.get("t"));l!==null&&s.searchParams.set("start",String(l));const a=ry(t.searchParams.get("end"));a!==null&&s.searchParams.set("end",String(a));const c=t.searchParams.get("list");return c&&s.searchParams.set("list",c),s.toString()}catch{return null}}function yh({url:e,title:t,maxWidth:n=300,className:r}){const s=e.trim();if(!s)return null;const l=AR(s);return l?x.jsx("div",{className:tt("flex w-full justify-center",r),children:x.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:x.jsx("iframe",{src:l,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):x.jsx("div",{className:tt("flex w-full justify-center",r),children:x.jsx("a",{href:s,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function Za(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return Za(t,t);const s=Number(r[1]),l=Number(r[2]);return Number.isNaN(s)||Number.isNaN(l)?Za(t,t):(s*60+l)%1440}function Of(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,s=n.toString().padStart(2,"0"),l=r.toString().padStart(2,"0");return`${s}:${l}`}const IR={present:"Presente",absent:"Ausente",pending:"Pendiente"},PR={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},RR=["present","absent"],OR={present:"Han venido",absent:"Faltan"},DR={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},LR="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",MR="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",$R="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",FR="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",zR="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",UR="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",BR=[];function WR(e){return lt(e).locale("es").format("dddd, D [de] MMMM")}function HR(){const e=Ne(P=>P.sessions),t=Ne(P=>P.works),n=Ne(P=>P.objectives),r=Ne(P=>P.assistants),s=Ne(P=>P.setAttendanceActualStatus),l=Ne(P=>P.toggleSessionWorkCompletion),[a,c]=S.useState(new Set),d=S.useMemo(()=>[...e].sort((P,M)=>lt(P.date).valueOf()-lt(M.date).valueOf()),[e]),f=lt().format("YYYY-MM-DD"),p=S.useMemo(()=>d.find(P=>P.date>=f)??d[d.length-1],[d,f]),[m,y]=S.useState(p==null?void 0:p.id);S.useEffect(()=>{!m&&p&&y(p.id)},[m,p]);const v=S.useMemo(()=>d.find(P=>P.id===m)??p,[d,m,p]),k=S.useMemo(()=>new Map(n.map(M=>[M.id,M])),[n]),b=S.useMemo(()=>new Map(t.map(M=>[M.id,M])),[t]),E=S.useMemo(()=>Za(v==null?void 0:v.startTime,"18:30"),[v==null?void 0:v.startTime]),j=S.useMemo(()=>{if(!v)return new Map;let P=0;const M=new Map;return v.workItems.forEach(F=>{const W=b.get(F.workId),C=F.customDurationMinutes??(W==null?void 0:W.estimatedMinutes)??0,I=Of(E+P);M.set(F.id,{startLabel:I,duration:C}),P+=C}),M},[v,b,E]),A=S.useMemo(()=>r.filter(P=>P.active).slice().sort((P,M)=>P.name.localeCompare(M.name,"es",{sensitivity:"base"})),[r]),N=(v==null?void 0:v.attendance)??BR,U=S.useMemo(()=>{const P=new Map;N.forEach(W=>{P.set(W.assistantId,W)});let M=0;A.forEach(W=>{var C;((C=P.get(W.id))==null?void 0:C.actualStatus)==="present"&&(M+=1)});const F={present:M,absent:Math.max(A.length-M,0)};return{map:P,summary:F}},[N,A]),K=U.map,L=U.summary,Z=v?d.findIndex(P=>P.id===v.id):-1,te=Z>0,J=Z>=0&&Z<d.length-1,D=()=>{te&&y(d[Z-1].id)},q=()=>{J&&y(d[Z+1].id)},H=P=>{const M=P.target.value;if(!M)return;const F=d.find(W=>W.date===M);F&&y(F.id)},Q=d.length===0,O=P=>{c(M=>{const F=new Set(M);return F.has(P)?F.delete(P):F.add(P),F})},$=(P,M)=>{v&&s(v.id,P,M)};return x.jsxs("div",{className:"space-y-3 sm:space-y-6",children:[Q&&x.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[x.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:x.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:x.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:"Todavía no hay sesiones"}),x.jsx("p",{className:"max-w-md text-balance text-white/60",children:"Usa el planificador para crear tu primera sesión. Una vez guardada aparecerá aquí automáticamente."})]}),x.jsx(_s,{to:"/plan",className:"btn-primary",children:"Planificar sesión"})]}),v&&!Q&&x.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[x.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[x.jsx("span",{className:"sm:hidden",children:"Sesión"}),x.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),x.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:WR(v.date)}),x.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:v.title})]}),x.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[x.jsxs("div",{className:"flex items-center justify-between gap-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"Duración estimada"}),x.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[v.workItems.map(P=>{const M=b.get(P.workId);return P.customDurationMinutes??(M==null?void 0:M.estimatedMinutes)??0}).reduce((P,M)=>P+M,0)||0," ","min"]})]}),x.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[x.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),x.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:(v==null?void 0:v.date)??f,onChange:H})]})]})]}),x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx("button",{type:"button",onClick:D,disabled:!te,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"← Anterior"}),x.jsx("button",{type:"button",onClick:q,disabled:!J,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente →"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx(_s,{to:"/plan",className:"btn-primary h-9 rounded-2xl px-4 text-xs font-semibold sm:h-10 sm:text-sm",children:"Abrir planificador"}),x.jsx(_s,{to:`/plan?session=${v.id}`,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",children:"Editar sesión"})]})]}),v.description&&x.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:x.jsx(el,{content:v.description})}),x.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[x.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),x.jsx("div",{className:"space-y-3 sm:space-y-4",children:v.workItems.map(P=>{const M=b.get(P.workId),F=M?k.get(M.objectiveId):void 0,W=a.has(P.id),C=j.get(P.id),I=(C==null?void 0:C.startLabel)??Of(E),V=(C==null?void 0:C.duration)??P.customDurationMinutes??(M==null?void 0:M.estimatedMinutes)??0,T=(P.focusLabel??"").trim(),ae=T.length>0,fe=P.customDescriptionMarkdown??(M==null?void 0:M.descriptionMarkdown)??"",ue=fe.trim().length>0,be=((M==null?void 0:M.videoUrls)??[]).map(ce=>ce.trim()).filter(Boolean),ge=be.length>0,we=ue||ge;return x.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:F?{background:`linear-gradient(120deg, ${F.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:x.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:P.completed??!1,onChange:ce=>l(v.id,P.id,ce.target.checked)})}),x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"text-lg font-semibold text-white",children:[(M==null?void 0:M.name)??"Trabajo eliminado",ae?x.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",T]}):null]}),x.jsxs("p",{className:"text-sm text-white/60",children:[x.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:I}),x.jsx("span",{className:"mx-2 text-white/30",children:"·"}),x.jsxs("span",{children:[V," min"]})]})]}),x.jsx(kr,{objective:F,size:"sm"})]}),(we||ge)&&x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[we?x.jsxs("button",{type:"button",onClick:()=>O(P.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:tt("transition-transform",W?"rotate-90":"rotate-0"),children:"▶"}),W?"Ocultar detalles":"Ver detalles"]}):null,ge?x.jsxs("span",{children:[be.length," vídeo",be.length>1?"s":""]}):null]})]}),x.jsx("div",{className:tt("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",P.completed?"bg-white/20 text-white":""),children:P.order+1})]}),we&&W&&x.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[ue?x.jsx(el,{content:fe}):null,ge?x.jsx("div",{className:"space-y-3",children:be.map((ce,Fe)=>x.jsxs("div",{className:"space-y-2",children:[x.jsx(yh,{url:ce,title:`${(M==null?void 0:M.name)??"Trabajo"} vídeo ${Fe+1}`}),x.jsx("a",{href:ce,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${P.id}-video-${Fe}`))}):null]})]},P.id)})})]}),r.length===0?x.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"¿Quiénes participan?"}),x.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quién ha venido a clase en tiempo real."}),x.jsx(_s,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):A.length===0?x.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes están inactivos."}),x.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la sección de asistentes para poder marcar su asistencia."}),x.jsx(_s,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):x.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),x.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quién está presente en la sesión actual."})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:RR.map(P=>x.jsxs("span",{className:tt("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",DR[P]),children:[L[P]," ",OR[P]]},P))})]}),x.jsx("div",{className:"space-y-2",children:A.map(P=>{const M=K.get(P.id),F=(M==null?void 0:M.status)??"pending",W=(M==null?void 0:M.actualStatus)==="present",C=()=>$(P.id,W?"absent":"present");return x.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:P.name}),x.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsión"}),x.jsx("span",{className:tt("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",PR[F]),children:IR[F]}),x.jsx("span",{className:"hidden text-white/30 sm:inline",children:"·"}),x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),x.jsx("span",{className:tt("font-semibold",W?"text-emerald-200":"text-white/60"),children:W?"Presente":"No asistió"})]})]}),x.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[x.jsxs("button",{type:"button",onClick:C,"aria-pressed":W,"aria-label":`${W?"Desmarcar asistencia de":"Marcar asistencia de"} ${P.name}`,title:W?"Desmarcar asistencia":"Marcar como presente",className:tt(LR,W?MR:$R),children:[x.jsx("span",{className:tt(FR,W?zR:UR),children:W?x.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:x.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):x.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),x.jsx("span",{children:W?"Ha asistido":"Marcar asistencia"})]}),x.jsx("span",{className:tt("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",W?"text-emerald-200":"text-white/40"),children:W?"PRESENTE":"AUSENTE"})]})]})},P.id)})})]})]})]})}function VR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const _u=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Us(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function wh(e){return"nodeType"in e}function tn(e){var t,n;return e?Us(e)?e:wh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function xh(e){const{Document:t}=tn(e);return e instanceof t}function fl(e){return Us(e)?!1:e instanceof tn(e).HTMLElement}function F0(e){return e instanceof tn(e).SVGElement}function Bs(e){return e?Us(e)?e.document:wh(e)?xh(e)?e:fl(e)||F0(e)?e.ownerDocument:document:document:document}const ir=_u?S.useLayoutEffect:S.useEffect;function bh(e){const t=S.useRef(e);return ir(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function qR(){const e=S.useRef(null),t=S.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function tl(e,t){t===void 0&&(t=[e]);const n=S.useRef(e);return ir(()=>{n.current!==e&&(n.current=e)},t),n}function hl(e,t){const n=S.useRef();return S.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function eu(e){const t=bh(e),n=S.useRef(null),r=S.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Df(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let Hd={};function pl(e,t){return S.useMemo(()=>{if(t)return t;const n=Hd[e]==null?0:Hd[e]+1;return Hd[e]=n,e+"-"+n},[e,t])}function z0(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((l,a)=>{const c=Object.entries(a);for(const[d,f]of c){const p=l[d];p!=null&&(l[d]=p+e*f)}return l},{...t})}}const Is=z0(1),tu=z0(-1);function YR(e){return"clientX"in e&&"clientY"in e}function kh(e){if(!e)return!1;const{KeyboardEvent:t}=tn(e.target);return t&&e instanceof t}function KR(e){if(!e)return!1;const{TouchEvent:t}=tn(e.target);return t&&e instanceof t}function Lf(e){if(KR(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return YR(e)?{x:e.clientX,y:e.clientY}:null}const nl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[nl.Translate.toString(e),nl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),iy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function GR(e){return e.matches(iy)?e:e.querySelector(iy)}const JR={display:"none"};function QR(e){let{id:t,value:n}=e;return me.createElement("div",{id:t,style:JR},n)}function XR(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return me.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function ZR(){const[e,t]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const U0=S.createContext(null);function eO(e){const t=S.useContext(U0);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function tO(){const[e]=S.useState(()=>new Set),t=S.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[S.useCallback(r=>{let{type:s,event:l}=r;e.forEach(a=>{var c;return(c=a[s])==null?void 0:c.call(a,l)})},[e]),t]}const nO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},rO={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function iO(e){let{announcements:t=rO,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=nO}=e;const{announce:l,announcement:a}=ZR(),c=pl("DndLiveRegion"),[d,f]=S.useState(!1);if(S.useEffect(()=>{f(!0)},[]),eO(S.useMemo(()=>({onDragStart(m){let{active:y}=m;l(t.onDragStart({active:y}))},onDragMove(m){let{active:y,over:v}=m;t.onDragMove&&l(t.onDragMove({active:y,over:v}))},onDragOver(m){let{active:y,over:v}=m;l(t.onDragOver({active:y,over:v}))},onDragEnd(m){let{active:y,over:v}=m;l(t.onDragEnd({active:y,over:v}))},onDragCancel(m){let{active:y,over:v}=m;l(t.onDragCancel({active:y,over:v}))}}),[l,t])),!d)return null;const p=me.createElement(me.Fragment,null,me.createElement(QR,{id:r,value:s.draggable}),me.createElement(XR,{id:c,announcement:a}));return n?Ts.createPortal(p,n):p}var gt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(gt||(gt={}));function nu(){}const Hn=Object.freeze({x:0,y:0});function sO(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function lO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function aO(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function sy(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const uO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=sy(t,t.left,t.top),l=[];for(const a of r){const{id:c}=a,d=n.get(c);if(d){const f=sO(sy(d),s);l.push({id:c,data:{droppableContainer:a,value:f}})}}return l.sort(oO)};function cO(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),a=s-r,c=l-n;if(r<s&&n<l){const d=t.width*t.height,f=e.width*e.height,p=a*c,m=p/(d+f-p);return Number(m.toFixed(4))}return 0}const dO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const l of r){const{id:a}=l,c=n.get(a);if(c){const d=cO(c,t);d>0&&s.push({id:a,data:{droppableContainer:l,value:d}})}}return s.sort(lO)};function fO(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function B0(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Hn}function hO(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return s.reduce((a,c)=>({...a,top:a.top+e*c.y,bottom:a.bottom+e*c.y,left:a.left+e*c.x,right:a.right+e*c.x}),{...n})}}const pO=hO(1);function mO(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function gO(e,t,n){const r=mO(t);if(!r)return e;const{scaleX:s,scaleY:l,x:a,y:c}=r,d=e.left-a-(1-s)*parseFloat(n),f=e.top-c-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,m=l?e.height/l:e.height;return{width:p,height:m,top:f,right:d+p,bottom:f+m,left:d}}const vO={ignoreTransform:!1};function Ws(e,t){t===void 0&&(t=vO);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:p}=tn(e).getComputedStyle(e);f&&(n=gO(n,f,p))}const{top:r,left:s,width:l,height:a,bottom:c,right:d}=n;return{top:r,left:s,width:l,height:a,bottom:c,right:d}}function oy(e){return Ws(e,{ignoreTransform:!0})}function yO(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function wO(e,t){return t===void 0&&(t=tn(e).getComputedStyle(e)),t.position==="fixed"}function xO(e,t){t===void 0&&(t=tn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const l=t[s];return typeof l=="string"?n.test(l):!1})}function Sh(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(xh(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!fl(s)||F0(s)||n.includes(s))return n;const l=tn(e).getComputedStyle(s);return s!==e&&xO(s,l)&&n.push(s),wO(s,l)?n:r(s.parentNode)}return e?r(e):n}function W0(e){const[t]=Sh(e,1);return t??null}function Vd(e){return!_u||!e?null:Us(e)?e:wh(e)?xh(e)||e===Bs(e).scrollingElement?window:fl(e)?e:null:null}function H0(e){return Us(e)?e.scrollX:e.scrollLeft}function V0(e){return Us(e)?e.scrollY:e.scrollTop}function Mf(e){return{x:H0(e),y:V0(e)}}var kt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(kt||(kt={}));function q0(e){return!_u||!e?!1:e===document.scrollingElement}function Y0(e){const t={x:0,y:0},n=q0(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,c=e.scrollLeft>=r.x;return{isTop:s,isLeft:l,isBottom:a,isRight:c,maxScroll:r,minScroll:t}}const bO={x:.2,y:.2};function kO(e,t,n,r,s){let{top:l,left:a,right:c,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=bO);const{isTop:f,isBottom:p,isLeft:m,isRight:y}=Y0(e),v={x:0,y:0},k={x:0,y:0},b={height:t.height*s.y,width:t.width*s.x};return!f&&l<=t.top+b.height?(v.y=kt.Backward,k.y=r*Math.abs((t.top+b.height-l)/b.height)):!p&&d>=t.bottom-b.height&&(v.y=kt.Forward,k.y=r*Math.abs((t.bottom-b.height-d)/b.height)),!y&&c>=t.right-b.width?(v.x=kt.Forward,k.x=r*Math.abs((t.right-b.width-c)/b.width)):!m&&a<=t.left+b.width&&(v.x=kt.Backward,k.x=r*Math.abs((t.left+b.width-a)/b.width)),{direction:v,speed:k}}function SO(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:a}=window;return{top:0,left:0,right:l,bottom:a,width:l,height:a}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function K0(e){return e.reduce((t,n)=>Is(t,Mf(n)),Hn)}function _O(e){return e.reduce((t,n)=>t+H0(n),0)}function EO(e){return e.reduce((t,n)=>t+V0(n),0)}function CO(e,t){if(t===void 0&&(t=Ws),!e)return;const{top:n,left:r,bottom:s,right:l}=t(e);W0(e)&&(s<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const jO=[["x",["left","right"],_O],["y",["top","bottom"],EO]];class _h{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Sh(n),s=K0(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,a,c]of jO)for(const d of a)Object.defineProperty(this,d,{get:()=>{const f=c(r),p=s[l]-f;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function TO(e){const{EventTarget:t}=tn(e);return e instanceof t?e:Bs(e)}function qd(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var En;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(En||(En={}));function ly(e){e.preventDefault()}function NO(e){e.stopPropagation()}var Me;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Me||(Me={}));const G0={start:[Me.Space,Me.Enter],cancel:[Me.Esc],end:[Me.Space,Me.Enter,Me.Tab]},AO=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Me.Right:return{...n,x:n.x+25};case Me.Left:return{...n,x:n.x-25};case Me.Down:return{...n,y:n.y+25};case Me.Up:return{...n,y:n.y-25}}};class J0{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vo(Bs(n)),this.windowListeners=new Vo(tn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(En.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&CO(r),n(Hn)}handleKeyDown(t){if(kh(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:l=G0,coordinateGetter:a=AO,scrollBehavior:c="smooth"}=s,{code:d}=t;if(l.end.includes(d)){this.handleEnd(t);return}if(l.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:Hn;this.referenceCoordinates||(this.referenceCoordinates=p);const m=a(t,{active:n,context:r.current,currentCoordinates:p});if(m){const y=tu(m,p),v={x:0,y:0},{scrollableAncestors:k}=r.current;for(const b of k){const E=t.code,{isTop:j,isRight:A,isLeft:N,isBottom:U,maxScroll:K,minScroll:L}=Y0(b),Z=SO(b),te={x:Math.min(E===Me.Right?Z.right-Z.width/2:Z.right,Math.max(E===Me.Right?Z.left:Z.left+Z.width/2,m.x)),y:Math.min(E===Me.Down?Z.bottom-Z.height/2:Z.bottom,Math.max(E===Me.Down?Z.top:Z.top+Z.height/2,m.y))},J=E===Me.Right&&!A||E===Me.Left&&!N,D=E===Me.Down&&!U||E===Me.Up&&!j;if(J&&te.x!==m.x){const q=b.scrollLeft+y.x,H=E===Me.Right&&q<=K.x||E===Me.Left&&q>=L.x;if(H&&!y.y){b.scrollTo({left:q,behavior:c});return}H?v.x=b.scrollLeft-q:v.x=E===Me.Right?b.scrollLeft-K.x:b.scrollLeft-L.x,v.x&&b.scrollBy({left:-v.x,behavior:c});break}else if(D&&te.y!==m.y){const q=b.scrollTop+y.y,H=E===Me.Down&&q<=K.y||E===Me.Up&&q>=L.y;if(H&&!y.x){b.scrollTo({top:q,behavior:c});return}H?v.y=b.scrollTop-q:v.y=E===Me.Down?b.scrollTop-K.y:b.scrollTop-L.y,v.y&&b.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(t,Is(tu(m,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}J0.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=G0,onActivation:s}=t,{active:l}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const c=l.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function ay(e){return!!(e&&"distance"in e)}function uy(e){return!!(e&&"delay"in e)}class Eh{constructor(t,n,r){var s;r===void 0&&(r=TO(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:a}=l;this.props=t,this.events=n,this.document=Bs(a),this.documentListeners=new Vo(this.document),this.listeners=new Vo(r),this.windowListeners=new Vo(tn(a)),this.initialCoordinates=(s=Lf(l))!=null?s:Hn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.DragStart,ly),this.windowListeners.add(En.VisibilityChange,this.handleCancel),this.windowListeners.add(En.ContextMenu,ly),this.documentListeners.add(En.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(uy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ay(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(En.Click,NO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(En.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:l}=this,{onMove:a,options:{activationConstraint:c}}=l;if(!s)return;const d=(n=Lf(t))!=null?n:Hn,f=tu(s,d);if(!r&&c){if(ay(c)){if(c.tolerance!=null&&qd(f,c.tolerance))return this.handleCancel();if(qd(f,c.distance))return this.handleStart()}if(uy(c)&&qd(f,c.tolerance))return this.handleCancel();this.handlePending(c,f);return}t.cancelable&&t.preventDefault(),a(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Me.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const IO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Q0 extends Eh{constructor(t){const{event:n}=t,r=Bs(n.target);super(t,IO,r)}}Q0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const PO={move:{name:"mousemove"},end:{name:"mouseup"}};var $f;(function(e){e[e.RightClick=2]="RightClick"})($f||($f={}));class RO extends Eh{constructor(t){super(t,PO,Bs(t.event.target))}}RO.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===$f.RightClick?!1:(r==null||r({event:n}),!0)}}];const Yd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class OO extends Eh{constructor(t){super(t,Yd)}static setup(){return window.addEventListener(Yd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Yd.move.name,t)};function t(){}}}OO.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var qo;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(qo||(qo={}));var ru;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ru||(ru={}));function DO(e){let{acceleration:t,activator:n=qo.Pointer,canScroll:r,draggingRect:s,enabled:l,interval:a=5,order:c=ru.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:y}=e;const v=MO({delta:m,disabled:!l}),[k,b]=qR(),E=S.useRef({x:0,y:0}),j=S.useRef({x:0,y:0}),A=S.useMemo(()=>{switch(n){case qo.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case qo.DraggableRect:return s}},[n,s,d]),N=S.useRef(null),U=S.useCallback(()=>{const L=N.current;if(!L)return;const Z=E.current.x*j.current.x,te=E.current.y*j.current.y;L.scrollBy(Z,te)},[]),K=S.useMemo(()=>c===ru.TreeOrder?[...f].reverse():f,[c,f]);S.useEffect(()=>{if(!l||!f.length||!A){b();return}for(const L of K){if((r==null?void 0:r(L))===!1)continue;const Z=f.indexOf(L),te=p[Z];if(!te)continue;const{direction:J,speed:D}=kO(L,te,A,t,y);for(const q of["x","y"])v[q][J[q]]||(D[q]=0,J[q]=0);if(D.x>0||D.y>0){b(),N.current=L,k(U,a),E.current=D,j.current=J;return}}E.current={x:0,y:0},j.current={x:0,y:0},b()},[t,U,r,b,l,a,JSON.stringify(A),JSON.stringify(v),k,f,K,p,JSON.stringify(y)])}const LO={x:{[kt.Backward]:!1,[kt.Forward]:!1},y:{[kt.Backward]:!1,[kt.Forward]:!1}};function MO(e){let{delta:t,disabled:n}=e;const r=Df(t);return hl(s=>{if(n||!r||!s)return LO;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[kt.Backward]:s.x[kt.Backward]||l.x===-1,[kt.Forward]:s.x[kt.Forward]||l.x===1},y:{[kt.Backward]:s.y[kt.Backward]||l.y===-1,[kt.Forward]:s.y[kt.Forward]||l.y===1}}},[n,t,r])}function $O(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return hl(s=>{var l;return t==null?null:(l=r??s)!=null?l:null},[r,t])}function FO(e,t){return S.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,l=s.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...l]},[]),[e,t])}var rl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(rl||(rl={}));var Ff;(function(e){e.Optimized="optimized"})(Ff||(Ff={}));const cy=new Map;function zO(e,t){let{dragging:n,dependencies:r,config:s}=t;const[l,a]=S.useState(null),{frequency:c,measure:d,strategy:f}=s,p=S.useRef(e),m=E(),y=tl(m),v=S.useCallback(function(j){j===void 0&&(j=[]),!y.current&&a(A=>A===null?j:A.concat(j.filter(N=>!A.includes(N))))},[y]),k=S.useRef(null),b=hl(j=>{if(m&&!n)return cy;if(!j||j===cy||p.current!==e||l!=null){const A=new Map;for(let N of e){if(!N)continue;if(l&&l.length>0&&!l.includes(N.id)&&N.rect.current){A.set(N.id,N.rect.current);continue}const U=N.node.current,K=U?new _h(d(U),U):null;N.rect.current=K,K&&A.set(N.id,K)}return A}return j},[e,l,n,m,d]);return S.useEffect(()=>{p.current=e},[e]),S.useEffect(()=>{m||v()},[n,m]),S.useEffect(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),S.useEffect(()=>{m||typeof c!="number"||k.current!==null||(k.current=setTimeout(()=>{v(),k.current=null},c))},[c,m,v,...r]),{droppableRects:b,measureDroppableContainers:v,measuringScheduled:l!=null};function E(){switch(f){case rl.Always:return!1;case rl.BeforeDragging:return n;default:return!n}}}function X0(e,t){return hl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function UO(e,t){return X0(e,t)}function BO(e){let{callback:t,disabled:n}=e;const r=bh(t),s=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return S.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Eu(e){let{callback:t,disabled:n}=e;const r=bh(t),s=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return S.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function WO(e){return new _h(Ws(e),e)}function dy(e,t,n){t===void 0&&(t=WO);const[r,s]=S.useState(null);function l(){s(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const p=t(e);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const a=BO({callback(d){if(e)for(const f of d){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){l();break}}}}),c=Eu({callback:l});return ir(()=>{l(),e?(c==null||c.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),a==null||a.disconnect())},[e]),r}function HO(e){const t=X0(e);return B0(e,t)}const fy=[];function VO(e){const t=S.useRef(e),n=hl(r=>e?r&&r!==fy&&e&&t.current&&e.parentNode===t.current.parentNode?r:Sh(e):fy,[e]);return S.useEffect(()=>{t.current=e},[e]),n}function qO(e){const[t,n]=S.useState(null),r=S.useRef(e),s=S.useCallback(l=>{const a=Vd(l.target);a&&n(c=>c?(c.set(a,Mf(a)),new Map(c)):null)},[]);return S.useEffect(()=>{const l=r.current;if(e!==l){a(l);const c=e.map(d=>{const f=Vd(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,Mf(f)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),r.current=e}return()=>{a(e),a(l)};function a(c){c.forEach(d=>{const f=Vd(d);f==null||f.removeEventListener("scroll",s)})}},[s,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,a)=>Is(l,a),Hn):K0(e):Hn,[e,t])}function hy(e,t){t===void 0&&(t=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},t),S.useEffect(()=>{const r=e!==Hn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?tu(e,n.current):Hn}function YO(e){S.useEffect(()=>{if(!_u)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function KO(e,t){return S.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:l}=r;return n[s]=a=>{l(a,t)},n},{}),[e,t])}function Z0(e){return S.useMemo(()=>e?yO(e):null,[e])}const py=[];function GO(e,t){t===void 0&&(t=Ws);const[n]=e,r=Z0(n?tn(n):null),[s,l]=S.useState(py);function a(){l(()=>e.length?e.map(d=>q0(d)?r:new _h(t(d),d)):py)}const c=Eu({callback:a});return ir(()=>{c==null||c.disconnect(),a(),e.forEach(d=>c==null?void 0:c.observe(d))},[e]),s}function JO(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return fl(t)?t:e}function QO(e){let{measure:t}=e;const[n,r]=S.useState(null),s=S.useCallback(f=>{for(const{target:p}of f)if(fl(p)){r(m=>{const y=t(p);return m?{...m,width:y.width,height:y.height}:y});break}},[t]),l=Eu({callback:s}),a=S.useCallback(f=>{const p=JO(f);l==null||l.disconnect(),p&&(l==null||l.observe(p)),r(p?t(p):null)},[t,l]),[c,d]=eu(a);return S.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const XO=[{sensor:Q0,options:{}},{sensor:J0,options:{}}],ZO={current:{}},Fa={draggable:{measure:oy},droppable:{measure:oy,strategy:rl.WhileDragging,frequency:Ff.Optimized},dragOverlay:{measure:Ws}};class Yo extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const eD={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Yo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fa,measureDroppableContainers:nu,windowRect:null,measuringScheduled:!1},tD={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nu,draggableNodes:new Map,over:null,measureDroppableContainers:nu},Cu=S.createContext(tD),ex=S.createContext(eD);function nD(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Yo}}}function rD(e,t){switch(t.type){case gt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case gt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case gt.DragEnd:case gt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gt.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Yo(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case gt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const a=new Yo(e.droppable.containers);return a.set(n,{...l,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case gt.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const l=new Yo(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function iD(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=S.useContext(Cu),l=Df(r),a=Df(n==null?void 0:n.id);return S.useEffect(()=>{if(!t&&!r&&l&&a!=null){if(!kh(l)||document.activeElement===l.target)return;const c=s.get(a);if(!c)return;const{activatorNode:d,node:f}=c;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[d.current,f.current]){if(!p)continue;const m=GR(p);if(m){m.focus();break}}})}},[r,t,s,a,l]),null}function sD(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,l)=>l({transform:s,...r}),n):n}function oD(e){return S.useMemo(()=>({draggable:{...Fa.draggable,...e==null?void 0:e.draggable},droppable:{...Fa.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Fa.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function lD(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const l=S.useRef(!1),{x:a,y:c}=typeof s=="boolean"?{x:s,y:s}:s;ir(()=>{if(!a&&!c||!t){l.current=!1;return}if(l.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const p=n(f),m=B0(p,r);if(a||(m.x=0),c||(m.y=0),l.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=W0(f);y&&y.scrollBy({top:m.y,left:m.x})}},[t,a,c,r,n])}const tx=S.createContext({...Hn,scaleX:1,scaleY:1});var Jr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Jr||(Jr={}));const aD=S.memo(function(t){var n,r,s,l;let{id:a,accessibility:c,autoScroll:d=!0,children:f,sensors:p=XO,collisionDetection:m=dO,measuring:y,modifiers:v,...k}=t;const b=S.useReducer(rD,void 0,nD),[E,j]=b,[A,N]=tO(),[U,K]=S.useState(Jr.Uninitialized),L=U===Jr.Initialized,{draggable:{active:Z,nodes:te,translate:J},droppable:{containers:D}}=E,q=Z!=null?te.get(Z):null,H=S.useRef({initial:null,translated:null}),Q=S.useMemo(()=>{var Je;return Z!=null?{id:Z,data:(Je=q==null?void 0:q.data)!=null?Je:ZO,rect:H}:null},[Z,q]),O=S.useRef(null),[$,P]=S.useState(null),[M,F]=S.useState(null),W=tl(k,Object.values(k)),C=pl("DndDescribedBy",a),I=S.useMemo(()=>D.getEnabled(),[D]),V=oD(y),{droppableRects:T,measureDroppableContainers:ae,measuringScheduled:fe}=zO(I,{dragging:L,dependencies:[J.x,J.y],config:V.droppable}),ue=$O(te,Z),be=S.useMemo(()=>M?Lf(M):null,[M]),ge=jr(),we=UO(ue,V.draggable.measure);lD({activeNode:Z!=null?te.get(Z):null,config:ge.layoutShiftCompensation,initialRect:we,measure:V.draggable.measure});const ce=dy(ue,V.draggable.measure,we),Fe=dy(ue?ue.parentElement:null),it=S.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:T,draggableNodes:te,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),vt=D.getNodeFor((n=it.current.over)==null?void 0:n.id),Mt=QO({measure:V.dragOverlay.measure}),fn=(r=Mt.nodeRef.current)!=null?r:ue,hn=L?(s=Mt.rect)!=null?s:ce:null,lr=!!(Mt.nodeRef.current&&Mt.rect),ui=HO(lr?null:ce),Vn=Z0(fn?tn(fn):null),St=VO(L?vt??ue:null),nn=GO(St),qn=sD(v,{transform:{x:J.x-ui.x,y:J.y-ui.y,scaleX:1,scaleY:1},activatorEvent:M,active:Q,activeNodeRect:ce,containerNodeRect:Fe,draggingNodeRect:hn,over:it.current.over,overlayNodeRect:Mt.rect,scrollableAncestors:St,scrollableAncestorRects:nn,windowRect:Vn}),ci=be?Is(be,J):null,di=qO(St),Ui=hy(di),ee=hy(di,[ce]),oe=Is(qn,Ui),xe=hn?pO(hn,qn):null,je=Q&&xe?m({active:Q,collisionRect:xe,droppableRects:T,droppableContainers:I,pointerCoordinates:ci}):null,Re=aO(je,"id"),[Be,pn]=S.useState(null),Bt=lr?qn:Is(qn,ee),Yn=fO(Bt,(l=Be==null?void 0:Be.rect)!=null?l:null,ce),Tn=S.useRef(null),at=S.useCallback((Je,jt)=>{let{sensor:Tt,options:Nn}=jt;if(O.current==null)return;const $t=te.get(O.current);if(!$t)return;const Nt=Je.nativeEvent,Wt=new Tt({active:O.current,activeNode:$t,event:Nt,options:Nn,context:it,onAbort(Qe){if(!te.get(Qe))return;const{onDragAbort:At}=W.current,An={id:Qe};At==null||At(An),A({type:"onDragAbort",event:An})},onPending(Qe,gn,At,An){if(!te.get(Qe))return;const{onDragPending:Kn}=W.current,rn={id:Qe,constraint:gn,initialCoordinates:At,offset:An};Kn==null||Kn(rn),A({type:"onDragPending",event:rn})},onStart(Qe){const gn=O.current;if(gn==null)return;const At=te.get(gn);if(!At)return;const{onDragStart:An}=W.current,In={activatorEvent:Nt,active:{id:gn,data:At.data,rect:H}};Ts.unstable_batchedUpdates(()=>{An==null||An(In),K(Jr.Initializing),j({type:gt.DragStart,initialCoordinates:Qe,active:gn}),A({type:"onDragStart",event:In}),P(Tn.current),F(Nt)})},onMove(Qe){j({type:gt.DragMove,coordinates:Qe})},onEnd:ar(gt.DragEnd),onCancel:ar(gt.DragCancel)});Tn.current=Wt;function ar(Qe){return async function(){const{active:At,collisions:An,over:In,scrollAdjustedTranslate:Kn}=it.current;let rn=null;if(At&&Kn){const{cancelDrop:ur}=W.current;rn={activatorEvent:Nt,active:At,collisions:An,delta:Kn,over:In},Qe===gt.DragEnd&&typeof ur=="function"&&await Promise.resolve(ur(rn))&&(Qe=gt.DragCancel)}O.current=null,Ts.unstable_batchedUpdates(()=>{j({type:Qe}),K(Jr.Uninitialized),pn(null),P(null),F(null),Tn.current=null;const ur=Qe===gt.DragEnd?"onDragEnd":"onDragCancel";if(rn){const qs=W.current[ur];qs==null||qs(rn),A({type:ur,event:rn})}})}}},[te]),mn=S.useCallback((Je,jt)=>(Tt,Nn)=>{const $t=Tt.nativeEvent,Nt=te.get(Nn);if(O.current!==null||!Nt||$t.dndKit||$t.defaultPrevented)return;const Wt={active:Nt};Je(Tt,jt.options,Wt)===!0&&($t.dndKit={capturedBy:jt.sensor},O.current=Nn,at(Tt,jt))},[te,at]),Ct=FO(p,mn);YO(p),ir(()=>{ce&&U===Jr.Initializing&&K(Jr.Initialized)},[ce,U]),S.useEffect(()=>{const{onDragMove:Je}=W.current,{active:jt,activatorEvent:Tt,collisions:Nn,over:$t}=it.current;if(!jt||!Tt)return;const Nt={active:jt,activatorEvent:Tt,collisions:Nn,delta:{x:oe.x,y:oe.y},over:$t};Ts.unstable_batchedUpdates(()=>{Je==null||Je(Nt),A({type:"onDragMove",event:Nt})})},[oe.x,oe.y]),S.useEffect(()=>{const{active:Je,activatorEvent:jt,collisions:Tt,droppableContainers:Nn,scrollAdjustedTranslate:$t}=it.current;if(!Je||O.current==null||!jt||!$t)return;const{onDragOver:Nt}=W.current,Wt=Nn.get(Re),ar=Wt&&Wt.rect.current?{id:Wt.id,rect:Wt.rect.current,data:Wt.data,disabled:Wt.disabled}:null,Qe={active:Je,activatorEvent:jt,collisions:Tt,delta:{x:$t.x,y:$t.y},over:ar};Ts.unstable_batchedUpdates(()=>{pn(ar),Nt==null||Nt(Qe),A({type:"onDragOver",event:Qe})})},[Re]),ir(()=>{it.current={activatorEvent:M,active:Q,activeNode:ue,collisionRect:xe,collisions:je,droppableRects:T,draggableNodes:te,draggingNode:fn,draggingNodeRect:hn,droppableContainers:D,over:Be,scrollableAncestors:St,scrollAdjustedTranslate:oe},H.current={initial:hn,translated:xe}},[Q,ue,je,xe,te,fn,hn,T,D,Be,St,oe]),DO({...ge,delta:J,draggingRect:xe,pointerCoordinates:ci,scrollableAncestors:St,scrollableAncestorRects:nn});const Hs=S.useMemo(()=>({active:Q,activeNode:ue,activeNodeRect:ce,activatorEvent:M,collisions:je,containerNodeRect:Fe,dragOverlay:Mt,draggableNodes:te,droppableContainers:D,droppableRects:T,over:Be,measureDroppableContainers:ae,scrollableAncestors:St,scrollableAncestorRects:nn,measuringConfiguration:V,measuringScheduled:fe,windowRect:Vn}),[Q,ue,ce,M,je,Fe,Mt,te,D,T,Be,ae,St,nn,V,fe,Vn]),Vs=S.useMemo(()=>({activatorEvent:M,activators:Ct,active:Q,activeNodeRect:ce,ariaDescribedById:{draggable:C},dispatch:j,draggableNodes:te,over:Be,measureDroppableContainers:ae}),[M,Ct,Q,ce,j,C,te,Be,ae]);return me.createElement(U0.Provider,{value:N},me.createElement(Cu.Provider,{value:Vs},me.createElement(ex.Provider,{value:Hs},me.createElement(tx.Provider,{value:Yn},f)),me.createElement(iD,{disabled:(c==null?void 0:c.restoreFocus)===!1})),me.createElement(iO,{...c,hiddenTextDescribedById:C}));function jr(){const Je=($==null?void 0:$.autoScrollEnabled)===!1,jt=typeof d=="object"?d.enabled===!1:d===!1,Tt=L&&!Je&&!jt;return typeof d=="object"?{...d,enabled:Tt}:{enabled:Tt}}}),uD=S.createContext(null),my="button",cD="Draggable";function dD(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const l=pl(cD),{activators:a,activatorEvent:c,active:d,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:y}=S.useContext(Cu),{role:v=my,roleDescription:k="draggable",tabIndex:b=0}=s??{},E=(d==null?void 0:d.id)===t,j=S.useContext(E?tx:uD),[A,N]=eu(),[U,K]=eu(),L=KO(a,t),Z=tl(n);ir(()=>(m.set(t,{id:t,key:l,node:A,activatorNode:U,data:Z}),()=>{const J=m.get(t);J&&J.key===l&&m.delete(t)}),[m,t]);const te=S.useMemo(()=>({role:v,tabIndex:b,"aria-disabled":r,"aria-pressed":E&&v===my?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,v,b,E,k,p.draggable]);return{active:d,activatorEvent:c,activeNodeRect:f,attributes:te,isDragging:E,listeners:r?void 0:L,node:A,over:y,setNodeRef:N,setActivatorNodeRef:K,transform:j}}function fD(){return S.useContext(ex)}const hD="Droppable",pD={timeout:25};function mD(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const l=pl(hD),{active:a,dispatch:c,over:d,measureDroppableContainers:f}=S.useContext(Cu),p=S.useRef({disabled:n}),m=S.useRef(!1),y=S.useRef(null),v=S.useRef(null),{disabled:k,updateMeasurementsFor:b,timeout:E}={...pD,...s},j=tl(b??r),A=S.useCallback(()=>{if(!m.current){m.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(j.current)?j.current:[j.current]),v.current=null},E)},[E]),N=Eu({callback:A,disabled:k||!a}),U=S.useCallback((te,J)=>{N&&(J&&(N.unobserve(J),m.current=!1),te&&N.observe(te))},[N]),[K,L]=eu(U),Z=tl(t);return S.useEffect(()=>{!N||!K.current||(N.disconnect(),m.current=!1,N.observe(K.current))},[K,N]),S.useEffect(()=>(c({type:gt.RegisterDroppable,element:{id:r,key:l,disabled:n,node:K,rect:y,data:Z}}),()=>c({type:gt.UnregisterDroppable,key:l,id:r})),[r]),S.useEffect(()=>{n!==p.current.disabled&&(c({type:gt.SetDroppableDisabled,id:r,key:l,disabled:n}),p.current.disabled=n)},[r,l,n,c]),{active:a,rect:y,isOver:(d==null?void 0:d.id)===r,node:K,over:d,setNodeRef:L}}function nx(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function gD(e,t){return e.reduce((n,r,s)=>{const l=t.get(r);return l&&(n[s]=l),n},Array(e.length))}function Ra(e){return e!==null&&e>=0}function vD(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function yD(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const rx=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const l=nx(t,r,n),a=t[s],c=l[s];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},Oa={scaleX:1,scaleY:1},wD=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:l,overIndex:a}=e;const c=(t=l[n])!=null?t:r;if(!c)return null;if(s===n){const f=l[a];return f?{x:0,y:n<a?f.top+f.height-(c.top+c.height):f.top-c.top,...Oa}:null}const d=xD(l,s,n);return s>n&&s<=a?{x:0,y:-c.height-d,...Oa}:s<n&&s>=a?{x:0,y:c.height+d,...Oa}:{x:0,y:0,...Oa}};function xD(e,t,n){const r=e[t],s=e[t-1],l=e[t+1];return r?n<t?s?r.top-(s.top+s.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const ix="Sortable",sx=me.createContext({activeIndex:-1,containerId:ix,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rx,disabled:{draggable:!1,droppable:!1}});function bD(e){let{children:t,id:n,items:r,strategy:s=rx,disabled:l=!1}=e;const{active:a,dragOverlay:c,droppableRects:d,over:f,measureDroppableContainers:p}=fD(),m=pl(ix,n),y=c.rect!==null,v=S.useMemo(()=>r.map(L=>typeof L=="object"&&"id"in L?L.id:L),[r]),k=a!=null,b=a?v.indexOf(a.id):-1,E=f?v.indexOf(f.id):-1,j=S.useRef(v),A=!vD(v,j.current),N=E!==-1&&b===-1||A,U=yD(l);ir(()=>{A&&k&&p(v)},[A,v,k,p]),S.useEffect(()=>{j.current=v},[v]);const K=S.useMemo(()=>({activeIndex:b,containerId:m,disabled:U,disableTransforms:N,items:v,overIndex:E,useDragOverlay:y,sortedRects:gD(v,d),strategy:s}),[b,m,U.draggable,U.droppable,N,v,E,d,y,s]);return me.createElement(sx.Provider,{value:K},t)}const kD=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return nx(n,r,s).indexOf(t)},SD=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:l,newIndex:a,previousItems:c,previousContainerId:d,transition:f}=e;return!f||!r||c!==l&&s===a?!1:n?!0:a!==s&&t===d},_D={duration:200,easing:"ease"},ox="transform",ED=nl.Transition.toString({property:ox,duration:0,easing:"linear"}),CD={roleDescription:"sortable"};function jD(e){let{disabled:t,index:n,node:r,rect:s}=e;const[l,a]=S.useState(null),c=S.useRef(n);return ir(()=>{if(!t&&n!==c.current&&r.current){const d=s.current;if(d){const f=Ws(r.current,{ignoreTransform:!0}),p={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(p.x||p.y)&&a(p)}}n!==c.current&&(c.current=n)},[t,n,r,s]),S.useEffect(()=>{l&&a(null)},[l]),l}function TD(e){let{animateLayoutChanges:t=SD,attributes:n,disabled:r,data:s,getNewIndex:l=kD,id:a,strategy:c,resizeObserverConfig:d,transition:f=_D}=e;const{items:p,containerId:m,activeIndex:y,disabled:v,disableTransforms:k,sortedRects:b,overIndex:E,useDragOverlay:j,strategy:A}=S.useContext(sx),N=ND(r,v),U=p.indexOf(a),K=S.useMemo(()=>({sortable:{containerId:m,index:U,items:p},...s}),[m,s,U,p]),L=S.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:Z,node:te,isOver:J,setNodeRef:D}=mD({id:a,data:K,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:L,...d}}),{active:q,activatorEvent:H,activeNodeRect:Q,attributes:O,setNodeRef:$,listeners:P,isDragging:M,over:F,setActivatorNodeRef:W,transform:C}=dD({id:a,data:K,attributes:{...CD,...n},disabled:N.draggable}),I=VR(D,$),V=!!q,T=V&&!k&&Ra(y)&&Ra(E),ae=!j&&M,fe=ae&&T?C:null,be=T?fe??(c??A)({rects:b,activeNodeRect:Q,activeIndex:y,overIndex:E,index:U}):null,ge=Ra(y)&&Ra(E)?l({id:a,items:p,activeIndex:y,overIndex:E}):U,we=q==null?void 0:q.id,ce=S.useRef({activeId:we,items:p,newIndex:ge,containerId:m}),Fe=p!==ce.current.items,it=t({active:q,containerId:m,isDragging:M,isSorting:V,id:a,index:U,items:p,newIndex:ce.current.newIndex,previousItems:ce.current.items,previousContainerId:ce.current.containerId,transition:f,wasDragging:ce.current.activeId!=null}),vt=jD({disabled:!it,index:U,node:te,rect:Z});return S.useEffect(()=>{V&&ce.current.newIndex!==ge&&(ce.current.newIndex=ge),m!==ce.current.containerId&&(ce.current.containerId=m),p!==ce.current.items&&(ce.current.items=p)},[V,ge,m,p]),S.useEffect(()=>{if(we===ce.current.activeId)return;if(we&&!ce.current.activeId){ce.current.activeId=we;return}const fn=setTimeout(()=>{ce.current.activeId=we},50);return()=>clearTimeout(fn)},[we]),{active:q,activeIndex:y,attributes:O,data:K,rect:Z,index:U,newIndex:ge,items:p,isOver:J,isSorting:V,isDragging:M,listeners:P,node:te,overIndex:E,over:F,setNodeRef:I,setActivatorNodeRef:W,setDroppableNodeRef:D,setDraggableNodeRef:$,transform:vt??be,transition:Mt()};function Mt(){if(vt||Fe&&ce.current.newIndex===U)return ED;if(!(ae&&!kh(H)||!f)&&(V||it))return nl.Transition.toString({...f,property:ox})}}function ND(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Me.Down,Me.Right,Me.Up,Me.Left;const Da="__no_objective__",AD="Sin objetivo",gy={present:"Presente",absent:"Ausente",pending:"Pendiente"};function ID({work:e,objective:t,onSelect:n}){return x.jsxs("button",{type:"button",onClick:()=>n(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),x.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]})]}),x.jsx(kr,{objective:t,size:"sm"})]})}function PD({item:e,work:t,objective:n,expanded:r,onToggleExpanded:s,onRemove:l,onUpdateDetails:a,onReplace:c,startTimeLabel:d,durationMinutes:f,objectiveOptions:p,worksByObjective:m,currentObjectiveId:y}){const{attributes:v,listeners:k,setNodeRef:b,transform:E,transition:j,isDragging:A}=TD({id:e.id}),[N,U]=S.useState(!1),K={transform:nl.Transform.toString(E),transition:j},Z=(e.focusLabel??"").trim(),te=Z.length>0,J=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",D=J.trim().length>0,q=((t==null?void 0:t.videoUrls)??[]).map(I=>I.trim()).filter(Boolean),H=q.length>0,Q=D||H,O=I=>{const V=I.target.value;a(e.id,{focusLabel:V===""?void 0:V})},$=p.length>0?p:[{id:"",name:"Sin objetivo"}],P=S.useMemo(()=>{var V;return y&&m.has(y)?y:((V=$[0])==null?void 0:V.id)??y??""},[y,$,m]),[M,F]=S.useState(P);S.useEffect(()=>{N&&F(P)},[N,P]);const W=S.useMemo(()=>(m.get(M)??[]).filter(V=>V.id!==(t==null?void 0:t.id)),[M,m,t==null?void 0:t.id]),C=S.useMemo(()=>{for(const I of m.values())if(I.some(V=>V.id!==(t==null?void 0:t.id)))return!0;return!1},[m,t==null?void 0:t.id]);return x.jsxs("article",{ref:b,style:K,className:tt("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",A&&"ring-2 ring-sky-400/70"),children:[n?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",...k,...v,"aria-label":"Reordenar trabajo",children:"⠿"}),x.jsx("div",{className:"flex-1 space-y-1",children:x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",te?x.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",Z]}):null]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[x.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:d}),x.jsx("span",{className:"text-white/30",children:"·"}),x.jsxs("span",{children:[f," min"]})]}),x.jsxs("div",{className:"max-w-md",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),x.jsx("input",{type:"text",value:e.focusLabel??"",onChange:O,placeholder:"Ej. 1/7 – Apertura",className:"input-field mt-1"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[Q?x.jsxs("button",{type:"button",onClick:()=>s(e.id),className:tt("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[x.jsx("span",{className:tt("transition-transform",r?"rotate-90":"rotate-0"),children:"▶"}),r?"Ocultar detalles":"Ver detalles"]}):null,x.jsx(kr,{objective:n,size:"sm"})]})]})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:()=>U(I=>!I),disabled:!C,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categoría","aria-expanded":N,children:"⇆"}),x.jsx("button",{type:"button",onClick:()=>l(e.id),className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesión",children:"✕"})]})]}),N?x.jsxs("div",{className:"mt-3 space-y-2 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),x.jsx("select",{className:"input-field",value:M,onChange:I=>F(I.target.value),children:$.map(I=>x.jsx("option",{value:I.id,children:I.name},I.id))})]}),x.jsx("div",{className:"grid gap-1.5",children:W.length===0?x.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"No hay trabajos disponibles en este objetivo."}):W.map(I=>x.jsxs("button",{type:"button",onClick:()=>{c(I.id),U(!1)},className:"flex items-center justify-between gap-2 rounded-2xl border border-white/15 px-3 py-2 text-left text-xs font-semibold text-white/80 transition hover:border-sky-400/60 hover:text-white",children:[x.jsx("span",{children:I.name}),x.jsxs("span",{className:"text-[11px] text-white/40",children:[I.estimatedMinutes," min"]})]},I.id))})]}):null,Q&&r?x.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[D?x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:x.jsx(el,{content:J})})]}):null,H?x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de referencia"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:q.map(I=>x.jsxs("a",{href:I,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:"▶"}),"Ver vídeo"]},I))})]}):null]}):null,x.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function RD({session:e,works:t,objectives:n,assistants:r,onDateChange:s}){const l=Ne(J=>J.updateSession),a=Ne(J=>J.addWorkToSession),c=Ne(J=>J.removeWorkFromSession),d=Ne(J=>J.reorderSessionWork),f=Ne(J=>J.updateSessionWorkDetails),p=Ne(J=>J.replaceSessionWork),m=Ne(J=>J.setAttendanceStatus),[y,v]=S.useState(""),[k,b]=S.useState(new Set),E=S.useMemo(()=>new Map(n.map(J=>[J.id,J])),[n]),j=S.useMemo(()=>new Map(t.map(J=>[J.id,J])),[t]),A=S.useMemo(()=>{const J=new Map(n.map(Q=>[Q.id,Q.name])),D=n.map(Q=>({id:Q.id,name:Q.name})),q=new Set(D.map(Q=>Q.id)),H=Q=>{const O=Q??Da;if(q.has(O))return;const $=O===Da?AD:J.get(O)??"Otro objetivo";D.push({id:O,name:$}),q.add(O)};return t.forEach(Q=>{H(Q.objectiveId)}),D},[n,t]),N=S.useMemo(()=>{const J=new Map;return t.forEach(D=>{const q=D.objectiveId??Da,H=J.get(q)??[];H.push(D),J.set(q,H)}),J.forEach(D=>{D.sort((q,H)=>q.name.localeCompare(H.name,"es",{sensitivity:"base"}))}),J},[t]),U=S.useMemo(()=>{if(!y)return t;const J=y.toLowerCase();return t.filter(D=>{const q=E.get(D.objectiveId);return D.name.toLowerCase().includes(J)||D.descriptionMarkdown.toLowerCase().includes(J)||(q==null?void 0:q.name.toLowerCase().includes(J))})},[t,y,E]),K=J=>{b(D=>{const q=new Set(D);return q.has(J)?q.delete(J):q.add(J),q})},L=J=>{a(e.id,{workId:J}),v("")},Z=J=>{const{active:D,over:q}=J;if(!q||D.id===q.id)return;const H=e.workItems.findIndex(O=>O.id===D.id),Q=e.workItems.findIndex(O=>O.id===q.id);H===-1||Q===-1||d(e.id,H,Q)},te=J=>D=>{const q=D.target.value;l(e.id,{[J]:q}),J==="date"&&s&&s(q)};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[x.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Título"}),x.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:te("title"),placeholder:"Nombre de la sesión"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),x.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:te("date")})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),x.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:te("startTime")})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:te("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:te("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesión"}),x.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa ⋮ para ajustar detalles."})]}),x.jsxs("div",{className:"relative w-full sm:w-72",children:[x.jsx("input",{type:"search",className:"input-field",value:y,onChange:J=>v(J.target.value),placeholder:"Buscar en catálogo"}),y&&x.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:U.length===0?x.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catálogo."}):x.jsx("div",{className:"space-y-2",children:U.map(J=>x.jsx(ID,{work:J,objective:E.get(J.objectiveId),onSelect:L},J.id))})})]})]}),x.jsx("div",{className:"space-y-4",children:x.jsx(aD,{collisionDetection:uO,onDragEnd:Z,children:x.jsx(bD,{items:e.workItems.map(J=>J.id),strategy:wD,children:x.jsx("div",{className:"space-y-5",children:e.workItems.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Añade trabajos desde el catálogo con el buscador superior."}):(()=>{let J=0;const D=Za(e.startTime,"18:30");return e.workItems.map(q=>{const H=j.get(q.workId),Q=H?E.get(H.objectiveId):void 0,O=q.customDurationMinutes??(H==null?void 0:H.estimatedMinutes)??0,$=Of(D+J);return J+=O,x.jsx(PD,{item:q,work:H,objective:Q,expanded:k.has(q.id),onToggleExpanded:K,onRemove:()=>c(e.id,q.id),onUpdateDetails:(P,M)=>f(e.id,P,M),onReplace:P=>p(e.id,q.id,P),startTimeLabel:$,durationMinutes:O,objectiveOptions:A,worksByObjective:N,currentObjectiveId:(H==null?void 0:H.objectiveId)??Da},q.id)})})()})})})})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsión de asistencia"}),x.jsx("p",{className:"text-sm text-white/60",children:"Indica quién esperas que asista. La asistencia real se marca durante la sesión desde la Home."})]})}),x.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?x.jsx("p",{className:"text-sm text-white/60",children:"Aún no tienes asistentes definidos. Añádelos desde la sección correspondiente para empezar a registrar asistencia."}):r.map(J=>{const D=e.attendance.find(Q=>Q.assistantId===J.id),q=(D==null?void 0:D.status)??"pending",H=D==null?void 0:D.actualStatus;return x.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:J.name}),J.notes?x.jsx("p",{className:"text-xs text-white/50",children:J.notes}):null,H?x.jsxs("p",{className:"text-xs text-white/40",children:["Último registro real: ",gy[H]]}):null]}),x.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(Q=>x.jsx("button",{type:"button",onClick:()=>m(e.id,J.id,Q),className:tt("rounded-full px-3 py-1 text-xs font-semibold transition",q===Q?Q==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":Q==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:gy[Q]},Q))})]},J.id)})})]})]})}function OD(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function DD(e){const t=OD(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(s,l)=>t.add(r*7+l,"day")))}function vy(e,t){return lt(e).format("YYYY-MM-DD")===lt(t).format("YYYY-MM-DD")}lt.locale("es");function LD(e){return lt(e).format("MMMM YYYY")}function MD({session:e,objectives:t,works:n,isActive:r,onSelect:s,onDuplicate:l,onDelete:a}){const c=S.useMemo(()=>new Map(t.map(m=>[m.id,m])),[t]),d=S.useMemo(()=>new Map(n.map(m=>[m.id,m])),[n]),f=S.useMemo(()=>{const m=e.workItems[0];if(!m)return;const y=d.get(m.workId);if(y)return c.get(y.objectiveId)},[e.workItems,d,c]),p=e.workItems.reduce((m,y)=>{const v=d.get(y.workId);return m+(y.customDurationMinutes??(v==null?void 0:v.estimatedMinutes)??0)},0);return x.jsxs("button",{type:"button",onClick:s,className:tt("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,x.jsxs("div",{className:"flex items-start justify-between gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesión sin título"}),x.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos · ",p," min"]})]}),x.jsx(kr,{objective:f,size:"sm"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(m=>{const y=d.get(m.workId);return x.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:(y==null?void 0:y.name)??"Trabajo"},m.id)}),e.workItems.length>3?x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(kr,{objective:f,size:"sm"}),x.jsxs("div",{className:"ml-auto flex gap-2",children:[x.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),l()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),x.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),a()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function $D(){const e=Ne(H=>H.sessions),t=Ne(H=>H.works),n=Ne(H=>H.objectives),r=Ne(H=>H.assistants),s=Ne(H=>H.addSession),l=Ne(H=>H.duplicateSession),a=Ne(H=>H.deleteSession),[c,d]=p1(),f=S.useMemo(()=>{const H=new Map;return e.forEach(Q=>{const O=lt(Q.date).format("YYYY-MM-DD"),$=H.get(O)??[];$.push(Q),H.set(O,$)}),H.forEach(Q=>Q.sort((O,$)=>(O.title??"").localeCompare($.title??"","es"))),H},[e]),p=c.get("session")??void 0,m=p?e.find(H=>H.id===p):void 0,y=lt().format("YYYY-MM-DD"),v=(m==null?void 0:m.date)??y,[k,b]=S.useState(v),[E,j]=S.useState(lt(k).startOf("month").format("YYYY-MM-DD")),[A,N]=S.useState(p);S.useEffect(()=>{p&&!e.find(H=>H.id===p)&&(N(void 0),d({},{replace:!0}))},[p,e,d]);const U=S.useMemo(()=>DD(lt(E)),[E]),K=f.get(k)??[];S.useEffect(()=>{K.length>0?(!A||!K.some(H=>H.id===A))&&N(K[0].id):N(void 0)},[K,A]);const L=A?e.find(H=>H.id===A):void 0,Z=H=>{b(H),j(lt(H).startOf("month").format("YYYY-MM-DD"))},te=()=>{const H=s({date:k,title:"Nueva sesión",description:"",notes:""});N(H.id)},J=H=>{const Q=l(H,k);Q&&N(Q.id)},D=H=>{a(H),A===H&&N(void 0)},q=H=>{const Q=lt(E).add(H,"month");j(Q.format("YYYY-MM-DD")),b(O=>{const $=lt(O);return $.month()===Q.month()&&$.year()===Q.year()?O:Q.startOf("month").format("YYYY-MM-DD")})};return x.jsxs("div",{className:"space-y-6",children:[x.jsx("header",{className:"glass-panel p-6 sm:p-10",children:x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Planificador"}),x.jsx("p",{className:"text-white/60",children:"Organiza tus sesiones con un calendario gráfico, duplica lo que funciona y edita cada detalle con drag & drop."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>q(-1),children:"← Mes anterior"}),x.jsx("div",{className:"rounded-full border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white/80",children:LD(E)}),x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>q(1),children:"Mes siguiente →"})]})]})}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.5fr_2fr]",children:[x.jsxs("section",{className:"glass-panel flex flex-col gap-6 p-6",children:[x.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(H=>x.jsx("div",{className:"rounded-full bg-white/5 py-2",children:H},H))}),x.jsx("div",{className:"grid grid-cols-7 gap-2",children:U.flat().map(H=>{const Q=H.format("YYYY-MM-DD"),O=f.get(Q)??[],$=H.month()===lt(E).month(),P=vy(Q,y),M=vy(Q,k);return x.jsxs("button",{type:"button",onClick:()=>Z(Q),className:tt("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",M?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!$&&"text-white/30"),children:[x.jsx("span",{className:tt("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",P?"bg-white text-slate-900":""),children:H.format("D")}),x.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[O.slice(0,3).map(F=>{const W=F.workItems[0],C=W?t.find(V=>V.id===W.workId):void 0,I=C?n.find(V=>V.id===C.objectiveId):void 0;return x.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(I==null?void 0:I.colorHex)??"rgba(255,255,255,0.4)"}},F.id)}),O.length>3?x.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},Q)})})]}),x.jsxs("section",{className:"space-y-6",children:[x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),x.jsx("h2",{className:"text-2xl font-semibold text-white",children:lt(k).format("dddd, D [de] MMMM")})]}),x.jsx("div",{className:"flex gap-3",children:x.jsx("button",{type:"button",onClick:te,className:"btn-primary",children:"+ Nueva sesión"})})]}),x.jsx("div",{className:"space-y-3",children:K.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"Aún no hay sesiones planificadas este día. Crea una con el botón superior."}):K.map(H=>x.jsx(MD,{session:H,objectives:n,works:t,isActive:H.id===A,onSelect:()=>N(H.id),onDuplicate:()=>J(H.id),onDelete:()=>D(H.id)},H.id))})]}),L&&x.jsx("div",{className:"glass-panel p-6",children:x.jsx(RD,{session:L,works:t,objectives:n,assistants:r,onDateChange:H=>{b(H),j(lt(H).startOf("month").format("YYYY-MM-DD"))}})})]})]})]})}const FD={name:"",objectiveId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""]},yy="__no_objective__";function zD({work:e,objective:t,expanded:n,onToggle:r,onEdit:s,onDuplicate:l,onDelete:a}){const c=(e.descriptionMarkdown??"").trim(),d=(e.notes??"").trim(),f=e.videoUrls.filter(k=>k.trim().length>0),p=c.length>0,m=d.length>0,y=f.length>0,v=p||m||y;return x.jsxs("article",{className:"relative space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5 shadow shadow-black/30",children:[t?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-3xl",style:{backgroundColor:t.colorHex}}):null,x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-white",children:e.name}),x.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[x.jsx(kr,{objective:t,size:"sm"}),v?x.jsxs("button",{type:"button",onClick:r,className:tt("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",n&&"border-white/40 text-white"),children:[x.jsx("span",{className:tt("transition-transform",n?"rotate-90":"rotate-0"),children:"▶"}),n?"Ocultar detalles":"Ver detalles"]}):null,x.jsx("button",{type:"button",onClick:s,className:"btn-secondary px-3 py-1 text-xs",children:"Editar"}),x.jsx("button",{type:"button",onClick:l,className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),x.jsx("button",{type:"button",onClick:a,className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]}),v&&n&&x.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[p?x.jsx(el,{content:e.descriptionMarkdown}):null,m?x.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,y?x.jsx("div",{className:"space-y-3",children:f.map((k,b)=>x.jsxs("div",{className:"space-y-2",children:[x.jsx(yh,{url:k,title:`${e.name} vídeo ${b+1}`}),x.jsx("a",{href:k,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${b}`))}):null]})]})}function UD({form:e,objectiveOptions:t,onFieldChange:n,onVideoChange:r,onAddVideo:s,onRemoveVideo:l,onSave:a,onCancel:c,isNew:d}){const f=t.find(p=>p.id===e.objectiveId);return x.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",children:[x.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:d?"Nuevo trabajo":"Editando trabajo"}),x.jsx("input",{type:"text",className:"input-field text-base font-semibold",placeholder:"Nombre descriptivo",value:e.name,onChange:p=>n({name:p.target.value})})]}),x.jsx(kr,{objective:f,size:"sm"})]}),x.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),x.jsxs("select",{className:"input-field",value:e.objectiveId,onChange:p=>n({objectiveId:p.target.value}),children:[x.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map(p=>x.jsx("option",{value:p.id,children:p.name},p.id))]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duración estimada (min)"}),x.jsx("input",{type:"number",min:0,className:"input-field",value:e.estimatedMinutes,onChange:p=>n({estimatedMinutes:Number(p.target.value)})})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:e.descriptionMarkdown,onChange:p=>n({descriptionMarkdown:p.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes."})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes,onChange:p=>n({notes:p.target.value})})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de YouTube"}),x.jsx("div",{className:"space-y-3",children:e.videoUrls.map((p,m)=>x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"url",className:"input-field flex-1",value:p,onChange:y=>r(m,y.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),e.videoUrls.length>1?x.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>l(m),"aria-label":"Eliminar enlace de vídeo",children:"✕"}):null]}),x.jsx(yh,{url:p,title:`Vista previa vídeo ${m+1}`})]},`video-field-${m}`))}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:s,children:"+ Añadir vídeo"})]}),x.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[x.jsx("button",{type:"button",onClick:a,className:"btn-primary",children:"Guardar"}),x.jsx("button",{type:"button",className:"btn-secondary",onClick:c,children:"Cancelar"})]})]})}function BD(){var Q;const e=Ne(O=>O.works),t=Ne(O=>O.objectives),n=Ne(O=>O.addWork),r=Ne(O=>O.updateWork),s=Ne(O=>O.deleteWork),[l,a]=S.useState(""),[c,d]=S.useState(null),[f,p]=S.useState(new Set),[m,y]=S.useState({}),v=S.useMemo(()=>new Map(t.map(O=>[O.id,O])),[t]),k=S.useMemo(()=>[...t].sort((O,$)=>(O.name??"").localeCompare($.name??"","es")),[t]),b=l.trim().toLowerCase(),E=O=>{var P;if(!b)return!0;const $=((P=v.get(O.objectiveId))==null?void 0:P.name)??"";return O.name.toLowerCase().includes(b)||O.descriptionMarkdown.toLowerCase().includes(b)||$.toLowerCase().includes(b)},j=S.useMemo(()=>{const O=[];return e.forEach($=>{const P=m[$.id],M=(P==null?void 0:P.data)??{name:$.name,descriptionMarkdown:$.descriptionMarkdown,objectiveId:$.objectiveId};!P&&!E(M)||O.push({id:$.id,objectiveId:M.objectiveId,work:$,isNew:!1,isEditing:!!P,form:P==null?void 0:P.data})}),Object.entries(m).filter(([,$])=>$.isNew).forEach(([$,P])=>{E(P.data)&&O.push({id:$,objectiveId:P.data.objectiveId,work:void 0,isNew:!0,isEditing:!0,form:P.data})}),O},[e,m,E]),A=S.useMemo(()=>{const O=new Map;j.forEach(F=>{const W=v.has(F.objectiveId)?F.objectiveId:yy,C=O.get(W)??[];C.push(F),O.set(W,C)});const $=(F,W)=>{const C=I=>{var V;return I.isEditing&&I.form?I.form.name.trim():((V=I.work)==null?void 0:V.name.trim())??""};return C(F).localeCompare(C(W),"es",{sensitivity:"base"})},P=[];k.forEach(F=>{const W=O.get(F.id);W&&W.length&&P.push({objective:F,items:W.slice().sort($)})});const M=O.get(yy);return M&&M.length&&P.push({objective:void 0,items:M.slice().sort($)}),P},[j,v,k]),N=((Q=k[0])==null?void 0:Q.id)??"",U=(O,$)=>{y(P=>{const M=P[O];return M?{...P,[O]:$(M)}:P})},K=O=>O.length>0?O:[""],L=O=>{y($=>$[O.id]?$:{...$,[O.id]:{data:{id:O.id,name:O.name,objectiveId:O.objectiveId,descriptionMarkdown:O.descriptionMarkdown,estimatedMinutes:O.estimatedMinutes,notes:O.notes??"",videoUrls:K(O.videoUrls.slice())},isNew:!1,originalId:O.id}}),p($=>{const P=new Set($);return P.add(O.id),P})},Z=()=>{const O=`draft-${_n()}`;y($=>({...$,[O]:{data:{...FD,id:O,objectiveId:N},isNew:!0}})),p($=>{const P=new Set($);return P.add(O),P})},te=O=>{const $=`draft-${_n()}`;y(P=>({...P,[$]:{data:{id:$,name:`${O.name} (copia)`,objectiveId:O.objectiveId,descriptionMarkdown:O.descriptionMarkdown,estimatedMinutes:O.estimatedMinutes,notes:O.notes??"",videoUrls:K(O.videoUrls.slice())},isNew:!0}})),p(P=>{const M=new Set(P);return M.add($),M}),d({type:"success",text:"Duplicación creada. Ajusta y guarda para confirmarla."})},J=O=>{p($=>{const P=new Set($);return P.has(O)?P.delete(O):P.add(O),P})},D=O=>{y($=>{const P={...$};return delete P[O],P}),O.startsWith("draft-")&&p($=>{const P=new Set($);return P.delete(O),P})},q=O=>{const $=m[O];if(!$)return;const P={name:$.data.name.trim(),objectiveId:$.data.objectiveId,descriptionMarkdown:$.data.descriptionMarkdown,estimatedMinutes:Number($.data.estimatedMinutes)||0,notes:$.data.notes.trim()||void 0,videoUrls:$.data.videoUrls.map(M=>M.trim()).filter(Boolean)};if(!P.name){d({type:"error",text:"El nombre es obligatorio."});return}if(!P.objectiveId){d({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if($.isNew){const M=n(P);y(F=>{const W={...F};return delete W[O],W}),p(F=>{const W=new Set(F);return W.delete(O)&&W.add(M.id),W}),d({type:"success",text:"Trabajo creado correctamente."})}else $.originalId&&(r($.originalId,P),y(M=>{const F={...M};return delete F[O],F}),d({type:"success",text:"Trabajo actualizado."}))},H=O=>{if(!s(O)){d({type:"error",text:"No se puede eliminar porque está siendo usado en alguna sesión."});return}d({type:"success",text:"Trabajo eliminado."}),y(P=>{const M={...P};return delete M[O],M}),p(P=>{const M=new Set(P);return M.delete(O),M})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),x.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),x.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[x.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:l,onChange:O=>a(O.target.value),placeholder:"Buscar por nombre, descripción u objetivo"}),x.jsx("button",{type:"button",className:"btn-primary",onClick:Z,children:"Nuevo trabajo"})]})]}),c&&x.jsx("div",{className:tt("rounded-2xl border px-4 py-3 text-sm",c.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:c.text})]}),x.jsx("section",{className:"space-y-6",children:A.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no hay trabajos guardados. Empieza creando uno con el botón «Nuevo trabajo»."}):A.map(({objective:O,items:$})=>{const P=O?O.name:"Sin objetivo asignado";return x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:P}),x.jsx(kr,{objective:O,size:"sm"})]}),x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[$.length," trabajo",$.length===1?"":"s"]})]}),x.jsx("div",{className:"space-y-4",children:$.map(M=>{const F=f.has(M.id);return M.isEditing&&M.form?x.jsx(UD,{form:M.form,objectiveOptions:k,onFieldChange:W=>U(M.id,C=>({...C,data:{...C.data,...W}})),onVideoChange:(W,C)=>U(M.id,I=>{const V=I.data.videoUrls.slice();return V[W]=C,{...I,data:{...I.data,videoUrls:V}}}),onAddVideo:()=>U(M.id,W=>({...W,data:{...W.data,videoUrls:[...W.data.videoUrls,""]}})),onRemoveVideo:W=>U(M.id,C=>{const I=C.data.videoUrls.slice();return I.splice(W,1),{...C,data:{...C.data,videoUrls:I.length?I:[""]}}}),onSave:()=>q(M.id),onCancel:()=>D(M.id),isNew:M.isNew},M.id):M.work?x.jsx(zD,{work:M.work,objective:v.get(M.work.objectiveId),expanded:F,onToggle:()=>J(M.id),onEdit:()=>L(M.work),onDuplicate:()=>te(M.work),onDelete:()=>H(M.work.id)},M.id):null})})]},(O==null?void 0:O.id)??"sin-objetivo")})})]})}const Kd={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},wy=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function WD(){const e=Ne(b=>b.objectives),t=Ne(b=>b.addObjective),n=Ne(b=>b.updateObjective),r=Ne(b=>b.deleteObjective),s=Ne(b=>b.works),[l,a]=S.useState(Kd),[c,d]=S.useState(null),f=S.useMemo(()=>{const b=new Map;return s.forEach(E=>{b.set(E.objectiveId,(b.get(E.objectiveId)??0)+1)}),b},[s]),p=S.useMemo(()=>[...e].sort((b,E)=>(b.name??"").localeCompare(E.name??"","es")),[e]),m=b=>{if(b.preventDefault(),!l.name.trim()){d({type:"error",text:"El nombre es obligatorio."});return}const E={name:l.name.trim(),colorHex:l.colorHex,descriptionMarkdown:l.descriptionMarkdown};l.id?(n(l.id,E),d({type:"success",text:"Objetivo actualizado."})):(t(E),d({type:"success",text:"Objetivo creado."})),a(Kd)},y=b=>{a({id:b.id,name:b.name,colorHex:b.colorHex,descriptionMarkdown:b.descriptionMarkdown})},v=b=>{const E=r(b);d(E?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},k=()=>{if(e.length===0){d({type:"error",text:"No hay objetivos a los que asignar colores."});return}const b=[...wy];e.map((j,A)=>{const N=b[A%b.length];return{id:j.id,colorHex:N}}).forEach(({id:j,colorHex:A})=>n(j,{colorHex:A})),d({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),x.jsx("p",{className:"text-white/60",children:"Define categorías de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),x.jsx("div",{className:"flex flex-wrap gap-3",children:x.jsx("button",{type:"button",className:"btn-secondary",onClick:k,children:"Repartir colores"})})]}),c&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${c.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:c.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:l.id?"Editar objetivo":"Nuevo objetivo"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:m,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:l.name,onChange:b=>a(E=>({...E,name:b.target.value})),placeholder:"Ej. Resistencia, Técnica, Juego",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),x.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:l.colorHex,onChange:b=>a(E=>({...E,colorHex:b.target.value})),"aria-label":"Elegir color personalizado"}),x.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:l.colorHex,onChange:b=>a(E=>({...E,colorHex:b.target.value})),placeholder:"#60a5fa","aria-label":"Código hex del color"})]}),x.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:wy.map(b=>x.jsx("button",{type:"button",onClick:()=>a(E=>({...E,colorHex:b})),className:tt("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",l.colorHex.toLowerCase()===b.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:b},"aria-label":`Seleccionar color ${b}`,children:l.colorHex.toLowerCase()===b.toLowerCase()&&x.jsx("span",{className:"text-xs font-semibold text-slate-900",children:"✓"})},b))})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:l.descriptionMarkdown,onChange:b=>a(E=>({...E,descriptionMarkdown:b.target.value})),placeholder:"Explica cuándo usar este tipo de trabajo, objetivos pedagógicos, etc."})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:l.id?"Guardar objetivo":"Crear objetivo"}),l.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(Kd),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-6",children:p.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripción."}):p.map(b=>x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsx(kr,{objective:b}),x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[x.jsxs("span",{children:[f.get(b.id)??0," trabajos"]}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>y(b),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>v(b.id),children:"Eliminar"})]})]}),x.jsx(el,{content:b.descriptionMarkdown})]},b.id))})]})]})}const Gd={name:"",notes:"",active:!0};function HD(){const e=Ne(p=>p.assistants),t=Ne(p=>p.addAssistant),n=Ne(p=>p.updateAssistant),r=Ne(p=>p.deleteAssistant),[s,l]=S.useState(Gd),[a,c]=S.useState(null),d=p=>{if(p.preventDefault(),!s.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const m={name:s.name.trim(),notes:s.notes,active:s.active};s.id?(n(s.id,m),c({type:"success",text:"Asistente actualizado."})):(t(m),c({type:"success",text:"Asistente añadido."})),l(Gd)},f=p=>{l({id:p.id,name:p.name,notes:p.notes??"",active:p.active})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),x.jsx("p",{className:"text-white/60",children:"Mantén una lista base de alumnado para registrar asistencia rápidamente durante cada sesión."})]})}),a&&x.jsx("div",{className:tt("mt-4 rounded-2xl border px-4 py-3 text-sm",a.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:a.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:s.id?"Editar asistente":"Nuevo asistente"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:d,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:s.name,onChange:p=>l(m=>({...m,name:p.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:s.notes,onChange:p=>l(m=>({...m,notes:p.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:s.active,onChange:p=>l(m=>({...m,active:p.target.checked}))}),x.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecerá en los listados de asistencia)"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:s.id?"Guardar asistente":"Añadir asistente"}),s.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l(Gd),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-4",children:e.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todavía no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(p=>x.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:p.name}),p.notes?x.jsx("p",{className:"text-sm text-white/60",children:p.notes}):null]}),x.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[x.jsx("span",{className:tt("rounded-full border px-3 py-1 text-xs font-semibold",p.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:p.active?"Activo":"Inactivo"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(p),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(p.id),children:"Eliminar"})]})]})]},p.id))})]})]})}function Ss(e,t){return x.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[x.jsx("span",{children:e}),x.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function VD(){var d,f,p,m,y,v;const e=Ne(k=>k.exportBackup),t=Ne(k=>k.importBackup),[n,r]=S.useState(null),[s,l]=S.useState(null),a=()=>{try{const k=e(),b=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),E=URL.createObjectURL(b),j=document.createElement("a");j.href=E,j.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,j.click(),URL.revokeObjectURL(E),r({type:"success",text:"Backup exportado correctamente."})}catch(k){console.error(k),r({type:"error",text:"No se pudo exportar el backup."})}},c=async k=>{var E;const b=(E=k.target.files)==null?void 0:E[0];if(b)try{const j=await b.text(),A=JSON.parse(j);t(A),l(A),r({type:"success",text:"Datos importados correctamente."})}catch(j){console.error(j),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON válido."})}finally{k.target.value=""}};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),x.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu información en JSON versionado para compartir o restaurar en cualquier momento."})]}),x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[x.jsx("button",{type:"button",className:"btn-primary",onClick:a,children:"Descargar backup"}),x.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",x.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:c})]})]})]}),n&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),s&&x.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:"Última importación"}),x.jsxs("p",{className:"text-sm text-white/60",children:["Versión del backup: ",s.version]}),x.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[Ss("Objetivos",((d=s.objetivos)==null?void 0:d.length)??0),Ss("Trabajos",((f=s.trabajos)==null?void 0:f.length)??0),Ss("Sesiones",((p=s.sesiones)==null?void 0:p.length)??0),Ss("Asistentes",((m=s.asistentes)==null?void 0:m.length)??0),Ss("Sesiones · Trabajos",((y=s.sesiones_trabajos)==null?void 0:y.length)??0),Ss("Sesiones · Asistencias",((v=s.sesiones_asistencias)==null?void 0:v.length)??0)]})]}),x.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[x.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),x.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[x.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),x.jsx("li",{children:"Antes de importar, realiza una exportación por seguridad. La restauración sobrescribe los datos actuales sin posibilidad de deshacer."}),x.jsx("li",{children:"Los backups mantienen los IDs, así que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function qD(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=yu(),[s,l]=S.useState("login"),[a,c]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState(""),[y,v]=S.useState(!1),[k,b]=S.useState(null),[E,j]=S.useState(null);if(!r&&n)return x.jsx(Wf,{to:"/",replace:!0});const A=async U=>{if(U.preventDefault(),b(null),j(null),!a||!d){b("Introduce tu email y contraseña.");return}if(s==="register"&&d!==p){b("Las contraseñas no coinciden.");return}try{v(!0),s==="login"?await e(a,d):(await t(a,d),j("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesión."))}catch(K){const L=K instanceof Error?K.message:"No se pudo completar la operación.";b(L)}finally{v(!1)}},N=()=>{l(U=>U==="login"?"register":"login"),b(null),j(null),f(""),m("")};return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:x.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[x.jsxs("header",{className:"mb-8 text-center",children:[x.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),x.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:s==="login"?"Inicia sesión":"Crea tu cuenta"}),x.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),x.jsxs("form",{className:"space-y-5",onSubmit:A,children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),x.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:a,onChange:U=>c(U.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contraseña"}),x.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:d,onChange:U=>f(U.target.value),autoComplete:s==="login"?"current-password":"new-password"})]}),s==="register"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contraseña"}),x.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:p,onChange:U=>m(U.target.value),autoComplete:"new-password"})]}),k&&x.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:k}),E&&x.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:E}),x.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:y,children:y?"Procesando…":s==="login"?"Entrar":"Crear cuenta"})]}),x.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:s==="login"?x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:N,children:"¿No tienes cuenta? Regístrate"}):x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:N,children:"¿Ya tienes cuenta? Inicia sesión"})})]})})}const YD="/sport-planner/".replace(/\/$/,""),xy=[{to:"/",label:"Home"},{to:"/plan",label:"Planificar"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function KD(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),{user:s,signOut:l}=yu(),a=async()=>{try{r(!0),await l()}catch(c){console.error("No se pudo cerrar sesión",c)}finally{r(!1),t(!1)}};return x.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[x.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[x.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),x.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increíbles"})]})]}),x.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[x.jsx("nav",{className:"flex items-center gap-2",children:xy.map(c=>x.jsx(yg,{to:c.to,className:({isActive:d})=>`rounded-full px-4 py-2 text-sm font-medium transition ${d?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:c.label},c.to))}),x.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-white/50",children:"Sesión iniciada"}),x.jsx("p",{className:"text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"})]}),x.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]}),x.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),x.jsxs(Dg,{open:e,onClose:t,className:"md:hidden",children:[x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),x.jsxs(Dg.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegación"}),x.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"mt-6 flex flex-col gap-2",children:xy.map(c=>x.jsx(yg,{to:c.to,className:({isActive:d})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${d?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:c.label},c.to))}),x.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesión iniciada"}),x.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"}),x.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]})]})]})}function GD(){return nj(),x.jsxs("div",{className:"min-h-screen pb-16",children:[x.jsx(KD,{}),x.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:x.jsx(Py,{})})]})}function JD(){return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),x.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner…"})]})})}function QD(){const{session:e,loading:t}=yu(),n=oi();return t?x.jsx(JD,{}):e?x.jsx(Py,{}):x.jsx(Wf,{to:"/login",replace:!0,state:{from:n}})}function XD(){return x.jsx(u1,{basename:YD||void 0,children:x.jsxs(e1,{children:[x.jsx(Fn,{path:"/login",element:x.jsx(qD,{})}),x.jsx(Fn,{element:x.jsx(QD,{}),children:x.jsxs(Fn,{element:x.jsx(GD,{}),children:[x.jsx(Fn,{index:!0,element:x.jsx(HR,{})}),x.jsx(Fn,{path:"plan",element:x.jsx($D,{})}),x.jsx(Fn,{path:"catalog",element:x.jsx(BD,{})}),x.jsx(Fn,{path:"objectives",element:x.jsx(WD,{})}),x.jsx(Fn,{path:"assistants",element:x.jsx(HD,{})}),x.jsx(Fn,{path:"backups",element:x.jsx(VD,{})})]})}),x.jsx(Fn,{path:"*",element:x.jsx(Wf,{to:"/",replace:!0})})]})})}Ne.getState().hydrate();uk.createRoot(document.getElementById("root")).render(x.jsx(me.StrictMode,{children:x.jsx(qC,{children:x.jsx(XD,{})})}));
