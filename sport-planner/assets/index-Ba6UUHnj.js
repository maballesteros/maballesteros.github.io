function KS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ho(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GS(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var df={exports:{}},ol={},ff={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function JS(){if(Rv)return Ae;Rv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=p&&I[p]||I["@@iterator"],typeof I=="function"?I:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function E(I,M,_){this.props=I,this.context=M,this.refs=S,this.updater=_||g}E.prototype.isReactComponent={},E.prototype.setState=function(I,M){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,M,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function C(){}C.prototype=E.prototype;function N(I,M,_){this.props=I,this.context=M,this.refs=S,this.updater=_||g}var R=N.prototype=new C;R.constructor=N,b(R,E.prototype),R.isPureReactComponent=!0;var z=Array.isArray,B=Object.prototype.hasOwnProperty,A={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function ne(I,M,_){var Y,te={},Z=null,se=null;if(M!=null)for(Y in M.ref!==void 0&&(se=M.ref),M.key!==void 0&&(Z=""+M.key),M)B.call(M,Y)&&!K.hasOwnProperty(Y)&&(te[Y]=M[Y]);var ue=arguments.length-2;if(ue===1)te.children=_;else if(1<ue){for(var pe=Array(ue),he=0;he<ue;he++)pe[he]=arguments[he+2];te.children=pe}if(I&&I.defaultProps)for(Y in ue=I.defaultProps,ue)te[Y]===void 0&&(te[Y]=ue[Y]);return{$$typeof:e,type:I,key:Z,ref:se,props:te,_owner:A.current}}function ie(I,M){return{$$typeof:e,type:I.type,key:M,ref:I.ref,props:I.props,_owner:I._owner}}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function L(I){var M={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(_){return M[_]})}var X=/\/+/g;function G(I,M){return typeof I=="object"&&I!==null&&I.key!=null?L(""+I.key):M.toString(36)}function O(I,M,_,Y,te){var Z=typeof I;(Z==="undefined"||Z==="boolean")&&(I=null);var se=!1;if(I===null)se=!0;else switch(Z){case"string":case"number":se=!0;break;case"object":switch(I.$$typeof){case e:case t:se=!0}}if(se)return se=I,te=te(se),I=Y===""?"."+G(se,0):Y,z(te)?(_="",I!=null&&(_=I.replace(X,"$&/")+"/"),O(te,M,_,"",function(he){return he})):te!=null&&(D(te)&&(te=ie(te,_+(!te.key||se&&se.key===te.key?"":(""+te.key).replace(X,"$&/")+"/")+I)),M.push(te)),1;if(se=0,Y=Y===""?".":Y+":",z(I))for(var ue=0;ue<I.length;ue++){Z=I[ue];var pe=Y+G(Z,ue);se+=O(Z,M,_,pe,te)}else if(pe=v(I),typeof pe=="function")for(I=pe.call(I),ue=0;!(Z=I.next()).done;)Z=Z.value,pe=Y+G(Z,ue++),se+=O(Z,M,_,pe,te);else if(Z==="object")throw M=String(I),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return se}function W(I,M,_){if(I==null)return I;var Y=[],te=0;return O(I,Y,"","",function(Z){return M.call(_,Z,te++)}),Y}function $(I){if(I._status===-1){var M=I._result;M=M(),M.then(function(_){(I._status===0||I._status===-1)&&(I._status=1,I._result=_)},function(_){(I._status===0||I._status===-1)&&(I._status=2,I._result=_)}),I._status===-1&&(I._status=0,I._result=M)}if(I._status===1)return I._result.default;throw I._result}var U={current:null},P={transition:null},q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:P,ReactCurrentOwner:A};function T(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:W,forEach:function(I,M,_){W(I,function(){M.apply(this,arguments)},_)},count:function(I){var M=0;return W(I,function(){M++}),M},toArray:function(I){return W(I,function(M){return M})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ae.Component=E,Ae.Fragment=n,Ae.Profiler=s,Ae.PureComponent=N,Ae.StrictMode=r,Ae.Suspense=c,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Ae.act=T,Ae.cloneElement=function(I,M,_){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var Y=b({},I.props),te=I.key,Z=I.ref,se=I._owner;if(M!=null){if(M.ref!==void 0&&(Z=M.ref,se=A.current),M.key!==void 0&&(te=""+M.key),I.type&&I.type.defaultProps)var ue=I.type.defaultProps;for(pe in M)B.call(M,pe)&&!K.hasOwnProperty(pe)&&(Y[pe]=M[pe]===void 0&&ue!==void 0?ue[pe]:M[pe])}var pe=arguments.length-2;if(pe===1)Y.children=_;else if(1<pe){ue=Array(pe);for(var he=0;he<pe;he++)ue[he]=arguments[he+2];Y.children=ue}return{$$typeof:e,type:I.type,key:te,ref:Z,props:Y,_owner:se}},Ae.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},Ae.createElement=ne,Ae.createFactory=function(I){var M=ne.bind(null,I);return M.type=I,M},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(I){return{$$typeof:u,render:I}},Ae.isValidElement=D,Ae.lazy=function(I){return{$$typeof:h,_payload:{_status:-1,_result:I},_init:$}},Ae.memo=function(I,M){return{$$typeof:f,type:I,compare:M===void 0?null:M}},Ae.startTransition=function(I){var M=P.transition;P.transition={};try{I()}finally{P.transition=M}},Ae.unstable_act=T,Ae.useCallback=function(I,M){return U.current.useCallback(I,M)},Ae.useContext=function(I){return U.current.useContext(I)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(I){return U.current.useDeferredValue(I)},Ae.useEffect=function(I,M){return U.current.useEffect(I,M)},Ae.useId=function(){return U.current.useId()},Ae.useImperativeHandle=function(I,M,_){return U.current.useImperativeHandle(I,M,_)},Ae.useInsertionEffect=function(I,M){return U.current.useInsertionEffect(I,M)},Ae.useLayoutEffect=function(I,M){return U.current.useLayoutEffect(I,M)},Ae.useMemo=function(I,M){return U.current.useMemo(I,M)},Ae.useReducer=function(I,M,_){return U.current.useReducer(I,M,_)},Ae.useRef=function(I){return U.current.useRef(I)},Ae.useState=function(I){return U.current.useState(I)},Ae.useSyncExternalStore=function(I,M,_){return U.current.useSyncExternalStore(I,M,_)},Ae.useTransition=function(){return U.current.useTransition()},Ae.version="18.3.1",Ae}var Pv;function tc(){return Pv||(Pv=1,ff.exports=JS()),ff.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function QS(){if(Av)return ol;Av=1;var e=tc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,f){var h,p={},v=null,g=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(g=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:t,type:u,key:v,ref:g,props:p,_owner:s.current}}return ol.Fragment=n,ol.jsx=a,ol.jsxs=a,ol}var Ov;function XS(){return Ov||(Ov=1,df.exports=QS()),df.exports}var x=XS(),k=tc();const me=ho(k),Ru=KS({__proto__:null,default:me},[k]);var su={},hf={exports:{}},ln={},pf={exports:{}},mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function ZS(){return Dv||(Dv=1,(function(e){function t(P,q){var T=P.length;P.push(q);e:for(;0<T;){var I=T-1>>>1,M=P[I];if(0<s(M,q))P[I]=q,P[T]=M,T=I;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var q=P[0],T=P.pop();if(T!==q){P[0]=T;e:for(var I=0,M=P.length,_=M>>>1;I<_;){var Y=2*(I+1)-1,te=P[Y],Z=Y+1,se=P[Z];if(0>s(te,T))Z<M&&0>s(se,te)?(P[I]=se,P[Z]=T,I=Z):(P[I]=te,P[Y]=T,I=Y);else if(Z<M&&0>s(se,T))P[I]=se,P[Z]=T,I=Z;else break e}}return q}function s(P,q){var T=P.sortIndex-q.sortIndex;return T!==0?T:P.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var c=[],f=[],h=1,p=null,v=3,g=!1,b=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(P){for(var q=n(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=P)r(f),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(f)}}function z(P){if(S=!1,R(P),!b)if(n(c)!==null)b=!0,$(B);else{var q=n(f);q!==null&&U(z,q.startTime-P)}}function B(P,q){b=!1,S&&(S=!1,C(ne),ne=-1),g=!0;var T=v;try{for(R(q),p=n(c);p!==null&&(!(p.expirationTime>q)||P&&!L());){var I=p.callback;if(typeof I=="function"){p.callback=null,v=p.priorityLevel;var M=I(p.expirationTime<=q);q=e.unstable_now(),typeof M=="function"?p.callback=M:p===n(c)&&r(c),R(q)}else r(c);p=n(c)}if(p!==null)var _=!0;else{var Y=n(f);Y!==null&&U(z,Y.startTime-q),_=!1}return _}finally{p=null,v=T,g=!1}}var A=!1,K=null,ne=-1,ie=5,D=-1;function L(){return!(e.unstable_now()-D<ie)}function X(){if(K!==null){var P=e.unstable_now();D=P;var q=!0;try{q=K(!0,P)}finally{q?G():(A=!1,K=null)}}else A=!1}var G;if(typeof N=="function")G=function(){N(X)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,W=O.port2;O.port1.onmessage=X,G=function(){W.postMessage(null)}}else G=function(){E(X,0)};function $(P){K=P,A||(A=!0,G())}function U(P,q){ne=E(function(){P(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,$(B))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var T=v;v=q;try{return P()}finally{v=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var T=v;v=P;try{return q()}finally{v=T}},e.unstable_scheduleCallback=function(P,q,T){var I=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?I+T:I):T=I,P){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=T+M,P={id:h++,callback:q,priorityLevel:P,startTime:T,expirationTime:M,sortIndex:-1},T>I?(P.sortIndex=T,t(f,P),n(c)===null&&P===n(f)&&(S?(C(ne),ne=-1):S=!0,U(z,T-I))):(P.sortIndex=M,t(c,P),b||g||(b=!0,$(B))),P},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(P){var q=v;return function(){var T=v;v=q;try{return P.apply(this,arguments)}finally{v=T}}}})(mf)),mf}var Lv;function eE(){return Lv||(Lv=1,pf.exports=ZS()),pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function tE(){if($v)return ln;$v=1;var e=tc(),t=eE();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(i){return c.call(p,i)?!0:c.call(h,i)?!1:f.test(i)?p[i]=!0:(h[i]=!0,!1)}function g(i,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,l,d,m){if(l===null||typeof l>"u"||g(i,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(i,l,d,m,y,w,j){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=i,this.type=l,this.sanitizeURL=w,this.removeEmptyString=j}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];E[l]=new S(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(C,N);E[l]=new S(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(C,N);E[l]=new S(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(C,N);E[l]=new S(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,l,d,m){var y=E.hasOwnProperty(l)?E[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,d,y,m)&&(d=null),m||y===null?v(l)&&(d===null?i.removeAttribute(l):i.setAttribute(l,""+d)):y.mustUseProperty?i[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,m=y.attributeNamespace,d===null?i.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?i.setAttributeNS(m,l,d):i.setAttribute(l,d))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),A=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),P=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var T=Object.assign,I;function M(i){if(I===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);I=l&&l[1]||""}return`
`+I+i}var _=!1;function Y(i,l){if(!i||_)return"";_=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var m=ee}Reflect.construct(i,[],l)}else{try{l.call()}catch(ee){m=ee}i.call(l.prototype)}else{try{throw Error()}catch(ee){m=ee}i()}}catch(ee){if(ee&&m&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),w=m.stack.split(`
`),j=y.length-1,F=w.length-1;1<=j&&0<=F&&y[j]!==w[F];)F--;for(;1<=j&&0<=F;j--,F--)if(y[j]!==w[F]){if(j!==1||F!==1)do if(j--,F--,0>F||y[j]!==w[F]){var H=`
`+y[j].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=j&&0<=F);break}}}finally{_=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?M(i):""}function te(i){switch(i.tag){case 5:return M(i.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return i=Y(i.type,!1),i;case 11:return i=Y(i.type.render,!1),i;case 1:return i=Y(i.type,!0),i;default:return""}}function Z(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case K:return"Fragment";case A:return"Portal";case ie:return"Profiler";case ne:return"StrictMode";case G:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case X:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case W:return l=i.displayName||null,l!==null?l:Z(i.type)||"Memo";case $:l=i._payload,i=i._init;try{return Z(i(l))}catch{}}return null}function se(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(l);case 8:return l===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function pe(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function he(i){var l=pe(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return y.call(this)},set:function(j){m=""+j,w.call(this,j)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(j){m=""+j},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Ie(i){i._valueTracker||(i._valueTracker=he(i))}function $e(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return i&&(m=pe(i)?i.checked?"true":"false":i.value),i=m,i!==d?(l.setValue(i),!0):!1}function Ue(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ct(i,l){var d=l.checked;return T({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Cn(i,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=ue(l.value!=null?l.value:d),i._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function jn(i,l){l=l.checked,l!=null&&R(i,"checked",l,!1)}function jr(i,l){jn(i,l);var d=ue(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?or(i,l.type,d):l.hasOwnProperty("defaultValue")&&or(i,l.type,ue(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Ti(i,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,d||l===i.value||(i.value=l),i.defaultValue=l}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function or(i,l,d){(l!=="number"||Ue(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var Nt=Array.isArray;function hn(i,l,d,m){if(i=i.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<i.length;d++)y=l.hasOwnProperty("$"+i[d].value),i[d].selected!==y&&(i[d].selected=y),y&&m&&(i[d].defaultSelected=!0)}else{for(d=""+ue(d),l=null,y=0;y<i.length;y++){if(i[y].value===d){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}l!==null||i[y].disabled||(l=i[y])}l!==null&&(l.selected=!0)}}function lr(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return T({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ii(i,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Nt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}i._wrapperState={initialValue:ue(d)}}function Ni(i,l){var d=ue(l.value),m=ue(l.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),l.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),m!=null&&(i.defaultValue=""+m)}function hs(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function re(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?re(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var be,Ne=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,y){MSApp.execUnsafeLocalFunction(function(){return i(l,d,m,y)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=be.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function De(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var Ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tn=["Webkit","ms","Moz","O"];Object.keys(Ye).forEach(function(i){Tn.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Ye[l]=Ye[i]})});function Zt(i,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Ye.hasOwnProperty(i)&&Ye[i]?(""+l).trim():l+"px"}function ar(i,l){i=i.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=Zt(d,l[d],m);d==="float"&&(d="cssFloat"),m?i.setProperty(d,y):i[d]=y}}var Un=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ht(i,l){if(l){if(Un[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function In(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=null;function Eo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _o=null,qr=null,nt=null;function Ot(i){if(i=Vo(i)){if(typeof _o!="function")throw Error(n(280));var l=i.stateNode;l&&(l=xa(l),_o(i.stateNode,i.type,l))}}function Dt(i){qr?nt?nt.push(i):nt=[i]:qr=i}function Bn(){if(qr){var i=qr,l=nt;if(nt=qr=null,Ot(i),l)for(i=0;i<l.length;i++)Ot(l[i])}}function qt(i,l){return i(l)}function Lt(){}var en=!1;function Tr(i,l,d){if(en)return i(l,d);en=!0;try{return qt(i,l,d)}finally{en=!1,(qr!==null||nt!==null)&&(Lt(),Bn())}}function rt(i,l){var d=i.stateNode;if(d===null)return null;var m=xa(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Nn=!1;if(u)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Nn=!1}function Wn(i,l,d,m,y,w,j,F,H){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(d,ee)}catch(le){this.onError(le)}}var Hn=!1,ur=null,pn=!1,Ir=null,Co={onError:function(i){Hn=!0,ur=i}};function n1(i,l,d,m,y,w,j,F,H){Hn=!1,ur=null,Wn.apply(Co,arguments)}function r1(i,l,d,m,y,w,j,F,H){if(n1.apply(this,arguments),Hn){if(Hn){var ee=ur;Hn=!1,ur=null}else throw Error(n(198));pn||(pn=!0,Ir=ee)}}function Ri(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function em(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function tm(i){if(Ri(i)!==i)throw Error(n(188))}function i1(i){var l=i.alternate;if(!l){if(l=Ri(i),l===null)throw Error(n(188));return l!==i?null:i}for(var d=i,m=l;;){var y=d.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===d)return tm(y),i;if(w===m)return tm(y),l;w=w.sibling}throw Error(n(188))}if(d.return!==m.return)d=y,m=w;else{for(var j=!1,F=y.child;F;){if(F===d){j=!0,d=y,m=w;break}if(F===m){j=!0,m=y,d=w;break}F=F.sibling}if(!j){for(F=w.child;F;){if(F===d){j=!0,d=w,m=y;break}if(F===m){j=!0,m=w,d=y;break}F=F.sibling}if(!j)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:l}function nm(i){return i=i1(i),i!==null?rm(i):null}function rm(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=rm(i);if(l!==null)return l;i=i.sibling}return null}var im=t.unstable_scheduleCallback,sm=t.unstable_cancelCallback,s1=t.unstable_shouldYield,o1=t.unstable_requestPaint,dt=t.unstable_now,l1=t.unstable_getCurrentPriorityLevel,Nc=t.unstable_ImmediatePriority,om=t.unstable_UserBlockingPriority,ea=t.unstable_NormalPriority,a1=t.unstable_LowPriority,lm=t.unstable_IdlePriority,ta=null,cr=null;function u1(i){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(ta,i,void 0,(i.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:f1,c1=Math.log,d1=Math.LN2;function f1(i){return i>>>=0,i===0?32:31-(c1(i)/d1|0)|0}var na=64,ra=4194304;function jo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ia(i,l){var d=i.pendingLanes;if(d===0)return 0;var m=0,y=i.suspendedLanes,w=i.pingedLanes,j=d&268435455;if(j!==0){var F=j&~y;F!==0?m=jo(F):(w&=j,w!==0&&(m=jo(w)))}else j=d&~y,j!==0?m=jo(j):w!==0&&(m=jo(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=m;0<l;)d=31-Vn(l),y=1<<d,m|=i[d],l&=~y;return m}function h1(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p1(i,l){for(var d=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes;0<w;){var j=31-Vn(w),F=1<<j,H=y[j];H===-1?((F&d)===0||(F&m)!==0)&&(y[j]=h1(F,l)):H<=l&&(i.expiredLanes|=F),w&=~F}}function Rc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function am(){var i=na;return na<<=1,(na&4194240)===0&&(na=64),i}function Pc(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function To(i,l,d){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Vn(l),i[l]=d}function m1(i,l){var d=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<d;){var y=31-Vn(d),w=1<<y;l[y]=0,m[y]=-1,i[y]=-1,d&=~w}}function Ac(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var m=31-Vn(d),y=1<<m;y&l|i[m]&l&&(i[m]|=l),d&=~y}}var Be=0;function um(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var cm,Oc,dm,fm,hm,Dc=!1,sa=[],Yr=null,Kr=null,Gr=null,Io=new Map,No=new Map,Jr=[],g1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pm(i,l){switch(i){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Io.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(l.pointerId)}}function Ro(i,l,d,m,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=Vo(l),l!==null&&Oc(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),i)}function v1(i,l,d,m,y){switch(l){case"focusin":return Yr=Ro(Yr,i,l,d,m,y),!0;case"dragenter":return Kr=Ro(Kr,i,l,d,m,y),!0;case"mouseover":return Gr=Ro(Gr,i,l,d,m,y),!0;case"pointerover":var w=y.pointerId;return Io.set(w,Ro(Io.get(w)||null,i,l,d,m,y)),!0;case"gotpointercapture":return w=y.pointerId,No.set(w,Ro(No.get(w)||null,i,l,d,m,y)),!0}return!1}function mm(i){var l=Pi(i.target);if(l!==null){var d=Ri(l);if(d!==null){if(l=d.tag,l===13){if(l=em(d),l!==null){i.blockedOn=l,hm(i.priority,function(){dm(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function oa(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=$c(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var m=new d.constructor(d.type,d);At=m,d.target.dispatchEvent(m),At=null}else return l=Vo(d),l!==null&&Oc(l),i.blockedOn=d,!1;l.shift()}return!0}function gm(i,l,d){oa(i)&&d.delete(l)}function y1(){Dc=!1,Yr!==null&&oa(Yr)&&(Yr=null),Kr!==null&&oa(Kr)&&(Kr=null),Gr!==null&&oa(Gr)&&(Gr=null),Io.forEach(gm),No.forEach(gm)}function Po(i,l){i.blockedOn===l&&(i.blockedOn=null,Dc||(Dc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,y1)))}function Ao(i){function l(y){return Po(y,i)}if(0<sa.length){Po(sa[0],i);for(var d=1;d<sa.length;d++){var m=sa[d];m.blockedOn===i&&(m.blockedOn=null)}}for(Yr!==null&&Po(Yr,i),Kr!==null&&Po(Kr,i),Gr!==null&&Po(Gr,i),Io.forEach(l),No.forEach(l),d=0;d<Jr.length;d++)m=Jr[d],m.blockedOn===i&&(m.blockedOn=null);for(;0<Jr.length&&(d=Jr[0],d.blockedOn===null);)mm(d),d.blockedOn===null&&Jr.shift()}var ps=z.ReactCurrentBatchConfig,la=!0;function w1(i,l,d,m){var y=Be,w=ps.transition;ps.transition=null;try{Be=1,Lc(i,l,d,m)}finally{Be=y,ps.transition=w}}function x1(i,l,d,m){var y=Be,w=ps.transition;ps.transition=null;try{Be=4,Lc(i,l,d,m)}finally{Be=y,ps.transition=w}}function Lc(i,l,d,m){if(la){var y=$c(i,l,d,m);if(y===null)ed(i,l,m,aa,d),pm(i,m);else if(v1(y,i,l,d,m))m.stopPropagation();else if(pm(i,m),l&4&&-1<g1.indexOf(i)){for(;y!==null;){var w=Vo(y);if(w!==null&&cm(w),w=$c(i,l,d,m),w===null&&ed(i,l,m,aa,d),w===y)break;y=w}y!==null&&m.stopPropagation()}else ed(i,l,m,null,d)}}var aa=null;function $c(i,l,d,m){if(aa=null,i=Eo(m),i=Pi(i),i!==null)if(l=Ri(i),l===null)i=null;else if(d=l.tag,d===13){if(i=em(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return aa=i,null}function vm(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l1()){case Nc:return 1;case om:return 4;case ea:case a1:return 16;case lm:return 536870912;default:return 16}default:return 16}}var Qr=null,Mc=null,ua=null;function ym(){if(ua)return ua;var i,l=Mc,d=l.length,m,y="value"in Qr?Qr.value:Qr.textContent,w=y.length;for(i=0;i<d&&l[i]===y[i];i++);var j=d-i;for(m=1;m<=j&&l[d-m]===y[w-m];m++);return ua=y.slice(i,1<m?1-m:void 0)}function ca(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function da(){return!0}function wm(){return!1}function mn(i){function l(d,m,y,w,j){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=j,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(d=i[F],this[F]=d?d(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?da:wm,this.isPropagationStopped=wm,this}return T(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da}),l}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fc=mn(ms),Oo=T({},ms,{view:0,detail:0}),b1=mn(Oo),zc,Uc,Do,fa=T({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Do&&(Do&&i.type==="mousemove"?(zc=i.screenX-Do.screenX,Uc=i.screenY-Do.screenY):Uc=zc=0,Do=i),zc)},movementY:function(i){return"movementY"in i?i.movementY:Uc}}),xm=mn(fa),k1=T({},fa,{dataTransfer:0}),S1=mn(k1),E1=T({},Oo,{relatedTarget:0}),Bc=mn(E1),_1=T({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),C1=mn(_1),j1=T({},ms,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),T1=mn(j1),I1=T({},ms,{data:0}),bm=mn(I1),N1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A1(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=P1[i])?!!l[i]:!1}function Wc(){return A1}var O1=T({},Oo,{key:function(i){if(i.key){var l=N1[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?R1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),D1=mn(O1),L1=T({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),km=mn(L1),$1=T({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),M1=mn($1),F1=T({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=mn(F1),U1=T({},fa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),B1=mn(U1),W1=[9,13,27,32],Hc=u&&"CompositionEvent"in window,Lo=null;u&&"documentMode"in document&&(Lo=document.documentMode);var H1=u&&"TextEvent"in window&&!Lo,Sm=u&&(!Hc||Lo&&8<Lo&&11>=Lo),Em=" ",_m=!1;function Cm(i,l){switch(i){case"keyup":return W1.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gs=!1;function V1(i,l){switch(i){case"compositionend":return jm(l);case"keypress":return l.which!==32?null:(_m=!0,Em);case"textInput":return i=l.data,i===Em&&_m?null:i;default:return null}}function q1(i,l){if(gs)return i==="compositionend"||!Hc&&Cm(i,l)?(i=ym(),ua=Mc=Qr=null,gs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Sm&&l.locale!=="ko"?null:l.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tm(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Y1[i.type]:l==="textarea"}function Im(i,l,d,m){Dt(m),l=va(l,"onChange"),0<l.length&&(d=new Fc("onChange","change",null,d,m),i.push({event:d,listeners:l}))}var $o=null,Mo=null;function K1(i){Ym(i,0)}function ha(i){var l=bs(i);if($e(l))return i}function G1(i,l){if(i==="change")return l}var Nm=!1;if(u){var Vc;if(u){var qc="oninput"in document;if(!qc){var Rm=document.createElement("div");Rm.setAttribute("oninput","return;"),qc=typeof Rm.oninput=="function"}Vc=qc}else Vc=!1;Nm=Vc&&(!document.documentMode||9<document.documentMode)}function Pm(){$o&&($o.detachEvent("onpropertychange",Am),Mo=$o=null)}function Am(i){if(i.propertyName==="value"&&ha(Mo)){var l=[];Im(l,Mo,i,Eo(i)),Tr(K1,l)}}function J1(i,l,d){i==="focusin"?(Pm(),$o=l,Mo=d,$o.attachEvent("onpropertychange",Am)):i==="focusout"&&Pm()}function Q1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ha(Mo)}function X1(i,l){if(i==="click")return ha(l)}function Z1(i,l){if(i==="input"||i==="change")return ha(l)}function eS(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var qn=typeof Object.is=="function"?Object.is:eS;function Fo(i,l){if(qn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!c.call(l,y)||!qn(i[y],l[y]))return!1}return!0}function Om(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dm(i,l){var d=Om(i);i=0;for(var m;d;){if(d.nodeType===3){if(m=i+d.textContent.length,i<=l&&m>=l)return{node:d,offset:l-i};i=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Om(d)}}function Lm(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Lm(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function $m(){for(var i=window,l=Ue();l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=Ue(i.document)}return l}function Yc(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function tS(i){var l=$m(),d=i.focusedElem,m=i.selectionRange;if(l!==d&&d&&d.ownerDocument&&Lm(d.ownerDocument.documentElement,d)){if(m!==null&&Yc(d)){if(l=m.start,i=m.end,i===void 0&&(i=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(i,d.value.length);else if(i=(l=d.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var y=d.textContent.length,w=Math.min(m.start,y);m=m.end===void 0?w:Math.min(m.end,y),!i.extend&&w>m&&(y=m,m=w,w=y),y=Dm(d,w);var j=Dm(d,m);y&&j&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==j.node||i.focusOffset!==j.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),i.removeAllRanges(),w>m?(i.addRange(l),i.extend(j.node,j.offset)):(l.setEnd(j.node,j.offset),i.addRange(l)))}}for(l=[],i=d;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)i=l[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var nS=u&&"documentMode"in document&&11>=document.documentMode,vs=null,Kc=null,zo=null,Gc=!1;function Mm(i,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Gc||vs==null||vs!==Ue(m)||(m=vs,"selectionStart"in m&&Yc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),zo&&Fo(zo,m)||(zo=m,m=va(Kc,"onSelect"),0<m.length&&(l=new Fc("onSelect","select",null,l,d),i.push({event:l,listeners:m}),l.target=vs)))}function pa(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var ys={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionend:pa("Transition","TransitionEnd")},Jc={},Fm={};u&&(Fm=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function ma(i){if(Jc[i])return Jc[i];if(!ys[i])return i;var l=ys[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in Fm)return Jc[i]=l[d];return i}var zm=ma("animationend"),Um=ma("animationiteration"),Bm=ma("animationstart"),Wm=ma("transitionend"),Hm=new Map,Vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(i,l){Hm.set(i,l),o(l,[i])}for(var Qc=0;Qc<Vm.length;Qc++){var Xc=Vm[Qc],rS=Xc.toLowerCase(),iS=Xc[0].toUpperCase()+Xc.slice(1);Xr(rS,"on"+iS)}Xr(zm,"onAnimationEnd"),Xr(Um,"onAnimationIteration"),Xr(Bm,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(Wm,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function qm(i,l,d){var m=i.type||"unknown-event";i.currentTarget=d,r1(m,l,void 0,i),i.currentTarget=null}function Ym(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var m=i[d],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var j=m.length-1;0<=j;j--){var F=m[j],H=F.instance,ee=F.currentTarget;if(F=F.listener,H!==w&&y.isPropagationStopped())break e;qm(y,F,ee),w=H}else for(j=0;j<m.length;j++){if(F=m[j],H=F.instance,ee=F.currentTarget,F=F.listener,H!==w&&y.isPropagationStopped())break e;qm(y,F,ee),w=H}}}if(pn)throw i=Ir,pn=!1,Ir=null,i}function Qe(i,l){var d=l[od];d===void 0&&(d=l[od]=new Set);var m=i+"__bubble";d.has(m)||(Km(l,i,2,!1),d.add(m))}function Zc(i,l,d){var m=0;l&&(m|=4),Km(d,i,m,l)}var ga="_reactListening"+Math.random().toString(36).slice(2);function Bo(i){if(!i[ga]){i[ga]=!0,r.forEach(function(d){d!=="selectionchange"&&(sS.has(d)||Zc(d,!1,i),Zc(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[ga]||(l[ga]=!0,Zc("selectionchange",!1,l))}}function Km(i,l,d,m){switch(vm(l)){case 1:var y=w1;break;case 4:y=x1;break;default:y=Lc}d=y.bind(null,l,d,i),y=void 0,!Nn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(l,d,{capture:!0,passive:y}):i.addEventListener(l,d,!0):y!==void 0?i.addEventListener(l,d,{passive:y}):i.addEventListener(l,d,!1)}function ed(i,l,d,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var j=m.tag;if(j===3||j===4){var F=m.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(j===4)for(j=m.return;j!==null;){var H=j.tag;if((H===3||H===4)&&(H=j.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;j=j.return}for(;F!==null;){if(j=Pi(F),j===null)return;if(H=j.tag,H===5||H===6){m=w=j;continue e}F=F.parentNode}}m=m.return}Tr(function(){var ee=w,le=Eo(d),ae=[];e:{var oe=Hm.get(i);if(oe!==void 0){var ge=Fc,ye=i;switch(i){case"keypress":if(ca(d)===0)break e;case"keydown":case"keyup":ge=D1;break;case"focusin":ye="focus",ge=Bc;break;case"focusout":ye="blur",ge=Bc;break;case"beforeblur":case"afterblur":ge=Bc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=S1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=M1;break;case zm:case Um:case Bm:ge=C1;break;case Wm:ge=z1;break;case"scroll":ge=b1;break;case"wheel":ge=B1;break;case"copy":case"cut":case"paste":ge=T1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=km}var we=(l&4)!==0,ft=!we&&i==="scroll",J=we?oe!==null?oe+"Capture":null:oe;we=[];for(var V=ee,Q;V!==null;){Q=V;var fe=Q.stateNode;if(Q.tag===5&&fe!==null&&(Q=fe,J!==null&&(fe=rt(V,J),fe!=null&&we.push(Wo(V,fe,Q)))),ft)break;V=V.return}0<we.length&&(oe=new ge(oe,ye,null,d,le),ae.push({event:oe,listeners:we}))}}if((l&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",oe&&d!==At&&(ye=d.relatedTarget||d.fromElement)&&(Pi(ye)||ye[Nr]))break e;if((ge||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ge?(ye=d.relatedTarget||d.toElement,ge=ee,ye=ye?Pi(ye):null,ye!==null&&(ft=Ri(ye),ye!==ft||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(ge=null,ye=ee),ge!==ye)){if(we=xm,fe="onMouseLeave",J="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(we=km,fe="onPointerLeave",J="onPointerEnter",V="pointer"),ft=ge==null?oe:bs(ge),Q=ye==null?oe:bs(ye),oe=new we(fe,V+"leave",ge,d,le),oe.target=ft,oe.relatedTarget=Q,fe=null,Pi(le)===ee&&(we=new we(J,V+"enter",ye,d,le),we.target=Q,we.relatedTarget=ft,fe=we),ft=fe,ge&&ye)t:{for(we=ge,J=ye,V=0,Q=we;Q;Q=ws(Q))V++;for(Q=0,fe=J;fe;fe=ws(fe))Q++;for(;0<V-Q;)we=ws(we),V--;for(;0<Q-V;)J=ws(J),Q--;for(;V--;){if(we===J||J!==null&&we===J.alternate)break t;we=ws(we),J=ws(J)}we=null}else we=null;ge!==null&&Gm(ae,oe,ge,we,!1),ye!==null&&ft!==null&&Gm(ae,ft,ye,we,!0)}}e:{if(oe=ee?bs(ee):window,ge=oe.nodeName&&oe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&oe.type==="file")var xe=G1;else if(Tm(oe))if(Nm)xe=Z1;else{xe=Q1;var ke=J1}else(ge=oe.nodeName)&&ge.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(xe=X1);if(xe&&(xe=xe(i,ee))){Im(ae,xe,d,le);break e}ke&&ke(i,oe,ee),i==="focusout"&&(ke=oe._wrapperState)&&ke.controlled&&oe.type==="number"&&or(oe,"number",oe.value)}switch(ke=ee?bs(ee):window,i){case"focusin":(Tm(ke)||ke.contentEditable==="true")&&(vs=ke,Kc=ee,zo=null);break;case"focusout":zo=Kc=vs=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,Mm(ae,d,le);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":Mm(ae,d,le)}var Se;if(Hc)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else gs?Cm(i,d)&&(je="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(je="onCompositionStart");je&&(Sm&&d.locale!=="ko"&&(gs||je!=="onCompositionStart"?je==="onCompositionEnd"&&gs&&(Se=ym()):(Qr=le,Mc="value"in Qr?Qr.value:Qr.textContent,gs=!0)),ke=va(ee,je),0<ke.length&&(je=new bm(je,i,null,d,le),ae.push({event:je,listeners:ke}),Se?je.data=Se:(Se=jm(d),Se!==null&&(je.data=Se)))),(Se=H1?V1(i,d):q1(i,d))&&(ee=va(ee,"onBeforeInput"),0<ee.length&&(le=new bm("onBeforeInput","beforeinput",null,d,le),ae.push({event:le,listeners:ee}),le.data=Se))}Ym(ae,l)})}function Wo(i,l,d){return{instance:i,listener:l,currentTarget:d}}function va(i,l){for(var d=l+"Capture",m=[];i!==null;){var y=i,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=rt(i,d),w!=null&&m.unshift(Wo(i,w,y)),w=rt(i,l),w!=null&&m.push(Wo(i,w,y))),i=i.return}return m}function ws(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Gm(i,l,d,m,y){for(var w=l._reactName,j=[];d!==null&&d!==m;){var F=d,H=F.alternate,ee=F.stateNode;if(H!==null&&H===m)break;F.tag===5&&ee!==null&&(F=ee,y?(H=rt(d,w),H!=null&&j.unshift(Wo(d,H,F))):y||(H=rt(d,w),H!=null&&j.push(Wo(d,H,F)))),d=d.return}j.length!==0&&i.push({event:l,listeners:j})}var oS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function Jm(i){return(typeof i=="string"?i:""+i).replace(oS,`
`).replace(lS,"")}function ya(i,l,d){if(l=Jm(l),Jm(i)!==l&&d)throw Error(n(425))}function wa(){}var td=null,nd=null;function rd(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var id=typeof setTimeout=="function"?setTimeout:void 0,aS=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(i){return Qm.resolve(null).then(i).catch(cS)}:id;function cS(i){setTimeout(function(){throw i})}function sd(i,l){var d=l,m=0;do{var y=d.nextSibling;if(i.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){i.removeChild(y),Ao(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);Ao(l)}function Zr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Xm(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}var xs=Math.random().toString(36).slice(2),dr="__reactFiber$"+xs,Ho="__reactProps$"+xs,Nr="__reactContainer$"+xs,od="__reactEvents$"+xs,dS="__reactListeners$"+xs,fS="__reactHandles$"+xs;function Pi(i){var l=i[dr];if(l)return l;for(var d=i.parentNode;d;){if(l=d[Nr]||d[dr]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=Xm(i);i!==null;){if(d=i[dr])return d;i=Xm(i)}return l}i=d,d=i.parentNode}return null}function Vo(i){return i=i[dr]||i[Nr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function bs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function xa(i){return i[Ho]||null}var ld=[],ks=-1;function ei(i){return{current:i}}function Xe(i){0>ks||(i.current=ld[ks],ld[ks]=null,ks--)}function Ke(i,l){ks++,ld[ks]=i.current,i.current=l}var ti={},Mt=ei(ti),tn=ei(!1),Ai=ti;function Ss(i,l){var d=i.type.contextTypes;if(!d)return ti;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in d)y[w]=l[w];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=y),y}function nn(i){return i=i.childContextTypes,i!=null}function ba(){Xe(tn),Xe(Mt)}function Zm(i,l,d){if(Mt.current!==ti)throw Error(n(168));Ke(Mt,l),Ke(tn,d)}function eg(i,l,d){var m=i.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,se(i)||"Unknown",y));return T({},d,m)}function ka(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ti,Ai=Mt.current,Ke(Mt,i),Ke(tn,tn.current),!0}function tg(i,l,d){var m=i.stateNode;if(!m)throw Error(n(169));d?(i=eg(i,l,Ai),m.__reactInternalMemoizedMergedChildContext=i,Xe(tn),Xe(Mt),Ke(Mt,i)):Xe(tn),Ke(tn,d)}var Rr=null,Sa=!1,ad=!1;function ng(i){Rr===null?Rr=[i]:Rr.push(i)}function hS(i){Sa=!0,ng(i)}function ni(){if(!ad&&Rr!==null){ad=!0;var i=0,l=Be;try{var d=Rr;for(Be=1;i<d.length;i++){var m=d[i];do m=m(!0);while(m!==null)}Rr=null,Sa=!1}catch(y){throw Rr!==null&&(Rr=Rr.slice(i+1)),im(Nc,ni),y}finally{Be=l,ad=!1}}return null}var Es=[],_s=0,Ea=null,_a=0,Rn=[],Pn=0,Oi=null,Pr=1,Ar="";function Di(i,l){Es[_s++]=_a,Es[_s++]=Ea,Ea=i,_a=l}function rg(i,l,d){Rn[Pn++]=Pr,Rn[Pn++]=Ar,Rn[Pn++]=Oi,Oi=i;var m=Pr;i=Ar;var y=32-Vn(m)-1;m&=~(1<<y),d+=1;var w=32-Vn(l)+y;if(30<w){var j=y-y%5;w=(m&(1<<j)-1).toString(32),m>>=j,y-=j,Pr=1<<32-Vn(l)+y|d<<y|m,Ar=w+i}else Pr=1<<w|d<<y|m,Ar=i}function ud(i){i.return!==null&&(Di(i,1),rg(i,1,0))}function cd(i){for(;i===Ea;)Ea=Es[--_s],Es[_s]=null,_a=Es[--_s],Es[_s]=null;for(;i===Oi;)Oi=Rn[--Pn],Rn[Pn]=null,Ar=Rn[--Pn],Rn[Pn]=null,Pr=Rn[--Pn],Rn[Pn]=null}var gn=null,vn=null,tt=!1,Yn=null;function ig(i,l){var d=Ln(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=i,l=i.deletions,l===null?(i.deletions=[d],i.flags|=16):l.push(d)}function sg(i,l){switch(i.tag){case 5:var d=i.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,gn=i,vn=Zr(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,gn=i,vn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Oi!==null?{id:Pr,overflow:Ar}:null,i.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Ln(18,null,null,0),d.stateNode=l,d.return=i,i.child=d,gn=i,vn=null,!0):!1;default:return!1}}function dd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function fd(i){if(tt){var l=vn;if(l){var d=l;if(!sg(i,l)){if(dd(i))throw Error(n(418));l=Zr(d.nextSibling);var m=gn;l&&sg(i,l)?ig(m,d):(i.flags=i.flags&-4097|2,tt=!1,gn=i)}}else{if(dd(i))throw Error(n(418));i.flags=i.flags&-4097|2,tt=!1,gn=i}}}function og(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function Ca(i){if(i!==gn)return!1;if(!tt)return og(i),tt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!rd(i.type,i.memoizedProps)),l&&(l=vn)){if(dd(i))throw lg(),Error(n(418));for(;l;)ig(i,l),l=Zr(l.nextSibling)}if(og(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(l===0){vn=Zr(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}i=i.nextSibling}vn=null}}else vn=gn?Zr(i.stateNode.nextSibling):null;return!0}function lg(){for(var i=vn;i;)i=Zr(i.nextSibling)}function Cs(){vn=gn=null,tt=!1}function hd(i){Yn===null?Yn=[i]:Yn.push(i)}var pS=z.ReactCurrentBatchConfig;function qo(i,l,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,i));var y=m,w=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(j){var F=y.refs;j===null?delete F[w]:F[w]=j},l._stringRef=w,l)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function ja(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function ag(i){var l=i._init;return l(i._payload)}function ug(i){function l(J,V){if(i){var Q=J.deletions;Q===null?(J.deletions=[V],J.flags|=16):Q.push(V)}}function d(J,V){if(!i)return null;for(;V!==null;)l(J,V),V=V.sibling;return null}function m(J,V){for(J=new Map;V!==null;)V.key!==null?J.set(V.key,V):J.set(V.index,V),V=V.sibling;return J}function y(J,V){return J=ci(J,V),J.index=0,J.sibling=null,J}function w(J,V,Q){return J.index=Q,i?(Q=J.alternate,Q!==null?(Q=Q.index,Q<V?(J.flags|=2,V):Q):(J.flags|=2,V)):(J.flags|=1048576,V)}function j(J){return i&&J.alternate===null&&(J.flags|=2),J}function F(J,V,Q,fe){return V===null||V.tag!==6?(V=sf(Q,J.mode,fe),V.return=J,V):(V=y(V,Q),V.return=J,V)}function H(J,V,Q,fe){var xe=Q.type;return xe===K?le(J,V,Q.props.children,fe,Q.key):V!==null&&(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&ag(xe)===V.type)?(fe=y(V,Q.props),fe.ref=qo(J,V,Q),fe.return=J,fe):(fe=Qa(Q.type,Q.key,Q.props,null,J.mode,fe),fe.ref=qo(J,V,Q),fe.return=J,fe)}function ee(J,V,Q,fe){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=of(Q,J.mode,fe),V.return=J,V):(V=y(V,Q.children||[]),V.return=J,V)}function le(J,V,Q,fe,xe){return V===null||V.tag!==7?(V=Wi(Q,J.mode,fe,xe),V.return=J,V):(V=y(V,Q),V.return=J,V)}function ae(J,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=sf(""+V,J.mode,Q),V.return=J,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case B:return Q=Qa(V.type,V.key,V.props,null,J.mode,Q),Q.ref=qo(J,null,V),Q.return=J,Q;case A:return V=of(V,J.mode,Q),V.return=J,V;case $:var fe=V._init;return ae(J,fe(V._payload),Q)}if(Nt(V)||q(V))return V=Wi(V,J.mode,Q,null),V.return=J,V;ja(J,V)}return null}function oe(J,V,Q,fe){var xe=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return xe!==null?null:F(J,V,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return Q.key===xe?H(J,V,Q,fe):null;case A:return Q.key===xe?ee(J,V,Q,fe):null;case $:return xe=Q._init,oe(J,V,xe(Q._payload),fe)}if(Nt(Q)||q(Q))return xe!==null?null:le(J,V,Q,fe,null);ja(J,Q)}return null}function ge(J,V,Q,fe,xe){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return J=J.get(Q)||null,F(V,J,""+fe,xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case B:return J=J.get(fe.key===null?Q:fe.key)||null,H(V,J,fe,xe);case A:return J=J.get(fe.key===null?Q:fe.key)||null,ee(V,J,fe,xe);case $:var ke=fe._init;return ge(J,V,Q,ke(fe._payload),xe)}if(Nt(fe)||q(fe))return J=J.get(Q)||null,le(V,J,fe,xe,null);ja(V,fe)}return null}function ye(J,V,Q,fe){for(var xe=null,ke=null,Se=V,je=V=0,Ct=null;Se!==null&&je<Q.length;je++){Se.index>je?(Ct=Se,Se=null):Ct=Se.sibling;var Fe=oe(J,Se,Q[je],fe);if(Fe===null){Se===null&&(Se=Ct);break}i&&Se&&Fe.alternate===null&&l(J,Se),V=w(Fe,V,je),ke===null?xe=Fe:ke.sibling=Fe,ke=Fe,Se=Ct}if(je===Q.length)return d(J,Se),tt&&Di(J,je),xe;if(Se===null){for(;je<Q.length;je++)Se=ae(J,Q[je],fe),Se!==null&&(V=w(Se,V,je),ke===null?xe=Se:ke.sibling=Se,ke=Se);return tt&&Di(J,je),xe}for(Se=m(J,Se);je<Q.length;je++)Ct=ge(Se,J,je,Q[je],fe),Ct!==null&&(i&&Ct.alternate!==null&&Se.delete(Ct.key===null?je:Ct.key),V=w(Ct,V,je),ke===null?xe=Ct:ke.sibling=Ct,ke=Ct);return i&&Se.forEach(function(di){return l(J,di)}),tt&&Di(J,je),xe}function we(J,V,Q,fe){var xe=q(Q);if(typeof xe!="function")throw Error(n(150));if(Q=xe.call(Q),Q==null)throw Error(n(151));for(var ke=xe=null,Se=V,je=V=0,Ct=null,Fe=Q.next();Se!==null&&!Fe.done;je++,Fe=Q.next()){Se.index>je?(Ct=Se,Se=null):Ct=Se.sibling;var di=oe(J,Se,Fe.value,fe);if(di===null){Se===null&&(Se=Ct);break}i&&Se&&di.alternate===null&&l(J,Se),V=w(di,V,je),ke===null?xe=di:ke.sibling=di,ke=di,Se=Ct}if(Fe.done)return d(J,Se),tt&&Di(J,je),xe;if(Se===null){for(;!Fe.done;je++,Fe=Q.next())Fe=ae(J,Fe.value,fe),Fe!==null&&(V=w(Fe,V,je),ke===null?xe=Fe:ke.sibling=Fe,ke=Fe);return tt&&Di(J,je),xe}for(Se=m(J,Se);!Fe.done;je++,Fe=Q.next())Fe=ge(Se,J,je,Fe.value,fe),Fe!==null&&(i&&Fe.alternate!==null&&Se.delete(Fe.key===null?je:Fe.key),V=w(Fe,V,je),ke===null?xe=Fe:ke.sibling=Fe,ke=Fe);return i&&Se.forEach(function(YS){return l(J,YS)}),tt&&Di(J,je),xe}function ft(J,V,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===K&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:e:{for(var xe=Q.key,ke=V;ke!==null;){if(ke.key===xe){if(xe=Q.type,xe===K){if(ke.tag===7){d(J,ke.sibling),V=y(ke,Q.props.children),V.return=J,J=V;break e}}else if(ke.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&ag(xe)===ke.type){d(J,ke.sibling),V=y(ke,Q.props),V.ref=qo(J,ke,Q),V.return=J,J=V;break e}d(J,ke);break}else l(J,ke);ke=ke.sibling}Q.type===K?(V=Wi(Q.props.children,J.mode,fe,Q.key),V.return=J,J=V):(fe=Qa(Q.type,Q.key,Q.props,null,J.mode,fe),fe.ref=qo(J,V,Q),fe.return=J,J=fe)}return j(J);case A:e:{for(ke=Q.key;V!==null;){if(V.key===ke)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){d(J,V.sibling),V=y(V,Q.children||[]),V.return=J,J=V;break e}else{d(J,V);break}else l(J,V);V=V.sibling}V=of(Q,J.mode,fe),V.return=J,J=V}return j(J);case $:return ke=Q._init,ft(J,V,ke(Q._payload),fe)}if(Nt(Q))return ye(J,V,Q,fe);if(q(Q))return we(J,V,Q,fe);ja(J,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,V!==null&&V.tag===6?(d(J,V.sibling),V=y(V,Q),V.return=J,J=V):(d(J,V),V=sf(Q,J.mode,fe),V.return=J,J=V),j(J)):d(J,V)}return ft}var js=ug(!0),cg=ug(!1),Ta=ei(null),Ia=null,Ts=null,pd=null;function md(){pd=Ts=Ia=null}function gd(i){var l=Ta.current;Xe(Ta),i._currentValue=l}function vd(i,l,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===d)break;i=i.return}}function Is(i,l){Ia=i,pd=Ts=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(rn=!0),i.firstContext=null)}function An(i){var l=i._currentValue;if(pd!==i)if(i={context:i,memoizedValue:l,next:null},Ts===null){if(Ia===null)throw Error(n(308));Ts=i,Ia.dependencies={lanes:0,firstContext:i}}else Ts=Ts.next=i;return l}var Li=null;function yd(i){Li===null?Li=[i]:Li.push(i)}function dg(i,l,d,m){var y=l.interleaved;return y===null?(d.next=d,yd(l)):(d.next=y.next,y.next=d),l.interleaved=d,Or(i,m)}function Or(i,l){i.lanes|=l;var d=i.alternate;for(d!==null&&(d.lanes|=l),d=i,i=i.return;i!==null;)i.childLanes|=l,d=i.alternate,d!==null&&(d.childLanes|=l),d=i,i=i.return;return d.tag===3?d.stateNode:null}var ri=!1;function wd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fg(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Dr(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function ii(i,l,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Me&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,Or(i,d)}return y=m.interleaved,y===null?(l.next=l,yd(m)):(l.next=y.next,y.next=l),m.interleaved=l,Or(i,d)}function Na(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,Ac(i,d)}}function hg(i,l){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var j={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?y=w=j:w=w.next=j,d=d.next}while(d!==null);w===null?y=w=l:w=w.next=l}else y=w=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,effects:m.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}function Ra(i,l,d,m){var y=i.updateQueue;ri=!1;var w=y.firstBaseUpdate,j=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var H=F,ee=H.next;H.next=null,j===null?w=ee:j.next=ee,j=H;var le=i.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==j&&(F===null?le.firstBaseUpdate=ee:F.next=ee,le.lastBaseUpdate=H))}if(w!==null){var ae=y.baseState;j=0,le=ee=H=null,F=w;do{var oe=F.lane,ge=F.eventTime;if((m&oe)===oe){le!==null&&(le=le.next={eventTime:ge,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var ye=i,we=F;switch(oe=l,ge=d,we.tag){case 1:if(ye=we.payload,typeof ye=="function"){ae=ye.call(ge,ae,oe);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,oe=typeof ye=="function"?ye.call(ge,ae,oe):ye,oe==null)break e;ae=T({},ae,oe);break e;case 2:ri=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,oe=y.effects,oe===null?y.effects=[F]:oe.push(F))}else ge={eventTime:ge,lane:oe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(ee=le=ge,H=ae):le=le.next=ge,j|=oe;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;oe=F,F=oe.next,oe.next=null,y.lastBaseUpdate=oe,y.shared.pending=null}}while(!0);if(le===null&&(H=ae),y.baseState=H,y.firstBaseUpdate=ee,y.lastBaseUpdate=le,l=y.shared.interleaved,l!==null){y=l;do j|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Fi|=j,i.lanes=j,i.memoizedState=ae}}function pg(i,l,d){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var m=i[l],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var Yo={},fr=ei(Yo),Ko=ei(Yo),Go=ei(Yo);function $i(i){if(i===Yo)throw Error(n(174));return i}function xd(i,l){switch(Ke(Go,l),Ke(Ko,i),Ke(fr,Yo),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:de(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=de(l,i)}Xe(fr),Ke(fr,l)}function Ns(){Xe(fr),Xe(Ko),Xe(Go)}function mg(i){$i(Go.current);var l=$i(fr.current),d=de(l,i.type);l!==d&&(Ke(Ko,i),Ke(fr,d))}function bd(i){Ko.current===i&&(Xe(fr),Xe(Ko))}var it=ei(0);function Pa(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var kd=[];function Sd(){for(var i=0;i<kd.length;i++)kd[i]._workInProgressVersionPrimary=null;kd.length=0}var Aa=z.ReactCurrentDispatcher,Ed=z.ReactCurrentBatchConfig,Mi=0,st=null,xt=null,Et=null,Oa=!1,Jo=!1,Qo=0,mS=0;function Ft(){throw Error(n(321))}function _d(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!qn(i[d],l[d]))return!1;return!0}function Cd(i,l,d,m,y,w){if(Mi=w,st=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Aa.current=i===null||i.memoizedState===null?wS:xS,i=d(m,y),Jo){w=0;do{if(Jo=!1,Qo=0,25<=w)throw Error(n(301));w+=1,Et=xt=null,l.updateQueue=null,Aa.current=bS,i=d(m,y)}while(Jo)}if(Aa.current=$a,l=xt!==null&&xt.next!==null,Mi=0,Et=xt=st=null,Oa=!1,l)throw Error(n(300));return i}function jd(){var i=Qo!==0;return Qo=0,i}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?st.memoizedState=Et=i:Et=Et.next=i,Et}function On(){if(xt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=xt.next;var l=Et===null?st.memoizedState:Et.next;if(l!==null)Et=l,xt=i;else{if(i===null)throw Error(n(310));xt=i,i={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Et===null?st.memoizedState=Et=i:Et=Et.next=i}return Et}function Xo(i,l){return typeof l=="function"?l(i):l}function Td(i){var l=On(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var m=xt,y=m.baseQueue,w=d.pending;if(w!==null){if(y!==null){var j=y.next;y.next=w.next,w.next=j}m.baseQueue=y=w,d.pending=null}if(y!==null){w=y.next,m=m.baseState;var F=j=null,H=null,ee=w;do{var le=ee.lane;if((Mi&le)===le)H!==null&&(H=H.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),m=ee.hasEagerState?ee.eagerState:i(m,ee.action);else{var ae={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};H===null?(F=H=ae,j=m):H=H.next=ae,st.lanes|=le,Fi|=le}ee=ee.next}while(ee!==null&&ee!==w);H===null?j=m:H.next=F,qn(m,l.memoizedState)||(rn=!0),l.memoizedState=m,l.baseState=j,l.baseQueue=H,d.lastRenderedState=m}if(i=d.interleaved,i!==null){y=i;do w=y.lane,st.lanes|=w,Fi|=w,y=y.next;while(y!==i)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Id(i){var l=On(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var m=d.dispatch,y=d.pending,w=l.memoizedState;if(y!==null){d.pending=null;var j=y=y.next;do w=i(w,j.action),j=j.next;while(j!==y);qn(w,l.memoizedState)||(rn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function gg(){}function vg(i,l){var d=st,m=On(),y=l(),w=!qn(m.memoizedState,y);if(w&&(m.memoizedState=y,rn=!0),m=m.queue,Nd(xg.bind(null,d,m,i),[i]),m.getSnapshot!==l||w||Et!==null&&Et.memoizedState.tag&1){if(d.flags|=2048,Zo(9,wg.bind(null,d,m,y,l),void 0,null),_t===null)throw Error(n(349));(Mi&30)!==0||yg(d,l,y)}return y}function yg(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=st.updateQueue,l===null?(l={lastEffect:null,stores:null},st.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function wg(i,l,d,m){l.value=d,l.getSnapshot=m,bg(l)&&kg(i)}function xg(i,l,d){return d(function(){bg(l)&&kg(i)})}function bg(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!qn(i,d)}catch{return!0}}function kg(i){var l=Or(i,1);l!==null&&Qn(l,i,1,-1)}function Sg(i){var l=hr();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:i},l.queue=i,i=i.dispatch=yS.bind(null,st,i),[l.memoizedState,i]}function Zo(i,l,d,m){return i={tag:i,create:l,destroy:d,deps:m,next:null},l=st.updateQueue,l===null?(l={lastEffect:null,stores:null},st.updateQueue=l,l.lastEffect=i.next=i):(d=l.lastEffect,d===null?l.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,l.lastEffect=i)),i}function Eg(){return On().memoizedState}function Da(i,l,d,m){var y=hr();st.flags|=i,y.memoizedState=Zo(1|l,d,void 0,m===void 0?null:m)}function La(i,l,d,m){var y=On();m=m===void 0?null:m;var w=void 0;if(xt!==null){var j=xt.memoizedState;if(w=j.destroy,m!==null&&_d(m,j.deps)){y.memoizedState=Zo(l,d,w,m);return}}st.flags|=i,y.memoizedState=Zo(1|l,d,w,m)}function _g(i,l){return Da(8390656,8,i,l)}function Nd(i,l){return La(2048,8,i,l)}function Cg(i,l){return La(4,2,i,l)}function jg(i,l){return La(4,4,i,l)}function Tg(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Ig(i,l,d){return d=d!=null?d.concat([i]):null,La(4,4,Tg.bind(null,l,i),d)}function Rd(){}function Ng(i,l){var d=On();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&_d(l,m[1])?m[0]:(d.memoizedState=[i,l],i)}function Rg(i,l){var d=On();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&_d(l,m[1])?m[0]:(i=i(),d.memoizedState=[i,l],i)}function Pg(i,l,d){return(Mi&21)===0?(i.baseState&&(i.baseState=!1,rn=!0),i.memoizedState=d):(qn(d,l)||(d=am(),st.lanes|=d,Fi|=d,i.baseState=!0),l)}function gS(i,l){var d=Be;Be=d!==0&&4>d?d:4,i(!0);var m=Ed.transition;Ed.transition={};try{i(!1),l()}finally{Be=d,Ed.transition=m}}function Ag(){return On().memoizedState}function vS(i,l,d){var m=ai(i);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Og(i))Dg(l,d);else if(d=dg(i,l,d,m),d!==null){var y=Kt();Qn(d,i,m,y),Lg(d,l,m)}}function yS(i,l,d){var m=ai(i),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Og(i))Dg(l,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var j=l.lastRenderedState,F=w(j,d);if(y.hasEagerState=!0,y.eagerState=F,qn(F,j)){var H=l.interleaved;H===null?(y.next=y,yd(l)):(y.next=H.next,H.next=y),l.interleaved=y;return}}catch{}finally{}d=dg(i,l,y,m),d!==null&&(y=Kt(),Qn(d,i,m,y),Lg(d,l,m))}}function Og(i){var l=i.alternate;return i===st||l!==null&&l===st}function Dg(i,l){Jo=Oa=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function Lg(i,l,d){if((d&4194240)!==0){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,Ac(i,d)}}var $a={readContext:An,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},wS={readContext:An,useCallback:function(i,l){return hr().memoizedState=[i,l===void 0?null:l],i},useContext:An,useEffect:_g,useImperativeHandle:function(i,l,d){return d=d!=null?d.concat([i]):null,Da(4194308,4,Tg.bind(null,l,i),d)},useLayoutEffect:function(i,l){return Da(4194308,4,i,l)},useInsertionEffect:function(i,l){return Da(4,2,i,l)},useMemo:function(i,l){var d=hr();return l=l===void 0?null:l,i=i(),d.memoizedState=[i,l],i},useReducer:function(i,l,d){var m=hr();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},m.queue=i,i=i.dispatch=vS.bind(null,st,i),[m.memoizedState,i]},useRef:function(i){var l=hr();return i={current:i},l.memoizedState=i},useState:Sg,useDebugValue:Rd,useDeferredValue:function(i){return hr().memoizedState=i},useTransition:function(){var i=Sg(!1),l=i[0];return i=gS.bind(null,i[1]),hr().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,d){var m=st,y=hr();if(tt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),_t===null)throw Error(n(349));(Mi&30)!==0||yg(m,l,d)}y.memoizedState=d;var w={value:d,getSnapshot:l};return y.queue=w,_g(xg.bind(null,m,w,i),[i]),m.flags|=2048,Zo(9,wg.bind(null,m,w,d,l),void 0,null),d},useId:function(){var i=hr(),l=_t.identifierPrefix;if(tt){var d=Ar,m=Pr;d=(m&~(1<<32-Vn(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Qo++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=mS++,l=":"+l+"r"+d.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},xS={readContext:An,useCallback:Ng,useContext:An,useEffect:Nd,useImperativeHandle:Ig,useInsertionEffect:Cg,useLayoutEffect:jg,useMemo:Rg,useReducer:Td,useRef:Eg,useState:function(){return Td(Xo)},useDebugValue:Rd,useDeferredValue:function(i){var l=On();return Pg(l,xt.memoizedState,i)},useTransition:function(){var i=Td(Xo)[0],l=On().memoizedState;return[i,l]},useMutableSource:gg,useSyncExternalStore:vg,useId:Ag,unstable_isNewReconciler:!1},bS={readContext:An,useCallback:Ng,useContext:An,useEffect:Nd,useImperativeHandle:Ig,useInsertionEffect:Cg,useLayoutEffect:jg,useMemo:Rg,useReducer:Id,useRef:Eg,useState:function(){return Id(Xo)},useDebugValue:Rd,useDeferredValue:function(i){var l=On();return xt===null?l.memoizedState=i:Pg(l,xt.memoizedState,i)},useTransition:function(){var i=Id(Xo)[0],l=On().memoizedState;return[i,l]},useMutableSource:gg,useSyncExternalStore:vg,useId:Ag,unstable_isNewReconciler:!1};function Kn(i,l){if(i&&i.defaultProps){l=T({},l),i=i.defaultProps;for(var d in i)l[d]===void 0&&(l[d]=i[d]);return l}return l}function Pd(i,l,d,m){l=i.memoizedState,d=d(m,l),d=d==null?l:T({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Ma={isMounted:function(i){return(i=i._reactInternals)?Ri(i)===i:!1},enqueueSetState:function(i,l,d){i=i._reactInternals;var m=Kt(),y=ai(i),w=Dr(m,y);w.payload=l,d!=null&&(w.callback=d),l=ii(i,w,y),l!==null&&(Qn(l,i,y,m),Na(l,i,y))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var m=Kt(),y=ai(i),w=Dr(m,y);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=ii(i,w,y),l!==null&&(Qn(l,i,y,m),Na(l,i,y))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=Kt(),m=ai(i),y=Dr(d,m);y.tag=2,l!=null&&(y.callback=l),l=ii(i,y,m),l!==null&&(Qn(l,i,m,d),Na(l,i,m))}};function $g(i,l,d,m,y,w,j){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,w,j):l.prototype&&l.prototype.isPureReactComponent?!Fo(d,m)||!Fo(y,w):!0}function Mg(i,l,d){var m=!1,y=ti,w=l.contextType;return typeof w=="object"&&w!==null?w=An(w):(y=nn(l)?Ai:Mt.current,m=l.contextTypes,w=(m=m!=null)?Ss(i,y):ti),l=new l(d,w),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ma,i.stateNode=l,l._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=w),l}function Fg(i,l,d,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==i&&Ma.enqueueReplaceState(l,l.state,null)}function Ad(i,l,d,m){var y=i.stateNode;y.props=d,y.state=i.memoizedState,y.refs={},wd(i);var w=l.contextType;typeof w=="object"&&w!==null?y.context=An(w):(w=nn(l)?Ai:Mt.current,y.context=Ss(i,w)),y.state=i.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Pd(i,l,w,d),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Ma.enqueueReplaceState(y,y.state,null),Ra(i,d,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Rs(i,l){try{var d="",m=l;do d+=te(m),m=m.return;while(m);var y=d}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:l,stack:y,digest:null}}function Od(i,l,d){return{value:i,source:null,stack:d??null,digest:l??null}}function Dd(i,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var kS=typeof WeakMap=="function"?WeakMap:Map;function zg(i,l,d){d=Dr(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){Va||(Va=!0,Jd=m),Dd(i,l)},d}function Ug(i,l,d){d=Dr(-1,d),d.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;d.payload=function(){return m(y)},d.callback=function(){Dd(i,l)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Dd(i,l),typeof m!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})}),d}function Bg(i,l,d){var m=i.pingCache;if(m===null){m=i.pingCache=new kS;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(y.add(d),i=LS.bind(null,i,l,d),l.then(i,i))}function Wg(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Hg(i,l,d,m,y){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Dr(-1,1),l.tag=2,ii(d,l,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var SS=z.ReactCurrentOwner,rn=!1;function Yt(i,l,d,m){l.child=i===null?cg(l,null,d,m):js(l,i.child,d,m)}function Vg(i,l,d,m,y){d=d.render;var w=l.ref;return Is(l,y),m=Cd(i,l,d,m,w,y),d=jd(),i!==null&&!rn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,Lr(i,l,y)):(tt&&d&&ud(l),l.flags|=1,Yt(i,l,m,y),l.child)}function qg(i,l,d,m,y){if(i===null){var w=d.type;return typeof w=="function"&&!rf(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,Yg(i,l,w,m,y)):(i=Qa(d.type,null,m,l,l.mode,y),i.ref=l.ref,i.return=l,l.child=i)}if(w=i.child,(i.lanes&y)===0){var j=w.memoizedProps;if(d=d.compare,d=d!==null?d:Fo,d(j,m)&&i.ref===l.ref)return Lr(i,l,y)}return l.flags|=1,i=ci(w,m),i.ref=l.ref,i.return=l,l.child=i}function Yg(i,l,d,m,y){if(i!==null){var w=i.memoizedProps;if(Fo(w,m)&&i.ref===l.ref)if(rn=!1,l.pendingProps=m=w,(i.lanes&y)!==0)(i.flags&131072)!==0&&(rn=!0);else return l.lanes=i.lanes,Lr(i,l,y)}return Ld(i,l,d,m,y)}function Kg(i,l,d){var m=l.pendingProps,y=m.children,w=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(As,yn),yn|=d;else{if((d&1073741824)===0)return i=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ke(As,yn),yn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:d,Ke(As,yn),yn|=m}else w!==null?(m=w.baseLanes|d,l.memoizedState=null):m=d,Ke(As,yn),yn|=m;return Yt(i,l,y,d),l.child}function Gg(i,l){var d=l.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Ld(i,l,d,m,y){var w=nn(d)?Ai:Mt.current;return w=Ss(l,w),Is(l,y),d=Cd(i,l,d,m,w,y),m=jd(),i!==null&&!rn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,Lr(i,l,y)):(tt&&m&&ud(l),l.flags|=1,Yt(i,l,d,y),l.child)}function Jg(i,l,d,m,y){if(nn(d)){var w=!0;ka(l)}else w=!1;if(Is(l,y),l.stateNode===null)za(i,l),Mg(l,d,m),Ad(l,d,m,y),m=!0;else if(i===null){var j=l.stateNode,F=l.memoizedProps;j.props=F;var H=j.context,ee=d.contextType;typeof ee=="object"&&ee!==null?ee=An(ee):(ee=nn(d)?Ai:Mt.current,ee=Ss(l,ee));var le=d.getDerivedStateFromProps,ae=typeof le=="function"||typeof j.getSnapshotBeforeUpdate=="function";ae||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(F!==m||H!==ee)&&Fg(l,j,m,ee),ri=!1;var oe=l.memoizedState;j.state=oe,Ra(l,m,j,y),H=l.memoizedState,F!==m||oe!==H||tn.current||ri?(typeof le=="function"&&(Pd(l,d,le,m),H=l.memoizedState),(F=ri||$g(l,d,F,m,oe,H,ee))?(ae||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=H),j.props=m,j.state=H,j.context=ee,m=F):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{j=l.stateNode,fg(i,l),F=l.memoizedProps,ee=l.type===l.elementType?F:Kn(l.type,F),j.props=ee,ae=l.pendingProps,oe=j.context,H=d.contextType,typeof H=="object"&&H!==null?H=An(H):(H=nn(d)?Ai:Mt.current,H=Ss(l,H));var ge=d.getDerivedStateFromProps;(le=typeof ge=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(F!==ae||oe!==H)&&Fg(l,j,m,H),ri=!1,oe=l.memoizedState,j.state=oe,Ra(l,m,j,y);var ye=l.memoizedState;F!==ae||oe!==ye||tn.current||ri?(typeof ge=="function"&&(Pd(l,d,ge,m),ye=l.memoizedState),(ee=ri||$g(l,d,ee,m,oe,ye,H)||!1)?(le||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(m,ye,H),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(m,ye,H)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||F===i.memoizedProps&&oe===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&oe===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ye),j.props=m,j.state=ye,j.context=H,m=ee):(typeof j.componentDidUpdate!="function"||F===i.memoizedProps&&oe===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&oe===i.memoizedState||(l.flags|=1024),m=!1)}return $d(i,l,d,m,w,y)}function $d(i,l,d,m,y,w){Gg(i,l);var j=(l.flags&128)!==0;if(!m&&!j)return y&&tg(l,d,!1),Lr(i,l,w);m=l.stateNode,SS.current=l;var F=j&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,i!==null&&j?(l.child=js(l,i.child,null,w),l.child=js(l,null,F,w)):Yt(i,l,F,w),l.memoizedState=m.state,y&&tg(l,d,!0),l.child}function Qg(i){var l=i.stateNode;l.pendingContext?Zm(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Zm(i,l.context,!1),xd(i,l.containerInfo)}function Xg(i,l,d,m,y){return Cs(),hd(y),l.flags|=256,Yt(i,l,d,m),l.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function Fd(i){return{baseLanes:i,cachePool:null,transitions:null}}function Zg(i,l,d){var m=l.pendingProps,y=it.current,w=!1,j=(l.flags&128)!==0,F;if((F=j)||(F=i!==null&&i.memoizedState===null?!1:(y&2)!==0),F?(w=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Ke(it,y&1),i===null)return fd(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(j=m.children,i=m.fallback,w?(m=l.mode,w=l.child,j={mode:"hidden",children:j},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=j):w=Xa(j,m,0,null),i=Wi(i,m,d,null),w.return=l,i.return=l,w.sibling=i,l.child=w,l.child.memoizedState=Fd(d),l.memoizedState=Md,i):zd(l,j));if(y=i.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return ES(i,l,j,m,F,y,d);if(w){w=m.fallback,j=l.mode,y=i.child,F=y.sibling;var H={mode:"hidden",children:m.children};return(j&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=H,l.deletions=null):(m=ci(y,H),m.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=ci(F,w):(w=Wi(w,j,d,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,j=i.child.memoizedState,j=j===null?Fd(d):{baseLanes:j.baseLanes|d,cachePool:null,transitions:j.transitions},w.memoizedState=j,w.childLanes=i.childLanes&~d,l.memoizedState=Md,m}return w=i.child,i=w.sibling,m=ci(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,i!==null&&(d=l.deletions,d===null?(l.deletions=[i],l.flags|=16):d.push(i)),l.child=m,l.memoizedState=null,m}function zd(i,l){return l=Xa({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Fa(i,l,d,m){return m!==null&&hd(m),js(l,i.child,null,d),i=zd(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function ES(i,l,d,m,y,w,j){if(d)return l.flags&256?(l.flags&=-257,m=Od(Error(n(422))),Fa(i,l,j,m)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(w=m.fallback,y=l.mode,m=Xa({mode:"visible",children:m.children},y,0,null),w=Wi(w,y,j,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&js(l,i.child,null,j),l.child.memoizedState=Fd(j),l.memoizedState=Md,w);if((l.mode&1)===0)return Fa(i,l,j,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var F=m.dgst;return m=F,w=Error(n(419)),m=Od(w,m,void 0),Fa(i,l,j,m)}if(F=(j&i.childLanes)!==0,rn||F){if(m=_t,m!==null){switch(j&-j){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|j))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Or(i,y),Qn(m,i,y,-1))}return nf(),m=Od(Error(n(421))),Fa(i,l,j,m)}return y.data==="$?"?(l.flags|=128,l.child=i.child,l=$S.bind(null,i),y._reactRetry=l,null):(i=w.treeContext,vn=Zr(y.nextSibling),gn=l,tt=!0,Yn=null,i!==null&&(Rn[Pn++]=Pr,Rn[Pn++]=Ar,Rn[Pn++]=Oi,Pr=i.id,Ar=i.overflow,Oi=l),l=zd(l,m.children),l.flags|=4096,l)}function ev(i,l,d){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),vd(i.return,l,d)}function Ud(i,l,d,m,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=y)}function tv(i,l,d){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if(Yt(i,l,m.children,d),m=it.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ev(i,d,l);else if(i.tag===19)ev(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(Ke(it,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)i=d.alternate,i!==null&&Pa(i)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Ud(l,!1,y,d,w);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(i=y.alternate,i!==null&&Pa(i)===null){l.child=y;break}i=y.sibling,y.sibling=d,d=y,y=i}Ud(l,!0,d,null,w);break;case"together":Ud(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function za(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Lr(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),Fi|=l.lanes,(d&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,d=ci(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=ci(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function _S(i,l,d){switch(l.tag){case 3:Qg(l),Cs();break;case 5:mg(l);break;case 1:nn(l.type)&&ka(l);break;case 4:xd(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;Ke(Ta,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(Ke(it,it.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?Zg(i,l,d):(Ke(it,it.current&1),i=Lr(i,l,d),i!==null?i.sibling:null);Ke(it,it.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(i.flags&128)!==0){if(m)return tv(i,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ke(it,it.current),m)break;return null;case 22:case 23:return l.lanes=0,Kg(i,l,d)}return Lr(i,l,d)}var nv,Bd,rv,iv;nv=function(i,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Bd=function(){},rv=function(i,l,d,m){var y=i.memoizedProps;if(y!==m){i=l.stateNode,$i(fr.current);var w=null;switch(d){case"input":y=ct(i,y),m=ct(i,m),w=[];break;case"select":y=T({},y,{value:void 0}),m=T({},m,{value:void 0}),w=[];break;case"textarea":y=lr(i,y),m=lr(i,m),w=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=wa)}ht(d,m);var j;d=null;for(ee in y)if(!m.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var F=y[ee];for(j in F)F.hasOwnProperty(j)&&(d||(d={}),d[j]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?w||(w=[]):(w=w||[]).push(ee,null));for(ee in m){var H=m[ee];if(F=y!=null?y[ee]:void 0,m.hasOwnProperty(ee)&&H!==F&&(H!=null||F!=null))if(ee==="style")if(F){for(j in F)!F.hasOwnProperty(j)||H&&H.hasOwnProperty(j)||(d||(d={}),d[j]="");for(j in H)H.hasOwnProperty(j)&&F[j]!==H[j]&&(d||(d={}),d[j]=H[j])}else d||(w||(w=[]),w.push(ee,d)),d=H;else ee==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,F=F?F.__html:void 0,H!=null&&F!==H&&(w=w||[]).push(ee,H)):ee==="children"?typeof H!="string"&&typeof H!="number"||(w=w||[]).push(ee,""+H):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(H!=null&&ee==="onScroll"&&Qe("scroll",i),w||F===H||(w=[])):(w=w||[]).push(ee,H))}d&&(w=w||[]).push("style",d);var ee=w;(l.updateQueue=ee)&&(l.flags|=4)}},iv=function(i,l,d,m){d!==m&&(l.flags|=4)};function el(i,l){if(!tt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function zt(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(l)for(var y=i.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=d,l}function CS(i,l,d){var m=l.pendingProps;switch(cd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(l),null;case 1:return nn(l.type)&&ba(),zt(l),null;case 3:return m=l.stateNode,Ns(),Xe(tn),Xe(Mt),Sd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Ca(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Yn!==null&&(Zd(Yn),Yn=null))),Bd(i,l),zt(l),null;case 5:bd(l);var y=$i(Go.current);if(d=l.type,i!==null&&l.stateNode!=null)rv(i,l,d,m,y),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return zt(l),null}if(i=$i(fr.current),Ca(l)){m=l.stateNode,d=l.type;var w=l.memoizedProps;switch(m[dr]=l,m[Ho]=w,i=(l.mode&1)!==0,d){case"dialog":Qe("cancel",m),Qe("close",m);break;case"iframe":case"object":case"embed":Qe("load",m);break;case"video":case"audio":for(y=0;y<Uo.length;y++)Qe(Uo[y],m);break;case"source":Qe("error",m);break;case"img":case"image":case"link":Qe("error",m),Qe("load",m);break;case"details":Qe("toggle",m);break;case"input":Cn(m,w),Qe("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},Qe("invalid",m);break;case"textarea":Ii(m,w),Qe("invalid",m)}ht(d,w),y=null;for(var j in w)if(w.hasOwnProperty(j)){var F=w[j];j==="children"?typeof F=="string"?m.textContent!==F&&(w.suppressHydrationWarning!==!0&&ya(m.textContent,F,i),y=["children",F]):typeof F=="number"&&m.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&ya(m.textContent,F,i),y=["children",""+F]):s.hasOwnProperty(j)&&F!=null&&j==="onScroll"&&Qe("scroll",m)}switch(d){case"input":Ie(m),Ti(m,w,!0);break;case"textarea":Ie(m),hs(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=wa)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{j=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=re(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=j.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=j.createElement(d,{is:m.is}):(i=j.createElement(d),d==="select"&&(j=i,m.multiple?j.multiple=!0:m.size&&(j.size=m.size))):i=j.createElementNS(i,d),i[dr]=l,i[Ho]=m,nv(i,l,!1,!1),l.stateNode=i;e:{switch(j=In(d,m),d){case"dialog":Qe("cancel",i),Qe("close",i),y=m;break;case"iframe":case"object":case"embed":Qe("load",i),y=m;break;case"video":case"audio":for(y=0;y<Uo.length;y++)Qe(Uo[y],i);y=m;break;case"source":Qe("error",i),y=m;break;case"img":case"image":case"link":Qe("error",i),Qe("load",i),y=m;break;case"details":Qe("toggle",i),y=m;break;case"input":Cn(i,m),y=ct(i,m),Qe("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=T({},m,{value:void 0}),Qe("invalid",i);break;case"textarea":Ii(i,m),y=lr(i,m),Qe("invalid",i);break;default:y=m}ht(d,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var H=F[w];w==="style"?ar(i,H):w==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ne(i,H)):w==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&De(i,H):typeof H=="number"&&De(i,""+H):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?H!=null&&w==="onScroll"&&Qe("scroll",i):H!=null&&R(i,w,H,j))}switch(d){case"input":Ie(i),Ti(i,m,!1);break;case"textarea":Ie(i),hs(i);break;case"option":m.value!=null&&i.setAttribute("value",""+ue(m.value));break;case"select":i.multiple=!!m.multiple,w=m.value,w!=null?hn(i,!!m.multiple,w,!1):m.defaultValue!=null&&hn(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=wa)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return zt(l),null;case 6:if(i&&l.stateNode!=null)iv(i,l,i.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=$i(Go.current),$i(fr.current),Ca(l)){if(m=l.stateNode,d=l.memoizedProps,m[dr]=l,(w=m.nodeValue!==d)&&(i=gn,i!==null))switch(i.tag){case 3:ya(m.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ya(m.nodeValue,d,(i.mode&1)!==0)}w&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[dr]=l,l.stateNode=m}return zt(l),null;case 13:if(Xe(it),m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&vn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)lg(),Cs(),l.flags|=98560,w=!1;else if(w=Ca(l),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[dr]=l}else Cs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),w=!1}else Yn!==null&&(Zd(Yn),Yn=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(it.current&1)!==0?bt===0&&(bt=3):nf())),l.updateQueue!==null&&(l.flags|=4),zt(l),null);case 4:return Ns(),Bd(i,l),i===null&&Bo(l.stateNode.containerInfo),zt(l),null;case 10:return gd(l.type._context),zt(l),null;case 17:return nn(l.type)&&ba(),zt(l),null;case 19:if(Xe(it),w=l.memoizedState,w===null)return zt(l),null;if(m=(l.flags&128)!==0,j=w.rendering,j===null)if(m)el(w,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(j=Pa(i),j!==null){for(l.flags|=128,el(w,!1),m=j.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)w=d,i=m,w.flags&=14680066,j=w.alternate,j===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=j.childLanes,w.lanes=j.lanes,w.child=j.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=j.memoizedProps,w.memoizedState=j.memoizedState,w.updateQueue=j.updateQueue,w.type=j.type,i=j.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return Ke(it,it.current&1|2),l.child}i=i.sibling}w.tail!==null&&dt()>Os&&(l.flags|=128,m=!0,el(w,!1),l.lanes=4194304)}else{if(!m)if(i=Pa(j),i!==null){if(l.flags|=128,m=!0,d=i.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),el(w,!0),w.tail===null&&w.tailMode==="hidden"&&!j.alternate&&!tt)return zt(l),null}else 2*dt()-w.renderingStartTime>Os&&d!==1073741824&&(l.flags|=128,m=!0,el(w,!1),l.lanes=4194304);w.isBackwards?(j.sibling=l.child,l.child=j):(d=w.last,d!==null?d.sibling=j:l.child=j,w.last=j)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=dt(),l.sibling=null,d=it.current,Ke(it,m?d&1|2:d&1),l):(zt(l),null);case 22:case 23:return tf(),m=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(yn&1073741824)!==0&&(zt(l),l.subtreeFlags&6&&(l.flags|=8192)):zt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function jS(i,l){switch(cd(l),l.tag){case 1:return nn(l.type)&&ba(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ns(),Xe(tn),Xe(Mt),Sd(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return bd(l),null;case 13:if(Xe(it),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Cs()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Xe(it),null;case 4:return Ns(),null;case 10:return gd(l.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var Ua=!1,Ut=!1,TS=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ps(i,l){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){lt(i,l,m)}else d.current=null}function Wd(i,l,d){try{d()}catch(m){lt(i,l,m)}}var sv=!1;function IS(i,l){if(td=la,i=$m(),Yc(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var j=0,F=-1,H=-1,ee=0,le=0,ae=i,oe=null;t:for(;;){for(var ge;ae!==d||y!==0&&ae.nodeType!==3||(F=j+y),ae!==w||m!==0&&ae.nodeType!==3||(H=j+m),ae.nodeType===3&&(j+=ae.nodeValue.length),(ge=ae.firstChild)!==null;)oe=ae,ae=ge;for(;;){if(ae===i)break t;if(oe===d&&++ee===y&&(F=j),oe===w&&++le===m&&(H=j),(ge=ae.nextSibling)!==null)break;ae=oe,oe=ae.parentNode}ae=ge}d=F===-1||H===-1?null:{start:F,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(nd={focusedElem:i,selectionRange:d},la=!1,ve=l;ve!==null;)if(l=ve,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ve=i;else for(;ve!==null;){l=ve;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var we=ye.memoizedProps,ft=ye.memoizedState,J=l.stateNode,V=J.getSnapshotBeforeUpdate(l.elementType===l.type?we:Kn(l.type,we),ft);J.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var Q=l.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){lt(l,l.return,fe)}if(i=l.sibling,i!==null){i.return=l.return,ve=i;break}ve=l.return}return ye=sv,sv=!1,ye}function tl(i,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var w=y.destroy;y.destroy=void 0,w!==void 0&&Wd(l,d,w)}y=y.next}while(y!==m)}}function Ba(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&i)===i){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function Hd(i){var l=i.ref;if(l!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof l=="function"?l(i):l.current=i}}function ov(i){var l=i.alternate;l!==null&&(i.alternate=null,ov(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[dr],delete l[Ho],delete l[od],delete l[dS],delete l[fS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function lv(i){return i.tag===5||i.tag===3||i.tag===4}function av(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vd(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(i,l):d.insertBefore(i,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(i,d)):(l=d,l.appendChild(i)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=wa));else if(m!==4&&(i=i.child,i!==null))for(Vd(i,l,d),i=i.sibling;i!==null;)Vd(i,l,d),i=i.sibling}function qd(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(qd(i,l,d),i=i.sibling;i!==null;)qd(i,l,d),i=i.sibling}var Rt=null,Gn=!1;function si(i,l,d){for(d=d.child;d!==null;)uv(i,l,d),d=d.sibling}function uv(i,l,d){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(ta,d)}catch{}switch(d.tag){case 5:Ut||Ps(d,l);case 6:var m=Rt,y=Gn;Rt=null,si(i,l,d),Rt=m,Gn=y,Rt!==null&&(Gn?(i=Rt,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Rt.removeChild(d.stateNode));break;case 18:Rt!==null&&(Gn?(i=Rt,d=d.stateNode,i.nodeType===8?sd(i.parentNode,d):i.nodeType===1&&sd(i,d),Ao(i)):sd(Rt,d.stateNode));break;case 4:m=Rt,y=Gn,Rt=d.stateNode.containerInfo,Gn=!0,si(i,l,d),Rt=m,Gn=y;break;case 0:case 11:case 14:case 15:if(!Ut&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var w=y,j=w.destroy;w=w.tag,j!==void 0&&((w&2)!==0||(w&4)!==0)&&Wd(d,l,j),y=y.next}while(y!==m)}si(i,l,d);break;case 1:if(!Ut&&(Ps(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(F){lt(d,l,F)}si(i,l,d);break;case 21:si(i,l,d);break;case 22:d.mode&1?(Ut=(m=Ut)||d.memoizedState!==null,si(i,l,d),Ut=m):si(i,l,d);break;default:si(i,l,d)}}function cv(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new TS),l.forEach(function(m){var y=MS.bind(null,i,m);d.has(m)||(d.add(m),m.then(y,y))})}}function Jn(i,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var w=i,j=l,F=j;e:for(;F!==null;){switch(F.tag){case 5:Rt=F.stateNode,Gn=!1;break e;case 3:Rt=F.stateNode.containerInfo,Gn=!0;break e;case 4:Rt=F.stateNode.containerInfo,Gn=!0;break e}F=F.return}if(Rt===null)throw Error(n(160));uv(w,j,y),Rt=null,Gn=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(ee){lt(y,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)dv(l,i),l=l.sibling}function dv(i,l){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Jn(l,i),pr(i),m&4){try{tl(3,i,i.return),Ba(3,i)}catch(we){lt(i,i.return,we)}try{tl(5,i,i.return)}catch(we){lt(i,i.return,we)}}break;case 1:Jn(l,i),pr(i),m&512&&d!==null&&Ps(d,d.return);break;case 5:if(Jn(l,i),pr(i),m&512&&d!==null&&Ps(d,d.return),i.flags&32){var y=i.stateNode;try{De(y,"")}catch(we){lt(i,i.return,we)}}if(m&4&&(y=i.stateNode,y!=null)){var w=i.memoizedProps,j=d!==null?d.memoizedProps:w,F=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&jn(y,w),In(F,j);var ee=In(F,w);for(j=0;j<H.length;j+=2){var le=H[j],ae=H[j+1];le==="style"?ar(y,ae):le==="dangerouslySetInnerHTML"?Ne(y,ae):le==="children"?De(y,ae):R(y,le,ae,ee)}switch(F){case"input":jr(y,w);break;case"textarea":Ni(y,w);break;case"select":var oe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var ge=w.value;ge!=null?hn(y,!!w.multiple,ge,!1):oe!==!!w.multiple&&(w.defaultValue!=null?hn(y,!!w.multiple,w.defaultValue,!0):hn(y,!!w.multiple,w.multiple?[]:"",!1))}y[Ho]=w}catch(we){lt(i,i.return,we)}}break;case 6:if(Jn(l,i),pr(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,w=i.memoizedProps;try{y.nodeValue=w}catch(we){lt(i,i.return,we)}}break;case 3:if(Jn(l,i),pr(i),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Ao(l.containerInfo)}catch(we){lt(i,i.return,we)}break;case 4:Jn(l,i),pr(i);break;case 13:Jn(l,i),pr(i),y=i.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(Gd=dt())),m&4&&cv(i);break;case 22:if(le=d!==null&&d.memoizedState!==null,i.mode&1?(Ut=(ee=Ut)||le,Jn(l,i),Ut=ee):Jn(l,i),pr(i),m&8192){if(ee=i.memoizedState!==null,(i.stateNode.isHidden=ee)&&!le&&(i.mode&1)!==0)for(ve=i,le=i.child;le!==null;){for(ae=ve=le;ve!==null;){switch(oe=ve,ge=oe.child,oe.tag){case 0:case 11:case 14:case 15:tl(4,oe,oe.return);break;case 1:Ps(oe,oe.return);var ye=oe.stateNode;if(typeof ye.componentWillUnmount=="function"){m=oe,d=oe.return;try{l=m,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(we){lt(m,d,we)}}break;case 5:Ps(oe,oe.return);break;case 22:if(oe.memoizedState!==null){pv(ae);continue}}ge!==null?(ge.return=oe,ve=ge):pv(ae)}le=le.sibling}e:for(le=null,ae=i;;){if(ae.tag===5){if(le===null){le=ae;try{y=ae.stateNode,ee?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=ae.stateNode,H=ae.memoizedProps.style,j=H!=null&&H.hasOwnProperty("display")?H.display:null,F.style.display=Zt("display",j))}catch(we){lt(i,i.return,we)}}}else if(ae.tag===6){if(le===null)try{ae.stateNode.nodeValue=ee?"":ae.memoizedProps}catch(we){lt(i,i.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;le===ae&&(le=null),ae=ae.return}le===ae&&(le=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Jn(l,i),pr(i),m&4&&cv(i);break;case 21:break;default:Jn(l,i),pr(i)}}function pr(i){var l=i.flags;if(l&2){try{e:{for(var d=i.return;d!==null;){if(lv(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(De(y,""),m.flags&=-33);var w=av(i);qd(i,w,y);break;case 3:case 4:var j=m.stateNode.containerInfo,F=av(i);Vd(i,F,j);break;default:throw Error(n(161))}}catch(H){lt(i,i.return,H)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function NS(i,l,d){ve=i,fv(i)}function fv(i,l,d){for(var m=(i.mode&1)!==0;ve!==null;){var y=ve,w=y.child;if(y.tag===22&&m){var j=y.memoizedState!==null||Ua;if(!j){var F=y.alternate,H=F!==null&&F.memoizedState!==null||Ut;F=Ua;var ee=Ut;if(Ua=j,(Ut=H)&&!ee)for(ve=y;ve!==null;)j=ve,H=j.child,j.tag===22&&j.memoizedState!==null?mv(y):H!==null?(H.return=j,ve=H):mv(y);for(;w!==null;)ve=w,fv(w),w=w.sibling;ve=y,Ua=F,Ut=ee}hv(i)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,ve=w):hv(i)}}function hv(i){for(;ve!==null;){var l=ve;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ut||Ba(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Ut)if(d===null)m.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Kn(l.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&pg(l,w,m);break;case 3:var j=l.updateQueue;if(j!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}pg(l,j,d)}break;case 5:var F=l.stateNode;if(d===null&&l.flags&4){d=F;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ae=le.dehydrated;ae!==null&&Ao(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ut||l.flags&512&&Hd(l)}catch(oe){lt(l,l.return,oe)}}if(l===i){ve=null;break}if(d=l.sibling,d!==null){d.return=l.return,ve=d;break}ve=l.return}}function pv(i){for(;ve!==null;){var l=ve;if(l===i){ve=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ve=d;break}ve=l.return}}function mv(i){for(;ve!==null;){var l=ve;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Ba(4,l)}catch(H){lt(l,d,H)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(H){lt(l,y,H)}}var w=l.return;try{Hd(l)}catch(H){lt(l,w,H)}break;case 5:var j=l.return;try{Hd(l)}catch(H){lt(l,j,H)}}}catch(H){lt(l,l.return,H)}if(l===i){ve=null;break}var F=l.sibling;if(F!==null){F.return=l.return,ve=F;break}ve=l.return}}var RS=Math.ceil,Wa=z.ReactCurrentDispatcher,Yd=z.ReactCurrentOwner,Dn=z.ReactCurrentBatchConfig,Me=0,_t=null,pt=null,Pt=0,yn=0,As=ei(0),bt=0,nl=null,Fi=0,Ha=0,Kd=0,rl=null,sn=null,Gd=0,Os=1/0,$r=null,Va=!1,Jd=null,oi=null,qa=!1,li=null,Ya=0,il=0,Qd=null,Ka=-1,Ga=0;function Kt(){return(Me&6)!==0?dt():Ka!==-1?Ka:Ka=dt()}function ai(i){return(i.mode&1)===0?1:(Me&2)!==0&&Pt!==0?Pt&-Pt:pS.transition!==null?(Ga===0&&(Ga=am()),Ga):(i=Be,i!==0||(i=window.event,i=i===void 0?16:vm(i.type)),i)}function Qn(i,l,d,m){if(50<il)throw il=0,Qd=null,Error(n(185));To(i,d,m),((Me&2)===0||i!==_t)&&(i===_t&&((Me&2)===0&&(Ha|=d),bt===4&&ui(i,Pt)),on(i,m),d===1&&Me===0&&(l.mode&1)===0&&(Os=dt()+500,Sa&&ni()))}function on(i,l){var d=i.callbackNode;p1(i,l);var m=ia(i,i===_t?Pt:0);if(m===0)d!==null&&sm(d),i.callbackNode=null,i.callbackPriority=0;else if(l=m&-m,i.callbackPriority!==l){if(d!=null&&sm(d),l===1)i.tag===0?hS(vv.bind(null,i)):ng(vv.bind(null,i)),uS(function(){(Me&6)===0&&ni()}),d=null;else{switch(um(m)){case 1:d=Nc;break;case 4:d=om;break;case 16:d=ea;break;case 536870912:d=lm;break;default:d=ea}d=_v(d,gv.bind(null,i))}i.callbackPriority=l,i.callbackNode=d}}function gv(i,l){if(Ka=-1,Ga=0,(Me&6)!==0)throw Error(n(327));var d=i.callbackNode;if(Ds()&&i.callbackNode!==d)return null;var m=ia(i,i===_t?Pt:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||l)l=Ja(i,m);else{l=m;var y=Me;Me|=2;var w=wv();(_t!==i||Pt!==l)&&($r=null,Os=dt()+500,Ui(i,l));do try{OS();break}catch(F){yv(i,F)}while(!0);md(),Wa.current=w,Me=y,pt!==null?l=0:(_t=null,Pt=0,l=bt)}if(l!==0){if(l===2&&(y=Rc(i),y!==0&&(m=y,l=Xd(i,y))),l===1)throw d=nl,Ui(i,0),ui(i,m),on(i,dt()),d;if(l===6)ui(i,m);else{if(y=i.current.alternate,(m&30)===0&&!PS(y)&&(l=Ja(i,m),l===2&&(w=Rc(i),w!==0&&(m=w,l=Xd(i,w))),l===1))throw d=nl,Ui(i,0),ui(i,m),on(i,dt()),d;switch(i.finishedWork=y,i.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:Bi(i,sn,$r);break;case 3:if(ui(i,m),(m&130023424)===m&&(l=Gd+500-dt(),10<l)){if(ia(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Kt(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=id(Bi.bind(null,i,sn,$r),l);break}Bi(i,sn,$r);break;case 4:if(ui(i,m),(m&4194240)===m)break;for(l=i.eventTimes,y=-1;0<m;){var j=31-Vn(m);w=1<<j,j=l[j],j>y&&(y=j),m&=~w}if(m=y,m=dt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*RS(m/1960))-m,10<m){i.timeoutHandle=id(Bi.bind(null,i,sn,$r),m);break}Bi(i,sn,$r);break;case 5:Bi(i,sn,$r);break;default:throw Error(n(329))}}}return on(i,dt()),i.callbackNode===d?gv.bind(null,i):null}function Xd(i,l){var d=rl;return i.current.memoizedState.isDehydrated&&(Ui(i,l).flags|=256),i=Ja(i,l),i!==2&&(l=sn,sn=d,l!==null&&Zd(l)),i}function Zd(i){sn===null?sn=i:sn.push.apply(sn,i)}function PS(i){for(var l=i;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],w=y.getSnapshot;y=y.value;try{if(!qn(w(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ui(i,l){for(l&=~Kd,l&=~Ha,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var d=31-Vn(l),m=1<<d;i[d]=-1,l&=~m}}function vv(i){if((Me&6)!==0)throw Error(n(327));Ds();var l=ia(i,0);if((l&1)===0)return on(i,dt()),null;var d=Ja(i,l);if(i.tag!==0&&d===2){var m=Rc(i);m!==0&&(l=m,d=Xd(i,m))}if(d===1)throw d=nl,Ui(i,0),ui(i,l),on(i,dt()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Bi(i,sn,$r),on(i,dt()),null}function ef(i,l){var d=Me;Me|=1;try{return i(l)}finally{Me=d,Me===0&&(Os=dt()+500,Sa&&ni())}}function zi(i){li!==null&&li.tag===0&&(Me&6)===0&&Ds();var l=Me;Me|=1;var d=Dn.transition,m=Be;try{if(Dn.transition=null,Be=1,i)return i()}finally{Be=m,Dn.transition=d,Me=l,(Me&6)===0&&ni()}}function tf(){yn=As.current,Xe(As)}function Ui(i,l){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,aS(d)),pt!==null)for(d=pt.return;d!==null;){var m=d;switch(cd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&ba();break;case 3:Ns(),Xe(tn),Xe(Mt),Sd();break;case 5:bd(m);break;case 4:Ns();break;case 13:Xe(it);break;case 19:Xe(it);break;case 10:gd(m.type._context);break;case 22:case 23:tf()}d=d.return}if(_t=i,pt=i=ci(i.current,null),Pt=yn=l,bt=0,nl=null,Kd=Ha=Fi=0,sn=rl=null,Li!==null){for(l=0;l<Li.length;l++)if(d=Li[l],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,w=d.pending;if(w!==null){var j=w.next;w.next=y,m.next=j}d.pending=m}Li=null}return i}function yv(i,l){do{var d=pt;try{if(md(),Aa.current=$a,Oa){for(var m=st.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Oa=!1}if(Mi=0,Et=xt=st=null,Jo=!1,Qo=0,Yd.current=null,d===null||d.return===null){bt=1,nl=l,pt=null;break}e:{var w=i,j=d.return,F=d,H=l;if(l=Pt,F.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ee=H,le=F,ae=le.tag;if((le.mode&1)===0&&(ae===0||ae===11||ae===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var ge=Wg(j);if(ge!==null){ge.flags&=-257,Hg(ge,j,F,w,l),ge.mode&1&&Bg(w,ee,l),l=ge,H=ee;var ye=l.updateQueue;if(ye===null){var we=new Set;we.add(H),l.updateQueue=we}else ye.add(H);break e}else{if((l&1)===0){Bg(w,ee,l),nf();break e}H=Error(n(426))}}else if(tt&&F.mode&1){var ft=Wg(j);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Hg(ft,j,F,w,l),hd(Rs(H,F));break e}}w=H=Rs(H,F),bt!==4&&(bt=2),rl===null?rl=[w]:rl.push(w),w=j;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var J=zg(w,H,l);hg(w,J);break e;case 1:F=H;var V=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(oi===null||!oi.has(Q)))){w.flags|=65536,l&=-l,w.lanes|=l;var fe=Ug(w,F,l);hg(w,fe);break e}}w=w.return}while(w!==null)}bv(d)}catch(xe){l=xe,pt===d&&d!==null&&(pt=d=d.return);continue}break}while(!0)}function wv(){var i=Wa.current;return Wa.current=$a,i===null?$a:i}function nf(){(bt===0||bt===3||bt===2)&&(bt=4),_t===null||(Fi&268435455)===0&&(Ha&268435455)===0||ui(_t,Pt)}function Ja(i,l){var d=Me;Me|=2;var m=wv();(_t!==i||Pt!==l)&&($r=null,Ui(i,l));do try{AS();break}catch(y){yv(i,y)}while(!0);if(md(),Me=d,Wa.current=m,pt!==null)throw Error(n(261));return _t=null,Pt=0,bt}function AS(){for(;pt!==null;)xv(pt)}function OS(){for(;pt!==null&&!s1();)xv(pt)}function xv(i){var l=Ev(i.alternate,i,yn);i.memoizedProps=i.pendingProps,l===null?bv(i):pt=l,Yd.current=null}function bv(i){var l=i;do{var d=l.alternate;if(i=l.return,(l.flags&32768)===0){if(d=CS(d,l,yn),d!==null){pt=d;return}}else{if(d=jS(d,l),d!==null){d.flags&=32767,pt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{bt=6,pt=null;return}}if(l=l.sibling,l!==null){pt=l;return}pt=l=i}while(l!==null);bt===0&&(bt=5)}function Bi(i,l,d){var m=Be,y=Dn.transition;try{Dn.transition=null,Be=1,DS(i,l,d,m)}finally{Dn.transition=y,Be=m}return null}function DS(i,l,d,m){do Ds();while(li!==null);if((Me&6)!==0)throw Error(n(327));d=i.finishedWork;var y=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=d.lanes|d.childLanes;if(m1(i,w),i===_t&&(pt=_t=null,Pt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||qa||(qa=!0,_v(ea,function(){return Ds(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Dn.transition,Dn.transition=null;var j=Be;Be=1;var F=Me;Me|=4,Yd.current=null,IS(i,d),dv(d,i),tS(nd),la=!!td,nd=td=null,i.current=d,NS(d),o1(),Me=F,Be=j,Dn.transition=w}else i.current=d;if(qa&&(qa=!1,li=i,Ya=y),w=i.pendingLanes,w===0&&(oi=null),u1(d.stateNode),on(i,dt()),l!==null)for(m=i.onRecoverableError,d=0;d<l.length;d++)y=l[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(Va)throw Va=!1,i=Jd,Jd=null,i;return(Ya&1)!==0&&i.tag!==0&&Ds(),w=i.pendingLanes,(w&1)!==0?i===Qd?il++:(il=0,Qd=i):il=0,ni(),null}function Ds(){if(li!==null){var i=um(Ya),l=Dn.transition,d=Be;try{if(Dn.transition=null,Be=16>i?16:i,li===null)var m=!1;else{if(i=li,li=null,Ya=0,(Me&6)!==0)throw Error(n(331));var y=Me;for(Me|=4,ve=i.current;ve!==null;){var w=ve,j=w.child;if((ve.flags&16)!==0){var F=w.deletions;if(F!==null){for(var H=0;H<F.length;H++){var ee=F[H];for(ve=ee;ve!==null;){var le=ve;switch(le.tag){case 0:case 11:case 15:tl(8,le,w)}var ae=le.child;if(ae!==null)ae.return=le,ve=ae;else for(;ve!==null;){le=ve;var oe=le.sibling,ge=le.return;if(ov(le),le===ee){ve=null;break}if(oe!==null){oe.return=ge,ve=oe;break}ve=ge}}}var ye=w.alternate;if(ye!==null){var we=ye.child;if(we!==null){ye.child=null;do{var ft=we.sibling;we.sibling=null,we=ft}while(we!==null)}}ve=w}}if((w.subtreeFlags&2064)!==0&&j!==null)j.return=w,ve=j;else e:for(;ve!==null;){if(w=ve,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:tl(9,w,w.return)}var J=w.sibling;if(J!==null){J.return=w.return,ve=J;break e}ve=w.return}}var V=i.current;for(ve=V;ve!==null;){j=ve;var Q=j.child;if((j.subtreeFlags&2064)!==0&&Q!==null)Q.return=j,ve=Q;else e:for(j=V;ve!==null;){if(F=ve,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Ba(9,F)}}catch(xe){lt(F,F.return,xe)}if(F===j){ve=null;break e}var fe=F.sibling;if(fe!==null){fe.return=F.return,ve=fe;break e}ve=F.return}}if(Me=y,ni(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(ta,i)}catch{}m=!0}return m}finally{Be=d,Dn.transition=l}}return!1}function kv(i,l,d){l=Rs(d,l),l=zg(i,l,1),i=ii(i,l,1),l=Kt(),i!==null&&(To(i,1,l),on(i,l))}function lt(i,l,d){if(i.tag===3)kv(i,i,d);else for(;l!==null;){if(l.tag===3){kv(l,i,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(oi===null||!oi.has(m))){i=Rs(d,i),i=Ug(l,i,1),l=ii(l,i,1),i=Kt(),l!==null&&(To(l,1,i),on(l,i));break}}l=l.return}}function LS(i,l,d){var m=i.pingCache;m!==null&&m.delete(l),l=Kt(),i.pingedLanes|=i.suspendedLanes&d,_t===i&&(Pt&d)===d&&(bt===4||bt===3&&(Pt&130023424)===Pt&&500>dt()-Gd?Ui(i,0):Kd|=d),on(i,l)}function Sv(i,l){l===0&&((i.mode&1)===0?l=1:(l=ra,ra<<=1,(ra&130023424)===0&&(ra=4194304)));var d=Kt();i=Or(i,l),i!==null&&(To(i,l,d),on(i,d))}function $S(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),Sv(i,d)}function MS(i,l){var d=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),Sv(i,d)}var Ev;Ev=function(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps||tn.current)rn=!0;else{if((i.lanes&d)===0&&(l.flags&128)===0)return rn=!1,_S(i,l,d);rn=(i.flags&131072)!==0}else rn=!1,tt&&(l.flags&1048576)!==0&&rg(l,_a,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;za(i,l),i=l.pendingProps;var y=Ss(l,Mt.current);Is(l,d),y=Cd(null,l,m,i,y,d);var w=jd();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,nn(m)?(w=!0,ka(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,wd(l),y.updater=Ma,l.stateNode=y,y._reactInternals=l,Ad(l,m,i,d),l=$d(null,l,m,!0,w,d)):(l.tag=0,tt&&w&&ud(l),Yt(null,l,y,d),l=l.child),l;case 16:m=l.elementType;e:{switch(za(i,l),i=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=zS(m),i=Kn(m,i),y){case 0:l=Ld(null,l,m,i,d);break e;case 1:l=Jg(null,l,m,i,d);break e;case 11:l=Vg(null,l,m,i,d);break e;case 14:l=qg(null,l,m,Kn(m.type,i),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Kn(m,y),Ld(i,l,m,y,d);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Kn(m,y),Jg(i,l,m,y,d);case 3:e:{if(Qg(l),i===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,y=w.element,fg(i,l),Ra(l,m,null,d);var j=l.memoizedState;if(m=j.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=Rs(Error(n(423)),l),l=Xg(i,l,m,d,y);break e}else if(m!==y){y=Rs(Error(n(424)),l),l=Xg(i,l,m,d,y);break e}else for(vn=Zr(l.stateNode.containerInfo.firstChild),gn=l,tt=!0,Yn=null,d=cg(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Cs(),m===y){l=Lr(i,l,d);break e}Yt(i,l,m,d)}l=l.child}return l;case 5:return mg(l),i===null&&fd(l),m=l.type,y=l.pendingProps,w=i!==null?i.memoizedProps:null,j=y.children,rd(m,y)?j=null:w!==null&&rd(m,w)&&(l.flags|=32),Gg(i,l),Yt(i,l,j,d),l.child;case 6:return i===null&&fd(l),null;case 13:return Zg(i,l,d);case 4:return xd(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=js(l,null,m,d):Yt(i,l,m,d),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Kn(m,y),Vg(i,l,m,y,d);case 7:return Yt(i,l,l.pendingProps,d),l.child;case 8:return Yt(i,l,l.pendingProps.children,d),l.child;case 12:return Yt(i,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,w=l.memoizedProps,j=y.value,Ke(Ta,m._currentValue),m._currentValue=j,w!==null)if(qn(w.value,j)){if(w.children===y.children&&!tn.current){l=Lr(i,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var F=w.dependencies;if(F!==null){j=w.child;for(var H=F.firstContext;H!==null;){if(H.context===m){if(w.tag===1){H=Dr(-1,d&-d),H.tag=2;var ee=w.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?H.next=H:(H.next=le.next,le.next=H),ee.pending=H}}w.lanes|=d,H=w.alternate,H!==null&&(H.lanes|=d),vd(w.return,d,l),F.lanes|=d;break}H=H.next}}else if(w.tag===10)j=w.type===l.type?null:w.child;else if(w.tag===18){if(j=w.return,j===null)throw Error(n(341));j.lanes|=d,F=j.alternate,F!==null&&(F.lanes|=d),vd(j,d,l),j=w.sibling}else j=w.child;if(j!==null)j.return=w;else for(j=w;j!==null;){if(j===l){j=null;break}if(w=j.sibling,w!==null){w.return=j.return,j=w;break}j=j.return}w=j}Yt(i,l,y.children,d),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,Is(l,d),y=An(y),m=m(y),l.flags|=1,Yt(i,l,m,d),l.child;case 14:return m=l.type,y=Kn(m,l.pendingProps),y=Kn(m.type,y),qg(i,l,m,y,d);case 15:return Yg(i,l,l.type,l.pendingProps,d);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Kn(m,y),za(i,l),l.tag=1,nn(m)?(i=!0,ka(l)):i=!1,Is(l,d),Mg(l,m,y),Ad(l,m,y,d),$d(null,l,m,!0,i,d);case 19:return tv(i,l,d);case 22:return Kg(i,l,d)}throw Error(n(156,l.tag))};function _v(i,l){return im(i,l)}function FS(i,l,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,l,d,m){return new FS(i,l,d,m)}function rf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zS(i){if(typeof i=="function")return rf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===X)return 11;if(i===W)return 14}return 2}function ci(i,l){var d=i.alternate;return d===null?(d=Ln(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function Qa(i,l,d,m,y,w){var j=2;if(m=i,typeof i=="function")rf(i)&&(j=1);else if(typeof i=="string")j=5;else e:switch(i){case K:return Wi(d.children,y,w,l);case ne:j=8,y|=8;break;case ie:return i=Ln(12,d,l,y|2),i.elementType=ie,i.lanes=w,i;case G:return i=Ln(13,d,l,y),i.elementType=G,i.lanes=w,i;case O:return i=Ln(19,d,l,y),i.elementType=O,i.lanes=w,i;case U:return Xa(d,y,w,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:j=10;break e;case L:j=9;break e;case X:j=11;break e;case W:j=14;break e;case $:j=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=Ln(j,d,l,y),l.elementType=i,l.type=m,l.lanes=w,l}function Wi(i,l,d,m){return i=Ln(7,i,m,l),i.lanes=d,i}function Xa(i,l,d,m){return i=Ln(22,i,m,l),i.elementType=U,i.lanes=d,i.stateNode={isHidden:!1},i}function sf(i,l,d){return i=Ln(6,i,null,l),i.lanes=d,i}function of(i,l,d){return l=Ln(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function US(i,l,d,m,y){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function lf(i,l,d,m,y,w,j,F,H){return i=new US(i,l,d,F,H),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Ln(3,null,null,l),i.current=w,w.stateNode=i,w.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(w),i}function BS(i,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:i,containerInfo:l,implementation:d}}function Cv(i){if(!i)return ti;i=i._reactInternals;e:{if(Ri(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(nn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(nn(d))return eg(i,d,l)}return l}function jv(i,l,d,m,y,w,j,F,H){return i=lf(d,m,!0,i,y,w,j,F,H),i.context=Cv(null),d=i.current,m=Kt(),y=ai(d),w=Dr(m,y),w.callback=l??null,ii(d,w,y),i.current.lanes=y,To(i,y,m),on(i,m),i}function Za(i,l,d,m){var y=l.current,w=Kt(),j=ai(y);return d=Cv(d),l.context===null?l.context=d:l.pendingContext=d,l=Dr(w,j),l.payload={element:i},m=m===void 0?null:m,m!==null&&(l.callback=m),i=ii(y,l,j),i!==null&&(Qn(i,y,j,w),Na(i,y,j)),j}function eu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Tv(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function af(i,l){Tv(i,l),(i=i.alternate)&&Tv(i,l)}function WS(){return null}var Iv=typeof reportError=="function"?reportError:function(i){console.error(i)};function uf(i){this._internalRoot=i}tu.prototype.render=uf.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));Za(i,l,null,null)},tu.prototype.unmount=uf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;zi(function(){Za(null,i,null,null)}),l[Nr]=null}};function tu(i){this._internalRoot=i}tu.prototype.unstable_scheduleHydration=function(i){if(i){var l=fm();i={blockedOn:null,target:i,priority:l};for(var d=0;d<Jr.length&&l!==0&&l<Jr[d].priority;d++);Jr.splice(d,0,i),d===0&&mm(i)}};function cf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Nv(){}function HS(i,l,d,m,y){if(y){if(typeof m=="function"){var w=m;m=function(){var ee=eu(j);w.call(ee)}}var j=jv(l,m,i,0,null,!1,!1,"",Nv);return i._reactRootContainer=j,i[Nr]=j.current,Bo(i.nodeType===8?i.parentNode:i),zi(),j}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var F=m;m=function(){var ee=eu(H);F.call(ee)}}var H=lf(i,0,!1,null,null,!1,!1,"",Nv);return i._reactRootContainer=H,i[Nr]=H.current,Bo(i.nodeType===8?i.parentNode:i),zi(function(){Za(l,H,d,m)}),H}function ru(i,l,d,m,y){var w=d._reactRootContainer;if(w){var j=w;if(typeof y=="function"){var F=y;y=function(){var H=eu(j);F.call(H)}}Za(l,j,i,y)}else j=HS(d,l,i,y,m);return eu(j)}cm=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var d=jo(l.pendingLanes);d!==0&&(Ac(l,d|1),on(l,dt()),(Me&6)===0&&(Os=dt()+500,ni()))}break;case 13:zi(function(){var m=Or(i,1);if(m!==null){var y=Kt();Qn(m,i,1,y)}}),af(i,1)}},Oc=function(i){if(i.tag===13){var l=Or(i,134217728);if(l!==null){var d=Kt();Qn(l,i,134217728,d)}af(i,134217728)}},dm=function(i){if(i.tag===13){var l=ai(i),d=Or(i,l);if(d!==null){var m=Kt();Qn(d,i,l,m)}af(i,l)}},fm=function(){return Be},hm=function(i,l){var d=Be;try{return Be=i,l()}finally{Be=d}},_o=function(i,l,d){switch(l){case"input":if(jr(i,d),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==i&&m.form===i.form){var y=xa(m);if(!y)throw Error(n(90));$e(m),jr(m,y)}}}break;case"textarea":Ni(i,d);break;case"select":l=d.value,l!=null&&hn(i,!!d.multiple,l,!1)}},qt=ef,Lt=zi;var VS={usingClientEntryPoint:!1,Events:[Vo,bs,xa,Dt,Bn,ef]},sl={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qS={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=nm(i),i===null?null:i.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||WS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ta=iu.inject(qS),cr=iu}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VS,ln.createPortal=function(i,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(l))throw Error(n(200));return BS(i,l,null,d)},ln.createRoot=function(i,l){if(!cf(i))throw Error(n(299));var d=!1,m="",y=Iv;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=lf(i,1,!1,null,null,d,!1,m,y),i[Nr]=l.current,Bo(i.nodeType===8?i.parentNode:i),new uf(l)},ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=nm(l),i=i===null?null:i.stateNode,i},ln.flushSync=function(i){return zi(i)},ln.hydrate=function(i,l,d){if(!nu(l))throw Error(n(200));return ru(null,i,l,!0,d)},ln.hydrateRoot=function(i,l,d){if(!cf(i))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,y=!1,w="",j=Iv;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(j=d.onRecoverableError)),l=jv(l,null,i,1,d??null,y,!1,w,j),i[Nr]=l.current,Bo(i),m)for(i=0;i<m.length;i++)d=m[i],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new tu(l)},ln.render=function(i,l,d){if(!nu(l))throw Error(n(200));return ru(null,i,l,!1,d)},ln.unmountComponentAtNode=function(i){if(!nu(i))throw Error(n(40));return i._reactRootContainer?(zi(function(){ru(null,null,i,!1,function(){i._reactRootContainer=null,i[Nr]=null})}),!0):!1},ln.unstable_batchedUpdates=ef,ln.unstable_renderSubtreeIntoContainer=function(i,l,d,m){if(!nu(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ru(i,l,d,!1,m)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Mv;function E0(){if(Mv)return hf.exports;Mv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hf.exports=tE(),hf.exports}var Fv;function nE(){if(Fv)return su;Fv=1;var e=E0();return su.createRoot=e.createRoot,su.hydrateRoot=e.hydrateRoot,su}var rE=nE();const iE=ho(rE);var kn=E0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tl.apply(this,arguments)}var wi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wi||(wi={}));const zv="popstate";function sE(e){e===void 0&&(e={});function t(s,o){let{pathname:a="/",search:u="",hash:c=""}=ls(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),lh("",{pathname:a,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let a=s.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=s.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof o=="string"?o:Pu(o))}function r(s,o){np(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return lE(t,n,r,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function np(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oE(){return Math.random().toString(36).substr(2,8)}function Uv(e,t){return{usr:e.state,key:e.key,idx:t}}function lh(e,t,n,r){return n===void 0&&(n=null),Tl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ls(t):t,{state:n,key:t&&t.key||r||oE()})}function Pu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lE(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,u=wi.Pop,c=null,f=h();f==null&&(f=0,a.replaceState(Tl({},a.state,{idx:f}),""));function h(){return(a.state||{idx:null}).idx}function p(){u=wi.Pop;let E=h(),C=E==null?null:E-f;f=E,c&&c({action:u,location:S.location,delta:C})}function v(E,C){u=wi.Push;let N=lh(S.location,E,C);n&&n(N,E),f=h()+1;let R=Uv(N,f),z=S.createHref(N);try{a.pushState(R,"",z)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(z)}o&&c&&c({action:u,location:S.location,delta:1})}function g(E,C){u=wi.Replace;let N=lh(S.location,E,C);n&&n(N,E),f=h();let R=Uv(N,f),z=S.createHref(N);a.replaceState(R,"",z),o&&c&&c({action:u,location:S.location,delta:0})}function b(E){let C=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof E=="string"?E:Pu(E);return N=N.replace(/ $/,"%20"),ot(C,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,C)}let S={get action(){return u},get location(){return e(s,a)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zv,p),c=E,()=>{s.removeEventListener(zv,p),c=null}},createHref(E){return t(s,E)},createURL:b,encodeLocation(E){let C=b(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:g,go(E){return a.go(E)}};return S}var Bv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bv||(Bv={}));function aE(e,t,n){return n===void 0&&(n="/"),uE(e,t,n)}function uE(e,t,n,r){let s=typeof t=="string"?ls(t):t,o=lo(s.pathname||"/",n);if(o==null)return null;let a=_0(e);cE(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=bE(o);u=wE(a[c],f)}return u}function _0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=ki([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(ot(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),_0(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:vE(f,o.index),routesMeta:h})};return e.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of C0(o.path))s(o,a,c)}),t}function C0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=C0(r.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&u.push(...a),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function cE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dE=/^:[\w-]+$/,fE=3,hE=2,pE=1,mE=10,gE=-2,Wv=e=>e==="*";function vE(e,t){let n=e.split("/"),r=n.length;return n.some(Wv)&&(r+=gE),t&&(r+=hE),n.filter(s=>!Wv(s)).reduce((s,o)=>s+(dE.test(o)?fE:o===""?pE:mE),r)}function yE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function wE(e,t,n){let{routesMeta:r}=e,s={},o="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",p=ah({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:ki([o,p.pathname]),pathnameBase:_E(ki([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=ki([o,p.pathnameBase]))}return a}function ah(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xE(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,h,p)=>{let{paramName:v,isOptional:g}=h;if(v==="*"){let S=u[p]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[p];return g&&!b?f[v]=void 0:f[v]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:e}}function xE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),np(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function bE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return np(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function kE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ls(e):e;return{pathname:n?n.startsWith("/")?n:SE(n,t):t,search:CE(r),hash:jE(s)}}function SE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rp(e,t){let n=EE(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ip(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ls(e):(s=Tl({},e),ot(!s.pathname||!s.pathname.includes("?"),gf("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),gf("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),gf("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,u;if(a==null)u=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;s.pathname=v.join("/")}u=p>=0?t[p]:"/"}let c=kE(s,u),f=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const ki=e=>e.join("/").replace(/\/\/+/g,"/"),_E=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const j0=["post","put","patch","delete"];new Set(j0);const IE=["get",...j0];new Set(IE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}const nc=k.createContext(null),T0=k.createContext(null),Br=k.createContext(null),rc=k.createContext(null),Wr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),I0=k.createContext(null);function NE(e,t){let{relative:n}=t===void 0?{}:t;po()||ot(!1);let{basename:r,navigator:s}=k.useContext(Br),{hash:o,pathname:a,search:u}=ic(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ki([r,a])),s.createHref({pathname:c,search:u,hash:o})}function po(){return k.useContext(rc)!=null}function Hr(){return po()||ot(!1),k.useContext(rc).location}function N0(e){k.useContext(Br).static||k.useLayoutEffect(e)}function sp(){let{isDataRoute:e}=k.useContext(Wr);return e?VE():RE()}function RE(){po()||ot(!1);let e=k.useContext(nc),{basename:t,future:n,navigator:r}=k.useContext(Br),{matches:s}=k.useContext(Wr),{pathname:o}=Hr(),a=JSON.stringify(rp(s,n.v7_relativeSplatPath)),u=k.useRef(!1);return N0(()=>{u.current=!0}),k.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let p=ip(f,JSON.parse(a),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ki([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,a,o,e])}const PE=k.createContext(null);function AE(e){let t=k.useContext(Wr).outlet;return t&&k.createElement(PE.Provider,{value:e},t)}function ic(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(Br),{matches:s}=k.useContext(Wr),{pathname:o}=Hr(),a=JSON.stringify(rp(s,r.v7_relativeSplatPath));return k.useMemo(()=>ip(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function OE(e,t){return DE(e,t)}function DE(e,t,n,r){po()||ot(!1);let{navigator:s}=k.useContext(Br),{matches:o}=k.useContext(Wr),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=Hr(),h;if(t){var p;let E=typeof t=="string"?ls(t):t;c==="/"||(p=E.pathname)!=null&&p.startsWith(c)||ot(!1),h=E}else h=f;let v=h.pathname||"/",g=v;if(c!=="/"){let E=c.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=aE(e,{pathname:g}),S=zE(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:ki([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:ki([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return t&&S?k.createElement(rc.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:wi.Pop}},S):S}function LE(){let e=HE(),t=TE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,null)}const $E=k.createElement(LE,null);class ME extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(Wr.Provider,{value:this.props.routeContext},k.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FE(e){let{routeContext:t,match:n,children:r}=e,s=k.useContext(nc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Wr.Provider,{value:t},r)}function zE(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let h=a.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);h>=0||ot(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:v,errors:g}=n,b=p.route.loader&&v[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,p,v)=>{let g,b=!1,S=null,E=null;n&&(g=u&&p.route.id?u[p.route.id]:void 0,S=p.route.errorElement||$E,c&&(f<0&&v===0?(qE("route-fallback"),b=!0,E=null):f===v&&(b=!0,E=p.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,v+1)),N=()=>{let R;return g?R=S:b?R=E:p.route.Component?R=k.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=h,k.createElement(FE,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:R})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?k.createElement(ME,{location:n.location,revalidation:n.revalidation,component:S,error:g,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):N()},null)}var R0=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(R0||{}),P0=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(P0||{});function UE(e){let t=k.useContext(nc);return t||ot(!1),t}function BE(e){let t=k.useContext(T0);return t||ot(!1),t}function WE(e){let t=k.useContext(Wr);return t||ot(!1),t}function A0(e){let t=WE(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}function HE(){var e;let t=k.useContext(I0),n=BE(),r=A0();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function VE(){let{router:e}=UE(R0.UseNavigateStable),t=A0(P0.UseNavigateStable),n=k.useRef(!1);return N0(()=>{n.current=!0}),k.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Il({fromRouteId:t},o)))},[e,t])}const Hv={};function qE(e,t,n){Hv[e]||(Hv[e]=!0)}function YE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function op(e){let{to:t,replace:n,state:r,relative:s}=e;po()||ot(!1);let{future:o,static:a}=k.useContext(Br),{matches:u}=k.useContext(Wr),{pathname:c}=Hr(),f=sp(),h=ip(t,rp(u,o.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(h);return k.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:s}),[f,p,s,n,r]),null}function O0(e){return AE(e.context)}function Xn(e){ot(!1)}function KE(e){let{basename:t="/",children:n=null,location:r,navigationType:s=wi.Pop,navigator:o,static:a=!1,future:u}=e;po()&&ot(!1);let c=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:o,static:a,future:Il({v7_relativeSplatPath:!1},u)}),[c,u,o,a]);typeof r=="string"&&(r=ls(r));let{pathname:h="/",search:p="",hash:v="",state:g=null,key:b="default"}=r,S=k.useMemo(()=>{let E=lo(h,c);return E==null?null:{location:{pathname:E,search:p,hash:v,state:g,key:b},navigationType:s}},[c,h,p,v,g,b,s]);return S==null?null:k.createElement(Br.Provider,{value:f},k.createElement(rc.Provider,{children:n,value:S}))}function GE(e){let{children:t,location:n}=e;return OE(uh(t),n)}new Promise(()=>{});function uh(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,s)=>{if(!k.isValidElement(r))return;let o=[...t,s];if(r.type===k.Fragment){n.push.apply(n,uh(r.props.children,o));return}r.type!==Xn&&ot(!1),!r.props.index||!r.props.children||ot(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=uh(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Au.apply(this,arguments)}function D0(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function JE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function QE(e,t){return e.button===0&&(!t||t==="_self")&&!JE(e)}function ch(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function XE(e,t){let n=ch(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const ZE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],t_="6";try{window.__reactRouterVersion=t_}catch{}const n_=k.createContext({isTransitioning:!1}),r_="startTransition",Vv=Ru[r_];function i_(e){let{basename:t,children:n,future:r,window:s}=e,o=k.useRef();o.current==null&&(o.current=sE({window:s,v5Compat:!0}));let a=o.current,[u,c]=k.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},h=k.useCallback(p=>{f&&Vv?Vv(()=>c(p)):c(p)},[c,f]);return k.useLayoutEffect(()=>a.listen(h),[a,h]),k.useEffect(()=>YE(r),[r]),k.createElement(KE,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}const s_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Js=k.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p}=t,v=D0(t,ZE),{basename:g}=k.useContext(Br),b,S=!1;if(typeof f=="string"&&o_.test(f)&&(b=f,s_))try{let R=new URL(window.location.href),z=f.startsWith("//")?new URL(R.protocol+f):new URL(f),B=lo(z.pathname,g);z.origin===R.origin&&B!=null?f=B+z.search+z.hash:S=!0}catch{}let E=NE(f,{relative:s}),C=a_(f,{replace:a,state:u,target:c,preventScrollReset:h,relative:s,viewTransition:p});function N(R){r&&r(R),R.defaultPrevented||C(R)}return k.createElement("a",Au({},v,{href:b||E,onClick:S||o?r:N,ref:n,target:c}))}),qv=k.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:a=!1,style:u,to:c,viewTransition:f,children:h}=t,p=D0(t,e_),v=ic(c,{relative:p.relative}),g=Hr(),b=k.useContext(T0),{navigator:S,basename:E}=k.useContext(Br),C=b!=null&&c_(v)&&f===!0,N=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,R=g.pathname,z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(R=R.toLowerCase(),z=z?z.toLowerCase():null,N=N.toLowerCase()),z&&E&&(z=lo(z,E)||z);const B=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=R===N||!a&&R.startsWith(N)&&R.charAt(B)==="/",K=z!=null&&(z===N||!a&&z.startsWith(N)&&z.charAt(N.length)==="/"),ne={isActive:A,isPending:K,isTransitioning:C},ie=A?r:void 0,D;typeof o=="function"?D=o(ne):D=[o,A?"active":null,K?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(ne):u;return k.createElement(Js,Au({},p,{"aria-current":ie,className:D,ref:n,style:L,to:c,viewTransition:f}),typeof h=="function"?h(ne):h)});var dh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dh||(dh={}));var Yv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yv||(Yv={}));function l_(e){let t=k.useContext(nc);return t||ot(!1),t}function a_(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:u}=t===void 0?{}:t,c=sp(),f=Hr(),h=ic(e,{relative:a});return k.useCallback(p=>{if(QE(p,n)){p.preventDefault();let v=r!==void 0?r:Pu(f)===Pu(h);c(e,{replace:v,state:s,preventScrollReset:o,relative:a,viewTransition:u})}},[f,c,h,r,s,n,e,o,a,u])}function u_(e){let t=k.useRef(ch(e)),n=k.useRef(!1),r=Hr(),s=k.useMemo(()=>XE(r.search,n.current?null:t.current),[r.search]),o=sp(),a=k.useCallback((u,c)=>{const f=ch(typeof u=="function"?u(s):u);n.current=!0,o("?"+f,c)},[o,s]);return[s,a]}function c_(e,t){t===void 0&&(t={});let n=k.useContext(n_);n==null&&ot(!1);let{basename:r}=l_(dh.useViewTransitionState),s=ic(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=lo(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=lo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ah(s.pathname,a)!=null||ah(s.pathname,o)!=null}const L0=typeof document<"u"?me.useLayoutEffect:()=>{};var vf;const d_=(vf=me.useInsertionEffect)!==null&&vf!==void 0?vf:L0;function f_(e){const t=k.useRef(null);return d_(()=>{t.current=e},[e]),k.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const _i=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},es=e=>e&&"window"in e&&e.window===e?e:_i(e).defaultView||window;function h_(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function p_(e){return h_(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let m_=!1;function lp(){return m_}function $0(e,t){if(!lp())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:p_(n)?n=n.host:n=n.parentNode}return!1}const fh=(e=document)=>{var t;if(!lp())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function M0(e){return lp()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function F0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=F0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function He(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=F0(e))&&(r&&(r+=" "),r+=t);return r}function g_(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function v_(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function z0(e){let t=null;return()=>(t==null&&(t=e()),t)}const y_=z0(function(){return v_(/^Mac/i)}),w_=z0(function(){return g_(/Android/i)});function U0(){let e=k.useRef(new Map),t=k.useCallback((s,o,a,u)=>{let c=u!=null&&u.once?(...f)=>{e.current.delete(a),a(...f)}:a;e.current.set(a,{type:o,eventTarget:s,fn:c,options:u}),s.addEventListener(o,c,u)},[]),n=k.useCallback((s,o,a,u)=>{var c;let f=((c=e.current.get(a))===null||c===void 0?void 0:c.fn)||a;s.removeEventListener(o,f,u),e.current.delete(a)},[]),r=k.useCallback(()=>{e.current.forEach((s,o)=>{n(s.eventTarget,s.type,o,s.options)})},[n]);return k.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function x_(e){return e.pointerType===""&&e.isTrusted?!0:w_()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function B0(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function b_(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function W0(e){let t=k.useRef({isFocused:!1,observer:null});L0(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=f_(r=>{e==null||e(r)});return k.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,o=a=>{if(t.current.isFocused=!1,s.disabled){let u=B0(a);n(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let u=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let k_=!1,Ul=null,hh=new Set,gl=new Map,rs=!1,ph=!1;const S_={Tab:!0,Escape:!0};function ap(e,t){for(let n of hh)n(e,t)}function E_(e){return!(e.metaKey||!y_()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ou(e){rs=!0,E_(e)&&(Ul="keyboard",ap("keyboard",e))}function to(e){Ul="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(rs=!0,ap("pointer",e))}function H0(e){x_(e)&&(rs=!0,Ul="virtual")}function V0(e){e.target===window||e.target===document||k_||!e.isTrusted||(!rs&&!ph&&(Ul="virtual",ap("virtual",e)),rs=!1,ph=!1)}function q0(){rs=!1,ph=!0}function mh(e){if(typeof window>"u"||typeof document>"u"||gl.get(es(e)))return;const t=es(e),n=_i(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){rs=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ou,!0),n.addEventListener("keyup",Ou,!0),n.addEventListener("click",H0,!0),t.addEventListener("focus",V0,!0),t.addEventListener("blur",q0,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",to,!0),n.addEventListener("pointermove",to,!0),n.addEventListener("pointerup",to,!0)),t.addEventListener("beforeunload",()=>{Y0(e)},{once:!0}),gl.set(t,{focus:r})}const Y0=(e,t)=>{const n=es(e),r=_i(e);t&&r.removeEventListener("DOMContentLoaded",t),gl.has(n)&&(n.HTMLElement.prototype.focus=gl.get(n).focus,r.removeEventListener("keydown",Ou,!0),r.removeEventListener("keyup",Ou,!0),r.removeEventListener("click",H0,!0),n.removeEventListener("focus",V0,!0),n.removeEventListener("blur",q0,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",to,!0),r.removeEventListener("pointermove",to,!0),r.removeEventListener("pointerup",to,!0)),gl.delete(n))};function __(e){const t=_i(e);let n;return t.readyState!=="loading"?mh(e):(n=()=>{mh(e)},t.addEventListener("DOMContentLoaded",n)),()=>Y0(e,n)}typeof document<"u"&&__();function K0(){return Ul!=="pointer"}const C_=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function j_(e,t,n){let r=_i(n==null?void 0:n.target);const s=typeof window<"u"?es(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?es(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?es(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?es(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof s&&!C_.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof a&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!S_[n.key])}function T_(e,t,n){mh(),k.useEffect(()=>{let r=(s,o)=>{j_(!!(n!=null&&n.isTextInput),s,o)&&e(K0())};return hh.add(r),()=>{hh.delete(r)}},t)}function I_(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const o=k.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),s&&s(!1),!0},[r,s]),a=W0(o),u=k.useCallback(c=>{const f=_i(c.target),h=f?fh(f):fh();c.target===c.currentTarget&&h===M0(c.nativeEvent)&&(n&&n(c),s&&s(!0),a(c))},[s,n,a]);return{focusProps:{onFocus:!t&&(n||s||r)?u:void 0,onBlur:!t&&(r||s)?o:void 0}}}function N_(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,o=k.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:u}=U0(),c=k.useCallback(p=>{p.currentTarget.contains(p.target)&&o.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(o.current.isFocusWithin=!1,u(),n&&n(p),s&&s(!1))},[n,s,o,u]),f=W0(c),h=k.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const v=_i(p.target),g=fh(v);if(!o.current.isFocusWithin&&g===M0(p.nativeEvent)){r&&r(p),s&&s(!0),o.current.isFocusWithin=!0,f(p);let b=p.currentTarget;a(v,"focus",S=>{if(o.current.isFocusWithin&&!$0(b,S.target)){let E=new v.defaultView.FocusEvent("blur",{relatedTarget:S.target});b_(E,b);let C=B0(E);c(C)}},{capture:!0})}},[r,s,f,a,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:c}}}let gh=!1,ou=0;function R_(){gh=!0,setTimeout(()=>{gh=!1},50)}function Kv(e){e.pointerType==="touch"&&R_()}function P_(){if(!(typeof document>"u"))return ou===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Kv),ou++,()=>{ou--,!(ou>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Kv)}}function A_(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[o,a]=k.useState(!1),u=k.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;k.useEffect(P_,[]);let{addGlobalListener:c,removeAllGlobalListeners:f}=U0(),{hoverProps:h,triggerHoverEnd:p}=k.useMemo(()=>{let v=(S,E)=>{if(u.pointerType=E,s||E==="touch"||u.isHovered||!S.currentTarget.contains(S.target))return;u.isHovered=!0;let C=S.currentTarget;u.target=C,c(_i(S.target),"pointerover",N=>{u.isHovered&&u.target&&!$0(u.target,N.target)&&g(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:C,pointerType:E}),n&&n(!0),a(!0)},g=(S,E)=>{let C=u.target;u.pointerType="",u.target=null,!(E==="touch"||!u.isHovered||!C)&&(u.isHovered=!1,f(),r&&r({type:"hoverend",target:C,pointerType:E}),n&&n(!1),a(!1))},b={};return typeof PointerEvent<"u"&&(b.onPointerEnter=S=>{gh&&S.pointerType==="mouse"||v(S,S.pointerType)},b.onPointerLeave=S=>{!s&&S.currentTarget.contains(S.target)&&g(S,S.pointerType)}),{hoverProps:b,triggerHoverEnd:g}},[t,n,r,s,u,c,f]);return k.useEffect(()=>{s&&p({currentTarget:u.target},u.pointerType)},[s]),{hoverProps:h,isHovered:o}}function O_(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=k.useRef({isFocused:!1,isFocusVisible:t||K0()}),[o,a]=k.useState(!1),[u,c]=k.useState(()=>s.current.isFocused&&s.current.isFocusVisible),f=k.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),h=k.useCallback(g=>{s.current.isFocused=g,a(g),f()},[f]);T_(g=>{s.current.isFocusVisible=g,f()},[],{isTextInput:n});let{focusProps:p}=I_({isDisabled:r,onFocusChange:h}),{focusWithinProps:v}=N_({isDisabled:!r,onFocusWithinChange:h});return{isFocused:o,isFocusVisible:u,focusProps:r?v:p}}var D_=Object.defineProperty,L_=(e,t,n)=>t in e?D_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yf=(e,t,n)=>(L_(e,typeof t!="symbol"?t+"":t,n),n);let $_=class{constructor(){yf(this,"current",this.detect()),yf(this,"handoffState","pending"),yf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},wr=new $_;function as(e){var t;return wr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Du(e){var t,n;return wr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function up(e){var t,n;return(n=(t=Du(e))==null?void 0:t.activeElement)!=null?n:null}function G0(e){return up(e)===e}function sc(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function cn(){let e=[],t={addEventListener(n,r,s,o){return n.addEventListener(r,s,o),t.add(()=>n.removeEventListener(r,s,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return sc(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=cn();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function us(){let[e]=k.useState(cn);return k.useEffect(()=>()=>e.dispose(),[e]),e}let et=(e,t)=>{wr.isServer?k.useEffect(e,t):k.useLayoutEffect(e,t)};function cs(e){let t=k.useRef(e);return et(()=>{t.current=e},[e]),t}let Ce=function(e){let t=cs(e);return me.useCallback((...n)=>t.current(...n),[t])};function M_(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function F_(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function z_({disabled:e=!1}={}){let t=k.useRef(null),[n,r]=k.useState(!1),s=us(),o=Ce(()=>{t.current=null,r(!1),s.dispose()}),a=Ce(u=>{if(s.dispose(),t.current===null){t.current=u.currentTarget,r(!0);{let c=as(u.currentTarget);s.addEventListener(c,"pointerup",o,!1),s.addEventListener(c,"pointermove",f=>{if(t.current){let h=M_(f);r(F_(h,t.current.getBoundingClientRect()))}},!1),s.addEventListener(c,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:o,onClick:o}}}function Er(e){return k.useMemo(()=>e,Object.values(e))}let U_=k.createContext(void 0);function J0(){return k.useContext(U_)}function vh(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function rr(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,rr),r}var ao=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ao||{}),xi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(xi||{});function wt(){let e=W_();return k.useCallback(t=>B_({mergeRefs:e,...t}),[e])}function B_({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:o=!0,name:a,mergeRefs:u}){u=u??H_;let c=Q0(t,e);if(o)return lu(c,n,r,a,u);let f=s??0;if(f&2){let{static:h=!1,...p}=c;if(h)return lu(p,n,r,a,u)}if(f&1){let{unmount:h=!0,...p}=c;return rr(h?0:1,{0(){return null},1(){return lu({...p,hidden:!0,style:{display:"none"}},n,r,a,u)}})}return lu(c,n,r,a,u)}function lu(e,t={},n,r,s){let{as:o=n,children:a,refName:u="ref",...c}=wf(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},h=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let p={};if(t){let v=!1,g=[];for(let[b,S]of Object.entries(t))typeof S=="boolean"&&(v=!0),S===!0&&g.push(b.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(v){p["data-headlessui-state"]=g.join(" ");for(let b of g)p[`data-${b}`]=""}}if(vl(o)&&(Object.keys(Ki(c)).length>0||Object.keys(Ki(p)).length>0))if(!k.isValidElement(h)||Array.isArray(h)&&h.length>1||q_(h)){if(Object.keys(Ki(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ki(c)).concat(Object.keys(Ki(p))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,g=v==null?void 0:v.className,b=typeof g=="function"?(...C)=>vh(g(...C),c.className):vh(g,c.className),S=b?{className:b}:{},E=Q0(h.props,Ki(wf(c,["ref"])));for(let C in p)C in E&&delete p[C];return k.cloneElement(h,Object.assign({},E,p,f,{ref:s(V_(h),f.ref)},S))}return k.createElement(o,Object.assign({},wf(c,["ref"]),!vl(o)&&f,!vl(o)&&p),h)}function W_(){let e=k.useRef([]),t=k.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function H_(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Q0(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var o;return(o=s==null?void 0:s.preventDefault)==null?void 0:o.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...o){let a=n[r];for(let u of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;u(s,...o)}}});return t}function X0(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];for(let r in n)Object.assign(t,{[r](...s){let o=n[r];for(let a of o)a==null||a(...s)}});return t}function ut(e){var t;return Object.assign(k.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ki(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function wf(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function V_(e){return me.version.split(".")[0]>="19"?e.props.ref:e.ref}function vl(e){return e===k.Fragment||e===Symbol.for("react.fragment")}function q_(e){return vl(e.type)}let Y_="span";var Lu=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Lu||{});function K_(e,t){var n;let{features:r=1,...s}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return wt()({ourProps:o,theirProps:s,slot:{},defaultTag:Y_,name:"Hidden"})}let yh=ut(K_),G_=k.createContext(void 0);function J_(){return k.useContext(G_)}function Z0(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function zr(e){return Z0(e)&&"tagName"in e}function _n(e){return zr(e)&&"accessKey"in e}function yr(e){return zr(e)&&"tabIndex"in e}function Q_(e){return zr(e)&&"style"in e}function X_(e){return _n(e)&&e.nodeName==="IFRAME"}function ex(e){return _n(e)&&e.nodeName==="INPUT"}function Gv(e){return _n(e)&&e.nodeName==="LABEL"}function Z_(e){return _n(e)&&e.nodeName==="FIELDSET"}function tx(e){return _n(e)&&e.nodeName==="LEGEND"}function eC(e){return zr(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Jv(e){let t=e.parentElement,n=null;for(;t&&!Z_(t);)tx(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&tC(n)?!1:r}function tC(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(tx(t))return!1;t=t.previousElementSibling}return!0}let nx=Symbol();function nC(e,t=!0){return Object.assign(e,{[nx]:t})}function Xt(...e){let t=k.useRef(e);k.useEffect(()=>{t.current=e},[e]);let n=Ce(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[nx]))?void 0:n}let cp=k.createContext(null);cp.displayName="DescriptionContext";function rx(){let e=k.useContext(cp);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,rx),t}return e}function ix(){let[e,t]=k.useState([]);return[e.length>0?e.join(" "):void 0,k.useMemo(()=>function(n){let r=Ce(o=>(t(a=>[...a,o]),()=>t(a=>{let u=a.slice(),c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}))),s=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return me.createElement(cp.Provider,{value:s},n.children)},[t])]}let rC="p";function iC(e,t){let n=k.useId(),r=J0(),{id:s=`headlessui-description-${n}`,...o}=e,a=rx(),u=Xt(t);et(()=>a.register(s),[s,a.register]);let c=Er({...a.slot,disabled:r||!1}),f={ref:u,...a.props,id:s};return wt()({ourProps:f,theirProps:o,slot:c,defaultTag:rC,name:a.name||"Description"})}let sC=ut(iC),oC=Object.assign(sC,{});var Tt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Tt||{});let oc=k.createContext(null);oc.displayName="LabelContext";function dp(){let e=k.useContext(oc);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,dp),t}return e}function lC(e){var t,n,r;let s=(n=(t=k.useContext(oc))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...e].filter(Boolean).join(" "):s}function sx({inherit:e=!1}={}){let t=lC(),[n,r]=k.useState([]),s=e?[t,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,k.useMemo(()=>function(o){let a=Ce(c=>(r(f=>[...f,c]),()=>r(f=>{let h=f.slice(),p=h.indexOf(c);return p!==-1&&h.splice(p,1),h}))),u=k.useMemo(()=>({register:a,slot:o.slot,name:o.name,props:o.props,value:o.value}),[a,o.slot,o.name,o.props,o.value]);return me.createElement(oc.Provider,{value:u},o.children)},[r])]}let aC="label";function uC(e,t){var n;let r=k.useId(),s=dp(),o=J_(),a=J0(),{id:u=`headlessui-label-${r}`,htmlFor:c=o??((n=s.props)==null?void 0:n.htmlFor),passive:f=!1,...h}=e,p=Xt(t);et(()=>s.register(u),[u,s.register]);let v=Ce(S=>{let E=S.currentTarget;if(!(S.target!==S.currentTarget&&eC(S.target))&&(Gv(E)&&S.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(S),Gv(E))){let C=document.getElementById(E.htmlFor);if(C){let N=C.getAttribute("disabled");if(N==="true"||N==="")return;let R=C.getAttribute("aria-disabled");if(R==="true"||R==="")return;(ex(C)&&(C.type==="file"||C.type==="radio"||C.type==="checkbox")||C.role==="radio"||C.role==="checkbox"||C.role==="switch")&&C.click(),C.focus({preventScroll:!0})}}}),g=Er({...s.slot,disabled:a||!1}),b={ref:p,...s.props,id:u,htmlFor:c,onClick:v};return f&&("onClick"in b&&(delete b.htmlFor,delete b.onClick),"onClick"in h&&delete h.onClick),wt()({ourProps:b,theirProps:h,slot:g,defaultTag:c?aC:"div",name:s.name||"Label"})}let cC=ut(uC);Object.assign(cC,{});let dC=k.createContext(()=>{});function fC({value:e,children:t}){return me.createElement(dC.Provider,{value:e},t)}function Qv(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function hC(e,t,n=!1){let[r,s]=k.useState(()=>Qv(t));return et(()=>{if(!t||!e)return;let o=cn();return o.requestAnimationFrame(function a(){o.requestAnimationFrame(a),s(u=>{let c=Qv(t);return c.width===u.width&&c.height===u.height?u:c})}),()=>{o.dispose()}},[t,e]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var ox=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(ox||{});function pC(e){let t=k.useRef(null),n=Ce(s=>{t.current=s.pointerType,!Jv(s.currentTarget)&&s.pointerType==="mouse"&&s.button===ox.Left&&(s.preventDefault(),e(s))}),r=Ce(s=>{t.current!=="mouse"&&(Jv(s.currentTarget)||e(s))});return{onPointerDown:n,onClick:r}}let lx=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var mC=Object.defineProperty,gC=(e,t,n)=>t in e?mC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vC=(e,t,n)=>(gC(e,t+"",n),n),ax=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},$n=(e,t,n)=>(ax(e,t,"read from private field"),n?n.call(e):t.get(e)),xf=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Xv=(e,t,n,r)=>(ax(e,t,"write to private field"),t.set(e,n),n),mr,dl,fl;let ux=class{constructor(t){xf(this,mr,{}),xf(this,dl,new lx(()=>new Set)),xf(this,fl,new Set),vC(this,"disposables",cn()),Xv(this,mr,t),wr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return $n(this,mr)}subscribe(t,n){if(wr.isServer)return()=>{};let r={selector:t,callback:n,current:t($n(this,mr))};return $n(this,fl).add(r),this.disposables.add(()=>{$n(this,fl).delete(r)})}on(t,n){return wr.isServer?()=>{}:($n(this,dl).get(t).add(n),this.disposables.add(()=>{$n(this,dl).get(t).delete(n)}))}send(t){let n=this.reduce($n(this,mr),t);if(n!==$n(this,mr)){Xv(this,mr,n);for(let r of $n(this,fl)){let s=r.selector($n(this,mr));cx(r.current,s)||(r.current=s,r.callback(s))}for(let r of $n(this,dl).get(t.type))r($n(this,mr),t)}}};mr=new WeakMap,dl=new WeakMap,fl=new WeakMap;function cx(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:bf(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:bf(e.entries(),t.entries()):Zv(e)&&Zv(t)?bf(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function bf(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Zv(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function ey(e){let[t,n]=e(),r=cn();return(...s)=>{t(...s),r.dispose(),r.microTask(n)}}var yC=Object.defineProperty,wC=(e,t,n)=>t in e?yC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ty=(e,t,n)=>(wC(e,typeof t!="symbol"?t+"":t,n),n),dx=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(dx||{});let xC={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let o=e.stack.slice();return o.splice(s,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},bC=class fx extends ux{constructor(){super(...arguments),ty(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),ty(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new fx({stack:[]})}reduce(t,n){return rr(n.type,xC,t,n)}};const lc=new lx(()=>bC.new());var kf={exports:{}},Sf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function kC(){if(ny)return Sf;ny=1;var e=tc();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,u=e.useDebugValue;return Sf.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var g=s(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function E(B){if(!C){if(C=!0,N=B,B=p(B),v!==void 0&&b.hasValue){var A=b.value;if(v(A,B))return R=A}return R=B}if(A=R,n(N,B))return A;var K=p(B);return v!==void 0&&v(A,K)?(N=B,A):(N=B,R=K)}var C=!1,N,R,z=h===void 0?null:h;return[function(){return E(f())},z===null?void 0:function(){return E(z())}]},[f,h,p,v]);var S=r(c,g[0],g[1]);return o(function(){b.hasValue=!0,b.value=S},[S]),u(S),S},Sf}var ry;function SC(){return ry||(ry=1,kf.exports=kC()),kf.exports}var EC=SC();function zn(e,t,n=cx){return EC.useSyncExternalStoreWithSelector(Ce(r=>e.subscribe(_C,r)),Ce(()=>e.state),Ce(()=>e.state),Ce(t),n)}function _C(e){return e}function Bl(e,t){let n=k.useId(),r=lc.get(t),[s,o]=zn(r,k.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return et(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?s:!0:!1}let wh=new Map,yl=new Map;function iy(e){var t;let n=(t=yl.get(e))!=null?t:0;return yl.set(e,n+1),n!==0?()=>sy(e):(wh.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>sy(e))}function sy(e){var t;let n=(t=yl.get(e))!=null?t:1;if(n===1?yl.delete(e):yl.set(e,n-1),n!==1)return;let r=wh.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,wh.delete(e))}function hx(e,{allowed:t,disallowed:n}={}){let r=Bl(e,"inert-others");et(()=>{var s,o;if(!r)return;let a=cn();for(let c of(s=n==null?void 0:n())!=null?s:[])c&&a.add(iy(c));let u=(o=t==null?void 0:t())!=null?o:[];for(let c of u){if(!c)continue;let f=as(c);if(!f)continue;let h=c.parentElement;for(;h&&h!==f.body;){for(let p of h.children)u.some(v=>p.contains(v))||a.add(iy(p));h=h.parentElement}}return a.dispose},[r,t,n])}function px(e,t,n){let r=cs(s=>{let o=s.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});k.useEffect(()=>{if(!e)return;let s=t===null?null:_n(t)?t:t.current;if(!s)return;let o=cn();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(s));a.observe(s),o.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(s));a.observe(s),o.add(()=>a.disconnect())}return()=>o.dispose()},[t,r,e])}let $u=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),CC=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var tr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(tr||{}),xh=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(xh||{}),jC=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(jC||{});function mx(e=document.body){return e==null?[]:Array.from(e.querySelectorAll($u)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function TC(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(CC)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var fp=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(fp||{});function hp(e,t=0){var n;return e===((n=as(e))==null?void 0:n.body)?!1:rr(t,{0(){return e.matches($u)},1(){let r=e;for(;r!==null;){if(r.matches($u))return!0;r=r.parentElement}return!1}})}function gx(e){cn().nextFrame(()=>{let t=up(e);t&&yr(t)&&!hp(t,0)&&xr(e)})}var IC=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(IC||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xr(e){e==null||e.focus({preventScroll:!0})}let NC=["textarea","input"].join(",");function RC(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,NC))!=null?n:!1}function vx(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),o=t(r);if(s===null||o===null)return 0;let a=s.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function PC(e,t,n=e===null?document.body:Du(e)){return no(mx(n),t,{relativeTo:e})}function no(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?Du(e[0]):document:Du(e),a=Array.isArray(e)?n?vx(e):e:t&64?TC(e):mx(e);s.length>0&&a.length>1&&(a=a.filter(g=>!s.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===g:b===g))),r=r??(o==null?void 0:o.activeElement);let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,p=a.length,v;do{if(h>=p||h+p<=0)return 0;let g=c+h;if(t&16)g=(g+p)%p;else{if(g<0)return 3;if(g>=p)return 1}v=a[g],v==null||v.focus(f),h+=u}while(v!==up(v));return t&6&&RC(v)&&v.select(),2}function yx(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function AC(){return/Android/gi.test(window.navigator.userAgent)}function oy(){return yx()||AC()}function eo(e,t,n,r){let s=cs(n);k.useEffect(()=>{if(!e)return;function o(a){s.current(a)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function wx(e,t,n,r){let s=cs(n);k.useEffect(()=>{if(!e)return;function o(a){s.current(a)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const ly=30;function xx(e,t,n){let r=cs(n),s=k.useCallback(function(u,c){if(u.defaultPrevented)return;let f=c(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=(function p(v){return typeof v=="function"?p(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let p of h)if(p!==null&&(p.contains(f)||u.composed&&u.composedPath().includes(p)))return;return!hp(f,fp.Loose)&&f.tabIndex!==-1&&u.preventDefault(),r.current(u,f)},[r,t]),o=k.useRef(null);eo(e,"pointerdown",u=>{var c,f;oy()||(o.current=((f=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:f[0])||u.target)},!0),eo(e,"pointerup",u=>{if(oy()||!o.current)return;let c=o.current;return o.current=null,s(u,()=>c)},!0);let a=k.useRef({x:0,y:0});eo(e,"touchstart",u=>{a.current.x=u.touches[0].clientX,a.current.y=u.touches[0].clientY},!0),eo(e,"touchend",u=>{let c={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=ly||Math.abs(c.y-a.current.y)>=ly))return s(u,()=>yr(u.target)?u.target:null)},!0),wx(e,"blur",u=>s(u,()=>X_(window.document.activeElement)?window.document.activeElement:null),!0)}function Nl(...e){return k.useMemo(()=>as(...e),[...e])}var OC=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(OC||{});const au={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},DC=200,ay=5;function LC(e,{trigger:t,action:n,close:r,select:s}){let o=k.useRef(null),a=k.useRef(null),u=k.useRef(null);eo(e&&t!==null,"pointerdown",c=>{Z0(c==null?void 0:c.target)&&t!=null&&t.contains(c.target)&&(a.current=c.x,u.current=c.y,o.current=c.timeStamp)}),eo(e&&t!==null,"pointerup",c=>{var f,h;let p=o.current;if(p===null||(o.current=null,!yr(c.target))||Math.abs(c.x-((f=a.current)!=null?f:c.x))<ay&&Math.abs(c.y-((h=u.current)!=null?h:c.y))<ay)return;let v=n(c);switch(v.kind){case 0:return;case 1:{c.timeStamp-p>DC&&(s(v.target),r());break}case 2:{r();break}}},{capture:!0})}function bx(e,t,n,r){let s=cs(n);k.useEffect(()=>{e=e??window;function o(a){s.current(a)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function $C(e,t){return k.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function MC(e){return k.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function FC(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...o){let a=t[s].call(n,...o);a&&(n=a,r.forEach(u=>u()))}}}function zC(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-s);n.style(r,"paddingRight",`${o}px`)}}}function UC(){return yx()?{before({doc:e,d:t,meta:n}){function r(s){for(let o of n().containers)for(let a of o())if(a.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=cn();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",u=>{if(yr(u.target))try{let c=u.target.closest("a");if(!c)return;let{hash:f}=new URL(c.href),h=e.querySelector(f);yr(h)&&!r(h)&&(a=h)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",c=>{if(u.dispose(),yr(c.target)&&Q_(c.target))if(r(c.target)){let f=c.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(yr(u.target)){if(ex(u.target))return;if(r(u.target)){let c=u.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let c=(u=window.scrollY)!=null?u:window.pageYOffset;o!==c&&window.scrollTo(0,o),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function BC(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function uy(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ts=FC(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:cn(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=uy(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=uy(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[UC(),zC(),BC()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ts.subscribe(()=>{let e=ts.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&ts.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ts.dispatch("TEARDOWN",n)}});function WC(e,t,n=()=>({containers:[]})){let r=MC(ts),s=t?r.get(t):void 0,o=s?s.count>0:!1;return et(()=>{if(!(!t||!e))return ts.dispatch("PUSH",t,n),()=>ts.dispatch("POP",t,n)},[e,t]),o}function kx(e,t,n=()=>[document.body]){let r=Bl(e,"scroll-lock");WC(r,t,s=>{var o;return{containers:[...(o=s.containers)!=null?o:[],n]}})}function cy(e){return[e.screenX,e.screenY]}function HC(){let e=k.useRef([-1,-1]);return{wasMoved(t){let n=cy(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=cy(t)}}}function VC(e=0){let[t,n]=k.useState(e),r=k.useCallback(c=>n(c),[]),s=k.useCallback(c=>n(f=>f|c),[]),o=k.useCallback(c=>(t&c)===c,[t]),a=k.useCallback(c=>n(f=>f&~c),[]),u=k.useCallback(c=>n(f=>f^c),[]);return{flags:t,setFlag:r,addFlag:s,hasFlag:o,removeFlag:a,toggleFlag:u}}var qC={},dy,fy;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((dy=process==null?void 0:qC)==null?void 0:dy.NODE_ENV)==="test"&&typeof((fy=Element==null?void 0:Element.prototype)==null?void 0:fy.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var YC=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(YC||{});function Sx(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Ex(e,t,n,r){let[s,o]=k.useState(n),{hasFlag:a,addFlag:u,removeFlag:c}=VC(e&&s?3:0),f=k.useRef(!1),h=k.useRef(!1),p=us();return et(()=>{var v;if(e){if(n&&o(!0),!t){n&&u(3);return}return(v=r==null?void 0:r.start)==null||v.call(r,n),KC(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(u(3),c(4)):(u(4),c(2)))},run(){h.current?n?(c(3),u(4)):(c(4),u(3)):n?c(1):u(1)},done(){var g;h.current&&QC(t)||(f.current=!1,c(7),n||o(!1),(g=r==null?void 0:r.end)==null||g.call(r,n))}})}},[e,n,t,p]),e?[s,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function KC(e,{prepare:t,run:n,done:r,inFlight:s}){let o=cn();return JC(e,{prepare:t,inFlight:s}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(GC(e,r))})}),o.dispose}function GC(e,t){var n,r;let s=cn();if(!e)return s.dispose;let o=!1;s.add(()=>{o=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),s.dispose):(Promise.allSettled(a.map(u=>u.finished)).then(()=>{o||t()}),s.dispose)}function JC(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function QC(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function XC(e,{container:t,accept:n,walk:r}){let s=k.useRef(n),o=k.useRef(r);k.useEffect(()=>{s.current=n,o.current=r},[n,r]),et(()=>{if(!t||!e)return;let a=as(t);if(!a)return;let u=s.current,c=o.current,f=Object.assign(p=>u(p),{acceptNode:u}),h=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;h.nextNode();)c(h.currentNode)},[t,e,s,o])}function pp(e,t){let n=k.useRef([]),r=Ce(e);k.useEffect(()=>{let s=[...n.current];for(let[o,a]of t.entries())if(n.current[o]!==a){let u=r(t,s);return n.current=t,u}},[r,...t])}function ac(){return typeof window<"u"}function mo(e){return _x(e)?(e.nodeName||"").toLowerCase():"#document"}function Sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _r(e){var t;return(t=(_x(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _x(e){return ac()?e instanceof Node||e instanceof Sn(e).Node:!1}function Jt(e){return ac()?e instanceof Element||e instanceof Sn(e).Element:!1}function kr(e){return ac()?e instanceof HTMLElement||e instanceof Sn(e).HTMLElement:!1}function hy(e){return!ac()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sn(e).ShadowRoot}const ZC=new Set(["inline","contents"]);function Wl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ZC.has(s)}const ej=new Set(["table","td","th"]);function tj(e){return ej.has(mo(e))}const nj=[":popover-open",":modal"];function uc(e){return nj.some(t=>{try{return e.matches(t)}catch{return!1}})}const rj=["transform","translate","scale","rotate","perspective"],ij=["transform","translate","scale","rotate","perspective","filter"],sj=["paint","layout","strict","content"];function mp(e){const t=gp(),n=Jt(e)?ir(e):e;return rj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||ij.some(r=>(n.willChange||"").includes(r))||sj.some(r=>(n.contain||"").includes(r))}function oj(e){let t=Si(e);for(;kr(t)&&!uo(t);){if(mp(t))return t;if(uc(t))return null;t=Si(t)}return null}function gp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lj=new Set(["html","body","#document"]);function uo(e){return lj.has(mo(e))}function ir(e){return Sn(e).getComputedStyle(e)}function cc(e){return Jt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Si(e){if(mo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hy(e)&&e.host||_r(e);return hy(t)?t.host:t}function Cx(e){const t=Si(e);return uo(t)?e.ownerDocument?e.ownerDocument.body:e.body:kr(t)&&Wl(t)?t:Cx(t)}function Rl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Cx(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=Sn(s);if(o){const u=bh(a);return t.concat(a,a.visualViewport||[],Wl(s)?s:[],u&&n?Rl(u):[])}return t.concat(s,Rl(s,[],n))}function bh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aj(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const is=Math.min,Wt=Math.max,Pl=Math.round,uu=Math.floor,br=e=>({x:e,y:e}),uj={left:"right",right:"left",bottom:"top",top:"bottom"},cj={start:"end",end:"start"};function py(e,t,n){return Wt(e,is(t,n))}function go(e,t){return typeof e=="function"?e(t):e}function Ei(e){return e.split("-")[0]}function Hl(e){return e.split("-")[1]}function jx(e){return e==="x"?"y":"x"}function Tx(e){return e==="y"?"height":"width"}const dj=new Set(["top","bottom"]);function Fr(e){return dj.has(Ei(e))?"y":"x"}function Ix(e){return jx(Fr(e))}function fj(e,t,n){n===void 0&&(n=!1);const r=Hl(e),s=Ix(e),o=Tx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Mu(a)),[a,Mu(a)]}function hj(e){const t=Mu(e);return[kh(e),t,kh(t)]}function kh(e){return e.replace(/start|end/g,t=>cj[t])}const my=["left","right"],gy=["right","left"],pj=["top","bottom"],mj=["bottom","top"];function gj(e,t,n){switch(e){case"top":case"bottom":return n?t?gy:my:t?my:gy;case"left":case"right":return t?pj:mj;default:return[]}}function vj(e,t,n,r){const s=Hl(e);let o=gj(Ei(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(kh)))),o}function Mu(e){return e.replace(/left|right|bottom|top/g,t=>uj[t])}function yj(e){return{top:0,right:0,bottom:0,left:0,...e}}function wj(e){return typeof e!="number"?yj(e):{top:e,right:e,bottom:e,left:e}}function Fu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function vy(e,t,n){let{reference:r,floating:s}=e;const o=Fr(t),a=Ix(t),u=Tx(a),c=Ei(t),f=o==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-s.width,y:p};break;default:g={x:r.x,y:r.y}}switch(Hl(t)){case"start":g[a]-=v*(n&&f?-1:1);break;case"end":g[a]+=v*(n&&f?-1:1);break}return g}const xj=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,u=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:p}=vy(f,r,c),v=r,g={},b=0;for(let S=0;S<u.length;S++){const{name:E,fn:C}=u[S],{x:N,y:R,data:z,reset:B}=await C({x:h,y:p,initialPlacement:r,placement:v,strategy:s,middlewareData:g,rects:f,platform:a,elements:{reference:e,floating:t}});h=N??h,p=R??p,g={...g,[E]:{...g[E],...z}},B&&b<=50&&(b++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(f=B.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):B.rects),{x:h,y:p}=vy(f,v,c)),S=-1)}return{x:h,y:p,placement:v,strategy:s,middlewareData:g}};async function dc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:u,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:v=!1,padding:g=0}=go(t,e),b=wj(g),E=u[v?p==="floating"?"reference":"floating":p],C=Fu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:c})),N=p==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),z=await(o.isElement==null?void 0:o.isElement(R))?await(o.getScale==null?void 0:o.getScale(R))||{x:1,y:1}:{x:1,y:1},B=Fu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:R,strategy:c}):N);return{top:(C.top-B.top+b.top)/z.y,bottom:(B.bottom-C.bottom+b.bottom)/z.y,left:(C.left-B.left+b.left)/z.x,right:(B.right-C.right+b.right)/z.x}}const bj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:u,platform:c,elements:f}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:S=!0,...E}=go(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=Ei(s),N=Fr(u),R=Ei(u)===u,z=await(c.isRTL==null?void 0:c.isRTL(f.floating)),B=v||(R||!S?[Mu(u)]:hj(u)),A=b!=="none";!v&&A&&B.push(...vj(u,S,b,z));const K=[u,...B],ne=await dc(t,E),ie=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&ie.push(ne[C]),p){const O=fj(s,a,z);ie.push(ne[O[0]],ne[O[1]])}if(D=[...D,{placement:s,overflows:ie}],!ie.every(O=>O<=0)){var L,X;const O=(((L=o.flip)==null?void 0:L.index)||0)+1,W=K[O];if(W&&(!(p==="alignment"?N!==Fr(W):!1)||D.every(P=>Fr(P.placement)===N?P.overflows[0]>0:!0)))return{data:{index:O,overflows:D},reset:{placement:W}};let $=(X=D.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:X.placement;if(!$)switch(g){case"bestFit":{var G;const U=(G=D.filter(P=>{if(A){const q=Fr(P.placement);return q===N||q==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(q=>q>0).reduce((q,T)=>q+T,0)]).sort((P,q)=>P[1]-q[1])[0])==null?void 0:G[0];U&&($=U);break}case"initialPlacement":$=u;break}if(s!==$)return{reset:{placement:$}}}return{}}}},kj=new Set(["left","top"]);async function Sj(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ei(n),u=Hl(n),c=Fr(n)==="y",f=kj.has(a)?-1:1,h=o&&c?-1:1,p=go(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof b=="number"&&(g=u==="end"?b*-1:b),c?{x:g*h,y:v*f}:{x:v*f,y:g*h}}const Ej=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:u}=t,c=await Sj(t,e);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},_j=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn:E=>{let{x:C,y:N}=E;return{x:C,y:N}}},...c}=go(e,t),f={x:n,y:r},h=await dc(t,c),p=Fr(Ei(s)),v=jx(p);let g=f[v],b=f[p];if(o){const E=v==="y"?"top":"left",C=v==="y"?"bottom":"right",N=g+h[E],R=g-h[C];g=py(N,g,R)}if(a){const E=p==="y"?"top":"left",C=p==="y"?"bottom":"right",N=b+h[E],R=b-h[C];b=py(N,b,R)}const S=u.fn({...t,[v]:g,[p]:b});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[v]:o,[p]:a}}}}}},Cj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:a,elements:u}=t,{apply:c=()=>{},...f}=go(e,t),h=await dc(t,f),p=Ei(s),v=Hl(s),g=Fr(s)==="y",{width:b,height:S}=o.floating;let E,C;p==="top"||p==="bottom"?(E=p,C=v===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(C=p,E=v==="end"?"top":"bottom");const N=S-h.top-h.bottom,R=b-h.left-h.right,z=is(S-h[E],N),B=is(b-h[C],R),A=!t.middlewareData.shift;let K=z,ne=B;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(ne=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(K=N),A&&!v){const D=Wt(h.left,0),L=Wt(h.right,0),X=Wt(h.top,0),G=Wt(h.bottom,0);g?ne=b-2*(D!==0||L!==0?D+L:Wt(h.left,h.right)):K=S-2*(X!==0||G!==0?X+G:Wt(h.top,h.bottom))}await c({...t,availableWidth:ne,availableHeight:K});const ie=await a.getDimensions(u.floating);return b!==ie.width||S!==ie.height?{reset:{rects:!0}}:{}}}};function Nx(e){const t=ir(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=kr(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,u=Pl(n)!==o||Pl(r)!==a;return u&&(n=o,r=a),{width:n,height:r,$:u}}function vp(e){return Jt(e)?e:e.contextElement}function ro(e){const t=vp(e);if(!kr(t))return br(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Nx(t);let a=(o?Pl(n.width):n.width)/r,u=(o?Pl(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const jj=br(0);function Rx(e){const t=Sn(e);return!gp()||!t.visualViewport?jj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Tj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Sn(e)?!1:t}function ss(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=vp(e);let a=br(1);t&&(r?Jt(r)&&(a=ro(r)):a=ro(e));const u=Tj(o,n,r)?Rx(o):br(0);let c=(s.left+u.x)/a.x,f=(s.top+u.y)/a.y,h=s.width/a.x,p=s.height/a.y;if(o){const v=Sn(o),g=r&&Jt(r)?Sn(r):r;let b=v,S=bh(b);for(;S&&r&&g!==b;){const E=ro(S),C=S.getBoundingClientRect(),N=ir(S),R=C.left+(S.clientLeft+parseFloat(N.paddingLeft))*E.x,z=C.top+(S.clientTop+parseFloat(N.paddingTop))*E.y;c*=E.x,f*=E.y,h*=E.x,p*=E.y,c+=R,f+=z,b=Sn(S),S=bh(b)}}return Fu({width:h,height:p,x:c,y:f})}function fc(e,t){const n=cc(e).scrollLeft;return t?t.left+n:ss(_r(e)).left+n}function Px(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-fc(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function Ij(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=_r(r),u=t?uc(t.floating):!1;if(r===a||u&&o)return n;let c={scrollLeft:0,scrollTop:0},f=br(1);const h=br(0),p=kr(r);if((p||!p&&!o)&&((mo(r)!=="body"||Wl(a))&&(c=cc(r)),kr(r))){const g=ss(r);f=ro(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const v=a&&!p&&!o?Px(a,c):br(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+h.x+v.x,y:n.y*f.y-c.scrollTop*f.y+h.y+v.y}}function Nj(e){return Array.from(e.getClientRects())}function Rj(e){const t=_r(e),n=cc(e),r=e.ownerDocument.body,s=Wt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Wt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+fc(e);const u=-n.scrollTop;return ir(r).direction==="rtl"&&(a+=Wt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:u}}const yy=25;function Pj(e,t){const n=Sn(e),r=_r(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,u=0,c=0;if(s){o=s.width,a=s.height;const h=gp();(!h||h&&t==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const f=fc(r);if(f<=0){const h=r.ownerDocument,p=h.body,v=getComputedStyle(p),g=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,b=Math.abs(r.clientWidth-p.clientWidth-g);b<=yy&&(o-=b)}else f<=yy&&(o+=f);return{width:o,height:a,x:u,y:c}}const Aj=new Set(["absolute","fixed"]);function Oj(e,t){const n=ss(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=kr(e)?ro(e):br(1),a=e.clientWidth*o.x,u=e.clientHeight*o.y,c=s*o.x,f=r*o.y;return{width:a,height:u,x:c,y:f}}function wy(e,t,n){let r;if(t==="viewport")r=Pj(e,n);else if(t==="document")r=Rj(_r(e));else if(Jt(t))r=Oj(t,n);else{const s=Rx(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Fu(r)}function Ax(e,t){const n=Si(e);return n===t||!Jt(n)||uo(n)?!1:ir(n).position==="fixed"||Ax(n,t)}function Dj(e,t){const n=t.get(e);if(n)return n;let r=Rl(e,[],!1).filter(u=>Jt(u)&&mo(u)!=="body"),s=null;const o=ir(e).position==="fixed";let a=o?Si(e):e;for(;Jt(a)&&!uo(a);){const u=ir(a),c=mp(a);!c&&u.position==="fixed"&&(s=null),(o?!c&&!s:!c&&u.position==="static"&&!!s&&Aj.has(s.position)||Wl(a)&&!c&&Ax(e,a))?r=r.filter(h=>h!==a):s=u,a=Si(a)}return t.set(e,r),r}function Lj(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?uc(t)?[]:Dj(t,this._c):[].concat(n),r],u=a[0],c=a.reduce((f,h)=>{const p=wy(t,h,s);return f.top=Wt(p.top,f.top),f.right=is(p.right,f.right),f.bottom=is(p.bottom,f.bottom),f.left=Wt(p.left,f.left),f},wy(t,u,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $j(e){const{width:t,height:n}=Nx(e);return{width:t,height:n}}function Mj(e,t,n){const r=kr(t),s=_r(t),o=n==="fixed",a=ss(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const c=br(0);function f(){c.x=fc(s)}if(r||!r&&!o)if((mo(t)!=="body"||Wl(s))&&(u=cc(t)),r){const g=ss(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&f();o&&!r&&s&&f();const h=s&&!r&&!o?Px(s,u):br(0),p=a.left+u.scrollLeft-c.x-h.x,v=a.top+u.scrollTop-c.y-h.y;return{x:p,y:v,width:a.width,height:a.height}}function Ef(e){return ir(e).position==="static"}function xy(e,t){if(!kr(e)||ir(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _r(e)===n&&(n=n.ownerDocument.body),n}function Ox(e,t){const n=Sn(e);if(uc(e))return n;if(!kr(e)){let s=Si(e);for(;s&&!uo(s);){if(Jt(s)&&!Ef(s))return s;s=Si(s)}return n}let r=xy(e,t);for(;r&&tj(r)&&Ef(r);)r=xy(r,t);return r&&uo(r)&&Ef(r)&&!mp(r)?n:r||oj(e)||n}const Fj=async function(e){const t=this.getOffsetParent||Ox,n=this.getDimensions,r=await n(e.floating);return{reference:Mj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zj(e){return ir(e).direction==="rtl"}const Uj={convertOffsetParentRelativeRectToViewportRelativeRect:Ij,getDocumentElement:_r,getClippingRect:Lj,getOffsetParent:Ox,getElementRects:Fj,getClientRects:Nj,getDimensions:$j,getScale:ro,isElement:Jt,isRTL:zj};function Dx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Bj(e,t){let n=null,r;const s=_r(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const f=e.getBoundingClientRect(),{left:h,top:p,width:v,height:g}=f;if(u||t(),!v||!g)return;const b=uu(p),S=uu(s.clientWidth-(h+v)),E=uu(s.clientHeight-(p+g)),C=uu(h),R={rootMargin:-b+"px "+-S+"px "+-E+"px "+-C+"px",threshold:Wt(0,is(1,c))||1};let z=!0;function B(A){const K=A[0].intersectionRatio;if(K!==c){if(!z)return a();K?a(!1,K):r=setTimeout(()=>{a(!1,1e-7)},1e3)}K===1&&!Dx(f,e.getBoundingClientRect())&&a(),z=!1}try{n=new IntersectionObserver(B,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(B,R)}n.observe(e)}return a(!0),o}function Wj(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=vp(e),h=s||o?[...f?Rl(f):[],...Rl(t)]:[];h.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const p=f&&u?Bj(f,n):null;let v=-1,g=null;a&&(g=new ResizeObserver(C=>{let[N]=C;N&&N.target===f&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=g)==null||R.observe(t)})),n()}),f&&!c&&g.observe(f),g.observe(t));let b,S=c?ss(e):null;c&&E();function E(){const C=ss(e);S&&!Dx(S,C)&&n(),S=C,b=requestAnimationFrame(E)}return n(),()=>{var C;h.forEach(N=>{s&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),p==null||p(),(C=g)==null||C.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const _f=dc,Hj=Ej,Vj=_j,qj=bj,Yj=Cj,Kj=(e,t,n)=>{const r=new Map,s={platform:Uj,...n},o={...s.platform,_c:r};return xj(e,t,{...s,platform:o})};var Gj=typeof document<"u",Jj=function(){},_u=Gj?k.useLayoutEffect:Jj;function zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!zu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Lx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function by(e,t){const n=Lx(e);return Math.round(t*n)/n}function Cf(e){const t=k.useRef(e);return _u(()=>{t.current=e}),t}function Qj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:u=!0,whileElementsMounted:c,open:f}=e,[h,p]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,g]=k.useState(r);zu(v,r)||g(r);const[b,S]=k.useState(null),[E,C]=k.useState(null),N=k.useCallback(P=>{P!==A.current&&(A.current=P,S(P))},[]),R=k.useCallback(P=>{P!==K.current&&(K.current=P,C(P))},[]),z=o||b,B=a||E,A=k.useRef(null),K=k.useRef(null),ne=k.useRef(h),ie=c!=null,D=Cf(c),L=Cf(s),X=Cf(f),G=k.useCallback(()=>{if(!A.current||!K.current)return;const P={placement:t,strategy:n,middleware:v};L.current&&(P.platform=L.current),Kj(A.current,K.current,P).then(q=>{const T={...q,isPositioned:X.current!==!1};O.current&&!zu(ne.current,T)&&(ne.current=T,kn.flushSync(()=>{p(T)}))})},[v,t,n,L,X]);_u(()=>{f===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,p(P=>({...P,isPositioned:!1})))},[f]);const O=k.useRef(!1);_u(()=>(O.current=!0,()=>{O.current=!1}),[]),_u(()=>{if(z&&(A.current=z),B&&(K.current=B),z&&B){if(D.current)return D.current(z,B,G);G()}},[z,B,G,D,ie]);const W=k.useMemo(()=>({reference:A,floating:K,setReference:N,setFloating:R}),[N,R]),$=k.useMemo(()=>({reference:z,floating:B}),[z,B]),U=k.useMemo(()=>{const P={position:n,left:0,top:0};if(!$.floating)return P;const q=by($.floating,h.x),T=by($.floating,h.y);return u?{...P,transform:"translate("+q+"px, "+T+"px)",...Lx($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:T}},[n,u,$.floating,h.x,h.y]);return k.useMemo(()=>({...h,update:G,refs:W,elements:$,floatingStyles:U}),[h,G,W,$,U])}const $x=(e,t)=>({...Hj(e),options:[e,t]}),Xj=(e,t)=>({...Vj(e),options:[e,t]}),Zj=(e,t)=>({...qj(e),options:[e,t]}),eT=(e,t)=>({...Yj(e),options:[e,t]}),Mx={...Ru},tT=Mx.useInsertionEffect,nT=tT||(e=>e());function Fx(e){const t=k.useRef(()=>{});return nT(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}var Sh=typeof document<"u"?k.useLayoutEffect:k.useEffect;let ky=!1,rT=0;const Sy=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+rT++;function iT(){const[e,t]=k.useState(()=>ky?Sy():void 0);return Sh(()=>{e==null&&t(Sy())},[]),k.useEffect(()=>{ky=!0},[]),e}const sT=Mx.useId,oT=sT||iT;function lT(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(s=>s(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(s=>s!==n))||[])}}}const aT=k.createContext(null),uT=k.createContext(null),cT=()=>{var e;return((e=k.useContext(aT))==null?void 0:e.id)||null},dT=()=>k.useContext(uT),fT="data-floating-ui-focusable";function hT(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=oT(),o=k.useRef({}),[a]=k.useState(()=>lT()),u=cT()!=null,[c,f]=k.useState(r.reference),h=Fx((g,b,S)=>{o.current.openEvent=g?b:void 0,a.emit("openchange",{open:g,event:b,reason:S,nested:u}),n==null||n(g,b,S)}),p=k.useMemo(()=>({setPositionReference:f}),[]),v=k.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return k.useMemo(()=>({dataRef:o,open:t,onOpenChange:h,elements:v,events:a,floatingId:s,refs:p}),[t,h,v,a,s,p])}function pT(e){e===void 0&&(e={});const{nodeId:t}=e,n=hT({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[o,a]=k.useState(null),[u,c]=k.useState(null),h=(s==null?void 0:s.domReference)||o,p=k.useRef(null),v=dT();Sh(()=>{h&&(p.current=h)},[h]);const g=Qj({...e,elements:{...s,...u&&{reference:u}}}),b=k.useCallback(R=>{const z=Jt(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;c(z),g.refs.setReference(z)},[g.refs]),S=k.useCallback(R=>{(Jt(R)||R===null)&&(p.current=R,a(R)),(Jt(g.refs.reference.current)||g.refs.reference.current===null||R!==null&&!Jt(R))&&g.refs.setReference(R)},[g.refs]),E=k.useMemo(()=>({...g.refs,setReference:S,setPositionReference:b,domReference:p}),[g.refs,S,b]),C=k.useMemo(()=>({...g.elements,domReference:h}),[g.elements,h]),N=k.useMemo(()=>({...g,...r,refs:E,elements:C,nodeId:t}),[g,E,C,t,r]);return Sh(()=>{r.dataRef.current.floatingContext=N;const R=v==null?void 0:v.nodesRef.current.find(z=>z.id===t);R&&(R.context=N)}),k.useMemo(()=>({...g,context:N,refs:E,elements:C}),[g,E,C,N])}const Ey="active",_y="selected";function jf(e,t,n){const r=new Map,s=n==="item";let o=e;if(s&&e){const{[Ey]:a,[_y]:u,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1,[fT]:""},...o,...t.map(a=>{const u=a?a[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((a,u)=>(u&&Object.entries(u).forEach(c=>{let[f,h]=c;if(!(s&&[Ey,_y].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof h=="function"){var p;(p=r.get(f))==null||p.push(h),a[f]=function(){for(var v,g=arguments.length,b=new Array(g),S=0;S<g;S++)b[S]=arguments[S];return(v=r.get(f))==null?void 0:v.map(E=>E(...b)).find(E=>E!==void 0)}}}else a[f]=h}),a),{})}}function mT(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),n=e.map(u=>u==null?void 0:u.floating),r=e.map(u=>u==null?void 0:u.item),s=k.useCallback(u=>jf(u,e,"reference"),t),o=k.useCallback(u=>jf(u,e,"floating"),n),a=k.useCallback(u=>jf(u,e,"item"),r);return k.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:a}),[s,o,a])}function Cy(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const gT=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:s,offset:o=0,index:a=0,minItemsVisible:u=4,referenceOverflowThreshold:c=0,scrollRef:f,...h}=go(e,t),{rects:p,elements:{floating:v}}=t,g=n.current[a],b=(f==null?void 0:f.current)||v,S=v.clientTop||b.clientTop,E=v.clientTop!==0,C=b.clientTop!==0,N=v===b;if(!g)return{};const R={...t,...await $x(-g.offsetTop-v.clientTop-p.reference.height/2-g.offsetHeight/2-o).fn(t)},z=await _f(Cy(R,b.scrollHeight+S+v.clientTop),h),B=await _f(R,{...h,elementContext:"reference"}),A=Wt(0,z.top),K=R.y+A,D=(b.scrollHeight>b.clientHeight?L=>L:Pl)(Wt(0,b.scrollHeight+(E&&N||C?S*2:0)-A-Wt(0,z.bottom)));if(b.style.maxHeight=D+"px",b.scrollTop=A,s){const L=b.offsetHeight<g.offsetHeight*is(u,n.current.length)-1||B.top>=-c||B.bottom>=-c;kn.flushSync(()=>s(L))}return r&&(r.current=await _f(Cy({...R,y:K},b.offsetHeight+S+v.clientTop),h)),{y:K}}});function vT(e,t){const{open:n,elements:r}=e,{enabled:s=!0,overflowRef:o,scrollRef:a,onChange:u}=t,c=Fx(u),f=k.useRef(!1),h=k.useRef(null),p=k.useRef(null);k.useEffect(()=>{if(!s)return;function g(S){if(S.ctrlKey||!b||o.current==null)return;const E=S.deltaY,C=o.current.top>=-.5,N=o.current.bottom>=-.5,R=b.scrollHeight-b.clientHeight,z=E<0?-1:1,B=E<0?"max":"min";b.scrollHeight<=b.clientHeight||(!C&&E>0||!N&&E<0?(S.preventDefault(),kn.flushSync(()=>{c(A=>A+Math[B](E,R*z))})):/firefox/i.test(aj())&&(b.scrollTop+=E))}const b=(a==null?void 0:a.current)||r.floating;if(n&&b)return b.addEventListener("wheel",g),requestAnimationFrame(()=>{h.current=b.scrollTop,o.current!=null&&(p.current={...o.current})}),()=>{h.current=null,p.current=null,b.removeEventListener("wheel",g)}},[s,n,r.floating,o,a,c]);const v=k.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const g=(a==null?void 0:a.current)||r.floating;if(!(!o.current||!g||!f.current)){if(h.current!==null){const b=g.scrollTop-h.current;(o.current.bottom<-.5&&b<-1||o.current.top<-.5&&b>1)&&kn.flushSync(()=>c(S=>S+b))}requestAnimationFrame(()=>{h.current=g.scrollTop})}}}),[r.floating,c,o,a]);return k.useMemo(()=>s?{floating:v}:{},[s,v])}let vo=k.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});vo.displayName="FloatingContext";let yp=k.createContext(null);yp.displayName="PlacementContext";function yT(e){return k.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function wT(){return k.useContext(vo).setReference}function xT(){return k.useContext(vo).getReferenceProps}function bT(){let{getFloatingProps:e,slot:t}=k.useContext(vo);return k.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function kT(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=k.useContext(yp),n=k.useMemo(()=>e,[JSON.stringify(e,(s,o)=>{var a;return(a=o==null?void 0:o.outerHTML)!=null?a:o})]);et(()=>{t==null||t(n??null)},[t,n]);let r=k.useContext(vo);return k.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let jy=4;function ST({children:e,enabled:t=!0}){let[n,r]=k.useState(null),[s,o]=k.useState(0),a=k.useRef(null),[u,c]=k.useState(null);ET(u);let f=t&&n!==null&&u!==null,{to:h="bottom",gap:p=0,offset:v=0,padding:g=0,inner:b}=_T(n,u),[S,E="center"]=h.split(" ");et(()=>{f&&o(0)},[f]);let{refs:C,floatingStyles:N,context:R}=pT({open:f,placement:S==="selection"?E==="center"?"bottom":`bottom-${E}`:E==="center"?`${S}`:`${S}-${E}`,strategy:"absolute",transform:!1,middleware:[$x({mainAxis:S==="selection"?0:p,crossAxis:v}),Xj({padding:g}),S!=="selection"&&Zj({padding:g}),S==="selection"&&b?gT({...b,padding:g,overflowRef:a,offset:s,minItemsVisible:jy,referenceOverflowThreshold:g,onFallbackChange(L){var X,G;if(!L)return;let O=R.elements.floating;if(!O)return;let W=parseFloat(getComputedStyle(O).scrollPaddingBottom)||0,$=Math.min(jy,O.childElementCount),U=0,P=0;for(let q of(G=(X=R.elements.floating)==null?void 0:X.childNodes)!=null?G:[])if(_n(q)){let T=q.offsetTop,I=T+q.clientHeight+W,M=O.scrollTop,_=M+O.clientHeight;if(T>=M&&I<=_)$--;else{P=Math.max(0,Math.min(I,_)-Math.max(T,M)),U=q.clientHeight;break}}$>=1&&o(q=>{let T=U*$-P+W;return q>=T?q:T})}}):null,eT({padding:g,apply({availableWidth:L,availableHeight:X,elements:G}){Object.assign(G.floating.style,{overflow:"auto",maxWidth:`${L}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${X}px)`})}})].filter(Boolean),whileElementsMounted:Wj}),[z=S,B=E]=R.placement.split("-");S==="selection"&&(z="selection");let A=k.useMemo(()=>({anchor:[z,B].filter(Boolean).join(" ")}),[z,B]),K=vT(R,{overflowRef:a,onChange:o}),{getReferenceProps:ne,getFloatingProps:ie}=mT([K]),D=Ce(L=>{c(L),C.setFloating(L)});return k.createElement(yp.Provider,{value:r},k.createElement(vo.Provider,{value:{setFloating:D,setReference:C.setReference,styles:N,getReferenceProps:ne,getFloatingProps:ie,slot:A}},e))}function ET(e){et(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let s=parseInt(n);isNaN(s)||r!==s&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function _T(e,t){var n,r,s;let o=Tf((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),a=Tf((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),u=Tf((s=e==null?void 0:e.padding)!=null?s:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:a,padding:u}}function Tf(e,t,n=void 0){let r=us(),s=Ce((c,f)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!f)return[n,null];let h=Ty(c,f);return[h,p=>{let v=zx(c);{let g=v.map(b=>window.getComputedStyle(f).getPropertyValue(b));r.requestAnimationFrame(function b(){r.nextFrame(b);let S=!1;for(let[C,N]of v.entries()){let R=window.getComputedStyle(f).getPropertyValue(N);if(g[C]!==R){g[C]=R,S=!0;break}}if(!S)return;let E=Ty(c,f);h!==E&&(p(E),h=E)})}return r.dispose}]}return[n,null]}),o=k.useMemo(()=>s(e,t)[0],[e,t]),[a=o,u]=k.useState();return et(()=>{let[c,f]=s(e,t);if(u(c),!!f)return f(u)},[e,t]),a}function zx(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),s=t[1].slice(n+1).trim();return s?[r,...zx(s)]:[r]}return[]}function Ty(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let hc=k.createContext(null);hc.displayName="OpenClosedContext";var Qt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Qt||{});function Vl(){return k.useContext(hc)}function Ux({value:e,children:t}){return me.createElement(hc.Provider,{value:e},t)}function CT({children:e}){return me.createElement(hc.Provider,{value:null},e)}function jT(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let gi=[];jT(()=>{function e(t){if(!yr(t.target)||t.target===document.body||gi[0]===t.target)return;let n=t.target;n=n.closest($u),gi.unshift(n??t.target),gi=gi.filter(r=>r!=null&&r.isConnected),gi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function TT(e){throw new Error("Unexpected object: "+e)}var yt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(yt||{});function cu(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{s===-1&&(s=n.length);for(let o=s-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=s+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:TT(e)}}function wp(e){let t=Ce(e),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,sc(()=>{n.current&&t()})}),[t])}let Bx=k.createContext(!1);function IT(){return k.useContext(Bx)}function Iy(e){return me.createElement(Bx.Provider,{value:e.force},e.children)}function NT(e){let t=IT(),n=k.useContext(Hx),[r,s]=k.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(wr.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return k.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),k.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let Wx=k.Fragment,RT=ut(function(e,t){let{ownerDocument:n=null,...r}=e,s=k.useRef(null),o=Xt(nC(v=>{s.current=v}),t),a=Nl(s.current),u=n??a,c=NT(u),f=k.useContext(Eh),h=us(),p=wt();return wp(()=>{var v;c&&c.childNodes.length<=0&&((v=c.parentElement)==null||v.removeChild(c))}),c?kn.createPortal(me.createElement("div",{"data-headlessui-portal":"",ref:v=>{h.dispose(),f&&v&&h.add(f.register(v))}},p({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:Wx,name:"Portal"})),c):null});function PT(e,t){let n=Xt(t),{enabled:r=!0,ownerDocument:s,...o}=e,a=wt();return r?me.createElement(RT,{...o,ownerDocument:s,ref:n}):a({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:Wx,name:"Portal"})}let AT=k.Fragment,Hx=k.createContext(null);function OT(e,t){let{target:n,...r}=e,s={ref:Xt(t)},o=wt();return me.createElement(Hx.Provider,{value:n},o({ourProps:s,theirProps:r,defaultTag:AT,name:"Popover.Group"}))}let Eh=k.createContext(null);function DT(){let e=k.useContext(Eh),t=k.useRef([]),n=Ce(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Ce(o=>{let a=t.current.indexOf(o);a!==-1&&t.current.splice(a,1),e&&e.unregister(o)}),s=k.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,k.useMemo(()=>function({children:o}){return me.createElement(Eh.Provider,{value:s},o)},[s])]}let LT=ut(PT),Vx=ut(OT),qx=Object.assign(LT,{Group:Vx});const Cu={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function Yx(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function $T(e,t,n){let r=cn();if(t.kind==="Tracked"){let s=function(){o!==Yx(e)&&(r.dispose(),n())},{position:o}=t,a=new ResizeObserver(s);a.observe(e),r.add(()=>a.disconnect()),r.addEventListener(window,"scroll",s,{passive:!0}),r.addEventListener(window,"resize",s)}return()=>r.dispose()}function MT(e,t=typeof document<"u"?document.defaultView:null,n){let r=Bl(e,"escape");bx(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===Tt.Escape&&n(s))})}function FT(){var e;let[t]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((e=t==null?void 0:t.matches)!=null?e:!1);return et(()=>{if(!t)return;function s(o){r(o.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function zT({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Ce(()=>{var s,o;let a=as(n),u=[];for(let c of e)c!==null&&(zr(c)?u.push(c):"current"in c&&zr(c.current)&&u.push(c.current));if(t!=null&&t.current)for(let c of t.current)u.push(c);for(let c of(s=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&zr(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||u.some(f=>c.contains(f))||u.push(c));return u});return{resolveContainers:r,contains:Ce(s=>r().some(o=>o.contains(s)))}}let Kx=k.createContext(null);function Ny({children:e,node:t}){let[n,r]=k.useState(null),s=Gx(t??n);return me.createElement(Kx.Provider,{value:s},e,s===null&&me.createElement(yh,{features:Lu.Hidden,ref:o=>{var a,u;if(o){for(let c of(u=(a=as(o))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?u:[])if(c!==document.body&&c!==document.head&&zr(c)&&c!=null&&c.contains(o)){r(c);break}}}}))}function Gx(e=null){var t;return(t=k.useContext(Kx))!=null?t:e}function UT(){let e=typeof document>"u";return"useSyncExternalStore"in Ru?(t=>t.useSyncExternalStore)(Ru)(()=>()=>{},()=>!1,()=>!e):!1}function pc(){let e=UT(),[t,n]=k.useState(wr.isHandoffComplete);return t&&wr.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{t!==!0&&n(!0)},[t]),k.useEffect(()=>wr.handoff(),[]),e?!1:t}function xp(){let e=k.useRef(!1);return et(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var hl=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(hl||{});function BT(){let e=k.useRef(0);return wx(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Jx(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)zr(n.current)&&t.add(n.current);return t}let WT="div";var Qi=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Qi||{});function HT(e,t){let n=k.useRef(null),r=Xt(n,t),{initialFocus:s,initialFocusFallback:o,containers:a,features:u=15,...c}=e;pc()||(u=0);let f=Nl(n.current);KT(u,{ownerDocument:f});let h=GT(u,{ownerDocument:f,container:n,initialFocus:s,initialFocusFallback:o});JT(u,{ownerDocument:f,container:n,containers:a,previousActiveElement:h});let p=BT(),v=Ce(N=>{if(!_n(n.current))return;let R=n.current;(z=>z())(()=>{rr(p.current,{[hl.Forwards]:()=>{no(R,tr.First,{skipElements:[N.relatedTarget,o]})},[hl.Backwards]:()=>{no(R,tr.Last,{skipElements:[N.relatedTarget,o]})}})})}),g=Bl(!!(u&2),"focus-trap#tab-lock"),b=us(),S=k.useRef(!1),E={ref:r,onKeyDown(N){N.key=="Tab"&&(S.current=!0,b.requestAnimationFrame(()=>{S.current=!1}))},onBlur(N){if(!(u&4))return;let R=Jx(a);_n(n.current)&&R.add(n.current);let z=N.relatedTarget;yr(z)&&z.dataset.headlessuiFocusGuard!=="true"&&(Qx(R,z)||(S.current?no(n.current,rr(p.current,{[hl.Forwards]:()=>tr.Next,[hl.Backwards]:()=>tr.Previous})|tr.WrapAround,{relativeTo:N.target}):yr(N.target)&&xr(N.target)))}},C=wt();return me.createElement(me.Fragment,null,g&&me.createElement(yh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Lu.Focusable}),C({ourProps:E,theirProps:c,defaultTag:WT,name:"FocusTrap"}),g&&me.createElement(yh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Lu.Focusable}))}let VT=ut(HT),qT=Object.assign(VT,{features:Qi});function YT(e=!0){let t=k.useRef(gi.slice());return pp(([n],[r])=>{r===!0&&n===!1&&sc(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=gi.slice())},[e,gi,t]),Ce(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function KT(e,{ownerDocument:t}){let n=!!(e&8),r=YT(n);pp(()=>{n||G0(t==null?void 0:t.body)&&xr(r())},[n]),wp(()=>{n&&xr(r())})}function GT(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let o=k.useRef(null),a=Bl(!!(e&1),"focus-trap#initial-focus"),u=xp();return pp(()=>{if(e===0)return;if(!a){s!=null&&s.current&&xr(s.current);return}let c=n.current;c&&sc(()=>{if(!u.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){o.current=f;return}}else if(c.contains(f)){o.current=f;return}if(r!=null&&r.current)xr(r.current);else{if(e&16){if(no(c,tr.First|tr.AutoFocus)!==xh.Error)return}else if(no(c,tr.First)!==xh.Error)return;if(s!=null&&s.current&&(xr(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t==null?void 0:t.activeElement})},[s,a,e]),o}function JT(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let o=xp(),a=!!(e&4);bx(t==null?void 0:t.defaultView,"focus",u=>{if(!a||!o.current)return;let c=Jx(r);_n(n.current)&&c.add(n.current);let f=s.current;if(!f)return;let h=u.target;_n(h)?Qx(c,h)?(s.current=h,xr(h)):(u.preventDefault(),u.stopPropagation(),xr(f)):xr(s.current)},!0)}function Qx(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Xx(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!vl((t=e.as)!=null?t:eb)||me.Children.count(e.children)===1}let mc=k.createContext(null);mc.displayName="TransitionContext";var QT=(e=>(e.Visible="visible",e.Hidden="hidden",e))(QT||{});function XT(){let e=k.useContext(mc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function ZT(){let e=k.useContext(gc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let gc=k.createContext(null);gc.displayName="NestingContext";function vc(e){return"children"in e?vc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Zx(e,t){let n=cs(e),r=k.useRef([]),s=xp(),o=us(),a=Ce((g,b=xi.Hidden)=>{let S=r.current.findIndex(({el:E})=>E===g);S!==-1&&(rr(b,{[xi.Unmount](){r.current.splice(S,1)},[xi.Hidden](){r.current[S].state="hidden"}}),o.microTask(()=>{var E;!vc(r)&&s.current&&((E=n.current)==null||E.call(n))}))}),u=Ce(g=>{let b=r.current.find(({el:S})=>S===g);return b?b.state!=="visible"&&(b.state="visible"):r.current.push({el:g,state:"visible"}),()=>a(g,xi.Unmount)}),c=k.useRef([]),f=k.useRef(Promise.resolve()),h=k.useRef({enter:[],leave:[]}),p=Ce((g,b,S)=>{c.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([E])=>E!==g)),t==null||t.chains.current[b].push([g,new Promise(E=>{c.current.push(E)})]),t==null||t.chains.current[b].push([g,new Promise(E=>{Promise.all(h.current[b].map(([C,N])=>N)).then(()=>E())})]),b==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>S(b)):S(b)}),v=Ce((g,b,S)=>{Promise.all(h.current[b].splice(0).map(([E,C])=>C)).then(()=>{var E;(E=c.current.shift())==null||E()}).then(()=>S(b))});return k.useMemo(()=>({children:r,register:u,unregister:a,onStart:p,onStop:v,wait:f,chains:h}),[u,a,r,p,v,h,f])}let eb=k.Fragment,tb=ao.RenderStrategy;function eI(e,t){var n,r;let{transition:s=!0,beforeEnter:o,afterEnter:a,beforeLeave:u,afterLeave:c,enter:f,enterFrom:h,enterTo:p,entered:v,leave:g,leaveFrom:b,leaveTo:S,...E}=e,[C,N]=k.useState(null),R=k.useRef(null),z=Xx(e),B=Xt(...z?[R,t,N]:t===null?[]:[t]),A=(n=E.unmount)==null||n?xi.Unmount:xi.Hidden,{show:K,appear:ne,initial:ie}=XT(),[D,L]=k.useState(K?"visible":"hidden"),X=ZT(),{register:G,unregister:O}=X;et(()=>G(R),[G,R]),et(()=>{if(A===xi.Hidden&&R.current){if(K&&D!=="visible"){L("visible");return}return rr(D,{hidden:()=>O(R),visible:()=>G(R)})}},[D,R,G,O,K,A]);let W=pc();et(()=>{if(z&&W&&D==="visible"&&R.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[R,D,W,z]);let $=ie&&!ne,U=ne&&K&&ie,P=k.useRef(!1),q=Zx(()=>{P.current||(L("hidden"),O(R))},X),T=Ce(se=>{P.current=!0;let ue=se?"enter":"leave";q.onStart(R,ue,pe=>{pe==="enter"?o==null||o():pe==="leave"&&(u==null||u())})}),I=Ce(se=>{let ue=se?"enter":"leave";P.current=!1,q.onStop(R,ue,pe=>{pe==="enter"?a==null||a():pe==="leave"&&(c==null||c())}),ue==="leave"&&!vc(q)&&(L("hidden"),O(R))});k.useEffect(()=>{z&&s||(T(K),I(K))},[K,z,s]);let M=!(!s||!z||!W||$),[,_]=Ex(M,C,K,{start:T,end:I}),Y=Ki({ref:B,className:((r=vh(E.className,U&&f,U&&h,_.enter&&f,_.enter&&_.closed&&h,_.enter&&!_.closed&&p,_.leave&&g,_.leave&&!_.closed&&b,_.leave&&_.closed&&S,!_.transition&&K&&v))==null?void 0:r.trim())||void 0,...Sx(_)}),te=0;D==="visible"&&(te|=Qt.Open),D==="hidden"&&(te|=Qt.Closed),K&&D==="hidden"&&(te|=Qt.Opening),!K&&D==="visible"&&(te|=Qt.Closing);let Z=wt();return me.createElement(gc.Provider,{value:q},me.createElement(Ux,{value:te},Z({ourProps:Y,theirProps:E,defaultTag:eb,features:tb,visible:D==="visible",name:"Transition.Child"})))}function tI(e,t){let{show:n,appear:r=!1,unmount:s=!0,...o}=e,a=k.useRef(null),u=Xx(e),c=Xt(...u?[a,t]:t===null?[]:[t]);pc();let f=Vl();if(n===void 0&&f!==null&&(n=(f&Qt.Open)===Qt.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=k.useState(n?"visible":"hidden"),v=Zx(()=>{n||p("hidden")}),[g,b]=k.useState(!0),S=k.useRef([n]);et(()=>{g!==!1&&S.current[S.current.length-1]!==n&&(S.current.push(n),b(!1))},[S,n]);let E=k.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);et(()=>{n?p("visible"):!vc(v)&&a.current!==null&&p("hidden")},[n,v]);let C={unmount:s},N=Ce(()=>{var B;g&&b(!1),(B=e.beforeEnter)==null||B.call(e)}),R=Ce(()=>{var B;g&&b(!1),(B=e.beforeLeave)==null||B.call(e)}),z=wt();return me.createElement(gc.Provider,{value:v},me.createElement(mc.Provider,{value:E},z({ourProps:{...C,as:k.Fragment,children:me.createElement(nb,{ref:c,...C,...o,beforeEnter:N,beforeLeave:R})},theirProps:{},defaultTag:k.Fragment,features:tb,visible:h==="visible",name:"Transition"})))}function nI(e,t){let n=k.useContext(mc)!==null,r=Vl()!==null;return me.createElement(me.Fragment,null,!n&&r?me.createElement(_h,{ref:t,...e}):me.createElement(nb,{ref:t,...e}))}let _h=ut(tI),nb=ut(eI),bp=ut(nI),rI=Object.assign(_h,{Child:bp,Root:_h});var iI=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(iI||{}),sI=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(sI||{});let oI={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},kp=k.createContext(null);kp.displayName="DialogContext";function yc(e){let t=k.useContext(kp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,yc),n}return t}function lI(e,t){return rr(t.type,oI,e,t)}let Ry=ut(function(e,t){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:o,initialFocus:a,role:u="dialog",autoFocus:c=!0,__demoMode:f=!1,unmount:h=!1,...p}=e,v=k.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let g=Vl();s===void 0&&g!==null&&(s=(g&Qt.Open)===Qt.Open);let b=k.useRef(null),S=Xt(b,t),E=Nl(b.current),C=s?0:1,[N,R]=k.useReducer(lI,{titleId:null,descriptionId:null,panelRef:k.createRef()}),z=Ce(()=>o(!1)),B=Ce(_=>R({type:0,id:_})),A=pc()?C===0:!1,[K,ne]=DT(),ie={get current(){var _;return(_=N.panelRef.current)!=null?_:b.current}},D=Gx(),{resolveContainers:L}=zT({mainTreeNode:D,portals:K,defaultContainers:[ie]}),X=g!==null?(g&Qt.Closing)===Qt.Closing:!1;hx(f||X?!1:A,{allowed:Ce(()=>{var _,Y;return[(Y=(_=b.current)==null?void 0:_.closest("[data-headlessui-portal]"))!=null?Y:null]}),disallowed:Ce(()=>{var _;return[(_=D==null?void 0:D.closest("body > *:not(#headlessui-portal-root)"))!=null?_:null]})});let G=lc.get(null);et(()=>{if(A)return G.actions.push(r),()=>G.actions.pop(r)},[G,r,A]);let O=zn(G,k.useCallback(_=>G.selectors.isTop(_,r),[G,r]));xx(O,L,_=>{_.preventDefault(),z()}),MT(O,E==null?void 0:E.defaultView,_=>{_.preventDefault(),_.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),z()}),kx(f||X?!1:A,E,L),px(A,b,z);let[W,$]=ix(),U=k.useMemo(()=>[{dialogState:C,close:z,setTitleId:B,unmount:h},N],[C,z,B,h,N]),P=Er({open:C===0}),q={ref:S,id:r,role:u,tabIndex:-1,"aria-modal":f?void 0:C===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":W,unmount:h},T=!FT(),I=Qi.None;A&&!f&&(I|=Qi.RestoreFocus,I|=Qi.TabLock,c&&(I|=Qi.AutoFocus),T&&(I|=Qi.InitialFocus));let M=wt();return me.createElement(CT,null,me.createElement(Iy,{force:!0},me.createElement(qx,null,me.createElement(kp.Provider,{value:U},me.createElement(Vx,{target:b},me.createElement(Iy,{force:!1},me.createElement($,{slot:P},me.createElement(ne,null,me.createElement(qT,{initialFocus:a,initialFocusFallback:b,containers:L,features:I},me.createElement(fC,{value:z},M({ourProps:q,theirProps:p,slot:P,defaultTag:aI,features:uI,visible:C===0,name:"Dialog"})))))))))))}),aI="div",uI=ao.RenderStrategy|ao.Static;function cI(e,t){let{transition:n=!1,open:r,...s}=e,o=Vl(),a=e.hasOwnProperty("open")||o!==null,u=e.hasOwnProperty("onClose");if(!a&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?me.createElement(Ny,null,me.createElement(rI,{show:r,transition:n,unmount:s.unmount},me.createElement(Ry,{ref:t,...s}))):me.createElement(Ny,null,me.createElement(Ry,{ref:t,open:r,...s}))}let dI="div";function fI(e,t){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...o}=e,[{dialogState:a,unmount:u},c]=yc("Dialog.Panel"),f=Xt(t,c.panelRef),h=Er({open:a===0}),p=Ce(E=>{E.stopPropagation()}),v={ref:f,id:r,onClick:p},g=s?bp:k.Fragment,b=s?{unmount:u}:{},S=wt();return me.createElement(g,{...b},S({ourProps:v,theirProps:o,slot:h,defaultTag:dI,name:"Dialog.Panel"}))}let hI="div";function pI(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:o}]=yc("Dialog.Backdrop"),a=Er({open:s===0}),u={ref:t,"aria-hidden":!0},c=n?bp:k.Fragment,f=n?{unmount:o}:{},h=wt();return me.createElement(c,{...f},h({ourProps:u,theirProps:r,slot:a,defaultTag:hI,name:"Dialog.Backdrop"}))}let mI="h2";function gI(e,t){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:o,setTitleId:a}]=yc("Dialog.Title"),u=Xt(t);k.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=Er({open:o===0}),f={ref:u,id:r};return wt()({ourProps:f,theirProps:s,slot:c,defaultTag:mI,name:"Dialog.Title"})}let vI=ut(cI),yI=ut(fI);ut(pI);let wI=ut(gI),Py=Object.assign(vI,{Panel:yI,Title:wI,Description:oC}),Ay=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Oy(e){var t,n;let r=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!_n(s))return r;let o=!1;for(let u of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),o=!0;let a=o?(n=s.innerText)!=null?n:"":r;return Ay.test(a)&&(a=a.replace(Ay,"")),a}function xI(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():Oy(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Oy(e).trim()}function bI(e){let t=k.useRef(""),n=k.useRef("");return Ce(()=>{let r=e.current;if(!r)return"";let s=r.innerText;if(t.current===s)return n.current;let o=xI(r).trim().toLowerCase();return t.current=s,n.current=o,o})}var kI=Object.defineProperty,SI=(e,t,n)=>t in e?kI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dy=(e,t,n)=>(SI(e,typeof t!="symbol"?t+"":t,n),n),Bt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Bt||{}),Uu=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Uu||{}),Ve=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(Ve||{});function Ly(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=vx(t(e.items.slice()),o=>o.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{items:r,activeItemIndex:s}}let EI={1(e){if(e.menuState===1)return e;let t=e.buttonElement?Cu.Tracked(Yx(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:yt.Nothing},menuState:1,buttonPositionState:t}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:Cu.Idle}},2:(e,t)=>{var n,r,s,o,a;if(e.menuState===1)return e;let u={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===yt.Nothing)return{...u,activeItemIndex:null};if(t.focus===yt.Specific)return{...u,activeItemIndex:e.items.findIndex(h=>h.id===t.id)};if(t.focus===yt.Previous){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=cu(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.current.disabled});if(v!==null){let g=e.items[v].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===g.current||((s=g.current)==null?void 0:s.previousElementSibling)===null)return{...u,activeItemIndex:v}}}}else if(t.focus===yt.Next){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=cu(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.current.disabled});if(v!==null){let g=e.items[v].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.nextElementSibling)===g.current||((a=g.current)==null?void 0:a.nextElementSibling)===null)return{...u,activeItemIndex:v}}}}let c=Ly(e),f=cu(t,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...u,...c,activeItemIndex:f}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(a=>{var u;return((u=a.dataRef.current.textValue)==null?void 0:u.startsWith(r))&&!a.dataRef.current.disabled}),o=s?e.items.indexOf(s):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(s=>s)),r=e.activeItemIndex;return e.pendingFocus.focus!==yt.Nothing&&(r=cu(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:yt.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],s=new Set(t.items);for(let[o,a]of n.entries())if(s.has(a.id)&&(r.push(o),s.delete(a.id),s.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...Ly(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Cu.Moved}}};class Sp extends ux{constructor(t){super(t),Dy(this,"actions",{registerItem:ey(()=>{let n=[],r=new Set;return[(s,o)=>{r.has(o)||(r.add(o),n.push({id:s,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:ey(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),Dy(this,"selectors",{activeDescendantId(n){var r;let s=n.activeItemIndex,o=n.items;return s===null||(r=o[s])==null?void 0:r.id},isActive(n,r){var s;let o=n.activeItemIndex,a=n.items;return o!==null?((s=a[o])==null?void 0:s.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=lc.get(null);this.disposables.add(r.on(dx.Push,s=>{!r.selectors.isTop(s,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add($T(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:t,__demoMode:n=!1}){return new Sp({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:yt.Nothing},buttonPositionState:Cu.Idle})}reduce(t,n){return rr(n.type,EI,t,n)}}const rb=k.createContext(null);function Ep(e){let t=k.useContext(rb);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ib),n}return t}function ib({id:e,__demoMode:t=!1}){let n=k.useMemo(()=>Sp.new({id:e,__demoMode:t}),[]);return wp(()=>n.dispose()),n}let _I=k.Fragment;function CI(e,t){let n=k.useId(),{__demoMode:r=!1,...s}=e,o=ib({id:n,__demoMode:r}),[a,u,c]=zn(o,E=>[E.menuState,E.itemsElement,E.buttonElement]),f=Xt(t),h=lc.get(null),p=zn(h,k.useCallback(E=>h.selectors.isTop(E,n),[h,n]));xx(p,[c,u],(E,C)=>{var N;o.send({type:Ve.CloseMenu}),hp(C,fp.Loose)||(E.preventDefault(),(N=o.state.buttonElement)==null||N.focus())});let v=Ce(()=>{o.send({type:Ve.CloseMenu})}),g=Er({open:a===Bt.Open,close:v}),b={ref:f},S=wt();return me.createElement(ST,null,me.createElement(rb.Provider,{value:o},me.createElement(Ux,{value:rr(a,{[Bt.Open]:Qt.Open,[Bt.Closed]:Qt.Closed})},S({ourProps:b,theirProps:s,slot:g,defaultTag:_I,name:"Menu"}))))}let jI="button";function TI(e,t){let n=Ep("Menu.Button"),r=k.useId(),{id:s=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:a=!1,...u}=e,c=k.useRef(null),f=xT(),h=Xt(t,c,wT(),Ce(D=>n.send({type:Ve.SetButtonElement,element:D}))),p=Ce(D=>{switch(D.key){case Tt.Space:case Tt.Enter:case Tt.ArrowDown:D.preventDefault(),D.stopPropagation(),n.send({type:Ve.OpenMenu,focus:{focus:yt.First}});break;case Tt.ArrowUp:D.preventDefault(),D.stopPropagation(),n.send({type:Ve.OpenMenu,focus:{focus:yt.Last}});break}}),v=Ce(D=>{switch(D.key){case Tt.Space:D.preventDefault();break}}),[g,b,S]=zn(n,D=>[D.menuState,D.buttonElement,D.itemsElement]),E=g===Bt.Open;LC(E,{trigger:b,action:k.useCallback(D=>{if(b!=null&&b.contains(D.target))return au.Ignore;let L=D.target.closest('[role="menuitem"]:not([data-disabled])');return _n(L)?au.Select(L):S!=null&&S.contains(D.target)?au.Ignore:au.Close},[b,S]),close:k.useCallback(()=>n.send({type:Ve.CloseMenu}),[]),select:k.useCallback(D=>D.click(),[])});let C=pC(D=>{var L;o||(g===Bt.Open?(kn.flushSync(()=>n.send({type:Ve.CloseMenu})),(L=c.current)==null||L.focus({preventScroll:!0})):(D.preventDefault(),n.send({type:Ve.OpenMenu,focus:{focus:yt.Nothing},trigger:Uu.Pointer})))}),{isFocusVisible:N,focusProps:R}=O_({autoFocus:a}),{isHovered:z,hoverProps:B}=A_({isDisabled:o}),{pressed:A,pressProps:K}=z_({disabled:o}),ne=Er({open:g===Bt.Open,active:A||g===Bt.Open,disabled:o,hover:z,focus:N,autofocus:a}),ie=X0(f(),{ref:h,id:s,type:$C(e,c.current),"aria-haspopup":"menu","aria-controls":S==null?void 0:S.id,"aria-expanded":g===Bt.Open,disabled:o||void 0,autoFocus:a,onKeyDown:p,onKeyUp:v},C,R,B,K);return wt()({ourProps:ie,theirProps:u,slot:ne,defaultTag:jI,name:"Menu.Button"})}let II="div",NI=ao.RenderStrategy|ao.Static;function RI(e,t){let n=k.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:s,portal:o=!1,modal:a=!0,transition:u=!1,...c}=e,f=yT(s),h=Ep("Menu.Items"),[p,v]=kT(f),g=bT(),[b,S]=k.useState(null),E=Xt(t,f?p:null,Ce(P=>h.send({type:Ve.SetItemsElement,element:P})),S),[C,N]=zn(h,P=>[P.menuState,P.buttonElement]),R=Nl(N),z=Nl(b);f&&(o=!0);let B=Vl(),[A,K]=Ex(u,b,B!==null?(B&Qt.Open)===Qt.Open:C===Bt.Open);px(A,N,()=>{h.send({type:Ve.CloseMenu})});let ne=zn(h,P=>P.__demoMode),ie=ne?!1:a&&C===Bt.Open;kx(ie,z);let D=ne?!1:a&&C===Bt.Open;hx(D,{allowed:k.useCallback(()=>[N,b],[N,b])});let L=zn(h,h.selectors.didButtonMove)?!1:A;k.useEffect(()=>{let P=b;P&&C===Bt.Open&&(G0(P)||P.focus({preventScroll:!0}))},[C,b]),XC(C===Bt.Open,{container:b,accept(P){return P.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:P.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(P){P.setAttribute("role","none")}});let X=us(),G=Ce(P=>{var q,T,I;switch(X.dispose(),P.key){case Tt.Space:if(h.state.searchQuery!=="")return P.preventDefault(),P.stopPropagation(),h.send({type:Ve.Search,value:P.key});case Tt.Enter:if(P.preventDefault(),P.stopPropagation(),h.state.activeItemIndex!==null){let{dataRef:M}=h.state.items[h.state.activeItemIndex];(T=(q=M.current)==null?void 0:q.domRef.current)==null||T.click()}h.send({type:Ve.CloseMenu}),gx(h.state.buttonElement);break;case Tt.ArrowDown:return P.preventDefault(),P.stopPropagation(),h.send({type:Ve.GoToItem,focus:yt.Next});case Tt.ArrowUp:return P.preventDefault(),P.stopPropagation(),h.send({type:Ve.GoToItem,focus:yt.Previous});case Tt.Home:case Tt.PageUp:return P.preventDefault(),P.stopPropagation(),h.send({type:Ve.GoToItem,focus:yt.First});case Tt.End:case Tt.PageDown:return P.preventDefault(),P.stopPropagation(),h.send({type:Ve.GoToItem,focus:yt.Last});case Tt.Escape:P.preventDefault(),P.stopPropagation(),kn.flushSync(()=>h.send({type:Ve.CloseMenu})),(I=h.state.buttonElement)==null||I.focus({preventScroll:!0});break;case Tt.Tab:P.preventDefault(),P.stopPropagation(),kn.flushSync(()=>h.send({type:Ve.CloseMenu})),PC(h.state.buttonElement,P.shiftKey?tr.Previous:tr.Next);break;default:P.key.length===1&&(h.send({type:Ve.Search,value:P.key}),X.setTimeout(()=>h.send({type:Ve.ClearSearch}),350));break}}),O=Ce(P=>{switch(P.key){case Tt.Space:P.preventDefault();break}}),W=Er({open:C===Bt.Open}),$=X0(f?g():{},{"aria-activedescendant":zn(h,h.selectors.activeDescendantId),"aria-labelledby":zn(h,P=>{var q;return(q=P.buttonElement)==null?void 0:q.id}),id:r,onKeyDown:G,onKeyUp:O,role:"menu",tabIndex:C===Bt.Open?0:void 0,ref:E,style:{...c.style,...v,"--button-width":hC(A,N,!0).width},...Sx(K)}),U=wt();return me.createElement(qx,{enabled:o?e.static||A:!1,ownerDocument:R},U({ourProps:$,theirProps:c,slot:W,defaultTag:II,features:NI,visible:L,name:"Menu.Items"}))}let PI=k.Fragment;function AI(e,t){let n=k.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:s=!1,...o}=e,a=Ep("Menu.Item"),u=zn(a,L=>a.selectors.isActive(L,r)),c=k.useRef(null),f=Xt(t,c),h=zn(a,L=>a.selectors.shouldScrollIntoView(L,r));et(()=>{if(h)return cn().requestAnimationFrame(()=>{var L,X;(X=(L=c.current)==null?void 0:L.scrollIntoView)==null||X.call(L,{block:"nearest"})})},[h,c]);let p=bI(c),v=k.useRef({disabled:s,domRef:c,get textValue(){return p()}});et(()=>{v.current.disabled=s},[v,s]),et(()=>(a.actions.registerItem(r,v),()=>a.actions.unregisterItem(r)),[v,r]);let g=Ce(()=>{a.send({type:Ve.CloseMenu})}),b=Ce(L=>{if(s)return L.preventDefault();a.send({type:Ve.CloseMenu}),gx(a.state.buttonElement)}),S=Ce(()=>{if(s)return a.send({type:Ve.GoToItem,focus:yt.Nothing});a.send({type:Ve.GoToItem,focus:yt.Specific,id:r})}),E=HC(),C=Ce(L=>E.update(L)),N=Ce(L=>{E.wasMoved(L)&&(s||u||a.send({type:Ve.GoToItem,focus:yt.Specific,id:r,trigger:Uu.Pointer}))}),R=Ce(L=>{E.wasMoved(L)&&(s||u&&a.state.activationTrigger===Uu.Pointer&&a.send({type:Ve.GoToItem,focus:yt.Nothing}))}),[z,B]=sx(),[A,K]=ix(),ne=Er({active:u,focus:u,disabled:s,close:g}),ie={id:r,ref:f,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-labelledby":z,"aria-describedby":A,disabled:void 0,onClick:b,onFocus:S,onPointerEnter:C,onMouseEnter:C,onPointerMove:N,onMouseMove:N,onPointerLeave:R,onMouseLeave:R},D=wt();return me.createElement(B,null,me.createElement(K,null,D({ourProps:ie,theirProps:o,slot:ne,defaultTag:PI,name:"Menu.Item"})))}let OI="div";function DI(e,t){let[n,r]=sx(),s=e,o={ref:t,"aria-labelledby":n,role:"group"},a=wt();return me.createElement(r,null,a({ourProps:o,theirProps:s,slot:{},defaultTag:OI,name:"Menu.Section"}))}let LI="header";function $I(e,t){let n=k.useId(),{id:r=`headlessui-menu-heading-${n}`,...s}=e,o=dp();et(()=>o.register(r),[r,o.register]);let a={id:r,ref:t,role:"presentation",...o.props};return wt()({ourProps:a,theirProps:s,slot:{},defaultTag:LI,name:"Menu.Heading"})}let MI="div";function FI(e,t){let n=e,r={ref:t,role:"separator"};return wt()({ourProps:r,theirProps:n,slot:{},defaultTag:MI,name:"Menu.Separator"})}let zI=ut(CI),UI=ut(TI),BI=ut(RI),WI=ut(AI),HI=ut(DI),VI=ut($I),qI=ut(FI),Hi=Object.assign(zI,{Button:UI,Items:BI,Item:WI,Section:HI,Heading:VI,Separator:qI});const YI="modulepreload",KI=function(e){return"/sport-planner/"+e},$y={},ql=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=a(n.map(f=>{if(f=KI(f),f in $y)return;$y[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":YI,h||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((g,b)=>{v.addEventListener("load",g),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},GI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ql(async()=>{const{default:r}=await Promise.resolve().then(()=>yo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class _p extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class My extends _p{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Fy extends _p{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zy extends _p{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ch;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ch||(Ch={}));var JI=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class QI{constructor(t,{headers:n={},customFetch:r,region:s=Ch.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=GI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return JI(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:o,method:a,body:u,signal:c}=r;let f={},{region:h}=r;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)));const g=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:c}).catch(C=>{throw C.name==="AbortError"?C:new My(C)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new Fy(g);if(!g.ok)throw new zy(g);let S=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield g.json():S==="application/octet-stream"?E=yield g.blob():S==="text/event-stream"?E=g:S==="multipart/form-data"?E=yield g.formData():E=yield g.text(),{data:E,error:null,response:g}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new My(o)}:{data:null,error:o,response:o instanceof zy||o instanceof Fy?o.context:void 0}}})}}var jt={},Ls={},$s={},Ms={},Fs={},zs={},XI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},co=XI();const ZI=co.fetch,sb=co.fetch.bind(co),ob=co.Headers,eN=co.Request,tN=co.Response,yo=Object.freeze(Object.defineProperty({__proto__:null,Headers:ob,Request:eN,Response:tN,default:sb,fetch:ZI},Symbol.toStringTag,{value:"Module"})),nN=GS(yo);var du={},Uy;function lb(){if(Uy)return du;Uy=1,Object.defineProperty(du,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return du.default=e,du}var By;function ab(){if(By)return zs;By=1;var e=zs&&zs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(zs,"__esModule",{value:!0});const t=e(nN),n=e(lb());class r{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,p,v,g;let b=null,S=null,E=null,C=f.status,N=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=A:S=JSON.parse(A))}const z=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),B=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");z&&B&&B.length>1&&(E=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(b={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,C=406,N="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const z=await f.text();try{b=JSON.parse(z),Array.isArray(b)&&f.status===404&&(S=[],b=null,C=200,N="OK")}catch{f.status===404&&z===""?(C=204,N="No Content"):b={message:z}}if(b&&this.isMaybeSingle&&(!((g=b==null?void 0:b.details)===null||g===void 0)&&g.includes("0 rows"))&&(b=null,C=200,N="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:S,count:E,status:C,statusText:N}});return this.shouldThrowOnError||(c=c.catch(f=>{var h,p,v;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(p=f==null?void 0:f.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,a)}returns(){return this}overrideTypes(){return this}}return zs.default=r,zs}var Wy;function ub(){if(Wy)return Fs;Wy=1;var e=Fs&&Fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fs,"__esModule",{value:!0});const t=e(ab());class n extends t.default{select(s){let o=!1;const a=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:a,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${s}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:a,referencedTable:u=a}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(f,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:a=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var h;const p=[s?"analyze":null,o?"verbose":null,a?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Fs.default=n,Fs}var Hy;function Cp(){if(Hy)return Ms;Hy=1;var e=Ms&&Ms.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ms,"__esModule",{value:!0});const t=e(ub());class n extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${f}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return Ms.default=n,Ms}var Vy;function cb(){if(Vy)return $s;Vy=1;var e=$s&&$s.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($s,"__esModule",{value:!0});const t=e(Cp());class n{constructor(s,{headers:o={},schema:a,fetch:u}){this.url=s,this.headers=new Headers(o),this.schema=a,this.fetch=u}select(s,o){const{head:a=!1,count:u}=o??{},c=a?"HEAD":"GET";let f=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:a=!0}={}){var u;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:a=!1,count:u,defaultToNull:c=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(p.length>0){const v=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:o}={}){var a;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var o;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return $s.default=n,$s}var qy;function rN(){if(qy)return Ls;qy=1;var e=Ls&&Ls.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ls,"__esModule",{value:!0});const t=e(cb()),n=e(Cp());class r{constructor(o,{headers:a={},schema:u,fetch:c}={}){this.url=o,this.headers=new Headers(a),this.schemaName=u,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:u=!1,get:c=!1,count:f}={}){var h;let p;const v=new URL(`${this.url}/rpc/${o}`);let g;u||c?(p=u?"HEAD":"GET",Object.entries(a).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{v.searchParams.append(S,E)})):(p="POST",g=a);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new n.default({method:p,url:v,headers:b,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Ls.default=r,Ls}var Yy;function iN(){if(Yy)return jt;Yy=1;var e=jt&&jt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(jt,"__esModule",{value:!0}),jt.PostgrestError=jt.PostgrestBuilder=jt.PostgrestTransformBuilder=jt.PostgrestFilterBuilder=jt.PostgrestQueryBuilder=jt.PostgrestClient=void 0;const t=e(rN());jt.PostgrestClient=t.default;const n=e(cb());jt.PostgrestQueryBuilder=n.default;const r=e(Cp());jt.PostgrestFilterBuilder=r.default;const s=e(ub());jt.PostgrestTransformBuilder=s.default;const o=e(ab());jt.PostgrestBuilder=o.default;const a=e(lb());return jt.PostgrestError=a.default,jt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:a.default},jt}var sN=iN();const oN=ho(sN),{PostgrestClient:lN,PostgrestQueryBuilder:P4,PostgrestFilterBuilder:A4,PostgrestTransformBuilder:O4,PostgrestBuilder:D4,PostgrestError:L4}=oN;class aN{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const uN="2.75.0",cN=`realtime-js/${uN}`,dN="1.0.0",jh=1e4,fN=1e3,hN=100;var wl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wl||(wl={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(er||(er={}));var Th;(function(e){e.websocket="websocket"})(Th||(Th={}));var Xi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xi||(Xi={}));class pN{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const u=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+o));a=a+o;const f=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class db{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ge||(Ge={}));const Ky=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=mN(a,e,t,s),o),{}):{}},mN=(e,t,n,r)=>{const s=t.find(u=>u.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?fb(o,a):Ih(a)},fb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return wN(t,n)}switch(e){case Ge.bool:return gN(t);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return vN(t);case Ge.json:case Ge.jsonb:return yN(t);case Ge.timestamp:return xN(t);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Ih(t);default:return Ih(t)}},Ih=e=>e,gN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(u=>fb(t,u))}return e},xN=e=>typeof e=="string"?e.replace(" ","T"):e,hb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class If{constructor(t,n,r={},s=jh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gy||(Gy={}));class xl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xl.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=xl.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xl.syncDiff(this.state,s,o,a),u())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),u={},c={};return this.map(o,(f,h)=>{a[f]||(c[f]=h)}),this.map(a,(f,h)=>{const p=o[f];if(p){const v=h.map(E=>E.presence_ref),g=p.map(E=>E.presence_ref),b=h.filter(E=>g.indexOf(E.presence_ref)<0),S=p.filter(E=>v.indexOf(E.presence_ref)<0);b.length>0&&(u[f]=b),S.length>0&&(c[f]=S)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,c)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(c),h.length>0){const p=t[u].map(g=>g.presence_ref),v=h.filter(g=>p.indexOf(g.presence_ref)<0);t[u].unshift(...v)}r(u,h,c)}),this.map(a,(u,c)=>{let f=t[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=f,s(u,f,c),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Jy||(Jy={}));var bl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bl||(bl={}));var Mr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mr||(Mr={}));class jp{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new If(this,er.join,this.params,this.timeout),this.rejoinTimer=new db(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(er.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new xl(this),this.broadcastEndpointURL=hb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:a,presence:u,private:c}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[bl.PRESENCE]&&this.bindings[bl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},v={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Mr.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Mr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){t==null||t(Mr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,C=[];for(let N=0;N<E;N++){const R=S[N],{filter:{event:z,schema:B,table:A,filter:K}}=R,ne=g&&g[N];if(ne&&ne.event===z&&ne.schema===B&&ne.table===A&&ne.filter===K)C.push(Object.assign(Object.assign({},R),{id:ne.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(Mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Mr.SUBSCRIBED);return}}).receive("error",g=>{this.state=kt.errored,t==null||t(Mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===kt.joined&&t===bl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,u,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new If(this,er.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new If(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=er;if(r&&[u,c,f,h].indexOf(a)>=0&&r!==this._joinRef())return;let v=this._onMessage(a,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var b,S,E;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(S=g.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(g=>g.callback(v,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var b,S,E,C,N,R;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const z=g.id,B=(b=g.filter)===null||b===void 0?void 0:b.event;return z&&((S=n.ids)===null||S===void 0?void 0:S.includes(z))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const z=(N=(C=g==null?void 0:g.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return z==="*"||z===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:S,table:E,commit_timestamp:C,type:N,errors:R}=b;v=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:C,eventType:N,new:{},old:{},errors:R}),this._getPayloadRecords(b))}g.callback(v,r)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&jp.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(er.close,{},t)}_onError(t){this._on(er.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ky(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ky(t.columns,t.old_record)),n}}const Nf=()=>{},fu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bN=[1e3,2e3,5e3,1e4],kN=1e4,SN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class EN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jh,this.transport=null,this.heartbeatIntervalMs=fu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nf,this.ref=0,this.reconnectTimer=null,this.logger=Nf,this.conn=null,this.sendBuffer=[],this.serializer=new pN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>ql(async()=>{const{default:u}=await Promise.resolve().then(()=>yo);return{default:u}},void 0).then(({default:u})=>u(...a)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Th.websocket}`,this.httpEndpoint=hb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dN}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wl.connecting:return Xi.Connecting;case wl.open:return Xi.Open;case wl.closing:return Xi.Closing;default:return Xi.Closed}}isConnected(){return this.connectionState()===Xi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new jp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(fN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:a}=n,u=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(er.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([SN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:cN};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(er.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new db(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,a,u,c,f,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:jh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:fu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Nf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(p=>bN[p-1]||kN),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((p,v)=>v(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Tp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _N extends Tp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nh extends Tp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var CN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const pb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ql(async()=>{const{default:r}=await Promise.resolve().then(()=>yo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},jN=()=>CN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ql(()=>Promise.resolve().then(()=>yo),void 0)).Response:Response}),Rh=e=>{if(Array.isArray(e))return e.map(n=>Rh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Rh(r)}),t},TN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ds=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Rf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IN=(e,t,n)=>ds(void 0,void 0,void 0,function*(){const r=yield jN();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new _N(Rf(s),o,a))}).catch(s=>{t(new Nh(Rf(s),s))}):t(new Nh(Rf(e),e))}),NN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(TN(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Yl(e,t,n,r,s,o){return ds(this,void 0,void 0,function*(){return new Promise((a,u)=>{e(n,NN(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>IN(c,u,r))})})}function Bu(e,t,n,r){return ds(this,void 0,void 0,function*(){return Yl(e,"GET",t,n,r)})}function gr(e,t,n,r,s){return ds(this,void 0,void 0,function*(){return Yl(e,"POST",t,r,s,n)})}function Ph(e,t,n,r,s){return ds(this,void 0,void 0,function*(){return Yl(e,"PUT",t,r,s,n)})}function RN(e,t,n,r){return ds(this,void 0,void 0,function*(){return Yl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function mb(e,t,n,r,s){return ds(this,void 0,void 0,function*(){return Yl(e,"DELETE",t,r,s,n)})}var PN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class AN{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return PN(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(vt(t))return{data:null,error:t};throw t}})}}var ON=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class DN{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new AN(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return ON(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(vt(t))return{data:null,error:t};throw t}})}}var an=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const LN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $N{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=pb(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return an(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Qy),s);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,u["cache-control"]=`max-age=${a.cacheControl}`,u["content-type"]=a.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?Ph:gr)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return an(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${a}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:Qy.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield Ph(this.fetch,u.toString(),c,{headers:h});return{data:{path:o,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(vt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return an(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield gr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),u=a.searchParams.get("token");if(!u)throw new Tp("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}update(t,n,r){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return an(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return an(this,void 0,void 0,function*(){try{return{data:{path:(yield gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return an(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield gr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return an(this,void 0,void 0,function*(){try{const s=yield gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",u=this._getFinalPath(t),c=()=>Bu(this.fetch,`${this.url}/${s}/${u}${a}`,{headers:this.headers,noResolveJson:!0});return new DN(c,this.shouldThrowOnError)}info(t){return an(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Bu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}exists(t){return an(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield RN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r)&&r instanceof Nh){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return an(this,void 0,void 0,function*(){try{return{data:yield mb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}list(t,n,r){return an(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},LN),n),{prefix:t||""});return{data:yield gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}listV2(t,n){return an(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield gr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const MN="2.75.0",FN={"X-Client-Info":`storage-js/${MN}`};var Us=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class zN{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FN),n),this.fetch=pb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Us(this,void 0,void 0,function*(){try{return{data:yield Bu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(vt(t))return{data:null,error:t};throw t}})}getBucket(t){return Us(this,void 0,void 0,function*(){try{return{data:yield Bu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}createBucket(t){return Us(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Us(this,void 0,void 0,function*(){try{return{data:yield Ph(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Us(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Us(this,void 0,void 0,function*(){try{return{data:yield mb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}}class UN extends zN{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new $N(this.url,this.headers,t,this.fetch)}}const BN="2.75.0";let pl="";typeof Deno<"u"?pl="deno":typeof document<"u"?pl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pl="react-native":pl="node";const WN={"X-Client-Info":`supabase-js-${pl}/${BN}`},HN={headers:WN},VN={schema:"public"},qN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YN={};var KN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const GN=e=>{let t;return e?t=e:typeof fetch>"u"?t=sb:t=fetch,(...n)=>t(...n)},JN=()=>typeof Headers>"u"?ob:Headers,QN=(e,t,n)=>{const r=GN(n),s=JN();return(o,a)=>KN(void 0,void 0,void 0,function*(){var u;const c=(u=yield t())!==null&&u!==void 0?u:e;let f=new s(a==null?void 0:a.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:f}))})};var XN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};function ZN(e){return e.endsWith("/")?e:e+"/"}function eR(e,t){var n,r;const{db:s,auth:o,realtime:a,global:u}=e,{db:c,auth:f,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>XN(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function tR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gb="2.75.0",Qs=30*1e3,Ah=3,Pf=Ah*Qs,nR="http://localhost:9999",rR="supabase.auth.token",iR={"X-Client-Info":`gotrue-js/${gb}`},Oh="X-Supabase-Api-Version",vb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oR=600*1e3;class Al extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lR extends Al{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function aR(e){return Ee(e)&&e.name==="AuthApiError"}class Zi extends Al{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ci extends Al{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class pi extends Ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uR(e){return Ee(e)&&e.name==="AuthSessionMissingError"}class Bs extends Ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hu extends Ci{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pu extends Ci{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cR(e){return Ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xy extends Ci{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dh extends Ci{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Af(e){return Ee(e)&&e.name==="AuthRetryableFetchError"}class Zy extends Ci{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Lh extends Ci{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ew=` 	
\r=`.split(""),dR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ew.length;t+=1)e[ew[t].charCodeAt(0)]=-2;for(let t=0;t<Wu.length;t+=1)e[Wu[t].charCodeAt(0)]=t;return e})();function tw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Wu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Wu[r]),t.queuedBits-=6}}function yb(e,t,n){const r=dR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{pR(a,r,n)};for(let a=0;a<e.length;a+=1)yb(e.charCodeAt(a),s,o);return t.join("")}function fR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}fR(r,t)}}function pR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function io(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function mR(e){const t=[];return hR(e,n=>t.push(n)),new Uint8Array(t)}function ns(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>tw(s,n,r)),tw(null,n,r),t.join("")}function gR(e){return Math.round(Date.now()/1e3)+e}function vR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xn=()=>typeof window<"u"&&typeof document<"u",Vi={tested:!1,writable:!1},wb=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vi.tested)return Vi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vi.tested=!0,Vi.writable=!0}catch{Vi.tested=!0,Vi.writable=!1}return Vi.writable};function yR(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const xb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ql(async()=>{const{default:r}=await Promise.resolve().then(()=>yo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},qi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fi=async(e,t)=>{await e.removeItem(t)};class wc{constructor(){this.promise=new wc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}wc.promiseConstructor=Promise;function Of(e){const t=e.split(".");if(t.length!==3)throw new Lh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!sR.test(t[r]))throw new Lh("JWT not in base64url format");return{header:JSON.parse(nw(t[0])),payload:JSON.parse(nw(t[1])),signature:io(t[2]),raw:{header:t[0],payload:t[1]}}}async function xR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bR(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function kR(e){return("0"+e.toString(16)).substr(-2)}function SR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,kR).join("")}async function ER(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function _R(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ER(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ws(e,t,n=!1){const r=SR();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Xs(e,`${t}-code-verifier`,s);const o=await _R(r);return[o,r===o?"plain":"s256"]}const CR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jR(e){const t=e.headers.get(Oh);if(!t||!t.match(CR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function TR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hs(e){if(!NR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Df(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rw(e){return JSON.parse(JSON.stringify(e))}var RR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Gi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PR=[502,503,504];async function iw(e){var t;if(!wR(e))throw new Dh(Gi(e),0);if(PR.includes(e.status))throw new Dh(Gi(e),e.status);let n;try{n=await e.json()}catch(o){throw new Zi(Gi(o),o)}let r;const s=jR(e);if(s&&s.getTime()>=vb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zy(Gi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new pi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Zy(Gi(n),e.status,n.weak_password.reasons);throw new lR(Gi(n),e.status||500,r)}const AR=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Re(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Oh]||(o[Oh]=vb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const u=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await OR(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function OR(e,t,n,r,s,o){const a=AR(t,r,s,o);let u;try{u=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Dh(Gi(c),0)}if(u.ok||await iw(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await iw(c)}}function Zn(e){var t;let n=null;$R(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=gR(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function sw(e){const t=Zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function DR(e){return{data:e,error:null}}function LR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=RR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:u,user:c},error:null}}function ow(e){return e}function $R(e){return e.access_token&&e.refresh_token&&e.expires_in}const Lf=["global","local","others"];var MR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class FR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=xb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Lf[0]){if(Lf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lf.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vi})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=MR(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:LR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vi})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:ow});if(h.error)throw h.error;const p=await h.json(),v=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);f[`${E}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ee(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Hs(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vi})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Hs(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vi})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Hs(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vi})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Hs(t.userId);try{const{data:n,error:r}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Hs(t.userId),Hs(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,a,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:ow});if(h.error)throw h.error;const p=await h.json(),v=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);f[`${E}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ee(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}function lw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Vs={debug:!!(globalThis&&wb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zR extends bb{}async function UR(e,t,n){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function BR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function WR(e){return parseInt(e,16)}function HR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function VR(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:a,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=kb(e.address),b=h?`${h}://${r}`:r,S=e.statement?`${e.statement}
`:"",E=`${b} wants you to sign in with your Ethereum account:
${g}

${S}`;let C=`URI: ${p}
Version: ${v}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(s&&(C+=`
Expiration Time: ${s.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),c&&(C+=`
Request ID: ${c}`),f){let N=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);N+=`
- ${R}`}C+=N}return`${E}
${C}`}class gt extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Hu extends gt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function qR({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Eb(a)){if(o.rp.id!==a)return new gt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function YR({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Eb(r)){if(n.rpId!==r)return new gt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Sb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class KR{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const GR=new KR;function JR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Sb(e,["challenge","user","excludeCredentials"]),o=io(t).buffer,a=Object.assign(Object.assign({},n),{id:io(n.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:o,user:a});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:io(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function QR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Sb(e,["challenge","allowCredentials"]),s=io(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const u=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},u),{id:io(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function XR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ns(new Uint8Array(e.response.attestationObject)),clientDataJSON:ns(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ns(new Uint8Array(s.authenticatorData)),clientDataJSON:ns(new Uint8Array(s.clientDataJSON)),signature:ns(new Uint8Array(s.signature)),userHandle:s.userHandle?ns(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Eb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function aw(){var e,t;return!!(xn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function eP(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",t)}:{data:null,error:new Hu("Empty credential response",t)}}catch(t){return{data:null,error:qR({error:t,options:e})}}}async function tP(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",t)}:{data:null,error:new Hu("Empty credential response",t)}}catch(t){return{data:null,error:YR({error:t,options:e})}}}const nP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},rP={userVerification:"preferred",hints:["security-key"]};function Vu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const a=s[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const u=r[o];t(u)?r[o]=Vu(u,a):r[o]=Vu(a)}else r[o]=a}return r}function iP(e,t){return Vu(nP,e,t||{})}function sP(e,t){return Vu(rP,e,t||{})}class oP{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:a,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:u};const c=s??GR.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:f}=a.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(a.webauthn.type){case"create":{const f=iP(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:p}=await eP({publicKey:f,signal:c});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=sP(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:p}=await tP(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(a){return Ee(a)?{data:null,error:a}:{data:null,error:new Zi("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!n)return{data:null,error:new Al("rpId is required for WebAuthn authentication")};try{if(!aw())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!a)return{data:null,error:u};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return Ee(a)?{data:null,error:a}:{data:null,error:new Zi("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!n)return{data:null,error:new Al("rpId is required for WebAuthn registration")};try{if(!aw())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(a){return Ee(a)?{data:null,error:a}:{data:null,error:new Zi("Unexpected error in register",a)}}}}BR();const lP={url:nR,storageKey:rR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uw(e,t,n){return await n()}const qs={};class Ol{get jwks(){var t,n;return(n=(t=qs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=qs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ol.nextInstanceID,Ol.nextInstanceID+=1,this.instanceID>0&&xn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},lP),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new FR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xb(s.fetch),this.lock=s.lock||uw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=UR:this.lock=uw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oP(this)},this.persistSession?(s.storage?this.storage=s.storage:wb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=lw(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=yR(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),xn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),cR(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),await this._saveSession(a),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ee(n)?{error:n}:{error:new Zi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zn}),{data:a,error:u}=o;if(u||!a)return{data:{user:null,session:null},error:u};const c=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:h,password:p,options:v}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Ws(this.storage,this.storageKey)),o=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:b},xform:Zn})}else if("phone"in t){const{phone:h,password:p,options:v}=t;o=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Zn})}else throw new hu("You must provide either an email or phone number and a password");const{data:a,error:u}=o;if(u||!a)return{data:{user:null,session:null},error:u};const c=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:u}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:sw})}else if("phone"in t){const{phone:o,password:a,options:u}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:sw})}else throw new hu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Bs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,a,u,c,f,h,p,v;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:S,wallet:E,statement:C,options:N}=t;let R;if(xn())if(typeof E=="object")R=E;else{const ie=window;if("ethereum"in ie&&typeof ie.ethereum=="object"&&"request"in ie.ethereum&&typeof ie.ethereum.request=="function")R=ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const z=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),B=await R.request({method:"eth_requestAccounts"}).then(ie=>ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=kb(B[0]);let K=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!K){const ie=await R.request({method:"eth_chainId"});K=WR(ie)}const ne={domain:z.host,address:A,statement:C,uri:z.href,version:"1",chainId:K,nonce:(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.resources};g=VR(ne),b=await R.request({method:"personal_sign",params:[HR(g),A]})}try{const{data:S,error:E}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Zn});if(E)throw E;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Bs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:E})}catch(S){if(Ee(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,r,s,o,a,u,c,f,h,p,v,g;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:E,wallet:C,statement:N,options:R}=t;let z;if(xn())if(typeof C=="object")z=C;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))z=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=C}const B=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const A=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),N?{statement:N}:null));let K;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")K=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)K=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)b=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),S=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${B.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(s=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((a=R==null?void 0:R.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((p=(h=R==null?void 0:R.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...R.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const A=await z.signMessage(new TextEncoder().encode(b),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=A}}try{const{data:E,error:C}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ns(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Zn});if(C)throw C;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Bs}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:C})}catch(E){if(Ee(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const n=await qi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Zn});if(await fi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Bs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(Ee(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,u=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zn}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Bs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:u,options:c}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Ws(this.storage,this.storageKey));const{error:p}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:c}=t,{data:f,error:h}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new hu("You must provide either an email or phone number.")}catch(u){if(Ee(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:u}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Zn});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,f=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Ws(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:DR})}catch(o){if(Ee(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new pi;const{error:s}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:u}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:u}}throw new hu("You must provide either an email or phone number and a type")}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Pf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await qi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Df()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,f,h)=>(!a&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vi}):await this._useSession(async n=>{var r,s,o;const{data:a,error:u}=n;if(u)throw u;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pi}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:vi})})}catch(n){if(Ee(n))return uR(n)&&(await this._removeSession(),await fi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new pi;const a=s.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await Ws(this.storage,this.storageKey));const{data:f,error:h}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:a.access_token,xform:vi});if(h)throw h;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pi;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=Of(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:u}=n;if(u)throw u;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new pi;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!xn())throw new pu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xy("No code detected.");const{data:N,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:u,expires_at:c,token_type:f}=t;if(!o||!u||!a||!f)throw new pu("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let v=h+p;c&&(v=parseInt(c));const g=v-h;g*1e3<=Qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const b=v-p;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,h);const{data:S,error:E}=await this._getUser(o);if(E)throw E;const C={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:p,expires_at:v,refresh_token:a,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(r){if(Ee(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await qi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:u}=await this.admin.signOut(a,t);if(u&&!(aR(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await fi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=vR(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ws(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ee(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,u,c,f,h;const{data:p,error:v}=o;if(v)throw v;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return xn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ee(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:a,provider:u,token:c,access_token:f,nonce:h}=t,p=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Zn}),{data:v,error:g}=p;return g?{data:{user:null,session:null},error:g}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Bs}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:g})}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await bR(async s=>(s>0&&await xR(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zn})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Af(o)&&Date.now()+a-r<Qs})}catch(r){if(this._debug(n,"error",r),Ee(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),xn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await qi(this.storage,this.storageKey);if(s&&this.userStorage){let a=await qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Xs(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Df()}else if(s&&!s.user&&!s.user){const a=await qi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await fi(this.storage,this.storageKey+"-user"),await Xs(this.storage,this.storageKey,s)):s.user=Df()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Pf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Pf}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Af(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:u}=await this._getUser(s.access_token);!u&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wc;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new pi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Ee(o)){const a={data:null,error:o};return Af(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Xs(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=rw(s);await Xs(this.storage,this.storageKey,o)}else{const s=rw(n);await Xs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await fi(this.storage,this.storageKey),await fi(this.storage,this.storageKey+"-code-verifier"),await fi(this.storage,this.storageKey+"-user"),this.userStorage&&await fi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qs}ms, refresh threshold is ${Ah} ticks`),s<=Ah&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ws(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:f}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?XR(t.webauthn.credential_response):ZR(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:c}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:u}=a;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:JR(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:QR(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Of(s.access_token);let u=null;a.aal&&(u=a.aal);let c=u;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+oR>s)return r;const{data:o,error:a}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};r=g.session.access_token}const{header:s,payload:o,signature:a,raw:{header:u,payload:c}}=Of(r);n!=null&&n.allowExpired||TR(o.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:s,signature:a},error:null}}const h=IR(s.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,a,mR(`${u}.${c}`)))throw new Lh("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}}Ol.nextInstanceID=0;const aP=Ol;class uP extends aP{constructor(t){super(t)}}var cP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):s(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class dP{constructor(t,n,r){var s,o,a;this.supabaseUrl=t,this.supabaseKey=n;const u=tR(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:VN,realtime:YN,auth:Object.assign(Object.assign({},qN),{storageKey:c}),global:HN},h=eR(r??{},f);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=QN(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new lN(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new UN(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new QI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return cP(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:a,flowType:u,lock:c,debug:f},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uP({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:u,lock:c,debug:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new EN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fP=(e,t,n)=>new dP(e,t,n);function hP(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}hP()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pP="https://kjsdmygqhxaryvfmnhqr.supabase.co",mP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",yi=fP(pP,mP,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),_b=k.createContext(void 0);function gP({children:e}){const[t,n]=k.useState(null),[r,s]=k.useState(null),[o,a]=k.useState(!0);k.useEffect(()=>{let c=!0;(async()=>{a(!0);const{data:{session:p}}=await yi.auth.getSession();c&&(n(p),s((p==null?void 0:p.user)??null),a(!1))})();const{data:{subscription:h}}=yi.auth.onAuthStateChange((p,v)=>{c&&(n(v),s((v==null?void 0:v.user)??null),a(!1))});return()=>{c=!1,h.unsubscribe()}},[]);const u=k.useMemo(()=>({session:t,user:r,loading:o,signInWithPassword:async(c,f)=>{const{error:h}=await yi.auth.signInWithPassword({email:c,password:f});if(h)throw h},signUpWithPassword:async(c,f)=>{const p=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:v}=await yi.auth.signUp({email:c,password:f,options:{emailRedirectTo:p}});if(v)throw v},signOut:async()=>{const{error:c}=await yi.auth.signOut();if(c)throw c}}),[o,t,r]);return x.jsx(_b.Provider,{value:u,children:e})}function xc(){const e=k.useContext(_b);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const cw=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const v=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(g=>g(t,v))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=t=e(r,s,u);return u},vP=(e=>e?cw(e):cw),yP=e=>e;function wP(e,t=yP){const n=me.useSyncExternalStore(e.subscribe,me.useCallback(()=>t(e.getState()),[e,t]),me.useCallback(()=>t(e.getInitialState()),[e,t]));return me.useDebugValue(n),n}const dw=e=>{const t=vP(e),n=r=>wP(t,r);return Object.assign(n,t),n},xP=(e=>e?dw(e):dw),bP="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let bn=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=bP[n[e]&63];return t};var ju={exports:{}},kP=ju.exports,fw;function Cb(){return fw||(fw=1,(function(e,t){(function(n,r){e.exports=r()})(kP,(function(){var n=1e3,r=6e4,s=36e5,o="millisecond",a="second",u="minute",c="hour",f="day",h="week",p="month",v="quarter",g="year",b="date",S="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var W=["th","st","nd","rd"],$=O%100;return"["+O+(W[($-20)%10]||W[$]||W[0])+"]"}},R=function(O,W,$){var U=String(O);return!U||U.length>=W?O:""+Array(W+1-U.length).join($)+O},z={s:R,z:function(O){var W=-O.utcOffset(),$=Math.abs(W),U=Math.floor($/60),P=$%60;return(W<=0?"+":"-")+R(U,2,"0")+":"+R(P,2,"0")},m:function O(W,$){if(W.date()<$.date())return-O($,W);var U=12*($.year()-W.year())+($.month()-W.month()),P=W.clone().add(U,p),q=$-P<0,T=W.clone().add(U+(q?-1:1),p);return+(-(U+($-P)/(q?P-T:T-P))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:p,y:g,w:h,d:f,D:b,h:c,m:u,s:a,ms:o,Q:v}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},B="en",A={};A[B]=N;var K="$isDayjsObject",ne=function(O){return O instanceof X||!(!O||!O[K])},ie=function O(W,$,U){var P;if(!W)return B;if(typeof W=="string"){var q=W.toLowerCase();A[q]&&(P=q),$&&(A[q]=$,P=q);var T=W.split("-");if(!P&&T.length>1)return O(T[0])}else{var I=W.name;A[I]=W,P=I}return!U&&P&&(B=P),P||!U&&B},D=function(O,W){if(ne(O))return O.clone();var $=typeof W=="object"?W:{};return $.date=O,$.args=arguments,new X($)},L=z;L.l=ie,L.i=ne,L.w=function(O,W){return D(O,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var X=(function(){function O($){this.$L=ie($.locale,null,!0),this.parse($),this.$x=this.$x||$.x||{},this[K]=!0}var W=O.prototype;return W.parse=function($){this.$d=(function(U){var P=U.date,q=U.utc;if(P===null)return new Date(NaN);if(L.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var T=P.match(E);if(T){var I=T[2]-1||0,M=(T[7]||"0").substring(0,3);return q?new Date(Date.UTC(T[1],I,T[3]||1,T[4]||0,T[5]||0,T[6]||0,M)):new Date(T[1],I,T[3]||1,T[4]||0,T[5]||0,T[6]||0,M)}}return new Date(P)})($),this.init()},W.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},W.$utils=function(){return L},W.isValid=function(){return this.$d.toString()!==S},W.isSame=function($,U){var P=D($);return this.startOf(U)<=P&&P<=this.endOf(U)},W.isAfter=function($,U){return D($)<this.startOf(U)},W.isBefore=function($,U){return this.endOf(U)<D($)},W.$g=function($,U,P){return L.u($)?this[U]:this.set(P,$)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function($,U){var P=this,q=!!L.u(U)||U,T=L.p($),I=function(pe,he){var Ie=L.w(P.$u?Date.UTC(P.$y,he,pe):new Date(P.$y,he,pe),P);return q?Ie:Ie.endOf(f)},M=function(pe,he){return L.w(P.toDate()[pe].apply(P.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(he)),P)},_=this.$W,Y=this.$M,te=this.$D,Z="set"+(this.$u?"UTC":"");switch(T){case g:return q?I(1,0):I(31,11);case p:return q?I(1,Y):I(0,Y+1);case h:var se=this.$locale().weekStart||0,ue=(_<se?_+7:_)-se;return I(q?te-ue:te+(6-ue),Y);case f:case b:return M(Z+"Hours",0);case c:return M(Z+"Minutes",1);case u:return M(Z+"Seconds",2);case a:return M(Z+"Milliseconds",3);default:return this.clone()}},W.endOf=function($){return this.startOf($,!1)},W.$set=function($,U){var P,q=L.p($),T="set"+(this.$u?"UTC":""),I=(P={},P[f]=T+"Date",P[b]=T+"Date",P[p]=T+"Month",P[g]=T+"FullYear",P[c]=T+"Hours",P[u]=T+"Minutes",P[a]=T+"Seconds",P[o]=T+"Milliseconds",P)[q],M=q===f?this.$D+(U-this.$W):U;if(q===p||q===g){var _=this.clone().set(b,1);_.$d[I](M),_.init(),this.$d=_.set(b,Math.min(this.$D,_.daysInMonth())).$d}else I&&this.$d[I](M);return this.init(),this},W.set=function($,U){return this.clone().$set($,U)},W.get=function($){return this[L.p($)]()},W.add=function($,U){var P,q=this;$=Number($);var T=L.p(U),I=function(Y){var te=D(q);return L.w(te.date(te.date()+Math.round(Y*$)),q)};if(T===p)return this.set(p,this.$M+$);if(T===g)return this.set(g,this.$y+$);if(T===f)return I(1);if(T===h)return I(7);var M=(P={},P[u]=r,P[c]=s,P[a]=n,P)[T]||1,_=this.$d.getTime()+$*M;return L.w(_,this)},W.subtract=function($,U){return this.add(-1*$,U)},W.format=function($){var U=this,P=this.$locale();if(!this.isValid())return P.invalidDate||S;var q=$||"YYYY-MM-DDTHH:mm:ssZ",T=L.z(this),I=this.$H,M=this.$m,_=this.$M,Y=P.weekdays,te=P.months,Z=P.meridiem,se=function(he,Ie,$e,Ue){return he&&(he[Ie]||he(U,q))||$e[Ie].slice(0,Ue)},ue=function(he){return L.s(I%12||12,he,"0")},pe=Z||function(he,Ie,$e){var Ue=he<12?"AM":"PM";return $e?Ue.toLowerCase():Ue};return q.replace(C,(function(he,Ie){return Ie||(function($e){switch($e){case"YY":return String(U.$y).slice(-2);case"YYYY":return L.s(U.$y,4,"0");case"M":return _+1;case"MM":return L.s(_+1,2,"0");case"MMM":return se(P.monthsShort,_,te,3);case"MMMM":return se(te,_);case"D":return U.$D;case"DD":return L.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return se(P.weekdaysMin,U.$W,Y,2);case"ddd":return se(P.weekdaysShort,U.$W,Y,3);case"dddd":return Y[U.$W];case"H":return String(I);case"HH":return L.s(I,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return pe(I,M,!0);case"A":return pe(I,M,!1);case"m":return String(M);case"mm":return L.s(M,2,"0");case"s":return String(U.$s);case"ss":return L.s(U.$s,2,"0");case"SSS":return L.s(U.$ms,3,"0");case"Z":return T}return null})(he)||T.replace(":","")}))},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function($,U,P){var q,T=this,I=L.p(U),M=D($),_=(M.utcOffset()-this.utcOffset())*r,Y=this-M,te=function(){return L.m(T,M)};switch(I){case g:q=te()/12;break;case p:q=te();break;case v:q=te()/3;break;case h:q=(Y-_)/6048e5;break;case f:q=(Y-_)/864e5;break;case c:q=Y/s;break;case u:q=Y/r;break;case a:q=Y/n;break;default:q=Y}return P?q:L.a(q)},W.daysInMonth=function(){return this.endOf(p).$D},W.$locale=function(){return A[this.$L]},W.locale=function($,U){if(!$)return this.$L;var P=this.clone(),q=ie($,U,!0);return q&&(P.$L=q),P},W.clone=function(){return L.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},O})(),G=X.prototype;return D.prototype=G,[["$ms",o],["$s",a],["$m",u],["$H",c],["$W",f],["$M",p],["$y",g],["$D",b]].forEach((function(O){G[O[1]]=function(W){return this.$g(W,O[0],O[1])}})),D.extend=function(O,W){return O.$i||(O(W,X,D),O.$i=!0),D},D.locale=ie,D.isDayjs=ne,D.unix=function(O){return D(1e3*O)},D.en=A[B],D.Ls=A,D.p={},D}))})(ju)),ju.exports}var SP=Cb();const We=ho(SP),bi={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes"},jb=typeof window<"u",at=()=>new Date().toISOString(),Ji="18:30",ml=e=>{if(!e)return null;const t=e.trim();return t.length>0?t:null},$f=e=>{if(!e)return;const t=e.trim();return t.length>0?t:void 0},EP=(e,t,n)=>{var o;if(!n)return!1;if(n===t)return!0;const r=new Set;let s=n;for(;s;){if(s===t)return!0;if(r.has(s))break;r.add(s),s=((o=e.find(u=>u.id===s))==null?void 0:o.parentWorkId)??null}return!1},mu=(e,t)=>{if(!jb)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},Tb=e=>e==="present"||e==="absent"||e==="pending",Ib=e=>e==="present"||e==="absent",$h=e=>(e??[]).map(t=>{const n=Tb(t.status)?t.status:"pending",r=Ib(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),Ze=e=>{if(!jb)return;const t=Mh(e);window.localStorage.setItem(bi.objectives,JSON.stringify(t.objectives)),window.localStorage.setItem(bi.works,JSON.stringify(t.works)),window.localStorage.setItem(bi.sessions,JSON.stringify(t.sessions)),window.localStorage.setItem(bi.assistants,JSON.stringify(t.assistants))},Mh=e=>({objectives:e.objectives??[],works:(e.works??[]).map(t=>{const n=t.parent_work_id;return{...t,parentWorkId:ml(t.parentWorkId??n??null)}}),sessions:(e.sessions??[]).map(t=>({...t,startTime:t.startTime??Ji,workItems:(t.workItems??[]).map(n=>({...n,focusLabel:n.focusLabel})),attendance:$h(t.attendance)})),assistants:e.assistants??[]}),Te=xP((e,t)=>({ready:!1,objectives:[],works:[],sessions:[],assistants:[],hydrate:()=>{if(t().ready)return;const n=mu(bi.objectives,[]),r=mu(bi.works,[]).map(a=>{const u=a.parent_work_id;return{...a,parentWorkId:ml(a.parentWorkId??u??null)}}),s=mu(bi.sessions,[]).map(a=>({...a,startTime:a.startTime??Ji,workItems:(a.workItems??[]).map(u=>({...u,focusLabel:u.focusLabel})),attendance:$h(a.attendance)})),o=mu(bi.assistants,[]);e({objectives:n,works:r,sessions:s,assistants:o,ready:!0})},setCollections:n=>{e(r=>{const s=Mh({objectives:n.objectives,works:n.works,sessions:n.sessions,assistants:n.assistants}),o={...r,...s,ready:!0};return Ze(o),o})},reset:()=>{e(n=>{const r=Mh({objectives:[],works:[],sessions:[],assistants:[]}),s={...n,...r,ready:!0};return Ze(s),s})},addObjective:n=>{const r={id:bn(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:at(),updatedAt:at()};return e(s=>{const o={objectives:[...s.objectives,r]},a={...s,...o};return Ze(a),a}),r},updateObjective:(n,r)=>{e(s=>{const o=s.objectives.map(u=>u.id===n?{...u,...r,updatedAt:at()}:u),a={...s,objectives:o};return Ze(a),a})},deleteObjective:n=>t().works.some(s=>s.objectiveId===n)?!1:(e(s=>{const o=s.objectives.filter(u=>u.id!==n),a={...s,objectives:o};return Ze(a),a}),!0),addWork:n=>{const r=at();let s=null;return e(o=>{const a=ml(n.parentWorkId),u=a&&o.works.some(p=>p.id===a)?a:null,c={id:bn(),name:n.name,subtitle:$f(n.subtitle),objectiveId:n.objectiveId,parentWorkId:u,descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:n.notes,videoUrls:n.videoUrls,createdAt:r,updatedAt:r};s=c;const f=[...o.works,c],h={...o,works:f};return Ze(h),h}),s},updateWork:(n,r)=>{e(s=>{const o=s.works.map(u=>{if(u.id!==n)return u;const{parentWorkId:c,subtitle:f,...h}=r;let p=u.parentWorkId??null;if(c!==void 0){const v=ml(c);v&&(!s.works.some(g=>g.id===v)||EP(s.works,n,v))?p=null:p=v}return{...u,...h,subtitle:f!==void 0?$f(f):u.subtitle,parentWorkId:p,videoUrls:h.videoUrls??u.videoUrls,estimatedMinutes:h.estimatedMinutes??u.estimatedMinutes,updatedAt:at()}}),a={...s,works:o};return Ze(a),a})},deleteWork:n=>t().sessions.some(o=>o.workItems.some(a=>a.workId===n))||t().works.some(o=>o.parentWorkId===n)?!1:(e(o=>{const a=o.works.filter(c=>c.id!==n),u={...o,works:a};return Ze(u),u}),!0),addSession:n=>{const r={id:bn(),date:n.date,title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??Ji,createdAt:at(),updatedAt:at()};return e(s=>{const o=[...s.sessions,r],a={...s,sessions:o};return Ze(a),a}),r},duplicateSession:(n,r)=>{const s=t().sessions.find(u=>u.id===n);if(!s)return;const o=at(),a={...s,id:bn(),date:r,startTime:s.startTime??Ji,createdAt:o,updatedAt:o,title:`${s.title} (copia)`};return a.workItems=s.workItems.map((u,c)=>({...u,id:bn(),order:c})),a.attendance=s.attendance.map(u=>({assistantId:u.assistantId,status:"pending",notes:u.notes,actualStatus:void 0,actualNotes:void 0})),e(u=>{const c=[...u.sessions,a],f={...u,sessions:c};return Ze(f),f}),a},updateSession:(n,r)=>{e(s=>{const o=s.sessions.map(u=>u.id===n?{...u,...r,updatedAt:at()}:u),a={...s,sessions:o};return Ze(a),a})},deleteSession:n=>{e(r=>{const s=r.sessions.filter(a=>a.id!==n),o={...r,sessions:s};return Ze(o),o})},updateSessionWorkItems:(n,r)=>{e(s=>{const o=s.sessions.map(u=>u.id===n?{...u,workItems:r.map((c,f)=>({...c,order:f})),updatedAt:at()}:u),a={...s,sessions:o};return Ze(a),a})},addWorkToSession:(n,r)=>{const s=t().sessions.find(u=>u.id===n);if(!s)return;const o={id:bn(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:s.workItems.length},a={...s,workItems:[...s.workItems,o],updatedAt:at()};return e(u=>{const c=u.sessions.map(h=>h.id===n?a:h),f={...u,sessions:c};return Ze(f),f}),o},removeWorkFromSession:(n,r)=>{e(s=>{const o=s.sessions.map(u=>{if(u.id!==n)return u;const c=u.workItems.filter(f=>f.id!==r).map((f,h)=>({...f,order:h}));return{...u,workItems:c,updatedAt:at()}}),a={...s,sessions:o};return Ze(a),a})},toggleSessionWorkCompletion:(n,r,s)=>{e(o=>{const a=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,completed:s}:f),updatedAt:at()}),u={...o,sessions:a};return Ze(u),u})},reorderSessionWork:(n,r,s)=>{e(o=>{const a=o.sessions.map(c=>{if(c.id!==n)return c;const f=[...c.workItems],[h]=f.splice(r,1);return f.splice(s,0,h),{...c,workItems:f.map((p,v)=>({...p,order:v})),updatedAt:at()}}),u={...o,sessions:a};return Ze(u),u})},updateSessionWorkDetails:(n,r,s)=>{e(o=>{const a=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,...s}:f),updatedAt:at()}),u={...o,sessions:a};return Ze(u),u})},replaceSessionWork:(n,r,s)=>{t().works.some(o=>o.id===s)&&e(o=>{const a=o.sessions.map(c=>{if(c.id!==n)return c;const f=c.workItems.map(h=>h.id!==r?h:{...h,workId:s,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...c,workItems:f,updatedAt:at()}}),u={...o,sessions:a};return Ze(u),u})},setAttendanceActualStatus:(n,r,s,o)=>{e(a=>{const u=a.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;if(h)p=f.attendance.map(v=>{if(v.assistantId!==r)return v;const g={...v,actualStatus:s};return typeof o<"u"&&(g.actualNotes=o),g});else{const v={assistantId:r,status:"pending",actualStatus:s};typeof o<"u"&&(v.actualNotes=o),p=[...f.attendance,v]}return{...f,attendance:p,updatedAt:at()}}),c={...a,sessions:u};return Ze(c),c})},setAttendanceStatus:(n,r,s,o)=>{e(a=>{const u=a.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;return h?p=f.attendance.map(v=>v.assistantId===r?{...v,status:s,notes:o}:v):p=[...f.attendance,{assistantId:r,status:s,notes:o}],{...f,attendance:p,updatedAt:at()}}),c={...a,sessions:u};return Ze(c),c})},addAssistant:n=>{const r={id:bn(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:at(),updatedAt:at()};return e(s=>{const o=[...s.assistants,r],a={...s,assistants:o};return Ze(a),a}),r},updateAssistant:(n,r)=>{e(s=>{const o=s.assistants.map(u=>u.id===n?{...u,...r,updatedAt:at()}:u),a={...s,assistants:o};return Ze(a),a})},deleteAssistant:n=>{e(r=>{const s=r.assistants.filter(u=>u.id!==n),o=r.sessions.map(u=>({...u,attendance:u.attendance.filter(c=>c.assistantId!==n)})),a={...r,assistants:s,sessions:o};return Ze(a),a})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versión de backup no soportada");const s=at(),o=(n.objetivos??[]).map(g=>({...g,createdAt:g.createdAt??s,updatedAt:g.updatedAt??s})),a=(n.trabajos??[]).map(g=>{const b=g.parent_work_id;return{...g,subtitle:$f(g.subtitle),parentWorkId:ml(g.parentWorkId??b??null),createdAt:g.createdAt??s,updatedAt:g.updatedAt??s,videoUrls:g.videoUrls??[]}}),u=(n.asistentes??[]).map(g=>({...g,createdAt:g.createdAt??s,updatedAt:g.updatedAt??s,active:g.active??!0})),c=new Map;(n.sesiones??[]).forEach(g=>{const b=g.id??bn(),S={id:b,date:g.date??We().format("YYYY-MM-DD"),title:g.title??"Sesión importada",description:g.description,notes:g.notes,workItems:(g.workItems??[]).map((E,C)=>({id:E.id??bn(),workId:E.workId,order:E.order??C,customDescriptionMarkdown:E.customDescriptionMarkdown,customDurationMinutes:E.customDurationMinutes,notes:E.notes,focusLabel:E.focusLabel,completed:E.completed??!1})),attendance:$h(g.attendance),startTime:g.startTime??Ji,createdAt:g.createdAt??s,updatedAt:g.updatedAt??s};S.workItems=S.workItems.sort((E,C)=>E.order-C.order).map((E,C)=>({...E,order:C})),c.set(b,S)}),(n.sesiones_trabajos??[]).forEach(g=>{const b=g.session_id;if(!b)return;c.has(b)||c.set(b,{id:b,date:g.fecha?We(g.fecha).format("YYYY-MM-DD"):We().format("YYYY-MM-DD"),title:g.titulo??"Sesión importada",description:g.descripcion,notes:g.notasSesion??g.notas,workItems:[],attendance:[],startTime:Ji,createdAt:s,updatedAt:s});const S=c.get(b);S.workItems.push({id:g.id??bn(),workId:g.trabajo_id,order:g.orden??S.workItems.length,customDescriptionMarkdown:g.descripcionPersonalizada,customDurationMinutes:g.duracionPersonalizada,notes:g.notas,focusLabel:g.focusLabel??g.foco,completed:!1})}),c.forEach(g=>{g.workItems=g.workItems.sort((b,S)=>b.order-S.order).map((b,S)=>({...b,order:S})),g.startTime=g.startTime??Ji});const f=new Map,h=g=>Tb(g)?g:void 0,p=g=>Ib(g)?g:void 0;(n.sesiones_asistencias??[]).forEach(g=>{const b=g.session_id;if(!b)return;const S=g.assistantId??g.asistente_id;if(!S)return;const E=h(g.status??g.estado)??"pending",C=p(g.actualStatus??g.estado_real),N={assistantId:S,status:E,notes:g.notes??g.notas,actualStatus:C,actualNotes:g.actualNotes??g.notas_reales},R=f.get(b)??[];R.push(N),f.set(b,R)}),f.forEach((g,b)=>{const S=c.get(b);S&&(S.attendance=g)});const v=Array.from(c.values());e({objectives:o,works:a,sessions:v,assistants:u,ready:!0}),Ze({objectives:o,works:a,sessions:v,assistants:u})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(u=>u.workItems.map(c=>({id:c.id,session_id:u.id,trabajo_id:c.workId,orden:c.order,descripcionPersonalizada:c.customDescriptionMarkdown,duracionPersonalizada:c.customDurationMinutes,notas:c.notes,foco:c.focusLabel,focusLabel:c.focusLabel}))),s=n.sessions.flatMap(u=>u.attendance.map(c=>({session_id:u.id,assistantId:c.assistantId,estado:c.status,notas:c.notes,...c.actualStatus?{actualStatus:c.actualStatus,estado_real:c.actualStatus}:{},...c.actualNotes?{actualNotes:c.actualNotes,notas_reales:c.actualNotes}:{}}))),o=n.sessions.map(u=>({id:u.id,date:u.date,title:u.title,description:u.description,notes:u.notes,startTime:u.startTime,createdAt:u.createdAt,updatedAt:u.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:o,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:s}}})),hw=1,gu=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants}),_P=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[]}),CP=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants;function jP(){const{user:e}=xc(),t=Te(f=>f.setCollections),n=Te(f=>f.reset),r=Te(f=>f.ready),s=k.useRef(!1),o=k.useRef(null),a=k.useRef(null),u=k.useRef(null),c=k.useRef(gu(Te.getState()));k.useEffect(()=>()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]),k.useEffect(()=>{e||(n(),u.current=null,a.current=null,s.current=!1,c.current=gu(Te.getState()),o.current&&(window.clearTimeout(o.current),o.current=null))},[e,n]),k.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:v,error:g}=await yi.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(g&&g.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",g);return}const b=v;if(b!=null&&b.data){const S=_P(b.data??{});s.current=!0,u.current=b.updated_at,c.current=S,t(S)}else if(r){const S=gu(Te.getState());a.current=null;const{error:E,data:C}=await yi.from("planner_states").upsert({user_id:e.id,data:{version:hw,...S}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),N=C;E?console.error("No se pudo inicializar el estado remoto",E):N&&(u.current=N.updated_at)}})();const p=Te.subscribe(v=>{if(!f)return;const g=gu(v);if(s.current){s.current=!1,c.current=g,a.current=null;return}const b=c.current;CP(g,b)&&(c.current=g,a.current=g,o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{if(!a.current)return;const S=a.current;a.current=null,(async()=>{const{error:E,data:C}=await yi.from("planner_states").upsert({user_id:e.id,data:{version:hw,...S}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),N=C;E?console.error("No se pudo guardar el estado remoto",E):N&&(u.current=N.updated_at)})()},600))});return()=>{f=!1,p(),o.current&&(window.clearTimeout(o.current),o.current=null)}},[e,r,t])}var Tu={exports:{}},TP=Tu.exports,pw;function IP(){return pw||(pw=1,(function(e,t){(function(n,r){e.exports=r(Cb())})(TP,(function(n){function r(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var s=r(n),o={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(a){return a+"º"}};return s.default.locale(o,null,!0),o}))})(Tu)),Tu.exports}IP();function Ur({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return x.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[x.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function NP(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const RP=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PP=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AP={};function mw(e,t){return(AP.jsx?PP:RP).test(e)}const OP=/[ \t\n\f\r]/g;function DP(e){return typeof e=="object"?e.type==="text"?gw(e.value):!1:gw(e)}function gw(e){return e.replace(OP,"")===""}class Kl{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Kl.prototype.normal={};Kl.prototype.property={};Kl.prototype.space=void 0;function Nb(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Kl(n,r,t)}function Fh(e){return e.toLowerCase()}class dn{constructor(t,n){this.attribute=n,this.property=t}}dn.prototype.attribute="";dn.prototype.booleanish=!1;dn.prototype.boolean=!1;dn.prototype.commaOrSpaceSeparated=!1;dn.prototype.commaSeparated=!1;dn.prototype.defined=!1;dn.prototype.mustUseProperty=!1;dn.prototype.number=!1;dn.prototype.overloadedBoolean=!1;dn.prototype.property="";dn.prototype.spaceSeparated=!1;dn.prototype.space=void 0;let LP=0;const Pe=fs(),mt=fs(),zh=fs(),ce=fs(),Je=fs(),so=fs(),wn=fs();function fs(){return 2**++LP}const Uh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:mt,commaOrSpaceSeparated:wn,commaSeparated:so,number:ce,overloadedBoolean:zh,spaceSeparated:Je},Symbol.toStringTag,{value:"Module"})),Mf=Object.keys(Uh);class Ip extends dn{constructor(t,n,r,s){let o=-1;if(super(t,n),vw(this,"space",s),typeof r=="number")for(;++o<Mf.length;){const a=Mf[o];vw(this,Mf[o],(r&Uh[a])===Uh[a])}}}Ip.prototype.defined=!0;function vw(e,t,n){n&&(e[t]=n)}function wo(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new Ip(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Fh(r)]=r,n[Fh(o.attribute)]=r}return new Kl(t,n,e.space)}const Rb=wo({properties:{ariaActiveDescendant:null,ariaAtomic:mt,ariaAutoComplete:null,ariaBusy:mt,ariaChecked:mt,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:Je,ariaCurrent:null,ariaDescribedBy:Je,ariaDetails:null,ariaDisabled:mt,ariaDropEffect:Je,ariaErrorMessage:null,ariaExpanded:mt,ariaFlowTo:Je,ariaGrabbed:mt,ariaHasPopup:null,ariaHidden:mt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Je,ariaLevel:ce,ariaLive:null,ariaModal:mt,ariaMultiLine:mt,ariaMultiSelectable:mt,ariaOrientation:null,ariaOwns:Je,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:mt,ariaReadOnly:mt,ariaRelevant:null,ariaRequired:mt,ariaRoleDescription:Je,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:mt,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Pb(e,t){return t in e?e[t]:t}function Ab(e,t){return Pb(e,t.toLowerCase())}const $P=wo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:so,acceptCharset:Je,accessKey:Je,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:Je,autoFocus:Pe,autoPlay:Pe,blocking:Je,capture:null,charSet:null,checked:Pe,cite:null,className:Je,cols:ce,colSpan:null,content:null,contentEditable:mt,controls:Pe,controlsList:Je,coords:ce|so,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:zh,draggable:mt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:Je,height:ce,hidden:zh,high:ce,href:null,hrefLang:null,htmlFor:Je,httpEquiv:Je,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:Je,itemRef:Je,itemScope:Pe,itemType:Je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:ce,pattern:null,ping:Je,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:Je,required:Pe,reversed:Pe,rows:ce,rowSpan:ce,sandbox:Je,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:mt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:mt,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Je,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:mt,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:ce,security:null,unselectable:null},space:"html",transform:Ab}),MP=wo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wn,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:Je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:so,g2:so,glyphName:so,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wn,rev:wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wn,requiredFeatures:wn,requiredFonts:wn,requiredFormats:wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wn,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Pb}),Ob=wo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Db=wo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ab}),Lb=wo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),FP={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},zP=/[A-Z]/g,yw=/-[a-z]/g,UP=/^data[-\w.:]+$/i;function BP(e,t){const n=Fh(t);let r=t,s=dn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&UP.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(yw,HP);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!yw.test(o)){let a=o.replace(zP,WP);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=Ip}return new s(r,t)}function WP(e){return"-"+e.toLowerCase()}function HP(e){return e.charAt(1).toUpperCase()}const VP=Nb([Rb,$P,Ob,Db,Lb],"html"),Np=Nb([Rb,MP,Ob,Db,Lb],"svg");function qP(e){return e.join(" ").trim()}var Ys={},Ff,ww;function YP(){if(ww)return Ff;ww=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",h="*",p="",v="comment",g="declaration";Ff=function(S,E){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];E=E||{};var C=1,N=1;function R(G){var O=G.match(t);O&&(C+=O.length);var W=G.lastIndexOf(c);N=~W?G.length-W:N+G.length}function z(){var G={line:C,column:N};return function(O){return O.position=new B(G),ne(),O}}function B(G){this.start=G,this.end={line:C,column:N},this.source=E.source}B.prototype.content=S;function A(G){var O=new Error(E.source+":"+C+":"+N+": "+G);if(O.reason=G,O.filename=E.source,O.line=C,O.column=N,O.source=S,!E.silent)throw O}function K(G){var O=G.exec(S);if(O){var W=O[0];return R(W),S=S.slice(W.length),O}}function ne(){K(n)}function ie(G){var O;for(G=G||[];O=D();)O!==!1&&G.push(O);return G}function D(){var G=z();if(!(f!=S.charAt(0)||h!=S.charAt(1))){for(var O=2;p!=S.charAt(O)&&(h!=S.charAt(O)||f!=S.charAt(O+1));)++O;if(O+=2,p===S.charAt(O-1))return A("End of comment missing");var W=S.slice(2,O-2);return N+=2,R(W),S=S.slice(O),N+=2,G({type:v,comment:W})}}function L(){var G=z(),O=K(r);if(O){if(D(),!K(s))return A("property missing ':'");var W=K(o),$=G({type:g,property:b(O[0].replace(e,p)),value:W?b(W[0].replace(e,p)):p});return K(a),$}}function X(){var G=[];ie(G);for(var O;O=L();)O!==!1&&(G.push(O),ie(G));return G}return ne(),X()};function b(S){return S?S.replace(u,p):p}return Ff}var xw;function KP(){if(xw)return Ys;xw=1;var e=Ys&&Ys.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.default=n;var t=e(YP());function n(r,s){var o=null;if(!r||typeof r!="string")return o;var a=(0,t.default)(r),u=typeof s=="function";return a.forEach(function(c){if(c.type==="declaration"){var f=c.property,h=c.value;u?s(f,h,c):h&&(o=o||{},o[f]=h)}}),o}return Ys}var ll={},bw;function GP(){if(bw)return ll;bw=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},a=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},c=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(s,u):f=f.replace(r,u),f.replace(t,a))};return ll.camelCase=c,ll}var al,kw;function JP(){if(kw)return al;kw=1;var e=al&&al.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(KP()),n=GP();function r(s,o){var a={};return!s||typeof s!="string"||(0,t.default)(s,function(u,c){u&&c&&(a[(0,n.camelCase)(u,o)]=c)}),a}return r.default=r,al=r,al}var QP=JP();const XP=ho(QP),$b=Mb("end"),Rp=Mb("start");function Mb(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ZP(e){const t=Rp(e),n=$b(e);if(t&&n)return{start:t,end:n}}function kl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Sw(e.position):"start"in e||"end"in e?Sw(e):"line"in e||"column"in e?Bh(e):""}function Bh(e){return Ew(e&&e.line)+":"+Ew(e&&e.column)}function Sw(e){return Bh(e&&e.start)+"-"+Bh(e&&e.end)}function Ew(e){return e&&typeof e=="number"?e:1}class Vt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(a=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=u?u.line:void 0,this.name=kl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Vt.prototype.file="";Vt.prototype.name="";Vt.prototype.reason="";Vt.prototype.message="";Vt.prototype.stack="";Vt.prototype.column=void 0;Vt.prototype.line=void 0;Vt.prototype.ancestors=void 0;Vt.prototype.cause=void 0;Vt.prototype.fatal=void 0;Vt.prototype.place=void 0;Vt.prototype.ruleId=void 0;Vt.prototype.source=void 0;const Pp={}.hasOwnProperty,eA=new Map,tA=/[A-Z]/g,nA=new Set(["table","tbody","thead","tfoot","tr"]),rA=new Set(["td","th"]),Fb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function iA(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=fA(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=dA(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Np:VP,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=zb(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function zb(e,t,n){if(t.type==="element")return sA(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return oA(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return aA(e,t,n);if(t.type==="mdxjsEsm")return lA(e,t);if(t.type==="root")return uA(e,t,n);if(t.type==="text")return cA(e,t)}function sA(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Np,e.schema=s),e.ancestors.push(t);const o=Bb(e,t.tagName,!1),a=hA(e,t);let u=Op(e,t);return nA.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!DP(c):!0})),Ub(e,a,o,t),Ap(a,u),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function oA(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Dl(e,t.position)}function lA(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Dl(e,t.position)}function aA(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Np,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:Bb(e,t.name,!0),a=pA(e,t),u=Op(e,t);return Ub(e,a,o,t),Ap(a,u),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function uA(e,t,n){const r={};return Ap(r,Op(e,t)),e.create(t,e.Fragment,r,n)}function cA(e,t){return t.value}function Ub(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ap(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function dA(e,t,n){return r;function r(s,o,a,u){const f=Array.isArray(a.children)?n:t;return u?f(o,a,u):f(o,a)}}function fA(e,t){return n;function n(r,s,o,a){const u=Array.isArray(o.children),c=Rp(r);return t(s,o,a,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function hA(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Pp.call(t.properties,s)){const o=mA(e,s,t.properties[s]);if(o){const[a,u]=o;e.tableCellAlignToStyle&&a==="align"&&typeof u=="string"&&rA.has(t.tagName)?r=u:n[a]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function pA(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const u=a.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Dl(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else Dl(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function Op(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:eA;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=s.get(c)||0;a=c+"-"+f,s.set(c,f+1)}}const u=zb(e,o,a);u!==void 0&&n.push(u)}return n}function mA(e,t,n){const r=BP(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?NP(n):qP(n)),r.property==="style"){let s=typeof n=="object"?n:gA(e,String(n));return e.stylePropertyNameCase==="css"&&(s=vA(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?FP[r.property]||r.property:r.attribute,n]}}function gA(e,t){try{return XP(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Vt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Fb+"#cannot-parse-style-attribute",s}}function Bb(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,a;for(;++o<s.length;){const u=mw(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};a=a?{type:"MemberExpression",object:a,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=a}else r=mw(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Pp.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Dl(e)}function Dl(e,t){const n=new Vt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Fb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function vA(e){const t={};let n;for(n in e)Pp.call(e,n)&&(t[yA(n)]=e[n]);return t}function yA(e){let t=e.replace(tA,wA);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function wA(e){return"-"+e.toLowerCase()}const zf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xA={};function Dp(e,t){const n=xA,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Wb(e,r,s)}function Wb(e,t,n){if(bA(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _w(e.children,t,n)}return Array.isArray(e)?_w(e,t,n):""}function _w(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Wb(e[s],t,n);return r.join("")}function bA(e){return!!(e&&typeof e=="object")}const Cw=document.createElement("i");function Lp(e){const t="&"+e+";";Cw.innerHTML=t;const n=Cw.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function En(e,t,n,r){const s=e.length;let o=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function Fn(e,t){return e.length>0?(En(e,e.length,0,t),e):t}const jw={}.hasOwnProperty;function Hb(e){const t={};let n=-1;for(;++n<e.length;)kA(t,e[n]);return t}function kA(e,t){let n;for(n in t){const s=(jw.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){jw.call(s,a)||(s[a]=[]);const u=o[a];SA(s[a],Array.isArray(u)?u:u?[u]:[])}}}function SA(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);En(e,0,0,r)}function Vb(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function nr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Gt=ji(/[A-Za-z]/),Ht=ji(/[\dA-Za-z]/),EA=ji(/[#-'*+\--9=?A-Z^-~]/);function qu(e){return e!==null&&(e<32||e===127)}const Wh=ji(/\d/),_A=ji(/[\dA-Fa-f]/),CA=ji(/[!-/:-@[-`{-~]/);function _e(e){return e!==null&&e<-2}function qe(e){return e!==null&&(e<0||e===32)}function Oe(e){return e===-2||e===-1||e===32}const bc=ji(new RegExp("\\p{P}|\\p{S}","u")),os=ji(/\s/);function ji(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function xo(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Ht(e.charCodeAt(n+1))&&Ht(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(a=String.fromCharCode(o,u),s=1):a="�"}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Le(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(c){return Oe(c)?(e.enter(n),u(c)):t(c)}function u(c){return Oe(c)&&o++<s?(e.consume(c),u):(e.exit(n),t(c))}}const jA={tokenize:TA};function TA(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Le(e,t,"linePrefix")}function s(u){return e.enter("paragraph"),o(u)}function o(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(u)}function a(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return _e(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),a)}}const IA={tokenize:NA},Tw={tokenize:RA};function NA(e){const t=this,n=[];let r=0,s,o,a;return u;function u(R){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,c,f)(R)}return f(R)}function c(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&N();const z=t.events.length;let B=z,A;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){A=t.events[B][1].end;break}C(r);let K=z;for(;K<t.events.length;)t.events[K][1].end={...A},K++;return En(t.events,B+1,0,t.events.slice(z)),t.events.length=K,f(R)}return u(R)}function f(R){if(r===n.length){if(!s)return v(R);if(s.currentConstruct&&s.currentConstruct.concrete)return b(R);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Tw,h,p)(R)}function h(R){return s&&N(),C(r),v(R)}function p(R){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,b(R)}function v(R){return t.containerState={},e.attempt(Tw,g,b)(R)}function g(R){return r++,n.push([t.currentConstruct,t.containerState]),v(R)}function b(R){if(R===null){s&&N(),C(0),e.consume(R);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),S(R)}function S(R){if(R===null){E(e.exit("chunkFlow"),!0),C(0),e.consume(R);return}return _e(R)?(e.consume(R),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(R),S)}function E(R,z){const B=t.sliceStream(R);if(z&&B.push(null),R.previous=o,o&&(o.next=R),o=R,s.defineSkip(R.start),s.write(B),t.parser.lazy[R.start.line]){let A=s.events.length;for(;A--;)if(s.events[A][1].start.offset<a&&(!s.events[A][1].end||s.events[A][1].end.offset>a))return;const K=t.events.length;let ne=K,ie,D;for(;ne--;)if(t.events[ne][0]==="exit"&&t.events[ne][1].type==="chunkFlow"){if(ie){D=t.events[ne][1].end;break}ie=!0}for(C(r),A=K;A<t.events.length;)t.events[A][1].end={...D},A++;En(t.events,ne+1,0,t.events.slice(K)),t.events.length=A}}function C(R){let z=n.length;for(;z-- >R;){const B=n[z];t.containerState=B[1],B[0].exit.call(t,e)}n.length=R}function N(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function RA(e,t,n){return Le(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fo(e){if(e===null||qe(e)||os(e))return 1;if(bc(e))return 2}function kc(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Hh={name:"attention",resolveAll:PA,tokenize:AA};function PA(e,t){let n=-1,r,s,o,a,u,c,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},v={...e[n][1].start};Iw(p,-c),Iw(v,c),a={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:c>1?"strong":"emphasis",start:{...a.start},end:{...u.end}},e[r][1].end={...a.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Fn(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Fn(f,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",o,t]]),f=Fn(f,kc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Fn(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=Fn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,En(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function AA(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=fo(r);let o;return a;function a(c){return o=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===o)return e.consume(c),u;const f=e.exit("attentionSequence"),h=fo(c),p=!h||h===2&&s||n.includes(c),v=!s||s===2&&h||n.includes(r);return f._open=!!(o===42?p:p&&(s||!v)),f._close=!!(o===42?v:v&&(h||!p)),t(c)}}function Iw(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const OA={name:"autolink",tokenize:DA};function DA(e,t,n){let r=0;return s;function s(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(g){return Gt(g)?(e.consume(g),a):g===64?n(g):f(g)}function a(g){return g===43||g===45||g===46||Ht(g)?(r=1,u(g)):f(g)}function u(g){return g===58?(e.consume(g),r=0,c):(g===43||g===45||g===46||Ht(g))&&r++<32?(e.consume(g),u):(r=0,f(g))}function c(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||qu(g)?n(g):(e.consume(g),c)}function f(g){return g===64?(e.consume(g),h):EA(g)?(e.consume(g),f):n(g)}function h(g){return Ht(g)?p(g):n(g)}function p(g){return g===46?(e.consume(g),r=0,h):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):v(g)}function v(g){if((g===45||Ht(g))&&r++<63){const b=g===45?v:p;return e.consume(g),b}return n(g)}}const Gl={partial:!0,tokenize:LA};function LA(e,t,n){return r;function r(o){return Oe(o)?Le(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||_e(o)?t(o):n(o)}}const qb={continuation:{tokenize:MA},exit:FA,name:"blockQuote",tokenize:$A};function $A(e,t,n){const r=this;return s;function s(a){if(a===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Oe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function MA(e,t,n){const r=this;return s;function s(a){return Oe(a)?Le(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(qb,t,n)(a)}}function FA(e){e.exit("blockQuote")}const Yb={name:"characterEscape",tokenize:zA};function zA(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return CA(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Kb={name:"characterReference",tokenize:UA};function UA(e,t,n){const r=this;let s=0,o,a;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,a=Ht,h(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=_A,h):(e.enter("characterReferenceValue"),o=7,a=Wh,h(p))}function h(p){if(p===59&&s){const v=e.exit("characterReferenceValue");return a===Ht&&!Lp(r.sliceSerialize(v))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&s++<o?(e.consume(p),h):n(p)}}const Nw={partial:!0,tokenize:WA},Rw={concrete:!0,name:"codeFenced",tokenize:BA};function BA(e,t,n){const r=this,s={partial:!0,tokenize:B};let o=0,a=0,u;return c;function c(A){return f(A)}function f(A){const K=r.events[r.events.length-1];return o=K&&K[1].type==="linePrefix"?K[2].sliceSerialize(K[1],!0).length:0,u=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===u?(a++,e.consume(A),h):a<3?n(A):(e.exit("codeFencedFenceSequence"),Oe(A)?Le(e,p,"whitespace")(A):p(A))}function p(A){return A===null||_e(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(Nw,S,z)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(A))}function v(A){return A===null||_e(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(A)):Oe(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Le(e,g,"whitespace")(A)):A===96&&A===u?n(A):(e.consume(A),v)}function g(A){return A===null||_e(A)?p(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(A))}function b(A){return A===null||_e(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(A)):A===96&&A===u?n(A):(e.consume(A),b)}function S(A){return e.attempt(s,z,E)(A)}function E(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),C}function C(A){return o>0&&Oe(A)?Le(e,N,"linePrefix",o+1)(A):N(A)}function N(A){return A===null||_e(A)?e.check(Nw,S,z)(A):(e.enter("codeFlowValue"),R(A))}function R(A){return A===null||_e(A)?(e.exit("codeFlowValue"),N(A)):(e.consume(A),R)}function z(A){return e.exit("codeFenced"),t(A)}function B(A,K,ne){let ie=0;return D;function D(W){return A.enter("lineEnding"),A.consume(W),A.exit("lineEnding"),L}function L(W){return A.enter("codeFencedFence"),Oe(W)?Le(A,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):X(W)}function X(W){return W===u?(A.enter("codeFencedFenceSequence"),G(W)):ne(W)}function G(W){return W===u?(ie++,A.consume(W),G):ie>=a?(A.exit("codeFencedFenceSequence"),Oe(W)?Le(A,O,"whitespace")(W):O(W)):ne(W)}function O(W){return W===null||_e(W)?(A.exit("codeFencedFence"),K(W)):ne(W)}}}function WA(e,t,n){const r=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Uf={name:"codeIndented",tokenize:VA},HA={partial:!0,tokenize:qA};function VA(e,t,n){const r=this;return s;function s(f){return e.enter("codeIndented"),Le(e,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?c(f):_e(f)?e.attempt(HA,a,c)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||_e(f)?(e.exit("codeFlowValue"),a(f)):(e.consume(f),u)}function c(f){return e.exit("codeIndented"),t(f)}}function qA(e,t,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):_e(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):Le(e,o,"linePrefix",5)(a)}function o(a){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(a):_e(a)?s(a):n(a)}}const YA={name:"codeText",previous:GA,resolve:KA,tokenize:JA};function KA(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function GA(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function JA(e,t,n){let r=0,s,o;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),r++,u):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(o=e.enter("codeTextSequence"),s=0,h(p)):_e(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||_e(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),f)}function h(p){return p===96?(e.consume(p),s++,h):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",f(p))}}class QA{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&ul(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ul(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ul(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ul(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ul(this.left,n.reverse())}}}function ul(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Gb(e){const t={};let n=-1,r,s,o,a,u,c,f;const h=new QA(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,XA(h,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(a=h.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...h.get(s)[1].start},u=h.slice(s,n),u.unshift(r),h.splice(s,n-s+1,u))}}return En(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function XA(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const u=a.events,c=[],f={};let h,p,v=-1,g=n,b=0,S=0;const E=[S];for(;g;){for(;e.get(++s)[1]!==g;);o.push(s),g._tokenizer||(h=r.sliceStream(g),g.next||h.push(null),p&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(S=v+1,E.push(S),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):E.pop(),v=E.length;v--;){const C=u.slice(E[v],E[v+1]),N=o.pop();c.push([N,N+C.length-1]),e.splice(N,2,C)}for(c.reverse(),v=-1;++v<c.length;)f[b+c[v][0]]=b+c[v][1],b+=c[v][1]-c[v][0]-1;return f}const ZA={resolve:tO,tokenize:nO},eO={partial:!0,tokenize:rO};function tO(e){return Gb(e),e}function nO(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?o(u):_e(u)?e.check(eO,a,o)(u):(e.consume(u),s)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function a(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function rO(e,t,n){const r=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Le(e,o,"linePrefix")}function o(a){if(a===null||_e(a))return n(a);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Jb(e,t,n,r,s,o,a,u,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(C){return C===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(C),e.exit(o),v):C===null||C===32||C===41||qu(C)?n(C):(e.enter(r),e.enter(a),e.enter(u),e.enter("chunkString",{contentType:"string"}),S(C))}function v(C){return C===62?(e.enter(o),e.consume(C),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),g(C))}function g(C){return C===62?(e.exit("chunkString"),e.exit(u),v(C)):C===null||C===60||_e(C)?n(C):(e.consume(C),C===92?b:g)}function b(C){return C===60||C===62||C===92?(e.consume(C),g):g(C)}function S(C){return!h&&(C===null||C===41||qe(C))?(e.exit("chunkString"),e.exit(u),e.exit(a),e.exit(r),t(C)):h<f&&C===40?(e.consume(C),h++,S):C===41?(e.consume(C),h--,S):C===null||C===32||C===40||qu(C)?n(C):(e.consume(C),C===92?E:S)}function E(C){return C===40||C===41||C===92?(e.consume(C),S):S(C)}}function Qb(e,t,n,r,s,o){const a=this;let u=0,c;return f;function f(g){return e.enter(r),e.enter(s),e.consume(g),e.exit(s),e.enter(o),h}function h(g){return u>999||g===null||g===91||g===93&&!c||g===94&&!u&&"_hiddenFootnoteSupport"in a.parser.constructs?n(g):g===93?(e.exit(o),e.enter(s),e.consume(g),e.exit(s),e.exit(r),t):_e(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||_e(g)||u++>999?(e.exit("chunkString"),h(g)):(e.consume(g),c||(c=!Oe(g)),g===92?v:p)}function v(g){return g===91||g===92||g===93?(e.consume(g),u++,p):p(g)}}function Xb(e,t,n,r,s,o){let a;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(s),e.consume(v),e.exit(s),a=v===40?41:v,c):n(v)}function c(v){return v===a?(e.enter(s),e.consume(v),e.exit(s),e.exit(r),t):(e.enter(o),f(v))}function f(v){return v===a?(e.exit(o),c(a)):v===null?n(v):_e(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Le(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===a||v===null||_e(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?p:h)}function p(v){return v===a||v===92?(e.consume(v),h):h(v)}}function Sl(e,t){let n;return r;function r(s){return _e(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Oe(s)?Le(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const iO={name:"definition",tokenize:oO},sO={partial:!0,tokenize:lO};function oO(e,t,n){const r=this;let s;return o;function o(g){return e.enter("definition"),a(g)}function a(g){return Qb.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function u(g){return s=nr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),c):n(g)}function c(g){return qe(g)?Sl(e,f)(g):f(g)}function f(g){return Jb(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function h(g){return e.attempt(sO,p,p)(g)}function p(g){return Oe(g)?Le(e,v,"whitespace")(g):v(g)}function v(g){return g===null||_e(g)?(e.exit("definition"),r.parser.defined.push(s),t(g)):n(g)}}function lO(e,t,n){return r;function r(u){return qe(u)?Sl(e,s)(u):n(u)}function s(u){return Xb(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Oe(u)?Le(e,a,"whitespace")(u):a(u)}function a(u){return u===null||_e(u)?t(u):n(u)}}const aO={name:"hardBreakEscape",tokenize:uO};function uO(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return _e(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const cO={name:"headingAtx",resolve:dO,tokenize:fO};function dO(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},En(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function fO(e,t,n){let r=0;return s;function s(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(e.consume(h),a):h===null||qe(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||_e(h)?(e.exit("atxHeading"),t(h)):Oe(h)?Le(e,u,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||qe(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),f)}}const hO=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Pw=["pre","script","style","textarea"],pO={concrete:!0,name:"htmlFlow",resolveTo:vO,tokenize:yO},mO={partial:!0,tokenize:xO},gO={partial:!0,tokenize:wO};function vO(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function yO(e,t,n){const r=this;let s,o,a,u,c;return f;function f(_){return h(_)}function h(_){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(_),p}function p(_){return _===33?(e.consume(_),v):_===47?(e.consume(_),o=!0,S):_===63?(e.consume(_),s=3,r.interrupt?t:T):Gt(_)?(e.consume(_),a=String.fromCharCode(_),E):n(_)}function v(_){return _===45?(e.consume(_),s=2,g):_===91?(e.consume(_),s=5,u=0,b):Gt(_)?(e.consume(_),s=4,r.interrupt?t:T):n(_)}function g(_){return _===45?(e.consume(_),r.interrupt?t:T):n(_)}function b(_){const Y="CDATA[";return _===Y.charCodeAt(u++)?(e.consume(_),u===Y.length?r.interrupt?t:X:b):n(_)}function S(_){return Gt(_)?(e.consume(_),a=String.fromCharCode(_),E):n(_)}function E(_){if(_===null||_===47||_===62||qe(_)){const Y=_===47,te=a.toLowerCase();return!Y&&!o&&Pw.includes(te)?(s=1,r.interrupt?t(_):X(_)):hO.includes(a.toLowerCase())?(s=6,Y?(e.consume(_),C):r.interrupt?t(_):X(_)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(_):o?N(_):R(_))}return _===45||Ht(_)?(e.consume(_),a+=String.fromCharCode(_),E):n(_)}function C(_){return _===62?(e.consume(_),r.interrupt?t:X):n(_)}function N(_){return Oe(_)?(e.consume(_),N):D(_)}function R(_){return _===47?(e.consume(_),D):_===58||_===95||Gt(_)?(e.consume(_),z):Oe(_)?(e.consume(_),R):D(_)}function z(_){return _===45||_===46||_===58||_===95||Ht(_)?(e.consume(_),z):B(_)}function B(_){return _===61?(e.consume(_),A):Oe(_)?(e.consume(_),B):R(_)}function A(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),c=_,K):Oe(_)?(e.consume(_),A):ne(_)}function K(_){return _===c?(e.consume(_),c=null,ie):_===null||_e(_)?n(_):(e.consume(_),K)}function ne(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||qe(_)?B(_):(e.consume(_),ne)}function ie(_){return _===47||_===62||Oe(_)?R(_):n(_)}function D(_){return _===62?(e.consume(_),L):n(_)}function L(_){return _===null||_e(_)?X(_):Oe(_)?(e.consume(_),L):n(_)}function X(_){return _===45&&s===2?(e.consume(_),$):_===60&&s===1?(e.consume(_),U):_===62&&s===4?(e.consume(_),I):_===63&&s===3?(e.consume(_),T):_===93&&s===5?(e.consume(_),q):_e(_)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(mO,M,G)(_)):_===null||_e(_)?(e.exit("htmlFlowData"),G(_)):(e.consume(_),X)}function G(_){return e.check(gO,O,M)(_)}function O(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),W}function W(_){return _===null||_e(_)?G(_):(e.enter("htmlFlowData"),X(_))}function $(_){return _===45?(e.consume(_),T):X(_)}function U(_){return _===47?(e.consume(_),a="",P):X(_)}function P(_){if(_===62){const Y=a.toLowerCase();return Pw.includes(Y)?(e.consume(_),I):X(_)}return Gt(_)&&a.length<8?(e.consume(_),a+=String.fromCharCode(_),P):X(_)}function q(_){return _===93?(e.consume(_),T):X(_)}function T(_){return _===62?(e.consume(_),I):_===45&&s===2?(e.consume(_),T):X(_)}function I(_){return _===null||_e(_)?(e.exit("htmlFlowData"),M(_)):(e.consume(_),I)}function M(_){return e.exit("htmlFlow"),t(_)}}function wO(e,t,n){const r=this;return s;function s(a){return _e(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function xO(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Gl,t,n)}}const bO={name:"htmlText",tokenize:kO};function kO(e,t,n){const r=this;let s,o,a;return u;function u(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),c}function c(T){return T===33?(e.consume(T),f):T===47?(e.consume(T),B):T===63?(e.consume(T),R):Gt(T)?(e.consume(T),ne):n(T)}function f(T){return T===45?(e.consume(T),h):T===91?(e.consume(T),o=0,b):Gt(T)?(e.consume(T),N):n(T)}function h(T){return T===45?(e.consume(T),g):n(T)}function p(T){return T===null?n(T):T===45?(e.consume(T),v):_e(T)?(a=p,U(T)):(e.consume(T),p)}function v(T){return T===45?(e.consume(T),g):p(T)}function g(T){return T===62?$(T):T===45?v(T):p(T)}function b(T){const I="CDATA[";return T===I.charCodeAt(o++)?(e.consume(T),o===I.length?S:b):n(T)}function S(T){return T===null?n(T):T===93?(e.consume(T),E):_e(T)?(a=S,U(T)):(e.consume(T),S)}function E(T){return T===93?(e.consume(T),C):S(T)}function C(T){return T===62?$(T):T===93?(e.consume(T),C):S(T)}function N(T){return T===null||T===62?$(T):_e(T)?(a=N,U(T)):(e.consume(T),N)}function R(T){return T===null?n(T):T===63?(e.consume(T),z):_e(T)?(a=R,U(T)):(e.consume(T),R)}function z(T){return T===62?$(T):R(T)}function B(T){return Gt(T)?(e.consume(T),A):n(T)}function A(T){return T===45||Ht(T)?(e.consume(T),A):K(T)}function K(T){return _e(T)?(a=K,U(T)):Oe(T)?(e.consume(T),K):$(T)}function ne(T){return T===45||Ht(T)?(e.consume(T),ne):T===47||T===62||qe(T)?ie(T):n(T)}function ie(T){return T===47?(e.consume(T),$):T===58||T===95||Gt(T)?(e.consume(T),D):_e(T)?(a=ie,U(T)):Oe(T)?(e.consume(T),ie):$(T)}function D(T){return T===45||T===46||T===58||T===95||Ht(T)?(e.consume(T),D):L(T)}function L(T){return T===61?(e.consume(T),X):_e(T)?(a=L,U(T)):Oe(T)?(e.consume(T),L):ie(T)}function X(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),s=T,G):_e(T)?(a=X,U(T)):Oe(T)?(e.consume(T),X):(e.consume(T),O)}function G(T){return T===s?(e.consume(T),s=void 0,W):T===null?n(T):_e(T)?(a=G,U(T)):(e.consume(T),G)}function O(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||qe(T)?ie(T):(e.consume(T),O)}function W(T){return T===47||T===62||qe(T)?ie(T):n(T)}function $(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):n(T)}function U(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),P}function P(T){return Oe(T)?Le(e,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):q(T)}function q(T){return e.enter("htmlTextData"),a(T)}}const $p={name:"labelEnd",resolveAll:CO,resolveTo:jO,tokenize:TO},SO={tokenize:IO},EO={tokenize:NO},_O={tokenize:RO};function CO(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&En(e,0,e.length,n),e}function jO(e,t){let n=e.length,r=0,s,o,a,u;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return u=[["enter",c,t],["enter",f,t]],u=Fn(u,e.slice(o+1,o+r+3)),u=Fn(u,[["enter",h,t]]),u=Fn(u,kc(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),u=Fn(u,[["exit",h,t],e[a-2],e[a-1],["exit",f,t]]),u=Fn(u,e.slice(a+1)),u=Fn(u,[["exit",c,t]]),En(e,o,e.length,u),e}function TO(e,t,n){const r=this;let s=r.events.length,o,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return u;function u(v){return o?o._inactive?p(v):(a=r.parser.defined.includes(nr(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):n(v)}function c(v){return v===40?e.attempt(SO,h,a?h:p)(v):v===91?e.attempt(EO,h,a?f:p)(v):a?h(v):p(v)}function f(v){return e.attempt(_O,h,p)(v)}function h(v){return t(v)}function p(v){return o._balanced=!0,n(v)}}function IO(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),s}function s(p){return qe(p)?Sl(e,o)(p):o(p)}function o(p){return p===41?h(p):Jb(e,a,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return qe(p)?Sl(e,c)(p):h(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?Xb(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return qe(p)?Sl(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function NO(e,t,n){const r=this;return s;function s(u){return Qb.call(r,e,o,a,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(nr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function a(u){return n(u)}}function RO(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const PO={name:"labelStartImage",resolveAll:$p.resolveAll,tokenize:AO};function AO(e,t,n){const r=this;return s;function s(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),a):n(u)}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const OO={name:"labelStartLink",resolveAll:$p.resolveAll,tokenize:DO};function DO(e,t,n){const r=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Bf={name:"lineEnding",tokenize:LO};function LO(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Le(e,t,"linePrefix")}}const Iu={name:"thematicBreak",tokenize:$O};function $O(e,t,n){let r=0,s;return o;function o(f){return e.enter("thematicBreak"),a(f)}function a(f){return s=f,u(f)}function u(f){return f===s?(e.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||_e(f))?(e.exit("thematicBreak"),t(f)):n(f)}function c(f){return f===s?(e.consume(f),r++,c):(e.exit("thematicBreakSequence"),Oe(f)?Le(e,u,"whitespace")(f):u(f))}}const un={continuation:{tokenize:UO},exit:WO,name:"list",tokenize:zO},MO={partial:!0,tokenize:HO},FO={partial:!0,tokenize:BO};function zO(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return u;function u(g){const b=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:Wh(g)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Iu,n,f)(g):f(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(g)}return n(g)}function c(g){return Wh(g)&&++a<10?(e.consume(g),c):(!r.interrupt||a<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),f(g)):n(g)}function f(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(Gl,r.interrupt?n:h,e.attempt(MO,v,p))}function h(g){return r.containerState.initialBlankLine=!0,o++,v(g)}function p(g){return Oe(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),v):n(g)}function v(g){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function UO(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Gl,s,o);function s(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Le(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!Oe(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(FO,t,a)(u))}function a(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Le(e,e.attempt(un,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function BO(e,t,n){const r=this;return Le(e,s,"listItemIndent",r.containerState.size+1);function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function WO(e){e.exit(this.containerState.type)}function HO(e,t,n){const r=this;return Le(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const a=r.events[r.events.length-1];return!Oe(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Aw={name:"setextUnderline",resolveTo:VO,tokenize:qO};function VO(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function qO(e,t,n){const r=this;let s;return o;function o(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),s=f,a(f)):n(f)}function a(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===s?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Oe(f)?Le(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||_e(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const YO={tokenize:KO};function KO(e){const t=this,n=e.attempt(Gl,r,e.attempt(this.parser.constructs.flowInitial,s,Le(e,e.attempt(this.parser.constructs.flow,s,e.attempt(ZA,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const GO={resolveAll:ek()},JO=Zb("string"),QO=Zb("text");function Zb(e){return{resolveAll:ek(e==="text"?XO:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,a,u);return a;function a(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const p=s[h];let v=-1;if(p)for(;++v<p.length;){const g=p[v];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function ek(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function XO(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,a=-1,u=0,c;for(;o--;){const f=s[o];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)u++,a--;if(a)break;a=-1}else if(f===-2)c=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const ZO={42:un,43:un,45:un,48:un,49:un,50:un,51:un,52:un,53:un,54:un,55:un,56:un,57:un,62:qb},eD={91:iO},tD={[-2]:Uf,[-1]:Uf,32:Uf},nD={35:cO,42:Iu,45:[Aw,Iu],60:pO,61:Aw,95:Iu,96:Rw,126:Rw},rD={38:Kb,92:Yb},iD={[-5]:Bf,[-4]:Bf,[-3]:Bf,33:PO,38:Kb,42:Hh,60:[OA,bO],91:OO,92:[aO,Yb],93:$p,95:Hh,96:YA},sD={null:[Hh,GO]},oD={null:[42,95]},lD={null:[]},aD=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:oD,contentInitial:eD,disable:lD,document:ZO,flow:nD,flowInitial:tD,insideSpan:sD,string:rD,text:iD},Symbol.toStringTag,{value:"Module"}));function uD(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let a=[],u=[];const c={attempt:K(B),check:K(A),consume:N,enter:R,exit:z,interrupt:K(A,{interrupt:!0})},f={code:null,containerState:{},defineSkip:S,events:[],now:b,parser:e,previous:null,sliceSerialize:v,sliceStream:g,write:p};let h=t.tokenize.call(f,c);return t.resolveAll&&o.push(t),f;function p(L){return a=Fn(a,L),E(),a[a.length-1]!==null?[]:(ne(t,0),f.events=kc(o,f.events,f),f.events)}function v(L,X){return dD(g(L),X)}function g(L){return cD(a,L)}function b(){const{_bufferIndex:L,_index:X,line:G,column:O,offset:W}=r;return{_bufferIndex:L,_index:X,line:G,column:O,offset:W}}function S(L){s[L.line]=L.column,D()}function E(){let L;for(;r._index<a.length;){const X=a[r._index];if(typeof X=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<X.length;)C(X.charCodeAt(r._bufferIndex));else C(X)}}function C(L){h=h(L)}function N(L){_e(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,D()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=L}function R(L,X){const G=X||{};return G.type=L,G.start=b(),f.events.push(["enter",G,f]),u.push(G),G}function z(L){const X=u.pop();return X.end=b(),f.events.push(["exit",X,f]),X}function B(L,X){ne(L,X.from)}function A(L,X){X.restore()}function K(L,X){return G;function G(O,W,$){let U,P,q,T;return Array.isArray(O)?M(O):"tokenize"in O?M([O]):I(O);function I(Z){return se;function se(ue){const pe=ue!==null&&Z[ue],he=ue!==null&&Z.null,Ie=[...Array.isArray(pe)?pe:pe?[pe]:[],...Array.isArray(he)?he:he?[he]:[]];return M(Ie)(ue)}}function M(Z){return U=Z,P=0,Z.length===0?$:_(Z[P])}function _(Z){return se;function se(ue){return T=ie(),q=Z,Z.partial||(f.currentConstruct=Z),Z.name&&f.parser.constructs.disable.null.includes(Z.name)?te():Z.tokenize.call(X?Object.assign(Object.create(f),X):f,c,Y,te)(ue)}}function Y(Z){return L(q,T),W}function te(Z){return T.restore(),++P<U.length?_(U[P]):$}}}function ne(L,X){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&En(f.events,X,f.events.length-X,L.resolve(f.events.slice(X),f)),L.resolveTo&&(f.events=L.resolveTo(f.events,f))}function ie(){const L=b(),X=f.previous,G=f.currentConstruct,O=f.events.length,W=Array.from(u);return{from:O,restore:$};function $(){r=L,f.previous=X,f.currentConstruct=G,f.events.length=O,u=W,D()}}function D(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function cD(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,o)];else{if(a=e.slice(n,s),r>-1){const u=a[0];typeof u=="string"?a[0]=u.slice(r):a.shift()}o>0&&a.push(e[s].slice(0,o))}return a}function dD(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(o)}s=o===-2,r.push(a)}return r.join("")}function fD(e){const r={constructs:Hb([aD,...(e||{}).extensions||[]]),content:s(jA),defined:[],document:s(IA),flow:s(YO),lazy:{},string:s(JO),text:s(QO)};return r;function s(o){return a;function a(u){return uD(r,o,u)}}}function hD(e){for(;!Gb(e););return e}const Ow=/[\0\t\n\r]/g;function pD(){let e=1,t="",n=!0,r;return s;function s(o,a,u){const c=[];let f,h,p,v,g;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(Ow.lastIndex=p,f=Ow.exec(o),v=f&&f.index!==void 0?f.index:o.length,g=o.charCodeAt(v),!f){t=o.slice(p);break}if(g===10&&p===v&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<v&&(c.push(o.slice(p,v)),e+=v-p),g){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}p=v+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const mD=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gD(e){return e.replace(mD,vD)}function vD(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return Vb(n.slice(o?2:1),o?16:10)}return Lp(n)||e}const tk={}.hasOwnProperty;function yD(e,t,n){return typeof t!="string"&&(n=t,t=void 0),wD(n)(hD(fD(n).document().write(pD()(e,t,!0))))}function wD(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(or),autolinkProtocol:ie,autolinkEmail:ie,atxHeading:o(Cn),blockQuote:o(he),characterEscape:ie,characterReference:ie,codeFenced:o(Ie),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Ie,a),codeText:o($e,a),codeTextData:ie,data:ie,codeFlowValue:ie,definition:o(Ue),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(ct),hardBreakEscape:o(jn),hardBreakTrailing:o(jn),htmlFlow:o(jr,a),htmlFlowData:ie,htmlText:o(jr,a),htmlTextData:ie,image:o(Ti),label:a,link:o(or),listItem:o(hn),listItemValue:v,listOrdered:o(Nt,p),listUnordered:o(Nt),paragraph:o(lr),reference:_,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(Cn),strong:o(Ii),thematicBreak:o(hs)},exit:{atxHeading:c(),atxHeadingSequence:B,autolink:c(),autolinkEmail:pe,autolinkProtocol:ue,blockQuote:c(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:Z,characterReference:se,codeFenced:c(E),codeFencedFence:S,codeFencedFenceInfo:g,codeFencedFenceMeta:b,codeFlowValue:D,codeIndented:c(C),codeText:c(W),codeTextData:D,data:D,definition:c(),definitionDestinationString:z,definitionLabelString:N,definitionTitleString:R,emphasis:c(),hardBreakEscape:c(X),hardBreakTrailing:c(X),htmlFlow:c(G),htmlFlowData:D,htmlText:c(O),htmlTextData:D,image:c(U),label:q,labelText:P,lineEnding:L,link:c($),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Y,resourceDestinationString:T,resourceTitleString:I,resource:M,setextHeading:c(ne),setextHeadingLineSequence:K,setextHeadingText:A,strong:c(),thematicBreak:c()}};nk(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(re){let de={type:"root",children:[]};const be={stack:[de],tokenStack:[],config:t,enter:u,exit:f,buffer:a,resume:h,data:n},Ne=[];let De=-1;for(;++De<re.length;)if(re[De][1].type==="listOrdered"||re[De][1].type==="listUnordered")if(re[De][0]==="enter")Ne.push(De);else{const Ye=Ne.pop();De=s(re,Ye,De)}for(De=-1;++De<re.length;){const Ye=t[re[De][0]];tk.call(Ye,re[De][1].type)&&Ye[re[De][1].type].call(Object.assign({sliceSerialize:re[De][2].sliceSerialize},be),re[De][1])}if(be.tokenStack.length>0){const Ye=be.tokenStack[be.tokenStack.length-1];(Ye[1]||Dw).call(be,void 0,Ye[0])}for(de.position={start:hi(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:hi(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<t.transforms.length;)de=t.transforms[De](de)||de;return de}function s(re,de,be){let Ne=de-1,De=-1,Ye=!1,Tn,Zt,ar,Un;for(;++Ne<=be;){const ht=re[Ne];switch(ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ht[0]==="enter"?De++:De--,Un=void 0;break}case"lineEndingBlank":{ht[0]==="enter"&&(Tn&&!Un&&!De&&!ar&&(ar=Ne),Un=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Un=void 0}if(!De&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||De===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(Tn){let In=Ne;for(Zt=void 0;In--;){const At=re[In];if(At[1].type==="lineEnding"||At[1].type==="lineEndingBlank"){if(At[0]==="exit")continue;Zt&&(re[Zt][1].type="lineEndingBlank",Ye=!0),At[1].type="lineEnding",Zt=In}else if(!(At[1].type==="linePrefix"||At[1].type==="blockQuotePrefix"||At[1].type==="blockQuotePrefixWhitespace"||At[1].type==="blockQuoteMarker"||At[1].type==="listItemIndent"))break}ar&&(!Zt||ar<Zt)&&(Tn._spread=!0),Tn.end=Object.assign({},Zt?re[Zt][1].start:ht[1].end),re.splice(Zt||Ne,0,["exit",Tn,ht[2]]),Ne++,be++}if(ht[1].type==="listItemPrefix"){const In={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0};Tn=In,re.splice(Ne,0,["enter",In,ht[2]]),Ne++,be++,ar=void 0,Un=!0}}}return re[de][1]._spread=Ye,be}function o(re,de){return be;function be(Ne){u.call(this,re(Ne),Ne),de&&de.call(this,Ne)}}function a(){this.stack.push({type:"fragment",children:[]})}function u(re,de,be){this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([de,be||void 0]),re.position={start:hi(de.start),end:void 0}}function c(re){return de;function de(be){re&&re.call(this,be),f.call(this,be)}}function f(re,de){const be=this.stack.pop(),Ne=this.tokenStack.pop();if(Ne)Ne[0].type!==re.type&&(de?de.call(this,re,Ne[0]):(Ne[1]||Dw).call(this,re,Ne[0]));else throw new Error("Cannot close `"+re.type+"` ("+kl({start:re.start,end:re.end})+"): it’s not open");be.position.end=hi(re.end)}function h(){return Dp(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(re){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(re),10),this.data.expectingFirstListItemValue=void 0}}function g(){const re=this.resume(),de=this.stack[this.stack.length-1];de.lang=re}function b(){const re=this.resume(),de=this.stack[this.stack.length-1];de.meta=re}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const re=this.resume(),de=this.stack[this.stack.length-1];de.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const re=this.resume(),de=this.stack[this.stack.length-1];de.value=re.replace(/(\r?\n|\r)$/g,"")}function N(re){const de=this.resume(),be=this.stack[this.stack.length-1];be.label=de,be.identifier=nr(this.sliceSerialize(re)).toLowerCase()}function R(){const re=this.resume(),de=this.stack[this.stack.length-1];de.title=re}function z(){const re=this.resume(),de=this.stack[this.stack.length-1];de.url=re}function B(re){const de=this.stack[this.stack.length-1];if(!de.depth){const be=this.sliceSerialize(re).length;de.depth=be}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function K(re){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(re).codePointAt(0)===61?1:2}function ne(){this.data.setextHeadingSlurpLineEnding=void 0}function ie(re){const be=this.stack[this.stack.length-1].children;let Ne=be[be.length-1];(!Ne||Ne.type!=="text")&&(Ne=Ni(),Ne.position={start:hi(re.start),end:void 0},be.push(Ne)),this.stack.push(Ne)}function D(re){const de=this.stack.pop();de.value+=this.sliceSerialize(re),de.position.end=hi(re.end)}function L(re){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=de.children[de.children.length-1];be.position.end=hi(re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(de.type)&&(ie.call(this,re),D.call(this,re))}function X(){this.data.atHardBreak=!0}function G(){const re=this.resume(),de=this.stack[this.stack.length-1];de.value=re}function O(){const re=this.resume(),de=this.stack[this.stack.length-1];de.value=re}function W(){const re=this.resume(),de=this.stack[this.stack.length-1];de.value=re}function $(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=de,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function U(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=de,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function P(re){const de=this.sliceSerialize(re),be=this.stack[this.stack.length-2];be.label=gD(de),be.identifier=nr(de).toLowerCase()}function q(){const re=this.stack[this.stack.length-1],de=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Ne=re.children;be.children=Ne}else be.alt=de}function T(){const re=this.resume(),de=this.stack[this.stack.length-1];de.url=re}function I(){const re=this.resume(),de=this.stack[this.stack.length-1];de.title=re}function M(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function Y(re){const de=this.resume(),be=this.stack[this.stack.length-1];be.label=de,be.identifier=nr(this.sliceSerialize(re)).toLowerCase(),this.data.referenceType="full"}function te(re){this.data.characterReferenceType=re.type}function Z(re){const de=this.sliceSerialize(re),be=this.data.characterReferenceType;let Ne;be?(Ne=Vb(de,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ne=Lp(de);const De=this.stack[this.stack.length-1];De.value+=Ne}function se(re){const de=this.stack.pop();de.position.end=hi(re.end)}function ue(re){D.call(this,re);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(re)}function pe(re){D.call(this,re);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(re)}function he(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function Ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ct(){return{type:"emphasis",children:[]}}function Cn(){return{type:"heading",depth:0,children:[]}}function jn(){return{type:"break"}}function jr(){return{type:"html",value:""}}function Ti(){return{type:"image",title:null,url:"",alt:null}}function or(){return{type:"link",title:null,url:"",children:[]}}function Nt(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function hn(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function lr(){return{type:"paragraph",children:[]}}function Ii(){return{type:"strong",children:[]}}function Ni(){return{type:"text",value:""}}function hs(){return{type:"thematicBreak"}}}function hi(e){return{line:e.line,column:e.column,offset:e.offset}}function nk(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?nk(e,r):xD(e,r)}}function xD(e,t){let n;for(n in t)if(tk.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Dw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+kl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+kl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+kl({start:t.start,end:t.end})+") is still open")}function bD(e){const t=this;t.parser=n;function n(r){return yD(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function kD(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function SD(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ED(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function _D(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function CD(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jD(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=xo(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,f),e.applyData(t,f)}function TD(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ID(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rk(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function ND(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rk(e,t);const s={src:xo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function RD(e,t){const n={src:xo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function PD(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function AD(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rk(e,t);const s={href:xo(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function OD(e,t){const n={href:xo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function DD(e,t,n){const r=e.all(t),s=n?LD(n):ik(t),o={},a=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(s||u!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!s?a.push(...h.children):a.push(h)}const c=r[r.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,f),e.applyData(t,f)}function LD(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=ik(n[r])}return t}function ik(e){const t=e.spread;return t??e.children.length>1}function $D(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function MD(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function FD(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function zD(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UD(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=Rp(t.children[1]),c=$b(t.children[t.children.length-1]);u&&c&&(a.position={start:u,end:c}),s.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function BD(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,u=a?a.length:t.children.length;let c=-1;const f=[];for(;++c<u;){const p=t.children[c],v={},g=a?a[c]:void 0;g&&(v.align=g);let b={type:"element",tagName:o,properties:v,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),f.push(b)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function WD(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Lw=9,$w=32;function HD(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(Mw(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(Mw(t.slice(s),s>0,!1)),o.join("")}function Mw(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===Lw||o===$w;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===Lw||o===$w;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function VD(e,t){const n={type:"text",value:HD(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function qD(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const YD={blockquote:kD,break:SD,code:ED,delete:_D,emphasis:CD,footnoteReference:jD,heading:TD,html:ID,imageReference:ND,image:RD,inlineCode:PD,linkReference:AD,link:OD,listItem:DD,list:$D,paragraph:MD,root:FD,strong:zD,table:UD,tableCell:WD,tableRow:BD,text:VD,thematicBreak:qD,toml:vu,yaml:vu,definition:vu,footnoteDefinition:vu};function vu(){}const sk=-1,Sc=0,El=1,Yu=2,Mp=3,Fp=4,zp=5,Up=6,ok=7,lk=8,Fw=typeof self=="object"?self:globalThis,KD=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,a]=t[s];switch(o){case Sc:case sk:return n(a,s);case El:{const u=n([],s);for(const c of a)u.push(r(c));return u}case Yu:{const u=n({},s);for(const[c,f]of a)u[r(c)]=r(f);return u}case Mp:return n(new Date(a),s);case Fp:{const{source:u,flags:c}=a;return n(new RegExp(u,c),s)}case zp:{const u=n(new Map,s);for(const[c,f]of a)u.set(r(c),r(f));return u}case Up:{const u=n(new Set,s);for(const c of a)u.add(r(c));return u}case ok:{const{name:u,message:c}=a;return n(new Fw[u](c),s)}case lk:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:u}=new Uint8Array(a);return n(new DataView(u),a)}}return n(new Fw[o](a),s)};return r},zw=e=>KD(new Map,e)(0),Ks="",{toString:GD}={},{keys:JD}=Object,cl=e=>{const t=typeof e;if(t!=="object"||!e)return[Sc,t];const n=GD.call(e).slice(8,-1);switch(n){case"Array":return[El,Ks];case"Object":return[Yu,Ks];case"Date":return[Mp,Ks];case"RegExp":return[Fp,Ks];case"Map":return[zp,Ks];case"Set":return[Up,Ks];case"DataView":return[El,n]}return n.includes("Array")?[El,n]:n.includes("Error")?[ok,n]:[Yu,n]},yu=([e,t])=>e===Sc&&(t==="function"||t==="symbol"),QD=(e,t,n,r)=>{const s=(a,u)=>{const c=r.push(a)-1;return n.set(u,c),c},o=a=>{if(n.has(a))return n.get(a);let[u,c]=cl(a);switch(u){case Sc:{let h=a;switch(c){case"bigint":u=lk,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return s([sk],a)}return s([u,h],a)}case El:{if(c){let v=a;return c==="DataView"?v=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(a)),s([c,[...v]],a)}const h=[],p=s([u,h],a);for(const v of a)h.push(o(v));return p}case Yu:{if(c)switch(c){case"BigInt":return s([c,a.toString()],a);case"Boolean":case"Number":case"String":return s([c,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const h=[],p=s([u,h],a);for(const v of JD(a))(e||!yu(cl(a[v])))&&h.push([o(v),o(a[v])]);return p}case Mp:return s([u,a.toISOString()],a);case Fp:{const{source:h,flags:p}=a;return s([u,{source:h,flags:p}],a)}case zp:{const h=[],p=s([u,h],a);for(const[v,g]of a)(e||!(yu(cl(v))||yu(cl(g))))&&h.push([o(v),o(g)]);return p}case Up:{const h=[],p=s([u,h],a);for(const v of a)(e||!yu(cl(v)))&&h.push(o(v));return p}}const{message:f}=a;return s([u,{name:c,message:f}],a)};return o},Uw=(e,{json:t,lossy:n}={})=>{const r=[];return QD(!(t||n),!!t,new Map,r)(e),r},Ku=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?zw(Uw(e,t)):structuredClone(e):(e,t)=>zw(Uw(e,t));function XD(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function ZD(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function e2(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||XD,r=e.options.footnoteBackLabel||ZD,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const h=e.all(f),p=String(f.identifier).toUpperCase(),v=xo(p.toLowerCase());let g=0;const b=[],S=e.footnoteCounts.get(p);for(;S!==void 0&&++g<=S;){b.length>0&&b.push({type:"text",value:" "});let N=typeof n=="string"?n:n(c,g);typeof N=="string"&&(N={type:"text",value:N}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,g),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const E=h[h.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const N=E.children[E.children.length-1];N&&N.type==="text"?N.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...b)}else h.push(...b);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(h,!0)};e.patch(f,C),u.push(C)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Ku(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Ec=(function(e){if(e==null)return i2;if(typeof e=="function")return _c(e);if(typeof e=="object")return Array.isArray(e)?t2(e):n2(e);if(typeof e=="string")return r2(e);throw new Error("Expected function, string, or object as test")});function t2(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ec(e[n]);return _c(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function n2(e){const t=e;return _c(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function r2(e){return _c(t);function t(n){return n&&n.type===e}}function _c(e){return t;function t(n,r,s){return!!(s2(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function i2(){return!0}function s2(e){return e!==null&&typeof e=="object"&&"type"in e}const ak=[],o2=!0,Vh=!1,l2="skip";function uk(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=Ec(s),a=r?-1:1;u(e,void 0,[])();function u(c,f,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return v;function v(){let g=ak,b,S,E;if((!t||o(c,f,h[h.length-1]||void 0))&&(g=a2(n(c,h)),g[0]===Vh))return g;if("children"in c&&c.children){const C=c;if(C.children&&g[0]!==l2)for(S=(r?C.children.length:-1)+a,E=h.concat(C);S>-1&&S<C.children.length;){const N=C.children[S];if(b=u(N,S,E)(),b[0]===Vh)return b;S=typeof b[1]=="number"?b[1]:S+a}}return g}}}function a2(e){return Array.isArray(e)?e:typeof e=="number"?[o2,e]:e==null?ak:[e]}function Cc(e,t,n,r){let s,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,s=n):(o=t,a=n,s=r),uk(e,o,u,s);function u(c,f){const h=f[f.length-1],p=h?h.children.indexOf(c):void 0;return a(c,p,h)}}const qh={}.hasOwnProperty,u2={};function c2(e,t){const n=t||u2,r=new Map,s=new Map,o=new Map,a={...YD,...n.handlers},u={all:f,applyData:f2,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:a,one:c,options:n,patch:d2,wrap:p2};return Cc(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:s,v=String(h.identifier).toUpperCase();p.has(v)||p.set(v,h)}}),u;function c(h,p){const v=h.type,g=u.handlers[v];if(qh.call(u.handlers,v)&&g)return g(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in h){const{children:S,...E}=h,C=Ku(E);return C.children=u.all(h),C}return Ku(h)}return(u.options.unknownHandler||h2)(u,h,p)}function f(h){const p=[];if("children"in h){const v=h.children;let g=-1;for(;++g<v.length;){const b=u.one(v[g],h);if(b){if(g&&v[g-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=Bw(b.value)),!Array.isArray(b)&&b.type==="element")){const S=b.children[0];S&&S.type==="text"&&(S.value=Bw(S.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function d2(e,t){e.position&&(t.position=ZP(e))}function f2(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,Ku(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function h2(e,t){const n=t.data||{},r="value"in t&&!(qh.call(n,"hProperties")||qh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function p2(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Bw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ww(e,t){const n=c2(e,t),r=n.one(e,void 0),s=e2(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function m2(e,t){return e&&"run"in e?async function(n,r){const s=Ww(n,{file:r,...t});await e.run(s,r)}:function(n,r){return Ww(n,{file:r,...e||t})}}function Hw(e){if(e)throw e}var Wf,Vw;function g2(){if(Vw)return Wf;Vw=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},a=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return Wf=function c(){var f,h,p,v,g,b,S=arguments[0],E=1,C=arguments.length,N=!1;for(typeof S=="boolean"&&(N=S,S=arguments[1]||{},E=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});E<C;++E)if(f=arguments[E],f!=null)for(h in f)p=u(S,h),v=u(f,h),S!==v&&(N&&v&&(o(v)||(g=s(v)))?(g?(g=!1,b=p&&s(p)?p:[]):b=p&&o(p)?p:{},a(S,{name:h,newValue:c(N,b,v)})):typeof v<"u"&&a(S,{name:h,newValue:v}));return S},Wf}var v2=g2();const Hf=ho(v2);function Yh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function y2(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...s);function u(c,...f){const h=e[++o];let p=-1;if(c){a(c);return}for(;++p<s.length;)(f[p]===null||f[p]===void 0)&&(f[p]=s[p]);s=f,h?w2(h,u)(...f):a(null,...f)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function w2(e,t){let n;return r;function r(...a){const u=e.length>a.length;let c;u&&a.push(s);try{c=e.apply(this,a)}catch(f){const h=f;if(u&&n)throw h;return s(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(o,s):c instanceof Error?s(c):o(c))}function s(a,...u){n||(n=!0,t(a,...u))}function o(a){s(null,a)}}const vr={basename:x2,dirname:b2,extname:k2,join:S2,sep:"/"};function x2(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jl(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,u=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else a<0&&(o=!0,a=s+1),u>-1&&(e.codePointAt(s)===t.codePointAt(u--)?u<0&&(r=s):(u=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function b2(e){if(Jl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function k2(e){Jl(e);let t=e.length,n=-1,r=0,s=-1,o=0,a;for(;t--;){const u=e.codePointAt(t);if(u===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),u===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function S2(...e){let t=-1,n;for(;++t<e.length;)Jl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":E2(n)}function E2(e){Jl(e);const t=e.codePointAt(0)===47;let n=_2(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function _2(e,t){let n="",r=0,s=-1,o=0,a=-1,u,c;for(;++a<=e.length;){if(a<e.length)u=e.codePointAt(a);else{if(u===47)break;u=47}if(u===47){if(!(s===a-1||o===1))if(s!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),s=a,o=0;continue}}else if(n.length>0){n="",r=0,s=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,o=0}else u===46&&o>-1?o++:o=-1}return n}function Jl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const C2={cwd:j2};function j2(){return"/"}function Kh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function T2(e){if(typeof e=="string")e=new URL(e);else if(!Kh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return I2(e)}function I2(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Vf=["history","path","basename","stem","extname","dirname"];class ck{constructor(t){let n;t?Kh(t)?n={path:t}:typeof t=="string"||N2(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":C2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Vf.length;){const o=Vf[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Vf.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?vr.basename(this.path):void 0}set basename(t){Yf(t,"basename"),qf(t,"basename"),this.path=vr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?vr.dirname(this.path):void 0}set dirname(t){qw(this.basename,"dirname"),this.path=vr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?vr.extname(this.path):void 0}set extname(t){if(qf(t,"extname"),qw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Kh(t)&&(t=T2(t)),Yf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?vr.basename(this.path,this.extname):void 0}set stem(t){Yf(t,"stem"),qf(t,"stem"),this.path=vr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Vt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function qf(e,t){if(e&&e.includes(vr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vr.sep+"`")}function Yf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function qw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function N2(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const R2=(function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),P2={}.hasOwnProperty;class Bp extends R2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=y2()}copy(){const t=new Bp;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Hf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Jf("data",this.frozen),this.namespace[t]=n,this):P2.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Jf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=wu(t),r=this.parser||this.Parser;return Kf("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Kf("process",this.parser||this.Parser),Gf("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,a){const u=wu(t),c=r.parse(u);r.run(c,u,function(h,p,v){if(h||!p||!v)return f(h);const g=p,b=r.stringify(g,v);D2(b)?v.value=b:v.result=b,f(h,v)});function f(h,p){h||!p?a(h):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Kf("processSync",this.parser||this.Parser),Gf("processSync",this.compiler||this.Compiler),this.process(t,s),Kw("processSync","process",n),r;function s(o,a){n=!0,Hw(o),r=a}}run(t,n,r){Yw(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,u){const c=wu(n);s.run(t,c,f);function f(h,p,v){const g=p||t;h?u(h):a?a(g):r(void 0,g,v)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),Kw("runSync","run",r),s;function o(a,u){Hw(a),s=u,r=!0}}stringify(t,n){this.freeze();const r=wu(n),s=this.compiler||this.Compiler;return Gf("stringify",s),Yw(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Jf("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;c(h,p)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(s.settings=Hf(!0,s.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let p=-1,v=-1;for(;++p<r.length;)if(r[p][0]===f){v=p;break}if(v===-1)r.push([f,...h]);else if(h.length>0){let[g,...b]=h;const S=r[v][1];Yh(S)&&Yh(g)&&(g=Hf(!0,S,g)),r[v]=[f,g,...b]}}}}const A2=new Bp().freeze();function Kf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Gf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Jf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Yw(e){if(!Yh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Kw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function wu(e){return O2(e)?e:new ck(e)}function O2(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function D2(e){return typeof e=="string"||L2(e)}function L2(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gw=[],Jw={allowDangerousHtml:!0},M2=/^(https?|ircs?|mailto|xmpp)$/i,F2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function z2(e){const t=U2(e),n=B2(e);return W2(t.runSync(t.parse(n),n),e)}function U2(e){const t=e.rehypePlugins||Gw,n=e.remarkPlugins||Gw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Jw}:Jw;return A2().use(bD).use(n).use(m2,r).use(t)}function B2(e){const t=e.children||"",n=new ck;return typeof t=="string"&&(n.value=t),n}function W2(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,a=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||H2;for(const h of F2)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+$2+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Cc(e,f),iA(e,{Fragment:x.Fragment,components:s,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function f(h,p,v){if(h.type==="raw"&&v&&typeof p=="number")return a?v.children.splice(p,1):v.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let g;for(g in zf)if(Object.hasOwn(zf,g)&&Object.hasOwn(h.properties,g)){const b=h.properties[g],S=zf[g];(S===null||S.includes(h.tagName))&&(h.properties[g]=c(String(b||""),g,h))}}if(h.type==="element"){let g=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!g&&r&&typeof p=="number"&&(g=!r(h,p,v)),g&&v&&typeof p=="number")return u&&h.children?v.children.splice(p,1,...h.children):v.children.splice(p,1),p}}}function H2(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||M2.test(e.slice(0,t))?e:""}function Qw(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function V2(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function q2(e,t,n){const s=Ec((n||{}).ignore||[]),o=Y2(t);let a=-1;for(;++a<o.length;)uk(e,"text",u);function u(f,h){let p=-1,v;for(;++p<h.length;){const g=h[p],b=v?v.children:void 0;if(s(g,b?b.indexOf(g):void 0,v))return;v=g}if(v)return c(f,h)}function c(f,h){const p=h[h.length-1],v=o[a][0],g=o[a][1];let b=0;const E=p.children.indexOf(f);let C=!1,N=[];v.lastIndex=0;let R=v.exec(f.value);for(;R;){const z=R.index,B={index:R.index,input:R.input,stack:[...h,f]};let A=g(...R,B);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?v.lastIndex=z+1:(b!==z&&N.push({type:"text",value:f.value.slice(b,z)}),Array.isArray(A)?N.push(...A):A&&N.push(A),b=z+R[0].length,C=!0),!v.global)break;R=v.exec(f.value)}return C?(b<f.value.length&&N.push({type:"text",value:f.value.slice(b)}),p.children.splice(E,1,...N)):N=[f],E+N.length}}function Y2(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([K2(s[0]),G2(s[1])])}return t}function K2(e){return typeof e=="string"?new RegExp(V2(e),"g"):e}function G2(e){return typeof e=="function"?e:function(){return e}}const Qf="phrasing",Xf=["autolink","link","image","label"];function J2(){return{transforms:[rL],enter:{literalAutolink:X2,literalAutolinkEmail:Zf,literalAutolinkHttp:Zf,literalAutolinkWww:Zf},exit:{literalAutolink:nL,literalAutolinkEmail:tL,literalAutolinkHttp:Z2,literalAutolinkWww:eL}}}function Q2(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Qf,notInConstruct:Xf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Qf,notInConstruct:Xf},{character:":",before:"[ps]",after:"\\/",inConstruct:Qf,notInConstruct:Xf}]}}function X2(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Zf(e){this.config.enter.autolinkProtocol.call(this,e)}function Z2(e){this.config.exit.autolinkProtocol.call(this,e)}function eL(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function tL(e){this.config.exit.autolinkEmail.call(this,e)}function nL(e){this.exit(e)}function rL(e){q2(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,iL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),sL]],{ignore:["link","linkReference"]})}function iL(e,t,n,r,s){let o="";if(!dk(s)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!oL(n)))return!1;const a=lL(n+r);if(!a[0])return!1;const u={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[u,{type:"text",value:a[1]}]:u}function sL(e,t,n,r){return!dk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function oL(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function lL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=Qw(e,"(");let o=Qw(e,")");for(;r!==-1&&s>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function dk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||os(n)||bc(n))&&(!t||n!==47)}fk.peek=gL;function aL(){this.buffer()}function uL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function cL(){this.buffer()}function dL(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function fL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=nr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function hL(e){this.exit(e)}function pL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=nr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function mL(e){this.exit(e)}function gL(){return"["}function fk(e,t,n,r){const s=n.createTracker(r);let o=s.move("[^");const a=n.enter("footnoteReference"),u=n.enter("reference");return o+=s.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),a(),o+=s.move("]"),o}function vL(){return{enter:{gfmFootnoteCallString:aL,gfmFootnoteCall:uL,gfmFootnoteDefinitionLabelString:cL,gfmFootnoteDefinition:dL},exit:{gfmFootnoteCallString:fL,gfmFootnoteCall:hL,gfmFootnoteDefinitionLabelString:pL,gfmFootnoteDefinition:mL}}}function yL(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:fk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,o,a){const u=o.createTracker(a);let c=u.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return c+=u.move(o.safe(o.associationId(r),{before:c,after:"]"})),h(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?hk:wL))),f(),c}}function wL(e,t,n){return t===0?e:hk(e,t,n)}function hk(e,t,n){return(n?"":"    ")+e}const xL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];pk.peek=_L;function bL(){return{canContainEols:["delete"],enter:{strikethrough:SL},exit:{strikethrough:EL}}}function kL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:xL}],handlers:{delete:pk}}}function SL(e){this.enter({type:"delete",children:[]},e)}function EL(e){this.exit(e)}function pk(e,t,n,r){const s=n.createTracker(r),o=n.enter("strikethrough");let a=s.move("~~");return a+=n.containerPhrasing(e,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),o(),a}function _L(){return"~"}function CL(e){return e.length}function jL(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||CL,o=[],a=[],u=[],c=[];let f=0,h=-1;for(;++h<e.length;){const S=[],E=[];let C=-1;for(e[h].length>f&&(f=e[h].length);++C<e[h].length;){const N=TL(e[h][C]);if(n.alignDelimiters!==!1){const R=s(N);E[C]=R,(c[C]===void 0||R>c[C])&&(c[C]=R)}S.push(N)}a[h]=S,u[h]=E}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)o[p]=Xw(r[p]);else{const S=Xw(r);for(;++p<f;)o[p]=S}p=-1;const v=[],g=[];for(;++p<f;){const S=o[p];let E="",C="";S===99?(E=":",C=":"):S===108?E=":":S===114&&(C=":");let N=n.alignDelimiters===!1?1:Math.max(1,c[p]-E.length-C.length);const R=E+"-".repeat(N)+C;n.alignDelimiters!==!1&&(N=E.length+N+C.length,N>c[p]&&(c[p]=N),g[p]=N),v[p]=R}a.splice(1,0,v),u.splice(1,0,g),h=-1;const b=[];for(;++h<a.length;){const S=a[h],E=u[h];p=-1;const C=[];for(;++p<f;){const N=S[p]||"";let R="",z="";if(n.alignDelimiters!==!1){const B=c[p]-(E[p]||0),A=o[p];A===114?R=" ".repeat(B):A===99?B%2?(R=" ".repeat(B/2+.5),z=" ".repeat(B/2-.5)):(R=" ".repeat(B/2),z=R):z=" ".repeat(B)}n.delimiterStart!==!1&&!p&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||p)&&C.push(" "),n.alignDelimiters!==!1&&C.push(R),C.push(N),n.alignDelimiters!==!1&&C.push(z),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&C.push("|")}b.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return b.join(`
`)}function TL(e){return e==null?"":String(e)}function Xw(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function IL(e,t,n,r){const s=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),NL);return s(),a}function NL(e,t,n){return">"+(n?"":" ")+e}function RL(e,t){return Zw(e,t.inConstruct,!0)&&!Zw(e,t.notInConstruct,!1)}function Zw(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function e0(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&RL(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function PL(e,t){const n=String(e);let r=n.indexOf(t),s=r,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++o>a&&(a=o):o=1,s=r+t.length,r=n.indexOf(t,s);return a}function AL(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function OL(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function DL(e,t,n,r){const s=OL(n),o=e.value||"",a=s==="`"?"GraveAccent":"Tilde";if(AL(e,n)){const p=n.enter("codeIndented"),v=n.indentLines(o,LL);return p(),v}const u=n.createTracker(r),c=s.repeat(Math.max(PL(o,s)+1,3)),f=n.enter("codeFenced");let h=u.move(c);if(e.lang){const p=n.enter(`codeFencedLang${a}`);h+=u.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...u.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${a}`);h+=u.move(" "),h+=u.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...u.current()})),p()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(c),f(),h}function LL(e,t,n){return(n?"":"    ")+e}function Wp(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function $L(e,t,n,r){const s=Wp(n),o=s==='"'?"Quote":"Apostrophe",a=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("[");return f+=c.move(n.safe(n.associationId(e),{before:f,after:"]",...c.current()})),f+=c.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+s),f+=c.move(n.safe(e.title,{before:f,after:s,...c.current()})),f+=c.move(s),u()),a(),f}function ML(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ll(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Gu(e,t,n){const r=fo(e),s=fo(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}mk.peek=FL;function mk(e,t,n,r){const s=ML(n),o=n.enter("emphasis"),a=n.createTracker(r),u=a.move(s);let c=a.move(n.containerPhrasing(e,{after:s,before:u,...a.current()}));const f=c.charCodeAt(0),h=Gu(r.before.charCodeAt(r.before.length-1),f,s);h.inside&&(c=Ll(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=Gu(r.after.charCodeAt(0),p,s);v.inside&&(c=c.slice(0,-1)+Ll(p));const g=a.move(s);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+g}function FL(e,t,n){return n.options.emphasis||"*"}function zL(e,t){let n=!1;return Cc(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Vh}),!!((!e.depth||e.depth<3)&&Dp(e)&&(t.options.setext||n))}function UL(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(zL(e,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),v=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),h(),v+`
`+(s===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const a="#".repeat(s),u=n.enter("headingAtx"),c=n.enter("phrasing");o.move(a+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Ll(f.charCodeAt(0))+f.slice(1)),f=f?a+" "+f:a,n.options.closeAtx&&(f+=" "+a),c(),u(),f}gk.peek=BL;function gk(e){return e.value||""}function BL(){return"<"}vk.peek=WL;function vk(e,t,n,r){const s=Wp(n),o=s==='"'?"Quote":"Apostrophe",a=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("![");return f+=c.move(n.safe(e.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":")",...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+s),f+=c.move(n.safe(e.title,{before:f,after:s,...c.current()})),f+=c.move(s),u()),f+=c.move(")"),a(),f}function WL(){return"!"}yk.peek=HL;function yk(e,t,n,r){const s=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const f=n.safe(e.alt,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return a(),n.stack=h,o(),s==="full"||!f||f!==p?c+=u.move(p+"]"):s==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function HL(){return"!"}wk.peek=VL;function wk(e,t,n){let r=e.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],u=n.compilePattern(a);let c;if(a.atBreak)for(;c=u.exec(r);){let f=c.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(c.index+1)}}return s+r+s}function VL(){return"`"}function xk(e,t){const n=Dp(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}bk.peek=qL;function bk(e,t,n,r){const s=Wp(n),o=s==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let u,c;if(xk(e,n)){const h=n.stack;n.stack=[],u=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),u(),n.stack=h,p}u=n.enter("link"),c=n.enter("label");let f=a.move("[");return f+=a.move(n.containerPhrasing(e,{before:f,after:"](",...a.current()})),f+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=a.move("<"),f+=a.move(n.safe(e.url,{before:f,after:">",...a.current()})),f+=a.move(">")):(c=n.enter("destinationRaw"),f+=a.move(n.safe(e.url,{before:f,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${o}`),f+=a.move(" "+s),f+=a.move(n.safe(e.title,{before:f,after:s,...a.current()})),f+=a.move(s),c()),f+=a.move(")"),u(),f}function qL(e,t,n){return xk(e,n)?"<":"["}kk.peek=YL;function kk(e,t,n,r){const s=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const f=n.containerPhrasing(e,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return a(),n.stack=h,o(),s==="full"||!f||f!==p?c+=u.move(p+"]"):s==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function YL(){return"["}function Hp(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function KL(e){const t=Hp(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function GL(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Sk(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function JL(e,t,n,r){const s=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?GL(n):Hp(n);const u=e.ordered?a==="."?")":".":KL(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Sk(n)===a&&h){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=u),n.bulletCurrent=a;const f=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,s(),f}function QL(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function XL(e,t,n,r){const s=QL(n);let o=n.bulletCurrent||Hp(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(a-o.length)),u.shift(a);const c=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),h);return c(),f;function h(p,v,g){return v?(g?"":" ".repeat(a))+p:(g?o:o+" ".repeat(a-o.length))+p}}function ZL(e,t,n,r){const s=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),s(),a}const e$=Ec(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function t$(e,t,n,r){return(e.children.some(function(a){return e$(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function n$(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Ek.peek=r$;function Ek(e,t,n,r){const s=n$(n),o=n.enter("strong"),a=n.createTracker(r),u=a.move(s+s);let c=a.move(n.containerPhrasing(e,{after:s,before:u,...a.current()}));const f=c.charCodeAt(0),h=Gu(r.before.charCodeAt(r.before.length-1),f,s);h.inside&&(c=Ll(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=Gu(r.after.charCodeAt(0),p,s);v.inside&&(c=c.slice(0,-1)+Ll(p));const g=a.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+g}function r$(e,t,n){return n.options.strong||"*"}function i$(e,t,n,r){return n.safe(e.value,r)}function s$(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function o$(e,t,n){const r=(Sk(n)+(n.options.ruleSpaces?" ":"")).repeat(s$(n));return n.options.ruleSpaces?r.slice(0,-1):r}const _k={blockquote:IL,break:e0,code:DL,definition:$L,emphasis:mk,hardBreak:e0,heading:UL,html:gk,image:vk,imageReference:yk,inlineCode:wk,link:bk,linkReference:kk,list:JL,listItem:XL,paragraph:ZL,root:t$,strong:Ek,text:i$,thematicBreak:o$};function l$(){return{enter:{table:a$,tableData:t0,tableHeader:t0,tableRow:c$},exit:{codeText:d$,table:u$,tableData:eh,tableHeader:eh,tableRow:eh}}}function a$(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function u$(e){this.exit(e),this.data.inTable=void 0}function c$(e){this.enter({type:"tableRow",children:[]},e)}function eh(e){this.exit(e)}function t0(e){this.enter({type:"tableCell",children:[]},e)}function d$(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,f$));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function f$(e,t){return t==="|"?t:e}function h$(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:a,tableCell:c,tableRow:u}};function a(g,b,S,E){return f(h(g,S,E),g.align)}function u(g,b,S,E){const C=p(g,S,E),N=f([C]);return N.slice(0,N.indexOf(`
`))}function c(g,b,S,E){const C=S.enter("tableCell"),N=S.enter("phrasing"),R=S.containerPhrasing(g,{...E,before:o,after:o});return N(),C(),R}function f(g,b){return jL(g,{align:b,alignDelimiters:r,padding:n,stringLength:s})}function h(g,b,S){const E=g.children;let C=-1;const N=[],R=b.enter("table");for(;++C<E.length;)N[C]=p(E[C],b,S);return R(),N}function p(g,b,S){const E=g.children;let C=-1;const N=[],R=b.enter("tableRow");for(;++C<E.length;)N[C]=c(E[C],g,b,S);return R(),N}function v(g,b,S){let E=_k.inlineCode(g,b,S);return S.stack.includes("tableCell")&&(E=E.replace(/\|/g,"\\$&")),E}}function p$(){return{exit:{taskListCheckValueChecked:n0,taskListCheckValueUnchecked:n0,paragraph:g$}}}function m$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:v$}}}function n0(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function g$(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let o=-1,a;for(;++o<s.length;){const u=s[o];if(u.type==="paragraph"){a=u;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function v$(e,t,n,r){const s=e.children[0],o=typeof e.checked=="boolean"&&s&&s.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(a);let c=_k.listItem(e,t,n,{...r,...u.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(h){return h+a}}function y$(){return[J2(),vL(),bL(),l$(),p$()]}function w$(e){return{extensions:[Q2(),yL(e),kL(),h$(e),m$()]}}const x$={tokenize:C$,partial:!0},Ck={tokenize:j$,partial:!0},jk={tokenize:T$,partial:!0},Tk={tokenize:I$,partial:!0},b$={tokenize:N$,partial:!0},Ik={name:"wwwAutolink",tokenize:E$,previous:Rk},Nk={name:"protocolAutolink",tokenize:_$,previous:Pk},Vr={name:"emailAutolink",tokenize:S$,previous:Ak},Cr={};function k$(){return{text:Cr}}let Yi=48;for(;Yi<123;)Cr[Yi]=Vr,Yi++,Yi===58?Yi=65:Yi===91&&(Yi=97);Cr[43]=Vr;Cr[45]=Vr;Cr[46]=Vr;Cr[95]=Vr;Cr[72]=[Vr,Nk];Cr[104]=[Vr,Nk];Cr[87]=[Vr,Ik];Cr[119]=[Vr,Ik];function S$(e,t,n){const r=this;let s,o;return a;function a(p){return!Gh(p)||!Ak.call(r,r.previous)||Vp(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(p))}function u(p){return Gh(p)?(e.consume(p),u):p===64?(e.consume(p),c):n(p)}function c(p){return p===46?e.check(b$,h,f)(p):p===45||p===95||Ht(p)?(o=!0,e.consume(p),c):h(p)}function f(p){return e.consume(p),s=!0,c}function h(p){return o&&s&&Gt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function E$(e,t,n){const r=this;return s;function s(a){return a!==87&&a!==119||!Rk.call(r,r.previous)||Vp(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(x$,e.attempt(Ck,e.attempt(jk,o),n),n)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function _$(e,t,n){const r=this;let s="",o=!1;return a;function a(p){return(p===72||p===104)&&Pk.call(r,r.previous)&&!Vp(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(p),e.consume(p),u):n(p)}function u(p){if(Gt(p)&&s.length<5)return s+=String.fromCodePoint(p),e.consume(p),u;if(p===58){const v=s.toLowerCase();if(v==="http"||v==="https")return e.consume(p),c}return n(p)}function c(p){return p===47?(e.consume(p),o?f:(o=!0,c)):n(p)}function f(p){return p===null||qu(p)||qe(p)||os(p)||bc(p)?n(p):e.attempt(Ck,e.attempt(jk,h),n)(p)}function h(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function C$(e,t,n){let r=0;return s;function s(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),s):a===46&&r===3?(e.consume(a),o):n(a)}function o(a){return a===null?n(a):t(a)}}function j$(e,t,n){let r,s,o;return a;function a(f){return f===46||f===95?e.check(Tk,c,u)(f):f===null||qe(f)||os(f)||f!==45&&bc(f)?c(f):(o=!0,e.consume(f),a)}function u(f){return f===95?r=!0:(s=r,r=void 0),e.consume(f),a}function c(f){return s||r||!o?n(f):t(f)}}function T$(e,t){let n=0,r=0;return s;function s(a){return a===40?(n++,e.consume(a),s):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(Tk,t,o)(a):a===null||qe(a)||os(a)?t(a):(e.consume(a),s)}function o(a){return a===41&&r++,e.consume(a),s}}function I$(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),s):u===60||u===null||qe(u)||os(u)?t(u):n(u)}function s(u){return u===null||u===40||u===91||qe(u)||os(u)?t(u):r(u)}function o(u){return Gt(u)?a(u):n(u)}function a(u){return u===59?(e.consume(u),r):Gt(u)?(e.consume(u),a):n(u)}}function N$(e,t,n){return r;function r(o){return e.consume(o),s}function s(o){return Ht(o)?n(o):t(o)}}function Rk(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||qe(e)}function Pk(e){return!Gt(e)}function Ak(e){return!(e===47||Gh(e))}function Gh(e){return e===43||e===45||e===46||e===95||Ht(e)}function Vp(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const R$={tokenize:F$,partial:!0};function P$(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:L$,continuation:{tokenize:$$},exit:M$}},text:{91:{name:"gfmFootnoteCall",tokenize:D$},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:A$,resolveTo:O$}}}}function A$(e,t,n){const r=this;let s=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;s--;){const c=r.events[s][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!a||!a._balanced)return n(c);const f=nr(r.sliceSerialize({start:a.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function O$(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function D$(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return u;function u(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(o>999||p===93&&!a||p===null||p===91||qe(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return s.includes(nr(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return qe(p)||(a=!0),o++,e.consume(p),p===92?h:f}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function L$(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,u;return c;function c(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(b)}function h(b){if(a>999||b===93&&!u||b===null||b===91||qe(b))return n(b);if(b===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return o=nr(r.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return qe(b)||(u=!0),a++,e.consume(b),b===92?p:h}function p(b){return b===91||b===92||b===93?(e.consume(b),a++,h):h(b)}function v(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),s.includes(o)||s.push(o),Le(e,g,"gfmFootnoteDefinitionWhitespace")):n(b)}function g(b){return t(b)}}function $$(e,t,n){return e.check(Gl,t,e.attempt(R$,t,n))}function M$(e){e.exit("gfmFootnoteDefinition")}function F$(e,t,n){const r=this;return Le(e,s,"gfmFootnoteDefinitionIndent",5);function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(o):n(o)}}function z$(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(a,u){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let f=c;for(;f--;)if(a[f][0]==="exit"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[f][1].end.offset-a[f][1].start.offset){a[c][1].type="strikethroughSequence",a[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[f][1].start),end:Object.assign({},a[c][1].end)},p={type:"strikethroughText",start:Object.assign({},a[f][1].end),end:Object.assign({},a[c][1].start)},v=[["enter",h,u],["enter",a[f][1],u],["exit",a[f][1],u],["enter",p,u]],g=u.parser.constructs.insideSpan.null;g&&En(v,v.length,0,kc(g,a.slice(f+1,c),u)),En(v,v.length,0,[["exit",p,u],["enter",a[c][1],u],["exit",a[c][1],u],["exit",h,u]]),En(a,f-1,c-f+3,v),c=f+v.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function o(a,u,c){const f=this.previous,h=this.events;let p=0;return v;function v(b){return f===126&&h[h.length-1][1].type!=="characterEscape"?c(b):(a.enter("strikethroughSequenceTemporary"),g(b))}function g(b){const S=fo(f);if(b===126)return p>1?c(b):(a.consume(b),p++,g);if(p<2&&!n)return c(b);const E=a.exit("strikethroughSequenceTemporary"),C=fo(b);return E._open=!C||C===2&&!!S,E._close=!S||S===2&&!!C,u(b)}}}class U${constructor(){this.map=[]}add(t,n,r){B$(this,t,n,r)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const o of s)t.push(o);s=r.pop()}this.map.length=0}}function B$(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function W$(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function H$(){return{flow:{null:{name:"table",tokenize:V$,resolveAll:q$}}}}function V$(e,t,n){const r=this;let s=0,o=0,a;return u;function u(D){let L=r.events.length-1;for(;L>-1;){const O=r.events[L][1].type;if(O==="lineEnding"||O==="linePrefix")L--;else break}const X=L>-1?r.events[L][1].type:null,G=X==="tableHead"||X==="tableRow"?A:c;return G===A&&r.parser.lazy[r.now().line]?n(D):G(D)}function c(D){return e.enter("tableHead"),e.enter("tableRow"),f(D)}function f(D){return D===124||(a=!0,o+=1),h(D)}function h(D){return D===null?n(D):_e(D)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),g):n(D):Oe(D)?Le(e,h,"whitespace")(D):(o+=1,a&&(a=!1,s+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),a=!0,h):(e.enter("data"),p(D)))}function p(D){return D===null||D===124||qe(D)?(e.exit("data"),h(D)):(e.consume(D),D===92?v:p)}function v(D){return D===92||D===124?(e.consume(D),p):p(D)}function g(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),a=!1,Oe(D)?Le(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):b(D))}function b(D){return D===45||D===58?E(D):D===124?(a=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),S):B(D)}function S(D){return Oe(D)?Le(e,E,"whitespace")(D):E(D)}function E(D){return D===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),C):D===45?(o+=1,C(D)):D===null||_e(D)?z(D):B(D)}function C(D){return D===45?(e.enter("tableDelimiterFiller"),N(D)):B(D)}function N(D){return D===45?(e.consume(D),N):D===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(D))}function R(D){return Oe(D)?Le(e,z,"whitespace")(D):z(D)}function z(D){return D===124?b(D):D===null||_e(D)?!a||s!==o?B(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):B(D)}function B(D){return n(D)}function A(D){return e.enter("tableRow"),K(D)}function K(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),K):D===null||_e(D)?(e.exit("tableRow"),t(D)):Oe(D)?Le(e,K,"whitespace")(D):(e.enter("data"),ne(D))}function ne(D){return D===null||D===124||qe(D)?(e.exit("data"),K(D)):(e.consume(D),D===92?ie:ne)}function ie(D){return D===92||D===124?(e.consume(D),ne):ne(D)}}function q$(e,t){let n=-1,r=!0,s=0,o=[0,0,0,0],a=[0,0,0,0],u=!1,c=0,f,h,p;const v=new U$;for(;++n<e.length;){const g=e[n],b=g[1];g[0]==="enter"?b.type==="tableHead"?(u=!1,c!==0&&(r0(v,t,c,f,h),h=void 0,c=0),f={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(n,0,[["enter",f,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,p=void 0,o=[0,0,0,0],a=[0,n+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(n,0,[["enter",h,t]])),s=b.type==="tableDelimiterRow"?2:h?3:1):s&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],p=xu(v,t,o,s,void 0,p),o=[0,0,0,0]),a[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],p=xu(v,t,o,s,void 0,p)),o=a,a=[o[1],n,0,0])):b.type==="tableHead"?(u=!0,c=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(c=n,o[1]!==0?(a[0]=a[1],p=xu(v,t,o,s,n,p)):a[1]!==0&&(p=xu(v,t,a,s,n,p)),s=0):s&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&r0(v,t,c,f,h),v.consume(t.events),n=-1;++n<t.events.length;){const g=t.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=W$(t.events,n))}return e}function xu(e,t,n,r,s,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},Zs(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=Zs(t.events,n[1]);if(o={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=Zs(t.events,n[2]),h=Zs(t.events,n[3]),p={type:u,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const v=t.events[n[2]],g=t.events[n[3]];if(v[1].end=Object.assign({},g[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,S=n[3]-n[2]-1;e.add(b,S,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return s!==void 0&&(o.end=Object.assign({},Zs(t.events,s)),e.add(s,0,[["exit",o,t]]),o=void 0),o}function r0(e,t,n,r,s){const o=[],a=Zs(t.events,n);s&&(s.end=Object.assign({},a),o.push(["exit",s,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function Zs(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Y$={name:"tasklistCheck",tokenize:G$};function K$(){return{text:{91:Y$}}}function G$(e,t,n){const r=this;return s;function s(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return qe(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(c)}function u(c){return _e(c)?t(c):Oe(c)?e.check({tokenize:J$},t,n)(c):n(c)}}function J$(e,t,n){return Le(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function Q$(e){return Hb([k$(),P$(),z$(e),H$(),K$()])}const X$={};function Z$(e){const t=this,n=e||X$,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(Q$(n)),o.push(y$()),a.push(w$(n))}const eM=e=>e!=null;function tM(){const e=Te(t=>t.works);return k.useMemo(()=>{const t=new Map;e.forEach(o=>{var c;const a=(c=o.name)==null?void 0:c.trim();if(!a)return;const u=t.get(a)??[];u.push(o),t.set(a,u)});const n=new Map,r=new Map;t.forEach((o,a)=>{o.length===1?n.set(a,o[0]):o.length>1&&r.set(a,o.filter(eM))});const s=Array.from(n.entries()).map(([o,a])=>({name:o,work:a}));return s.sort((o,a)=>a.name.length-o.name.length||o.name.localeCompare(a.name,"es")),{uniqueByName:n,duplicates:r,entries:s}},[e])}const nM=new RegExp("\\p{L}|\\p{N}","u"),i0=e=>e?nM.test(e):!1,rM=(e,t,n)=>{const r=t===0?void 0:e[t-1],s=n>=e.length?void 0:e[n];return!i0(r)&&!i0(s)},iM=(e,t)=>{const n=[];t.forEach(o=>{let a=0;for(;a<e.length;){const u=e.indexOf(o.name,a);if(u===-1)break;const c=u+o.name.length;rM(e,u,c)&&n.push({start:u,end:c,entry:o}),a=u+o.name.length}}),n.sort((o,a)=>o.start!==a.start?o.start-a.start:a.entry.name.length-o.entry.name.length);const r=[];let s=-1;return n.forEach(o=>{o.start<s||(r.push(o),s=o.end)}),r},sM=e=>e?new Set(["link","linkReference","definition","inlineCode","code"]).has(e.type):!0,oM=e=>{const t=(e==null?void 0:e.entries)??[];return t.length===0?()=>{}:n=>{Cc(n,"text",(r,s,o)=>{if(sM(o)||typeof s!="number"||!o)return;const u=r.value;if(!u)return;const c=iM(u,t);if(c.length===0)return;const f=[];let h=0;c.forEach(p=>{p.start>h&&f.push({type:"text",value:u.slice(h,p.start)}),f.push({type:"link",title:null,url:p.entry.href,children:[{type:"text",value:p.entry.name}]}),h=p.end}),h<u.length&&f.push({type:"text",value:u.slice(h)}),o.children.splice(s,1,...f)})}},lM=e=>{var f,h,p;const t="/sport-planner/".replace(/\/$/,""),r=`${t?`${t}/`:"/"}#/`,s=((f=e.href)==null?void 0:f.startsWith("#/"))??!1,o=((h=e.href)==null?void 0:h.startsWith(r))??!1,a=(((p=e.href)==null?void 0:p.startsWith("/"))??!1)||s||o,u=a?e.rel:e.rel??"noreferrer",c=a?e.target:e.target??"_blank";return x.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:c,rel:u})},aM={a:lM};function $l({content:e,enableWorkLinks:t=!1}){const{entries:n}=tM(),r=k.useMemo(()=>{if(!t||n.length===0)return null;const o="/sport-planner/".replace(/\/$/,""),u=`${o?`${o}/`:"/"}#/catalog`;return{entries:n.map(({name:c,work:f})=>({name:c,href:`${u}?workId=${encodeURIComponent(f.id)}`}))}},[t,n]),s=k.useMemo(()=>{const o=[Z$];return r&&o.push([oM,r]),o},[r]);return e?x.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:x.jsx(z2,{remarkPlugins:s,components:aM,children:e})}):null}function s0(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\d+(\.\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\d+:)+\d+$/.test(t)){const r=t.split(":").map(s=>Number(s));return r.some(s=>Number.isNaN(s))?null:r.reduce((s,o)=>s*60+o,0)}const n=t.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,s=n[2]?Number(n[2]):0,o=n[3]?Number(n[3]):0;if(r||s||o)return r*3600+s*60+o}return null}function uM(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const s=new URL(`https://www.youtube-nocookie.com/embed/${r}`),o=s0(t.searchParams.get("start")??t.searchParams.get("t"));o!==null&&s.searchParams.set("start",String(o));const a=s0(t.searchParams.get("end"));a!==null&&s.searchParams.set("end",String(a));const u=t.searchParams.get("list");return u&&s.searchParams.set("list",u),s.toString()}catch{return null}}function qp({url:e,title:t,maxWidth:n=300,className:r}){const s=e.trim();if(!s)return null;const o=uM(s);return o?x.jsx("div",{className:He("flex w-full justify-center",r),children:x.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:x.jsx("iframe",{src:o,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):x.jsx("div",{className:He("flex w-full justify-center",r),children:x.jsx("a",{href:s,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function Ju(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return Ju(t,t);const s=Number(r[1]),o=Number(r[2]);return Number.isNaN(s)||Number.isNaN(o)?Ju(t,t):(s*60+o)%1440}function Jh(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,s=n.toString().padStart(2,"0"),o=r.toString().padStart(2,"0");return`${s}:${o}`}const cM={present:"Presente",absent:"Ausente",pending:"Pendiente"},dM={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},fM=["present","absent"],hM={present:"Han venido",absent:"Faltan"},pM={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},mM="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",gM="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",vM="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",yM="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",wM="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",xM="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",bM=[];function kM(e){return We(e).locale("es").format("dddd, D [de] MMMM")}function SM(){const e=Te($=>$.sessions),t=Te($=>$.works),n=Te($=>$.objectives),r=Te($=>$.assistants),s=Te($=>$.setAttendanceActualStatus),o=Te($=>$.toggleSessionWorkCompletion),[a,u]=k.useState(new Set),c=k.useMemo(()=>[...e].sort(($,U)=>We($.date).valueOf()-We(U.date).valueOf()),[e]),f=We().format("YYYY-MM-DD"),h=k.useMemo(()=>c.find($=>$.date>=f)??c[c.length-1],[c,f]),[p,v]=k.useState(h==null?void 0:h.id);k.useEffect(()=>{!p&&h&&v(h.id)},[p,h]);const g=k.useMemo(()=>c.find($=>$.id===p)??h,[c,p,h]),b=k.useMemo(()=>new Map(n.map(U=>[U.id,U])),[n]),S=k.useMemo(()=>new Map(t.map(U=>[U.id,U])),[t]),E=k.useMemo(()=>Ju(g==null?void 0:g.startTime,"18:30"),[g==null?void 0:g.startTime]),C=k.useMemo(()=>{if(!g)return new Map;let $=0;const U=new Map;return g.workItems.forEach(P=>{const q=S.get(P.workId),T=P.customDurationMinutes??(q==null?void 0:q.estimatedMinutes)??0,I=Jh(E+$);U.set(P.id,{startLabel:I,duration:T}),$+=T}),U},[g,S,E]),N=k.useMemo(()=>r.filter($=>$.active).slice().sort(($,U)=>$.name.localeCompare(U.name,"es",{sensitivity:"base"})),[r]),R=(g==null?void 0:g.attendance)??bM,z=k.useMemo(()=>{const $=new Map;R.forEach(q=>{$.set(q.assistantId,q)});let U=0;N.forEach(q=>{var T;((T=$.get(q.id))==null?void 0:T.actualStatus)==="present"&&(U+=1)});const P={present:U,absent:Math.max(N.length-U,0)};return{map:$,summary:P}},[R,N]),B=z.map,A=z.summary,K=g?c.findIndex($=>$.id===g.id):-1,ne=K>0,ie=K>=0&&K<c.length-1,D=()=>{ne&&v(c[K-1].id)},L=()=>{ie&&v(c[K+1].id)},X=$=>{const U=$.target.value;if(!U)return;const P=c.find(q=>q.date===U);P&&v(P.id)},G=c.length===0,O=$=>{u(U=>{const P=new Set(U);return P.has($)?P.delete($):P.add($),P})},W=($,U)=>{g&&s(g.id,$,U)};return x.jsxs("div",{className:"space-y-3 sm:space-y-6",children:[G&&x.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[x.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:x.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:x.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:"Todavía no hay sesiones"}),x.jsx("p",{className:"max-w-md text-balance text-white/60",children:"Usa el planificador para crear tu primera sesión. Una vez guardada aparecerá aquí automáticamente."})]}),x.jsx(Js,{to:"/plan",className:"btn-primary",children:"Planificar sesión"})]}),g&&!G&&x.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[x.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[x.jsx("span",{className:"sm:hidden",children:"Sesión"}),x.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),x.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:kM(g.date)}),x.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:g.title})]}),x.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[x.jsxs("div",{className:"flex items-center justify-between gap-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"Duración estimada"}),x.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[g.workItems.map($=>{const U=S.get($.workId);return $.customDurationMinutes??(U==null?void 0:U.estimatedMinutes)??0}).reduce(($,U)=>$+U,0)||0," ","min"]})]}),x.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[x.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),x.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:(g==null?void 0:g.date)??f,onChange:X})]})]})]}),x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx("button",{type:"button",onClick:D,disabled:!ne,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"← Anterior"}),x.jsx("button",{type:"button",onClick:L,disabled:!ie,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente →"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx(Js,{to:"/plan",className:"btn-primary h-9 rounded-2xl px-4 text-xs font-semibold sm:h-10 sm:text-sm",children:"Abrir planificador"}),x.jsx(Js,{to:`/plan?session=${g.id}`,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",children:"Editar sesión"})]})]}),g.description&&x.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:x.jsx($l,{content:g.description})}),x.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[x.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),x.jsx("div",{className:"space-y-3 sm:space-y-4",children:g.workItems.map($=>{const U=S.get($.workId),P=U?b.get(U.objectiveId):void 0,q=a.has($.id),T=C.get($.id),I=(T==null?void 0:T.startLabel)??Jh(E),M=(T==null?void 0:T.duration)??$.customDurationMinutes??(U==null?void 0:U.estimatedMinutes)??0,_=($.focusLabel??"").trim(),Y=_.length>0,te=$.customDescriptionMarkdown??(U==null?void 0:U.descriptionMarkdown)??"",Z=te.trim().length>0,se=((U==null?void 0:U.videoUrls)??[]).map(Ie=>Ie.trim()).filter(Boolean),ue=se.length>0,pe=Z||ue,he=((U==null?void 0:U.subtitle)??"").trim();return x.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:P?{background:`linear-gradient(120deg, ${P.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:x.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:$.completed??!1,onChange:Ie=>o(g.id,$.id,Ie.target.checked)})}),x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"text-lg font-semibold text-white",children:[(U==null?void 0:U.name)??"Trabajo eliminado",Y?x.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",_]}):null]}),he?x.jsx("p",{className:"text-sm text-white/70",children:he}):null,x.jsxs("p",{className:"text-sm text-white/60",children:[x.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:I}),x.jsx("span",{className:"mx-2 text-white/30",children:"·"}),x.jsxs("span",{children:[M," min"]})]})]}),x.jsx(Ur,{objective:P,size:"sm"})]}),(pe||ue)&&x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[pe?x.jsxs("button",{type:"button",onClick:()=>O($.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:He("transition-transform",q?"rotate-90":"rotate-0"),children:"▶"}),q?"Ocultar detalles":"Ver detalles"]}):null,ue?x.jsxs("span",{children:[se.length," vídeo",se.length>1?"s":""]}):null]})]}),x.jsx("div",{className:He("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",$.completed?"bg-white/20 text-white":""),children:$.order+1})]}),pe&&q&&x.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[Z?x.jsx($l,{content:te,enableWorkLinks:!0}):null,ue?x.jsx("div",{className:"space-y-3",children:se.map((Ie,$e)=>x.jsxs("div",{className:"space-y-2",children:[x.jsx(qp,{url:Ie,title:`${(U==null?void 0:U.name)??"Trabajo"} vídeo ${$e+1}`}),x.jsx("a",{href:Ie,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${$.id}-video-${$e}`))}):null]})]},$.id)})})]}),r.length===0?x.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"¿Quiénes participan?"}),x.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quién ha venido a clase en tiempo real."}),x.jsx(Js,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):N.length===0?x.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[x.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes están inactivos."}),x.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la sección de asistentes para poder marcar su asistencia."}),x.jsx(Js,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):x.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),x.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quién está presente en la sesión actual."})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:fM.map($=>x.jsxs("span",{className:He("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",pM[$]),children:[A[$]," ",hM[$]]},$))})]}),x.jsx("div",{className:"space-y-2",children:N.map($=>{const U=B.get($.id),P=(U==null?void 0:U.status)??"pending",q=(U==null?void 0:U.actualStatus)==="present",T=()=>W($.id,q?"absent":"present");return x.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:x.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:$.name}),x.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsión"}),x.jsx("span",{className:He("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",dM[P]),children:cM[P]}),x.jsx("span",{className:"hidden text-white/30 sm:inline",children:"·"}),x.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),x.jsx("span",{className:He("font-semibold",q?"text-emerald-200":"text-white/60"),children:q?"Presente":"No asistió"})]})]}),x.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[x.jsxs("button",{type:"button",onClick:T,"aria-pressed":q,"aria-label":`${q?"Desmarcar asistencia de":"Marcar asistencia de"} ${$.name}`,title:q?"Desmarcar asistencia":"Marcar como presente",className:He(mM,q?gM:vM),children:[x.jsx("span",{className:He(yM,q?wM:xM),children:q?x.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:x.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):x.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),x.jsx("span",{children:q?"Ha asistido":"Marcar asistencia"})]}),x.jsx("span",{className:He("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",q?"text-emerald-200":"text-white/40"),children:q?"PRESENTE":"AUSENTE"})]})]})},$.id)})})]})]})]})}function EM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const jc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Yp(e){return"nodeType"in e}function fn(e){var t,n;return e?bo(e)?e:Yp(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Kp(e){const{Document:t}=fn(e);return e instanceof t}function Ql(e){return bo(e)?!1:e instanceof fn(e).HTMLElement}function Ok(e){return e instanceof fn(e).SVGElement}function ko(e){return e?bo(e)?e.document:Yp(e)?Kp(e)?e:Ql(e)||Ok(e)?e.ownerDocument:document:document:document}const Sr=jc?k.useLayoutEffect:k.useEffect;function Gp(e){const t=k.useRef(e);return Sr(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function _M(){const e=k.useRef(null),t=k.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ml(e,t){t===void 0&&(t=[e]);const n=k.useRef(e);return Sr(()=>{n.current!==e&&(n.current=e)},t),n}function Xl(e,t){const n=k.useRef();return k.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Qu(e){const t=Gp(e),n=k.useRef(null),r=k.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Qh(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let th={};function Zl(e,t){return k.useMemo(()=>{if(t)return t;const n=th[e]==null?0:th[e]+1;return th[e]=n,e+"-"+n},[e,t])}function Dk(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,a)=>{const u=Object.entries(a);for(const[c,f]of u){const h=o[c];h!=null&&(o[c]=h+e*f)}return o},{...t})}}const oo=Dk(1),Xu=Dk(-1);function CM(e){return"clientX"in e&&"clientY"in e}function Jp(e){if(!e)return!1;const{KeyboardEvent:t}=fn(e.target);return t&&e instanceof t}function jM(e){if(!e)return!1;const{TouchEvent:t}=fn(e.target);return t&&e instanceof t}function Xh(e){if(jM(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return CM(e)?{x:e.clientX,y:e.clientY}:null}const Fl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Fl.Translate.toString(e),Fl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),o0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function TM(e){return e.matches(o0)?e:e.querySelector(o0)}const IM={display:"none"};function NM(e){let{id:t,value:n}=e;return me.createElement("div",{id:t,style:IM},n)}function RM(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return me.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function PM(){const[e,t]=k.useState("");return{announce:k.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Lk=k.createContext(null);function AM(e){const t=k.useContext(Lk);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function OM(){const[e]=k.useState(()=>new Set),t=k.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[k.useCallback(r=>{let{type:s,event:o}=r;e.forEach(a=>{var u;return(u=a[s])==null?void 0:u.call(a,o)})},[e]),t]}const DM={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},LM={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function $M(e){let{announcements:t=LM,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=DM}=e;const{announce:o,announcement:a}=PM(),u=Zl("DndLiveRegion"),[c,f]=k.useState(!1);if(k.useEffect(()=>{f(!0)},[]),AM(k.useMemo(()=>({onDragStart(p){let{active:v}=p;o(t.onDragStart({active:v}))},onDragMove(p){let{active:v,over:g}=p;t.onDragMove&&o(t.onDragMove({active:v,over:g}))},onDragOver(p){let{active:v,over:g}=p;o(t.onDragOver({active:v,over:g}))},onDragEnd(p){let{active:v,over:g}=p;o(t.onDragEnd({active:v,over:g}))},onDragCancel(p){let{active:v,over:g}=p;o(t.onDragCancel({active:v,over:g}))}}),[o,t])),!c)return null;const h=me.createElement(me.Fragment,null,me.createElement(NM,{id:r,value:s.draggable}),me.createElement(RM,{id:u,announcement:a}));return n?kn.createPortal(h,n):h}var St;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(St||(St={}));function Zu(){}const sr=Object.freeze({x:0,y:0});function MM(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function FM(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function zM(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function UM(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function l0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const BM=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=l0(t,t.left,t.top),o=[];for(const a of r){const{id:u}=a,c=n.get(u);if(c){const f=MM(l0(c),s);o.push({id:u,data:{droppableContainer:a,value:f}})}}return o.sort(FM)};function WM(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),a=s-r,u=o-n;if(r<s&&n<o){const c=t.width*t.height,f=e.width*e.height,h=a*u,p=h/(c+f-h);return Number(p.toFixed(4))}return 0}const HM=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const o of r){const{id:a}=o,u=n.get(a);if(u){const c=WM(u,t);c>0&&s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(zM)};function VM(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function $k(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:sr}function qM(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((a,u)=>({...a,top:a.top+e*u.y,bottom:a.bottom+e*u.y,left:a.left+e*u.x,right:a.right+e*u.x}),{...n})}}const YM=qM(1);function KM(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function GM(e,t,n){const r=KM(t);if(!r)return e;const{scaleX:s,scaleY:o,x:a,y:u}=r,c=e.left-a-(1-s)*parseFloat(n),f=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?e.width/s:e.width,p=o?e.height/o:e.height;return{width:h,height:p,top:f,right:c+h,bottom:f+p,left:c}}const JM={ignoreTransform:!1};function So(e,t){t===void 0&&(t=JM);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=fn(e).getComputedStyle(e);f&&(n=GM(n,f,h))}const{top:r,left:s,width:o,height:a,bottom:u,right:c}=n;return{top:r,left:s,width:o,height:a,bottom:u,right:c}}function a0(e){return So(e,{ignoreTransform:!0})}function QM(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function XM(e,t){return t===void 0&&(t=fn(e).getComputedStyle(e)),t.position==="fixed"}function ZM(e,t){t===void 0&&(t=fn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function Qp(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Kp(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Ql(s)||Ok(s)||n.includes(s))return n;const o=fn(e).getComputedStyle(s);return s!==e&&ZM(s,o)&&n.push(s),XM(s,o)?n:r(s.parentNode)}return e?r(e):n}function Mk(e){const[t]=Qp(e,1);return t??null}function nh(e){return!jc||!e?null:bo(e)?e:Yp(e)?Kp(e)||e===ko(e).scrollingElement?window:Ql(e)?e:null:null}function Fk(e){return bo(e)?e.scrollX:e.scrollLeft}function zk(e){return bo(e)?e.scrollY:e.scrollTop}function Zh(e){return{x:Fk(e),y:zk(e)}}var It;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(It||(It={}));function Uk(e){return!jc||!e?!1:e===document.scrollingElement}function Bk(e){const t={x:0,y:0},n=Uk(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:a,isRight:u,maxScroll:r,minScroll:t}}const eF={x:.2,y:.2};function tF(e,t,n,r,s){let{top:o,left:a,right:u,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=eF);const{isTop:f,isBottom:h,isLeft:p,isRight:v}=Bk(e),g={x:0,y:0},b={x:0,y:0},S={height:t.height*s.y,width:t.width*s.x};return!f&&o<=t.top+S.height?(g.y=It.Backward,b.y=r*Math.abs((t.top+S.height-o)/S.height)):!h&&c>=t.bottom-S.height&&(g.y=It.Forward,b.y=r*Math.abs((t.bottom-S.height-c)/S.height)),!v&&u>=t.right-S.width?(g.x=It.Forward,b.x=r*Math.abs((t.right-S.width-u)/S.width)):!p&&a<=t.left+S.width&&(g.x=It.Backward,b.x=r*Math.abs((t.left+S.width-a)/S.width)),{direction:g,speed:b}}function nF(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Wk(e){return e.reduce((t,n)=>oo(t,Zh(n)),sr)}function rF(e){return e.reduce((t,n)=>t+Fk(n),0)}function iF(e){return e.reduce((t,n)=>t+zk(n),0)}function sF(e,t){if(t===void 0&&(t=So),!e)return;const{top:n,left:r,bottom:s,right:o}=t(e);Mk(e)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const oF=[["x",["left","right"],rF],["y",["top","bottom"],iF]];class Xp{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Qp(n),s=Wk(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,a,u]of oF)for(const c of a)Object.defineProperty(this,c,{get:()=>{const f=u(r),h=s[o]-f;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _l{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function lF(e){const{EventTarget:t}=fn(e);return e instanceof t?e:ko(e)}function rh(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Mn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Mn||(Mn={}));function u0(e){e.preventDefault()}function aF(e){e.stopPropagation()}var ze;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ze||(ze={}));const Hk={start:[ze.Space,ze.Enter],cancel:[ze.Esc],end:[ze.Space,ze.Enter,ze.Tab]},uF=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ze.Right:return{...n,x:n.x+25};case ze.Left:return{...n,x:n.x-25};case ze.Down:return{...n,y:n.y+25};case ze.Up:return{...n,y:n.y-25}}};class Vk{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new _l(ko(n)),this.windowListeners=new _l(fn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&sF(r),n(sr)}handleKeyDown(t){if(Jp(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=Hk,coordinateGetter:a=uF,scrollBehavior:u="smooth"}=s,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:sr;this.referenceCoordinates||(this.referenceCoordinates=h);const p=a(t,{active:n,context:r.current,currentCoordinates:h});if(p){const v=Xu(p,h),g={x:0,y:0},{scrollableAncestors:b}=r.current;for(const S of b){const E=t.code,{isTop:C,isRight:N,isLeft:R,isBottom:z,maxScroll:B,minScroll:A}=Bk(S),K=nF(S),ne={x:Math.min(E===ze.Right?K.right-K.width/2:K.right,Math.max(E===ze.Right?K.left:K.left+K.width/2,p.x)),y:Math.min(E===ze.Down?K.bottom-K.height/2:K.bottom,Math.max(E===ze.Down?K.top:K.top+K.height/2,p.y))},ie=E===ze.Right&&!N||E===ze.Left&&!R,D=E===ze.Down&&!z||E===ze.Up&&!C;if(ie&&ne.x!==p.x){const L=S.scrollLeft+v.x,X=E===ze.Right&&L<=B.x||E===ze.Left&&L>=A.x;if(X&&!v.y){S.scrollTo({left:L,behavior:u});return}X?g.x=S.scrollLeft-L:g.x=E===ze.Right?S.scrollLeft-B.x:S.scrollLeft-A.x,g.x&&S.scrollBy({left:-g.x,behavior:u});break}else if(D&&ne.y!==p.y){const L=S.scrollTop+v.y,X=E===ze.Down&&L<=B.y||E===ze.Up&&L>=A.y;if(X&&!v.x){S.scrollTo({top:L,behavior:u});return}X?g.y=S.scrollTop-L:g.y=E===ze.Down?S.scrollTop-B.y:S.scrollTop-A.y,g.y&&S.scrollBy({top:-g.y,behavior:u});break}}this.handleMove(t,oo(Xu(p,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Vk.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Hk,onActivation:s}=t,{active:o}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function c0(e){return!!(e&&"distance"in e)}function d0(e){return!!(e&&"delay"in e)}class Zp{constructor(t,n,r){var s;r===void 0&&(r=lF(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:a}=o;this.props=t,this.events=n,this.document=ko(a),this.documentListeners=new _l(this.document),this.listeners=new _l(r),this.windowListeners=new _l(fn(a)),this.initialCoordinates=(s=Xh(o))!=null?s:sr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.DragStart,u0),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),this.windowListeners.add(Mn.ContextMenu,u0),this.documentListeners.add(Mn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(d0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(c0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Mn.Click,aF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:a,options:{activationConstraint:u}}=o;if(!s)return;const c=(n=Xh(t))!=null?n:sr,f=Xu(s,c);if(!r&&u){if(c0(u)){if(u.tolerance!=null&&rh(f,u.tolerance))return this.handleCancel();if(rh(f,u.distance))return this.handleStart()}if(d0(u)&&rh(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ze.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const cF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qk extends Zp{constructor(t){const{event:n}=t,r=ko(n.target);super(t,cF,r)}}qk.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const dF={move:{name:"mousemove"},end:{name:"mouseup"}};var ep;(function(e){e[e.RightClick=2]="RightClick"})(ep||(ep={}));class fF extends Zp{constructor(t){super(t,dF,ko(t.event.target))}}fF.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ep.RightClick?!1:(r==null||r({event:n}),!0)}}];const ih={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class hF extends Zp{constructor(t){super(t,ih)}static setup(){return window.addEventListener(ih.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ih.move.name,t)};function t(){}}}hF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Cl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Cl||(Cl={}));var ec;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ec||(ec={}));function pF(e){let{acceleration:t,activator:n=Cl.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:a=5,order:u=ec.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:h,delta:p,threshold:v}=e;const g=gF({delta:p,disabled:!o}),[b,S]=_M(),E=k.useRef({x:0,y:0}),C=k.useRef({x:0,y:0}),N=k.useMemo(()=>{switch(n){case Cl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Cl.DraggableRect:return s}},[n,s,c]),R=k.useRef(null),z=k.useCallback(()=>{const A=R.current;if(!A)return;const K=E.current.x*C.current.x,ne=E.current.y*C.current.y;A.scrollBy(K,ne)},[]),B=k.useMemo(()=>u===ec.TreeOrder?[...f].reverse():f,[u,f]);k.useEffect(()=>{if(!o||!f.length||!N){S();return}for(const A of B){if((r==null?void 0:r(A))===!1)continue;const K=f.indexOf(A),ne=h[K];if(!ne)continue;const{direction:ie,speed:D}=tF(A,ne,N,t,v);for(const L of["x","y"])g[L][ie[L]]||(D[L]=0,ie[L]=0);if(D.x>0||D.y>0){S(),R.current=A,b(z,a),E.current=D,C.current=ie;return}}E.current={x:0,y:0},C.current={x:0,y:0},S()},[t,z,r,S,o,a,JSON.stringify(N),JSON.stringify(g),b,f,B,h,JSON.stringify(v)])}const mF={x:{[It.Backward]:!1,[It.Forward]:!1},y:{[It.Backward]:!1,[It.Forward]:!1}};function gF(e){let{delta:t,disabled:n}=e;const r=Qh(t);return Xl(s=>{if(n||!r||!s)return mF;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[It.Backward]:s.x[It.Backward]||o.x===-1,[It.Forward]:s.x[It.Forward]||o.x===1},y:{[It.Backward]:s.y[It.Backward]||o.y===-1,[It.Forward]:s.y[It.Forward]||o.y===1}}},[n,t,r])}function vF(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Xl(s=>{var o;return t==null?null:(o=r??s)!=null?o:null},[r,t])}function yF(e,t){return k.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...o]},[]),[e,t])}var zl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(zl||(zl={}));var tp;(function(e){e.Optimized="optimized"})(tp||(tp={}));const f0=new Map;function wF(e,t){let{dragging:n,dependencies:r,config:s}=t;const[o,a]=k.useState(null),{frequency:u,measure:c,strategy:f}=s,h=k.useRef(e),p=E(),v=Ml(p),g=k.useCallback(function(C){C===void 0&&(C=[]),!v.current&&a(N=>N===null?C:N.concat(C.filter(R=>!N.includes(R))))},[v]),b=k.useRef(null),S=Xl(C=>{if(p&&!n)return f0;if(!C||C===f0||h.current!==e||o!=null){const N=new Map;for(let R of e){if(!R)continue;if(o&&o.length>0&&!o.includes(R.id)&&R.rect.current){N.set(R.id,R.rect.current);continue}const z=R.node.current,B=z?new Xp(c(z),z):null;R.rect.current=B,B&&N.set(R.id,B)}return N}return C},[e,o,n,p,c]);return k.useEffect(()=>{h.current=e},[e]),k.useEffect(()=>{p||g()},[n,p]),k.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),k.useEffect(()=>{p||typeof u!="number"||b.current!==null||(b.current=setTimeout(()=>{g(),b.current=null},u))},[u,p,g,...r]),{droppableRects:S,measureDroppableContainers:g,measuringScheduled:o!=null};function E(){switch(f){case zl.Always:return!1;case zl.BeforeDragging:return n;default:return!n}}}function Yk(e,t){return Xl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function xF(e,t){return Yk(e,t)}function bF(e){let{callback:t,disabled:n}=e;const r=Gp(t),s=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return k.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Tc(e){let{callback:t,disabled:n}=e;const r=Gp(t),s=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return k.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function kF(e){return new Xp(So(e),e)}function h0(e,t,n){t===void 0&&(t=kF);const[r,s]=k.useState(null);function o(){s(c=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=c??n)!=null?f:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const a=bF({callback(c){if(e)for(const f of c){const{type:h,target:p}=f;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){o();break}}}}),u=Tc({callback:o});return Sr(()=>{o(),e?(u==null||u.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),a==null||a.disconnect())},[e]),r}function SF(e){const t=Yk(e);return $k(e,t)}const p0=[];function EF(e){const t=k.useRef(e),n=Xl(r=>e?r&&r!==p0&&e&&t.current&&e.parentNode===t.current.parentNode?r:Qp(e):p0,[e]);return k.useEffect(()=>{t.current=e},[e]),n}function _F(e){const[t,n]=k.useState(null),r=k.useRef(e),s=k.useCallback(o=>{const a=nh(o.target);a&&n(u=>u?(u.set(a,Zh(a)),new Map(u)):null)},[]);return k.useEffect(()=>{const o=r.current;if(e!==o){a(o);const u=e.map(c=>{const f=nh(c);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,Zh(f)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{a(e),a(o)};function a(u){u.forEach(c=>{const f=nh(c);f==null||f.removeEventListener("scroll",s)})}},[s,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,a)=>oo(o,a),sr):Wk(e):sr,[e,t])}function m0(e,t){t===void 0&&(t=[]);const n=k.useRef(null);return k.useEffect(()=>{n.current=null},t),k.useEffect(()=>{const r=e!==sr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Xu(e,n.current):sr}function CF(e){k.useEffect(()=>{if(!jc)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function jF(e,t){return k.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=a=>{o(a,t)},n},{}),[e,t])}function Kk(e){return k.useMemo(()=>e?QM(e):null,[e])}const g0=[];function TF(e,t){t===void 0&&(t=So);const[n]=e,r=Kk(n?fn(n):null),[s,o]=k.useState(g0);function a(){o(()=>e.length?e.map(c=>Uk(c)?r:new Xp(t(c),c)):g0)}const u=Tc({callback:a});return Sr(()=>{u==null||u.disconnect(),a(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),s}function IF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ql(t)?t:e}function NF(e){let{measure:t}=e;const[n,r]=k.useState(null),s=k.useCallback(f=>{for(const{target:h}of f)if(Ql(h)){r(p=>{const v=t(h);return p?{...p,width:v.width,height:v.height}:v});break}},[t]),o=Tc({callback:s}),a=k.useCallback(f=>{const h=IF(f);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[u,c]=Qu(a);return k.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const RF=[{sensor:qk,options:{}},{sensor:Vk,options:{}}],PF={current:{}},Nu={draggable:{measure:a0},droppable:{measure:a0,strategy:zl.WhileDragging,frequency:tp.Optimized},dragOverlay:{measure:So}};class jl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const AF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new jl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Nu,measureDroppableContainers:Zu,windowRect:null,measuringScheduled:!1},OF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zu,draggableNodes:new Map,over:null,measureDroppableContainers:Zu},Ic=k.createContext(OF),Gk=k.createContext(AF);function DF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new jl}}}function LF(e,t){switch(t.type){case St.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case St.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case St.DragEnd:case St.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case St.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new jl(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case St.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const a=new jl(e.droppable.containers);return a.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case St.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new jl(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function $F(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=k.useContext(Ic),o=Qh(r),a=Qh(n==null?void 0:n.id);return k.useEffect(()=>{if(!t&&!r&&o&&a!=null){if(!Jp(o)||document.activeElement===o.target)return;const u=s.get(a);if(!u)return;const{activatorNode:c,node:f}=u;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[c.current,f.current]){if(!h)continue;const p=TM(h);if(p){p.focus();break}}})}},[r,t,s,a,o]),null}function MF(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...r}),n):n}function FF(e){return k.useMemo(()=>({draggable:{...Nu.draggable,...e==null?void 0:e.draggable},droppable:{...Nu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Nu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function zF(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const o=k.useRef(!1),{x:a,y:u}=typeof s=="boolean"?{x:s,y:s}:s;Sr(()=>{if(!a&&!u||!t){o.current=!1;return}if(o.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),p=$k(h,r);if(a||(p.x=0),u||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=Mk(f);v&&v.scrollBy({top:p.y,left:p.x})}},[t,a,u,r,n])}const Jk=k.createContext({...sr,scaleX:1,scaleY:1});var mi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(mi||(mi={}));const UF=k.memo(function(t){var n,r,s,o;let{id:a,accessibility:u,autoScroll:c=!0,children:f,sensors:h=RF,collisionDetection:p=HM,measuring:v,modifiers:g,...b}=t;const S=k.useReducer(LF,void 0,DF),[E,C]=S,[N,R]=OM(),[z,B]=k.useState(mi.Uninitialized),A=z===mi.Initialized,{draggable:{active:K,nodes:ne,translate:ie},droppable:{containers:D}}=E,L=K!=null?ne.get(K):null,X=k.useRef({initial:null,translated:null}),G=k.useMemo(()=>{var nt;return K!=null?{id:K,data:(nt=L==null?void 0:L.data)!=null?nt:PF,rect:X}:null},[K,L]),O=k.useRef(null),[W,$]=k.useState(null),[U,P]=k.useState(null),q=Ml(b,Object.values(b)),T=Zl("DndDescribedBy",a),I=k.useMemo(()=>D.getEnabled(),[D]),M=FF(v),{droppableRects:_,measureDroppableContainers:Y,measuringScheduled:te}=wF(I,{dragging:A,dependencies:[ie.x,ie.y],config:M.droppable}),Z=vF(ne,K),se=k.useMemo(()=>U?Xh(U):null,[U]),ue=qr(),pe=xF(Z,M.draggable.measure);zF({activeNode:K!=null?ne.get(K):null,config:ue.layoutShiftCompensation,initialRect:pe,measure:M.draggable.measure});const he=h0(Z,M.draggable.measure,pe),Ie=h0(Z?Z.parentElement:null),$e=k.useRef({activatorEvent:null,active:null,activeNode:Z,collisionRect:null,collisions:null,droppableRects:_,draggableNodes:ne,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ue=D.getNodeFor((n=$e.current.over)==null?void 0:n.id),ct=NF({measure:M.dragOverlay.measure}),Cn=(r=ct.nodeRef.current)!=null?r:Z,jn=A?(s=ct.rect)!=null?s:he:null,jr=!!(ct.nodeRef.current&&ct.rect),Ti=SF(jr?null:he),or=Kk(Cn?fn(Cn):null),Nt=EF(A?Ue??Z:null),hn=TF(Nt),lr=MF(g,{transform:{x:ie.x-Ti.x,y:ie.y-Ti.y,scaleX:1,scaleY:1},activatorEvent:U,active:G,activeNodeRect:he,containerNodeRect:Ie,draggingNodeRect:jn,over:$e.current.over,overlayNodeRect:ct.rect,scrollableAncestors:Nt,scrollableAncestorRects:hn,windowRect:or}),Ii=se?oo(se,ie):null,Ni=_F(Nt),hs=m0(Ni),re=m0(Ni,[he]),de=oo(lr,hs),be=jn?YM(jn,lr):null,Ne=G&&be?p({active:G,collisionRect:be,droppableRects:_,droppableContainers:I,pointerCoordinates:Ii}):null,De=UM(Ne,"id"),[Ye,Tn]=k.useState(null),Zt=jr?lr:oo(lr,re),ar=VM(Zt,(o=Ye==null?void 0:Ye.rect)!=null?o:null,he),Un=k.useRef(null),ht=k.useCallback((nt,Ot)=>{let{sensor:Dt,options:Bn}=Ot;if(O.current==null)return;const qt=ne.get(O.current);if(!qt)return;const Lt=nt.nativeEvent,en=new Dt({active:O.current,activeNode:qt,event:Lt,options:Bn,context:$e,onAbort(rt){if(!ne.get(rt))return;const{onDragAbort:$t}=q.current,Wn={id:rt};$t==null||$t(Wn),N({type:"onDragAbort",event:Wn})},onPending(rt,Nn,$t,Wn){if(!ne.get(rt))return;const{onDragPending:ur}=q.current,pn={id:rt,constraint:Nn,initialCoordinates:$t,offset:Wn};ur==null||ur(pn),N({type:"onDragPending",event:pn})},onStart(rt){const Nn=O.current;if(Nn==null)return;const $t=ne.get(Nn);if(!$t)return;const{onDragStart:Wn}=q.current,Hn={activatorEvent:Lt,active:{id:Nn,data:$t.data,rect:X}};kn.unstable_batchedUpdates(()=>{Wn==null||Wn(Hn),B(mi.Initializing),C({type:St.DragStart,initialCoordinates:rt,active:Nn}),N({type:"onDragStart",event:Hn}),$(Un.current),P(Lt)})},onMove(rt){C({type:St.DragMove,coordinates:rt})},onEnd:Tr(St.DragEnd),onCancel:Tr(St.DragCancel)});Un.current=en;function Tr(rt){return async function(){const{active:$t,collisions:Wn,over:Hn,scrollAdjustedTranslate:ur}=$e.current;let pn=null;if($t&&ur){const{cancelDrop:Ir}=q.current;pn={activatorEvent:Lt,active:$t,collisions:Wn,delta:ur,over:Hn},rt===St.DragEnd&&typeof Ir=="function"&&await Promise.resolve(Ir(pn))&&(rt=St.DragCancel)}O.current=null,kn.unstable_batchedUpdates(()=>{C({type:rt}),B(mi.Uninitialized),Tn(null),$(null),P(null),Un.current=null;const Ir=rt===St.DragEnd?"onDragEnd":"onDragCancel";if(pn){const Co=q.current[Ir];Co==null||Co(pn),N({type:Ir,event:pn})}})}}},[ne]),In=k.useCallback((nt,Ot)=>(Dt,Bn)=>{const qt=Dt.nativeEvent,Lt=ne.get(Bn);if(O.current!==null||!Lt||qt.dndKit||qt.defaultPrevented)return;const en={active:Lt};nt(Dt,Ot.options,en)===!0&&(qt.dndKit={capturedBy:Ot.sensor},O.current=Bn,ht(Dt,Ot))},[ne,ht]),At=yF(h,In);CF(h),Sr(()=>{he&&z===mi.Initializing&&B(mi.Initialized)},[he,z]),k.useEffect(()=>{const{onDragMove:nt}=q.current,{active:Ot,activatorEvent:Dt,collisions:Bn,over:qt}=$e.current;if(!Ot||!Dt)return;const Lt={active:Ot,activatorEvent:Dt,collisions:Bn,delta:{x:de.x,y:de.y},over:qt};kn.unstable_batchedUpdates(()=>{nt==null||nt(Lt),N({type:"onDragMove",event:Lt})})},[de.x,de.y]),k.useEffect(()=>{const{active:nt,activatorEvent:Ot,collisions:Dt,droppableContainers:Bn,scrollAdjustedTranslate:qt}=$e.current;if(!nt||O.current==null||!Ot||!qt)return;const{onDragOver:Lt}=q.current,en=Bn.get(De),Tr=en&&en.rect.current?{id:en.id,rect:en.rect.current,data:en.data,disabled:en.disabled}:null,rt={active:nt,activatorEvent:Ot,collisions:Dt,delta:{x:qt.x,y:qt.y},over:Tr};kn.unstable_batchedUpdates(()=>{Tn(Tr),Lt==null||Lt(rt),N({type:"onDragOver",event:rt})})},[De]),Sr(()=>{$e.current={activatorEvent:U,active:G,activeNode:Z,collisionRect:be,collisions:Ne,droppableRects:_,draggableNodes:ne,draggingNode:Cn,draggingNodeRect:jn,droppableContainers:D,over:Ye,scrollableAncestors:Nt,scrollAdjustedTranslate:de},X.current={initial:jn,translated:be}},[G,Z,Ne,be,ne,Cn,jn,_,D,Ye,Nt,de]),pF({...ue,delta:ie,draggingRect:be,pointerCoordinates:Ii,scrollableAncestors:Nt,scrollableAncestorRects:hn});const Eo=k.useMemo(()=>({active:G,activeNode:Z,activeNodeRect:he,activatorEvent:U,collisions:Ne,containerNodeRect:Ie,dragOverlay:ct,draggableNodes:ne,droppableContainers:D,droppableRects:_,over:Ye,measureDroppableContainers:Y,scrollableAncestors:Nt,scrollableAncestorRects:hn,measuringConfiguration:M,measuringScheduled:te,windowRect:or}),[G,Z,he,U,Ne,Ie,ct,ne,D,_,Ye,Y,Nt,hn,M,te,or]),_o=k.useMemo(()=>({activatorEvent:U,activators:At,active:G,activeNodeRect:he,ariaDescribedById:{draggable:T},dispatch:C,draggableNodes:ne,over:Ye,measureDroppableContainers:Y}),[U,At,G,he,C,T,ne,Ye,Y]);return me.createElement(Lk.Provider,{value:R},me.createElement(Ic.Provider,{value:_o},me.createElement(Gk.Provider,{value:Eo},me.createElement(Jk.Provider,{value:ar},f)),me.createElement($F,{disabled:(u==null?void 0:u.restoreFocus)===!1})),me.createElement($M,{...u,hiddenTextDescribedById:T}));function qr(){const nt=(W==null?void 0:W.autoScrollEnabled)===!1,Ot=typeof c=="object"?c.enabled===!1:c===!1,Dt=A&&!nt&&!Ot;return typeof c=="object"?{...c,enabled:Dt}:{enabled:Dt}}}),BF=k.createContext(null),v0="button",WF="Draggable";function HF(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const o=Zl(WF),{activators:a,activatorEvent:u,active:c,activeNodeRect:f,ariaDescribedById:h,draggableNodes:p,over:v}=k.useContext(Ic),{role:g=v0,roleDescription:b="draggable",tabIndex:S=0}=s??{},E=(c==null?void 0:c.id)===t,C=k.useContext(E?Jk:BF),[N,R]=Qu(),[z,B]=Qu(),A=jF(a,t),K=Ml(n);Sr(()=>(p.set(t,{id:t,key:o,node:N,activatorNode:z,data:K}),()=>{const ie=p.get(t);ie&&ie.key===o&&p.delete(t)}),[p,t]);const ne=k.useMemo(()=>({role:g,tabIndex:S,"aria-disabled":r,"aria-pressed":E&&g===v0?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[r,g,S,E,b,h.draggable]);return{active:c,activatorEvent:u,activeNodeRect:f,attributes:ne,isDragging:E,listeners:r?void 0:A,node:N,over:v,setNodeRef:R,setActivatorNodeRef:B,transform:C}}function VF(){return k.useContext(Gk)}const qF="Droppable",YF={timeout:25};function KF(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const o=Zl(qF),{active:a,dispatch:u,over:c,measureDroppableContainers:f}=k.useContext(Ic),h=k.useRef({disabled:n}),p=k.useRef(!1),v=k.useRef(null),g=k.useRef(null),{disabled:b,updateMeasurementsFor:S,timeout:E}={...YF,...s},C=Ml(S??r),N=k.useCallback(()=>{if(!p.current){p.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{f(Array.isArray(C.current)?C.current:[C.current]),g.current=null},E)},[E]),R=Tc({callback:N,disabled:b||!a}),z=k.useCallback((ne,ie)=>{R&&(ie&&(R.unobserve(ie),p.current=!1),ne&&R.observe(ne))},[R]),[B,A]=Qu(z),K=Ml(t);return k.useEffect(()=>{!R||!B.current||(R.disconnect(),p.current=!1,R.observe(B.current))},[B,R]),k.useEffect(()=>(u({type:St.RegisterDroppable,element:{id:r,key:o,disabled:n,node:B,rect:v,data:K}}),()=>u({type:St.UnregisterDroppable,key:o,id:r})),[r]),k.useEffect(()=>{n!==h.current.disabled&&(u({type:St.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,u]),{active:a,rect:v,isOver:(c==null?void 0:c.id)===r,node:B,over:c,setNodeRef:A}}function Qk(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function GF(e,t){return e.reduce((n,r,s)=>{const o=t.get(r);return o&&(n[s]=o),n},Array(e.length))}function bu(e){return e!==null&&e>=0}function JF(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function QF(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Xk=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const o=Qk(t,r,n),a=t[s],u=o[s];return!u||!a?null:{x:u.left-a.left,y:u.top-a.top,scaleX:u.width/a.width,scaleY:u.height/a.height}},ku={scaleX:1,scaleY:1},XF=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:a}=e;const u=(t=o[n])!=null?t:r;if(!u)return null;if(s===n){const f=o[a];return f?{x:0,y:n<a?f.top+f.height-(u.top+u.height):f.top-u.top,...ku}:null}const c=ZF(o,s,n);return s>n&&s<=a?{x:0,y:-u.height-c,...ku}:s<n&&s>=a?{x:0,y:u.height+c,...ku}:{x:0,y:0,...ku}};function ZF(e,t,n){const r=e[t],s=e[t-1],o=e[t+1];return r?n<t?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Zk="Sortable",e1=me.createContext({activeIndex:-1,containerId:Zk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Xk,disabled:{draggable:!1,droppable:!1}});function e4(e){let{children:t,id:n,items:r,strategy:s=Xk,disabled:o=!1}=e;const{active:a,dragOverlay:u,droppableRects:c,over:f,measureDroppableContainers:h}=VF(),p=Zl(Zk,n),v=u.rect!==null,g=k.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),b=a!=null,S=a?g.indexOf(a.id):-1,E=f?g.indexOf(f.id):-1,C=k.useRef(g),N=!JF(g,C.current),R=E!==-1&&S===-1||N,z=QF(o);Sr(()=>{N&&b&&h(g)},[N,g,b,h]),k.useEffect(()=>{C.current=g},[g]);const B=k.useMemo(()=>({activeIndex:S,containerId:p,disabled:z,disableTransforms:R,items:g,overIndex:E,useDragOverlay:v,sortedRects:GF(g,c),strategy:s}),[S,p,z.draggable,z.droppable,R,g,E,c,v,s]);return me.createElement(e1.Provider,{value:B},t)}const t4=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return Qk(n,r,s).indexOf(t)},n4=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:o,newIndex:a,previousItems:u,previousContainerId:c,transition:f}=e;return!f||!r||u!==o&&s===a?!1:n?!0:a!==s&&t===c},r4={duration:200,easing:"ease"},t1="transform",i4=Fl.Transition.toString({property:t1,duration:0,easing:"linear"}),s4={roleDescription:"sortable"};function o4(e){let{disabled:t,index:n,node:r,rect:s}=e;const[o,a]=k.useState(null),u=k.useRef(n);return Sr(()=>{if(!t&&n!==u.current&&r.current){const c=s.current;if(c){const f=So(r.current,{ignoreTransform:!0}),h={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(h.x||h.y)&&a(h)}}n!==u.current&&(u.current=n)},[t,n,r,s]),k.useEffect(()=>{o&&a(null)},[o]),o}function l4(e){let{animateLayoutChanges:t=n4,attributes:n,disabled:r,data:s,getNewIndex:o=t4,id:a,strategy:u,resizeObserverConfig:c,transition:f=r4}=e;const{items:h,containerId:p,activeIndex:v,disabled:g,disableTransforms:b,sortedRects:S,overIndex:E,useDragOverlay:C,strategy:N}=k.useContext(e1),R=a4(r,g),z=h.indexOf(a),B=k.useMemo(()=>({sortable:{containerId:p,index:z,items:h},...s}),[p,s,z,h]),A=k.useMemo(()=>h.slice(h.indexOf(a)),[h,a]),{rect:K,node:ne,isOver:ie,setNodeRef:D}=KF({id:a,data:B,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:L,activatorEvent:X,activeNodeRect:G,attributes:O,setNodeRef:W,listeners:$,isDragging:U,over:P,setActivatorNodeRef:q,transform:T}=HF({id:a,data:B,attributes:{...s4,...n},disabled:R.draggable}),I=EM(D,W),M=!!L,_=M&&!b&&bu(v)&&bu(E),Y=!C&&U,te=Y&&_?T:null,se=_?te??(u??N)({rects:S,activeNodeRect:G,activeIndex:v,overIndex:E,index:z}):null,ue=bu(v)&&bu(E)?o({id:a,items:h,activeIndex:v,overIndex:E}):z,pe=L==null?void 0:L.id,he=k.useRef({activeId:pe,items:h,newIndex:ue,containerId:p}),Ie=h!==he.current.items,$e=t({active:L,containerId:p,isDragging:U,isSorting:M,id:a,index:z,items:h,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:f,wasDragging:he.current.activeId!=null}),Ue=o4({disabled:!$e,index:z,node:ne,rect:K});return k.useEffect(()=>{M&&he.current.newIndex!==ue&&(he.current.newIndex=ue),p!==he.current.containerId&&(he.current.containerId=p),h!==he.current.items&&(he.current.items=h)},[M,ue,p,h]),k.useEffect(()=>{if(pe===he.current.activeId)return;if(pe&&!he.current.activeId){he.current.activeId=pe;return}const Cn=setTimeout(()=>{he.current.activeId=pe},50);return()=>clearTimeout(Cn)},[pe]),{active:L,activeIndex:v,attributes:O,data:B,rect:K,index:z,newIndex:ue,items:h,isOver:ie,isSorting:M,isDragging:U,listeners:$,node:ne,overIndex:E,over:P,setNodeRef:I,setActivatorNodeRef:q,setDroppableNodeRef:D,setDraggableNodeRef:W,transform:Ue??se,transition:ct()};function ct(){if(Ue||Ie&&he.current.newIndex===z)return i4;if(!(Y&&!Jp(X)||!f)&&(M||$e))return Fl.Transition.toString({...f,property:t1})}}function a4(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}ze.Down,ze.Right,ze.Up,ze.Left;const Su="__no_objective__",u4="Sin objetivo",y0={present:"Presente",absent:"Ausente",pending:"Pendiente"};function c4({work:e,objective:t,parentChain:n,onSelect:r}){const s=(e.subtitle??"").trim();return x.jsxs("button",{type:"button",onClick:()=>r(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),s?x.jsx("p",{className:"text-xs text-white/60",children:s}):null,x.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]}),n?x.jsxs("p",{className:"text-[11px] text-white/40",children:["Deriva de ",n]}):null]}),x.jsx(Ur,{objective:t,size:"sm"})]})}function d4({item:e,work:t,objective:n,expanded:r,onToggleExpanded:s,onRemove:o,onUpdateDetails:a,onReplace:u,startTimeLabel:c,durationMinutes:f,objectiveOptions:h,worksByObjective:p,currentObjectiveId:v,workPathById:g}){const{attributes:b,listeners:S,setNodeRef:E,transform:C,transition:N,isDragging:R}=l4({id:e.id}),[z,B]=k.useState(!1),A={transform:Fl.Transform.toString(C),transition:N},ne=(e.focusLabel??"").trim(),ie=ne.length>0,D=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",L=D.trim().length>0,X=((t==null?void 0:t.videoUrls)??[]).map(te=>te.trim()).filter(Boolean),G=X.length>0,O=L||G,$=(t!=null&&t.id?g.get(t.id)??(t==null?void 0:t.name)??"":"").split(" · ").slice(0,-1).join(" · "),U=((t==null?void 0:t.subtitle)??"").trim(),P=te=>{const Z=te.target.value;a(e.id,{focusLabel:Z===""?void 0:Z})},q=h.length>0?h:[{id:"",name:"Sin objetivo"}],T=k.useMemo(()=>{var Z;return v&&p.has(v)?v:((Z=q[0])==null?void 0:Z.id)??v??""},[v,q,p]),[I,M]=k.useState(T);k.useEffect(()=>{z&&M(T)},[z,T]);const _=k.useMemo(()=>(p.get(I)??[]).filter(Z=>Z.id!==(t==null?void 0:t.id)).sort((Z,se)=>{const ue=g.get(Z.id)??Z.name,pe=g.get(se.id)??se.name;return ue.localeCompare(pe,"es",{sensitivity:"base"})}),[I,p,t==null?void 0:t.id,g]),Y=k.useMemo(()=>{for(const te of p.values())if(te.some(Z=>Z.id!==(t==null?void 0:t.id)))return!0;return!1},[p,t==null?void 0:t.id]);return x.jsxs("article",{ref:E,style:A,className:He("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",R&&"ring-2 ring-sky-400/70"),children:[n?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",...S,...b,"aria-label":"Reordenar trabajo",children:"⠿"}),x.jsx("div",{className:"flex-1 space-y-1",children:x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",ie?x.jsxs("span",{className:"ml-2 text-sky-300",children:["· ",ne]}):null]}),U?x.jsx("p",{className:"text-sm text-white/70",children:U}):null,$?x.jsxs("p",{className:"text-xs text-white/50",children:["Deriva de ",$]}):null,x.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[x.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:c}),x.jsx("span",{className:"text-white/30",children:"·"}),x.jsxs("span",{children:[f," min"]})]}),x.jsxs("div",{className:"max-w-md",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),x.jsx("input",{type:"text",value:e.focusLabel??"",onChange:P,placeholder:"Ej. 1/7 – Apertura",className:"input-field mt-1"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[O?x.jsxs("button",{type:"button",onClick:()=>s(e.id),className:He("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[x.jsx("span",{className:He("transition-transform",r?"rotate-90":"rotate-0"),children:"▶"}),r?"Ocultar detalles":"Ver detalles"]}):null,x.jsx(Ur,{objective:n,size:"sm"})]})]})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:()=>B(te=>!te),disabled:!Y,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categoría","aria-expanded":z,children:"⇆"}),x.jsx("button",{type:"button",onClick:()=>o(e.id),className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesión",children:"✕"})]})]}),z?x.jsxs("div",{className:"mt-3 space-y-2 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),x.jsx("select",{className:"input-field",value:I,onChange:te=>M(te.target.value),children:q.map(te=>x.jsx("option",{value:te.id,children:te.name},te.id))})]}),x.jsx("div",{className:"grid gap-1.5",children:_.length===0?x.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"No hay trabajos disponibles en este objetivo."}):_.map(te=>{const se=(g.get(te.id)??te.name).split(" · ").slice(0,-1).join(" · "),ue=(te.subtitle??"").trim();return x.jsxs("button",{type:"button",onClick:()=>{u(te.id),B(!1)},className:"flex items-center justify-between gap-2 rounded-2xl border border-white/15 px-3 py-2 text-left text-xs font-semibold text-white/80 transition hover:border-sky-400/60 hover:text-white",children:[x.jsxs("div",{className:"flex flex-col text-left",children:[x.jsx("span",{children:te.name}),ue?x.jsx("span",{className:"text-[11px] text-white/50",children:ue}):null,se?x.jsxs("span",{className:"text-[11px] text-white/40",children:["Deriva de ",se]}):null]}),x.jsxs("span",{className:"text-[11px] text-white/40",children:[te.estimatedMinutes," min"]})]},te.id)})})]}):null,O&&r?x.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[L?x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:x.jsx($l,{content:D,enableWorkLinks:!0})})]}):null,G?x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de referencia"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(te=>x.jsxs("a",{href:te,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[x.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:"▶"}),"Ver vídeo"]},te))})]}):null]}):null,x.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function f4({session:e,works:t,objectives:n,assistants:r,onDateChange:s}){const o=Te(L=>L.updateSession),a=Te(L=>L.addWorkToSession),u=Te(L=>L.removeWorkFromSession),c=Te(L=>L.reorderSessionWork),f=Te(L=>L.updateSessionWorkDetails),h=Te(L=>L.replaceSessionWork),p=Te(L=>L.setAttendanceStatus),[v,g]=k.useState(""),[b,S]=k.useState(new Set),E=k.useMemo(()=>new Map(n.map(L=>[L.id,L])),[n]),C=k.useMemo(()=>new Map(t.map(L=>[L.id,L])),[t]),N=k.useMemo(()=>{const L=new Map,X=(G,O)=>{if(L.has(G))return L.get(G);const W=C.get(G);if(!W)return"";const $=W.parentWorkId;if(!$||O.has(G))return L.set(G,W.name),W.name;O.add(G);const U=X($,O);O.delete(G);const P=U?`${U} · ${W.name}`:W.name;return L.set(G,P),P};return t.forEach(G=>X(G.id,new Set)),L},[t,C]),R=k.useMemo(()=>{const L=new Map(n.map(W=>[W.id,W.name])),X=n.map(W=>({id:W.id,name:W.name})),G=new Set(X.map(W=>W.id)),O=W=>{const $=W??Su;if(G.has($))return;const U=$===Su?u4:L.get($)??"Otro objetivo";X.push({id:$,name:U}),G.add($)};return t.forEach(W=>{O(W.objectiveId)}),X},[n,t]),z=k.useMemo(()=>{const L=new Map;return t.forEach(X=>{const G=X.objectiveId??Su,O=L.get(G)??[];O.push(X),L.set(G,O)}),L.forEach(X=>{X.sort((G,O)=>{const W=N.get(G.id)??G.name,$=N.get(O.id)??O.name;return W.localeCompare($,"es",{sensitivity:"base"})})}),L},[t,N]),B=k.useMemo(()=>{if(!v)return t;const L=v.toLowerCase();return t.filter(X=>{const G=E.get(X.objectiveId),O=N.get(X.id)??"";return X.name.toLowerCase().includes(L)||X.descriptionMarkdown.toLowerCase().includes(L)||(G==null?void 0:G.name.toLowerCase().includes(L))||O.toLowerCase().includes(L)})},[t,v,E,N]),A=k.useCallback(L=>{const X=N.get(L);if(!X)return"";const G=X.split(" · ");return G.pop(),G.join(" · ")},[N]),K=L=>{S(X=>{const G=new Set(X);return G.has(L)?G.delete(L):G.add(L),G})},ne=L=>{a(e.id,{workId:L}),g("")},ie=L=>{const{active:X,over:G}=L;if(!G||X.id===G.id)return;const O=e.workItems.findIndex($=>$.id===X.id),W=e.workItems.findIndex($=>$.id===G.id);O===-1||W===-1||c(e.id,O,W)},D=L=>X=>{const G=X.target.value;o(e.id,{[L]:G}),L==="date"&&s&&s(G)};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[x.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Título"}),x.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:D("title"),placeholder:"Nombre de la sesión"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),x.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:D("date")})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),x.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:D("startTime")})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:D("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:D("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesión"}),x.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa ⋮ para ajustar detalles."})]}),x.jsxs("div",{className:"relative w-full sm:w-72",children:[x.jsx("input",{type:"search",className:"input-field",value:v,onChange:L=>g(L.target.value),placeholder:"Buscar en catálogo"}),v&&x.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:B.length===0?x.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catálogo."}):x.jsx("div",{className:"space-y-2",children:B.map(L=>x.jsx(c4,{work:L,objective:E.get(L.objectiveId),parentChain:A(L.id),onSelect:ne},L.id))})})]})]}),x.jsx("div",{className:"space-y-4",children:x.jsx(UF,{collisionDetection:BM,onDragEnd:ie,children:x.jsx(e4,{items:e.workItems.map(L=>L.id),strategy:XF,children:x.jsx("div",{className:"space-y-5",children:e.workItems.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Añade trabajos desde el catálogo con el buscador superior."}):(()=>{let L=0;const X=Ju(e.startTime,"18:30");return e.workItems.map(G=>{const O=C.get(G.workId),W=O?E.get(O.objectiveId):void 0,$=G.customDurationMinutes??(O==null?void 0:O.estimatedMinutes)??0,U=Jh(X+L);return L+=$,x.jsx(d4,{item:G,work:O,objective:W,expanded:b.has(G.id),onToggleExpanded:K,onRemove:()=>u(e.id,G.id),onUpdateDetails:(P,q)=>f(e.id,P,q),onReplace:P=>h(e.id,G.id,P),startTimeLabel:U,durationMinutes:$,objectiveOptions:R,worksByObjective:z,currentObjectiveId:(O==null?void 0:O.objectiveId)??Su,workPathById:N},G.id)})})()})})})})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsión de asistencia"}),x.jsx("p",{className:"text-sm text-white/60",children:"Indica quién esperas que asista. La asistencia real se marca durante la sesión desde la Home."})]})}),x.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?x.jsx("p",{className:"text-sm text-white/60",children:"Aún no tienes asistentes definidos. Añádelos desde la sección correspondiente para empezar a registrar asistencia."}):r.map(L=>{const X=e.attendance.find(W=>W.assistantId===L.id),G=(X==null?void 0:X.status)??"pending",O=X==null?void 0:X.actualStatus;return x.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-white",children:L.name}),L.notes?x.jsx("p",{className:"text-xs text-white/50",children:L.notes}):null,O?x.jsxs("p",{className:"text-xs text-white/40",children:["Último registro real: ",y0[O]]}):null]}),x.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(W=>x.jsx("button",{type:"button",onClick:()=>p(e.id,L.id,W),className:He("rounded-full px-3 py-1 text-xs font-semibold transition",G===W?W==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":W==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:y0[W]},W))})]},L.id)})})]})]})}function h4(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function p4(e){const t=h4(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(s,o)=>t.add(r*7+o,"day")))}function Eu(e,t){return We(e).format("YYYY-MM-DD")===We(t).format("YYYY-MM-DD")}We.locale("es");function w0(e){return We(e).format("MMMM YYYY")}function m4({session:e,objectives:t,works:n,isActive:r,onSelect:s,onDuplicate:o,onDelete:a}){const u=k.useMemo(()=>new Map(t.map(p=>[p.id,p])),[t]),c=k.useMemo(()=>new Map(n.map(p=>[p.id,p])),[n]),f=k.useMemo(()=>{const p=e.workItems[0];if(!p)return;const v=c.get(p.workId);if(v)return u.get(v.objectiveId)},[e.workItems,c,u]),h=e.workItems.reduce((p,v)=>{const g=c.get(v.workId);return p+(v.customDurationMinutes??(g==null?void 0:g.estimatedMinutes)??0)},0);return x.jsxs("button",{type:"button",onClick:s,className:He("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,x.jsxs("div",{className:"flex items-start justify-between gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesión sin título"}),x.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos · ",h," min"]})]}),x.jsx(Ur,{objective:f,size:"sm"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(p=>{const v=c.get(p.workId),g=((v==null?void 0:v.subtitle)??"").trim();return x.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:g?`${(v==null?void 0:v.name)??"Trabajo"} · ${g}`:(v==null?void 0:v.name)??"Trabajo"},p.id)}),e.workItems.length>3?x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Ur,{objective:f,size:"sm"}),x.jsxs("div",{className:"ml-auto flex gap-2",children:[x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),a()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function g4(){const e=Te(O=>O.sessions),t=Te(O=>O.works),n=Te(O=>O.objectives),r=Te(O=>O.assistants),s=Te(O=>O.addSession),o=Te(O=>O.duplicateSession),a=Te(O=>O.deleteSession),[u,c]=u_(),f=k.useMemo(()=>{const O=new Map;return e.forEach(W=>{const $=We(W.date).format("YYYY-MM-DD"),U=O.get($)??[];U.push(W),O.set($,U)}),O.forEach(W=>W.sort(($,U)=>($.title??"").localeCompare(U.title??"","es"))),O},[e]),h=u.get("session")??void 0,p=h?e.find(O=>O.id===h):void 0,v=We().format("YYYY-MM-DD"),g=(p==null?void 0:p.date)??v,[b,S]=k.useState(g),[E,C]=k.useState(We(b).startOf("month").format("YYYY-MM-DD")),[N,R]=k.useState(h);k.useEffect(()=>{h&&!e.find(O=>O.id===h)&&(R(void 0),c({},{replace:!0}))},[h,e,c]);const z=k.useMemo(()=>p4(We(E)),[E]),B=k.useMemo(()=>{const O=We(E);return e.filter(W=>{const $=We(W.date);return $.year()===O.year()&&$.month()===O.month()}).sort((W,$)=>We(W.date).valueOf()-We($.date).valueOf())},[e,E]),A=k.useMemo(()=>{const O=new Map;return B.forEach(W=>{const $=We(W.date).format("YYYY-MM-DD"),U=O.get($)??[];U.push(W),O.set($,U)}),Array.from(O.entries()).sort((W,$)=>We(W[0]).valueOf()-We($[0]).valueOf()).map(([W,$])=>({date:W,sessions:$.slice().sort((U,P)=>(U.title??"").localeCompare(P.title??"","es"))}))},[B]),K=f.get(b)??[];k.useEffect(()=>{K.length>0?(!N||!K.some(O=>O.id===N))&&R(K[0].id):R(void 0)},[K,N]);const ne=N?e.find(O=>O.id===N):void 0,ie=O=>{S(O),C(We(O).startOf("month").format("YYYY-MM-DD"))},D=()=>{const O=s({date:b,title:"Nueva sesión",description:"",notes:""});R(O.id)},L=O=>{const W=o(O,b);W&&R(W.id)},X=O=>{a(O),N===O&&R(void 0)},G=O=>{const W=We(E).add(O,"month");C(W.format("YYYY-MM-DD")),S($=>{const U=We($);return U.month()===W.month()&&U.year()===W.year()?$:W.startOf("month").format("YYYY-MM-DD")})};return x.jsxs("div",{className:"space-y-6",children:[x.jsx("header",{className:"glass-panel p-6 sm:p-10",children:x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Planificador"}),x.jsx("p",{className:"text-white/60",children:"Organiza tus sesiones con un calendario gráfico, duplica lo que funciona y edita cada detalle con drag & drop."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>G(-1),children:"← Mes anterior"}),x.jsx("div",{className:"rounded-full border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white/80",children:w0(E)}),x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>G(1),children:"Mes siguiente →"})]})]})}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.5fr_1.5fr] xl:grid-cols-[1.6fr_1.4fr]",children:[x.jsxs("section",{className:"glass-panel flex flex-col gap-6 p-6",children:[x.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(O=>x.jsx("div",{className:"rounded-full bg-white/5 py-2",children:O},O))}),x.jsx("div",{className:"grid grid-cols-7 gap-2",children:z.flat().map(O=>{const W=O.format("YYYY-MM-DD"),$=f.get(W)??[],U=O.month()===We(E).month(),P=Eu(W,v),q=Eu(W,b);return x.jsxs("button",{type:"button",onClick:()=>ie(W),className:He("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",q?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!U&&"text-white/30"),children:[x.jsx("span",{className:He("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",P?"bg-white text-slate-900":""),children:O.format("D")}),x.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[$.slice(0,3).map(T=>{const I=T.workItems[0],M=I?t.find(Y=>Y.id===I.workId):void 0,_=M?n.find(Y=>Y.id===M.objectiveId):void 0;return x.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(_==null?void 0:_.colorHex)??"rgba(255,255,255,0.4)"}},T.id)}),$.length>3?x.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},W)})})]}),x.jsxs("section",{className:"glass-panel flex flex-col gap-4 p-6",children:[x.jsxs("div",{className:"flex items-center justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones del mes"}),x.jsx("h2",{className:"text-lg font-semibold text-white",children:w0(E)})]}),x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[B.length," ",B.length===1?"sesión":"sesiones"]})]}),x.jsx("div",{className:"custom-scrollbar -m-2 max-h-[32rem] space-y-3 overflow-y-auto p-2",children:A.length===0?x.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/50",children:"Aún no hay sesiones planificadas para este mes. Selecciona un día en el calendario para crear la primera."}):A.map(({date:O,sessions:W})=>{const $=W.length===1?"1 sesión":`${W.length} sesiones`;return x.jsxs("div",{role:"button",tabIndex:0,onClick:()=>ie(O),onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),ie(O))},className:He("cursor-pointer rounded-2xl border border-white/10 bg-white/5 p-3 text-sm transition hover:border-white/40 hover:bg-white/10",Eu(O,b)&&"border-sky-400/50 bg-sky-500/10 shadow shadow-sky-500/10"),children:[x.jsxs("p",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[x.jsx("span",{children:We(O).format("ddd · D MMM")}),x.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-[9px] font-semibold tracking-[0.2em] text-white/50",children:$})]}),x.jsx("div",{className:"mt-3 space-y-2 text-xs",children:W.map(U=>{const P=(U.description??"").trim(),q=U.workItems.reduce((T,I)=>{const M=t.find(_=>_.id===I.workId);return T+(I.customDurationMinutes??(M==null?void 0:M.estimatedMinutes)??0)},0);return x.jsxs("button",{type:"button",onClick:T=>{T.stopPropagation(),ie(O),R(U.id)},className:He("flex w-full flex-col gap-1 rounded-xl border border-white/10 bg-slate-950/60 px-3 py-2 text-left transition hover:border-white/30 hover:text-white",U.id===N&&Eu(O,b)&&"border-sky-400/60 text-white"),children:[x.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[x.jsx("span",{className:"truncate font-medium",children:U.title||"Sesión sin título"}),x.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-white/40",children:[U.workItems.length," · ",q," min"]})]}),P?x.jsx("p",{className:"text-[11px] leading-relaxed text-white/60",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:P}):null]},U.id)})})]},O)})})]})]}),x.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),x.jsx("h2",{className:"text-2xl font-semibold text-white",children:We(b).format("dddd, D [de] MMMM")})]}),x.jsx("div",{className:"flex gap-3",children:x.jsx("button",{type:"button",onClick:D,className:"btn-primary",children:"+ Nueva sesión"})})]}),x.jsx("div",{className:"space-y-3",children:K.length===0?x.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"Aún no hay sesiones planificadas este día. Crea una con el botón superior."}):K.map(O=>x.jsx(m4,{session:O,objectives:n,works:t,isActive:O.id===N,onSelect:()=>R(O.id),onDuplicate:()=>L(O.id),onDelete:()=>X(O.id)},O.id))})]}),ne&&x.jsx("div",{className:"glass-panel p-6",children:x.jsx(f4,{session:ne,works:t,objectives:n,assistants:r,onDateChange:O=>{S(O),C(We(O).startOf("month").format("YYYY-MM-DD"))}})})]})}const x0={name:"",subtitle:"",objectiveId:"",parentWorkId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""]},b0="__no_objective__";function v4({work:e,objective:t,childCount:n,depth:r,expanded:s,onToggle:o,onEdit:a,onDuplicate:u,onCreateChild:c,onDelete:f}){const h=(e.descriptionMarkdown??"").trim(),p=(e.subtitle??"").trim(),v=(e.notes??"").trim(),g=e.videoUrls.filter(B=>B.trim().length>0),b=h.length>0,S=p.length>0,E=v.length>0,C=g.length>0,N=b||E||C,R=n>0,z=r>0?{marginLeft:`${r*1.5}rem`}:void 0;return x.jsxs("article",{id:`work-${e.id}`,className:"group relative space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5 pb-10 shadow shadow-black/30",style:z,children:[t?x.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-3xl",style:{backgroundColor:t.colorHex}}):null,x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("button",{type:"button",onClick:()=>{N&&o()},className:He("flex flex-1 items-start gap-3 rounded-2xl border border-transparent px-3 py-2 text-left transition",N?"hover:border-white/10 hover:bg-white/5 focus-visible:border-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40":"cursor-default"),"aria-expanded":N?s:void 0,disabled:!N,children:[N?x.jsx("span",{className:He("mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full border border-white/20 text-xs text-white/70 transition",s?"rotate-90 border-white/40 text-white":""),"aria-hidden":!0,children:"▶"}):null,x.jsxs("span",{children:[x.jsx("h3",{className:"text-xl font-semibold text-white",children:e.name}),S?x.jsx("p",{className:"text-sm text-white/70",children:p}):null,x.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]})]})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[x.jsx(Ur,{objective:t,size:"sm"}),x.jsxs(Hi,{as:"div",className:"relative inline-flex",children:[x.jsxs(Hi.Button,{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-white/40 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40",children:[x.jsx("span",{className:"sr-only",children:"Abrir acciones"}),x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5","aria-hidden":"true",children:[x.jsx("circle",{cx:"12",cy:"5",r:"1.5"}),x.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),x.jsx("circle",{cx:"12",cy:"19",r:"1.5"})]})]}),x.jsxs(Hi.Items,{className:"absolute right-0 z-10 mt-2 w-44 overflow-hidden rounded-2xl border border-white/10 bg-slate-900/95 p-1 text-sm text-white shadow-lg shadow-black/40 focus:outline-none",children:[x.jsx(Hi.Item,{children:({active:B})=>x.jsx("button",{type:"button",onClick:a,className:He("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left",B?"bg-white/10 text-white":"text-white/70"),children:"Editar"})}),x.jsx(Hi.Item,{children:({active:B})=>x.jsx("button",{type:"button",onClick:u,className:He("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left",B?"bg-white/10 text-white":"text-white/70"),children:"Duplicar"})}),x.jsx(Hi.Item,{children:({active:B})=>x.jsx("button",{type:"button",onClick:c,className:He("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left",B?"bg-white/10 text-white":"text-white/70"),children:"Nuevo hijo"})}),x.jsx(Hi.Item,{children:({active:B})=>x.jsx("button",{type:"button",onClick:f,className:He("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left",B?"bg-rose-500/20 text-rose-100":"text-rose-300"),children:"Eliminar"})})]})]})]})]}),N&&s&&x.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[b?x.jsx($l,{content:e.descriptionMarkdown,enableWorkLinks:!0}):null,E?x.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,C?x.jsx("div",{className:"space-y-3",children:g.map((B,A)=>x.jsxs("div",{className:"space-y-2",children:[x.jsx(qp,{url:B,title:`${e.name} vídeo ${A+1}`}),x.jsx("a",{href:B,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${A}`))}):null]}),x.jsx("button",{type:"button",onClick:c,className:"absolute bottom-0 left-1/2 flex -translate-x-1/2 translate-y-1/2 items-center justify-center rounded-full border border-dashed border-white/20 bg-slate-950/80 px-4 py-2 text-sm font-semibold text-white/80 opacity-0 transition hover:border-white/40 hover:text-white focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto focus-visible:pointer-events-auto",title:R?"Añadir trabajo hijo":"Crear primer trabajo hijo","aria-label":"Crear trabajo hijo",children:"+"})]})}function y4({form:e,objectiveOptions:t,parentOptions:n,depth:r,onFieldChange:s,onVideoChange:o,onAddVideo:a,onRemoveVideo:u,onSave:c,onCancel:f,isNew:h}){const p=t.find(E=>E.id===e.objectiveId),v=n.find(E=>E.id===e.parentWorkId),g=r>0?{marginLeft:`${r*1.5}rem`}:void 0,b=e.id?`work-name-${e.id}`:void 0,S=e.id?`work-subtitle-${e.id}`:void 0;return x.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",style:g,children:[x.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{className:"flex-1 space-y-3",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:h?"Nuevo trabajo":"Editando trabajo"}),x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:b,children:"Nombre"}),x.jsx("input",{id:b,type:"text",className:"input-field w-full text-base font-semibold",placeholder:"Nombre descriptivo",value:e.name,onChange:E=>s({name:E.target.value})})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:S,children:"Subtítulo (opcional)"}),x.jsx("input",{id:S,type:"text",className:"input-field w-full",placeholder:"Añade un subtítulo breve",value:e.subtitle,onChange:E=>s({subtitle:E.target.value})})]})]}),x.jsx(Ur,{objective:p,size:"sm"})]}),x.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),x.jsxs("select",{className:"input-field",value:e.objectiveId,onChange:E=>s({objectiveId:E.target.value}),children:[x.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map(E=>x.jsx("option",{value:E.id,children:E.name},E.id))]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Trabajo padre (opcional)"}),x.jsxs("select",{className:"input-field",value:e.parentWorkId,onChange:E=>s({parentWorkId:E.target.value}),children:[x.jsx("option",{value:"",children:"Sin trabajo padre"}),n.map(E=>x.jsx("option",{value:E.id,children:E.label},E.id))]}),e.parentWorkId&&v?x.jsxs("p",{className:"text-xs text-white/40",children:["Deriva de: ",v.label]}):null]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duración estimada (min)"}),x.jsx("input",{type:"number",min:0,className:"input-field",value:e.estimatedMinutes,onChange:E=>s({estimatedMinutes:Number(E.target.value)})})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:e.descriptionMarkdown,onChange:E=>s({descriptionMarkdown:E.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes."})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),x.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes,onChange:E=>s({notes:E.target.value})})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vídeos de YouTube"}),x.jsx("div",{className:"space-y-3",children:e.videoUrls.map((E,C)=>x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"url",className:"input-field flex-1",value:E,onChange:N=>o(C,N.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),e.videoUrls.length>1?x.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>u(C),"aria-label":"Eliminar enlace de vídeo",children:"✕"}):null]}),x.jsx(qp,{url:E,title:`Vista previa vídeo ${C+1}`})]},`video-field-${C}`))}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:a,children:"+ Añadir vídeo"})]}),x.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[x.jsx("button",{type:"button",onClick:c,className:"btn-primary",children:"Guardar"}),x.jsx("button",{type:"button",className:"btn-secondary",onClick:f,children:"Cancelar"})]})]})}function w4(){var T;const e=Te(I=>I.works),t=Te(I=>I.objectives),n=Te(I=>I.addWork),r=Te(I=>I.updateWork),s=Te(I=>I.deleteWork),o=Hr(),[a,u]=k.useState(""),[c,f]=k.useState(null),[h,p]=k.useState(new Set),[v,g]=k.useState({}),b=k.useMemo(()=>new Map(t.map(I=>[I.id,I])),[t]),S=k.useMemo(()=>[...t].sort((I,M)=>(I.name??"").localeCompare(M.name??"","es")),[t]),E=k.useMemo(()=>new Map(e.map(I=>[I.id,I])),[e]),C=k.useMemo(()=>{const I=new Map;return e.forEach(M=>{const _=M.parentWorkId;if(!_)return;const Y=I.get(_)??[];Y.push(M),I.set(_,Y)}),I.forEach(M=>{M.sort((_,Y)=>_.name.localeCompare(Y.name,"es",{sensitivity:"base"}))}),I},[e]),N=k.useMemo(()=>{const I=new Map,M=(_,Y)=>{if(I.has(_))return I.get(_);const te=E.get(_);if(!te)return"";if(!te.parentWorkId||Y.has(_))return I.set(_,te.name),te.name;Y.add(_);const Z=M(te.parentWorkId,Y);Y.delete(_);const se=Z?`${Z} · ${te.name}`:te.name;return I.set(_,se),se};return e.forEach(_=>{M(_.id,new Set)}),I},[e,E]);k.useEffect(()=>{const I=o.hash,M="#work-";let _=null;if(I.startsWith(M)&&(_=I.slice(M.length)),!_){const Z=new URLSearchParams(o.search);_=Z.get("workId")??Z.get("work")}if(!_)return;p(Z=>{if(Z.has(_))return Z;const se=new Set(Z);return se.add(_),se});const Y=document.getElementById(`work-${_}`);if(!Y)return;Y.scrollIntoView({behavior:"smooth",block:"start"}),Y.classList.add("ring-2","ring-sky-500/60");const te=window.setTimeout(()=>{Y.classList.remove("ring-2","ring-sky-500/60")},1500);return()=>{window.clearTimeout(te),Y.classList.remove("ring-2","ring-sky-500/60")}},[o.hash,o.search,e]);const R=k.useMemo(()=>{const I=new Map,M=_=>{if(I.has(_))return I.get(_);const Y=new Set;return(C.get(_)??[]).forEach(Z=>{Y.add(Z.id),M(Z.id).forEach(se=>Y.add(se))}),I.set(_,Y),Y};return e.forEach(_=>M(_.id)),I},[e,C]),z=k.useCallback((I,M)=>{var te,Z;const _=new Set;I&&(_.add(I),(te=R.get(I))==null||te.forEach(se=>_.add(se)));const Y=e.filter(se=>!_.has(se.id)).map(se=>({id:se.id,label:(()=>{var he;const ue=N.get(se.id)??se.name,pe=(he=b.get(se.objectiveId))==null?void 0:he.name;return pe?`${pe} · ${ue}`:ue})()})).sort((se,ue)=>se.label.localeCompare(ue.label,"es",{sensitivity:"base"}));if(M&&M.length>0&&!Y.some(se=>se.id===M)){const se=E.get(M),ue=N.get(M)??(se==null?void 0:se.name)??"Trabajo no disponible",pe=se?(Z=b.get(se.objectiveId))==null?void 0:Z.name:void 0,he=pe?`${pe} · ${ue}`:ue;Y.unshift({id:M,label:he})}return Y},[e,N,R,E,b]),B=a.trim().toLowerCase(),A=I=>{var te;if(!B)return!0;const M=((te=b.get(I.objectiveId))==null?void 0:te.name)??"",_=I.parentWorkId?N.get(I.parentWorkId)??"":"",Y=I.id?N.get(I.id)??"":"";return I.name.toLowerCase().includes(B)||(I.subtitle??"").toLowerCase().includes(B)||I.descriptionMarkdown.toLowerCase().includes(B)||M.toLowerCase().includes(B)||_.toLowerCase().includes(B)||Y.toLowerCase().includes(B)},K=k.useMemo(()=>{const I=[],M=_=>{if(!_)return 0;let Y=1,te=E.get(_);const Z=new Set(_?[_]:[]);for(;te&&te.parentWorkId;){const se=te.parentWorkId;if(!se||Z.has(se))break;Y+=1,Z.add(se),te=E.get(se)}return Y};return e.forEach(_=>{const Y=v[_.id],te=(Y==null?void 0:Y.data)??{id:_.id,name:_.name,subtitle:_.subtitle??"",descriptionMarkdown:_.descriptionMarkdown,objectiveId:_.objectiveId,parentWorkId:_.parentWorkId??""};!Y&&!A(te)||I.push({id:_.id,objectiveId:te.objectiveId,parentWorkId:te.parentWorkId??"",depth:M(te.parentWorkId),work:_,isNew:!1,isEditing:!!Y,form:Y==null?void 0:Y.data})}),Object.entries(v).filter(([,_])=>_.isNew).forEach(([_,Y])=>{A(Y.data)&&I.push({id:_,objectiveId:Y.data.objectiveId,parentWorkId:Y.data.parentWorkId,depth:M(Y.data.parentWorkId||void 0),work:void 0,isNew:!0,isEditing:!0,form:Y.data})}),I},[e,E,v,A]),ne=k.useMemo(()=>{const I=new Map;K.forEach(Z=>{const se=b.has(Z.objectiveId)?Z.objectiveId:b0,ue=I.get(se)??[];ue.push(Z),I.set(se,ue)});const M=Z=>{var se,ue;if(Z.isEditing&&Z.form){const pe=Z.form.name.trim()||(((se=Z.work)==null?void 0:se.name)??""),he=Z.form.parentWorkId&&Z.form.parentWorkId.length>0?N.get(Z.form.parentWorkId)??((ue=E.get(Z.form.parentWorkId))==null?void 0:ue.name)??"":"";return he?`${he} · ${pe}`:pe}return Z.work?N.get(Z.work.id)??Z.work.name:Z.id},_=(Z,se)=>{const ue=M(Z),pe=M(se);return ue.localeCompare(pe,"es",{sensitivity:"base"})},Y=[];S.forEach(Z=>{const se=I.get(Z.id);se&&se.length&&Y.push({objective:Z,items:se.slice().sort(_)})});const te=I.get(b0);return te&&te.length&&Y.push({objective:void 0,items:te.slice().sort(_)}),Y},[K,b,S,N,E]),ie=((T=S[0])==null?void 0:T.id)??"",D=(I,M)=>{g(_=>{const Y=_[I];return Y?{..._,[I]:M(Y)}:_})},L=I=>I.length>0?I:[""],X=I=>{g(M=>M[I.id]?M:{...M,[I.id]:{data:{id:I.id,name:I.name,subtitle:I.subtitle??"",objectiveId:I.objectiveId,parentWorkId:I.parentWorkId??"",descriptionMarkdown:I.descriptionMarkdown,estimatedMinutes:I.estimatedMinutes,notes:I.notes??"",videoUrls:L(I.videoUrls.slice())},isNew:!1,originalId:I.id}}),p(M=>{const _=new Set(M);return _.add(I.id),_})},G=()=>{const I=`draft-${bn()}`;g(M=>({...M,[I]:{data:{...x0,id:I,subtitle:"",objectiveId:ie},isNew:!0}})),p(M=>{const _=new Set(M);return _.add(I),_})},O=I=>{const M=`draft-${bn()}`;g(_=>({..._,[M]:{data:{id:M,name:`${I.name} (copia)`,subtitle:I.subtitle??"",objectiveId:I.objectiveId,parentWorkId:I.parentWorkId??"",descriptionMarkdown:I.descriptionMarkdown,estimatedMinutes:I.estimatedMinutes,notes:I.notes??"",videoUrls:L(I.videoUrls.slice())},isNew:!0}})),p(_=>{const Y=new Set(_);return Y.add(M),Y}),f({type:"success",text:"Duplicación creada. Ajusta y guarda para confirmarla."})},W=I=>{const M=`draft-${bn()}`;g(_=>({..._,[M]:{data:{...x0,id:M,subtitle:"",objectiveId:I.objectiveId,parentWorkId:I.id,estimatedMinutes:I.estimatedMinutes},isNew:!0}})),p(_=>{const Y=new Set(_);return Y.add(M),Y}),f({type:"success",text:`Creando un trabajo hijo para «${I.name}». Ajusta y guarda para confirmarlo.`})},$=I=>{p(M=>{const _=new Set(M);return _.has(I)?_.delete(I):_.add(I),_})},U=I=>{g(M=>{const _={...M};return delete _[I],_}),I.startsWith("draft-")&&p(M=>{const _=new Set(M);return _.delete(I),_})},P=I=>{const M=v[I];if(!M)return;const _=(M.data.parentWorkId??"").trim(),Y=_.length>0?_:void 0,te={name:M.data.name.trim(),subtitle:M.data.subtitle.trim()||void 0,objectiveId:M.data.objectiveId,descriptionMarkdown:M.data.descriptionMarkdown,estimatedMinutes:Number(M.data.estimatedMinutes)||0,notes:M.data.notes.trim()||void 0,videoUrls:M.data.videoUrls.map(Z=>Z.trim()).filter(Boolean),parentWorkId:Y};if(!te.name){f({type:"error",text:"El nombre es obligatorio."});return}if(!te.objectiveId){f({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if(te.parentWorkId&&M.originalId){if(te.parentWorkId===M.originalId){f({type:"error",text:"Un trabajo no puede ser su propio padre."});return}const Z=R.get(M.originalId);if(Z&&Z.has(te.parentWorkId)){f({type:"error",text:"Selecciona un trabajo padre que no sea un descendiente."});return}}if(M.isNew){const Z=n(te);g(se=>{const ue={...se};return delete ue[I],ue}),p(se=>{const ue=new Set(se);return ue.delete(I)&&ue.add(Z.id),ue}),f({type:"success",text:"Trabajo creado correctamente."})}else M.originalId&&(r(M.originalId,te),g(Z=>{const se={...Z};return delete se[I],se}),f({type:"success",text:"Trabajo actualizado."}))},q=I=>{var Y;const M=(((Y=R.get(I))==null?void 0:Y.size)??0)>0;if(!s(I)){f({type:"error",text:M?"No se puede eliminar porque tiene trabajos hijos.":"No se puede eliminar porque está siendo usado en alguna sesión."});return}f({type:"success",text:"Trabajo eliminado."}),g(te=>{const Z={...te};return delete Z[I],Z}),p(te=>{const Z=new Set(te);return Z.delete(I),Z})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),x.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),x.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[x.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:a,onChange:I=>u(I.target.value),placeholder:"Buscar por nombre, descripción u objetivo"}),x.jsx("button",{type:"button",className:"btn-primary",onClick:G,children:"Nuevo trabajo"})]})]}),c&&x.jsx("div",{className:He("rounded-2xl border px-4 py-3 text-sm",c.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:c.text})]}),x.jsx("section",{className:"space-y-6",children:ne.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no hay trabajos guardados. Empieza creando uno con el botón «Nuevo trabajo»."}):ne.map(({objective:I,items:M})=>{const _=I?I.name:"Sin objetivo asignado";return x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:_}),x.jsx(Ur,{objective:I,size:"sm"})]}),x.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[M.length," trabajo",M.length===1?"":"s"]})]}),x.jsx("div",{className:"space-y-4",children:M.map(Y=>{var he;const te=h.has(Y.id),Z=(Y.isEditing&&Y.form?Y.form.parentWorkId:Y.parentWorkId)??"",se=Y.isEditing?z((he=Y.work)==null?void 0:he.id,Z):[],pe=(Y.work?C.get(Y.work.id)??[]:[]).length;return Y.isEditing&&Y.form?x.jsx(y4,{form:Y.form,objectiveOptions:S,parentOptions:se,depth:Y.depth,onFieldChange:Ie=>D(Y.id,$e=>{const Ue={...$e.data,...Ie};if(Ie.parentWorkId!==void 0&&Ie.parentWorkId.length>0){const ct=E.get(Ie.parentWorkId);ct&&(Ue.objectiveId=ct.objectiveId)}return{...$e,data:Ue}}),onVideoChange:(Ie,$e)=>D(Y.id,Ue=>{const ct=Ue.data.videoUrls.slice();return ct[Ie]=$e,{...Ue,data:{...Ue.data,videoUrls:ct}}}),onAddVideo:()=>D(Y.id,Ie=>({...Ie,data:{...Ie.data,videoUrls:[...Ie.data.videoUrls,""]}})),onRemoveVideo:Ie=>D(Y.id,$e=>{const Ue=$e.data.videoUrls.slice();return Ue.splice(Ie,1),{...$e,data:{...$e.data,videoUrls:Ue.length?Ue:[""]}}}),onSave:()=>P(Y.id),onCancel:()=>U(Y.id),isNew:Y.isNew},Y.id):Y.work?x.jsx(v4,{work:Y.work,objective:b.get(Y.work.objectiveId),childCount:pe,depth:Y.depth,expanded:te,onToggle:()=>$(Y.id),onEdit:()=>X(Y.work),onDuplicate:()=>O(Y.work),onCreateChild:()=>W(Y.work),onDelete:()=>q(Y.work.id)},Y.id):null})})]},(I==null?void 0:I.id)??"sin-objetivo")})})]})}const sh={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},k0=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function x4(){const e=Te(S=>S.objectives),t=Te(S=>S.addObjective),n=Te(S=>S.updateObjective),r=Te(S=>S.deleteObjective),s=Te(S=>S.works),[o,a]=k.useState(sh),[u,c]=k.useState(null),f=k.useMemo(()=>{const S=new Map;return s.forEach(E=>{S.set(E.objectiveId,(S.get(E.objectiveId)??0)+1)}),S},[s]),h=k.useMemo(()=>[...e].sort((S,E)=>(S.name??"").localeCompare(E.name??"","es")),[e]),p=S=>{if(S.preventDefault(),!o.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const E={name:o.name.trim(),colorHex:o.colorHex,descriptionMarkdown:o.descriptionMarkdown};o.id?(n(o.id,E),c({type:"success",text:"Objetivo actualizado."})):(t(E),c({type:"success",text:"Objetivo creado."})),a(sh)},v=S=>{a({id:S.id,name:S.name,colorHex:S.colorHex,descriptionMarkdown:S.descriptionMarkdown})},g=S=>{const E=r(S);c(E?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},b=()=>{if(e.length===0){c({type:"error",text:"No hay objetivos a los que asignar colores."});return}const S=[...k0];e.map((C,N)=>{const R=S[N%S.length];return{id:C.id,colorHex:R}}).forEach(({id:C,colorHex:N})=>n(C,{colorHex:N})),c({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),x.jsx("p",{className:"text-white/60",children:"Define categorías de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),x.jsx("div",{className:"flex flex-wrap gap-3",children:x.jsx("button",{type:"button",className:"btn-secondary",onClick:b,children:"Repartir colores"})})]}),u&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${u.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:u.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:o.id?"Editar objetivo":"Nuevo objetivo"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:p,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:o.name,onChange:S=>a(E=>({...E,name:S.target.value})),placeholder:"Ej. Resistencia, Técnica, Juego",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),x.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:o.colorHex,onChange:S=>a(E=>({...E,colorHex:S.target.value})),"aria-label":"Elegir color personalizado"}),x.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:o.colorHex,onChange:S=>a(E=>({...E,colorHex:S.target.value})),placeholder:"#60a5fa","aria-label":"Código hex del color"})]}),x.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:k0.map(S=>x.jsx("button",{type:"button",onClick:()=>a(E=>({...E,colorHex:S})),className:He("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",o.colorHex.toLowerCase()===S.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:S},"aria-label":`Seleccionar color ${S}`,children:o.colorHex.toLowerCase()===S.toLowerCase()&&x.jsx("span",{className:"text-xs font-semibold text-slate-900",children:"✓"})},S))})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripción (Markdown)"}),x.jsx("textarea",{className:"input-field min-h-[140px]",value:o.descriptionMarkdown,onChange:S=>a(E=>({...E,descriptionMarkdown:S.target.value})),placeholder:"Explica cuándo usar este tipo de trabajo, objetivos pedagógicos, etc."})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:o.id?"Guardar objetivo":"Crear objetivo"}),o.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(sh),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-6",children:h.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Aún no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripción."}):h.map(S=>x.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[x.jsx(Ur,{objective:S}),x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[x.jsxs("span",{children:[f.get(S.id)??0," trabajos"]}),x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>v(S),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>g(S.id),children:"Eliminar"})]})]}),x.jsx($l,{content:S.descriptionMarkdown})]},S.id))})]})]})}const oh={name:"",notes:"",active:!0};function b4(){const e=Te(h=>h.assistants),t=Te(h=>h.addAssistant),n=Te(h=>h.updateAssistant),r=Te(h=>h.deleteAssistant),[s,o]=k.useState(oh),[a,u]=k.useState(null),c=h=>{if(h.preventDefault(),!s.name.trim()){u({type:"error",text:"El nombre es obligatorio."});return}const p={name:s.name.trim(),notes:s.notes,active:s.active};s.id?(n(s.id,p),u({type:"success",text:"Asistente actualizado."})):(t(p),u({type:"success",text:"Asistente añadido."})),o(oh)},f=h=>{o({id:h.id,name:h.name,notes:h.notes??"",active:h.active})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),x.jsx("p",{className:"text-white/60",children:"Mantén una lista base de alumnado para registrar asistencia rápidamente durante cada sesión."})]})}),a&&x.jsx("div",{className:He("mt-4 rounded-2xl border px-4 py-3 text-sm",a.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:a.text})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[x.jsxs("section",{className:"glass-panel p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:s.id?"Editar asistente":"Nuevo asistente"}),x.jsxs("form",{className:"mt-4 space-y-4",onSubmit:c,children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),x.jsx("input",{type:"text",className:"input-field",value:s.name,onChange:h=>o(p=>({...p,name:h.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),x.jsx("textarea",{className:"input-field min-h-[120px]",value:s.notes,onChange:h=>o(p=>({...p,notes:h.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:s.active,onChange:h=>o(p=>({...p,active:h.target.checked}))}),x.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecerá en los listados de asistencia)"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"submit",className:"btn-primary",children:s.id?"Guardar asistente":"Añadir asistente"}),s.id&&x.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(oh),children:"Cancelar edición"})]})]})]}),x.jsx("section",{className:"space-y-4",children:e.length===0?x.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todavía no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(h=>x.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:h.name}),h.notes?x.jsx("p",{className:"text-sm text-white/60",children:h.notes}):null]}),x.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[x.jsx("span",{className:He("rounded-full border px-3 py-1 text-xs font-semibold",h.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:h.active?"Activo":"Inactivo"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(h),children:"Editar"}),x.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(h.id),children:"Eliminar"})]})]})]},h.id))})]})]})}function Gs(e,t){return x.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[x.jsx("span",{children:e}),x.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function k4(){var c,f,h,p,v,g;const e=Te(b=>b.exportBackup),t=Te(b=>b.importBackup),[n,r]=k.useState(null),[s,o]=k.useState(null),a=()=>{try{const b=e(),S=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),E=URL.createObjectURL(S),C=document.createElement("a");C.href=E,C.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,C.click(),URL.revokeObjectURL(E),r({type:"success",text:"Backup exportado correctamente."})}catch(b){console.error(b),r({type:"error",text:"No se pudo exportar el backup."})}},u=async b=>{var E;const S=(E=b.target.files)==null?void 0:E[0];if(S)try{const C=await S.text(),N=JSON.parse(C);t(N),o(N),r({type:"success",text:"Datos importados correctamente."})}catch(C){console.error(C),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON válido."})}finally{b.target.value=""}};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),x.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu información en JSON versionado para compartir o restaurar en cualquier momento."})]}),x.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[x.jsx("button",{type:"button",className:"btn-primary",onClick:a,children:"Descargar backup"}),x.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",x.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:u})]})]})]}),n&&x.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),s&&x.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-white",children:"Última importación"}),x.jsxs("p",{className:"text-sm text-white/60",children:["Versión del backup: ",s.version]}),x.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[Gs("Objetivos",((c=s.objetivos)==null?void 0:c.length)??0),Gs("Trabajos",((f=s.trabajos)==null?void 0:f.length)??0),Gs("Sesiones",((h=s.sesiones)==null?void 0:h.length)??0),Gs("Asistentes",((p=s.asistentes)==null?void 0:p.length)??0),Gs("Sesiones · Trabajos",((v=s.sesiones_trabajos)==null?void 0:v.length)??0),Gs("Sesiones · Asistencias",((g=s.sesiones_asistencias)==null?void 0:g.length)??0)]})]}),x.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[x.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),x.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[x.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),x.jsx("li",{children:"Antes de importar, realiza una exportación por seguridad. La restauración sobrescribe los datos actuales sin posibilidad de deshacer."}),x.jsx("li",{children:"Los backups mantienen los IDs, así que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function S4(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=xc(),[s,o]=k.useState("login"),[a,u]=k.useState(""),[c,f]=k.useState(""),[h,p]=k.useState(""),[v,g]=k.useState(!1),[b,S]=k.useState(null),[E,C]=k.useState(null);if(!r&&n)return x.jsx(op,{to:"/",replace:!0});const N=async z=>{if(z.preventDefault(),S(null),C(null),!a||!c){S("Introduce tu email y contraseña.");return}if(s==="register"&&c!==h){S("Las contraseñas no coinciden.");return}try{g(!0),s==="login"?await e(a,c):(await t(a,c),C("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesión."))}catch(B){const A=B instanceof Error?B.message:"No se pudo completar la operación.";S(A)}finally{g(!1)}},R=()=>{o(z=>z==="login"?"register":"login"),S(null),C(null),f(""),p("")};return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:x.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[x.jsxs("header",{className:"mb-8 text-center",children:[x.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),x.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:s==="login"?"Inicia sesión":"Crea tu cuenta"}),x.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),x.jsxs("form",{className:"space-y-5",onSubmit:N,children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),x.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:a,onChange:z=>u(z.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contraseña"}),x.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:c,onChange:z=>f(z.target.value),autoComplete:s==="login"?"current-password":"new-password"})]}),s==="register"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contraseña"}),x.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:h,onChange:z=>p(z.target.value),autoComplete:"new-password"})]}),b&&x.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:b}),E&&x.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:E}),x.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:v,children:v?"Procesando…":s==="login"?"Entrar":"Crear cuenta"})]}),x.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:s==="login"?x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:R,children:"¿No tienes cuenta? Regístrate"}):x.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:R,children:"¿Ya tienes cuenta? Inicia sesión"})})]})})}const S0=[{to:"/",label:"Home"},{to:"/plan",label:"Planificar"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function E4(){const[e,t]=k.useState(!1),[n,r]=k.useState(!1),{user:s,signOut:o}=xc(),a=async()=>{try{r(!0),await o()}catch(u){console.error("No se pudo cerrar sesión",u)}finally{r(!1),t(!1)}};return x.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[x.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[x.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),x.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increíbles"})]})]}),x.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[x.jsx("nav",{className:"flex items-center gap-2",children:S0.map(u=>x.jsx(qv,{to:u.to,className:({isActive:c})=>`rounded-full px-4 py-2 text-sm font-medium transition ${c?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:u.label},u.to))}),x.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-white/50",children:"Sesión iniciada"}),x.jsx("p",{className:"text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"})]}),x.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]}),x.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),x.jsxs(Py,{open:e,onClose:t,className:"md:hidden",children:[x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),x.jsxs(Py.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegación"}),x.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegación",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"mt-6 flex flex-col gap-2",children:S0.map(u=>x.jsx(qv,{to:u.to,className:({isActive:c})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${c?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:u.label},u.to))}),x.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesión iniciada"}),x.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(s==null?void 0:s.email)??"Cuenta"}),x.jsx("button",{type:"button",onClick:()=>{a()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo…":"Cerrar sesión"})]})]})]})]})}function _4(){return jP(),x.jsxs("div",{className:"min-h-screen pb-16",children:[x.jsx(E4,{}),x.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:x.jsx(O0,{})})]})}function C4(){return x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),x.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner…"})]})})}function j4(){const{session:e,loading:t}=xc(),n=Hr();return t?x.jsx(C4,{}):e?x.jsx(O0,{}):x.jsx(op,{to:"/login",replace:!0,state:{from:n}})}function T4(){return x.jsx(i_,{children:x.jsxs(GE,{children:[x.jsx(Xn,{path:"/login",element:x.jsx(S4,{})}),x.jsx(Xn,{element:x.jsx(j4,{}),children:x.jsxs(Xn,{element:x.jsx(_4,{}),children:[x.jsx(Xn,{index:!0,element:x.jsx(SM,{})}),x.jsx(Xn,{path:"plan",element:x.jsx(g4,{})}),x.jsx(Xn,{path:"catalog",element:x.jsx(w4,{})}),x.jsx(Xn,{path:"objectives",element:x.jsx(x4,{})}),x.jsx(Xn,{path:"assistants",element:x.jsx(b4,{})}),x.jsx(Xn,{path:"backups",element:x.jsx(k4,{})})]})}),x.jsx(Xn,{path:"*",element:x.jsx(op,{to:"/",replace:!0})})]})})}Te.getState().hydrate();iE.createRoot(document.getElementById("root")).render(x.jsx(me.StrictMode,{children:x.jsx(gP,{children:x.jsx(T4,{})})}));
