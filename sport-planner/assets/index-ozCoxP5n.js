function LE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Nf={exports:{}},xa={},Tf={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function $E(){if(nv)return Ge;nv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=p&&R[p]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function _(R,H,I){this.props=R,this.context=H,this.refs=w,this.updater=I||y}_.prototype.isReactComponent={},_.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},_.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=_.prototype;function N(R,H,I){this.props=R,this.context=H,this.refs=w,this.updater=I||y}var C=N.prototype=new E;C.constructor=N,S(C,_.prototype),C.isPureReactComponent=!0;var P=Array.isArray,O=Object.prototype.hasOwnProperty,A={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function re(R,H,I){var ce,le={},ae=null,xe=null;if(H!=null)for(ce in H.ref!==void 0&&(xe=H.ref),H.key!==void 0&&(ae=""+H.key),H)O.call(H,ce)&&!B.hasOwnProperty(ce)&&(le[ce]=H[ce]);var ue=arguments.length-2;if(ue===1)le.children=I;else if(1<ue){for(var be=Array(ue),we=0;we<ue;we++)be[we]=arguments[we+2];le.children=be}if(R&&R.defaultProps)for(ce in ue=R.defaultProps,ue)le[ce]===void 0&&(le[ce]=ue[ce]);return{$$typeof:e,type:R,key:ae,ref:xe,props:le,_owner:A.current}}function X(R,H){return{$$typeof:e,type:R.type,key:H,ref:R.ref,props:R.props,_owner:R._owner}}function L(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function $(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(I){return H[I]})}var Q=/\/+/g;function Y(R,H){return typeof R=="object"&&R!==null&&R.key!=null?$(""+R.key):H.toString(36)}function q(R,H,I,ce,le){var ae=typeof R;(ae==="undefined"||ae==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(ae){case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case e:case t:xe=!0}}if(xe)return xe=R,le=le(xe),R=ce===""?"."+Y(xe,0):ce,P(le)?(I="",R!=null&&(I=R.replace(Q,"$&/")+"/"),q(le,H,I,"",function(we){return we})):le!=null&&(L(le)&&(le=X(le,I+(!le.key||xe&&xe.key===le.key?"":(""+le.key).replace(Q,"$&/")+"/")+R)),H.push(le)),1;if(xe=0,ce=ce===""?".":ce+":",P(R))for(var ue=0;ue<R.length;ue++){ae=R[ue];var be=ce+Y(ae,ue);xe+=q(ae,H,I,be,le)}else if(be=v(R),typeof be=="function")for(R=be.call(R),ue=0;!(ae=R.next()).done;)ae=ae.value,be=ce+Y(ae,ue++),xe+=q(ae,H,I,be,le);else if(ae==="object")throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return xe}function F(R,H,I){if(R==null)return R;var ce=[],le=0;return q(R,ce,"","",function(ae){return H.call(I,ae,le++)}),ce}function W(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(I){(R._status===0||R._status===-1)&&(R._status=1,R._result=I)},function(I){(R._status===0||R._status===-1)&&(R._status=2,R._result=I)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var Z={current:null},M={transition:null},z={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:M,ReactCurrentOwner:A};function j(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:F,forEach:function(R,H,I){F(R,function(){H.apply(this,arguments)},I)},count:function(R){var H=0;return F(R,function(){H++}),H},toArray:function(R){return F(R,function(H){return H})||[]},only:function(R){if(!L(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ge.Component=_,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=N,Ge.StrictMode=r,Ge.Suspense=c,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Ge.act=j,Ge.cloneElement=function(R,H,I){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ce=S({},R.props),le=R.key,ae=R.ref,xe=R._owner;if(H!=null){if(H.ref!==void 0&&(ae=H.ref,xe=A.current),H.key!==void 0&&(le=""+H.key),R.type&&R.type.defaultProps)var ue=R.type.defaultProps;for(be in H)O.call(H,be)&&!B.hasOwnProperty(be)&&(ce[be]=H[be]===void 0&&ue!==void 0?ue[be]:H[be])}var be=arguments.length-2;if(be===1)ce.children=I;else if(1<be){ue=Array(be);for(var we=0;we<be;we++)ue[we]=arguments[we+2];ce.children=ue}return{$$typeof:e,type:R.type,key:le,ref:ae,props:ce,_owner:xe}},Ge.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},Ge.createElement=re,Ge.createFactory=function(R){var H=re.bind(null,R);return H.type=R,H},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(R){return{$$typeof:u,render:R}},Ge.isValidElement=L,Ge.lazy=function(R){return{$$typeof:h,_payload:{_status:-1,_result:R},_init:W}},Ge.memo=function(R,H){return{$$typeof:f,type:R,compare:H===void 0?null:H}},Ge.startTransition=function(R){var H=M.transition;M.transition={};try{R()}finally{M.transition=H}},Ge.unstable_act=j,Ge.useCallback=function(R,H){return Z.current.useCallback(R,H)},Ge.useContext=function(R){return Z.current.useContext(R)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(R){return Z.current.useDeferredValue(R)},Ge.useEffect=function(R,H){return Z.current.useEffect(R,H)},Ge.useId=function(){return Z.current.useId()},Ge.useImperativeHandle=function(R,H,I){return Z.current.useImperativeHandle(R,H,I)},Ge.useInsertionEffect=function(R,H){return Z.current.useInsertionEffect(R,H)},Ge.useLayoutEffect=function(R,H){return Z.current.useLayoutEffect(R,H)},Ge.useMemo=function(R,H){return Z.current.useMemo(R,H)},Ge.useReducer=function(R,H,I){return Z.current.useReducer(R,H,I)},Ge.useRef=function(R){return Z.current.useRef(R)},Ge.useState=function(R){return Z.current.useState(R)},Ge.useSyncExternalStore=function(R,H,I){return Z.current.useSyncExternalStore(R,H,I)},Ge.useTransition=function(){return Z.current.useTransition()},Ge.version="18.3.1",Ge}var rv;function gc(){return rv||(rv=1,Tf.exports=$E()),Tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function FE(){if(iv)return xa;iv=1;var e=gc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var h,p={},v=null,y=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:t,type:u,key:v,ref:y,props:p,_owner:i.current}}return xa.Fragment=n,xa.jsx=l,xa.jsxs=l,xa}var sv;function zE(){return sv||(sv=1,Nf.exports=FE()),Nf.exports}var g=zE(),k=gc();const Se=No(k),Vu=LE({__proto__:null,default:Se},[k]);var vu={},If={exports:{}},In={},Pf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function BE(){return ov||(ov=1,(function(e){function t(M,z){var j=M.length;M.push(z);e:for(;0<j;){var R=j-1>>>1,H=M[R];if(0<i(H,z))M[R]=z,M[j]=H,j=R;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var z=M[0],j=M.pop();if(j!==z){M[0]=j;e:for(var R=0,H=M.length,I=H>>>1;R<I;){var ce=2*(R+1)-1,le=M[ce],ae=ce+1,xe=M[ae];if(0>i(le,j))ae<H&&0>i(xe,le)?(M[R]=xe,M[ae]=j,R=ae):(M[R]=le,M[ce]=j,R=ce);else if(ae<H&&0>i(xe,j))M[R]=xe,M[ae]=j,R=ae;else break e}}return z}function i(M,z){var j=M.sortIndex-z.sortIndex;return j!==0?j:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],f=[],h=1,p=null,v=3,y=!1,S=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(M){for(var z=n(f);z!==null;){if(z.callback===null)r(f);else if(z.startTime<=M)r(f),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(f)}}function P(M){if(w=!1,C(M),!S)if(n(c)!==null)S=!0,W(O);else{var z=n(f);z!==null&&Z(P,z.startTime-M)}}function O(M,z){S=!1,w&&(w=!1,E(re),re=-1),y=!0;var j=v;try{for(C(z),p=n(c);p!==null&&(!(p.expirationTime>z)||M&&!$());){var R=p.callback;if(typeof R=="function"){p.callback=null,v=p.priorityLevel;var H=R(p.expirationTime<=z);z=e.unstable_now(),typeof H=="function"?p.callback=H:p===n(c)&&r(c),C(z)}else r(c);p=n(c)}if(p!==null)var I=!0;else{var ce=n(f);ce!==null&&Z(P,ce.startTime-z),I=!1}return I}finally{p=null,v=j,y=!1}}var A=!1,B=null,re=-1,X=5,L=-1;function $(){return!(e.unstable_now()-L<X)}function Q(){if(B!==null){var M=e.unstable_now();L=M;var z=!0;try{z=B(!0,M)}finally{z?Y():(A=!1,B=null)}}else A=!1}var Y;if(typeof N=="function")Y=function(){N(Q)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,F=q.port2;q.port1.onmessage=Q,Y=function(){F.postMessage(null)}}else Y=function(){_(Q,0)};function W(M){B=M,A||(A=!0,Y())}function Z(M,z){re=_(function(){M(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,W(O))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var j=v;v=z;try{return M()}finally{v=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var j=v;v=M;try{return z()}finally{v=j}},e.unstable_scheduleCallback=function(M,z,j){var R=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?R+j:R):j=R,M){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,M={id:h++,callback:z,priorityLevel:M,startTime:j,expirationTime:H,sortIndex:-1},j>R?(M.sortIndex=j,t(f,M),n(c)===null&&M===n(f)&&(w?(E(re),re=-1):w=!0,Z(P,j-R))):(M.sortIndex=H,t(c,M),S||y||(S=!0,W(O))),M},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(M){var z=v;return function(){var j=v;v=z;try{return M.apply(this,arguments)}finally{v=j}}}})(Af)),Af}var av;function UE(){return av||(av=1,Pf.exports=BE()),Pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function WE(){if(lv)return In;lv=1;var e=gc(),t=UE();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(s){return c.call(p,s)?!0:c.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function y(s,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,d,m){if(a===null||typeof a>"u"||y(s,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,d,m,x,b,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=T}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];_[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(E,N);_[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(E,N);_[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(E,N);_[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,a,d,m){var x=_.hasOwnProperty(a)?_[a]:null;(x!==null?x.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,d,x,m)&&(d=null),m||x===null?v(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):x.mustUseProperty?s[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,m=x.attributeNamespace,d===null?s.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?s.setAttributeNS(m,a,d):s.setAttribute(a,d))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),A=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),M=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var j=Object.assign,R;function H(s){if(R===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);R=a&&a[1]||""}return`
`+R+s}var I=!1;function ce(s,a){if(!s||I)return"";I=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(se){var m=se}Reflect.construct(s,[],a)}else{try{a.call()}catch(se){m=se}s.call(a.prototype)}else{try{throw Error()}catch(se){m=se}s()}}catch(se){if(se&&m&&typeof se.stack=="string"){for(var x=se.stack.split(`
`),b=m.stack.split(`
`),T=x.length-1,U=b.length-1;1<=T&&0<=U&&x[T]!==b[U];)U--;for(;1<=T&&0<=U;T--,U--)if(x[T]!==b[U]){if(T!==1||U!==1)do if(T--,U--,0>U||x[T]!==b[U]){var V=`
`+x[T].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=T&&0<=U);break}}}finally{I=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?H(s):""}function le(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case B:return"Fragment";case A:return"Portal";case X:return"Profiler";case re:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return a=s.displayName||null,a!==null?a:ae(s.type)||"Memo";case W:a=s._payload,s=s._init;try{return ae(s(a))}catch{}}return null}function xe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(a);case 8:return a===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function be(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function we(s){var a=be(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,b=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,b.call(this,T)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function _e(s){s._valueTracker||(s._valueTracker=we(s))}function Fe(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return s&&(m=be(s)?s.checked?"true":"false":s.value),s=m,s!==d?(a.setValue(s),!0):!1}function We(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Oe(s,a){var d=a.checked;return j({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Xe(s,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=ue(a.value!=null?a.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function St(s,a){a=a.checked,a!=null&&C(s,"checked",a,!1)}function tn(s,a){St(s,a);var d=ue(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?J(s,a.type,d):a.hasOwnProperty("defaultValue")&&J(s,a.type,ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Gn(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function J(s,a,d){(a!=="number"||We(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var oe=Array.isArray;function de(s,a,d,m){if(s=s.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=a.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&m&&(s[d].defaultSelected=!0)}else{for(d=""+ue(d),a=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}a!==null||s[x].disabled||(a=s[x])}a!==null&&(a.selected=!0)}}function Ce(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ve(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(oe(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:ue(d)}}function D(s,a){var d=ue(a.value),m=ue(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function te(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function K(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ee(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?K(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ge,Pe=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,x){MSApp.execUnsafeLocalFunction(function(){return s(a,d,m,x)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ge=ge||document.createElement("div"),ge.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ge.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ze(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ut=["Webkit","ms","Moz","O"];Object.keys(ke).forEach(function(s){ut.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ke[a]=ke[s]})});function lt(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||ke.hasOwnProperty(s)&&ke[s]?(""+a).trim():a+"px"}function Ke(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=lt(d,a[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,x):s[d]=x}}var xt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tt(s,a){if(a){if(xt[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Bt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function mn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ot=null,gn=null,mt=null;function Ye(s){if(s=ia(s)){if(typeof ot!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Rl(a),ot(s.stateNode,s.type,a))}}function it(s){gn?mt?mt.push(s):mt=[s]:gn=s}function nt(){if(gn){var s=gn,a=mt;if(mt=gn=null,Ye(s),a)for(s=0;s<a.length;s++)Ye(a[s])}}function wt(s,a){return s(a)}function nn(){}var En=!1;function Wr(s,a,d){if(En)return s(a,d);En=!0;try{return wt(s,a,d)}finally{En=!1,(gn!==null||mt!==null)&&(nn(),nt())}}function Et(s,a){var d=s.stateNode;if(d===null)return null;var m=Rl(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Jn=!1;if(u)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{Jn=!1}function ar(s,a,d,m,x,b,T,U,V){var se=Array.prototype.slice.call(arguments,3);try{a.apply(d,se)}catch(he){this.onError(he)}}var lr=!1,_r=null,Dn=!1,Hr=null,Fo={onError:function(s){lr=!0,_r=s}};function H1(s,a,d,m,x,b,T,U,V){lr=!1,_r=null,ar.apply(Fo,arguments)}function V1(s,a,d,m,x,b,T,U,V){if(H1.apply(this,arguments),lr){if(lr){var se=_r;lr=!1,_r=null}else throw Error(n(198));Dn||(Dn=!0,Hr=se)}}function Ui(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function _m(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Cm(s){if(Ui(s)!==s)throw Error(n(188))}function q1(s){var a=s.alternate;if(!a){if(a=Ui(s),a===null)throw Error(n(188));return a!==s?null:s}for(var d=s,m=a;;){var x=d.return;if(x===null)break;var b=x.alternate;if(b===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===d)return Cm(x),s;if(b===m)return Cm(x),a;b=b.sibling}throw Error(n(188))}if(d.return!==m.return)d=x,m=b;else{for(var T=!1,U=x.child;U;){if(U===d){T=!0,d=x,m=b;break}if(U===m){T=!0,m=x,d=b;break}U=U.sibling}if(!T){for(U=b.child;U;){if(U===d){T=!0,d=b,m=x;break}if(U===m){T=!0,m=b,d=x;break}U=U.sibling}if(!T)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:a}function jm(s){return s=q1(s),s!==null?Nm(s):null}function Nm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Nm(s);if(a!==null)return a;s=s.sibling}return null}var Tm=t.unstable_scheduleCallback,Im=t.unstable_cancelCallback,Y1=t.unstable_shouldYield,K1=t.unstable_requestPaint,At=t.unstable_now,G1=t.unstable_getCurrentPriorityLevel,Yc=t.unstable_ImmediatePriority,Pm=t.unstable_UserBlockingPriority,hl=t.unstable_NormalPriority,J1=t.unstable_LowPriority,Am=t.unstable_IdlePriority,pl=null,Cr=null;function Q1(s){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(pl,s,void 0,(s.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:eS,X1=Math.log,Z1=Math.LN2;function eS(s){return s>>>=0,s===0?32:31-(X1(s)/Z1|0)|0}var ml=64,gl=4194304;function zo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function yl(s,a){var d=s.pendingLanes;if(d===0)return 0;var m=0,x=s.suspendedLanes,b=s.pingedLanes,T=d&268435455;if(T!==0){var U=T&~x;U!==0?m=zo(U):(b&=T,b!==0&&(m=zo(b)))}else T=d&~x,T!==0?m=zo(T):b!==0&&(m=zo(b));if(m===0)return 0;if(a!==0&&a!==m&&(a&x)===0&&(x=m&-m,b=a&-a,x>=b||x===16&&(b&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)d=31-ur(a),x=1<<d,m|=s[d],a&=~x;return m}function tS(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nS(s,a){for(var d=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,b=s.pendingLanes;0<b;){var T=31-ur(b),U=1<<T,V=x[T];V===-1?((U&d)===0||(U&m)!==0)&&(x[T]=tS(U,a)):V<=a&&(s.expiredLanes|=U),b&=~U}}function Kc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Rm(){var s=ml;return ml<<=1,(ml&4194240)===0&&(ml=64),s}function Gc(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function Bo(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ur(a),s[a]=d}function rS(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var x=31-ur(d),b=1<<x;a[x]=0,m[x]=-1,s[x]=-1,d&=~b}}function Jc(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var m=31-ur(d),x=1<<m;x&a|s[m]&a&&(s[m]|=a),d&=~x}}var at=0;function Om(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Mm,Qc,Lm,Dm,$m,Xc=!1,vl=[],oi=null,ai=null,li=null,Uo=new Map,Wo=new Map,ui=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fm(s,a){switch(s){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Uo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(a.pointerId)}}function Ho(s,a,d,m,x,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[x]},a!==null&&(a=ia(a),a!==null&&Qc(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),s)}function sS(s,a,d,m,x){switch(a){case"focusin":return oi=Ho(oi,s,a,d,m,x),!0;case"dragenter":return ai=Ho(ai,s,a,d,m,x),!0;case"mouseover":return li=Ho(li,s,a,d,m,x),!0;case"pointerover":var b=x.pointerId;return Uo.set(b,Ho(Uo.get(b)||null,s,a,d,m,x)),!0;case"gotpointercapture":return b=x.pointerId,Wo.set(b,Ho(Wo.get(b)||null,s,a,d,m,x)),!0}return!1}function zm(s){var a=Wi(s.target);if(a!==null){var d=Ui(a);if(d!==null){if(a=d.tag,a===13){if(a=_m(d),a!==null){s.blockedOn=a,$m(s.priority,function(){Lm(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=ed(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);Nt=m,d.target.dispatchEvent(m),Nt=null}else return a=ia(d),a!==null&&Qc(a),s.blockedOn=d,!1;a.shift()}return!0}function Bm(s,a,d){xl(s)&&d.delete(a)}function oS(){Xc=!1,oi!==null&&xl(oi)&&(oi=null),ai!==null&&xl(ai)&&(ai=null),li!==null&&xl(li)&&(li=null),Uo.forEach(Bm),Wo.forEach(Bm)}function Vo(s,a){s.blockedOn===a&&(s.blockedOn=null,Xc||(Xc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oS)))}function qo(s){function a(x){return Vo(x,s)}if(0<vl.length){Vo(vl[0],s);for(var d=1;d<vl.length;d++){var m=vl[d];m.blockedOn===s&&(m.blockedOn=null)}}for(oi!==null&&Vo(oi,s),ai!==null&&Vo(ai,s),li!==null&&Vo(li,s),Uo.forEach(a),Wo.forEach(a),d=0;d<ui.length;d++)m=ui[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<ui.length&&(d=ui[0],d.blockedOn===null);)zm(d),d.blockedOn===null&&ui.shift()}var Ns=P.ReactCurrentBatchConfig,wl=!0;function aS(s,a,d,m){var x=at,b=Ns.transition;Ns.transition=null;try{at=1,Zc(s,a,d,m)}finally{at=x,Ns.transition=b}}function lS(s,a,d,m){var x=at,b=Ns.transition;Ns.transition=null;try{at=4,Zc(s,a,d,m)}finally{at=x,Ns.transition=b}}function Zc(s,a,d,m){if(wl){var x=ed(s,a,d,m);if(x===null)yd(s,a,m,bl,d),Fm(s,m);else if(sS(x,s,a,d,m))m.stopPropagation();else if(Fm(s,m),a&4&&-1<iS.indexOf(s)){for(;x!==null;){var b=ia(x);if(b!==null&&Mm(b),b=ed(s,a,d,m),b===null&&yd(s,a,m,bl,d),b===x)break;x=b}x!==null&&m.stopPropagation()}else yd(s,a,m,null,d)}}var bl=null;function ed(s,a,d,m){if(bl=null,s=mn(m),s=Wi(s),s!==null)if(a=Ui(s),a===null)s=null;else if(d=a.tag,d===13){if(s=_m(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return bl=s,null}function Um(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G1()){case Yc:return 1;case Pm:return 4;case hl:case J1:return 16;case Am:return 536870912;default:return 16}default:return 16}}var ci=null,td=null,kl=null;function Wm(){if(kl)return kl;var s,a=td,d=a.length,m,x="value"in ci?ci.value:ci.textContent,b=x.length;for(s=0;s<d&&a[s]===x[s];s++);var T=d-s;for(m=1;m<=T&&a[d-m]===x[b-m];m++);return kl=x.slice(s,1<m?1-m:void 0)}function Sl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function El(){return!0}function Hm(){return!1}function $n(s){function a(d,m,x,b,T){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(d=s[U],this[U]=d?d(b):b[U]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?El:Hm,this.isPropagationStopped=Hm,this}return j(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),a}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nd=$n(Ts),Yo=j({},Ts,{view:0,detail:0}),uS=$n(Yo),rd,id,Ko,_l=j({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ko&&(Ko&&s.type==="mousemove"?(rd=s.screenX-Ko.screenX,id=s.screenY-Ko.screenY):id=rd=0,Ko=s),rd)},movementY:function(s){return"movementY"in s?s.movementY:id}}),Vm=$n(_l),cS=j({},_l,{dataTransfer:0}),dS=$n(cS),fS=j({},Yo,{relatedTarget:0}),sd=$n(fS),hS=j({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),pS=$n(hS),mS=j({},Ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gS=$n(mS),yS=j({},Ts,{data:0}),qm=$n(yS),vS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bS(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=wS[s])?!!a[s]:!1}function od(){return bS}var kS=j({},Yo,{key:function(s){if(s.key){var a=vS[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Sl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(s){return s.type==="keypress"?Sl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),SS=$n(kS),ES=j({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ym=$n(ES),_S=j({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),CS=$n(_S),jS=j({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),NS=$n(jS),TS=j({},_l,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),IS=$n(TS),PS=[9,13,27,32],ad=u&&"CompositionEvent"in window,Go=null;u&&"documentMode"in document&&(Go=document.documentMode);var AS=u&&"TextEvent"in window&&!Go,Km=u&&(!ad||Go&&8<Go&&11>=Go),Gm=" ",Jm=!1;function Qm(s,a){switch(s){case"keyup":return PS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Is=!1;function RS(s,a){switch(s){case"compositionend":return Xm(a);case"keypress":return a.which!==32?null:(Jm=!0,Gm);case"textInput":return s=a.data,s===Gm&&Jm?null:s;default:return null}}function OS(s,a){if(Is)return s==="compositionend"||!ad&&Qm(s,a)?(s=Wm(),kl=td=ci=null,Is=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Km&&a.locale!=="ko"?null:a.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!MS[s.type]:a==="textarea"}function eg(s,a,d,m){it(m),a=Il(a,"onChange"),0<a.length&&(d=new nd("onChange","change",null,d,m),s.push({event:d,listeners:a}))}var Jo=null,Qo=null;function LS(s){vg(s,0)}function Cl(s){var a=Ms(s);if(Fe(a))return s}function DS(s,a){if(s==="change")return a}var tg=!1;if(u){var ld;if(u){var ud="oninput"in document;if(!ud){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),ud=typeof ng.oninput=="function"}ld=ud}else ld=!1;tg=ld&&(!document.documentMode||9<document.documentMode)}function rg(){Jo&&(Jo.detachEvent("onpropertychange",ig),Qo=Jo=null)}function ig(s){if(s.propertyName==="value"&&Cl(Qo)){var a=[];eg(a,Qo,s,mn(s)),Wr(LS,a)}}function $S(s,a,d){s==="focusin"?(rg(),Jo=a,Qo=d,Jo.attachEvent("onpropertychange",ig)):s==="focusout"&&rg()}function FS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cl(Qo)}function zS(s,a){if(s==="click")return Cl(a)}function BS(s,a){if(s==="input"||s==="change")return Cl(a)}function US(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var cr=typeof Object.is=="function"?Object.is:US;function Xo(s,a){if(cr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!c.call(a,x)||!cr(s[x],a[x]))return!1}return!0}function sg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function og(s,a){var d=sg(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=a&&m>=a)return{node:d,offset:a-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=sg(d)}}function ag(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?ag(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function lg(){for(var s=window,a=We();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=We(s.document)}return a}function cd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function WS(s){var a=lg(),d=s.focusedElem,m=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&ag(d.ownerDocument.documentElement,d)){if(m!==null&&cd(d)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var x=d.textContent.length,b=Math.min(m.start,x);m=m.end===void 0?b:Math.min(m.end,x),!s.extend&&b>m&&(x=m,m=b,b=x),x=og(d,b);var T=og(d,m);x&&T&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),s.removeAllRanges(),b>m?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var HS=u&&"documentMode"in document&&11>=document.documentMode,Ps=null,dd=null,Zo=null,fd=!1;function ug(s,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;fd||Ps==null||Ps!==We(m)||(m=Ps,"selectionStart"in m&&cd(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zo&&Xo(Zo,m)||(Zo=m,m=Il(dd,"onSelect"),0<m.length&&(a=new nd("onSelect","select",null,a,d),s.push({event:a,listeners:m}),a.target=Ps)))}function jl(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var As={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},hd={},cg={};u&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Nl(s){if(hd[s])return hd[s];if(!As[s])return s;var a=As[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in cg)return hd[s]=a[d];return s}var dg=Nl("animationend"),fg=Nl("animationiteration"),hg=Nl("animationstart"),pg=Nl("transitionend"),mg=new Map,gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(s,a){mg.set(s,a),o(a,[s])}for(var pd=0;pd<gg.length;pd++){var md=gg[pd],VS=md.toLowerCase(),qS=md[0].toUpperCase()+md.slice(1);di(VS,"on"+qS)}di(dg,"onAnimationEnd"),di(fg,"onAnimationIteration"),di(hg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(pg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function yg(s,a,d){var m=s.type||"unknown-event";s.currentTarget=d,V1(m,a,void 0,s),s.currentTarget=null}function vg(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],x=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var T=m.length-1;0<=T;T--){var U=m[T],V=U.instance,se=U.currentTarget;if(U=U.listener,V!==b&&x.isPropagationStopped())break e;yg(x,U,se),b=V}else for(T=0;T<m.length;T++){if(U=m[T],V=U.instance,se=U.currentTarget,U=U.listener,V!==b&&x.isPropagationStopped())break e;yg(x,U,se),b=V}}}if(Dn)throw s=Hr,Dn=!1,Hr=null,s}function gt(s,a){var d=a[Sd];d===void 0&&(d=a[Sd]=new Set);var m=s+"__bubble";d.has(m)||(xg(a,s,2,!1),d.add(m))}function gd(s,a,d){var m=0;a&&(m|=4),xg(d,s,m,a)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function ta(s){if(!s[Tl]){s[Tl]=!0,r.forEach(function(d){d!=="selectionchange"&&(YS.has(d)||gd(d,!1,s),gd(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Tl]||(a[Tl]=!0,gd("selectionchange",!1,a))}}function xg(s,a,d,m){switch(Um(a)){case 1:var x=aS;break;case 4:x=lS;break;default:x=Zc}d=x.bind(null,a,d,s),x=void 0,!Jn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(a,d,{capture:!0,passive:x}):s.addEventListener(a,d,!0):x!==void 0?s.addEventListener(a,d,{passive:x}):s.addEventListener(a,d,!1)}function yd(s,a,d,m,x){var b=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var U=m.stateNode.containerInfo;if(U===x||U.nodeType===8&&U.parentNode===x)break;if(T===4)for(T=m.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===x||V.nodeType===8&&V.parentNode===x))return;T=T.return}for(;U!==null;){if(T=Wi(U),T===null)return;if(V=T.tag,V===5||V===6){m=b=T;continue e}U=U.parentNode}}m=m.return}Wr(function(){var se=b,he=mn(d),pe=[];e:{var fe=mg.get(s);if(fe!==void 0){var je=nd,Te=s;switch(s){case"keypress":if(Sl(d)===0)break e;case"keydown":case"keyup":je=SS;break;case"focusin":Te="focus",je=sd;break;case"focusout":Te="blur",je=sd;break;case"beforeblur":case"afterblur":je=sd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=dS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=CS;break;case dg:case fg:case hg:je=pS;break;case pg:je=NS;break;case"scroll":je=uS;break;case"wheel":je=IS;break;case"copy":case"cut":case"paste":je=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Ym}var Ie=(a&4)!==0,Rt=!Ie&&s==="scroll",ne=Ie?fe!==null?fe+"Capture":null:fe;Ie=[];for(var G=se,ie;G!==null;){ie=G;var ye=ie.stateNode;if(ie.tag===5&&ye!==null&&(ie=ye,ne!==null&&(ye=Et(G,ne),ye!=null&&Ie.push(na(G,ye,ie)))),Rt)break;G=G.return}0<Ie.length&&(fe=new je(fe,Te,null,d,he),pe.push({event:fe,listeners:Ie}))}}if((a&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",je=s==="mouseout"||s==="pointerout",fe&&d!==Nt&&(Te=d.relatedTarget||d.fromElement)&&(Wi(Te)||Te[Vr]))break e;if((je||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,je?(Te=d.relatedTarget||d.toElement,je=se,Te=Te?Wi(Te):null,Te!==null&&(Rt=Ui(Te),Te!==Rt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(je=null,Te=se),je!==Te)){if(Ie=Vm,ye="onMouseLeave",ne="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Ym,ye="onPointerLeave",ne="onPointerEnter",G="pointer"),Rt=je==null?fe:Ms(je),ie=Te==null?fe:Ms(Te),fe=new Ie(ye,G+"leave",je,d,he),fe.target=Rt,fe.relatedTarget=ie,ye=null,Wi(he)===se&&(Ie=new Ie(ne,G+"enter",Te,d,he),Ie.target=ie,Ie.relatedTarget=Rt,ye=Ie),Rt=ye,je&&Te)t:{for(Ie=je,ne=Te,G=0,ie=Ie;ie;ie=Rs(ie))G++;for(ie=0,ye=ne;ye;ye=Rs(ye))ie++;for(;0<G-ie;)Ie=Rs(Ie),G--;for(;0<ie-G;)ne=Rs(ne),ie--;for(;G--;){if(Ie===ne||ne!==null&&Ie===ne.alternate)break t;Ie=Rs(Ie),ne=Rs(ne)}Ie=null}else Ie=null;je!==null&&wg(pe,fe,je,Ie,!1),Te!==null&&Rt!==null&&wg(pe,Rt,Te,Ie,!0)}}e:{if(fe=se?Ms(se):window,je=fe.nodeName&&fe.nodeName.toLowerCase(),je==="select"||je==="input"&&fe.type==="file")var Ae=DS;else if(Zm(fe))if(tg)Ae=BS;else{Ae=FS;var Me=$S}else(je=fe.nodeName)&&je.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Ae=zS);if(Ae&&(Ae=Ae(s,se))){eg(pe,Ae,d,he);break e}Me&&Me(s,fe,se),s==="focusout"&&(Me=fe._wrapperState)&&Me.controlled&&fe.type==="number"&&J(fe,"number",fe.value)}switch(Me=se?Ms(se):window,s){case"focusin":(Zm(Me)||Me.contentEditable==="true")&&(Ps=Me,dd=se,Zo=null);break;case"focusout":Zo=dd=Ps=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,ug(pe,d,he);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":ug(pe,d,he)}var Le;if(ad)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Is?Qm(s,d)&&(Ue="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ue="onCompositionStart");Ue&&(Km&&d.locale!=="ko"&&(Is||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Is&&(Le=Wm()):(ci=he,td="value"in ci?ci.value:ci.textContent,Is=!0)),Me=Il(se,Ue),0<Me.length&&(Ue=new qm(Ue,s,null,d,he),pe.push({event:Ue,listeners:Me}),Le?Ue.data=Le:(Le=Xm(d),Le!==null&&(Ue.data=Le)))),(Le=AS?RS(s,d):OS(s,d))&&(se=Il(se,"onBeforeInput"),0<se.length&&(he=new qm("onBeforeInput","beforeinput",null,d,he),pe.push({event:he,listeners:se}),he.data=Le))}vg(pe,a)})}function na(s,a,d){return{instance:s,listener:a,currentTarget:d}}function Il(s,a){for(var d=a+"Capture",m=[];s!==null;){var x=s,b=x.stateNode;x.tag===5&&b!==null&&(x=b,b=Et(s,d),b!=null&&m.unshift(na(s,b,x)),b=Et(s,a),b!=null&&m.push(na(s,b,x))),s=s.return}return m}function Rs(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wg(s,a,d,m,x){for(var b=a._reactName,T=[];d!==null&&d!==m;){var U=d,V=U.alternate,se=U.stateNode;if(V!==null&&V===m)break;U.tag===5&&se!==null&&(U=se,x?(V=Et(d,b),V!=null&&T.unshift(na(d,V,U))):x||(V=Et(d,b),V!=null&&T.push(na(d,V,U)))),d=d.return}T.length!==0&&s.push({event:a,listeners:T})}var KS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function bg(s){return(typeof s=="string"?s:""+s).replace(KS,`
`).replace(GS,"")}function Pl(s,a,d){if(a=bg(a),bg(s)!==a&&d)throw Error(n(425))}function Al(){}var vd=null,xd=null;function wd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(s){return kg.resolve(null).then(s).catch(XS)}:bd;function XS(s){setTimeout(function(){throw s})}function kd(s,a){var d=a,m=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){s.removeChild(x),qo(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);qo(a)}function fi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Sg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var Os=Math.random().toString(36).slice(2),jr="__reactFiber$"+Os,ra="__reactProps$"+Os,Vr="__reactContainer$"+Os,Sd="__reactEvents$"+Os,ZS="__reactListeners$"+Os,eE="__reactHandles$"+Os;function Wi(s){var a=s[jr];if(a)return a;for(var d=s.parentNode;d;){if(a=d[Vr]||d[jr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=Sg(s);s!==null;){if(d=s[jr])return d;s=Sg(s)}return a}s=d,d=s.parentNode}return null}function ia(s){return s=s[jr]||s[Vr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ms(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Rl(s){return s[ra]||null}var Ed=[],Ls=-1;function hi(s){return{current:s}}function yt(s){0>Ls||(s.current=Ed[Ls],Ed[Ls]=null,Ls--)}function ft(s,a){Ls++,Ed[Ls]=s.current,s.current=a}var pi={},sn=hi(pi),_n=hi(!1),Hi=pi;function Ds(s,a){var d=s.type.contextTypes;if(!d)return pi;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var x={},b;for(b in d)x[b]=a[b];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=x),x}function Cn(s){return s=s.childContextTypes,s!=null}function Ol(){yt(_n),yt(sn)}function Eg(s,a,d){if(sn.current!==pi)throw Error(n(168));ft(sn,a),ft(_n,d)}function _g(s,a,d){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in a))throw Error(n(108,xe(s)||"Unknown",x));return j({},d,m)}function Ml(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||pi,Hi=sn.current,ft(sn,s),ft(_n,_n.current),!0}function Cg(s,a,d){var m=s.stateNode;if(!m)throw Error(n(169));d?(s=_g(s,a,Hi),m.__reactInternalMemoizedMergedChildContext=s,yt(_n),yt(sn),ft(sn,s)):yt(_n),ft(_n,d)}var qr=null,Ll=!1,_d=!1;function jg(s){qr===null?qr=[s]:qr.push(s)}function tE(s){Ll=!0,jg(s)}function mi(){if(!_d&&qr!==null){_d=!0;var s=0,a=at;try{var d=qr;for(at=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}qr=null,Ll=!1}catch(x){throw qr!==null&&(qr=qr.slice(s+1)),Tm(Yc,mi),x}finally{at=a,_d=!1}}return null}var $s=[],Fs=0,Dl=null,$l=0,Qn=[],Xn=0,Vi=null,Yr=1,Kr="";function qi(s,a){$s[Fs++]=$l,$s[Fs++]=Dl,Dl=s,$l=a}function Ng(s,a,d){Qn[Xn++]=Yr,Qn[Xn++]=Kr,Qn[Xn++]=Vi,Vi=s;var m=Yr;s=Kr;var x=32-ur(m)-1;m&=~(1<<x),d+=1;var b=32-ur(a)+x;if(30<b){var T=x-x%5;b=(m&(1<<T)-1).toString(32),m>>=T,x-=T,Yr=1<<32-ur(a)+x|d<<x|m,Kr=b+s}else Yr=1<<b|d<<x|m,Kr=s}function Cd(s){s.return!==null&&(qi(s,1),Ng(s,1,0))}function jd(s){for(;s===Dl;)Dl=$s[--Fs],$s[Fs]=null,$l=$s[--Fs],$s[Fs]=null;for(;s===Vi;)Vi=Qn[--Xn],Qn[Xn]=null,Kr=Qn[--Xn],Qn[Xn]=null,Yr=Qn[--Xn],Qn[Xn]=null}var Fn=null,zn=null,bt=!1,dr=null;function Tg(s,a){var d=nr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function Ig(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Fn=s,zn=fi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Fn=s,zn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Vi!==null?{id:Yr,overflow:Kr}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=nr(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,Fn=s,zn=null,!0):!1;default:return!1}}function Nd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Td(s){if(bt){var a=zn;if(a){var d=a;if(!Ig(s,a)){if(Nd(s))throw Error(n(418));a=fi(d.nextSibling);var m=Fn;a&&Ig(s,a)?Tg(m,d):(s.flags=s.flags&-4097|2,bt=!1,Fn=s)}}else{if(Nd(s))throw Error(n(418));s.flags=s.flags&-4097|2,bt=!1,Fn=s}}}function Pg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Fn=s}function Fl(s){if(s!==Fn)return!1;if(!bt)return Pg(s),bt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!wd(s.type,s.memoizedProps)),a&&(a=zn)){if(Nd(s))throw Ag(),Error(n(418));for(;a;)Tg(s,a),a=fi(a.nextSibling)}if(Pg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){zn=fi(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}zn=null}}else zn=Fn?fi(s.stateNode.nextSibling):null;return!0}function Ag(){for(var s=zn;s;)s=fi(s.nextSibling)}function zs(){zn=Fn=null,bt=!1}function Id(s){dr===null?dr=[s]:dr.push(s)}var nE=P.ReactCurrentBatchConfig;function sa(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,s));var x=m,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(T){var U=x.refs;T===null?delete U[b]:U[b]=T},a._stringRef=b,a)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function zl(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Rg(s){var a=s._init;return a(s._payload)}function Og(s){function a(ne,G){if(s){var ie=ne.deletions;ie===null?(ne.deletions=[G],ne.flags|=16):ie.push(G)}}function d(ne,G){if(!s)return null;for(;G!==null;)a(ne,G),G=G.sibling;return null}function m(ne,G){for(ne=new Map;G!==null;)G.key!==null?ne.set(G.key,G):ne.set(G.index,G),G=G.sibling;return ne}function x(ne,G){return ne=Si(ne,G),ne.index=0,ne.sibling=null,ne}function b(ne,G,ie){return ne.index=ie,s?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<G?(ne.flags|=2,G):ie):(ne.flags|=2,G)):(ne.flags|=1048576,G)}function T(ne){return s&&ne.alternate===null&&(ne.flags|=2),ne}function U(ne,G,ie,ye){return G===null||G.tag!==6?(G=kf(ie,ne.mode,ye),G.return=ne,G):(G=x(G,ie),G.return=ne,G)}function V(ne,G,ie,ye){var Ae=ie.type;return Ae===B?he(ne,G,ie.props.children,ye,ie.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===W&&Rg(Ae)===G.type)?(ye=x(G,ie.props),ye.ref=sa(ne,G,ie),ye.return=ne,ye):(ye=cu(ie.type,ie.key,ie.props,null,ne.mode,ye),ye.ref=sa(ne,G,ie),ye.return=ne,ye)}function se(ne,G,ie,ye){return G===null||G.tag!==4||G.stateNode.containerInfo!==ie.containerInfo||G.stateNode.implementation!==ie.implementation?(G=Sf(ie,ne.mode,ye),G.return=ne,G):(G=x(G,ie.children||[]),G.return=ne,G)}function he(ne,G,ie,ye,Ae){return G===null||G.tag!==7?(G=es(ie,ne.mode,ye,Ae),G.return=ne,G):(G=x(G,ie),G.return=ne,G)}function pe(ne,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number")return G=kf(""+G,ne.mode,ie),G.return=ne,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case O:return ie=cu(G.type,G.key,G.props,null,ne.mode,ie),ie.ref=sa(ne,null,G),ie.return=ne,ie;case A:return G=Sf(G,ne.mode,ie),G.return=ne,G;case W:var ye=G._init;return pe(ne,ye(G._payload),ie)}if(oe(G)||z(G))return G=es(G,ne.mode,ie,null),G.return=ne,G;zl(ne,G)}return null}function fe(ne,G,ie,ye){var Ae=G!==null?G.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ae!==null?null:U(ne,G,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return ie.key===Ae?V(ne,G,ie,ye):null;case A:return ie.key===Ae?se(ne,G,ie,ye):null;case W:return Ae=ie._init,fe(ne,G,Ae(ie._payload),ye)}if(oe(ie)||z(ie))return Ae!==null?null:he(ne,G,ie,ye,null);zl(ne,ie)}return null}function je(ne,G,ie,ye,Ae){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ne=ne.get(ie)||null,U(G,ne,""+ye,Ae);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case O:return ne=ne.get(ye.key===null?ie:ye.key)||null,V(G,ne,ye,Ae);case A:return ne=ne.get(ye.key===null?ie:ye.key)||null,se(G,ne,ye,Ae);case W:var Me=ye._init;return je(ne,G,ie,Me(ye._payload),Ae)}if(oe(ye)||z(ye))return ne=ne.get(ie)||null,he(G,ne,ye,Ae,null);zl(G,ye)}return null}function Te(ne,G,ie,ye){for(var Ae=null,Me=null,Le=G,Ue=G=0,Kt=null;Le!==null&&Ue<ie.length;Ue++){Le.index>Ue?(Kt=Le,Le=null):Kt=Le.sibling;var rt=fe(ne,Le,ie[Ue],ye);if(rt===null){Le===null&&(Le=Kt);break}s&&Le&&rt.alternate===null&&a(ne,Le),G=b(rt,G,Ue),Me===null?Ae=rt:Me.sibling=rt,Me=rt,Le=Kt}if(Ue===ie.length)return d(ne,Le),bt&&qi(ne,Ue),Ae;if(Le===null){for(;Ue<ie.length;Ue++)Le=pe(ne,ie[Ue],ye),Le!==null&&(G=b(Le,G,Ue),Me===null?Ae=Le:Me.sibling=Le,Me=Le);return bt&&qi(ne,Ue),Ae}for(Le=m(ne,Le);Ue<ie.length;Ue++)Kt=je(Le,ne,Ue,ie[Ue],ye),Kt!==null&&(s&&Kt.alternate!==null&&Le.delete(Kt.key===null?Ue:Kt.key),G=b(Kt,G,Ue),Me===null?Ae=Kt:Me.sibling=Kt,Me=Kt);return s&&Le.forEach(function(Ei){return a(ne,Ei)}),bt&&qi(ne,Ue),Ae}function Ie(ne,G,ie,ye){var Ae=z(ie);if(typeof Ae!="function")throw Error(n(150));if(ie=Ae.call(ie),ie==null)throw Error(n(151));for(var Me=Ae=null,Le=G,Ue=G=0,Kt=null,rt=ie.next();Le!==null&&!rt.done;Ue++,rt=ie.next()){Le.index>Ue?(Kt=Le,Le=null):Kt=Le.sibling;var Ei=fe(ne,Le,rt.value,ye);if(Ei===null){Le===null&&(Le=Kt);break}s&&Le&&Ei.alternate===null&&a(ne,Le),G=b(Ei,G,Ue),Me===null?Ae=Ei:Me.sibling=Ei,Me=Ei,Le=Kt}if(rt.done)return d(ne,Le),bt&&qi(ne,Ue),Ae;if(Le===null){for(;!rt.done;Ue++,rt=ie.next())rt=pe(ne,rt.value,ye),rt!==null&&(G=b(rt,G,Ue),Me===null?Ae=rt:Me.sibling=rt,Me=rt);return bt&&qi(ne,Ue),Ae}for(Le=m(ne,Le);!rt.done;Ue++,rt=ie.next())rt=je(Le,ne,Ue,rt.value,ye),rt!==null&&(s&&rt.alternate!==null&&Le.delete(rt.key===null?Ue:rt.key),G=b(rt,G,Ue),Me===null?Ae=rt:Me.sibling=rt,Me=rt);return s&&Le.forEach(function(ME){return a(ne,ME)}),bt&&qi(ne,Ue),Ae}function Rt(ne,G,ie,ye){if(typeof ie=="object"&&ie!==null&&ie.type===B&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:e:{for(var Ae=ie.key,Me=G;Me!==null;){if(Me.key===Ae){if(Ae=ie.type,Ae===B){if(Me.tag===7){d(ne,Me.sibling),G=x(Me,ie.props.children),G.return=ne,ne=G;break e}}else if(Me.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===W&&Rg(Ae)===Me.type){d(ne,Me.sibling),G=x(Me,ie.props),G.ref=sa(ne,Me,ie),G.return=ne,ne=G;break e}d(ne,Me);break}else a(ne,Me);Me=Me.sibling}ie.type===B?(G=es(ie.props.children,ne.mode,ye,ie.key),G.return=ne,ne=G):(ye=cu(ie.type,ie.key,ie.props,null,ne.mode,ye),ye.ref=sa(ne,G,ie),ye.return=ne,ne=ye)}return T(ne);case A:e:{for(Me=ie.key;G!==null;){if(G.key===Me)if(G.tag===4&&G.stateNode.containerInfo===ie.containerInfo&&G.stateNode.implementation===ie.implementation){d(ne,G.sibling),G=x(G,ie.children||[]),G.return=ne,ne=G;break e}else{d(ne,G);break}else a(ne,G);G=G.sibling}G=Sf(ie,ne.mode,ye),G.return=ne,ne=G}return T(ne);case W:return Me=ie._init,Rt(ne,G,Me(ie._payload),ye)}if(oe(ie))return Te(ne,G,ie,ye);if(z(ie))return Ie(ne,G,ie,ye);zl(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,G!==null&&G.tag===6?(d(ne,G.sibling),G=x(G,ie),G.return=ne,ne=G):(d(ne,G),G=kf(ie,ne.mode,ye),G.return=ne,ne=G),T(ne)):d(ne,G)}return Rt}var Bs=Og(!0),Mg=Og(!1),Bl=hi(null),Ul=null,Us=null,Pd=null;function Ad(){Pd=Us=Ul=null}function Rd(s){var a=Bl.current;yt(Bl),s._currentValue=a}function Od(s,a,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===d)break;s=s.return}}function Ws(s,a){Ul=s,Pd=Us=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(jn=!0),s.firstContext=null)}function Zn(s){var a=s._currentValue;if(Pd!==s)if(s={context:s,memoizedValue:a,next:null},Us===null){if(Ul===null)throw Error(n(308));Us=s,Ul.dependencies={lanes:0,firstContext:s}}else Us=Us.next=s;return a}var Yi=null;function Md(s){Yi===null?Yi=[s]:Yi.push(s)}function Lg(s,a,d,m){var x=a.interleaved;return x===null?(d.next=d,Md(a)):(d.next=x.next,x.next=d),a.interleaved=d,Gr(s,m)}function Gr(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var gi=!1;function Ld(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Jr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function yi(s,a,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(et&2)!==0){var x=m.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),m.pending=a,Gr(s,d)}return x=m.interleaved,x===null?(a.next=a,Md(m)):(a.next=x.next,x.next=a),m.interleaved=a,Gr(s,d)}function Wl(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Jc(s,d)}}function $g(s,a){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var T={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?x=b=T:b=b.next=T,d=d.next}while(d!==null);b===null?x=b=a:b=b.next=a}else x=b=a;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function Hl(s,a,d,m){var x=s.updateQueue;gi=!1;var b=x.firstBaseUpdate,T=x.lastBaseUpdate,U=x.shared.pending;if(U!==null){x.shared.pending=null;var V=U,se=V.next;V.next=null,T===null?b=se:T.next=se,T=V;var he=s.alternate;he!==null&&(he=he.updateQueue,U=he.lastBaseUpdate,U!==T&&(U===null?he.firstBaseUpdate=se:U.next=se,he.lastBaseUpdate=V))}if(b!==null){var pe=x.baseState;T=0,he=se=V=null,U=b;do{var fe=U.lane,je=U.eventTime;if((m&fe)===fe){he!==null&&(he=he.next={eventTime:je,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Te=s,Ie=U;switch(fe=a,je=d,Ie.tag){case 1:if(Te=Ie.payload,typeof Te=="function"){pe=Te.call(je,pe,fe);break e}pe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ie.payload,fe=typeof Te=="function"?Te.call(je,pe,fe):Te,fe==null)break e;pe=j({},pe,fe);break e;case 2:gi=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,fe=x.effects,fe===null?x.effects=[U]:fe.push(U))}else je={eventTime:je,lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},he===null?(se=he=je,V=pe):he=he.next=je,T|=fe;if(U=U.next,U===null){if(U=x.shared.pending,U===null)break;fe=U,U=fe.next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}while(!0);if(he===null&&(V=pe),x.baseState=V,x.firstBaseUpdate=se,x.lastBaseUpdate=he,a=x.shared.interleaved,a!==null){x=a;do T|=x.lane,x=x.next;while(x!==a)}else b===null&&(x.shared.lanes=0);Ji|=T,s.lanes=T,s.memoizedState=pe}}function Fg(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var oa={},Nr=hi(oa),aa=hi(oa),la=hi(oa);function Ki(s){if(s===oa)throw Error(n(174));return s}function Dd(s,a){switch(ft(la,a),ft(aa,s),ft(Nr,oa),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ee(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ee(a,s)}yt(Nr),ft(Nr,a)}function Hs(){yt(Nr),yt(aa),yt(la)}function zg(s){Ki(la.current);var a=Ki(Nr.current),d=ee(a,s.type);a!==d&&(ft(aa,s),ft(Nr,d))}function $d(s){aa.current===s&&(yt(Nr),yt(aa))}var _t=hi(0);function Vl(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fd=[];function zd(){for(var s=0;s<Fd.length;s++)Fd[s]._workInProgressVersionPrimary=null;Fd.length=0}var ql=P.ReactCurrentDispatcher,Bd=P.ReactCurrentBatchConfig,Gi=0,Ct=null,Ut=null,qt=null,Yl=!1,ua=!1,ca=0,rE=0;function on(){throw Error(n(321))}function Ud(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!cr(s[d],a[d]))return!1;return!0}function Wd(s,a,d,m,x,b){if(Gi=b,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ql.current=s===null||s.memoizedState===null?aE:lE,s=d(m,x),ua){b=0;do{if(ua=!1,ca=0,25<=b)throw Error(n(301));b+=1,qt=Ut=null,a.updateQueue=null,ql.current=uE,s=d(m,x)}while(ua)}if(ql.current=Jl,a=Ut!==null&&Ut.next!==null,Gi=0,qt=Ut=Ct=null,Yl=!1,a)throw Error(n(300));return s}function Hd(){var s=ca!==0;return ca=0,s}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ct.memoizedState=qt=s:qt=qt.next=s,qt}function er(){if(Ut===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Ut.next;var a=qt===null?Ct.memoizedState:qt.next;if(a!==null)qt=a,Ut=s;else{if(s===null)throw Error(n(310));Ut=s,s={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},qt===null?Ct.memoizedState=qt=s:qt=qt.next=s}return qt}function da(s,a){return typeof a=="function"?a(s):a}function Vd(s){var a=er(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=Ut,x=m.baseQueue,b=d.pending;if(b!==null){if(x!==null){var T=x.next;x.next=b.next,b.next=T}m.baseQueue=x=b,d.pending=null}if(x!==null){b=x.next,m=m.baseState;var U=T=null,V=null,se=b;do{var he=se.lane;if((Gi&he)===he)V!==null&&(V=V.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),m=se.hasEagerState?se.eagerState:s(m,se.action);else{var pe={lane:he,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};V===null?(U=V=pe,T=m):V=V.next=pe,Ct.lanes|=he,Ji|=he}se=se.next}while(se!==null&&se!==b);V===null?T=m:V.next=U,cr(m,a.memoizedState)||(jn=!0),a.memoizedState=m,a.baseState=T,a.baseQueue=V,d.lastRenderedState=m}if(s=d.interleaved,s!==null){x=s;do b=x.lane,Ct.lanes|=b,Ji|=b,x=x.next;while(x!==s)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function qd(s){var a=er(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=d.dispatch,x=d.pending,b=a.memoizedState;if(x!==null){d.pending=null;var T=x=x.next;do b=s(b,T.action),T=T.next;while(T!==x);cr(b,a.memoizedState)||(jn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),d.lastRenderedState=b}return[b,m]}function Bg(){}function Ug(s,a){var d=Ct,m=er(),x=a(),b=!cr(m.memoizedState,x);if(b&&(m.memoizedState=x,jn=!0),m=m.queue,Yd(Vg.bind(null,d,m,s),[s]),m.getSnapshot!==a||b||qt!==null&&qt.memoizedState.tag&1){if(d.flags|=2048,fa(9,Hg.bind(null,d,m,x,a),void 0,null),Yt===null)throw Error(n(349));(Gi&30)!==0||Wg(d,a,x)}return x}function Wg(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function Hg(s,a,d,m){a.value=d,a.getSnapshot=m,qg(a)&&Yg(s)}function Vg(s,a,d){return d(function(){qg(a)&&Yg(s)})}function qg(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!cr(s,d)}catch{return!0}}function Yg(s){var a=Gr(s,1);a!==null&&mr(a,s,1,-1)}function Kg(s){var a=Tr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:s},a.queue=s,s=s.dispatch=oE.bind(null,Ct,s),[a.memoizedState,s]}function fa(s,a,d,m){return s={tag:s,create:a,destroy:d,deps:m,next:null},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,a.lastEffect=s)),s}function Gg(){return er().memoizedState}function Kl(s,a,d,m){var x=Tr();Ct.flags|=s,x.memoizedState=fa(1|a,d,void 0,m===void 0?null:m)}function Gl(s,a,d,m){var x=er();m=m===void 0?null:m;var b=void 0;if(Ut!==null){var T=Ut.memoizedState;if(b=T.destroy,m!==null&&Ud(m,T.deps)){x.memoizedState=fa(a,d,b,m);return}}Ct.flags|=s,x.memoizedState=fa(1|a,d,b,m)}function Jg(s,a){return Kl(8390656,8,s,a)}function Yd(s,a){return Gl(2048,8,s,a)}function Qg(s,a){return Gl(4,2,s,a)}function Xg(s,a){return Gl(4,4,s,a)}function Zg(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function ey(s,a,d){return d=d!=null?d.concat([s]):null,Gl(4,4,Zg.bind(null,a,s),d)}function Kd(){}function ty(s,a){var d=er();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Ud(a,m[1])?m[0]:(d.memoizedState=[s,a],s)}function ny(s,a){var d=er();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Ud(a,m[1])?m[0]:(s=s(),d.memoizedState=[s,a],s)}function ry(s,a,d){return(Gi&21)===0?(s.baseState&&(s.baseState=!1,jn=!0),s.memoizedState=d):(cr(d,a)||(d=Rm(),Ct.lanes|=d,Ji|=d,s.baseState=!0),a)}function iE(s,a){var d=at;at=d!==0&&4>d?d:4,s(!0);var m=Bd.transition;Bd.transition={};try{s(!1),a()}finally{at=d,Bd.transition=m}}function iy(){return er().memoizedState}function sE(s,a,d){var m=bi(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},sy(s))oy(a,d);else if(d=Lg(s,a,d,m),d!==null){var x=vn();mr(d,s,m,x),ay(d,a,m)}}function oE(s,a,d){var m=bi(s),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(sy(s))oy(a,x);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var T=a.lastRenderedState,U=b(T,d);if(x.hasEagerState=!0,x.eagerState=U,cr(U,T)){var V=a.interleaved;V===null?(x.next=x,Md(a)):(x.next=V.next,V.next=x),a.interleaved=x;return}}catch{}finally{}d=Lg(s,a,x,m),d!==null&&(x=vn(),mr(d,s,m,x),ay(d,a,m))}}function sy(s){var a=s.alternate;return s===Ct||a!==null&&a===Ct}function oy(s,a){ua=Yl=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function ay(s,a,d){if((d&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Jc(s,d)}}var Jl={readContext:Zn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},aE={readContext:Zn,useCallback:function(s,a){return Tr().memoizedState=[s,a===void 0?null:a],s},useContext:Zn,useEffect:Jg,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,Kl(4194308,4,Zg.bind(null,a,s),d)},useLayoutEffect:function(s,a){return Kl(4194308,4,s,a)},useInsertionEffect:function(s,a){return Kl(4,2,s,a)},useMemo:function(s,a){var d=Tr();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var m=Tr();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=sE.bind(null,Ct,s),[m.memoizedState,s]},useRef:function(s){var a=Tr();return s={current:s},a.memoizedState=s},useState:Kg,useDebugValue:Kd,useDeferredValue:function(s){return Tr().memoizedState=s},useTransition:function(){var s=Kg(!1),a=s[0];return s=iE.bind(null,s[1]),Tr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var m=Ct,x=Tr();if(bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),Yt===null)throw Error(n(349));(Gi&30)!==0||Wg(m,a,d)}x.memoizedState=d;var b={value:d,getSnapshot:a};return x.queue=b,Jg(Vg.bind(null,m,b,s),[s]),m.flags|=2048,fa(9,Hg.bind(null,m,b,d,a),void 0,null),d},useId:function(){var s=Tr(),a=Yt.identifierPrefix;if(bt){var d=Kr,m=Yr;d=(m&~(1<<32-ur(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=ca++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=rE++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},lE={readContext:Zn,useCallback:ty,useContext:Zn,useEffect:Yd,useImperativeHandle:ey,useInsertionEffect:Qg,useLayoutEffect:Xg,useMemo:ny,useReducer:Vd,useRef:Gg,useState:function(){return Vd(da)},useDebugValue:Kd,useDeferredValue:function(s){var a=er();return ry(a,Ut.memoizedState,s)},useTransition:function(){var s=Vd(da)[0],a=er().memoizedState;return[s,a]},useMutableSource:Bg,useSyncExternalStore:Ug,useId:iy,unstable_isNewReconciler:!1},uE={readContext:Zn,useCallback:ty,useContext:Zn,useEffect:Yd,useImperativeHandle:ey,useInsertionEffect:Qg,useLayoutEffect:Xg,useMemo:ny,useReducer:qd,useRef:Gg,useState:function(){return qd(da)},useDebugValue:Kd,useDeferredValue:function(s){var a=er();return Ut===null?a.memoizedState=s:ry(a,Ut.memoizedState,s)},useTransition:function(){var s=qd(da)[0],a=er().memoizedState;return[s,a]},useMutableSource:Bg,useSyncExternalStore:Ug,useId:iy,unstable_isNewReconciler:!1};function fr(s,a){if(s&&s.defaultProps){a=j({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function Gd(s,a,d,m){a=s.memoizedState,d=d(m,a),d=d==null?a:j({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ql={isMounted:function(s){return(s=s._reactInternals)?Ui(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var m=vn(),x=bi(s),b=Jr(m,x);b.payload=a,d!=null&&(b.callback=d),a=yi(s,b,x),a!==null&&(mr(a,s,x,m),Wl(a,s,x))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var m=vn(),x=bi(s),b=Jr(m,x);b.tag=1,b.payload=a,d!=null&&(b.callback=d),a=yi(s,b,x),a!==null&&(mr(a,s,x,m),Wl(a,s,x))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=vn(),m=bi(s),x=Jr(d,m);x.tag=2,a!=null&&(x.callback=a),a=yi(s,x,m),a!==null&&(mr(a,s,m,d),Wl(a,s,m))}};function ly(s,a,d,m,x,b,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,T):a.prototype&&a.prototype.isPureReactComponent?!Xo(d,m)||!Xo(x,b):!0}function uy(s,a,d){var m=!1,x=pi,b=a.contextType;return typeof b=="object"&&b!==null?b=Zn(b):(x=Cn(a)?Hi:sn.current,m=a.contextTypes,b=(m=m!=null)?Ds(s,x):pi),a=new a(d,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ql,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=b),a}function cy(s,a,d,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==s&&Ql.enqueueReplaceState(a,a.state,null)}function Jd(s,a,d,m){var x=s.stateNode;x.props=d,x.state=s.memoizedState,x.refs={},Ld(s);var b=a.contextType;typeof b=="object"&&b!==null?x.context=Zn(b):(b=Cn(a)?Hi:sn.current,x.context=Ds(s,b)),x.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Gd(s,a,b,d),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Ql.enqueueReplaceState(x,x.state,null),Hl(s,d,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Vs(s,a){try{var d="",m=a;do d+=le(m),m=m.return;while(m);var x=d}catch(b){x=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:x,digest:null}}function Qd(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function Xd(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var cE=typeof WeakMap=="function"?WeakMap:Map;function dy(s,a,d){d=Jr(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){iu||(iu=!0,pf=m),Xd(s,a)},d}function fy(s,a,d){d=Jr(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=a.value;d.payload=function(){return m(x)},d.callback=function(){Xd(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Xd(s,a),typeof m!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),d}function hy(s,a,d){var m=s.pingCache;if(m===null){m=s.pingCache=new cE;var x=new Set;m.set(a,x)}else x=m.get(a),x===void 0&&(x=new Set,m.set(a,x));x.has(d)||(x.add(d),s=EE.bind(null,s,a,d),a.then(s,s))}function py(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function my(s,a,d,m,x){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Jr(-1,1),a.tag=2,yi(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var dE=P.ReactCurrentOwner,jn=!1;function yn(s,a,d,m){a.child=s===null?Mg(a,null,d,m):Bs(a,s.child,d,m)}function gy(s,a,d,m,x){d=d.render;var b=a.ref;return Ws(a,x),m=Wd(s,a,d,m,b,x),d=Hd(),s!==null&&!jn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Qr(s,a,x)):(bt&&d&&Cd(a),a.flags|=1,yn(s,a,m,x),a.child)}function yy(s,a,d,m,x){if(s===null){var b=d.type;return typeof b=="function"&&!bf(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=b,vy(s,a,b,m,x)):(s=cu(d.type,null,m,a,a.mode,x),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,(s.lanes&x)===0){var T=b.memoizedProps;if(d=d.compare,d=d!==null?d:Xo,d(T,m)&&s.ref===a.ref)return Qr(s,a,x)}return a.flags|=1,s=Si(b,m),s.ref=a.ref,s.return=a,a.child=s}function vy(s,a,d,m,x){if(s!==null){var b=s.memoizedProps;if(Xo(b,m)&&s.ref===a.ref)if(jn=!1,a.pendingProps=m=b,(s.lanes&x)!==0)(s.flags&131072)!==0&&(jn=!0);else return a.lanes=s.lanes,Qr(s,a,x)}return Zd(s,a,d,m,x)}function xy(s,a,d){var m=a.pendingProps,x=m.children,b=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Ys,Bn),Bn|=d;else{if((d&1073741824)===0)return s=b!==null?b.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ft(Ys,Bn),Bn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:d,ft(Ys,Bn),Bn|=m}else b!==null?(m=b.baseLanes|d,a.memoizedState=null):m=d,ft(Ys,Bn),Bn|=m;return yn(s,a,x,d),a.child}function wy(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Zd(s,a,d,m,x){var b=Cn(d)?Hi:sn.current;return b=Ds(a,b),Ws(a,x),d=Wd(s,a,d,m,b,x),m=Hd(),s!==null&&!jn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Qr(s,a,x)):(bt&&m&&Cd(a),a.flags|=1,yn(s,a,d,x),a.child)}function by(s,a,d,m,x){if(Cn(d)){var b=!0;Ml(a)}else b=!1;if(Ws(a,x),a.stateNode===null)Zl(s,a),uy(a,d,m),Jd(a,d,m,x),m=!0;else if(s===null){var T=a.stateNode,U=a.memoizedProps;T.props=U;var V=T.context,se=d.contextType;typeof se=="object"&&se!==null?se=Zn(se):(se=Cn(d)?Hi:sn.current,se=Ds(a,se));var he=d.getDerivedStateFromProps,pe=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function";pe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(U!==m||V!==se)&&cy(a,T,m,se),gi=!1;var fe=a.memoizedState;T.state=fe,Hl(a,m,T,x),V=a.memoizedState,U!==m||fe!==V||_n.current||gi?(typeof he=="function"&&(Gd(a,d,he,m),V=a.memoizedState),(U=gi||ly(a,d,U,m,fe,V,se))?(pe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=V),T.props=m,T.state=V,T.context=se,m=U):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{T=a.stateNode,Dg(s,a),U=a.memoizedProps,se=a.type===a.elementType?U:fr(a.type,U),T.props=se,pe=a.pendingProps,fe=T.context,V=d.contextType,typeof V=="object"&&V!==null?V=Zn(V):(V=Cn(d)?Hi:sn.current,V=Ds(a,V));var je=d.getDerivedStateFromProps;(he=typeof je=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(U!==pe||fe!==V)&&cy(a,T,m,V),gi=!1,fe=a.memoizedState,T.state=fe,Hl(a,m,T,x);var Te=a.memoizedState;U!==pe||fe!==Te||_n.current||gi?(typeof je=="function"&&(Gd(a,d,je,m),Te=a.memoizedState),(se=gi||ly(a,d,se,m,fe,Te,V)||!1)?(he||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,Te,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,Te,V)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||U===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Te),T.props=m,T.state=Te,T.context=V,m=se):(typeof T.componentDidUpdate!="function"||U===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),m=!1)}return ef(s,a,d,m,b,x)}function ef(s,a,d,m,x,b){wy(s,a);var T=(a.flags&128)!==0;if(!m&&!T)return x&&Cg(a,d,!1),Qr(s,a,b);m=a.stateNode,dE.current=a;var U=T&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&T?(a.child=Bs(a,s.child,null,b),a.child=Bs(a,null,U,b)):yn(s,a,U,b),a.memoizedState=m.state,x&&Cg(a,d,!0),a.child}function ky(s){var a=s.stateNode;a.pendingContext?Eg(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Eg(s,a.context,!1),Dd(s,a.containerInfo)}function Sy(s,a,d,m,x){return zs(),Id(x),a.flags|=256,yn(s,a,d,m),a.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ey(s,a,d){var m=a.pendingProps,x=_t.current,b=!1,T=(a.flags&128)!==0,U;if((U=T)||(U=s!==null&&s.memoizedState===null?!1:(x&2)!==0),U?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),ft(_t,x&1),s===null)return Td(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=m.children,s=m.fallback,b?(m=a.mode,b=a.child,T={mode:"hidden",children:T},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=T):b=du(T,m,0,null),s=es(s,m,d,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=nf(d),a.memoizedState=tf,s):rf(a,T));if(x=s.memoizedState,x!==null&&(U=x.dehydrated,U!==null))return fE(s,a,T,m,U,x,d);if(b){b=m.fallback,T=a.mode,x=s.child,U=x.sibling;var V={mode:"hidden",children:m.children};return(T&1)===0&&a.child!==x?(m=a.child,m.childLanes=0,m.pendingProps=V,a.deletions=null):(m=Si(x,V),m.subtreeFlags=x.subtreeFlags&14680064),U!==null?b=Si(U,b):(b=es(b,T,d,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,T=s.child.memoizedState,T=T===null?nf(d):{baseLanes:T.baseLanes|d,cachePool:null,transitions:T.transitions},b.memoizedState=T,b.childLanes=s.childLanes&~d,a.memoizedState=tf,m}return b=s.child,s=b.sibling,m=Si(b,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=m,a.memoizedState=null,m}function rf(s,a){return a=du({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Xl(s,a,d,m){return m!==null&&Id(m),Bs(a,s.child,null,d),s=rf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function fE(s,a,d,m,x,b,T){if(d)return a.flags&256?(a.flags&=-257,m=Qd(Error(n(422))),Xl(s,a,T,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=m.fallback,x=a.mode,m=du({mode:"visible",children:m.children},x,0,null),b=es(b,x,T,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,(a.mode&1)!==0&&Bs(a,s.child,null,T),a.child.memoizedState=nf(T),a.memoizedState=tf,b);if((a.mode&1)===0)return Xl(s,a,T,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var U=m.dgst;return m=U,b=Error(n(419)),m=Qd(b,m,void 0),Xl(s,a,T,m)}if(U=(T&s.childLanes)!==0,jn||U){if(m=Yt,m!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|T))!==0?0:x,x!==0&&x!==b.retryLane&&(b.retryLane=x,Gr(s,x),mr(m,s,x,-1))}return wf(),m=Qd(Error(n(421))),Xl(s,a,T,m)}return x.data==="$?"?(a.flags|=128,a.child=s.child,a=_E.bind(null,s),x._reactRetry=a,null):(s=b.treeContext,zn=fi(x.nextSibling),Fn=a,bt=!0,dr=null,s!==null&&(Qn[Xn++]=Yr,Qn[Xn++]=Kr,Qn[Xn++]=Vi,Yr=s.id,Kr=s.overflow,Vi=a),a=rf(a,m.children),a.flags|=4096,a)}function _y(s,a,d){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Od(s.return,a,d)}function sf(s,a,d,m,x){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=d,b.tailMode=x)}function Cy(s,a,d){var m=a.pendingProps,x=m.revealOrder,b=m.tail;if(yn(s,a,m.children,d),m=_t.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_y(s,d,a);else if(s.tag===19)_y(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(ft(_t,m),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)s=d.alternate,s!==null&&Vl(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),sf(a,!1,x,d,b);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(s=x.alternate,s!==null&&Vl(s)===null){a.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}sf(a,!0,d,null,b);break;case"together":sf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zl(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Qr(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),Ji|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,d=Si(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=Si(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function hE(s,a,d){switch(a.tag){case 3:ky(a),zs();break;case 5:zg(a);break;case 1:Cn(a.type)&&Ml(a);break;case 4:Dd(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,x=a.memoizedProps.value;ft(Bl,m._currentValue),m._currentValue=x;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ft(_t,_t.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?Ey(s,a,d):(ft(_t,_t.current&1),s=Qr(s,a,d),s!==null?s.sibling:null);ft(_t,_t.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(s.flags&128)!==0){if(m)return Cy(s,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ft(_t,_t.current),m)break;return null;case 22:case 23:return a.lanes=0,xy(s,a,d)}return Qr(s,a,d)}var jy,of,Ny,Ty;jy=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},of=function(){},Ny=function(s,a,d,m){var x=s.memoizedProps;if(x!==m){s=a.stateNode,Ki(Nr.current);var b=null;switch(d){case"input":x=Oe(s,x),m=Oe(s,m),b=[];break;case"select":x=j({},x,{value:void 0}),m=j({},m,{value:void 0}),b=[];break;case"textarea":x=Ce(s,x),m=Ce(s,m),b=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Al)}tt(d,m);var T;d=null;for(se in x)if(!m.hasOwnProperty(se)&&x.hasOwnProperty(se)&&x[se]!=null)if(se==="style"){var U=x[se];for(T in U)U.hasOwnProperty(T)&&(d||(d={}),d[T]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?b||(b=[]):(b=b||[]).push(se,null));for(se in m){var V=m[se];if(U=x!=null?x[se]:void 0,m.hasOwnProperty(se)&&V!==U&&(V!=null||U!=null))if(se==="style")if(U){for(T in U)!U.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(d||(d={}),d[T]="");for(T in V)V.hasOwnProperty(T)&&U[T]!==V[T]&&(d||(d={}),d[T]=V[T])}else d||(b||(b=[]),b.push(se,d)),d=V;else se==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,U=U?U.__html:void 0,V!=null&&U!==V&&(b=b||[]).push(se,V)):se==="children"?typeof V!="string"&&typeof V!="number"||(b=b||[]).push(se,""+V):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(V!=null&&se==="onScroll"&&gt("scroll",s),b||U===V||(b=[])):(b=b||[]).push(se,V))}d&&(b=b||[]).push("style",d);var se=b;(a.updateQueue=se)&&(a.flags|=4)}},Ty=function(s,a,d,m){d!==m&&(a.flags|=4)};function ha(s,a){if(!bt)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function an(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(a)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=d,a}function pE(s,a,d){var m=a.pendingProps;switch(jd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(a),null;case 1:return Cn(a.type)&&Ol(),an(a),null;case 3:return m=a.stateNode,Hs(),yt(_n),yt(sn),zd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Fl(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,dr!==null&&(yf(dr),dr=null))),of(s,a),an(a),null;case 5:$d(a);var x=Ki(la.current);if(d=a.type,s!==null&&a.stateNode!=null)Ny(s,a,d,m,x),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return an(a),null}if(s=Ki(Nr.current),Fl(a)){m=a.stateNode,d=a.type;var b=a.memoizedProps;switch(m[jr]=a,m[ra]=b,s=(a.mode&1)!==0,d){case"dialog":gt("cancel",m),gt("close",m);break;case"iframe":case"object":case"embed":gt("load",m);break;case"video":case"audio":for(x=0;x<ea.length;x++)gt(ea[x],m);break;case"source":gt("error",m);break;case"img":case"image":case"link":gt("error",m),gt("load",m);break;case"details":gt("toggle",m);break;case"input":Xe(m,b),gt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},gt("invalid",m);break;case"textarea":ve(m,b),gt("invalid",m)}tt(d,b),x=null;for(var T in b)if(b.hasOwnProperty(T)){var U=b[T];T==="children"?typeof U=="string"?m.textContent!==U&&(b.suppressHydrationWarning!==!0&&Pl(m.textContent,U,s),x=["children",U]):typeof U=="number"&&m.textContent!==""+U&&(b.suppressHydrationWarning!==!0&&Pl(m.textContent,U,s),x=["children",""+U]):i.hasOwnProperty(T)&&U!=null&&T==="onScroll"&&gt("scroll",m)}switch(d){case"input":_e(m),Gn(m,b,!0);break;case"textarea":_e(m),te(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=Al)}m=x,a.updateQueue=m,m!==null&&(a.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=K(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=T.createElement(d,{is:m.is}):(s=T.createElement(d),d==="select"&&(T=s,m.multiple?T.multiple=!0:m.size&&(T.size=m.size))):s=T.createElementNS(s,d),s[jr]=a,s[ra]=m,jy(s,a,!1,!1),a.stateNode=s;e:{switch(T=Bt(d,m),d){case"dialog":gt("cancel",s),gt("close",s),x=m;break;case"iframe":case"object":case"embed":gt("load",s),x=m;break;case"video":case"audio":for(x=0;x<ea.length;x++)gt(ea[x],s);x=m;break;case"source":gt("error",s),x=m;break;case"img":case"image":case"link":gt("error",s),gt("load",s),x=m;break;case"details":gt("toggle",s),x=m;break;case"input":Xe(s,m),x=Oe(s,m),gt("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=j({},m,{value:void 0}),gt("invalid",s);break;case"textarea":ve(s,m),x=Ce(s,m),gt("invalid",s);break;default:x=m}tt(d,x),U=x;for(b in U)if(U.hasOwnProperty(b)){var V=U[b];b==="style"?Ke(s,V):b==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Pe(s,V)):b==="children"?typeof V=="string"?(d!=="textarea"||V!=="")&&ze(s,V):typeof V=="number"&&ze(s,""+V):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?V!=null&&b==="onScroll"&&gt("scroll",s):V!=null&&C(s,b,V,T))}switch(d){case"input":_e(s),Gn(s,m,!1);break;case"textarea":_e(s),te(s);break;case"option":m.value!=null&&s.setAttribute("value",""+ue(m.value));break;case"select":s.multiple=!!m.multiple,b=m.value,b!=null?de(s,!!m.multiple,b,!1):m.defaultValue!=null&&de(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Al)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return an(a),null;case 6:if(s&&a.stateNode!=null)Ty(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(d=Ki(la.current),Ki(Nr.current),Fl(a)){if(m=a.stateNode,d=a.memoizedProps,m[jr]=a,(b=m.nodeValue!==d)&&(s=Fn,s!==null))switch(s.tag){case 3:Pl(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Pl(m.nodeValue,d,(s.mode&1)!==0)}b&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[jr]=a,a.stateNode=m}return an(a),null;case 13:if(yt(_t),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(bt&&zn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ag(),zs(),a.flags|=98560,b=!1;else if(b=Fl(a),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[jr]=a}else zs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;an(a),b=!1}else dr!==null&&(yf(dr),dr=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(_t.current&1)!==0?Wt===0&&(Wt=3):wf())),a.updateQueue!==null&&(a.flags|=4),an(a),null);case 4:return Hs(),of(s,a),s===null&&ta(a.stateNode.containerInfo),an(a),null;case 10:return Rd(a.type._context),an(a),null;case 17:return Cn(a.type)&&Ol(),an(a),null;case 19:if(yt(_t),b=a.memoizedState,b===null)return an(a),null;if(m=(a.flags&128)!==0,T=b.rendering,T===null)if(m)ha(b,!1);else{if(Wt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Vl(s),T!==null){for(a.flags|=128,ha(b,!1),m=T.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)b=d,s=m,b.flags&=14680066,T=b.alternate,T===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=T.childLanes,b.lanes=T.lanes,b.child=T.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=T.memoizedProps,b.memoizedState=T.memoizedState,b.updateQueue=T.updateQueue,b.type=T.type,s=T.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return ft(_t,_t.current&1|2),a.child}s=s.sibling}b.tail!==null&&At()>Ks&&(a.flags|=128,m=!0,ha(b,!1),a.lanes=4194304)}else{if(!m)if(s=Vl(T),s!==null){if(a.flags|=128,m=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),ha(b,!0),b.tail===null&&b.tailMode==="hidden"&&!T.alternate&&!bt)return an(a),null}else 2*At()-b.renderingStartTime>Ks&&d!==1073741824&&(a.flags|=128,m=!0,ha(b,!1),a.lanes=4194304);b.isBackwards?(T.sibling=a.child,a.child=T):(d=b.last,d!==null?d.sibling=T:a.child=T,b.last=T)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=At(),a.sibling=null,d=_t.current,ft(_t,m?d&1|2:d&1),a):(an(a),null);case 22:case 23:return xf(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Bn&1073741824)!==0&&(an(a),a.subtreeFlags&6&&(a.flags|=8192)):an(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function mE(s,a){switch(jd(a),a.tag){case 1:return Cn(a.type)&&Ol(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Hs(),yt(_n),yt(sn),zd(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return $d(a),null;case 13:if(yt(_t),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));zs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return yt(_t),null;case 4:return Hs(),null;case 10:return Rd(a.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var eu=!1,ln=!1,gE=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function qs(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Tt(s,a,m)}else d.current=null}function af(s,a,d){try{d()}catch(m){Tt(s,a,m)}}var Iy=!1;function yE(s,a){if(vd=wl,s=lg(),cd(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var T=0,U=-1,V=-1,se=0,he=0,pe=s,fe=null;t:for(;;){for(var je;pe!==d||x!==0&&pe.nodeType!==3||(U=T+x),pe!==b||m!==0&&pe.nodeType!==3||(V=T+m),pe.nodeType===3&&(T+=pe.nodeValue.length),(je=pe.firstChild)!==null;)fe=pe,pe=je;for(;;){if(pe===s)break t;if(fe===d&&++se===x&&(U=T),fe===b&&++he===m&&(V=T),(je=pe.nextSibling)!==null)break;pe=fe,fe=pe.parentNode}pe=je}d=U===-1||V===-1?null:{start:U,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(xd={focusedElem:s,selectionRange:d},wl=!1,Ne=a;Ne!==null;)if(a=Ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ne=s;else for(;Ne!==null;){a=Ne;try{var Te=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ie=Te.memoizedProps,Rt=Te.memoizedState,ne=a.stateNode,G=ne.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:fr(a.type,Ie),Rt);ne.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Tt(a,a.return,ye)}if(s=a.sibling,s!==null){s.return=a.return,Ne=s;break}Ne=a.return}return Te=Iy,Iy=!1,Te}function pa(s,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var b=x.destroy;x.destroy=void 0,b!==void 0&&af(a,d,b)}x=x.next}while(x!==m)}}function tu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function lf(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function Py(s){var a=s.alternate;a!==null&&(s.alternate=null,Py(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[jr],delete a[ra],delete a[Sd],delete a[ZS],delete a[eE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ay(s){return s.tag===5||s.tag===3||s.tag===4}function Ry(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ay(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function uf(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Al));else if(m!==4&&(s=s.child,s!==null))for(uf(s,a,d),s=s.sibling;s!==null;)uf(s,a,d),s=s.sibling}function cf(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(cf(s,a,d),s=s.sibling;s!==null;)cf(s,a,d),s=s.sibling}var Xt=null,hr=!1;function vi(s,a,d){for(d=d.child;d!==null;)Oy(s,a,d),d=d.sibling}function Oy(s,a,d){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(pl,d)}catch{}switch(d.tag){case 5:ln||qs(d,a);case 6:var m=Xt,x=hr;Xt=null,vi(s,a,d),Xt=m,hr=x,Xt!==null&&(hr?(s=Xt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Xt.removeChild(d.stateNode));break;case 18:Xt!==null&&(hr?(s=Xt,d=d.stateNode,s.nodeType===8?kd(s.parentNode,d):s.nodeType===1&&kd(s,d),qo(s)):kd(Xt,d.stateNode));break;case 4:m=Xt,x=hr,Xt=d.stateNode.containerInfo,hr=!0,vi(s,a,d),Xt=m,hr=x;break;case 0:case 11:case 14:case 15:if(!ln&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var b=x,T=b.destroy;b=b.tag,T!==void 0&&((b&2)!==0||(b&4)!==0)&&af(d,a,T),x=x.next}while(x!==m)}vi(s,a,d);break;case 1:if(!ln&&(qs(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(U){Tt(d,a,U)}vi(s,a,d);break;case 21:vi(s,a,d);break;case 22:d.mode&1?(ln=(m=ln)||d.memoizedState!==null,vi(s,a,d),ln=m):vi(s,a,d);break;default:vi(s,a,d)}}function My(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new gE),a.forEach(function(m){var x=CE.bind(null,s,m);d.has(m)||(d.add(m),m.then(x,x))})}}function pr(s,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var b=s,T=a,U=T;e:for(;U!==null;){switch(U.tag){case 5:Xt=U.stateNode,hr=!1;break e;case 3:Xt=U.stateNode.containerInfo,hr=!0;break e;case 4:Xt=U.stateNode.containerInfo,hr=!0;break e}U=U.return}if(Xt===null)throw Error(n(160));Oy(b,T,x),Xt=null,hr=!1;var V=x.alternate;V!==null&&(V.return=null),x.return=null}catch(se){Tt(x,a,se)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ly(a,s),a=a.sibling}function Ly(s,a){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pr(a,s),Ir(s),m&4){try{pa(3,s,s.return),tu(3,s)}catch(Ie){Tt(s,s.return,Ie)}try{pa(5,s,s.return)}catch(Ie){Tt(s,s.return,Ie)}}break;case 1:pr(a,s),Ir(s),m&512&&d!==null&&qs(d,d.return);break;case 5:if(pr(a,s),Ir(s),m&512&&d!==null&&qs(d,d.return),s.flags&32){var x=s.stateNode;try{ze(x,"")}catch(Ie){Tt(s,s.return,Ie)}}if(m&4&&(x=s.stateNode,x!=null)){var b=s.memoizedProps,T=d!==null?d.memoizedProps:b,U=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{U==="input"&&b.type==="radio"&&b.name!=null&&St(x,b),Bt(U,T);var se=Bt(U,b);for(T=0;T<V.length;T+=2){var he=V[T],pe=V[T+1];he==="style"?Ke(x,pe):he==="dangerouslySetInnerHTML"?Pe(x,pe):he==="children"?ze(x,pe):C(x,he,pe,se)}switch(U){case"input":tn(x,b);break;case"textarea":D(x,b);break;case"select":var fe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!b.multiple;var je=b.value;je!=null?de(x,!!b.multiple,je,!1):fe!==!!b.multiple&&(b.defaultValue!=null?de(x,!!b.multiple,b.defaultValue,!0):de(x,!!b.multiple,b.multiple?[]:"",!1))}x[ra]=b}catch(Ie){Tt(s,s.return,Ie)}}break;case 6:if(pr(a,s),Ir(s),m&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,b=s.memoizedProps;try{x.nodeValue=b}catch(Ie){Tt(s,s.return,Ie)}}break;case 3:if(pr(a,s),Ir(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(Ie){Tt(s,s.return,Ie)}break;case 4:pr(a,s),Ir(s);break;case 13:pr(a,s),Ir(s),x=s.child,x.flags&8192&&(b=x.memoizedState!==null,x.stateNode.isHidden=b,!b||x.alternate!==null&&x.alternate.memoizedState!==null||(hf=At())),m&4&&My(s);break;case 22:if(he=d!==null&&d.memoizedState!==null,s.mode&1?(ln=(se=ln)||he,pr(a,s),ln=se):pr(a,s),Ir(s),m&8192){if(se=s.memoizedState!==null,(s.stateNode.isHidden=se)&&!he&&(s.mode&1)!==0)for(Ne=s,he=s.child;he!==null;){for(pe=Ne=he;Ne!==null;){switch(fe=Ne,je=fe.child,fe.tag){case 0:case 11:case 14:case 15:pa(4,fe,fe.return);break;case 1:qs(fe,fe.return);var Te=fe.stateNode;if(typeof Te.componentWillUnmount=="function"){m=fe,d=fe.return;try{a=m,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(Ie){Tt(m,d,Ie)}}break;case 5:qs(fe,fe.return);break;case 22:if(fe.memoizedState!==null){Fy(pe);continue}}je!==null?(je.return=fe,Ne=je):Fy(pe)}he=he.sibling}e:for(he=null,pe=s;;){if(pe.tag===5){if(he===null){he=pe;try{x=pe.stateNode,se?(b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(U=pe.stateNode,V=pe.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,U.style.display=lt("display",T))}catch(Ie){Tt(s,s.return,Ie)}}}else if(pe.tag===6){if(he===null)try{pe.stateNode.nodeValue=se?"":pe.memoizedProps}catch(Ie){Tt(s,s.return,Ie)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===s)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===s)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===s)break e;he===pe&&(he=null),pe=pe.return}he===pe&&(he=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:pr(a,s),Ir(s),m&4&&My(s);break;case 21:break;default:pr(a,s),Ir(s)}}function Ir(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(Ay(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(ze(x,""),m.flags&=-33);var b=Ry(s);cf(s,b,x);break;case 3:case 4:var T=m.stateNode.containerInfo,U=Ry(s);uf(s,U,T);break;default:throw Error(n(161))}}catch(V){Tt(s,s.return,V)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function vE(s,a,d){Ne=s,Dy(s)}function Dy(s,a,d){for(var m=(s.mode&1)!==0;Ne!==null;){var x=Ne,b=x.child;if(x.tag===22&&m){var T=x.memoizedState!==null||eu;if(!T){var U=x.alternate,V=U!==null&&U.memoizedState!==null||ln;U=eu;var se=ln;if(eu=T,(ln=V)&&!se)for(Ne=x;Ne!==null;)T=Ne,V=T.child,T.tag===22&&T.memoizedState!==null?zy(x):V!==null?(V.return=T,Ne=V):zy(x);for(;b!==null;)Ne=b,Dy(b),b=b.sibling;Ne=x,eu=U,ln=se}$y(s)}else(x.subtreeFlags&8772)!==0&&b!==null?(b.return=x,Ne=b):$y(s)}}function $y(s){for(;Ne!==null;){var a=Ne;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ln||tu(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!ln)if(d===null)m.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:fr(a.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&Fg(a,b,m);break;case 3:var T=a.updateQueue;if(T!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Fg(a,T,d)}break;case 5:var U=a.stateNode;if(d===null&&a.flags&4){d=U;var V=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&d.focus();break;case"img":V.src&&(d.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var se=a.alternate;if(se!==null){var he=se.memoizedState;if(he!==null){var pe=he.dehydrated;pe!==null&&qo(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||a.flags&512&&lf(a)}catch(fe){Tt(a,a.return,fe)}}if(a===s){Ne=null;break}if(d=a.sibling,d!==null){d.return=a.return,Ne=d;break}Ne=a.return}}function Fy(s){for(;Ne!==null;){var a=Ne;if(a===s){Ne=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Ne=d;break}Ne=a.return}}function zy(s){for(;Ne!==null;){var a=Ne;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{tu(4,a)}catch(V){Tt(a,d,V)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var x=a.return;try{m.componentDidMount()}catch(V){Tt(a,x,V)}}var b=a.return;try{lf(a)}catch(V){Tt(a,b,V)}break;case 5:var T=a.return;try{lf(a)}catch(V){Tt(a,T,V)}}}catch(V){Tt(a,a.return,V)}if(a===s){Ne=null;break}var U=a.sibling;if(U!==null){U.return=a.return,Ne=U;break}Ne=a.return}}var xE=Math.ceil,nu=P.ReactCurrentDispatcher,df=P.ReactCurrentOwner,tr=P.ReactCurrentBatchConfig,et=0,Yt=null,Ot=null,Zt=0,Bn=0,Ys=hi(0),Wt=0,ma=null,Ji=0,ru=0,ff=0,ga=null,Nn=null,hf=0,Ks=1/0,Xr=null,iu=!1,pf=null,xi=null,su=!1,wi=null,ou=0,ya=0,mf=null,au=-1,lu=0;function vn(){return(et&6)!==0?At():au!==-1?au:au=At()}function bi(s){return(s.mode&1)===0?1:(et&2)!==0&&Zt!==0?Zt&-Zt:nE.transition!==null?(lu===0&&(lu=Rm()),lu):(s=at,s!==0||(s=window.event,s=s===void 0?16:Um(s.type)),s)}function mr(s,a,d,m){if(50<ya)throw ya=0,mf=null,Error(n(185));Bo(s,d,m),((et&2)===0||s!==Yt)&&(s===Yt&&((et&2)===0&&(ru|=d),Wt===4&&ki(s,Zt)),Tn(s,m),d===1&&et===0&&(a.mode&1)===0&&(Ks=At()+500,Ll&&mi()))}function Tn(s,a){var d=s.callbackNode;nS(s,a);var m=yl(s,s===Yt?Zt:0);if(m===0)d!==null&&Im(d),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(d!=null&&Im(d),a===1)s.tag===0?tE(Uy.bind(null,s)):jg(Uy.bind(null,s)),QS(function(){(et&6)===0&&mi()}),d=null;else{switch(Om(m)){case 1:d=Yc;break;case 4:d=Pm;break;case 16:d=hl;break;case 536870912:d=Am;break;default:d=hl}d=Jy(d,By.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function By(s,a){if(au=-1,lu=0,(et&6)!==0)throw Error(n(327));var d=s.callbackNode;if(Gs()&&s.callbackNode!==d)return null;var m=yl(s,s===Yt?Zt:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=uu(s,m);else{a=m;var x=et;et|=2;var b=Hy();(Yt!==s||Zt!==a)&&(Xr=null,Ks=At()+500,Xi(s,a));do try{kE();break}catch(U){Wy(s,U)}while(!0);Ad(),nu.current=b,et=x,Ot!==null?a=0:(Yt=null,Zt=0,a=Wt)}if(a!==0){if(a===2&&(x=Kc(s),x!==0&&(m=x,a=gf(s,x))),a===1)throw d=ma,Xi(s,0),ki(s,m),Tn(s,At()),d;if(a===6)ki(s,m);else{if(x=s.current.alternate,(m&30)===0&&!wE(x)&&(a=uu(s,m),a===2&&(b=Kc(s),b!==0&&(m=b,a=gf(s,b))),a===1))throw d=ma,Xi(s,0),ki(s,m),Tn(s,At()),d;switch(s.finishedWork=x,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Zi(s,Nn,Xr);break;case 3:if(ki(s,m),(m&130023424)===m&&(a=hf+500-At(),10<a)){if(yl(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){vn(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=bd(Zi.bind(null,s,Nn,Xr),a);break}Zi(s,Nn,Xr);break;case 4:if(ki(s,m),(m&4194240)===m)break;for(a=s.eventTimes,x=-1;0<m;){var T=31-ur(m);b=1<<T,T=a[T],T>x&&(x=T),m&=~b}if(m=x,m=At()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*xE(m/1960))-m,10<m){s.timeoutHandle=bd(Zi.bind(null,s,Nn,Xr),m);break}Zi(s,Nn,Xr);break;case 5:Zi(s,Nn,Xr);break;default:throw Error(n(329))}}}return Tn(s,At()),s.callbackNode===d?By.bind(null,s):null}function gf(s,a){var d=ga;return s.current.memoizedState.isDehydrated&&(Xi(s,a).flags|=256),s=uu(s,a),s!==2&&(a=Nn,Nn=d,a!==null&&yf(a)),s}function yf(s){Nn===null?Nn=s:Nn.push.apply(Nn,s)}function wE(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],b=x.getSnapshot;x=x.value;try{if(!cr(b(),x))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ki(s,a){for(a&=~ff,a&=~ru,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-ur(a),m=1<<d;s[d]=-1,a&=~m}}function Uy(s){if((et&6)!==0)throw Error(n(327));Gs();var a=yl(s,0);if((a&1)===0)return Tn(s,At()),null;var d=uu(s,a);if(s.tag!==0&&d===2){var m=Kc(s);m!==0&&(a=m,d=gf(s,m))}if(d===1)throw d=ma,Xi(s,0),ki(s,a),Tn(s,At()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Zi(s,Nn,Xr),Tn(s,At()),null}function vf(s,a){var d=et;et|=1;try{return s(a)}finally{et=d,et===0&&(Ks=At()+500,Ll&&mi())}}function Qi(s){wi!==null&&wi.tag===0&&(et&6)===0&&Gs();var a=et;et|=1;var d=tr.transition,m=at;try{if(tr.transition=null,at=1,s)return s()}finally{at=m,tr.transition=d,et=a,(et&6)===0&&mi()}}function xf(){Bn=Ys.current,yt(Ys)}function Xi(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,JS(d)),Ot!==null)for(d=Ot.return;d!==null;){var m=d;switch(jd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ol();break;case 3:Hs(),yt(_n),yt(sn),zd();break;case 5:$d(m);break;case 4:Hs();break;case 13:yt(_t);break;case 19:yt(_t);break;case 10:Rd(m.type._context);break;case 22:case 23:xf()}d=d.return}if(Yt=s,Ot=s=Si(s.current,null),Zt=Bn=a,Wt=0,ma=null,ff=ru=Ji=0,Nn=ga=null,Yi!==null){for(a=0;a<Yi.length;a++)if(d=Yi[a],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,b=d.pending;if(b!==null){var T=b.next;b.next=x,m.next=T}d.pending=m}Yi=null}return s}function Wy(s,a){do{var d=Ot;try{if(Ad(),ql.current=Jl,Yl){for(var m=Ct.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Yl=!1}if(Gi=0,qt=Ut=Ct=null,ua=!1,ca=0,df.current=null,d===null||d.return===null){Wt=1,ma=a,Ot=null;break}e:{var b=s,T=d.return,U=d,V=a;if(a=Zt,U.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=V,he=U,pe=he.tag;if((he.mode&1)===0&&(pe===0||pe===11||pe===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var je=py(T);if(je!==null){je.flags&=-257,my(je,T,U,b,a),je.mode&1&&hy(b,se,a),a=je,V=se;var Te=a.updateQueue;if(Te===null){var Ie=new Set;Ie.add(V),a.updateQueue=Ie}else Te.add(V);break e}else{if((a&1)===0){hy(b,se,a),wf();break e}V=Error(n(426))}}else if(bt&&U.mode&1){var Rt=py(T);if(Rt!==null){(Rt.flags&65536)===0&&(Rt.flags|=256),my(Rt,T,U,b,a),Id(Vs(V,U));break e}}b=V=Vs(V,U),Wt!==4&&(Wt=2),ga===null?ga=[b]:ga.push(b),b=T;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var ne=dy(b,V,a);$g(b,ne);break e;case 1:U=V;var G=b.type,ie=b.stateNode;if((b.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(xi===null||!xi.has(ie)))){b.flags|=65536,a&=-a,b.lanes|=a;var ye=fy(b,U,a);$g(b,ye);break e}}b=b.return}while(b!==null)}qy(d)}catch(Ae){a=Ae,Ot===d&&d!==null&&(Ot=d=d.return);continue}break}while(!0)}function Hy(){var s=nu.current;return nu.current=Jl,s===null?Jl:s}function wf(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Yt===null||(Ji&268435455)===0&&(ru&268435455)===0||ki(Yt,Zt)}function uu(s,a){var d=et;et|=2;var m=Hy();(Yt!==s||Zt!==a)&&(Xr=null,Xi(s,a));do try{bE();break}catch(x){Wy(s,x)}while(!0);if(Ad(),et=d,nu.current=m,Ot!==null)throw Error(n(261));return Yt=null,Zt=0,Wt}function bE(){for(;Ot!==null;)Vy(Ot)}function kE(){for(;Ot!==null&&!Y1();)Vy(Ot)}function Vy(s){var a=Gy(s.alternate,s,Bn);s.memoizedProps=s.pendingProps,a===null?qy(s):Ot=a,df.current=null}function qy(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=pE(d,a,Bn),d!==null){Ot=d;return}}else{if(d=mE(d,a),d!==null){d.flags&=32767,Ot=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Wt=6,Ot=null;return}}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);Wt===0&&(Wt=5)}function Zi(s,a,d){var m=at,x=tr.transition;try{tr.transition=null,at=1,SE(s,a,d,m)}finally{tr.transition=x,at=m}return null}function SE(s,a,d,m){do Gs();while(wi!==null);if((et&6)!==0)throw Error(n(327));d=s.finishedWork;var x=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=d.lanes|d.childLanes;if(rS(s,b),s===Yt&&(Ot=Yt=null,Zt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||su||(su=!0,Jy(hl,function(){return Gs(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=tr.transition,tr.transition=null;var T=at;at=1;var U=et;et|=4,df.current=null,yE(s,d),Ly(d,s),WS(xd),wl=!!vd,xd=vd=null,s.current=d,vE(d),K1(),et=U,at=T,tr.transition=b}else s.current=d;if(su&&(su=!1,wi=s,ou=x),b=s.pendingLanes,b===0&&(xi=null),Q1(d.stateNode),Tn(s,At()),a!==null)for(m=s.onRecoverableError,d=0;d<a.length;d++)x=a[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(iu)throw iu=!1,s=pf,pf=null,s;return(ou&1)!==0&&s.tag!==0&&Gs(),b=s.pendingLanes,(b&1)!==0?s===mf?ya++:(ya=0,mf=s):ya=0,mi(),null}function Gs(){if(wi!==null){var s=Om(ou),a=tr.transition,d=at;try{if(tr.transition=null,at=16>s?16:s,wi===null)var m=!1;else{if(s=wi,wi=null,ou=0,(et&6)!==0)throw Error(n(331));var x=et;for(et|=4,Ne=s.current;Ne!==null;){var b=Ne,T=b.child;if((Ne.flags&16)!==0){var U=b.deletions;if(U!==null){for(var V=0;V<U.length;V++){var se=U[V];for(Ne=se;Ne!==null;){var he=Ne;switch(he.tag){case 0:case 11:case 15:pa(8,he,b)}var pe=he.child;if(pe!==null)pe.return=he,Ne=pe;else for(;Ne!==null;){he=Ne;var fe=he.sibling,je=he.return;if(Py(he),he===se){Ne=null;break}if(fe!==null){fe.return=je,Ne=fe;break}Ne=je}}}var Te=b.alternate;if(Te!==null){var Ie=Te.child;if(Ie!==null){Te.child=null;do{var Rt=Ie.sibling;Ie.sibling=null,Ie=Rt}while(Ie!==null)}}Ne=b}}if((b.subtreeFlags&2064)!==0&&T!==null)T.return=b,Ne=T;else e:for(;Ne!==null;){if(b=Ne,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:pa(9,b,b.return)}var ne=b.sibling;if(ne!==null){ne.return=b.return,Ne=ne;break e}Ne=b.return}}var G=s.current;for(Ne=G;Ne!==null;){T=Ne;var ie=T.child;if((T.subtreeFlags&2064)!==0&&ie!==null)ie.return=T,Ne=ie;else e:for(T=G;Ne!==null;){if(U=Ne,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:tu(9,U)}}catch(Ae){Tt(U,U.return,Ae)}if(U===T){Ne=null;break e}var ye=U.sibling;if(ye!==null){ye.return=U.return,Ne=ye;break e}Ne=U.return}}if(et=x,mi(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(pl,s)}catch{}m=!0}return m}finally{at=d,tr.transition=a}}return!1}function Yy(s,a,d){a=Vs(d,a),a=dy(s,a,1),s=yi(s,a,1),a=vn(),s!==null&&(Bo(s,1,a),Tn(s,a))}function Tt(s,a,d){if(s.tag===3)Yy(s,s,d);else for(;a!==null;){if(a.tag===3){Yy(a,s,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xi===null||!xi.has(m))){s=Vs(d,s),s=fy(a,s,1),a=yi(a,s,1),s=vn(),a!==null&&(Bo(a,1,s),Tn(a,s));break}}a=a.return}}function EE(s,a,d){var m=s.pingCache;m!==null&&m.delete(a),a=vn(),s.pingedLanes|=s.suspendedLanes&d,Yt===s&&(Zt&d)===d&&(Wt===4||Wt===3&&(Zt&130023424)===Zt&&500>At()-hf?Xi(s,0):ff|=d),Tn(s,a)}function Ky(s,a){a===0&&((s.mode&1)===0?a=1:(a=gl,gl<<=1,(gl&130023424)===0&&(gl=4194304)));var d=vn();s=Gr(s,a),s!==null&&(Bo(s,a,d),Tn(s,d))}function _E(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),Ky(s,d)}function CE(s,a){var d=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),Ky(s,d)}var Gy;Gy=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||_n.current)jn=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return jn=!1,hE(s,a,d);jn=(s.flags&131072)!==0}else jn=!1,bt&&(a.flags&1048576)!==0&&Ng(a,$l,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Zl(s,a),s=a.pendingProps;var x=Ds(a,sn.current);Ws(a,d),x=Wd(null,a,m,s,x,d);var b=Hd();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Cn(m)?(b=!0,Ml(a)):b=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Ld(a),x.updater=Ql,a.stateNode=x,x._reactInternals=a,Jd(a,m,s,d),a=ef(null,a,m,!0,b,d)):(a.tag=0,bt&&b&&Cd(a),yn(null,a,x,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Zl(s,a),s=a.pendingProps,x=m._init,m=x(m._payload),a.type=m,x=a.tag=NE(m),s=fr(m,s),x){case 0:a=Zd(null,a,m,s,d);break e;case 1:a=by(null,a,m,s,d);break e;case 11:a=gy(null,a,m,s,d);break e;case 14:a=yy(null,a,m,fr(m.type,s),d);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),Zd(s,a,m,x,d);case 1:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),by(s,a,m,x,d);case 3:e:{if(ky(a),s===null)throw Error(n(387));m=a.pendingProps,b=a.memoizedState,x=b.element,Dg(s,a),Hl(a,m,null,d);var T=a.memoizedState;if(m=T.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){x=Vs(Error(n(423)),a),a=Sy(s,a,m,d,x);break e}else if(m!==x){x=Vs(Error(n(424)),a),a=Sy(s,a,m,d,x);break e}else for(zn=fi(a.stateNode.containerInfo.firstChild),Fn=a,bt=!0,dr=null,d=Mg(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(zs(),m===x){a=Qr(s,a,d);break e}yn(s,a,m,d)}a=a.child}return a;case 5:return zg(a),s===null&&Td(a),m=a.type,x=a.pendingProps,b=s!==null?s.memoizedProps:null,T=x.children,wd(m,x)?T=null:b!==null&&wd(m,b)&&(a.flags|=32),wy(s,a),yn(s,a,T,d),a.child;case 6:return s===null&&Td(a),null;case 13:return Ey(s,a,d);case 4:return Dd(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Bs(a,null,m,d):yn(s,a,m,d),a.child;case 11:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),gy(s,a,m,x,d);case 7:return yn(s,a,a.pendingProps,d),a.child;case 8:return yn(s,a,a.pendingProps.children,d),a.child;case 12:return yn(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,x=a.pendingProps,b=a.memoizedProps,T=x.value,ft(Bl,m._currentValue),m._currentValue=T,b!==null)if(cr(b.value,T)){if(b.children===x.children&&!_n.current){a=Qr(s,a,d);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var U=b.dependencies;if(U!==null){T=b.child;for(var V=U.firstContext;V!==null;){if(V.context===m){if(b.tag===1){V=Jr(-1,d&-d),V.tag=2;var se=b.updateQueue;if(se!==null){se=se.shared;var he=se.pending;he===null?V.next=V:(V.next=he.next,he.next=V),se.pending=V}}b.lanes|=d,V=b.alternate,V!==null&&(V.lanes|=d),Od(b.return,d,a),U.lanes|=d;break}V=V.next}}else if(b.tag===10)T=b.type===a.type?null:b.child;else if(b.tag===18){if(T=b.return,T===null)throw Error(n(341));T.lanes|=d,U=T.alternate,U!==null&&(U.lanes|=d),Od(T,d,a),T=b.sibling}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===a){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}yn(s,a,x.children,d),a=a.child}return a;case 9:return x=a.type,m=a.pendingProps.children,Ws(a,d),x=Zn(x),m=m(x),a.flags|=1,yn(s,a,m,d),a.child;case 14:return m=a.type,x=fr(m,a.pendingProps),x=fr(m.type,x),yy(s,a,m,x,d);case 15:return vy(s,a,a.type,a.pendingProps,d);case 17:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:fr(m,x),Zl(s,a),a.tag=1,Cn(m)?(s=!0,Ml(a)):s=!1,Ws(a,d),uy(a,m,x),Jd(a,m,x,d),ef(null,a,m,!0,s,d);case 19:return Cy(s,a,d);case 22:return xy(s,a,d)}throw Error(n(156,a.tag))};function Jy(s,a){return Tm(s,a)}function jE(s,a,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(s,a,d,m){return new jE(s,a,d,m)}function bf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function NE(s){if(typeof s=="function")return bf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Q)return 11;if(s===F)return 14}return 2}function Si(s,a){var d=s.alternate;return d===null?(d=nr(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function cu(s,a,d,m,x,b){var T=2;if(m=s,typeof s=="function")bf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case B:return es(d.children,x,b,a);case re:T=8,x|=8;break;case X:return s=nr(12,d,a,x|2),s.elementType=X,s.lanes=b,s;case Y:return s=nr(13,d,a,x),s.elementType=Y,s.lanes=b,s;case q:return s=nr(19,d,a,x),s.elementType=q,s.lanes=b,s;case Z:return du(d,x,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:T=10;break e;case $:T=9;break e;case Q:T=11;break e;case F:T=14;break e;case W:T=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=nr(T,d,a,x),a.elementType=s,a.type=m,a.lanes=b,a}function es(s,a,d,m){return s=nr(7,s,m,a),s.lanes=d,s}function du(s,a,d,m){return s=nr(22,s,m,a),s.elementType=Z,s.lanes=d,s.stateNode={isHidden:!1},s}function kf(s,a,d){return s=nr(6,s,null,a),s.lanes=d,s}function Sf(s,a,d){return a=nr(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function TE(s,a,d,m,x){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ef(s,a,d,m,x,b,T,U,V){return s=new TE(s,a,d,U,V),a===1?(a=1,b===!0&&(a|=8)):a=0,b=nr(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ld(b),s}function IE(s,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:s,containerInfo:a,implementation:d}}function Qy(s){if(!s)return pi;s=s._reactInternals;e:{if(Ui(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Cn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(Cn(d))return _g(s,d,a)}return a}function Xy(s,a,d,m,x,b,T,U,V){return s=Ef(d,m,!0,s,x,b,T,U,V),s.context=Qy(null),d=s.current,m=vn(),x=bi(d),b=Jr(m,x),b.callback=a??null,yi(d,b,x),s.current.lanes=x,Bo(s,x,m),Tn(s,m),s}function fu(s,a,d,m){var x=a.current,b=vn(),T=bi(x);return d=Qy(d),a.context===null?a.context=d:a.pendingContext=d,a=Jr(b,T),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=yi(x,a,T),s!==null&&(mr(s,x,T,b),Wl(s,x,T)),T}function hu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Zy(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function _f(s,a){Zy(s,a),(s=s.alternate)&&Zy(s,a)}function PE(){return null}var ev=typeof reportError=="function"?reportError:function(s){console.error(s)};function Cf(s){this._internalRoot=s}pu.prototype.render=Cf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));fu(s,a,null,null)},pu.prototype.unmount=Cf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Qi(function(){fu(null,s,null,null)}),a[Vr]=null}};function pu(s){this._internalRoot=s}pu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Dm();s={blockedOn:null,target:s,priority:a};for(var d=0;d<ui.length&&a!==0&&a<ui[d].priority;d++);ui.splice(d,0,s),d===0&&zm(s)}};function jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function mu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function tv(){}function AE(s,a,d,m,x){if(x){if(typeof m=="function"){var b=m;m=function(){var se=hu(T);b.call(se)}}var T=Xy(a,m,s,0,null,!1,!1,"",tv);return s._reactRootContainer=T,s[Vr]=T.current,ta(s.nodeType===8?s.parentNode:s),Qi(),T}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var U=m;m=function(){var se=hu(V);U.call(se)}}var V=Ef(s,0,!1,null,null,!1,!1,"",tv);return s._reactRootContainer=V,s[Vr]=V.current,ta(s.nodeType===8?s.parentNode:s),Qi(function(){fu(a,V,d,m)}),V}function gu(s,a,d,m,x){var b=d._reactRootContainer;if(b){var T=b;if(typeof x=="function"){var U=x;x=function(){var V=hu(T);U.call(V)}}fu(a,T,s,x)}else T=AE(d,a,s,x,m);return hu(T)}Mm=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=zo(a.pendingLanes);d!==0&&(Jc(a,d|1),Tn(a,At()),(et&6)===0&&(Ks=At()+500,mi()))}break;case 13:Qi(function(){var m=Gr(s,1);if(m!==null){var x=vn();mr(m,s,1,x)}}),_f(s,1)}},Qc=function(s){if(s.tag===13){var a=Gr(s,134217728);if(a!==null){var d=vn();mr(a,s,134217728,d)}_f(s,134217728)}},Lm=function(s){if(s.tag===13){var a=bi(s),d=Gr(s,a);if(d!==null){var m=vn();mr(d,s,a,m)}_f(s,a)}},Dm=function(){return at},$m=function(s,a){var d=at;try{return at=s,a()}finally{at=d}},ot=function(s,a,d){switch(a){case"input":if(tn(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==s&&m.form===s.form){var x=Rl(m);if(!x)throw Error(n(90));Fe(m),tn(m,x)}}}break;case"textarea":D(s,d);break;case"select":a=d.value,a!=null&&de(s,!!d.multiple,a,!1)}},wt=vf,nn=Qi;var RE={usingClientEntryPoint:!1,Events:[ia,Ms,Rl,it,nt,vf]},va={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OE={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=jm(s),s===null?null:s.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||PE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{pl=yu.inject(OE),Cr=yu}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RE,In.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(a))throw Error(n(200));return IE(s,a,null,d)},In.createRoot=function(s,a){if(!jf(s))throw Error(n(299));var d=!1,m="",x=ev;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Ef(s,1,!1,null,null,d,!1,m,x),s[Vr]=a.current,ta(s.nodeType===8?s.parentNode:s),new Cf(a)},In.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=jm(a),s=s===null?null:s.stateNode,s},In.flushSync=function(s){return Qi(s)},In.hydrate=function(s,a,d){if(!mu(a))throw Error(n(200));return gu(null,s,a,!0,d)},In.hydrateRoot=function(s,a,d){if(!jf(s))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,x=!1,b="",T=ev;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),a=Xy(a,null,s,1,d??null,x,!1,b,T),s[Vr]=a.current,ta(s),m)for(s=0;s<m.length;s++)d=m[s],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new pu(a)},In.render=function(s,a,d){if(!mu(a))throw Error(n(200));return gu(null,s,a,!1,d)},In.unmountComponentAtNode=function(s){if(!mu(s))throw Error(n(40));return s._reactRootContainer?(Qi(function(){gu(null,null,s,!1,function(){s._reactRootContainer=null,s[Vr]=null})}),!0):!1},In.unstable_batchedUpdates=vf,In.unstable_renderSubtreeIntoContainer=function(s,a,d,m){if(!mu(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return gu(s,a,d,!1,m)},In.version="18.3.1-next-f1338f8080-20240426",In}var uv;function ew(){if(uv)return If.exports;uv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),If.exports=WE(),If.exports}var cv;function HE(){if(cv)return vu;cv=1;var e=ew();return vu.createRoot=e.createRoot,vu.hydrateRoot=e.hydrateRoot,vu}var VE=HE();const qE=No(VE);var Vn=ew();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(this,arguments)}var Ri;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ri||(Ri={}));const dv="popstate";function YE(e){e===void 0&&(e={});function t(i,o){let{pathname:l="/",search:u="",hash:c=""}=bs(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),jh("",{pathname:l,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof o=="string"?o:qu(o))}function r(i,o){Cp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return GE(t,n,r,e)}function jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KE(){return Math.random().toString(36).substr(2,8)}function fv(e,t){return{usr:e.state,key:e.key,idx:t}}function jh(e,t,n,r){return n===void 0&&(n=null),Ua({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bs(t):t,{state:n,key:t&&t.key||r||KE()})}function qu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function GE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Ri.Pop,c=null,f=h();f==null&&(f=0,l.replaceState(Ua({},l.state,{idx:f}),""));function h(){return(l.state||{idx:null}).idx}function p(){u=Ri.Pop;let _=h(),E=_==null?null:_-f;f=_,c&&c({action:u,location:w.location,delta:E})}function v(_,E){u=Ri.Push;let N=jh(w.location,_,E);n&&n(N,_),f=h()+1;let C=fv(N,f),P=w.createHref(N);try{l.pushState(C,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}o&&c&&c({action:u,location:w.location,delta:1})}function y(_,E){u=Ri.Replace;let N=jh(w.location,_,E);n&&n(N,_),f=h();let C=fv(N,f),P=w.createHref(N);l.replaceState(C,"",P),o&&c&&c({action:u,location:w.location,delta:0})}function S(_){let E=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof _=="string"?_:qu(_);return N=N.replace(/ $/,"%20"),jt(E,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,E)}let w={get action(){return u},get location(){return e(i,l)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(dv,p),c=_,()=>{i.removeEventListener(dv,p),c=null}},createHref(_){return t(i,_)},createURL:S,encodeLocation(_){let E=S(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:y,go(_){return l.go(_)}};return w}var hv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hv||(hv={}));function JE(e,t,n){return n===void 0&&(n="/"),QE(e,t,n)}function QE(e,t,n,r){let i=typeof t=="string"?bs(t):t,o=ko(i.pathname||"/",n);if(o==null)return null;let l=tw(e);XE(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let f=u_(o);u=a_(l[c],f)}return u}function tw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(jt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=Mi([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),tw(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:s_(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let c of nw(o.path))i(o,l,c)}),t}function nw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=nw(r.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function XE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:o_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZE=/^:[\w-]+$/,e_=3,t_=2,n_=1,r_=10,i_=-2,pv=e=>e==="*";function s_(e,t){let n=e.split("/"),r=n.length;return n.some(pv)&&(r+=i_),t&&(r+=t_),n.filter(i=>!pv(i)).reduce((i,o)=>i+(ZE.test(o)?e_:o===""?n_:r_),r)}function o_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function a_(e,t,n){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",p=Nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Mi([o,p.pathname]),pathnameBase:h_(Mi([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=Mi([o,p.pathnameBase]))}return l}function Nh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,h,p)=>{let{paramName:v,isOptional:y}=h;if(v==="*"){let w=u[p]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const S=u[p];return y&&!S?f[v]=void 0:f[v]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function l_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Cp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function u_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ko(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function c_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bs(e):e;return{pathname:n?n.startsWith("/")?n:d_(n,t):t,search:p_(r),hash:m_(i)}}function d_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jp(e,t){let n=f_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Np(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=bs(e):(i=Ua({},e),jt(!i.pathname||!i.pathname.includes("?"),Rf("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),Rf("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),Rf("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}u=p>=0?t[p]:"/"}let c=c_(i,u),f=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const Mi=e=>e.join("/").replace(/\/\/+/g,"/"),h_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rw=["post","put","patch","delete"];new Set(rw);const y_=["get",...rw];new Set(y_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wa.apply(this,arguments)}const yc=k.createContext(null),iw=k.createContext(null),ni=k.createContext(null),vc=k.createContext(null),ri=k.createContext({outlet:null,matches:[],isDataRoute:!1}),sw=k.createContext(null);function v_(e,t){let{relative:n}=t===void 0?{}:t;To()||jt(!1);let{basename:r,navigator:i}=k.useContext(ni),{hash:o,pathname:l,search:u}=xc(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:Mi([r,l])),i.createHref({pathname:c,search:u,hash:o})}function To(){return k.useContext(vc)!=null}function ii(){return To()||jt(!1),k.useContext(vc).location}function ow(e){k.useContext(ni).static||k.useLayoutEffect(e)}function Tp(){let{isDataRoute:e}=k.useContext(ri);return e?R_():x_()}function x_(){To()||jt(!1);let e=k.useContext(yc),{basename:t,future:n,navigator:r}=k.useContext(ni),{matches:i}=k.useContext(ri),{pathname:o}=ii(),l=JSON.stringify(jp(i,n.v7_relativeSplatPath)),u=k.useRef(!1);return ow(()=>{u.current=!0}),k.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let p=Np(f,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Mi([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,l,o,e])}const w_=k.createContext(null);function b_(e){let t=k.useContext(ri).outlet;return t&&k.createElement(w_.Provider,{value:e},t)}function xc(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(ni),{matches:i}=k.useContext(ri),{pathname:o}=ii(),l=JSON.stringify(jp(i,r.v7_relativeSplatPath));return k.useMemo(()=>Np(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function k_(e,t){return S_(e,t)}function S_(e,t,n,r){To()||jt(!1);let{navigator:i}=k.useContext(ni),{matches:o}=k.useContext(ri),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let f=ii(),h;if(t){var p;let _=typeof t=="string"?bs(t):t;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||jt(!1),h=_}else h=f;let v=h.pathname||"/",y=v;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=JE(e,{pathname:y}),w=N_(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Mi([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Mi([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&w?k.createElement(vc.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ri.Pop}},w):w}function E_(){let e=A_(),t=g_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,null)}const __=k.createElement(E_,null);class C_ extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(ri.Provider,{value:this.props.routeContext},k.createElement(sw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j_(e){let{routeContext:t,match:n,children:r}=e,i=k.useContext(yc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(ri.Provider,{value:t},r)}function N_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let h=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);h>=0||jt(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<l.length;h++){let p=l[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:v,errors:y}=n,S=p.route.loader&&v[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||S){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,p,v)=>{let y,S=!1,w=null,_=null;n&&(y=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||__,c&&(f<0&&v===0?(O_("route-fallback"),S=!0,_=null):f===v&&(S=!0,_=p.route.hydrateFallbackElement||null)));let E=t.concat(l.slice(0,v+1)),N=()=>{let C;return y?C=w:S?C=_:p.route.Component?C=k.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,k.createElement(j_,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?k.createElement(C_,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:N(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):N()},null)}var aw=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(aw||{}),lw=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(lw||{});function T_(e){let t=k.useContext(yc);return t||jt(!1),t}function I_(e){let t=k.useContext(iw);return t||jt(!1),t}function P_(e){let t=k.useContext(ri);return t||jt(!1),t}function uw(e){let t=P_(),n=t.matches[t.matches.length-1];return n.route.id||jt(!1),n.route.id}function A_(){var e;let t=k.useContext(sw),n=I_(),r=uw();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function R_(){let{router:e}=T_(aw.UseNavigateStable),t=uw(lw.UseNavigateStable),n=k.useRef(!1);return ow(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Wa({fromRouteId:t},o)))},[e,t])}const mv={};function O_(e,t,n){mv[e]||(mv[e]=!0)}function M_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wc(e){let{to:t,replace:n,state:r,relative:i}=e;To()||jt(!1);let{future:o,static:l}=k.useContext(ni),{matches:u}=k.useContext(ri),{pathname:c}=ii(),f=Tp(),h=Np(t,jp(u,o.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return k.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:i}),[f,p,i,n,r]),null}function cw(e){return b_(e.context)}function xn(e){jt(!1)}function L_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ri.Pop,navigator:o,static:l=!1,future:u}=e;To()&&jt(!1);let c=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:o,static:l,future:Wa({v7_relativeSplatPath:!1},u)}),[c,u,o,l]);typeof r=="string"&&(r=bs(r));let{pathname:h="/",search:p="",hash:v="",state:y=null,key:S="default"}=r,w=k.useMemo(()=>{let _=ko(h,c);return _==null?null:{location:{pathname:_,search:p,hash:v,state:y,key:S},navigationType:i}},[c,h,p,v,y,S,i]);return w==null?null:k.createElement(ni.Provider,{value:f},k.createElement(vc.Provider,{children:n,value:w}))}function D_(e){let{children:t,location:n}=e;return k_(Th(t),n)}new Promise(()=>{});function Th(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let o=[...t,i];if(r.type===k.Fragment){n.push.apply(n,Th(r.props.children,o));return}r.type!==xn&&jt(!1),!r.props.index||!r.props.children||jt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Th(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}function dw(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F_(e,t){return e.button===0&&(!t||t==="_self")&&!$_(e)}function Ih(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function z_(e,t){let n=Ih(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const B_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],W_="6";try{window.__reactRouterVersion=W_}catch{}const H_=k.createContext({isTransitioning:!1}),V_="startTransition",gv=Vu[V_];function q_(e){let{basename:t,children:n,future:r,window:i}=e,o=k.useRef();o.current==null&&(o.current=YE({window:i,v5Compat:!0}));let l=o.current,[u,c]=k.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},h=k.useCallback(p=>{f&&gv?gv(()=>c(p)):c(p)},[c,f]);return k.useLayoutEffect(()=>l.listen(h),[l,h]),k.useEffect(()=>M_(r),[r]),k.createElement(L_,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const Y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wr=k.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p}=t,v=dw(t,B_),{basename:y}=k.useContext(ni),S,w=!1;if(typeof f=="string"&&K_.test(f)&&(S=f,Y_))try{let C=new URL(window.location.href),P=f.startsWith("//")?new URL(C.protocol+f):new URL(f),O=ko(P.pathname,y);P.origin===C.origin&&O!=null?f=O+P.search+P.hash:w=!0}catch{}let _=v_(f,{relative:i}),E=J_(f,{replace:l,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p});function N(C){r&&r(C),C.defaultPrevented||E(C)}return k.createElement("a",Yu({},v,{href:S||_,onClick:w||o?r:N,ref:n,target:c}))}),yv=k.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:c,viewTransition:f,children:h}=t,p=dw(t,U_),v=xc(c,{relative:p.relative}),y=ii(),S=k.useContext(iw),{navigator:w,basename:_}=k.useContext(ni),E=S!=null&&Q_(v)&&f===!0,N=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,C=y.pathname,P=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(C=C.toLowerCase(),P=P?P.toLowerCase():null,N=N.toLowerCase()),P&&_&&(P=ko(P,_)||P);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=C===N||!l&&C.startsWith(N)&&C.charAt(O)==="/",B=P!=null&&(P===N||!l&&P.startsWith(N)&&P.charAt(N.length)==="/"),re={isActive:A,isPending:B,isTransitioning:E},X=A?r:void 0,L;typeof o=="function"?L=o(re):L=[o,A?"active":null,B?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let $=typeof u=="function"?u(re):u;return k.createElement(wr,Yu({},p,{"aria-current":X,className:L,ref:n,style:$,to:c,viewTransition:f}),typeof h=="function"?h(re):h)});var Ph;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ph||(Ph={}));var vv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vv||(vv={}));function G_(e){let t=k.useContext(yc);return t||jt(!1),t}function J_(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,c=Tp(),f=ii(),h=xc(e,{relative:l});return k.useCallback(p=>{if(F_(p,n)){p.preventDefault();let v=r!==void 0?r:qu(f)===qu(h);c(e,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,c,h,r,i,n,e,o,l,u])}function Ip(e){let t=k.useRef(Ih(e)),n=k.useRef(!1),r=ii(),i=k.useMemo(()=>z_(r.search,n.current?null:t.current),[r.search]),o=Tp(),l=k.useCallback((u,c)=>{const f=Ih(typeof u=="function"?u(i):u);n.current=!0,o("?"+f,c)},[o,i]);return[i,l]}function Q_(e,t){t===void 0&&(t={});let n=k.useContext(H_);n==null&&jt(!1);let{basename:r}=G_(Ph.useViewTransitionState),i=xc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ko(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ko(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(i.pathname,l)!=null||Nh(i.pathname,o)!=null}const fw=typeof document<"u"?Se.useLayoutEffect:()=>{};var Of;const X_=(Of=Se.useInsertionEffect)!==null&&Of!==void 0?Of:fw;function Z_(e){const t=k.useRef(null);return X_(()=>{t.current=e},[e]),k.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Fi=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},hs=e=>e&&"window"in e&&e.window===e?e:Fi(e).defaultView||window;function eC(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function tC(e){return eC(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let nC=!1;function Pp(){return nC}function hw(e,t){if(!Pp())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:tC(n)?n=n.host:n=n.parentNode}return!1}const Ah=(e=document)=>{var t;if(!Pp())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function pw(e){return Pp()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function mw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=mw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=mw(e))&&(r&&(r+=" "),r+=t);return r}function rC(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function iC(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function gw(e){let t=null;return()=>(t==null&&(t=e()),t)}const sC=gw(function(){return iC(/^Mac/i)}),oC=gw(function(){return rC(/Android/i)});function yw(){let e=k.useRef(new Map),t=k.useCallback((i,o,l,u)=>{let c=u!=null&&u.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:o,eventTarget:i,fn:c,options:u}),i.addEventListener(o,c,u)},[]),n=k.useCallback((i,o,l,u)=>{var c;let f=((c=e.current.get(l))===null||c===void 0?void 0:c.fn)||l;i.removeEventListener(o,f,u),e.current.delete(l)},[]),r=k.useCallback(()=>{e.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return k.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function aC(e){return e.pointerType===""&&e.isTrusted?!0:oC()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function vw(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function lC(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function xw(e){let t=k.useRef({isFocused:!1,observer:null});fw(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Z_(r=>{e==null||e(r)});return k.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=l=>{if(t.current.isFocused=!1,i.disabled){let u=vw(l);n(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let uC=!1,el=null,Rh=new Set,Ta=new Map,gs=!1,Oh=!1;const cC={Tab:!0,Escape:!0};function Ap(e,t){for(let n of Rh)n(e,t)}function dC(e){return!(e.metaKey||!sC()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ku(e){gs=!0,dC(e)&&(el="keyboard",Ap("keyboard",e))}function mo(e){el="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(gs=!0,Ap("pointer",e))}function ww(e){aC(e)&&(gs=!0,el="virtual")}function bw(e){e.target===window||e.target===document||uC||!e.isTrusted||(!gs&&!Oh&&(el="virtual",Ap("virtual",e)),gs=!1,Oh=!1)}function kw(){gs=!1,Oh=!0}function Mh(e){if(typeof window>"u"||typeof document>"u"||Ta.get(hs(e)))return;const t=hs(e),n=Fi(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){gs=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ku,!0),n.addEventListener("keyup",Ku,!0),n.addEventListener("click",ww,!0),t.addEventListener("focus",bw,!0),t.addEventListener("blur",kw,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",mo,!0),n.addEventListener("pointermove",mo,!0),n.addEventListener("pointerup",mo,!0)),t.addEventListener("beforeunload",()=>{Sw(e)},{once:!0}),Ta.set(t,{focus:r})}const Sw=(e,t)=>{const n=hs(e),r=Fi(e);t&&r.removeEventListener("DOMContentLoaded",t),Ta.has(n)&&(n.HTMLElement.prototype.focus=Ta.get(n).focus,r.removeEventListener("keydown",Ku,!0),r.removeEventListener("keyup",Ku,!0),r.removeEventListener("click",ww,!0),n.removeEventListener("focus",bw,!0),n.removeEventListener("blur",kw,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",mo,!0),r.removeEventListener("pointermove",mo,!0),r.removeEventListener("pointerup",mo,!0)),Ta.delete(n))};function fC(e){const t=Fi(e);let n;return t.readyState!=="loading"?Mh(e):(n=()=>{Mh(e)},t.addEventListener("DOMContentLoaded",n)),()=>Sw(e,n)}typeof document<"u"&&fC();function Ew(){return el!=="pointer"}const hC=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function pC(e,t,n){let r=Fi(n==null?void 0:n.target);const i=typeof window<"u"?hs(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?hs(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?hs(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?hs(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof i&&!hC.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!cC[n.key])}function mC(e,t,n){Mh(),k.useEffect(()=>{let r=(i,o)=>{pC(!!(n!=null&&n.isTextInput),i,o)&&e(Ew())};return Rh.add(r),()=>{Rh.delete(r)}},t)}function gC(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=k.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),i&&i(!1),!0},[r,i]),l=xw(o),u=k.useCallback(c=>{const f=Fi(c.target),h=f?Ah(f):Ah();c.target===c.currentTarget&&h===pw(c.nativeEvent)&&(n&&n(c),i&&i(!0),l(c))},[i,n,l]);return{focusProps:{onFocus:!t&&(n||i||r)?u:void 0,onBlur:!t&&(r||i)?o:void 0}}}function yC(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=k.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=yw(),c=k.useCallback(p=>{p.currentTarget.contains(p.target)&&o.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(o.current.isFocusWithin=!1,u(),n&&n(p),i&&i(!1))},[n,i,o,u]),f=xw(c),h=k.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const v=Fi(p.target),y=Ah(v);if(!o.current.isFocusWithin&&y===pw(p.nativeEvent)){r&&r(p),i&&i(!0),o.current.isFocusWithin=!0,f(p);let S=p.currentTarget;l(v,"focus",w=>{if(o.current.isFocusWithin&&!hw(S,w.target)){let _=new v.defaultView.FocusEvent("blur",{relatedTarget:w.target});lC(_,S);let E=vw(_);c(E)}},{capture:!0})}},[r,i,f,l,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:c}}}let Lh=!1,xu=0;function vC(){Lh=!0,setTimeout(()=>{Lh=!1},50)}function xv(e){e.pointerType==="touch"&&vC()}function xC(){if(!(typeof document>"u"))return xu===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",xv),xu++,()=>{xu--,!(xu>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",xv)}}function wC(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,l]=k.useState(!1),u=k.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;k.useEffect(xC,[]);let{addGlobalListener:c,removeAllGlobalListeners:f}=yw(),{hoverProps:h,triggerHoverEnd:p}=k.useMemo(()=>{let v=(w,_)=>{if(u.pointerType=_,i||_==="touch"||u.isHovered||!w.currentTarget.contains(w.target))return;u.isHovered=!0;let E=w.currentTarget;u.target=E,c(Fi(w.target),"pointerover",N=>{u.isHovered&&u.target&&!hw(u.target,N.target)&&y(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:E,pointerType:_}),n&&n(!0),l(!0)},y=(w,_)=>{let E=u.target;u.pointerType="",u.target=null,!(_==="touch"||!u.isHovered||!E)&&(u.isHovered=!1,f(),r&&r({type:"hoverend",target:E,pointerType:_}),n&&n(!1),l(!1))},S={};return typeof PointerEvent<"u"&&(S.onPointerEnter=w=>{Lh&&w.pointerType==="mouse"||v(w,w.pointerType)},S.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&y(w,w.pointerType)}),{hoverProps:S,triggerHoverEnd:y}},[t,n,r,i,u,c,f]);return k.useEffect(()=>{i&&p({currentTarget:u.target},u.pointerType)},[i]),{hoverProps:h,isHovered:o}}function bC(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=k.useRef({isFocused:!1,isFocusVisible:t||Ew()}),[o,l]=k.useState(!1),[u,c]=k.useState(()=>i.current.isFocused&&i.current.isFocusVisible),f=k.useCallback(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),h=k.useCallback(y=>{i.current.isFocused=y,l(y),f()},[f]);mC(y=>{i.current.isFocusVisible=y,f()},[],{isTextInput:n});let{focusProps:p}=gC({isDisabled:r,onFocusChange:h}),{focusWithinProps:v}=yC({isDisabled:!r,onFocusWithinChange:h});return{isFocused:o,isFocusVisible:u,focusProps:r?v:p}}var kC=Object.defineProperty,SC=(e,t,n)=>t in e?kC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mf=(e,t,n)=>(SC(e,typeof t!="symbol"?t+"":t,n),n);let EC=class{constructor(){Mf(this,"current",this.detect()),Mf(this,"handoffState","pending"),Mf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Mr=new EC;function ks(e){var t;return Mr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Gu(e){var t,n;return Mr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function Rp(e){var t,n;return(n=(t=Gu(e))==null?void 0:t.activeElement)!=null?n:null}function _w(e){return Rp(e)===e}function bc(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function On(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return bc(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=On();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ss(){let[e]=k.useState(On);return k.useEffect(()=>()=>e.dispose(),[e]),e}let vt=(e,t)=>{Mr.isServer?k.useEffect(e,t):k.useLayoutEffect(e,t)};function Es(e){let t=k.useRef(e);return vt(()=>{t.current=e},[e]),t}let Be=function(e){let t=Es(e);return Se.useCallback((...n)=>t.current(...n),[t])};function _C(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function CC(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function jC({disabled:e=!1}={}){let t=k.useRef(null),[n,r]=k.useState(!1),i=Ss(),o=Be(()=>{t.current=null,r(!1),i.dispose()}),l=Be(u=>{if(i.dispose(),t.current===null){t.current=u.currentTarget,r(!0);{let c=ks(u.currentTarget);i.addEventListener(c,"pointerup",o,!1),i.addEventListener(c,"pointermove",f=>{if(t.current){let h=_C(f);r(CC(h,t.current.getBoundingClientRect()))}},!1),i.addEventListener(c,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:o,onClick:o}}}function zr(e){return k.useMemo(()=>e,Object.values(e))}let NC=k.createContext(void 0);function Cw(){return k.useContext(NC)}function Dh(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function kr(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,kr),r}var So=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(So||{}),Oi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Oi||{});function zt(){let e=IC();return k.useCallback(t=>TC({mergeRefs:e,...t}),[e])}function TC({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:u}){u=u??PC;let c=jw(t,e);if(o)return wu(c,n,r,l,u);let f=i??0;if(f&2){let{static:h=!1,...p}=c;if(h)return wu(p,n,r,l,u)}if(f&1){let{unmount:h=!0,...p}=c;return kr(h?0:1,{0(){return null},1(){return wu({...p,hidden:!0,style:{display:"none"}},n,r,l,u)}})}return wu(c,n,r,l,u)}function wu(e,t={},n,r,i){let{as:o=n,children:l,refName:u="ref",...c}=Lf(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},h=typeof l=="function"?l(t):l;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let p={};if(t){let v=!1,y=[];for(let[S,w]of Object.entries(t))typeof w=="boolean"&&(v=!0),w===!0&&y.push(S.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(v){p["data-headlessui-state"]=y.join(" ");for(let S of y)p[`data-${S}`]=""}}if(Ia(o)&&(Object.keys(ss(c)).length>0||Object.keys(ss(p)).length>0))if(!k.isValidElement(h)||Array.isArray(h)&&h.length>1||RC(h)){if(Object.keys(ss(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ss(c)).concat(Object.keys(ss(p))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,y=v==null?void 0:v.className,S=typeof y=="function"?(...E)=>Dh(y(...E),c.className):Dh(y,c.className),w=S?{className:S}:{},_=jw(h.props,ss(Lf(c,["ref"])));for(let E in p)E in _&&delete p[E];return k.cloneElement(h,Object.assign({},_,p,f,{ref:i(AC(h),f.ref)},w))}return k.createElement(o,Object.assign({},Lf(c,["ref"]),!Ia(o)&&f,!Ia(o)&&p),h)}function IC(){let e=k.useRef([]),t=k.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function PC(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function jw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let l=n[r];for(let u of l){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;u(i,...o)}}});return t}function Nw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let l of o)l==null||l(...i)}});return t}function Pt(e){var t;return Object.assign(k.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ss(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Lf(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function AC(e){return Se.version.split(".")[0]>="19"?e.props.ref:e.ref}function Ia(e){return e===k.Fragment||e===Symbol.for("react.fragment")}function RC(e){return Ia(e.type)}let OC="span";var Ju=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ju||{});function MC(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return zt()({ourProps:o,theirProps:i,slot:{},defaultTag:OC,name:"Hidden"})}let $h=Pt(MC),LC=k.createContext(void 0);function DC(){return k.useContext(LC)}function Tw(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ti(e){return Tw(e)&&"tagName"in e}function Kn(e){return ti(e)&&"accessKey"in e}function Or(e){return ti(e)&&"tabIndex"in e}function $C(e){return ti(e)&&"style"in e}function FC(e){return Kn(e)&&e.nodeName==="IFRAME"}function Iw(e){return Kn(e)&&e.nodeName==="INPUT"}function wv(e){return Kn(e)&&e.nodeName==="LABEL"}function zC(e){return Kn(e)&&e.nodeName==="FIELDSET"}function Pw(e){return Kn(e)&&e.nodeName==="LEGEND"}function BC(e){return ti(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function bv(e){let t=e.parentElement,n=null;for(;t&&!zC(t);)Pw(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&UC(n)?!1:r}function UC(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Pw(t))return!1;t=t.previousElementSibling}return!0}let Aw=Symbol();function WC(e,t=!0){return Object.assign(e,{[Aw]:t})}function Sn(...e){let t=k.useRef(e);k.useEffect(()=>{t.current=e},[e]);let n=Be(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Aw]))?void 0:n}let Op=k.createContext(null);Op.displayName="DescriptionContext";function Rw(){let e=k.useContext(Op);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Rw),t}return e}function Ow(){let[e,t]=k.useState([]);return[e.length>0?e.join(" "):void 0,k.useMemo(()=>function(n){let r=Be(o=>(t(l=>[...l,o]),()=>t(l=>{let u=l.slice(),c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}))),i=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Se.createElement(Op.Provider,{value:i},n.children)},[t])]}let HC="p";function VC(e,t){let n=k.useId(),r=Cw(),{id:i=`headlessui-description-${n}`,...o}=e,l=Rw(),u=Sn(t);vt(()=>l.register(i),[i,l.register]);let c=zr({...l.slot,disabled:r||!1}),f={ref:u,...l.props,id:i};return zt()({ourProps:f,theirProps:o,slot:c,defaultTag:HC,name:l.name||"Description"})}let qC=Pt(VC),YC=Object.assign(qC,{});var Jt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Jt||{});let kc=k.createContext(null);kc.displayName="LabelContext";function Mp(){let e=k.useContext(kc);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Mp),t}return e}function KC(e){var t,n,r;let i=(n=(t=k.useContext(kc))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function Mw({inherit:e=!1}={}){let t=KC(),[n,r]=k.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,k.useMemo(()=>function(o){let l=Be(c=>(r(f=>[...f,c]),()=>r(f=>{let h=f.slice(),p=h.indexOf(c);return p!==-1&&h.splice(p,1),h}))),u=k.useMemo(()=>({register:l,slot:o.slot,name:o.name,props:o.props,value:o.value}),[l,o.slot,o.name,o.props,o.value]);return Se.createElement(kc.Provider,{value:u},o.children)},[r])]}let GC="label";function JC(e,t){var n;let r=k.useId(),i=Mp(),o=DC(),l=Cw(),{id:u=`headlessui-label-${r}`,htmlFor:c=o??((n=i.props)==null?void 0:n.htmlFor),passive:f=!1,...h}=e,p=Sn(t);vt(()=>i.register(u),[u,i.register]);let v=Be(w=>{let _=w.currentTarget;if(!(w.target!==w.currentTarget&&BC(w.target))&&(wv(_)&&w.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(w),wv(_))){let E=document.getElementById(_.htmlFor);if(E){let N=E.getAttribute("disabled");if(N==="true"||N==="")return;let C=E.getAttribute("aria-disabled");if(C==="true"||C==="")return;(Iw(E)&&(E.type==="file"||E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),y=zr({...i.slot,disabled:l||!1}),S={ref:p,...i.props,id:u,htmlFor:c,onClick:v};return f&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in h&&delete h.onClick),zt()({ourProps:S,theirProps:h,slot:y,defaultTag:c?GC:"div",name:i.name||"Label"})}let QC=Pt(JC);Object.assign(QC,{});let XC=k.createContext(()=>{});function ZC({value:e,children:t}){return Se.createElement(XC.Provider,{value:e},t)}function kv(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function ej(e,t,n=!1){let[r,i]=k.useState(()=>kv(t));return vt(()=>{if(!t||!e)return;let o=On();return o.requestAnimationFrame(function l(){o.requestAnimationFrame(l),i(u=>{let c=kv(t);return c.width===u.width&&c.height===u.height?u:c})}),()=>{o.dispose()}},[t,e]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var Lw=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Lw||{});function tj(e){let t=k.useRef(null),n=Be(i=>{t.current=i.pointerType,!bv(i.currentTarget)&&i.pointerType==="mouse"&&i.button===Lw.Left&&(i.preventDefault(),e(i))}),r=Be(i=>{t.current!=="mouse"&&(bv(i.currentTarget)||e(i))});return{onPointerDown:n,onClick:r}}let Dw=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var nj=Object.defineProperty,rj=(e,t,n)=>t in e?nj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ij=(e,t,n)=>(rj(e,t+"",n),n),$w=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},rr=(e,t,n)=>($w(e,t,"read from private field"),n?n.call(e):t.get(e)),Df=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Sv=(e,t,n,r)=>($w(e,t,"write to private field"),t.set(e,n),n),Pr,Ea,_a;let Fw=class{constructor(t){Df(this,Pr,{}),Df(this,Ea,new Dw(()=>new Set)),Df(this,_a,new Set),ij(this,"disposables",On()),Sv(this,Pr,t),Mr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return rr(this,Pr)}subscribe(t,n){if(Mr.isServer)return()=>{};let r={selector:t,callback:n,current:t(rr(this,Pr))};return rr(this,_a).add(r),this.disposables.add(()=>{rr(this,_a).delete(r)})}on(t,n){return Mr.isServer?()=>{}:(rr(this,Ea).get(t).add(n),this.disposables.add(()=>{rr(this,Ea).get(t).delete(n)}))}send(t){let n=this.reduce(rr(this,Pr),t);if(n!==rr(this,Pr)){Sv(this,Pr,n);for(let r of rr(this,_a)){let i=r.selector(rr(this,Pr));zw(r.current,i)||(r.current=i,r.callback(i))}for(let r of rr(this,Ea).get(t.type))r(rr(this,Pr),t)}}};Pr=new WeakMap,Ea=new WeakMap,_a=new WeakMap;function zw(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:$f(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:$f(e.entries(),t.entries()):Ev(e)&&Ev(t)?$f(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function $f(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Ev(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function _v(e){let[t,n]=e(),r=On();return(...i)=>{t(...i),r.dispose(),r.microTask(n)}}var sj=Object.defineProperty,oj=(e,t,n)=>t in e?sj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cv=(e,t,n)=>(oj(e,typeof t!="symbol"?t+"":t,n),n),Bw=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Bw||{});let aj={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let o=e.stack.slice();return o.splice(i,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},lj=class Uw extends Fw{constructor(){super(...arguments),Cv(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Cv(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Uw({stack:[]})}reduce(t,n){return kr(n.type,aj,t,n)}};const Sc=new Dw(()=>lj.new());var Ff={exports:{}},zf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function uj(){if(jv)return zf;jv=1;var e=gc();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return zf.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var y=i(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=l(function(){function _(O){if(!E){if(E=!0,N=O,O=p(O),v!==void 0&&S.hasValue){var A=S.value;if(v(A,O))return C=A}return C=O}if(A=C,n(N,O))return A;var B=p(O);return v!==void 0&&v(A,B)?(N=O,A):(N=O,C=B)}var E=!1,N,C,P=h===void 0?null:h;return[function(){return _(f())},P===null?void 0:function(){return _(P())}]},[f,h,p,v]);var w=r(c,y[0],y[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},zf}var Nv;function cj(){return Nv||(Nv=1,Ff.exports=uj()),Ff.exports}var dj=cj();function or(e,t,n=zw){return dj.useSyncExternalStoreWithSelector(Be(r=>e.subscribe(fj,r)),Be(()=>e.state),Be(()=>e.state),Be(t),n)}function fj(e){return e}function tl(e,t){let n=k.useId(),r=Sc.get(t),[i,o]=or(r,k.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return vt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?i:!0:!1}let Fh=new Map,Pa=new Map;function Tv(e){var t;let n=(t=Pa.get(e))!=null?t:0;return Pa.set(e,n+1),n!==0?()=>Iv(e):(Fh.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Iv(e))}function Iv(e){var t;let n=(t=Pa.get(e))!=null?t:1;if(n===1?Pa.delete(e):Pa.set(e,n-1),n!==1)return;let r=Fh.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Fh.delete(e))}function Ww(e,{allowed:t,disallowed:n}={}){let r=tl(e,"inert-others");vt(()=>{var i,o;if(!r)return;let l=On();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&l.add(Tv(c));let u=(o=t==null?void 0:t())!=null?o:[];for(let c of u){if(!c)continue;let f=ks(c);if(!f)continue;let h=c.parentElement;for(;h&&h!==f.body;){for(let p of h.children)u.some(v=>p.contains(v))||l.add(Tv(p));h=h.parentElement}}return l.dispose},[r,t,n])}function Hw(e,t,n){let r=Es(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});k.useEffect(()=>{if(!e)return;let i=t===null?null:Kn(t)?t:t.current;if(!i)return;let o=On();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[t,r,e])}let Qu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),hj=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var xr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(xr||{}),zh=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(zh||{}),pj=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(pj||{});function Vw(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Qu)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function mj(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(hj)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Lp=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Lp||{});function Dp(e,t=0){var n;return e===((n=ks(e))==null?void 0:n.body)?!1:kr(t,{0(){return e.matches(Qu)},1(){let r=e;for(;r!==null;){if(r.matches(Qu))return!0;r=r.parentElement}return!1}})}function qw(e){On().nextFrame(()=>{let t=Rp(e);t&&Or(t)&&!Dp(t,0)&&Lr(e)})}var gj=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(gj||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Lr(e){e==null||e.focus({preventScroll:!0})}let yj=["textarea","input"].join(",");function vj(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,yj))!=null?n:!1}function Yw(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function xj(e,t,n=e===null?document.body:Gu(e)){return go(Vw(n),t,{relativeTo:e})}function go(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?Gu(e[0]):document:Gu(e),l=Array.isArray(e)?n?Yw(e):e:t&64?mj(e):Vw(e);i.length>0&&l.length>1&&(l=l.filter(y=>!i.some(S=>S!=null&&"current"in S?(S==null?void 0:S.current)===y:S===y))),r=r??(o==null?void 0:o.activeElement);let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,p=l.length,v;do{if(h>=p||h+p<=0)return 0;let y=c+h;if(t&16)y=(y+p)%p;else{if(y<0)return 3;if(y>=p)return 1}v=l[y],v==null||v.focus(f),h+=u}while(v!==Rp(v));return t&6&&vj(v)&&v.select(),2}function Kw(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function wj(){return/Android/gi.test(window.navigator.userAgent)}function Pv(){return Kw()||wj()}function po(e,t,n,r){let i=Es(n);k.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function Gw(e,t,n,r){let i=Es(n);k.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Av=30;function Jw(e,t,n){let r=Es(n),i=k.useCallback(function(u,c){if(u.defaultPrevented)return;let f=c(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=(function p(v){return typeof v=="function"?p(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let p of h)if(p!==null&&(p.contains(f)||u.composed&&u.composedPath().includes(p)))return;return!Dp(f,Lp.Loose)&&f.tabIndex!==-1&&u.preventDefault(),r.current(u,f)},[r,t]),o=k.useRef(null);po(e,"pointerdown",u=>{var c,f;Pv()||(o.current=((f=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:f[0])||u.target)},!0),po(e,"pointerup",u=>{if(Pv()||!o.current)return;let c=o.current;return o.current=null,i(u,()=>c)},!0);let l=k.useRef({x:0,y:0});po(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),po(e,"touchend",u=>{let c={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(c.x-l.current.x)>=Av||Math.abs(c.y-l.current.y)>=Av))return i(u,()=>Or(u.target)?u.target:null)},!0),Gw(e,"blur",u=>i(u,()=>FC(window.document.activeElement)?window.document.activeElement:null),!0)}function Ha(...e){return k.useMemo(()=>ks(...e),[...e])}var bj=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(bj||{});const bu={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},kj=200,Rv=5;function Sj(e,{trigger:t,action:n,close:r,select:i}){let o=k.useRef(null),l=k.useRef(null),u=k.useRef(null);po(e&&t!==null,"pointerdown",c=>{Tw(c==null?void 0:c.target)&&t!=null&&t.contains(c.target)&&(l.current=c.x,u.current=c.y,o.current=c.timeStamp)}),po(e&&t!==null,"pointerup",c=>{var f,h;let p=o.current;if(p===null||(o.current=null,!Or(c.target))||Math.abs(c.x-((f=l.current)!=null?f:c.x))<Rv&&Math.abs(c.y-((h=u.current)!=null?h:c.y))<Rv)return;let v=n(c);switch(v.kind){case 0:return;case 1:{c.timeStamp-p>kj&&(i(v.target),r());break}case 2:{r();break}}},{capture:!0})}function Qw(e,t,n,r){let i=Es(n);k.useEffect(()=>{e=e??window;function o(l){i.current(l)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function Ej(e,t){return k.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function _j(e){return k.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Cj(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=t[i].call(n,...o);l&&(n=l,r.forEach(u=>u()))}}}function jj(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function Nj(){return Kw()?{before({doc:e,d:t,meta:n}){function r(i){for(let o of n().containers)for(let l of o())if(l.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=On();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Or(u.target))try{let c=u.target.closest("a");if(!c)return;let{hash:f}=new URL(c.href),h=e.querySelector(f);Or(h)&&!r(h)&&(l=h)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",c=>{if(u.dispose(),Or(c.target)&&$C(c.target))if(r(c.target)){let f=c.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Or(u.target)){if(Iw(u.target))return;if(r(u.target)){let c=u.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let c=(u=window.scrollY)!=null?u:window.pageYOffset;o!==c&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Tj(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ov(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ps=Cj(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:On(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Ov(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Ov(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[Nj(),jj(),Tj()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ps.subscribe(()=>{let e=ps.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ps.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ps.dispatch("TEARDOWN",n)}});function Ij(e,t,n=()=>({containers:[]})){let r=_j(ps),i=t?r.get(t):void 0,o=i?i.count>0:!1;return vt(()=>{if(!(!t||!e))return ps.dispatch("PUSH",t,n),()=>ps.dispatch("POP",t,n)},[e,t]),o}function Xw(e,t,n=()=>[document.body]){let r=tl(e,"scroll-lock");Ij(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function Mv(e){return[e.screenX,e.screenY]}function Pj(){let e=k.useRef([-1,-1]);return{wasMoved(t){let n=Mv(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Mv(t)}}}function Aj(e=0){let[t,n]=k.useState(e),r=k.useCallback(c=>n(c),[]),i=k.useCallback(c=>n(f=>f|c),[]),o=k.useCallback(c=>(t&c)===c,[t]),l=k.useCallback(c=>n(f=>f&~c),[]),u=k.useCallback(c=>n(f=>f^c),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:u}}var Rj={},Lv,Dv;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Lv=process==null?void 0:Rj)==null?void 0:Lv.NODE_ENV)==="test"&&typeof((Dv=Element==null?void 0:Element.prototype)==null?void 0:Dv.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Oj=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Oj||{});function Zw(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function eb(e,t,n,r){let[i,o]=k.useState(n),{hasFlag:l,addFlag:u,removeFlag:c}=Aj(e&&i?3:0),f=k.useRef(!1),h=k.useRef(!1),p=Ss();return vt(()=>{var v;if(e){if(n&&o(!0),!t){n&&u(3);return}return(v=r==null?void 0:r.start)==null||v.call(r,n),Mj(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(u(3),c(4)):(u(4),c(2)))},run(){h.current?n?(c(3),u(4)):(c(4),u(3)):n?c(1):u(1)},done(){var y;h.current&&$j(t)||(f.current=!1,c(7),n||o(!1),(y=r==null?void 0:r.end)==null||y.call(r,n))}})}},[e,n,t,p]),e?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Mj(e,{prepare:t,run:n,done:r,inFlight:i}){let o=On();return Dj(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(Lj(e,r))})}),o.dispose}function Lj(e,t){var n,r;let i=On();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),i.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{o||t()}),i.dispose)}function Dj(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function $j(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Fj(e,{container:t,accept:n,walk:r}){let i=k.useRef(n),o=k.useRef(r);k.useEffect(()=>{i.current=n,o.current=r},[n,r]),vt(()=>{if(!t||!e)return;let l=ks(t);if(!l)return;let u=i.current,c=o.current,f=Object.assign(p=>u(p),{acceptNode:u}),h=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;h.nextNode();)c(h.currentNode)},[t,e,i,o])}function $p(e,t){let n=k.useRef([]),r=Be(e);k.useEffect(()=>{let i=[...n.current];for(let[o,l]of t.entries())if(n.current[o]!==l){let u=r(t,i);return n.current=t,u}},[r,...t])}function Ec(){return typeof window<"u"}function Io(e){return tb(e)?(e.nodeName||"").toLowerCase():"#document"}function qn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Br(e){var t;return(t=(tb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tb(e){return Ec()?e instanceof Node||e instanceof qn(e).Node:!1}function bn(e){return Ec()?e instanceof Element||e instanceof qn(e).Element:!1}function $r(e){return Ec()?e instanceof HTMLElement||e instanceof qn(e).HTMLElement:!1}function $v(e){return!Ec()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qn(e).ShadowRoot}const zj=new Set(["inline","contents"]);function nl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Sr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!zj.has(i)}const Bj=new Set(["table","td","th"]);function Uj(e){return Bj.has(Io(e))}const Wj=[":popover-open",":modal"];function _c(e){return Wj.some(t=>{try{return e.matches(t)}catch{return!1}})}const Hj=["transform","translate","scale","rotate","perspective"],Vj=["transform","translate","scale","rotate","perspective","filter"],qj=["paint","layout","strict","content"];function Fp(e){const t=zp(),n=bn(e)?Sr(e):e;return Hj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Vj.some(r=>(n.willChange||"").includes(r))||qj.some(r=>(n.contain||"").includes(r))}function Yj(e){let t=Li(e);for(;$r(t)&&!Eo(t);){if(Fp(t))return t;if(_c(t))return null;t=Li(t)}return null}function zp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Kj=new Set(["html","body","#document"]);function Eo(e){return Kj.has(Io(e))}function Sr(e){return qn(e).getComputedStyle(e)}function Cc(e){return bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Li(e){if(Io(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$v(e)&&e.host||Br(e);return $v(t)?t.host:t}function nb(e){const t=Li(e);return Eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:$r(t)&&nl(t)?t:nb(t)}function Va(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=nb(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=qn(i);if(o){const u=Bh(l);return t.concat(l,l.visualViewport||[],nl(i)?i:[],u&&n?Va(u):[])}return t.concat(i,Va(i,[],n))}function Bh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Gj(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const ys=Math.min,fn=Math.max,qa=Math.round,ku=Math.floor,Dr=e=>({x:e,y:e}),Jj={left:"right",right:"left",bottom:"top",top:"bottom"},Qj={start:"end",end:"start"};function Fv(e,t,n){return fn(e,ys(t,n))}function Po(e,t){return typeof e=="function"?e(t):e}function Di(e){return e.split("-")[0]}function rl(e){return e.split("-")[1]}function rb(e){return e==="x"?"y":"x"}function ib(e){return e==="y"?"height":"width"}const Xj=new Set(["top","bottom"]);function ei(e){return Xj.has(Di(e))?"y":"x"}function sb(e){return rb(ei(e))}function Zj(e,t,n){n===void 0&&(n=!1);const r=rl(e),i=sb(e),o=ib(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Xu(l)),[l,Xu(l)]}function eN(e){const t=Xu(e);return[Uh(e),t,Uh(t)]}function Uh(e){return e.replace(/start|end/g,t=>Qj[t])}const zv=["left","right"],Bv=["right","left"],tN=["top","bottom"],nN=["bottom","top"];function rN(e,t,n){switch(e){case"top":case"bottom":return n?t?Bv:zv:t?zv:Bv;case"left":case"right":return t?tN:nN;default:return[]}}function iN(e,t,n,r){const i=rl(e);let o=rN(Di(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(Uh)))),o}function Xu(e){return e.replace(/left|right|bottom|top/g,t=>Jj[t])}function sN(e){return{top:0,right:0,bottom:0,left:0,...e}}function oN(e){return typeof e!="number"?sN(e):{top:e,right:e,bottom:e,left:e}}function Zu(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Uv(e,t,n){let{reference:r,floating:i}=e;const o=ei(t),l=sb(t),u=ib(l),c=Di(t),f=o==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[u]/2-i[u]/2;let y;switch(c){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(rl(t)){case"start":y[l]-=v*(n&&f?-1:1);break;case"end":y[l]+=v*(n&&f?-1:1);break}return y}const aN=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=Uv(f,r,c),v=r,y={},S=0;for(let w=0;w<u.length;w++){const{name:_,fn:E}=u[w],{x:N,y:C,data:P,reset:O}=await E({x:h,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:f,platform:l,elements:{reference:e,floating:t}});h=N??h,p=C??p,y={...y,[_]:{...y[_],...P}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(v=O.placement),O.rects&&(f=O.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:h,y:p}=Uv(f,v,c)),w=-1)}return{x:h,y:p,placement:v,strategy:i,middlewareData:y}};async function jc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:u,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=Po(t,e),S=oN(y),_=u[v?p==="floating"?"reference":"floating":p],E=Zu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:c})),N=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),P=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},O=Zu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:C,strategy:c}):N);return{top:(E.top-O.top+S.top)/P.y,bottom:(O.bottom-E.bottom+S.bottom)/P.y,left:(E.left-O.left+S.left)/P.x,right:(O.right-E.right+S.right)/P.x}}const lN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:c,elements:f}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,..._}=Po(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=Di(i),N=ei(u),C=Di(u)===u,P=await(c.isRTL==null?void 0:c.isRTL(f.floating)),O=v||(C||!w?[Xu(u)]:eN(u)),A=S!=="none";!v&&A&&O.push(...iN(u,w,S,P));const B=[u,...O],re=await jc(t,_),X=[];let L=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&X.push(re[E]),p){const q=Zj(i,l,P);X.push(re[q[0]],re[q[1]])}if(L=[...L,{placement:i,overflows:X}],!X.every(q=>q<=0)){var $,Q;const q=((($=o.flip)==null?void 0:$.index)||0)+1,F=B[q];if(F&&(!(p==="alignment"?N!==ei(F):!1)||L.every(M=>ei(M.placement)===N?M.overflows[0]>0:!0)))return{data:{index:q,overflows:L},reset:{placement:F}};let W=(Q=L.filter(Z=>Z.overflows[0]<=0).sort((Z,M)=>Z.overflows[1]-M.overflows[1])[0])==null?void 0:Q.placement;if(!W)switch(y){case"bestFit":{var Y;const Z=(Y=L.filter(M=>{if(A){const z=ei(M.placement);return z===N||z==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(z=>z>0).reduce((z,j)=>z+j,0)]).sort((M,z)=>M[1]-z[1])[0])==null?void 0:Y[0];Z&&(W=Z);break}case"initialPlacement":W=u;break}if(i!==W)return{reset:{placement:W}}}return{}}}},uN=new Set(["left","top"]);async function cN(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Di(n),u=rl(n),c=ei(n)==="y",f=uN.has(l)?-1:1,h=o&&c?-1:1,p=Po(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof S=="number"&&(y=u==="end"?S*-1:S),c?{x:y*h,y:v*f}:{x:v*f,y:y*h}}const dN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:u}=t,c=await cN(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:l}}}}},fN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:_=>{let{x:E,y:N}=_;return{x:E,y:N}}},...c}=Po(e,t),f={x:n,y:r},h=await jc(t,c),p=ei(Di(i)),v=rb(p);let y=f[v],S=f[p];if(o){const _=v==="y"?"top":"left",E=v==="y"?"bottom":"right",N=y+h[_],C=y-h[E];y=Fv(N,y,C)}if(l){const _=p==="y"?"top":"left",E=p==="y"?"bottom":"right",N=S+h[_],C=S-h[E];S=Fv(N,S,C)}const w=u.fn({...t,[v]:y,[p]:S});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[v]:o,[p]:l}}}}}},hN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:c=()=>{},...f}=Po(e,t),h=await jc(t,f),p=Di(i),v=rl(i),y=ei(i)==="y",{width:S,height:w}=o.floating;let _,E;p==="top"||p==="bottom"?(_=p,E=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(E=p,_=v==="end"?"top":"bottom");const N=w-h.top-h.bottom,C=S-h.left-h.right,P=ys(w-h[_],N),O=ys(S-h[E],C),A=!t.middlewareData.shift;let B=P,re=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(re=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=N),A&&!v){const L=fn(h.left,0),$=fn(h.right,0),Q=fn(h.top,0),Y=fn(h.bottom,0);y?re=S-2*(L!==0||$!==0?L+$:fn(h.left,h.right)):B=w-2*(Q!==0||Y!==0?Q+Y:fn(h.top,h.bottom))}await c({...t,availableWidth:re,availableHeight:B});const X=await l.getDimensions(u.floating);return S!==X.width||w!==X.height?{reset:{rects:!0}}:{}}}};function ob(e){const t=Sr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=$r(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=qa(n)!==o||qa(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function Bp(e){return bn(e)?e:e.contextElement}function yo(e){const t=Bp(e);if(!$r(t))return Dr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=ob(t);let l=(o?qa(n.width):n.width)/r,u=(o?qa(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const pN=Dr(0);function ab(e){const t=qn(e);return!zp()||!t.visualViewport?pN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==qn(e)?!1:t}function vs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Bp(e);let l=Dr(1);t&&(r?bn(r)&&(l=yo(r)):l=yo(e));const u=mN(o,n,r)?ab(o):Dr(0);let c=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,h=i.width/l.x,p=i.height/l.y;if(o){const v=qn(o),y=r&&bn(r)?qn(r):r;let S=v,w=Bh(S);for(;w&&r&&y!==S;){const _=yo(w),E=w.getBoundingClientRect(),N=Sr(w),C=E.left+(w.clientLeft+parseFloat(N.paddingLeft))*_.x,P=E.top+(w.clientTop+parseFloat(N.paddingTop))*_.y;c*=_.x,f*=_.y,h*=_.x,p*=_.y,c+=C,f+=P,S=qn(w),w=Bh(S)}}return Zu({width:h,height:p,x:c,y:f})}function Nc(e,t){const n=Cc(e).scrollLeft;return t?t.left+n:vs(Br(e)).left+n}function lb(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Nc(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function gN(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=Br(r),u=t?_c(t.floating):!1;if(r===l||u&&o)return n;let c={scrollLeft:0,scrollTop:0},f=Dr(1);const h=Dr(0),p=$r(r);if((p||!p&&!o)&&((Io(r)!=="body"||nl(l))&&(c=Cc(r)),$r(r))){const y=vs(r);f=yo(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const v=l&&!p&&!o?lb(l,c):Dr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+h.x+v.x,y:n.y*f.y-c.scrollTop*f.y+h.y+v.y}}function yN(e){return Array.from(e.getClientRects())}function vN(e){const t=Br(e),n=Cc(e),r=e.ownerDocument.body,i=fn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=fn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Nc(e);const u=-n.scrollTop;return Sr(r).direction==="rtl"&&(l+=fn(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:u}}const Wv=25;function xN(e,t){const n=qn(e),r=Br(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,c=0;if(i){o=i.width,l=i.height;const h=zp();(!h||h&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}const f=Nc(r);if(f<=0){const h=r.ownerDocument,p=h.body,v=getComputedStyle(p),y=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(r.clientWidth-p.clientWidth-y);S<=Wv&&(o-=S)}else f<=Wv&&(o+=f);return{width:o,height:l,x:u,y:c}}const wN=new Set(["absolute","fixed"]);function bN(e,t){const n=vs(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=$r(e)?yo(e):Dr(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:l,height:u,x:c,y:f}}function Hv(e,t,n){let r;if(t==="viewport")r=xN(e,n);else if(t==="document")r=vN(Br(e));else if(bn(t))r=bN(t,n);else{const i=ab(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Zu(r)}function ub(e,t){const n=Li(e);return n===t||!bn(n)||Eo(n)?!1:Sr(n).position==="fixed"||ub(n,t)}function kN(e,t){const n=t.get(e);if(n)return n;let r=Va(e,[],!1).filter(u=>bn(u)&&Io(u)!=="body"),i=null;const o=Sr(e).position==="fixed";let l=o?Li(e):e;for(;bn(l)&&!Eo(l);){const u=Sr(l),c=Fp(l);!c&&u.position==="fixed"&&(i=null),(o?!c&&!i:!c&&u.position==="static"&&!!i&&wN.has(i.position)||nl(l)&&!c&&ub(e,l))?r=r.filter(h=>h!==l):i=u,l=Li(l)}return t.set(e,r),r}function SN(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?_c(t)?[]:kN(t,this._c):[].concat(n),r],u=l[0],c=l.reduce((f,h)=>{const p=Hv(t,h,i);return f.top=fn(p.top,f.top),f.right=ys(p.right,f.right),f.bottom=ys(p.bottom,f.bottom),f.left=fn(p.left,f.left),f},Hv(t,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function EN(e){const{width:t,height:n}=ob(e);return{width:t,height:n}}function _N(e,t,n){const r=$r(t),i=Br(t),o=n==="fixed",l=vs(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const c=Dr(0);function f(){c.x=Nc(i)}if(r||!r&&!o)if((Io(t)!=="body"||nl(i))&&(u=Cc(t)),r){const y=vs(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else i&&f();o&&!r&&i&&f();const h=i&&!r&&!o?lb(i,u):Dr(0),p=l.left+u.scrollLeft-c.x-h.x,v=l.top+u.scrollTop-c.y-h.y;return{x:p,y:v,width:l.width,height:l.height}}function Bf(e){return Sr(e).position==="static"}function Vv(e,t){if(!$r(e)||Sr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Br(e)===n&&(n=n.ownerDocument.body),n}function cb(e,t){const n=qn(e);if(_c(e))return n;if(!$r(e)){let i=Li(e);for(;i&&!Eo(i);){if(bn(i)&&!Bf(i))return i;i=Li(i)}return n}let r=Vv(e,t);for(;r&&Uj(r)&&Bf(r);)r=Vv(r,t);return r&&Eo(r)&&Bf(r)&&!Fp(r)?n:r||Yj(e)||n}const CN=async function(e){const t=this.getOffsetParent||cb,n=this.getDimensions,r=await n(e.floating);return{reference:_N(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jN(e){return Sr(e).direction==="rtl"}const NN={convertOffsetParentRelativeRectToViewportRelativeRect:gN,getDocumentElement:Br,getClippingRect:SN,getOffsetParent:cb,getElementRects:CN,getClientRects:yN,getDimensions:EN,getScale:yo,isElement:bn,isRTL:jN};function db(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function TN(e,t){let n=null,r;const i=Br(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const f=e.getBoundingClientRect(),{left:h,top:p,width:v,height:y}=f;if(u||t(),!v||!y)return;const S=ku(p),w=ku(i.clientWidth-(h+v)),_=ku(i.clientHeight-(p+y)),E=ku(h),C={rootMargin:-S+"px "+-w+"px "+-_+"px "+-E+"px",threshold:fn(0,ys(1,c))||1};let P=!0;function O(A){const B=A[0].intersectionRatio;if(B!==c){if(!P)return l();B?l(!1,B):r=setTimeout(()=>{l(!1,1e-7)},1e3)}B===1&&!db(f,e.getBoundingClientRect())&&l(),P=!1}try{n=new IntersectionObserver(O,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,C)}n.observe(e)}return l(!0),o}function IN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Bp(e),h=i||o?[...f?Va(f):[],...Va(t)]:[];h.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const p=f&&u?TN(f,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(E=>{let[N]=E;N&&N.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),f&&!c&&y.observe(f),y.observe(t));let S,w=c?vs(e):null;c&&_();function _(){const E=vs(e);w&&!db(w,E)&&n(),w=E,S=requestAnimationFrame(_)}return n(),()=>{var E;h.forEach(N=>{i&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),p==null||p(),(E=y)==null||E.disconnect(),y=null,c&&cancelAnimationFrame(S)}}const Uf=jc,PN=dN,AN=fN,RN=lN,ON=hN,MN=(e,t,n)=>{const r=new Map,i={platform:NN,...n},o={...i.platform,_c:r};return aN(e,t,{...i,platform:o})};var LN=typeof document<"u",DN=function(){},Lu=LN?k.useLayoutEffect:DN;function ec(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ec(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ec(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function fb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qv(e,t){const n=fb(e);return Math.round(t*n)/n}function Wf(e){const t=k.useRef(e);return Lu(()=>{t.current=e}),t}function $N(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:c,open:f}=e,[h,p]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=k.useState(r);ec(v,r)||y(r);const[S,w]=k.useState(null),[_,E]=k.useState(null),N=k.useCallback(M=>{M!==A.current&&(A.current=M,w(M))},[]),C=k.useCallback(M=>{M!==B.current&&(B.current=M,E(M))},[]),P=o||S,O=l||_,A=k.useRef(null),B=k.useRef(null),re=k.useRef(h),X=c!=null,L=Wf(c),$=Wf(i),Q=Wf(f),Y=k.useCallback(()=>{if(!A.current||!B.current)return;const M={placement:t,strategy:n,middleware:v};$.current&&(M.platform=$.current),MN(A.current,B.current,M).then(z=>{const j={...z,isPositioned:Q.current!==!1};q.current&&!ec(re.current,j)&&(re.current=j,Vn.flushSync(()=>{p(j)}))})},[v,t,n,$,Q]);Lu(()=>{f===!1&&re.current.isPositioned&&(re.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[f]);const q=k.useRef(!1);Lu(()=>(q.current=!0,()=>{q.current=!1}),[]),Lu(()=>{if(P&&(A.current=P),O&&(B.current=O),P&&O){if(L.current)return L.current(P,O,Y);Y()}},[P,O,Y,L,X]);const F=k.useMemo(()=>({reference:A,floating:B,setReference:N,setFloating:C}),[N,C]),W=k.useMemo(()=>({reference:P,floating:O}),[P,O]),Z=k.useMemo(()=>{const M={position:n,left:0,top:0};if(!W.floating)return M;const z=qv(W.floating,h.x),j=qv(W.floating,h.y);return u?{...M,transform:"translate("+z+"px, "+j+"px)",...fb(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:j}},[n,u,W.floating,h.x,h.y]);return k.useMemo(()=>({...h,update:Y,refs:F,elements:W,floatingStyles:Z}),[h,Y,F,W,Z])}const hb=(e,t)=>({...PN(e),options:[e,t]}),FN=(e,t)=>({...AN(e),options:[e,t]}),zN=(e,t)=>({...RN(e),options:[e,t]}),BN=(e,t)=>({...ON(e),options:[e,t]}),pb={...Vu},UN=pb.useInsertionEffect,WN=UN||(e=>e());function mb(e){const t=k.useRef(()=>{});return WN(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Wh=typeof document<"u"?k.useLayoutEffect:k.useEffect;let Yv=!1,HN=0;const Kv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+HN++;function VN(){const[e,t]=k.useState(()=>Yv?Kv():void 0);return Wh(()=>{e==null&&t(Kv())},[]),k.useEffect(()=>{Yv=!0},[]),e}const qN=pb.useId,YN=qN||VN;function KN(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const GN=k.createContext(null),JN=k.createContext(null),QN=()=>{var e;return((e=k.useContext(GN))==null?void 0:e.id)||null},XN=()=>k.useContext(JN),ZN="data-floating-ui-focusable";function eT(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=YN(),o=k.useRef({}),[l]=k.useState(()=>KN()),u=QN()!=null,[c,f]=k.useState(r.reference),h=mb((y,S,w)=>{o.current.openEvent=y?S:void 0,l.emit("openchange",{open:y,event:S,reason:w,nested:u}),n==null||n(y,S,w)}),p=k.useMemo(()=>({setPositionReference:f}),[]),v=k.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return k.useMemo(()=>({dataRef:o,open:t,onOpenChange:h,elements:v,events:l,floatingId:i,refs:p}),[t,h,v,l,i,p])}function tT(e){e===void 0&&(e={});const{nodeId:t}=e,n=eT({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,l]=k.useState(null),[u,c]=k.useState(null),h=(i==null?void 0:i.domReference)||o,p=k.useRef(null),v=XN();Wh(()=>{h&&(p.current=h)},[h]);const y=$N({...e,elements:{...i,...u&&{reference:u}}}),S=k.useCallback(C=>{const P=bn(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;c(P),y.refs.setReference(P)},[y.refs]),w=k.useCallback(C=>{(bn(C)||C===null)&&(p.current=C,l(C)),(bn(y.refs.reference.current)||y.refs.reference.current===null||C!==null&&!bn(C))&&y.refs.setReference(C)},[y.refs]),_=k.useMemo(()=>({...y.refs,setReference:w,setPositionReference:S,domReference:p}),[y.refs,w,S]),E=k.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),N=k.useMemo(()=>({...y,...r,refs:_,elements:E,nodeId:t}),[y,_,E,t,r]);return Wh(()=>{r.dataRef.current.floatingContext=N;const C=v==null?void 0:v.nodesRef.current.find(P=>P.id===t);C&&(C.context=N)}),k.useMemo(()=>({...y,context:N,refs:_,elements:E}),[y,_,E,N])}const Gv="active",Jv="selected";function Hf(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Gv]:l,[Jv]:u,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1,[ZN]:""},...o,...t.map(l=>{const u=l?l[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((l,u)=>(u&&Object.entries(u).forEach(c=>{let[f,h]=c;if(!(i&&[Gv,Jv].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof h=="function"){var p;(p=r.get(f))==null||p.push(h),l[f]=function(){for(var v,y=arguments.length,S=new Array(y),w=0;w<y;w++)S[w]=arguments[w];return(v=r.get(f))==null?void 0:v.map(_=>_(...S)).find(_=>_!==void 0)}}}else l[f]=h}),l),{})}}function nT(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),n=e.map(u=>u==null?void 0:u.floating),r=e.map(u=>u==null?void 0:u.item),i=k.useCallback(u=>Hf(u,e,"reference"),t),o=k.useCallback(u=>Hf(u,e,"floating"),n),l=k.useCallback(u=>Hf(u,e,"item"),r);return k.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}function Qv(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const rT=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:l=0,minItemsVisible:u=4,referenceOverflowThreshold:c=0,scrollRef:f,...h}=Po(e,t),{rects:p,elements:{floating:v}}=t,y=n.current[l],S=(f==null?void 0:f.current)||v,w=v.clientTop||S.clientTop,_=v.clientTop!==0,E=S.clientTop!==0,N=v===S;if(!y)return{};const C={...t,...await hb(-y.offsetTop-v.clientTop-p.reference.height/2-y.offsetHeight/2-o).fn(t)},P=await Uf(Qv(C,S.scrollHeight+w+v.clientTop),h),O=await Uf(C,{...h,elementContext:"reference"}),A=fn(0,P.top),B=C.y+A,L=(S.scrollHeight>S.clientHeight?$=>$:qa)(fn(0,S.scrollHeight+(_&&N||E?w*2:0)-A-fn(0,P.bottom)));if(S.style.maxHeight=L+"px",S.scrollTop=A,i){const $=S.offsetHeight<y.offsetHeight*ys(u,n.current.length)-1||O.top>=-c||O.bottom>=-c;Vn.flushSync(()=>i($))}return r&&(r.current=await Uf(Qv({...C,y:B},S.offsetHeight+w+v.clientTop),h)),{y:B}}});function iT(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:l,onChange:u}=t,c=mb(u),f=k.useRef(!1),h=k.useRef(null),p=k.useRef(null);k.useEffect(()=>{if(!i)return;function y(w){if(w.ctrlKey||!S||o.current==null)return;const _=w.deltaY,E=o.current.top>=-.5,N=o.current.bottom>=-.5,C=S.scrollHeight-S.clientHeight,P=_<0?-1:1,O=_<0?"max":"min";S.scrollHeight<=S.clientHeight||(!E&&_>0||!N&&_<0?(w.preventDefault(),Vn.flushSync(()=>{c(A=>A+Math[O](_,C*P))})):/firefox/i.test(Gj())&&(S.scrollTop+=_))}const S=(l==null?void 0:l.current)||r.floating;if(n&&S)return S.addEventListener("wheel",y),requestAnimationFrame(()=>{h.current=S.scrollTop,o.current!=null&&(p.current={...o.current})}),()=>{h.current=null,p.current=null,S.removeEventListener("wheel",y)}},[i,n,r.floating,o,l,c]);const v=k.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const y=(l==null?void 0:l.current)||r.floating;if(!(!o.current||!y||!f.current)){if(h.current!==null){const S=y.scrollTop-h.current;(o.current.bottom<-.5&&S<-1||o.current.top<-.5&&S>1)&&Vn.flushSync(()=>c(w=>w+S))}requestAnimationFrame(()=>{h.current=y.scrollTop})}}}),[r.floating,c,o,l]);return k.useMemo(()=>i?{floating:v}:{},[i,v])}let Ao=k.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ao.displayName="FloatingContext";let Up=k.createContext(null);Up.displayName="PlacementContext";function sT(e){return k.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function oT(){return k.useContext(Ao).setReference}function aT(){return k.useContext(Ao).getReferenceProps}function lT(){let{getFloatingProps:e,slot:t}=k.useContext(Ao);return k.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function uT(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=k.useContext(Up),n=k.useMemo(()=>e,[JSON.stringify(e,(i,o)=>{var l;return(l=o==null?void 0:o.outerHTML)!=null?l:o})]);vt(()=>{t==null||t(n??null)},[t,n]);let r=k.useContext(Ao);return k.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Xv=4;function cT({children:e,enabled:t=!0}){let[n,r]=k.useState(null),[i,o]=k.useState(0),l=k.useRef(null),[u,c]=k.useState(null);dT(u);let f=t&&n!==null&&u!==null,{to:h="bottom",gap:p=0,offset:v=0,padding:y=0,inner:S}=fT(n,u),[w,_="center"]=h.split(" ");vt(()=>{f&&o(0)},[f]);let{refs:E,floatingStyles:N,context:C}=tT({open:f,placement:w==="selection"?_==="center"?"bottom":`bottom-${_}`:_==="center"?`${w}`:`${w}-${_}`,strategy:"absolute",transform:!1,middleware:[hb({mainAxis:w==="selection"?0:p,crossAxis:v}),FN({padding:y}),w!=="selection"&&zN({padding:y}),w==="selection"&&S?rT({...S,padding:y,overflowRef:l,offset:i,minItemsVisible:Xv,referenceOverflowThreshold:y,onFallbackChange($){var Q,Y;if(!$)return;let q=C.elements.floating;if(!q)return;let F=parseFloat(getComputedStyle(q).scrollPaddingBottom)||0,W=Math.min(Xv,q.childElementCount),Z=0,M=0;for(let z of(Y=(Q=C.elements.floating)==null?void 0:Q.childNodes)!=null?Y:[])if(Kn(z)){let j=z.offsetTop,R=j+z.clientHeight+F,H=q.scrollTop,I=H+q.clientHeight;if(j>=H&&R<=I)W--;else{M=Math.max(0,Math.min(R,I)-Math.max(j,H)),Z=z.clientHeight;break}}W>=1&&o(z=>{let j=Z*W-M+F;return z>=j?z:j})}}):null,BN({padding:y,apply({availableWidth:$,availableHeight:Q,elements:Y}){Object.assign(Y.floating.style,{overflow:"auto",maxWidth:`${$}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Q}px)`})}})].filter(Boolean),whileElementsMounted:IN}),[P=w,O=_]=C.placement.split("-");w==="selection"&&(P="selection");let A=k.useMemo(()=>({anchor:[P,O].filter(Boolean).join(" ")}),[P,O]),B=iT(C,{overflowRef:l,onChange:o}),{getReferenceProps:re,getFloatingProps:X}=nT([B]),L=Be($=>{c($),E.setFloating($)});return k.createElement(Up.Provider,{value:r},k.createElement(Ao.Provider,{value:{setFloating:L,setReference:E.setReference,styles:N,getReferenceProps:re,getFloatingProps:X,slot:A}},e))}function dT(e){vt(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function fT(e,t){var n,r,i;let o=Vf((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=Vf((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),u=Vf((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:l,padding:u}}function Vf(e,t,n=void 0){let r=Ss(),i=Be((c,f)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!f)return[n,null];let h=Zv(c,f);return[h,p=>{let v=gb(c);{let y=v.map(S=>window.getComputedStyle(f).getPropertyValue(S));r.requestAnimationFrame(function S(){r.nextFrame(S);let w=!1;for(let[E,N]of v.entries()){let C=window.getComputedStyle(f).getPropertyValue(N);if(y[E]!==C){y[E]=C,w=!0;break}}if(!w)return;let _=Zv(c,f);h!==_&&(p(_),h=_)})}return r.dispose}]}return[n,null]}),o=k.useMemo(()=>i(e,t)[0],[e,t]),[l=o,u]=k.useState();return vt(()=>{let[c,f]=i(e,t);if(u(c),!!f)return f(u)},[e,t]),l}function gb(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...gb(i)]:[r]}return[]}function Zv(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let Tc=k.createContext(null);Tc.displayName="OpenClosedContext";var kn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(kn||{});function il(){return k.useContext(Tc)}function yb({value:e,children:t}){return Se.createElement(Tc.Provider,{value:e},t)}function hT({children:e}){return Se.createElement(Tc.Provider,{value:null},e)}function pT(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ii=[];pT(()=>{function e(t){if(!Or(t.target)||t.target===document.body||Ii[0]===t.target)return;let n=t.target;n=n.closest(Qu),Ii.unshift(n??t.target),Ii=Ii.filter(r=>r!=null&&r.isConnected),Ii.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function mT(e){throw new Error("Unexpected object: "+e)}var $t=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))($t||{});function Su(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:mT(e)}}function Wp(e){let t=Be(e),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,bc(()=>{n.current&&t()})}),[t])}let vb=k.createContext(!1);function gT(){return k.useContext(vb)}function ex(e){return Se.createElement(vb.Provider,{value:e.force},e.children)}function yT(e){let t=gT(),n=k.useContext(wb),[r,i]=k.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(Mr.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return k.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),k.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let xb=k.Fragment,vT=Pt(function(e,t){let{ownerDocument:n=null,...r}=e,i=k.useRef(null),o=Sn(WC(v=>{i.current=v}),t),l=Ha(i.current),u=n??l,c=yT(u),f=k.useContext(Hh),h=Ss(),p=zt();return Wp(()=>{var v;c&&c.childNodes.length<=0&&((v=c.parentElement)==null||v.removeChild(c))}),c?Vn.createPortal(Se.createElement("div",{"data-headlessui-portal":"",ref:v=>{h.dispose(),f&&v&&h.add(f.register(v))}},p({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:xb,name:"Portal"})),c):null});function xT(e,t){let n=Sn(t),{enabled:r=!0,ownerDocument:i,...o}=e,l=zt();return r?Se.createElement(vT,{...o,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:xb,name:"Portal"})}let wT=k.Fragment,wb=k.createContext(null);function bT(e,t){let{target:n,...r}=e,i={ref:Sn(t)},o=zt();return Se.createElement(wb.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:wT,name:"Popover.Group"}))}let Hh=k.createContext(null);function kT(){let e=k.useContext(Hh),t=k.useRef([]),n=Be(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Be(o=>{let l=t.current.indexOf(o);l!==-1&&t.current.splice(l,1),e&&e.unregister(o)}),i=k.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,k.useMemo(()=>function({children:o}){return Se.createElement(Hh.Provider,{value:i},o)},[i])]}let ST=Pt(xT),bb=Pt(bT),kb=Object.assign(ST,{Group:bb});const Du={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function Sb(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function ET(e,t,n){let r=On();if(t.kind==="Tracked"){let i=function(){o!==Sb(e)&&(r.dispose(),n())},{position:o}=t,l=new ResizeObserver(i);l.observe(e),r.add(()=>l.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function _T(e,t=typeof document<"u"?document.defaultView:null,n){let r=tl(e,"escape");Qw(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===Jt.Escape&&n(i))})}function CT(){var e;let[t]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((e=t==null?void 0:t.matches)!=null?e:!1);return vt(()=>{if(!t)return;function i(o){r(o.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function jT({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Be(()=>{var i,o;let l=ks(n),u=[];for(let c of e)c!==null&&(ti(c)?u.push(c):"current"in c&&ti(c.current)&&u.push(c.current));if(t!=null&&t.current)for(let c of t.current)u.push(c);for(let c of(i=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&ti(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||u.some(f=>c.contains(f))||u.push(c));return u});return{resolveContainers:r,contains:Be(i=>r().some(o=>o.contains(i)))}}let Eb=k.createContext(null);function tx({children:e,node:t}){let[n,r]=k.useState(null),i=_b(t??n);return Se.createElement(Eb.Provider,{value:i},e,i===null&&Se.createElement($h,{features:Ju.Hidden,ref:o=>{var l,u;if(o){for(let c of(u=(l=ks(o))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(c!==document.body&&c!==document.head&&ti(c)&&c!=null&&c.contains(o)){r(c);break}}}}))}function _b(e=null){var t;return(t=k.useContext(Eb))!=null?t:e}function NT(){let e=typeof document>"u";return"useSyncExternalStore"in Vu?(t=>t.useSyncExternalStore)(Vu)(()=>()=>{},()=>!1,()=>!e):!1}function Ic(){let e=NT(),[t,n]=k.useState(Mr.isHandoffComplete);return t&&Mr.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{t!==!0&&n(!0)},[t]),k.useEffect(()=>Mr.handoff(),[]),e?!1:t}function Hp(){let e=k.useRef(!1);return vt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ca=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ca||{});function TT(){let e=k.useRef(0);return Gw(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Cb(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ti(n.current)&&t.add(n.current);return t}let IT="div";var ls=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ls||{});function PT(e,t){let n=k.useRef(null),r=Sn(n,t),{initialFocus:i,initialFocusFallback:o,containers:l,features:u=15,...c}=e;Ic()||(u=0);let f=Ha(n.current);MT(u,{ownerDocument:f});let h=LT(u,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:o});DT(u,{ownerDocument:f,container:n,containers:l,previousActiveElement:h});let p=TT(),v=Be(N=>{if(!Kn(n.current))return;let C=n.current;(P=>P())(()=>{kr(p.current,{[Ca.Forwards]:()=>{go(C,xr.First,{skipElements:[N.relatedTarget,o]})},[Ca.Backwards]:()=>{go(C,xr.Last,{skipElements:[N.relatedTarget,o]})}})})}),y=tl(!!(u&2),"focus-trap#tab-lock"),S=Ss(),w=k.useRef(!1),_={ref:r,onKeyDown(N){N.key=="Tab"&&(w.current=!0,S.requestAnimationFrame(()=>{w.current=!1}))},onBlur(N){if(!(u&4))return;let C=Cb(l);Kn(n.current)&&C.add(n.current);let P=N.relatedTarget;Or(P)&&P.dataset.headlessuiFocusGuard!=="true"&&(jb(C,P)||(w.current?go(n.current,kr(p.current,{[Ca.Forwards]:()=>xr.Next,[Ca.Backwards]:()=>xr.Previous})|xr.WrapAround,{relativeTo:N.target}):Or(N.target)&&Lr(N.target)))}},E=zt();return Se.createElement(Se.Fragment,null,y&&Se.createElement($h,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ju.Focusable}),E({ourProps:_,theirProps:c,defaultTag:IT,name:"FocusTrap"}),y&&Se.createElement($h,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Ju.Focusable}))}let AT=Pt(PT),RT=Object.assign(AT,{features:ls});function OT(e=!0){let t=k.useRef(Ii.slice());return $p(([n],[r])=>{r===!0&&n===!1&&bc(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Ii.slice())},[e,Ii,t]),Be(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function MT(e,{ownerDocument:t}){let n=!!(e&8),r=OT(n);$p(()=>{n||_w(t==null?void 0:t.body)&&Lr(r())},[n]),Wp(()=>{n&&Lr(r())})}function LT(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let o=k.useRef(null),l=tl(!!(e&1),"focus-trap#initial-focus"),u=Hp();return $p(()=>{if(e===0)return;if(!l){i!=null&&i.current&&Lr(i.current);return}let c=n.current;c&&bc(()=>{if(!u.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){o.current=f;return}}else if(c.contains(f)){o.current=f;return}if(r!=null&&r.current)Lr(r.current);else{if(e&16){if(go(c,xr.First|xr.AutoFocus)!==zh.Error)return}else if(go(c,xr.First)!==zh.Error)return;if(i!=null&&i.current&&(Lr(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t==null?void 0:t.activeElement})},[i,l,e]),o}function DT(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let o=Hp(),l=!!(e&4);Qw(t==null?void 0:t.defaultView,"focus",u=>{if(!l||!o.current)return;let c=Cb(r);Kn(n.current)&&c.add(n.current);let f=i.current;if(!f)return;let h=u.target;Kn(h)?jb(c,h)?(i.current=h,Lr(h)):(u.preventDefault(),u.stopPropagation(),Lr(f)):Lr(i.current)},!0)}function jb(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Nb(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Ia((t=e.as)!=null?t:Ib)||Se.Children.count(e.children)===1}let Pc=k.createContext(null);Pc.displayName="TransitionContext";var $T=(e=>(e.Visible="visible",e.Hidden="hidden",e))($T||{});function FT(){let e=k.useContext(Pc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function zT(){let e=k.useContext(Ac);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ac=k.createContext(null);Ac.displayName="NestingContext";function Rc(e){return"children"in e?Rc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Tb(e,t){let n=Es(e),r=k.useRef([]),i=Hp(),o=Ss(),l=Be((y,S=Oi.Hidden)=>{let w=r.current.findIndex(({el:_})=>_===y);w!==-1&&(kr(S,{[Oi.Unmount](){r.current.splice(w,1)},[Oi.Hidden](){r.current[w].state="hidden"}}),o.microTask(()=>{var _;!Rc(r)&&i.current&&((_=n.current)==null||_.call(n))}))}),u=Be(y=>{let S=r.current.find(({el:w})=>w===y);return S?S.state!=="visible"&&(S.state="visible"):r.current.push({el:y,state:"visible"}),()=>l(y,Oi.Unmount)}),c=k.useRef([]),f=k.useRef(Promise.resolve()),h=k.useRef({enter:[],leave:[]}),p=Be((y,S,w)=>{c.current.splice(0),t&&(t.chains.current[S]=t.chains.current[S].filter(([_])=>_!==y)),t==null||t.chains.current[S].push([y,new Promise(_=>{c.current.push(_)})]),t==null||t.chains.current[S].push([y,new Promise(_=>{Promise.all(h.current[S].map(([E,N])=>N)).then(()=>_())})]),S==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(S)):w(S)}),v=Be((y,S,w)=>{Promise.all(h.current[S].splice(0).map(([_,E])=>E)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>w(S))});return k.useMemo(()=>({children:r,register:u,unregister:l,onStart:p,onStop:v,wait:f,chains:h}),[u,l,r,p,v,h,f])}let Ib=k.Fragment,Pb=So.RenderStrategy;function BT(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:l,beforeLeave:u,afterLeave:c,enter:f,enterFrom:h,enterTo:p,entered:v,leave:y,leaveFrom:S,leaveTo:w,..._}=e,[E,N]=k.useState(null),C=k.useRef(null),P=Nb(e),O=Sn(...P?[C,t,N]:t===null?[]:[t]),A=(n=_.unmount)==null||n?Oi.Unmount:Oi.Hidden,{show:B,appear:re,initial:X}=FT(),[L,$]=k.useState(B?"visible":"hidden"),Q=zT(),{register:Y,unregister:q}=Q;vt(()=>Y(C),[Y,C]),vt(()=>{if(A===Oi.Hidden&&C.current){if(B&&L!=="visible"){$("visible");return}return kr(L,{hidden:()=>q(C),visible:()=>Y(C)})}},[L,C,Y,q,B,A]);let F=Ic();vt(()=>{if(P&&F&&L==="visible"&&C.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[C,L,F,P]);let W=X&&!re,Z=re&&B&&X,M=k.useRef(!1),z=Tb(()=>{M.current||($("hidden"),q(C))},Q),j=Be(xe=>{M.current=!0;let ue=xe?"enter":"leave";z.onStart(C,ue,be=>{be==="enter"?o==null||o():be==="leave"&&(u==null||u())})}),R=Be(xe=>{let ue=xe?"enter":"leave";M.current=!1,z.onStop(C,ue,be=>{be==="enter"?l==null||l():be==="leave"&&(c==null||c())}),ue==="leave"&&!Rc(z)&&($("hidden"),q(C))});k.useEffect(()=>{P&&i||(j(B),R(B))},[B,P,i]);let H=!(!i||!P||!F||W),[,I]=eb(H,E,B,{start:j,end:R}),ce=ss({ref:O,className:((r=Dh(_.className,Z&&f,Z&&h,I.enter&&f,I.enter&&I.closed&&h,I.enter&&!I.closed&&p,I.leave&&y,I.leave&&!I.closed&&S,I.leave&&I.closed&&w,!I.transition&&B&&v))==null?void 0:r.trim())||void 0,...Zw(I)}),le=0;L==="visible"&&(le|=kn.Open),L==="hidden"&&(le|=kn.Closed),B&&L==="hidden"&&(le|=kn.Opening),!B&&L==="visible"&&(le|=kn.Closing);let ae=zt();return Se.createElement(Ac.Provider,{value:z},Se.createElement(yb,{value:le},ae({ourProps:ce,theirProps:_,defaultTag:Ib,features:Pb,visible:L==="visible",name:"Transition.Child"})))}function UT(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,l=k.useRef(null),u=Nb(e),c=Sn(...u?[l,t]:t===null?[]:[t]);Ic();let f=il();if(n===void 0&&f!==null&&(n=(f&kn.Open)===kn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=k.useState(n?"visible":"hidden"),v=Tb(()=>{n||p("hidden")}),[y,S]=k.useState(!0),w=k.useRef([n]);vt(()=>{y!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),S(!1))},[w,n]);let _=k.useMemo(()=>({show:n,appear:r,initial:y}),[n,r,y]);vt(()=>{n?p("visible"):!Rc(v)&&l.current!==null&&p("hidden")},[n,v]);let E={unmount:i},N=Be(()=>{var O;y&&S(!1),(O=e.beforeEnter)==null||O.call(e)}),C=Be(()=>{var O;y&&S(!1),(O=e.beforeLeave)==null||O.call(e)}),P=zt();return Se.createElement(Ac.Provider,{value:v},Se.createElement(Pc.Provider,{value:_},P({ourProps:{...E,as:k.Fragment,children:Se.createElement(Ab,{ref:c,...E,...o,beforeEnter:N,beforeLeave:C})},theirProps:{},defaultTag:k.Fragment,features:Pb,visible:h==="visible",name:"Transition"})))}function WT(e,t){let n=k.useContext(Pc)!==null,r=il()!==null;return Se.createElement(Se.Fragment,null,!n&&r?Se.createElement(Vh,{ref:t,...e}):Se.createElement(Ab,{ref:t,...e}))}let Vh=Pt(UT),Ab=Pt(BT),Vp=Pt(WT),HT=Object.assign(Vh,{Child:Vp,Root:Vh});var VT=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(VT||{}),qT=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(qT||{});let YT={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},qp=k.createContext(null);qp.displayName="DialogContext";function Oc(e){let t=k.useContext(qp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Oc),n}return t}function KT(e,t){return kr(t.type,YT,e,t)}let nx=Pt(function(e,t){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:l,role:u="dialog",autoFocus:c=!0,__demoMode:f=!1,unmount:h=!1,...p}=e,v=k.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=il();i===void 0&&y!==null&&(i=(y&kn.Open)===kn.Open);let S=k.useRef(null),w=Sn(S,t),_=Ha(S.current),E=i?0:1,[N,C]=k.useReducer(KT,{titleId:null,descriptionId:null,panelRef:k.createRef()}),P=Be(()=>o(!1)),O=Be(I=>C({type:0,id:I})),A=Ic()?E===0:!1,[B,re]=kT(),X={get current(){var I;return(I=N.panelRef.current)!=null?I:S.current}},L=_b(),{resolveContainers:$}=jT({mainTreeNode:L,portals:B,defaultContainers:[X]}),Q=y!==null?(y&kn.Closing)===kn.Closing:!1;Ww(f||Q?!1:A,{allowed:Be(()=>{var I,ce;return[(ce=(I=S.current)==null?void 0:I.closest("[data-headlessui-portal]"))!=null?ce:null]}),disallowed:Be(()=>{var I;return[(I=L==null?void 0:L.closest("body > *:not(#headlessui-portal-root)"))!=null?I:null]})});let Y=Sc.get(null);vt(()=>{if(A)return Y.actions.push(r),()=>Y.actions.pop(r)},[Y,r,A]);let q=or(Y,k.useCallback(I=>Y.selectors.isTop(I,r),[Y,r]));Jw(q,$,I=>{I.preventDefault(),P()}),_T(q,_==null?void 0:_.defaultView,I=>{I.preventDefault(),I.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),P()}),Xw(f||Q?!1:A,_,$),Hw(A,S,P);let[F,W]=Ow(),Z=k.useMemo(()=>[{dialogState:E,close:P,setTitleId:O,unmount:h},N],[E,P,O,h,N]),M=zr({open:E===0}),z={ref:w,id:r,role:u,tabIndex:-1,"aria-modal":f?void 0:E===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":F,unmount:h},j=!CT(),R=ls.None;A&&!f&&(R|=ls.RestoreFocus,R|=ls.TabLock,c&&(R|=ls.AutoFocus),j&&(R|=ls.InitialFocus));let H=zt();return Se.createElement(hT,null,Se.createElement(ex,{force:!0},Se.createElement(kb,null,Se.createElement(qp.Provider,{value:Z},Se.createElement(bb,{target:S},Se.createElement(ex,{force:!1},Se.createElement(W,{slot:M},Se.createElement(re,null,Se.createElement(RT,{initialFocus:l,initialFocusFallback:S,containers:$,features:R},Se.createElement(ZC,{value:P},H({ourProps:z,theirProps:p,slot:M,defaultTag:GT,features:JT,visible:E===0,name:"Dialog"})))))))))))}),GT="div",JT=So.RenderStrategy|So.Static;function QT(e,t){let{transition:n=!1,open:r,...i}=e,o=il(),l=e.hasOwnProperty("open")||o!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Se.createElement(tx,null,Se.createElement(HT,{show:r,transition:n,unmount:i.unmount},Se.createElement(nx,{ref:t,...i}))):Se.createElement(tx,null,Se.createElement(nx,{ref:t,open:r,...i}))}let XT="div";function ZT(e,t){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=e,[{dialogState:l,unmount:u},c]=Oc("Dialog.Panel"),f=Sn(t,c.panelRef),h=zr({open:l===0}),p=Be(_=>{_.stopPropagation()}),v={ref:f,id:r,onClick:p},y=i?Vp:k.Fragment,S=i?{unmount:u}:{},w=zt();return Se.createElement(y,{...S},w({ourProps:v,theirProps:o,slot:h,defaultTag:XT,name:"Dialog.Panel"}))}let eI="div";function tI(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:o}]=Oc("Dialog.Backdrop"),l=zr({open:i===0}),u={ref:t,"aria-hidden":!0},c=n?Vp:k.Fragment,f=n?{unmount:o}:{},h=zt();return Se.createElement(c,{...f},h({ourProps:u,theirProps:r,slot:l,defaultTag:eI,name:"Dialog.Backdrop"}))}let nI="h2";function rI(e,t){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:l}]=Oc("Dialog.Title"),u=Sn(t);k.useEffect(()=>(l(r),()=>l(null)),[r,l]);let c=zr({open:o===0}),f={ref:u,id:r};return zt()({ourProps:f,theirProps:i,slot:c,defaultTag:nI,name:"Dialog.Title"})}let iI=Pt(QT),sI=Pt(ZT);Pt(tI);let oI=Pt(rI),rx=Object.assign(iI,{Panel:sI,Title:oI,Description:YC}),ix=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function sx(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!Kn(i))return r;let o=!1;for(let u of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),o=!0;let l=o?(n=i.innerText)!=null?n:"":r;return ix.test(l)&&(l=l.replace(ix,"")),l}function aI(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():sx(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return sx(e).trim()}function lI(e){let t=k.useRef(""),n=k.useRef("");return Be(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=aI(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var uI=Object.defineProperty,cI=(e,t,n)=>t in e?uI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ox=(e,t,n)=>(cI(e,typeof t!="symbol"?t+"":t,n),n),cn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(cn||{}),tc=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(tc||{}),ct=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(ct||{});function ax(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Yw(t(e.items.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let dI={1(e){if(e.menuState===1)return e;let t=e.buttonElement?Du.Tracked(Sb(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:$t.Nothing},menuState:1,buttonPositionState:t}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:Du.Idle}},2:(e,t)=>{var n,r,i,o,l;if(e.menuState===1)return e;let u={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===$t.Nothing)return{...u,activeItemIndex:null};if(t.focus===$t.Specific)return{...u,activeItemIndex:e.items.findIndex(h=>h.id===t.id)};if(t.focus===$t.Previous){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=Su(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=e.items[v].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===y.current||((i=y.current)==null?void 0:i.previousElementSibling)===null)return{...u,activeItemIndex:v}}}}else if(t.focus===$t.Next){let h=e.activeItemIndex;if(h!==null){let p=e.items[h].dataRef.current.domRef,v=Su(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=e.items[v].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.nextElementSibling)===y.current||((l=y.current)==null?void 0:l.nextElementSibling)===null)return{...u,activeItemIndex:v}}}}let c=ax(e),f=Su(t,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...u,...c,activeItemIndex:f}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(l=>{var u;return((u=l.dataRef.current.textValue)==null?void 0:u.startsWith(r))&&!l.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(i=>i)),r=e.activeItemIndex;return e.pendingFocus.focus!==$t.Nothing&&(r=Su(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:$t.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],i=new Set(t.items);for(let[o,l]of n.entries())if(i.has(l.id)&&(r.push(o),i.delete(l.id),i.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...ax(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Du.Moved}}};class Yp extends Fw{constructor(t){super(t),ox(this,"actions",{registerItem:_v(()=>{let n=[],r=new Set;return[(i,o)=>{r.has(o)||(r.add(o),n.push({id:i,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:_v(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),ox(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,o=n.items;return i===null||(r=o[i])==null?void 0:r.id},isActive(n,r){var i;let o=n.activeItemIndex,l=n.items;return o!==null?((i=l[o])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=Sc.get(null);this.disposables.add(r.on(Bw.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(ET(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:t,__demoMode:n=!1}){return new Yp({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:$t.Nothing},buttonPositionState:Du.Idle})}reduce(t,n){return kr(n.type,dI,t,n)}}const Rb=k.createContext(null);function Kp(e){let t=k.useContext(Rb);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ob),n}return t}function Ob({id:e,__demoMode:t=!1}){let n=k.useMemo(()=>Yp.new({id:e,__demoMode:t}),[]);return Wp(()=>n.dispose()),n}let fI=k.Fragment;function hI(e,t){let n=k.useId(),{__demoMode:r=!1,...i}=e,o=Ob({id:n,__demoMode:r}),[l,u,c]=or(o,_=>[_.menuState,_.itemsElement,_.buttonElement]),f=Sn(t),h=Sc.get(null),p=or(h,k.useCallback(_=>h.selectors.isTop(_,n),[h,n]));Jw(p,[c,u],(_,E)=>{var N;o.send({type:ct.CloseMenu}),Dp(E,Lp.Loose)||(_.preventDefault(),(N=o.state.buttonElement)==null||N.focus())});let v=Be(()=>{o.send({type:ct.CloseMenu})}),y=zr({open:l===cn.Open,close:v}),S={ref:f},w=zt();return Se.createElement(cT,null,Se.createElement(Rb.Provider,{value:o},Se.createElement(yb,{value:kr(l,{[cn.Open]:kn.Open,[cn.Closed]:kn.Closed})},w({ourProps:S,theirProps:i,slot:y,defaultTag:fI,name:"Menu"}))))}let pI="button";function mI(e,t){let n=Kp("Menu.Button"),r=k.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:l=!1,...u}=e,c=k.useRef(null),f=aT(),h=Sn(t,c,oT(),Be(L=>n.send({type:ct.SetButtonElement,element:L}))),p=Be(L=>{switch(L.key){case Jt.Space:case Jt.Enter:case Jt.ArrowDown:L.preventDefault(),L.stopPropagation(),n.send({type:ct.OpenMenu,focus:{focus:$t.First}});break;case Jt.ArrowUp:L.preventDefault(),L.stopPropagation(),n.send({type:ct.OpenMenu,focus:{focus:$t.Last}});break}}),v=Be(L=>{switch(L.key){case Jt.Space:L.preventDefault();break}}),[y,S,w]=or(n,L=>[L.menuState,L.buttonElement,L.itemsElement]),_=y===cn.Open;Sj(_,{trigger:S,action:k.useCallback(L=>{if(S!=null&&S.contains(L.target))return bu.Ignore;let $=L.target.closest('[role="menuitem"]:not([data-disabled])');return Kn($)?bu.Select($):w!=null&&w.contains(L.target)?bu.Ignore:bu.Close},[S,w]),close:k.useCallback(()=>n.send({type:ct.CloseMenu}),[]),select:k.useCallback(L=>L.click(),[])});let E=tj(L=>{var $;o||(y===cn.Open?(Vn.flushSync(()=>n.send({type:ct.CloseMenu})),($=c.current)==null||$.focus({preventScroll:!0})):(L.preventDefault(),n.send({type:ct.OpenMenu,focus:{focus:$t.Nothing},trigger:tc.Pointer})))}),{isFocusVisible:N,focusProps:C}=bC({autoFocus:l}),{isHovered:P,hoverProps:O}=wC({isDisabled:o}),{pressed:A,pressProps:B}=jC({disabled:o}),re=zr({open:y===cn.Open,active:A||y===cn.Open,disabled:o,hover:P,focus:N,autofocus:l}),X=Nw(f(),{ref:h,id:i,type:Ej(e,c.current),"aria-haspopup":"menu","aria-controls":w==null?void 0:w.id,"aria-expanded":y===cn.Open,disabled:o||void 0,autoFocus:l,onKeyDown:p,onKeyUp:v},E,C,O,B);return zt()({ourProps:X,theirProps:u,slot:re,defaultTag:pI,name:"Menu.Button"})}let gI="div",yI=So.RenderStrategy|So.Static;function vI(e,t){let n=k.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:o=!1,modal:l=!0,transition:u=!1,...c}=e,f=sT(i),h=Kp("Menu.Items"),[p,v]=uT(f),y=lT(),[S,w]=k.useState(null),_=Sn(t,f?p:null,Be(M=>h.send({type:ct.SetItemsElement,element:M})),w),[E,N]=or(h,M=>[M.menuState,M.buttonElement]),C=Ha(N),P=Ha(S);f&&(o=!0);let O=il(),[A,B]=eb(u,S,O!==null?(O&kn.Open)===kn.Open:E===cn.Open);Hw(A,N,()=>{h.send({type:ct.CloseMenu})});let re=or(h,M=>M.__demoMode),X=re?!1:l&&E===cn.Open;Xw(X,P);let L=re?!1:l&&E===cn.Open;Ww(L,{allowed:k.useCallback(()=>[N,S],[N,S])});let $=or(h,h.selectors.didButtonMove)?!1:A;k.useEffect(()=>{let M=S;M&&E===cn.Open&&(_w(M)||M.focus({preventScroll:!0}))},[E,S]),Fj(E===cn.Open,{container:S,accept(M){return M.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:M.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(M){M.setAttribute("role","none")}});let Q=Ss(),Y=Be(M=>{var z,j,R;switch(Q.dispose(),M.key){case Jt.Space:if(h.state.searchQuery!=="")return M.preventDefault(),M.stopPropagation(),h.send({type:ct.Search,value:M.key});case Jt.Enter:if(M.preventDefault(),M.stopPropagation(),h.state.activeItemIndex!==null){let{dataRef:H}=h.state.items[h.state.activeItemIndex];(j=(z=H.current)==null?void 0:z.domRef.current)==null||j.click()}h.send({type:ct.CloseMenu}),qw(h.state.buttonElement);break;case Jt.ArrowDown:return M.preventDefault(),M.stopPropagation(),h.send({type:ct.GoToItem,focus:$t.Next});case Jt.ArrowUp:return M.preventDefault(),M.stopPropagation(),h.send({type:ct.GoToItem,focus:$t.Previous});case Jt.Home:case Jt.PageUp:return M.preventDefault(),M.stopPropagation(),h.send({type:ct.GoToItem,focus:$t.First});case Jt.End:case Jt.PageDown:return M.preventDefault(),M.stopPropagation(),h.send({type:ct.GoToItem,focus:$t.Last});case Jt.Escape:M.preventDefault(),M.stopPropagation(),Vn.flushSync(()=>h.send({type:ct.CloseMenu})),(R=h.state.buttonElement)==null||R.focus({preventScroll:!0});break;case Jt.Tab:M.preventDefault(),M.stopPropagation(),Vn.flushSync(()=>h.send({type:ct.CloseMenu})),xj(h.state.buttonElement,M.shiftKey?xr.Previous:xr.Next);break;default:M.key.length===1&&(h.send({type:ct.Search,value:M.key}),Q.setTimeout(()=>h.send({type:ct.ClearSearch}),350));break}}),q=Be(M=>{switch(M.key){case Jt.Space:M.preventDefault();break}}),F=zr({open:E===cn.Open}),W=Nw(f?y():{},{"aria-activedescendant":or(h,h.selectors.activeDescendantId),"aria-labelledby":or(h,M=>{var z;return(z=M.buttonElement)==null?void 0:z.id}),id:r,onKeyDown:Y,onKeyUp:q,role:"menu",tabIndex:E===cn.Open?0:void 0,ref:_,style:{...c.style,...v,"--button-width":ej(A,N,!0).width},...Zw(B)}),Z=zt();return Se.createElement(kb,{enabled:o?e.static||A:!1,ownerDocument:C},Z({ourProps:W,theirProps:c,slot:F,defaultTag:gI,features:yI,visible:$,name:"Menu.Items"}))}let xI=k.Fragment;function wI(e,t){let n=k.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=e,l=Kp("Menu.Item"),u=or(l,$=>l.selectors.isActive($,r)),c=k.useRef(null),f=Sn(t,c),h=or(l,$=>l.selectors.shouldScrollIntoView($,r));vt(()=>{if(h)return On().requestAnimationFrame(()=>{var $,Q;(Q=($=c.current)==null?void 0:$.scrollIntoView)==null||Q.call($,{block:"nearest"})})},[h,c]);let p=lI(c),v=k.useRef({disabled:i,domRef:c,get textValue(){return p()}});vt(()=>{v.current.disabled=i},[v,i]),vt(()=>(l.actions.registerItem(r,v),()=>l.actions.unregisterItem(r)),[v,r]);let y=Be(()=>{l.send({type:ct.CloseMenu})}),S=Be($=>{if(i)return $.preventDefault();l.send({type:ct.CloseMenu}),qw(l.state.buttonElement)}),w=Be(()=>{if(i)return l.send({type:ct.GoToItem,focus:$t.Nothing});l.send({type:ct.GoToItem,focus:$t.Specific,id:r})}),_=Pj(),E=Be($=>_.update($)),N=Be($=>{_.wasMoved($)&&(i||u||l.send({type:ct.GoToItem,focus:$t.Specific,id:r,trigger:tc.Pointer}))}),C=Be($=>{_.wasMoved($)&&(i||u&&l.state.activationTrigger===tc.Pointer&&l.send({type:ct.GoToItem,focus:$t.Nothing}))}),[P,O]=Mw(),[A,B]=Ow(),re=zr({active:u,focus:u,disabled:i,close:y}),X={id:r,ref:f,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":P,"aria-describedby":A,disabled:void 0,onClick:S,onFocus:w,onPointerEnter:E,onMouseEnter:E,onPointerMove:N,onMouseMove:N,onPointerLeave:C,onMouseLeave:C},L=zt();return Se.createElement(O,null,Se.createElement(B,null,L({ourProps:X,theirProps:o,slot:re,defaultTag:xI,name:"Menu.Item"})))}let bI="div";function kI(e,t){let[n,r]=Mw(),i=e,o={ref:t,"aria-labelledby":n,role:"group"},l=zt();return Se.createElement(r,null,l({ourProps:o,theirProps:i,slot:{},defaultTag:bI,name:"Menu.Section"}))}let SI="header";function EI(e,t){let n=k.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=e,o=Mp();vt(()=>o.register(r),[r,o.register]);let l={id:r,ref:t,role:"presentation",...o.props};return zt()({ourProps:l,theirProps:i,slot:{},defaultTag:SI,name:"Menu.Heading"})}let _I="div";function CI(e,t){let n=e,r={ref:t,role:"separator"};return zt()({ourProps:r,theirProps:n,slot:{},defaultTag:_I,name:"Menu.Separator"})}let jI=Pt(hI),NI=Pt(mI),TI=Pt(vI),II=Pt(wI),PI=Pt(kI),AI=Pt(EI),RI=Pt(CI),ts=Object.assign(jI,{Button:NI,Items:TI,Item:II,Section:PI,Heading:AI,Separator:RI});const Mb=k.createContext(void 0);function _s(){const e=k.useContext(Mb);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}const OI="modulepreload",MI=function(e){return"/sport-planner/"+e},lx={},sl=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(f=>{if(f=MI(f),f in lx)return;lx[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":OI,h||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((y,S)=>{v.addEventListener("load",y),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},LI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Gp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ux extends Gp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cx extends Gp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dx extends Gp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qh||(qh={}));var DI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class $I{constructor(t,{headers:n={},customFetch:r,region:i=qh.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=LI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return DI(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:c}=r;let f={},{region:h}=r;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)));const y=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:c}).catch(E=>{throw E.name==="AbortError"?E:new ux(E)}),S=y.headers.get("x-relay-error");if(S&&S==="true")throw new cx(y);if(!y.ok)throw new dx(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield y.json():w==="application/octet-stream"?_=yield y.blob():w==="text/event-stream"?_=y:w==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new ux(o)}:{data:null,error:o,response:o instanceof dx||o instanceof cx?o.context:void 0}}})}}var Gt={},Js={},Qs={},Xs={},Zs={},eo={},FI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_o=FI();const zI=_o.fetch,Lb=_o.fetch.bind(_o),Db=_o.Headers,BI=_o.Request,UI=_o.Response,Ro=Object.freeze(Object.defineProperty({__proto__:null,Headers:Db,Request:BI,Response:UI,default:Lb,fetch:zI},Symbol.toStringTag,{value:"Module"})),WI=DE(Ro);var Eu={},fx;function $b(){if(fx)return Eu;fx=1,Object.defineProperty(Eu,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Eu.default=e,Eu}var hx;function Fb(){if(hx)return eo;hx=1;var e=eo&&eo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(eo,"__esModule",{value:!0});const t=e(WI),n=e($b());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,p,v,y;let S=null,w=null,_=null,E=f.status,N=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?w=A:w=JSON.parse(A))}const P=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),O=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");P&&O&&O.length>1&&(_=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(S={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,E=406,N="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const P=await f.text();try{S=JSON.parse(P),Array.isArray(S)&&f.status===404&&(w=[],S=null,E=200,N="OK")}catch{f.status===404&&P===""?(E=204,N="No Content"):S={message:P}}if(S&&this.isMaybeSingle&&(!((y=S==null?void 0:S.details)===null||y===void 0)&&y.includes("0 rows"))&&(S=null,E=200,N="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:w,count:_,status:E,statusText:N}});return this.shouldThrowOnError||(c=c.catch(f=>{var h,p,v;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(p=f==null?void 0:f.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,l)}returns(){return this}overrideTypes(){return this}}return eo.default=r,eo}var px;function zb(){if(px)return Zs;px=1;var e=Zs&&Zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zs,"__esModule",{value:!0});const t=e(Fb());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var h;const p=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Zs.default=n,Zs}var mx;function Jp(){if(mx)return Xs;mx=1;var e=Xs&&Xs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xs,"__esModule",{value:!0});const t=e(zb());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Xs.default=n,Xs}var gx;function Bb(){if(gx)return Qs;gx=1;var e=Qs&&Qs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qs,"__esModule",{value:!0});const t=e(Jp());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},c=l?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:c=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Qs.default=n,Qs}var yx;function HI(){if(yx)return Js;yx=1;var e=Js&&Js.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Js,"__esModule",{value:!0});const t=e(Bb()),n=e(Jp());class r{constructor(o,{headers:l={},schema:u,fetch:c}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=c}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:c=!1,count:f}={}){var h;let p;const v=new URL(`${this.url}/rpc/${o}`);let y;u||c?(p=u?"HEAD":"GET",Object.entries(l).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{v.searchParams.append(w,_)})):(p="POST",y=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new n.default({method:p,url:v,headers:S,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Js.default=r,Js}var vx;function VI(){if(vx)return Gt;vx=1;var e=Gt&&Gt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const t=e(HI());Gt.PostgrestClient=t.default;const n=e(Bb());Gt.PostgrestQueryBuilder=n.default;const r=e(Jp());Gt.PostgrestFilterBuilder=r.default;const i=e(zb());Gt.PostgrestTransformBuilder=i.default;const o=e(Fb());Gt.PostgrestBuilder=o.default;const l=e($b());return Gt.PostgrestError=l.default,Gt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},Gt}var qI=VI();const YI=No(qI),{PostgrestClient:KI,PostgrestQueryBuilder:u5,PostgrestFilterBuilder:c5,PostgrestTransformBuilder:d5,PostgrestBuilder:f5,PostgrestError:h5}=YI;class GI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const JI="2.75.0",QI=`realtime-js/${JI}`,XI="1.0.0",Yh=1e4,ZI=1e3,eP=100;var Aa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Aa||(Aa={}));var Ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ht||(Ht={}));var vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vr||(vr={}));var Kh;(function(e){e.websocket="websocket"})(Kh||(Kh={}));var us;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(us||(us={}));class tP{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class Ub{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const xx=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=nP(l,e,t,i),o),{}):{}},nP=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?Wb(o,l):Gh(l)},Wb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return oP(t,n)}switch(e){case ht.bool:return rP(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return iP(t);case ht.json:case ht.jsonb:return sP(t);case ht.timestamp:return aP(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return Gh(t);default:return Gh(t)}},Gh=e=>e,rP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},oP=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Wb(t,u))}return e},aP=e=>typeof e=="string"?e.replace(" ","T"):e,Hb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class qf{constructor(t,n,r={},i=Yh){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wx||(wx={}));class Ra{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ra.syncState(this.state,i,o,l),this.pendingDiffs.forEach(c=>{this.state=Ra.syncDiff(this.state,c,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ra.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},c={};return this.map(o,(f,h)=>{l[f]||(c[f]=h)}),this.map(l,(f,h)=>{const p=o[f];if(p){const v=h.map(_=>_.presence_ref),y=p.map(_=>_.presence_ref),S=h.filter(_=>y.indexOf(_.presence_ref)<0),w=p.filter(_=>v.indexOf(_.presence_ref)<0);S.length>0&&(u[f]=S),w.length>0&&(c[f]=w)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,c)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(c),h.length>0){const p=t[u].map(y=>y.presence_ref),v=h.filter(y=>p.indexOf(y.presence_ref)<0);t[u].unshift(...v)}r(u,h,c)}),this.map(l,(u,c)=>{let f=t[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=f,i(u,f,c),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bx||(bx={}));var Oa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oa||(Oa={}));var Zr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zr||(Zr={}));class Qp{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qf(this,vr.join,this.params,this.timeout),this.rejoinTimer=new Ub(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ra(this),this.broadcastEndpointURL=Hb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:l,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Oa.PRESENCE]&&this.bindings[Oa.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Zr.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Zr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var S;if(this.socket.setAuth(),y===void 0){t==null||t(Zr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(S=w==null?void 0:w.length)!==null&&S!==void 0?S:0,E=[];for(let N=0;N<_;N++){const C=w[N],{filter:{event:P,schema:O,table:A,filter:B}}=C,re=y&&y[N];if(re&&re.event===P&&re.schema===O&&re.table===A&&re.filter===B)E.push(Object.assign(Object.assign({},C),{id:re.id}));else{this.unsubscribe(),this.state=Ht.errored,t==null||t(Zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Zr.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ht.errored,t==null||t(Zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ht.joined&&t===Oa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new qf(this,vr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qf(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>eP){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=vr;if(r&&[u,c,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var S,w,_;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(y=>y.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(y=>{var S,w,_,E,N,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const P=y.id,O=(S=y.filter)===null||S===void 0?void 0:S.event;return P&&((w=n.ids)===null||w===void 0?void 0:w.includes(P))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const P=(N=(E=y==null?void 0:y.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return P==="*"||P===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:w,table:_,commit_timestamp:E,type:N,errors:C}=S;v=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:E,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(S))}y.callback(v,r)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Qp.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vr.close,{},t)}_onError(t){this._on(vr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xx(t.columns,t.old_record)),n}}const Yf=()=>{},_u={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lP=[1e3,2e3,5e3,1e4],uP=1e4,cP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dP{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yh,this.transport=null,this.heartbeatIntervalMs=_u.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yf,this.ref=0,this.reconnectTimer=null,this.logger=Yf,this.conn=null,this.sendBuffer=[],this.serializer=new tP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>sl(async()=>{const{default:u}=await Promise.resolve().then(()=>Ro);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Kh.websocket}`,this.httpEndpoint=Hb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=GI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:XI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Aa.connecting:return us.Connecting;case Aa.open:return us.Open;case Aa.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Qp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ZI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_u.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([cP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:QI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(vr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ub(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_u.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,c,f,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Yh,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:_u.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Yf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(p=>lP[p-1]||uP),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((p,v)=>v(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Xp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class fP extends Xp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jh extends Xp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var hP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Vb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},pP=()=>hP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>Ro),void 0)).Response:Response}),Qh=e=>{if(Array.isArray(e))return e.map(n=>Qh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Qh(r)}),t},mP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Cs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Kf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gP=(e,t,n)=>Cs(void 0,void 0,void 0,function*(){const r=yield pP();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new fP(Kf(i),o,l))}).catch(i=>{t(new Jh(Kf(i),i))}):t(new Jh(Kf(e),e))}),yP=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(mP(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ol(e,t,n,r,i,o){return Cs(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,yP(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>gP(c,u,r))})})}function nc(e,t,n,r){return Cs(this,void 0,void 0,function*(){return ol(e,"GET",t,n,r)})}function Ar(e,t,n,r,i){return Cs(this,void 0,void 0,function*(){return ol(e,"POST",t,r,i,n)})}function Xh(e,t,n,r,i){return Cs(this,void 0,void 0,function*(){return ol(e,"PUT",t,r,i,n)})}function vP(e,t,n,r){return Cs(this,void 0,void 0,function*(){return ol(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qb(e,t,n,r,i){return Cs(this,void 0,void 0,function*(){return ol(e,"DELETE",t,r,i,n)})}var xP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class wP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return xP(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dt(t))return{data:null,error:t};throw t}})}}var bP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class kP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new wP(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return bP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dt(t))return{data:null,error:t};throw t}})}}var Pn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const SP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class EP{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Vb(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Pn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},kx),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?Xh:Ar)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Dt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Pn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:kx.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield Xh(this.fetch,u.toString(),c,{headers:h});return{data:{path:o,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Pn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Ar(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new Xp("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Pn(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Pn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Pn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Ar(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Pn(this,void 0,void 0,function*(){try{const i=yield Ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),c=()=>nc(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new kP(c,this.shouldThrowOnError)}info(t){return Pn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield nc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}exists(t){return Pn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield vP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r)&&r instanceof Jh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield qb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Pn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},SP),n),{prefix:t||""});return{data:yield Ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Pn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const _P="2.75.0",CP={"X-Client-Info":`storage-js/${_P}`};var to=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class jP{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CP),n),this.fetch=Vb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return to(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dt(t))return{data:null,error:t};throw t}})}getBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}createBucket(t){return to(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return to(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield qb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}}class NP extends jP{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new EP(this.url,this.headers,t,this.fetch)}}const TP="2.75.0";let ja="";typeof Deno<"u"?ja="deno":typeof document<"u"?ja="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ja="react-native":ja="node";const IP={"X-Client-Info":`supabase-js-${ja}/${TP}`},PP={headers:IP},AP={schema:"public"},RP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OP={};var MP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const LP=e=>{let t;return e?t=e:typeof fetch>"u"?t=Lb:t=fetch,(...n)=>t(...n)},DP=()=>typeof Headers>"u"?Db:Headers,$P=(e,t,n)=>{const r=LP(n),i=DP();return(o,l)=>MP(void 0,void 0,void 0,function*(){var u;const c=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var FP=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};function zP(e){return e.endsWith("/")?e:e+"/"}function BP(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:c,auth:f,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>FP(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function UP(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Yb="2.75.0",co=30*1e3,Zh=3,Gf=Zh*co,WP="http://localhost:9999",HP="supabase.auth.token",VP={"X-Client-Info":`gotrue-js/${Yb}`},ep="X-Supabase-Api-Version",Kb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YP=600*1e3;class Ya extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class KP extends Ya{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function GP(e){return De(e)&&e.name==="AuthApiError"}class cs extends Ya{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zi extends Ya{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ji extends zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JP(e){return De(e)&&e.name==="AuthSessionMissingError"}class no extends zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cu extends zi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends zi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QP(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sx extends zi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tp extends zi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Jf(e){return De(e)&&e.name==="AuthRetryableFetchError"}class Ex extends zi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class np extends zi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_x=` 	
\r=`.split(""),XP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_x.length;t+=1)e[_x[t].charCodeAt(0)]=-2;for(let t=0;t<rc.length;t+=1)e[rc[t].charCodeAt(0)]=t;return e})();function Cx(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rc[r]),t.queuedBits-=6}}function Gb(e,t,n){const r=XP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jx(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{tA(l,r,n)};for(let l=0;l<e.length;l+=1)Gb(e.charCodeAt(l),i,o);return t.join("")}function ZP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ZP(r,t)}}function tA(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function vo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Gb(e.charCodeAt(i),n,r);return new Uint8Array(t)}function nA(e){const t=[];return eA(e,n=>t.push(n)),new Uint8Array(t)}function ms(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Cx(i,n,r)),Cx(null,n,r),t.join("")}function rA(e){return Math.round(Date.now()/1e3)+e}function iA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Hn=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},Jb=()=>{if(!Hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function sA(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Qb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},oA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},rs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_i=async(e,t)=>{await e.removeItem(t)};class Mc{constructor(){this.promise=new Mc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mc.promiseConstructor=Promise;function Qf(e){const t=e.split(".");if(t.length!==3)throw new np("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!qP.test(t[r]))throw new np("JWT not in base64url format");return{header:JSON.parse(jx(t[0])),payload:JSON.parse(jx(t[1])),signature:vo(t[2]),raw:{header:t[0],payload:t[1]}}}async function aA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lA(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function uA(e){return("0"+e.toString(16)).substr(-2)}function cA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,uA).join("")}async function dA(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function fA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await dA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ro(e,t,n=!1){const r=cA();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await fo(e,`${t}-code-verifier`,i);const o=await fA(r);return[o,r===o?"plain":"s256"]}const hA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pA(e){const t=e.headers.get(ep);if(!t||!t.match(hA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function io(e){if(!yA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nx(e){return JSON.parse(JSON.stringify(e))}var vA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xA=[502,503,504];async function Tx(e){var t;if(!oA(e))throw new tp(os(e),0);if(xA.includes(e.status))throw new tp(os(e),e.status);let n;try{n=await e.json()}catch(o){throw new cs(os(o),o)}let r;const i=pA(e);if(i&&i.getTime()>=Kb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ex(os(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Ex(os(n),e.status,n.weak_password.reasons);throw new KP(os(n),e.status||500,r)}const wA=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function He(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[ep]||(o[ep]=Kb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await bA(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function bA(e,t,n,r,i,o){const l=wA(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(c){throw console.error(c),new tp(os(c),0)}if(u.ok||await Tx(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await Tx(c)}}function gr(e){var t;let n=null;EA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=rA(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ix(e){const t=gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kA(e){return{data:e,error:null}}function SA(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=vA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function Px(e){return e}function EA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zf=["global","local","others"];var _A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class CA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Qb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Zf[0]){if(Zf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zf.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pi})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=_A(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:SA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(De(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pi})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Px});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(De(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){io(t);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pi})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){io(t);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pi})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){io(t);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pi})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){io(t.userId);try{const{data:n,error:r}=await He(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteFactor(t){io(t.userId),io(t.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await He(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Px});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(De(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await He(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await He(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}}function Ax(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const so={debug:!!(globalThis&&Jb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jA extends Xb{}async function NA(e,t,n){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(so.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function TA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Zb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function IA(e){return parseInt(e,16)}function PA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function AA(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Zb(e.address),S=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${y}

${w}`;let E=`URI: ${p}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),c&&(E+=`
Request ID: ${c}`),f){let N=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);N+=`
- ${C}`}E+=N}return`${_}
${E}`}class Lt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ic extends Lt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function RA({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Lt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(tk(l)){if(o.rp.id!==l)return new Lt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function OA({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Lt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(tk(r)){if(n.rpId!==r)return new Lt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var ek=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class MA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const LA=new MA;function DA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=ek(e,["challenge","user","excludeCredentials"]),o=vo(t).buffer,l=Object.assign(Object.assign({},n),{id:vo(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:vo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function $A(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ek(e,["challenge","allowCredentials"]),i=vo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:vo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function FA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ms(new Uint8Array(e.response.attestationObject)),clientDataJSON:ms(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ms(new Uint8Array(i.authenticatorData)),clientDataJSON:ms(new Uint8Array(i.clientDataJSON)),signature:ms(new Uint8Array(i.signature)),userHandle:i.userHandle?ms(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Rx(){var e,t;return!!(Hn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function BA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",t)}:{data:null,error:new ic("Empty credential response",t)}}catch(t){return{data:null,error:RA({error:t,options:e})}}}async function UA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",t)}:{data:null,error:new ic("Empty credential response",t)}}catch(t){return{data:null,error:OA({error:t,options:e})}}}const WA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},HA={userVerification:"preferred",hints:["security-key"]};function sc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=sc(u,l):r[o]=sc(l)}else r[o]=l}return r}function VA(e,t){return sc(WA,e,t||{})}function qA(e,t){return sc(HA,e,t||{})}class YA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const c=i??LA.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=VA(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:p}=await BA({publicKey:f,signal:c});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=qA(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:p}=await UA(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return De(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Ya("rpId is required for WebAuthn authentication")};try{if(!Rx())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:c}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(l){return De(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Ya("rpId is required for WebAuthn registration")};try{if(!Rx())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(l){return De(l)?{data:null,error:l}:{data:null,error:new cs("Unexpected error in register",l)}}}}TA();const KA={url:WP,storageKey:HP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ox(e,t,n){return await n()}const oo={};class Ka{get jwks(){var t,n;return(n=(t=oo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=oo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ka.nextInstanceID,Ka.nextInstanceID+=1,this.instanceID>0&&Hn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},KA),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new CA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Qb(i.fetch),this.lock=i.lock||Ox,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Hn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=NA:this.lock=Ox,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new YA(this)},this.persistSession?(i.storage?this.storage=i.storage:Jb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ax(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ax(this.memoryStorage)),Hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=sA(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Hn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),QP(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return De(n)?{error:n}:{error:new cs("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:p,options:v}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await ro(this.storage,this.storageKey)),o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:S},xform:gr})}else if("phone"in t){const{phone:h,password:p,options:v}=t;o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:gr})}else throw new Cu("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ix})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ix})}else throw new Cu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new no}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,c,f,h,p,v;let y,S;if("message"in t)y=t.message,S=t.signature;else{const{chain:w,wallet:_,statement:E,options:N}=t;let C;if(Hn())if(typeof _=="object")C=_;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")C=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const P=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),O=await C.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=Zb(O[0]);let B=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const X=await C.request({method:"eth_chainId"});B=IA(X)}const re={domain:P.host,address:A,statement:E,uri:P.href,version:"1",chainId:B,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=AA(re),S=await C.request({method:"personal_sign",params:[PA(y),A]})}try{const{data:w,error:_}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gr});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new no}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(De(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var n,r,i,o,l,u,c,f,h,p,v,y;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:_,wallet:E,statement:N,options:C}=t;let P;if(Hn())if(typeof E=="object")P=E;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))P=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=E}const O=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const A=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),N?{statement:N}:null));let B;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")B=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)B=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)S=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),w=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(h=C==null?void 0:C.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const A=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=A}}try{const{data:_,error:E}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ms(w)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:gr});if(E)throw E;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new no}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:E})}catch(_){if(De(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:gr});if(await _i(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new no}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(De(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gr}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new no}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:c}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await ro(this.storage,this.storageKey));const{error:p}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:c}=t,{data:f,error:h}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Cu("You must provide either an email or phone number.")}catch(u){if(De(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:gr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,f=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await ro(this.storage,this.storageKey)),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:kA})}catch(o){if(De(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ji;const{error:i}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await He(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await He(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Cu("You must provide either an email or phone number and a type")}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Gf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await rs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Xf()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,f,h)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pi}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Pi})})}catch(n){if(De(n))return JP(n)&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new ji;const l=i.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await ro(this.storage,this.storageKey));const{data:f,error:h}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:Pi});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ji;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Qf(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(De(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ji;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Hn())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sx("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:c,token_type:f}=t;if(!o||!u||!l||!f)throw new ju("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let v=h+p;c&&(v=parseInt(c));const y=v-h;y*1e3<=co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const S=v-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,h);const{data:w,error:_}=await this._getUser(o);if(_)throw _;const E={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:v,refresh_token:l,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(De(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(GP(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=iA(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ro(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(De(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,c,f,h;const{data:p,error:v}=o;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Hn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(De(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:c,access_token:f,nonce:h}=t,p=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gr}),{data:v,error:y}=p;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new no}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:y})}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await lA(async i=>(i>0&&await aA(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Jf(o)&&Date.now()+l-r<co})}catch(r){if(this._debug(n,"error",r),De(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Hn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await rs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await fo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Xf()}else if(i&&!i.user&&!i.user){const l=await rs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await _i(this.storage,this.storageKey+"-user"),await fo(this.storage,this.storageKey,i)):i.user=Xf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Gf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Jf(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Mc;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new ji;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),De(o)){const l={data:null,error:o};return Jf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Nx(i);await fo(this.storage,this.storageKey,o)}else{const i=Nx(n);await fo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _i(this.storage,this.storageKey),await _i(this.storage,this.storageKey+"-code-verifier"),await _i(this.storage,this.storageKey+"-user"),this.userStorage&&await _i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),co);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${co}ms, refresh threshold is ${Zh} ticks`),i<=Zh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ro(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await He(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:f}=await He(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?FA(t.webauthn.credential_response):zA(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:c}=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})})}catch(n){if(De(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:DA(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:$A(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(De(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Qf(i.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+YP>i)return r;const{data:o,error:l}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:S}=await this.getSession();if(S||!y.session)return{data:null,error:S};r=y.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:c}}=Qf(r);n!=null&&n.allowExpired||mA(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:i,signature:l},error:null}}const h=gA(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,nA(`${u}.${c}`)))throw new np("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}}Ka.nextInstanceID=0;const GA=Ka;class JA extends GA{constructor(t){super(t)}}var QA=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function c(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};class XA{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=UP(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:AP,realtime:OP,auth:Object.assign(Object.assign({},RP),{storageKey:c}),global:PP},h=BP(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=$P(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new KI(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new NP(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new $I(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return QA(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:c,debug:f},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JA({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:c,debug:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new dP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZA=(e,t,n)=>new XA(e,t,n);function eR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}eR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tR="https://kjsdmygqhxaryvfmnhqr.supabase.co",nR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtqc2RteWdxaHhhcnl2Zm1uaHFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMTAxMDEsImV4cCI6MjA3NTU4NjEwMX0.kXL7Dgum6CepvcrS8LVY1v_EHnpyUQOFcqndUQWPrkM",Ft=ZA(tR,nR,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Mx=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const v=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,v))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=t=e(r,i,u);return u},rR=(e=>e?Mx(e):Mx),iR=e=>e;function sR(e,t=iR){const n=Se.useSyncExternalStore(e.subscribe,Se.useCallback(()=>t(e.getState()),[e,t]),Se.useCallback(()=>t(e.getInitialState()),[e,t]));return Se.useDebugValue(n),n}const Lx=e=>{const t=rR(e),n=r=>sR(t,r);return Object.assign(n,t),n},oR=(e=>e?Lx(e):Lx),aR="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let en=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=aR[n[e]&63];return t};var $u={exports:{}},lR=$u.exports,Dx;function nk(){return Dx||(Dx=1,(function(e,t){(function(n,r){e.exports=r()})(lR,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",u="minute",c="hour",f="day",h="week",p="month",v="quarter",y="year",S="date",w="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var F=["th","st","nd","rd"],W=q%100;return"["+q+(F[(W-20)%10]||F[W]||F[0])+"]"}},C=function(q,F,W){var Z=String(q);return!Z||Z.length>=F?q:""+Array(F+1-Z.length).join(W)+q},P={s:C,z:function(q){var F=-q.utcOffset(),W=Math.abs(F),Z=Math.floor(W/60),M=W%60;return(F<=0?"+":"-")+C(Z,2,"0")+":"+C(M,2,"0")},m:function q(F,W){if(F.date()<W.date())return-q(W,F);var Z=12*(W.year()-F.year())+(W.month()-F.month()),M=F.clone().add(Z,p),z=W-M<0,j=F.clone().add(Z+(z?-1:1),p);return+(-(Z+(W-M)/(z?M-j:j-M))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:p,y,w:h,d:f,D:S,h:c,m:u,s:l,ms:o,Q:v}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},O="en",A={};A[O]=N;var B="$isDayjsObject",re=function(q){return q instanceof Q||!(!q||!q[B])},X=function q(F,W,Z){var M;if(!F)return O;if(typeof F=="string"){var z=F.toLowerCase();A[z]&&(M=z),W&&(A[z]=W,M=z);var j=F.split("-");if(!M&&j.length>1)return q(j[0])}else{var R=F.name;A[R]=F,M=R}return!Z&&M&&(O=M),M||!Z&&O},L=function(q,F){if(re(q))return q.clone();var W=typeof F=="object"?F:{};return W.date=q,W.args=arguments,new Q(W)},$=P;$.l=X,$.i=re,$.w=function(q,F){return L(q,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var Q=(function(){function q(W){this.$L=X(W.locale,null,!0),this.parse(W),this.$x=this.$x||W.x||{},this[B]=!0}var F=q.prototype;return F.parse=function(W){this.$d=(function(Z){var M=Z.date,z=Z.utc;if(M===null)return new Date(NaN);if($.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var j=M.match(_);if(j){var R=j[2]-1||0,H=(j[7]||"0").substring(0,3);return z?new Date(Date.UTC(j[1],R,j[3]||1,j[4]||0,j[5]||0,j[6]||0,H)):new Date(j[1],R,j[3]||1,j[4]||0,j[5]||0,j[6]||0,H)}}return new Date(M)})(W),this.init()},F.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},F.$utils=function(){return $},F.isValid=function(){return this.$d.toString()!==w},F.isSame=function(W,Z){var M=L(W);return this.startOf(Z)<=M&&M<=this.endOf(Z)},F.isAfter=function(W,Z){return L(W)<this.startOf(Z)},F.isBefore=function(W,Z){return this.endOf(Z)<L(W)},F.$g=function(W,Z,M){return $.u(W)?this[Z]:this.set(M,W)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(W,Z){var M=this,z=!!$.u(Z)||Z,j=$.p(W),R=function(be,we){var _e=$.w(M.$u?Date.UTC(M.$y,we,be):new Date(M.$y,we,be),M);return z?_e:_e.endOf(f)},H=function(be,we){return $.w(M.toDate()[be].apply(M.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(we)),M)},I=this.$W,ce=this.$M,le=this.$D,ae="set"+(this.$u?"UTC":"");switch(j){case y:return z?R(1,0):R(31,11);case p:return z?R(1,ce):R(0,ce+1);case h:var xe=this.$locale().weekStart||0,ue=(I<xe?I+7:I)-xe;return R(z?le-ue:le+(6-ue),ce);case f:case S:return H(ae+"Hours",0);case c:return H(ae+"Minutes",1);case u:return H(ae+"Seconds",2);case l:return H(ae+"Milliseconds",3);default:return this.clone()}},F.endOf=function(W){return this.startOf(W,!1)},F.$set=function(W,Z){var M,z=$.p(W),j="set"+(this.$u?"UTC":""),R=(M={},M[f]=j+"Date",M[S]=j+"Date",M[p]=j+"Month",M[y]=j+"FullYear",M[c]=j+"Hours",M[u]=j+"Minutes",M[l]=j+"Seconds",M[o]=j+"Milliseconds",M)[z],H=z===f?this.$D+(Z-this.$W):Z;if(z===p||z===y){var I=this.clone().set(S,1);I.$d[R](H),I.init(),this.$d=I.set(S,Math.min(this.$D,I.daysInMonth())).$d}else R&&this.$d[R](H);return this.init(),this},F.set=function(W,Z){return this.clone().$set(W,Z)},F.get=function(W){return this[$.p(W)]()},F.add=function(W,Z){var M,z=this;W=Number(W);var j=$.p(Z),R=function(ce){var le=L(z);return $.w(le.date(le.date()+Math.round(ce*W)),z)};if(j===p)return this.set(p,this.$M+W);if(j===y)return this.set(y,this.$y+W);if(j===f)return R(1);if(j===h)return R(7);var H=(M={},M[u]=r,M[c]=i,M[l]=n,M)[j]||1,I=this.$d.getTime()+W*H;return $.w(I,this)},F.subtract=function(W,Z){return this.add(-1*W,Z)},F.format=function(W){var Z=this,M=this.$locale();if(!this.isValid())return M.invalidDate||w;var z=W||"YYYY-MM-DDTHH:mm:ssZ",j=$.z(this),R=this.$H,H=this.$m,I=this.$M,ce=M.weekdays,le=M.months,ae=M.meridiem,xe=function(we,_e,Fe,We){return we&&(we[_e]||we(Z,z))||Fe[_e].slice(0,We)},ue=function(we){return $.s(R%12||12,we,"0")},be=ae||function(we,_e,Fe){var We=we<12?"AM":"PM";return Fe?We.toLowerCase():We};return z.replace(E,(function(we,_e){return _e||(function(Fe){switch(Fe){case"YY":return String(Z.$y).slice(-2);case"YYYY":return $.s(Z.$y,4,"0");case"M":return I+1;case"MM":return $.s(I+1,2,"0");case"MMM":return xe(M.monthsShort,I,le,3);case"MMMM":return xe(le,I);case"D":return Z.$D;case"DD":return $.s(Z.$D,2,"0");case"d":return String(Z.$W);case"dd":return xe(M.weekdaysMin,Z.$W,ce,2);case"ddd":return xe(M.weekdaysShort,Z.$W,ce,3);case"dddd":return ce[Z.$W];case"H":return String(R);case"HH":return $.s(R,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return be(R,H,!0);case"A":return be(R,H,!1);case"m":return String(H);case"mm":return $.s(H,2,"0");case"s":return String(Z.$s);case"ss":return $.s(Z.$s,2,"0");case"SSS":return $.s(Z.$ms,3,"0");case"Z":return j}return null})(we)||j.replace(":","")}))},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(W,Z,M){var z,j=this,R=$.p(Z),H=L(W),I=(H.utcOffset()-this.utcOffset())*r,ce=this-H,le=function(){return $.m(j,H)};switch(R){case y:z=le()/12;break;case p:z=le();break;case v:z=le()/3;break;case h:z=(ce-I)/6048e5;break;case f:z=(ce-I)/864e5;break;case c:z=ce/i;break;case u:z=ce/r;break;case l:z=ce/n;break;default:z=ce}return M?z:$.a(z)},F.daysInMonth=function(){return this.endOf(p).$D},F.$locale=function(){return A[this.$L]},F.locale=function(W,Z){if(!W)return this.$L;var M=this.clone(),z=X(W,Z,!0);return z&&(M.$L=z),M},F.clone=function(){return $.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},q})(),Y=Q.prototype;return L.prototype=Y,[["$ms",o],["$s",l],["$m",u],["$H",c],["$W",f],["$M",p],["$y",y],["$D",S]].forEach((function(q){Y[q[1]]=function(F){return this.$g(F,q[0],q[1])}})),L.extend=function(q,F){return q.$i||(q(F,Q,L),q.$i=!0),L},L.locale=X,L.isDayjs=re,L.unix=function(q){return L(1e3*q)},L.en=A[O],L.Ls=A,L.p={},L}))})($u)),$u.exports}var uR=nk();const Ve=No(uR);function eh(e){return e.trim().toLowerCase().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"").replace(/-{2,}/g,"-")}const xo=`
  id,
  name,
  subtitle,
  objective_id,
  parent_work_id,
  node_type,
  tags,
  order_hint,
  next_work_id,
  variant_of_work_id,
  description_markdown,
  estimated_minutes,
  notes,
  video_urls,
  visibility,
  owner_id,
  owner_email,
  created_at,
  updated_at,
  work_collaborators (
    id,
    email,
    role,
    user_id,
    created_at
  )
`,rk=e=>Array.from(new Set(e.map(t=>t.trim().toLowerCase()).filter(t=>t.length>0))),cR=e=>Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t.length>0):[],Zp=e=>Array.isArray(e)?Array.from(new Set(e.map(t=>typeof t=="string"?t.trim().toLowerCase():"").filter(t=>t.length>0))):[],ik=e=>(e??[]).map(t=>({id:`${t.id}`,email:t.email.toLowerCase(),role:t.role,userId:t.user_id??void 0,createdAt:t.created_at})),em=(e,t)=>{var u,c;const n=ik(e.work_collaborators),r=n.map(f=>f.email),i=((u=t==null?void 0:t.actorEmail)==null?void 0:u.toLowerCase())??"",o=t?e.owner_id===t.actorId:!1,l=o||r.includes(i);return{id:e.id,name:e.name,subtitle:e.subtitle??void 0,objectiveId:e.objective_id,parentWorkId:e.parent_work_id??null,nodeType:e.node_type??void 0,tags:Zp(e.tags),orderHint:typeof e.order_hint=="number"?e.order_hint:void 0,nextWorkId:e.next_work_id??null,variantOfWorkId:e.variant_of_work_id??null,descriptionMarkdown:e.description_markdown??"",estimatedMinutes:e.estimated_minutes??0,notes:e.notes??void 0,videoUrls:cR(e.video_urls),visibility:e.visibility??"private",ownerId:e.owner_id,ownerEmail:((c=e.owner_email)==null?void 0:c.toLowerCase())??"",collaborators:n,collaboratorEmails:r,createdAt:e.created_at,updatedAt:e.updated_at,canEdit:l,isOwner:o}};async function dR(e){const{data:t,error:n}=await Ft.from("works").select(xo).order("name");if(n)throw console.error("No se pudieron cargar los trabajos compartidos",n),n;return t.map(r=>em(r,e))}async function $x(e,t){var S;const n=e.id??en(),r=rk(e.collaboratorEmails),i=t.actorEmail.trim().toLowerCase(),o=(S=e.nodeType)!=null&&S.trim()?e.nodeType.trim():null,l=Zp(e.tags??[]),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:null,c=e.nextWorkId??null,f=e.variantOfWorkId??null,{data:h,error:p}=await Ft.from("works").insert({id:n,name:e.name,subtitle:e.subtitle??null,objective_id:e.objectiveId,parent_work_id:e.parentWorkId??null,node_type:o,tags:l,order_hint:u,next_work_id:c,variant_of_work_id:f,description_markdown:e.descriptionMarkdown,estimated_minutes:e.estimatedMinutes,notes:e.notes??null,video_urls:e.videoUrls,visibility:e.visibility,owner_id:t.actorId,owner_email:i,updated_at:new Date().toISOString()}).select(xo).maybeSingle();if(p||!h)throw console.error("No se pudo crear el trabajo",p),p??new Error("Falta respuesta al crear trabajo");if(r.length>0){const w=r.map(E=>({work_id:h.id,email:E})),{error:_}=await Ft.from("work_collaborators").insert(w);if(_)throw console.error("No se pudieron guardar los colaboradores",_),_}const{data:v,error:y}=await Ft.from("works").select(xo).eq("id",h.id).maybeSingle();if(y||!v)throw console.error("No se pudo refrescar el trabajo creado",y),y??new Error("No se pudo cargar el trabajo creado");return em(v,t)}async function fR(e,t,n){const r={};t.name!==void 0&&(r.name=t.name),t.subtitle!==void 0&&(r.subtitle=t.subtitle),t.objectiveId!==void 0&&(r.objective_id=t.objectiveId),t.parentWorkId!==void 0&&(r.parent_work_id=t.parentWorkId),t.nodeType!==void 0&&(r.node_type=t.nodeType),t.tags!==void 0&&(r.tags=Zp(t.tags)),t.orderHint!==void 0&&(r.order_hint=t.orderHint),t.nextWorkId!==void 0&&(r.next_work_id=t.nextWorkId),t.variantOfWorkId!==void 0&&(r.variant_of_work_id=t.variantOfWorkId),t.descriptionMarkdown!==void 0&&(r.description_markdown=t.descriptionMarkdown),t.estimatedMinutes!==void 0&&(r.estimated_minutes=t.estimatedMinutes),t.notes!==void 0&&(r.notes=t.notes),t.videoUrls!==void 0&&(r.video_urls=t.videoUrls),t.visibility!==void 0&&(r.visibility=t.visibility),r.updated_at=new Date().toISOString();let i=null;if(Object.keys(r).length>0){const{data:o,error:l}=await Ft.from("works").update(r).eq("id",e).select(xo).maybeSingle();if(l||!o)throw console.error("No se pudo actualizar el trabajo",l),l??new Error("Falta respuesta al actualizar trabajo");i=o}else{const{data:o,error:l}=await Ft.from("works").select(xo).eq("id",e).maybeSingle();if(l||!o)throw l??new Error("Trabajo no encontrado");i=o}if(t.collaboratorEmails){const o=rk(t.collaboratorEmails),l=ik(i.work_collaborators),u=l.map(v=>v.email),c=o.filter(v=>!u.includes(v)),f=l.filter(v=>!o.includes(v.email));if(c.length>0){const v=c.map(S=>({work_id:e,email:S})),{error:y}=await Ft.from("work_collaborators").insert(v);if(y)throw console.error("No se pudieron aadir los colaboradores",y),y}if(f.length>0){const v=f.map(S=>S.email),{error:y}=await Ft.from("work_collaborators").delete().eq("work_id",e).in("email",v);if(y)throw console.error("No se pudieron eliminar colaboradores",y),y}const{data:h,error:p}=await Ft.from("works").select(xo).eq("id",e).maybeSingle();if(p||!h)throw p??new Error("Error al refrescar colaboradores");i=h}return em(i,n)}async function hR(e){const{error:t}=await Ft.from("works").delete().eq("id",e);if(t)throw console.error("No se pudo eliminar el trabajo",t),t}const kt={objectives:"sport-planner-objetivos",works:"sport-planner-trabajos",sessions:"sport-planner-sesiones",assistants:"sport-planner-asistentes",kungfuPrograms:"sport-planner-kungfu-programs",kungfuCadence:"sport-planner-kungfu-cadence",kungfuTodayPlan:"sport-planner-kungfu-today-plan",workTaxonomy:"sport-planner-work-taxonomy"},sk=typeof window<"u",It=()=>new Date().toISOString(),as="18:30",ds=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],fs={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},dn={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},Ai={nodeTypes:[{key:"form",label:"Form"},{key:"segment",label:"Segment"},{key:"application",label:"Application"},{key:"technique",label:"Technique"},{key:"drill",label:"Drill"},{key:"work",label:"Work"},{key:"link",label:"Link"},{key:"style",label:"Style"}],tags:[]},pR=e=>{const n=(Array.isArray(e)?e:[]).map(i=>{if(!i||typeof i!="object")return null;const o=i,l=String(o.key??"").trim().toLowerCase(),u=String(o.label??"").trim();return l?{key:l,label:u||l}:null}).filter(Boolean),r=new Map;return n.forEach(i=>{r.set(i.key,i)}),Ai.nodeTypes.forEach(i=>{r.has(i.key)||r.set(i.key,i)}),Array.from(r.values()).sort((i,o)=>i.label.localeCompare(o.label,"en",{sensitivity:"base"}))},mR=e=>{const n=(Array.isArray(e)?e:[]).map(i=>{if(typeof i=="string"){const u=i.trim().toLowerCase();return u?{name:u}:null}if(!i||typeof i!="object")return null;const l=String(i.name??"").trim().toLowerCase();return l?{name:l}:null}).filter(Boolean),r=new Map;return n.forEach(i=>r.set(i.name,i)),Array.from(r.values()).sort((i,o)=>i.name.localeCompare(o.name,"en",{sensitivity:"base"}))},Un=(e,t)=>{const n=(e&&typeof e=="object"?e:{})??{},r=pR(n.nodeTypes),i=mR(n.tags),o=new Map(r.map(u=>[u.key,u])),l=new Map(i.map(u=>[u.name,u]));return t.forEach(u=>{const c=(u.nodeType??"").trim().toLowerCase();c&&!o.has(c)&&o.set(c,{key:c,label:c}),(u.tags??[]).forEach(f=>{const h=String(f??"").trim().toLowerCase();h&&!l.has(h)&&l.set(h,{name:h})})}),{nodeTypes:Array.from(o.values()).sort((u,c)=>u.label.localeCompare(c.label,"en",{sensitivity:"base"})),tags:Array.from(l.values()).sort((u,c)=>u.name.localeCompare(c.name,"en",{sensitivity:"base"}))}},Fx=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim().toLowerCase()).filter(t=>t.length>0))),gR=e=>Array.from(new Set((Array.isArray(e)?e:[]).map(t=>String(t??"").trim()).filter(t=>t.length>0))),ok=e=>e==="count"||e==="minutes"||e==="both",yR=e=>e==="work"||e==="note",vR=e=>e==="overdue"||e==="weighted",xR=e=>e==="allow_all"||e==="prefer_leaves",wR=e=>{const t={},n=Fx(e.byTags),r=Fx(e.byNodeTypes),i=gR(e.byWorkIds);return n.length>0&&(t.byTags=n),r.length>0&&(t.byNodeTypes=r),i.length>0&&(t.byWorkIds=i),t},Co=e=>(e??[]).map(wR).filter(t=>Object.keys(t).length>0),bR=e=>{if(!Array.isArray(e))return[];const t=e.map(n=>Number(n)).filter(n=>Number.isFinite(n)).map(n=>Math.round(n)).filter(n=>n>=0&&n<=6);return Array.from(new Set(t)).sort((n,r)=>n-r)},kR=e=>{const t={};return!e||typeof e!="object"?{...dn.defaultMinutesByNodeType}:(Object.entries(e).forEach(([n,r])=>{const i=n.trim().toLowerCase(),o=Number(r);i&&Number.isFinite(o)&&(t[i]=Math.max(.25,o))}),Object.keys(t).length>0?t:{...dn.defaultMinutesByNodeType})},SR=(e,t)=>{const n=String(e.id??"").trim()||en(),r=yR(e.type)?e.type:"work",i=typeof e.enabled=="boolean"?e.enabled:!0,o=String(e.name??"").trim()||(r==="note"?"Recap":"Grupo"),l=Number.isFinite(Number(e.order))?Number(e.order):t,u=bR(e.daysOfWeek),c=ok(e.limitMode)?e.limitMode:"minutes",f=Number.isFinite(Number(e.maxItems))?Math.max(0,Math.round(Number(e.maxItems))):void 0,h=Number.isFinite(Number(e.minutesBudget))?Math.max(0,Number(e.minutesBudget)):void 0,p=vR(e.strategy)?e.strategy:"overdue",v=xR(e.hierarchyRule)?e.hierarchyRule:"allow_all",y=Co(e.include),S=Co(e.exclude);return{id:n,name:o,enabled:i,order:l,type:r,daysOfWeek:u,limitMode:c,maxItems:f,minutesBudget:h,strategy:p,hierarchyRule:v,include:y,exclude:S}},ER=e=>{var f,h,p;const t=Math.max(0,Number((f=e.template)==null?void 0:f.focusMinutes)||0),n=Math.max(0,Number((h=e.template)==null?void 0:h.rouletteMinutes)||0),r=Math.max(0,Number((p=e.template)==null?void 0:p.recapMinutes)||0),i=Co(e.focusSelectors),o=Co(e.rouletteSelectors),l=i.length>0?i:[{byNodeTypes:["segment","form"]}],u=o.length>0?o:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],c=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:t>0?t:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:l,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:n>0?n:10,strategy:"weighted",hierarchyRule:"allow_all",include:u,exclude:[]}];return r>0&&c.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:r}),c},rp=e=>{var S,w,_;const t=e??dn,n=ok(t.limitMode)?t.limitMode:dn.limitMode,r=Math.max(1,Math.round(Number(t.maxItems)||dn.maxItems)),i=Math.max(1,Number(t.minutesBudget)||dn.minutesBudget),o=Math.max(0,Number((S=t.template)==null?void 0:S.focusMinutes)||dn.template.focusMinutes),l=Math.max(0,Number((w=t.template)==null?void 0:w.rouletteMinutes)||dn.template.rouletteMinutes),u=Math.max(0,Number((_=t.template)==null?void 0:_.recapMinutes)||dn.template.recapMinutes),c=Math.max(0,o+l+u),f=kR(t.defaultMinutesByNodeType),h=Co(t.focusSelectors),p=Co(t.rouletteSelectors),y=((t.groups??[]).length>0?t.groups??[]:ER(t)).map((E,N)=>SR(E,N+1)).sort((E,N)=>E.order-N.order).map((E,N)=>({...E,order:N+1}));return{...t,limitMode:n,maxItems:r,minutesBudget:i,template:{totalMinutes:c,focusMinutes:o,rouletteMinutes:l,recapMinutes:u},defaultMinutesByNodeType:f,focusSelectors:h,rouletteSelectors:p,groups:y}},Rn=e=>{if(!e)return null;const t=e.trim();return t.length>0?t:null},Fu=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),yr=e=>{if(!e)return;const t=e.trim();return t.length>0?t:void 0},ip=e=>Array.from(new Set((e??[]).map(t=>(t??"").trim().toLowerCase()).filter(t=>t.length>0))),Ni=e=>{const t=It(),n=Rn(e.parentWorkId??null),r=Rn(e.nextWorkId??null),i=Rn(e.variantOfWorkId??null),o=yr(e.nodeType??void 0),l=Fu(e.tags),u=typeof e.orderHint=="number"&&Number.isFinite(e.orderHint)?e.orderHint:void 0,c=(e.collaborators??[]).map((p,v)=>({id:p.id??`${e.id}-collab-${v}`,email:(p.email??"").trim().toLowerCase(),role:p.role??"editor",userId:p.userId??null,createdAt:p.createdAt??t})),f=ip([...e.collaboratorEmails??[],...c.map(p=>p.email)]),h=Array.isArray(e.videoUrls)?e.videoUrls.map(p=>typeof p=="string"?p.trim():"").filter(Boolean):[];return{id:e.id,name:e.name??"Trabajo sin nombre",subtitle:yr(e.subtitle),objectiveId:e.objectiveId??"",parentWorkId:n,nodeType:o,tags:l,orderHint:u,nextWorkId:r,variantOfWorkId:i,descriptionMarkdown:e.descriptionMarkdown??"",estimatedMinutes:e.estimatedMinutes??0,notes:yr(e.notes),videoUrls:h,createdAt:e.createdAt??t,updatedAt:e.updatedAt??t,visibility:e.visibility??"private",ownerId:e.ownerId??"local-owner",ownerEmail:(e.ownerEmail??"").trim().toLowerCase(),collaborators:c,collaboratorEmails:f,canEdit:e.canEdit??!0,isOwner:e.isOwner??!0}},_R=(e,t,n)=>{var o;if(!n)return!1;if(n===t)return!0;const r=new Set;let i=n;for(;i;){if(i===t)return!0;if(r.has(i))break;r.add(i),i=((o=e.find(u=>u.id===i))==null?void 0:o.parentWorkId)??null}return!1},un=(e,t)=>{if(!sk)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn(`No se pudo cargar ${e} desde localStorage`,n),t}},ak=e=>e==="present"||e==="absent"||e==="pending",lk=e=>e==="present"||e==="absent",sp=e=>(e??[]).map(t=>{const n=ak(t.status)?t.status:"pending",r=lk(t.actualStatus)?t.actualStatus:void 0;return{assistantId:t.assistantId,status:n,actualStatus:r,notes:t.notes,actualNotes:t.actualNotes}}),Qe=e=>{if(!sk)return;const t={objectives:un(kt.objectives,[]),works:un(kt.works,[]),sessions:un(kt.sessions,[]),assistants:un(kt.assistants,[]),kungfuPrograms:un(kt.kungfuPrograms,ds),kungfuCadence:un(kt.kungfuCadence,fs),kungfuTodayPlan:un(kt.kungfuTodayPlan,dn),workTaxonomy:un(kt.workTaxonomy,Ai)},n=op({...t,...e});window.localStorage.setItem(kt.objectives,JSON.stringify(n.objectives)),window.localStorage.setItem(kt.works,JSON.stringify(n.works)),window.localStorage.setItem(kt.sessions,JSON.stringify(n.sessions)),window.localStorage.setItem(kt.assistants,JSON.stringify(n.assistants)),window.localStorage.setItem(kt.kungfuPrograms,JSON.stringify(n.kungfuPrograms)),window.localStorage.setItem(kt.kungfuCadence,JSON.stringify(n.kungfuCadence)),window.localStorage.setItem(kt.kungfuTodayPlan,JSON.stringify(n.kungfuTodayPlan)),window.localStorage.setItem(kt.workTaxonomy,JSON.stringify(n.workTaxonomy))},op=e=>{const t=(e.works??[]).map(r=>{const i=r.parent_work_id;return Ni({...r,id:r.id,parentWorkId:Rn(r.parentWorkId??i??null)})}),n=Un(e.workTaxonomy??Ai,t);return{objectives:e.objectives??[],works:t,sessions:(e.sessions??[]).map(r=>({...r,kind:r.kind??"class",startTime:r.startTime??as,workItems:(r.workItems??[]).map(i=>({...i,focusLabel:i.focusLabel,completed:i.completed??!1})),attendance:sp(r.attendance)})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??ds,kungfuCadence:e.kungfuCadence??fs,kungfuTodayPlan:rp(e.kungfuTodayPlan??dn),workTaxonomy:n}},Ee=oR((e,t)=>({ready:!1,objectives:[],works:[],worksLoading:!1,sessions:[],assistants:[],kungfuPrograms:ds,kungfuCadence:fs,kungfuTodayPlan:dn,workTaxonomy:Ai,hydrate:()=>{if(t().ready)return;const n=un(kt.objectives,[]),r=un(kt.works,[]).map(p=>{const v=p.parent_work_id;return Ni({...p,id:p.id,parentWorkId:Rn(p.parentWorkId??v??null)})}),i=un(kt.workTaxonomy,Ai),o=Un(i,r),l=un(kt.sessions,[]).map(p=>({...p,kind:p.kind??"class",startTime:p.startTime??as,workItems:(p.workItems??[]).map(v=>({...v,focusLabel:v.focusLabel,completed:v.completed??!1})),attendance:sp(p.attendance)})),u=un(kt.assistants,[]),c=un(kt.kungfuPrograms,ds),f=un(kt.kungfuCadence,fs),h=un(kt.kungfuTodayPlan,dn);e({objectives:n,works:r,sessions:l,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:rp(h),workTaxonomy:o,ready:!0})},setCollections:n=>{e(r=>{const i=op({objectives:n.objectives??r.objectives,works:n.works??r.works,sessions:n.sessions??r.sessions,assistants:n.assistants??r.assistants,kungfuPrograms:n.kungfuPrograms??r.kungfuPrograms,kungfuCadence:n.kungfuCadence??r.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan??r.kungfuTodayPlan,workTaxonomy:n.workTaxonomy??r.workTaxonomy}),o={...r,...i,ready:!0};return Qe(i),o})},setWorks:n=>{const r=n.map(i=>Ni(i));e(i=>{const o=Un(i.workTaxonomy,r),l={...i,works:r,workTaxonomy:o};return Qe({works:r}),l})},loadWorks:async n=>{e({worksLoading:!0});try{const i=(await dR(n)).map(p=>Ni(p)),o=t().works,l=new Set(i.map(p=>p.id)),u=o.filter(p=>!l.has(p.id)&&(!p.ownerId||p.ownerId==="local-owner"||p.ownerId===n.actorId)),c=[];for(const p of u)try{const v=await $x({id:p.id,name:p.name,subtitle:p.subtitle,objectiveId:p.objectiveId,parentWorkId:p.parentWorkId??null,nodeType:p.nodeType,tags:p.tags,orderHint:p.orderHint,nextWorkId:p.nextWorkId??null,variantOfWorkId:p.variantOfWorkId??null,descriptionMarkdown:p.descriptionMarkdown,estimatedMinutes:p.estimatedMinutes,notes:p.notes,videoUrls:p.videoUrls,visibility:p.visibility??"private",collaboratorEmails:p.collaboratorEmails??[]},n),y=Ni(v);c.push(y),l.add(y.id)}catch(v){console.error(`No se pudo migrar el trabajo legacy ${p.id}`,v)}const f=[...i];c.forEach(p=>{if(!l.has(p.id))l.add(p.id),f.push(p);else{const v=f.findIndex(y=>y.id===p.id);v>=0?f[v]=p:f.push(p)}});const h=f.map(p=>Ni(p)).sort((p,v)=>p.name.localeCompare(v.name,"es",{sensitivity:"base"}));e(p=>{const v=Un(p.workTaxonomy,h),y={...p,works:h,workTaxonomy:v};return Qe({works:h}),y})}finally{e({worksLoading:!1})}},reset:()=>{e(n=>{const r=op({objectives:[],works:[],sessions:[],assistants:[],kungfuPrograms:ds,kungfuCadence:fs,kungfuTodayPlan:dn,workTaxonomy:Ai}),i={...n,...r,ready:!0,worksLoading:!1};return Qe(i),i})},setKungfuPrograms:n=>{const r=Array.isArray(n)?n:ds;e(i=>{const o={...i,kungfuPrograms:r};return Qe(o),o})},setKungfuCadence:n=>{const r=n??fs;e(i=>{const o={...i,kungfuCadence:r};return Qe(o),o})},setKungfuTodayPlan:n=>{const r=rp(n??dn);e(i=>{const o={...i,kungfuTodayPlan:r};return Qe(o),o})},setWorkTaxonomy:n=>{e(r=>{const i=Un(n??Ai,r.works),o={...r,workTaxonomy:i};return Qe(o),o})},upsertNodeType:n=>{const r=eh(n);if(!r)return null;const i=n.trim()||r;return e(o=>{const l=o.workTaxonomy.nodeTypes??[],u=l.some(h=>h.key===r)?l.map(h=>h.key===r?{...h,label:i}:h):[...l,{key:r,label:i}],c=Un({...o.workTaxonomy,nodeTypes:u},o.works),f={...o,workTaxonomy:c};return Qe(f),f}),r},removeNodeType:n=>{const r=(n??"").trim().toLowerCase();return!r||t().works.some(o=>(o.nodeType??"").trim().toLowerCase()===r)?!1:(e(o=>{const l=(o.workTaxonomy.nodeTypes??[]).filter(f=>f.key!==r),u=Un({...o.workTaxonomy,nodeTypes:l},o.works),c={...o,workTaxonomy:u};return Qe(c),c}),!0)},upsertTag:n=>{const r=eh(n);return r?(e(i=>{const o=i.workTaxonomy.tags??[],l=o.some(f=>f.name===r)?o:[...o,{name:r}],u=Un({...i.workTaxonomy,tags:l},i.works),c={...i,workTaxonomy:u};return Qe(c),c}),r):null},removeTag:n=>{const r=eh(n??"");return!r||t().works.some(o=>(o.tags??[]).includes(r))?!1:(e(o=>{const l=(o.workTaxonomy.tags??[]).filter(f=>f.name!==r),u=Un({...o.workTaxonomy,tags:l},o.works),c={...o,workTaxonomy:u};return Qe(c),c}),!0)},addObjective:n=>{const r={id:en(),name:n.name,colorHex:n.colorHex,descriptionMarkdown:n.descriptionMarkdown,createdAt:It(),updatedAt:It()};return e(i=>{const o={objectives:[...i.objectives,r]},l={...i,...o};return Qe(l),l}),r},updateObjective:(n,r)=>{e(i=>{const o=i.objectives.map(u=>u.id===n?{...u,...r,updatedAt:It()}:u),l={...i,objectives:o};return Qe(l),l})},deleteObjective:n=>t().works.some(i=>i.objectiveId===n)?!1:(e(i=>{const o=i.objectives.filter(u=>u.id!==n),l={...i,objectives:o};return Qe(l),l}),!0),addWork:async(n,r)=>{const i=t(),o=Rn(n.parentWorkId),l=o&&i.works.some(h=>h.id===o)?o:null,u={name:n.name,subtitle:yr(n.subtitle),objectiveId:n.objectiveId,parentWorkId:l,nodeType:yr(n.nodeType)??void 0,tags:Fu(n.tags),orderHint:typeof n.orderHint=="number"&&Number.isFinite(n.orderHint)?n.orderHint:void 0,nextWorkId:Rn(n.nextWorkId??null),variantOfWorkId:Rn(n.variantOfWorkId??null),descriptionMarkdown:n.descriptionMarkdown,estimatedMinutes:n.estimatedMinutes,notes:yr(n.notes),videoUrls:(n.videoUrls??[]).map(h=>h.trim()).filter(h=>h.length>0),visibility:n.visibility??"private",collaboratorEmails:ip(n.collaboratorEmails??[])},c=await $x(u,r),f=Ni(c);return e(h=>{const p=[...h.works.filter(y=>y.id!==f.id),f],v=Un(h.workTaxonomy,p);return Qe({works:p,workTaxonomy:v}),{...h,works:p,workTaxonomy:v}}),f},updateWork:async(n,r,i)=>{const o=t(),l=o.works.find(p=>p.id===n);if(!l)throw new Error("Trabajo no encontrado");let u=l.parentWorkId??null;if(r.parentWorkId!==void 0){const p=Rn(r.parentWorkId);p&&(!o.works.some(v=>v.id===p)||_R(o.works,n,p))?u=null:u=p}const c={...r,subtitle:r.subtitle!==void 0?yr(r.subtitle)??null:void 0,parentWorkId:u,nodeType:r.nodeType!==void 0?yr(r.nodeType??void 0)??null:void 0,tags:r.tags?Fu(r.tags):void 0,orderHint:r.orderHint!==void 0?typeof r.orderHint=="number"&&Number.isFinite(r.orderHint)?r.orderHint:null:void 0,nextWorkId:r.nextWorkId!==void 0?Rn(r.nextWorkId??null):void 0,variantOfWorkId:r.variantOfWorkId!==void 0?Rn(r.variantOfWorkId??null):void 0,notes:r.notes!==void 0?yr(r.notes)??null:void 0,videoUrls:r.videoUrls?r.videoUrls.map(p=>p.trim()).filter(p=>p.length>0):void 0,collaboratorEmails:r.collaboratorEmails?ip(r.collaboratorEmails):void 0},f=await fR(n,c,i),h=Ni(f);return e(p=>{const v=p.works.map(S=>S.id===h.id?h:S),y=Un(p.workTaxonomy,v);return Qe({works:v,workTaxonomy:y}),{...p,works:v,workTaxonomy:y}}),h},deleteWork:async(n,r)=>t().sessions.some(l=>l.workItems.some(u=>u.workId===n))||t().works.some(l=>l.parentWorkId===n)?!1:(await hR(n),e(l=>{const u=l.works.filter(f=>f.id!==n),c=Un(l.workTaxonomy,u);return Qe({works:u,workTaxonomy:c}),{...l,works:u,workTaxonomy:c}}),!0),addSession:n=>{const r={id:en(),date:n.date,kind:n.kind??"class",title:n.title,description:n.description,notes:n.notes,workItems:[],attendance:[],startTime:n.startTime??as,createdAt:It(),updatedAt:It()};return e(i=>{const o=[...i.sessions,r],l={...i,sessions:o};return Qe(l),l}),r},duplicateSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o=It(),l={...i,id:en(),date:r,startTime:i.startTime??as,createdAt:o,updatedAt:o,title:`${i.title} (copia)`};return l.workItems=i.workItems.slice().sort((u,c)=>u.order-c.order).map((u,c)=>({...u,id:en(),order:c,completed:!1})),l.attendance=i.attendance.map(u=>({assistantId:u.assistantId,status:"pending",notes:u.notes,actualStatus:void 0,actualNotes:void 0})),e(u=>{const c=[...u.sessions,l],f={...u,sessions:c};return Qe(f),f}),l},updateSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,...r,updatedAt:It()}:u),l={...i,sessions:o};return Qe(l),l})},deleteSession:n=>{e(r=>{const i=r.sessions.filter(l=>l.id!==n),o={...r,sessions:i};return Qe(o),o})},updateSessionWorkItems:(n,r)=>{e(i=>{const o=i.sessions.map(u=>u.id===n?{...u,workItems:r.map((c,f)=>({...c,order:f})),updatedAt:It()}:u),l={...i,sessions:o};return Qe(l),l})},addWorkToSession:(n,r)=>{const i=t().sessions.find(u=>u.id===n);if(!i)return;const o={id:en(),workId:r.workId,customDescriptionMarkdown:r.customDescriptionMarkdown,customDurationMinutes:r.customDurationMinutes,notes:r.notes,focusLabel:r.focusLabel,completed:!1,order:i.workItems.length},l={...i,workItems:[...i.workItems,o],updatedAt:It()};return e(u=>{const c=u.sessions.map(h=>h.id===n?l:h),f={...u,sessions:c};return Qe(f),f}),o},duplicateSessionWork:(n,r)=>{let i,o=!1;return e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.workItems.findIndex(w=>w.id===r);if(h===-1)return f;o=!0;const v={...f.workItems[h],id:en(),completed:!1},y=[...f.workItems];y.splice(h+1,0,v);const S=y.map((w,_)=>{const E={...w,order:_};return w.id===v.id&&(i=E),E});return{...f,workItems:S,updatedAt:It()}});if(!o)return l;const c={...l,sessions:u};return Qe(c),c}),i},removeWorkFromSession:(n,r)=>{e(i=>{const o=i.sessions.map(u=>{if(u.id!==n)return u;const c=u.workItems.filter(f=>f.id!==r).map((f,h)=>({...f,order:h}));return{...u,workItems:c,updatedAt:It()}}),l={...i,sessions:o};return Qe(l),l})},toggleSessionWorkCompletion:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,completed:i}:f),updatedAt:It()}),u={...o,sessions:l};return Qe(u),u})},reorderSessionWork:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=[...c.workItems],[h]=f.splice(r,1);return f.splice(i,0,h),{...c,workItems:f.map((p,v)=>({...p,order:v})),updatedAt:It()}}),u={...o,sessions:l};return Qe(u),u})},updateSessionWorkDetails:(n,r,i)=>{e(o=>{const l=o.sessions.map(c=>c.id!==n?c:{...c,workItems:c.workItems.map(f=>f.id===r?{...f,...i}:f),updatedAt:It()}),u={...o,sessions:l};return Qe(u),u})},replaceSessionWork:(n,r,i)=>{t().works.some(o=>o.id===i)&&e(o=>{const l=o.sessions.map(c=>{if(c.id!==n)return c;const f=c.workItems.map(h=>h.id!==r?h:{...h,workId:i,customDescriptionMarkdown:void 0,customDurationMinutes:void 0,notes:void 0,focusLabel:void 0,completed:!1});return{...c,workItems:f,updatedAt:It()}}),u={...o,sessions:l};return Qe(u),u})},setAttendanceActualStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;if(h)p=f.attendance.map(v=>{if(v.assistantId!==r)return v;const y={...v,actualStatus:i};return typeof o<"u"&&(y.actualNotes=o),y});else{const v={assistantId:r,status:"pending",actualStatus:i};typeof o<"u"&&(v.actualNotes=o),p=[...f.attendance,v]}return{...f,attendance:p,updatedAt:It()}}),c={...l,sessions:u};return Qe(c),c})},setAttendanceStatus:(n,r,i,o)=>{e(l=>{const u=l.sessions.map(f=>{if(f.id!==n)return f;const h=f.attendance.find(v=>v.assistantId===r);let p;return h?p=f.attendance.map(v=>v.assistantId===r?{...v,status:i,notes:o}:v):p=[...f.attendance,{assistantId:r,status:i,notes:o}],{...f,attendance:p,updatedAt:It()}}),c={...l,sessions:u};return Qe(c),c})},addAssistant:n=>{const r={id:en(),name:n.name,notes:n.notes,active:n.active??!0,createdAt:It(),updatedAt:It()};return e(i=>{const o=[...i.assistants,r],l={...i,assistants:o};return Qe(l),l}),r},updateAssistant:(n,r)=>{e(i=>{const o=i.assistants.map(u=>u.id===n?{...u,...r,updatedAt:It()}:u),l={...i,assistants:o};return Qe(l),l})},deleteAssistant:n=>{e(r=>{const i=r.assistants.filter(u=>u.id!==n),o=r.sessions.map(u=>({...u,attendance:u.attendance.filter(c=>c.assistantId!==n)})),l={...r,assistants:i,sessions:o};return Qe(l),l})},importBackup:n=>{if((n.version??1)!==1)throw new Error("Versin de backup no soportada");const i=It(),o=(n.objetivos??[]).map(E=>({...E,createdAt:E.createdAt??i,updatedAt:E.updatedAt??i})),l=(n.trabajos??[]).map(E=>{const N=E.parent_work_id,C=E.node_type,P=E.tags,O=E.order_hint,A=E.next_work_id,B=E.variant_of_work_id;return{...E,subtitle:yr(E.subtitle),parentWorkId:Rn(E.parentWorkId??N??null),nodeType:yr(E.nodeType??C??void 0),tags:Fu(Array.isArray(E.tags)?E.tags:Array.isArray(P)?P:[]),orderHint:typeof E.orderHint=="number"?E.orderHint:typeof O=="number"?O:void 0,nextWorkId:Rn(E.nextWorkId??A??null),variantOfWorkId:Rn(E.variantOfWorkId??B??null),createdAt:E.createdAt??i,updatedAt:E.updatedAt??i,videoUrls:E.videoUrls??[]}}),u=(n.asistentes??[]).map(E=>({...E,createdAt:E.createdAt??i,updatedAt:E.updatedAt??i,active:E.active??!0})),c=n.kungfuPrograms??ds,f=n.kungfuCadence??fs,h=n.kungfuTodayPlan??dn,p=Un(n.workTaxonomy??Ai,l),v=new Map;(n.sesiones??[]).forEach(E=>{const N=E.id??en(),C={id:N,date:E.date??Ve().format("YYYY-MM-DD"),kind:E.kind??"class",title:E.title??"Sesin importada",description:E.description,notes:E.notes,workItems:(E.workItems??[]).map((P,O)=>({id:P.id??en(),workId:P.workId,order:P.order??O,customDescriptionMarkdown:P.customDescriptionMarkdown,customDurationMinutes:P.customDurationMinutes,notes:P.notes,focusLabel:P.focusLabel,completed:P.completed??!1,result:P.result,effort:P.effort})),attendance:sp(E.attendance),startTime:E.startTime??as,createdAt:E.createdAt??i,updatedAt:E.updatedAt??i};C.workItems=C.workItems.sort((P,O)=>P.order-O.order).map((P,O)=>({...P,order:O})),v.set(N,C)}),(n.sesiones_trabajos??[]).forEach(E=>{const N=E.session_id;if(!N)return;v.has(N)||v.set(N,{id:N,date:E.fecha?Ve(E.fecha).format("YYYY-MM-DD"):Ve().format("YYYY-MM-DD"),kind:"class",title:E.titulo??"Sesin importada",description:E.descripcion,notes:E.notasSesion??E.notas,workItems:[],attendance:[],startTime:as,createdAt:i,updatedAt:i});const C=v.get(N);C.workItems.push({id:E.id??en(),workId:E.trabajo_id,order:E.orden??C.workItems.length,customDescriptionMarkdown:E.descripcionPersonalizada,customDurationMinutes:E.duracionPersonalizada,notes:E.notas,focusLabel:E.focusLabel??E.foco,completed:E.completed??!1,result:E.result??E.resultado,effort:E.effort??E.esfuerzo})}),v.forEach(E=>{E.workItems=E.workItems.sort((N,C)=>N.order-C.order).map((N,C)=>({...N,order:C})),E.startTime=E.startTime??as});const y=new Map,S=E=>ak(E)?E:void 0,w=E=>lk(E)?E:void 0;(n.sesiones_asistencias??[]).forEach(E=>{const N=E.session_id;if(!N)return;const C=E.assistantId??E.asistente_id;if(!C)return;const P=S(E.status??E.estado)??"pending",O=w(E.actualStatus??E.estado_real),A={assistantId:C,status:P,notes:E.notes??E.notas,actualStatus:O,actualNotes:E.actualNotes??E.notas_reales},B=y.get(N)??[];B.push(A),y.set(N,B)}),y.forEach((E,N)=>{const C=v.get(N);C&&(C.attendance=E)});const _=Array.from(v.values());e({objectives:o,works:l,sessions:_,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h,workTaxonomy:p,ready:!0}),Qe({objectives:o,works:l,sessions:_,assistants:u,kungfuPrograms:c,kungfuCadence:f,kungfuTodayPlan:h,workTaxonomy:p})},exportBackup:()=>{const n=t(),r=n.sessions.flatMap(u=>u.workItems.map(c=>({id:c.id,session_id:u.id,trabajo_id:c.workId,orden:c.order,descripcionPersonalizada:c.customDescriptionMarkdown,duracionPersonalizada:c.customDurationMinutes,notas:c.notes,foco:c.focusLabel,focusLabel:c.focusLabel,completed:c.completed??!1,result:c.result,effort:c.effort}))),i=n.sessions.flatMap(u=>u.attendance.map(c=>({session_id:u.id,assistantId:c.assistantId,estado:c.status,notas:c.notes,...c.actualStatus?{actualStatus:c.actualStatus,estado_real:c.actualStatus}:{},...c.actualNotes?{actualNotes:c.actualNotes,notas_reales:c.actualNotes}:{}}))),o=n.sessions.map(u=>({id:u.id,date:u.date,kind:u.kind,title:u.title,description:u.description,notes:u.notes,startTime:u.startTime,createdAt:u.createdAt,updatedAt:u.updatedAt}));return{version:1,usuarios:[],objetivos:n.objectives,trabajos:n.works,sesiones:o,sesiones_trabajos:r,asistentes:n.assistants,sesiones_asistencias:i,kungfuPrograms:n.kungfuPrograms,kungfuCadence:n.kungfuCadence,kungfuTodayPlan:n.kungfuTodayPlan,workTaxonomy:n.workTaxonomy}}})),zx=1,CR=[{id:"default",name:"Kung Fu  activo",enabled:!0,include:[{byTags:["kungfu"]}],exclude:[]}],jR={targetsDays:{work:7,technique:5,segment:8,form:10,drill:7},overrides:[]},NR={limitMode:"count",maxItems:12,minutesBudget:30,template:{totalMinutes:30,focusMinutes:18,rouletteMinutes:10,recapMinutes:2},defaultMinutesByNodeType:{work:3,technique:1.5,segment:6,form:15,drill:4,link:2},focusSelectors:[],rouletteSelectors:[],groups:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]},TR={nodeTypes:[{key:"form",label:"Form"},{key:"segment",label:"Segment"},{key:"application",label:"Application"},{key:"technique",label:"Technique"},{key:"drill",label:"Drill"},{key:"work",label:"Work"},{key:"link",label:"Link"},{key:"style",label:"Style"}],tags:[]},Nu=e=>({objectives:e.objectives,works:e.works,sessions:e.sessions,assistants:e.assistants,kungfuPrograms:e.kungfuPrograms,kungfuCadence:e.kungfuCadence,kungfuTodayPlan:e.kungfuTodayPlan,workTaxonomy:e.workTaxonomy}),IR=e=>({objectives:e.objectives??[],works:e.works??[],sessions:(e.sessions??[]).map(t=>({...t,kind:t.kind??"class",workItems:t.workItems??[],attendance:t.attendance??[]})),assistants:e.assistants??[],kungfuPrograms:e.kungfuPrograms??CR,kungfuCadence:e.kungfuCadence??jR,kungfuTodayPlan:e.kungfuTodayPlan??NR,workTaxonomy:e.workTaxonomy??TR}),PR=(e,t)=>e.objectives!==t.objectives||e.works!==t.works||e.sessions!==t.sessions||e.assistants!==t.assistants||e.kungfuPrograms!==t.kungfuPrograms||e.kungfuCadence!==t.kungfuCadence||e.kungfuTodayPlan!==t.kungfuTodayPlan||e.workTaxonomy!==t.workTaxonomy;function AR(){const{user:e}=_s(),t=Ee(f=>f.setCollections),n=Ee(f=>f.reset),r=Ee(f=>f.ready),i=k.useRef(!1),o=k.useRef(null),l=k.useRef(null),u=k.useRef(null),c=k.useRef(Nu(Ee.getState()));k.useEffect(()=>()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]),k.useEffect(()=>{e||(n(),u.current=null,l.current=null,i.current=!1,c.current=Nu(Ee.getState()),o.current&&(window.clearTimeout(o.current),o.current=null))},[e,n]),k.useEffect(()=>{if(!e)return;let f=!0;(async()=>{const{data:v,error:y}=await Ft.from("planner_states").select("data, updated_at").eq("user_id",e.id).maybeSingle();if(!f)return;if(y&&y.code!=="PGRST116"){console.error("No se pudo cargar el estado remoto",y);return}const S=v;if(S!=null&&S.data){const w=IR(S.data??{});i.current=!0,u.current=S.updated_at,c.current=w,t(w)}else if(r){const w=Nu(Ee.getState());l.current=null;const{error:_,data:E}=await Ft.from("planner_states").upsert({user_id:e.id,data:{version:zx,...w}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),N=E;_?console.error("No se pudo inicializar el estado remoto",_):N&&(u.current=N.updated_at)}})();const p=Ee.subscribe(v=>{if(!f)return;const y=Nu(v);if(i.current){i.current=!1,c.current=y,l.current=null;return}const S=c.current;PR(y,S)&&(c.current=y,l.current=y,o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{if(!l.current)return;const w=l.current;l.current=null,(async()=>{const{error:_,data:E}=await Ft.from("planner_states").upsert({user_id:e.id,data:{version:zx,...w}},{onConflict:"user_id"}).select("updated_at").maybeSingle(),N=E;_?console.error("No se pudo guardar el estado remoto",_):N&&(u.current=N.updated_at)})()},600))});return()=>{f=!1,p(),o.current&&(window.clearTimeout(o.current),o.current=null)}},[e,r,t])}function RR(){const{user:e}=_s(),t=Ee(r=>r.loadWorks),n=Ee(r=>r.setWorks);k.useEffect(()=>{if(!e){n([]);return}const r={actorId:e.id,actorEmail:e.email??""},i=async()=>{try{await t(r)}catch(l){console.error("No se pudieron sincronizar los trabajos colaborativos",l)}};i();const o=Ft.channel("works-collaboration").on("postgres_changes",{event:"*",schema:"public",table:"works"},()=>{i()}).on("postgres_changes",{event:"*",schema:"public",table:"work_collaborators"},()=>{i()}).subscribe();return()=>{Ft.removeChannel(o)}},[e,t,n])}var zu={exports:{}},OR=zu.exports,Bx;function MR(){return Bx||(Bx=1,(function(e,t){(function(n,r){e.exports=r(nk())})(OR,(function(n){function r(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=r(n),o={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(l){return l+""}};return i.default.locale(o,null,!0),o}))})(zu)),zu.exports}MR();function $i({objective:e,size:t="md"}){if(!e)return null;const n=t==="sm"?"text-xs px-2 py-1":"text-sm px-3 py-1.5";return g.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full font-medium text-slate-950 shadow shadow-black/30 ${n}`,style:{backgroundColor:e.colorHex},children:[g.jsx("span",{className:"h-2.5 w-2.5 rounded-full border border-black/20 bg-white/70"}),e.name]})}function LR(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const DR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$R=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FR={};function Ux(e,t){return(FR.jsx?$R:DR).test(e)}const zR=/[ \t\n\f\r]/g;function BR(e){return typeof e=="object"?e.type==="text"?Wx(e.value):!1:Wx(e)}function Wx(e){return e.replace(zR,"")===""}class al{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}al.prototype.normal={};al.prototype.property={};al.prototype.space=void 0;function uk(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new al(n,r,t)}function ap(e){return e.toLowerCase()}class Mn{constructor(t,n){this.attribute=n,this.property=t}}Mn.prototype.attribute="";Mn.prototype.booleanish=!1;Mn.prototype.boolean=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.defined=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.number=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.property="";Mn.prototype.spaceSeparated=!1;Mn.prototype.space=void 0;let UR=0;const qe=js(),Mt=js(),lp=js(),me=js(),pt=js(),wo=js(),Wn=js();function js(){return 2**++UR}const up=Object.freeze(Object.defineProperty({__proto__:null,boolean:qe,booleanish:Mt,commaOrSpaceSeparated:Wn,commaSeparated:wo,number:me,overloadedBoolean:lp,spaceSeparated:pt},Symbol.toStringTag,{value:"Module"})),th=Object.keys(up);class tm extends Mn{constructor(t,n,r,i){let o=-1;if(super(t,n),Hx(this,"space",i),typeof r=="number")for(;++o<th.length;){const l=th[o];Hx(this,th[o],(r&up[l])===up[l])}}}tm.prototype.defined=!0;function Hx(e,t,n){n&&(e[t]=n)}function Oo(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new tm(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[ap(r)]=r,n[ap(o.attribute)]=r}return new al(t,n,e.space)}const ck=Oo({properties:{ariaActiveDescendant:null,ariaAtomic:Mt,ariaAutoComplete:null,ariaBusy:Mt,ariaChecked:Mt,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:pt,ariaCurrent:null,ariaDescribedBy:pt,ariaDetails:null,ariaDisabled:Mt,ariaDropEffect:pt,ariaErrorMessage:null,ariaExpanded:Mt,ariaFlowTo:pt,ariaGrabbed:Mt,ariaHasPopup:null,ariaHidden:Mt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pt,ariaLevel:me,ariaLive:null,ariaModal:Mt,ariaMultiLine:Mt,ariaMultiSelectable:Mt,ariaOrientation:null,ariaOwns:pt,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Mt,ariaReadOnly:Mt,ariaRelevant:null,ariaRequired:Mt,ariaRoleDescription:pt,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Mt,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function dk(e,t){return t in e?e[t]:t}function fk(e,t){return dk(e,t.toLowerCase())}const WR=Oo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wo,acceptCharset:pt,accessKey:pt,action:null,allow:null,allowFullScreen:qe,allowPaymentRequest:qe,allowUserMedia:qe,alt:null,as:null,async:qe,autoCapitalize:null,autoComplete:pt,autoFocus:qe,autoPlay:qe,blocking:pt,capture:null,charSet:null,checked:qe,cite:null,className:pt,cols:me,colSpan:null,content:null,contentEditable:Mt,controls:qe,controlsList:pt,coords:me|wo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qe,defer:qe,dir:null,dirName:null,disabled:qe,download:lp,draggable:Mt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qe,formTarget:null,headers:pt,height:me,hidden:lp,high:me,href:null,hrefLang:null,htmlFor:pt,httpEquiv:pt,id:null,imageSizes:null,imageSrcSet:null,inert:qe,inputMode:null,integrity:null,is:null,isMap:qe,itemId:null,itemProp:pt,itemRef:pt,itemScope:qe,itemType:pt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qe,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:qe,muted:qe,name:null,nonce:null,noModule:qe,noValidate:qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qe,optimum:me,pattern:null,ping:pt,placeholder:null,playsInline:qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qe,referrerPolicy:null,rel:pt,required:qe,reversed:qe,rows:me,rowSpan:me,sandbox:pt,scope:null,scoped:qe,seamless:qe,selected:qe,shadowRootClonable:qe,shadowRootDelegatesFocus:qe,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Mt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:qe,useMap:null,value:Mt,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pt,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qe,declare:qe,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:qe,noHref:qe,noShade:qe,noWrap:qe,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Mt,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qe,disableRemotePlayback:qe,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:fk}),HR=Oo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wn,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:pt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wo,g2:wo,glyphName:wo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:Wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wn,rev:Wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wn,requiredFeatures:Wn,requiredFonts:Wn,requiredFormats:Wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:Wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wn,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:dk}),hk=Oo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),pk=Oo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:fk}),mk=Oo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),VR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qR=/[A-Z]/g,Vx=/-[a-z]/g,YR=/^data[-\w.:]+$/i;function KR(e,t){const n=ap(t);let r=t,i=Mn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&YR.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Vx,JR);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Vx.test(o)){let l=o.replace(qR,GR);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=tm}return new i(r,t)}function GR(e){return"-"+e.toLowerCase()}function JR(e){return e.charAt(1).toUpperCase()}const QR=uk([ck,WR,hk,pk,mk],"html"),nm=uk([ck,HR,hk,pk,mk],"svg");function XR(e){return e.join(" ").trim()}var ao={},nh,qx;function ZR(){if(qx)return nh;qx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",h="*",p="",v="comment",y="declaration";nh=function(w,_){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];_=_||{};var E=1,N=1;function C(Y){var q=Y.match(t);q&&(E+=q.length);var F=Y.lastIndexOf(c);N=~F?Y.length-F:N+Y.length}function P(){var Y={line:E,column:N};return function(q){return q.position=new O(Y),re(),q}}function O(Y){this.start=Y,this.end={line:E,column:N},this.source=_.source}O.prototype.content=w;function A(Y){var q=new Error(_.source+":"+E+":"+N+": "+Y);if(q.reason=Y,q.filename=_.source,q.line=E,q.column=N,q.source=w,!_.silent)throw q}function B(Y){var q=Y.exec(w);if(q){var F=q[0];return C(F),w=w.slice(F.length),q}}function re(){B(n)}function X(Y){var q;for(Y=Y||[];q=L();)q!==!1&&Y.push(q);return Y}function L(){var Y=P();if(!(f!=w.charAt(0)||h!=w.charAt(1))){for(var q=2;p!=w.charAt(q)&&(h!=w.charAt(q)||f!=w.charAt(q+1));)++q;if(q+=2,p===w.charAt(q-1))return A("End of comment missing");var F=w.slice(2,q-2);return N+=2,C(F),w=w.slice(q),N+=2,Y({type:v,comment:F})}}function $(){var Y=P(),q=B(r);if(q){if(L(),!B(i))return A("property missing ':'");var F=B(o),W=Y({type:y,property:S(q[0].replace(e,p)),value:F?S(F[0].replace(e,p)):p});return B(l),W}}function Q(){var Y=[];X(Y);for(var q;q=$();)q!==!1&&(Y.push(q),X(Y));return Y}return re(),Q()};function S(w){return w?w.replace(u,p):p}return nh}var Yx;function eO(){if(Yx)return ao;Yx=1;var e=ao&&ao.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ao,"__esModule",{value:!0}),ao.default=n;var t=e(ZR());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var l=(0,t.default)(r),u=typeof i=="function";return l.forEach(function(c){if(c.type==="declaration"){var f=c.property,h=c.value;u?i(f,h,c):h&&(o=o||{},o[f]=h)}}),o}return ao}var wa={},Kx;function tO(){if(Kx)return wa;Kx=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},c=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,l))};return wa.camelCase=c,wa}var ba,Gx;function nO(){if(Gx)return ba;Gx=1;var e=ba&&ba.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(eO()),n=tO();function r(i,o){var l={};return!i||typeof i!="string"||(0,t.default)(i,function(u,c){u&&c&&(l[(0,n.camelCase)(u,o)]=c)}),l}return r.default=r,ba=r,ba}var rO=nO();const iO=No(rO),gk=yk("end"),rm=yk("start");function yk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function sO(e){const t=rm(e),n=gk(e);if(t&&n)return{start:t,end:n}}function Ma(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Jx(e.position):"start"in e||"end"in e?Jx(e):"line"in e||"column"in e?cp(e):""}function cp(e){return Qx(e&&e.line)+":"+Qx(e&&e.column)}function Jx(e){return cp(e&&e.start)+"-"+cp(e&&e.end)}function Qx(e){return e&&typeof e=="number"?e:1}class pn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Ma(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pn.prototype.file="";pn.prototype.name="";pn.prototype.reason="";pn.prototype.message="";pn.prototype.stack="";pn.prototype.column=void 0;pn.prototype.line=void 0;pn.prototype.ancestors=void 0;pn.prototype.cause=void 0;pn.prototype.fatal=void 0;pn.prototype.place=void 0;pn.prototype.ruleId=void 0;pn.prototype.source=void 0;const im={}.hasOwnProperty,oO=new Map,aO=/[A-Z]/g,lO=new Set(["table","tbody","thead","tfoot","tr"]),uO=new Set(["td","th"]),vk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function cO(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=vO(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yO(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?nm:QR,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=xk(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function xk(e,t,n){if(t.type==="element")return dO(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return fO(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return pO(e,t,n);if(t.type==="mdxjsEsm")return hO(e,t);if(t.type==="root")return mO(e,t,n);if(t.type==="text")return gO(e,t)}function dO(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=nm,e.schema=i),e.ancestors.push(t);const o=bk(e,t.tagName,!1),l=xO(e,t);let u=om(e,t);return lO.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!BR(c):!0})),wk(e,l,o,t),sm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function fO(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ga(e,t.position)}function hO(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ga(e,t.position)}function pO(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=nm,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:bk(e,t.name,!0),l=wO(e,t),u=om(e,t);return wk(e,l,o,t),sm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function mO(e,t,n){const r={};return sm(r,om(e,t)),e.create(t,e.Fragment,r,n)}function gO(e,t){return t.value}function wk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function sm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function yO(e,t,n){return r;function r(i,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function vO(e,t){return n;function n(r,i,o,l){const u=Array.isArray(o.children),c=rm(r);return t(i,o,l,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function xO(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&im.call(t.properties,i)){const o=bO(e,i,t.properties[i]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&uO.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function wO(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Ga(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else Ga(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function om(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:oO;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=i.get(c)||0;l=c+"-"+f,i.set(c,f+1)}}const u=xk(e,o,l);u!==void 0&&n.push(u)}return n}function bO(e,t,n){const r=KR(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?LR(n):XR(n)),r.property==="style"){let i=typeof n=="object"?n:kO(e,String(n));return e.stylePropertyNameCase==="css"&&(i=SO(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?VR[r.property]||r.property:r.attribute,n]}}function kO(e,t){try{return iO(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new pn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=vk+"#cannot-parse-style-attribute",i}}function bk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const u=Ux(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=Ux(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return im.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ga(e)}function Ga(e,t){const n=new pn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=vk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function SO(e){const t={};let n;for(n in e)im.call(e,n)&&(t[EO(n)]=e[n]);return t}function EO(e){let t=e.replace(aO,_O);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _O(e){return"-"+e.toLowerCase()}const rh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},CO={};function am(e,t){const n=CO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return kk(e,r,i)}function kk(e,t,n){if(jO(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Xx(e.children,t,n)}return Array.isArray(e)?Xx(e,t,n):""}function Xx(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=kk(e[i],t,n);return r.join("")}function jO(e){return!!(e&&typeof e=="object")}const Zx=document.createElement("i");function lm(e){const t="&"+e+";";Zx.innerHTML=t;const n=Zx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Yn(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function sr(e,t){return e.length>0?(Yn(e,e.length,0,t),e):t}const e0={}.hasOwnProperty;function Sk(e){const t={};let n=-1;for(;++n<e.length;)NO(t,e[n]);return t}function NO(e,t){let n;for(n in t){const i=(e0.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){e0.call(i,l)||(i[l]=[]);const u=o[l];TO(i[l],Array.isArray(u)?u:u?[u]:[])}}}function TO(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Yn(e,0,0,r)}function Ek(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function br(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const wn=Bi(/[A-Za-z]/),hn=Bi(/[\dA-Za-z]/),IO=Bi(/[#-'*+\--9=?A-Z^-~]/);function oc(e){return e!==null&&(e<32||e===127)}const dp=Bi(/\d/),PO=Bi(/[\dA-Fa-f]/),AO=Bi(/[!-/:-@[-`{-~]/);function $e(e){return e!==null&&e<-2}function dt(e){return e!==null&&(e<0||e===32)}function Je(e){return e===-2||e===-1||e===32}const Lc=Bi(new RegExp("\\p{P}|\\p{S}","u")),xs=Bi(/\s/);function Bi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Mo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&hn(e.charCodeAt(n+1))&&hn(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ze(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(c){return Je(c)?(e.enter(n),u(c)):t(c)}function u(c){return Je(c)&&o++<i?(e.consume(c),u):(e.exit(n),t(c))}}const RO={tokenize:OO};function OO(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ze(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),o(u)}function o(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return $e(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const MO={tokenize:LO},t0={tokenize:DO};function LO(e){const t=this,n=[];let r=0,i,o,l;return u;function u(C){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,c,f)(C)}return f(C)}function c(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&N();const P=t.events.length;let O=P,A;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){A=t.events[O][1].end;break}E(r);let B=P;for(;B<t.events.length;)t.events[B][1].end={...A},B++;return Yn(t.events,O+1,0,t.events.slice(P)),t.events.length=B,f(C)}return u(C)}function f(C){if(r===n.length){if(!i)return v(C);if(i.currentConstruct&&i.currentConstruct.concrete)return S(C);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(t0,h,p)(C)}function h(C){return i&&N(),E(r),v(C)}function p(C){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,S(C)}function v(C){return t.containerState={},e.attempt(t0,y,S)(C)}function y(C){return r++,n.push([t.currentConstruct,t.containerState]),v(C)}function S(C){if(C===null){i&&N(),E(0),e.consume(C);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),w(C)}function w(C){if(C===null){_(e.exit("chunkFlow"),!0),E(0),e.consume(C);return}return $e(C)?(e.consume(C),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(C),w)}function _(C,P){const O=t.sliceStream(C);if(P&&O.push(null),C.previous=o,o&&(o.next=C),o=C,i.defineSkip(C.start),i.write(O),t.parser.lazy[C.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<l&&(!i.events[A][1].end||i.events[A][1].end.offset>l))return;const B=t.events.length;let re=B,X,L;for(;re--;)if(t.events[re][0]==="exit"&&t.events[re][1].type==="chunkFlow"){if(X){L=t.events[re][1].end;break}X=!0}for(E(r),A=B;A<t.events.length;)t.events[A][1].end={...L},A++;Yn(t.events,re+1,0,t.events.slice(B)),t.events.length=A}}function E(C){let P=n.length;for(;P-- >C;){const O=n[P];t.containerState=O[1],O[0].exit.call(t,e)}n.length=C}function N(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function DO(e,t,n){return Ze(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jo(e){if(e===null||dt(e)||xs(e))return 1;if(Lc(e))return 2}function Dc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const fp={name:"attention",resolveAll:$O,tokenize:FO};function $O(e,t){let n=-1,r,i,o,l,u,c,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},v={...e[n][1].start};n0(p,-c),n0(v,c),l={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=sr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=sr(f,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=sr(f,Dc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=sr(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=sr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Yn(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function FO(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jo(r);let o;return l;function l(c){return o=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===o)return e.consume(c),u;const f=e.exit("attentionSequence"),h=jo(c),p=!h||h===2&&i||n.includes(c),v=!i||i===2&&h||n.includes(r);return f._open=!!(o===42?p:p&&(i||!v)),f._close=!!(o===42?v:v&&(h||!p)),t(c)}}function n0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const zO={name:"autolink",tokenize:BO};function BO(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(y){return wn(y)?(e.consume(y),l):y===64?n(y):f(y)}function l(y){return y===43||y===45||y===46||hn(y)?(r=1,u(y)):f(y)}function u(y){return y===58?(e.consume(y),r=0,c):(y===43||y===45||y===46||hn(y))&&r++<32?(e.consume(y),u):(r=0,f(y))}function c(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||oc(y)?n(y):(e.consume(y),c)}function f(y){return y===64?(e.consume(y),h):IO(y)?(e.consume(y),f):n(y)}function h(y){return hn(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,h):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):v(y)}function v(y){if((y===45||hn(y))&&r++<63){const S=y===45?v:p;return e.consume(y),S}return n(y)}}const ll={partial:!0,tokenize:UO};function UO(e,t,n){return r;function r(o){return Je(o)?Ze(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||$e(o)?t(o):n(o)}}const _k={continuation:{tokenize:HO},exit:VO,name:"blockQuote",tokenize:WO};function WO(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Je(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function HO(e,t,n){const r=this;return i;function i(l){return Je(l)?Ze(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(_k,t,n)(l)}}function VO(e){e.exit("blockQuote")}const Ck={name:"characterEscape",tokenize:qO};function qO(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return AO(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const jk={name:"characterReference",tokenize:YO};function YO(e,t,n){const r=this;let i=0,o,l;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=hn,h(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=PO,h):(e.enter("characterReferenceValue"),o=7,l=dp,h(p))}function h(p){if(p===59&&i){const v=e.exit("characterReferenceValue");return l===hn&&!lm(r.sliceSerialize(v))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&i++<o?(e.consume(p),h):n(p)}}const r0={partial:!0,tokenize:GO},i0={concrete:!0,name:"codeFenced",tokenize:KO};function KO(e,t,n){const r=this,i={partial:!0,tokenize:O};let o=0,l=0,u;return c;function c(A){return f(A)}function f(A){const B=r.events[r.events.length-1];return o=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,u=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===u?(l++,e.consume(A),h):l<3?n(A):(e.exit("codeFencedFenceSequence"),Je(A)?Ze(e,p,"whitespace")(A):p(A))}function p(A){return A===null||$e(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(r0,w,P)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(A))}function v(A){return A===null||$e(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(A)):Je(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ze(e,y,"whitespace")(A)):A===96&&A===u?n(A):(e.consume(A),v)}function y(A){return A===null||$e(A)?p(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(A))}function S(A){return A===null||$e(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(A)):A===96&&A===u?n(A):(e.consume(A),S)}function w(A){return e.attempt(i,P,_)(A)}function _(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),E}function E(A){return o>0&&Je(A)?Ze(e,N,"linePrefix",o+1)(A):N(A)}function N(A){return A===null||$e(A)?e.check(r0,w,P)(A):(e.enter("codeFlowValue"),C(A))}function C(A){return A===null||$e(A)?(e.exit("codeFlowValue"),N(A)):(e.consume(A),C)}function P(A){return e.exit("codeFenced"),t(A)}function O(A,B,re){let X=0;return L;function L(F){return A.enter("lineEnding"),A.consume(F),A.exit("lineEnding"),$}function $(F){return A.enter("codeFencedFence"),Je(F)?Ze(A,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):Q(F)}function Q(F){return F===u?(A.enter("codeFencedFenceSequence"),Y(F)):re(F)}function Y(F){return F===u?(X++,A.consume(F),Y):X>=l?(A.exit("codeFencedFenceSequence"),Je(F)?Ze(A,q,"whitespace")(F):q(F)):re(F)}function q(F){return F===null||$e(F)?(A.exit("codeFencedFence"),B(F)):re(F)}}}function GO(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const ih={name:"codeIndented",tokenize:QO},JO={partial:!0,tokenize:XO};function QO(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),Ze(e,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?c(f):$e(f)?e.attempt(JO,l,c)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||$e(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function c(f){return e.exit("codeIndented"),t(f)}}function XO(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):$e(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):Ze(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):$e(l)?i(l):n(l)}}const ZO={name:"codeText",previous:tM,resolve:eM,tokenize:nM};function eM(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function tM(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nM(e,t,n){let r=0,i,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),r++,u):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(o=e.enter("codeTextSequence"),i=0,h(p)):$e(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||$e(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),f)}function h(p){return p===96?(e.consume(p),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",f(p))}}class rM{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ka(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ka(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ka(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ka(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ka(this.left,n.reverse())}}}function ka(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Nk(e){const t={};let n=-1,r,i,o,l,u,c,f;const h=new rM(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,iM(h,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return Yn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function iM(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,c=[],f={};let h,p,v=-1,y=n,S=0,w=0;const _=[w];for(;y;){for(;e.get(++i)[1]!==y;);o.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(w=v+1,_.push(w),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):_.pop(),v=_.length;v--;){const E=u.slice(_[v],_[v+1]),N=o.pop();c.push([N,N+E.length-1]),e.splice(N,2,E)}for(c.reverse(),v=-1;++v<c.length;)f[S+c[v][0]]=S+c[v][1],S+=c[v][1]-c[v][0]-1;return f}const sM={resolve:aM,tokenize:lM},oM={partial:!0,tokenize:uM};function aM(e){return Nk(e),e}function lM(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):$e(u)?e.check(oM,l,o)(u):(e.consume(u),i)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function uM(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ze(e,o,"linePrefix")}function o(l){if(l===null||$e(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Tk(e,t,n,r,i,o,l,u,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(E){return E===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(E),e.exit(o),v):E===null||E===32||E===41||oc(E)?n(E):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),w(E))}function v(E){return E===62?(e.enter(o),e.consume(E),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===62?(e.exit("chunkString"),e.exit(u),v(E)):E===null||E===60||$e(E)?n(E):(e.consume(E),E===92?S:y)}function S(E){return E===60||E===62||E===92?(e.consume(E),y):y(E)}function w(E){return!h&&(E===null||E===41||dt(E))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(E)):h<f&&E===40?(e.consume(E),h++,w):E===41?(e.consume(E),h--,w):E===null||E===32||E===40||oc(E)?n(E):(e.consume(E),E===92?_:w)}function _(E){return E===40||E===41||E===92?(e.consume(E),w):w(E)}}function Ik(e,t,n,r,i,o){const l=this;let u=0,c;return f;function f(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(o),h}function h(y){return u>999||y===null||y===91||y===93&&!c||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(e.exit(o),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):$e(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||$e(y)||u++>999?(e.exit("chunkString"),h(y)):(e.consume(y),c||(c=!Je(y)),y===92?v:p)}function v(y){return y===91||y===92||y===93?(e.consume(y),u++,p):p(y)}}function Pk(e,t,n,r,i,o){let l;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),l=v===40?41:v,c):n(v)}function c(v){return v===l?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(o),f(v))}function f(v){return v===l?(e.exit(o),c(l)):v===null?n(v):$e(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Ze(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===l||v===null||$e(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?p:h)}function p(v){return v===l||v===92?(e.consume(v),h):h(v)}}function La(e,t){let n;return r;function r(i){return $e(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Je(i)?Ze(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const cM={name:"definition",tokenize:fM},dM={partial:!0,tokenize:hM};function fM(e,t,n){const r=this;let i;return o;function o(y){return e.enter("definition"),l(y)}function l(y){return Ik.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return i=br(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),c):n(y)}function c(y){return dt(y)?La(e,f)(y):f(y)}function f(y){return Tk(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return e.attempt(dM,p,p)(y)}function p(y){return Je(y)?Ze(e,v,"whitespace")(y):v(y)}function v(y){return y===null||$e(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function hM(e,t,n){return r;function r(u){return dt(u)?La(e,i)(u):n(u)}function i(u){return Pk(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Je(u)?Ze(e,l,"whitespace")(u):l(u)}function l(u){return u===null||$e(u)?t(u):n(u)}}const pM={name:"hardBreakEscape",tokenize:mM};function mM(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return $e(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const gM={name:"headingAtx",resolve:yM,tokenize:vM};function yM(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Yn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function vM(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||dt(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||$e(h)?(e.exit("atxHeading"),t(h)):Je(h)?Ze(e,u,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||dt(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),f)}}const xM=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],s0=["pre","script","style","textarea"],wM={concrete:!0,name:"htmlFlow",resolveTo:SM,tokenize:EM},bM={partial:!0,tokenize:CM},kM={partial:!0,tokenize:_M};function SM(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function EM(e,t,n){const r=this;let i,o,l,u,c;return f;function f(I){return h(I)}function h(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),p}function p(I){return I===33?(e.consume(I),v):I===47?(e.consume(I),o=!0,w):I===63?(e.consume(I),i=3,r.interrupt?t:j):wn(I)?(e.consume(I),l=String.fromCharCode(I),_):n(I)}function v(I){return I===45?(e.consume(I),i=2,y):I===91?(e.consume(I),i=5,u=0,S):wn(I)?(e.consume(I),i=4,r.interrupt?t:j):n(I)}function y(I){return I===45?(e.consume(I),r.interrupt?t:j):n(I)}function S(I){const ce="CDATA[";return I===ce.charCodeAt(u++)?(e.consume(I),u===ce.length?r.interrupt?t:Q:S):n(I)}function w(I){return wn(I)?(e.consume(I),l=String.fromCharCode(I),_):n(I)}function _(I){if(I===null||I===47||I===62||dt(I)){const ce=I===47,le=l.toLowerCase();return!ce&&!o&&s0.includes(le)?(i=1,r.interrupt?t(I):Q(I)):xM.includes(l.toLowerCase())?(i=6,ce?(e.consume(I),E):r.interrupt?t(I):Q(I)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):o?N(I):C(I))}return I===45||hn(I)?(e.consume(I),l+=String.fromCharCode(I),_):n(I)}function E(I){return I===62?(e.consume(I),r.interrupt?t:Q):n(I)}function N(I){return Je(I)?(e.consume(I),N):L(I)}function C(I){return I===47?(e.consume(I),L):I===58||I===95||wn(I)?(e.consume(I),P):Je(I)?(e.consume(I),C):L(I)}function P(I){return I===45||I===46||I===58||I===95||hn(I)?(e.consume(I),P):O(I)}function O(I){return I===61?(e.consume(I),A):Je(I)?(e.consume(I),O):C(I)}function A(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),c=I,B):Je(I)?(e.consume(I),A):re(I)}function B(I){return I===c?(e.consume(I),c=null,X):I===null||$e(I)?n(I):(e.consume(I),B)}function re(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||dt(I)?O(I):(e.consume(I),re)}function X(I){return I===47||I===62||Je(I)?C(I):n(I)}function L(I){return I===62?(e.consume(I),$):n(I)}function $(I){return I===null||$e(I)?Q(I):Je(I)?(e.consume(I),$):n(I)}function Q(I){return I===45&&i===2?(e.consume(I),W):I===60&&i===1?(e.consume(I),Z):I===62&&i===4?(e.consume(I),R):I===63&&i===3?(e.consume(I),j):I===93&&i===5?(e.consume(I),z):$e(I)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(bM,H,Y)(I)):I===null||$e(I)?(e.exit("htmlFlowData"),Y(I)):(e.consume(I),Q)}function Y(I){return e.check(kM,q,H)(I)}function q(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),F}function F(I){return I===null||$e(I)?Y(I):(e.enter("htmlFlowData"),Q(I))}function W(I){return I===45?(e.consume(I),j):Q(I)}function Z(I){return I===47?(e.consume(I),l="",M):Q(I)}function M(I){if(I===62){const ce=l.toLowerCase();return s0.includes(ce)?(e.consume(I),R):Q(I)}return wn(I)&&l.length<8?(e.consume(I),l+=String.fromCharCode(I),M):Q(I)}function z(I){return I===93?(e.consume(I),j):Q(I)}function j(I){return I===62?(e.consume(I),R):I===45&&i===2?(e.consume(I),j):Q(I)}function R(I){return I===null||$e(I)?(e.exit("htmlFlowData"),H(I)):(e.consume(I),R)}function H(I){return e.exit("htmlFlow"),t(I)}}function _M(e,t,n){const r=this;return i;function i(l){return $e(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function CM(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ll,t,n)}}const jM={name:"htmlText",tokenize:NM};function NM(e,t,n){const r=this;let i,o,l;return u;function u(j){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(j),c}function c(j){return j===33?(e.consume(j),f):j===47?(e.consume(j),O):j===63?(e.consume(j),C):wn(j)?(e.consume(j),re):n(j)}function f(j){return j===45?(e.consume(j),h):j===91?(e.consume(j),o=0,S):wn(j)?(e.consume(j),N):n(j)}function h(j){return j===45?(e.consume(j),y):n(j)}function p(j){return j===null?n(j):j===45?(e.consume(j),v):$e(j)?(l=p,Z(j)):(e.consume(j),p)}function v(j){return j===45?(e.consume(j),y):p(j)}function y(j){return j===62?W(j):j===45?v(j):p(j)}function S(j){const R="CDATA[";return j===R.charCodeAt(o++)?(e.consume(j),o===R.length?w:S):n(j)}function w(j){return j===null?n(j):j===93?(e.consume(j),_):$e(j)?(l=w,Z(j)):(e.consume(j),w)}function _(j){return j===93?(e.consume(j),E):w(j)}function E(j){return j===62?W(j):j===93?(e.consume(j),E):w(j)}function N(j){return j===null||j===62?W(j):$e(j)?(l=N,Z(j)):(e.consume(j),N)}function C(j){return j===null?n(j):j===63?(e.consume(j),P):$e(j)?(l=C,Z(j)):(e.consume(j),C)}function P(j){return j===62?W(j):C(j)}function O(j){return wn(j)?(e.consume(j),A):n(j)}function A(j){return j===45||hn(j)?(e.consume(j),A):B(j)}function B(j){return $e(j)?(l=B,Z(j)):Je(j)?(e.consume(j),B):W(j)}function re(j){return j===45||hn(j)?(e.consume(j),re):j===47||j===62||dt(j)?X(j):n(j)}function X(j){return j===47?(e.consume(j),W):j===58||j===95||wn(j)?(e.consume(j),L):$e(j)?(l=X,Z(j)):Je(j)?(e.consume(j),X):W(j)}function L(j){return j===45||j===46||j===58||j===95||hn(j)?(e.consume(j),L):$(j)}function $(j){return j===61?(e.consume(j),Q):$e(j)?(l=$,Z(j)):Je(j)?(e.consume(j),$):X(j)}function Q(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),i=j,Y):$e(j)?(l=Q,Z(j)):Je(j)?(e.consume(j),Q):(e.consume(j),q)}function Y(j){return j===i?(e.consume(j),i=void 0,F):j===null?n(j):$e(j)?(l=Y,Z(j)):(e.consume(j),Y)}function q(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||dt(j)?X(j):(e.consume(j),q)}function F(j){return j===47||j===62||dt(j)?X(j):n(j)}function W(j){return j===62?(e.consume(j),e.exit("htmlTextData"),e.exit("htmlText"),t):n(j)}function Z(j){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),M}function M(j){return Je(j)?Ze(e,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):z(j)}function z(j){return e.enter("htmlTextData"),l(j)}}const um={name:"labelEnd",resolveAll:AM,resolveTo:RM,tokenize:OM},TM={tokenize:MM},IM={tokenize:LM},PM={tokenize:DM};function AM(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Yn(e,0,e.length,n),e}function RM(e,t){let n=e.length,r=0,i,o,l,u;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",c,t],["enter",f,t]],u=sr(u,e.slice(o+1,o+r+3)),u=sr(u,[["enter",h,t]]),u=sr(u,Dc(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=sr(u,[["exit",h,t],e[l-2],e[l-1],["exit",f,t]]),u=sr(u,e.slice(l+1)),u=sr(u,[["exit",c,t]]),Yn(e,o,e.length,u),e}function OM(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(v){return o?o._inactive?p(v):(l=r.parser.defined.includes(br(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):n(v)}function c(v){return v===40?e.attempt(TM,h,l?h:p)(v):v===91?e.attempt(IM,h,l?f:p)(v):l?h(v):p(v)}function f(v){return e.attempt(PM,h,p)(v)}function h(v){return t(v)}function p(v){return o._balanced=!0,n(v)}}function MM(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return dt(p)?La(e,o)(p):o(p)}function o(p){return p===41?h(p):Tk(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return dt(p)?La(e,c)(p):h(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?Pk(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return dt(p)?La(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function LM(e,t,n){const r=this;return i;function i(u){return Ik.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(br(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function DM(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const $M={name:"labelStartImage",resolveAll:um.resolveAll,tokenize:FM};function FM(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const zM={name:"labelStartLink",resolveAll:um.resolveAll,tokenize:BM};function BM(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const sh={name:"lineEnding",tokenize:UM};function UM(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ze(e,t,"linePrefix")}}const Bu={name:"thematicBreak",tokenize:WM};function WM(e,t,n){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||$e(f))?(e.exit("thematicBreak"),t(f)):n(f)}function c(f){return f===i?(e.consume(f),r++,c):(e.exit("thematicBreakSequence"),Je(f)?Ze(e,u,"whitespace")(f):u(f))}}const An={continuation:{tokenize:YM},exit:GM,name:"list",tokenize:qM},HM={partial:!0,tokenize:JM},VM={partial:!0,tokenize:KM};function qM(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(y){const S=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:dp(y)){if(r.containerState.type||(r.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Bu,n,f)(y):f(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(y)}return n(y)}function c(y){return dp(y)&&++l<10?(e.consume(y),c):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),f(y)):n(y)}function f(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(ll,r.interrupt?n:h,e.attempt(HM,v,p))}function h(y){return r.containerState.initialBlankLine=!0,o++,v(y)}function p(y){return Je(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),v):n(y)}function v(y){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function YM(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ll,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ze(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!Je(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(VM,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ze(e,e.attempt(An,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function KM(e,t,n){const r=this;return Ze(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function GM(e){e.exit(this.containerState.type)}function JM(e,t,n){const r=this;return Ze(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!Je(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const o0={name:"setextUnderline",resolveTo:QM,tokenize:XM};function QM(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function XM(e,t,n){const r=this;let i;return o;function o(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Je(f)?Ze(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||$e(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const ZM={tokenize:e2};function e2(e){const t=this,n=e.attempt(ll,r,e.attempt(this.parser.constructs.flowInitial,i,Ze(e,e.attempt(this.parser.constructs.flow,i,e.attempt(sM,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const t2={resolveAll:Rk()},n2=Ak("string"),r2=Ak("text");function Ak(e){return{resolveAll:Rk(e==="text"?i2:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,u);return l;function l(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const p=i[h];let v=-1;if(p)for(;++v<p.length;){const y=p[v];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Rk(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function i2(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,u=0,c;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)c=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const s2={42:An,43:An,45:An,48:An,49:An,50:An,51:An,52:An,53:An,54:An,55:An,56:An,57:An,62:_k},o2={91:cM},a2={[-2]:ih,[-1]:ih,32:ih},l2={35:gM,42:Bu,45:[o0,Bu],60:wM,61:o0,95:Bu,96:i0,126:i0},u2={38:jk,92:Ck},c2={[-5]:sh,[-4]:sh,[-3]:sh,33:$M,38:jk,42:fp,60:[zO,jM],91:zM,92:[pM,Ck],93:um,95:fp,96:ZO},d2={null:[fp,t2]},f2={null:[42,95]},h2={null:[]},p2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:f2,contentInitial:o2,disable:h2,document:s2,flow:l2,flowInitial:a2,insideSpan:d2,string:u2,text:c2},Symbol.toStringTag,{value:"Module"}));function m2(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const c={attempt:B(O),check:B(A),consume:N,enter:C,exit:P,interrupt:B(A,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:S,parser:e,previous:null,sliceSerialize:v,sliceStream:y,write:p};let h=t.tokenize.call(f,c);return t.resolveAll&&o.push(t),f;function p($){return l=sr(l,$),_(),l[l.length-1]!==null?[]:(re(t,0),f.events=Dc(o,f.events,f),f.events)}function v($,Q){return y2(y($),Q)}function y($){return g2(l,$)}function S(){const{_bufferIndex:$,_index:Q,line:Y,column:q,offset:F}=r;return{_bufferIndex:$,_index:Q,line:Y,column:q,offset:F}}function w($){i[$.line]=$.column,L()}function _(){let $;for(;r._index<l.length;){const Q=l[r._index];if(typeof Q=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<Q.length;)E(Q.charCodeAt(r._bufferIndex));else E(Q)}}function E($){h=h($)}function N($){$e($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,L()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=$}function C($,Q){const Y=Q||{};return Y.type=$,Y.start=S(),f.events.push(["enter",Y,f]),u.push(Y),Y}function P($){const Q=u.pop();return Q.end=S(),f.events.push(["exit",Q,f]),Q}function O($,Q){re($,Q.from)}function A($,Q){Q.restore()}function B($,Q){return Y;function Y(q,F,W){let Z,M,z,j;return Array.isArray(q)?H(q):"tokenize"in q?H([q]):R(q);function R(ae){return xe;function xe(ue){const be=ue!==null&&ae[ue],we=ue!==null&&ae.null,_e=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(we)?we:we?[we]:[]];return H(_e)(ue)}}function H(ae){return Z=ae,M=0,ae.length===0?W:I(ae[M])}function I(ae){return xe;function xe(ue){return j=X(),z=ae,ae.partial||(f.currentConstruct=ae),ae.name&&f.parser.constructs.disable.null.includes(ae.name)?le():ae.tokenize.call(Q?Object.assign(Object.create(f),Q):f,c,ce,le)(ue)}}function ce(ae){return $(z,j),F}function le(ae){return j.restore(),++M<Z.length?I(Z[M]):W}}}function re($,Q){$.resolveAll&&!o.includes($)&&o.push($),$.resolve&&Yn(f.events,Q,f.events.length-Q,$.resolve(f.events.slice(Q),f)),$.resolveTo&&(f.events=$.resolveTo(f.events,f))}function X(){const $=S(),Q=f.previous,Y=f.currentConstruct,q=f.events.length,F=Array.from(u);return{from:q,restore:W};function W(){r=$,f.previous=Q,f.currentConstruct=Y,f.events.length=q,u=F,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function g2(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function y2(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function v2(e){const r={constructs:Sk([p2,...(e||{}).extensions||[]]),content:i(RO),defined:[],document:i(MO),flow:i(ZM),lazy:{},string:i(n2),text:i(r2)};return r;function i(o){return l;function l(u){return m2(r,o,u)}}}function x2(e){for(;!Nk(e););return e}const a0=/[\0\t\n\r]/g;function w2(){let e=1,t="",n=!0,r;return i;function i(o,l,u){const c=[];let f,h,p,v,y;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(a0.lastIndex=p,f=a0.exec(o),v=f&&f.index!==void 0?f.index:o.length,y=o.charCodeAt(v),!f){t=o.slice(p);break}if(y===10&&p===v&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<v&&(c.push(o.slice(p,v)),e+=v-p),y){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}p=v+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const b2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function k2(e){return e.replace(b2,S2)}function S2(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Ek(n.slice(o?2:1),o?16:10)}return lm(n)||e}const Ok={}.hasOwnProperty;function E2(e,t,n){return typeof t!="string"&&(n=t,t=void 0),_2(n)(x2(v2(n).document().write(w2()(e,t,!0))))}function _2(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(J),autolinkProtocol:X,autolinkEmail:X,atxHeading:o(Xe),blockQuote:o(we),characterEscape:X,characterReference:X,codeFenced:o(_e),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(_e,l),codeText:o(Fe,l),codeTextData:X,data:X,codeFlowValue:X,definition:o(We),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Oe),hardBreakEscape:o(St),hardBreakTrailing:o(St),htmlFlow:o(tn,l),htmlFlowData:X,htmlText:o(tn,l),htmlTextData:X,image:o(Gn),label:l,link:o(J),listItem:o(de),listItemValue:v,listOrdered:o(oe,p),listUnordered:o(oe),paragraph:o(Ce),reference:I,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Xe),strong:o(ve),thematicBreak:o(te)},exit:{atxHeading:c(),atxHeadingSequence:O,autolink:c(),autolinkEmail:be,autolinkProtocol:ue,blockQuote:c(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ae,characterReference:xe,codeFenced:c(_),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:S,codeFlowValue:L,codeIndented:c(E),codeText:c(F),codeTextData:L,data:L,definition:c(),definitionDestinationString:P,definitionLabelString:N,definitionTitleString:C,emphasis:c(),hardBreakEscape:c(Q),hardBreakTrailing:c(Q),htmlFlow:c(Y),htmlFlowData:L,htmlText:c(q),htmlTextData:L,image:c(Z),label:z,labelText:M,lineEnding:$,link:c(W),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ce,resourceDestinationString:j,resourceTitleString:R,resource:H,setextHeading:c(re),setextHeadingLineSequence:B,setextHeadingText:A,strong:c(),thematicBreak:c()}};Mk(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(K){let ee={type:"root",children:[]};const ge={stack:[ee],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:h,data:n},Pe=[];let ze=-1;for(;++ze<K.length;)if(K[ze][1].type==="listOrdered"||K[ze][1].type==="listUnordered")if(K[ze][0]==="enter")Pe.push(ze);else{const ke=Pe.pop();ze=i(K,ke,ze)}for(ze=-1;++ze<K.length;){const ke=t[K[ze][0]];Ok.call(ke,K[ze][1].type)&&ke[K[ze][1].type].call(Object.assign({sliceSerialize:K[ze][2].sliceSerialize},ge),K[ze][1])}if(ge.tokenStack.length>0){const ke=ge.tokenStack[ge.tokenStack.length-1];(ke[1]||l0).call(ge,void 0,ke[0])}for(ee.position={start:Ci(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Ci(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<t.transforms.length;)ee=t.transforms[ze](ee)||ee;return ee}function i(K,ee,ge){let Pe=ee-1,ze=-1,ke=!1,ut,lt,Ke,xt;for(;++Pe<=ge;){const tt=K[Pe];switch(tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tt[0]==="enter"?ze++:ze--,xt=void 0;break}case"lineEndingBlank":{tt[0]==="enter"&&(ut&&!xt&&!ze&&!Ke&&(Ke=Pe),xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xt=void 0}if(!ze&&tt[0]==="enter"&&tt[1].type==="listItemPrefix"||ze===-1&&tt[0]==="exit"&&(tt[1].type==="listUnordered"||tt[1].type==="listOrdered")){if(ut){let Bt=Pe;for(lt=void 0;Bt--;){const Nt=K[Bt];if(Nt[1].type==="lineEnding"||Nt[1].type==="lineEndingBlank"){if(Nt[0]==="exit")continue;lt&&(K[lt][1].type="lineEndingBlank",ke=!0),Nt[1].type="lineEnding",lt=Bt}else if(!(Nt[1].type==="linePrefix"||Nt[1].type==="blockQuotePrefix"||Nt[1].type==="blockQuotePrefixWhitespace"||Nt[1].type==="blockQuoteMarker"||Nt[1].type==="listItemIndent"))break}Ke&&(!lt||Ke<lt)&&(ut._spread=!0),ut.end=Object.assign({},lt?K[lt][1].start:tt[1].end),K.splice(lt||Pe,0,["exit",ut,tt[2]]),Pe++,ge++}if(tt[1].type==="listItemPrefix"){const Bt={type:"listItem",_spread:!1,start:Object.assign({},tt[1].start),end:void 0};ut=Bt,K.splice(Pe,0,["enter",Bt,tt[2]]),Pe++,ge++,Ke=void 0,xt=!0}}}return K[ee][1]._spread=ke,ge}function o(K,ee){return ge;function ge(Pe){u.call(this,K(Pe),Pe),ee&&ee.call(this,Pe)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(K,ee,ge){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([ee,ge||void 0]),K.position={start:Ci(ee.start),end:void 0}}function c(K){return ee;function ee(ge){K&&K.call(this,ge),f.call(this,ge)}}function f(K,ee){const ge=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==K.type&&(ee?ee.call(this,K,Pe[0]):(Pe[1]||l0).call(this,K,Pe[0]));else throw new Error("Cannot close `"+K.type+"` ("+Ma({start:K.start,end:K.end})+"): its not open");ge.position.end=Ci(K.end)}function h(){return am(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(K){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function y(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=K}function S(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=K}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K.replace(/(\r?\n|\r)$/g,"")}function N(K){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.label=ee,ge.identifier=br(this.sliceSerialize(K)).toLowerCase()}function C(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.title=K}function P(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.url=K}function O(K){const ee=this.stack[this.stack.length-1];if(!ee.depth){const ge=this.sliceSerialize(K).length;ee.depth=ge}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function B(K){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function re(){this.data.setextHeadingSlurpLineEnding=void 0}function X(K){const ge=this.stack[this.stack.length-1].children;let Pe=ge[ge.length-1];(!Pe||Pe.type!=="text")&&(Pe=D(),Pe.position={start:Ci(K.start),end:void 0},ge.push(Pe)),this.stack.push(Pe)}function L(K){const ee=this.stack.pop();ee.value+=this.sliceSerialize(K),ee.position.end=Ci(K.end)}function $(K){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=ee.children[ee.children.length-1];ge.position.end=Ci(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(X.call(this,K),L.call(this,K))}function Q(){this.data.atHardBreak=!0}function Y(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function q(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function F(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function W(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ee,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function Z(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ee,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function M(K){const ee=this.sliceSerialize(K),ge=this.stack[this.stack.length-2];ge.label=k2(ee),ge.identifier=br(ee).toLowerCase()}function z(){const K=this.stack[this.stack.length-1],ee=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Pe=K.children;ge.children=Pe}else ge.alt=ee}function j(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.url=K}function R(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.title=K}function H(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function ce(K){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.label=ee,ge.identifier=br(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function le(K){this.data.characterReferenceType=K.type}function ae(K){const ee=this.sliceSerialize(K),ge=this.data.characterReferenceType;let Pe;ge?(Pe=Ek(ee,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=lm(ee);const ze=this.stack[this.stack.length-1];ze.value+=Pe}function xe(K){const ee=this.stack.pop();ee.position.end=Ci(K.end)}function ue(K){L.call(this,K);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(K)}function be(K){L.call(this,K);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(K)}function we(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function Fe(){return{type:"inlineCode",value:""}}function We(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oe(){return{type:"emphasis",children:[]}}function Xe(){return{type:"heading",depth:0,children:[]}}function St(){return{type:"break"}}function tn(){return{type:"html",value:""}}function Gn(){return{type:"image",title:null,url:"",alt:null}}function J(){return{type:"link",title:null,url:"",children:[]}}function oe(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function de(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function Ce(){return{type:"paragraph",children:[]}}function ve(){return{type:"strong",children:[]}}function D(){return{type:"text",value:""}}function te(){return{type:"thematicBreak"}}}function Ci(e){return{line:e.line,column:e.column,offset:e.offset}}function Mk(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Mk(e,r):C2(e,r)}}function C2(e,t){let n;for(n in t)if(Ok.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function l0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ma({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is still open")}function j2(e){const t=this;t.parser=n;function n(r){return E2(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function N2(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function T2(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function I2(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function P2(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function A2(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function R2(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Mo(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,f),e.applyData(t,f)}function O2(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M2(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Lk(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function L2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Lk(e,t);const i={src:Mo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function D2(e,t){const n={src:Mo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function $2(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function F2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Lk(e,t);const i={href:Mo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function z2(e,t){const n={href:Mo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function B2(e,t,n){const r=e.all(t),i=n?U2(n):Dk(t),o={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?l.push(...h.children):l.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function U2(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Dk(n[r])}return t}function Dk(e){const t=e.spread;return t??e.children.length>1}function W2(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function H2(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function V2(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function q2(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Y2(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=rm(t.children[1]),c=gk(t.children[t.children.length-1]);u&&c&&(l.position={start:u,end:c}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function K2(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let c=-1;const f=[];for(;++c<u;){const p=t.children[c],v={},y=l?l[c]:void 0;y&&(v.align=y);let S={type:"element",tagName:o,properties:v,children:[]};p&&(S.children=e.all(p),e.patch(p,S),S=e.applyData(p,S)),f.push(S)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function G2(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const u0=9,c0=32;function J2(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(d0(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(d0(t.slice(i),i>0,!1)),o.join("")}function d0(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===u0||o===c0;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===u0||o===c0;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Q2(e,t){const n={type:"text",value:J2(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function X2(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Z2={blockquote:N2,break:T2,code:I2,delete:P2,emphasis:A2,footnoteReference:R2,heading:O2,html:M2,imageReference:L2,image:D2,inlineCode:$2,linkReference:F2,link:z2,listItem:B2,list:W2,paragraph:H2,root:V2,strong:q2,table:Y2,tableCell:G2,tableRow:K2,text:Q2,thematicBreak:X2,toml:Tu,yaml:Tu,definition:Tu,footnoteDefinition:Tu};function Tu(){}const $k=-1,$c=0,Da=1,ac=2,cm=3,dm=4,fm=5,hm=6,Fk=7,zk=8,f0=typeof self=="object"?self:globalThis,eL=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case $c:case $k:return n(l,i);case Da:{const u=n([],i);for(const c of l)u.push(r(c));return u}case ac:{const u=n({},i);for(const[c,f]of l)u[r(c)]=r(f);return u}case cm:return n(new Date(l),i);case dm:{const{source:u,flags:c}=l;return n(new RegExp(u,c),i)}case fm:{const u=n(new Map,i);for(const[c,f]of l)u.set(r(c),r(f));return u}case hm:{const u=n(new Set,i);for(const c of l)u.add(r(c));return u}case Fk:{const{name:u,message:c}=l;return n(new f0[u](c),i)}case zk:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new f0[o](l),i)};return r},h0=e=>eL(new Map,e)(0),lo="",{toString:tL}={},{keys:nL}=Object,Sa=e=>{const t=typeof e;if(t!=="object"||!e)return[$c,t];const n=tL.call(e).slice(8,-1);switch(n){case"Array":return[Da,lo];case"Object":return[ac,lo];case"Date":return[cm,lo];case"RegExp":return[dm,lo];case"Map":return[fm,lo];case"Set":return[hm,lo];case"DataView":return[Da,n]}return n.includes("Array")?[Da,n]:n.includes("Error")?[Fk,n]:[ac,n]},Iu=([e,t])=>e===$c&&(t==="function"||t==="symbol"),rL=(e,t,n,r)=>{const i=(l,u)=>{const c=r.push(l)-1;return n.set(u,c),c},o=l=>{if(n.has(l))return n.get(l);let[u,c]=Sa(l);switch(u){case $c:{let h=l;switch(c){case"bigint":u=zk,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([$k],l)}return i([u,h],l)}case Da:{if(c){let v=l;return c==="DataView"?v=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(l)),i([c,[...v]],l)}const h=[],p=i([u,h],l);for(const v of l)h.push(o(v));return p}case ac:{if(c)switch(c){case"BigInt":return i([c,l.toString()],l);case"Boolean":case"Number":case"String":return i([c,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const h=[],p=i([u,h],l);for(const v of nL(l))(e||!Iu(Sa(l[v])))&&h.push([o(v),o(l[v])]);return p}case cm:return i([u,l.toISOString()],l);case dm:{const{source:h,flags:p}=l;return i([u,{source:h,flags:p}],l)}case fm:{const h=[],p=i([u,h],l);for(const[v,y]of l)(e||!(Iu(Sa(v))||Iu(Sa(y))))&&h.push([o(v),o(y)]);return p}case hm:{const h=[],p=i([u,h],l);for(const v of l)(e||!Iu(Sa(v)))&&h.push(o(v));return p}}const{message:f}=l;return i([u,{name:c,message:f}],l)};return o},p0=(e,{json:t,lossy:n}={})=>{const r=[];return rL(!(t||n),!!t,new Map,r)(e),r},lc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?h0(p0(e,t)):structuredClone(e):(e,t)=>h0(p0(e,t));function iL(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function sL(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function oL(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||iL,r=e.options.footnoteBackLabel||sL,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const h=e.all(f),p=String(f.identifier).toUpperCase(),v=Mo(p.toLowerCase());let y=0;const S=[],w=e.footnoteCounts.get(p);for(;w!==void 0&&++y<=w;){S.length>0&&S.push({type:"text",value:" "});let N=typeof n=="string"?n:n(c,y);typeof N=="string"&&(N={type:"text",value:N}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,y),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const N=_.children[_.children.length-1];N&&N.type==="text"?N.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...S)}else h.push(...S);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(h,!0)};e.patch(f,E),u.push(E)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...lc(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Fc=(function(e){if(e==null)return cL;if(typeof e=="function")return zc(e);if(typeof e=="object")return Array.isArray(e)?aL(e):lL(e);if(typeof e=="string")return uL(e);throw new Error("Expected function, string, or object as test")});function aL(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Fc(e[n]);return zc(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function lL(e){const t=e;return zc(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function uL(e){return zc(t);function t(n){return n&&n.type===e}}function zc(e){return t;function t(n,r,i){return!!(dL(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function cL(){return!0}function dL(e){return e!==null&&typeof e=="object"&&"type"in e}const Bk=[],fL=!0,hp=!1,hL="skip";function Uk(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Fc(i),l=r?-1:1;u(e,void 0,[])();function u(c,f,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=Bk,S,w,_;if((!t||o(c,f,h[h.length-1]||void 0))&&(y=pL(n(c,h)),y[0]===hp))return y;if("children"in c&&c.children){const E=c;if(E.children&&y[0]!==hL)for(w=(r?E.children.length:-1)+l,_=h.concat(E);w>-1&&w<E.children.length;){const N=E.children[w];if(S=u(N,w,_)(),S[0]===hp)return S;w=typeof S[1]=="number"?S[1]:w+l}}return y}}}function pL(e){return Array.isArray(e)?e:typeof e=="number"?[fL,e]:e==null?Bk:[e]}function Bc(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),Uk(e,o,u,i);function u(c,f){const h=f[f.length-1],p=h?h.children.indexOf(c):void 0;return l(c,p,h)}}const pp={}.hasOwnProperty,mL={};function gL(e,t){const n=t||mL,r=new Map,i=new Map,o=new Map,l={...Z2,...n.handlers},u={all:f,applyData:vL,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:c,options:n,patch:yL,wrap:wL};return Bc(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,v=String(h.identifier).toUpperCase();p.has(v)||p.set(v,h)}}),u;function c(h,p){const v=h.type,y=u.handlers[v];if(pp.call(u.handlers,v)&&y)return y(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in h){const{children:w,..._}=h,E=lc(_);return E.children=u.all(h),E}return lc(h)}return(u.options.unknownHandler||xL)(u,h,p)}function f(h){const p=[];if("children"in h){const v=h.children;let y=-1;for(;++y<v.length;){const S=u.one(v[y],h);if(S){if(y&&v[y-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=m0(S.value)),!Array.isArray(S)&&S.type==="element")){const w=S.children[0];w&&w.type==="text"&&(w.value=m0(w.value))}Array.isArray(S)?p.push(...S):p.push(S)}}}return p}}function yL(e,t){e.position&&(t.position=sO(e))}function vL(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,lc(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function xL(e,t){const n=t.data||{},r="value"in t&&!(pp.call(n,"hProperties")||pp.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function wL(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function m0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function g0(e,t){const n=gL(e,t),r=n.one(e,void 0),i=oL(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function bL(e,t){return e&&"run"in e?async function(n,r){const i=g0(n,{file:r,...t});await e.run(i,r)}:function(n,r){return g0(n,{file:r,...e||t})}}function y0(e){if(e)throw e}var oh,v0;function kL(){if(v0)return oh;v0=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},l=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return oh=function c(){var f,h,p,v,y,S,w=arguments[0],_=1,E=arguments.length,N=!1;for(typeof w=="boolean"&&(N=w,w=arguments[1]||{},_=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});_<E;++_)if(f=arguments[_],f!=null)for(h in f)p=u(w,h),v=u(f,h),w!==v&&(N&&v&&(o(v)||(y=i(v)))?(y?(y=!1,S=p&&i(p)?p:[]):S=p&&o(p)?p:{},l(w,{name:h,newValue:c(N,S,v)})):typeof v<"u"&&l(w,{name:h,newValue:v}));return w},oh}var SL=kL();const ah=No(SL);function mp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function EL(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(c,...f){const h=e[++o];let p=-1;if(c){l(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?_L(h,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function _L(e,t){let n;return r;function r(...l){const u=e.length>l.length;let c;u&&l.push(i);try{c=e.apply(this,l)}catch(f){const h=f;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(l,...u){n||(n=!0,t(l,...u))}function o(l){i(null,l)}}const Rr={basename:CL,dirname:jL,extname:NL,join:TL,sep:"/"};function CL(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ul(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function jL(e){if(ul(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function NL(e){ul(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function TL(...e){let t=-1,n;for(;++t<e.length;)ul(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":IL(n)}function IL(e){ul(e);const t=e.codePointAt(0)===47;let n=PL(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function PL(e,t){let n="",r=0,i=-1,o=0,l=-1,u,c;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function ul(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const AL={cwd:RL};function RL(){return"/"}function gp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function OL(e){if(typeof e=="string")e=new URL(e);else if(!gp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return ML(e)}function ML(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const lh=["history","path","basename","stem","extname","dirname"];class Wk{constructor(t){let n;t?gp(t)?n={path:t}:typeof t=="string"||LL(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":AL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lh.length;){const o=lh[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)lh.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Rr.basename(this.path):void 0}set basename(t){ch(t,"basename"),uh(t,"basename"),this.path=Rr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rr.dirname(this.path):void 0}set dirname(t){x0(this.basename,"dirname"),this.path=Rr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rr.extname(this.path):void 0}set extname(t){if(uh(t,"extname"),x0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){gp(t)&&(t=OL(t)),ch(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rr.basename(this.path,this.extname):void 0}set stem(t){ch(t,"stem"),uh(t,"stem"),this.path=Rr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new pn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function uh(e,t){if(e&&e.includes(Rr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rr.sep+"`")}function ch(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function x0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function LL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const DL=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),$L={}.hasOwnProperty;class pm extends DL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=EL()}copy(){const t=new pm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(ah(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(hh("data",this.frozen),this.namespace[t]=n,this):$L.call(this.namespace,t)&&this.namespace[t]||void 0:t?(hh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pu(t),r=this.parser||this.Parser;return dh("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),dh("process",this.parser||this.Parser),fh("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=Pu(t),c=r.parse(u);r.run(c,u,function(h,p,v){if(h||!p||!v)return f(h);const y=p,S=r.stringify(y,v);BL(S)?v.value=S:v.result=S,f(h,v)});function f(h,p){h||!p?l(h):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),dh("processSync",this.parser||this.Parser),fh("processSync",this.compiler||this.Compiler),this.process(t,i),b0("processSync","process",n),r;function i(o,l){n=!0,y0(o),r=l}}run(t,n,r){w0(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const c=Pu(n);i.run(t,c,f);function f(h,p,v){const y=p||t;h?u(h):l?l(y):r(void 0,y,v)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),b0("runSync","run",r),i;function o(l,u){y0(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=Pu(n),i=this.compiler||this.Compiler;return fh("stringify",i),w0(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(hh("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;c(h,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=ah(!0,i.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let p=-1,v=-1;for(;++p<r.length;)if(r[p][0]===f){v=p;break}if(v===-1)r.push([f,...h]);else if(h.length>0){let[y,...S]=h;const w=r[v][1];mp(w)&&mp(y)&&(y=ah(!0,w,y)),r[v]=[f,y,...S]}}}}const FL=new pm().freeze();function dh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function fh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function hh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function w0(e){if(!mp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function b0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pu(e){return zL(e)?e:new Wk(e)}function zL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function BL(e){return typeof e=="string"||UL(e)}function UL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const WL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",k0=[],S0={allowDangerousHtml:!0},HL=/^(https?|ircs?|mailto|xmpp)$/i,VL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function qL(e){const t=YL(e),n=KL(e);return GL(t.runSync(t.parse(n),n),e)}function YL(e){const t=e.rehypePlugins||k0,n=e.remarkPlugins||k0,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...S0}:S0;return FL().use(j2).use(n).use(bL,r).use(t)}function KL(e){const t=e.children||"",n=new Wk;return typeof t=="string"&&(n.value=t),n}function GL(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||JL;for(const h of VL)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+WL+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Bc(e,f),cO(e,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function f(h,p,v){if(h.type==="raw"&&v&&typeof p=="number")return l?v.children.splice(p,1):v.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let y;for(y in rh)if(Object.hasOwn(rh,y)&&Object.hasOwn(h.properties,y)){const S=h.properties[y],w=rh[y];(w===null||w.includes(h.tagName))&&(h.properties[y]=c(String(S||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(h,p,v)),y&&v&&typeof p=="number")return u&&h.children?v.children.splice(p,1,...h.children):v.children.splice(p,1),p}}}function JL(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||HL.test(e.slice(0,t))?e:""}function E0(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function QL(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function XL(e,t,n){const i=Fc((n||{}).ignore||[]),o=ZL(t);let l=-1;for(;++l<o.length;)Uk(e,"text",u);function u(f,h){let p=-1,v;for(;++p<h.length;){const y=h[p],S=v?v.children:void 0;if(i(y,S?S.indexOf(y):void 0,v))return;v=y}if(v)return c(f,h)}function c(f,h){const p=h[h.length-1],v=o[l][0],y=o[l][1];let S=0;const _=p.children.indexOf(f);let E=!1,N=[];v.lastIndex=0;let C=v.exec(f.value);for(;C;){const P=C.index,O={index:C.index,input:C.input,stack:[...h,f]};let A=y(...C,O);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?v.lastIndex=P+1:(S!==P&&N.push({type:"text",value:f.value.slice(S,P)}),Array.isArray(A)?N.push(...A):A&&N.push(A),S=P+C[0].length,E=!0),!v.global)break;C=v.exec(f.value)}return E?(S<f.value.length&&N.push({type:"text",value:f.value.slice(S)}),p.children.splice(_,1,...N)):N=[f],_+N.length}}function ZL(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([eD(i[0]),tD(i[1])])}return t}function eD(e){return typeof e=="string"?new RegExp(QL(e),"g"):e}function tD(e){return typeof e=="function"?e:function(){return e}}const ph="phrasing",mh=["autolink","link","image","label"];function nD(){return{transforms:[uD],enter:{literalAutolink:iD,literalAutolinkEmail:gh,literalAutolinkHttp:gh,literalAutolinkWww:gh},exit:{literalAutolink:lD,literalAutolinkEmail:aD,literalAutolinkHttp:sD,literalAutolinkWww:oD}}}function rD(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ph,notInConstruct:mh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ph,notInConstruct:mh},{character:":",before:"[ps]",after:"\\/",inConstruct:ph,notInConstruct:mh}]}}function iD(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function gh(e){this.config.enter.autolinkProtocol.call(this,e)}function sD(e){this.config.exit.autolinkProtocol.call(this,e)}function oD(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function aD(e){this.config.exit.autolinkEmail.call(this,e)}function lD(e){this.exit(e)}function uD(e){XL(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,cD],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),dD]],{ignore:["link","linkReference"]})}function cD(e,t,n,r,i){let o="";if(!Hk(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!fD(n)))return!1;const l=hD(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function dD(e,t,n,r){return!Hk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function fD(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function hD(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=E0(e,"(");let o=E0(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function Hk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||xs(n)||Lc(n))&&(!t||n!==47)}Vk.peek=kD;function pD(){this.buffer()}function mD(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function gD(){this.buffer()}function yD(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function vD(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=br(this.sliceSerialize(e)).toLowerCase(),n.label=t}function xD(e){this.exit(e)}function wD(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=br(this.sliceSerialize(e)).toLowerCase(),n.label=t}function bD(e){this.exit(e)}function kD(){return"["}function Vk(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),l(),o+=i.move("]"),o}function SD(){return{enter:{gfmFootnoteCallString:pD,gfmFootnoteCall:mD,gfmFootnoteDefinitionLabelString:gD,gfmFootnoteDefinition:yD},exit:{gfmFootnoteCallString:vD,gfmFootnoteCall:xD,gfmFootnoteDefinitionLabelString:wD,gfmFootnoteDefinition:bD}}}function ED(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Vk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const u=o.createTracker(l);let c=u.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return c+=u.move(o.safe(o.associationId(r),{before:c,after:"]"})),h(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?qk:_D))),f(),c}}function _D(e,t,n){return t===0?e:qk(e,t,n)}function qk(e,t,n){return(n?"":"    ")+e}const CD=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Yk.peek=PD;function jD(){return{canContainEols:["delete"],enter:{strikethrough:TD},exit:{strikethrough:ID}}}function ND(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:CD}],handlers:{delete:Yk}}}function TD(e){this.enter({type:"delete",children:[]},e)}function ID(e){this.exit(e)}function Yk(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function PD(){return"~"}function AD(e){return e.length}function RD(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||AD,o=[],l=[],u=[],c=[];let f=0,h=-1;for(;++h<e.length;){const w=[],_=[];let E=-1;for(e[h].length>f&&(f=e[h].length);++E<e[h].length;){const N=OD(e[h][E]);if(n.alignDelimiters!==!1){const C=i(N);_[E]=C,(c[E]===void 0||C>c[E])&&(c[E]=C)}w.push(N)}l[h]=w,u[h]=_}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)o[p]=_0(r[p]);else{const w=_0(r);for(;++p<f;)o[p]=w}p=-1;const v=[],y=[];for(;++p<f;){const w=o[p];let _="",E="";w===99?(_=":",E=":"):w===108?_=":":w===114&&(E=":");let N=n.alignDelimiters===!1?1:Math.max(1,c[p]-_.length-E.length);const C=_+"-".repeat(N)+E;n.alignDelimiters!==!1&&(N=_.length+N+E.length,N>c[p]&&(c[p]=N),y[p]=N),v[p]=C}l.splice(1,0,v),u.splice(1,0,y),h=-1;const S=[];for(;++h<l.length;){const w=l[h],_=u[h];p=-1;const E=[];for(;++p<f;){const N=w[p]||"";let C="",P="";if(n.alignDelimiters!==!1){const O=c[p]-(_[p]||0),A=o[p];A===114?C=" ".repeat(O):A===99?O%2?(C=" ".repeat(O/2+.5),P=" ".repeat(O/2-.5)):(C=" ".repeat(O/2),P=C):P=" ".repeat(O)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(C),E.push(N),n.alignDelimiters!==!1&&E.push(P),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&E.push("|")}S.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return S.join(`
`)}function OD(e){return e==null?"":String(e)}function _0(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function MD(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),LD);return i(),l}function LD(e,t,n){return">"+(n?"":" ")+e}function DD(e,t){return C0(e,t.inConstruct,!0)&&!C0(e,t.notInConstruct,!1)}function C0(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function j0(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&DD(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $D(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+t.length,r=n.indexOf(t,i);return l}function FD(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function zD(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function BD(e,t,n,r){const i=zD(n),o=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(FD(e,n)){const p=n.enter("codeIndented"),v=n.indentLines(o,UD);return p(),v}const u=n.createTracker(r),c=i.repeat(Math.max($D(o,i)+1,3)),f=n.enter("codeFenced");let h=u.move(c);if(e.lang){const p=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...u.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...u.current()})),p()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(c),f(),h}function UD(e,t,n){return(n?"":"    ")+e}function mm(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function WD(e,t,n,r){const i=mm(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("[");return f+=c.move(n.safe(n.associationId(e),{before:f,after:"]",...c.current()})),f+=c.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),l(),f}function HD(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ja(e){return"&#x"+e.toString(16).toUpperCase()+";"}function uc(e,t,n){const r=jo(e),i=jo(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Kk.peek=VD;function Kk(e,t,n,r){const i=HD(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=uc(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ja(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=uc(r.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ja(p));const y=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+y}function VD(e,t,n){return n.options.emphasis||"*"}function qD(e,t){let n=!1;return Bc(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,hp}),!!((!e.depth||e.depth<3)&&am(e)&&(t.options.setext||n))}function YD(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(qD(e,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),v=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),h(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const l="#".repeat(i),u=n.enter("headingAtx"),c=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Ja(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),c(),u(),f}Gk.peek=KD;function Gk(e){return e.value||""}function KD(){return"<"}Jk.peek=GD;function Jk(e,t,n,r){const i=mm(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let f=c.move("![");return f+=c.move(n.safe(e.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(e.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=n.enter("destinationRaw"),f+=c.move(n.safe(e.url,{before:f,after:e.title?" ":")",...c.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(e.title,{before:f,after:i,...c.current()})),f+=c.move(i),u()),f+=c.move(")"),l(),f}function GD(){return"!"}Qk.peek=JD;function Qk(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const f=n.safe(e.alt,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function JD(){return"!"}Xk.peek=QD;function Xk(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],u=n.compilePattern(l);let c;if(l.atBreak)for(;c=u.exec(r);){let f=c.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(c.index+1)}}return i+r+i}function QD(){return"`"}function Zk(e,t){const n=am(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}e1.peek=XD;function e1(e,t,n,r){const i=mm(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,c;if(Zk(e,n)){const h=n.stack;n.stack=[],u=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),u(),n.stack=h,p}u=n.enter("link"),c=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(c=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),c(),e.title&&(c=n.enter(`title${o}`),f+=l.move(" "+i),f+=l.move(n.safe(e.title,{before:f,after:i,...l.current()})),f+=l.move(i),c()),f+=l.move(")"),u(),f}function XD(e,t,n){return Zk(e,n)?"<":"["}t1.peek=ZD;function t1(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const f=n.containerPhrasing(e,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function ZD(){return"["}function gm(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function e$(e){const t=gm(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function t$(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function n1(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function n$(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?t$(n):gm(n);const u=e.ordered?l==="."?")":".":e$(n);let c=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),n1(n)===l&&h){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=u),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),f}function r$(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function i$(e,t,n,r){const i=r$(n);let o=n.bulletCurrent||gm(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);const c=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),h);return c(),f;function h(p,v,y){return v?(y?"":" ".repeat(l))+p:(y?o:o+" ".repeat(l-o.length))+p}}function s$(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),i(),l}const o$=Fc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function a$(e,t,n,r){return(e.children.some(function(l){return o$(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function l$(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}r1.peek=u$;function r1(e,t,n,r){const i=l$(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=c.charCodeAt(0),h=uc(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Ja(f)+c.slice(1));const p=c.charCodeAt(c.length-1),v=uc(r.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ja(p));const y=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},u+c+y}function u$(e,t,n){return n.options.strong||"*"}function c$(e,t,n,r){return n.safe(e.value,r)}function d$(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function f$(e,t,n){const r=(n1(n)+(n.options.ruleSpaces?" ":"")).repeat(d$(n));return n.options.ruleSpaces?r.slice(0,-1):r}const i1={blockquote:MD,break:j0,code:BD,definition:WD,emphasis:Kk,hardBreak:j0,heading:YD,html:Gk,image:Jk,imageReference:Qk,inlineCode:Xk,link:e1,linkReference:t1,list:n$,listItem:i$,paragraph:s$,root:a$,strong:r1,text:c$,thematicBreak:f$};function h$(){return{enter:{table:p$,tableData:N0,tableHeader:N0,tableRow:g$},exit:{codeText:y$,table:m$,tableData:yh,tableHeader:yh,tableRow:yh}}}function p$(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function m$(e){this.exit(e),this.data.inTable=void 0}function g$(e){this.enter({type:"tableRow",children:[]},e)}function yh(e){this.exit(e)}function N0(e){this.enter({type:"tableCell",children:[]},e)}function y$(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,v$));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function v$(e,t){return t==="|"?t:e}function x$(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:l,tableCell:c,tableRow:u}};function l(y,S,w,_){return f(h(y,w,_),y.align)}function u(y,S,w,_){const E=p(y,w,_),N=f([E]);return N.slice(0,N.indexOf(`
`))}function c(y,S,w,_){const E=w.enter("tableCell"),N=w.enter("phrasing"),C=w.containerPhrasing(y,{..._,before:o,after:o});return N(),E(),C}function f(y,S){return RD(y,{align:S,alignDelimiters:r,padding:n,stringLength:i})}function h(y,S,w){const _=y.children;let E=-1;const N=[],C=S.enter("table");for(;++E<_.length;)N[E]=p(_[E],S,w);return C(),N}function p(y,S,w){const _=y.children;let E=-1;const N=[],C=S.enter("tableRow");for(;++E<_.length;)N[E]=c(_[E],y,S,w);return C(),N}function v(y,S,w){let _=i1.inlineCode(y,S,w);return w.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function w$(){return{exit:{taskListCheckValueChecked:T0,taskListCheckValueUnchecked:T0,paragraph:k$}}}function b$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:S$}}}function T0(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function k$(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,l;for(;++o<i.length;){const u=i[o];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function S$(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(l);let c=i1.listItem(e,t,n,{...r,...u.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(h){return h+l}}function E$(){return[nD(),SD(),jD(),h$(),w$()]}function _$(e){return{extensions:[rD(),ED(e),ND(),x$(e),b$()]}}const C$={tokenize:A$,partial:!0},s1={tokenize:R$,partial:!0},o1={tokenize:O$,partial:!0},a1={tokenize:M$,partial:!0},j$={tokenize:L$,partial:!0},l1={name:"wwwAutolink",tokenize:I$,previous:c1},u1={name:"protocolAutolink",tokenize:P$,previous:d1},si={name:"emailAutolink",tokenize:T$,previous:f1},Ur={};function N$(){return{text:Ur}}let is=48;for(;is<123;)Ur[is]=si,is++,is===58?is=65:is===91&&(is=97);Ur[43]=si;Ur[45]=si;Ur[46]=si;Ur[95]=si;Ur[72]=[si,u1];Ur[104]=[si,u1];Ur[87]=[si,l1];Ur[119]=[si,l1];function T$(e,t,n){const r=this;let i,o;return l;function l(p){return!yp(p)||!f1.call(r,r.previous)||ym(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(p))}function u(p){return yp(p)?(e.consume(p),u):p===64?(e.consume(p),c):n(p)}function c(p){return p===46?e.check(j$,h,f)(p):p===45||p===95||hn(p)?(o=!0,e.consume(p),c):h(p)}function f(p){return e.consume(p),i=!0,c}function h(p){return o&&i&&wn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function I$(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!c1.call(r,r.previous)||ym(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(C$,e.attempt(s1,e.attempt(o1,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function P$(e,t,n){const r=this;let i="",o=!1;return l;function l(p){return(p===72||p===104)&&d1.call(r,r.previous)&&!ym(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),u):n(p)}function u(p){if(wn(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),u;if(p===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(p),c}return n(p)}function c(p){return p===47?(e.consume(p),o?f:(o=!0,c)):n(p)}function f(p){return p===null||oc(p)||dt(p)||xs(p)||Lc(p)?n(p):e.attempt(s1,e.attempt(o1,h),n)(p)}function h(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function A$(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function R$(e,t,n){let r,i,o;return l;function l(f){return f===46||f===95?e.check(a1,c,u)(f):f===null||dt(f)||xs(f)||f!==45&&Lc(f)?c(f):(o=!0,e.consume(f),l)}function u(f){return f===95?r=!0:(i=r,r=void 0),e.consume(f),l}function c(f){return i||r||!o?n(f):t(f)}}function O$(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(a1,t,o)(l):l===null||dt(l)||xs(l)?t(l):(e.consume(l),i)}function o(l){return l===41&&r++,e.consume(l),i}}function M$(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),i):u===60||u===null||dt(u)||xs(u)?t(u):n(u)}function i(u){return u===null||u===40||u===91||dt(u)||xs(u)?t(u):r(u)}function o(u){return wn(u)?l(u):n(u)}function l(u){return u===59?(e.consume(u),r):wn(u)?(e.consume(u),l):n(u)}}function L$(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return hn(o)?n(o):t(o)}}function c1(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||dt(e)}function d1(e){return!wn(e)}function f1(e){return!(e===47||yp(e))}function yp(e){return e===43||e===45||e===46||e===95||hn(e)}function ym(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const D$={tokenize:V$,partial:!0};function $$(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:U$,continuation:{tokenize:W$},exit:H$}},text:{91:{name:"gfmFootnoteCall",tokenize:B$},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:F$,resolveTo:z$}}}}function F$(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!l||!l._balanced)return n(c);const f=br(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function z$(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function B$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return u;function u(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(o>999||p===93&&!l||p===null||p===91||dt(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(br(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return dt(p)||(l=!0),o++,e.consume(p),p===92?h:f}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function U$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,u;return c;function c(S){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(S){return S===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(S)}function h(S){if(l>999||S===93&&!u||S===null||S===91||dt(S))return n(S);if(S===93){e.exit("chunkString");const w=e.exit("gfmFootnoteDefinitionLabelString");return o=br(r.sliceSerialize(w)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return dt(S)||(u=!0),l++,e.consume(S),S===92?p:h}function p(S){return S===91||S===92||S===93?(e.consume(S),l++,h):h(S)}function v(S){return S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),i.includes(o)||i.push(o),Ze(e,y,"gfmFootnoteDefinitionWhitespace")):n(S)}function y(S){return t(S)}}function W$(e,t,n){return e.check(ll,t,e.attempt(D$,t,n))}function H$(e){e.exit("gfmFootnoteDefinition")}function V$(e,t,n){const r=this;return Ze(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function q$(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,u){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let f=c;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[c][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[c][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[c][1].start)},v=[["enter",h,u],["enter",l[f][1],u],["exit",l[f][1],u],["enter",p,u]],y=u.parser.constructs.insideSpan.null;y&&Yn(v,v.length,0,Dc(y,l.slice(f+1,c),u)),Yn(v,v.length,0,[["exit",p,u],["enter",l[c][1],u],["exit",l[c][1],u],["exit",h,u]]),Yn(l,f-1,c-f+3,v),c=f+v.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}function o(l,u,c){const f=this.previous,h=this.events;let p=0;return v;function v(S){return f===126&&h[h.length-1][1].type!=="characterEscape"?c(S):(l.enter("strikethroughSequenceTemporary"),y(S))}function y(S){const w=jo(f);if(S===126)return p>1?c(S):(l.consume(S),p++,y);if(p<2&&!n)return c(S);const _=l.exit("strikethroughSequenceTemporary"),E=jo(S);return _._open=!E||E===2&&!!w,_._close=!w||w===2&&!!E,u(S)}}}class Y${constructor(){this.map=[]}add(t,n,r){K$(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function K$(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function G$(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function J$(){return{flow:{null:{name:"table",tokenize:Q$,resolveAll:X$}}}}function Q$(e,t,n){const r=this;let i=0,o=0,l;return u;function u(L){let $=r.events.length-1;for(;$>-1;){const q=r.events[$][1].type;if(q==="lineEnding"||q==="linePrefix")$--;else break}const Q=$>-1?r.events[$][1].type:null,Y=Q==="tableHead"||Q==="tableRow"?A:c;return Y===A&&r.parser.lazy[r.now().line]?n(L):Y(L)}function c(L){return e.enter("tableHead"),e.enter("tableRow"),f(L)}function f(L){return L===124||(l=!0,o+=1),h(L)}function h(L){return L===null?n(L):$e(L)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),y):n(L):Je(L)?Ze(e,h,"whitespace")(L):(o+=1,l&&(l=!1,i+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),l=!0,h):(e.enter("data"),p(L)))}function p(L){return L===null||L===124||dt(L)?(e.exit("data"),h(L)):(e.consume(L),L===92?v:p)}function v(L){return L===92||L===124?(e.consume(L),p):p(L)}function y(L){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(L):(e.enter("tableDelimiterRow"),l=!1,Je(L)?Ze(e,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):S(L))}function S(L){return L===45||L===58?_(L):L===124?(l=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),w):O(L)}function w(L){return Je(L)?Ze(e,_,"whitespace")(L):_(L)}function _(L){return L===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),E):L===45?(o+=1,E(L)):L===null||$e(L)?P(L):O(L)}function E(L){return L===45?(e.enter("tableDelimiterFiller"),N(L)):O(L)}function N(L){return L===45?(e.consume(L),N):L===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),C):(e.exit("tableDelimiterFiller"),C(L))}function C(L){return Je(L)?Ze(e,P,"whitespace")(L):P(L)}function P(L){return L===124?S(L):L===null||$e(L)?!l||i!==o?O(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):O(L)}function O(L){return n(L)}function A(L){return e.enter("tableRow"),B(L)}function B(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),B):L===null||$e(L)?(e.exit("tableRow"),t(L)):Je(L)?Ze(e,B,"whitespace")(L):(e.enter("data"),re(L))}function re(L){return L===null||L===124||dt(L)?(e.exit("data"),B(L)):(e.consume(L),L===92?X:re)}function X(L){return L===92||L===124?(e.consume(L),re):re(L)}}function X$(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,c=0,f,h,p;const v=new Y$;for(;++n<e.length;){const y=e[n],S=y[1];y[0]==="enter"?S.type==="tableHead"?(u=!1,c!==0&&(I0(v,t,c,f,h),h=void 0,c=0),f={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},v.add(n,0,[["enter",f,t]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(r=!0,p=void 0,o=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},v.add(n,0,[["enter",h,t]])),i=S.type==="tableDelimiterRow"?2:h?3:1):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],p=Au(v,t,o,i,void 0,p),o=[0,0,0,0]),l[2]=n)):S.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],p=Au(v,t,o,i,void 0,p)),o=l,l=[o[1],n,0,0])):S.type==="tableHead"?(u=!0,c=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(c=n,o[1]!==0?(l[0]=l[1],p=Au(v,t,o,i,n,p)):l[1]!==0&&(p=Au(v,t,l,i,n,p)),i=0):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(l[3]=n)}for(c!==0&&I0(v,t,c,f,h),v.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=G$(t.events,n))}return e}function Au(e,t,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},ho(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=ho(t.events,n[1]);if(o={type:l,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=ho(t.events,n[2]),h=ho(t.events,n[3]),p={type:u,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const v=t.events[n[2]],y=t.events[n[3]];if(v[1].end=Object.assign({},y[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,w=n[3]-n[2]-1;e.add(S,w,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(o.end=Object.assign({},ho(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function I0(e,t,n,r,i){const o=[],l=ho(t.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function ho(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Z$={name:"tasklistCheck",tokenize:t4};function e4(){return{text:{91:Z$}}}function t4(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return dt(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),l):n(c)}function l(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(c)}function u(c){return $e(c)?t(c):Je(c)?e.check({tokenize:n4},t,n)(c):n(c)}}function n4(e,t,n){return Ze(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function r4(e){return Sk([N$(),$$(),q$(e),J$(),e4()])}const i4={};function s4(e){const t=this,n=e||i4,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(r4(n)),o.push(E$()),l.push(_$(n))}const o4=e=>e!=null;function a4(){const e=Ee(t=>t.works);return k.useMemo(()=>{const t=new Map;e.forEach(o=>{var c;const l=(c=o.name)==null?void 0:c.trim();if(!l)return;const u=t.get(l)??[];u.push(o),t.set(l,u)});const n=new Map,r=new Map;t.forEach((o,l)=>{o.length===1?n.set(l,o[0]):o.length>1&&r.set(l,o.filter(o4))});const i=Array.from(n.entries()).map(([o,l])=>({name:o,work:l}));return i.sort((o,l)=>l.name.length-o.name.length||o.name.localeCompare(l.name,"es")),{uniqueByName:n,duplicates:r,entries:i}},[e])}const l4=new RegExp("\\p{L}|\\p{N}","u"),P0=e=>e?l4.test(e):!1,u4=(e,t,n)=>{const r=t===0?void 0:e[t-1],i=n>=e.length?void 0:e[n];return!P0(r)&&!P0(i)},c4=(e,t)=>{const n=[];t.forEach(o=>{let l=0;for(;l<e.length;){const u=e.indexOf(o.name,l);if(u===-1)break;const c=u+o.name.length;u4(e,u,c)&&n.push({start:u,end:c,entry:o}),l=u+o.name.length}}),n.sort((o,l)=>o.start!==l.start?o.start-l.start:l.entry.name.length-o.entry.name.length);const r=[];let i=-1;return n.forEach(o=>{o.start<i||(r.push(o),i=o.end)}),r},d4=e=>e?new Set(["link","linkReference","definition","inlineCode","code"]).has(e.type):!0,f4=e=>{const t=(e==null?void 0:e.entries)??[];return t.length===0?()=>{}:n=>{Bc(n,"text",(r,i,o)=>{if(d4(o)||typeof i!="number"||!o)return;const u=r.value;if(!u)return;const c=c4(u,t);if(c.length===0)return;const f=[];let h=0;c.forEach(p=>{p.start>h&&f.push({type:"text",value:u.slice(h,p.start)}),f.push({type:"link",title:null,url:p.entry.href,children:[{type:"text",value:p.entry.name}]}),h=p.end}),h<u.length&&f.push({type:"text",value:u.slice(h)}),o.children.splice(i,1,...f)})}},h4=e=>{var f,h,p;const t="/sport-planner/".replace(/\/$/,""),r=`${t?`${t}/`:"/"}#/`,i=((f=e.href)==null?void 0:f.startsWith("#/"))??!1,o=((h=e.href)==null?void 0:h.startsWith(r))??!1,l=(((p=e.href)==null?void 0:p.startsWith("/"))??!1)||i||o,u=l?e.rel:e.rel??"noreferrer",c=l?e.target:e.target??"_blank";return g.jsx("a",{...e,className:"text-sky-300 underline decoration-dotted underline-offset-4 hover:text-sky-200",target:c,rel:u})},p4=e=>g.jsx("ul",{...e,className:Re("my-2 list-disc space-y-1 pl-6",e.className)}),m4=e=>g.jsx("ol",{...e,className:Re("my-2 list-decimal space-y-1 pl-6",e.className)}),g4=e=>g.jsx("li",{...e,className:Re("leading-relaxed",e.className)});function y4(e){const t=e.trim(),n=t.match(/^(["'])(.*)(["'])$/s);return n?n[2].trim():t}function v4(e){var l;const n=y4(e.trim()).match(/^\[!([^\]]+)\]([+-])?\s*(.*)$/i);if(!n)return null;const r=n[1].toLowerCase(),o=(((l=n[3])==null?void 0:l.trim())??"")||r;return{type:r,title:o}}function h1(e){return typeof e=="object"&&e!==null&&"props"in e&&"type"in e}function vp(e){return e==null||typeof e=="boolean"?"":typeof e=="string"||typeof e=="number"?String(e):Array.isArray(e)?e.map(vp).join(""):h1(e)?vp(e.props.children):""}const A0={danger:{icon:"",containerClassName:"border-rose-500/25 bg-rose-500/10",titleClassName:"text-rose-200"},warning:{icon:"",containerClassName:"border-amber-500/25 bg-amber-500/10",titleClassName:"text-amber-200"},info:{icon:"",containerClassName:"border-sky-500/25 bg-sky-500/10",titleClassName:"text-sky-200"},note:{icon:"",containerClassName:"border-indigo-500/25 bg-indigo-500/10",titleClassName:"text-indigo-200"},tip:{icon:"",containerClassName:"border-emerald-500/25 bg-emerald-500/10",titleClassName:"text-emerald-200"}},x4=e=>{const{node:t,children:n,...r}=e,i=Array.isArray(n)?n:[n],o=i.findIndex(p=>h1(p)&&p.type==="p"),l=o>=0?i[o]:void 0,u=vp(l).trim(),c=v4(u);if(!c)return g.jsx("blockquote",{...r,children:n});const f=A0[c.type]??A0.info,h=i.filter((p,v)=>v!==o);return g.jsxs("aside",{className:Re("my-4 rounded-2xl border p-5",f.containerClassName),children:[g.jsxs("div",{className:Re("flex items-center gap-2 text-lg font-semibold",f.titleClassName),children:[g.jsx("span",{"aria-hidden":"true",children:f.icon}),g.jsx("span",{children:c.title})]}),g.jsx("div",{className:"mt-3",children:h})]})},w4={a:h4,blockquote:x4,ul:p4,ol:m4,li:g4};function ws({content:e,enableWorkLinks:t=!1}){const{entries:n}=a4(),r=k.useMemo(()=>{if(!t||n.length===0)return null;const o="/sport-planner/".replace(/\/$/,""),u=`${o?`${o}/`:"/"}#/catalog`;return{entries:n.map(({name:c,work:f})=>({name:c,href:`${u}?workId=${encodeURIComponent(f.id)}`}))}},[t,n]),i=k.useMemo(()=>{const o=[s4];return r&&o.push([f4,r]),o},[r]);return e?g.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-display prose-p:leading-relaxed prose-strong:text-white prose-a:text-sky-300",children:g.jsx(qL,{remarkPlugins:i,components:w4,children:e})}):null}function R0(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;if(/^\\d+(\\.\\d+)?$/.test(t))return Math.floor(Number(t));if(/^(\\d+:)+\\d+$/.test(t)){const r=t.split(":").map(i=>Number(i));return r.some(i=>Number.isNaN(i))?null:r.reduce((i,o)=>i*60+o,0)}const n=t.match(/^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s?)?$/i);if(n){const r=n[1]?Number(n[1]):0,i=n[2]?Number(n[2]):0,o=n[3]?Number(n[3]):0;if(r||i||o)return r*3600+i*60+o}return null}function b4(e){if(!e)return null;try{const t=new URL(e),n=t.hostname.replace("www.","");let r="";if(n==="youtu.be"?r=t.pathname.slice(1).split("/")[0]??"":n.endsWith("youtube.com")?t.searchParams.has("v")?r=t.searchParams.get("v")??"":(t.pathname.startsWith("/shorts/")||t.pathname.startsWith("/embed/"))&&(r=t.pathname.split("/")[2]??""):n==="youtube-nocookie.com"&&t.pathname.startsWith("/embed/")&&(r=t.pathname.split("/")[2]??""),!r)return null;const i=new URL(`https://www.youtube-nocookie.com/embed/${r}`),o=R0(t.searchParams.get("start")??t.searchParams.get("t"));o!==null&&i.searchParams.set("start",String(o));const l=R0(t.searchParams.get("end"));l!==null&&i.searchParams.set("end",String(l));const u=t.searchParams.get("list");return u&&i.searchParams.set("list",u),i.toString()}catch{return null}}function Uc({url:e,title:t,maxWidth:n=300,className:r}){const i=e.trim();if(!i)return null;const o=b4(i);return o?g.jsx("div",{className:Re("flex w-full justify-center",r),children:g.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-black shadow-inner shadow-black/50",style:{maxWidth:n},children:g.jsx("iframe",{src:o,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"block w-full",style:{aspectRatio:"16 / 9"}})})}):g.jsx("div",{className:Re("flex w-full justify-center",r),children:g.jsx("a",{href:i,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold text-amber-200 transition hover:border-amber-400 hover:text-white",children:"URL no reconocida, abrir enlace"})})}function k4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Wc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function vm(e){return"nodeType"in e}function Ln(e){var t,n;return e?Lo(e)?e:vm(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function xm(e){const{Document:t}=Ln(e);return e instanceof t}function cl(e){return Lo(e)?!1:e instanceof Ln(e).HTMLElement}function p1(e){return e instanceof Ln(e).SVGElement}function Do(e){return e?Lo(e)?e.document:vm(e)?xm(e)?e:cl(e)||p1(e)?e.ownerDocument:document:document:document}const Fr=Wc?k.useLayoutEffect:k.useEffect;function wm(e){const t=k.useRef(e);return Fr(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function S4(){const e=k.useRef(null),t=k.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Qa(e,t){t===void 0&&(t=[e]);const n=k.useRef(e);return Fr(()=>{n.current!==e&&(n.current=e)},t),n}function dl(e,t){const n=k.useRef();return k.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function cc(e){const t=wm(e),n=k.useRef(null),r=k.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function xp(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let vh={};function fl(e,t){return k.useMemo(()=>{if(t)return t;const n=vh[e]==null?0:vh[e]+1;return vh[e]=n,e+"-"+n},[e,t])}function m1(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[c,f]of u){const h=o[c];h!=null&&(o[c]=h+e*f)}return o},{...t})}}const bo=m1(1),dc=m1(-1);function E4(e){return"clientX"in e&&"clientY"in e}function bm(e){if(!e)return!1;const{KeyboardEvent:t}=Ln(e.target);return t&&e instanceof t}function _4(e){if(!e)return!1;const{TouchEvent:t}=Ln(e.target);return t&&e instanceof t}function wp(e){if(_4(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return E4(e)?{x:e.clientX,y:e.clientY}:null}const Xa=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Xa.Translate.toString(e),Xa.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),O0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function C4(e){return e.matches(O0)?e:e.querySelector(O0)}const j4={display:"none"};function N4(e){let{id:t,value:n}=e;return Se.createElement("div",{id:t,style:j4},n)}function T4(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Se.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function I4(){const[e,t]=k.useState("");return{announce:k.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const g1=k.createContext(null);function P4(e){const t=k.useContext(g1);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function A4(){const[e]=k.useState(()=>new Set),t=k.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[k.useCallback(r=>{let{type:i,event:o}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,o)})},[e]),t]}const R4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},O4={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function M4(e){let{announcements:t=O4,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=R4}=e;const{announce:o,announcement:l}=I4(),u=fl("DndLiveRegion"),[c,f]=k.useState(!1);if(k.useEffect(()=>{f(!0)},[]),P4(k.useMemo(()=>({onDragStart(p){let{active:v}=p;o(t.onDragStart({active:v}))},onDragMove(p){let{active:v,over:y}=p;t.onDragMove&&o(t.onDragMove({active:v,over:y}))},onDragOver(p){let{active:v,over:y}=p;o(t.onDragOver({active:v,over:y}))},onDragEnd(p){let{active:v,over:y}=p;o(t.onDragEnd({active:v,over:y}))},onDragCancel(p){let{active:v,over:y}=p;o(t.onDragCancel({active:v,over:y}))}}),[o,t])),!c)return null;const h=Se.createElement(Se.Fragment,null,Se.createElement(N4,{id:r,value:i.draggable}),Se.createElement(T4,{id:u,announcement:l}));return n?Vn.createPortal(h,n):h}var Vt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Vt||(Vt={}));function fc(){}const Er=Object.freeze({x:0,y:0});function L4(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function D4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function $4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function F4(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function M0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const z4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=M0(t,t.left,t.top),o=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const f=L4(M0(c),i);o.push({id:u,data:{droppableContainer:l,value:f}})}}return o.sort(D4)};function B4(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=o-n;if(r<i&&n<o){const c=t.width*t.height,f=e.width*e.height,h=l*u,p=h/(c+f-h);return Number(p.toFixed(4))}return 0}const U4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const c=B4(u,t);c>0&&i.push({id:l,data:{droppableContainer:o,value:c}})}}return i.sort($4)};function W4(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function y1(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Er}function H4(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const V4=H4(1);function q4(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Y4(e,t,n){const r=q4(t);if(!r)return e;const{scaleX:i,scaleY:o,x:l,y:u}=r,c=e.left-l-(1-i)*parseFloat(n),f=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?e.width/i:e.width,p=o?e.height/o:e.height;return{width:h,height:p,top:f,right:c+h,bottom:f+p,left:c}}const K4={ignoreTransform:!1};function $o(e,t){t===void 0&&(t=K4);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=Ln(e).getComputedStyle(e);f&&(n=Y4(n,f,h))}const{top:r,left:i,width:o,height:l,bottom:u,right:c}=n;return{top:r,left:i,width:o,height:l,bottom:u,right:c}}function L0(e){return $o(e,{ignoreTransform:!0})}function G4(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function J4(e,t){return t===void 0&&(t=Ln(e).getComputedStyle(e)),t.position==="fixed"}function Q4(e,t){t===void 0&&(t=Ln(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function km(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(xm(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!cl(i)||p1(i)||n.includes(i))return n;const o=Ln(e).getComputedStyle(i);return i!==e&&Q4(i,o)&&n.push(i),J4(i,o)?n:r(i.parentNode)}return e?r(e):n}function v1(e){const[t]=km(e,1);return t??null}function xh(e){return!Wc||!e?null:Lo(e)?e:vm(e)?xm(e)||e===Do(e).scrollingElement?window:cl(e)?e:null:null}function x1(e){return Lo(e)?e.scrollX:e.scrollLeft}function w1(e){return Lo(e)?e.scrollY:e.scrollTop}function bp(e){return{x:x1(e),y:w1(e)}}var Qt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Qt||(Qt={}));function b1(e){return!Wc||!e?!1:e===document.scrollingElement}function k1(e){const t={x:0,y:0},n=b1(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const X4={x:.2,y:.2};function Z4(e,t,n,r,i){let{top:o,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=X4);const{isTop:f,isBottom:h,isLeft:p,isRight:v}=k1(e),y={x:0,y:0},S={x:0,y:0},w={height:t.height*i.y,width:t.width*i.x};return!f&&o<=t.top+w.height?(y.y=Qt.Backward,S.y=r*Math.abs((t.top+w.height-o)/w.height)):!h&&c>=t.bottom-w.height&&(y.y=Qt.Forward,S.y=r*Math.abs((t.bottom-w.height-c)/w.height)),!v&&u>=t.right-w.width?(y.x=Qt.Forward,S.x=r*Math.abs((t.right-w.width-u)/w.width)):!p&&l<=t.left+w.width&&(y.x=Qt.Backward,S.x=r*Math.abs((t.left+w.width-l)/w.width)),{direction:y,speed:S}}function eF(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function S1(e){return e.reduce((t,n)=>bo(t,bp(n)),Er)}function tF(e){return e.reduce((t,n)=>t+x1(n),0)}function nF(e){return e.reduce((t,n)=>t+w1(n),0)}function rF(e,t){if(t===void 0&&(t=$o),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);v1(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const iF=[["x",["left","right"],tF],["y",["top","bottom"],nF]];class Sm{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=km(n),i=S1(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,u]of iF)for(const c of l)Object.defineProperty(this,c,{get:()=>{const f=u(r),h=i[o]-f;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $a{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function sF(e){const{EventTarget:t}=Ln(e);return e instanceof t?e:Do(e)}function wh(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ir;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ir||(ir={}));function D0(e){e.preventDefault()}function oF(e){e.stopPropagation()}var st;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(st||(st={}));const E1={start:[st.Space,st.Enter],cancel:[st.Esc],end:[st.Space,st.Enter,st.Tab]},aF=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case st.Right:return{...n,x:n.x+25};case st.Left:return{...n,x:n.x-25};case st.Down:return{...n,y:n.y+25};case st.Up:return{...n,y:n.y-25}}};class _1{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new $a(Do(n)),this.windowListeners=new $a(Ln(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ir.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&rF(r),n(Er)}handleKeyDown(t){if(bm(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=E1,coordinateGetter:l=aF,scrollBehavior:u="smooth"}=i,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:Er;this.referenceCoordinates||(this.referenceCoordinates=h);const p=l(t,{active:n,context:r.current,currentCoordinates:h});if(p){const v=dc(p,h),y={x:0,y:0},{scrollableAncestors:S}=r.current;for(const w of S){const _=t.code,{isTop:E,isRight:N,isLeft:C,isBottom:P,maxScroll:O,minScroll:A}=k1(w),B=eF(w),re={x:Math.min(_===st.Right?B.right-B.width/2:B.right,Math.max(_===st.Right?B.left:B.left+B.width/2,p.x)),y:Math.min(_===st.Down?B.bottom-B.height/2:B.bottom,Math.max(_===st.Down?B.top:B.top+B.height/2,p.y))},X=_===st.Right&&!N||_===st.Left&&!C,L=_===st.Down&&!P||_===st.Up&&!E;if(X&&re.x!==p.x){const $=w.scrollLeft+v.x,Q=_===st.Right&&$<=O.x||_===st.Left&&$>=A.x;if(Q&&!v.y){w.scrollTo({left:$,behavior:u});return}Q?y.x=w.scrollLeft-$:y.x=_===st.Right?w.scrollLeft-O.x:w.scrollLeft-A.x,y.x&&w.scrollBy({left:-y.x,behavior:u});break}else if(L&&re.y!==p.y){const $=w.scrollTop+v.y,Q=_===st.Down&&$<=O.y||_===st.Up&&$>=A.y;if(Q&&!v.x){w.scrollTo({top:$,behavior:u});return}Q?y.y=w.scrollTop-$:y.y=_===st.Down?w.scrollTop-O.y:w.scrollTop-A.y,y.y&&w.scrollBy({top:-y.y,behavior:u});break}}this.handleMove(t,bo(dc(p,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_1.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=E1,onActivation:i}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function $0(e){return!!(e&&"distance"in e)}function F0(e){return!!(e&&"delay"in e)}class Em{constructor(t,n,r){var i;r===void 0&&(r=sF(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Do(l),this.documentListeners=new $a(this.document),this.listeners=new $a(r),this.windowListeners=new $a(Ln(l)),this.initialCoordinates=(i=wp(o))!=null?i:Er,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.DragStart,D0),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),this.windowListeners.add(ir.ContextMenu,D0),this.documentListeners.add(ir.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(F0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if($0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ir.Click,oF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ir.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!i)return;const c=(n=wp(t))!=null?n:Er,f=dc(i,c);if(!r&&u){if($0(u)){if(u.tolerance!=null&&wh(f,u.tolerance))return this.handleCancel();if(wh(f,u.distance))return this.handleStart()}if(F0(u)&&wh(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===st.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const lF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class C1 extends Em{constructor(t){const{event:n}=t,r=Do(n.target);super(t,lF,r)}}C1.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const uF={move:{name:"mousemove"},end:{name:"mouseup"}};var kp;(function(e){e[e.RightClick=2]="RightClick"})(kp||(kp={}));class cF extends Em{constructor(t){super(t,uF,Do(t.event.target))}}cF.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===kp.RightClick?!1:(r==null||r({event:n}),!0)}}];const bh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class dF extends Em{constructor(t){super(t,bh)}static setup(){return window.addEventListener(bh.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(bh.move.name,t)};function t(){}}}dF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Fa;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fa||(Fa={}));var hc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(hc||(hc={}));function fF(e){let{acceleration:t,activator:n=Fa.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:l=5,order:u=hc.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:h,delta:p,threshold:v}=e;const y=pF({delta:p,disabled:!o}),[S,w]=S4(),_=k.useRef({x:0,y:0}),E=k.useRef({x:0,y:0}),N=k.useMemo(()=>{switch(n){case Fa.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Fa.DraggableRect:return i}},[n,i,c]),C=k.useRef(null),P=k.useCallback(()=>{const A=C.current;if(!A)return;const B=_.current.x*E.current.x,re=_.current.y*E.current.y;A.scrollBy(B,re)},[]),O=k.useMemo(()=>u===hc.TreeOrder?[...f].reverse():f,[u,f]);k.useEffect(()=>{if(!o||!f.length||!N){w();return}for(const A of O){if((r==null?void 0:r(A))===!1)continue;const B=f.indexOf(A),re=h[B];if(!re)continue;const{direction:X,speed:L}=Z4(A,re,N,t,v);for(const $ of["x","y"])y[$][X[$]]||(L[$]=0,X[$]=0);if(L.x>0||L.y>0){w(),C.current=A,S(P,l),_.current=L,E.current=X;return}}_.current={x:0,y:0},E.current={x:0,y:0},w()},[t,P,r,w,o,l,JSON.stringify(N),JSON.stringify(y),S,f,O,h,JSON.stringify(v)])}const hF={x:{[Qt.Backward]:!1,[Qt.Forward]:!1},y:{[Qt.Backward]:!1,[Qt.Forward]:!1}};function pF(e){let{delta:t,disabled:n}=e;const r=xp(t);return dl(i=>{if(n||!r||!i)return hF;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Qt.Backward]:i.x[Qt.Backward]||o.x===-1,[Qt.Forward]:i.x[Qt.Forward]||o.x===1},y:{[Qt.Backward]:i.y[Qt.Backward]||o.y===-1,[Qt.Forward]:i.y[Qt.Forward]||o.y===1}}},[n,t,r])}function mF(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return dl(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function gF(e,t){return k.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...o]},[]),[e,t])}var Za;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Za||(Za={}));var Sp;(function(e){e.Optimized="optimized"})(Sp||(Sp={}));const z0=new Map;function yF(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,l]=k.useState(null),{frequency:u,measure:c,strategy:f}=i,h=k.useRef(e),p=_(),v=Qa(p),y=k.useCallback(function(E){E===void 0&&(E=[]),!v.current&&l(N=>N===null?E:N.concat(E.filter(C=>!N.includes(C))))},[v]),S=k.useRef(null),w=dl(E=>{if(p&&!n)return z0;if(!E||E===z0||h.current!==e||o!=null){const N=new Map;for(let C of e){if(!C)continue;if(o&&o.length>0&&!o.includes(C.id)&&C.rect.current){N.set(C.id,C.rect.current);continue}const P=C.node.current,O=P?new Sm(c(P),P):null;C.rect.current=O,O&&N.set(C.id,O)}return N}return E},[e,o,n,p,c]);return k.useEffect(()=>{h.current=e},[e]),k.useEffect(()=>{p||y()},[n,p]),k.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),k.useEffect(()=>{p||typeof u!="number"||S.current!==null||(S.current=setTimeout(()=>{y(),S.current=null},u))},[u,p,y,...r]),{droppableRects:w,measureDroppableContainers:y,measuringScheduled:o!=null};function _(){switch(f){case Za.Always:return!1;case Za.BeforeDragging:return n;default:return!n}}}function j1(e,t){return dl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function vF(e,t){return j1(e,t)}function xF(e){let{callback:t,disabled:n}=e;const r=wm(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Hc(e){let{callback:t,disabled:n}=e;const r=wm(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function wF(e){return new Sm($o(e),e)}function B0(e,t,n){t===void 0&&(t=wF);const[r,i]=k.useState(null);function o(){i(c=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=c??n)!=null?f:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const l=xF({callback(c){if(e)for(const f of c){const{type:h,target:p}=f;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){o();break}}}}),u=Hc({callback:o});return Fr(()=>{o(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function bF(e){const t=j1(e);return y1(e,t)}const U0=[];function kF(e){const t=k.useRef(e),n=dl(r=>e?r&&r!==U0&&e&&t.current&&e.parentNode===t.current.parentNode?r:km(e):U0,[e]);return k.useEffect(()=>{t.current=e},[e]),n}function SF(e){const[t,n]=k.useState(null),r=k.useRef(e),i=k.useCallback(o=>{const l=xh(o.target);l&&n(u=>u?(u.set(l,bp(l)),new Map(u)):null)},[]);return k.useEffect(()=>{const o=r.current;if(e!==o){l(o);const u=e.map(c=>{const f=xh(c);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,bp(f)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(o)};function l(u){u.forEach(c=>{const f=xh(c);f==null||f.removeEventListener("scroll",i)})}},[i,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>bo(o,l),Er):S1(e):Er,[e,t])}function W0(e,t){t===void 0&&(t=[]);const n=k.useRef(null);return k.useEffect(()=>{n.current=null},t),k.useEffect(()=>{const r=e!==Er;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?dc(e,n.current):Er}function EF(e){k.useEffect(()=>{if(!Wc)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function _F(e,t){return k.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=l=>{o(l,t)},n},{}),[e,t])}function N1(e){return k.useMemo(()=>e?G4(e):null,[e])}const H0=[];function CF(e,t){t===void 0&&(t=$o);const[n]=e,r=N1(n?Ln(n):null),[i,o]=k.useState(H0);function l(){o(()=>e.length?e.map(c=>b1(c)?r:new Sm(t(c),c)):H0)}const u=Hc({callback:l});return Fr(()=>{u==null||u.disconnect(),l(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),i}function jF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return cl(t)?t:e}function NF(e){let{measure:t}=e;const[n,r]=k.useState(null),i=k.useCallback(f=>{for(const{target:h}of f)if(cl(h)){r(p=>{const v=t(h);return p?{...p,width:v.width,height:v.height}:v});break}},[t]),o=Hc({callback:i}),l=k.useCallback(f=>{const h=jF(f);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[u,c]=cc(l);return k.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const TF=[{sensor:C1,options:{}},{sensor:_1,options:{}}],IF={current:{}},Uu={draggable:{measure:L0},droppable:{measure:L0,strategy:Za.WhileDragging,frequency:Sp.Optimized},dragOverlay:{measure:$o}};class za extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const PF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new za,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uu,measureDroppableContainers:fc,windowRect:null,measuringScheduled:!1},AF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fc,draggableNodes:new Map,over:null,measureDroppableContainers:fc},Vc=k.createContext(AF),T1=k.createContext(PF);function RF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new za}}}function OF(e,t){switch(t.type){case Vt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Vt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Vt.DragEnd:case Vt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vt.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new za(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Vt.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new za(e.droppable.containers);return l.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case Vt.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new za(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function MF(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=k.useContext(Vc),o=xp(r),l=xp(n==null?void 0:n.id);return k.useEffect(()=>{if(!t&&!r&&o&&l!=null){if(!bm(o)||document.activeElement===o.target)return;const u=i.get(l);if(!u)return;const{activatorNode:c,node:f}=u;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[c.current,f.current]){if(!h)continue;const p=C4(h);if(p){p.focus();break}}})}},[r,t,i,l,o]),null}function LF(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function DF(e){return k.useMemo(()=>({draggable:{...Uu.draggable,...e==null?void 0:e.draggable},droppable:{...Uu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Uu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function $F(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=k.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;Fr(()=>{if(!l&&!u||!t){o.current=!1;return}if(o.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),p=y1(h,r);if(l||(p.x=0),u||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=v1(f);v&&v.scrollBy({top:p.y,left:p.x})}},[t,l,u,r,n])}const I1=k.createContext({...Er,scaleX:1,scaleY:1});var Ti;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ti||(Ti={}));const FF=k.memo(function(t){var n,r,i,o;let{id:l,accessibility:u,autoScroll:c=!0,children:f,sensors:h=TF,collisionDetection:p=U4,measuring:v,modifiers:y,...S}=t;const w=k.useReducer(OF,void 0,RF),[_,E]=w,[N,C]=A4(),[P,O]=k.useState(Ti.Uninitialized),A=P===Ti.Initialized,{draggable:{active:B,nodes:re,translate:X},droppable:{containers:L}}=_,$=B!=null?re.get(B):null,Q=k.useRef({initial:null,translated:null}),Y=k.useMemo(()=>{var mt;return B!=null?{id:B,data:(mt=$==null?void 0:$.data)!=null?mt:IF,rect:Q}:null},[B,$]),q=k.useRef(null),[F,W]=k.useState(null),[Z,M]=k.useState(null),z=Qa(S,Object.values(S)),j=fl("DndDescribedBy",l),R=k.useMemo(()=>L.getEnabled(),[L]),H=DF(v),{droppableRects:I,measureDroppableContainers:ce,measuringScheduled:le}=yF(R,{dragging:A,dependencies:[X.x,X.y],config:H.droppable}),ae=mF(re,B),xe=k.useMemo(()=>Z?wp(Z):null,[Z]),ue=gn(),be=vF(ae,H.draggable.measure);$F({activeNode:B!=null?re.get(B):null,config:ue.layoutShiftCompensation,initialRect:be,measure:H.draggable.measure});const we=B0(ae,H.draggable.measure,be),_e=B0(ae?ae.parentElement:null),Fe=k.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:I,draggableNodes:re,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),We=L.getNodeFor((n=Fe.current.over)==null?void 0:n.id),Oe=NF({measure:H.dragOverlay.measure}),Xe=(r=Oe.nodeRef.current)!=null?r:ae,St=A?(i=Oe.rect)!=null?i:we:null,tn=!!(Oe.nodeRef.current&&Oe.rect),Gn=bF(tn?null:we),J=N1(Xe?Ln(Xe):null),oe=kF(A?We??ae:null),de=CF(oe),Ce=LF(y,{transform:{x:X.x-Gn.x,y:X.y-Gn.y,scaleX:1,scaleY:1},activatorEvent:Z,active:Y,activeNodeRect:we,containerNodeRect:_e,draggingNodeRect:St,over:Fe.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:oe,scrollableAncestorRects:de,windowRect:J}),ve=xe?bo(xe,X):null,D=SF(oe),te=W0(D),K=W0(D,[we]),ee=bo(Ce,te),ge=St?V4(St,Ce):null,Pe=Y&&ge?p({active:Y,collisionRect:ge,droppableRects:I,droppableContainers:R,pointerCoordinates:ve}):null,ze=F4(Pe,"id"),[ke,ut]=k.useState(null),lt=tn?Ce:bo(Ce,K),Ke=W4(lt,(o=ke==null?void 0:ke.rect)!=null?o:null,we),xt=k.useRef(null),tt=k.useCallback((mt,Ye)=>{let{sensor:it,options:nt}=Ye;if(q.current==null)return;const wt=re.get(q.current);if(!wt)return;const nn=mt.nativeEvent,En=new it({active:q.current,activeNode:wt,event:nn,options:nt,context:Fe,onAbort(Et){if(!re.get(Et))return;const{onDragAbort:rn}=z.current,ar={id:Et};rn==null||rn(ar),N({type:"onDragAbort",event:ar})},onPending(Et,Jn,rn,ar){if(!re.get(Et))return;const{onDragPending:_r}=z.current,Dn={id:Et,constraint:Jn,initialCoordinates:rn,offset:ar};_r==null||_r(Dn),N({type:"onDragPending",event:Dn})},onStart(Et){const Jn=q.current;if(Jn==null)return;const rn=re.get(Jn);if(!rn)return;const{onDragStart:ar}=z.current,lr={activatorEvent:nn,active:{id:Jn,data:rn.data,rect:Q}};Vn.unstable_batchedUpdates(()=>{ar==null||ar(lr),O(Ti.Initializing),E({type:Vt.DragStart,initialCoordinates:Et,active:Jn}),N({type:"onDragStart",event:lr}),W(xt.current),M(nn)})},onMove(Et){E({type:Vt.DragMove,coordinates:Et})},onEnd:Wr(Vt.DragEnd),onCancel:Wr(Vt.DragCancel)});xt.current=En;function Wr(Et){return async function(){const{active:rn,collisions:ar,over:lr,scrollAdjustedTranslate:_r}=Fe.current;let Dn=null;if(rn&&_r){const{cancelDrop:Hr}=z.current;Dn={activatorEvent:nn,active:rn,collisions:ar,delta:_r,over:lr},Et===Vt.DragEnd&&typeof Hr=="function"&&await Promise.resolve(Hr(Dn))&&(Et=Vt.DragCancel)}q.current=null,Vn.unstable_batchedUpdates(()=>{E({type:Et}),O(Ti.Uninitialized),ut(null),W(null),M(null),xt.current=null;const Hr=Et===Vt.DragEnd?"onDragEnd":"onDragCancel";if(Dn){const Fo=z.current[Hr];Fo==null||Fo(Dn),N({type:Hr,event:Dn})}})}}},[re]),Bt=k.useCallback((mt,Ye)=>(it,nt)=>{const wt=it.nativeEvent,nn=re.get(nt);if(q.current!==null||!nn||wt.dndKit||wt.defaultPrevented)return;const En={active:nn};mt(it,Ye.options,En)===!0&&(wt.dndKit={capturedBy:Ye.sensor},q.current=nt,tt(it,Ye))},[re,tt]),Nt=gF(h,Bt);EF(h),Fr(()=>{we&&P===Ti.Initializing&&O(Ti.Initialized)},[we,P]),k.useEffect(()=>{const{onDragMove:mt}=z.current,{active:Ye,activatorEvent:it,collisions:nt,over:wt}=Fe.current;if(!Ye||!it)return;const nn={active:Ye,activatorEvent:it,collisions:nt,delta:{x:ee.x,y:ee.y},over:wt};Vn.unstable_batchedUpdates(()=>{mt==null||mt(nn),N({type:"onDragMove",event:nn})})},[ee.x,ee.y]),k.useEffect(()=>{const{active:mt,activatorEvent:Ye,collisions:it,droppableContainers:nt,scrollAdjustedTranslate:wt}=Fe.current;if(!mt||q.current==null||!Ye||!wt)return;const{onDragOver:nn}=z.current,En=nt.get(ze),Wr=En&&En.rect.current?{id:En.id,rect:En.rect.current,data:En.data,disabled:En.disabled}:null,Et={active:mt,activatorEvent:Ye,collisions:it,delta:{x:wt.x,y:wt.y},over:Wr};Vn.unstable_batchedUpdates(()=>{ut(Wr),nn==null||nn(Et),N({type:"onDragOver",event:Et})})},[ze]),Fr(()=>{Fe.current={activatorEvent:Z,active:Y,activeNode:ae,collisionRect:ge,collisions:Pe,droppableRects:I,draggableNodes:re,draggingNode:Xe,draggingNodeRect:St,droppableContainers:L,over:ke,scrollableAncestors:oe,scrollAdjustedTranslate:ee},Q.current={initial:St,translated:ge}},[Y,ae,Pe,ge,re,Xe,St,I,L,ke,oe,ee]),fF({...ue,delta:X,draggingRect:ge,pointerCoordinates:ve,scrollableAncestors:oe,scrollableAncestorRects:de});const mn=k.useMemo(()=>({active:Y,activeNode:ae,activeNodeRect:we,activatorEvent:Z,collisions:Pe,containerNodeRect:_e,dragOverlay:Oe,draggableNodes:re,droppableContainers:L,droppableRects:I,over:ke,measureDroppableContainers:ce,scrollableAncestors:oe,scrollableAncestorRects:de,measuringConfiguration:H,measuringScheduled:le,windowRect:J}),[Y,ae,we,Z,Pe,_e,Oe,re,L,I,ke,ce,oe,de,H,le,J]),ot=k.useMemo(()=>({activatorEvent:Z,activators:Nt,active:Y,activeNodeRect:we,ariaDescribedById:{draggable:j},dispatch:E,draggableNodes:re,over:ke,measureDroppableContainers:ce}),[Z,Nt,Y,we,E,j,re,ke,ce]);return Se.createElement(g1.Provider,{value:C},Se.createElement(Vc.Provider,{value:ot},Se.createElement(T1.Provider,{value:mn},Se.createElement(I1.Provider,{value:Ke},f)),Se.createElement(MF,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Se.createElement(M4,{...u,hiddenTextDescribedById:j}));function gn(){const mt=(F==null?void 0:F.autoScrollEnabled)===!1,Ye=typeof c=="object"?c.enabled===!1:c===!1,it=A&&!mt&&!Ye;return typeof c=="object"?{...c,enabled:it}:{enabled:it}}}),zF=k.createContext(null),V0="button",BF="Draggable";function UF(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=fl(BF),{activators:l,activatorEvent:u,active:c,activeNodeRect:f,ariaDescribedById:h,draggableNodes:p,over:v}=k.useContext(Vc),{role:y=V0,roleDescription:S="draggable",tabIndex:w=0}=i??{},_=(c==null?void 0:c.id)===t,E=k.useContext(_?I1:zF),[N,C]=cc(),[P,O]=cc(),A=_F(l,t),B=Qa(n);Fr(()=>(p.set(t,{id:t,key:o,node:N,activatorNode:P,data:B}),()=>{const X=p.get(t);X&&X.key===o&&p.delete(t)}),[p,t]);const re=k.useMemo(()=>({role:y,tabIndex:w,"aria-disabled":r,"aria-pressed":_&&y===V0?!0:void 0,"aria-roledescription":S,"aria-describedby":h.draggable}),[r,y,w,_,S,h.draggable]);return{active:c,activatorEvent:u,activeNodeRect:f,attributes:re,isDragging:_,listeners:r?void 0:A,node:N,over:v,setNodeRef:C,setActivatorNodeRef:O,transform:E}}function WF(){return k.useContext(T1)}const HF="Droppable",VF={timeout:25};function qF(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=fl(HF),{active:l,dispatch:u,over:c,measureDroppableContainers:f}=k.useContext(Vc),h=k.useRef({disabled:n}),p=k.useRef(!1),v=k.useRef(null),y=k.useRef(null),{disabled:S,updateMeasurementsFor:w,timeout:_}={...VF,...i},E=Qa(w??r),N=k.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{f(Array.isArray(E.current)?E.current:[E.current]),y.current=null},_)},[_]),C=Hc({callback:N,disabled:S||!l}),P=k.useCallback((re,X)=>{C&&(X&&(C.unobserve(X),p.current=!1),re&&C.observe(re))},[C]),[O,A]=cc(P),B=Qa(t);return k.useEffect(()=>{!C||!O.current||(C.disconnect(),p.current=!1,C.observe(O.current))},[O,C]),k.useEffect(()=>(u({type:Vt.RegisterDroppable,element:{id:r,key:o,disabled:n,node:O,rect:v,data:B}}),()=>u({type:Vt.UnregisterDroppable,key:o,id:r})),[r]),k.useEffect(()=>{n!==h.current.disabled&&(u({type:Vt.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,u]),{active:l,rect:v,isOver:(c==null?void 0:c.id)===r,node:O,over:c,setNodeRef:A}}function P1(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function YF(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function Ru(e){return e!==null&&e>=0}function KF(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function GF(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const A1=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=P1(t,r,n),l=t[i],u=o[i];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},Ou={scaleX:1,scaleY:1},JF=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:l}=e;const u=(t=o[n])!=null?t:r;if(!u)return null;if(i===n){const f=o[l];return f?{x:0,y:n<l?f.top+f.height-(u.top+u.height):f.top-u.top,...Ou}:null}const c=QF(o,i,n);return i>n&&i<=l?{x:0,y:-u.height-c,...Ou}:i<n&&i>=l?{x:0,y:u.height+c,...Ou}:{x:0,y:0,...Ou}};function QF(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const R1="Sortable",O1=Se.createContext({activeIndex:-1,containerId:R1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:A1,disabled:{draggable:!1,droppable:!1}});function XF(e){let{children:t,id:n,items:r,strategy:i=A1,disabled:o=!1}=e;const{active:l,dragOverlay:u,droppableRects:c,over:f,measureDroppableContainers:h}=WF(),p=fl(R1,n),v=u.rect!==null,y=k.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),S=l!=null,w=l?y.indexOf(l.id):-1,_=f?y.indexOf(f.id):-1,E=k.useRef(y),N=!KF(y,E.current),C=_!==-1&&w===-1||N,P=GF(o);Fr(()=>{N&&S&&h(y)},[N,y,S,h]),k.useEffect(()=>{E.current=y},[y]);const O=k.useMemo(()=>({activeIndex:w,containerId:p,disabled:P,disableTransforms:C,items:y,overIndex:_,useDragOverlay:v,sortedRects:YF(y,c),strategy:i}),[w,p,P.draggable,P.droppable,C,y,_,c,v,i]);return Se.createElement(O1.Provider,{value:O},t)}const ZF=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return P1(n,r,i).indexOf(t)},e3=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:l,previousItems:u,previousContainerId:c,transition:f}=e;return!f||!r||u!==o&&i===l?!1:n?!0:l!==i&&t===c},t3={duration:200,easing:"ease"},M1="transform",n3=Xa.Transition.toString({property:M1,duration:0,easing:"linear"}),r3={roleDescription:"sortable"};function i3(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,l]=k.useState(null),u=k.useRef(n);return Fr(()=>{if(!t&&n!==u.current&&r.current){const c=i.current;if(c){const f=$o(r.current,{ignoreTransform:!0}),h={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(h.x||h.y)&&l(h)}}n!==u.current&&(u.current=n)},[t,n,r,i]),k.useEffect(()=>{o&&l(null)},[o]),o}function s3(e){let{animateLayoutChanges:t=e3,attributes:n,disabled:r,data:i,getNewIndex:o=ZF,id:l,strategy:u,resizeObserverConfig:c,transition:f=t3}=e;const{items:h,containerId:p,activeIndex:v,disabled:y,disableTransforms:S,sortedRects:w,overIndex:_,useDragOverlay:E,strategy:N}=k.useContext(O1),C=o3(r,y),P=h.indexOf(l),O=k.useMemo(()=>({sortable:{containerId:p,index:P,items:h},...i}),[p,i,P,h]),A=k.useMemo(()=>h.slice(h.indexOf(l)),[h,l]),{rect:B,node:re,isOver:X,setNodeRef:L}=qF({id:l,data:O,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:$,activatorEvent:Q,activeNodeRect:Y,attributes:q,setNodeRef:F,listeners:W,isDragging:Z,over:M,setActivatorNodeRef:z,transform:j}=UF({id:l,data:O,attributes:{...r3,...n},disabled:C.draggable}),R=k4(L,F),H=!!$,I=H&&!S&&Ru(v)&&Ru(_),ce=!E&&Z,le=ce&&I?j:null,xe=I?le??(u??N)({rects:w,activeNodeRect:Y,activeIndex:v,overIndex:_,index:P}):null,ue=Ru(v)&&Ru(_)?o({id:l,items:h,activeIndex:v,overIndex:_}):P,be=$==null?void 0:$.id,we=k.useRef({activeId:be,items:h,newIndex:ue,containerId:p}),_e=h!==we.current.items,Fe=t({active:$,containerId:p,isDragging:Z,isSorting:H,id:l,index:P,items:h,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:f,wasDragging:we.current.activeId!=null}),We=i3({disabled:!Fe,index:P,node:re,rect:B});return k.useEffect(()=>{H&&we.current.newIndex!==ue&&(we.current.newIndex=ue),p!==we.current.containerId&&(we.current.containerId=p),h!==we.current.items&&(we.current.items=h)},[H,ue,p,h]),k.useEffect(()=>{if(be===we.current.activeId)return;if(be&&!we.current.activeId){we.current.activeId=be;return}const Xe=setTimeout(()=>{we.current.activeId=be},50);return()=>clearTimeout(Xe)},[be]),{active:$,activeIndex:v,attributes:q,data:O,rect:B,index:P,newIndex:ue,items:h,isOver:X,isSorting:H,isDragging:Z,listeners:W,node:re,overIndex:_,over:M,setNodeRef:R,setActivatorNodeRef:z,setDroppableNodeRef:L,setDraggableNodeRef:F,transform:We??xe,transition:Oe()};function Oe(){if(We||_e&&we.current.newIndex===P)return n3;if(!(ce&&!bm(Q)||!f)&&(H||Fe))return Xa.Transition.toString({...f,property:M1})}}function o3(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}st.Down,st.Right,st.Up,st.Left;function pc(e,t="18:30"){const n=(e??t).trim(),r=/^(\d{1,2}):(\d{2})$/.exec(n);if(!r)return pc(t,t);const i=Number(r[1]),o=Number(r[2]);return Number.isNaN(i)||Number.isNaN(o)?pc(t,t):(i*60+o)%1440}function Ep(e){const t=(e%1440+1440)%1440,n=Math.floor(t/60),r=t%60,i=n.toString().padStart(2,"0"),o=r.toString().padStart(2,"0");return`${i}:${o}`}const q0={present:"Presente",absent:"Ausente",pending:"Pendiente"};function L1({work:e,objective:t,parentChain:n,onSelect:r}){const i=(e.subtitle??"").trim();return g.jsxs("button",{type:"button",onClick:()=>r(e.id),className:"flex w-full items-center justify-between gap-4 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),i?g.jsx("p",{className:"text-xs text-white/60",children:i}):null,g.jsxs("p",{className:"text-xs text-white/50",children:[e.estimatedMinutes," min"]}),n?g.jsxs("p",{className:"text-[11px] text-white/40",children:["Deriva de ",n]}):null]}),g.jsx($i,{objective:t,size:"sm"})]})}function a3({item:e,work:t,objective:n,expanded:r,isPersonal:i,onToggleExpanded:o,onRemove:l,onDuplicate:u,onUpdateDetails:c,onReplace:f,startTimeLabel:h,durationMinutes:p,works:v,objectiveMap:y,workPathById:S}){const{attributes:w,listeners:_,setNodeRef:E,transform:N,transition:C,isDragging:P}=s3({id:e.id}),[O,A]=k.useState(!1),[B,re]=k.useState(""),X={transform:Xa.Transform.toString(N),transition:C},$=(e.focusLabel??"").trim(),Q=$.length>0,Y=e.customDescriptionMarkdown??(t==null?void 0:t.descriptionMarkdown)??"",q=Y.trim().length>0,F=((t==null?void 0:t.videoUrls)??[]).map(ue=>ue.trim()).filter(Boolean),W=F.length>0,Z=q||W,z=(t!=null&&t.id?S.get(t.id)??(t==null?void 0:t.name)??"":"").split("  ").slice(0,-1).join("  "),j=((t==null?void 0:t.subtitle)??"").trim(),R=ue=>{const be=ue.target.value;c(e.id,{focusLabel:be===""?void 0:be})},H=B.trim().toLowerCase(),I=k.useMemo(()=>v.filter(ue=>ue.id!==(t==null?void 0:t.id)),[v,t==null?void 0:t.id]),ce=k.useMemo(()=>H?I.filter(ue=>{var Oe;const be=(ue.subtitle??"").toLowerCase(),we=((Oe=y.get(ue.objectiveId))==null?void 0:Oe.name.toLowerCase())??"",_e=(S.get(ue.id)??"").toLowerCase(),Fe=(ue.descriptionMarkdown??"").toLowerCase(),We=H;return ue.name.toLowerCase().includes(We)||be.includes(We)||Fe.includes(We)||we.includes(We)||_e.includes(We)}):[],[I,H,y,S]);k.useEffect(()=>{O||re("")},[O]);const le=I.length>0,ae=e.effort??6,xe=e.result;return g.jsxs("article",{ref:E,style:X,className:Re("relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-lg shadow-black/20 transition",P&&"ring-2 ring-sky-400/70"),children:[n?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-30 blur-xl",style:{backgroundColor:n.colorHex}}):null,g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("button",{type:"button",className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70",..._,...w,"aria-label":"Reordenar trabajo",children:""}),g.jsx("div",{className:"flex-1 space-y-1",children:g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(t==null?void 0:t.name)??"Trabajo eliminado",Q?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",$]}):null]}),j?g.jsx("p",{className:"text-sm text-white/70",children:j}):null,z?g.jsxs("p",{className:"text-xs text-white/50",children:["Deriva de ",z]}):null,g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:h}),g.jsx("span",{className:"text-white/30",children:""}),g.jsxs("span",{children:[p," min"]})]}),g.jsxs("div",{className:"max-w-md",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Foco dentro del trabajo"}),g.jsx("input",{type:"text",value:e.focusLabel??"",onChange:R,placeholder:"Ej. 1/7  Apertura",className:"input-field mt-1"})]}),i?g.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:["ok","doubt","fail"].map(ue=>g.jsx("button",{type:"button",onClick:()=>c(e.id,{result:ue,completed:!0}),className:Re("rounded-full border px-3 py-1 text-xs font-semibold transition",xe===ue?ue==="ok"?"border-emerald-500/60 bg-emerald-500/20 text-emerald-200":ue==="doubt"?"border-amber-400/50 bg-amber-500/15 text-amber-200":"border-rose-500/60 bg-rose-500/15 text-rose-200":"border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:ue==="ok"?"OK":ue==="doubt"?"Dudosa":"Fallo"},ue))}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"RPE"}),g.jsx("input",{type:"number",min:1,max:10,value:ae,onChange:ue=>{const be=Number(ue.target.value),we=Number.isFinite(be)?Math.min(Math.max(be,1),10):6;c(e.id,{effort:we,completed:!0})},className:"input-field w-20 text-center"})]})]}):null]}),g.jsxs("div",{className:"flex items-center gap-2",children:[Z?g.jsxs("button",{type:"button",onClick:()=>o(e.id),className:Re("inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",r&&"border-white/40 text-white"),children:[g.jsx("span",{className:Re("transition-transform",r?"rotate-90":"rotate-0"),children:""}),r?"Ocultar detalles":"Ver detalles"]}):null,g.jsx($i,{objective:n,size:"sm"})]})]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:()=>A(ue=>!ue),disabled:!le,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white disabled:opacity-40","aria-label":"Intercambiar trabajo por otro de la misma categora","aria-expanded":O,children:""}),g.jsx("button",{type:"button",onClick:u,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-sky-400/60 hover:text-white","aria-label":"Duplicar trabajo en la sesin",children:"x2"}),g.jsx("button",{type:"button",onClick:l,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 hover:border-rose-400 hover:text-rose-200","aria-label":"Eliminar trabajo de la sesin",children:""})]})]}),O?g.jsx("div",{className:"mt-3 space-y-3 rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Buscar en el catlogo"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"search",className:"input-field",placeholder:"Buscar en el catlogo",value:B,onChange:ue=>re(ue.target.value)}),B?g.jsx("div",{className:"absolute top-14 z-10 max-h-60 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:ce.length===0?g.jsx("p",{className:"p-3 text-sm text-white/50",children:"Sin resultados. Ajusta la bsqueda."}):g.jsx("div",{className:"space-y-2",children:ce.map(ue=>{const we=(S.get(ue.id)??ue.name).split("  ").slice(0,-1).join("  ");return g.jsx(L1,{work:ue,objective:y.get(ue.objectiveId),parentChain:we,onSelect:_e=>{f(_e),A(!1),re("")}},ue.id)})})}):null]}),B?null:g.jsx("p",{className:"rounded-2xl border border-dashed border-white/15 px-3 py-2 text-xs text-white/60",children:"Escribe para encontrar un reemplazo. Se mostrarn resultados coincidentes del catlogo."})]})}):null,Z&&r?g.jsxs("div",{className:"grid gap-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[q?g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/70 p-3",children:g.jsx(ws,{content:Y,enableWorkLinks:!0})})]}):null,W?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de referencia"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(ue=>g.jsxs("a",{href:ue,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-500/80 text-white shadow shadow-red-500/40",children:""}),"Ver vdeo"]},ue))})]}):null]}):null,g.jsx("span",{className:"absolute -left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-slate-950/90 text-xs font-semibold text-white/60",children:e.order+1})]})}function D1({session:e,works:t,objectives:n,assistants:r,onDateChange:i}){const o=Ee($=>$.updateSession),l=Ee($=>$.addWorkToSession),u=Ee($=>$.duplicateSessionWork),c=Ee($=>$.removeWorkFromSession),f=Ee($=>$.reorderSessionWork),h=Ee($=>$.updateSessionWorkDetails),p=Ee($=>$.replaceSessionWork),v=Ee($=>$.setAttendanceStatus),y=e.kind==="personal",[S,w]=k.useState(""),[_,E]=k.useState(new Set),N=k.useMemo(()=>new Map(n.map($=>[$.id,$])),[n]),C=k.useMemo(()=>new Map(t.map($=>[$.id,$])),[t]),P=k.useMemo(()=>{const $=new Map,Q=(Y,q)=>{if($.has(Y))return $.get(Y);const F=C.get(Y);if(!F)return"";const W=F.parentWorkId;if(!W||q.has(Y))return $.set(Y,F.name),F.name;q.add(Y);const Z=Q(W,q);q.delete(Y);const M=Z?`${Z}  ${F.name}`:F.name;return $.set(Y,M),M};return t.forEach(Y=>Q(Y.id,new Set)),$},[t,C]),O=k.useMemo(()=>{if(!S)return t;const $=S.toLowerCase();return t.filter(Q=>{const Y=N.get(Q.objectiveId),q=P.get(Q.id)??"";return Q.name.toLowerCase().includes($)||Q.descriptionMarkdown.toLowerCase().includes($)||(Y==null?void 0:Y.name.toLowerCase().includes($))||q.toLowerCase().includes($)})},[t,S,N,P]),A=k.useCallback($=>{const Q=P.get($);if(!Q)return"";const Y=Q.split("  ");return Y.pop(),Y.join("  ")},[P]),B=$=>{E(Q=>{const Y=new Set(Q);return Y.has($)?Y.delete($):Y.add($),Y})},re=$=>{l(e.id,{workId:$}),w("")},X=$=>{const{active:Q,over:Y}=$;if(!Y||Q.id===Y.id)return;const q=e.workItems.findIndex(W=>W.id===Q.id),F=e.workItems.findIndex(W=>W.id===Y.id);q===-1||F===-1||f(e.id,q,F)},L=$=>Q=>{const Y=Q.target.value;o(e.id,{[$]:Y}),$==="date"&&i&&i(Y)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Ttulo"}),g.jsx("input",{type:"text",className:"input-field",value:e.title,onChange:L("title"),placeholder:"Nombre de la sesin"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Fecha"}),g.jsx("input",{type:"date",className:"input-field",value:e.date,onChange:L("date")})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Hora de inicio"}),g.jsx("input",{type:"time",className:"input-field",value:e.startTime??"18:30",onChange:L("startTime")})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:e.description??"",onChange:L("description"),placeholder:"Contexto general, objetivos o recordatorios"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas privadas"}),g.jsx("textarea",{className:"input-field min-h-[100px]",value:e.notes??"",onChange:L("notes"),placeholder:"Notas para ti o recordatorios de material"})]})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trabajos en la sesin"}),g.jsx("p",{className:"text-sm text-white/60",children:"Arrastra para reorganizar, pulsa  para ajustar detalles."})]}),g.jsxs("div",{className:"relative w-full sm:w-72",children:[g.jsx("input",{type:"search",className:"input-field",value:S,onChange:$=>w($.target.value),placeholder:"Buscar en catlogo"}),S&&g.jsx("div",{className:"absolute top-12 z-10 max-h-72 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/95 p-2 shadow-xl",children:O.length===0?g.jsx("p",{className:"p-4 text-sm text-white/50",children:"Sin resultados. Revisa el catlogo."}):g.jsx("div",{className:"space-y-2",children:O.map($=>g.jsx(L1,{work:$,objective:N.get($.objectiveId),parentChain:A($.id),onSelect:re},$.id))})})]})]}),g.jsx("div",{className:"space-y-4",children:g.jsx(FF,{collisionDetection:z4,onDragEnd:X,children:g.jsx(XF,{items:e.workItems.map($=>$.id),strategy:JF,children:g.jsx("div",{className:"space-y-5",children:e.workItems.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/20 p-10 text-center text-white/50",children:"Aade trabajos desde el catlogo con el buscador superior."}):(()=>{let $=0;const Q=pc(e.startTime,"18:30");return e.workItems.map(Y=>{const q=C.get(Y.workId),F=q?N.get(q.objectiveId):void 0,W=Y.customDurationMinutes??(q==null?void 0:q.estimatedMinutes)??0,Z=Ep(Q+$);return $+=W,g.jsx(a3,{item:Y,work:q,objective:F,expanded:_.has(Y.id),isPersonal:y,onToggleExpanded:B,onRemove:()=>c(e.id,Y.id),onDuplicate:()=>u(e.id,Y.id),onUpdateDetails:(M,z)=>h(e.id,M,z),onReplace:M=>p(e.id,Y.id,M),startTimeLabel:Z,durationMinutes:W,works:t,objectiveMap:N,workPathById:P},Y.id)})})()})})})})]}),y?null:g.jsxs("section",{className:"space-y-4",children:[g.jsx("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Previsin de asistencia"}),g.jsx("p",{className:"text-sm text-white/60",children:"Indica quin esperas que asista. La asistencia real se marca durante la sesin desde la Home."})]})}),g.jsx("div",{className:"space-y-2 rounded-3xl border border-white/10 bg-white/5 p-4",children:r.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"An no tienes asistentes definidos. Adelos desde la seccin correspondiente para empezar a registrar asistencia."}):r.map($=>{const Q=e.attendance.find(F=>F.assistantId===$.id),Y=(Q==null?void 0:Q.status)??"pending",q=Q==null?void 0:Q.actualStatus;return g.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:$.name}),$.notes?g.jsx("p",{className:"text-xs text-white/50",children:$.notes}):null,q?g.jsxs("p",{className:"text-xs text-white/40",children:["ltimo registro real: ",q0[q]]}):null]}),g.jsx("div",{className:"flex items-center gap-2",children:["present","absent","pending"].map(F=>g.jsx("button",{type:"button",onClick:()=>v(e.id,$.id,F),className:Re("rounded-full px-3 py-1 text-xs font-semibold transition",Y===F?F==="present"?"border border-emerald-500/60 bg-emerald-500/20 text-emerald-200":F==="absent"?"border border-rose-500/60 bg-rose-500/20 text-rose-200":"border border-white/30 bg-white/10 text-white":"border border-white/10 text-white/60 hover:border-white/30 hover:text-white"),children:q0[F]},F))})]},$.id)})})]})]})}function l3(e){const t=(e.day()+6)%7;return e.subtract(t,"day")}function u3(e){const t=l3(e.startOf("month"));return Array.from({length:6},(n,r)=>Array.from({length:7},(i,o)=>t.add(r*7+o,"day")))}function Mu(e,t){return Ve(e).format("YYYY-MM-DD")===Ve(t).format("YYYY-MM-DD")}Ve.locale("es");const c3={present:"Presente",absent:"Ausente",pending:"Pendiente"},d3={present:"border border-emerald-500/40 bg-emerald-500/10 text-emerald-100",absent:"border border-rose-500/40 bg-rose-500/10 text-rose-100",pending:"border border-white/20 bg-white/10 text-white/70"},f3=["present","absent"],h3={present:"Han venido",absent:"Faltan"},p3={present:"border border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow shadow-emerald-500/15",absent:"border border-rose-500/60 bg-rose-500/10 text-rose-100 shadow shadow-rose-500/10"},m3="group inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/30 sm:text-sm",g3="border-emerald-500/60 bg-emerald-500/15 text-emerald-100 shadow-sm shadow-emerald-500/20 hover:border-emerald-400 hover:bg-emerald-500/20",y3="border-white/15 bg-white/5 text-white/60 hover:border-white/40 hover:text-white",v3="flex h-6 w-6 items-center justify-center rounded-full border text-[12px] transition sm:h-7 sm:w-7",x3="border-emerald-400 bg-emerald-400/20 text-emerald-100 shadow shadow-emerald-500/25",w3="border-white/25 text-white/40 group-hover:border-white/50 group-hover:text-white/80",b3=[];function k3(e){return Ve(e).locale("es").format("dddd, D [de] MMMM")}function S3(e){return Ve(e).format("MMMM YYYY")}function Y0({mode:e,onChange:t}){return g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 p-1",children:[g.jsx("button",{type:"button",className:Re("rounded-full px-4 py-2 text-sm font-semibold transition",e==="view"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="view"&&t("view")},children:"Vista"}),g.jsx("button",{type:"button",className:Re("rounded-full px-4 py-2 text-sm font-semibold transition",e==="edit"?"bg-white text-slate-900":"text-white/70 hover:text-white"),onClick:()=>{e!=="edit"&&t("edit")},children:"Editar"})]})}function E3({session:e,objectives:t,works:n,isActive:r,onSelect:i,onDuplicate:o,onDelete:l}){const u=k.useMemo(()=>new Map(t.map(p=>[p.id,p])),[t]),c=k.useMemo(()=>new Map(n.map(p=>[p.id,p])),[n]),f=k.useMemo(()=>{const p=e.workItems[0];if(!p)return;const v=c.get(p.workId);if(v)return u.get(v.objectiveId)},[e.workItems,c,u]),h=e.workItems.reduce((p,v)=>{const y=c.get(v.workId);return p+(v.customDurationMinutes??(y==null?void 0:y.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:i,className:Re("group relative flex flex-col gap-3 rounded-3xl border border-white/10 bg-white/5 p-5 text-left transition hover:border-sky-400/50 hover:shadow-lg hover:shadow-sky-500/10",r&&"ring-2 ring-sky-400/70"),children:[f?g.jsx("div",{className:"absolute inset-0 -z-[1] rounded-3xl opacity-20 blur-2xl transition group-hover:opacity-40",style:{backgroundColor:f.colorHex}}):null,g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:e.title||"Sesin sin ttulo"}),g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[e.workItems.length," trabajos  ",h," min"]})]}),g.jsx($i,{objective:f,size:"sm"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[e.workItems.slice(0,3).map(p=>{const v=c.get(p.workId),y=((v==null?void 0:v.subtitle)??"").trim();return g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1",children:y?`${(v==null?void 0:v.name)??"Trabajo"}  ${y}`:(v==null?void 0:v.name)??"Trabajo"},p.id)}),e.workItems.length>3?g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1",children:["+",e.workItems.length-3]}):null]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx($i,{objective:f,size:"sm"}),g.jsxs("div",{className:"ml-auto flex gap-2",children:[g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"btn-secondary px-3 py-1 text-xs",children:"Duplicar"}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300 transition hover:border-rose-400 hover:text-rose-200",children:"Eliminar"})]})]})]})}function _3(){const e=Ee(D=>D.sessions).filter(D=>D.kind==="class"),t=Ee(D=>D.works),n=Ee(D=>D.objectives),r=Ee(D=>D.assistants),i=Ee(D=>D.addSession),o=Ee(D=>D.duplicateSession),l=Ee(D=>D.deleteSession),u=Ee(D=>D.setAttendanceActualStatus),c=Ee(D=>D.toggleSessionWorkCompletion),[f,h]=Ip(),p=f.get("session")??void 0,v=f.get("mode")==="edit"?"edit":"view",[y,S]=k.useState(()=>v==="edit"),[w,_]=k.useState(new Set),E=k.useMemo(()=>[...e].sort((D,te)=>Ve(D.date).valueOf()-Ve(te.date).valueOf()),[e]),N=Ve().format("YYYY-MM-DD"),C=k.useMemo(()=>E.find(D=>D.date>=N)??E[E.length-1],[E,N]),[P,O]=k.useState(()=>p&&e.some(D=>D.id===p)?p:C==null?void 0:C.id),A=D=>{const te=new URLSearchParams(f);D==="edit"?te.set("mode","edit"):te.delete("mode"),h(te,{replace:!0})};k.useEffect(()=>{p&&e.some(D=>D.id===p)&&O(p)},[p,e]),k.useEffect(()=>{if(!(P&&e.some(D=>D.id===P))){if(p&&e.some(D=>D.id===p)){O(p);return}O(C==null?void 0:C.id)}},[P,p,e,C]);const B=k.useMemo(()=>P?E.find(D=>D.id===P)??C:C,[E,P,C]),re=D=>{const te=new URLSearchParams(f);D?te.set("session",D):te.delete("session"),h(te,{replace:!0})},X=D=>{O(D),re(D)},L=(B==null?void 0:B.date)??N,[$,Q]=k.useState(L),[Y,q]=k.useState(Ve(L).startOf("month").format("YYYY-MM-DD"));k.useEffect(()=>{B&&(Q(B.date),q(Ve(B.date).startOf("month").format("YYYY-MM-DD")))},[B]);const F=k.useMemo(()=>{const D=new Map;return e.forEach(te=>{const K=Ve(te.date).format("YYYY-MM-DD"),ee=D.get(K)??[];ee.push(te),D.set(K,ee)}),D.forEach(te=>te.sort((K,ee)=>(K.title??"").localeCompare(ee.title??"","es"))),D},[e]),W=k.useMemo(()=>F.get($)??[],[F,$]),Z=k.useMemo(()=>u3(Ve(Y)),[Y]),M=k.useMemo(()=>{const D=Ve(Y);return e.filter(te=>{const K=Ve(te.date);return K.year()===D.year()&&K.month()===D.month()}).sort((te,K)=>Ve(te.date).valueOf()-Ve(K.date).valueOf())},[e,Y]),z=k.useMemo(()=>{const D=new Map;return M.forEach(te=>{const K=Ve(te.date).format("YYYY-MM-DD"),ee=D.get(K)??[];ee.push(te),D.set(K,ee)}),Array.from(D.entries()).sort((te,K)=>Ve(te[0]).valueOf()-Ve(K[0]).valueOf()).map(([te,K])=>({date:te,sessions:K.slice().sort((ee,ge)=>(ee.title??"").localeCompare(ge.title??"","es"))}))},[M]),j=D=>{Q(D),q(Ve(D).startOf("month").format("YYYY-MM-DD"));const te=F.get(D)??[];te.length>0?X(te[0].id):X(void 0)},R=()=>{const D=i({date:$,title:"Nueva sesin",description:"",notes:""});X(D.id)},H=D=>{const te=o(D,$);te&&X(te.id)},I=D=>{l(D),P===D&&X(void 0)},ce=D=>{const te=Ve(Y).add(D,"month");q(te.format("YYYY-MM-DD")),Q(K=>{const ee=Ve(K);return ee.month()===te.month()&&ee.year()===te.year()?K:te.startOf("month").format("YYYY-MM-DD")})},le=k.useMemo(()=>new Map(n.map(D=>[D.id,D])),[n]),ae=k.useMemo(()=>new Map(t.map(D=>[D.id,D])),[t]),xe=E.length===0,ue=k.useMemo(()=>r.filter(D=>D.active).slice().sort((D,te)=>D.name.localeCompare(te.name,"es",{sensitivity:"base"})),[r]),be=(B==null?void 0:B.attendance)??b3,we=k.useMemo(()=>{const D=new Map;be.forEach(ee=>{D.set(ee.assistantId,ee)});let te=0;ue.forEach(ee=>{var ge;((ge=D.get(ee.id))==null?void 0:ge.actualStatus)==="present"&&(te+=1)});const K={present:te,absent:Math.max(ue.length-te,0)};return{map:D,summary:K}},[be,ue]),_e=we.map,Fe=we.summary,We=k.useMemo(()=>pc(B==null?void 0:B.startTime,"18:30"),[B==null?void 0:B.startTime]),Oe=k.useMemo(()=>{if(!B)return new Map;let D=0;const te=new Map;return B.workItems.forEach(K=>{const ee=ae.get(K.workId),ge=K.customDurationMinutes??(ee==null?void 0:ee.estimatedMinutes)??0,Pe=Ep(We+D);te.set(K.id,{startLabel:Pe,duration:ge}),D+=ge}),te},[B,ae,We]),Xe=B?E.findIndex(D=>D.id===B.id):-1,St=Xe>0,tn=Xe>=0&&Xe<E.length-1,Gn=()=>{St&&X(E[Xe-1].id)},J=()=>{tn&&X(E[Xe+1].id)},oe=D=>{const te=D.target.value;if(!te)return;j(te);const K=F.get(te);K&&K.length>0&&X(K[0].id)},de=D=>{_(te=>{const K=new Set(te);return K.has(D)?K.delete(D):K.add(D),K})},Ce=(D,te)=>{B&&u(B.id,D,te)},ve=y?g.jsxs("section",{className:"glass-panel space-y-6 p-6",children:[g.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Calendario"}),g.jsx("h2",{className:"text-xl font-semibold text-white",children:S3(Y)})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ce(-1),children:" Mes anterior"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ce(1),children:"Mes siguiente "})]})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.3fr_1.7fr]",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-white/50",children:["L","M","X","J","V","S","D"].map(D=>g.jsx("div",{className:"rounded-full bg-white/5 py-2",children:D},D))}),g.jsx("div",{className:"grid grid-cols-7 gap-2",children:Z.flat().map(D=>{const te=D.format("YYYY-MM-DD"),K=F.get(te)??[],ee=D.month()===Ve(Y).month(),ge=Mu(te,N),Pe=Mu(te,$);return g.jsxs("button",{type:"button",onClick:()=>j(te),className:Re("relative flex h-20 flex-col items-center justify-between rounded-2xl border p-2 text-sm transition",Pe?"border-sky-400/60 bg-sky-500/20 text-white shadow-lg shadow-sky-500/20":"border-white/10 bg-white/5 text-white/70 hover:border-white/30",!ee&&"text-white/30"),children:[g.jsx("span",{className:Re("flex h-8 w-8 items-center justify-center rounded-full text-base font-semibold",ge?"bg-white text-slate-900":""),children:D.format("D")}),g.jsxs("div",{className:"flex w-full flex-wrap justify-center gap-1",children:[K.slice(0,3).map(ze=>{const ke=ze.workItems[0],ut=ke?t.find(Ke=>Ke.id===ke.workId):void 0,lt=ut?n.find(Ke=>Ke.id===ut.objectiveId):void 0;return g.jsx("span",{className:"h-2 w-6 rounded-full",style:{backgroundColor:(lt==null?void 0:lt.colorHex)??"rgba(255,255,255,0.4)"}},ze.id)}),K.length>3?g.jsx("span",{className:"h-2 w-2 rounded-full border border-white/40"}):null]})]},te)})})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesiones en"}),g.jsx("h3",{className:"text-2xl font-semibold text-white",children:Ve($).format("dddd, D [de] MMMM")})]}),g.jsx("div",{className:"flex gap-3",children:g.jsx("button",{type:"button",onClick:R,className:"btn-primary",children:"+ Nueva sesin"})})]}),g.jsx("div",{className:"space-y-3",children:W.length===0?g.jsx("div",{className:"rounded-3xl border border-dashed border-white/15 p-10 text-center text-white/50",children:"An no hay sesiones planificadas este da. Crea una con el botn superior."}):W.map(D=>g.jsx(E3,{session:D,objectives:n,works:t,isActive:D.id===(B==null?void 0:B.id),onSelect:()=>X(D.id),onDuplicate:()=>H(D.id),onDelete:()=>I(D.id)},D.id))}),z.length>0?g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:["Ver sesiones del mes (",M.length,")"]}),g.jsx("div",{className:"custom-scrollbar mt-3 max-h-[22rem] space-y-3 overflow-y-auto pr-1",children:z.map(({date:D,sessions:te})=>{const K=te.length===1?"1 sesin":`${te.length} sesiones`;return g.jsxs("div",{role:"button",tabIndex:0,onClick:()=>j(D),onKeyDown:ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),j(D))},className:Re("cursor-pointer rounded-2xl border border-white/10 bg-white/5 p-3 text-sm transition hover:border-white/40 hover:bg-white/10",Mu(D,$)&&"border-sky-400/50 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsxs("p",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{children:Ve(D).format("ddd  D MMM")}),g.jsx("span",{className:"rounded-full border border-white/15 px-2 py-0.5 text-[9px] font-semibold tracking-[0.2em] text-white/50",children:K})]}),g.jsx("div",{className:"mt-3 space-y-2 text-xs",children:te.map(ee=>{const ge=(ee.description??"").trim(),Pe=ee.workItems.reduce((ze,ke)=>{const ut=t.find(lt=>lt.id===ke.workId);return ze+(ke.customDurationMinutes??(ut==null?void 0:ut.estimatedMinutes)??0)},0);return g.jsxs("button",{type:"button",onClick:ze=>{ze.stopPropagation(),j(D),X(ee.id)},className:Re("flex w-full flex-col gap-1 rounded-xl border border-white/10 bg-slate-950/60 px-3 py-2 text-left transition hover:border-white/30 hover:text-white",ee.id===(B==null?void 0:B.id)&&Mu(D,$)&&"border-sky-400/60 text-white"),children:[g.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[g.jsx("span",{className:"truncate font-medium",children:ee.title||"Sesin sin ttulo"}),g.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-white/40",children:[ee.workItems.length,"  ",Pe," min"]})]}),ge?g.jsx("p",{className:"text-[11px] leading-relaxed text-white/60",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ge}):null]},ee.id)})})]},D)})})]}):null]})]})]}):null;return g.jsxs("div",{className:"space-y-6",children:[xe||!B?g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end",children:[g.jsx(Y0,{mode:v,onChange:A}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>S(D=>!D),children:y?"Ocultar calendario":"Abrir calendario"})]}):null,ve,xe?g.jsxs("section",{className:"glass-panel flex flex-col items-center justify-center gap-5 p-4 text-center sm:gap-6 sm:p-10",children:[g.jsx("div",{className:"grid h-28 w-28 place-items-center rounded-full bg-gradient-to-br from-sky-500/30 to-purple-500/30 shadow-lg shadow-sky-500/20 sm:h-32 sm:w-32",children:g.jsx("svg",{width:"52",height:"52",viewBox:"0 0 24 24",fill:"none",className:"text-white/80 sm:h-14 sm:w-14",children:g.jsx("path",{d:"M6 3v2M18 3v2M3.5 10h17M5 7h14a2 2 0 0 1 2 2v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-lg font-semibold text-white sm:text-2xl",children:"An no hay sesiones"}),g.jsx("p",{className:"mx-auto max-w-md text-sm text-white/60 sm:text-base",children:"Crea tu primera sesin en el calendario y empieza a construir tu plan reutilizable."})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>S(!0),children:"Abrir calendario"})]}):B?g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-6 sm:p-6 lg:p-8",children:[g.jsxs("header",{className:"space-y-3 sm:flex sm:items-start sm:justify-between sm:gap-6 sm:space-y-0",children:[g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-white/40",children:[g.jsx("span",{className:"sm:hidden",children:"Sesin"}),g.jsx("span",{className:"hidden sm:inline",children:"Fecha"})]}),g.jsx("h2",{className:"font-display text-2xl font-semibold text-white sm:text-3xl",children:k3(B.date)}),g.jsx("p",{className:"text-sm font-medium text-white/80 sm:text-lg",children:B.title})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 sm:w-auto",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Duracin estimada"}),g.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-white/80",children:[B.workItems.map(D=>{const te=ae.get(D.workId);return D.customDurationMinutes??(te==null?void 0:te.estimatedMinutes)??0}).reduce((D,te)=>D+te,0)||0," ","min"]})]}),g.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[g.jsx("label",{className:"text-[11px] uppercase tracking-wide text-white/40 sm:text-xs",children:"Ir a fecha"}),g.jsx("input",{type:"date",className:"input-field w-full sm:w-auto",value:B.date??N,onChange:oe})]})]})]}),g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:Gn,disabled:!St,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:" Anterior"}),g.jsx("button",{type:"button",onClick:J,disabled:!tn,className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold disabled:opacity-40 sm:h-10 sm:text-sm",children:"Siguiente "})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Y0,{mode:v,onChange:A}),g.jsx("button",{type:"button",className:"btn-secondary h-9 rounded-2xl px-3 text-xs font-semibold sm:h-10 sm:text-sm",onClick:()=>S(D=>!D),children:y?"Ocultar calendario":"Abrir calendario"})]})]}),v==="edit"?g.jsx("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-3 sm:p-4",children:g.jsx(D1,{session:B,works:t,objectives:n,assistants:r,onDateChange:D=>{Q(D),q(Ve(D).startOf("month").format("YYYY-MM-DD"))}})}):g.jsxs(g.Fragment,{children:[B.description&&g.jsx("div",{className:"rounded-2xl border border-white/5 bg-white/5 p-3 sm:p-4",children:g.jsx(ws,{content:B.description})}),g.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[g.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/40",children:"Trabajos"}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:B.workItems.map(D=>{const te=ae.get(D.workId),K=te?le.get(te.objectiveId):void 0,ee=w.has(D.id),ge=Oe.get(D.id),Pe=(ge==null?void 0:ge.startLabel)??Ep(We),ze=(ge==null?void 0:ge.duration)??D.customDurationMinutes??(te==null?void 0:te.estimatedMinutes)??0,ke=(D.focusLabel??"").trim(),ut=ke.length>0,lt=D.customDescriptionMarkdown??(te==null?void 0:te.descriptionMarkdown)??"",Ke=lt.trim().length>0,xt=((te==null?void 0:te.videoUrls)??[]).map(mn=>mn.trim()).filter(Boolean),tt=xt.length>0,Bt=Ke||tt,Nt=((te==null?void 0:te.subtitle)??"").trim();return g.jsxs("article",{className:"flex flex-col gap-2.5 rounded-3xl border border-white/10 bg-white/5 p-2.5 shadow shadow-black/20 sm:gap-3 sm:p-4",style:K?{background:`linear-gradient(120deg, ${K.colorHex}1a, rgba(15,23,42,0.8))`}:void 0,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("label",{className:"mt-1 flex items-center gap-3 text-left",children:g.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full border-2 border-white/30 bg-transparent text-sky-400 transition focus:ring-sky-400",checked:D.completed??!1,onChange:mn=>c(B.id,D.id,mn.target.checked)})}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:[(te==null?void 0:te.name)??"Trabajo eliminado",ut?g.jsxs("span",{className:"ml-2 text-sky-300",children:[" ",ke]}):null]}),Nt?g.jsx("p",{className:"text-sm text-white/70",children:Nt}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:Pe}),g.jsx("span",{className:"mx-2 text-white/30",children:""}),g.jsxs("span",{children:[ze," min"]})]})]}),g.jsx($i,{objective:K,size:"sm"})]}),(Bt||tt)&&g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[Bt?g.jsxs("button",{type:"button",onClick:()=>de(D.id),className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",children:[g.jsx("span",{className:Re("transition-transform",ee?"rotate-90":"rotate-0"),children:""}),ee?"Ocultar detalles":"Ver detalles"]}):null,tt?g.jsxs("span",{children:[xt.length," vdeo",xt.length>1?"s":""]}):null]})]}),g.jsx("div",{className:Re("mt-1 flex h-10 w-10 items-center justify-center rounded-full border border-white/10 text-xs font-semibold uppercase text-white/60",D.completed?"bg-white/20 text-white":""),children:D.order+1})]}),Bt&&ee&&g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[Ke?g.jsx(ws,{content:lt,enableWorkLinks:!0}):null,tt?g.jsx("div",{className:"space-y-3",children:xt.map((mn,ot)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Uc,{url:mn,title:`${(te==null?void 0:te.name)??"Trabajo"} vdeo ${ot+1}`}),g.jsx("a",{href:mn,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${D.id}-video-${ot}`))}):null]})]},D.id)})})]})]}),v==="view"?r.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Quines participan?"}),g.jsx("p",{className:"mt-1",children:"Crea tu lista de asistentes para poder registrar quin ha venido a clase en tiempo real."}),g.jsx(wr,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Gestionar asistentes"})]}):ue.length===0?g.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-xs text-white/70 sm:text-sm sm:p-4",children:[g.jsx("p",{className:"font-semibold text-white",children:"Todos los asistentes estn inactivos."}),g.jsx("p",{className:"mt-1",children:"Activa al menos uno desde la seccin de asistentes para poder marcar su asistencia."}),g.jsx(wr,{to:"/assistants",className:"btn-secondary mt-3 h-8 rounded-2xl px-3 text-xs",children:"Ir a asistentes"})]}):g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-3 sm:space-y-4 sm:p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Asistencia en vivo"}),g.jsx("p",{className:"text-xs text-white/50 sm:text-sm",children:"Marca quin est presente en la sesin actual."})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:f3.map(D=>g.jsxs("span",{className:Re("inline-flex items-center gap-2 rounded-full px-2.5 py-0.5 text-[11px] font-semibold sm:px-3 sm:py-1 sm:text-xs",p3[D]),children:[Fe[D]," ",h3[D]]},D))})]}),g.jsx("div",{className:"space-y-2",children:ue.map(D=>{const te=_e.get(D.id),K=(te==null?void 0:te.status)??"pending",ee=(te==null?void 0:te.actualStatus)==="present",ge=()=>Ce(D.id,ee?"absent":"present");return g.jsx("article",{className:"rounded-2xl border border-white/10 bg-white/5 p-2.5 sm:p-4",children:g.jsxs("div",{className:"flex flex-col gap-2.5 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:D.name}),g.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-white/50 sm:text-xs",children:[g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Previsin"}),g.jsx("span",{className:Re("inline-flex items-center gap-2 rounded-full px-2 py-0.5 font-semibold",d3[K]),children:c3[K]}),g.jsx("span",{className:"hidden text-white/30 sm:inline",children:""}),g.jsx("span",{className:"uppercase tracking-wide text-white/40",children:"Asistencia"}),g.jsx("span",{className:Re("font-semibold",ee?"text-emerald-200":"text-white/60"),children:ee?"Presente":"No asisti"})]})]}),g.jsxs("div",{className:"flex flex-col items-end gap-1 text-right sm:flex-row sm:items-center sm:gap-3",children:[g.jsxs("button",{type:"button",onClick:ge,"aria-pressed":ee,"aria-label":`${ee?"Desmarcar asistencia de":"Marcar asistencia de"} ${D.name}`,title:ee?"Desmarcar asistencia":"Marcar como presente",className:Re(m3,ee?g3:y3),children:[g.jsx("span",{className:Re(v3,ee?x3:w3),children:ee?g.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 sm:h-4 sm:w-4","aria-hidden":"true",children:g.jsx("path",{d:"M4 8.5 6.5 11l5-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}):g.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-white/30 transition group-hover:bg-white/60"})}),g.jsx("span",{children:ee?"Ha asistido":"Marcar asistencia"})]}),g.jsx("span",{className:Re("text-[10px] font-medium uppercase tracking-[0.25em] sm:text-[11px]",ee?"text-emerald-200":"text-white/40"),children:ee?"PRESENTE":"AUSENTE"})]})]})},D.id)})})]}):null]}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Selecciona una sesin desde el calendario."})]})}function C3(){return g.jsx(_3,{})}function j3(){const[e]=Ip(),t=new URLSearchParams(e);return t.set("mode","edit"),g.jsx(wc,{to:{pathname:"/",search:`?${t.toString()}`},replace:!0})}function kh(e){return Array.from(new Set(e))}function Ba({options:e,value:t,onChange:n,disabled:r=!1,placeholder:i="Search",allowCreate:o=!1,onCreate:l,maxSelected:u}){const[c,f]=k.useState(""),h=k.useMemo(()=>kh(t.map(E=>E.trim()).filter(Boolean)),[t]),p=k.useMemo(()=>new Set(h),[h]),v=k.useMemo(()=>new Map(e.map(E=>[E.value,E])),[e]),y=k.useMemo(()=>{const E=c.trim().toLowerCase();return E?e.filter(N=>(N.label??N.value).toLowerCase().includes(E)||N.value.toLowerCase().includes(E)):e},[e,c]),S=typeof u=="number"?h.length<u:!0,w=c.trim(),_=o&&!!w&&typeof l=="function"&&!e.some(E=>E.value.toLowerCase()===w.toLowerCase())&&!e.some(E=>(E.label??"").toLowerCase()===w.toLowerCase());return g.jsxs("div",{className:Re("space-y-2",r&&"opacity-60"),children:[h.length>0?g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.map(E=>{var C;const N=((C=v.get(E))==null?void 0:C.label)??E;return g.jsxs("button",{type:"button",disabled:r,className:"inline-flex items-center gap-2 rounded-full border border-sky-500/30 bg-sky-500/10 px-3 py-1 text-xs font-semibold text-sky-100 transition hover:border-sky-400/50",onClick:()=>n(h.filter(P=>P!==E)),title:"Remove",children:[N,g.jsx("span",{className:"text-sky-200/80",children:""})]},E)}),g.jsx("button",{type:"button",disabled:r,className:"rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white",onClick:()=>n([]),children:"Clear"})]}):null,g.jsx("input",{type:"text",className:"input-field",value:c,disabled:r,placeholder:i,onChange:E=>f(E.target.value)}),g.jsx("div",{className:"max-h-48 overflow-auto rounded-2xl border border-white/10 bg-white/5 p-2",children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[_?g.jsxs("button",{type:"button",disabled:r||!S,className:"rounded-full border border-emerald-500/30 bg-emerald-500/10 px-3 py-1 text-xs font-semibold text-emerald-100 transition hover:border-emerald-400/50 disabled:opacity-50",onClick:()=>{const E=(l==null?void 0:l(w))??null;if(!E)return;const N=kh([...h,E.createdValue]);n(N),f("")},title:"Create",children:["+ Create ",w,""]}):null,y.map(E=>{const N=E.label??E.value,C=p.has(E.value);return g.jsx("button",{type:"button",disabled:r||!C&&!S,className:Re("rounded-full border px-3 py-1 text-xs font-semibold transition disabled:opacity-50",C?"border-sky-500/40 bg-sky-500/10 text-sky-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>{const P=C?h.filter(O=>O!==E.value):kh([...h,E.value]);n(P)},children:N},E.value)})]})})]})}const K0={name:"",subtitle:"",objectiveId:"",parentWorkId:"",nodeType:"",tags:[],orderHint:0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:"",estimatedMinutes:10,notes:"",videoUrls:[""],visibility:"private",collaborators:[""]},N3=e=>Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(Boolean))),Sh="__no_objective__",$1={private:"Privado",shared:"Compartido",public:"Pblico"},T3={private:"Solo t puedes ver y editar este trabajo.",shared:"Solo las personas que aadas pueden editarlo contigo.",public:"Cualquier persona con acceso al catlogo puede verlo. Solo tus editores pueden cambiarlo."},F1=5,Na="personal-exclude";function I3({work:e,childCount:t,depth:n,expanded:r,isTreeCollapsed:i,isPersonalExcluded:o,canTogglePersonal:l,personalToggleBusy:u,nextLabel:c,variantLabel:f,onToggle:h,onToggleTree:p,onTogglePersonal:v,onEdit:y,onDuplicate:S,onCreateChild:w,onDelete:_}){var ce;const E=(e.descriptionMarkdown??"").trim(),N=(e.subtitle??"").trim(),C=(e.notes??"").trim(),P=e.videoUrls.filter(le=>le.trim().length>0),O=E.length>0,A=N.length>0,B=C.length>0,re=P.length>0,X=O||B||re,L=t>0,$=n>0?{marginLeft:`${n*1.5}rem`}:void 0,Q=e.visibility??"private",Y=$1[Q],q=((ce=e.collaboratorEmails)==null?void 0:ce.length)??0,F=e.canEdit??!1,W=e.isOwner??!1,Z=(e.ownerEmail??"").trim(),M=(e.nodeType??"").trim(),z=(e.tags??[]).filter(le=>le!==Na),j=(M||"work").trim().toLowerCase(),R=Ee(le=>{var ae;return(ae=le.workTaxonomy.nodeTypes.find(xe=>xe.key===j))==null?void 0:ae.label}),H=(()=>{const le={form:"Forma",segment:"Segmento",application:"Aplicacin",technique:"Tcnica",drill:"Drill",style:"Estilo",link:"Link",work:"Trabajo"},ae={form:"border-indigo-500/40 bg-indigo-500/15 text-indigo-100",segment:"border-sky-500/40 bg-sky-500/15 text-sky-100",application:"border-amber-500/40 bg-amber-500/15 text-amber-100",technique:"border-emerald-500/40 bg-emerald-500/15 text-emerald-100",drill:"border-purple-500/40 bg-purple-500/15 text-purple-100",style:"border-white/20 bg-white/10 text-white/70",link:"border-white/20 bg-white/10 text-white/70",work:"border-white/20 bg-white/10 text-white/70"},xe=R??le[j]??(M||"Trabajo"),ue=ae[j]??ae.work;return g.jsx("span",{className:Re("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold",ue),children:xe})})(),I=(()=>{const le={form:"border-indigo-500/25",segment:"border-sky-500/25",application:"border-amber-500/25",technique:"border-emerald-500/25",drill:"border-purple-500/25",work:"border-white/10"},ae={form:"bg-indigo-500",segment:"bg-sky-500",application:"bg-amber-500",technique:"bg-emerald-500",drill:"bg-purple-500",work:""},xe={form:"bg-indigo-400/60",segment:"bg-sky-400/60",application:"bg-amber-400/60",technique:"bg-emerald-400/60",drill:"bg-purple-400/60",work:"bg-white/10"},ue=le[j]??le.work,be=ae[j]??ae.work,we=xe[j]??xe.work;return{borderClassName:ue,glowClassName:be,barClassName:we}})();return g.jsxs("article",{id:`work-${e.id}`,className:Re("group relative space-y-4 rounded-xl border bg-white/5 p-4 pb-5 shadow shadow-black/30",I.borderClassName),style:$,children:[g.jsx("div",{className:Re("absolute inset-y-0 left-0 w-1 rounded-r-full",I.barClassName),"aria-hidden":!0}),I.glowClassName?g.jsx("div",{className:Re("absolute inset-0 -z-[1] rounded-xl opacity-10 blur-3xl",I.glowClassName)}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{role:X?"button":void 0,tabIndex:X?0:void 0,onClick:()=>{X&&h()},onKeyDown:le=>{X&&(le.key==="Enter"||le.key===" ")&&(le.preventDefault(),h())},className:Re("flex flex-1 items-start gap-3 border border-transparent px-2 py-2 text-left transition",X?"cursor-pointer hover:border-white/10 hover:bg-white/5 focus-visible:border-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40":"cursor-default"),"aria-expanded":X?r:void 0,children:[L?g.jsx("button",{type:"button",onClick:le=>{le.stopPropagation(),p()},className:Re("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white"),"aria-label":i?"Mostrar trabajos hijos":"Ocultar trabajos hijos",title:i?"Mostrar hijos":"Ocultar hijos",children:i?"":""}):null,X?g.jsx("span",{className:Re("mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition",r?"rotate-90 border-white/30 text-white":""),"aria-hidden":!0,children:""}):null,g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),A?g.jsx("p",{className:"text-sm text-white/70",children:N}):null,g.jsxs("p",{className:"text-sm text-white/60",children:[e.estimatedMinutes," minutos"]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/20 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:Y}),z.slice(0,3).map(le=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] font-semibold text-white/60",children:le},le)),W?g.jsx("span",{children:"Propietario"}):Z?g.jsx("span",{children:Z}):null,q>0?g.jsxs("span",{children:["+",q," colaborador",q===1?"":"es"]}):null,f?g.jsxs("span",{className:"text-white/50",children:["Variante de: ",f]}):null,c?g.jsxs("span",{className:"text-white/50",children:["Siguiente: ",c]}):null,F?null:g.jsx("span",{className:"text-amber-300/80",children:"Solo lectura"})]})]})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[H,g.jsx("button",{type:"button",onClick:le=>{le.stopPropagation(),v()},disabled:!l||u,className:Re("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition disabled:opacity-50",o?"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400":"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400"),title:o?"Incluir en el plan personal":"Excluir del plan personal",children:u?"...":o?"Fuera":"En plan"}),g.jsxs(ts,{as:"div",className:"relative inline-flex",children:[g.jsxs(ts.Button,{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/70 transition hover:border-white/40 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40",children:[g.jsx("span",{className:"sr-only",children:"Abrir acciones"}),g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5","aria-hidden":"true",children:[g.jsx("circle",{cx:"12",cy:"5",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"19",r:"1.5"})]})]}),g.jsxs(ts.Items,{className:"absolute right-0 z-10 mt-2 w-44 overflow-hidden rounded-2xl border border-white/10 bg-slate-900/95 p-1 text-sm text-white shadow-lg shadow-black/40 focus:outline-none",children:[g.jsx(ts.Item,{children:({active:le})=>g.jsx("button",{type:"button",onClick:F?y:void 0,disabled:!F,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",le&&F?"bg-white/10 text-white":"text-white/70"),children:"Editar"})}),g.jsx(ts.Item,{children:({active:le})=>g.jsx("button",{type:"button",onClick:F?S:void 0,disabled:!F,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",le&&F?"bg-white/10 text-white":"text-white/70"),children:"Duplicar"})}),g.jsx(ts.Item,{children:({active:le})=>g.jsx("button",{type:"button",onClick:F?w:void 0,disabled:!F,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",le&&F?"bg-white/10 text-white":"text-white/70"),children:"Nuevo hijo"})}),g.jsx(ts.Item,{children:({active:le})=>g.jsx("button",{type:"button",onClick:W?_:void 0,disabled:!W,className:Re("flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left disabled:opacity-40",le&&W?"bg-rose-500/20 text-rose-100":"text-rose-300"),children:"Eliminar"})})]})]})]})]}),X&&r&&g.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[O?g.jsx(ws,{content:e.descriptionMarkdown,enableWorkLinks:!0}):null,B?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-3 text-sm text-white/70",children:e.notes}):null,re?g.jsx("div",{className:"space-y-3",children:g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:P.map((le,ae)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Uc,{url:le,title:`${e.name} vdeo ${ae+1}`}),g.jsx("a",{href:le,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:"Abrir en YouTube"})]},`${e.id}-video-${ae}`))})}):null]}),g.jsx("button",{type:"button",onClick:F?w:void 0,disabled:!F,className:Re("absolute bottom-0 left-1/2 flex -translate-x-1/2 translate-y-1/2 items-center justify-center rounded-full border border-dashed border-white/20 bg-slate-950/80 px-4 py-2 text-sm font-semibold text-white/80 opacity-0 transition hover:border-white/40 hover:text-white focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/40 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto focus-visible:pointer-events-auto",!F&&"opacity-30"),title:F?L?"Aadir trabajo hijo":"Crear primer trabajo hijo":"No tienes permisos para crear trabajos hijos","aria-label":"Crear trabajo hijo",children:"+"})]})}function P3({form:e,objectiveOptions:t,parentOptions:n,workOptions:r,nodeTypeOptions:i,tagOptions:o,onCreateNodeType:l,onCreateTag:u,depth:c,onFieldChange:f,onVideoChange:h,onAddVideo:p,onRemoveVideo:v,onCollaboratorChange:y,onAddCollaborator:S,onRemoveCollaborator:w,onSave:_,onCancel:E,isNew:N,canEditContent:C,canManageSharing:P,isSaving:O,isOwner:A,ownerEmail:B}){const re=t.find(F=>F.id===e.objectiveId),X=n.find(F=>F.id===e.parentWorkId),L=r.find(F=>F.id===e.nextWorkId),$=r.find(F=>F.id===e.variantOfWorkId),Q=c>0?{marginLeft:`${c*1.5}rem`}:void 0,Y=e.id?`work-name-${e.id}`:void 0,q=e.id?`work-subtitle-${e.id}`:void 0;return g.jsxs("article",{className:"space-y-5 rounded-3xl border border-sky-500/40 bg-slate-950/70 p-5 shadow-lg shadow-sky-500/15",style:Q,children:[g.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex-1 space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:N?"Nuevo trabajo":"Editando trabajo"}),g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:Y,children:"Nombre"}),g.jsx("input",{id:Y,type:"text",className:"input-field w-full text-base font-semibold disabled:opacity-60",placeholder:"Nombre descriptivo",value:e.name,onChange:F=>f({name:F.target.value}),disabled:!C})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",htmlFor:q,children:"Subttulo (opcional)"}),g.jsx("input",{id:q,type:"text",className:"input-field w-full disabled:opacity-60",placeholder:"Aade un subttulo breve",value:e.subtitle,onChange:F=>f({subtitle:F.target.value}),disabled:!C})]})]}),g.jsx($i,{objective:re,size:"sm"})]}),C?null:g.jsx("div",{className:"rounded-2xl border border-amber-400/40 bg-amber-500/10 p-3 text-xs text-amber-200",children:"No tienes permisos para editar el contenido de este trabajo. Puedes revisar la informacin y sugerir cambios al propietario."}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Objetivo"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.objectiveId,onChange:F=>f({objectiveId:F.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Selecciona un objetivo"}),t.map(F=>g.jsx("option",{value:F.id,children:F.name},F.id))]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Trabajo padre (opcional)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.parentWorkId,onChange:F=>f({parentWorkId:F.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Sin trabajo padre"}),n.map(F=>g.jsx("option",{value:F.id,children:F.label},F.id))]}),e.parentWorkId&&X?g.jsxs("p",{className:"text-xs text-white/40",children:["Deriva de: ",X.label]}):null]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Duracin estimada (min)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.estimatedMinutes,onChange:F=>f({estimatedMinutes:Number(F.target.value)}),disabled:!C})]})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Node type (opcional)"}),g.jsx(Ba,{options:i,value:e.nodeType?[e.nodeType]:[],maxSelected:1,onChange:F=>f({nodeType:F[0]??""}),placeholder:"Search node types",disabled:!C,allowCreate:!0,onCreate:F=>{const W=l(F);return W?{createdValue:W,createdLabel:F.trim()}:null}})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Tags"}),g.jsx(Ba,{options:o,value:e.tags??[],onChange:F=>f({tags:F}),placeholder:"Search tags",disabled:!C,allowCreate:!0,onCreate:F=>{const W=u(F);return W?{createdValue:W,createdLabel:W}:null}})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Order hint (opcional)"}),g.jsx("input",{type:"number",min:0,className:"input-field disabled:opacity-60",value:e.orderHint,onChange:F=>f({orderHint:Number(F.target.value)}),disabled:!C})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Siguiente (next)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.nextWorkId,onChange:F=>f({nextWorkId:F.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Sin siguiente"}),r.filter(F=>F.id!==e.id).map(F=>g.jsx("option",{value:F.id,children:F.label},F.id))]}),e.nextWorkId&&L?g.jsxs("p",{className:"text-xs text-white/40",children:["Siguiente: ",L.label]}):null]}),g.jsxs("div",{className:"grid gap-2 sm:col-span-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Variante de (variant_of)"}),g.jsxs("select",{className:"input-field disabled:opacity-60",value:e.variantOfWorkId,onChange:F=>f({variantOfWorkId:F.target.value}),disabled:!C,children:[g.jsx("option",{value:"",children:"Sin base"}),r.filter(F=>F.id!==e.id).map(F=>g.jsx("option",{value:F.id,children:F.label},F.id))]}),e.variantOfWorkId&&$?g.jsxs("p",{className:"text-xs text-white/40",children:["Variante de: ",$.label]}):null]})]}),g.jsxs("section",{className:"space-y-3 rounded-3xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Visibilidad"}),g.jsx("p",{className:"text-sm text-white/60",children:A?"Eres el propietario de este trabajo.":B?`Propietario: ${B}`:""})]}),P?null:g.jsx("p",{className:"text-xs text-amber-300/80",children:"Solo el propietario puede cambiar la visibilidad o los colaboradores."})]}),g.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:["private","shared","public"].map(F=>g.jsxs("label",{className:Re("inline-flex items-center gap-2 rounded-2xl border px-3 py-2 text-sm transition",e.visibility===F?"border-sky-400/80 bg-sky-400/10 text-white":"border-white/15 text-white/70 hover:border-white/30 hover:text-white",!P&&"opacity-50"),children:[g.jsx("input",{type:"radio",className:"accent-sky-400",checked:e.visibility===F,onChange:()=>f({visibility:F}),disabled:!P}),$1[F]]},F))}),g.jsx("p",{className:"text-xs text-white/50",children:T3[e.visibility]}),e.visibility==="private"?null:g.jsxs("div",{className:"space-y-2 rounded-2xl border border-white/10 bg-white/5 p-3",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Colaboradores (edicin)"}),g.jsx("p",{className:"text-xs text-white/50",children:"Aade hasta 5 direcciones de correo. Tendrn permisos de edicin completos."}),g.jsx("div",{className:"space-y-2",children:e.collaborators.map((F,W)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"email",className:"input-field flex-1 disabled:opacity-60",placeholder:"colega@ejemplo.com",value:F,onChange:Z=>y(W,Z.target.value),disabled:!P}),e.collaborators.length>1?g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200 disabled:opacity-40",onClick:()=>w(W),"aria-label":"Eliminar colaborador",disabled:!P,children:""}):null]},`collaborator-${W}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-40",onClick:S,disabled:!P||e.collaborators.length>=F1,children:"+ Aadir colaborador"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px] disabled:opacity-60",value:e.descriptionMarkdown,onChange:F=>f({descriptionMarkdown:F.target.value}),placeholder:"Usa formato markdown para resaltar puntos importantes.",disabled:!C})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas opcionales"}),g.jsx("textarea",{className:"input-field min-h-[100px] disabled:opacity-60",value:e.notes,onChange:F=>f({notes:F.target.value}),disabled:!C})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Vdeos de YouTube"}),g.jsx("div",{className:"space-y-3",children:e.videoUrls.map((F,W)=>g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"url",className:"input-field flex-1 disabled:opacity-60",value:F,onChange:Z=>h(W,Z.target.value),placeholder:"https://www.youtube.com/watch?v=...",disabled:!C}),e.videoUrls.length>1?g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-500/40 text-rose-300 transition hover:border-rose-400 hover:text-rose-200",onClick:()=>v(W),"aria-label":"Eliminar enlace de vdeo",disabled:!C,children:""}):null]}),g.jsx(Uc,{url:F,title:`Vista previa vdeo ${W+1}`})]},`video-field-${W}`))}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs disabled:opacity-50",onClick:p,disabled:!C,children:"+ Aadir vdeo"})]}),g.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:_,className:"btn-primary disabled:opacity-60",disabled:O,children:O?"Guardando":"Guardar"}),g.jsx("button",{type:"button",className:"btn-secondary disabled:opacity-50",onClick:E,disabled:O,children:"Cancelar"})]})]})}function A3(){var Gn;const e=Ee(J=>J.works),t=Ee(J=>J.objectives),n=Ee(J=>J.workTaxonomy),r=Ee(J=>J.addWork),i=Ee(J=>J.updateWork),o=Ee(J=>J.deleteWork),l=Ee(J=>J.upsertNodeType),u=Ee(J=>J.upsertTag),c=Ee(J=>J.worksLoading),f=ii(),{user:h}=_s(),p=k.useMemo(()=>h?{actorId:h.id,actorEmail:h.email??""}:null,[h]),[v,y]=k.useState(""),[S,w]=k.useState(null),[_,E]=k.useState(new Set),[N,C]=k.useState(new Set),[P,O]=k.useState(new Set),[A,B]=k.useState({}),[re,X]=k.useState(null),[L,$]=k.useState(null),Q=k.useMemo(()=>new Map(t.map(J=>[J.id,J])),[t]),Y=k.useMemo(()=>[...t].sort((J,oe)=>(J.name??"").localeCompare(oe.name??"","es")),[t]),q=k.useMemo(()=>(n.nodeTypes??[]).slice().sort((J,oe)=>J.label.localeCompare(oe.label,"en",{sensitivity:"base"})).map(J=>({value:J.key,label:J.label})),[n.nodeTypes]),F=k.useMemo(()=>(n.tags??[]).slice().sort((J,oe)=>J.name.localeCompare(oe.name,"en",{sensitivity:"base"})).map(J=>({value:J.name,label:J.name})),[n.tags]),W=k.useMemo(()=>new Map(e.map(J=>[J.id,J])),[e]),Z=k.useMemo(()=>{const J=new Map;return e.forEach(oe=>{const de=oe.parentWorkId;if(!de)return;const Ce=J.get(de)??[];Ce.push(oe),J.set(de,Ce)}),J.forEach(oe=>{oe.sort((de,Ce)=>de.name.localeCompare(Ce.name,"es",{sensitivity:"base"}))}),J},[e]),M=k.useMemo(()=>{const J=new Map,oe=(de,Ce)=>{if(J.has(de))return J.get(de);const ve=W.get(de);if(!ve)return"";if(!ve.parentWorkId||Ce.has(de))return J.set(de,ve.name),ve.name;Ce.add(de);const D=oe(ve.parentWorkId,Ce);Ce.delete(de);const te=D?`${D}  ${ve.name}`:ve.name;return J.set(de,te),te};return e.forEach(de=>{oe(de.id,new Set)}),J},[e,W]);k.useEffect(()=>{const J=f.hash,oe="#work-";let de=null;if(J.startsWith(oe)&&(de=J.slice(oe.length)),!de){const D=new URLSearchParams(f.search);de=D.get("workId")??D.get("work")}if(!de)return;E(D=>{if(D.has(de))return D;const te=new Set(D);return te.add(de),te});const Ce=document.getElementById(`work-${de}`);if(!Ce)return;Ce.scrollIntoView({behavior:"smooth",block:"start"}),Ce.classList.add("ring-2","ring-sky-500/60");const ve=window.setTimeout(()=>{Ce.classList.remove("ring-2","ring-sky-500/60")},1500);return()=>{window.clearTimeout(ve),Ce.classList.remove("ring-2","ring-sky-500/60")}},[f.hash,f.search,e]);const z=k.useMemo(()=>{const J=new Map,oe=de=>{if(J.has(de))return J.get(de);const Ce=new Set;return(Z.get(de)??[]).forEach(D=>{Ce.add(D.id),oe(D.id).forEach(te=>Ce.add(te))}),J.set(de,Ce),Ce};return e.forEach(de=>oe(de.id)),J},[e,Z]),j=k.useCallback((J,oe)=>{var ve,D;const de=new Set;J&&(de.add(J),(ve=z.get(J))==null||ve.forEach(te=>de.add(te)));const Ce=e.filter(te=>!de.has(te.id)).map(te=>({id:te.id,label:(()=>{var ge;const K=M.get(te.id)??te.name,ee=(ge=Q.get(te.objectiveId))==null?void 0:ge.name;return ee?`${ee}  ${K}`:K})()})).sort((te,K)=>te.label.localeCompare(K.label,"es",{sensitivity:"base"}));if(oe&&oe.length>0&&!Ce.some(te=>te.id===oe)){const te=W.get(oe),K=M.get(oe)??(te==null?void 0:te.name)??"Trabajo no disponible",ee=te?(D=Q.get(te.objectiveId))==null?void 0:D.name:void 0,ge=ee?`${ee}  ${K}`:K;Ce.unshift({id:oe,label:ge})}return Ce},[e,M,z,W,Q]),R=k.useMemo(()=>e.map(J=>{var ve;const oe=M.get(J.id)??J.name,de=(ve=Q.get(J.objectiveId))==null?void 0:ve.name,Ce=de?`${de}  ${oe}`:oe;return{id:J.id,label:Ce}}).sort((J,oe)=>J.label.localeCompare(oe.label,"es",{sensitivity:"base"})),[e,M,Q]),H=k.useMemo(()=>{const J=v.trim().toLowerCase(),oe=ve=>{var Pe;if(!J)return!0;const D=((Pe=Q.get(ve.objectiveId))==null?void 0:Pe.name)??"",te=ve.parentWorkId?M.get(ve.parentWorkId)??"":"",K=ve.id?M.get(ve.id)??"":"",ee=(ve.nodeType??"").toLowerCase(),ge=Array.isArray(ve.tags)?ve.tags.join(" "):ve.tags??"";return ve.name.toLowerCase().includes(J)||(ve.subtitle??"").toLowerCase().includes(J)||ve.descriptionMarkdown.toLowerCase().includes(J)||D.toLowerCase().includes(J)||te.toLowerCase().includes(J)||K.toLowerCase().includes(J)||ee.includes(J)||ge.toLowerCase().includes(J)},de=[],Ce=ve=>{if(!ve)return 0;let D=1,te=W.get(ve);const K=new Set(ve?[ve]:[]);for(;te&&te.parentWorkId;){const ee=te.parentWorkId;if(!ee||K.has(ee))break;D+=1,K.add(ee),te=W.get(ee)}return D};return e.forEach(ve=>{const D=A[ve.id],te=(D==null?void 0:D.data)??{id:ve.id,name:ve.name,subtitle:ve.subtitle??"",nodeType:ve.nodeType??"",tags:ve.tags??[],descriptionMarkdown:ve.descriptionMarkdown,objectiveId:ve.objectiveId,parentWorkId:ve.parentWorkId??""};!D&&!oe(te)||de.push({id:ve.id,objectiveId:te.objectiveId,parentWorkId:te.parentWorkId??"",depth:Ce(te.parentWorkId),work:ve,isNew:!1,isEditing:!!D,form:D==null?void 0:D.data})}),Object.entries(A).filter(([,ve])=>ve.isNew).forEach(([ve,D])=>{oe(D.data)&&de.push({id:ve,objectiveId:D.data.objectiveId,parentWorkId:D.data.parentWorkId,depth:Ce(D.data.parentWorkId||void 0),work:void 0,isNew:!0,isEditing:!0,form:D.data})}),de},[e,W,A,Q,M,v]),I=k.useCallback(J=>{var ve;const oe=(J.isEditing&&J.form?J.form.parentWorkId:J.parentWorkId)??"";if(!oe)return!1;let de=oe;const Ce=new Set;for(;de&&!Ce.has(de);){if(Ce.add(de),N.has(de))return!0;de=(((ve=W.get(de))==null?void 0:ve.parentWorkId)??"")||""}return!1},[N,W]),ce=k.useMemo(()=>{const J=new Map;H.forEach(D=>{const te=Q.has(D.objectiveId)?D.objectiveId:Sh,K=J.get(te)??[];K.push(D),J.set(te,K)});const oe=D=>{var te,K;if(D.isEditing&&D.form){const ee=D.form.name.trim()||(((te=D.work)==null?void 0:te.name)??""),ge=D.form.parentWorkId&&D.form.parentWorkId.length>0?M.get(D.form.parentWorkId)??((K=W.get(D.form.parentWorkId))==null?void 0:K.name)??"":"";return ge?`${ge}  ${ee}`:ee}return D.work?M.get(D.work.id)??D.work.name:D.id},de=(D,te)=>{const K=oe(D),ee=oe(te);return K.localeCompare(ee,"es",{sensitivity:"base"})},Ce=[];Y.forEach(D=>{const te=J.get(D.id);te&&te.length&&Ce.push({objective:D,items:te.slice().sort(de)})});const ve=J.get(Sh);return ve&&ve.length&&Ce.push({objective:void 0,items:ve.slice().sort(de)}),Ce},[H,Q,Y,M,W]),le=((Gn=Y[0])==null?void 0:Gn.id)??"",ae=(J,oe)=>{B(de=>{const Ce=de[J];return Ce?{...de,[J]:oe(Ce)}:de})},xe=J=>J.length>0?J:[""],ue=J=>J.length>0?J:[""],be=J=>{B(oe=>oe[J.id]?oe:{...oe,[J.id]:{data:{id:J.id,name:J.name,subtitle:J.subtitle??"",objectiveId:J.objectiveId,parentWorkId:J.parentWorkId??"",nodeType:J.nodeType??"",tags:J.tags??[],orderHint:J.orderHint??0,nextWorkId:J.nextWorkId??"",variantOfWorkId:J.variantOfWorkId??"",descriptionMarkdown:J.descriptionMarkdown,estimatedMinutes:J.estimatedMinutes,notes:J.notes??"",videoUrls:xe(J.videoUrls.slice()),visibility:J.visibility??"private",collaborators:ue(J.collaboratorEmails??[])},isNew:!1,originalId:J.id}}),E(oe=>{const de=new Set(oe);return de.add(J.id),de})},we=()=>{const J=`draft-${en()}`;B(oe=>({...oe,[J]:{data:{...K0,id:J,subtitle:"",objectiveId:le},isNew:!0}})),E(oe=>{const de=new Set(oe);return de.add(J),de})},_e=J=>{const oe=`draft-${en()}`;B(de=>({...de,[oe]:{data:{id:oe,name:`${J.name} (copia)`,subtitle:J.subtitle??"",objectiveId:J.objectiveId,parentWorkId:J.parentWorkId??"",nodeType:J.nodeType??"",tags:J.tags??[],orderHint:J.orderHint??0,nextWorkId:"",variantOfWorkId:"",descriptionMarkdown:J.descriptionMarkdown,estimatedMinutes:J.estimatedMinutes,notes:J.notes??"",videoUrls:xe(J.videoUrls.slice()),visibility:"private",collaborators:[""]},isNew:!0}})),E(de=>{const Ce=new Set(de);return Ce.add(oe),Ce}),w({type:"success",text:"Duplicacin creada. Ajusta y guarda para confirmarla."})},Fe=J=>{const oe=`draft-${en()}`;B(de=>({...de,[oe]:{data:{...K0,id:oe,subtitle:"",objectiveId:J.objectiveId,parentWorkId:J.id,estimatedMinutes:J.estimatedMinutes,visibility:J.visibility??"private",collaborators:[""]},isNew:!0}})),E(de=>{const Ce=new Set(de);return Ce.add(oe),Ce}),w({type:"success",text:`Creando un trabajo hijo para ${J.name}. Ajusta y guarda para confirmarlo.`})},We=J=>{E(oe=>{const de=new Set(oe);return de.has(J)?de.delete(J):de.add(J),de})},Oe=J=>{B(oe=>{const de={...oe};return delete de[J],de}),J.startsWith("draft-")&&E(oe=>{const de=new Set(oe);return de.delete(J),de})},Xe=async J=>{const oe=A[J];if(!oe||re)return;if(!p){w({type:"error",text:"Inicia sesin para guardar este trabajo."});return}const de=(oe.data.parentWorkId??"").trim(),Ce=de.length>0?de:void 0,ve=oe.data.nodeType.trim(),D=ve.length>0?ve:void 0,te=N3(oe.data.tags??[]),K=Number(oe.data.orderHint)>0?Number(oe.data.orderHint):void 0,ee=(oe.data.nextWorkId??"").trim(),ge=ee.length>0?ee:void 0,Pe=(oe.data.variantOfWorkId??"").trim(),ze=Pe.length>0?Pe:void 0,ke={name:oe.data.name.trim(),subtitle:oe.data.subtitle.trim()||void 0,objectiveId:oe.data.objectiveId,nodeType:D,tags:te,orderHint:K,nextWorkId:ge,variantOfWorkId:ze,descriptionMarkdown:oe.data.descriptionMarkdown,estimatedMinutes:Number(oe.data.estimatedMinutes)||0,notes:oe.data.notes.trim()||void 0,videoUrls:oe.data.videoUrls.map(Ke=>Ke.trim()).filter(Boolean),parentWorkId:Ce,visibility:oe.data.visibility,collaboratorEmails:Array.from(new Set(oe.data.collaborators.map(Ke=>Ke.trim().toLowerCase()).filter(Ke=>Ke.length>0)))};if(!ke.name){w({type:"error",text:"El nombre es obligatorio."});return}if(!ke.objectiveId){w({type:"error",text:"Selecciona un objetivo para el trabajo."});return}if(ke.parentWorkId&&oe.originalId){if(ke.parentWorkId===oe.originalId){w({type:"error",text:"Un trabajo no puede ser su propio padre."});return}const Ke=z.get(oe.originalId);if(Ke&&Ke.has(ke.parentWorkId)){w({type:"error",text:"Selecciona un trabajo padre que no sea un descendiente."});return}}if(oe.originalId&&ke.nextWorkId===oe.originalId){w({type:"error",text:"Un trabajo no puede tenerse como siguiente."});return}if(oe.originalId&&ke.variantOfWorkId===oe.originalId){w({type:"error",text:"Un trabajo no puede ser variante de s mismo."});return}const ut=oe.originalId?W.get(oe.originalId):void 0,lt=oe.isNew||((ut==null?void 0:ut.isOwner)??!1);X(J);try{if(oe.isNew){const Ke=await r({name:ke.name,subtitle:ke.subtitle,objectiveId:ke.objectiveId,parentWorkId:ke.parentWorkId,nodeType:ke.nodeType,tags:ke.tags,orderHint:ke.orderHint,nextWorkId:ke.nextWorkId,variantOfWorkId:ke.variantOfWorkId,descriptionMarkdown:ke.descriptionMarkdown,estimatedMinutes:ke.estimatedMinutes,notes:ke.notes,videoUrls:ke.videoUrls,visibility:ke.visibility,collaboratorEmails:ke.collaboratorEmails},p);w({type:"success",text:"Trabajo creado correctamente."}),E(xt=>{const tt=new Set(xt);return tt.delete(J),tt.add(Ke.id),tt})}else if(oe.originalId){const Ke={name:ke.name,subtitle:ke.subtitle??null,objectiveId:ke.objectiveId,parentWorkId:ke.parentWorkId??null,nodeType:ke.nodeType??null,tags:ke.tags,orderHint:ke.orderHint??null,nextWorkId:ke.nextWorkId??null,variantOfWorkId:ke.variantOfWorkId??null,descriptionMarkdown:ke.descriptionMarkdown,estimatedMinutes:ke.estimatedMinutes,notes:ke.notes??null,videoUrls:ke.videoUrls};lt&&(Ke.visibility=ke.visibility,Ke.collaboratorEmails=ke.collaboratorEmails),await i(oe.originalId,Ke,p),w({type:"success",text:"Trabajo actualizado."})}B(Ke=>{const xt={...Ke};return delete xt[J],xt})}catch(Ke){console.error("No se pudo guardar el trabajo",Ke),w({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{X(null)}},St=async J=>{var de;if(!p){w({type:"error",text:"Inicia sesin para eliminar trabajos."});return}const oe=(((de=z.get(J))==null?void 0:de.size)??0)>0;try{if(!await o(J,p)){w({type:"error",text:oe?"No se puede eliminar porque tiene trabajos hijos.":"No se puede eliminar porque est siendo usado en alguna sesin."});return}w({type:"success",text:"Trabajo eliminado."}),B(ve=>{const D={...ve};return delete D[J],D}),E(ve=>{const D=new Set(ve);return D.delete(J),D})}catch(Ce){console.error("No se pudo eliminar el trabajo",Ce),w({type:"error",text:"No tienes permisos para eliminar este trabajo o se ha producido un error."})}},tn=async J=>{if(!p){w({type:"error",text:"Inicia sesin para editar trabajos."});return}if(!(J.canEdit??!1)||(J.nodeType??"").trim().toLowerCase()==="style")return;const oe=(J.tags??[]).map(ve=>ve.trim().toLowerCase()).filter(Boolean),de=oe.includes(Na),Ce=de?oe.filter(ve=>ve!==Na):Array.from(new Set([...oe,Na]));$(J.id);try{await i(J.id,{tags:Ce},p),w({type:"success",text:de?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>w(null),1800)}catch(ve){console.error("No se pudo actualizar el trabajo",ve),w({type:"error",text:"No se han podido guardar los cambios. Comprueba tus permisos e intntalo de nuevo."})}finally{$(null)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel space-y-4 p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Trabajos"}),g.jsx("p",{className:"max-w-2xl text-white/60",children:"Gestiona los ejercicios reutilizables por objetivo. Duplica, edita y ajusta los detalles sin salir del listado."})]}),g.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row sm:items-center",children:[g.jsx("input",{type:"search",className:"input-field w-full sm:w-72",value:v,onChange:J=>y(J.target.value),placeholder:"Buscar por nombre, descripcin u objetivo"}),g.jsx(wr,{to:"/catalog/taxonomy",className:"btn-secondary",children:"Taxonomy"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:we,children:"Nuevo trabajo"}),c?g.jsx("span",{className:"text-xs text-white/60 sm:ml-3",children:"Sincronizando trabajos"}):null]})]}),S&&g.jsx("div",{className:Re("rounded-2xl border px-4 py-3 text-sm",S.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:S.text})]}),g.jsx("section",{className:"space-y-6",children:ce.length===0?c?g.jsx("div",{className:"glass-panel p-10 text-center text-white/60",children:"Sincronizando trabajos"}):g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no hay trabajos guardados. Empieza creando uno con el botn Nuevo trabajo."}):ce.map(({objective:J,items:oe})=>{const de=J?J.name:"Sin objetivo asignado",Ce=(J==null?void 0:J.id)??Sh,ve=P.has(Ce);return g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{type:"button",onClick:()=>O(D=>{const te=new Set(D);return te.has(Ce)?te.delete(Ce):te.add(Ce),te}),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white","aria-label":ve?"Expandir grupo":"Colapsar grupo",title:ve?"Expandir":"Colapsar",children:ve?"":""}),g.jsx("h3",{className:"text-lg font-semibold text-white",children:de}),g.jsx($i,{objective:J,size:"sm"})]}),g.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[oe.length," trabajo",oe.length===1?"":"s"]})]}),ve?null:g.jsx("div",{className:"space-y-4",children:oe.filter(D=>!I(D)).map(D=>{var lt,Ke,xt,tt,Bt,Nt,mn;const te=_.has(D.id),K=(D.isEditing&&D.form?D.form.parentWorkId:D.parentWorkId)??"",ee=D.isEditing?j((lt=D.work)==null?void 0:lt.id,K):[],Pe=(D.work?Z.get(D.work.id)??[]:[]).length,ze=N.has(D.id);if(D.isEditing&&D.form){const ot=D.isNew||(((Ke=D.work)==null?void 0:Ke.canEdit)??!1),gn=D.isNew||(((xt=D.work)==null?void 0:xt.isOwner)??!1),mt=D.isNew||(((tt=D.work)==null?void 0:tt.isOwner)??!1);return g.jsx(P3,{form:D.form,objectiveOptions:Y,parentOptions:ee,workOptions:R,nodeTypeOptions:q,tagOptions:F,onCreateNodeType:l,onCreateTag:u,depth:D.depth,onFieldChange:Ye=>ae(D.id,it=>{const nt={...it.data,...Ye};if(Ye.parentWorkId!==void 0&&Ye.parentWorkId.length>0){const wt=W.get(Ye.parentWorkId);wt&&(nt.objectiveId=wt.objectiveId)}return Ye.visibility==="private"&&(nt.collaborators=[""]),{...it,data:nt}}),onVideoChange:(Ye,it)=>ae(D.id,nt=>{const wt=nt.data.videoUrls.slice();return wt[Ye]=it,{...nt,data:{...nt.data,videoUrls:wt}}}),onAddVideo:()=>ae(D.id,Ye=>({...Ye,data:{...Ye.data,videoUrls:[...Ye.data.videoUrls,""]}})),onRemoveVideo:Ye=>ae(D.id,it=>{const nt=it.data.videoUrls.slice();return nt.splice(Ye,1),{...it,data:{...it.data,videoUrls:nt.length?nt:[""]}}}),onCollaboratorChange:(Ye,it)=>ae(D.id,nt=>{const wt=nt.data.collaborators.slice();return wt[Ye]=it,{...nt,data:{...nt.data,collaborators:wt}}}),onAddCollaborator:()=>ae(D.id,Ye=>Ye.data.collaborators.length>=F1?Ye:{...Ye,data:{...Ye.data,collaborators:[...Ye.data.collaborators,""]}}),onRemoveCollaborator:Ye=>ae(D.id,it=>{const nt=it.data.collaborators.slice();return nt.splice(Ye,1),nt.length||nt.push(""),{...it,data:{...it.data,collaborators:nt}}}),onSave:()=>void Xe(D.id),onCancel:()=>Oe(D.id),isNew:D.isNew,canEditContent:ot,canManageSharing:gn,isSaving:re===D.id,isOwner:mt,ownerEmail:(Bt=D.work)==null?void 0:Bt.ownerEmail},D.id)}if(!D.work)return null;const ke=D.work.nextWorkId?M.get(D.work.nextWorkId)??((Nt=W.get(D.work.nextWorkId))==null?void 0:Nt.name):void 0,ut=D.work.variantOfWorkId?M.get(D.work.variantOfWorkId)??((mn=W.get(D.work.variantOfWorkId))==null?void 0:mn.name):void 0;return g.jsx(I3,{work:D.work,childCount:Pe,depth:D.depth,expanded:te,isTreeCollapsed:ze,isPersonalExcluded:(D.work.tags??[]).map(ot=>ot.trim().toLowerCase()).includes(Na),canTogglePersonal:(D.work.canEdit??!1)&&(D.work.nodeType??"").trim().toLowerCase()!=="style",personalToggleBusy:L===D.id,nextLabel:ke,variantLabel:ut,onToggle:()=>We(D.id),onToggleTree:()=>C(ot=>{const gn=new Set(ot);return gn.has(D.id)?gn.delete(D.id):gn.add(D.id),gn}),onTogglePersonal:()=>{D.work&&tn(D.work)},onEdit:()=>{const ot=D.work;ot&&(ot.canEdit??!1)&&be(ot)},onDuplicate:()=>{const ot=D.work;ot&&(ot.canEdit??!1)&&_e(ot)},onCreateChild:()=>{const ot=D.work;ot&&(ot.canEdit??!1)&&Fe(ot)},onDelete:()=>{const ot=D.work;ot&&(ot.isOwner??!1)&&St(ot.id)}},D.id)})})]},(J==null?void 0:J.id)??"sin-objetivo")})})]})}function G0(e){return e.reduce((t,n)=>(t[n]=(t[n]??0)+1,t),{})}function R3(){const{works:e,workTaxonomy:t,upsertNodeType:n,removeNodeType:r,upsertTag:i,removeTag:o}=Ee(_=>({works:_.works,workTaxonomy:_.workTaxonomy,upsertNodeType:_.upsertNodeType,removeNodeType:_.removeNodeType,upsertTag:_.upsertTag,removeTag:_.removeTag})),[l,u]=k.useState(""),[c,f]=k.useState(""),[h,p]=k.useState(null),v=k.useMemo(()=>{const _=e.map(E=>(E.nodeType??"").trim().toLowerCase()).filter(Boolean);return G0(_)},[e]),y=k.useMemo(()=>{const _=e.flatMap(E=>(E.tags??[]).map(N=>N.trim().toLowerCase()).filter(Boolean));return G0(_)},[e]),S=t.nodeTypes.slice().sort((_,E)=>_.label.localeCompare(E.label,"en",{sensitivity:"base"})),w=t.tags.slice().sort((_,E)=>_.name.localeCompare(E.name,"en",{sensitivity:"base"}));return g.jsxs("div",{className:"space-y-6",children:[g.jsx("header",{className:"flex flex-wrap items-start justify-between gap-4 rounded-3xl border border-white/10 bg-white/5 px-6 py-5",children:g.jsxs("div",{children:[g.jsx("p",{className:"font-display text-2xl font-semibold",children:"Taxonomy"}),g.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Node types and tags used across the catalog and personal planning."}),g.jsx("p",{className:"mt-2 text-sm",children:g.jsx(wr,{to:"/catalog",className:"text-sky-300 hover:text-sky-200",children:" Back to Catalog"})})]})}),h?g.jsx("div",{className:`rounded-2xl border px-4 py-3 text-sm ${h.type==="success"?"border-emerald-500/30 bg-emerald-500/10 text-emerald-100":"border-rose-500/30 bg-rose-500/10 text-rose-100"}`,children:h.text}):null,g.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[g.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsx("div",{className:"flex items-start justify-between gap-4",children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold",children:"Node types"}),g.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Used by works and group rules. Keys are stored in works."})]})}),g.jsxs("div",{className:"mt-5 flex flex-col gap-3 sm:flex-row sm:items-end",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/50",children:"New node type"}),g.jsx("input",{className:"input-field mt-2",value:l,onChange:_=>u(_.target.value),placeholder:"e.g. Dance figures"})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{const _=n(l);if(!_){p({type:"error",text:"Please enter a valid node type."});return}u(""),p({type:"success",text:`Node type created: ${_}`})},children:"Add"})]}),g.jsxs("div",{className:"mt-6 space-y-2",children:[S.map(_=>{const E=(v[_.key]??0)>0;return g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-white/10 bg-slate-950/30 px-4 py-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-white",children:_.label}),g.jsxs("p",{className:"text-xs text-white/50",children:["key: ",g.jsx("span",{className:"font-mono",children:_.key}),"  used by ",v[_.key]??0," works"]})]}),g.jsx("button",{type:"button",disabled:E,className:"rounded-full border border-white/15 bg-white/5 px-3 py-2 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white disabled:opacity-50",title:E?"Cannot delete: in use":"Delete",onClick:()=>{const N=r(_.key);p(N?{type:"success",text:`Node type removed: ${_.key}`}:{type:"error",text:"Cannot remove node type (it may be in use)."})},children:"Delete"})]},_.key)}),S.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"No node types yet."}):null]})]}),g.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[g.jsx("div",{className:"flex items-start justify-between gap-4",children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold",children:"Tags"}),g.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Lowercase slugs (spaces become hyphens). Deleting is blocked if used."})]})}),g.jsxs("div",{className:"mt-5 flex flex-col gap-3 sm:flex-row sm:items-end",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-white/50",children:"New tag"}),g.jsx("input",{className:"input-field mt-2",value:c,onChange:_=>f(_.target.value),placeholder:"e.g. bei-shaolin"})]}),g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{const _=i(c);if(!_){p({type:"error",text:"Please enter a valid tag."});return}f(""),p({type:"success",text:`Tag created: ${_}`})},children:"Add"})]}),g.jsxs("div",{className:"mt-6 space-y-2",children:[w.map(_=>{const E=(y[_.name]??0)>0;return g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-white/10 bg-slate-950/30 px-4 py-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-white",children:_.name}),g.jsxs("p",{className:"text-xs text-white/50",children:["used by ",y[_.name]??0," works"]})]}),g.jsx("button",{type:"button",disabled:E,className:"rounded-full border border-white/15 bg-white/5 px-3 py-2 text-xs font-semibold text-white/70 transition hover:border-white/30 hover:text-white disabled:opacity-50",title:E?"Cannot delete: in use":"Delete",onClick:()=>{const N=o(_.name);p(N?{type:"success",text:`Tag removed: ${_.name}`}:{type:"error",text:"Cannot remove tag (it may be in use)."})},children:"Delete"})]},_.name)}),w.length===0?g.jsx("p",{className:"text-sm text-white/60",children:"No tags yet."}):null]})]})]})]})}const Eh={name:"",colorHex:"#60a5fa",descriptionMarkdown:""},J0=["#F97316","#FB7185","#F43F5E","#EC4899","#D946EF","#A855F7","#8B5CF6","#6366F1","#4F46E5","#3B82F6","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#0D9488","#10B981","#22C55E","#65A30D","#84CC16","#A3E635","#FACC15","#FBBF24","#F59E0B","#EA580C","#C2410C","#E11D48","#EF4444","#F87171","#FB923C","#F472B6","#FDE047","#7C3AED"];function O3(){const e=Ee(w=>w.objectives),t=Ee(w=>w.addObjective),n=Ee(w=>w.updateObjective),r=Ee(w=>w.deleteObjective),i=Ee(w=>w.works),[o,l]=k.useState(Eh),[u,c]=k.useState(null),f=k.useMemo(()=>{const w=new Map;return i.forEach(_=>{w.set(_.objectiveId,(w.get(_.objectiveId)??0)+1)}),w},[i]),h=k.useMemo(()=>[...e].sort((w,_)=>(w.name??"").localeCompare(_.name??"","es")),[e]),p=w=>{if(w.preventDefault(),!o.name.trim()){c({type:"error",text:"El nombre es obligatorio."});return}const _={name:o.name.trim(),colorHex:o.colorHex,descriptionMarkdown:o.descriptionMarkdown};o.id?(n(o.id,_),c({type:"success",text:"Objetivo actualizado."})):(t(_),c({type:"success",text:"Objetivo creado."})),l(Eh)},v=w=>{l({id:w.id,name:w.name,colorHex:w.colorHex,descriptionMarkdown:w.descriptionMarkdown})},y=w=>{const _=r(w);c(_?{type:"success",text:"Objetivo eliminado."}:{type:"error",text:"No se puede eliminar porque tiene trabajos asociados."})},S=()=>{if(e.length===0){c({type:"error",text:"No hay objetivos a los que asignar colores."});return}const w=[...J0];e.map((E,N)=>{const C=w[N%w.length];return{id:E.id,colorHex:C}}).forEach(({id:E,colorHex:N})=>n(E,{colorHex:N})),c({type:"success",text:"Colores repartidos equitativamente entre los objetivos."})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Objetivos"}),g.jsx("p",{className:"text-white/60",children:"Define categoras de trabajo con color y contexto para identificar visualmente cada ejercicio."})]}),g.jsx("div",{className:"flex flex-wrap gap-3",children:g.jsx("button",{type:"button",className:"btn-secondary",onClick:S,children:"Repartir colores"})})]}),u&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${u.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:u.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:o.id?"Editar objetivo":"Nuevo objetivo"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:p,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:o.name,onChange:w=>l(_=>({..._,name:w.target.value})),placeholder:"Ej. Resistencia, Tcnica, Juego",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Color identificativo"}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsx("input",{type:"color",className:"h-12 w-12 cursor-pointer rounded-full border border-white/20 bg-transparent",value:o.colorHex,onChange:w=>l(_=>({..._,colorHex:w.target.value})),"aria-label":"Elegir color personalizado"}),g.jsx("input",{type:"text",className:"input-field max-w-[140px]",value:o.colorHex,onChange:w=>l(_=>({..._,colorHex:w.target.value})),placeholder:"#60a5fa","aria-label":"Cdigo hex del color"})]}),g.jsx("div",{className:"grid grid-cols-8 gap-2 rounded-3xl border border-white/10 bg-white/5 p-3",children:J0.map(w=>g.jsx("button",{type:"button",onClick:()=>l(_=>({..._,colorHex:w})),className:Re("relative flex h-9 w-9 items-center justify-center rounded-full border border-white/20 transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/60",o.colorHex.toLowerCase()===w.toLowerCase()&&"ring-2 ring-white/80 ring-offset-2 ring-offset-slate-900"),style:{backgroundColor:w},"aria-label":`Seleccionar color ${w}`,children:o.colorHex.toLowerCase()===w.toLowerCase()&&g.jsx("span",{className:"text-xs font-semibold text-slate-900",children:""})},w))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Descripcin (Markdown)"}),g.jsx("textarea",{className:"input-field min-h-[140px]",value:o.descriptionMarkdown,onChange:w=>l(_=>({..._,descriptionMarkdown:w.target.value})),placeholder:"Explica cundo usar este tipo de trabajo, objetivos pedaggicos, etc."})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:o.id?"Guardar objetivo":"Crear objetivo"}),o.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l(Eh),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-6",children:h.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"An no has creado objetivos. Crea uno con el formulario para clasificarlos por color y descripcin."}):h.map(w=>g.jsxs("div",{className:"glass-panel space-y-4 p-6",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsx($i,{objective:w}),g.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[g.jsxs("span",{children:[f.get(w.id)??0," trabajos"]}),g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>v(w),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>y(w.id),children:"Eliminar"})]})]}),g.jsx(ws,{content:w.descriptionMarkdown})]},w.id))})]})]})}const _h={name:"",notes:"",active:!0};function M3(){const e=Ee(h=>h.assistants),t=Ee(h=>h.addAssistant),n=Ee(h=>h.updateAssistant),r=Ee(h=>h.deleteAssistant),[i,o]=k.useState(_h),[l,u]=k.useState(null),c=h=>{if(h.preventDefault(),!i.name.trim()){u({type:"error",text:"El nombre es obligatorio."});return}const p={name:i.name.trim(),notes:i.notes,active:i.active};i.id?(n(i.id,p),u({type:"success",text:"Asistente actualizado."})):(t(p),u({type:"success",text:"Asistente aadido."})),o(_h)},f=h=>{o({id:h.id,name:h.name,notes:h.notes??"",active:h.active})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Asistentes"}),g.jsx("p",{className:"text-white/60",children:"Mantn una lista base de alumnado para registrar asistencia rpidamente durante cada sesin."})]})}),l&&g.jsx("div",{className:Re("mt-4 rounded-2xl border px-4 py-3 text-sm",l.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:l.text})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.5fr]",children:[g.jsxs("section",{className:"glass-panel p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:i.id?"Editar asistente":"Nuevo asistente"}),g.jsxs("form",{className:"mt-4 space-y-4",onSubmit:c,children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Nombre"}),g.jsx("input",{type:"text",className:"input-field",value:i.name,onChange:h=>o(p=>({...p,name:h.target.value})),placeholder:"Nombre y apellidos",required:!0})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Notas"}),g.jsx("textarea",{className:"input-field min-h-[120px]",value:i.notes,onChange:h=>o(p=>({...p,notes:h.target.value})),placeholder:"Observaciones, nivel, lesiones, etc."})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("input",{id:"assistant-active",type:"checkbox",className:"h-5 w-5 rounded border border-white/20 bg-white/10 text-sky-400",checked:i.active,onChange:h=>o(p=>({...p,active:h.target.checked}))}),g.jsx("label",{htmlFor:"assistant-active",className:"text-sm text-white/70",children:"Activo (aparecer en los listados de asistencia)"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:i.id?"Guardar asistente":"Aadir asistente"}),i.id&&g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(_h),children:"Cancelar edicin"})]})]})]}),g.jsx("section",{className:"space-y-4",children:e.length===0?g.jsx("div",{className:"glass-panel p-10 text-center text-white/50",children:"Todava no tienes asistentes guardados. Crea uno desde el formulario para empezar a marcar asistencia en sesiones."}):e.map(h=>g.jsxs("div",{className:"glass-panel flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:h.name}),h.notes?g.jsx("p",{className:"text-sm text-white/60",children:h.notes}):null]}),g.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[g.jsx("span",{className:Re("rounded-full border px-3 py-1 text-xs font-semibold",h.active?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-white/20 bg-white/5 text-white/60"),children:h.active?"Activo":"Inactivo"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>f(h),children:"Editar"}),g.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-rose-500/40 px-3 py-1 text-xs font-semibold text-rose-300",onClick:()=>r(h.id),children:"Eliminar"})]})]})]},h.id))})]})]})}function uo(e,t){return g.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70",children:[g.jsx("span",{children:e}),g.jsx("span",{className:"font-semibold text-white",children:t})]},e)}function L3(){var c,f,h,p,v,y;const e=Ee(S=>S.exportBackup),t=Ee(S=>S.importBackup),[n,r]=k.useState(null),[i,o]=k.useState(null),l=()=>{try{const S=e(),w=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),_=URL.createObjectURL(w),E=document.createElement("a");E.href=_,E.download=`sport-planner-backup-${new Date().toISOString().slice(0,10)}.json`,E.click(),URL.revokeObjectURL(_),r({type:"success",text:"Backup exportado correctamente."})}catch(S){console.error(S),r({type:"error",text:"No se pudo exportar el backup."})}},u=async S=>{var _;const w=(_=S.target.files)==null?void 0:_[0];if(w)try{const E=await w.text(),N=JSON.parse(E);t(N),o(N),r({type:"success",text:"Datos importados correctamente."})}catch(E){console.error(E),r({type:"error",text:"No se pudo importar el archivo. Revisa que sea un JSON vlido."})}finally{S.target.value=""}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Backups"}),g.jsx("p",{className:"text-white/60",children:"Exporta e importa toda tu informacin en JSON versionado para compartir o restaurar en cualquier momento."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx("button",{type:"button",className:"btn-primary",onClick:l,children:"Descargar backup"}),g.jsxs("label",{className:"btn-secondary cursor-pointer",children:["Importar backup",g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:u})]})]})]}),n&&g.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${n.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"}`,children:n.text})]}),i&&g.jsxs("section",{className:"glass-panel space-y-4 p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"ltima importacin"}),g.jsxs("p",{className:"text-sm text-white/60",children:["Versin del backup: ",i.version]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[uo("Objetivos",((c=i.objetivos)==null?void 0:c.length)??0),uo("Trabajos",((f=i.trabajos)==null?void 0:f.length)??0),uo("Sesiones",((h=i.sesiones)==null?void 0:h.length)??0),uo("Asistentes",((p=i.asistentes)==null?void 0:p.length)??0),uo("Sesiones  Trabajos",((v=i.sesiones_trabajos)==null?void 0:v.length)??0),uo("Sesiones  Asistencias",((y=i.sesiones_asistencias)==null?void 0:y.length)??0)]})]}),g.jsxs("section",{className:"glass-panel space-y-3 p-6 text-sm text-white/70",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Consejos"}),g.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[g.jsx("li",{children:"Guarda tus backups en un servicio en la nube para poder restaurarlos desde cualquier dispositivo."}),g.jsx("li",{children:"Antes de importar, realiza una exportacin por seguridad. La restauracin sobrescribe los datos actuales sin posibilidad de deshacer."}),g.jsx("li",{children:"Los backups mantienen los IDs, as que puedes sincronizar manualmente varias instalaciones si lo necesitas."})]})]})]})}function D3(){const{signInWithPassword:e,signUpWithPassword:t,session:n,loading:r}=_s(),[i,o]=k.useState("login"),[l,u]=k.useState(""),[c,f]=k.useState(""),[h,p]=k.useState(""),[v,y]=k.useState(!1),[S,w]=k.useState(null),[_,E]=k.useState(null);if(!r&&n)return g.jsx(wc,{to:"/",replace:!0});const N=async P=>{if(P.preventDefault(),w(null),E(null),!l||!c){w("Introduce tu email y contrasea.");return}if(i==="register"&&c!==h){w("Las contraseas no coinciden.");return}try{y(!0),i==="login"?await e(l,c):(await t(l,c),E("Revisa tu correo para confirmar la cuenta y vuelve a iniciar sesin."))}catch(O){const A=O instanceof Error?O.message:"No se pudo completar la operacin.";w(A)}finally{y(!1)}},C=()=>{o(P=>P==="login"?"register":"login"),w(null),E(null),f(""),p("")};return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 px-4 py-12",children:g.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur",children:[g.jsxs("header",{className:"mb-8 text-center",children:[g.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-xl font-bold text-white",children:"SP"}),g.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:i==="login"?"Inicia sesin":"Crea tu cuenta"}),g.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Accede a tus planes desde cualquier dispositivo con Supabase."})]}),g.jsxs("form",{className:"space-y-5",onSubmit:N,children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Email"}),g.jsx("input",{id:"email",type:"email",required:!0,className:"input-field w-full",value:l,onChange:P=>u(P.target.value),placeholder:"tu@correo.com",autoComplete:"email"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Contrasea"}),g.jsx("input",{id:"password",type:"password",required:!0,className:"input-field w-full",value:c,onChange:P=>f(P.target.value),autoComplete:i==="login"?"current-password":"new-password"})]}),i==="register"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wide text-white/50",children:"Confirmar contrasea"}),g.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"input-field w-full",value:h,onChange:P=>p(P.target.value),autoComplete:"new-password"})]}),S&&g.jsx("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:S}),_&&g.jsx("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200",children:_}),g.jsx("button",{type:"submit",className:"btn-primary w-full justify-center",disabled:v,children:v?"Procesando":i==="login"?"Entrar":"Crear cuenta"})]}),g.jsx("footer",{className:"mt-6 text-center text-sm text-white/60",children:i==="login"?g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:C,children:"No tienes cuenta? Regstrate"}):g.jsx("button",{type:"button",className:"text-sky-300 hover:text-sky-200",onClick:C,children:"Ya tienes cuenta? Inicia sesin"})})]})})}Ve.locale("es");const Wu="personal-exclude",Ch={ok:"OK",doubt:"Dudosa",fail:"Fallo"},Q0={ok:"border-emerald-500/50 bg-emerald-500/15 text-emerald-100 hover:border-emerald-400",doubt:"border-amber-400/40 bg-amber-500/10 text-amber-200 hover:border-amber-300",fail:"border-rose-500/50 bg-rose-500/10 text-rose-200 hover:border-rose-400"},$3={ok:"border-emerald-500/25 bg-emerald-500/10",doubt:"border-amber-400/25 bg-amber-500/10",fail:"border-rose-500/25 bg-rose-500/10"};function qc(e){return Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(t=>t.length>0)))}function mc(e,t){const n=qc(e.tags),r=e.nodeType??"work";return!(t.byWorkIds&&t.byWorkIds.length>0&&!t.byWorkIds.includes(e.id)||t.byNodeTypes&&t.byNodeTypes.length>0&&!t.byNodeTypes.includes(r)||t.byTags&&t.byTags.length>0&&!t.byTags.map(o=>o.trim().toLowerCase()).filter(Boolean).every(o=>n.includes(o)))}function z1(e,t){const n=e.nodeType??"work",r=t.targetsDays[n]??t.targetsDays.work??7,i=qc(e.tags),o=(t.overrides??[]).reduce((u,c)=>{var p,v;const f=((v=(p=c.match)==null?void 0:p.tagsAny)==null?void 0:v.map(y=>y.trim().toLowerCase()).filter(Boolean))??[];return f.length===0?u:f.some(y=>i.includes(y))?u*(c.multiplier||1):u},1);return Math.max(1,Math.round(r*o))}function F3(e){return(e.nodeType??"").trim().toLowerCase()!=="style"}function Hu(e,t){const n=typeof e.estimatedMinutes=="number"?e.estimatedMinutes:0;if(Number.isFinite(n)&&n>0)return n;const r=(e.nodeType??"work").trim().toLowerCase()||"work",i=t.defaultMinutesByNodeType[r]??t.defaultMinutesByNodeType.work??3;return Math.max(.25,Number(i)||3)}function B1(e){var h,p,v;const t=e.groups??[];if(t.length>0)return[...t].sort((y,S)=>(y.order??0)-(S.order??0));const n=Math.max(0,Number((h=e.template)==null?void 0:h.focusMinutes)||18),r=Math.max(0,Number((p=e.template)==null?void 0:p.rouletteMinutes)||10),i=Math.max(0,Number((v=e.template)==null?void 0:v.recapMinutes)||0),o=e.focusSelectors??[],l=e.rouletteSelectors??[],u=o.length>0?o:[{byNodeTypes:["segment","form"]}],c=l.length>0?l:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],f=[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:n,strategy:"overdue",hierarchyRule:"prefer_leaves",include:u,exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:r,strategy:"weighted",hierarchyRule:"allow_all",include:c,exclude:[]}];return i>0&&f.push({id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:i}),f}function z3(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function B3(e){let t=e>>>0;return()=>{t=t+1831565813>>>0;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function U3(e,t,n){const r=B3(z3(n));return e.map(i=>{const o=Math.max(1e-4,t(i)),l=Math.max(1e-9,r()),u=-Math.log(l)/o;return{item:i,score:u}}).sort((i,o)=>i.score-o.score).map(({item:i})=>i)}function W3(e){const t=new Map;return e.forEach(n=>{n.workItems.forEach(r=>{if(!((r.completed??!1)||typeof r.result<"u"))return;const o=t.get(r.workId);(!o||Ve(n.date).isAfter(o.date))&&t.set(r.workId,{date:n.date,result:r.result,effort:r.effort})})}),t}function H3(e){const{works:t,personalSessions:n,cadence:r,today:i}=e,o=W3(n);return t.filter(l=>F3(l)).filter(l=>!qc(l.tags).includes(Wu)).map(l=>{const u=o.get(l.id),c=z1(l,r);if(!u)return{work:l,targetDays:c,overdueScore:1e4};const f=Math.max(Ve(i).diff(Ve(u.date),"day"),0),h=Math.max(f-c,0);return{work:l,targetDays:c,lastSeen:u.date,daysSince:f,overdueScore:h,lastResult:u.result}}).sort((l,u)=>{if(u.overdueScore!==l.overdueScore)return u.overdueScore-l.overdueScore;const c=l.daysSince??1e4,f=u.daysSince??1e4;return f!==c?f-c:l.work.name.localeCompare(u.work.name,"es",{sensitivity:"base"})})}function V3(e){return e?Ve(e).format("D MMM YYYY"):"Nunca"}function q3(e){const{dueList:t,plan:n,today:r,childCountByWorkId:i}=e,o=n.limitMode==="count"||n.limitMode==="both",l=n.limitMode==="minutes"||n.limitMode==="both",u=o?Math.max(1,Math.round(n.maxItems||12)):Number.POSITIVE_INFINITY,c=l?Math.max(0,Number(n.minutesBudget)||0):Number.POSITIVE_INFINITY,f=new Set([].filter(X=>(X.completed??!1)||typeof X.result<"u").map(X=>X.workId)),h=t.filter(X=>!f.has(X.work.id)),p=Ve(r).day(),v=B1(n).filter(X=>X.enabled).filter(X=>{const L=X.daysOfWeek??[];return L.length===0||L.includes(p)}).sort((X,L)=>(X.order??0)-(L.order??0)),y=v.filter(X=>(X.type??"work")==="note").reduce((X,L)=>L.limitMode==="minutes"||L.limitMode==="both"?X+Math.max(0,Number(L.minutesBudget)||0):X,0),S=Number.isFinite(c)?Math.max(0,c-y):Number.POSITIVE_INFINITY,w=`kungfu-${r}`,_=X=>{const L=X.overdueScore>=1e4?1e3:Math.max(0,X.overdueScore+1);return X.lastResult==="fail"?L*1.6:X.lastResult==="doubt"?L*1.25:L},E=X=>Hu(X.work,n),N=X=>{const L=(X.nodeType??"work").trim().toLowerCase()||"work";return{segment:30,drill:22,form:20,work:10,application:0,technique:0,link:0,style:-100}[L]??5},C=X=>[...X].sort((L,$)=>{if($.overdueScore!==L.overdueScore)return $.overdueScore-L.overdueScore;const Q=L.daysSince??1e4,Y=$.daysSince??1e4;if(Y!==Q)return Y-Q;const q=N($.work)-N(L.work);return q!==0?q:L.work.name.localeCompare($.work.name,"es",{sensitivity:"base"})}),P=new Set,O=[];let A=0,B=0;for(const X of v){if((X.type??"work")==="note"){O.push({group:X,items:[],plannedMinutes:0});continue}const $=X.include??[],Q=X.exclude??[];let Y=h.filter(ae=>P.has(ae.work.id)||!($.length===0?!0:$.some(be=>mc(ae.work,be)))?!1:!Q.some(be=>mc(ae.work,be)));if((X.hierarchyRule??"allow_all")==="prefer_leaves"){const ae=new Set(Y.map(xe=>xe.work.parentWorkId).filter(Boolean));Y=Y.filter(xe=>ae.has(xe.work.id)?(i.get(xe.work.id)??0)===0:!0)}const W=(X.strategy??"overdue")==="weighted"?U3(Y,_,`${w}-${X.id}`):C(Y),Z=X.limitMode??"minutes",M=Z==="count"||Z==="both",z=Z==="minutes"||Z==="both",j=Number(X.maxItems),R=M&&Number.isFinite(j)&&j>0?Math.round(j):Number.POSITIVE_INFINITY,H=Number(X.minutesBudget),I=z&&Number.isFinite(H)?Math.max(0,H):Number.POSITIVE_INFINITY,ce=[];let le=0;for(const ae of W){if(B>=u||ce.length>=R)break;const xe=E(ae);if(!(le+xe>I)&&!(A+xe>S)&&(ce.push(ae),le+=xe,A+=xe,B+=1,P.add(ae.work.id),l&&A>=S))break}if(O.push({group:X,items:ce,plannedMinutes:Math.round(le*10)/10}),B>=u||l&&A>=S)break}const re=Math.round((A+y)*10)/10;return{groups:O,plannedMinutes:{work:Math.round(A*10)/10,reserved:Math.round(y*10)/10,total:re},totalItems:B}}function Y3(){const e=Ee(z=>z.works),t=Ee(z=>z.sessions),n=Ee(z=>z.kungfuCadence),r=Ee(z=>z.kungfuTodayPlan),i=Ee(z=>z.updateWork),{user:o}=_s(),l=Ee(z=>z.addSession),u=Ee(z=>z.addWorkToSession),c=Ee(z=>z.updateSessionWorkDetails),f=Ee(z=>z.updateSessionWorkItems),h=Ee(z=>z.updateSession),p=Ve().format("YYYY-MM-DD"),v=k.useMemo(()=>t.filter(z=>z.kind==="personal"),[t]),y=k.useMemo(()=>v.find(z=>z.date===p),[v,p]),S=k.useMemo(()=>H3({works:e,personalSessions:v,cadence:n,today:p}),[e,v,n,p]),w=k.useMemo(()=>{const z=new Map;return e.forEach(j=>{const R=j.parentWorkId??"";R&&z.set(R,(z.get(R)??0)+1)}),z},[e]),_=k.useMemo(()=>new Map(e.map(z=>[z.id,z])),[e]),E=k.useMemo(()=>o?{actorId:o.id,actorEmail:o.email??""}:null,[o]),[N,C]=k.useState(null),[P,O]=k.useState((y==null?void 0:y.notes)??""),[A,B]=k.useState(null),[re,X]=k.useState(new Set);k.useEffect(()=>{O((y==null?void 0:y.notes)??"")},[y==null?void 0:y.notes]);const L=k.useCallback(()=>y||l({date:p,kind:"personal",title:"Entrenamiento personal",description:"",notes:""}),[l,p,y]),$=k.useMemo(()=>{const z=Ve(p).day();return B1(r).filter(j=>j.enabled).filter(j=>{const R=j.daysOfWeek??[];return R.length===0||R.includes(z)}).sort((j,R)=>(j.order??0)-(R.order??0))},[r,p]),Q=k.useMemo(()=>{const z=new Map;return $.filter(j=>(j.type??"work")!=="note").forEach((j,R)=>{z.set(j.name,R)}),z},[$]),Y=k.useCallback(z=>{const j=$.filter(R=>(R.type??"work")!=="note");for(const R of j){const H=R.include??[],I=R.exclude??[];if(!(!(H.length===0||H.some(ae=>mc(z,ae)))||I.some(ae=>mc(z,ae))))return R.name}return"Hoy"},[$]);k.useEffect(()=>{if(S.length===0)return;const z=y??L();if(!!(z.workItems??[]).some(_e=>!!_e.focusLabel))return;const H=new Set((z.workItems??[]).map(_e=>_e.workId));if((r.limitMode==="count"||r.limitMode==="both")&&H.size>=Math.max(1,Math.round(r.maxItems||12)))return;const ce=new Map;(z.workItems??[]).forEach(_e=>{const Fe=_.get(_e.workId);if(!Fe)return;const We=Y(Fe),Oe=$.find(tn=>tn.name===We),Xe=(Oe==null?void 0:Oe.id)??We,St=ce.get(Xe)??{minutes:0,items:0};ce.set(Xe,{minutes:St.minutes+Hu(Fe,r),items:St.items+1})});const le=(z.workItems??[]).reduce((_e,Fe)=>{const We=_.get(Fe.workId);return We?_e+Hu(We,r):_e},0),ae={...r,maxItems:Math.max(0,Math.round((r.maxItems??0)-H.size)),minutesBudget:Math.max(0,Number(r.minutesBudget??0)-le),groups:$.map(_e=>{const Fe=ce.get(_e.id),We={..._e};return Fe&&(typeof _e.minutesBudget=="number"&&Number.isFinite(_e.minutesBudget)&&(We.minutesBudget=Math.max(0,_e.minutesBudget-Fe.minutes)),typeof _e.maxItems=="number"&&Number.isFinite(_e.maxItems)&&(We.maxItems=Math.max(0,Math.round(_e.maxItems-Fe.items)))),We})},xe=S.filter(_e=>!H.has(_e.work.id));q3({dueList:xe,plan:ae,today:p,childCountByWorkId:w}).groups.filter(_e=>(_e.group.type??"work")!=="note").forEach(_e=>{_e.items.forEach(Fe=>{u(z.id,{workId:Fe.work.id,focusLabel:_e.group.name,customDurationMinutes:Hu(Fe.work,r)})})});const be=Ee.getState().sessions.find(_e=>_e.id===z.id);if(!be)return;const we=(be.workItems??[]).map(_e=>{if(_e.focusLabel)return _e;const Fe=_.get(_e.workId);return Fe?{..._e,focusLabel:Y(Fe)}:_e});we.sort((_e,Fe)=>{const We=_e.focusLabel??"Hoy",Oe=Fe.focusLabel??"Hoy",Xe=Q.get(We)??999,St=Q.get(Oe)??999;return Xe!==St?Xe-St:(_e.order??0)-(Fe.order??0)}),f(z.id,we)},[S,y,r,p,w,u,f,_,$,Q,Y,L]);const q=(z,j)=>{try{const R=L(),H=R.workItems.find(I=>I.workId===z);if(H)c(R.id,H.id,{result:j,completed:!0});else{const I=u(R.id,{workId:z});if(!I)throw new Error("No se pudo aadir el trabajo a la sesin.");c(R.id,I.id,{result:j,completed:!0})}C({type:"success",text:"Registrado."}),window.setTimeout(()=>C(null),1800)}catch(R){const H=R instanceof Error?R.message:"No se pudo registrar.";C({type:"error",text:H}),window.setTimeout(()=>C(null),2500)}},F=y?y.workItems.filter(z=>(z.completed??!1)||typeof z.result<"u").length:0,W=k.useMemo(()=>{const z=new Map;return((y==null?void 0:y.workItems)??[]).slice().sort((R,H)=>(R.order??0)-(H.order??0)).forEach(R=>{const H=S.find(ue=>ue.work.id===R.workId),I=_.get(R.workId);if(!I)return;const ce={work:I,targetDays:z1(I,n),overdueScore:0,lastSeen:H==null?void 0:H.lastSeen,daysSince:H==null?void 0:H.daysSince,lastResult:H==null?void 0:H.lastResult},le=H??ce,ae=R.focusLabel??Y(I),xe=z.get(ae)??[];xe.push(le),z.set(ae,xe)}),Array.from(z.entries()).sort(([R],[H])=>{const I=Q.get(R)??999,ce=Q.get(H)??999;return I!==ce?I-ce:R.localeCompare(H,"es",{sensitivity:"base"})})},[y==null?void 0:y.workItems,S,_,n,Q,Y]),Z=z=>{const j=z.work,R=qc(j.tags),H=R.includes(Wu),I=R.filter(Oe=>Oe!==Wu),ce=(j.canEdit??!1)&&(j.nodeType??"").trim().toLowerCase()!=="style",le=A===j.id,ae=re.has(j.id),xe=y==null?void 0:y.workItems.find(Oe=>Oe.workId===j.id),ue=xe==null?void 0:xe.result,be=(j.descriptionMarkdown??"").trim(),we=(j.notes??"").trim(),_e=(j.videoUrls??[]).map(Oe=>Oe.trim()).filter(Boolean),Fe=be.length>0||we.length>0||_e.length>0,We=async()=>{if(!E){C({type:"error",text:"Inicia sesin para editar trabajos."}),window.setTimeout(()=>C(null),2500);return}if(ce){B(j.id);try{const Oe=H?I:Array.from(new Set([...I,Wu]));await i(j.id,{tags:Oe},E),C({type:"success",text:H?"Incluido en el plan personal.":"Excluido del plan personal."}),window.setTimeout(()=>C(null),1800)}catch(Oe){console.error("No se pudo actualizar el trabajo",Oe),C({type:"error",text:"No se pudo actualizar el trabajo."}),window.setTimeout(()=>C(null),2500)}finally{B(null)}}};return g.jsxs("article",{className:Re("flex flex-col gap-3 rounded-3xl border p-4 shadow shadow-black/15",ue?$3[ue]:"border-white/10 bg-white/5"),children:[g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[Fe?g.jsx("button",{type:"button",onClick:()=>X(Oe=>{const Xe=new Set(Oe);return Xe.has(j.id)?Xe.delete(j.id):Xe.add(j.id),Xe}),className:Re("mt-0.5 inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/15 bg-white/5 text-sm font-semibold text-white/70 transition hover:border-white/30 hover:text-white",ae?"rotate-90 border-white/30 text-white":""),"aria-label":ae?"Ocultar detalles":"Ver detalles",title:ae?"Ocultar detalles":"Ver detalles",children:""}):null,g.jsxs("div",{children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:j.name}),ue?g.jsx("span",{className:Re("inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold",Q0[ue]),children:Ch[ue]}):null]}),j.subtitle?g.jsx("p",{className:"text-sm text-white/70",children:j.subtitle}):null]})]}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-white/40",children:[g.jsx("span",{className:"rounded-full border border-white/15 bg-white/5 px-2 py-0.5 text-[10px] font-semibold text-white/70",children:j.nodeType??"work"}),I.slice(0,6).map(Oe=>g.jsx("span",{className:"rounded-full border border-white/10 px-2 py-0.5",children:Oe},Oe)),I.length>6?g.jsxs("span",{className:"text-white/50",children:["+",I.length-6]}):null]})]}),g.jsx("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/60 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"ltima vez"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:V3(z.lastSeen)}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:["Objetivo: ",z.targetDays," da",z.targetDays===1?"":"s"," "," ",z.overdueScore>=1e4?"Nuevo":`${z.overdueScore} vencido`]})]})})]}),Fe&&ae?g.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/60 p-4",children:[be.length>0?g.jsx(ws,{content:be,enableWorkLinks:!0}):null,we.length>0?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Notas"}),g.jsx(ws,{content:we,enableWorkLinks:!0})]}):null,_e.length>0?g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Vdeos"}),g.jsx("div",{className:"grid gap-4 lg:grid-cols-3",children:_e.map((Oe,Xe)=>g.jsxs("div",{className:"space-y-2",children:[g.jsx(Uc,{url:Oe,title:`${j.name} vdeo ${Xe+1}`}),g.jsx("a",{href:Oe,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-xs font-medium text-white/80 transition hover:border-white/30 hover:text-white",children:"Abrir en YouTube"})]},`${j.id}-video-${Xe}`))})]}):null]}):null,g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Object.keys(Ch).map(Oe=>g.jsx("button",{type:"button",className:Re("inline-flex items-center justify-center rounded-full border px-3 py-1 text-xs font-semibold transition",Q0[Oe],ue===Oe?"ring-2 ring-white/30":"opacity-90 hover:opacity-100"),onClick:()=>q(j.id,Oe),children:Ch[Oe]},Oe))}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(wr,{to:`/catalog?workId=${encodeURIComponent(j.id)}`,className:"btn-secondary",children:"Ver en catlogo"}),g.jsx("button",{type:"button",onClick:We,disabled:!ce||le,className:Re("inline-flex items-center rounded-full border px-4 py-2 text-xs font-semibold transition disabled:opacity-50",H?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:border-emerald-400":"border-rose-500/40 bg-rose-500/10 text-rose-200 hover:border-rose-400"),title:H?"Incluir en el plan personal":"Excluir del plan personal",children:le?"...":H?"Incluir":"Excluir"})]})]})]},j.id)},M=()=>{const z=L();h(z.id,{notes:P}),C({type:"success",text:"Recap guardado."}),window.setTimeout(()=>C(null),1800)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Hoy"}),g.jsx("p",{className:"text-white/60",children:"Plan directo de entrenamiento basado en cadencias y tu histrico personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Sesin de hoy"}),g.jsx("p",{className:"mt-1 font-semibold text-white",children:Ve(p).format("dddd, D [de] MMMM")}),g.jsxs("p",{className:"mt-1 text-xs text-white/50",children:[F," ",F===1?"tem registrado":"tems registrados"]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx(wr,{to:"/personal/sessions",className:"btn-secondary",children:"Ver sesiones"}),g.jsx(wr,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"})]})]})]}),N&&g.jsx("div",{className:Re("mt-4 rounded-2xl border px-4 py-3 text-sm",N.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:N.text})]}),S.length===0?g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay ningn trabajo incluido en tu programa activo. Aade la tag ",g.jsx("span",{className:"font-semibold text-white",children:"kungfu"})," a los trabajos que quieras entrenar."]}):g.jsx("section",{className:"space-y-4",children:g.jsxs("div",{className:"space-y-3",children:[W.length===0?g.jsxs("div",{className:"glass-panel p-10 text-center text-white/50",children:["No hay tems planificados para hoy. Revisa ",g.jsx("span",{className:"font-semibold text-white",children:"Ajustes"})," o marca ms trabajos como entrenables."]}):null,W.map(([z,j])=>g.jsxs("section",{className:"glass-panel space-y-4 p-3 sm:space-y-5 sm:p-6",children:[g.jsx("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:z}),g.jsxs("p",{className:"text-sm text-white/60",children:[j.length," tem",j.length===1?"":"s"]})]})}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:j.map(Z)})]},z)),$.filter(z=>z.type==="note").length>0?g.jsxs("div",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:[$.filter(z=>z.type==="note")[0].name," (",Math.max(0,Number($.filter(z=>z.type==="note")[0].minutesBudget)||0)," min)"]}),g.jsx("p",{className:"text-sm text-white/60",children:"Una correccin concreta para maana."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:M,children:"Guardar recap"})]}),g.jsx("textarea",{className:"input-field min-h-[90px] w-full resize-y",value:P,onChange:z=>O(z.target.value),placeholder:"Ej: Transicin BC: bajar hombros y cerrar cadera."})]}):null]})})]})}Ve.locale("es");function K3(){const e=Ee(w=>w.sessions).filter(w=>w.kind==="personal"),t=Ee(w=>w.works),n=Ee(w=>w.objectives),r=Ee(w=>w.assistants),i=Ee(w=>w.addSession),[o,l]=Ip(),u=k.useMemo(()=>[...e].sort((w,_)=>Ve(_.date).valueOf()-Ve(w.date).valueOf()),[e]),c=o.get("session")??void 0,f=c?e.find(w=>w.id===c):void 0,[h,p]=k.useState(f==null?void 0:f.id);k.useEffect(()=>{c&&!e.some(w=>w.id===c)&&(p(void 0),l({},{replace:!0}))},[c,e,l]);const v=h?e.find(w=>w.id===h):void 0,y=w=>{p(w),l({session:w},{replace:!0})},S=()=>{const w=Ve().format("YYYY-MM-DD"),_=e.find(N=>N.date===w);if(_){y(_.id);return}const E=i({date:w,kind:"personal",title:"Entrenamiento personal",description:"",notes:""});y(E.id)};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("header",{className:"glass-panel p-6 sm:p-10",children:g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Sesiones"}),g.jsx("p",{className:"text-white/60",children:"Histrico y edicin de sesiones de entreno personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[g.jsx(wr,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsx(wr,{to:"/personal/settings",className:"btn-secondary",children:"Ajustes"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:S,children:"Crear/abrir hoy"})]})]})}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1.9fr]",children:[g.jsxs("section",{className:"glass-panel space-y-3 p-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Sesiones"}),g.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:u.length})]}),u.length===0?g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/50",children:"No hay sesiones personales todava. Crea la sesin de hoy para empezar a registrar tu entrenamiento."}):g.jsx("div",{className:"space-y-2",children:u.map(w=>{const _=w.workItems.filter(E=>(E.completed??!1)||typeof E.result<"u").length;return g.jsxs("button",{type:"button",onClick:()=>y(w.id),className:Re("flex w-full flex-col gap-1 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-left transition hover:border-white/30 hover:bg-white/10",w.id===h&&"border-sky-400/60 bg-sky-500/10 shadow shadow-sky-500/10"),children:[g.jsx("p",{className:"text-sm font-semibold text-white",children:w.title||"Sesin sin ttulo"}),g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:Ve(w.date).format("ddd  D MMM YYYY")}),g.jsxs("p",{className:"text-xs text-white/60",children:[_,"/",w.workItems.length," registrados"]})]},w.id)})})]}),g.jsx("section",{className:"glass-panel p-6",children:v?g.jsx(D1,{session:v,works:t,objectives:n,assistants:r}):g.jsx("div",{className:"rounded-2xl border border-dashed border-white/15 bg-white/5 p-10 text-center text-white/50",children:"Selecciona una sesin para verla y editarla."})})]})]})}const _p=e=>Array.from(new Set((e??[]).map(t=>t.trim().toLowerCase()).filter(Boolean))),U1=e=>Array.from(new Set(e.split(",").map(t=>t.trim()).filter(Boolean))),W1=e=>(e??[]).join(", ");function X0(e){const t=_p(e.byTags),n=_p(e.byNodeTypes),r=U1(W1(e.byWorkIds)),i={};return t&&t.length>0&&(i.byTags=t),n&&n.length>0&&(i.byNodeTypes=n),r&&r.length>0&&(i.byWorkIds=r),i}function G3(e){const t={};Object.entries(e.targetsDays??{}).forEach(([r,i])=>{const o=r.trim().toLowerCase(),l=Number(i);o&&Number.isFinite(l)&&(t[o]=Math.max(1,Math.round(l)))});const n=(e.overrides??[]).map(r=>{var i;return{match:{tagsAny:_p(((i=r.match)==null?void 0:i.tagsAny)??[])},multiplier:Math.max(.1,Number(r.multiplier)||1)}}).filter(r=>r.match.tagsAny.length>0);return{targetsDays:t,overrides:n}}function J3(e){var N,C,P;const t=Math.max(1,Math.round(Number(e.maxItems)||12)),n=Math.max(1,Number(e.minutesBudget)||30),r={};Object.entries(e.defaultMinutesByNodeType??{}).forEach(([O,A])=>{const B=O.trim().toLowerCase(),re=Number(A);B&&Number.isFinite(re)&&(r[B]=Math.max(.25,re))});const i=O=>O==="count"||O==="minutes"||O==="both",o=O=>O==="work"||O==="note",l=O=>O==="overdue"||O==="weighted",u=O=>O==="allow_all"||O==="prefer_leaves",c=O=>{if(!Array.isArray(O))return[];const A=O.map(B=>Number(B)).filter(B=>Number.isFinite(B)).map(B=>Math.round(B)).filter(B=>B>=0&&B<=6);return Array.from(new Set(A)).sort((B,re)=>B-re)},f=(O,A)=>{const B=(O.id??"").trim()||en(),re=o(O.type)?O.type:"work",X=typeof O.enabled=="boolean"?O.enabled:!0,L=Number.isFinite(Number(O.order))?Number(O.order):A,$=(O.name??"").trim()||(re==="note"?"Recap":"Grupo"),Q=i(O.limitMode)?O.limitMode:"minutes",Y=Number.isFinite(Number(O.maxItems))?Math.max(0,Math.round(Number(O.maxItems))):void 0,q=Number.isFinite(Number(O.minutesBudget))?Math.max(0,Number(O.minutesBudget)):void 0,F=l(O.strategy)?O.strategy:"overdue",W=u(O.hierarchyRule)?O.hierarchyRule:"allow_all",Z=(O.include??[]).map(X0).filter(z=>Object.keys(z).length>0),M=(O.exclude??[]).map(X0).filter(z=>Object.keys(z).length>0);return{id:B,name:$,enabled:X,order:L,type:re,daysOfWeek:c(O.daysOfWeek),limitMode:Q,maxItems:Y,minutesBudget:q,strategy:F,hierarchyRule:W,include:Z,exclude:M}},p=((e.groups??[]).length>0?e.groups??[]:[{id:"formas",name:"Formas",enabled:!0,order:1,type:"work",limitMode:"minutes",minutesBudget:18,strategy:"overdue",hierarchyRule:"prefer_leaves",include:[{byNodeTypes:["segment","form"]}],exclude:[]},{id:"tecnicas",name:"Tcnicas",enabled:!0,order:2,type:"work",limitMode:"minutes",minutesBudget:10,strategy:"weighted",hierarchyRule:"allow_all",include:[{byNodeTypes:["technique"]},{byTags:["roulette"]}],exclude:[]},{id:"recap",name:"Recap",enabled:!0,order:99,type:"note",limitMode:"minutes",minutesBudget:2}]).map((O,A)=>f(O,A+1)).sort((O,A)=>O.order-A.order).map((O,A)=>({...O,order:A+1})),v=p.filter(O=>(O.type??"work")!=="note"),y=p.filter(O=>O.type==="note"),S=Math.max(0,Number((N=v[0])==null?void 0:N.minutesBudget)||0),w=Math.max(0,Number((C=v[1])==null?void 0:C.minutesBudget)||0),_=Math.max(0,Number((P=y[0])==null?void 0:P.minutesBudget)||0),E=Math.max(0,S+w+_);return{limitMode:e.limitMode,maxItems:t,minutesBudget:n,template:{totalMinutes:E,focusMinutes:S,rouletteMinutes:w,recapMinutes:_},defaultMinutesByNodeType:r,focusSelectors:[],rouletteSelectors:[],groups:p}}const Q3={},X3=[{label:"L",value:1},{label:"M",value:2},{label:"X",value:3},{label:"J",value:4},{label:"V",value:5},{label:"S",value:6},{label:"D",value:0}];function Z3(){const e=Ee(C=>C.kungfuCadence),t=Ee(C=>C.kungfuTodayPlan),n=Ee(C=>C.workTaxonomy),r=Ee(C=>C.upsertNodeType),i=Ee(C=>C.upsertTag),o=Ee(C=>C.setKungfuCadence),l=Ee(C=>C.setKungfuTodayPlan),[u,c]=k.useState(e),[f,h]=k.useState(t),[p,v]=k.useState(null);k.useEffect(()=>{c(e)},[e]),k.useEffect(()=>{h(t)},[t]);const y=k.useMemo(()=>JSON.stringify(e)!==JSON.stringify(u)||JSON.stringify(t)!==JSON.stringify(f),[e,t,u,f]),S=C=>{v(C),C&&window.setTimeout(()=>v(null),C.type==="success"?1800:2600)},w=()=>{try{const C=G3(u),P=J3(f);o(C),l(P),S({type:"success",text:"Guardado."})}catch(C){const P=C instanceof Error?C.message:"No se pudo guardar.";S({type:"error",text:P})}},_=()=>{c(e),h(t),S({type:"success",text:"Cambios descartados."})},E=k.useMemo(()=>(n.nodeTypes??[]).slice().sort((C,P)=>C.label.localeCompare(P.label,"en",{sensitivity:"base"})).map(C=>({value:C.key,label:C.label})),[n.nodeTypes]),N=k.useMemo(()=>(n.tags??[]).slice().sort((C,P)=>C.name.localeCompare(P.name,"en",{sensitivity:"base"})).map(C=>({value:C.name,label:C.name})),[n.tags]);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"glass-panel p-6 sm:p-10",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Kung Fu  Ajustes"}),g.jsx("p",{className:"text-white/60",children:"Grupos, cadencias y plantilla de sesin para el modo Personal."})]}),g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[g.jsx(wr,{to:"/personal",className:"btn-secondary",children:"Volver a hoy"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:_,disabled:!y,children:"Descartar"}),g.jsx("button",{type:"button",className:"btn-primary",onClick:w,disabled:!y,children:"Guardar"})]})]})]}),p?g.jsx("div",{className:Re("mt-4 rounded-2xl border px-4 py-3 text-sm",p.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-rose-500/40 bg-rose-500/10 text-rose-200"),children:p.text}):null]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Plan de hoy"}),g.jsx("p",{className:"text-sm text-white/60",children:"Controla cuntos tems se sugieren y el presupuesto de minutos."})]}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Modo de lmite"}),g.jsxs("select",{className:"input-field",value:f.limitMode,onChange:C=>h(P=>({...P,limitMode:C.target.value})),children:[g.jsx("option",{value:"count",children:"Por cantidad"}),g.jsx("option",{value:"minutes",children:"Por minutos"}),g.jsx("option",{value:"both",children:"Cantidad y minutos"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx. tems"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:f.maxItems,onChange:C=>h(P=>({...P,maxItems:Number(C.target.value)}))})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-xs uppercase tracking-wide text-white/40",children:"Presupuesto (min)"}),g.jsx("input",{type:"number",min:1,className:"input-field",value:f.minutesBudget,onChange:C=>h(P=>({...P,minutesBudget:Number(C.target.value)}))})]})]}),g.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Grupos"}),g.jsx("p",{className:"text-sm text-white/60",children:"Define bloques con reglas, das de la semana y lmites."})]}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>h(C=>{const P=[...C.groups??[]].sort((B,re)=>(B.order??0)-(re.order??0)),O={id:en(),name:"Nuevo grupo",enabled:!0,order:P.length+1,type:"work",daysOfWeek:[],limitMode:"minutes",maxItems:12,minutesBudget:5,strategy:"overdue",hierarchyRule:"allow_all",include:[],exclude:[]},A=[...P,O].map((B,re)=>({...B,order:re+1}));return{...C,groups:A}}),children:"+ Grupo"})]}),g.jsx("div",{className:"space-y-4",children:[...f.groups??[]].sort((C,P)=>(C.order??0)-(P.order??0)).map((C,P,O)=>{const A=C.type??"work",B=C.daysOfWeek??[],re=B.length===0,X=C.limitMode??"minutes",L=C.strategy??"overdue",$=C.hierarchyRule??"allow_all",Q=W=>{h(Z=>{const z=[...Z.groups??[]].sort((j,R)=>(j.order??0)-(R.order??0)).map(j=>j.id===C.id?{...j,...W}:j).map((j,R)=>({...j,order:R+1}));return{...Z,groups:z}})},Y=W=>{h(Z=>{const M=[...Z.groups??[]].sort((I,ce)=>(I.order??0)-(ce.order??0)),z=M.findIndex(I=>I.id===C.id),j=z+W;if(z<0||j<0||j>=M.length)return Z;const R=M.slice(),H=R[z];return R[z]=R[j],R[j]=H,{...Z,groups:R.map((I,ce)=>({...I,order:ce+1}))}})},q=()=>{h(W=>{const M=[...W.groups??[]].sort((z,j)=>(z.order??0)-(j.order??0)).filter(z=>z.id!==C.id).map((z,j)=>({...z,order:j+1}));return{...W,groups:M.length>0?M:W.groups}})},F=(W,Z)=>{const M=C[W]??[];Q({[W]:Z(M)})};return g.jsx("div",{className:"rounded-3xl border border-white/10 bg-slate-950/40 p-5",children:g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[g.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:C.enabled,onChange:W=>Q({enabled:W.target.checked})}),"Enabled"]}),g.jsx("input",{type:"text",className:"input-field flex-1",value:C.name,onChange:W=>Q({name:W.target.value}),placeholder:"Nombre del grupo"}),g.jsxs("select",{className:"input-field w-36",value:A,onChange:W=>Q({type:W.target.value}),children:[g.jsx("option",{value:"work",children:"Trabajos"}),g.jsx("option",{value:"note",children:"Nota"})]})]}),g.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:"Das"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("button",{type:"button",className:Re("rounded-full border px-3 py-1 text-xs font-semibold transition",re?"border-sky-500/40 bg-sky-500/10 text-sky-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>Q({daysOfWeek:[]}),title:"Vaco = todos los das",children:"Todos"}),X3.map(W=>{const Z=re?!0:B.includes(W.value);return g.jsx("button",{type:"button",className:Re("h-8 w-8 rounded-full border text-xs font-semibold transition",Z?"border-emerald-500/40 bg-emerald-500/10 text-emerald-100":"border-white/15 bg-white/5 text-white/70 hover:border-white/30 hover:text-white"),onClick:()=>{const M=re?[W.value]:B.includes(W.value)?B.filter(z=>z!==W.value):[...B,W.value];Q({daysOfWeek:M.sort((z,j)=>z-j)})},title:Z?"Activo":"Inactivo",children:W.label},W.value)})]}),g.jsx("p",{className:"text-xs text-white/50",children:"Si eliges das especficos, solo aparecer esos das."})]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Lmite"}),g.jsxs("select",{className:"input-field",value:X,onChange:W=>Q({limitMode:W.target.value}),children:[g.jsx("option",{value:"count",children:"Cantidad"}),g.jsx("option",{value:"minutes",children:"Minutos"}),g.jsx("option",{value:"both",children:"Ambos"})]})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx tems"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:C.maxItems??0,onChange:W=>Q({maxItems:Number(W.target.value)})})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Mx min"}),g.jsx("input",{type:"number",min:0,className:"input-field",value:C.minutesBudget??0,onChange:W=>Q({minutesBudget:Number(W.target.value)})})]})]})]}),A==="work"?g.jsxs("div",{className:"mt-2 grid gap-4 lg:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Estrategia"}),g.jsxs("select",{className:"input-field",value:L,onChange:W=>Q({strategy:W.target.value}),children:[g.jsx("option",{value:"overdue",children:"Vencido (cadencia)"}),g.jsx("option",{value:"weighted",children:"Ponderado (ruleta)"})]})]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[g.jsx("input",{type:"checkbox",className:"accent-sky-400",checked:$==="prefer_leaves",onChange:W=>Q({hierarchyRule:W.target.checked?"prefer_leaves":"allow_all"})}),"Preferir hijos (evita padres cuando existan)"]})]}):null,A==="work"?g.jsx("div",{className:"mt-4 grid gap-5 lg:grid-cols-2",children:["include","exclude"].map(W=>g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-sm font-semibold text-white/80",children:W==="include"?"Include (OR)":"Exclude (OR)"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>F(W,Z=>[...Z,{...Q3}]),children:"+ Regla"})]}),(C[W]??[]).length===0?g.jsx("p",{className:"text-xs text-white/50",children:W==="include"?"Vaco = incluye todo (se aplican excludes).":"Vaco = no excluye nada."}):null,(C[W]??[]).map((Z,M)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Regla ",M+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>F(W,z=>z.filter((j,R)=>R!==M)),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (AND)"}),g.jsx(Ba,{options:N,value:Z.byTags??[],onChange:z=>F(W,j=>{const R=[...j];return R[M]={...R[M],byTags:z},R}),placeholder:"Search tags",allowCreate:!0,onCreate:z=>{const j=i(z);return j?{createdValue:j,createdLabel:j}:null}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Node types"}),g.jsx(Ba,{options:E,value:Z.byNodeTypes??[],onChange:z=>F(W,j=>{const R=[...j];return R[M]={...R[M],byNodeTypes:z},R}),placeholder:"Search node types",allowCreate:!0,onCreate:z=>{const j=r(z);return j?{createdValue:j,createdLabel:z.trim()}:null}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Work IDs"}),g.jsx("input",{type:"text",className:"input-field",value:W1(Z.byWorkIds),placeholder:"id1, id2",onChange:z=>{const j=U1(z.target.value);F(W,R=>{const H=[...R];return H[M]={...H[M],byWorkIds:j},H})}})]})]})]},`${W}-${C.id}-${M}`))]},`${C.id}-${W}`))}):null]}),g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Y(-1),disabled:P===0,title:"Subir",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Y(1),disabled:P===O.length-1,title:"Bajar",children:""}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:q,disabled:O.length<=1,children:"Eliminar"})]})]})},C.id)})})]}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Estimacin de minutos por tipo"}),g.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:Object.entries(f.defaultMinutesByNodeType).sort(([C],[P])=>C.localeCompare(P,"es",{sensitivity:"base"})).map(([C,P])=>g.jsxs("label",{className:"grid gap-2",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-white/40",children:C}),g.jsx("input",{type:"number",min:.25,step:.25,className:"input-field",value:P,onChange:O=>h(A=>({...A,defaultMinutesByNodeType:{...A.defaultMinutesByNodeType,[C]:Number(O.target.value)}}))})]},C))})]})]}),g.jsxs("section",{className:"glass-panel space-y-5 p-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Cadencias"}),g.jsx("p",{className:"text-sm text-white/60",children:"Objetivo de das por tipo, con overrides por tags."})]}),g.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Array.from(new Set([...Object.keys(u.targetsDays??{}),...(n.nodeTypes??[]).map(C=>C.key)])).map(C=>C.trim().toLowerCase()).filter(Boolean).sort((C,P)=>C.localeCompare(P,"en",{sensitivity:"base"})).map(C=>{var A;const P=((A=(n.nodeTypes??[]).find(B=>B.key===C))==null?void 0:A.label)??C,O=(u.targetsDays??{})[C]??(u.targetsDays??{}).work??7;return g.jsxs("label",{className:"grid gap-2",children:[g.jsxs("span",{className:"text-xs uppercase tracking-wide text-white/40",children:[P," ",g.jsxs("span",{className:"text-white/30",children:["(",C,")"]})]}),g.jsx("input",{type:"number",min:1,className:"input-field",value:O,onChange:B=>c(re=>({...re,targetsDays:{...re.targetsDays,[C]:Number(B.target.value)}}))})]},C)})}),g.jsxs("details",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-white/80",children:"Overrides"}),g.jsxs("div",{className:"mt-3 space-y-3",children:[(u.overrides??[]).map((C,P)=>g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:["Override ",P+1]}),g.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-200 hover:text-rose-100",onClick:()=>c(O=>({...O,overrides:(O.overrides??[]).filter((A,B)=>B!==P)})),children:"Quitar"})]}),g.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Tags (ANY)"}),g.jsx(Ba,{options:N,value:C.match.tagsAny??[],onChange:O=>c(A=>{const B=[...A.overrides??[]];return B[P]={...C,match:{tagsAny:O}},{...A,overrides:B}}),placeholder:"Search tags",allowCreate:!0,onCreate:O=>{const A=i(O);return A?{createdValue:A,createdLabel:A}:null}})]}),g.jsxs("label",{className:"grid gap-1",children:[g.jsx("span",{className:"text-xs text-white/50",children:"Multiplier"}),g.jsx("input",{type:"number",min:.1,step:.1,className:"input-field",value:C.multiplier,onChange:O=>{const A=Number(O.target.value);c(B=>{const re=[...B.overrides??[]];return re[P]={...C,multiplier:A},{...B,overrides:re}})}})]})]})]},`override-${P}`)),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>c(C=>({...C,overrides:[...C.overrides??[],{match:{tagsAny:[]},multiplier:1}]})),children:"+ Aadir override"})]})]})]})]})}const Z0=[{to:"/",label:"Sesiones"},{to:"/personal",label:"Personal"},{to:"/catalog",label:"Trabajos"},{to:"/objectives",label:"Objetivos"},{to:"/assistants",label:"Asistentes"},{to:"/backups",label:"Backups"}];function e5(){const[e,t]=k.useState(!1),[n,r]=k.useState(!1),{user:i,signOut:o}=_s(),l=async()=>{try{r(!0),await o()}catch(u){console.error("No se pudo cerrar sesin",u)}finally{r(!1),t(!1)}};return g.jsxs("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl",children:[g.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-3 sm:px-4 sm:py-4",children:[g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[g.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-sky-500 to-indigo-500 text-base font-bold sm:h-10 sm:w-10 sm:text-lg",children:"SP"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-display text-lg font-semibold sm:text-xl",children:"Sport Planner"}),g.jsx("p",{className:"text-[11px] text-white/50 sm:text-xs",children:"Planifica sesiones increbles"})]})]}),g.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[g.jsx("nav",{className:"flex items-center gap-2",children:Z0.map(u=>g.jsx(yv,{to:u.to,className:({isActive:c})=>`rounded-full px-4 py-2 text-sm font-medium transition ${c?"bg-white text-slate-900 shadow-lg shadow-sky-400/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:u.label},u.to))}),g.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-white/50",children:"Sesin iniciada"}),g.jsx("p",{className:"text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"})]}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"inline-flex items-center rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]}),g.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 text-white/80 md:hidden",onClick:()=>t(!0),"aria-label":"Abrir navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-6 w-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]}),g.jsxs(rx,{open:e,onClose:t,className:"md:hidden",children:[g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),g.jsxs(rx.Panel,{className:"fixed inset-y-4 right-3 flex w-[17rem] flex-col rounded-3xl border border-white/10 bg-slate-900/95 p-6 shadow-2xl",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:"Navegacin"}),g.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-white/80",onClick:()=>t(!1),"aria-label":"Cerrar navegacin",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsx("div",{className:"mt-6 flex flex-col gap-2",children:Z0.map(u=>g.jsx(yv,{to:u.to,className:({isActive:c})=>`rounded-2xl px-4 py-3 text-sm font-semibold transition ${c?"bg-white text-slate-900 shadow shadow-sky-400/40":"text-white/80 hover:bg-white/10"}`,onClick:()=>t(!1),children:u.label},u.to))}),g.jsxs("div",{className:"mt-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Sesin iniciada"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:(i==null?void 0:i.email)??"Cuenta"}),g.jsx("button",{type:"button",onClick:()=>{l()},disabled:n,className:"mt-3 w-full rounded-full border border-white/20 px-3 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10 disabled:opacity-60",children:n?"Saliendo":"Cerrar sesin"})]})]})]})]})}function t5(){return AR(),RR(),g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(e5,{}),g.jsx("main",{className:"mx-auto w-full max-w-6xl px-3 py-5 sm:px-6 sm:py-10",children:g.jsx(cw,{})})]})}function n5(){return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-2 border-white/20 border-t-sky-400"}),g.jsx("p",{className:"text-sm font-medium text-white/60",children:"Cargando Sport Planner"})]})})}function r5(){const{session:e,loading:t}=_s(),n=ii();return t?g.jsx(n5,{}):e?g.jsx(cw,{}):g.jsx(wc,{to:"/login",replace:!0,state:{from:n}})}function i5(){return g.jsx(q_,{children:g.jsxs(D_,{children:[g.jsx(xn,{path:"/login",element:g.jsx(D3,{})}),g.jsx(xn,{element:g.jsx(r5,{}),children:g.jsxs(xn,{element:g.jsx(t5,{}),children:[g.jsx(xn,{index:!0,element:g.jsx(C3,{})}),g.jsx(xn,{path:"personal",element:g.jsx(Y3,{})}),g.jsx(xn,{path:"personal/sessions",element:g.jsx(K3,{})}),g.jsx(xn,{path:"personal/settings",element:g.jsx(Z3,{})}),g.jsx(xn,{path:"plan",element:g.jsx(j3,{})}),g.jsx(xn,{path:"catalog",element:g.jsx(A3,{})}),g.jsx(xn,{path:"catalog/taxonomy",element:g.jsx(R3,{})}),g.jsx(xn,{path:"objectives",element:g.jsx(O3,{})}),g.jsx(xn,{path:"assistants",element:g.jsx(M3,{})}),g.jsx(xn,{path:"backups",element:g.jsx(L3,{})})]})}),g.jsx(xn,{path:"*",element:g.jsx(wc,{to:"/",replace:!0})})]})})}function s5({children:e}){const[t,n]=k.useState(null),[r,i]=k.useState(null),[o,l]=k.useState(!0);k.useEffect(()=>{let c=!0;(async()=>{l(!0);const{data:{session:p}}=await Ft.auth.getSession();c&&(n(p),i((p==null?void 0:p.user)??null),l(!1))})();const{data:{subscription:h}}=Ft.auth.onAuthStateChange((p,v)=>{c&&(n(v),i((v==null?void 0:v.user)??null),l(!1))});return()=>{c=!1,h.unsubscribe()}},[]);const u=k.useMemo(()=>({session:t,user:r,loading:o,signInWithPassword:async(c,f)=>{const{error:h}=await Ft.auth.signInWithPassword({email:c,password:f});if(h)throw h},signUpWithPassword:async(c,f)=>{const p=typeof window<"u"?`${window.location.origin}/sport-planner/`:void 0,{error:v}=await Ft.auth.signUp({email:c,password:f,options:{emailRedirectTo:p}});if(v)throw v},signOut:async()=>{const{error:c}=await Ft.auth.signOut();if(c)throw c}}),[o,t,r]);return g.jsx(Mb.Provider,{value:u,children:e})}Ee.getState().hydrate();qE.createRoot(document.getElementById("root")).render(g.jsx(Se.StrictMode,{children:g.jsx(s5,{children:g.jsx(i5,{})})}));
